!(function(){var mu=Object.defineProperty,pu=Object.defineProperties;var vu=Object.getOwnPropertyDescriptors;var Vl=Object.getOwnPropertySymbols,_u=Object.getPrototypeOf,Wc=Object.prototype.hasOwnProperty,Hc=Object.prototype.propertyIsEnumerable,Cu=Reflect.get;var aa=Math.pow,uc=(Ot,Ke,e)=>Ke in Ot?mu(Ot,Ke,{enumerable:!0,configurable:!0,writable:!0,value:e}):Ot[Ke]=e,Xn=(Ot,Ke)=>{for(var e in Ke||(Ke={}))Wc.call(Ke,e)&&uc(Ot,e,Ke[e]);if(Vl)for(var e of Vl(Ke))Hc.call(Ke,e)&&uc(Ot,e,Ke[e]);return Ot},Ni=(Ot,Ke)=>pu(Ot,vu(Ke));var Vc=(Ot,Ke)=>{var e={};for(var b in Ot)Wc.call(Ot,b)&&Ke.indexOf(b)<0&&(e[b]=Ot[b]);if(Ot!=null&&Vl)for(var b of Vl(Ot))Ke.indexOf(b)<0&&Hc.call(Ot,b)&&(e[b]=Ot[b]);return e};var As=(Ot,Ke,e)=>(uc(Ot,typeof Ke!="symbol"?Ke+"":Ke,e),e);var hc=(Ot,Ke,e)=>Cu(_u(Ot),e,Ke);var tn=(Ot,Ke,e)=>new Promise((b,U)=>{var r=_=>{try{c(e.next(_))}catch(I){U(I)}},w=_=>{try{c(e.throw(_))}catch(I){U(I)}},c=_=>_.done?b(_.value):Promise.resolve(_.value).then(r,w);c((e=e.apply(Ot,Ke)).next())}),la=(Ot,Ke,e)=>(Ke=Ot[Symbol.asyncIterator],e=(b,U)=>(U=Ot[b])&&(Ke[b]=r=>new Promise((w,c,_)=>(r=U.call(Ot,r),_=r.done,Promise.resolve(r.value).then(I=>w({value:I,done:_}),c)))),Ke?Ke.call(Ot):(Ot=Ot[Symbol.iterator](),Ke={},e("next"),e("return"),Ke));(self.webpackChunknote=self.webpackChunknote||[]).push([[1203],{89739:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),U=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},w=r,c=e(84089),_=function(D,p){return U.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:w}))},I=U.forwardRef(_)},21640:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),U=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},w=r,c=e(84089),_=function(D,p){return U.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:w}))},I=U.forwardRef(_)},78860:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),U=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},w=r,c=e(84089),_=function(D,p){return U.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:w}))},I=U.forwardRef(_)},3089:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),U=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},w=r,c=e(84089),_=function(D,p){return U.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:w}))},I=U.forwardRef(_)},24969:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),U=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},w=r,c=e(84089),_=function(D,p){return U.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:w}))},I=U.forwardRef(_)},31285:function(){"use strict"},60812:function(){"use strict"},5520:function(){"use strict"},27761:function(){"use strict"},80753:function(Ot,Ke,e){"use strict";e.d(Ke,{kc:function(){return Ys}});var b="acss",U=e(4942),r=e(67294),w=e.t(r,2),c=e(15671),_=e(43144);function I(Ie){if(Ie.sheet)return Ie.sheet;for(var Ge=0;Ge<document.styleSheets.length;Ge++)if(document.styleSheets[Ge].ownerNode===Ie)return document.styleSheets[Ge]}function M(Ie){var Ge=document.createElement("style");return Ge.setAttribute("data-emotion",Ie.key),Ie.nonce!==void 0&&Ge.setAttribute("nonce",Ie.nonce),Ge.appendChild(document.createTextNode("")),Ge.setAttribute("data-s",""),Ge}var D=function(){function Ie(ut){var mt=this;this._insertTag=function(jt){var pn;mt.tags.length===0?mt.insertionPoint?pn=mt.insertionPoint.nextSibling:mt.prepend?pn=mt.container.firstChild:pn=mt.before:pn=mt.tags[mt.tags.length-1].nextSibling,mt.container.insertBefore(jt,pn),mt.tags.push(jt)},this.isSpeedy=ut.speedy===void 0?!0:ut.speedy,this.tags=[],this.ctr=0,this.nonce=ut.nonce,this.key=ut.key,this.container=ut.container,this.prepend=ut.prepend,this.insertionPoint=ut.insertionPoint,this.before=null}var Ge=Ie.prototype;return Ge.hydrate=function(mt){mt.forEach(this._insertTag)},Ge.insert=function(mt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M(this));var jt=this.tags[this.tags.length-1];if(!1)var pn;if(this.isSpeedy){var Fn=I(jt);try{Fn.insertRule(mt,Fn.cssRules.length)}catch(qn){}}else jt.appendChild(document.createTextNode(mt));this.ctr++},Ge.flush=function(){this.tags.forEach(function(mt){return mt.parentNode&&mt.parentNode.removeChild(mt)}),this.tags=[],this.ctr=0},Ie}(),p=Math.abs,o=String.fromCharCode,u=Object.assign;function d(Ie,Ge){return a(Ie,0)^45?(((Ge<<2^a(Ie,0))<<2^a(Ie,1))<<2^a(Ie,2))<<2^a(Ie,3):0}function n(Ie){return Ie.trim()}function i(Ie,Ge){return(Ie=Ge.exec(Ie))?Ie[0]:Ie}function f(Ie,Ge,ut){return Ie.replace(Ge,ut)}function v(Ie,Ge){return Ie.indexOf(Ge)}function a(Ie,Ge){return Ie.charCodeAt(Ge)|0}function S(Ie,Ge,ut){return Ie.slice(Ge,ut)}function g(Ie){return Ie.length}function y(Ie){return Ie.length}function C(Ie,Ge){return Ge.push(Ie),Ie}function E(Ie,Ge){return Ie.map(Ge).join("")}var A=1,N=1,B=0,W=0,$=0,Y="";function R(Ie,Ge,ut,mt,jt,pn,Fn){return{value:Ie,root:Ge,parent:ut,type:mt,props:jt,children:pn,line:A,column:N,length:Fn,return:""}}function L(Ie,Ge){return u(R("",null,null,"",null,null,0),Ie,{length:-Ie.length},Ge)}function z(){return $}function O(){return $=W>0?a(Y,--W):0,N--,$===10&&(N=1,A--),$}function P(){return $=W<B?a(Y,W++):0,N++,$===10&&(N=1,A++),$}function H(){return a(Y,W)}function V(){return W}function G(Ie,Ge){return S(Y,Ie,Ge)}function j(Ie){switch(Ie){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(Ie){return A=N=1,B=g(Y=Ie),W=0,[]}function K(Ie){return Y="",Ie}function m(Ie){return n(G(W-1,ge(Ie===91?Ie+2:Ie===40?Ie+1:Ie)))}function J(Ie){return K(te(F(Ie)))}function X(Ie){for(;($=H())&&$<33;)P();return j(Ie)>2||j($)>3?"":" "}function te(Ie){for(;P();)switch(j($)){case 0:append(pe(W-1),Ie);break;case 2:append(m($),Ie);break;default:append(from($),Ie)}return Ie}function le(Ie,Ge){for(;--Ge&&P()&&!($<48||$>102||$>57&&$<65||$>70&&$<97););return G(Ie,V()+(Ge<6&&H()==32&&P()==32))}function ge(Ie){for(;P();)switch($){case Ie:return W;case 34:case 39:Ie!==34&&Ie!==39&&ge($);break;case 40:Ie===41&&ge(Ie);break;case 92:P();break}return W}function we(Ie,Ge){for(;P()&&Ie+$!==47+10;)if(Ie+$===42+42&&H()===47)break;return"/*"+G(Ge,W-1)+"*"+o(Ie===47?Ie:P())}function pe(Ie){for(;!j(H());)P();return G(Ie,W)}var Pe="-ms-",Ne="-moz-",ae="-webkit-",Me="comm",ke="rule",Ue="decl",Le="@page",ie="@media",ce="@import",Re="@charset",ye="@viewport",Se="@supports",me="@document",he="@namespace",se="@keyframes",ve="@font-face",xe="@counter-style",je="@font-feature-values",Oe="@layer";function Ze(Ie,Ge){for(var ut="",mt=y(Ie),jt=0;jt<mt;jt++)ut+=Ge(Ie[jt],jt,Ie,Ge)||"";return ut}function it(Ie,Ge,ut,mt){switch(Ie.type){case Oe:if(Ie.children.length)break;case ce:case Ue:return Ie.return=Ie.return||Ie.value;case Me:return"";case se:return Ie.return=Ie.value+"{"+Ze(Ie.children,mt)+"}";case ke:Ie.value=Ie.props.join(",")}return g(ut=Ze(Ie.children,mt))?Ie.return=Ie.value+"{"+ut+"}":""}function Et(Ie){var Ge=y(Ie);return function(ut,mt,jt,pn){for(var Fn="",qn=0;qn<Ge;qn++)Fn+=Ie[qn](ut,mt,jt,pn)||"";return Fn}}function st(Ie){return function(Ge){Ge.root||(Ge=Ge.return)&&Ie(Ge)}}function pt(Ie,Ge,ut,mt){if(Ie.length>-1&&!Ie.return)switch(Ie.type){case DECLARATION:Ie.return=prefix(Ie.value,Ie.length,ut);return;case KEYFRAMES:return serialize([copy(Ie,{value:replace(Ie.value,"@","@"+WEBKIT)})],mt);case RULESET:if(Ie.length)return combine(Ie.props,function(jt){switch(match(jt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(Ie,{props:[replace(jt,/:(read-\w+)/,":"+MOZ+"$1")]})],mt);case"::placeholder":return serialize([copy(Ie,{props:[replace(jt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(Ie,{props:[replace(jt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(Ie,{props:[replace(jt,/:(plac\w+)/,MS+"input-$1")]})],mt)}return""})}}function Mt(Ie){switch(Ie.type){case RULESET:Ie.props=Ie.props.map(function(Ge){return combine(tokenize(Ge),function(ut,mt,jt){switch(charat(ut,0)){case 12:return substr(ut,1,strlen(ut));case 0:case 40:case 43:case 62:case 126:return ut;case 58:jt[++mt]==="global"&&(jt[mt]="",jt[++mt]="\f"+substr(jt[mt],mt=1,-1));case 32:return mt===1?"":ut;default:switch(mt){case 0:return Ie=ut,sizeof(jt)>1?"":ut;case(mt=sizeof(jt)-1):case 2:return mt===2?ut+Ie+Ie:ut+Ie;default:return ut}}})})}}function qt(Ie){return K(Ft("",null,null,null,[""],Ie=F(Ie),0,[0],Ie))}function Ft(Ie,Ge,ut,mt,jt,pn,Fn,qn,Zn){for(var li=0,$n=0,vi=Fn,yi=0,ki=0,zi=0,Ti=1,ii=1,Ui=1,Pi=0,Oi="",ss=jt,ps=pn,ds=mt,os=Oi;ii;)switch(zi=Pi,Pi=P()){case 40:if(zi!=108&&a(os,vi-1)==58){v(os+=f(m(Pi),"&","&\f"),"&\f")!=-1&&(Ui=-1);break}case 34:case 39:case 91:os+=m(Pi);break;case 9:case 10:case 13:case 32:os+=X(zi);break;case 92:os+=le(V()-1,7);continue;case 47:switch(H()){case 42:case 47:C(_t(we(P(),V()),Ge,ut),Zn);break;default:os+="/"}break;case 123*Ti:qn[li++]=g(os)*Ui;case 125*Ti:case 59:case 0:switch(Pi){case 0:case 125:ii=0;case 59+$n:Ui==-1&&(os=f(os,/\f/g,"")),ki>0&&g(os)-vi&&C(ki>32?nt(os+";",mt,ut,vi-1):nt(f(os," ","")+";",mt,ut,vi-2),Zn);break;case 59:os+=";";default:if(C(ds=Xt(os,Ge,ut,li,$n,jt,qn,Oi,ss=[],ps=[],vi),pn),Pi===123)if($n===0)Ft(os,Ge,ds,ds,ss,pn,vi,qn,ps);else switch(yi===99&&a(os,3)===110?100:yi){case 100:case 108:case 109:case 115:Ft(Ie,ds,ds,mt&&C(Xt(Ie,ds,ds,0,0,jt,qn,Oi,jt,ss=[],vi),ps),jt,ps,vi,qn,mt?ss:ps);break;default:Ft(os,ds,ds,ds,[""],ps,0,qn,ps)}}li=$n=ki=0,Ti=Ui=1,Oi=os="",vi=Fn;break;case 58:vi=1+g(os),ki=zi;default:if(Ti<1){if(Pi==123)--Ti;else if(Pi==125&&Ti++==0&&O()==125)continue}switch(os+=o(Pi),Pi*Ti){case 38:Ui=$n>0?1:(os+="\f",-1);break;case 44:qn[li++]=(g(os)-1)*Ui,Ui=1;break;case 64:H()===45&&(os+=m(P())),yi=H(),$n=vi=g(Oi=os+=pe(V())),Pi++;break;case 45:zi===45&&g(os)==2&&(Ti=0)}}return pn}function Xt(Ie,Ge,ut,mt,jt,pn,Fn,qn,Zn,li,$n){for(var vi=jt-1,yi=jt===0?pn:[""],ki=y(yi),zi=0,Ti=0,ii=0;zi<mt;++zi)for(var Ui=0,Pi=S(Ie,vi+1,vi=p(Ti=Fn[zi])),Oi=Ie;Ui<ki;++Ui)(Oi=n(Ti>0?yi[Ui]+" "+Pi:f(Pi,/&\f/g,yi[Ui])))&&(Zn[ii++]=Oi);return R(Ie,Ge,ut,jt===0?ke:qn,Zn,li,$n)}function _t(Ie,Ge,ut){return R(Ie,Ge,ut,Me,o(z()),S(Ie,2,-2),0)}function nt(Ie,Ge,ut,mt){return R(Ie,Ge,ut,Ue,S(Ie,0,mt),S(Ie,mt+1,-1),mt)}var tt=function(Ge,ut,mt){for(var jt=0,pn=0;jt=pn,pn=H(),jt===38&&pn===12&&(ut[mt]=1),!j(pn);)P();return G(Ge,W)},xt=function(Ge,ut){var mt=-1,jt=44;do switch(j(jt)){case 0:jt===38&&H()===12&&(ut[mt]=1),Ge[mt]+=tt(W-1,ut,mt);break;case 2:Ge[mt]+=m(jt);break;case 4:if(jt===44){Ge[++mt]=H()===58?"&\f":"",ut[mt]=Ge[mt].length;break}default:Ge[mt]+=o(jt)}while(jt=P());return Ge},Lt=function(Ge,ut){return K(xt(F(Ge),ut))},Be=new WeakMap,yt=function(Ge){if(!(Ge.type!=="rule"||!Ge.parent||Ge.length<1)){for(var ut=Ge.value,mt=Ge.parent,jt=Ge.column===mt.column&&Ge.line===mt.line;mt.type!=="rule";)if(mt=mt.parent,!mt)return;if(!(Ge.props.length===1&&ut.charCodeAt(0)!==58&&!Be.get(mt))&&!jt){Be.set(Ge,!0);for(var pn=[],Fn=Lt(ut,pn),qn=mt.props,Zn=0,li=0;Zn<Fn.length;Zn++)for(var $n=0;$n<qn.length;$n++,li++)Ge.props[li]=pn[Zn]?Fn[Zn].replace(/&\f/g,qn[$n]):qn[$n]+" "+Fn[Zn]}}},un=function(Ge){if(Ge.type==="decl"){var ut=Ge.value;ut.charCodeAt(0)===108&&ut.charCodeAt(2)===98&&(Ge.return="",Ge.value="")}},In="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",bn=function(Ge){return Ge.type==="comm"&&Ge.children.indexOf(In)>-1},Hn=function(Ge){return function(ut,mt,jt){if(!(ut.type!=="rule"||Ge.compat)){var pn=ut.value.match(/(:first|:nth|:nth-last)-child/g);if(pn){for(var Fn=!!ut.parent,qn=Fn?ut.parent.children:jt,Zn=qn.length-1;Zn>=0;Zn--){var li=qn[Zn];if(li.line<ut.line)break;if(li.column<ut.column){if(bn(li))return;break}}pn.forEach(function($n){console.error('The pseudo class "'+$n+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+$n.split("-child")[0]+'-of-type".')})}}}},si=function(Ge){return Ge.type.charCodeAt(1)===105&&Ge.type.charCodeAt(0)===64},Yn=function(Ge,ut){for(var mt=Ge-1;mt>=0;mt--)if(!si(ut[mt]))return!0;return!1},mi=function(Ge){Ge.type="",Ge.value="",Ge.return="",Ge.children="",Ge.props=""},_i=function(Ge,ut,mt){si(Ge)&&(Ge.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),mi(Ge)):Yn(ut,mt)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),mi(Ge)))};function Wi(Ie,Ge){switch(d(Ie,Ge)){case 5103:return ae+"print-"+Ie+Ie;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ae+Ie+Ie;case 5349:case 4246:case 4810:case 6968:case 2756:return ae+Ie+Ne+Ie+Pe+Ie+Ie;case 6828:case 4268:return ae+Ie+Pe+Ie+Ie;case 6165:return ae+Ie+Pe+"flex-"+Ie+Ie;case 5187:return ae+Ie+f(Ie,/(\w+).+(:[^]+)/,ae+"box-$1$2"+Pe+"flex-$1$2")+Ie;case 5443:return ae+Ie+Pe+"flex-item-"+f(Ie,/flex-|-self/,"")+Ie;case 4675:return ae+Ie+Pe+"flex-line-pack"+f(Ie,/align-content|flex-|-self/,"")+Ie;case 5548:return ae+Ie+Pe+f(Ie,"shrink","negative")+Ie;case 5292:return ae+Ie+Pe+f(Ie,"basis","preferred-size")+Ie;case 6060:return ae+"box-"+f(Ie,"-grow","")+ae+Ie+Pe+f(Ie,"grow","positive")+Ie;case 4554:return ae+f(Ie,/([^-])(transform)/g,"$1"+ae+"$2")+Ie;case 6187:return f(f(f(Ie,/(zoom-|grab)/,ae+"$1"),/(image-set)/,ae+"$1"),Ie,"")+Ie;case 5495:case 3959:return f(Ie,/(image-set\([^]*)/,ae+"$1$`$1");case 4968:return f(f(Ie,/(.+:)(flex-)?(.*)/,ae+"box-pack:$3"+Pe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ae+Ie+Ie;case 4095:case 3583:case 4068:case 2532:return f(Ie,/(.+)-inline(.+)/,ae+"$1$2")+Ie;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g(Ie)-1-Ge>6)switch(a(Ie,Ge+1)){case 109:if(a(Ie,Ge+4)!==45)break;case 102:return f(Ie,/(.+:)(.+)-([^]+)/,"$1"+ae+"$2-$3$1"+Ne+(a(Ie,Ge+3)==108?"$3":"$2-$3"))+Ie;case 115:return~v(Ie,"stretch")?Wi(f(Ie,"stretch","fill-available"),Ge)+Ie:Ie}break;case 4949:if(a(Ie,Ge+1)!==115)break;case 6444:switch(a(Ie,g(Ie)-3-(~v(Ie,"!important")&&10))){case 107:return f(Ie,":",":"+ae)+Ie;case 101:return f(Ie,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ae+(a(Ie,14)===45?"inline-":"")+"box$3$1"+ae+"$2$3$1"+Pe+"$2box$3")+Ie}break;case 5936:switch(a(Ie,Ge+11)){case 114:return ae+Ie+Pe+f(Ie,/[svh]\w+-[tblr]{2}/,"tb")+Ie;case 108:return ae+Ie+Pe+f(Ie,/[svh]\w+-[tblr]{2}/,"tb-rl")+Ie;case 45:return ae+Ie+Pe+f(Ie,/[svh]\w+-[tblr]{2}/,"lr")+Ie}return ae+Ie+Pe+Ie+Ie}return Ie}var Si=function(Ge,ut,mt,jt){if(Ge.length>-1&&!Ge.return)switch(Ge.type){case Ue:Ge.return=Wi(Ge.value,Ge.length);break;case se:return Ze([L(Ge,{value:f(Ge.value,"@","@"+ae)})],jt);case ke:if(Ge.length)return E(Ge.props,function(pn){switch(i(pn,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ze([L(Ge,{props:[f(pn,/:(read-\w+)/,":"+Ne+"$1")]})],jt);case"::placeholder":return Ze([L(Ge,{props:[f(pn,/:(plac\w+)/,":"+ae+"input-$1")]}),L(Ge,{props:[f(pn,/:(plac\w+)/,":"+Ne+"$1")]}),L(Ge,{props:[f(pn,/:(plac\w+)/,Pe+"input-$1")]})],jt)}return""})}},Ki=[Si],bi=function(Ge){var ut=Ge.key;if(ut==="css"){var mt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(mt,function(Ti){var ii=Ti.getAttribute("data-emotion");ii.indexOf(" ")!==-1&&(document.head.appendChild(Ti),Ti.setAttribute("data-s",""))})}var jt=Ge.stylisPlugins||Ki,pn={},Fn,qn=[];Fn=Ge.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+ut+' "]'),function(Ti){for(var ii=Ti.getAttribute("data-emotion").split(" "),Ui=1;Ui<ii.length;Ui++)pn[ii[Ui]]=!0;qn.push(Ti)});var Zn,li=[yt,un];{var $n,vi=[it,st(function(Ti){$n.insert(Ti)})],yi=Et(li.concat(jt,vi)),ki=function(ii){return Ze(qt(ii),yi)};Zn=function(ii,Ui,Pi,Oi){$n=Pi,ki(ii?ii+"{"+Ui.styles+"}":Ui.styles),Oi&&(zi.inserted[Ui.name]=!0)}}var zi={key:ut,sheet:new D({key:ut,container:Fn,nonce:Ge.nonce,speedy:Ge.speedy,prepend:Ge.prepend,insertionPoint:Ge.insertionPoint}),nonce:Ge.nonce,inserted:pn,registered:{},insert:Zn};return zi.sheet.hydrate(qn),zi};function Fi(Ie){for(var Ge=0,ut,mt=0,jt=Ie.length;jt>=4;++mt,jt-=4)ut=Ie.charCodeAt(mt)&255|(Ie.charCodeAt(++mt)&255)<<8|(Ie.charCodeAt(++mt)&255)<<16|(Ie.charCodeAt(++mt)&255)<<24,ut=(ut&65535)*1540483477+((ut>>>16)*59797<<16),ut^=ut>>>24,Ge=(ut&65535)*1540483477+((ut>>>16)*59797<<16)^(Ge&65535)*1540483477+((Ge>>>16)*59797<<16);switch(jt){case 3:Ge^=(Ie.charCodeAt(mt+2)&255)<<16;case 2:Ge^=(Ie.charCodeAt(mt+1)&255)<<8;case 1:Ge^=Ie.charCodeAt(mt)&255,Ge=(Ge&65535)*1540483477+((Ge>>>16)*59797<<16)}return Ge^=Ge>>>13,Ge=(Ge&65535)*1540483477+((Ge>>>16)*59797<<16),((Ge^Ge>>>15)>>>0).toString(36)}var ts={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function wi(Ie){var Ge=Object.create(null);return function(ut){return Ge[ut]===void 0&&(Ge[ut]=Ie(ut)),Ge[ut]}}var ns=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,wn="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",qe=/[A-Z]|^ms/g,Dt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qt=function(Ge){return Ge.charCodeAt(1)===45},on=function(Ge){return Ge!=null&&typeof Ge!="boolean"},Cn=wi(function(Ie){return Qt(Ie)?Ie:Ie.replace(qe,"-$&").toLowerCase()}),Bn=function(Ge,ut){switch(Ge){case"animation":case"animationName":if(typeof ut=="string")return ut.replace(Dt,function(mt,jt,pn){return Tn={name:jt,styles:pn,next:Tn},jt})}return ts[Ge]!==1&&!Qt(Ge)&&typeof ut=="number"&&ut!==0?ut+"px":ut};if(!1)var jn,kt,wt,sn,en,Un;var ri=null;function Jn(Ie,Ge,ut){if(ut==null)return"";if(ut.__emotion_styles!==void 0)return ut;switch(typeof ut){case"boolean":return"";case"object":{if(ut.anim===1)return Tn={name:ut.name,styles:ut.styles,next:Tn},ut.name;if(ut.styles!==void 0){var mt=ut.next;if(mt!==void 0)for(;mt!==void 0;)Tn={name:mt.name,styles:mt.styles,next:Tn},mt=mt.next;var jt=ut.styles+";";return jt}return Di(Ie,Ge,ut)}case"function":{if(Ie!==void 0){var pn=Tn,Fn=ut(Ie);return Tn=pn,Jn(Ie,Ge,Fn)}break}case"string":if(!1)var qn,Zn;break}if(Ge==null)return ut;var li=Ge[ut];return li!==void 0?li:ut}function Di(Ie,Ge,ut){var mt="";if(Array.isArray(ut))for(var jt=0;jt<ut.length;jt++)mt+=Jn(Ie,Ge,ut[jt])+";";else for(var pn in ut){var Fn=ut[pn];if(typeof Fn!="object")Ge!=null&&Ge[Fn]!==void 0?mt+=pn+"{"+Ge[Fn]+"}":on(Fn)&&(mt+=Cn(pn)+":"+Bn(pn,Fn)+";");else if(Array.isArray(Fn)&&typeof Fn[0]=="string"&&(Ge==null||Ge[Fn[0]]===void 0))for(var qn=0;qn<Fn.length;qn++)on(Fn[qn])&&(mt+=Cn(pn)+":"+Bn(pn,Fn[qn])+";");else{var Zn=Jn(Ie,Ge,Fn);switch(pn){case"animation":case"animationName":{mt+=Cn(pn)+":"+Zn+";";break}default:mt+=pn+"{"+Zn+"}"}}}return mt}var Ai=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ri,Tn,yn=function(Ge,ut,mt){if(Ge.length===1&&typeof Ge[0]=="object"&&Ge[0]!==null&&Ge[0].styles!==void 0)return Ge[0];var jt=!0,pn="";Tn=void 0;var Fn=Ge[0];Fn==null||Fn.raw===void 0?(jt=!1,pn+=Jn(mt,ut,Fn)):pn+=Fn[0];for(var qn=1;qn<Ge.length;qn++)pn+=Jn(mt,ut,Ge[qn]),jt&&(pn+=Fn[qn]);var Zn;Ai.lastIndex=0;for(var li="",$n;($n=Ai.exec(pn))!==null;)li+="-"+$n[1];var vi=Fi(pn)+li;return{name:vi,styles:pn,next:Tn}},Nn=!0;function Bt(Ie,Ge,ut){var mt="";return ut.split(" ").forEach(function(jt){Ie[jt]!==void 0?Ge.push(Ie[jt]+";"):mt+=jt+" "}),mt}var Yt=function(Ge,ut,mt){var jt=Ge.key+"-"+ut.name;(mt===!1||Nn===!1)&&Ge.registered[jt]===void 0&&(Ge.registered[jt]=ut.styles)},fn=function(Ge,ut,mt){Yt(Ge,ut,mt);var jt=Ge.key+"-"+ut.name;if(Ge.inserted[ut.name]===void 0){var pn=ut;do Ge.insert(ut===pn?"."+jt:"",pn,Ge.sheet,!0),pn=pn.next;while(pn!==void 0)}};function Ht(Ie,Ge){if(Ie.inserted[Ge.name]===void 0)return Ie.insert("",Ge,Ie.sheet,!0)}function et(Ie,Ge,ut){var mt=[],jt=Bt(Ie,mt,ut);return mt.length<2?ut:jt+Ge(mt)}var ee=function(Ge){var ut=bi(Ge);ut.sheet.speedy=function(qn){this.isSpeedy=qn},ut.compat=!0;var mt=function(){for(var Zn=arguments.length,li=new Array(Zn),$n=0;$n<Zn;$n++)li[$n]=arguments[$n];var vi=yn(li,ut.registered,void 0);return fn(ut,vi,!1),ut.key+"-"+vi.name},jt=function(){for(var Zn=arguments.length,li=new Array(Zn),$n=0;$n<Zn;$n++)li[$n]=arguments[$n];var vi=yn(li,ut.registered),yi="animation-"+vi.name;return Ht(ut,{name:vi.name,styles:"@keyframes "+yi+"{"+vi.styles+"}"}),yi},pn=function(){for(var Zn=arguments.length,li=new Array(Zn),$n=0;$n<Zn;$n++)li[$n]=arguments[$n];var vi=yn(li,ut.registered);Ht(ut,vi)},Fn=function(){for(var Zn=arguments.length,li=new Array(Zn),$n=0;$n<Zn;$n++)li[$n]=arguments[$n];return et(ut.registered,mt,de(li))};return{css:mt,cx:Fn,injectGlobal:pn,keyframes:jt,hydrate:function(Zn){Zn.forEach(function(li){ut.inserted[li]=!0})},flush:function(){ut.registered={},ut.inserted={},ut.sheet.flush()},sheet:ut.sheet,cache:ut,getRegisteredStyles:Bt.bind(null,ut.registered),merge:et.bind(null,ut.registered,mt)}},de=function Ie(Ge){for(var ut="",mt=0;mt<Ge.length;mt++){var jt=Ge[mt];if(jt!=null){var pn=void 0;switch(typeof jt){case"boolean":break;case"object":{if(Array.isArray(jt))pn=Ie(jt);else{pn="";for(var Fn in jt)jt[Fn]&&Fn&&(pn&&(pn+=" "),pn+=Fn)}break}default:pn=jt}pn&&(ut&&(ut+=" "),ut+=pn)}}return ut},oe=ee({key:"css"}),Ce=oe.flush,Ee=oe.hydrate,be=oe.cx,Ae=oe.merge,He=oe.getRegisteredStyles,Ye=oe.injectGlobal,ht=oe.keyframes,$t=oe.css,gn=oe.sheet,dn=oe.cache,ln=function(){function Ie(){(0,c.Z)(this,Ie),(0,U.Z)(this,"_cacheList",[dn])}return(0,_.Z)(Ie,[{key:"add",value:function(ut){var mt=this.getCache(ut.key);return mt||(this._cacheList.push(ut),ut)}},{key:"delete",value:function(ut){this._cacheList=this._cacheList.filter(function(mt){return mt.key!==ut.key})}},{key:"hasCache",value:function(ut){return this._cacheList.some(function(mt){return mt.key===ut.key})}},{key:"getCache",value:function(ut){return this._cacheList.find(function(mt){return mt.key===ut})}},{key:"getCacheList",value:function(){return this._cacheList}}]),Ie}(),ct=typeof document!="undefined",Pt=function(Ge,ut){return"".concat(Ge,"-").concat(ut)},Nt=function(Ge,ut,mt,jt){var pn=jt.hashPriority||"high";Yt(Ge,ut,mt);var Fn=".".concat(Pt(Ge.key,ut.name)),qn=pn==="low"?":where(".concat(Fn,")"):Fn;if(Ge.inserted[ut.name]===void 0){var Zn="",li=ut;do{var $n=Ge.insert(ut===li?qn:"",li,Ge.sheet,!0);!ct&&$n!==void 0&&(Zn+=$n),li=li.next}while(li!==void 0);if(!ct&&Zn.length!==0)return Zn}},Tt=e(71002),Zt=function(Ge){return(0,Tt.Z)(Ge)==="object"&&"styles"in Ge&&"name"in Ge&&"toString"in Ge},zt=function Ie(Ge){for(var ut="",mt=0;mt<Ge.length;mt++){var jt=Ge[mt];if(jt!==null){var pn=void 0;switch((0,Tt.Z)(jt)){case"boolean":break;case"object":{if(Array.isArray(jt))pn=Ie(jt);else{pn="";for(var Fn in jt)jt[Fn]&&Fn&&(pn&&(pn+=" "),pn+=Fn)}break}default:pn=jt}pn&&(ut&&(ut+=" "),ut+=pn)}}return ut},_n=function(Ge,ut,mt){var jt=[],pn=Bt(Ge,jt,mt);return jt.length<2?mt:pn+ut(jt)},hn=function(Ge,ut){return function(){for(var mt=arguments.length,jt=new Array(mt),pn=0;pn<mt;pn++)jt[pn]=arguments[pn];var Fn=yn(jt,Ge.registered,void 0);return Nt(Ge,Fn,!1,ut),Pt(Ge.key,Fn.name)}},Mn=function(Ge,ut){return function(){for(var mt=arguments.length,jt=new Array(mt),pn=0;pn<mt;pn++)jt[pn]=arguments[pn];var Fn=jt.map(function(qn){return Zt(qn)?ut(qn):qn});return _n(Ge.registered,ut,zt(Fn))}},Rn=function(Ge,ut){var mt=hn(Ge,{hashPriority:ut.hashPriority||"high",label:ut.label}),jt=Mn(Ge,mt);return{css:mt,cx:jt}},ni=function(){for(var Ge=arguments.length,ut=new Array(Ge),mt=0;mt<Ge;mt++)ut[mt]=arguments[mt];return yn(ut)},gi=function(Ge){return(0,r.createContext)(Ge)},Ii=e(87462),Bi=function(Ge){var ut=new WeakMap;return function(mt){if(ut.has(mt))return ut.get(mt);var jt=Ge(mt);return ut.set(mt,jt),jt}},Hi=function(Ge){return Ge()},fi=w["useInsertionEffect"]?w["useInsertionEffect"]:!1,Ci=null,Li=fi||r.useLayoutEffect,ci=!0,Zi={}.hasOwnProperty,Ji=r.createContext(typeof HTMLElement!="undefined"?bi({key:"css"}):null),vn=Ji.Provider,$e=function(){return useContext(Ji)},ft=function(Ge){return(0,r.forwardRef)(function(ut,mt){var jt=(0,r.useContext)(Ji);return Ge(ut,jt,mt)})};ci||(ft=function(Ge){return function(ut){var mt=(0,r.useContext)(Ji);return mt===null?(mt=bi({key:"css"}),r.createElement(Ji.Provider,{value:mt},Ge(ut,mt))):Ge(ut,mt)}});var gt=r.createContext({}),cn=function(){return React.useContext(gt)},rn=function(Ge,ut){if(typeof ut=="function"){var mt=ut(Ge);return mt}return(0,Ii.Z)({},Ge,ut)},Sn=Bi(function(Ie){return Bi(function(Ge){return rn(Ie,Ge)})}),En=function(Ge){var ut=r.useContext(gt);return Ge.theme!==ut&&(ut=Sn(ut)(Ge.theme)),r.createElement(gt.Provider,{value:ut},Ge.children)};function Ln(Ie){var Ge=Ie.displayName||Ie.name||"Component",ut=function(pn,Fn){var qn=React.useContext(gt);return React.createElement(Ie,_extends({theme:qn,ref:Fn},pn))},mt=React.forwardRef(ut);return mt.displayName="WithTheme("+Ge+")",hoistNonReactStatics(mt,Ie)}var On=function(Ge){var ut=Ge.split(".");return ut[ut.length-1]},Qn=function(Ge){var ut=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(Ge);if(ut||(ut=/^([A-Za-z0-9$.]+)@/.exec(Ge),ut))return On(ut[1])},Vn=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),Wn=function(Ge){return Ge.replace(/\$/g,"-")},St=function(Ge){if(Ge)for(var ut=Ge.split(`
`),mt=0;mt<ut.length;mt++){var jt=Qn(ut[mt]);if(jt){if(Vn.has(jt))break;if(/^[A-Z]/.test(jt))return Wn(jt)}}},k="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ne="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",ue=function(Ge,ut){var mt={};for(var jt in ut)Zi.call(ut,jt)&&(mt[jt]=ut[jt]);if(mt[k]=Ge,!1)var pn;return mt},Fe=function(Ge){var ut=Ge.cache,mt=Ge.serialized,jt=Ge.isStringTag;return registerStyles(ut,mt,jt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(ut,mt,jt)}),null},Qe=null,ot=null,dt=e(8679),bt={name:"@emotion/react",version:"11.11.1",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",browser:{"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},exports:{".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},import:"./dist/emotion-react.cjs.mjs",default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},import:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}},types:"types/index.d.ts",files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.*"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.11.0","@emotion/cache":"^11.11.0","@emotion/serialize":"^1.1.2","@emotion/use-insertion-effect-with-fallbacks":"^1.0.1","@emotion/utils":"^1.2.1","@emotion/weak-memoize":"^0.3.1","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.11.0","@emotion/css-prettifier":"1.1.3","@emotion/server":"11.11.0","@emotion/styled":"11.11.0","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}}}}},lt=function(Ge,ut){var mt=arguments;if(ut==null||!hasOwnProperty.call(ut,"css"))return React.createElement.apply(void 0,mt);var jt=mt.length,pn=new Array(jt);pn[0]=Emotion,pn[1]=createEmotionProps(Ge,ut);for(var Fn=2;Fn<jt;Fn++)pn[Fn]=mt[Fn];return React.createElement.apply(null,pn)},Q=!1,fe=ft(function(Ie,Ge){var ut=Ie.styles,mt=yn([ut],void 0,r.useContext(gt));if(!ci){for(var jt,pn=mt.name,Fn=mt.styles,qn=mt.next;qn!==void 0;)pn+=" "+qn.name,Fn+=qn.styles,qn=qn.next;var Zn=Ge.compat===!0,li=Ge.insert("",{name:pn,styles:Fn},Ge.sheet,Zn);return Zn?null:r.createElement("style",(jt={},jt["data-emotion"]=Ge.key+"-global "+pn,jt.dangerouslySetInnerHTML={__html:li},jt.nonce=Ge.sheet.nonce,jt))}var $n=r.useRef();return Li(function(){var vi=Ge.key+"-global",yi=new Ge.sheet.constructor({key:vi,nonce:Ge.sheet.nonce,container:Ge.sheet.container,speedy:Ge.sheet.isSpeedy}),ki=!1,zi=document.querySelector('style[data-emotion="'+vi+" "+mt.name+'"]');return Ge.sheet.tags.length&&(yi.before=Ge.sheet.tags[0]),zi!==null&&(ki=!0,zi.setAttribute("data-emotion",vi),yi.hydrate([zi])),$n.current=[yi,ki],function(){yi.flush()}},[Ge]),Li(function(){var vi=$n.current,yi=vi[0],ki=vi[1];if(ki){vi[1]=!1;return}if(mt.next!==void 0&&fn(Ge,mt.next,!0),yi.tags.length){var zi=yi.tags[yi.tags.length-1].nextElementSibling;yi.before=zi,yi.flush()}Ge.insert("",mt,yi,!1)},[Ge,mt.name]),null});function We(){for(var Ie=arguments.length,Ge=new Array(Ie),ut=0;ut<Ie;ut++)Ge[ut]=arguments[ut];return serializeStyles(Ge)}var at=function(){var Ge=We.apply(void 0,arguments),ut="animation-"+Ge.name;return{name:ut,styles:"@keyframes "+ut+"{"+Ge.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ct=function Ie(Ge){for(var ut=Ge.length,mt=0,jt="";mt<ut;mt++){var pn=Ge[mt];if(pn!=null){var Fn=void 0;switch(typeof pn){case"boolean":break;case"object":{if(Array.isArray(pn))Fn=Ie(pn);else{Fn="";for(var qn in pn)pn[qn]&&qn&&(Fn&&(Fn+=" "),Fn+=qn)}break}default:Fn=pn}Fn&&(jt&&(jt+=" "),jt+=Fn)}}return jt};function Rt(Ie,Ge,ut){var mt=[],jt=getRegisteredStyles(Ie,mt,ut);return mt.length<2?ut:jt+Ge(mt)}var Vt=function(Ge){var ut=Ge.cache,mt=Ge.serializedArr;return useInsertionEffectAlwaysWithSyncFallback(function(){for(var jt=0;jt<mt.length;jt++)insertStyles(ut,mt[jt],!1)}),null},an=null;if(!1)var An,zn,ui,hi;var oi=e(85893);function Kn(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function di(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Kn(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):Kn(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var pi=function(Ge){return function(){for(var ut=arguments.length,mt=new Array(ut),jt=0;jt<ut;jt++)mt[jt]=arguments[jt];return(0,r.memo)(function(pn){var Fn=Ge();return(0,oi.jsx)(fe,{styles:yn(mt,void 0,di(di({},pn),{},{theme:Fn}))})})}},qi=function(Ge){return function(ut){var mt=Ge(ut);return function(jt){var pn=mt(jt),Fn=pn.styles;return Fn}}},Es=e(91),rs=e(43109),Us=["children","prefix","speedy","getStyleManager","container","nonce","insertionPoint","stylisPlugins","linters"];function Gi(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function ys(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Gi(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):Gi(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var us=function(Ge){return(0,r.memo)(function(ut){var mt=ut.children,jt=ut.prefix,pn=ut.speedy,Fn=ut.getStyleManager,qn=ut.container,Zn=ut.nonce,li=ut.insertionPoint,$n=ut.stylisPlugins,vi=ut.linters,yi=(0,Es.Z)(ut,Us),ki=(0,r.useContext)(Ge),zi=jt!=null?jt:ki.sheet.key,Ti=qn!=null?qn:ki.sheet.container,ii=pn!=null?pn:ki.sheet.isSpeedy,Ui=(0,r.useMemo)(function(){var Oi=!1,ss=ee({speedy:ii!=null?ii:Oi,key:zi,container:Ti,nonce:Zn,insertionPoint:li,stylisPlugins:$n});if(typeof e.g!="undefined"){var ps=e.g.__ANTD_STYLE_CACHE_MANAGER_FOR_SSR__;ps&&(ss.cache=ps.add(ss.cache))}return ss},[zi,ii,Ti,Zn,li,$n]);(0,r.useEffect)(function(){Fn==null||Fn(Ui)},[Ui]);var Pi=(0,oi.jsx)(Ge.Provider,{value:Ui,children:mt});return Object.keys(yi).length||Ti?(0,oi.jsx)(rs.V9,ys(ys({linters:vi,container:Ti},yi),{},{children:Pi})):Pi})},is=e(97685),Ss=e(9361),Ps=function(){var Ge=Ss.Z.useToken(),ut=Ge.token;return ut};function no(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function ar(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?no(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):no(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var _s=function(Ge){return ar(ar({},Ge),{},{mobile:Ge.xs,tablet:Ge.md,laptop:Ge.lg,desktop:Ge.xxl})},ks=function(){var Ge=Ps(),ut={xs:"@media (max-width: ".concat(Ge.screenXSMax,"px)"),sm:"@media (max-width: ".concat(Ge.screenSMMax,"px)"),md:"@media (max-width: ".concat(Ge.screenMDMax,"px)"),lg:"@media (max-width: ".concat(Ge.screenLGMax,"px)"),xl:"@media (max-width: ".concat(Ge.screenXLMax,"px)"),xxl:"@media (min-width: ".concat(Ge.screenXXLMin,"px)")};return(0,r.useMemo)(function(){return _s(ut)},[Ge])},Vo=function(Ge,ut){return Object.entries(Ge).map(function(mt){var jt=(0,is.Z)(mt,2),pn=jt[0],Fn=jt[1],qn=Fn;return Zt(Fn)||(qn=ni(Fn)),ut[pn]?"".concat(ut[pn]," {").concat(qn.styles,"}"):""}).join("")},ca=["stylish","appearance","isDarkMode","prefixCls","iconPrefixCls"],Do=["prefixCls","iconPrefixCls"],Qo=function(Ge){var ut=Ge.hashPriority,mt=Ge.useTheme,jt=Ge.EmotionContext;return function(pn,Fn){var qn=Fn==null?void 0:Fn.__BABEL_FILE_NAME__,Zn=!!qn;return function(li){var $n=mt(),vi=(0,r.useContext)(jt),yi=vi.cache,ki=Rn(yi,{hashPriority:(Fn==null?void 0:Fn.hashPriority)||ut,label:Fn==null?void 0:Fn.label}),zi=ki.cx,Ti=ki.css,ii=ks(),Ui=(0,r.useMemo)(function(){var Pi;if(pn instanceof Function){var Oi=$n.stylish,ss=$n.appearance,ps=$n.isDarkMode,ds=$n.prefixCls,os=$n.iconPrefixCls,$s=(0,Es.Z)($n,ca),Vs=function(eo){return Vo(eo,ii)};Object.assign(Vs,ii),Pi=pn({token:$s,stylish:Oi,appearance:ss,isDarkMode:ps,prefixCls:ds,iconPrefixCls:os,cx:zi,css:ni,responsive:Vs},li)}else Pi=pn;return(0,Tt.Z)(Pi)==="object"&&(Zt(Pi)?Pi=Ti(Pi):Pi=Object.fromEntries(Object.entries(Pi).map(function(ho){var eo=(0,is.Z)(ho,2),ms=eo[0],Qs=eo[1],oo=Zn?"".concat(qn,"-").concat(ms):void 0;return(0,Tt.Z)(Qs)==="object"?Zn?[ms,Ti(Qs,"label:".concat(oo))]:[ms,Ti(Qs)]:[ms,Qs]}))),Pi},[li,$n]);return(0,r.useMemo)(function(){var Pi=$n.prefixCls,Oi=$n.iconPrefixCls,ss=(0,Es.Z)($n,Do);return{styles:Ui,cx:zi,theme:ss,prefixCls:Pi,iconPrefixCls:Oi}},[Ui,$n])}}},bo=En,Yo=gt,lr=function(Ge){if(!Ge.ThemeContext)throw"ThemeContext is required. Please check your config.";Yo=Ge.ThemeContext,bo=createStyledThemeProvider(Ge)},Vr=function(Ge){if(Ge.ThemeProvider)return Ge.ThemeProvider;var ut=Ge.ThemeContext;return function(mt){return(0,oi.jsx)(ut.Provider,{value:mt.theme,children:mt.children})}},Gs=e(74902),Xo=e(2453),To=e(38135),go=e(28459),wo=e(89739),yr=e(4340),Io=e(97937),Sr=e(21640),wr=e(78860),ka=e(50888),Mo=e(94184),Is=e.n(Mo),yo=e(42999),Po=e(53124),cr=e(35792),Ur=e(87263),Jo=e(14747),dr=e(45503),Ro=e(91945),qo=Ie=>{const{componentCls:Ge,notificationMarginEdge:ut,animationMaxHeight:mt}=Ie,jt=`${Ge}-notice`,pn=new rs.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),Fn=new rs.E4("antNotificationTopFadeIn",{"0%":{top:-mt,opacity:0},"100%":{top:0,opacity:1}}),qn=new rs.E4("antNotificationBottomFadeIn",{"0%":{bottom:Ie.calc(mt).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),Zn=new rs.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[Ge]:{[`&${Ge}-top, &${Ge}-bottom`]:{marginInline:0,[jt]:{marginInline:"auto auto"}},[`&${Ge}-top`]:{[`${Ge}-fade-enter${Ge}-fade-enter-active, ${Ge}-fade-appear${Ge}-fade-appear-active`]:{animationName:Fn}},[`&${Ge}-bottom`]:{[`${Ge}-fade-enter${Ge}-fade-enter-active, ${Ge}-fade-appear${Ge}-fade-appear-active`]:{animationName:qn}},[`&${Ge}-topRight, &${Ge}-bottomRight`]:{[`${Ge}-fade-enter${Ge}-fade-enter-active, ${Ge}-fade-appear${Ge}-fade-appear-active`]:{animationName:pn}},[`&${Ge}-topLeft, &${Ge}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:ut,_skip_check_:!0},[jt]:{marginInlineEnd:"auto",marginInlineStart:0},[`${Ge}-fade-enter${Ge}-fade-enter-active, ${Ge}-fade-appear${Ge}-fade-appear-active`]:{animationName:Zn}}}}};const zr=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],jr={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},mo=(Ie,Ge)=>{const{componentCls:ut}=Ie;return{[`${ut}-${Ge}`]:{[`&${ut}-stack > ${ut}-notice-wrapper`]:{[Ge.startsWith("top")?"top":"bottom"]:0,[jr[Ge]]:{value:0,_skip_check_:!0}}}}},lo=Ie=>{const Ge={};for(let ut=1;ut<Ie.notificationStackLayer;ut++)Ge[`&:nth-last-child(${ut+1})`]={overflow:"hidden",[`& > ${Ie.componentCls}-notice`]:{opacity:0,transition:`opacity ${Ie.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${Ie.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},Ge)},ji=Ie=>{const Ge={};for(let ut=1;ut<Ie.notificationStackLayer;ut++)Ge[`&:nth-last-child(${ut+1})`]={background:Ie.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},Ge)};var Kr=Ie=>{const{componentCls:Ge}=Ie;return Object.assign({[`${Ge}-stack`]:{[`& > ${Ge}-notice-wrapper`]:Object.assign({transition:`all ${Ie.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},lo(Ie))},[`${Ge}-stack:not(${Ge}-stack-expanded)`]:{[`& > ${Ge}-notice-wrapper`]:Object.assign({},ji(Ie))},[`${Ge}-stack${Ge}-stack-expanded`]:{[`& > ${Ge}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${Ie.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:Ie.margin,width:"100%",insetInline:0,bottom:Ie.calc(Ie.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},zr.map(ut=>mo(Ie,ut)).reduce((ut,mt)=>Object.assign(Object.assign({},ut),mt),{}))};const Lr=Ie=>{const{iconCls:Ge,componentCls:ut,boxShadow:mt,fontSizeLG:jt,notificationMarginBottom:pn,borderRadiusLG:Fn,colorSuccess:qn,colorInfo:Zn,colorWarning:li,colorError:$n,colorTextHeading:vi,notificationBg:yi,notificationPadding:ki,notificationMarginEdge:zi,fontSize:Ti,lineHeight:ii,width:Ui,notificationIconSize:Pi,colorText:Oi}=Ie,ss=`${ut}-notice`;return{position:"relative",marginBottom:pn,marginInlineStart:"auto",background:yi,borderRadius:Fn,boxShadow:mt,[ss]:{padding:ki,width:Ui,maxWidth:`calc(100vw - ${(0,rs.bf)(Ie.calc(zi).mul(2).equal())})`,overflow:"hidden",lineHeight:ii,wordWrap:"break-word"},[`${ut}-close-icon`]:{fontSize:Ti,cursor:"pointer"},[`${ss}-message`]:{marginBottom:Ie.marginXS,color:vi,fontSize:jt,lineHeight:Ie.lineHeightLG},[`${ss}-description`]:{fontSize:Ti,color:Oi},[`${ss}-closable ${ss}-message`]:{paddingInlineEnd:Ie.paddingLG},[`${ss}-with-icon ${ss}-message`]:{marginBottom:Ie.marginXS,marginInlineStart:Ie.calc(Ie.marginSM).add(Pi).equal(),fontSize:jt},[`${ss}-with-icon ${ss}-description`]:{marginInlineStart:Ie.calc(Ie.marginSM).add(Pi).equal(),fontSize:Ti},[`${ss}-icon`]:{position:"absolute",fontSize:Pi,lineHeight:1,[`&-success${Ge}`]:{color:qn},[`&-info${Ge}`]:{color:Zn},[`&-warning${Ge}`]:{color:li},[`&-error${Ge}`]:{color:$n}},[`${ss}-close`]:{position:"absolute",top:Ie.notificationPaddingVertical,insetInlineEnd:Ie.notificationPaddingHorizontal,color:Ie.colorIcon,outline:"none",width:Ie.notificationCloseButtonSize,height:Ie.notificationCloseButtonSize,borderRadius:Ie.borderRadiusSM,transition:`background-color ${Ie.motionDurationMid}, color ${Ie.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:Ie.colorIconHover,backgroundColor:Ie.closeBtnHoverBg}},[`${ss}-btn`]:{float:"right",marginTop:Ie.marginSM}}},co=Ie=>{const{componentCls:Ge,notificationMarginBottom:ut,notificationMarginEdge:mt,motionDurationMid:jt,motionEaseInOut:pn}=Ie,Fn=`${Ge}-notice`,qn=new rs.E4("antNotificationFadeOut",{"0%":{maxHeight:Ie.animationMaxHeight,marginBottom:ut},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[Ge]:Object.assign(Object.assign({},(0,Jo.Wf)(Ie)),{position:"fixed",zIndex:Ie.zIndexPopup,marginRight:{value:mt,_skip_check_:!0},[`${Ge}-hook-holder`]:{position:"relative"},[`${Ge}-fade-appear-prepare`]:{opacity:"0 !important"},[`${Ge}-fade-enter, ${Ge}-fade-appear`]:{animationDuration:Ie.motionDurationMid,animationTimingFunction:pn,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${Ge}-fade-leave`]:{animationTimingFunction:pn,animationFillMode:"both",animationDuration:jt,animationPlayState:"paused"},[`${Ge}-fade-enter${Ge}-fade-enter-active, ${Ge}-fade-appear${Ge}-fade-appear-active`]:{animationPlayState:"running"},[`${Ge}-fade-leave${Ge}-fade-leave-active`]:{animationName:qn,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${Fn}-btn`]:{float:"left"}}})},{[Ge]:{[`${Fn}-wrapper`]:Object.assign({},Lr(Ie))}}]},Oo=Ie=>({zIndexPopup:Ie.zIndexPopupBase+Ur.u6+50,width:384,closeBtnHoverBg:Ie.wireframe?"transparent":Ie.colorFillContent}),zo=Ie=>{const Ge=Ie.paddingMD,ut=Ie.paddingLG;return(0,dr.TS)(Ie,{notificationBg:Ie.colorBgElevated,notificationPaddingVertical:Ge,notificationPaddingHorizontal:ut,notificationIconSize:Ie.calc(Ie.fontSizeLG).mul(Ie.lineHeightLG).equal(),notificationCloseButtonSize:Ie.calc(Ie.controlHeightLG).mul(.55).equal(),notificationMarginBottom:Ie.margin,notificationPadding:`${(0,rs.bf)(Ie.paddingMD)} ${(0,rs.bf)(Ie.paddingContentHorizontalLG)}`,notificationMarginEdge:Ie.marginLG,animationMaxHeight:150,notificationStackLayer:3})};var ur=(0,Ro.I$)("Notification",Ie=>{const Ge=zo(Ie);return[co(Ge),qo(Ge),Kr(Ge)]},Oo),cs=(0,Ro.bk)(["Notification","PurePanel"],Ie=>{const Ge=`${Ie.componentCls}-notice`,ut=zo(Ie);return{[`${Ge}-pure-panel`]:Object.assign(Object.assign({},Lr(ut)),{width:ut.width,maxWidth:`calc(100vw - ${(0,rs.bf)(Ie.calc(ut.notificationMarginEdge).mul(2).equal())})`,margin:0})}},Oo),hs=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};const Rs={info:r.createElement(wr.Z,null),success:r.createElement(wo.Z,null),error:r.createElement(yr.Z,null),warning:r.createElement(Sr.Z,null),loading:r.createElement(ka.Z,null)};function Ts(Ie,Ge){return Ge===null||Ge===!1?null:Ge||r.createElement("span",{className:`${Ie}-close-x`},r.createElement(Io.Z,{className:`${Ie}-close-icon`}))}const Os={success:wo.Z,info:wr.Z,error:yr.Z,warning:Sr.Z},Js=Ie=>{const{prefixCls:Ge,icon:ut,type:mt,message:jt,description:pn,btn:Fn,role:qn="alert"}=Ie;let Zn=null;return ut?Zn=r.createElement("span",{className:`${Ge}-icon`},ut):mt&&(Zn=r.createElement(Os[mt]||null,{className:Is()(`${Ge}-icon`,`${Ge}-icon-${mt}`)})),r.createElement("div",{className:Is()({[`${Ge}-with-icon`]:Zn}),role:qn},Zn,r.createElement("div",{className:`${Ge}-message`},jt),r.createElement("div",{className:`${Ge}-description`},pn),Fn&&r.createElement("div",{className:`${Ge}-btn`},Fn))};var po=Ie=>{const{prefixCls:Ge,className:ut,icon:mt,type:jt,message:pn,description:Fn,btn:qn,closable:Zn=!0,closeIcon:li,className:$n}=Ie,vi=hs(Ie,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:yi}=r.useContext(Po.E_),ki=Ge||yi("notification"),zi=`${ki}-notice`,Ti=(0,cr.Z)(ki),[ii,Ui]=ur(ki,Ti);return ii(r.createElement("div",{className:Is()(`${zi}-pure-panel`,Ui,ut,Ti)},r.createElement(cs,{prefixCls:ki}),r.createElement(yo.qX,Object.assign({},vi,{prefixCls:ki,eventKey:"pure",duration:null,closable:Zn,className:Is()({notificationClassName:$n}),closeIcon:Ts(ki,li),content:r.createElement(Js,{prefixCls:zi,icon:mt,type:jt,message:pn,description:Fn,btn:qn})}))))},da=e(27288);function hr(Ie,Ge,ut){let mt;switch(Ie){case"top":mt={left:"50%",transform:"translateX(-50%)",right:"auto",top:Ge,bottom:"auto"};break;case"topLeft":mt={left:0,top:Ge,bottom:"auto"};break;case"topRight":mt={right:0,top:Ge,bottom:"auto"};break;case"bottom":mt={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:ut};break;case"bottomLeft":mt={left:0,top:"auto",bottom:ut};break;default:mt={right:0,top:"auto",bottom:ut};break}return mt}function fr(Ie){return{motionName:`${Ie}-fade`}}var ua=e(25976),Er=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};const So=24,xr=4.5,Lo="topRight",ha=Ie=>{let{children:Ge,prefixCls:ut}=Ie;const[mt,jt]=ur(ut);return mt(r.createElement(yo.JB,{classNames:{list:jt,notice:jt}},Ge))},fa=(Ie,Ge)=>{let{prefixCls:ut,key:mt}=Ge;return r.createElement(ha,{prefixCls:ut,key:mt},Ie)},$r=r.forwardRef((Ie,Ge)=>{const{top:ut,bottom:mt,prefixCls:jt,getContainer:pn,maxCount:Fn,rtl:qn,onAllRemoved:Zn,stack:li}=Ie,{getPrefixCls:$n,getPopupContainer:vi,notification:yi}=r.useContext(Po.E_),[,ki]=(0,ua.ZP)(),zi=jt||$n("notification"),Ti=ss=>hr(ss,ut!=null?ut:So,mt!=null?mt:So),ii=()=>Is()({[`${zi}-rtl`]:qn}),Ui=()=>fr(zi),[Pi,Oi]=(0,yo.lm)({prefixCls:zi,style:Ti,className:ii,motion:Ui,closable:!0,closeIcon:Ts(zi),duration:xr,getContainer:()=>(pn==null?void 0:pn())||(vi==null?void 0:vi())||document.body,maxCount:Fn,onAllRemoved:Zn,renderNotifications:fa,stack:li===!1?!1:{threshold:typeof li=="object"?li==null?void 0:li.threshold:void 0,offset:8,gap:ki.margin}});return r.useImperativeHandle(Ge,()=>Object.assign(Object.assign({},Pi),{prefixCls:zi,notification:yi})),Oi});function er(Ie){const Ge=r.useRef(null),ut=(0,da.ln)("Notification");return[r.useMemo(()=>{const jt=Zn=>{var li;if(!Ge.current)return;const{open:$n,prefixCls:vi,notification:yi}=Ge.current,ki=`${vi}-notice`,{message:zi,description:Ti,icon:ii,type:Ui,btn:Pi,className:Oi,style:ss,role:ps="alert",closeIcon:ds}=Zn,os=Er(Zn,["message","description","icon","type","btn","className","style","role","closeIcon"]),$s=Ts(ki,ds);return $n(Object.assign(Object.assign({placement:(li=Ie==null?void 0:Ie.placement)!==null&&li!==void 0?li:Lo},os),{content:r.createElement(Js,{prefixCls:ki,icon:ii,type:Ui,message:zi,description:Ti,btn:Pi,role:ps}),className:Is()(Ui&&`${ki}-${Ui}`,Oi,yi==null?void 0:yi.className),style:Object.assign(Object.assign({},yi==null?void 0:yi.style),ss),closeIcon:$s,closable:!!$s}))},Fn={open:jt,destroy:Zn=>{var li,$n;Zn!==void 0?(li=Ge.current)===null||li===void 0||li.close(Zn):($n=Ge.current)===null||$n===void 0||$n.destroy()}};return["success","info","warning","error"].forEach(Zn=>{Fn[Zn]=li=>jt(Object.assign(Object.assign({},li),{type:Zn}))}),Fn},[]),r.createElement($r,Object.assign({key:"notification-holder"},Ie,{ref:Ge}))]}function ga(Ie){return er(Ie)}let vo=null,Dr=Ie=>Ie(),Gr=[],Ir={};function Ba(){const{prefixCls:Ie,getContainer:Ge,rtl:ut,maxCount:mt,top:jt,bottom:pn}=Ir,Fn=Ie!=null?Ie:(0,go.w6)().getPrefixCls("notification"),qn=(Ge==null?void 0:Ge())||document.body;return{prefixCls:Fn,getContainer:()=>qn,rtl:ut,maxCount:mt,top:jt,bottom:pn}}const jo=r.forwardRef((Ie,Ge)=>{const[ut,mt]=r.useState(Ba),[jt,pn]=er(ut),Fn=(0,go.w6)(),qn=Fn.getRootPrefixCls(),Zn=Fn.getIconPrefixCls(),li=Fn.getTheme(),$n=()=>{mt(Ba)};return r.useEffect($n,[]),r.useImperativeHandle(Ge,()=>{const vi=Object.assign({},jt);return Object.keys(vi).forEach(yi=>{vi[yi]=function(){return $n(),jt[yi].apply(jt,arguments)}}),{instance:vi,sync:$n}}),r.createElement(go.ZP,{prefixCls:qn,iconPrefixCls:Zn,theme:li},pn)});function Nr(){if(!vo){const Ie=document.createDocumentFragment(),Ge={fragment:Ie};vo=Ge,Dr(()=>{(0,To.s)(r.createElement(jo,{ref:ut=>{const{instance:mt,sync:jt}=ut||{};Promise.resolve().then(()=>{!Ge.instance&&mt&&(Ge.instance=mt,Ge.sync=jt,Nr())})}}),Ie)});return}vo.instance&&(Gr.forEach(Ie=>{switch(Ie.type){case"open":{Dr(()=>{vo.instance.open(Object.assign(Object.assign({},Ir),Ie.config))});break}case"destroy":Dr(()=>{vo==null||vo.instance.destroy(Ie.key)});break}}),Gr=[])}function ll(Ie){Ir=Object.assign(Object.assign({},Ir),Ie),Dr(()=>{var Ge;(Ge=vo==null?void 0:vo.sync)===null||Ge===void 0||Ge.call(vo)})}function tr(Ie){Gr.push({type:"open",config:Ie}),Nr()}function ma(Ie){Gr.push({type:"destroy",key:Ie}),Nr()}const Zr=["success","info","warning","error"],pa={open:tr,destroy:ma,config:ll,useNotification:ga,_InternalPanelDoNotUseOrYouWillBeFired:po};Zr.forEach(Ie=>{pa[Ie]=Ge=>tr(Object.assign(Object.assign({},Ge),{type:Ie}))});const Qr=()=>{};let va=null;var Yr=pa,nr=e(33603),Tr=e(10110),ir=e(30470),mr=e(15867),_a=e(33671);function so(Ie){return!!(Ie&&Ie.then)}var Ns=Ie=>{const{type:Ge,children:ut,prefixCls:mt,buttonProps:jt,close:pn,autoFocus:Fn,emitEvent:qn,isSilent:Zn,quitOnNullishReturnValue:li,actionFn:$n}=Ie,vi=r.useRef(!1),yi=r.useRef(null),[ki,zi]=(0,ir.Z)(!1),Ti=function(){pn==null||pn.apply(void 0,arguments)};r.useEffect(()=>{let Pi=null;return Fn&&(Pi=setTimeout(()=>{var Oi;(Oi=yi.current)===null||Oi===void 0||Oi.focus()})),()=>{Pi&&clearTimeout(Pi)}},[]);const ii=Pi=>{so(Pi)&&(zi(!0),Pi.then(function(){zi(!1,!0),Ti.apply(void 0,arguments),vi.current=!1},Oi=>{if(zi(!1,!0),vi.current=!1,!(Zn!=null&&Zn()))return Promise.reject(Oi)}))},Ui=Pi=>{if(vi.current)return;if(vi.current=!0,!$n){Ti();return}let Oi;if(qn){if(Oi=$n(Pi),li&&!so(Oi)){vi.current=!1,Ti(Pi);return}}else if($n.length)Oi=$n(pn),vi.current=!1;else if(Oi=$n(),!Oi){Ti();return}ii(Oi)};return r.createElement(mr.ZP,Object.assign({},(0,_a.nx)(Ge),{onClick:Ui,loading:ki,prefixCls:mt},jt,{ref:yi}),ut)};const Pr=r.createContext({}),{Provider:Xr}=Pr;var Jr=()=>{const{autoFocusButton:Ie,cancelButtonProps:Ge,cancelTextLocale:ut,isSilent:mt,mergedOkCancel:jt,rootPrefixCls:pn,close:Fn,onCancel:qn,onConfirm:Zn}=(0,r.useContext)(Pr);return jt?r.createElement(Ns,{isSilent:mt,actionFn:qn,close:function(){Fn==null||Fn.apply(void 0,arguments),Zn==null||Zn(!1)},autoFocus:Ie==="cancel",buttonProps:Ge,prefixCls:`${pn}-btn`},ut):null},pr=()=>{const{autoFocusButton:Ie,close:Ge,isSilent:ut,okButtonProps:mt,rootPrefixCls:jt,okTextLocale:pn,okType:Fn,onConfirm:qn,onOk:Zn}=(0,r.useContext)(Pr);return r.createElement(Ns,{isSilent:ut,type:Fn||"primary",actionFn:Zn,close:function(){Ge==null||Ge.apply(void 0,arguments),qn==null||qn(!0)},autoFocus:Ie==="ok",buttonProps:mt,prefixCls:`${jt}-btn`},pn)},Wa=e(54535),Ao=r.createContext({}),qs=e(1413),ko=e(94999),ba=e(7028),vr=e(15105),_r=e(64217);function Ko(Ie,Ge,ut){var mt=Ge;return!mt&&ut&&(mt="".concat(Ie,"-").concat(ut)),mt}function qr(Ie,Ge){var ut=Ie["page".concat(Ge?"Y":"X","Offset")],mt="scroll".concat(Ge?"Top":"Left");if(typeof ut!="number"){var jt=Ie.document;ut=jt.documentElement[mt],typeof ut!="number"&&(ut=jt.body[mt])}return ut}function ya(Ie){var Ge=Ie.getBoundingClientRect(),ut={left:Ge.left,top:Ge.top},mt=Ie.ownerDocument,jt=mt.defaultView||mt.parentWindow;return ut.left+=qr(jt),ut.top+=qr(jt,!0),ut}var Ha=e(82225),ea=e(42550),ta=r.memo(function(Ie){var Ge=Ie.children;return Ge},function(Ie,Ge){var ut=Ge.shouldUpdate;return!ut}),na={width:0,height:0,overflow:"hidden",outline:"none"},Va=r.forwardRef(function(Ie,Ge){var ut=Ie.prefixCls,mt=Ie.className,jt=Ie.style,pn=Ie.title,Fn=Ie.ariaId,qn=Ie.footer,Zn=Ie.closable,li=Ie.closeIcon,$n=Ie.onClose,vi=Ie.children,yi=Ie.bodyStyle,ki=Ie.bodyProps,zi=Ie.modalRender,Ti=Ie.onMouseDown,ii=Ie.onMouseUp,Ui=Ie.holderRef,Pi=Ie.visible,Oi=Ie.forceRender,ss=Ie.width,ps=Ie.height,ds=Ie.classNames,os=Ie.styles,$s=r.useContext(Ao),Vs=$s.panel,ho=(0,ea.x1)(Ui,Vs),eo=(0,r.useRef)(),ms=(0,r.useRef)();r.useImperativeHandle(Ge,function(){return{focus:function(){var Bo;(Bo=eo.current)===null||Bo===void 0||Bo.focus()},changeActive:function(Bo){var Wr=document,Wo=Wr.activeElement;Bo&&Wo===ms.current?eo.current.focus():!Bo&&Wo===eo.current&&ms.current.focus()}}});var Qs={};ss!==void 0&&(Qs.width=ss),ps!==void 0&&(Qs.height=ps);var oo;qn&&(oo=r.createElement("div",{className:Is()("".concat(ut,"-footer"),ds==null?void 0:ds.footer),style:(0,qs.Z)({},os==null?void 0:os.footer)},qn));var Xs;pn&&(Xs=r.createElement("div",{className:Is()("".concat(ut,"-header"),ds==null?void 0:ds.header),style:(0,qs.Z)({},os==null?void 0:os.header)},r.createElement("div",{className:"".concat(ut,"-title"),id:Fn},pn)));var or;Zn&&(or=r.createElement("button",{type:"button",onClick:$n,"aria-label":"Close",className:"".concat(ut,"-close")},li||r.createElement("span",{className:"".concat(ut,"-close-x")})));var Fo=r.createElement("div",{className:Is()("".concat(ut,"-content"),ds==null?void 0:ds.content),style:os==null?void 0:os.content},or,Xs,r.createElement("div",(0,Ii.Z)({className:Is()("".concat(ut,"-body"),ds==null?void 0:ds.body),style:(0,qs.Z)((0,qs.Z)({},yi),os==null?void 0:os.body)},ki),vi),oo);return r.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":pn?Fn:null,"aria-modal":"true",ref:ho,style:(0,qs.Z)((0,qs.Z)({},jt),Qs),className:Is()(ut,mt),onMouseDown:Ti,onMouseUp:ii},r.createElement("div",{tabIndex:0,ref:eo,style:na,"aria-hidden":"true"}),r.createElement(ta,{shouldUpdate:Pi||Oi},zi?zi(Fo):Fo),r.createElement("div",{tabIndex:0,ref:ms,style:na,"aria-hidden":"true"}))}),Ws=Va,$o=r.forwardRef(function(Ie,Ge){var ut=Ie.prefixCls,mt=Ie.title,jt=Ie.style,pn=Ie.className,Fn=Ie.visible,qn=Ie.forceRender,Zn=Ie.destroyOnClose,li=Ie.motionName,$n=Ie.ariaId,vi=Ie.onVisibleChanged,yi=Ie.mousePosition,ki=(0,r.useRef)(),zi=r.useState(),Ti=(0,is.Z)(zi,2),ii=Ti[0],Ui=Ti[1],Pi={};ii&&(Pi.transformOrigin=ii);function Oi(){var ss=ya(ki.current);Ui(yi?"".concat(yi.x-ss.left,"px ").concat(yi.y-ss.top,"px"):"")}return r.createElement(Ha.ZP,{visible:Fn,onVisibleChanged:vi,onAppearPrepare:Oi,onEnterPrepare:Oi,forceRender:qn,motionName:li,removeOnLeave:Zn,ref:ki},function(ss,ps){var ds=ss.className,os=ss.style;return r.createElement(Ws,(0,Ii.Z)({},Ie,{ref:Ge,title:mt,ariaId:$n,prefixCls:ut,holderRef:ps,style:(0,qs.Z)((0,qs.Z)((0,qs.Z)({},os),jt),Pi),className:Is()(pn,ds)}))})});$o.displayName="Content";var Ua=$o;function Sa(Ie){var Ge=Ie.prefixCls,ut=Ie.style,mt=Ie.visible,jt=Ie.maskProps,pn=Ie.motionName,Fn=Ie.className;return r.createElement(Ha.ZP,{key:"mask",visible:mt,motionName:pn,leavedClassName:"".concat(Ge,"-mask-hidden")},function(qn,Zn){var li=qn.className,$n=qn.style;return r.createElement("div",(0,Ii.Z)({ref:Zn,style:(0,qs.Z)((0,qs.Z)({},$n),ut),className:Is()("".concat(Ge,"-mask"),li,Fn)},jt))})}var Rr=e(80334);function wa(Ie){var Ge=Ie.prefixCls,ut=Ge===void 0?"rc-dialog":Ge,mt=Ie.zIndex,jt=Ie.visible,pn=jt===void 0?!1:jt,Fn=Ie.keyboard,qn=Fn===void 0?!0:Fn,Zn=Ie.focusTriggerAfterClose,li=Zn===void 0?!0:Zn,$n=Ie.wrapStyle,vi=Ie.wrapClassName,yi=Ie.wrapProps,ki=Ie.onClose,zi=Ie.afterOpenChange,Ti=Ie.afterClose,ii=Ie.transitionName,Ui=Ie.animation,Pi=Ie.closable,Oi=Pi===void 0?!0:Pi,ss=Ie.mask,ps=ss===void 0?!0:ss,ds=Ie.maskTransitionName,os=Ie.maskAnimation,$s=Ie.maskClosable,Vs=$s===void 0?!0:$s,ho=Ie.maskStyle,eo=Ie.maskProps,ms=Ie.rootClassName,Qs=Ie.classNames,oo=Ie.styles,Xs=(0,r.useRef)(),or=(0,r.useRef)(),Fo=(0,r.useRef)(),Oa=r.useState(pn),Bo=(0,is.Z)(Oa,2),Wr=Bo[0],Wo=Bo[1],rr=(0,ba.Z)();function sl(){(0,ko.Z)(or.current,document.activeElement)||(Xs.current=document.activeElement)}function Bl(){if(!(0,ko.Z)(or.current,document.activeElement)){var ro;(ro=Fo.current)===null||ro===void 0||ro.focus()}}function ic(ro){if(ro)Bl();else{if(Wo(!1),ps&&Xs.current&&li){try{Xs.current.focus({preventScroll:!0})}catch(Aa){}Xs.current=null}Wr&&(Ti==null||Ti())}zi==null||zi(ro)}function ol(ro){ki==null||ki(ro)}var rl=(0,r.useRef)(!1),al=(0,r.useRef)(),wl=function(){clearTimeout(al.current),rl.current=!0},sc=function(){al.current=setTimeout(function(){rl.current=!1})},oc=null;Vs&&(oc=function(Aa){rl.current?rl.current=!1:or.current===Aa.target&&ol(Aa)});function rc(ro){if(qn&&ro.keyCode===vr.Z.ESC){ro.stopPropagation(),ol(ro);return}pn&&ro.keyCode===vr.Z.TAB&&Fo.current.changeActive(!ro.shiftKey)}return(0,r.useEffect)(function(){pn&&(Wo(!0),sl())},[pn]),(0,r.useEffect)(function(){return function(){clearTimeout(al.current)}},[]),r.createElement("div",(0,Ii.Z)({className:Is()("".concat(ut,"-root"),ms)},(0,_r.Z)(Ie,{data:!0})),r.createElement(Sa,{prefixCls:ut,visible:ps&&pn,motionName:Ko(ut,ds,os),style:(0,qs.Z)((0,qs.Z)({zIndex:mt},ho),oo==null?void 0:oo.mask),maskProps:eo,className:Qs==null?void 0:Qs.mask}),r.createElement("div",(0,Ii.Z)({tabIndex:-1,onKeyDown:rc,className:Is()("".concat(ut,"-wrap"),vi,Qs==null?void 0:Qs.wrapper),ref:or,onClick:oc,style:(0,qs.Z)((0,qs.Z)((0,qs.Z)({zIndex:mt},$n),oo==null?void 0:oo.wrapper),{},{display:Wr?null:"none"})},yi),r.createElement(Ua,(0,Ii.Z)({},Ie,{onMouseDown:wl,onMouseUp:sc,ref:Fo,closable:Oi,ariaId:rr,prefixCls:ut,visible:pn&&Wr,onClose:ol,onVisibleChanged:ic,motionName:Ko(ut,ii,Ui)}))))}var Zs=function(Ge){var ut=Ge.visible,mt=Ge.getContainer,jt=Ge.forceRender,pn=Ge.destroyOnClose,Fn=pn===void 0?!1:pn,qn=Ge.afterClose,Zn=Ge.panelRef,li=r.useState(ut),$n=(0,is.Z)(li,2),vi=$n[0],yi=$n[1],ki=r.useMemo(function(){return{panel:Zn}},[Zn]);return r.useEffect(function(){ut&&yi(!0)},[ut]),!jt&&Fn&&!vi?null:r.createElement(Ao.Provider,{value:ki},r.createElement(Wa.Z,{open:ut||jt||vi,autoDestroy:!1,getContainer:mt,autoLock:ut||vi},r.createElement(wa,(0,Ii.Z)({},Ge,{destroyOnClose:Fn,afterClose:function(){qn==null||qn(),yi(!1)}}))))};Zs.displayName="Dialog";var za=Zs,La=za;function Ea(Ie,Ge,ut){return typeof Ie=="boolean"?Ie:Ge===void 0?!!ut:Ge!==!1&&Ge!==null}function ja(Ie,Ge,ut){let mt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.createElement(Io.Z,null),jt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!Ea(Ie,Ge,jt))return[!1,null];const Fn=typeof Ge=="boolean"||Ge===void 0||Ge===null?mt:Ge;return[!0,ut?ut(Fn):Fn]}var ia=e(98924);const cl=()=>(0,ia.Z)()&&window.document.documentElement;var xa=e(43945),dl=e(65223),Ka=e(4173),ul=e(56790);function Gt(){}const t=r.createContext({add:Gt,remove:Gt});function l(Ie){const Ge=r.useContext(t),ut=r.useRef();return(0,ul.zX)(jt=>{if(jt){const pn=Ie?jt.querySelector(Ie):jt;Ge.add(pn),ut.current=pn}else Ge.remove(ut.current)})}var T=null,q=e(98866),Te=()=>{const{cancelButtonProps:Ie,cancelTextLocale:Ge,onCancel:ut}=(0,r.useContext)(Pr);return r.createElement(mr.ZP,Object.assign({onClick:ut},Ie),Ge)},rt=()=>{const{confirmLoading:Ie,okButtonProps:Ge,okType:ut,okTextLocale:mt,onOk:jt}=(0,r.useContext)(Pr);return r.createElement(mr.ZP,Object.assign({},(0,_a.nx)(ut),{loading:Ie,onClick:jt},Ge),mt)},vt=e(83008);function It(Ie,Ge){return r.createElement("span",{className:`${Ie}-close-x`},Ge||r.createElement(Io.Z,{className:`${Ie}-close-icon`}))}const Wt=Ie=>{const{okText:Ge,okType:ut="primary",cancelText:mt,confirmLoading:jt,onOk:pn,onCancel:Fn,okButtonProps:qn,cancelButtonProps:Zn,footer:li}=Ie,[$n]=(0,Tr.Z)("Modal",(0,vt.A)()),vi=Ge||($n==null?void 0:$n.okText),yi=mt||($n==null?void 0:$n.cancelText),ki={confirmLoading:jt,okButtonProps:qn,cancelButtonProps:Zn,okTextLocale:vi,cancelTextLocale:yi,okType:ut,onOk:pn,onCancel:Fn},zi=r.useMemo(()=>ki,(0,Gs.Z)(Object.values(ki)));let Ti;return typeof li=="function"||typeof li=="undefined"?(Ti=r.createElement(r.Fragment,null,r.createElement(Te,null),r.createElement(rt,null)),typeof li=="function"&&(Ti=li(Ti,{OkBtn:rt,CancelBtn:Te})),Ti=r.createElement(Xr,{value:zi},Ti)):Ti=li,r.createElement(q.n,{disabled:!1},Ti)};var Kt=e(93590);const nn=new rs.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),mn=new rs.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),xn=function(Ie){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:ut}=Ie,mt=`${ut}-fade`,jt=Ge?"&":"";return[(0,Kt.R)(mt,nn,mn,Ie.motionDurationMid,Ge),{[`
        ${jt}${mt}-enter,
        ${jt}${mt}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${jt}${mt}-leave`]:{animationTimingFunction:"linear"}}]};var Pn=e(50438);function kn(Ie){return{position:Ie,inset:0}}const ti=Ie=>{const{componentCls:Ge,antCls:ut}=Ie;return[{[`${Ge}-root`]:{[`${Ge}${ut}-zoom-enter, ${Ge}${ut}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:Ie.motionDurationSlow,userSelect:"none"},[`${Ge}${ut}-zoom-leave ${Ge}-content`]:{pointerEvents:"none"},[`${Ge}-mask`]:Object.assign(Object.assign({},kn("fixed")),{zIndex:Ie.zIndexPopupBase,height:"100%",backgroundColor:Ie.colorBgMask,pointerEvents:"none",[`${Ge}-hidden`]:{display:"none"}}),[`${Ge}-wrap`]:Object.assign(Object.assign({},kn("fixed")),{zIndex:Ie.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${Ge}${ut}-zoom-enter), &:has(${Ge}${ut}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${Ge}-root`]:xn(Ie)}]},ai=Ie=>{const{componentCls:Ge}=Ie;return[{[`${Ge}-root`]:{[`${Ge}-wrap-rtl`]:{direction:"rtl"},[`${Ge}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[Ge]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${Ie.screenSMMax}px)`]:{[Ge]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,rs.bf)(Ie.marginXS)} auto`},[`${Ge}-centered`]:{[Ge]:{flex:1}}}}},{[Ge]:Object.assign(Object.assign({},(0,Jo.Wf)(Ie)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,rs.bf)(Ie.calc(Ie.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:Ie.paddingLG,[`${Ge}-title`]:{margin:0,color:Ie.titleColor,fontWeight:Ie.fontWeightStrong,fontSize:Ie.titleFontSize,lineHeight:Ie.titleLineHeight,wordWrap:"break-word"},[`${Ge}-content`]:{position:"relative",backgroundColor:Ie.contentBg,backgroundClip:"padding-box",border:0,borderRadius:Ie.borderRadiusLG,boxShadow:Ie.boxShadow,pointerEvents:"auto",padding:Ie.contentPadding},[`${Ge}-close`]:Object.assign({position:"absolute",top:Ie.calc(Ie.modalHeaderHeight).sub(Ie.modalCloseBtnSize).div(2).equal(),insetInlineEnd:Ie.calc(Ie.modalHeaderHeight).sub(Ie.modalCloseBtnSize).div(2).equal(),zIndex:Ie.calc(Ie.zIndexPopupBase).add(10).equal(),padding:0,color:Ie.modalCloseIconColor,fontWeight:Ie.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:Ie.borderRadiusSM,width:Ie.modalCloseBtnSize,height:Ie.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${Ie.motionDurationMid}, background-color ${Ie.motionDurationMid}`,"&-x":{display:"flex",fontSize:Ie.fontSizeLG,fontStyle:"normal",lineHeight:`${(0,rs.bf)(Ie.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:Ie.modalIconHoverColor,backgroundColor:Ie.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:Ie.closeBtnActiveBg}},(0,Jo.Qy)(Ie)),[`${Ge}-header`]:{color:Ie.colorText,background:Ie.headerBg,borderRadius:`${(0,rs.bf)(Ie.borderRadiusLG)} ${(0,rs.bf)(Ie.borderRadiusLG)} 0 0`,marginBottom:Ie.headerMarginBottom,padding:Ie.headerPadding,borderBottom:Ie.headerBorderBottom},[`${Ge}-body`]:{fontSize:Ie.fontSize,lineHeight:Ie.lineHeight,wordWrap:"break-word",padding:Ie.bodyPadding},[`${Ge}-footer`]:{textAlign:"end",background:Ie.footerBg,marginTop:Ie.footerMarginTop,padding:Ie.footerPadding,borderTop:Ie.footerBorderTop,borderRadius:Ie.footerBorderRadius,[`${Ie.antCls}-btn + ${Ie.antCls}-btn:not(${Ie.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:Ie.marginXS}},[`${Ge}-open`]:{overflow:"hidden"}})},{[`${Ge}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${Ge}-content,
          ${Ge}-body,
          ${Ge}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${Ge}-confirm-body`]:{marginBottom:"auto"}}}]},Mi=Ie=>{const{componentCls:Ge}=Ie;return{[`${Ge}-root`]:{[`${Ge}-wrap-rtl`]:{direction:"rtl",[`${Ge}-confirm-body`]:{direction:"rtl"}}}}},Ei=Ie=>{const Ge=Ie.padding,ut=Ie.fontSizeHeading5,mt=Ie.lineHeightHeading5;return(0,dr.TS)(Ie,{modalHeaderHeight:Ie.calc(Ie.calc(mt).mul(ut).equal()).add(Ie.calc(Ge).mul(2).equal()).equal(),modalFooterBorderColorSplit:Ie.colorSplit,modalFooterBorderStyle:Ie.lineType,modalFooterBorderWidth:Ie.lineWidth,modalIconHoverColor:Ie.colorIconHover,modalCloseIconColor:Ie.colorIcon,modalCloseBtnSize:Ie.fontHeight,modalConfirmIconSize:Ie.fontHeight,modalTitleHeight:Ie.calc(Ie.titleFontSize).mul(Ie.titleLineHeight).equal()})},$i=Ie=>({footerBg:"transparent",headerBg:Ie.colorBgElevated,titleLineHeight:Ie.lineHeightHeading5,titleFontSize:Ie.fontSizeHeading5,contentBg:Ie.colorBgElevated,titleColor:Ie.colorTextHeading,closeBtnHoverBg:Ie.wireframe?"transparent":Ie.colorFillContent,closeBtnActiveBg:Ie.wireframe?"transparent":Ie.colorFillContentHover,contentPadding:Ie.wireframe?0:`${(0,rs.bf)(Ie.paddingMD)} ${(0,rs.bf)(Ie.paddingContentHorizontalLG)}`,headerPadding:Ie.wireframe?`${(0,rs.bf)(Ie.padding)} ${(0,rs.bf)(Ie.paddingLG)}`:0,headerBorderBottom:Ie.wireframe?`${(0,rs.bf)(Ie.lineWidth)} ${Ie.lineType} ${Ie.colorSplit}`:"none",headerMarginBottom:Ie.wireframe?0:Ie.marginXS,bodyPadding:Ie.wireframe?Ie.paddingLG:0,footerPadding:Ie.wireframe?`${(0,rs.bf)(Ie.paddingXS)} ${(0,rs.bf)(Ie.padding)}`:0,footerBorderTop:Ie.wireframe?`${(0,rs.bf)(Ie.lineWidth)} ${Ie.lineType} ${Ie.colorSplit}`:"none",footerBorderRadius:Ie.wireframe?`0 0 ${(0,rs.bf)(Ie.borderRadiusLG)} ${(0,rs.bf)(Ie.borderRadiusLG)}`:0,footerMarginTop:Ie.wireframe?0:Ie.marginSM,confirmBodyPadding:Ie.wireframe?`${(0,rs.bf)(Ie.padding*2)} ${(0,rs.bf)(Ie.padding*2)} ${(0,rs.bf)(Ie.paddingLG)}`:0,confirmIconMarginInlineEnd:Ie.wireframe?Ie.margin:Ie.marginSM,confirmBtnsMarginTop:Ie.wireframe?Ie.marginLG:Ie.marginSM});var Vi=(0,Ro.I$)("Modal",Ie=>{const Ge=Ei(Ie);return[ai(Ge),Mi(Ge),ti(Ge),(0,Pn._y)(Ge,"zoom")]},$i,{unitless:{titleLineHeight:!0}}),Qi=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};let xi;const Yi=Ie=>{xi={x:Ie.pageX,y:Ie.pageY},setTimeout(()=>{xi=null},100)};cl()&&document.documentElement.addEventListener("click",Yi,!0);var Xi=Ie=>{var Ge;const{getPopupContainer:ut,getPrefixCls:mt,direction:jt,modal:pn}=r.useContext(Po.E_),Fn=Wo=>{const{onCancel:rr}=Ie;rr==null||rr(Wo)},qn=Wo=>{const{onOk:rr}=Ie;rr==null||rr(Wo)},{prefixCls:Zn,className:li,rootClassName:$n,open:vi,wrapClassName:yi,centered:ki,getContainer:zi,closeIcon:Ti,closable:ii,focusTriggerAfterClose:Ui=!0,style:Pi,visible:Oi,width:ss=520,footer:ps,classNames:ds,styles:os}=Ie,$s=Qi(Ie,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),Vs=mt("modal",Zn),ho=mt(),eo=(0,cr.Z)(Vs),[ms,Qs]=Vi(Vs,eo),oo=Is()(yi,{[`${Vs}-centered`]:!!ki,[`${Vs}-wrap-rtl`]:jt==="rtl"}),Xs=ps!==null&&r.createElement(Wt,Object.assign({},Ie,{onOk:qn,onCancel:Fn})),[or,Fo]=ja(ii,Ti,Wo=>It(Vs,Wo),r.createElement(Io.Z,{className:`${Vs}-close-icon`}),!0),Oa=l(`.${Vs}-content`),[Bo,Wr]=(0,Ur.Cn)("Modal",$s.zIndex);return ms(r.createElement(Ka.BR,null,r.createElement(dl.Ux,{status:!0,override:!0},r.createElement(xa.Z.Provider,{value:Wr},r.createElement(La,Object.assign({width:ss},$s,{zIndex:Bo,getContainer:zi===void 0?ut:zi,prefixCls:Vs,rootClassName:Is()(Qs,$n,eo),footer:Xs,visible:vi!=null?vi:Oi,mousePosition:(Ge=$s.mousePosition)!==null&&Ge!==void 0?Ge:xi,onClose:Fn,closable:or,closeIcon:Fo,focusTriggerAfterClose:Ui,transitionName:(0,nr.m)(ho,"zoom",Ie.transitionName),maskTransitionName:(0,nr.m)(ho,"fade",Ie.maskTransitionName),className:Is()(Qs,li,pn==null?void 0:pn.className),style:Object.assign(Object.assign({},pn==null?void 0:pn.style),Pi),classNames:Object.assign(Object.assign({wrapper:oo},pn==null?void 0:pn.classNames),ds),styles:Object.assign(Object.assign({},pn==null?void 0:pn.styles),os),panelRef:Oa}))))))};const ls=Ie=>{const{componentCls:Ge,titleFontSize:ut,titleLineHeight:mt,modalConfirmIconSize:jt,fontSize:pn,lineHeight:Fn,modalTitleHeight:qn,fontHeight:Zn,confirmBodyPadding:li}=Ie,$n=`${Ge}-confirm`;return{[$n]:{"&-rtl":{direction:"rtl"},[`${Ie.antCls}-modal-header`]:{display:"none"},[`${$n}-body-wrapper`]:Object.assign({},(0,Jo.dF)()),[`&${Ge} ${Ge}-body`]:{padding:li},[`${$n}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${Ie.iconCls}`]:{flex:"none",fontSize:jt,marginInlineEnd:Ie.confirmIconMarginInlineEnd,marginTop:Ie.calc(Ie.calc(Zn).sub(jt).equal()).div(2).equal()},[`&-has-title > ${Ie.iconCls}`]:{marginTop:Ie.calc(Ie.calc(qn).sub(jt).equal()).div(2).equal()}},[`${$n}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:Ie.marginXS,maxWidth:`calc(100% - ${(0,rs.bf)(Ie.calc(Ie.modalConfirmIconSize).add(Ie.marginSM).equal())})`},[`${$n}-title`]:{color:Ie.colorTextHeading,fontWeight:Ie.fontWeightStrong,fontSize:ut,lineHeight:mt},[`${$n}-content`]:{color:Ie.colorText,fontSize:pn,lineHeight:Fn},[`${$n}-btns`]:{textAlign:"end",marginTop:Ie.confirmBtnsMarginTop,[`${Ie.antCls}-btn + ${Ie.antCls}-btn`]:{marginBottom:0,marginInlineStart:Ie.marginXS}}},[`${$n}-error ${$n}-body > ${Ie.iconCls}`]:{color:Ie.colorError},[`${$n}-warning ${$n}-body > ${Ie.iconCls},
        ${$n}-confirm ${$n}-body > ${Ie.iconCls}`]:{color:Ie.colorWarning},[`${$n}-info ${$n}-body > ${Ie.iconCls}`]:{color:Ie.colorInfo},[`${$n}-success ${$n}-body > ${Ie.iconCls}`]:{color:Ie.colorSuccess}}};var Ds=(0,Ro.bk)(["Modal","confirm"],Ie=>{const Ge=Ei(Ie);return[ls(Ge)]},$i,{order:-1e3}),Cs=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};function zs(Ie){const{prefixCls:Ge,icon:ut,okText:mt,cancelText:jt,confirmPrefixCls:pn,type:Fn,okCancel:qn,footer:Zn,locale:li}=Ie,$n=Cs(Ie,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let vi=ut;if(!ut&&ut!==null)switch(Fn){case"info":vi=r.createElement(wr.Z,null);break;case"success":vi=r.createElement(wo.Z,null);break;case"error":vi=r.createElement(yr.Z,null);break;default:vi=r.createElement(Sr.Z,null)}const yi=qn!=null?qn:Fn==="confirm",ki=Ie.autoFocusButton===null?!1:Ie.autoFocusButton||"ok",[zi]=(0,Tr.Z)("Modal"),Ti=li||zi,ii=mt||(yi?Ti==null?void 0:Ti.okText:Ti==null?void 0:Ti.justOkText),Ui=jt||(Ti==null?void 0:Ti.cancelText),Pi=Object.assign({autoFocusButton:ki,cancelTextLocale:Ui,okTextLocale:ii,mergedOkCancel:yi},$n),Oi=r.useMemo(()=>Pi,(0,Gs.Z)(Object.values(Pi))),ss=r.createElement(r.Fragment,null,r.createElement(Jr,null),r.createElement(pr,null)),ps=Ie.title!==void 0&&Ie.title!==null,ds=`${pn}-body`;return r.createElement("div",{className:`${pn}-body-wrapper`},r.createElement("div",{className:Is()(ds,{[`${ds}-has-title`]:ps})},vi,r.createElement("div",{className:`${pn}-paragraph`},ps&&r.createElement("span",{className:`${pn}-title`},Ie.title),r.createElement("div",{className:`${pn}-content`},Ie.content))),Zn===void 0||typeof Zn=="function"?r.createElement(Xr,{value:Oi},r.createElement("div",{className:`${pn}-btns`},typeof Zn=="function"?Zn(ss,{OkBtn:pr,CancelBtn:Jr}):ss)):Zn,r.createElement(Ds,{prefixCls:Ge}))}const Ms=Ie=>{const{close:Ge,zIndex:ut,afterClose:mt,open:jt,keyboard:pn,centered:Fn,getContainer:qn,maskStyle:Zn,direction:li,prefixCls:$n,wrapClassName:vi,rootPrefixCls:yi,bodyStyle:ki,closable:zi=!1,closeIcon:Ti,modalRender:ii,focusTriggerAfterClose:Ui,onConfirm:Pi,styles:Oi}=Ie,ss=`${$n}-confirm`,ps=Ie.width||416,ds=Ie.style||{},os=Ie.mask===void 0?!0:Ie.mask,$s=Ie.maskClosable===void 0?!1:Ie.maskClosable,Vs=Is()(ss,`${ss}-${Ie.type}`,{[`${ss}-rtl`]:li==="rtl"},Ie.className),[,ho]=(0,ua.ZP)(),eo=r.useMemo(()=>ut!==void 0?ut:ho.zIndexPopupBase+Ur.u6,[ut,ho]);return r.createElement(Xi,{prefixCls:$n,className:Vs,wrapClassName:Is()({[`${ss}-centered`]:!!Ie.centered},vi),onCancel:()=>{Ge==null||Ge({triggerCancel:!0}),Pi==null||Pi(!1)},open:jt,title:"",footer:null,transitionName:(0,nr.m)(yi||"","zoom",Ie.transitionName),maskTransitionName:(0,nr.m)(yi||"","fade",Ie.maskTransitionName),mask:os,maskClosable:$s,style:ds,styles:Object.assign({body:ki,mask:Zn},Oi),width:ps,zIndex:eo,afterClose:mt,keyboard:pn,centered:Fn,getContainer:qn,closable:zi,closeIcon:Ti,modalRender:ii,focusTriggerAfterClose:Ui},r.createElement(zs,Object.assign({},Ie,{confirmPrefixCls:ss})))};var Hs=Ie=>{const{rootPrefixCls:Ge,iconPrefixCls:ut,direction:mt,theme:jt}=Ie;return r.createElement(go.ZP,{prefixCls:Ge,iconPrefixCls:ut,direction:mt,theme:jt},r.createElement(Ms,Object.assign({},Ie)))},Ks=[],Ul=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};let Da="";function hl(){return Da}function Ia(Ie){const Ge=document.createDocumentFragment();let ut=Object.assign(Object.assign({},Ie),{close:Fn,open:!0}),mt;function jt(){for(var Zn=arguments.length,li=new Array(Zn),$n=0;$n<Zn;$n++)li[$n]=arguments[$n];const vi=li.some(yi=>yi&&yi.triggerCancel);Ie.onCancel&&vi&&Ie.onCancel.apply(Ie,[()=>{}].concat((0,Gs.Z)(li.slice(1))));for(let yi=0;yi<Ks.length;yi++)if(Ks[yi]===Fn){Ks.splice(yi,1);break}(0,To.v)(Ge)}function pn(Zn){var{okText:li,cancelText:$n,prefixCls:vi,getContainer:yi}=Zn,ki=Ul(Zn,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(mt),mt=setTimeout(()=>{const zi=(0,vt.A)(),{getPrefixCls:Ti,getIconPrefixCls:ii,getTheme:Ui}=(0,go.w6)(),Pi=Ti(void 0,hl()),Oi=vi||`${Pi}-modal`,ss=ii(),ps=Ui();let ds=yi;ds===!1&&(ds=void 0),(0,To.s)(r.createElement(Hs,Object.assign({},ki,{getContainer:ds,prefixCls:Oi,rootPrefixCls:Pi,iconPrefixCls:ss,okText:li,locale:zi,theme:ps,cancelText:$n||zi.cancelText})),Ge)})}function Fn(){for(var Zn=arguments.length,li=new Array(Zn),$n=0;$n<Zn;$n++)li[$n]=arguments[$n];ut=Object.assign(Object.assign({},ut),{open:!1,afterClose:()=>{typeof Ie.afterClose=="function"&&Ie.afterClose(),jt.apply(this,li)}}),ut.visible&&delete ut.visible,pn(ut)}function qn(Zn){typeof Zn=="function"?ut=Zn(ut):ut=Object.assign(Object.assign({},ut),Zn),pn(ut)}return pn(ut),Ks.push(Fn),{destroy:Fn,update:qn}}function fl(Ie){return Object.assign(Object.assign({},Ie),{type:"warning"})}function Or(Ie){return Object.assign(Object.assign({},Ie),{type:"info"})}function $a(Ie){return Object.assign(Object.assign({},Ie),{type:"success"})}function Ga(Ie){return Object.assign(Object.assign({},Ie),{type:"error"})}function Ar(Ie){return Object.assign(Object.assign({},Ie),{type:"confirm"})}function Za(Ie){let{rootPrefixCls:Ge}=Ie;Da=Ge}var zl=e(8745),No=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};const Na=Ie=>{const{prefixCls:Ge,className:ut,closeIcon:mt,closable:jt,type:pn,title:Fn,children:qn,footer:Zn}=Ie,li=No(Ie,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:$n}=r.useContext(Po.E_),vi=$n(),yi=Ge||$n("modal"),ki=(0,cr.Z)(vi),[zi,Ti]=Vi(yi,ki),ii=`${yi}-confirm`;let Ui={};return pn?Ui={closable:jt!=null?jt:!1,title:"",footer:"",children:r.createElement(zs,Object.assign({},Ie,{prefixCls:yi,confirmPrefixCls:ii,rootPrefixCls:vi,content:qn}))}:Ui={closable:jt!=null?jt:!0,title:Fn,footer:Zn!==null&&r.createElement(Wt,Object.assign({},Ie)),children:qn},zi(r.createElement(Ws,Object.assign({prefixCls:yi,className:Is()(Ti,`${yi}-pure-panel`,pn&&ii,pn&&`${ii}-${pn}`,ut,ki)},li,{closeIcon:It(yi,mt),closable:jt},Ui)))};var jl=(0,zl.i)(Na);function gl(){const[Ie,Ge]=r.useState([]),ut=r.useCallback(mt=>(Ge(jt=>[].concat((0,Gs.Z)(jt),[mt])),()=>{Ge(jt=>jt.filter(pn=>pn!==mt))}),[]);return[Ie,ut]}var ml=e(81570),Qa=function(Ie,Ge){var ut={};for(var mt in Ie)Object.prototype.hasOwnProperty.call(Ie,mt)&&Ge.indexOf(mt)<0&&(ut[mt]=Ie[mt]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,mt=Object.getOwnPropertySymbols(Ie);jt<mt.length;jt++)Ge.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,mt[jt])&&(ut[mt[jt]]=Ie[mt[jt]]);return ut};const Ya=(Ie,Ge)=>{var ut,{afterClose:mt,config:jt}=Ie,pn=Qa(Ie,["afterClose","config"]);const[Fn,qn]=r.useState(!0),[Zn,li]=r.useState(jt),{direction:$n,getPrefixCls:vi}=r.useContext(Po.E_),yi=vi("modal"),ki=vi(),zi=()=>{var Pi;mt(),(Pi=Zn.afterClose)===null||Pi===void 0||Pi.call(Zn)},Ti=function(){qn(!1);for(var Pi=arguments.length,Oi=new Array(Pi),ss=0;ss<Pi;ss++)Oi[ss]=arguments[ss];const ps=Oi.some(ds=>ds&&ds.triggerCancel);Zn.onCancel&&ps&&Zn.onCancel.apply(Zn,[()=>{}].concat((0,Gs.Z)(Oi.slice(1))))};r.useImperativeHandle(Ge,()=>({destroy:Ti,update:Pi=>{li(Oi=>Object.assign(Object.assign({},Oi),Pi))}}));const ii=(ut=Zn.okCancel)!==null&&ut!==void 0?ut:Zn.type==="confirm",[Ui]=(0,Tr.Z)("Modal",ml.Z.Modal);return r.createElement(Hs,Object.assign({prefixCls:yi,rootPrefixCls:ki},Zn,{close:Ti,open:Fn,afterClose:zi,okText:Zn.okText||(ii?Ui==null?void 0:Ui.okText:Ui==null?void 0:Ui.justOkText),direction:Zn.direction||$n,cancelText:Zn.cancelText||(Ui==null?void 0:Ui.cancelText)},pn))};var kr=r.forwardRef(Ya);let Fr=0;const Cr=r.memo(r.forwardRef((Ie,Ge)=>{const[ut,mt]=gl();return r.useImperativeHandle(Ge,()=>({patchElement:mt}),[]),r.createElement(r.Fragment,null,ut)}));function pl(){const Ie=r.useRef(null),[Ge,ut]=r.useState([]);r.useEffect(()=>{Ge.length&&((0,Gs.Z)(Ge).forEach(Fn=>{Fn()}),ut([]))},[Ge]);const mt=r.useCallback(pn=>function(qn){var Zn;Fr+=1;const li=r.createRef();let $n;const vi=new Promise(ii=>{$n=ii});let yi=!1,ki;const zi=r.createElement(kr,{key:`modal-${Fr}`,config:pn(qn),ref:li,afterClose:()=>{ki==null||ki()},isSilent:()=>yi,onConfirm:ii=>{$n(ii)}});return ki=(Zn=Ie.current)===null||Zn===void 0?void 0:Zn.patchElement(zi),ki&&Ks.push(ki),{destroy:()=>{function ii(){var Ui;(Ui=li.current)===null||Ui===void 0||Ui.destroy()}li.current?ii():ut(Ui=>[].concat((0,Gs.Z)(Ui),[ii]))},update:ii=>{function Ui(){var Pi;(Pi=li.current)===null||Pi===void 0||Pi.update(ii)}li.current?Ui():ut(Pi=>[].concat((0,Gs.Z)(Pi),[Ui]))},then:ii=>(yi=!0,vi.then(ii))}},[]);return[r.useMemo(()=>({info:mt(Or),success:mt($a),error:mt(Ga),warning:mt(fl),confirm:mt(Ar)}),[]),r.createElement(Cr,{key:"modal-holder",ref:Ie})]}var Xa=pl;function Ja(Ie){return Ia(fl(Ie))}const Eo=Xi;Eo.useModal=Xa,Eo.info=function(Ge){return Ia(Or(Ge))},Eo.success=function(Ge){return Ia($a(Ge))},Eo.error=function(Ge){return Ia(Ga(Ge))},Eo.warning=Ja,Eo.warn=Ja,Eo.confirm=function(Ge){return Ia(Ar(Ge))},Eo.destroyAll=function(){for(;Ks.length;){const Ge=Ks.pop();Ge&&Ge()}},Eo.config=Za,Eo._InternalPanelDoNotUseOrYouWillBeFired=jl;var Kl=Eo,sa=function(Ge){return typeof window!="undefined"?matchMedia&&matchMedia("(prefers-color-scheme: ".concat(Ge,")")):{matches:!1}},qa,el=(0,r.createContext)({appearance:"light",setAppearance:function(){},isDarkMode:!1,themeMode:"light",setThemeMode:function(){},browserPrefers:(qa=sa("dark"))!==null&&qa!==void 0&&qa.matches?"dark":"light"}),Ta=function(){return(0,r.useContext)(el)};function Br(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function Dl(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Br(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):Br(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var $l=(0,r.memo)(function(Ie){var Ge=Ie.children,ut=Ie.theme,mt=Ie.prefixCls,jt=Ie.getStaticInstance,pn=Ie.staticInstanceConfig,Fn=Ta(),qn=Fn.appearance,Zn=Fn.isDarkMode,li=Xo.ZP.useMessage(pn==null?void 0:pn.message),$n=(0,is.Z)(li,2),vi=$n[0],yi=$n[1],ki=Yr.useNotification(pn==null?void 0:pn.notification),zi=(0,is.Z)(ki,2),Ti=zi[0],ii=zi[1],Ui=Kl.useModal(),Pi=(0,is.Z)(Ui,2),Oi=Pi[0],ss=Pi[1];(0,r.useEffect)(function(){jt==null||jt({message:vi,modal:Oi,notification:Ti})},[]);var ps=(0,r.useMemo)(function(){var ds=Zn?Ss.Z.darkAlgorithm:Ss.Z.defaultAlgorithm,os=ut;if(typeof ut=="function"&&(os=ut(qn)),!os)return{algorithm:ds};var $s=os.algorithm?os.algorithm instanceof Array?os.algorithm:[os.algorithm]:[];return Dl(Dl({},os),{},{algorithm:os.algorithm?[ds].concat((0,Gs.Z)($s)):ds})},[ut,Zn]);return(0,oi.jsxs)(go.ZP,{prefixCls:mt,theme:ps,children:[yi,ii,ss,Ge]})}),Gl=$l;function Ma(Ie,Ge){var ut=Ie==null?null:typeof Symbol!="undefined"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(ut!=null){var mt,jt,pn,Fn,qn=[],Zn=!0,li=!1;try{if(pn=(ut=ut.call(Ie)).next,Ge===0){if(Object(ut)!==ut)return;Zn=!1}else for(;!(Zn=(mt=pn.call(ut)).done)&&(qn.push(mt.value),qn.length!==Ge);Zn=!0);}catch($n){li=!0,jt=$n}finally{try{if(!Zn&&ut.return!=null&&(Fn=ut.return(),Object(Fn)!==Fn))return}finally{if(li)throw jt}}return qn}}function vl(Ie,Ge){return oa(Ie)||Ma(Ie,Ge)||Pa(Ie,Ge)||Nl()}function oa(Ie){if(Array.isArray(Ie))return Ie}function Pa(Ie,Ge){if(Ie){if(typeof Ie=="string")return Il(Ie,Ge);var ut=Object.prototype.toString.call(Ie).slice(8,-1);if(ut==="Object"&&Ie.constructor&&(ut=Ie.constructor.name),ut==="Map"||ut==="Set")return Array.from(Ie);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return Il(Ie,Ge)}}function Il(Ie,Ge){(Ge==null||Ge>Ie.length)&&(Ge=Ie.length);for(var ut=0,mt=new Array(Ge);ut<Ge;ut++)mt[ut]=Ie[ut];return mt}function Nl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tl(Ie,Ge){var ut=Ge||{},mt=ut.defaultValue,jt=ut.value,pn=ut.onChange,Fn=ut.postState,qn=r.useState(function(){return jt!==void 0?jt:mt!==void 0?typeof mt=="function"?mt():mt:typeof Ie=="function"?Ie():Ie}),Zn=vl(qn,2),li=Zn[0],$n=Zn[1],vi=jt!==void 0?jt:li;Fn&&(vi=Fn(vi));function yi(ki){$n(ki),vi!==ki&&pn&&pn(ki,vi)}return[vi,yi]}var Ml=Tl,tl=function(Ge){typeof r.startTransition=="function"?(0,r.startTransition)(Ge):Ge()},sr,_l=function(Ge){var ut=Ge.themeMode,mt=Ge.setAppearance,jt=Ge.setBrowserPrefers,pn=function(){tl(function(){sa("dark").matches?mt("dark"):mt("light")})},Fn=function(){tl(function(){sa("dark").matches?jt("dark"):jt("light")})};return(0,r.useLayoutEffect)(function(){if(ut!=="auto"){tl(function(){mt(ut)});return}return setTimeout(pn,1),sr||(sr=sa("dark")),sr.addEventListener("change",pn),function(){sr.removeEventListener("change",pn)}},[ut]),(0,r.useLayoutEffect)(function(){return sr||(sr=sa("dark")),sr.addEventListener("change",Fn),function(){sr.removeEventListener("change",Fn)}},[]),null},Zl=(0,r.memo)(function(Ie){var Ge,ut=Ie.children,mt=Ie.appearance,jt=Ie.defaultAppearance,pn=Ie.onAppearanceChange,Fn=Ie.themeMode,qn=Ie.defaultThemeMode,Zn=Ie.onThemeModeChange,li=Ie.useTheme,$n=li(),vi=$n.appearance,yi=$n.themeMode,ki=Ml("light",{value:Fn,defaultValue:qn!=null?qn:yi,onChange:function(oo){return Zn==null?void 0:Zn(oo)}}),zi=(0,is.Z)(ki,2),Ti=zi[0],ii=zi[1],Ui=Ml("light",{value:mt,defaultValue:jt!=null?jt:vi,onChange:function(oo){return pn==null?void 0:pn(oo)}}),Pi=(0,is.Z)(Ui,2),Oi=Pi[0],ss=Pi[1],ps=(0,r.useState)((Ge=sa("dark"))!==null&&Ge!==void 0&&Ge.matches?"dark":"light"),ds=(0,is.Z)(ps,2),os=ds[0],$s=ds[1],Vs=(0,r.useState)(!1),ho=(0,is.Z)(Vs,2),eo=ho[0],ms=ho[1];return(0,r.useEffect)(function(){tl(function(){ms(!0)})},[]),(0,oi.jsxs)(el.Provider,{value:{themeMode:Ti,setThemeMode:ii,appearance:Oi,setAppearance:ss,isDarkMode:Oi==="dark",browserPrefers:os},children:[eo&&(0,oi.jsx)(_l,{themeMode:Ti,setAppearance:ss,setBrowserPrefers:$s}),ut]})}),Ql=Zl,Yl=function(Ge){var ut=Ge.css,mt=Ge.token;return{buttonDefaultHover:ut({backgroundColor:mt.colorBgContainer,border:"1px solid ".concat(mt.colorBorder),cursor:"pointer",":hover":{color:mt.colorPrimaryHover,borderColor:mt.colorPrimaryHover},":active":{color:mt.colorPrimaryActive,borderColor:mt.colorPrimaryActive}})}},Xl=function(Ge){return Object.fromEntries(Object.entries(Ge).map(function(ut){var mt=(0,is.Z)(ut,2),jt=mt[0],pn=mt[1];return[jt,pn.styles]}))},br=function(){var Ge=Ps(),ut=Ta(),mt=ut.appearance,jt=ut.isDarkMode;return(0,r.useMemo)(function(){return Xl(Yl({token:Ge,css:ni,appearance:mt,isDarkMode:jt}))},[Ge,mt,jt])};function Pl(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function Cl(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Pl(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):Pl(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var nl=function(){var Ge=Ps(),ut=br();return(0,r.useMemo)(function(){return Cl(Cl({},Ge),{},{stylish:ut})},[Ge,ut])},Jl=["stylish"];function bl(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function _o(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?bl(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):bl(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var uo=function(Ge){var ut=Ge.children,mt=Ge.customToken,jt=Ge.defaultCustomToken,pn=Ge.customStylish,Fn=Ge.prefixCls,qn=Ge.StyledThemeProvider,Zn=Ta(),li=Zn.appearance,$n=Zn.isDarkMode,vi=nl(),yi=vi.stylish,ki=(0,Es.Z)(vi,Jl),zi=(0,r.useMemo)(function(){return jt?jt instanceof Function?jt({token:ki,appearance:li,isDarkMode:$n}):jt:{}},[jt,ki,li]),Ti=(0,r.useMemo)(function(){return mt instanceof Function?_o(_o({},zi),mt({token:ki,appearance:li,isDarkMode:$n})):_o(_o({},zi),mt)},[zi,mt,ki,li]),ii=(0,r.useMemo)(function(){return pn?pn({token:_o(_o({},ki),Ti),stylish:yi,appearance:li,isDarkMode:$n,css:ni}):{}},[pn,ki,Ti,yi,li]),Ui=(0,r.useMemo)(function(){return _o(_o({},ii),yi)},[ii,yi]),Pi=_o(_o(_o(_o({},ki),Ti),{},{stylish:Ui},Zn),{},{prefixCls:Fn});return(0,oi.jsx)(qn,{theme:Pi,children:ut})},ql=uo,ec=function(Ge){var ut=Ge.styledConfig?Vr(Ge.styledConfig):void 0,mt=Ge.StyleEngineContext;return(0,r.memo)(function(jt){var pn=jt.children,Fn=jt.customToken,qn=jt.customStylish,Zn=jt.theme,li=jt.getStaticInstance,$n=jt.prefixCls,vi=jt.staticInstanceConfig,yi=jt.appearance,ki=jt.defaultAppearance,zi=jt.onAppearanceChange,Ti=jt.themeMode,ii=jt.defaultThemeMode,Ui=jt.onThemeModeChange,Pi=jt.styled,Oi=(0,r.useContext)(mt),ss=Oi.prefixCls,ps=Oi.StyledThemeContext,ds=Oi.CustomThemeContext,os=(0,r.useContext)(ds),$s=Pi?Vr(Pi):ut||bo,Vs=$n||ss;return(0,oi.jsx)(mt.Provider,{value:{prefixCls:Vs,StyledThemeContext:(Pi==null?void 0:Pi.ThemeContext)||ps||Yo,CustomThemeContext:ds},children:(0,oi.jsx)(Ql,{themeMode:Ti,defaultThemeMode:ii,onThemeModeChange:Ui,defaultAppearance:ki,appearance:yi,onAppearanceChange:zi,useTheme:Ge.useTheme,children:(0,oi.jsx)(Gl,{prefixCls:Vs,staticInstanceConfig:vi,theme:Zn,getStaticInstance:li,children:(0,oi.jsx)(ql,{prefixCls:Vs,customToken:Fn,defaultCustomToken:os,customStylish:qn,StyledThemeProvider:$s,children:pn})})})})})};function Rl(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function xo(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Rl(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):Rl(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var tc=function(Ge){return function(){var ut=Ge.StyleEngineContext,mt=(0,r.useContext)(ut),jt=mt.StyledThemeContext,pn=mt.CustomThemeContext,Fn=mt.prefixCls,qn=nl(),Zn=Ta(),li=(0,r.useContext)(pn),$n=(0,r.useContext)(jt!=null?jt:Yo)||{},vi=(0,r.useContext)(go.ZP.ConfigContext),yi=vi.iconPrefixCls,ki=vi.getPrefixCls,zi=ki(),Ti=Fn&&Fn!=="ant"?Fn:zi,ii=(0,r.useMemo)(function(){return xo(xo(xo(xo({},qn),Zn),li),{},{prefixCls:Ti,iconPrefixCls:yi})},[qn,Zn,li,Ti,yi]);return!$n||Object.keys($n).length===0?ii:xo(xo({},$n),{},{prefixCls:Ti,iconPrefixCls:yi})}};function yl(Ie,Ge){var ut=Object.keys(Ie);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ie);Ge&&(mt=mt.filter(function(jt){return Object.getOwnPropertyDescriptor(Ie,jt).enumerable})),ut.push.apply(ut,mt)}return ut}function Ol(Ie){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?yl(Object(ut),!0).forEach(function(mt){(0,U.Z)(Ie,mt,ut[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(ut)):yl(Object(ut)).forEach(function(mt){Object.defineProperty(Ie,mt,Object.getOwnPropertyDescriptor(ut,mt))})}return Ie}var Al=new ln;typeof e.g!="undefined"&&(e.g.__ANTD_STYLE_CACHE_MANAGER_FOR_SSR__=Al);var nc=function(Ge){var ut,mt,jt,pn=Ol(Ol({},Ge),{},{key:(ut=Ge.key)!==null&&ut!==void 0?ut:"zcss",speedy:(mt=Ge.speedy)!==null&&mt!==void 0?mt:!1}),Fn=ee({key:pn.key,speedy:pn.speedy,container:pn.container}),qn=gi(Fn),Zn=us(qn);Fn.cache=Al.add(Fn.cache);var li=(0,r.createContext)(pn.customToken?pn.customToken:{}),$n=(jt=pn.styled)===null||jt===void 0?void 0:jt.ThemeContext,vi=(0,r.createContext)({CustomThemeContext:li,StyledThemeContext:$n,prefixCls:pn==null?void 0:pn.prefixCls,iconPrefixCls:pn==null?void 0:pn.iconPrefixCls}),yi=tc({StyleEngineContext:vi}),ki=Qo({hashPriority:pn.hashPriority,useTheme:yi,EmotionContext:qn}),zi=pi(yi),Ti=qi(ki),ii=ec({styledConfig:pn.styled,StyleEngineContext:vi,useTheme:yi}),Ui=Rn(Fn.cache,{hashPriority:pn.hashPriority}),Pi=Ui.cx,Oi=Fn.injectGlobal,ss=Fn.keyframes;return{createStyles:ki,createGlobalStyle:zi,createStylish:Ti,css:ni,cx:Pi,keyframes:ss,injectGlobal:Oi,styleManager:Fn,useTheme:yi,StyleProvider:Zn,ThemeProvider:ii}},io=nc({key:b,speedy:!1}),Ys=io.createStyles,fc=io.createGlobalStyle,kl=io.createStylish,Sl=io.css,gc=io.cx,mc=io.keyframes,pc=io.injectGlobal,il=io.styleManager,Fl=io.ThemeProvider,Ra=io.StyleProvider,vc=io.useTheme},38925:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return H}});var b=e(67294),U=e(89739),r=e(4340),w=e(97937),c=e(21640),_=e(78860),I=e(94184),M=e.n(I),D=e(82225),p=e(64217),o=e(96159),u=e(53124),d=e(43109),n=e(14747),i=e(91945);const f=(V,G,j,F,K)=>({background:V,border:`${(0,d.bf)(F.lineWidth)} ${F.lineType} ${G}`,[`${K}-icon`]:{color:j}}),v=V=>{const{componentCls:G,motionDurationSlow:j,marginXS:F,marginSM:K,fontSize:m,fontSizeLG:J,lineHeight:X,borderRadiusLG:te,motionEaseInOutCirc:le,withDescriptionIconSize:ge,colorText:we,colorTextHeading:pe,withDescriptionPadding:Pe,defaultPadding:Ne}=V;return{[G]:Object.assign(Object.assign({},(0,n.Wf)(V)),{position:"relative",display:"flex",alignItems:"center",padding:Ne,wordWrap:"break-word",borderRadius:te,[`&${G}-rtl`]:{direction:"rtl"},[`${G}-content`]:{flex:1,minWidth:0},[`${G}-icon`]:{marginInlineEnd:F,lineHeight:0},["&-description"]:{display:"none",fontSize:m,lineHeight:X},"&-message":{color:pe},[`&${G}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${j} ${le}, opacity ${j} ${le},
        padding-top ${j} ${le}, padding-bottom ${j} ${le},
        margin-bottom ${j} ${le}`},[`&${G}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${G}-with-description`]:{alignItems:"flex-start",padding:Pe,[`${G}-icon`]:{marginInlineEnd:K,fontSize:ge,lineHeight:0},[`${G}-message`]:{display:"block",marginBottom:F,color:pe,fontSize:J},[`${G}-description`]:{display:"block",color:we}},[`${G}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},a=V=>{const{componentCls:G,colorSuccess:j,colorSuccessBorder:F,colorSuccessBg:K,colorWarning:m,colorWarningBorder:J,colorWarningBg:X,colorError:te,colorErrorBorder:le,colorErrorBg:ge,colorInfo:we,colorInfoBorder:pe,colorInfoBg:Pe}=V;return{[G]:{"&-success":f(K,F,j,V,G),"&-info":f(Pe,pe,we,V,G),"&-warning":f(X,J,m,V,G),"&-error":Object.assign(Object.assign({},f(ge,le,te,V,G)),{[`${G}-description > pre`]:{margin:0,padding:0}})}}},S=V=>{const{componentCls:G,iconCls:j,motionDurationMid:F,marginXS:K,fontSizeIcon:m,colorIcon:J,colorIconHover:X}=V;return{[G]:{["&-action"]:{marginInlineStart:K},[`${G}-close-icon`]:{marginInlineStart:K,padding:0,overflow:"hidden",fontSize:m,lineHeight:(0,d.bf)(m),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${j}-close`]:{color:J,transition:`color ${F}`,"&:hover":{color:X}}},"&-close-text":{color:J,transition:`color ${F}`,"&:hover":{color:X}}}}},g=V=>({withDescriptionIconSize:V.fontSizeHeading3,defaultPadding:`${V.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${V.paddingMD}px ${V.paddingContentHorizontalLG}px`});var y=(0,i.I$)("Alert",V=>[v(V),a(V),S(V)],g),C=function(V,G){var j={};for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&G.indexOf(F)<0&&(j[F]=V[F]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,F=Object.getOwnPropertySymbols(V);K<F.length;K++)G.indexOf(F[K])<0&&Object.prototype.propertyIsEnumerable.call(V,F[K])&&(j[F[K]]=V[F[K]]);return j};const E={success:U.Z,info:_.Z,error:r.Z,warning:c.Z},A=V=>{const{icon:G,prefixCls:j,type:F}=V,K=E[F]||null;return G?(0,o.wm)(G,b.createElement("span",{className:`${j}-icon`},G),()=>({className:M()(`${j}-icon`,{[G.props.className]:G.props.className})})):b.createElement(K,{className:`${j}-icon`})},N=V=>{const{isClosable:G,prefixCls:j,closeIcon:F,handleClose:K}=V,m=F===!0||F===void 0?b.createElement(w.Z,null):F;return G?b.createElement("button",{type:"button",onClick:K,className:`${j}-close-icon`,tabIndex:0},m):null};var W=V=>{const{description:G,prefixCls:j,message:F,banner:K,className:m,rootClassName:J,style:X,onMouseEnter:te,onMouseLeave:le,onClick:ge,afterClose:we,showIcon:pe,closable:Pe,closeText:Ne,closeIcon:ae,action:Me}=V,ke=C(V,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[Ue,Le]=b.useState(!1),ie=b.useRef(null),{getPrefixCls:ce,direction:Re,alert:ye}=b.useContext(u.E_),Se=ce("alert",j),[me,he]=y(Se),se=it=>{var Et;Le(!0),(Et=V.onClose)===null||Et===void 0||Et.call(V,it)},ve=b.useMemo(()=>V.type!==void 0?V.type:K?"warning":"info",[V.type,K]),xe=b.useMemo(()=>Ne?!0:typeof Pe=="boolean"?Pe:ae!==!1&&ae!==null&&ae!==void 0,[Ne,ae,Pe]),je=K&&pe===void 0?!0:pe,Oe=M()(Se,`${Se}-${ve}`,{[`${Se}-with-description`]:!!G,[`${Se}-no-icon`]:!je,[`${Se}-banner`]:!!K,[`${Se}-rtl`]:Re==="rtl"},ye==null?void 0:ye.className,m,J,he),Ze=(0,p.Z)(ke,{aria:!0,data:!0});return me(b.createElement(D.ZP,{visible:!Ue,motionName:`${Se}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:it=>({maxHeight:it.offsetHeight}),onLeaveEnd:we},it=>{let{className:Et,style:st}=it;return b.createElement("div",Object.assign({ref:ie,"data-show":!Ue,className:M()(Oe,Et),style:Object.assign(Object.assign(Object.assign({},ye==null?void 0:ye.style),X),st),onMouseEnter:te,onMouseLeave:le,onClick:ge,role:"alert"},Ze),je?b.createElement(A,{description:G,icon:V.icon,prefixCls:Se,type:ve}):null,b.createElement("div",{className:`${Se}-content`},F?b.createElement("div",{className:`${Se}-message`},F):null,G?b.createElement("div",{className:`${Se}-description`},G):null),Me?b.createElement("div",{className:`${Se}-action`},Me):null,b.createElement(N,{isClosable:xe,prefixCls:Se,closeIcon:Ne||ae,handleClose:se}))}))},$=e(15671),Y=e(43144),R=e(32531),L=e(73568),O=function(V){(0,R.Z)(j,V);var G=(0,L.Z)(j);function j(){var F;return(0,$.Z)(this,j),F=G.apply(this,arguments),F.state={error:void 0,info:{componentStack:""}},F}return(0,Y.Z)(j,[{key:"componentDidCatch",value:function(K,m){this.setState({error:K,info:m})}},{key:"render",value:function(){const{message:K,description:m,children:J}=this.props,{error:X,info:te}=this.state,le=te&&te.componentStack?te.componentStack:null,ge=typeof K=="undefined"?(X||"").toString():K,we=typeof m=="undefined"?le:m;return X?b.createElement(W,{type:"error",message:ge,description:b.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},we)}):J}}]),j}(b.Component);const P=W;P.ErrorBoundary=O;var H=P},29789:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return F}});var b=e(67294),U=e(94184),r=e.n(U),w=e(87462),c=e(1413),_=e(4942),I=e(97685),M=e(91),D=e(21770),p=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],o=(0,b.forwardRef)(function(K,m){var J,X=K.prefixCls,te=X===void 0?"rc-checkbox":X,le=K.className,ge=K.style,we=K.checked,pe=K.disabled,Pe=K.defaultChecked,Ne=Pe===void 0?!1:Pe,ae=K.type,Me=ae===void 0?"checkbox":ae,ke=K.title,Ue=K.onChange,Le=(0,M.Z)(K,p),ie=(0,b.useRef)(null),ce=(0,D.Z)(Ne,{value:we}),Re=(0,I.Z)(ce,2),ye=Re[0],Se=Re[1];(0,b.useImperativeHandle)(m,function(){return{focus:function(){var ve;(ve=ie.current)===null||ve===void 0||ve.focus()},blur:function(){var ve;(ve=ie.current)===null||ve===void 0||ve.blur()},input:ie.current}});var me=r()(te,le,(J={},(0,_.Z)(J,"".concat(te,"-checked"),ye),(0,_.Z)(J,"".concat(te,"-disabled"),pe),J)),he=function(ve){pe||("checked"in K||Se(ve.target.checked),Ue==null||Ue({target:(0,c.Z)((0,c.Z)({},K),{},{type:Me,checked:ve.target.checked}),stopPropagation:function(){ve.stopPropagation()},preventDefault:function(){ve.preventDefault()},nativeEvent:ve.nativeEvent}))};return b.createElement("span",{className:me,title:ke,style:ge},b.createElement("input",(0,w.Z)({},Le,{className:"".concat(te,"-input"),ref:ie,onChange:he,disabled:pe,checked:!!ye,type:Me})),b.createElement("span",{className:"".concat(te,"-inner")}))}),u=o,d=e(45353),n=e(17415),i=e(53124),f=e(98866),v=e(35792),a=e(65223),g=b.createContext(null),y=e(43109),C=e(14747),E=e(45503),A=e(91945);const N=K=>{const{checkboxCls:m}=K,J=`${m}-wrapper`;return[{[`${m}-group`]:Object.assign(Object.assign({},(0,C.Wf)(K)),{display:"inline-flex",flexWrap:"wrap",columnGap:K.marginXS,[`> ${K.antCls}-row`]:{flex:1}}),[J]:Object.assign(Object.assign({},(0,C.Wf)(K)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${J}`]:{marginInlineStart:0},[`&${J}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[m]:Object.assign(Object.assign({},(0,C.Wf)(K)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:K.borderRadiusSM,alignSelf:"center",[`${m}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${m}-inner`]:Object.assign({},(0,C.oN)(K))},[`${m}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:K.checkboxSize,height:K.checkboxSize,direction:"ltr",backgroundColor:K.colorBgContainer,border:`${(0,y.bf)(K.lineWidth)} ${K.lineType} ${K.colorBorder}`,borderRadius:K.borderRadiusSM,borderCollapse:"separate",transition:`all ${K.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:K.calc(K.checkboxSize).div(14).mul(5).equal(),height:K.calc(K.checkboxSize).div(14).mul(8).equal(),border:`${(0,y.bf)(K.lineWidthBold)} solid ${K.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${K.motionDurationFast} ${K.motionEaseInBack}, opacity ${K.motionDurationFast}`}},"& + span":{paddingInlineStart:K.paddingXS,paddingInlineEnd:K.paddingXS}})},{[`
        ${J}:not(${J}-disabled),
        ${m}:not(${m}-disabled)
      `]:{[`&:hover ${m}-inner`]:{borderColor:K.colorPrimary}},[`${J}:not(${J}-disabled)`]:{[`&:hover ${m}-checked:not(${m}-disabled) ${m}-inner`]:{backgroundColor:K.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${m}-checked:not(${m}-disabled):after`]:{borderColor:K.colorPrimaryHover}}},{[`${m}-checked`]:{[`${m}-inner`]:{backgroundColor:K.colorPrimary,borderColor:K.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${K.motionDurationMid} ${K.motionEaseOutBack} ${K.motionDurationFast}`}}},[`
        ${J}-checked:not(${J}-disabled),
        ${m}-checked:not(${m}-disabled)
      `]:{[`&:hover ${m}-inner`]:{backgroundColor:K.colorPrimaryHover,borderColor:"transparent"}}},{[m]:{"&-indeterminate":{[`${m}-inner`]:{backgroundColor:K.colorBgContainer,borderColor:K.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:K.calc(K.fontSizeLG).div(2).equal(),height:K.calc(K.fontSizeLG).div(2).equal(),backgroundColor:K.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${J}-disabled`]:{cursor:"not-allowed"},[`${m}-disabled`]:{[`&, ${m}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${m}-inner`]:{background:K.colorBgContainerDisabled,borderColor:K.colorBorder,"&:after":{borderColor:K.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:K.colorTextDisabled},[`&${m}-indeterminate ${m}-inner::after`]:{background:K.colorTextDisabled}}}]};function B(K,m){const J=(0,E.TS)(m,{checkboxCls:`.${K}`,checkboxSize:m.controlInteractiveSize});return[N(J)]}var W=(0,A.I$)("Checkbox",(K,m)=>{let{prefixCls:J}=m;return[B(J,K)]}),$=function(K,m){var J={};for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&m.indexOf(X)<0&&(J[X]=K[X]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,X=Object.getOwnPropertySymbols(K);te<X.length;te++)m.indexOf(X[te])<0&&Object.prototype.propertyIsEnumerable.call(K,X[te])&&(J[X[te]]=K[X[te]]);return J};const Y=(K,m)=>{var J;const{prefixCls:X,className:te,rootClassName:le,children:ge,indeterminate:we=!1,style:pe,onMouseEnter:Pe,onMouseLeave:Ne,skipGroup:ae=!1,disabled:Me}=K,ke=$(K,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:Ue,direction:Le,checkbox:ie}=b.useContext(i.E_),ce=b.useContext(g),{isFormItemInput:Re}=b.useContext(a.aM),ye=b.useContext(f.Z),Se=(J=(ce==null?void 0:ce.disabled)||Me)!==null&&J!==void 0?J:ye,me=b.useRef(ke.value);b.useEffect(()=>{ce==null||ce.registerValue(ke.value)},[]),b.useEffect(()=>{if(!ae)return ke.value!==me.current&&(ce==null||ce.cancelValue(me.current),ce==null||ce.registerValue(ke.value),me.current=ke.value),()=>ce==null?void 0:ce.cancelValue(ke.value)},[ke.value]);const he=Ue("checkbox",X),se=(0,v.Z)(he),[ve,xe]=W(he,se),je=Object.assign({},ke);ce&&!ae&&(je.onChange=function(){ke.onChange&&ke.onChange.apply(ke,arguments),ce.toggleOption&&ce.toggleOption({label:ge,value:ke.value})},je.name=ce.name,je.checked=ce.value.includes(ke.value));const Oe=r()(`${he}-wrapper`,{[`${he}-rtl`]:Le==="rtl",[`${he}-wrapper-checked`]:je.checked,[`${he}-wrapper-disabled`]:Se,[`${he}-wrapper-in-form-item`]:Re},ie==null?void 0:ie.className,te,le,se,xe),Ze=r()({[`${he}-indeterminate`]:we},n.A,xe),it=we?"mixed":void 0;return ve(b.createElement(d.Z,{component:"Checkbox",disabled:Se},b.createElement("label",{className:Oe,style:Object.assign(Object.assign({},ie==null?void 0:ie.style),pe),onMouseEnter:Pe,onMouseLeave:Ne},b.createElement(u,Object.assign({"aria-checked":it},je,{prefixCls:he,className:Ze,disabled:Se,ref:m})),ge!==void 0&&b.createElement("span",null,ge))))};var L=b.forwardRef(Y),z=e(74902),O=e(98423),P=function(K,m){var J={};for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&m.indexOf(X)<0&&(J[X]=K[X]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,X=Object.getOwnPropertySymbols(K);te<X.length;te++)m.indexOf(X[te])<0&&Object.prototype.propertyIsEnumerable.call(K,X[te])&&(J[X[te]]=K[X[te]]);return J};const H=(K,m)=>{const{defaultValue:J,children:X,options:te=[],prefixCls:le,className:ge,rootClassName:we,style:pe,onChange:Pe}=K,Ne=P(K,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:ae,direction:Me}=b.useContext(i.E_),[ke,Ue]=b.useState(Ne.value||J||[]),[Le,ie]=b.useState([]);b.useEffect(()=>{"value"in Ne&&Ue(Ne.value||[])},[Ne.value]);const ce=b.useMemo(()=>te.map(Et=>typeof Et=="string"||typeof Et=="number"?{label:Et,value:Et}:Et),[te]),Re=Et=>{ie(st=>st.filter(pt=>pt!==Et))},ye=Et=>{ie(st=>[].concat((0,z.Z)(st),[Et]))},Se=Et=>{const st=ke.indexOf(Et.value),pt=(0,z.Z)(ke);st===-1?pt.push(Et.value):pt.splice(st,1),"value"in Ne||Ue(pt),Pe==null||Pe(pt.filter(Mt=>Le.includes(Mt)).sort((Mt,qt)=>{const Ft=ce.findIndex(_t=>_t.value===Mt),Xt=ce.findIndex(_t=>_t.value===qt);return Ft-Xt}))},me=ae("checkbox",le),he=`${me}-group`,se=(0,v.Z)(me),[ve,xe]=W(me,se),je=(0,O.Z)(Ne,["value","disabled"]),Oe=te.length?ce.map(Et=>b.createElement(L,{prefixCls:me,key:Et.value.toString(),disabled:"disabled"in Et?Et.disabled:Ne.disabled,value:Et.value,checked:ke.includes(Et.value),onChange:Et.onChange,className:`${he}-item`,style:Et.style,title:Et.title,id:Et.id,required:Et.required},Et.label)):X,Ze={toggleOption:Se,value:ke,disabled:Ne.disabled,name:Ne.name,registerValue:ye,cancelValue:Re},it=r()(he,{[`${he}-rtl`]:Me==="rtl"},ge,we,se,xe);return ve(b.createElement("div",Object.assign({className:it,style:pe},je,{ref:m}),b.createElement(g.Provider,{value:Ze},Oe)))},V=b.forwardRef(H);var G=b.memo(V);const j=L;j.Group=G,j.__ANT_CHECKBOX=!0;var F=j},96074:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return n}});var b=e(67294),U=e(94184),r=e.n(U),w=e(53124),c=e(43109),_=e(14747),I=e(91945),M=e(45503);const D=i=>{const{componentCls:f,sizePaddingEdgeHorizontal:v,colorSplit:a,lineWidth:S,textPaddingInline:g,orientationMargin:y,verticalMarginInline:C}=i;return{[f]:Object.assign(Object.assign({},(0,_.Wf)(i)),{borderBlockStart:`${(0,c.bf)(S)} solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:C,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,c.bf)(S)} solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,c.bf)(i.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${f}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,c.bf)(i.dividerHorizontalWithTextGutterMargin)} 0`,color:i.colorTextHeading,fontWeight:500,fontSize:i.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,c.bf)(S)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${f}-with-text-left`]:{"&::before":{width:`calc(${y} * 100%)`},"&::after":{width:`calc(100% - ${y} * 100%)`}},[`&-horizontal${f}-with-text-right`]:{"&::before":{width:`calc(100% - ${y} * 100%)`},"&::after":{width:`calc(${y} * 100%)`}},[`${f}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:g},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${(0,c.bf)(S)} 0 0`},[`&-horizontal${f}-with-text${f}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${f}-dashed`]:{borderInlineStartWidth:S,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${f}-with-text`]:{color:i.colorText,fontWeight:"normal",fontSize:i.fontSize},[`&-horizontal${f}-with-text-left${f}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${f}-inner-text`]:{paddingInlineStart:v}},[`&-horizontal${f}-with-text-right${f}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${f}-inner-text`]:{paddingInlineEnd:v}}})}},p=i=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:i.marginXS});var o=(0,I.I$)("Divider",i=>{const f=(0,M.TS)(i,{dividerHorizontalWithTextGutterMargin:i.margin,dividerHorizontalGutterMargin:i.marginLG,sizePaddingEdgeHorizontal:0});return[D(f)]},p,{unitless:{orientationMargin:!0}}),u=function(i,f){var v={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&f.indexOf(a)<0&&(v[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,a=Object.getOwnPropertySymbols(i);S<a.length;S++)f.indexOf(a[S])<0&&Object.prototype.propertyIsEnumerable.call(i,a[S])&&(v[a[S]]=i[a[S]]);return v},n=i=>{const{getPrefixCls:f,direction:v,divider:a}=b.useContext(w.E_),{prefixCls:S,type:g="horizontal",orientation:y="center",orientationMargin:C,className:E,rootClassName:A,children:N,dashed:B,plain:W,style:$}=i,Y=u(i,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),R=f("divider",S),[L,z]=o(R),O=y.length>0?`-${y}`:y,P=!!N,H=y==="left"&&C!=null,V=y==="right"&&C!=null,G=r()(R,a==null?void 0:a.className,z,`${R}-${g}`,{[`${R}-with-text`]:P,[`${R}-with-text${O}`]:P,[`${R}-dashed`]:!!B,[`${R}-plain`]:!!W,[`${R}-rtl`]:v==="rtl",[`${R}-no-default-orientation-margin-left`]:H,[`${R}-no-default-orientation-margin-right`]:V},E,A),j=b.useMemo(()=>typeof C=="number"?C:/^\d+$/.test(C)?Number(C):C,[C]),F=Object.assign(Object.assign({},H&&{marginLeft:j}),V&&{marginRight:j});return L(b.createElement("div",Object.assign({className:G,style:Object.assign(Object.assign({},a==null?void 0:a.style),$)},Y,{role:"separator"}),N&&g!=="vertical"&&b.createElement("span",{className:`${R}-inner-text`,style:F},N)))}},10672:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return ln}});var b=e(74902),U=e(94184),r=e.n(U),w=e(82225),c=e(67294),_=e(33603),I=e(65223);function M(ct){const[Pt,Nt]=c.useState(ct);return c.useEffect(()=>{const Tt=setTimeout(()=>{Nt(ct)},ct.length?0:10);return()=>{clearTimeout(Tt)}},[ct]),Pt}var D=e(43109),p=e(14747),o=e(50438),d=ct=>({[ct.componentCls]:{[`${ct.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${ct.motionDurationMid} ${ct.motionEaseInOut},
        opacity ${ct.motionDurationMid} ${ct.motionEaseInOut} !important`}},[`${ct.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${ct.motionDurationMid} ${ct.motionEaseInOut},
        opacity ${ct.motionDurationMid} ${ct.motionEaseInOut} !important`}}}),n=e(45503),i=e(91945),v=ct=>{const{componentCls:Pt}=ct,Nt=`${Pt}-show-help`,Tt=`${Pt}-show-help-item`;return{[Nt]:{transition:`opacity ${ct.motionDurationSlow} ${ct.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[Tt]:{overflow:"hidden",transition:`height ${ct.motionDurationSlow} ${ct.motionEaseInOut},
                     opacity ${ct.motionDurationSlow} ${ct.motionEaseInOut},
                     transform ${ct.motionDurationSlow} ${ct.motionEaseInOut} !important`,[`&${Tt}-appear, &${Tt}-enter`]:{transform:"translateY(-5px)",opacity:0,["&-active"]:{transform:"translateY(0)",opacity:1}},[`&${Tt}-leave-active`]:{transform:"translateY(-5px)"}}}}};const a=ct=>({legend:{display:"block",width:"100%",marginBottom:ct.marginLG,padding:0,color:ct.colorTextDescription,fontSize:ct.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,D.bf)(ct.lineWidth)} ${ct.lineType} ${ct.colorBorder}`},label:{fontSize:ct.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},[`input[type='file']:focus,
  input[type='radio']:focus,
  input[type='checkbox']:focus`]:{outline:0,boxShadow:`0 0 0 ${(0,D.bf)(ct.controlOutlineWidth)} ${ct.controlOutline}`},output:{display:"block",paddingTop:15,color:ct.colorText,fontSize:ct.fontSize,lineHeight:ct.lineHeight}}),S=(ct,Pt)=>{const{formItemCls:Nt}=ct;return{[Nt]:{[`${Nt}-label > label`]:{height:Pt},[`${Nt}-control-input`]:{minHeight:Pt}}}},g=ct=>{const{componentCls:Pt}=ct;return{[ct.componentCls]:Object.assign(Object.assign(Object.assign({},(0,p.Wf)(ct)),a(ct)),{[`${Pt}-text`]:{display:"inline-block",paddingInlineEnd:ct.paddingSM},"&-small":Object.assign({},S(ct,ct.controlHeightSM)),"&-large":Object.assign({},S(ct,ct.controlHeightLG))})}},y=ct=>{const{formItemCls:Pt,iconCls:Nt,componentCls:Tt,rootPrefixCls:Zt,labelRequiredMarkColor:zt,labelColor:_n,labelFontSize:hn,labelHeight:Mn,labelColonMarginInlineStart:Rn,labelColonMarginInlineEnd:ni,itemMarginBottom:gi}=ct;return{[Pt]:Object.assign(Object.assign({},(0,p.Wf)(ct)),{marginBottom:gi,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${Zt}-row`]:{display:"none"},"&-has-warning":{[`${Pt}-split`]:{color:ct.colorError}},"&-has-error":{[`${Pt}-split`]:{color:ct.colorWarning}},[`${Pt}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:ct.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:Mn,color:_n,fontSize:hn,[`> ${Nt}`]:{fontSize:ct.fontSize,verticalAlign:"top"},[`&${Pt}-required:not(${Pt}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:ct.marginXXS,color:zt,fontSize:ct.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${Tt}-hide-required-mark &`]:{display:"none"}},[`${Pt}-optional`]:{display:"inline-block",marginInlineStart:ct.marginXXS,color:ct.colorTextDescription,[`${Tt}-hide-required-mark &`]:{display:"none"}},[`${Pt}-tooltip`]:{color:ct.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:ct.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:Rn,marginInlineEnd:ni},[`&${Pt}-no-colon::after`]:{content:'"\\a0"'}}},[`${Pt}-control`]:{["--ant-display"]:"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${Zt}-col-'"]):not([class*="' ${Zt}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:ct.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[Pt]:{"&-explain, &-extra":{clear:"both",color:ct.colorTextDescription,fontSize:ct.fontSize,lineHeight:ct.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:ct.controlHeightSM,transition:`color ${ct.motionDurationMid} ${ct.motionEaseOut}`},"&-explain":{"&-error":{color:ct.colorError},"&-warning":{color:ct.colorWarning}}},[`&-with-help ${Pt}-explain`]:{height:"auto",opacity:1},[`${Pt}-feedback-icon`]:{fontSize:ct.fontSize,textAlign:"center",visibility:"visible",animationName:o.kr,animationDuration:ct.motionDurationMid,animationTimingFunction:ct.motionEaseOutBack,pointerEvents:"none","&-success":{color:ct.colorSuccess},"&-error":{color:ct.colorError},"&-warning":{color:ct.colorWarning},"&-validating":{color:ct.colorPrimary}}})}},C=ct=>{const{componentCls:Pt,formItemCls:Nt}=ct;return{[`${Pt}-horizontal`]:{[`${Nt}-label`]:{flexGrow:0},[`${Nt}-control`]:{flex:"1 1 0",minWidth:0},[`${Nt}-label[class$='-24'], ${Nt}-label[class*='-24 ']`]:{[`& + ${Nt}-control`]:{minWidth:"unset"}}}}},E=ct=>{const{componentCls:Pt,formItemCls:Nt}=ct;return{[`${Pt}-inline`]:{display:"flex",flexWrap:"wrap",[Nt]:{flex:"none",marginInlineEnd:ct.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${Nt}-label,
        > ${Nt}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${Nt}-label`]:{flex:"none"},[`${Pt}-text`]:{display:"inline-block"},[`${Nt}-has-feedback`]:{display:"inline-block"}}}}},A=ct=>({padding:ct.verticalLabelPadding,margin:ct.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),N=ct=>{const{componentCls:Pt,formItemCls:Nt,rootPrefixCls:Tt}=ct;return{[`${Nt} ${Nt}-label`]:A(ct),[`${Pt}:not(${Pt}-inline)`]:{[Nt]:{flexWrap:"wrap",[`${Nt}-label, ${Nt}-control`]:{[`&:not([class*=" ${Tt}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},B=ct=>{const{componentCls:Pt,formItemCls:Nt,rootPrefixCls:Tt}=ct;return{[`${Pt}-vertical`]:{[Nt]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${Pt}-item-control`]:{width:"100%"}}},[`${Pt}-vertical ${Nt}-label,
      .${Tt}-col-24${Nt}-label,
      .${Tt}-col-xl-24${Nt}-label`]:A(ct),[`@media (max-width: ${(0,D.bf)(ct.screenXSMax)})`]:[N(ct),{[Pt]:{[`.${Tt}-col-xs-24${Nt}-label`]:A(ct)}}],[`@media (max-width: ${(0,D.bf)(ct.screenSMMax)})`]:{[Pt]:{[`.${Tt}-col-sm-24${Nt}-label`]:A(ct)}},[`@media (max-width: ${(0,D.bf)(ct.screenMDMax)})`]:{[Pt]:{[`.${Tt}-col-md-24${Nt}-label`]:A(ct)}},[`@media (max-width: ${(0,D.bf)(ct.screenLGMax)})`]:{[Pt]:{[`.${Tt}-col-lg-24${Nt}-label`]:A(ct)}}}},W=ct=>({labelRequiredMarkColor:ct.colorError,labelColor:ct.colorTextHeading,labelFontSize:ct.fontSize,labelHeight:ct.controlHeight,labelColonMarginInlineStart:ct.marginXXS/2,labelColonMarginInlineEnd:ct.marginXS,itemMarginBottom:ct.marginLG,verticalLabelPadding:`0 0 ${ct.paddingXS}px`,verticalLabelMargin:0}),$=(ct,Pt)=>(0,n.TS)(ct,{formItemCls:`${ct.componentCls}-item`,rootPrefixCls:Pt});var Y=(0,i.I$)("Form",(ct,Pt)=>{let{rootPrefixCls:Nt}=Pt;const Tt=$(ct,Nt);return[g(Tt),y(Tt),v(Tt),C(Tt),E(Tt),B(Tt),d(Tt),o.kr]},W,{order:-1e3}),R=e(35792);const L=[];function z(ct,Pt,Nt){let Tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof ct=="string"?ct:`${Pt}-${Tt}`,error:ct,errorStatus:Nt}}var P=ct=>{let{help:Pt,helpStatus:Nt,errors:Tt=L,warnings:Zt=L,className:zt,fieldId:_n,onVisibleChanged:hn}=ct;const{prefixCls:Mn}=c.useContext(I.Rk),Rn=`${Mn}-item-explain`,ni=(0,R.Z)(Mn),[gi,Ii]=Y(Mn,ni),Bi=(0,c.useMemo)(()=>(0,_.Z)(Mn),[Mn]),Hi=M(Tt),fi=M(Zt),Ci=c.useMemo(()=>Pt!=null?[z(Pt,"help",Nt)]:[].concat((0,b.Z)(Hi.map((ci,Zi)=>z(ci,"error","error",Zi))),(0,b.Z)(fi.map((ci,Zi)=>z(ci,"warning","warning",Zi)))),[Pt,Nt,Hi,fi]),Li={};return _n&&(Li.id=`${_n}_help`),gi(c.createElement(w.ZP,{motionDeadline:Bi.motionDeadline,motionName:`${Mn}-show-help`,visible:!!Ci.length,onVisibleChanged:hn},ci=>{const{className:Zi,style:Ji}=ci;return c.createElement("div",Object.assign({},Li,{className:r()(Rn,Zi,ni,zt,Ii),style:Ji,role:"alert"}),c.createElement(w.V4,Object.assign({keys:Ci},(0,_.Z)(Mn),{motionName:`${Mn}-show-help-item`,component:!1}),vn=>{const{key:$e,error:ft,errorStatus:gt,className:cn,style:rn}=vn;return c.createElement("div",{key:$e,className:r()(cn,{[`${Rn}-${gt}`]:gt}),style:rn},ft)}))}))},H=e(43589),V=e(53124),G=e(98866),j=e(97647),F=e(98675);const K=ct=>typeof ct=="object"&&ct!=null&&ct.nodeType===1,m=(ct,Pt)=>(!Pt||ct!=="hidden")&&ct!=="visible"&&ct!=="clip",J=(ct,Pt)=>{if(ct.clientHeight<ct.scrollHeight||ct.clientWidth<ct.scrollWidth){const Nt=getComputedStyle(ct,null);return m(Nt.overflowY,Pt)||m(Nt.overflowX,Pt)||(Tt=>{const Zt=(zt=>{if(!zt.ownerDocument||!zt.ownerDocument.defaultView)return null;try{return zt.ownerDocument.defaultView.frameElement}catch(_n){return null}})(Tt);return!!Zt&&(Zt.clientHeight<Tt.scrollHeight||Zt.clientWidth<Tt.scrollWidth)})(ct)}return!1},X=(ct,Pt,Nt,Tt,Zt,zt,_n,hn)=>zt<ct&&_n>Pt||zt>ct&&_n<Pt?0:zt<=ct&&hn<=Nt||_n>=Pt&&hn>=Nt?zt-ct-Tt:_n>Pt&&hn<Nt||zt<ct&&hn>Nt?_n-Pt+Zt:0,te=ct=>{const Pt=ct.parentElement;return Pt==null?ct.getRootNode().host||null:Pt},le=(ct,Pt)=>{var Nt,Tt,Zt,zt;if(typeof document=="undefined")return[];const{scrollMode:_n,block:hn,inline:Mn,boundary:Rn,skipOverflowHiddenElements:ni}=Pt,gi=typeof Rn=="function"?Rn:Vn=>Vn!==Rn;if(!K(ct))throw new TypeError("Invalid target");const Ii=document.scrollingElement||document.documentElement,Bi=[];let Hi=ct;for(;K(Hi)&&gi(Hi);){if(Hi=te(Hi),Hi===Ii){Bi.push(Hi);break}Hi!=null&&Hi===document.body&&J(Hi)&&!J(document.documentElement)||Hi!=null&&J(Hi,ni)&&Bi.push(Hi)}const fi=(Tt=(Nt=window.visualViewport)==null?void 0:Nt.width)!=null?Tt:innerWidth,Ci=(zt=(Zt=window.visualViewport)==null?void 0:Zt.height)!=null?zt:innerHeight,{scrollX:Li,scrollY:ci}=window,{height:Zi,width:Ji,top:vn,right:$e,bottom:ft,left:gt}=ct.getBoundingClientRect(),{top:cn,right:rn,bottom:Sn,left:En}=(Vn=>{const Wn=window.getComputedStyle(Vn);return{top:parseFloat(Wn.scrollMarginTop)||0,right:parseFloat(Wn.scrollMarginRight)||0,bottom:parseFloat(Wn.scrollMarginBottom)||0,left:parseFloat(Wn.scrollMarginLeft)||0}})(ct);let Ln=hn==="start"||hn==="nearest"?vn-cn:hn==="end"?ft+Sn:vn+Zi/2-cn+Sn,On=Mn==="center"?gt+Ji/2-En+rn:Mn==="end"?$e+rn:gt-En;const Qn=[];for(let Vn=0;Vn<Bi.length;Vn++){const Wn=Bi[Vn],{height:St,width:k,top:ne,right:ue,bottom:Fe,left:Qe}=Wn.getBoundingClientRect();if(_n==="if-needed"&&vn>=0&&gt>=0&&ft<=Ci&&$e<=fi&&vn>=ne&&ft<=Fe&&gt>=Qe&&$e<=ue)return Qn;const ot=getComputedStyle(Wn),dt=parseInt(ot.borderLeftWidth,10),bt=parseInt(ot.borderTopWidth,10),lt=parseInt(ot.borderRightWidth,10),Q=parseInt(ot.borderBottomWidth,10);let fe=0,We=0;const at="offsetWidth"in Wn?Wn.offsetWidth-Wn.clientWidth-dt-lt:0,Ct="offsetHeight"in Wn?Wn.offsetHeight-Wn.clientHeight-bt-Q:0,Rt="offsetWidth"in Wn?Wn.offsetWidth===0?0:k/Wn.offsetWidth:0,Vt="offsetHeight"in Wn?Wn.offsetHeight===0?0:St/Wn.offsetHeight:0;if(Ii===Wn)fe=hn==="start"?Ln:hn==="end"?Ln-Ci:hn==="nearest"?X(ci,ci+Ci,Ci,bt,Q,ci+Ln,ci+Ln+Zi,Zi):Ln-Ci/2,We=Mn==="start"?On:Mn==="center"?On-fi/2:Mn==="end"?On-fi:X(Li,Li+fi,fi,dt,lt,Li+On,Li+On+Ji,Ji),fe=Math.max(0,fe+ci),We=Math.max(0,We+Li);else{fe=hn==="start"?Ln-ne-bt:hn==="end"?Ln-Fe+Q+Ct:hn==="nearest"?X(ne,Fe,St,bt,Q+Ct,Ln,Ln+Zi,Zi):Ln-(ne+St/2)+Ct/2,We=Mn==="start"?On-Qe-dt:Mn==="center"?On-(Qe+k/2)+at/2:Mn==="end"?On-ue+lt+at:X(Qe,ue,k,dt,lt+at,On,On+Ji,Ji);const{scrollLeft:an,scrollTop:An}=Wn;fe=Vt===0?0:Math.max(0,Math.min(An+fe/Vt,Wn.scrollHeight-St/Vt+Ct)),We=Rt===0?0:Math.max(0,Math.min(an+We/Rt,Wn.scrollWidth-k/Rt+at)),Ln+=An-fe,On+=an-We}Qn.push({el:Wn,top:fe,left:We})}return Qn},ge=ct=>ct===!1?{block:"end",inline:"nearest"}:(Pt=>Pt===Object(Pt)&&Object.keys(Pt).length!==0)(ct)?ct:{block:"start",inline:"nearest"};function we(ct,Pt){if(!ct.isConnected||!(Zt=>{let zt=Zt;for(;zt&&zt.parentNode;){if(zt.parentNode===document)return!0;zt=zt.parentNode instanceof ShadowRoot?zt.parentNode.host:zt.parentNode}return!1})(ct))return;const Nt=(Zt=>{const zt=window.getComputedStyle(Zt);return{top:parseFloat(zt.scrollMarginTop)||0,right:parseFloat(zt.scrollMarginRight)||0,bottom:parseFloat(zt.scrollMarginBottom)||0,left:parseFloat(zt.scrollMarginLeft)||0}})(ct);if((Zt=>typeof Zt=="object"&&typeof Zt.behavior=="function")(Pt))return Pt.behavior(le(ct,Pt));const Tt=typeof Pt=="boolean"||Pt==null?void 0:Pt.behavior;for(const{el:Zt,top:zt,left:_n}of le(ct,ge(Pt))){const hn=zt-Nt.top+Nt.bottom,Mn=_n-Nt.left+Nt.right;Zt.scroll({top:hn,left:Mn,behavior:Tt})}}const pe=["parentNode"],Pe="form_item";function Ne(ct){return ct===void 0||ct===!1?[]:Array.isArray(ct)?ct:[ct]}function ae(ct,Pt){if(!ct.length)return;const Nt=ct.join("_");return Pt?`${Pt}_${Nt}`:pe.includes(Nt)?`${Pe}_${Nt}`:Nt}function Me(ct,Pt,Nt,Tt,Zt,zt){let _n=Tt;return zt!==void 0?_n=zt:Nt.validating?_n="validating":ct.length?_n="error":Pt.length?_n="warning":(Nt.touched||Zt&&Nt.validated)&&(_n="success"),_n}function ke(ct){return Ne(ct).join("_")}function Ue(ct){const[Pt]=(0,H.cI)(),Nt=c.useRef({}),Tt=c.useMemo(()=>ct!=null?ct:Object.assign(Object.assign({},Pt),{__INTERNAL__:{itemRef:Zt=>zt=>{const _n=ke(Zt);zt?Nt.current[_n]=zt:delete Nt.current[_n]}},scrollToField:function(Zt){let zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _n=Ne(Zt),hn=ae(_n,Tt.__INTERNAL__.name),Mn=hn?document.getElementById(hn):null;Mn&&we(Mn,Object.assign({scrollMode:"if-needed",block:"nearest"},zt))},getFieldInstance:Zt=>{const zt=ke(Zt);return Nt.current[zt]}}),[ct,Pt]);return[Tt]}var Le=e(37920),ie=function(ct,Pt){var Nt={};for(var Tt in ct)Object.prototype.hasOwnProperty.call(ct,Tt)&&Pt.indexOf(Tt)<0&&(Nt[Tt]=ct[Tt]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,Tt=Object.getOwnPropertySymbols(ct);Zt<Tt.length;Zt++)Pt.indexOf(Tt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Tt[Zt])&&(Nt[Tt[Zt]]=ct[Tt[Zt]]);return Nt};const ce=(ct,Pt)=>{const Nt=c.useContext(G.Z),{getPrefixCls:Tt,direction:Zt,form:zt}=c.useContext(V.E_),{prefixCls:_n,className:hn,rootClassName:Mn,size:Rn,disabled:ni=Nt,form:gi,colon:Ii,labelAlign:Bi,labelWrap:Hi,labelCol:fi,wrapperCol:Ci,hideRequiredMark:Li,layout:ci="horizontal",scrollToFirstError:Zi,requiredMark:Ji,onFinishFailed:vn,name:$e,style:ft,feedbackIcons:gt}=ct,cn=ie(ct,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons"]),rn=(0,F.Z)(Rn),Sn=c.useContext(Le.Z),En=(0,c.useMemo)(()=>Ji!==void 0?Ji:Li?!1:zt&&zt.requiredMark!==void 0?zt.requiredMark:!0,[Li,Ji,zt]),Ln=Ii!=null?Ii:zt==null?void 0:zt.colon,On=Tt("form",_n),Qn=(0,R.Z)(On),[Vn,Wn]=Y(On,Qn),St=r()(On,`${On}-${ci}`,{[`${On}-hide-required-mark`]:En===!1,[`${On}-rtl`]:Zt==="rtl",[`${On}-${rn}`]:rn},Qn,Wn,zt==null?void 0:zt.className,hn,Mn),[k]=Ue(gi),{__INTERNAL__:ne}=k;ne.name=$e;const ue=(0,c.useMemo)(()=>({name:$e,labelAlign:Bi,labelCol:fi,labelWrap:Hi,wrapperCol:Ci,vertical:ci==="vertical",colon:Ln,requiredMark:En,itemRef:ne.itemRef,form:k,feedbackIcons:gt}),[$e,Bi,fi,Ci,ci,Ln,En,k,gt]);c.useImperativeHandle(Pt,()=>k);const Fe=(ot,dt)=>{if(ot){let bt={block:"nearest"};typeof ot=="object"&&(bt=ot),k.scrollToField(dt,bt)}},Qe=ot=>{if(vn==null||vn(ot),ot.errorFields.length){const dt=ot.errorFields[0].name;if(Zi!==void 0){Fe(Zi,dt);return}zt&&zt.scrollToFirstError!==void 0&&Fe(zt.scrollToFirstError,dt)}};return Vn(c.createElement(G.n,{disabled:ni},c.createElement(j.Z.Provider,{value:rn},c.createElement(I.RV,{validateMessages:Sn},c.createElement(I.q3.Provider,{value:ue},c.createElement(H.ZP,Object.assign({id:$e},cn,{name:$e,onFinishFailed:Qe,form:k,style:Object.assign(Object.assign({},zt==null?void 0:zt.style),ft),className:St})))))))};var ye=c.forwardRef(ce),Se=e(30470),me=e(42550),he=e(96159),se=e(27288),ve=e(50344);function xe(ct){if(typeof ct=="function")return ct;const Pt=(0,ve.Z)(ct);return Pt.length<=1?Pt[0]:Pt}const je=()=>{const{status:ct,errors:Pt=[],warnings:Nt=[]}=(0,c.useContext)(I.aM);return{status:ct,errors:Pt,warnings:Nt}};je.Context=I.aM;var Oe=je,Ze=e(75164);function it(ct){const[Pt,Nt]=c.useState(ct),Tt=(0,c.useRef)(null),Zt=(0,c.useRef)([]),zt=(0,c.useRef)(!1);c.useEffect(()=>(zt.current=!1,()=>{zt.current=!0,Ze.Z.cancel(Tt.current),Tt.current=null}),[]);function _n(hn){zt.current||(Tt.current===null&&(Zt.current=[],Tt.current=(0,Ze.Z)(()=>{Tt.current=null,Nt(Mn=>{let Rn=Mn;return Zt.current.forEach(ni=>{Rn=ni(Rn)}),Rn})})),Zt.current.push(hn))}return[Pt,_n]}function Et(){const{itemRef:ct}=c.useContext(I.q3),Pt=c.useRef({});function Nt(Tt,Zt){const zt=Zt&&typeof Zt=="object"&&Zt.ref,_n=Tt.join("_");return(Pt.current.name!==_n||Pt.current.originRef!==zt)&&(Pt.current.name=_n,Pt.current.originRef=zt,Pt.current.ref=(0,me.sQ)(ct(Tt),zt)),Pt.current.ref}return Nt}var st=e(5110),pt=e(8410),Mt=e(98423),qt=e(25976);const Ft=["xxl","xl","lg","md","sm","xs"],Xt=ct=>({xs:`(max-width: ${ct.screenXSMax}px)`,sm:`(min-width: ${ct.screenSM}px)`,md:`(min-width: ${ct.screenMD}px)`,lg:`(min-width: ${ct.screenLG}px)`,xl:`(min-width: ${ct.screenXL}px)`,xxl:`(min-width: ${ct.screenXXL}px)`}),_t=ct=>{const Pt=ct,Nt=[].concat(Ft).reverse();return Nt.forEach((Tt,Zt)=>{const zt=Tt.toUpperCase(),_n=`screen${zt}Min`,hn=`screen${zt}`;if(!(Pt[_n]<=Pt[hn]))throw new Error(`${_n}<=${hn} fails : !(${Pt[_n]}<=${Pt[hn]})`);if(Zt<Nt.length-1){const Mn=`screen${zt}Max`;if(!(Pt[hn]<=Pt[Mn]))throw new Error(`${hn}<=${Mn} fails : !(${Pt[hn]}<=${Pt[Mn]})`);const ni=`screen${Nt[Zt+1].toUpperCase()}Min`;if(!(Pt[Mn]<=Pt[ni]))throw new Error(`${Mn}<=${ni} fails : !(${Pt[Mn]}<=${Pt[ni]})`)}}),ct};function nt(){const[,ct]=(0,qt.ZP)(),Pt=Xt(_t(ct));return c.useMemo(()=>{const Nt=new Map;let Tt=-1,Zt={};return{matchHandlers:{},dispatch(zt){return Zt=zt,Nt.forEach(_n=>_n(Zt)),Nt.size>=1},subscribe(zt){return Nt.size||this.register(),Tt+=1,Nt.set(Tt,zt),zt(Zt),Tt},unsubscribe(zt){Nt.delete(zt),Nt.size||this.unregister()},unregister(){Object.keys(Pt).forEach(zt=>{const _n=Pt[zt],hn=this.matchHandlers[_n];hn==null||hn.mql.removeListener(hn==null?void 0:hn.listener)}),Nt.clear()},register(){Object.keys(Pt).forEach(zt=>{const _n=Pt[zt],hn=Rn=>{let{matches:ni}=Rn;this.dispatch(Object.assign(Object.assign({},Zt),{[zt]:ni}))},Mn=window.matchMedia(_n);Mn.addListener(hn),this.matchHandlers[_n]={mql:Mn,listener:hn},hn(Mn)})},responsiveMap:Pt}},[ct])}const tt=(ct,Pt)=>{if(Pt&&typeof Pt=="object")for(let Nt=0;Nt<Ft.length;Nt++){const Tt=Ft[Nt];if(ct[Tt]&&Pt[Tt]!==void 0)return Pt[Tt]}};var Lt=(0,c.createContext)({});const Be=ct=>{const{componentCls:Pt}=ct;return{[Pt]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},yt=ct=>{const{componentCls:Pt}=ct;return{[Pt]:{position:"relative",maxWidth:"100%",minHeight:1}}},un=(ct,Pt)=>{const{componentCls:Nt,gridColumns:Tt}=ct,Zt={};for(let zt=Tt;zt>=0;zt--)zt===0?(Zt[`${Nt}${Pt}-${zt}`]={display:"none"},Zt[`${Nt}-push-${zt}`]={insetInlineStart:"auto"},Zt[`${Nt}-pull-${zt}`]={insetInlineEnd:"auto"},Zt[`${Nt}${Pt}-push-${zt}`]={insetInlineStart:"auto"},Zt[`${Nt}${Pt}-pull-${zt}`]={insetInlineEnd:"auto"},Zt[`${Nt}${Pt}-offset-${zt}`]={marginInlineStart:0},Zt[`${Nt}${Pt}-order-${zt}`]={order:0}):(Zt[`${Nt}${Pt}-${zt}`]=[{["--ant-display"]:"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${zt/Tt*100}%`,maxWidth:`${zt/Tt*100}%`}],Zt[`${Nt}${Pt}-push-${zt}`]={insetInlineStart:`${zt/Tt*100}%`},Zt[`${Nt}${Pt}-pull-${zt}`]={insetInlineEnd:`${zt/Tt*100}%`},Zt[`${Nt}${Pt}-offset-${zt}`]={marginInlineStart:`${zt/Tt*100}%`},Zt[`${Nt}${Pt}-order-${zt}`]={order:zt});return Zt},In=(ct,Pt)=>un(ct,Pt),bn=(ct,Pt,Nt)=>({[`@media (min-width: ${(0,D.bf)(Pt)})`]:Object.assign({},In(ct,Nt))}),Hn=()=>({}),si=()=>({}),Yn=(0,i.I$)("Grid",Be,Hn),mi=(0,i.I$)("Grid",ct=>{const Pt=(0,n.TS)(ct,{gridColumns:24}),Nt={"-sm":Pt.screenSMMin,"-md":Pt.screenMDMin,"-lg":Pt.screenLGMin,"-xl":Pt.screenXLMin,"-xxl":Pt.screenXXLMin};return[yt(Pt),In(Pt,""),In(Pt,"-xs"),Object.keys(Nt).map(Tt=>bn(Pt,Nt[Tt],Tt)).reduce((Tt,Zt)=>Object.assign(Object.assign({},Tt),Zt),{})]},si);var _i=function(ct,Pt){var Nt={};for(var Tt in ct)Object.prototype.hasOwnProperty.call(ct,Tt)&&Pt.indexOf(Tt)<0&&(Nt[Tt]=ct[Tt]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,Tt=Object.getOwnPropertySymbols(ct);Zt<Tt.length;Zt++)Pt.indexOf(Tt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Tt[Zt])&&(Nt[Tt[Zt]]=ct[Tt[Zt]]);return Nt};const Wi=null,Si=null;function Ki(ct,Pt){const[Nt,Tt]=c.useState(typeof ct=="string"?ct:""),Zt=()=>{if(typeof ct=="string"&&Tt(ct),typeof ct=="object")for(let zt=0;zt<Ft.length;zt++){const _n=Ft[zt];if(!Pt[_n])continue;const hn=ct[_n];if(hn!==void 0){Tt(hn);return}}};return c.useEffect(()=>{Zt()},[JSON.stringify(ct),Pt]),Nt}var Fi=c.forwardRef((ct,Pt)=>{const{prefixCls:Nt,justify:Tt,align:Zt,className:zt,style:_n,children:hn,gutter:Mn=0,wrap:Rn}=ct,ni=_i(ct,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:gi,direction:Ii}=c.useContext(V.E_),[Bi,Hi]=c.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[fi,Ci]=c.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Li=Ki(Zt,fi),ci=Ki(Tt,fi),Zi=c.useRef(Mn),Ji=nt();c.useEffect(()=>{const Vn=Ji.subscribe(Wn=>{Ci(Wn);const St=Zi.current||0;(!Array.isArray(St)&&typeof St=="object"||Array.isArray(St)&&(typeof St[0]=="object"||typeof St[1]=="object"))&&Hi(Wn)});return()=>Ji.unsubscribe(Vn)},[]);const vn=()=>{const Vn=[void 0,void 0];return(Array.isArray(Mn)?Mn:[Mn,void 0]).forEach((St,k)=>{if(typeof St=="object")for(let ne=0;ne<Ft.length;ne++){const ue=Ft[ne];if(Bi[ue]&&St[ue]!==void 0){Vn[k]=St[ue];break}}else Vn[k]=St}),Vn},$e=gi("row",Nt),[ft,gt]=Yn($e),cn=vn(),rn=r()($e,{[`${$e}-no-wrap`]:Rn===!1,[`${$e}-${ci}`]:ci,[`${$e}-${Li}`]:Li,[`${$e}-rtl`]:Ii==="rtl"},zt,gt),Sn={},En=cn[0]!=null&&cn[0]>0?cn[0]/-2:void 0;En&&(Sn.marginLeft=En,Sn.marginRight=En),[,Sn.rowGap]=cn;const[Ln,On]=cn,Qn=c.useMemo(()=>({gutter:[Ln,On],wrap:Rn}),[Ln,On,Rn]);return ft(c.createElement(Lt.Provider,{value:Qn},c.createElement("div",Object.assign({},ni,{className:rn,style:Object.assign(Object.assign({},Sn),_n),ref:Pt}),hn)))}),ts=function(ct,Pt){var Nt={};for(var Tt in ct)Object.prototype.hasOwnProperty.call(ct,Tt)&&Pt.indexOf(Tt)<0&&(Nt[Tt]=ct[Tt]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,Tt=Object.getOwnPropertySymbols(ct);Zt<Tt.length;Zt++)Pt.indexOf(Tt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Tt[Zt])&&(Nt[Tt[Zt]]=ct[Tt[Zt]]);return Nt};function wi(ct){return typeof ct=="number"?`${ct} ${ct} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(ct)?`0 0 ${ct}`:ct}const ns=["xs","sm","md","lg","xl","xxl"];var qe=c.forwardRef((ct,Pt)=>{const{getPrefixCls:Nt,direction:Tt}=c.useContext(V.E_),{gutter:Zt,wrap:zt}=c.useContext(Lt),{prefixCls:_n,span:hn,order:Mn,offset:Rn,push:ni,pull:gi,className:Ii,children:Bi,flex:Hi,style:fi}=ct,Ci=ts(ct,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Li=Nt("col",_n),[ci,Zi]=mi(Li);let Ji={};ns.forEach(ft=>{let gt={};const cn=ct[ft];typeof cn=="number"?gt.span=cn:typeof cn=="object"&&(gt=cn||{}),delete Ci[ft],Ji=Object.assign(Object.assign({},Ji),{[`${Li}-${ft}-${gt.span}`]:gt.span!==void 0,[`${Li}-${ft}-order-${gt.order}`]:gt.order||gt.order===0,[`${Li}-${ft}-offset-${gt.offset}`]:gt.offset||gt.offset===0,[`${Li}-${ft}-push-${gt.push}`]:gt.push||gt.push===0,[`${Li}-${ft}-pull-${gt.pull}`]:gt.pull||gt.pull===0,[`${Li}-${ft}-flex-${gt.flex}`]:gt.flex||gt.flex==="auto",[`${Li}-rtl`]:Tt==="rtl"})});const vn=r()(Li,{[`${Li}-${hn}`]:hn!==void 0,[`${Li}-order-${Mn}`]:Mn,[`${Li}-offset-${Rn}`]:Rn,[`${Li}-push-${ni}`]:ni,[`${Li}-pull-${gi}`]:gi},Ii,Ji,Zi),$e={};if(Zt&&Zt[0]>0){const ft=Zt[0]/2;$e.paddingLeft=ft,$e.paddingRight=ft}return Hi&&($e.flex=wi(Hi),zt===!1&&!$e.minWidth&&($e.minWidth=0)),ci(c.createElement("div",Object.assign({},Ci,{style:Object.assign(Object.assign({},$e),fi),className:vn,ref:Pt}),Bi))});const Dt=ct=>{const{formItemCls:Pt}=ct;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${Pt}-control`]:{display:"flex"}}}};var Qt=(0,i.bk)(["Form","item-item"],(ct,Pt)=>{let{rootPrefixCls:Nt}=Pt;const Tt=$(ct,Nt);return[Dt(Tt)]}),Cn=ct=>{const{prefixCls:Pt,status:Nt,wrapperCol:Tt,children:Zt,errors:zt,warnings:_n,_internalItemRender:hn,extra:Mn,help:Rn,fieldId:ni,marginBottom:gi,onErrorVisibleChanged:Ii}=ct,Bi=`${Pt}-item`,Hi=c.useContext(I.q3),fi=Tt||Hi.wrapperCol||{},Ci=r()(`${Bi}-control`,fi.className),Li=c.useMemo(()=>Object.assign({},Hi),[Hi]);delete Li.labelCol,delete Li.wrapperCol;const ci=c.createElement("div",{className:`${Bi}-control-input`},c.createElement("div",{className:`${Bi}-control-input-content`},Zt)),Zi=c.useMemo(()=>({prefixCls:Pt,status:Nt}),[Pt,Nt]),Ji=gi!==null||zt.length||_n.length?c.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},c.createElement(I.Rk.Provider,{value:Zi},c.createElement(P,{fieldId:ni,errors:zt,warnings:_n,help:Rn,helpStatus:Nt,className:`${Bi}-explain-connected`,onVisibleChanged:Ii})),!!gi&&c.createElement("div",{style:{width:0,height:gi}})):null,vn={};ni&&(vn.id=`${ni}_extra`);const $e=Mn?c.createElement("div",Object.assign({},vn,{className:`${Bi}-extra`}),Mn):null,ft=hn&&hn.mark==="pro_table_render"&&hn.render?hn.render(ct,{input:ci,errorList:Ji,extra:$e}):c.createElement(c.Fragment,null,ci,Ji,$e);return c.createElement(I.q3.Provider,{value:Li},c.createElement(qe,Object.assign({},fi,{className:Ci}),ft),c.createElement(Qt,{prefixCls:Pt}))},Bn=e(87462),jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},kt=jn,wt=e(84089),sn=function(Pt,Nt){return c.createElement(wt.Z,(0,Bn.Z)({},Pt,{ref:Nt,icon:kt}))},en=c.forwardRef(sn),Un=e(81570),ri=e(10110),Jn=e(2096),Di=function(ct,Pt){var Nt={};for(var Tt in ct)Object.prototype.hasOwnProperty.call(ct,Tt)&&Pt.indexOf(Tt)<0&&(Nt[Tt]=ct[Tt]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,Tt=Object.getOwnPropertySymbols(ct);Zt<Tt.length;Zt++)Pt.indexOf(Tt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Tt[Zt])&&(Nt[Tt[Zt]]=ct[Tt[Zt]]);return Nt};function Ai(ct){return ct?typeof ct=="object"&&!c.isValidElement(ct)?ct:{title:ct}:null}var Tn=ct=>{let{prefixCls:Pt,label:Nt,htmlFor:Tt,labelCol:Zt,labelAlign:zt,colon:_n,required:hn,requiredMark:Mn,tooltip:Rn}=ct;var ni;const[gi]=(0,ri.Z)("Form"),{vertical:Ii,labelAlign:Bi,labelCol:Hi,labelWrap:fi,colon:Ci}=c.useContext(I.q3);if(!Nt)return null;const Li=Zt||Hi||{},ci=zt||Bi,Zi=`${Pt}-item-label`,Ji=r()(Zi,ci==="left"&&`${Zi}-left`,Li.className,{[`${Zi}-wrap`]:!!fi});let vn=Nt;const $e=_n===!0||Ci!==!1&&_n!==!1;$e&&!Ii&&typeof Nt=="string"&&Nt.trim()!==""&&(vn=Nt.replace(/[:|：]\s*$/,""));const gt=Ai(Rn);if(gt){const{icon:En=c.createElement(en,null)}=gt,Ln=Di(gt,["icon"]),On=c.createElement(Jn.Z,Object.assign({},Ln),c.cloneElement(En,{className:`${Pt}-item-tooltip`,title:"",onClick:Qn=>{Qn.preventDefault()},tabIndex:null}));vn=c.createElement(c.Fragment,null,vn,On)}const cn=Mn==="optional",rn=typeof Mn=="function";rn?vn=Mn(vn,{required:!!hn}):cn&&!hn&&(vn=c.createElement(c.Fragment,null,vn,c.createElement("span",{className:`${Pt}-item-optional`,title:""},(gi==null?void 0:gi.optional)||((ni=Un.Z.Form)===null||ni===void 0?void 0:ni.optional))));const Sn=r()({[`${Pt}-item-required`]:hn,[`${Pt}-item-required-mark-optional`]:cn||rn,[`${Pt}-item-no-colon`]:!$e});return c.createElement(qe,Object.assign({},Li,{className:Ji}),c.createElement("label",{htmlFor:Tt,className:Sn,title:typeof Nt=="string"?Nt:""},vn))},yn=e(89739),Nn=e(4340),Bt=e(21640),Yt=e(50888);const fn={success:yn.Z,warning:Bt.Z,error:Nn.Z,validating:Yt.Z};function Ht(ct){let{children:Pt,errors:Nt,warnings:Tt,hasFeedback:Zt,validateStatus:zt,prefixCls:_n,meta:hn,noStyle:Mn}=ct;const Rn=`${_n}-item`,{feedbackIcons:ni}=c.useContext(I.q3),gi=Me(Nt,Tt,hn,null,!!Zt,zt),{isFormItemInput:Ii,status:Bi,hasFeedback:Hi,feedbackIcon:fi}=c.useContext(I.aM),Ci=c.useMemo(()=>{var Li;let ci;if(Zt){const Ji=Zt!==!0&&Zt.icons||ni,vn=gi&&((Li=Ji==null?void 0:Ji({status:gi,errors:Nt,warnings:Tt}))===null||Li===void 0?void 0:Li[gi]),$e=gi&&fn[gi];ci=vn!==!1&&$e?c.createElement("span",{className:r()(`${Rn}-feedback-icon`,`${Rn}-feedback-icon-${gi}`)},vn||c.createElement($e,null)):null}const Zi={status:gi||"",errors:Nt,warnings:Tt,hasFeedback:!!Zt,feedbackIcon:ci,isFormItemInput:!0};return Mn&&(Zi.status=(gi!=null?gi:Bi)||"",Zi.isFormItemInput=Ii,Zi.hasFeedback=!!(Zt!=null?Zt:Hi),Zi.feedbackIcon=Zt!==void 0?Zi.feedbackIcon:fi),Zi},[gi,Zt,Mn,Ii,Bi]);return c.createElement(I.aM.Provider,{value:Ci},Pt)}var et=function(ct,Pt){var Nt={};for(var Tt in ct)Object.prototype.hasOwnProperty.call(ct,Tt)&&Pt.indexOf(Tt)<0&&(Nt[Tt]=ct[Tt]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,Tt=Object.getOwnPropertySymbols(ct);Zt<Tt.length;Zt++)Pt.indexOf(Tt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Tt[Zt])&&(Nt[Tt[Zt]]=ct[Tt[Zt]]);return Nt};function ee(ct){const{prefixCls:Pt,className:Nt,rootClassName:Tt,style:Zt,help:zt,errors:_n,warnings:hn,validateStatus:Mn,meta:Rn,hasFeedback:ni,hidden:gi,children:Ii,fieldId:Bi,required:Hi,isRequired:fi,onSubItemMetaChange:Ci}=ct,Li=et(ct,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),ci=`${Pt}-item`,{requiredMark:Zi}=c.useContext(I.q3),Ji=c.useRef(null),vn=M(_n),$e=M(hn),ft=zt!=null,gt=!!(ft||_n.length||hn.length),cn=!!Ji.current&&(0,st.Z)(Ji.current),[rn,Sn]=c.useState(null);(0,pt.Z)(()=>{if(gt&&Ji.current){const Vn=getComputedStyle(Ji.current);Sn(parseInt(Vn.marginBottom,10))}},[gt,cn]);const En=Vn=>{Vn||Sn(null)},On=function(){let Vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Wn=Vn?vn:Rn.errors,St=Vn?$e:Rn.warnings;return Me(Wn,St,Rn,"",!!ni,Mn)}(),Qn=r()(ci,Nt,Tt,{[`${ci}-with-help`]:ft||vn.length||$e.length,[`${ci}-has-feedback`]:On&&ni,[`${ci}-has-success`]:On==="success",[`${ci}-has-warning`]:On==="warning",[`${ci}-has-error`]:On==="error",[`${ci}-is-validating`]:On==="validating",[`${ci}-hidden`]:gi});return c.createElement("div",{className:Qn,style:Zt,ref:Ji},c.createElement(Fi,Object.assign({className:`${ci}-row`},(0,Mt.Z)(Li,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),c.createElement(Tn,Object.assign({htmlFor:Bi},ct,{requiredMark:Zi,required:Hi!=null?Hi:fi,prefixCls:Pt})),c.createElement(Cn,Object.assign({},ct,Rn,{errors:vn,warnings:$e,prefixCls:Pt,status:On,help:zt,marginBottom:rn,onErrorVisibleChanged:En}),c.createElement(I.qI.Provider,{value:Ci},c.createElement(Ht,{prefixCls:Pt,meta:Rn,errors:Rn.errors,warnings:Rn.warnings,hasFeedback:ni,validateStatus:On},Ii)))),!!rn&&c.createElement("div",{className:`${ci}-margin-offset`,style:{marginBottom:-rn}}))}const de="__SPLIT__",oe=null,Ce=c.memo(ct=>{let{children:Pt}=ct;return Pt},(ct,Pt)=>ct.value===Pt.value&&ct.update===Pt.update&&ct.childProps.length===Pt.childProps.length&&ct.childProps.every((Nt,Tt)=>Nt===Pt.childProps[Tt]));function Ee(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function be(ct){const{name:Pt,noStyle:Nt,className:Tt,dependencies:Zt,prefixCls:zt,shouldUpdate:_n,rules:hn,children:Mn,required:Rn,label:ni,messageVariables:gi,trigger:Ii="onChange",validateTrigger:Bi,hidden:Hi,help:fi}=ct,{getPrefixCls:Ci}=c.useContext(V.E_),{name:Li}=c.useContext(I.q3),ci=xe(Mn),Zi=typeof ci=="function",Ji=c.useContext(I.qI),{validateTrigger:vn}=c.useContext(H.zb),$e=Bi!==void 0?Bi:vn,ft=Pt!=null,gt=Ci("form",zt),cn=(0,R.Z)(gt),[rn,Sn]=Y(gt,cn),En=(0,se.ln)("Form.Item"),Ln=c.useContext(H.ZM),On=c.useRef(),[Qn,Vn]=it({}),[Wn,St]=(0,Se.Z)(()=>Ee()),k=bt=>{const lt=Ln==null?void 0:Ln.getKey(bt.name);if(St(bt.destroy?Ee():bt,!0),Nt&&fi!==!1&&Ji){let Q=bt.name;if(bt.destroy)Q=On.current||Q;else if(lt!==void 0){const[fe,We]=lt;Q=[fe].concat((0,b.Z)(We)),On.current=Q}Ji(bt,Q)}},ne=(bt,lt)=>{Vn(Q=>{const fe=Object.assign({},Q),at=[].concat((0,b.Z)(bt.name.slice(0,-1)),(0,b.Z)(lt)).join(de);return bt.destroy?delete fe[at]:fe[at]=bt,fe})},[ue,Fe]=c.useMemo(()=>{const bt=(0,b.Z)(Wn.errors),lt=(0,b.Z)(Wn.warnings);return Object.values(Qn).forEach(Q=>{bt.push.apply(bt,(0,b.Z)(Q.errors||[])),lt.push.apply(lt,(0,b.Z)(Q.warnings||[]))}),[bt,lt]},[Qn,Wn.errors,Wn.warnings]),Qe=Et();function ot(bt,lt,Q){return Nt&&!Hi?c.createElement(Ht,{prefixCls:gt,hasFeedback:ct.hasFeedback,validateStatus:ct.validateStatus,meta:Wn,errors:ue,warnings:Fe,noStyle:!0},bt):c.createElement(ee,Object.assign({key:"row"},ct,{className:r()(Tt,cn,Sn),prefixCls:gt,fieldId:lt,isRequired:Q,errors:ue,warnings:Fe,meta:Wn,onSubItemMetaChange:ne}),bt)}if(!ft&&!Zi&&!Zt)return rn(ot(ci));let dt={};return typeof ni=="string"?dt.label=ni:Pt&&(dt.label=String(Pt)),gi&&(dt=Object.assign(Object.assign({},dt),gi)),rn(c.createElement(H.gN,Object.assign({},ct,{messageVariables:dt,trigger:Ii,validateTrigger:$e,onMetaChange:k}),(bt,lt,Q)=>{const fe=Ne(Pt).length&&lt?lt.name:[],We=ae(fe,Li),at=Rn!==void 0?Rn:!!(hn&&hn.some(Vt=>{if(Vt&&typeof Vt=="object"&&Vt.required&&!Vt.warningOnly)return!0;if(typeof Vt=="function"){const an=Vt(Q);return an&&an.required&&!an.warningOnly}return!1})),Ct=Object.assign({},bt);let Rt=null;if(Array.isArray(ci)&&ft)Rt=ci;else if(!(Zi&&(!(_n||Zt)||ft))){if(!(Zt&&!Zi&&!ft))if((0,he.l$)(ci)){const Vt=Object.assign(Object.assign({},ci.props),Ct);if(Vt.id||(Vt.id=We),fi||ue.length>0||Fe.length>0||ct.extra){const zn=[];(fi||ue.length>0)&&zn.push(`${We}_help`),ct.extra&&zn.push(`${We}_extra`),Vt["aria-describedby"]=zn.join(" ")}ue.length>0&&(Vt["aria-invalid"]="true"),at&&(Vt["aria-required"]="true"),(0,me.Yr)(ci)&&(Vt.ref=Qe(fe,ci)),new Set([].concat((0,b.Z)(Ne(Ii)),(0,b.Z)(Ne($e)))).forEach(zn=>{Vt[zn]=function(){for(var ui,hi,oi,Kn,di,pi=arguments.length,qi=new Array(pi),Es=0;Es<pi;Es++)qi[Es]=arguments[Es];(oi=Ct[zn])===null||oi===void 0||(ui=oi).call.apply(ui,[Ct].concat(qi)),(di=(Kn=ci.props)[zn])===null||di===void 0||(hi=di).call.apply(hi,[Kn].concat(qi))}});const An=[Vt["aria-required"],Vt["aria-invalid"],Vt["aria-describedby"]];Rt=c.createElement(Ce,{value:Ct[ct.valuePropName||"value"],update:ci,childProps:An},(0,he.Tm)(ci,Vt))}else Zi&&(_n||Zt)&&!ft?Rt=ci(Q):Rt=ci}return ot(Rt,We,at)}))}const Ae=be;Ae.useStatus=Oe;var He=Ae,Ye=function(ct,Pt){var Nt={};for(var Tt in ct)Object.prototype.hasOwnProperty.call(ct,Tt)&&Pt.indexOf(Tt)<0&&(Nt[Tt]=ct[Tt]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zt=0,Tt=Object.getOwnPropertySymbols(ct);Zt<Tt.length;Zt++)Pt.indexOf(Tt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Tt[Zt])&&(Nt[Tt[Zt]]=ct[Tt[Zt]]);return Nt},$t=ct=>{var{prefixCls:Pt,children:Nt}=ct,Tt=Ye(ct,["prefixCls","children"]);const{getPrefixCls:Zt}=c.useContext(V.E_),zt=Zt("form",Pt),_n=c.useMemo(()=>({prefixCls:zt,status:"error"}),[zt]);return c.createElement(H.aV,Object.assign({},Tt),(hn,Mn,Rn)=>c.createElement(I.Rk.Provider,{value:_n},Nt(hn.map(ni=>Object.assign(Object.assign({},ni),{fieldKey:ni.key})),Mn,{errors:Rn.errors,warnings:Rn.warnings})))};function gn(){const{form:ct}=(0,c.useContext)(I.q3);return ct}const dn=ye;dn.Item=He,dn.List=$t,dn.ErrorList=P,dn.useForm=Ue,dn.useFormInstance=gn,dn.useWatch=H.qo,dn.Provider=I.RV,dn.create=()=>{};var ln=dn},48928:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return Xt}});var b=e(80882),U=e(87462),r=e(67294),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},c=w,_=e(84089),I=function(nt,tt){return r.createElement(_.Z,(0,U.Z)({},nt,{ref:tt,icon:c}))},M=r.forwardRef(I),D=e(94184),p=e.n(D),o=e(4942),u=e(71002),d=e(97685),n=e(91),i=e(15671),f=e(43144);function v(){return typeof BigInt=="function"}function a(_t){return!_t&&_t!==0&&!Number.isNaN(_t)||!String(_t).trim()}function S(_t){var nt=_t.trim(),tt=nt.startsWith("-");tt&&(nt=nt.slice(1)),nt=nt.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),nt.startsWith(".")&&(nt="0".concat(nt));var xt=nt||"0",Lt=xt.split("."),Be=Lt[0]||"0",yt=Lt[1]||"0";Be==="0"&&yt==="0"&&(tt=!1);var un=tt?"-":"";return{negative:tt,negativeStr:un,trimStr:xt,integerStr:Be,decimalStr:yt,fullStr:"".concat(un).concat(xt)}}function g(_t){var nt=String(_t);return!Number.isNaN(Number(nt))&&nt.includes("e")}function y(_t){var nt=String(_t);if(g(_t)){var tt=Number(nt.slice(nt.indexOf("e-")+2)),xt=nt.match(/\.(\d+)/);return xt!=null&&xt[1]&&(tt+=xt[1].length),tt}return nt.includes(".")&&E(nt)?nt.length-nt.indexOf(".")-1:0}function C(_t){var nt=String(_t);if(g(_t)){if(_t>Number.MAX_SAFE_INTEGER)return String(v()?BigInt(_t).toString():Number.MAX_SAFE_INTEGER);if(_t<Number.MIN_SAFE_INTEGER)return String(v()?BigInt(_t).toString():Number.MIN_SAFE_INTEGER);nt=_t.toFixed(y(nt))}return S(nt).fullStr}function E(_t){return typeof _t=="number"?!Number.isNaN(_t):_t?/^\s*-?\d+(\.\d+)?\s*$/.test(_t)||/^\s*-?\d+\.\s*$/.test(_t)||/^\s*-?\.\d+\s*$/.test(_t):!1}var A=function(){function _t(nt){if((0,i.Z)(this,_t),(0,o.Z)(this,"origin",""),(0,o.Z)(this,"negative",void 0),(0,o.Z)(this,"integer",void 0),(0,o.Z)(this,"decimal",void 0),(0,o.Z)(this,"decimalLen",void 0),(0,o.Z)(this,"empty",void 0),(0,o.Z)(this,"nan",void 0),a(nt)){this.empty=!0;return}if(this.origin=String(nt),nt==="-"||Number.isNaN(nt)){this.nan=!0;return}var tt=nt;if(g(tt)&&(tt=Number(tt)),tt=typeof tt=="string"?tt:C(tt),E(tt)){var xt=S(tt);this.negative=xt.negative;var Lt=xt.trimStr.split(".");this.integer=BigInt(Lt[0]);var Be=Lt[1]||"0";this.decimal=BigInt(Be),this.decimalLen=Be.length}else this.nan=!0}return(0,f.Z)(_t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(tt){var xt="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(tt,"0"));return BigInt(xt)}},{key:"negate",value:function(){var tt=new _t(this.toString());return tt.negative=!tt.negative,tt}},{key:"cal",value:function(tt,xt,Lt){var Be=Math.max(this.getDecimalStr().length,tt.getDecimalStr().length),yt=this.alignDecimal(Be),un=tt.alignDecimal(Be),In=xt(yt,un).toString(),bn=Lt(Be),Hn=S(In),si=Hn.negativeStr,Yn=Hn.trimStr,mi="".concat(si).concat(Yn.padStart(bn+1,"0"));return new _t("".concat(mi.slice(0,-bn),".").concat(mi.slice(-bn)))}},{key:"add",value:function(tt){if(this.isInvalidate())return new _t(tt);var xt=new _t(tt);return xt.isInvalidate()?this:this.cal(xt,function(Lt,Be){return Lt+Be},function(Lt){return Lt})}},{key:"multi",value:function(tt){var xt=new _t(tt);return this.isInvalidate()||xt.isInvalidate()?new _t(NaN):this.cal(xt,function(Lt,Be){return Lt*Be},function(Lt){return Lt*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(tt){return this.toString()===(tt==null?void 0:tt.toString())}},{key:"lessEquals",value:function(tt){return this.add(tt.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return tt?this.isInvalidate()?"":S("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),_t}(),N=function(){function _t(nt){if((0,i.Z)(this,_t),(0,o.Z)(this,"origin",""),(0,o.Z)(this,"number",void 0),(0,o.Z)(this,"empty",void 0),a(nt)){this.empty=!0;return}this.origin=String(nt),this.number=Number(nt)}return(0,f.Z)(_t,[{key:"negate",value:function(){return new _t(-this.toNumber())}},{key:"add",value:function(tt){if(this.isInvalidate())return new _t(tt);var xt=Number(tt);if(Number.isNaN(xt))return this;var Lt=this.number+xt;if(Lt>Number.MAX_SAFE_INTEGER)return new _t(Number.MAX_SAFE_INTEGER);if(Lt<Number.MIN_SAFE_INTEGER)return new _t(Number.MIN_SAFE_INTEGER);var Be=Math.max(y(this.number),y(xt));return new _t(Lt.toFixed(Be))}},{key:"multi",value:function(tt){var xt=Number(tt);if(this.isInvalidate()||Number.isNaN(xt))return new _t(NaN);var Lt=this.number*xt;if(Lt>Number.MAX_SAFE_INTEGER)return new _t(Number.MAX_SAFE_INTEGER);if(Lt<Number.MIN_SAFE_INTEGER)return new _t(Number.MIN_SAFE_INTEGER);var Be=Math.max(y(this.number),y(xt));return new _t(Lt.toFixed(Be))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(tt){return this.toNumber()===(tt==null?void 0:tt.toNumber())}},{key:"lessEquals",value:function(tt){return this.add(tt.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return tt?this.isInvalidate()?"":C(this.number):this.origin}}]),_t}();function B(_t){return v()?new A(_t):new N(_t)}function W(_t,nt,tt){var xt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(_t==="")return"";var Lt=S(_t),Be=Lt.negativeStr,yt=Lt.integerStr,un=Lt.decimalStr,In="".concat(nt).concat(un),bn="".concat(Be).concat(yt);if(tt>=0){var Hn=Number(un[tt]);if(Hn>=5&&!xt){var si=B(_t).add("".concat(Be,"0.").concat("0".repeat(tt)).concat(10-Hn));return W(si.toString(),nt,tt,xt)}return tt===0?bn:"".concat(bn).concat(nt).concat(un.padEnd(tt,"0").slice(0,tt))}return In===".0"?bn:"".concat(bn).concat(In)}var $=B,Y=e(67656),R=e(8410),L=e(42550),z=e(80334);function O(_t,nt){var tt=(0,r.useRef)(null);function xt(){try{var Be=_t.selectionStart,yt=_t.selectionEnd,un=_t.value,In=un.substring(0,Be),bn=un.substring(yt);tt.current={start:Be,end:yt,value:un,beforeTxt:In,afterTxt:bn}}catch(Hn){}}function Lt(){if(_t&&tt.current&&nt)try{var Be=_t.value,yt=tt.current,un=yt.beforeTxt,In=yt.afterTxt,bn=yt.start,Hn=Be.length;if(Be.endsWith(In))Hn=Be.length-tt.current.afterTxt.length;else if(Be.startsWith(un))Hn=un.length;else{var si=un[bn-1],Yn=Be.indexOf(si,bn-1);Yn!==-1&&(Hn=Yn+1)}_t.setSelectionRange(Hn,Hn)}catch(mi){(0,z.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(mi.message))}}return[xt,Lt]}var P=e(31131),H=function(){var nt=(0,r.useState)(!1),tt=(0,d.Z)(nt,2),xt=tt[0],Lt=tt[1];return(0,R.Z)(function(){Lt((0,P.Z)())},[]),xt},V=H,G=e(75164),j=200,F=600;function K(_t){var nt=_t.prefixCls,tt=_t.upNode,xt=_t.downNode,Lt=_t.upDisabled,Be=_t.downDisabled,yt=_t.onStep,un=r.useRef(),In=r.useRef([]),bn=r.useRef();bn.current=yt;var Hn=function(){clearTimeout(un.current)},si=function(Fi,ts){Fi.preventDefault(),Hn(),bn.current(ts);function wi(){bn.current(ts),un.current=setTimeout(wi,j)}un.current=setTimeout(wi,F)};r.useEffect(function(){return function(){Hn(),In.current.forEach(function(bi){return G.Z.cancel(bi)})}},[]);var Yn=V();if(Yn)return null;var mi="".concat(nt,"-handler"),_i=p()(mi,"".concat(mi,"-up"),(0,o.Z)({},"".concat(mi,"-up-disabled"),Lt)),Wi=p()(mi,"".concat(mi,"-down"),(0,o.Z)({},"".concat(mi,"-down-disabled"),Be)),Si=function(){return In.current.push((0,G.Z)(Hn))},Ki={unselectable:"on",role:"button",onMouseUp:Si,onMouseLeave:Si};return r.createElement("div",{className:"".concat(mi,"-wrap")},r.createElement("span",(0,U.Z)({},Ki,{onMouseDown:function(Fi){si(Fi,!0)},"aria-label":"Increase Value","aria-disabled":Lt,className:_i}),tt||r.createElement("span",{unselectable:"on",className:"".concat(nt,"-handler-up-inner")})),r.createElement("span",(0,U.Z)({},Ki,{onMouseDown:function(Fi){si(Fi,!1)},"aria-label":"Decrease Value","aria-disabled":Be,className:Wi}),xt||r.createElement("span",{unselectable:"on",className:"".concat(nt,"-handler-down-inner")})))}function m(_t){var nt=typeof _t=="number"?C(_t):S(_t).fullStr,tt=nt.includes(".");return tt?S(nt.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:_t+"0"}var J=e(87887),X=function(){var _t=(0,r.useRef)(0),nt=function(){G.Z.cancel(_t.current)};return(0,r.useEffect)(function(){return nt},[]),function(tt){nt(),_t.current=(0,G.Z)(function(){tt()})}},te=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur"],le=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],ge=function(nt,tt){return nt||tt.isEmpty()?tt.toString():tt.toNumber()},we=function(nt){var tt=$(nt);return tt.isInvalidate()?null:tt},pe=r.forwardRef(function(_t,nt){var tt,xt=_t.prefixCls,Lt=xt===void 0?"rc-input-number":xt,Be=_t.className,yt=_t.style,un=_t.min,In=_t.max,bn=_t.step,Hn=bn===void 0?1:bn,si=_t.defaultValue,Yn=_t.value,mi=_t.disabled,_i=_t.readOnly,Wi=_t.upHandler,Si=_t.downHandler,Ki=_t.keyboard,bi=_t.controls,Fi=bi===void 0?!0:bi,ts=_t.classNames,wi=_t.stringMode,ns=_t.parser,wn=_t.formatter,qe=_t.precision,Dt=_t.decimalSeparator,Qt=_t.onChange,on=_t.onInput,Cn=_t.onPressEnter,Bn=_t.onStep,jn=_t.changeOnBlur,kt=jn===void 0?!0:jn,wt=(0,n.Z)(_t,te),sn="".concat(Lt,"-input"),en=r.useRef(null),Un=r.useState(!1),ri=(0,d.Z)(Un,2),Jn=ri[0],Di=ri[1],Ai=r.useRef(!1),Ri=r.useRef(!1),Tn=r.useRef(!1),yn=r.useState(function(){return $(Yn!=null?Yn:si)}),Nn=(0,d.Z)(yn,2),Bt=Nn[0],Yt=Nn[1];function fn(fi){Yn===void 0&&Yt(fi)}var Ht=r.useCallback(function(fi,Ci){if(!Ci)return qe>=0?qe:Math.max(y(fi),y(Hn))},[qe,Hn]),et=r.useCallback(function(fi){var Ci=String(fi);if(ns)return ns(Ci);var Li=Ci;return Dt&&(Li=Li.replace(Dt,".")),Li.replace(/[^\w.-]+/g,"")},[ns,Dt]),ee=r.useRef(""),de=r.useCallback(function(fi,Ci){if(wn)return wn(fi,{userTyping:Ci,input:String(ee.current)});var Li=typeof fi=="number"?C(fi):fi;if(!Ci){var ci=Ht(Li,Ci);if(E(Li)&&(Dt||ci>=0)){var Zi=Dt||".";Li=W(Li,Zi,ci)}}return Li},[wn,Ht,Dt]),oe=r.useState(function(){var fi=si!=null?si:Yn;return Bt.isInvalidate()&&["string","number"].includes((0,u.Z)(fi))?Number.isNaN(fi)?"":fi:de(Bt.toString(),!1)}),Ce=(0,d.Z)(oe,2),Ee=Ce[0],be=Ce[1];ee.current=Ee;function Ae(fi,Ci){be(de(fi.isInvalidate()?fi.toString(!1):fi.toString(!Ci),Ci))}var He=r.useMemo(function(){return we(In)},[In,qe]),Ye=r.useMemo(function(){return we(un)},[un,qe]),ht=r.useMemo(function(){return!He||!Bt||Bt.isInvalidate()?!1:He.lessEquals(Bt)},[He,Bt]),$t=r.useMemo(function(){return!Ye||!Bt||Bt.isInvalidate()?!1:Bt.lessEquals(Ye)},[Ye,Bt]),gn=O(en.current,Jn),dn=(0,d.Z)(gn,2),ln=dn[0],ct=dn[1],Pt=function(Ci){return He&&!Ci.lessEquals(He)?He:Ye&&!Ye.lessEquals(Ci)?Ye:null},Nt=function(Ci){return!Pt(Ci)},Tt=function(Ci,Li){var ci=Ci,Zi=Nt(ci)||ci.isEmpty();if(!ci.isEmpty()&&!Li&&(ci=Pt(ci)||ci,Zi=!0),!_i&&!mi&&Zi){var Ji=ci.toString(),vn=Ht(Ji,Li);return vn>=0&&(ci=$(W(Ji,".",vn)),Nt(ci)||(ci=$(W(Ji,".",vn,!0)))),ci.equals(Bt)||(fn(ci),Qt==null||Qt(ci.isEmpty()?null:ge(wi,ci)),Yn===void 0&&Ae(ci,Li)),ci}return Bt},Zt=X(),zt=function fi(Ci){if(ln(),ee.current=Ci,be(Ci),!Ri.current){var Li=et(Ci),ci=$(Li);ci.isNaN()||Tt(ci,!0)}on==null||on(Ci),Zt(function(){var Zi=Ci;ns||(Zi=Ci.replace(/。/g,".")),Zi!==Ci&&fi(Zi)})},_n=function(){Ri.current=!0},hn=function(){Ri.current=!1,zt(en.current.value)},Mn=function(Ci){zt(Ci.target.value)},Rn=function(Ci){var Li;if(!(Ci&&ht||!Ci&&$t)){Ai.current=!1;var ci=$(Tn.current?m(Hn):Hn);Ci||(ci=ci.negate());var Zi=(Bt||$(0)).add(ci.toString()),Ji=Tt(Zi,!1);Bn==null||Bn(ge(wi,Ji),{offset:Tn.current?m(Hn):Hn,type:Ci?"up":"down"}),(Li=en.current)===null||Li===void 0||Li.focus()}},ni=function(Ci){var Li=$(et(Ee)),ci=Li;Li.isNaN()?ci=Tt(Bt,Ci):ci=Tt(Li,Ci),Yn!==void 0?Ae(Bt,!1):ci.isNaN()||Ae(ci,!1)},gi=function(){Ai.current=!0},Ii=function(Ci){var Li=Ci.key,ci=Ci.shiftKey;Ai.current=!0,Tn.current=ci,Li==="Enter"&&(Ri.current||(Ai.current=!1),ni(!1),Cn==null||Cn(Ci)),Ki!==!1&&!Ri.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Li)&&(Rn(Li==="Up"||Li==="ArrowUp"),Ci.preventDefault())},Bi=function(){Ai.current=!1,Tn.current=!1},Hi=function(){kt&&ni(!1),Di(!1),Ai.current=!1};return(0,R.o)(function(){Bt.isInvalidate()||Ae(Bt,!1)},[qe,wn]),(0,R.o)(function(){var fi=$(Yn);Yt(fi);var Ci=$(et(Ee));(!fi.equals(Ci)||!Ai.current||wn)&&Ae(fi,Ai.current)},[Yn]),(0,R.o)(function(){wn&&ct()},[Ee]),r.createElement("div",{className:p()(Lt,ts==null?void 0:ts.input,Be,(tt={},(0,o.Z)(tt,"".concat(Lt,"-focused"),Jn),(0,o.Z)(tt,"".concat(Lt,"-disabled"),mi),(0,o.Z)(tt,"".concat(Lt,"-readonly"),_i),(0,o.Z)(tt,"".concat(Lt,"-not-a-number"),Bt.isNaN()),(0,o.Z)(tt,"".concat(Lt,"-out-of-range"),!Bt.isInvalidate()&&!Nt(Bt)),tt)),style:yt,onFocus:function(){Di(!0)},onBlur:Hi,onKeyDown:Ii,onKeyUp:Bi,onCompositionStart:_n,onCompositionEnd:hn,onBeforeInput:gi},Fi&&r.createElement(K,{prefixCls:Lt,upNode:Wi,downNode:Si,upDisabled:ht,downDisabled:$t,onStep:Rn}),r.createElement("div",{className:"".concat(sn,"-wrap")},r.createElement("input",(0,U.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":un,"aria-valuemax":In,"aria-valuenow":Bt.isInvalidate()?null:Bt.toString(),step:Hn},wt,{ref:(0,L.sQ)(en,nt),className:sn,value:Ee,onChange:Mn,disabled:mi,readOnly:_i}))))}),Pe=r.forwardRef(function(_t,nt){var tt=_t.disabled,xt=_t.style,Lt=_t.prefixCls,Be=_t.value,yt=_t.prefix,un=_t.suffix,In=_t.addonBefore,bn=_t.addonAfter,Hn=_t.classes,si=_t.className,Yn=_t.classNames,mi=(0,n.Z)(_t,le),_i=r.useRef(null),Wi=function(Ki){_i.current&&(0,J.nH)(_i.current,Ki)};return r.createElement(Y.Q,{inputElement:r.createElement(pe,(0,U.Z)({prefixCls:Lt,disabled:tt,classNames:Yn,ref:(0,L.sQ)(_i,nt)},mi)),className:si,triggerFocus:Wi,prefixCls:Lt,value:Be,disabled:tt,style:xt,prefix:yt,suffix:un,addonAfter:bn,addonBefore:In,classes:Hn,classNames:Yn,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})});Pe.displayName="InputNumber";var Ne=Pe,ae=Ne,Me=e(9708),ke=e(53124),Ue=e(28459),Le=e(98866),ie=e(98675),ce=e(65223),Re=e(4173),ye=e(47673),Se=e(14747),me=e(80110),he=e(91945),se=e(45503),ve=e(43109);const xe=(_t,nt)=>{let{componentCls:tt,borderRadiusSM:xt,borderRadiusLG:Lt}=_t;const Be=nt==="lg"?Lt:xt;return{[`&-${nt}`]:{[`${tt}-handler-wrap`]:{borderStartEndRadius:Be,borderEndEndRadius:Be},[`${tt}-handler-up`]:{borderStartEndRadius:Be},[`${tt}-handler-down`]:{borderEndEndRadius:Be}}}},je=_t=>{const{componentCls:nt,lineWidth:tt,lineType:xt,colorBorder:Lt,borderRadius:Be,fontSizeLG:yt,controlHeightLG:un,controlHeightSM:In,colorError:bn,paddingInlineSM:Hn,colorTextDescription:si,motionDurationMid:Yn,handleHoverColor:mi,paddingInline:_i,paddingBlock:Wi,handleBg:Si,handleActiveBg:Ki,colorTextDisabled:bi,borderRadiusSM:Fi,borderRadiusLG:ts,controlWidth:wi,handleOpacity:ns,handleBorderColor:wn,calc:qe}=_t;return[{[nt]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Se.Wf)(_t)),(0,ye.ik)(_t)),(0,ye.bi)(_t,nt)),{display:"inline-block",width:wi,margin:0,padding:0,border:`${(0,ve.bf)(tt)} ${xt} ${Lt}`,borderRadius:Be,"&-rtl":{direction:"rtl",[`${nt}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:yt,borderRadius:ts,[`input${nt}-input`]:{height:qe(un).sub(qe(tt).mul(2)).equal()}},"&-sm":{padding:0,borderRadius:Fi,[`input${nt}-input`]:{height:qe(In).sub(qe(tt).mul(2)).equal(),padding:`0 ${(0,ve.bf)(Hn)}`}},"&-out-of-range":{[`${nt}-input-wrap`]:{input:{color:bn}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,Se.Wf)(_t)),(0,ye.s7)(_t)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${nt}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${nt}-group-addon`]:{borderRadius:ts,fontSize:_t.fontSizeLG}},"&-sm":{[`${nt}-group-addon`]:{borderRadius:Fi}},[`${nt}-wrapper-disabled > ${nt}-group-addon`]:Object.assign({},(0,ye.Xy)(_t)),[`&:not(${nt}-compact-first-item):not(${nt}-compact-last-item)${nt}-compact-item`]:{[`${nt}, ${nt}-group-addon`]:{borderRadius:0}},[`&:not(${nt}-compact-last-item)${nt}-compact-first-item`]:{[`${nt}, ${nt}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${nt}-compact-first-item)${nt}-compact-last-item`]:{[`${nt}, ${nt}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}),[`&-disabled ${nt}-input`]:{cursor:"not-allowed"},[nt]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,Se.Wf)(_t)),{width:"100%",padding:`${(0,ve.bf)(Wi)} ${(0,ve.bf)(_i)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:Be,outline:0,transition:`all ${Yn} linear`,appearance:"textfield",fontSize:"inherit"}),(0,ye.nz)(_t.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[nt]:Object.assign(Object.assign(Object.assign({[`&:hover ${nt}-handler-wrap, &-focused ${nt}-handler-wrap`]:{opacity:1},[`${nt}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:_t.handleWidth,height:"100%",background:Si,borderStartStartRadius:0,borderStartEndRadius:Be,borderEndEndRadius:Be,borderEndStartRadius:0,opacity:ns,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${Yn} linear ${Yn}`,[`${nt}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${nt}-handler-up-inner,
              ${nt}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:_t.handleFontSize}}},[`${nt}-handler`]:{height:"50%",overflow:"hidden",color:si,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,ve.bf)(tt)} ${xt} ${wn}`,transition:`all ${Yn} linear`,"&:active":{background:Ki},"&:hover":{height:"60%",[`
              ${nt}-handler-up-inner,
              ${nt}-handler-down-inner
            `]:{color:mi}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,Se.Ro)()),{color:si,transition:`all ${Yn} linear`,userSelect:"none"})},[`${nt}-handler-up`]:{borderStartEndRadius:Be},[`${nt}-handler-down`]:{borderBlockStart:`${(0,ve.bf)(tt)} ${xt} ${wn}`,borderEndEndRadius:Be}},xe(_t,"lg")),xe(_t,"sm")),{"&-disabled, &-readonly":{[`${nt}-handler-wrap`]:{display:"none"},[`${nt}-input`]:{color:"inherit"}},[`
          ${nt}-handler-up-disabled,
          ${nt}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${nt}-handler-up-disabled:hover &-handler-up-inner,
          ${nt}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:bi}})},{[`${nt}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${nt}-handler-down`]:{borderBlockStartWidth:0}}}]},Oe=_t=>{const{componentCls:nt,paddingBlock:tt,paddingInline:xt,inputAffixPadding:Lt,controlWidth:Be,borderRadiusLG:yt,borderRadiusSM:un}=_t;return{[`${nt}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},(0,ye.ik)(_t)),(0,ye.bi)(_t,`${nt}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:Be,padding:0,paddingInlineStart:xt,"&-lg":{borderRadius:yt},"&-sm":{borderRadius:un},[`&:not(${nt}-affix-wrapper-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${nt}-disabled`]:{background:"transparent"},[`> div${nt}`]:{width:"100%",border:"none",outline:"none",[`&${nt}-focused`]:{boxShadow:"none !important"}},[`input${nt}-input`]:{padding:`${(0,ve.bf)(tt)} 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${nt}-handler-wrap`]:{zIndex:2},[nt]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:Lt},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:xt,marginInlineStart:Lt}}})}},Ze=_t=>Object.assign(Object.assign({},(0,ye.TM)(_t)),{controlWidth:90,handleWidth:_t.controlHeightSM-_t.lineWidth*2,handleFontSize:_t.fontSize/2,handleVisible:"auto",handleActiveBg:_t.colorFillAlter,handleBg:_t.colorBgContainer,handleHoverColor:_t.colorPrimary,handleBorderColor:_t.colorBorder,handleOpacity:0}),it=_t=>Object.assign(Object.assign({},_t),{handleOpacity:_t.handleVisible===!0?1:0});var Et=(0,he.I$)("InputNumber",_t=>{const nt=(0,se.TS)(_t,(0,ye.e5)(_t));return[je(nt),Oe(nt),(0,me.c)(nt)]},Ze,{format:it,unitless:{handleOpacity:!0}}),st=e(35792),pt=function(_t,nt){var tt={};for(var xt in _t)Object.prototype.hasOwnProperty.call(_t,xt)&&nt.indexOf(xt)<0&&(tt[xt]=_t[xt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lt=0,xt=Object.getOwnPropertySymbols(_t);Lt<xt.length;Lt++)nt.indexOf(xt[Lt])<0&&Object.prototype.propertyIsEnumerable.call(_t,xt[Lt])&&(tt[xt[Lt]]=_t[xt[Lt]]);return tt};const Mt=r.forwardRef((_t,nt)=>{const{getPrefixCls:tt,direction:xt}=r.useContext(ke.E_),Lt=r.useRef(null);r.useImperativeHandle(nt,()=>Lt.current);const{className:Be,rootClassName:yt,size:un,disabled:In,prefixCls:bn,addonBefore:Hn,addonAfter:si,prefix:Yn,bordered:mi=!0,readOnly:_i,status:Wi,controls:Si}=_t,Ki=pt(_t,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),bi=tt("input-number",bn),Fi=(0,st.Z)(bi),[ts,wi]=Et(bi,Fi),{compactSize:ns,compactItemClassnames:wn}=(0,Re.ri)(bi,xt);let qe=r.createElement(M,{className:`${bi}-handler-up-inner`}),Dt=r.createElement(b.Z,{className:`${bi}-handler-down-inner`});const Qt=typeof Si=="boolean"?Si:void 0;typeof Si=="object"&&(qe=typeof Si.upIcon=="undefined"?qe:r.createElement("span",{className:`${bi}-handler-up-inner`},Si.upIcon),Dt=typeof Si.downIcon=="undefined"?Dt:r.createElement("span",{className:`${bi}-handler-down-inner`},Si.downIcon));const{hasFeedback:on,status:Cn,isFormItemInput:Bn,feedbackIcon:jn}=r.useContext(ce.aM),kt=(0,Me.F)(Cn,Wi),wt=(0,ie.Z)(Ai=>{var Ri;return(Ri=un!=null?un:ns)!==null&&Ri!==void 0?Ri:Ai}),sn=r.useContext(Le.Z),en=In!=null?In:sn,Un=p()({[`${bi}-lg`]:wt==="large",[`${bi}-sm`]:wt==="small",[`${bi}-rtl`]:xt==="rtl",[`${bi}-borderless`]:!mi,[`${bi}-in-form-item`]:Bn},(0,Me.Z)(bi,kt),wi),ri=`${bi}-group`,Jn=on&&r.createElement(r.Fragment,null,jn),Di=r.createElement(ae,Object.assign({ref:Lt,disabled:en,className:p()(Fi,Be,yt,wn),upHandler:qe,downHandler:Dt,prefixCls:bi,readOnly:_i,controls:Qt,prefix:Yn,suffix:Jn,addonAfter:si&&r.createElement(Re.BR,null,r.createElement(ce.Ux,{override:!0,status:!0},si)),addonBefore:Hn&&r.createElement(Re.BR,null,r.createElement(ce.Ux,{override:!0,status:!0},Hn)),classNames:{input:Un},classes:{affixWrapper:p()((0,Me.Z)(`${bi}-affix-wrapper`,kt,on),{[`${bi}-affix-wrapper-sm`]:wt==="small",[`${bi}-affix-wrapper-lg`]:wt==="large",[`${bi}-affix-wrapper-rtl`]:xt==="rtl",[`${bi}-affix-wrapper-borderless`]:!mi},wi),wrapper:p()({[`${ri}-rtl`]:xt==="rtl",[`${bi}-wrapper-disabled`]:en},wi),group:p()({[`${bi}-group-wrapper-sm`]:wt==="small",[`${bi}-group-wrapper-lg`]:wt==="large",[`${bi}-group-wrapper-rtl`]:xt==="rtl"},(0,Me.Z)(`${bi}-group-wrapper`,kt,on),wi)}},Ki));return ts(Di)}),qt=Mt,Ft=_t=>r.createElement(Ue.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},r.createElement(Mt,Object.assign({},_t)));qt._InternalPanelDoNotUseOrYouWillBeFired=Ft;var Xt=qt},68863:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return j}});var b=e(67294),U=e(94184),r=e.n(U),w=e(53124),c=e(65223),_=e(47673),M=F=>{const{getPrefixCls:K,direction:m}=(0,b.useContext)(w.E_),{prefixCls:J,className:X}=F,te=K("input-group",J),le=K("input"),[ge,we]=(0,_.ZP)(le),pe=r()(te,{[`${te}-lg`]:F.size==="large",[`${te}-sm`]:F.size==="small",[`${te}-compact`]:F.compact,[`${te}-rtl`]:m==="rtl"},we,X),Pe=(0,b.useContext)(c.aM),Ne=(0,b.useMemo)(()=>Object.assign(Object.assign({},Pe),{isFormItemInput:!1}),[Pe]);return ge(b.createElement("span",{className:pe,style:F.style,onMouseEnter:F.onMouseEnter,onMouseLeave:F.onMouseLeave,onFocus:F.onFocus,onBlur:F.onBlur},b.createElement(c.aM.Provider,{value:Ne},F.children)))},D=e(82586),p=e(87462),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},u=o,d=e(84089),n=function(K,m){return b.createElement(d.Z,(0,p.Z)({},K,{ref:m,icon:u}))},i=b.forwardRef(n),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},v=f,a=function(K,m){return b.createElement(d.Z,(0,p.Z)({},K,{ref:m,icon:v}))},S=b.forwardRef(a),g=e(98423),y=e(42550),C=e(72922),E=function(F,K){var m={};for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&K.indexOf(J)<0&&(m[J]=F[J]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(F);X<J.length;X++)K.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(F,J[X])&&(m[J[X]]=F[J[X]]);return m};const A=F=>F?b.createElement(S,null):b.createElement(i,null),N={click:"onClick",hover:"onMouseOver"};var W=b.forwardRef((F,K)=>{const{visibilityToggle:m=!0}=F,J=typeof m=="object"&&m.visible!==void 0,[X,te]=(0,b.useState)(()=>J?m.visible:!1),le=(0,b.useRef)(null);b.useEffect(()=>{J&&te(m.visible)},[J,m]);const ge=(0,C.Z)(le),we=()=>{const{disabled:Se}=F;Se||(X&&ge(),te(me=>{var he;const se=!me;return typeof m=="object"&&((he=m.onVisibleChange)===null||he===void 0||he.call(m,se)),se}))},pe=Se=>{const{action:me="click",iconRender:he=A}=F,se=N[me]||"",ve=he(X),xe={[se]:we,className:`${Se}-icon`,key:"passwordIcon",onMouseDown:je=>{je.preventDefault()},onMouseUp:je=>{je.preventDefault()}};return b.cloneElement(b.isValidElement(ve)?ve:b.createElement("span",null,ve),xe)},{className:Pe,prefixCls:Ne,inputPrefixCls:ae,size:Me}=F,ke=E(F,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:Ue}=b.useContext(w.E_),Le=Ue("input",ae),ie=Ue("input-password",Ne),ce=m&&pe(ie),Re=r()(ie,Pe,{[`${ie}-${Me}`]:!!Me}),ye=Object.assign(Object.assign({},(0,g.Z)(ke,["suffix","iconRender","visibilityToggle"])),{type:X?"text":"password",className:Re,prefixCls:Le,suffix:ce});return Me&&(ye.size=Me),b.createElement(D.Z,Object.assign({ref:(0,y.sQ)(K,le)},ye))}),$=e(68795),Y=e(96159),R=e(15867),L=e(98675),z=e(4173),O=function(F,K){var m={};for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&K.indexOf(J)<0&&(m[J]=F[J]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(F);X<J.length;X++)K.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(F,J[X])&&(m[J[X]]=F[J[X]]);return m},H=b.forwardRef((F,K)=>{const{prefixCls:m,inputPrefixCls:J,className:X,size:te,suffix:le,enterButton:ge=!1,addonAfter:we,loading:pe,disabled:Pe,onSearch:Ne,onChange:ae,onCompositionStart:Me,onCompositionEnd:ke}=F,Ue=O(F,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:Le,direction:ie}=b.useContext(w.E_),ce=b.useRef(!1),Re=Le("input-search",m),ye=Le("input",J),{compactSize:Se}=(0,z.ri)(Re,ie),me=(0,L.Z)(Ft=>{var Xt;return(Xt=te!=null?te:Se)!==null&&Xt!==void 0?Xt:Ft}),he=b.useRef(null),se=Ft=>{Ft&&Ft.target&&Ft.type==="click"&&Ne&&Ne(Ft.target.value,Ft,{source:"clear"}),ae&&ae(Ft)},ve=Ft=>{var Xt;document.activeElement===((Xt=he.current)===null||Xt===void 0?void 0:Xt.input)&&Ft.preventDefault()},xe=Ft=>{var Xt,_t;Ne&&Ne((_t=(Xt=he.current)===null||Xt===void 0?void 0:Xt.input)===null||_t===void 0?void 0:_t.value,Ft,{source:"input"})},je=Ft=>{ce.current||pe||xe(Ft)},Oe=typeof ge=="boolean"?b.createElement($.Z,null):null,Ze=`${Re}-button`;let it;const Et=ge||{},st=Et.type&&Et.type.__ANT_BUTTON===!0;st||Et.type==="button"?it=(0,Y.Tm)(Et,Object.assign({onMouseDown:ve,onClick:Ft=>{var Xt,_t;(_t=(Xt=Et==null?void 0:Et.props)===null||Xt===void 0?void 0:Xt.onClick)===null||_t===void 0||_t.call(Xt,Ft),xe(Ft)},key:"enterButton"},st?{className:Ze,size:me}:{})):it=b.createElement(R.ZP,{className:Ze,type:ge?"primary":void 0,size:me,disabled:Pe,key:"enterButton",onMouseDown:ve,onClick:xe,loading:pe,icon:Oe},ge),we&&(it=[it,(0,Y.Tm)(we,{key:"addonAfter"})]);const pt=r()(Re,{[`${Re}-rtl`]:ie==="rtl",[`${Re}-${me}`]:!!me,[`${Re}-with-button`]:!!ge},X),Mt=Ft=>{ce.current=!0,Me==null||Me(Ft)},qt=Ft=>{ce.current=!1,ke==null||ke(Ft)};return b.createElement(D.Z,Object.assign({ref:(0,y.sQ)(he,K),onPressEnter:je},Ue,{size:me,onCompositionStart:Mt,onCompositionEnd:qt,prefixCls:ye,addonAfter:it,suffix:le,onChange:se,className:pt,disabled:Pe}))}),V=e(22913);const G=D.Z;G.Group=M,G.Search=H,G.TextArea=V.Z,G.Password=W;var j=G},2453:function(Ot,Ke,e){"use strict";e.d(Ke,{ZP:function(){return Re}});var b=e(74902),U=e(67294),r=e(38135),w=e(28459),c=e(89739),_=e(4340),I=e(21640),M=e(78860),D=e(50888),p=e(94184),o=e.n(p),u=e(42999),d=e(53124),n=e(43109),i=e(87263),f=e(14747),v=e(91945),a=e(45503);const S=ye=>{const{componentCls:Se,iconCls:me,boxShadow:he,colorText:se,colorSuccess:ve,colorError:xe,colorWarning:je,colorInfo:Oe,fontSizeLG:Ze,motionEaseInOutCirc:it,motionDurationSlow:Et,marginXS:st,paddingXS:pt,borderRadiusLG:Mt,zIndexPopup:qt,contentPadding:Ft,contentBg:Xt}=ye,_t=`${Se}-notice`,nt=new n.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:pt,transform:"translateY(0)",opacity:1}}),tt=new n.E4("MessageMoveOut",{"0%":{maxHeight:ye.height,padding:pt,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),xt={padding:pt,textAlign:"center",[`${Se}-custom-content > ${me}`]:{verticalAlign:"text-bottom",marginInlineEnd:st,fontSize:Ze},[`${_t}-content`]:{display:"inline-block",padding:Ft,background:Xt,borderRadius:Mt,boxShadow:he,pointerEvents:"all"},[`${Se}-success > ${me}`]:{color:ve},[`${Se}-error > ${me}`]:{color:xe},[`${Se}-warning > ${me}`]:{color:je},[`${Se}-info > ${me},
      ${Se}-loading > ${me}`]:{color:Oe}};return[{[Se]:Object.assign(Object.assign({},(0,f.Wf)(ye)),{color:se,position:"fixed",top:st,width:"100%",pointerEvents:"none",zIndex:qt,[`${Se}-move-up`]:{animationFillMode:"forwards"},[`
        ${Se}-move-up-appear,
        ${Se}-move-up-enter
      `]:{animationName:nt,animationDuration:Et,animationPlayState:"paused",animationTimingFunction:it},[`
        ${Se}-move-up-appear${Se}-move-up-appear-active,
        ${Se}-move-up-enter${Se}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${Se}-move-up-leave`]:{animationName:tt,animationDuration:Et,animationPlayState:"paused",animationTimingFunction:it},[`${Se}-move-up-leave${Se}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[Se]:{[`${_t}-wrapper`]:Object.assign({},xt)}},{[`${Se}-notice-pure-panel`]:Object.assign(Object.assign({},xt),{padding:0,textAlign:"start"})}]},g=ye=>({zIndexPopup:ye.zIndexPopupBase+i.u6+10,contentBg:ye.colorBgElevated,contentPadding:`${(ye.controlHeightLG-ye.fontSize*ye.lineHeight)/2}px ${ye.paddingSM}px`});var y=(0,v.I$)("Message",ye=>{const Se=(0,a.TS)(ye,{height:150});return[S(Se)]},g),C=e(35792),E=function(ye,Se){var me={};for(var he in ye)Object.prototype.hasOwnProperty.call(ye,he)&&Se.indexOf(he)<0&&(me[he]=ye[he]);if(ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var se=0,he=Object.getOwnPropertySymbols(ye);se<he.length;se++)Se.indexOf(he[se])<0&&Object.prototype.propertyIsEnumerable.call(ye,he[se])&&(me[he[se]]=ye[he[se]]);return me};const A={info:U.createElement(M.Z,null),success:U.createElement(c.Z,null),error:U.createElement(_.Z,null),warning:U.createElement(I.Z,null),loading:U.createElement(D.Z,null)},N=ye=>{let{prefixCls:Se,type:me,icon:he,children:se}=ye;return U.createElement("div",{className:o()(`${Se}-custom-content`,`${Se}-${me}`)},he||A[me],U.createElement("span",null,se))};var W=ye=>{const{prefixCls:Se,className:me,type:he,icon:se,content:ve}=ye,xe=E(ye,["prefixCls","className","type","icon","content"]),{getPrefixCls:je}=U.useContext(d.E_),Oe=Se||je("message"),Ze=(0,C.Z)(Oe),[it,Et]=y(Oe,Ze);return it(U.createElement(u.qX,Object.assign({},xe,{prefixCls:Oe,className:o()(me,Et,`${Oe}-notice-pure-panel`,Ze),eventKey:"pure",duration:null,content:U.createElement(N,{prefixCls:Oe,type:he,icon:se},ve)})))},$=e(97937),Y=e(27288);function R(ye,Se){return{motionName:Se!=null?Se:`${ye}-move-up`}}function L(ye){let Se;const me=new Promise(se=>{Se=ye(()=>{se(!0)})}),he=()=>{Se==null||Se()};return he.then=(se,ve)=>me.then(se,ve),he.promise=me,he}var z=function(ye,Se){var me={};for(var he in ye)Object.prototype.hasOwnProperty.call(ye,he)&&Se.indexOf(he)<0&&(me[he]=ye[he]);if(ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var se=0,he=Object.getOwnPropertySymbols(ye);se<he.length;se++)Se.indexOf(he[se])<0&&Object.prototype.propertyIsEnumerable.call(ye,he[se])&&(me[he[se]]=ye[he[se]]);return me};const O=8,P=3,H=ye=>{let{children:Se,prefixCls:me}=ye;const[he,se]=y(me);return he(U.createElement(u.JB,{classNames:{list:se,notice:se}},Se))},V=(ye,Se)=>{let{prefixCls:me,key:he}=Se;return U.createElement(H,{prefixCls:me,key:he},ye)},G=U.forwardRef((ye,Se)=>{const{top:me,prefixCls:he,getContainer:se,maxCount:ve,duration:xe=P,rtl:je,transitionName:Oe,onAllRemoved:Ze}=ye,{getPrefixCls:it,getPopupContainer:Et,message:st}=U.useContext(d.E_),pt=he||it("message"),Mt=()=>({left:"50%",transform:"translateX(-50%)",top:me!=null?me:O}),qt=()=>o()({[`${pt}-rtl`]:je}),Ft=()=>R(pt,Oe),Xt=U.createElement("span",{className:`${pt}-close-x`},U.createElement($.Z,{className:`${pt}-close-icon`})),[_t,nt]=(0,u.lm)({prefixCls:pt,style:Mt,className:qt,motion:Ft,closable:!1,closeIcon:Xt,duration:xe,getContainer:()=>(se==null?void 0:se())||(Et==null?void 0:Et())||document.body,maxCount:ve,onAllRemoved:Ze,renderNotifications:V});return U.useImperativeHandle(Se,()=>Object.assign(Object.assign({},_t),{prefixCls:pt,message:st})),nt});let j=0;function F(ye){const Se=U.useRef(null),me=(0,Y.ln)("Message");return[U.useMemo(()=>{const se=Ze=>{var it;(it=Se.current)===null||it===void 0||it.close(Ze)},ve=Ze=>{if(!Se.current){const Be=()=>{};return Be.then=()=>{},Be}const{open:it,prefixCls:Et,message:st}=Se.current,pt=`${Et}-notice`,{content:Mt,icon:qt,type:Ft,key:Xt,className:_t,style:nt,onClose:tt}=Ze,xt=z(Ze,["content","icon","type","key","className","style","onClose"]);let Lt=Xt;return Lt==null&&(j+=1,Lt=`antd-message-${j}`),L(Be=>(it(Object.assign(Object.assign({},xt),{key:Lt,content:U.createElement(N,{prefixCls:Et,type:Ft,icon:qt},Mt),placement:"top",className:o()(Ft&&`${pt}-${Ft}`,_t,st==null?void 0:st.className),style:Object.assign(Object.assign({},st==null?void 0:st.style),nt),onClose:()=>{tt==null||tt(),Be()}})),()=>{se(Lt)}))},je={open:ve,destroy:Ze=>{var it;Ze!==void 0?se(Ze):(it=Se.current)===null||it===void 0||it.destroy()}};return["info","success","warning","error","loading"].forEach(Ze=>{const it=(Et,st,pt)=>{let Mt;Et&&typeof Et=="object"&&"content"in Et?Mt=Et:Mt={content:Et};let qt,Ft;typeof st=="function"?Ft=st:(qt=st,Ft=pt);const Xt=Object.assign(Object.assign({onClose:Ft,duration:qt},Mt),{type:Ze});return ve(Xt)};je[Ze]=it}),je},[]),U.createElement(G,Object.assign({key:"message-holder"},ye,{ref:Se}))]}function K(ye){return F(ye)}let m=null,J=ye=>ye(),X=[],te={};function le(){const{prefixCls:ye,getContainer:Se,duration:me,rtl:he,maxCount:se,top:ve}=te,xe=ye!=null?ye:(0,w.w6)().getPrefixCls("message"),je=(Se==null?void 0:Se())||document.body;return{prefixCls:xe,getContainer:()=>je,duration:me,rtl:he,maxCount:se,top:ve}}const ge=U.forwardRef((ye,Se)=>{const[me,he]=U.useState(le),[se,ve]=F(me),xe=(0,w.w6)(),je=xe.getRootPrefixCls(),Oe=xe.getIconPrefixCls(),Ze=xe.getTheme(),it=()=>{he(le)};return U.useEffect(it,[]),U.useImperativeHandle(Se,()=>{const Et=Object.assign({},se);return Object.keys(Et).forEach(st=>{Et[st]=function(){return it(),se[st].apply(se,arguments)}}),{instance:Et,sync:it}}),U.createElement(w.ZP,{prefixCls:je,iconPrefixCls:Oe,theme:Ze},ve)});function we(){if(!m){const ye=document.createDocumentFragment(),Se={fragment:ye};m=Se,J(()=>{(0,r.s)(U.createElement(ge,{ref:me=>{const{instance:he,sync:se}=me||{};Promise.resolve().then(()=>{!Se.instance&&he&&(Se.instance=he,Se.sync=se,we())})}}),ye)});return}m.instance&&(X.forEach(ye=>{const{type:Se,skipped:me}=ye;if(!me)switch(Se){case"open":{J(()=>{const he=m.instance.open(Object.assign(Object.assign({},te),ye.config));he==null||he.then(ye.resolve),ye.setCloseFn(he)});break}case"destroy":J(()=>{m==null||m.instance.destroy(ye.key)});break;default:J(()=>{var he;const se=(he=m.instance)[Se].apply(he,(0,b.Z)(ye.args));se==null||se.then(ye.resolve),ye.setCloseFn(se)})}}),X=[])}function pe(ye){te=Object.assign(Object.assign({},te),ye),J(()=>{var Se;(Se=m==null?void 0:m.sync)===null||Se===void 0||Se.call(m)})}function Pe(ye){const Se=L(me=>{let he;const se={type:"open",config:ye,resolve:me,setCloseFn:ve=>{he=ve}};return X.push(se),()=>{he?J(()=>{he()}):se.skipped=!0}});return we(),Se}function Ne(ye,Se){const me=L(he=>{let se;const ve={type:ye,args:Se,resolve:he,setCloseFn:xe=>{se=xe}};return X.push(ve),()=>{se?J(()=>{se()}):ve.skipped=!0}});return we(),me}function ae(ye){X.push({type:"destroy",key:ye}),we()}const Me=["success","info","warning","error","loading"],Ue={open:Pe,destroy:ae,config:pe,useMessage:K,_InternalPanelDoNotUseOrYouWillBeFired:W};Me.forEach(ye=>{Ue[ye]=function(){for(var Se=arguments.length,me=new Array(Se),he=0;he<Se;he++)me[he]=arguments[he];return Ne(ye,me)}});const Le=()=>{};let ie=null,ce=null;var Re=Ue},72269:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return z}});var b=e(67294),U=e(50888),r=e(94184),w=e.n(r),c=e(87462),_=e(4942),I=e(97685),M=e(91),D=e(21770),p=e(15105),o=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],u=b.forwardRef(function(O,P){var H,V=O.prefixCls,G=V===void 0?"rc-switch":V,j=O.className,F=O.checked,K=O.defaultChecked,m=O.disabled,J=O.loadingIcon,X=O.checkedChildren,te=O.unCheckedChildren,le=O.onClick,ge=O.onChange,we=O.onKeyDown,pe=(0,M.Z)(O,o),Pe=(0,D.Z)(!1,{value:F,defaultValue:K}),Ne=(0,I.Z)(Pe,2),ae=Ne[0],Me=Ne[1];function ke(ce,Re){var ye=ae;return m||(ye=ce,Me(ye),ge==null||ge(ye,Re)),ye}function Ue(ce){ce.which===p.Z.LEFT?ke(!1,ce):ce.which===p.Z.RIGHT&&ke(!0,ce),we==null||we(ce)}function Le(ce){var Re=ke(!ae,ce);le==null||le(Re,ce)}var ie=w()(G,j,(H={},(0,_.Z)(H,"".concat(G,"-checked"),ae),(0,_.Z)(H,"".concat(G,"-disabled"),m),H));return b.createElement("button",(0,c.Z)({},pe,{type:"button",role:"switch","aria-checked":ae,disabled:m,className:ie,ref:P,onKeyDown:Ue,onClick:Le}),J,b.createElement("span",{className:"".concat(G,"-inner")},b.createElement("span",{className:"".concat(G,"-inner-checked")},X),b.createElement("span",{className:"".concat(G,"-inner-unchecked")},te)))});u.displayName="Switch";var d=u,n=e(45353),i=e(53124),f=e(98866),v=e(98675),a=e(43109),S=e(10274),g=e(14747),y=e(91945),C=e(45503);const E=O=>{const{componentCls:P,trackHeightSM:H,trackPadding:V,trackMinWidthSM:G,innerMinMarginSM:j,innerMaxMarginSM:F,handleSizeSM:K,calc:m}=O,J=`${P}-inner`,X=(0,a.bf)(m(K).add(m(V).mul(2)).equal()),te=(0,a.bf)(m(F).mul(2).equal());return{[P]:{[`&${P}-small`]:{minWidth:G,height:H,lineHeight:(0,a.bf)(H),[`${P}-inner`]:{paddingInlineStart:F,paddingInlineEnd:j,[`${J}-checked`]:{marginInlineStart:`calc(-100% + ${X} - ${te})`,marginInlineEnd:`calc(100% - ${X} + ${te})`},[`${J}-unchecked`]:{marginTop:m(H).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${P}-handle`]:{width:K,height:K},[`${P}-loading-icon`]:{top:m(m(K).sub(O.switchLoadingIconSize)).div(2).equal(),fontSize:O.switchLoadingIconSize},[`&${P}-checked`]:{[`${P}-inner`]:{paddingInlineStart:j,paddingInlineEnd:F,[`${J}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${J}-unchecked`]:{marginInlineStart:`calc(100% - ${X} + ${te})`,marginInlineEnd:`calc(-100% + ${X} - ${te})`}},[`${P}-handle`]:{insetInlineStart:`calc(100% - ${(0,a.bf)(m(K).add(V).equal())})`}},[`&:not(${P}-disabled):active`]:{[`&:not(${P}-checked) ${J}`]:{[`${J}-unchecked`]:{marginInlineStart:m(O.marginXXS).div(2).equal(),marginInlineEnd:m(O.marginXXS).mul(-1).div(2).equal()}},[`&${P}-checked ${J}`]:{[`${J}-checked`]:{marginInlineStart:m(O.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:m(O.marginXXS).div(2).equal()}}}}}}},A=O=>{const{componentCls:P,handleSize:H,calc:V}=O;return{[P]:{[`${P}-loading-icon${O.iconCls}`]:{position:"relative",top:V(V(H).sub(O.fontSize)).div(2).equal(),color:O.switchLoadingIconColor,verticalAlign:"top"},[`&${P}-checked ${P}-loading-icon`]:{color:O.switchColor}}}},N=O=>{const{componentCls:P,trackPadding:H,handleBg:V,handleShadow:G,handleSize:j,calc:F}=O,K=`${P}-handle`;return{[P]:{[K]:{position:"absolute",top:H,insetInlineStart:H,width:j,height:j,transition:`all ${O.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:V,borderRadius:F(j).div(2).equal(),boxShadow:G,transition:`all ${O.switchDuration} ease-in-out`,content:'""'}},[`&${P}-checked ${K}`]:{insetInlineStart:`calc(100% - ${(0,a.bf)(F(j).add(H).equal())})`},[`&:not(${P}-disabled):active`]:{[`${K}::before`]:{insetInlineEnd:O.switchHandleActiveInset,insetInlineStart:0},[`&${P}-checked ${K}::before`]:{insetInlineEnd:0,insetInlineStart:O.switchHandleActiveInset}}}}},B=O=>{const{componentCls:P,trackHeight:H,trackPadding:V,innerMinMargin:G,innerMaxMargin:j,handleSize:F,calc:K}=O,m=`${P}-inner`,J=(0,a.bf)(K(F).add(K(V).mul(2)).equal()),X=(0,a.bf)(K(j).mul(2).equal());return{[P]:{[m]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:j,paddingInlineEnd:G,transition:`padding-inline-start ${O.switchDuration} ease-in-out, padding-inline-end ${O.switchDuration} ease-in-out`,[`${m}-checked, ${m}-unchecked`]:{display:"block",color:O.colorTextLightSolid,fontSize:O.fontSizeSM,transition:`margin-inline-start ${O.switchDuration} ease-in-out, margin-inline-end ${O.switchDuration} ease-in-out`,pointerEvents:"none"},[`${m}-checked`]:{marginInlineStart:`calc(-100% + ${J} - ${X})`,marginInlineEnd:`calc(100% - ${J} + ${X})`},[`${m}-unchecked`]:{marginTop:K(H).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${P}-checked ${m}`]:{paddingInlineStart:G,paddingInlineEnd:j,[`${m}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${m}-unchecked`]:{marginInlineStart:`calc(100% - ${J} + ${X})`,marginInlineEnd:`calc(-100% + ${J} - ${X})`}},[`&:not(${P}-disabled):active`]:{[`&:not(${P}-checked) ${m}`]:{[`${m}-unchecked`]:{marginInlineStart:K(V).mul(2).equal(),marginInlineEnd:K(V).mul(-1).mul(2).equal()}},[`&${P}-checked ${m}`]:{[`${m}-checked`]:{marginInlineStart:K(V).mul(-1).mul(2).equal(),marginInlineEnd:K(V).mul(2).equal()}}}}}},W=O=>{const{componentCls:P,trackHeight:H,trackMinWidth:V}=O;return{[P]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,g.Wf)(O)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:V,height:H,lineHeight:`${(0,a.bf)(H)}`,verticalAlign:"middle",background:O.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${O.motionDurationMid}`,userSelect:"none",[`&:hover:not(${P}-disabled)`]:{background:O.colorTextTertiary}}),(0,g.Qy)(O)),{[`&${P}-checked`]:{background:O.switchColor,[`&:hover:not(${P}-disabled)`]:{background:O.colorPrimaryHover}},[`&${P}-loading, &${P}-disabled`]:{cursor:"not-allowed",opacity:O.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${P}-rtl`]:{direction:"rtl"}})}},$=O=>{const{fontSize:P,lineHeight:H,controlHeight:V,colorWhite:G}=O,j=P*H,F=V/2,K=2,m=j-K*2,J=F-K*2;return{trackHeight:j,trackHeightSM:F,trackMinWidth:m*2+K*4,trackMinWidthSM:J*2+K*2,trackPadding:K,handleBg:G,handleSize:m,handleSizeSM:J,handleShadow:`0 2px 4px 0 ${new S.C("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:m/2,innerMaxMargin:m+K+K*2,innerMinMarginSM:J/2,innerMaxMarginSM:J+K+K*2}};var Y=(0,y.I$)("Switch",O=>{const P=(0,C.TS)(O,{switchDuration:O.motionDurationMid,switchColor:O.colorPrimary,switchDisabledOpacity:O.opacityLoading,switchLoadingIconSize:O.calc(O.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${O.opacityLoading})`,switchHandleActiveInset:"-30%"});return[W(P),B(P),N(P),A(P),E(P)]},$),R=function(O,P){var H={};for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&P.indexOf(V)<0&&(H[V]=O[V]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,V=Object.getOwnPropertySymbols(O);G<V.length;G++)P.indexOf(V[G])<0&&Object.prototype.propertyIsEnumerable.call(O,V[G])&&(H[V[G]]=O[V[G]]);return H};const L=b.forwardRef((O,P)=>{const{prefixCls:H,size:V,disabled:G,loading:j,className:F,rootClassName:K,style:m,checked:J,value:X,defaultChecked:te,defaultValue:le,onChange:ge}=O,we=R(O,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[pe,Pe]=(0,D.Z)(!1,{value:J!=null?J:X,defaultValue:te!=null?te:le}),{getPrefixCls:Ne,direction:ae,switch:Me}=b.useContext(i.E_),ke=b.useContext(f.Z),Ue=(G!=null?G:ke)||j,Le=Ne("switch",H),ie=b.createElement("div",{className:`${Le}-handle`},j&&b.createElement(U.Z,{className:`${Le}-loading-icon`})),[ce,Re]=Y(Le),ye=(0,v.Z)(V),Se=w()(Me==null?void 0:Me.className,{[`${Le}-small`]:ye==="small",[`${Le}-loading`]:j,[`${Le}-rtl`]:ae==="rtl"},F,K,Re),me=Object.assign(Object.assign({},Me==null?void 0:Me.style),m),he=function(){Pe(arguments.length<=0?void 0:arguments[0]),ge==null||ge.apply(void 0,arguments)};return ce(b.createElement(n.Z,{component:"Switch"},b.createElement(d,Object.assign({},we,{checked:pe,onChange:he,prefixCls:Le,className:Se,style:me,disabled:Ue,ref:P,loadingIcon:ie}))))});L.__ANT_SWITCH=!0;var z=L},9361:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return A}});var b=e(43109),U=e(67164),r=e(2790),w=e(1393),_=N=>{const B=N!=null&&N.algorithm?(0,b.jG)(N.algorithm):(0,b.jG)(U.Z),W=Object.assign(Object.assign({},r.Z),N==null?void 0:N.token);return(0,b.t2)(W,{override:N==null?void 0:N.token},B,w.Z)},I=e(25976),M=e(33083),D=e(372);function p(N){const{sizeUnit:B,sizeStep:W}=N,$=W-2;return{sizeXXL:B*($+10),sizeXL:B*($+6),sizeLG:B*($+2),sizeMD:B*($+2),sizeMS:B*($+1),size:B*$,sizeSM:B*$,sizeXS:B*($-1),sizeXXS:B*($-1)}}var o=e(98378),d=(N,B)=>{const W=B!=null?B:(0,U.Z)(N),$=W.fontSizeSM,Y=W.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},W),p(B!=null?B:N)),(0,o.Z)($)),{controlHeight:Y}),(0,D.Z)(Object.assign(Object.assign({},W),{controlHeight:Y})))},n=e(16397),i=e(57),f=e(10274);const v=(N,B)=>new f.C(N).setAlpha(B).toRgbString(),a=(N,B)=>new f.C(N).lighten(B).toHexString(),S=N=>{const B=(0,n.R_)(N,{theme:"dark"});return{1:B[0],2:B[1],3:B[2],4:B[3],5:B[6],6:B[5],7:B[4],8:B[6],9:B[5],10:B[4]}},g=(N,B)=>{const W=N||"#000",$=B||"#fff";return{colorBgBase:W,colorTextBase:$,colorText:v($,.85),colorTextSecondary:v($,.65),colorTextTertiary:v($,.45),colorTextQuaternary:v($,.25),colorFill:v($,.18),colorFillSecondary:v($,.12),colorFillTertiary:v($,.08),colorFillQuaternary:v($,.04),colorBgElevated:a(W,12),colorBgContainer:a(W,8),colorBgLayout:a(W,0),colorBgSpotlight:a(W,26),colorBgBlur:v($,.04),colorBorder:a(W,26),colorBorderSecondary:a(W,19)}};var C=(N,B)=>{const W=Object.keys(r.M).map(Y=>{const R=(0,n.R_)(N[Y],{theme:"dark"});return new Array(10).fill(1).reduce((L,z,O)=>(L[`${Y}-${O+1}`]=R[O],L[`${Y}${O+1}`]=R[O],L),{})}).reduce((Y,R)=>(Y=Object.assign(Object.assign({},Y),R),Y),{}),$=B!=null?B:(0,U.Z)(N);return Object.assign(Object.assign(Object.assign({},$),W),(0,i.Z)(N,{generateColorPalettes:S,generateNeutralColorPalettes:g}))};function E(){const[N,B,W]=(0,I.ZP)();return{theme:N,token:B,hashId:W}}var A={defaultConfig:M.u_,defaultSeed:M.u_.token,useToken:E,defaultAlgorithm:U.Z,darkAlgorithm:C,compactAlgorithm:d,getDesignToken:_}},79742:function(Ot,Ke){"use strict";Ke.byteLength=I,Ke.toByteArray=D,Ke.fromByteArray=u;for(var e=[],b=[],U=typeof Uint8Array!="undefined"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,c=r.length;w<c;++w)e[w]=r[w],b[r.charCodeAt(w)]=w;b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63;function _(d){var n=d.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=d.indexOf("=");i===-1&&(i=n);var f=i===n?0:4-i%4;return[i,f]}function I(d){var n=_(d),i=n[0],f=n[1];return(i+f)*3/4-f}function M(d,n,i){return(n+i)*3/4-i}function D(d){var n,i=_(d),f=i[0],v=i[1],a=new U(M(d,f,v)),S=0,g=v>0?f-4:f,y;for(y=0;y<g;y+=4)n=b[d.charCodeAt(y)]<<18|b[d.charCodeAt(y+1)]<<12|b[d.charCodeAt(y+2)]<<6|b[d.charCodeAt(y+3)],a[S++]=n>>16&255,a[S++]=n>>8&255,a[S++]=n&255;return v===2&&(n=b[d.charCodeAt(y)]<<2|b[d.charCodeAt(y+1)]>>4,a[S++]=n&255),v===1&&(n=b[d.charCodeAt(y)]<<10|b[d.charCodeAt(y+1)]<<4|b[d.charCodeAt(y+2)]>>2,a[S++]=n>>8&255,a[S++]=n&255),a}function p(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function o(d,n,i){for(var f,v=[],a=n;a<i;a+=3)f=(d[a]<<16&16711680)+(d[a+1]<<8&65280)+(d[a+2]&255),v.push(p(f));return v.join("")}function u(d){for(var n,i=d.length,f=i%3,v=[],a=16383,S=0,g=i-f;S<g;S+=a)v.push(o(d,S,S+a>g?g:S+a));return f===1?(n=d[i-1],v.push(e[n>>2]+e[n<<4&63]+"==")):f===2&&(n=(d[i-2]<<8)+d[i-1],v.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),v.join("")}},48764:function(Ot,Ke,e){"use strict";var b;var U=e(79742),r=e(80645),w=e(87300);Ke.lW=M,b=a,Ke.h2=50,M.TYPED_ARRAY_SUPPORT=e.g.TYPED_ARRAY_SUPPORT!==void 0?e.g.TYPED_ARRAY_SUPPORT:c(),b=_();function c(){try{var Le=new Uint8Array(1);return Le.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Le.foo()===42&&typeof Le.subarray=="function"&&Le.subarray(1,1).byteLength===0}catch(ie){return!1}}function _(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function I(Le,ie){if(_()<ie)throw new RangeError("Invalid typed array length");return M.TYPED_ARRAY_SUPPORT?(Le=new Uint8Array(ie),Le.__proto__=M.prototype):(Le===null&&(Le=new M(ie)),Le.length=ie),Le}function M(Le,ie,ce){if(!M.TYPED_ARRAY_SUPPORT&&!(this instanceof M))return new M(Le,ie,ce);if(typeof Le=="number"){if(typeof ie=="string")throw new Error("If encoding is specified then the first argument must be a string");return u(this,Le)}return D(this,Le,ie,ce)}M.poolSize=8192,M._augment=function(Le){return Le.__proto__=M.prototype,Le};function D(Le,ie,ce,Re){if(typeof ie=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&ie instanceof ArrayBuffer?i(Le,ie,ce,Re):typeof ie=="string"?d(Le,ie,ce):f(Le,ie)}M.from=function(Le,ie,ce){return D(null,Le,ie,ce)},M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&M[Symbol.species]===M&&Object.defineProperty(M,Symbol.species,{value:null,configurable:!0}));function p(Le){if(typeof Le!="number")throw new TypeError('"size" argument must be a number');if(Le<0)throw new RangeError('"size" argument must not be negative')}function o(Le,ie,ce,Re){return p(ie),ie<=0?I(Le,ie):ce!==void 0?typeof Re=="string"?I(Le,ie).fill(ce,Re):I(Le,ie).fill(ce):I(Le,ie)}M.alloc=function(Le,ie,ce){return o(null,Le,ie,ce)};function u(Le,ie){if(p(ie),Le=I(Le,ie<0?0:v(ie)|0),!M.TYPED_ARRAY_SUPPORT)for(var ce=0;ce<ie;++ce)Le[ce]=0;return Le}M.allocUnsafe=function(Le){return u(null,Le)},M.allocUnsafeSlow=function(Le){return u(null,Le)};function d(Le,ie,ce){if((typeof ce!="string"||ce==="")&&(ce="utf8"),!M.isEncoding(ce))throw new TypeError('"encoding" must be a valid string encoding');var Re=S(ie,ce)|0;Le=I(Le,Re);var ye=Le.write(ie,ce);return ye!==Re&&(Le=Le.slice(0,ye)),Le}function n(Le,ie){var ce=ie.length<0?0:v(ie.length)|0;Le=I(Le,ce);for(var Re=0;Re<ce;Re+=1)Le[Re]=ie[Re]&255;return Le}function i(Le,ie,ce,Re){if(ie.byteLength,ce<0||ie.byteLength<ce)throw new RangeError("'offset' is out of bounds");if(ie.byteLength<ce+(Re||0))throw new RangeError("'length' is out of bounds");return ce===void 0&&Re===void 0?ie=new Uint8Array(ie):Re===void 0?ie=new Uint8Array(ie,ce):ie=new Uint8Array(ie,ce,Re),M.TYPED_ARRAY_SUPPORT?(Le=ie,Le.__proto__=M.prototype):Le=n(Le,ie),Le}function f(Le,ie){if(M.isBuffer(ie)){var ce=v(ie.length)|0;return Le=I(Le,ce),Le.length===0||ie.copy(Le,0,0,ce),Le}if(ie){if(typeof ArrayBuffer!="undefined"&&ie.buffer instanceof ArrayBuffer||"length"in ie)return typeof ie.length!="number"||Ue(ie.length)?I(Le,0):n(Le,ie);if(ie.type==="Buffer"&&w(ie.data))return n(Le,ie.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(Le){if(Le>=_())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_().toString(16)+" bytes");return Le|0}function a(Le){return+Le!=Le&&(Le=0),M.alloc(+Le)}M.isBuffer=function(ie){return!!(ie!=null&&ie._isBuffer)},M.compare=function(ie,ce){if(!M.isBuffer(ie)||!M.isBuffer(ce))throw new TypeError("Arguments must be Buffers");if(ie===ce)return 0;for(var Re=ie.length,ye=ce.length,Se=0,me=Math.min(Re,ye);Se<me;++Se)if(ie[Se]!==ce[Se]){Re=ie[Se],ye=ce[Se];break}return Re<ye?-1:ye<Re?1:0},M.isEncoding=function(ie){switch(String(ie).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(ie,ce){if(!w(ie))throw new TypeError('"list" argument must be an Array of Buffers');if(ie.length===0)return M.alloc(0);var Re;if(ce===void 0)for(ce=0,Re=0;Re<ie.length;++Re)ce+=ie[Re].length;var ye=M.allocUnsafe(ce),Se=0;for(Re=0;Re<ie.length;++Re){var me=ie[Re];if(!M.isBuffer(me))throw new TypeError('"list" argument must be an Array of Buffers');me.copy(ye,Se),Se+=me.length}return ye};function S(Le,ie){if(M.isBuffer(Le))return Le.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Le)||Le instanceof ArrayBuffer))return Le.byteLength;typeof Le!="string"&&(Le=""+Le);var ce=Le.length;if(ce===0)return 0;for(var Re=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":case void 0:return Pe(Le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce*2;case"hex":return ce>>>1;case"base64":return Me(Le).length;default:if(Re)return Pe(Le).length;ie=(""+ie).toLowerCase(),Re=!0}}M.byteLength=S;function g(Le,ie,ce){var Re=!1;if((ie===void 0||ie<0)&&(ie=0),ie>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0,ie>>>=0,ce<=ie))return"";for(Le||(Le="utf8");;)switch(Le){case"hex":return V(this,ie,ce);case"utf8":case"utf-8":return L(this,ie,ce);case"ascii":return P(this,ie,ce);case"latin1":case"binary":return H(this,ie,ce);case"base64":return R(this,ie,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,ie,ce);default:if(Re)throw new TypeError("Unknown encoding: "+Le);Le=(Le+"").toLowerCase(),Re=!0}}M.prototype._isBuffer=!0;function y(Le,ie,ce){var Re=Le[ie];Le[ie]=Le[ce],Le[ce]=Re}M.prototype.swap16=function(){var ie=this.length;if(ie%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ce=0;ce<ie;ce+=2)y(this,ce,ce+1);return this},M.prototype.swap32=function(){var ie=this.length;if(ie%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ce=0;ce<ie;ce+=4)y(this,ce,ce+3),y(this,ce+1,ce+2);return this},M.prototype.swap64=function(){var ie=this.length;if(ie%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ce=0;ce<ie;ce+=8)y(this,ce,ce+7),y(this,ce+1,ce+6),y(this,ce+2,ce+5),y(this,ce+3,ce+4);return this},M.prototype.toString=function(){var ie=this.length|0;return ie===0?"":arguments.length===0?L(this,0,ie):g.apply(this,arguments)},M.prototype.equals=function(ie){if(!M.isBuffer(ie))throw new TypeError("Argument must be a Buffer");return this===ie?!0:M.compare(this,ie)===0},M.prototype.inspect=function(){var ie="",ce=Ke.h2;return this.length>0&&(ie=this.toString("hex",0,ce).match(/.{2}/g).join(" "),this.length>ce&&(ie+=" ... ")),"<Buffer "+ie+">"},M.prototype.compare=function(ie,ce,Re,ye,Se){if(!M.isBuffer(ie))throw new TypeError("Argument must be a Buffer");if(ce===void 0&&(ce=0),Re===void 0&&(Re=ie?ie.length:0),ye===void 0&&(ye=0),Se===void 0&&(Se=this.length),ce<0||Re>ie.length||ye<0||Se>this.length)throw new RangeError("out of range index");if(ye>=Se&&ce>=Re)return 0;if(ye>=Se)return-1;if(ce>=Re)return 1;if(ce>>>=0,Re>>>=0,ye>>>=0,Se>>>=0,this===ie)return 0;for(var me=Se-ye,he=Re-ce,se=Math.min(me,he),ve=this.slice(ye,Se),xe=ie.slice(ce,Re),je=0;je<se;++je)if(ve[je]!==xe[je]){me=ve[je],he=xe[je];break}return me<he?-1:he<me?1:0};function C(Le,ie,ce,Re,ye){if(Le.length===0)return-1;if(typeof ce=="string"?(Re=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),ce=+ce,isNaN(ce)&&(ce=ye?0:Le.length-1),ce<0&&(ce=Le.length+ce),ce>=Le.length){if(ye)return-1;ce=Le.length-1}else if(ce<0)if(ye)ce=0;else return-1;if(typeof ie=="string"&&(ie=M.from(ie,Re)),M.isBuffer(ie))return ie.length===0?-1:E(Le,ie,ce,Re,ye);if(typeof ie=="number")return ie=ie&255,M.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(Le,ie,ce):Uint8Array.prototype.lastIndexOf.call(Le,ie,ce):E(Le,[ie],ce,Re,ye);throw new TypeError("val must be string, number or Buffer")}function E(Le,ie,ce,Re,ye){var Se=1,me=Le.length,he=ie.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(Le.length<2||ie.length<2)return-1;Se=2,me/=2,he/=2,ce/=2}function se(Ze,it){return Se===1?Ze[it]:Ze.readUInt16BE(it*Se)}var ve;if(ye){var xe=-1;for(ve=ce;ve<me;ve++)if(se(Le,ve)===se(ie,xe===-1?0:ve-xe)){if(xe===-1&&(xe=ve),ve-xe+1===he)return xe*Se}else xe!==-1&&(ve-=ve-xe),xe=-1}else for(ce+he>me&&(ce=me-he),ve=ce;ve>=0;ve--){for(var je=!0,Oe=0;Oe<he;Oe++)if(se(Le,ve+Oe)!==se(ie,Oe)){je=!1;break}if(je)return ve}return-1}M.prototype.includes=function(ie,ce,Re){return this.indexOf(ie,ce,Re)!==-1},M.prototype.indexOf=function(ie,ce,Re){return C(this,ie,ce,Re,!0)},M.prototype.lastIndexOf=function(ie,ce,Re){return C(this,ie,ce,Re,!1)};function A(Le,ie,ce,Re){ce=Number(ce)||0;var ye=Le.length-ce;Re?(Re=Number(Re),Re>ye&&(Re=ye)):Re=ye;var Se=ie.length;if(Se%2!==0)throw new TypeError("Invalid hex string");Re>Se/2&&(Re=Se/2);for(var me=0;me<Re;++me){var he=parseInt(ie.substr(me*2,2),16);if(isNaN(he))return me;Le[ce+me]=he}return me}function N(Le,ie,ce,Re){return ke(Pe(ie,Le.length-ce),Le,ce,Re)}function B(Le,ie,ce,Re){return ke(Ne(ie),Le,ce,Re)}function W(Le,ie,ce,Re){return B(Le,ie,ce,Re)}function $(Le,ie,ce,Re){return ke(Me(ie),Le,ce,Re)}function Y(Le,ie,ce,Re){return ke(ae(ie,Le.length-ce),Le,ce,Re)}M.prototype.write=function(ie,ce,Re,ye){if(ce===void 0)ye="utf8",Re=this.length,ce=0;else if(Re===void 0&&typeof ce=="string")ye=ce,Re=this.length,ce=0;else if(isFinite(ce))ce=ce|0,isFinite(Re)?(Re=Re|0,ye===void 0&&(ye="utf8")):(ye=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Se=this.length-ce;if((Re===void 0||Re>Se)&&(Re=Se),ie.length>0&&(Re<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var me=!1;;)switch(ye){case"hex":return A(this,ie,ce,Re);case"utf8":case"utf-8":return N(this,ie,ce,Re);case"ascii":return B(this,ie,ce,Re);case"latin1":case"binary":return W(this,ie,ce,Re);case"base64":return $(this,ie,ce,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,ie,ce,Re);default:if(me)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),me=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(Le,ie,ce){return ie===0&&ce===Le.length?U.fromByteArray(Le):U.fromByteArray(Le.slice(ie,ce))}function L(Le,ie,ce){ce=Math.min(Le.length,ce);for(var Re=[],ye=ie;ye<ce;){var Se=Le[ye],me=null,he=Se>239?4:Se>223?3:Se>191?2:1;if(ye+he<=ce){var se,ve,xe,je;switch(he){case 1:Se<128&&(me=Se);break;case 2:se=Le[ye+1],(se&192)===128&&(je=(Se&31)<<6|se&63,je>127&&(me=je));break;case 3:se=Le[ye+1],ve=Le[ye+2],(se&192)===128&&(ve&192)===128&&(je=(Se&15)<<12|(se&63)<<6|ve&63,je>2047&&(je<55296||je>57343)&&(me=je));break;case 4:se=Le[ye+1],ve=Le[ye+2],xe=Le[ye+3],(se&192)===128&&(ve&192)===128&&(xe&192)===128&&(je=(Se&15)<<18|(se&63)<<12|(ve&63)<<6|xe&63,je>65535&&je<1114112&&(me=je))}}me===null?(me=65533,he=1):me>65535&&(me-=65536,Re.push(me>>>10&1023|55296),me=56320|me&1023),Re.push(me),ye+=he}return O(Re)}var z=4096;function O(Le){var ie=Le.length;if(ie<=z)return String.fromCharCode.apply(String,Le);for(var ce="",Re=0;Re<ie;)ce+=String.fromCharCode.apply(String,Le.slice(Re,Re+=z));return ce}function P(Le,ie,ce){var Re="";ce=Math.min(Le.length,ce);for(var ye=ie;ye<ce;++ye)Re+=String.fromCharCode(Le[ye]&127);return Re}function H(Le,ie,ce){var Re="";ce=Math.min(Le.length,ce);for(var ye=ie;ye<ce;++ye)Re+=String.fromCharCode(Le[ye]);return Re}function V(Le,ie,ce){var Re=Le.length;(!ie||ie<0)&&(ie=0),(!ce||ce<0||ce>Re)&&(ce=Re);for(var ye="",Se=ie;Se<ce;++Se)ye+=pe(Le[Se]);return ye}function G(Le,ie,ce){for(var Re=Le.slice(ie,ce),ye="",Se=0;Se<Re.length;Se+=2)ye+=String.fromCharCode(Re[Se]+Re[Se+1]*256);return ye}M.prototype.slice=function(ie,ce){var Re=this.length;ie=~~ie,ce=ce===void 0?Re:~~ce,ie<0?(ie+=Re,ie<0&&(ie=0)):ie>Re&&(ie=Re),ce<0?(ce+=Re,ce<0&&(ce=0)):ce>Re&&(ce=Re),ce<ie&&(ce=ie);var ye;if(M.TYPED_ARRAY_SUPPORT)ye=this.subarray(ie,ce),ye.__proto__=M.prototype;else{var Se=ce-ie;ye=new M(Se,void 0);for(var me=0;me<Se;++me)ye[me]=this[me+ie]}return ye};function j(Le,ie,ce){if(Le%1!==0||Le<0)throw new RangeError("offset is not uint");if(Le+ie>ce)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUIntLE=function(ie,ce,Re){ie=ie|0,ce=ce|0,Re||j(ie,ce,this.length);for(var ye=this[ie],Se=1,me=0;++me<ce&&(Se*=256);)ye+=this[ie+me]*Se;return ye},M.prototype.readUIntBE=function(ie,ce,Re){ie=ie|0,ce=ce|0,Re||j(ie,ce,this.length);for(var ye=this[ie+--ce],Se=1;ce>0&&(Se*=256);)ye+=this[ie+--ce]*Se;return ye},M.prototype.readUInt8=function(ie,ce){return ce||j(ie,1,this.length),this[ie]},M.prototype.readUInt16LE=function(ie,ce){return ce||j(ie,2,this.length),this[ie]|this[ie+1]<<8},M.prototype.readUInt16BE=function(ie,ce){return ce||j(ie,2,this.length),this[ie]<<8|this[ie+1]},M.prototype.readUInt32LE=function(ie,ce){return ce||j(ie,4,this.length),(this[ie]|this[ie+1]<<8|this[ie+2]<<16)+this[ie+3]*16777216},M.prototype.readUInt32BE=function(ie,ce){return ce||j(ie,4,this.length),this[ie]*16777216+(this[ie+1]<<16|this[ie+2]<<8|this[ie+3])},M.prototype.readIntLE=function(ie,ce,Re){ie=ie|0,ce=ce|0,Re||j(ie,ce,this.length);for(var ye=this[ie],Se=1,me=0;++me<ce&&(Se*=256);)ye+=this[ie+me]*Se;return Se*=128,ye>=Se&&(ye-=Math.pow(2,8*ce)),ye},M.prototype.readIntBE=function(ie,ce,Re){ie=ie|0,ce=ce|0,Re||j(ie,ce,this.length);for(var ye=ce,Se=1,me=this[ie+--ye];ye>0&&(Se*=256);)me+=this[ie+--ye]*Se;return Se*=128,me>=Se&&(me-=Math.pow(2,8*ce)),me},M.prototype.readInt8=function(ie,ce){return ce||j(ie,1,this.length),this[ie]&128?(255-this[ie]+1)*-1:this[ie]},M.prototype.readInt16LE=function(ie,ce){ce||j(ie,2,this.length);var Re=this[ie]|this[ie+1]<<8;return Re&32768?Re|4294901760:Re},M.prototype.readInt16BE=function(ie,ce){ce||j(ie,2,this.length);var Re=this[ie+1]|this[ie]<<8;return Re&32768?Re|4294901760:Re},M.prototype.readInt32LE=function(ie,ce){return ce||j(ie,4,this.length),this[ie]|this[ie+1]<<8|this[ie+2]<<16|this[ie+3]<<24},M.prototype.readInt32BE=function(ie,ce){return ce||j(ie,4,this.length),this[ie]<<24|this[ie+1]<<16|this[ie+2]<<8|this[ie+3]},M.prototype.readFloatLE=function(ie,ce){return ce||j(ie,4,this.length),r.read(this,ie,!0,23,4)},M.prototype.readFloatBE=function(ie,ce){return ce||j(ie,4,this.length),r.read(this,ie,!1,23,4)},M.prototype.readDoubleLE=function(ie,ce){return ce||j(ie,8,this.length),r.read(this,ie,!0,52,8)},M.prototype.readDoubleBE=function(ie,ce){return ce||j(ie,8,this.length),r.read(this,ie,!1,52,8)};function F(Le,ie,ce,Re,ye,Se){if(!M.isBuffer(Le))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie>ye||ie<Se)throw new RangeError('"value" argument is out of bounds');if(ce+Re>Le.length)throw new RangeError("Index out of range")}M.prototype.writeUIntLE=function(ie,ce,Re,ye){if(ie=+ie,ce=ce|0,Re=Re|0,!ye){var Se=Math.pow(2,8*Re)-1;F(this,ie,ce,Re,Se,0)}var me=1,he=0;for(this[ce]=ie&255;++he<Re&&(me*=256);)this[ce+he]=ie/me&255;return ce+Re},M.prototype.writeUIntBE=function(ie,ce,Re,ye){if(ie=+ie,ce=ce|0,Re=Re|0,!ye){var Se=Math.pow(2,8*Re)-1;F(this,ie,ce,Re,Se,0)}var me=Re-1,he=1;for(this[ce+me]=ie&255;--me>=0&&(he*=256);)this[ce+me]=ie/he&255;return ce+Re},M.prototype.writeUInt8=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,1,255,0),M.TYPED_ARRAY_SUPPORT||(ie=Math.floor(ie)),this[ce]=ie&255,ce+1};function K(Le,ie,ce,Re){ie<0&&(ie=65535+ie+1);for(var ye=0,Se=Math.min(Le.length-ce,2);ye<Se;++ye)Le[ce+ye]=(ie&255<<8*(Re?ye:1-ye))>>>(Re?ye:1-ye)*8}M.prototype.writeUInt16LE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie&255,this[ce+1]=ie>>>8):K(this,ie,ce,!0),ce+2},M.prototype.writeUInt16BE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie>>>8,this[ce+1]=ie&255):K(this,ie,ce,!1),ce+2};function m(Le,ie,ce,Re){ie<0&&(ie=4294967295+ie+1);for(var ye=0,Se=Math.min(Le.length-ce,4);ye<Se;++ye)Le[ce+ye]=ie>>>(Re?ye:3-ye)*8&255}M.prototype.writeUInt32LE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[ce+3]=ie>>>24,this[ce+2]=ie>>>16,this[ce+1]=ie>>>8,this[ce]=ie&255):m(this,ie,ce,!0),ce+4},M.prototype.writeUInt32BE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie>>>24,this[ce+1]=ie>>>16,this[ce+2]=ie>>>8,this[ce+3]=ie&255):m(this,ie,ce,!1),ce+4},M.prototype.writeIntLE=function(ie,ce,Re,ye){if(ie=+ie,ce=ce|0,!ye){var Se=Math.pow(2,8*Re-1);F(this,ie,ce,Re,Se-1,-Se)}var me=0,he=1,se=0;for(this[ce]=ie&255;++me<Re&&(he*=256);)ie<0&&se===0&&this[ce+me-1]!==0&&(se=1),this[ce+me]=(ie/he>>0)-se&255;return ce+Re},M.prototype.writeIntBE=function(ie,ce,Re,ye){if(ie=+ie,ce=ce|0,!ye){var Se=Math.pow(2,8*Re-1);F(this,ie,ce,Re,Se-1,-Se)}var me=Re-1,he=1,se=0;for(this[ce+me]=ie&255;--me>=0&&(he*=256);)ie<0&&se===0&&this[ce+me+1]!==0&&(se=1),this[ce+me]=(ie/he>>0)-se&255;return ce+Re},M.prototype.writeInt8=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,1,127,-128),M.TYPED_ARRAY_SUPPORT||(ie=Math.floor(ie)),ie<0&&(ie=255+ie+1),this[ce]=ie&255,ce+1},M.prototype.writeInt16LE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie&255,this[ce+1]=ie>>>8):K(this,ie,ce,!0),ce+2},M.prototype.writeInt16BE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie>>>8,this[ce+1]=ie&255):K(this,ie,ce,!1),ce+2},M.prototype.writeInt32LE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie&255,this[ce+1]=ie>>>8,this[ce+2]=ie>>>16,this[ce+3]=ie>>>24):m(this,ie,ce,!0),ce+4},M.prototype.writeInt32BE=function(ie,ce,Re){return ie=+ie,ce=ce|0,Re||F(this,ie,ce,4,2147483647,-2147483648),ie<0&&(ie=4294967295+ie+1),M.TYPED_ARRAY_SUPPORT?(this[ce]=ie>>>24,this[ce+1]=ie>>>16,this[ce+2]=ie>>>8,this[ce+3]=ie&255):m(this,ie,ce,!1),ce+4};function J(Le,ie,ce,Re,ye,Se){if(ce+Re>Le.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function X(Le,ie,ce,Re,ye){return ye||J(Le,ie,ce,4,34028234663852886e22,-34028234663852886e22),r.write(Le,ie,ce,Re,23,4),ce+4}M.prototype.writeFloatLE=function(ie,ce,Re){return X(this,ie,ce,!0,Re)},M.prototype.writeFloatBE=function(ie,ce,Re){return X(this,ie,ce,!1,Re)};function te(Le,ie,ce,Re,ye){return ye||J(Le,ie,ce,8,17976931348623157e292,-17976931348623157e292),r.write(Le,ie,ce,Re,52,8),ce+8}M.prototype.writeDoubleLE=function(ie,ce,Re){return te(this,ie,ce,!0,Re)},M.prototype.writeDoubleBE=function(ie,ce,Re){return te(this,ie,ce,!1,Re)},M.prototype.copy=function(ie,ce,Re,ye){if(Re||(Re=0),!ye&&ye!==0&&(ye=this.length),ce>=ie.length&&(ce=ie.length),ce||(ce=0),ye>0&&ye<Re&&(ye=Re),ye===Re||ie.length===0||this.length===0)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("sourceStart out of bounds");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),ie.length-ce<ye-Re&&(ye=ie.length-ce+Re);var Se=ye-Re,me;if(this===ie&&Re<ce&&ce<ye)for(me=Se-1;me>=0;--me)ie[me+ce]=this[me+Re];else if(Se<1e3||!M.TYPED_ARRAY_SUPPORT)for(me=0;me<Se;++me)ie[me+ce]=this[me+Re];else Uint8Array.prototype.set.call(ie,this.subarray(Re,Re+Se),ce);return Se},M.prototype.fill=function(ie,ce,Re,ye){if(typeof ie=="string"){if(typeof ce=="string"?(ye=ce,ce=0,Re=this.length):typeof Re=="string"&&(ye=Re,Re=this.length),ie.length===1){var Se=ie.charCodeAt(0);Se<256&&(ie=Se)}if(ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!M.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye)}else typeof ie=="number"&&(ie=ie&255);if(ce<0||this.length<ce||this.length<Re)throw new RangeError("Out of range index");if(Re<=ce)return this;ce=ce>>>0,Re=Re===void 0?this.length:Re>>>0,ie||(ie=0);var me;if(typeof ie=="number")for(me=ce;me<Re;++me)this[me]=ie;else{var he=M.isBuffer(ie)?ie:Pe(new M(ie,ye).toString()),se=he.length;for(me=0;me<Re-ce;++me)this[me+ce]=he[me%se]}return this};var le=/[^+\/0-9A-Za-z-_]/g;function ge(Le){if(Le=we(Le).replace(le,""),Le.length<2)return"";for(;Le.length%4!==0;)Le=Le+"=";return Le}function we(Le){return Le.trim?Le.trim():Le.replace(/^\s+|\s+$/g,"")}function pe(Le){return Le<16?"0"+Le.toString(16):Le.toString(16)}function Pe(Le,ie){ie=ie||1/0;for(var ce,Re=Le.length,ye=null,Se=[],me=0;me<Re;++me){if(ce=Le.charCodeAt(me),ce>55295&&ce<57344){if(!ye){if(ce>56319){(ie-=3)>-1&&Se.push(239,191,189);continue}else if(me+1===Re){(ie-=3)>-1&&Se.push(239,191,189);continue}ye=ce;continue}if(ce<56320){(ie-=3)>-1&&Se.push(239,191,189),ye=ce;continue}ce=(ye-55296<<10|ce-56320)+65536}else ye&&(ie-=3)>-1&&Se.push(239,191,189);if(ye=null,ce<128){if((ie-=1)<0)break;Se.push(ce)}else if(ce<2048){if((ie-=2)<0)break;Se.push(ce>>6|192,ce&63|128)}else if(ce<65536){if((ie-=3)<0)break;Se.push(ce>>12|224,ce>>6&63|128,ce&63|128)}else if(ce<1114112){if((ie-=4)<0)break;Se.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,ce&63|128)}else throw new Error("Invalid code point")}return Se}function Ne(Le){for(var ie=[],ce=0;ce<Le.length;++ce)ie.push(Le.charCodeAt(ce)&255);return ie}function ae(Le,ie){for(var ce,Re,ye,Se=[],me=0;me<Le.length&&!((ie-=2)<0);++me)ce=Le.charCodeAt(me),Re=ce>>8,ye=ce%256,Se.push(ye),Se.push(Re);return Se}function Me(Le){return U.toByteArray(ge(Le))}function ke(Le,ie,ce,Re){for(var ye=0;ye<Re&&!(ye+ce>=ie.length||ye>=Le.length);++ye)ie[ye+ce]=Le[ye];return ye}function Ue(Le){return Le!==Le}},87300:function(Ot){var Ke={}.toString;Ot.exports=Array.isArray||function(e){return Ke.call(e)=="[object Array]"}},80645:function(Ot,Ke){Ke.read=function(e,b,U,r,w){var c,_,I=w*8-r-1,M=(1<<I)-1,D=M>>1,p=-7,o=U?w-1:0,u=U?-1:1,d=e[b+o];for(o+=u,c=d&(1<<-p)-1,d>>=-p,p+=I;p>0;c=c*256+e[b+o],o+=u,p-=8);for(_=c&(1<<-p)-1,c>>=-p,p+=r;p>0;_=_*256+e[b+o],o+=u,p-=8);if(c===0)c=1-D;else{if(c===M)return _?NaN:(d?-1:1)*(1/0);_=_+Math.pow(2,r),c=c-D}return(d?-1:1)*_*Math.pow(2,c-r)},Ke.write=function(e,b,U,r,w,c){var _,I,M,D=c*8-w-1,p=(1<<D)-1,o=p>>1,u=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:c-1,n=r?1:-1,i=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(I=isNaN(b)?1:0,_=p):(_=Math.floor(Math.log(b)/Math.LN2),b*(M=Math.pow(2,-_))<1&&(_--,M*=2),_+o>=1?b+=u/M:b+=u*Math.pow(2,1-o),b*M>=2&&(_++,M/=2),_+o>=p?(I=0,_=p):_+o>=1?(I=(b*M-1)*Math.pow(2,w),_=_+o):(I=b*Math.pow(2,o-1)*Math.pow(2,w),_=0));w>=8;e[U+d]=I&255,d+=n,I/=256,w-=8);for(_=_<<w|I,D+=w;D>0;e[U+d]=_&255,d+=n,_/=256,D-=8);e[U+d-n]|=i*128}},366:function(Ot,Ke,e){"use strict";e.r(Ke),e.d(Ke,{CancellationTokenSource:function(){return Lc},Emitter:function(){return Ec},KeyCode:function(){return xc},KeyMod:function(){return Dc},MarkerSeverity:function(){return Pc},MarkerTag:function(){return Rc},Position:function(){return Ic},Range:function(){return Nc},Selection:function(){return Tc},SelectionDirection:function(){return Mc},Token:function(){return Ac},Uri:function(){return Oc},default:function(){return gu},editor:function(){return kc},languages:function(){return Fc}});var b={};e.r(b),e.d(b,{CancellationTokenSource:function(){return Lc},Emitter:function(){return Ec},KeyCode:function(){return xc},KeyMod:function(){return Dc},MarkerSeverity:function(){return Pc},MarkerTag:function(){return Rc},Position:function(){return Ic},Range:function(){return Nc},Selection:function(){return Tc},SelectionDirection:function(){return Mc},Token:function(){return Ac},Uri:function(){return Oc},editor:function(){return kc},languages:function(){return Fc}});var U=e(51624),r=e(13468),w=e(42549),c=e(24336),_=e(72102),I=e(55833),M=e(86687),D=e(32871),p=e(46838),o=e(44536),u=e(39956),d=e(93740),n=e(41895),i=e(36865),f=e(2062),v=e(76917),a=e(95329),S=e(76454),g=e(63980),y=e(23369),C=e(44125),E=e(61097),A=e(10355),N=e(62078),B=e(95817),W=e(56334),$=e(93463),Y=e(24719),R=e(69901),L=e(84602),z=e(8469),O=e(42961),P=e(3665),H=e(59089),V=e(97615),G=e(49504),j=e(69949),F=e(60468),K=e(93519),m=e(77061),J=e(9776),X=e(94347),te=e(60669),le=e(96816),ge=e(73945),we=e(45048),pe=e(31975),Pe=e(61168),Ne=e(89995),ae=e(47721),Me=e(98762),ke=e(62329),Ue=e(22704),Le=e(88088),ie=e(15662),ce=e(64662),Re=e(52614),ye=e(97066),Se=e(79607),me=e(70943),he=e(37181),se=e(86709),ve=e(64141),xe=e(20927),je=e(48906),Oe=e(5976),Ze=e(97295),it=e(70666),Et=e(66059),st=e(16830),pt=e(11640),Mt=e(36248),qt=e(83379);function Ft(Xe,s,x){return new Xt(Xe,s,x)}class Xt extends qt.Q8{constructor(s,x,Z){super(s,Z.keepIdleModels||!1,Z.label,x),this._foreignModuleId=Z.moduleId,this._foreignModuleCreateData=Z.createData||null,this._foreignModuleHost=Z.host||null,this._foreignProxy=null}fhr(s,x){if(!this._foreignModuleHost||typeof this._foreignModuleHost[s]!="function")return Promise.reject(new Error("Missing method "+s+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[s].apply(this._foreignModuleHost,x))}catch(Z){return Promise.reject(Z)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(s=>{const x=this._foreignModuleHost?(0,Mt.$E)(this._foreignModuleHost):[];return s.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,x).then(Z=>{this._foreignModuleCreateData=null;const _e=(Je,At)=>s.fmr(Je,At),De=(Je,At)=>function(){const Ut=Array.prototype.slice.call(arguments,0);return At(Je,Ut)},ze={};for(const Je of Z)ze[Je]=De(Je,_e);return ze})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(s){return this._withSyncedResources(s).then(x=>this.getProxy())}}var _t=e(82334),nt=e(27374),tt=e(96518),xt=e(43155),Lt=e(72042),Be=e(4256),yt=e(68801),un=e(276),In=e(84973),bn=e(73733),Hn=e(70902),si=e(77514),Yn=e(77378),mi=e(72202),_i=e(1118);function Wi(Xe){return Array.isArray(Xe)}function Si(Xe){return!Wi(Xe)}function Ki(Xe){return typeof Xe=="string"}function bi(Xe){return!Ki(Xe)}function Fi(Xe){return!Xe}function ts(Xe,s){return Xe.ignoreCase&&s?s.toLowerCase():s}function wi(Xe){return Xe.replace(/[&<>'"_]/g,"-")}function ns(Xe,s){console.log(`${Xe.languageId}: ${s}`)}function wn(Xe,s){return new Error(`${Xe.languageId}: ${s}`)}function qe(Xe,s,x,Z,_e){const De=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let ze=null;return s.replace(De,function(Je,At,Ut,Jt,Dn,Gn,ei,es,vs){return Fi(Ut)?Fi(Jt)?!Fi(Dn)&&Dn<Z.length?ts(Xe,Z[Dn]):!Fi(ei)&&Xe&&typeof Xe[ei]=="string"?Xe[ei]:(ze===null&&(ze=_e.split("."),ze.unshift(_e)),!Fi(Gn)&&Gn<ze.length?ts(Xe,ze[Gn]):""):ts(Xe,x):"$"})}function Dt(Xe,s){let x=s;for(;x&&x.length>0;){const Z=Xe.tokenizer[x];if(Z)return Z;const _e=x.lastIndexOf(".");_e<0?x=null:x=x.substr(0,_e)}return null}function Qt(Xe,s){let x=s;for(;x&&x.length>0;){if(Xe.stateNames[x])return!0;const _e=x.lastIndexOf(".");_e<0?x=null:x=x.substr(0,_e)}return!1}var on=e(33108),Cn=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Bn=function(Xe,s){return function(x,Z){s(x,Z,Xe)}},jn;const kt=5;class wt{static create(s,x){return this._INSTANCE.create(s,x)}constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}create(s,x){if(s!==null&&s.depth>=this._maxCacheDepth)return new sn(s,x);let Z=sn.getStackElementId(s);Z.length>0&&(Z+="|"),Z+=x;let _e=this._entries[Z];return _e||(_e=new sn(s,x),this._entries[Z]=_e,_e)}}wt._INSTANCE=new wt(kt);class sn{constructor(s,x){this.parent=s,this.state=x,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let x="";for(;s!==null;)x.length>0&&(x+="|"),x+=s.state,s=s.parent;return x}static _equals(s,x){for(;s!==null&&x!==null;){if(s===x)return!0;if(s.state!==x.state)return!1;s=s.parent,x=x.parent}return s===null&&x===null}equals(s){return sn._equals(this,s)}push(s){return wt.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return wt.create(this.parent,s)}}class en{constructor(s,x){this.languageId=s,this.state=x}equals(s){return this.languageId===s.languageId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new en(this.languageId,this.state)}}class Un{static create(s,x){return this._INSTANCE.create(s,x)}constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}create(s,x){if(x!==null)return new ri(s,x);if(s!==null&&s.depth>=this._maxCacheDepth)return new ri(s,x);const Z=sn.getStackElementId(s);let _e=this._entries[Z];return _e||(_e=new ri(s,null),this._entries[Z]=_e,_e)}}Un._INSTANCE=new Un(kt);class ri{constructor(s,x){this.stack=s,this.embeddedLanguageData=x}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Un.create(this.stack,this.embeddedLanguageData)}equals(s){return!(s instanceof ri)||!this.stack.equals(s.stack)?!1:this.embeddedLanguageData===null&&s.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||s.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(s.embeddedLanguageData)}}class Jn{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(s){this._languageId=s}emit(s,x){this._lastTokenType===x&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=x,this._lastTokenLanguage=this._languageId,this._tokens.push(new xt.WU(s,x,this._languageId)))}nestedLanguageTokenize(s,x,Z,_e){const De=Z.languageId,ze=Z.state,Je=xt.RW.get(De);if(!Je)return this.enterLanguage(De),this.emit(_e,""),ze;const At=Je.tokenize(s,x,ze);if(_e!==0)for(const Ut of At.tokens)this._tokens.push(new xt.WU(Ut.offset+_e,Ut.type,Ut.language));else this._tokens=this._tokens.concat(At.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,At.endState}finalize(s){return new xt.hG(this._tokens,s)}}class Di{constructor(s,x){this._languageService=s,this._theme=x,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(s){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(s)}emit(s,x){const Z=this._theme.match(this._currentLanguageId,x)|1024;this._lastTokenMetadata!==Z&&(this._lastTokenMetadata=Z,this._tokens.push(s),this._tokens.push(Z))}static _merge(s,x,Z){const _e=s!==null?s.length:0,De=x.length,ze=Z!==null?Z.length:0;if(_e===0&&De===0&&ze===0)return new Uint32Array(0);if(_e===0&&De===0)return Z;if(De===0&&ze===0)return s;const Je=new Uint32Array(_e+De+ze);s!==null&&Je.set(s);for(let At=0;At<De;At++)Je[_e+At]=x[At];return Z!==null&&Je.set(Z,_e+De),Je}nestedLanguageTokenize(s,x,Z,_e){const De=Z.languageId,ze=Z.state,Je=xt.RW.get(De);if(!Je)return this.enterLanguage(De),this.emit(_e,""),ze;const At=Je.tokenizeEncoded(s,x,ze);if(_e!==0)for(let Ut=0,Jt=At.tokens.length;Ut<Jt;Ut+=2)At.tokens[Ut]+=_e;return this._prependTokens=Di._merge(this._prependTokens,this._tokens,At.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,At.endState}finalize(s){return new xt.DI(Di._merge(this._prependTokens,this._tokens,null),s)}}let Ai=jn=class extends Oe.JT{constructor(s,x,Z,_e,De){super(),this._configurationService=De,this._languageService=s,this._standaloneThemeService=x,this._languageId=Z,this._lexer=_e,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let ze=!1;this._register(xt.RW.onDidChange(Je=>{if(ze)return;let At=!1;for(let Ut=0,Jt=Je.changedLanguages.length;Ut<Jt;Ut++){const Dn=Je.changedLanguages[Ut];if(this._embeddedLanguages[Dn]){At=!0;break}}At&&(ze=!0,xt.RW.handleChange([this._languageId]),ze=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(Je=>{Je.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const s=[];for(const x in this._embeddedLanguages){const Z=xt.RW.get(x);if(Z){if(Z instanceof jn){const _e=Z.getLoadStatus();_e.loaded===!1&&s.push(_e.promise)}continue}xt.RW.isResolved(x)||s.push(xt.RW.getOrCreate(x))}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(x=>{})}}getInitialState(){const s=wt.create(null,this._lexer.start);return Un.create(s,null)}tokenize(s,x,Z){if(s.length>=this._maxTokenizationLineLength)return(0,un.Ri)(this._languageId,Z);const _e=new Jn,De=this._tokenize(s,x,Z,_e);return _e.finalize(De)}tokenizeEncoded(s,x,Z){if(s.length>=this._maxTokenizationLineLength)return(0,un.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),Z);const _e=new Di(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),De=this._tokenize(s,x,Z,_e);return _e.finalize(De)}_tokenize(s,x,Z,_e){return Z.embeddedLanguageData?this._nestedTokenize(s,x,Z,0,_e):this._myTokenize(s,x,Z,0,_e)}_findLeavingNestedLanguageOffset(s,x){let Z=this._lexer.tokenizer[x.stack.state];if(!Z&&(Z=Dt(this._lexer,x.stack.state),!Z))throw wn(this._lexer,"tokenizer state is not defined: "+x.stack.state);let _e=-1,De=!1;for(const ze of Z){if(!bi(ze.action)||ze.action.nextEmbedded!=="@pop")continue;De=!0;let Je=ze.regex;const At=ze.regex.source;if(At.substr(0,4)==="^(?:"&&At.substr(At.length-1,1)===")"){const Jt=(Je.ignoreCase?"i":"")+(Je.unicode?"u":"");Je=new RegExp(At.substr(4,At.length-5),Jt)}const Ut=s.search(Je);Ut===-1||Ut!==0&&ze.matchOnlyAtLineStart||(_e===-1||Ut<_e)&&(_e=Ut)}if(!De)throw wn(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+x.stack.state);return _e}_nestedTokenize(s,x,Z,_e,De){const ze=this._findLeavingNestedLanguageOffset(s,Z);if(ze===-1){const Ut=De.nestedLanguageTokenize(s,x,Z.embeddedLanguageData,_e);return Un.create(Z.stack,new en(Z.embeddedLanguageData.languageId,Ut))}const Je=s.substring(0,ze);Je.length>0&&De.nestedLanguageTokenize(Je,!1,Z.embeddedLanguageData,_e);const At=s.substring(ze);return this._myTokenize(At,x,Z,_e+ze,De)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,x,Z,_e,De){De.enterLanguage(this._languageId);const ze=s.length,Je=x&&this._lexer.includeLF?s+`
`:s,At=Je.length;let Ut=Z.embeddedLanguageData,Jt=Z.stack,Dn=0,Gn=null,ei=!0;for(;ei||Dn<At;){const es=Dn,vs=Jt.depth,ws=Gn?Gn.groups.length:0,to=Jt.state;let Fs=null,Bs=null,gs=null,Ho=null,Hr=null;if(Gn){Fs=Gn.matches;const Ls=Gn.groups.shift();Bs=Ls.matched,gs=Ls.action,Ho=Gn.rule,Gn.groups.length===0&&(Gn=null)}else{if(!ei&&Dn>=At)break;ei=!1;let Ls=this._lexer.tokenizer[to];if(!Ls&&(Ls=Dt(this._lexer,to),!Ls))throw wn(this._lexer,"tokenizer state is not defined: "+to);const ao=Je.substr(Dn);for(const Go of Ls)if((Dn===0||!Go.matchOnlyAtLineStart)&&(Fs=ao.match(Go.regex),Fs)){Bs=Fs[0],gs=Go.action;break}}if(Fs||(Fs=[""],Bs=""),gs||(Dn<At&&(Fs=[Je.charAt(Dn)],Bs=Fs[0]),gs=this._lexer.defaultToken),Bs===null)break;for(Dn+=Bs.length;Si(gs)&&bi(gs)&&gs.test;)gs=gs.test(Bs,Fs,to,Dn===At);let fo=null;if(typeof gs=="string"||Array.isArray(gs))fo=gs;else if(gs.group)fo=gs.group;else if(gs.token!==null&&gs.token!==void 0){if(gs.tokenSubst?fo=qe(this._lexer,gs.token,Bs,Fs,to):fo=gs.token,gs.nextEmbedded)if(gs.nextEmbedded==="@pop"){if(!Ut)throw wn(this._lexer,"cannot pop embedded language if not inside one");Ut=null}else{if(Ut)throw wn(this._lexer,"cannot enter embedded language from within an embedded language");Hr=qe(this._lexer,gs.nextEmbedded,Bs,Fs,to)}if(gs.goBack&&(Dn=Math.max(0,Dn-gs.goBack)),gs.switchTo&&typeof gs.switchTo=="string"){let Ls=qe(this._lexer,gs.switchTo,Bs,Fs,to);if(Ls[0]==="@"&&(Ls=Ls.substr(1)),Dt(this._lexer,Ls))Jt=Jt.switchTo(Ls);else throw wn(this._lexer,"trying to switch to a state '"+Ls+"' that is undefined in rule: "+this._safeRuleName(Ho))}else{if(gs.transform&&typeof gs.transform=="function")throw wn(this._lexer,"action.transform not supported");if(gs.next)if(gs.next==="@push"){if(Jt.depth>=this._lexer.maxStack)throw wn(this._lexer,"maximum tokenizer stack size reached: ["+Jt.state+","+Jt.parent.state+",...]");Jt=Jt.push(to)}else if(gs.next==="@pop"){if(Jt.depth<=1)throw wn(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Ho));Jt=Jt.pop()}else if(gs.next==="@popall")Jt=Jt.popall();else{let Ls=qe(this._lexer,gs.next,Bs,Fs,to);if(Ls[0]==="@"&&(Ls=Ls.substr(1)),Dt(this._lexer,Ls))Jt=Jt.push(Ls);else throw wn(this._lexer,"trying to set a next state '"+Ls+"' that is undefined in rule: "+this._safeRuleName(Ho))}}gs.log&&typeof gs.log=="string"&&ns(this._lexer,this._lexer.languageId+": "+qe(this._lexer,gs.log,Bs,Fs,to))}if(fo===null)throw wn(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Ho));const El=Ls=>{const ao=this._languageService.getLanguageIdByLanguageName(Ls)||this._languageService.getLanguageIdByMimeType(Ls)||Ls,Go=this._getNestedEmbeddedLanguageData(ao);if(Dn<At){const Zo=s.substr(Dn);return this._nestedTokenize(Zo,x,Un.create(Jt,Go),_e+Dn,De)}else return Un.create(Jt,Go)};if(Array.isArray(fo)){if(Gn&&Gn.groups.length>0)throw wn(this._lexer,"groups cannot be nested: "+this._safeRuleName(Ho));if(Fs.length!==fo.length+1)throw wn(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Ho));let Ls=0;for(let ao=1;ao<Fs.length;ao++)Ls+=Fs[ao].length;if(Ls!==Bs.length)throw wn(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Ho));Gn={rule:Ho,matches:Fs,groups:[]};for(let ao=0;ao<fo.length;ao++)Gn.groups[ao]={action:fo[ao],matched:Fs[ao+1]};Dn-=Bs.length;continue}else{if(fo==="@rematch"&&(Dn-=Bs.length,Bs="",Fs=null,fo="",Hr!==null))return El(Hr);if(Bs.length===0){if(At===0||vs!==Jt.depth||to!==Jt.state||(Gn?Gn.groups.length:0)!==ws)continue;throw wn(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Ho))}let Ls=null;if(Ki(fo)&&fo.indexOf("@brackets")===0){const ao=fo.substr(9),Go=Ri(this._lexer,Bs);if(!Go)throw wn(this._lexer,"@brackets token returned but no bracket defined as: "+Bs);Ls=wi(Go.token+ao)}else{const ao=fo===""?"":fo+this._lexer.tokenPostfix;Ls=wi(ao)}es<ze&&De.emit(es+_e,Ls)}if(Hr!==null)return El(Hr)}return Un.create(Jt,Ut)}_getNestedEmbeddedLanguageData(s){if(!this._languageService.isRegisteredLanguageId(s))return new en(s,un.TJ);s!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(s),xt.RW.getOrCreate(s),this._embeddedLanguages[s]=!0);const x=xt.RW.get(s);return x?new en(s,x.getInitialState()):new en(s,un.TJ)}};Ai=jn=Cn([Bn(4,on.Ui)],Ai);function Ri(Xe,s){if(!s)return null;s=ts(Xe,s);const x=Xe.brackets;for(const Z of x){if(Z.open===s)return{token:Z.token,bracketType:1};if(Z.close===s)return{token:Z.token,bracketType:-1}}return null}const Tn=(0,si.Z)("standaloneColorizer",{createHTML:Xe=>Xe});class yn{static colorizeElement(s,x,Z,_e){_e=_e||{};const De=_e.theme||"vs",ze=_e.mimeType||Z.getAttribute("lang")||Z.getAttribute("data-lang");if(!ze)return console.error("Mode not detected"),Promise.resolve();const Je=x.getLanguageIdByMimeType(ze)||ze;s.setTheme(De);const At=Z.firstChild?Z.firstChild.nodeValue:"";Z.className+=" "+De;const Ut=Jt=>{var Dn;const Gn=(Dn=Tn==null?void 0:Tn.createHTML(Jt))!==null&&Dn!==void 0?Dn:Jt;Z.innerHTML=Gn};return this.colorize(x,At||"",Je,_e).then(Ut,Jt=>console.error(Jt))}static colorize(s,x,Z,_e){return tn(this,null,function*(){const De=s.languageIdCodec;let ze=4;_e&&typeof _e.tabSize=="number"&&(ze=_e.tabSize),Ze.uS(x)&&(x=x.substr(1));const Je=Ze.uq(x);if(!s.isRegisteredLanguageId(Z))return Bt(Je,ze,De);const At=yield xt.RW.getOrCreate(Z);return At?Nn(Je,ze,At,De):Bt(Je,ze,De)})}static colorizeLine(s,x,Z,_e,De=4){const ze=_i.wA.isBasicASCII(s,x),Je=_i.wA.containsRTL(s,ze,Z);return(0,mi.tF)(new mi.IJ(!1,!0,s,!1,ze,Je,0,_e,[],De,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,x,Z=4){const _e=s.getLineContent(x);s.tokenization.forceTokenization(x);const ze=s.tokenization.getLineTokens(x).inflate();return this.colorizeLine(_e,s.mightContainNonBasicASCII(),s.mightContainRTL(),ze,Z)}}function Nn(Xe,s,x,Z){return new Promise((_e,De)=>{const ze=()=>{const Je=Yt(Xe,s,x,Z);if(x instanceof Ai){const At=x.getLoadStatus();if(At.loaded===!1){At.promise.then(ze,De);return}}_e(Je)};ze()})}function Bt(Xe,s,x){let Z=[];const De=new Uint32Array(2);De[0]=0,De[1]=33587200;for(let ze=0,Je=Xe.length;ze<Je;ze++){const At=Xe[ze];De[0]=At.length;const Ut=new Yn.A(De,At,x),Jt=_i.wA.isBasicASCII(At,!0),Dn=_i.wA.containsRTL(At,Jt,!0),Gn=(0,mi.tF)(new mi.IJ(!1,!0,At,!1,Jt,Dn,0,Ut,[],s,0,0,0,0,-1,"none",!1,!1,null));Z=Z.concat(Gn.html),Z.push("<br/>")}return Z.join("")}function Yt(Xe,s,x,Z){let _e=[],De=x.getInitialState();for(let ze=0,Je=Xe.length;ze<Je;ze++){const At=Xe[ze],Ut=x.tokenizeEncoded(At,!0,De);Yn.A.convertToEndOffset(Ut.tokens,At.length);const Jt=new Yn.A(Ut.tokens,At,Z),Dn=_i.wA.isBasicASCII(At,!0),Gn=_i.wA.containsRTL(At,Dn,!0),ei=(0,mi.tF)(new mi.IJ(!1,!0,At,!1,Dn,Gn,0,Jt.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));_e=_e.concat(ei.html),_e.push("<br/>"),De=Ut.endState}return _e.join("")}var fn=e(35996),Ht=e(46445),et=e(30653),ee=e(65321),de=e(66663),oe=e(4669),Ce=e(91741),Ee=e(97781),be=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Ae=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let He=class extends Oe.JT{constructor(s){super(),this._themeService=s,this._onWillCreateCodeEditor=this._register(new oe.Q5),this._onCodeEditorAdd=this._register(new oe.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new oe.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new oe.Q5),this._onDiffEditorAdd=this._register(new oe.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new oe.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Ce.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(s){this._codeEditors[s.getId()]=s,this._onCodeEditorAdd.fire(s)}removeCodeEditor(s){delete this._codeEditors[s.getId()]&&this._onCodeEditorRemove.fire(s)}listCodeEditors(){return Object.keys(this._codeEditors).map(s=>this._codeEditors[s])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(s){this._diffEditors[s.getId()]=s,this._onDiffEditorAdd.fire(s)}listDiffEditors(){return Object.keys(this._diffEditors).map(s=>this._diffEditors[s])}getFocusedCodeEditor(){let s=null;const x=this.listCodeEditors();for(const Z of x){if(Z.hasTextFocus())return Z;Z.hasWidgetFocus()&&(s=Z)}return s}removeDecorationType(s){const x=this._decorationOptionProviders.get(s);x&&(x.refCount--,x.refCount<=0&&(this._decorationOptionProviders.delete(s),x.dispose(),this.listCodeEditors().forEach(Z=>Z.removeDecorationsByType(s))))}setModelProperty(s,x,Z){const _e=s.toString();let De;this._modelProperties.has(_e)?De=this._modelProperties.get(_e):(De=new Map,this._modelProperties.set(_e,De)),De.set(x,Z)}getModelProperty(s,x){const Z=s.toString();if(this._modelProperties.has(Z))return this._modelProperties.get(Z).get(x)}openCodeEditor(s,x,Z){return tn(this,null,function*(){for(const _e of this._codeEditorOpenHandlers){const De=yield _e(s,x,Z);if(De!==null)return De}return null})}registerCodeEditorOpenHandler(s){const x=this._codeEditorOpenHandlers.unshift(s);return(0,Oe.OF)(x)}};He=be([Ae(0,Ee.XE)],He);class Ye{constructor(s){this._styleSheet=s}}var ht=e(32064),$t=e(65026),gn=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},dn=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let ln=class extends He{constructor(s,x){super(x),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((Z,_e,De)=>tn(this,null,function*(){return _e?this.doOpenEditor(_e,Z):null})))}_checkContextKey(){let s=!1;for(const x of this.listCodeEditors())if(!x.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,x){if(!this.findModel(s,x.resource)){if(x.resource){const De=x.resource.scheme;if(De===de.lg.http||De===de.lg.https)return(0,ee.V3)(x.resource.toString()),s}return null}const _e=x.options?x.options.selection:null;if(_e)if(typeof _e.endLineNumber=="number"&&typeof _e.endColumn=="number")s.setSelection(_e),s.revealRangeInCenter(_e,1);else{const De={lineNumber:_e.startLineNumber,column:_e.startColumn};s.setPosition(De),s.revealPositionInCenter(De,1)}return s}findModel(s,x){const Z=s.getModel();return Z&&Z.uri.toString()!==x.toString()?null:Z}};ln=gn([dn(0,ht.i6),dn(1,Ee.XE)],ln),(0,$t.z)(pt.$,ln,0);var ct=e(72065);const Pt=(0,ct.yh)("layoutService");var Nt=e(9488),Tt=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Zt=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let zt=class{get mainContainer(){var s,x;return(x=(s=(0,Nt.Xh)(this._codeEditorService.listCodeEditors()))===null||s===void 0?void 0:s.getContainerDomNode())!==null&&x!==void 0?x:je.Ex.document.body}get activeContainer(){var s,x;const Z=(s=this._codeEditorService.getFocusedCodeEditor())!==null&&s!==void 0?s:this._codeEditorService.getActiveCodeEditor();return(x=Z==null?void 0:Z.getContainerDomNode())!==null&&x!==void 0?x:this.mainContainer}get mainContainerDimension(){return ee.D6(this.mainContainer)}get activeContainerDimension(){return ee.D6(this.activeContainer)}get containers(){return(0,Nt.kX)(this._codeEditorService.listCodeEditors().map(s=>s.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var s;(s=this._codeEditorService.getFocusedCodeEditor())===null||s===void 0||s.focus()}constructor(s){this._codeEditorService=s,this.onDidLayoutMainContainer=oe.ju.None,this.onDidLayoutActiveContainer=oe.ju.None,this.onDidLayoutContainer=oe.ju.None,this.onDidChangeActiveContainer=oe.ju.None,this.onDidAddContainer=oe.ju.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};zt=Tt([Zt(0,pt.$)],zt);let _n=class extends zt{get mainContainer(){return this._container}constructor(s,x){super(x),this._container=s}};_n=Tt([Zt(1,pt.$)],_n),(0,$t.z)(Pt,zt,1);var hn=e(17301),Mn=e(14603),Rn=e(63580),ni=e(28820),gi=e(48894),Ii=e(64862),Bi=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Hi=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};const fi=!1;function Ci(Xe){return Xe.scheme===de.lg.file?Xe.fsPath:Xe.path}let Li=0;class ci{constructor(s,x,Z,_e,De,ze,Je){this.id=++Li,this.type=0,this.actual=s,this.label=s.label,this.confirmBeforeUndo=s.confirmBeforeUndo||!1,this.resourceLabel=x,this.strResource=Z,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=_e,this.groupOrder=De,this.sourceId=ze,this.sourceOrder=Je,this.isValid=!0}setValid(s){this.isValid=s}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Zi{constructor(s,x){this.resourceLabel=s,this.reason=x}}class Ji{constructor(){this.elements=new Map}createMessage(){const s=[],x=[];for(const[,_e]of this.elements)(_e.reason===0?s:x).push(_e.resourceLabel);const Z=[];return s.length>0&&Z.push(Rn.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",s.join(", "))),x.length>0&&Z.push(Rn.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",x.join(", "))),Z.join(`
`)}get size(){return this.elements.size}has(s){return this.elements.has(s)}set(s,x){this.elements.set(s,x)}delete(s){return this.elements.delete(s)}}class vn{constructor(s,x,Z,_e,De,ze,Je){this.id=++Li,this.type=1,this.actual=s,this.label=s.label,this.confirmBeforeUndo=s.confirmBeforeUndo||!1,this.resourceLabels=x,this.strResources=Z,this.groupId=_e,this.groupOrder=De,this.sourceId=ze,this.sourceOrder=Je,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(s,x,Z){this.removedResources||(this.removedResources=new Ji),this.removedResources.has(x)||this.removedResources.set(x,new Zi(s,Z))}setValid(s,x,Z){Z?this.invalidatedResources&&(this.invalidatedResources.delete(x),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Ji),this.invalidatedResources.has(x)||this.invalidatedResources.set(x,new Zi(s,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class $e{constructor(s,x){this.resourceLabel=s,this.strResource=x,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const s of this._past)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,0);for(const s of this._future)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const s=[];s.push(`* ${this.strResource}:`);for(let x=0;x<this._past.length;x++)s.push(`   * [UNDO] ${this._past[x]}`);for(let x=this._future.length-1;x>=0;x--)s.push(`   * [REDO] ${this._future[x]}`);return s.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(s,x){s.type===1?s.setValid(this.resourceLabel,this.strResource,x):s.setValid(x)}setElementsValidFlag(s,x){for(const Z of this._past)x(Z.actual)&&this._setElementValidFlag(Z,s);for(const Z of this._future)x(Z.actual)&&this._setElementValidFlag(Z,s)}pushElement(s){for(const x of this._future)x.type===1&&x.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(s),this.versionId++}createSnapshot(s){const x=[];for(let Z=0,_e=this._past.length;Z<_e;Z++)x.push(this._past[Z].id);for(let Z=this._future.length-1;Z>=0;Z--)x.push(this._future[Z].id);return new Ii.YO(s,x)}restoreSnapshot(s){const x=s.elements.length;let Z=!0,_e=0,De=-1;for(let Je=0,At=this._past.length;Je<At;Je++,_e++){const Ut=this._past[Je];Z&&(_e>=x||Ut.id!==s.elements[_e])&&(Z=!1,De=0),!Z&&Ut.type===1&&Ut.removeResource(this.resourceLabel,this.strResource,0)}let ze=-1;for(let Je=this._future.length-1;Je>=0;Je--,_e++){const At=this._future[Je];Z&&(_e>=x||At.id!==s.elements[_e])&&(Z=!1,ze=Je),!Z&&At.type===1&&At.removeResource(this.resourceLabel,this.strResource,0)}De!==-1&&(this._past=this._past.slice(0,De)),ze!==-1&&(this._future=this._future.slice(ze+1)),this.versionId++}getElements(){const s=[],x=[];for(const Z of this._past)s.push(Z.actual);for(const Z of this._future)x.push(Z.actual);return{past:s,future:x}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(s,x){for(let Z=this._past.length-1;Z>=0;Z--)if(this._past[Z]===s){x.has(this.strResource)?this._past[Z]=x.get(this.strResource):this._past.splice(Z,1);break}this.versionId++}splitFutureWorkspaceElement(s,x){for(let Z=this._future.length-1;Z>=0;Z--)if(this._future[Z]===s){x.has(this.strResource)?this._future[Z]=x.get(this.strResource):this._future.splice(Z,1);break}this.versionId++}moveBackward(s){this._past.pop(),this._future.push(s),this.versionId++}moveForward(s){this._future.pop(),this._past.push(s),this.versionId++}}class ft{constructor(s){this.editStacks=s,this._versionIds=[];for(let x=0,Z=this.editStacks.length;x<Z;x++)this._versionIds[x]=this.editStacks[x].versionId}isValid(){for(let s=0,x=this.editStacks.length;s<x;s++)if(this._versionIds[s]!==this.editStacks[s].versionId)return!1;return!0}}const gt=new $e("","");gt.locked=!0;let cn=class{constructor(s,x){this._dialogService=s,this._notificationService=x,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(s){for(const x of this._uriComparisonKeyComputers)if(x[0]===s.scheme)return x[1].getComparisonKey(s);return s.toString()}_print(s){console.log("------------------------------------"),console.log(`AFTER ${s}: `);const x=[];for(const Z of this._editStacks)x.push(Z[1].toString());console.log(x.join(`
`))}pushElement(s,x=Ii.Xt.None,Z=Ii.gJ.None){if(s.type===0){const _e=Ci(s.resource),De=this.getUriComparisonKey(s.resource);this._pushElement(new ci(s,_e,De,x.id,x.nextOrder(),Z.id,Z.nextOrder()))}else{const _e=new Set,De=[],ze=[];for(const Je of s.resources){const At=Ci(Je),Ut=this.getUriComparisonKey(Je);_e.has(Ut)||(_e.add(Ut),De.push(At),ze.push(Ut))}De.length===1?this._pushElement(new ci(s,De[0],ze[0],x.id,x.nextOrder(),Z.id,Z.nextOrder())):this._pushElement(new vn(s,De,ze,x.id,x.nextOrder(),Z.id,Z.nextOrder()))}fi&&this._print("pushElement")}_pushElement(s){for(let x=0,Z=s.strResources.length;x<Z;x++){const _e=s.resourceLabels[x],De=s.strResources[x];let ze;this._editStacks.has(De)?ze=this._editStacks.get(De):(ze=new $e(_e,De),this._editStacks.set(De,ze)),ze.pushElement(s)}}getLastElement(s){const x=this.getUriComparisonKey(s);if(this._editStacks.has(x)){const Z=this._editStacks.get(x);if(Z.hasFutureElements())return null;const _e=Z.getClosestPastElement();return _e?_e.actual:null}return null}_splitPastWorkspaceElement(s,x){const Z=s.actual.split(),_e=new Map;for(const De of Z){const ze=Ci(De.resource),Je=this.getUriComparisonKey(De.resource),At=new ci(De,ze,Je,0,0,0,0);_e.set(At.strResource,At)}for(const De of s.strResources){if(x&&x.has(De))continue;this._editStacks.get(De).splitPastWorkspaceElement(s,_e)}}_splitFutureWorkspaceElement(s,x){const Z=s.actual.split(),_e=new Map;for(const De of Z){const ze=Ci(De.resource),Je=this.getUriComparisonKey(De.resource),At=new ci(De,ze,Je,0,0,0,0);_e.set(At.strResource,At)}for(const De of s.strResources){if(x&&x.has(De))continue;this._editStacks.get(De).splitFutureWorkspaceElement(s,_e)}}removeElements(s){const x=typeof s=="string"?s:this.getUriComparisonKey(s);this._editStacks.has(x)&&(this._editStacks.get(x).dispose(),this._editStacks.delete(x)),fi&&this._print("removeElements")}setElementsValidFlag(s,x,Z){const _e=this.getUriComparisonKey(s);this._editStacks.has(_e)&&this._editStacks.get(_e).setElementsValidFlag(x,Z),fi&&this._print("setElementsValidFlag")}createSnapshot(s){const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).createSnapshot(s):new Ii.YO(s,[])}restoreSnapshot(s){const x=this.getUriComparisonKey(s.resource);if(this._editStacks.has(x)){const Z=this._editStacks.get(x);Z.restoreSnapshot(s),!Z.hasPastElements()&&!Z.hasFutureElements()&&(Z.dispose(),this._editStacks.delete(x))}fi&&this._print("restoreSnapshot")}getElements(s){const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(s){if(!s)return[null,null];let x=null,Z=null;for(const[_e,De]of this._editStacks){const ze=De.getClosestPastElement();ze&&ze.sourceId===s&&(!x||ze.sourceOrder>x.sourceOrder)&&(x=ze,Z=_e)}return[x,Z]}canUndo(s){if(s instanceof Ii.gJ){const[,Z]=this._findClosestUndoElementWithSource(s.id);return!!Z}const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).hasPastElements():!1}_onError(s,x){(0,hn.dL)(s);for(const Z of x.strResources)this.removeElements(Z);this._notificationService.error(s)}_acquireLocks(s){for(const x of s.editStacks)if(x.locked)throw new Error("Cannot acquire edit stack lock");for(const x of s.editStacks)x.locked=!0;return()=>{for(const x of s.editStacks)x.locked=!1}}_safeInvokeWithLocks(s,x,Z,_e,De){const ze=this._acquireLocks(Z);let Je;try{Je=x()}catch(At){return ze(),_e.dispose(),this._onError(At,s)}return Je?Je.then(()=>(ze(),_e.dispose(),De()),At=>(ze(),_e.dispose(),this._onError(At,s))):(ze(),_e.dispose(),De())}_invokeWorkspacePrepare(s){return tn(this,null,function*(){if(typeof s.actual.prepareUndoRedo=="undefined")return Oe.JT.None;const x=s.actual.prepareUndoRedo();return typeof x=="undefined"?Oe.JT.None:x})}_invokeResourcePrepare(s,x){if(s.actual.type!==1||typeof s.actual.prepareUndoRedo=="undefined")return x(Oe.JT.None);const Z=s.actual.prepareUndoRedo();return Z?(0,Oe.Wf)(Z)?x(Z):Z.then(_e=>x(_e)):x(Oe.JT.None)}_getAffectedEditStacks(s){const x=[];for(const Z of s.strResources)x.push(this._editStacks.get(Z)||gt);return new ft(x)}_tryToSplitAndUndo(s,x,Z,_e){if(x.canSplit())return this._splitPastWorkspaceElement(x,Z),this._notificationService.warn(_e),new rn(this._undo(s,0,!0));for(const De of x.strResources)this.removeElements(De);return this._notificationService.warn(_e),new rn}_checkWorkspaceUndo(s,x,Z,_e){if(x.removedResources)return this._tryToSplitAndUndo(s,x,x.removedResources,Rn.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",x.label,x.removedResources.createMessage()));if(_e&&x.invalidatedResources)return this._tryToSplitAndUndo(s,x,x.invalidatedResources,Rn.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",x.label,x.invalidatedResources.createMessage()));const De=[];for(const Je of Z.editStacks)Je.getClosestPastElement()!==x&&De.push(Je.resourceLabel);if(De.length>0)return this._tryToSplitAndUndo(s,x,null,Rn.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",x.label,De.join(", ")));const ze=[];for(const Je of Z.editStacks)Je.locked&&ze.push(Je.resourceLabel);return ze.length>0?this._tryToSplitAndUndo(s,x,null,Rn.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",x.label,ze.join(", "))):Z.isValid()?null:this._tryToSplitAndUndo(s,x,null,Rn.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",x.label))}_workspaceUndo(s,x,Z){const _e=this._getAffectedEditStacks(x),De=this._checkWorkspaceUndo(s,x,_e,!1);return De?De.returnValue:this._confirmAndExecuteWorkspaceUndo(s,x,_e,Z)}_isPartOfUndoGroup(s){if(!s.groupId)return!1;for(const[,x]of this._editStacks){const Z=x.getClosestPastElement();if(Z){if(Z===s){const _e=x.getSecondClosestPastElement();if(_e&&_e.groupId===s.groupId)return!0}if(Z.groupId===s.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(s,x,Z,_e){return tn(this,null,function*(){if(x.canSplit()&&!this._isPartOfUndoGroup(x)){let Je;(function(Jt){Jt[Jt.All=0]="All",Jt[Jt.This=1]="This",Jt[Jt.Cancel=2]="Cancel"})(Je||(Je={}));const{result:At}=yield this._dialogService.prompt({type:Mn.Z.Info,message:Rn.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",x.label),buttons:[{label:Rn.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",Z.editStacks.length),run:()=>Je.All},{label:Rn.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Je.This}],cancelButton:{run:()=>Je.Cancel}});if(At===Je.Cancel)return;if(At===Je.This)return this._splitPastWorkspaceElement(x,null),this._undo(s,0,!0);const Ut=this._checkWorkspaceUndo(s,x,Z,!1);if(Ut)return Ut.returnValue;_e=!0}let De;try{De=yield this._invokeWorkspacePrepare(x)}catch(Je){return this._onError(Je,x)}const ze=this._checkWorkspaceUndo(s,x,Z,!0);if(ze)return De.dispose(),ze.returnValue;for(const Je of Z.editStacks)Je.moveBackward(x);return this._safeInvokeWithLocks(x,()=>x.actual.undo(),Z,De,()=>this._continueUndoInGroup(x.groupId,_e))})}_resourceUndo(s,x,Z){if(!x.isValid){s.flushAllElements();return}if(s.locked){const _e=Rn.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",x.label);this._notificationService.warn(_e);return}return this._invokeResourcePrepare(x,_e=>(s.moveBackward(x),this._safeInvokeWithLocks(x,()=>x.actual.undo(),new ft([s]),_e,()=>this._continueUndoInGroup(x.groupId,Z))))}_findClosestUndoElementInGroup(s){if(!s)return[null,null];let x=null,Z=null;for(const[_e,De]of this._editStacks){const ze=De.getClosestPastElement();ze&&ze.groupId===s&&(!x||ze.groupOrder>x.groupOrder)&&(x=ze,Z=_e)}return[x,Z]}_continueUndoInGroup(s,x){if(!s)return;const[,Z]=this._findClosestUndoElementInGroup(s);if(Z)return this._undo(Z,0,x)}undo(s){if(s instanceof Ii.gJ){const[,x]=this._findClosestUndoElementWithSource(s.id);return x?this._undo(x,s.id,!1):void 0}return typeof s=="string"?this._undo(s,0,!1):this._undo(this.getUriComparisonKey(s),0,!1)}_undo(s,x=0,Z){if(!this._editStacks.has(s))return;const _e=this._editStacks.get(s),De=_e.getClosestPastElement();if(!De)return;if(De.groupId){const[Je,At]=this._findClosestUndoElementInGroup(De.groupId);if(De!==Je&&At)return this._undo(At,x,Z)}if((De.sourceId!==x||De.confirmBeforeUndo)&&!Z)return this._confirmAndContinueUndo(s,x,De);try{return De.type===1?this._workspaceUndo(s,De,Z):this._resourceUndo(_e,De,Z)}finally{fi&&this._print("undo")}}_confirmAndContinueUndo(s,x,Z){return tn(this,null,function*(){if((yield this._dialogService.confirm({message:Rn.NC("confirmDifferentSource","Would you like to undo '{0}'?",Z.label),primaryButton:Rn.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:Rn.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(s,x,!0)})}_findClosestRedoElementWithSource(s){if(!s)return[null,null];let x=null,Z=null;for(const[_e,De]of this._editStacks){const ze=De.getClosestFutureElement();ze&&ze.sourceId===s&&(!x||ze.sourceOrder<x.sourceOrder)&&(x=ze,Z=_e)}return[x,Z]}canRedo(s){if(s instanceof Ii.gJ){const[,Z]=this._findClosestRedoElementWithSource(s.id);return!!Z}const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).hasFutureElements():!1}_tryToSplitAndRedo(s,x,Z,_e){if(x.canSplit())return this._splitFutureWorkspaceElement(x,Z),this._notificationService.warn(_e),new rn(this._redo(s));for(const De of x.strResources)this.removeElements(De);return this._notificationService.warn(_e),new rn}_checkWorkspaceRedo(s,x,Z,_e){if(x.removedResources)return this._tryToSplitAndRedo(s,x,x.removedResources,Rn.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",x.label,x.removedResources.createMessage()));if(_e&&x.invalidatedResources)return this._tryToSplitAndRedo(s,x,x.invalidatedResources,Rn.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",x.label,x.invalidatedResources.createMessage()));const De=[];for(const Je of Z.editStacks)Je.getClosestFutureElement()!==x&&De.push(Je.resourceLabel);if(De.length>0)return this._tryToSplitAndRedo(s,x,null,Rn.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",x.label,De.join(", ")));const ze=[];for(const Je of Z.editStacks)Je.locked&&ze.push(Je.resourceLabel);return ze.length>0?this._tryToSplitAndRedo(s,x,null,Rn.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",x.label,ze.join(", "))):Z.isValid()?null:this._tryToSplitAndRedo(s,x,null,Rn.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",x.label))}_workspaceRedo(s,x){const Z=this._getAffectedEditStacks(x),_e=this._checkWorkspaceRedo(s,x,Z,!1);return _e?_e.returnValue:this._executeWorkspaceRedo(s,x,Z)}_executeWorkspaceRedo(s,x,Z){return tn(this,null,function*(){let _e;try{_e=yield this._invokeWorkspacePrepare(x)}catch(ze){return this._onError(ze,x)}const De=this._checkWorkspaceRedo(s,x,Z,!0);if(De)return _e.dispose(),De.returnValue;for(const ze of Z.editStacks)ze.moveForward(x);return this._safeInvokeWithLocks(x,()=>x.actual.redo(),Z,_e,()=>this._continueRedoInGroup(x.groupId))})}_resourceRedo(s,x){if(!x.isValid){s.flushAllElements();return}if(s.locked){const Z=Rn.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",x.label);this._notificationService.warn(Z);return}return this._invokeResourcePrepare(x,Z=>(s.moveForward(x),this._safeInvokeWithLocks(x,()=>x.actual.redo(),new ft([s]),Z,()=>this._continueRedoInGroup(x.groupId))))}_findClosestRedoElementInGroup(s){if(!s)return[null,null];let x=null,Z=null;for(const[_e,De]of this._editStacks){const ze=De.getClosestFutureElement();ze&&ze.groupId===s&&(!x||ze.groupOrder<x.groupOrder)&&(x=ze,Z=_e)}return[x,Z]}_continueRedoInGroup(s){if(!s)return;const[,x]=this._findClosestRedoElementInGroup(s);if(x)return this._redo(x)}redo(s){if(s instanceof Ii.gJ){const[,x]=this._findClosestRedoElementWithSource(s.id);return x?this._redo(x):void 0}return typeof s=="string"?this._redo(s):this._redo(this.getUriComparisonKey(s))}_redo(s){if(!this._editStacks.has(s))return;const x=this._editStacks.get(s),Z=x.getClosestFutureElement();if(Z){if(Z.groupId){const[_e,De]=this._findClosestRedoElementInGroup(Z.groupId);if(Z!==_e&&De)return this._redo(De)}try{return Z.type===1?this._workspaceRedo(s,Z):this._resourceRedo(x,Z)}finally{fi&&this._print("redo")}}}};cn=Bi([Hi(0,ni.S),Hi(1,gi.lT)],cn);class rn{constructor(s){this.returnValue=s}}(0,$t.z)(Ii.tJ,cn,1);var Sn=e(88191),En=e(43557),Ln=e(68997),On=e(73343),Qn=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Vn=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Wn=class extends Oe.JT{constructor(s,x,Z){super(),this._themeService=s,this._logService=x,this._languageService=Z,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new Ln.$(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};Wn=Qn([Vn(0,Ee.XE),Vn(1,En.VZ),Vn(2,Lt.O)],Wn),(0,$t.z)(On.s,Wn,1);var St=e(22970);function k(Xe){return typeof Xe=="string"?!1:Array.isArray(Xe)?Xe.every(k):!!Xe.exclusive}class ne{constructor(s,x,Z,_e){this.uri=s,this.languageId=x,this.notebookUri=Z,this.notebookType=_e}equals(s){var x,Z;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((x=this.notebookUri)===null||x===void 0?void 0:x.toString())===((Z=s.notebookUri)===null||Z===void 0?void 0:Z.toString())}}class ue{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new oe.Q5,this.onDidChange=this._onDidChange.event}register(s,x){let Z={selector:s,provider:x,_score:-1,_time:this._clock++};return this._entries.push(Z),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Oe.OF)(()=>{if(Z){const _e=this._entries.indexOf(Z);_e>=0&&(this._entries.splice(_e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Z=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const x=[];for(const Z of this._entries)Z._score>0&&x.push(Z.provider);return x}ordered(s){const x=[];return this._orderedForEach(s,Z=>x.push(Z.provider)),x}orderedGroups(s){const x=[];let Z,_e;return this._orderedForEach(s,De=>{Z&&_e===De._score?Z.push(De.provider):(_e=De._score,Z=[De.provider],x.push(Z))}),x}_orderedForEach(s,x){this._updateScores(s);for(const Z of this._entries)Z._score>0&&x(Z)}_updateScores(s){var x,Z;const _e=(x=this._notebookInfoResolver)===null||x===void 0?void 0:x.call(this,s.uri),De=_e?new ne(s.uri,s.getLanguageId(),_e.uri,_e.type):new ne(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((Z=this._lastCandidate)===null||Z===void 0)&&Z.equals(De))){this._lastCandidate=De;for(const ze of this._entries)if(ze._score=(0,St.G)(ze.selector,De.uri,De.languageId,(0,In.pt)(s),De.notebookUri,De.notebookType),k(ze.selector)&&ze._score>0){for(const Je of this._entries)Je._score=0;ze._score=1e3;break}this._entries.sort(ue._compareByScoreAndTime)}}static _compareByScoreAndTime(s,x){return s._score<x._score?1:s._score>x._score?-1:Fe(s.selector)&&!Fe(x.selector)?1:!Fe(s.selector)&&Fe(x.selector)?-1:s._time<x._time?1:s._time>x._time?-1:0}}function Fe(Xe){return typeof Xe=="string"?!1:Array.isArray(Xe)?Xe.some(Fe):!!Xe.isBuiltin}var Qe=e(71922);class ot{constructor(){this.referenceProvider=new ue(this._score.bind(this)),this.renameProvider=new ue(this._score.bind(this)),this.codeActionProvider=new ue(this._score.bind(this)),this.definitionProvider=new ue(this._score.bind(this)),this.typeDefinitionProvider=new ue(this._score.bind(this)),this.declarationProvider=new ue(this._score.bind(this)),this.implementationProvider=new ue(this._score.bind(this)),this.documentSymbolProvider=new ue(this._score.bind(this)),this.inlayHintsProvider=new ue(this._score.bind(this)),this.colorProvider=new ue(this._score.bind(this)),this.codeLensProvider=new ue(this._score.bind(this)),this.documentFormattingEditProvider=new ue(this._score.bind(this)),this.documentRangeFormattingEditProvider=new ue(this._score.bind(this)),this.onTypeFormattingEditProvider=new ue(this._score.bind(this)),this.signatureHelpProvider=new ue(this._score.bind(this)),this.hoverProvider=new ue(this._score.bind(this)),this.documentHighlightProvider=new ue(this._score.bind(this)),this.multiDocumentHighlightProvider=new ue(this._score.bind(this)),this.selectionRangeProvider=new ue(this._score.bind(this)),this.foldingRangeProvider=new ue(this._score.bind(this)),this.linkProvider=new ue(this._score.bind(this)),this.inlineCompletionsProvider=new ue(this._score.bind(this)),this.completionProvider=new ue(this._score.bind(this)),this.linkedEditingRangeProvider=new ue(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new ue(this._score.bind(this)),this.documentSemanticTokensProvider=new ue(this._score.bind(this)),this.documentOnDropEditProvider=new ue(this._score.bind(this)),this.documentPasteEditProvider=new ue(this._score.bind(this))}_score(s){var x;return(x=this._notebookTypeResolver)===null||x===void 0?void 0:x.call(this,s)}}(0,$t.z)(Qe.p,ot,1);var dt=e(59069),bt=e(8313),lt=e(1432),Q=e(66007),fe=e(800),We=e(69386),at=e(50187),Ct=e(24314),Rt=e(88216),Vt=e(71765),an=e(94565),An=e(43702),zn=e(98401),ui=e(23193),hi=e(89872);function oi(Xe){return Object.isFrozen(Xe)?Xe:Mt._A(Xe)}class Kn{constructor(s={},x=[],Z=[],_e){this._contents=s,this._keys=x,this._overrides=Z,this.raw=_e,this.overrideConfigurations=new Map}get rawConfiguration(){var s;if(!this._rawConfiguration)if(!((s=this.raw)===null||s===void 0)&&s.length){const x=this.raw.map(Z=>{if(Z instanceof Kn)return Z;const _e=new di("");return _e.parseRaw(Z),_e.configurationModel});this._rawConfiguration=x.reduce((Z,_e)=>_e===Z?_e:Z.merge(_e),x[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(s){return s?(0,on.Mt)(this.contents,s):this.contents}inspect(s,x){const Z=this.rawConfiguration.getValue(s),_e=x?this.rawConfiguration.getOverrideValue(s,x):void 0,De=x?this.rawConfiguration.override(x).getValue(s):Z;return{value:Z,override:_e,merged:De}}getOverrideValue(s,x){const Z=this.getContentsForOverrideIdentifer(x);return Z?s?(0,on.Mt)(Z,s):Z:void 0}override(s){let x=this.overrideConfigurations.get(s);return x||(x=this.createOverrideConfigurationModel(s),this.overrideConfigurations.set(s,x)),x}merge(...s){var x,Z;const _e=Mt.I8(this.contents),De=Mt.I8(this.overrides),ze=[...this.keys],Je=!((x=this.raw)===null||x===void 0)&&x.length?[...this.raw]:[this];for(const At of s)if(Je.push(...!((Z=At.raw)===null||Z===void 0)&&Z.length?At.raw:[At]),!At.isEmpty()){this.mergeContents(_e,At.contents);for(const Ut of At.overrides){const[Jt]=De.filter(Dn=>Nt.fS(Dn.identifiers,Ut.identifiers));Jt?(this.mergeContents(Jt.contents,Ut.contents),Jt.keys.push(...Ut.keys),Jt.keys=Nt.EB(Jt.keys)):De.push(Mt.I8(Ut))}for(const Ut of At.keys)ze.indexOf(Ut)===-1&&ze.push(Ut)}return new Kn(_e,ze,De,Je.every(At=>At instanceof Kn)?void 0:Je)}createOverrideConfigurationModel(s){const x=this.getContentsForOverrideIdentifer(s);if(!x||typeof x!="object"||!Object.keys(x).length)return this;const Z={};for(const _e of Nt.EB([...Object.keys(this.contents),...Object.keys(x)])){let De=this.contents[_e];const ze=x[_e];ze&&(typeof De=="object"&&typeof ze=="object"?(De=Mt.I8(De),this.mergeContents(De,ze)):De=ze),Z[_e]=De}return new Kn(Z,this.keys,this.overrides)}mergeContents(s,x){for(const Z of Object.keys(x)){if(Z in s&&zn.Kn(s[Z])&&zn.Kn(x[Z])){this.mergeContents(s[Z],x[Z]);continue}s[Z]=Mt.I8(x[Z])}}getContentsForOverrideIdentifer(s){let x=null,Z=null;const _e=De=>{De&&(Z?this.mergeContents(Z,De):Z=Mt.I8(De))};for(const De of this.overrides)De.identifiers.length===1&&De.identifiers[0]===s?x=De.contents:De.identifiers.includes(s)&&_e(De.contents);return _e(x),Z}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(s,x){this.updateValue(s,x,!0)}setValue(s,x){this.updateValue(s,x,!1)}removeValue(s){const x=this.keys.indexOf(s);x!==-1&&(this.keys.splice(x,1),(0,on.xL)(this.contents,s),ui.eU.test(s)&&this.overrides.splice(this.overrides.findIndex(Z=>Nt.fS(Z.identifiers,(0,ui.ny)(s))),1))}updateValue(s,x,Z){(0,on.KV)(this.contents,s,x,_e=>console.error(_e)),Z=Z||this.keys.indexOf(s)===-1,Z&&this.keys.push(s),ui.eU.test(s)&&this.overrides.push({identifiers:(0,ui.ny)(s),keys:Object.keys(this.contents[s]),contents:(0,on.Od)(this.contents[s],_e=>console.error(_e))})}}class di{constructor(s){this._name=s,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Kn}parseRaw(s,x){this._raw=s;const{contents:Z,keys:_e,overrides:De,restricted:ze,hasExcludedProperties:Je}=this.doParseRaw(s,x);this._configurationModel=new Kn(Z,_e,De,Je?[s]:void 0),this._restrictedConfigurations=ze||[]}doParseRaw(s,x){const Z=hi.B.as(ui.IP.Configuration).getConfigurationProperties(),_e=this.filter(s,Z,!0,x);s=_e.raw;const De=(0,on.Od)(s,At=>console.error(`Conflict in settings file ${this._name}: ${At}`)),ze=Object.keys(s),Je=this.toOverrides(s,At=>console.error(`Conflict in settings file ${this._name}: ${At}`));return{contents:De,keys:ze,overrides:Je,restricted:_e.restricted,hasExcludedProperties:_e.hasExcludedProperties}}filter(s,x,Z,_e){var De,ze,Je;let At=!1;if(!(_e!=null&&_e.scopes)&&!(_e!=null&&_e.skipRestricted)&&!(!((De=_e==null?void 0:_e.exclude)===null||De===void 0)&&De.length))return{raw:s,restricted:[],hasExcludedProperties:At};const Ut={},Jt=[];for(const Dn in s)if(ui.eU.test(Dn)&&Z){const Gn=this.filter(s[Dn],x,!1,_e);Ut[Dn]=Gn.raw,At=At||Gn.hasExcludedProperties,Jt.push(...Gn.restricted)}else{const Gn=x[Dn],ei=Gn?typeof Gn.scope!="undefined"?Gn.scope:3:void 0;Gn!=null&&Gn.restricted&&Jt.push(Dn),!(!((ze=_e.exclude)===null||ze===void 0)&&ze.includes(Dn))&&(!((Je=_e.include)===null||Je===void 0)&&Je.includes(Dn)||(ei===void 0||_e.scopes===void 0||_e.scopes.includes(ei))&&!(_e.skipRestricted&&(Gn!=null&&Gn.restricted)))?Ut[Dn]=s[Dn]:At=!0}return{raw:Ut,restricted:Jt,hasExcludedProperties:At}}toOverrides(s,x){const Z=[];for(const _e of Object.keys(s))if(ui.eU.test(_e)){const De={};for(const ze in s[_e])De[ze]=s[_e][ze];Z.push({identifiers:(0,ui.ny)(_e),keys:Object.keys(De),contents:(0,on.Od)(De,x)})}return Z}}class pi{constructor(s,x,Z,_e,De,ze,Je,At,Ut,Jt,Dn,Gn,ei){this.key=s,this.overrides=x,this._value=Z,this.overrideIdentifiers=_e,this.defaultConfiguration=De,this.policyConfiguration=ze,this.applicationConfiguration=Je,this.userConfiguration=At,this.localUserConfiguration=Ut,this.remoteUserConfiguration=Jt,this.workspaceConfiguration=Dn,this.folderConfigurationModel=Gn,this.memoryConfigurationModel=ei}inspect(s,x,Z){const _e=s.inspect(x,Z);return{get value(){return oi(_e.value)},get override(){return oi(_e.override)},get merged(){return oi(_e.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class qi{constructor(s,x,Z,_e,De=new Kn,ze=new Kn,Je=new An.Y9,At=new Kn,Ut=new An.Y9){this._defaultConfiguration=s,this._policyConfiguration=x,this._applicationConfiguration=Z,this._localUserConfiguration=_e,this._remoteUserConfiguration=De,this._workspaceConfiguration=ze,this._folderConfigurations=Je,this._memoryConfiguration=At,this._memoryConfigurationByResource=Ut,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new An.Y9,this._userConfiguration=null}getValue(s,x,Z){return this.getConsolidatedConfigurationModel(s,x,Z).getValue(s)}updateValue(s,x,Z={}){let _e;Z.resource?(_e=this._memoryConfigurationByResource.get(Z.resource),_e||(_e=new Kn,this._memoryConfigurationByResource.set(Z.resource,_e))):_e=this._memoryConfiguration,x===void 0?_e.removeValue(s):_e.setValue(s,x),Z.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(s,x,Z){const _e=this.getConsolidatedConfigurationModel(s,x,Z),De=this.getFolderConfigurationModelForResource(x.resource,Z),ze=x.resource?this._memoryConfigurationByResource.get(x.resource)||this._memoryConfiguration:this._memoryConfiguration,Je=new Set;for(const At of _e.overrides)for(const Ut of At.identifiers)_e.getOverrideValue(s,Ut)!==void 0&&Je.add(Ut);return new pi(s,x,_e.getValue(s),Je.size?[...Je]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,Z?this._workspaceConfiguration:void 0,De||void 0,ze)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(s,x,Z){let _e=this.getConsolidatedConfigurationModelForResource(x,Z);return x.overrideIdentifier&&(_e=_e.override(x.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(s)!==void 0&&(_e=_e.merge(this._policyConfiguration)),_e}getConsolidatedConfigurationModelForResource({resource:s},x){let Z=this.getWorkspaceConsolidatedConfiguration();if(x&&s){const _e=x.getFolder(s);_e&&(Z=this.getFolderConsolidatedConfiguration(_e.uri)||Z);const De=this._memoryConfigurationByResource.get(s);De&&(Z=Z.merge(De))}return Z}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(s){let x=this._foldersConsolidatedConfigurations.get(s);if(!x){const Z=this.getWorkspaceConsolidatedConfiguration(),_e=this._folderConfigurations.get(s);_e?(x=Z.merge(_e),this._foldersConsolidatedConfigurations.set(s,x)):x=Z}return x}getFolderConfigurationModelForResource(s,x){if(x&&s){const Z=x.getFolder(s);if(Z)return this._folderConfigurations.get(Z.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((s,x)=>{const{contents:Z,overrides:_e,keys:De}=this._folderConfigurations.get(x);return s.push([x,{contents:Z,overrides:_e,keys:De}]),s},[])}}static parse(s){const x=this.parseConfigurationModel(s.defaults),Z=this.parseConfigurationModel(s.policy),_e=this.parseConfigurationModel(s.application),De=this.parseConfigurationModel(s.user),ze=this.parseConfigurationModel(s.workspace),Je=s.folders.reduce((At,Ut)=>(At.set(it.o.revive(Ut[0]),this.parseConfigurationModel(Ut[1])),At),new An.Y9);return new qi(x,Z,_e,De,new Kn,ze,Je,new Kn,new An.Y9)}static parseConfigurationModel(s){return new Kn(s.contents,s.keys,s.overrides)}}class Es{constructor(s,x,Z,_e){this.change=s,this.previous=x,this.currentConfiguraiton=Z,this.currentWorkspace=_e,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const De of s.keys)this.affectedKeys.add(De);for(const[,De]of s.overrides)for(const ze of De)this.affectedKeys.add(ze);this._affectsConfigStr=this._marker;for(const De of this.affectedKeys)this._affectsConfigStr+=De+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=qi.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(s,x){var Z;const _e=this._marker+s,De=this._affectsConfigStr.indexOf(_e);if(De<0)return!1;const ze=De+_e.length;if(ze>=this._affectsConfigStr.length)return!1;const Je=this._affectsConfigStr.charCodeAt(ze);if(Je!==this._markerCode1&&Je!==this._markerCode2)return!1;if(x){const At=this.previousConfiguration?this.previousConfiguration.getValue(s,x,(Z=this.previous)===null||Z===void 0?void 0:Z.workspace):void 0,Ut=this.currentConfiguraiton.getValue(s,x,this.currentWorkspace);return!Mt.fS(At,Ut)}return!0}}var rs=e(15393),Us=e(77173);const Gi={kind:0},ys={kind:1};function us(Xe,s,x){return{kind:2,commandId:Xe,commandArgs:s,isBubble:x}}class is{constructor(s,x,Z){var _e;this._log=Z,this._defaultKeybindings=s,this._defaultBoundCommands=new Map;for(const De of s){const ze=De.command;ze&&ze.charAt(0)!=="-"&&this._defaultBoundCommands.set(ze,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=is.handleRemovals([].concat(s).concat(x));for(let De=0,ze=this._keybindings.length;De<ze;De++){const Je=this._keybindings[De];if(Je.chords.length===0)continue;const At=(_e=Je.when)===null||_e===void 0?void 0:_e.substituteConstants();At&&At.type===0||this._addKeyPress(Je.chords[0],Je)}}static _isTargetedForRemoval(s,x,Z){if(x){for(let _e=0;_e<x.length;_e++)if(x[_e]!==s.chords[_e])return!1}return!(Z&&Z.type!==1&&(!s.when||!(0,ht.Fb)(Z,s.when)))}static handleRemovals(s){const x=new Map;for(let _e=0,De=s.length;_e<De;_e++){const ze=s[_e];if(ze.command&&ze.command.charAt(0)==="-"){const Je=ze.command.substring(1);x.has(Je)?x.get(Je).push(ze):x.set(Je,[ze])}}if(x.size===0)return s;const Z=[];for(let _e=0,De=s.length;_e<De;_e++){const ze=s[_e];if(!ze.command||ze.command.length===0){Z.push(ze);continue}if(ze.command.charAt(0)==="-")continue;const Je=x.get(ze.command);if(!Je||!ze.isDefault){Z.push(ze);continue}let At=!1;for(const Ut of Je){const Jt=Ut.when;if(this._isTargetedForRemoval(ze,Ut.chords,Jt)){At=!0;break}}if(!At){Z.push(ze);continue}}return Z}_addKeyPress(s,x){const Z=this._map.get(s);if(typeof Z=="undefined"){this._map.set(s,[x]),this._addToLookupMap(x);return}for(let _e=Z.length-1;_e>=0;_e--){const De=Z[_e];if(De.command===x.command)continue;let ze=!0;for(let Je=1;Je<De.chords.length&&Je<x.chords.length;Je++)if(De.chords[Je]!==x.chords[Je]){ze=!1;break}ze&&is.whenIsEntirelyIncluded(De.when,x.when)&&this._removeFromLookupMap(De)}Z.push(x),this._addToLookupMap(x)}_addToLookupMap(s){if(!s.command)return;let x=this._lookupMap.get(s.command);typeof x=="undefined"?(x=[s],this._lookupMap.set(s.command,x)):x.push(s)}_removeFromLookupMap(s){if(!s.command)return;const x=this._lookupMap.get(s.command);if(typeof x!="undefined"){for(let Z=0,_e=x.length;Z<_e;Z++)if(x[Z]===s){x.splice(Z,1);return}}}static whenIsEntirelyIncluded(s,x){return!x||x.type===1?!0:!s||s.type===1?!1:(0,ht.K8)(s,x)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(s,x){const Z=this._lookupMap.get(s);if(typeof Z=="undefined"||Z.length===0)return null;if(Z.length===1)return Z[0];for(let _e=Z.length-1;_e>=0;_e--){const De=Z[_e];if(x.contextMatchesRules(De.when))return De}return Z[Z.length-1]}resolve(s,x,Z){const _e=[...x,Z];this._log(`| Resolving ${_e}`);const De=this._map.get(_e[0]);if(De===void 0)return this._log("\\ No keybinding entries."),Gi;let ze=null;if(_e.length<2)ze=De;else{ze=[];for(let At=0,Ut=De.length;At<Ut;At++){const Jt=De[At];if(_e.length>Jt.chords.length)continue;let Dn=!0;for(let Gn=1;Gn<_e.length;Gn++)if(Jt.chords[Gn]!==_e[Gn]){Dn=!1;break}Dn&&ze.push(Jt)}}const Je=this._findCommand(s,ze);return Je?_e.length<Je.chords.length?(this._log(`\\ From ${ze.length} keybinding entries, awaiting ${Je.chords.length-_e.length} more chord(s), when: ${Ss(Je.when)}, source: ${Ps(Je)}.`),ys):(this._log(`\\ From ${ze.length} keybinding entries, matched ${Je.command}, when: ${Ss(Je.when)}, source: ${Ps(Je)}.`),us(Je.command,Je.commandArgs,Je.bubble)):(this._log(`\\ From ${ze.length} keybinding entries, no when clauses matched the context.`),Gi)}_findCommand(s,x){for(let Z=x.length-1;Z>=0;Z--){const _e=x[Z];if(is._contextMatchesRules(s,_e.when))return _e}return null}static _contextMatchesRules(s,x){return x?x.evaluate(s):!0}}function Ss(Xe){return Xe?`${Xe.serialize()}`:"no when condition"}function Ps(Xe){return Xe.extensionId?Xe.isBuiltinExtension?`built-in extension ${Xe.extensionId}`:`user extension ${Xe.extensionId}`:Xe.isDefault?"built-in":"user"}const no=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class ar extends Oe.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:oe.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(s,x,Z,_e,De){super(),this._contextKeyService=s,this._commandService=x,this._telemetryService=Z,this._notificationService=_e,this._logService=De,this._onDidUpdateKeybindings=this._register(new oe.Q5),this._currentChords=[],this._currentChordChecker=new rs.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=_s.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new rs._F,this._logging=!1}dispose(){super.dispose()}_log(s){this._logging&&this._logService.info(`[KeybindingService]: ${s}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(s,x){const Z=this._getResolver().lookupPrimaryKeybinding(s,x||this._contextKeyService);if(Z)return Z.resolvedKeybinding}dispatchEvent(s,x){return this._dispatch(s,x)}softDispatch(s,x){this._log("/ Soft dispatching keyboard event");const Z=this.resolveKeyboardEvent(s);if(Z.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),Gi;const[_e]=Z.getDispatchChords();if(_e===null)return this._log("\\ Keyboard event cannot be dispatched"),Gi;const De=this._contextKeyService.getContext(x),ze=this._currentChords.map(({keypress:Je})=>Je);return this._getResolver().resolve(De,ze,_e)}_scheduleLeaveChordMode(){const s=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-s>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(s,x){switch(this._currentChords.push({keypress:s,label:x}),this._currentChords.length){case 0:throw(0,hn.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(Rn.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",x));break;default:{const Z=this._currentChords.map(({label:_e})=>_e).join(", ");this._currentChordStatusMessage=this._notificationService.status(Rn.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",Z))}}this._scheduleLeaveChordMode(),Us.F.enabled&&Us.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],Us.F.enable()}_dispatch(s,x){return this._doDispatch(this.resolveKeyboardEvent(s),x,!1)}_singleModifierDispatch(s,x){const Z=this.resolveKeyboardEvent(s),[_e]=Z.getSingleModifierDispatchChords();if(_e)return this._ignoreSingleModifiers.has(_e)?(this._log(`+ Ignoring single modifier ${_e} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=_s.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=_s.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${_e}.`),this._currentSingleModifier=_e,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):_e===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${_e} ${_e}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Z,x,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${_e}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[De]=Z.getChords();return this._ignoreSingleModifiers=new _s(De),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(s,x,Z=!1){var _e;let De=!1;if(s.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let ze=null,Je=null;if(Z){const[Dn]=s.getSingleModifierDispatchChords();ze=Dn,Je=Dn?[Dn]:[]}else[ze]=s.getDispatchChords(),Je=this._currentChords.map(({keypress:Dn})=>Dn);if(ze===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),De;const At=this._contextKeyService.getContext(x),Ut=s.getLabel(),Jt=this._getResolver().resolve(At,Je,ze);switch(Jt.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",Ut,"[ No matching keybinding ]"),this.inChordMode){const Dn=this._currentChords.map(({label:Gn})=>Gn).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${Dn}, ${Ut}".`),this._notificationService.status(Rn.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Dn,Ut),{hideAfter:10*1e3}),this._leaveChordMode(),De=!0}return De}case 1:return this._logService.trace("KeybindingService#dispatch",Ut,"[ Several keybindings match - more chords needed ]"),De=!0,this._expectAnotherChord(ze,Ut),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),De;case 2:{if(this._logService.trace("KeybindingService#dispatch",Ut,`[ Will dispatch command ${Jt.commandId} ]`),Jt.commandId===null||Jt.commandId===""){if(this.inChordMode){const Dn=this._currentChords.map(({label:Gn})=>Gn).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${Dn}, ${Ut}".`),this._notificationService.status(Rn.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Dn,Ut),{hideAfter:10*1e3}),this._leaveChordMode(),De=!0}}else this.inChordMode&&this._leaveChordMode(),Jt.isBubble||(De=!0),this._log(`+ Invoking command ${Jt.commandId}.`),typeof Jt.commandArgs=="undefined"?this._commandService.executeCommand(Jt.commandId).then(void 0,Dn=>this._notificationService.warn(Dn)):this._commandService.executeCommand(Jt.commandId,Jt.commandArgs).then(void 0,Dn=>this._notificationService.warn(Dn)),no.test(Jt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Jt.commandId,from:"keybinding",detail:(_e=s.getUserSettingsLabel())!==null&&_e!==void 0?_e:void 0});return De}}}mightProducePrintableCharacter(s){return s.ctrlKey||s.metaKey?!1:s.keyCode>=31&&s.keyCode<=56||s.keyCode>=21&&s.keyCode<=30}}class _s{constructor(s){this._ctrlKey=s?s.ctrlKey:!1,this._shiftKey=s?s.shiftKey:!1,this._altKey=s?s.altKey:!1,this._metaKey=s?s.metaKey:!1}has(s){switch(s){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}_s.EMPTY=new _s(null);var ks=e(91847),Vo=e(49989);class ca{constructor(s,x,Z,_e,De,ze,Je){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=s,this.chords=s?Do(s.getDispatchChords()):[],s&&this.chords.length===0&&(this.chords=Do(s.getSingleModifierDispatchChords())),this.bubble=x?x.charCodeAt(0)===94:!1,this.command=this.bubble?x.substr(1):x,this.commandArgs=Z,this.when=_e,this.isDefault=De,this.extensionId=ze,this.isBuiltinExtension=Je}}function Do(Xe){const s=[];for(let x=0,Z=Xe.length;x<Z;x++){const _e=Xe[x];if(!_e)return[];s.push(_e)}return s}var Qo=e(22258),bo=e(8030);class Yo extends bt.f1{constructor(s,x){if(super(),x.length===0)throw(0,hn.b1)("chords");this._os=s,this._chords=x}getLabel(){return bo.xo.toLabel(this._os,this._chords,s=>this._getLabel(s))}getAriaLabel(){return bo.X4.toLabel(this._os,this._chords,s=>this._getAriaLabel(s))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:bo.jC.toLabel(this._os,this._chords,s=>this._getElectronAccelerator(s))}getUserSettingsLabel(){return bo.r6.toLabel(this._os,this._chords,s=>this._getUserSettingsLabel(s))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(s=>this._getChord(s))}_getChord(s){return new bt.aZ(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,this._getLabel(s),this._getAriaLabel(s))}getDispatchChords(){return this._chords.map(s=>this._getChordDispatch(s))}getSingleModifierDispatchChords(){return this._chords.map(s=>this._getSingleModifierChordDispatch(s))}}class lr extends Yo{constructor(s,x){super(x,s)}_keyCodeToUILabel(s){if(this._os===2)switch(s){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Qo.kL.toString(s)}_getLabel(s){return s.isDuplicateModifierCase()?"":this._keyCodeToUILabel(s.keyCode)}_getAriaLabel(s){return s.isDuplicateModifierCase()?"":Qo.kL.toString(s.keyCode)}_getElectronAccelerator(s){return Qo.kL.toElectronAccelerator(s.keyCode)}_getUserSettingsLabel(s){if(s.isDuplicateModifierCase())return"";const x=Qo.kL.toUserSettingsUS(s.keyCode);return x&&x.toLowerCase()}_getChordDispatch(s){return lr.getDispatchStr(s)}static getDispatchStr(s){if(s.isModifierKey())return null;let x="";return s.ctrlKey&&(x+="ctrl+"),s.shiftKey&&(x+="shift+"),s.altKey&&(x+="alt+"),s.metaKey&&(x+="meta+"),x+=Qo.kL.toString(s.keyCode),x}_getSingleModifierChordDispatch(s){return s.keyCode===5&&!s.shiftKey&&!s.altKey&&!s.metaKey?"ctrl":s.keyCode===4&&!s.ctrlKey&&!s.altKey&&!s.metaKey?"shift":s.keyCode===6&&!s.ctrlKey&&!s.shiftKey&&!s.metaKey?"alt":s.keyCode===57&&!s.ctrlKey&&!s.shiftKey&&!s.altKey?"meta":null}static _scanCodeToKeyCode(s){const x=Qo.Vd[s];if(x!==-1)return x;switch(s){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(s){if(!s)return null;if(s instanceof bt.$M)return s;const x=this._scanCodeToKeyCode(s.scanCode);return x===0?null:new bt.$M(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,x)}static resolveKeybinding(s,x){const Z=Do(s.chords.map(_e=>this._toKeyCodeChord(_e)));return Z.length>0?[new lr(Z,x)]:[]}}var Vr=e(44349),Gs=e(90535),Xo=e(10829),To=e(40382),go=e(20913),wo=e(95935),yr=e(33425),Io=e(5606),Sr=e(10161),wr=e(61134);function ka(Xe){const s=Xe;return!!s&&typeof s.x=="number"&&typeof s.y=="number"}var Mo;(function(Xe){Xe[Xe.AVOID=0]="AVOID",Xe[Xe.ALIGN=1]="ALIGN"})(Mo||(Mo={}));function Is(Xe,s,x){const Z=x.mode===Mo.ALIGN?x.offset:x.offset+x.size,_e=x.mode===Mo.ALIGN?x.offset+x.size:x.offset;return x.position===0?s<=Xe-Z?Z:s<=_e?_e-s:Math.max(Xe-s,0):s<=_e?_e-s:s<=Xe-Z?Z:0}class yo extends Oe.JT{constructor(s,x){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=Oe.JT.None,this.toDisposeOnSetContainer=Oe.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ee.$(".context-view"),ee.Cp(this.view),this.setContainer(s,x),this._register((0,Oe.OF)(()=>this.setContainer(null,1)))}setContainer(s,x){var Z;this.useFixedPosition=x!==1;const _e=this.useShadowDOM;if(this.useShadowDOM=x===3,!(s===this.container&&_e!==this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(Z=this.shadowRootHostElement)===null||Z===void 0||Z.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),s)){if(this.container=s,this.useShadowDOM){this.shadowRootHostElement=ee.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const ze=document.createElement("style");ze.textContent=Po,this.shadowRoot.appendChild(ze),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ee.$("slot"))}else this.container.appendChild(this.view);const De=new Oe.SL;yo.BUBBLE_UP_EVENTS.forEach(ze=>{De.add(ee.mu(this.container,ze,Je=>{this.onDOMEvent(Je,!1)}))}),yo.BUBBLE_DOWN_EVENTS.forEach(ze=>{De.add(ee.mu(this.container,ze,Je=>{this.onDOMEvent(Je,!0)},!0))}),this.toDisposeOnSetContainer=De}}show(s){var x,Z;this.isVisible()&&this.hide(),ee.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ee.$Z(this.view),this.toDisposeOnClean=s.render(this.view)||Oe.JT.None,this.delegate=s,this.doLayout(),(Z=(x=this.delegate).focus)===null||Z===void 0||Z.call(x)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(lt.gn&&Sr.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const s=this.delegate.getAnchor();let x;if(s instanceof HTMLElement){const Gn=ee.i(s),ei=ee.I8(s);x={top:Gn.top*ei,left:Gn.left*ei,width:Gn.width*ei,height:Gn.height*ei}}else ka(s)?x={top:s.y,left:s.x,width:s.width||1,height:s.height||2}:x={top:s.posy,left:s.posx,width:2,height:2};const Z=ee.w(this.view),_e=ee.wn(this.view),De=this.delegate.anchorPosition||0,ze=this.delegate.anchorAlignment||0,Je=this.delegate.anchorAxisAlignment||0;let At,Ut;const Jt=ee.WN();if(Je===0){const Gn={offset:x.top-Jt.pageYOffset,size:x.height,position:De===0?0:1},ei={offset:x.left,size:x.width,position:ze===0?0:1,mode:Mo.ALIGN};At=Is(Jt.innerHeight,_e,Gn)+Jt.pageYOffset,wr.e.intersects({start:At,end:At+_e},{start:Gn.offset,end:Gn.offset+Gn.size})&&(ei.mode=Mo.AVOID),Ut=Is(Jt.innerWidth,Z,ei)}else{const Gn={offset:x.left,size:x.width,position:ze===0?0:1},ei={offset:x.top,size:x.height,position:De===0?0:1,mode:Mo.ALIGN};Ut=Is(Jt.innerWidth,Z,Gn),wr.e.intersects({start:Ut,end:Ut+Z},{start:Gn.offset,end:Gn.offset+Gn.size})&&(ei.mode=Mo.AVOID),At=Is(Jt.innerHeight,_e,ei)+Jt.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(De===0?"bottom":"top"),this.view.classList.add(ze===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Dn=ee.i(this.container);this.view.style.top=`${At-(this.useFixedPosition?ee.i(this.view).top:Dn.top)}px`,this.view.style.left=`${Ut-(this.useFixedPosition?ee.i(this.view).left:Dn.left)}px`,this.view.style.width="initial"}hide(s){const x=this.delegate;this.delegate=null,x!=null&&x.onHide&&x.onHide(s),this.toDisposeOnClean.dispose(),ee.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(s,x){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(s,ee.Jj(s).document.activeElement):x&&!ee.jg(s.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}yo.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],yo.BUBBLE_DOWN_EVENTS=["click"];const Po=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var cr=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Ur=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Jo=class extends Oe.JT{constructor(s){super(),this.layoutService=s,this.currentViewDisposable=Oe.JT.None,this.contextView=this._register(new yo(this.layoutService.mainContainer,1)),this.layout(),this._register(s.onDidLayoutContainer(()=>this.layout()))}showContextView(s,x,Z){let _e;x?x===this.layoutService.getContainer((0,ee.Jj)(x))?_e=1:Z?_e=3:_e=2:_e=1,this.contextView.setContainer(x!=null?x:this.layoutService.activeContainer,_e),this.contextView.show(s);const De=(0,Oe.OF)(()=>{this.currentViewDisposable===De&&this.hideContextView()});return this.currentViewDisposable=De,De}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(s){this.contextView.hide(s)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=Oe.JT.None}};Jo=cr([Ur(0,Pt)],Jo);var dr=e(14118),Ro=e(81170),Fa=e(82663);let qo=[],zr=[],jr=[];function mo(Xe,s=!1){lo(Xe,!1,s)}function lo(Xe,s,x){const Z=ji(Xe,s);qo.push(Z),Z.userConfigured?jr.push(Z):zr.push(Z),x&&!Z.userConfigured&&qo.forEach(_e=>{_e.mime===Z.mime||_e.userConfigured||(Z.extension&&_e.extension===Z.extension&&console.warn(`Overwriting extension <<${Z.extension}>> to now point to mime <<${Z.mime}>>`),Z.filename&&_e.filename===Z.filename&&console.warn(`Overwriting filename <<${Z.filename}>> to now point to mime <<${Z.mime}>>`),Z.filepattern&&_e.filepattern===Z.filepattern&&console.warn(`Overwriting filepattern <<${Z.filepattern}>> to now point to mime <<${Z.mime}>>`),Z.firstline&&_e.firstline===Z.firstline&&console.warn(`Overwriting firstline <<${Z.firstline}>> to now point to mime <<${Z.mime}>>`))})}function ji(Xe,s){return{id:Xe.id,mime:Xe.mime,filename:Xe.filename,extension:Xe.extension,filepattern:Xe.filepattern,firstline:Xe.firstline,userConfigured:s,filenameLowercase:Xe.filename?Xe.filename.toLowerCase():void 0,extensionLowercase:Xe.extension?Xe.extension.toLowerCase():void 0,filepatternLowercase:Xe.filepattern?(0,dr.Qc)(Xe.filepattern.toLowerCase()):void 0,filepatternOnPath:Xe.filepattern?Xe.filepattern.indexOf(Fa.KR.sep)>=0:!1}}function Uo(){qo=qo.filter(Xe=>Xe.userConfigured),zr=[]}function Kr(Xe,s){return Lr(Xe,s).map(x=>x.id)}function Lr(Xe,s){let x;if(Xe)switch(Xe.scheme){case de.lg.file:x=Xe.fsPath;break;case de.lg.data:{x=wo.Vb.parseMetaData(Xe).get(wo.Vb.META_DATA_LABEL);break}case de.lg.vscodeNotebookCell:x=void 0;break;default:x=Xe.path}if(!x)return[{id:"unknown",mime:Ro.v.unknown}];x=x.toLowerCase();const Z=(0,Fa.EZ)(x),_e=co(x,Z,jr);if(_e)return[_e,{id:yt.bd,mime:Ro.v.text}];const De=co(x,Z,zr);if(De)return[De,{id:yt.bd,mime:Ro.v.text}];if(s){const ze=Oo(s);if(ze)return[ze,{id:yt.bd,mime:Ro.v.text}]}return[{id:"unknown",mime:Ro.v.unknown}]}function co(Xe,s,x){var Z;let _e,De,ze;for(let Je=x.length-1;Je>=0;Je--){const At=x[Je];if(s===At.filenameLowercase){_e=At;break}if(At.filepattern&&(!De||At.filepattern.length>De.filepattern.length)){const Ut=At.filepatternOnPath?Xe:s;!((Z=At.filepatternLowercase)===null||Z===void 0)&&Z.call(At,Ut)&&(De=At)}At.extension&&(!ze||At.extension.length>ze.extension.length)&&s.endsWith(At.extensionLowercase)&&(ze=At)}if(_e)return _e;if(De)return De;if(ze)return ze}function Oo(Xe){if((0,Ze.uS)(Xe)&&(Xe=Xe.substr(1)),Xe.length>0)for(let s=qo.length-1;s>=0;s--){const x=qo[s];if(!x.firstline)continue;const Z=Xe.match(x.firstline);if(Z&&Z.length>0)return x}}const zo=Object.prototype.hasOwnProperty,ur="vs.editor.nullLanguage";class cs{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(ur,0),this._register(yt.bd,1),this._nextLanguageId=2}_register(s,x){this._languageIdToLanguage[x]=s,this._languageToLanguageId.set(s,x)}register(s){if(this._languageToLanguageId.has(s))return;const x=this._nextLanguageId++;this._register(s,x)}encodeLanguageId(s){return this._languageToLanguageId.get(s)||0}decodeLanguageId(s){return this._languageIdToLanguage[s]||ur}}class hs extends Oe.JT{constructor(s=!0,x=!1){super(),this._onDidChange=this._register(new oe.Q5),this.onDidChange=this._onDidChange.event,hs.instanceCount++,this._warnOnOverwrite=x,this.languageIdCodec=new cs,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},s&&(this._initializeFromRegistry(),this._register(yt.dQ.onDidChangeLanguages(Z=>{this._initializeFromRegistry()})))}dispose(){hs.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Uo();const s=[].concat(yt.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(s)}_registerLanguages(s){for(const x of s)this._registerLanguage(x);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(x=>{const Z=this._languages[x];Z.name&&(this._nameMap[Z.name]=Z.identifier),Z.aliases.forEach(_e=>{this._lowercaseNameMap[_e.toLowerCase()]=Z.identifier}),Z.mimetypes.forEach(_e=>{this._mimeTypesMap[_e]=Z.identifier})}),hi.B.as(ui.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(s){const x=s.id;let Z;zo.call(this._languages,x)?Z=this._languages[x]:(this.languageIdCodec.register(x),Z={identifier:x,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[x]=Z),this._mergeLanguage(Z,s)}_mergeLanguage(s,x){const Z=x.id;let _e=null;if(Array.isArray(x.mimetypes)&&x.mimetypes.length>0&&(s.mimetypes.push(...x.mimetypes),_e=x.mimetypes[0]),_e||(_e=`text/x-${Z}`,s.mimetypes.push(_e)),Array.isArray(x.extensions)){x.configuration?s.extensions=x.extensions.concat(s.extensions):s.extensions=s.extensions.concat(x.extensions);for(const Je of x.extensions)mo({id:Z,mime:_e,extension:Je},this._warnOnOverwrite)}if(Array.isArray(x.filenames))for(const Je of x.filenames)mo({id:Z,mime:_e,filename:Je},this._warnOnOverwrite),s.filenames.push(Je);if(Array.isArray(x.filenamePatterns))for(const Je of x.filenamePatterns)mo({id:Z,mime:_e,filepattern:Je},this._warnOnOverwrite);if(typeof x.firstLine=="string"&&x.firstLine.length>0){let Je=x.firstLine;Je.charAt(0)!=="^"&&(Je="^"+Je);try{const At=new RegExp(Je);(0,Ze.IO)(At)||mo({id:Z,mime:_e,firstline:At},this._warnOnOverwrite)}catch(At){console.warn(`[${x.id}]: Invalid regular expression \`${Je}\`: `,At)}}s.aliases.push(Z);let De=null;if(typeof x.aliases!="undefined"&&Array.isArray(x.aliases)&&(x.aliases.length===0?De=[null]:De=x.aliases),De!==null)for(const Je of De)!Je||Je.length===0||s.aliases.push(Je);const ze=De!==null&&De.length>0;if(!(ze&&De[0]===null)){const Je=(ze?De[0]:null)||Z;(ze||!s.name)&&(s.name=Je)}x.configuration&&s.configurationFiles.push(x.configuration),x.icon&&s.icons.push(x.icon)}isRegisteredLanguageId(s){return s?zo.call(this._languages,s):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(s){const x=s.toLowerCase();return zo.call(this._lowercaseNameMap,x)?this._lowercaseNameMap[x]:null}getLanguageIdByMimeType(s){return s&&zo.call(this._mimeTypesMap,s)?this._mimeTypesMap[s]:null}guessLanguageIdByFilepathOrFirstLine(s,x){return!s&&!x?[]:Kr(s,x)}}hs.instanceCount=0;class Rs extends Oe.JT{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new oe.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new oe.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new oe.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Rs.instanceCount++,this._registry=this._register(new hs(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Rs.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,x){const Z=this._registry.guessLanguageIdByFilepathOrFirstLine(s,x);return(0,Nt.Xh)(Z,null)}createById(s){return new Ts(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,x){return new Ts(this.onDidChange,()=>{const Z=this.guessLanguageIdByFilepathOrFirstLine(s,x);return this._createAndGetLanguageIdentifier(Z)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=yt.bd),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),xt.RW.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}Rs.instanceCount=0;class Ts{constructor(s,x){this._onDidChangeLanguages=s,this._selector=x,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new oe.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const x=this._selector();x!==this.languageId&&(this.languageId=x,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}var Os=e(74741),Js=e(80677),xs=e(84144),po=e(7317),da=e(16268),hr=e(10553),fr=e(90317),ua=e(41923),Er=e(59740),So=e(73046),xr=e(25670),Lo=e(21212);const ha=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,fa=/(&amp;)?(&amp;)([^\s&])/g;var $r;(function(Xe){Xe[Xe.Right=0]="Right",Xe[Xe.Left=1]="Left"})($r||($r={}));class er extends fr.o{constructor(s,x,Z,_e){s.classList.add("monaco-menu-container"),s.setAttribute("role","presentation");const De=document.createElement("div");De.classList.add("monaco-menu"),De.setAttribute("role","presentation"),super(De,{orientation:1,actionViewItemProvider:Ut=>this.doGetActionViewItem(Ut,Z,ze),context:Z.context,actionRunner:Z.actionRunner,ariaLabel:Z.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...lt.dz||lt.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=_e,this.menuElement=De,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(s,_e),this._register(hr.o.addTarget(De)),this._register((0,ee.nm)(De,ee.tw.KEY_DOWN,Ut=>{new dt.y(Ut).equals(2)&&Ut.preventDefault()})),Z.enableMnemonics&&this._register((0,ee.nm)(De,ee.tw.KEY_DOWN,Ut=>{const Jt=Ut.key.toLocaleLowerCase();if(this.mnemonics.has(Jt)){ee.zB.stop(Ut,!0);const Dn=this.mnemonics.get(Jt);if(Dn.length===1&&(Dn[0]instanceof vo&&Dn[0].container&&this.focusItemByElement(Dn[0].container),Dn[0].onClick(Ut)),Dn.length>1){const Gn=Dn.shift();Gn&&Gn.container&&(this.focusItemByElement(Gn.container),Dn.push(Gn)),this.mnemonics.set(Jt,Dn)}}})),lt.IJ&&this._register((0,ee.nm)(De,ee.tw.KEY_DOWN,Ut=>{const Jt=new dt.y(Ut);Jt.equals(14)||Jt.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ee.zB.stop(Ut,!0)):(Jt.equals(13)||Jt.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ee.zB.stop(Ut,!0))})),this._register((0,ee.nm)(this.domNode,ee.tw.MOUSE_OUT,Ut=>{const Jt=Ut.relatedTarget;(0,ee.jg)(Jt,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Ut.stopPropagation())})),this._register((0,ee.nm)(this.actionsList,ee.tw.MOUSE_OVER,Ut=>{let Jt=Ut.target;if(!(!Jt||!(0,ee.jg)(Jt,this.actionsList)||Jt===this.actionsList)){for(;Jt.parentElement!==this.actionsList&&Jt.parentElement!==null;)Jt=Jt.parentElement;if(Jt.classList.contains("action-item")){const Dn=this.focusedItem;this.setFocusedItem(Jt),Dn!==this.focusedItem&&this.updateFocus()}}})),this._register(hr.o.addTarget(this.actionsList)),this._register((0,ee.nm)(this.actionsList,hr.t.Tap,Ut=>{let Jt=Ut.initialTarget;if(!(!Jt||!(0,ee.jg)(Jt,this.actionsList)||Jt===this.actionsList)){for(;Jt.parentElement!==this.actionsList&&Jt.parentElement!==null;)Jt=Jt.parentElement;if(Jt.classList.contains("action-item")){const Dn=this.focusedItem;this.setFocusedItem(Jt),Dn!==this.focusedItem&&this.updateFocus()}}}));const ze={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Er.s$(De,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Je=this.scrollableElement.getDomNode();Je.style.position="",this.styleScrollElement(Je,_e),this._register((0,ee.nm)(De,hr.t.Change,Ut=>{ee.zB.stop(Ut,!0);const Jt=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Jt-Ut.translationY})})),this._register((0,ee.nm)(Je,ee.tw.MOUSE_UP,Ut=>{Ut.preventDefault()}));const At=(0,ee.Jj)(s);De.style.maxHeight=`${Math.max(10,At.innerHeight-s.getBoundingClientRect().top-35)}px`,x=x.filter(Ut=>{var Jt;return!((Jt=Z.submenuIds)===null||Jt===void 0)&&Jt.has(Ut.id)?(console.warn(`Found submenu cycle: ${Ut.id}`),!1):!0}),this.push(x,{icon:!0,label:!0,isMenu:!0}),s.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Ut=>!(Ut instanceof Dr)).forEach((Ut,Jt,Dn)=>{Ut.updatePositionInSet(Jt+1,Dn.length)})}initializeOrUpdateStyleSheet(s,x){this.styleSheet||((0,ee.OO)(s)?this.styleSheet=(0,ee.dS)(s):(er.globalStyleSheet||(er.globalStyleSheet=(0,ee.dS)()),this.styleSheet=er.globalStyleSheet)),this.styleSheet.textContent=Ba(x,(0,ee.OO)(s))}styleScrollElement(s,x){var Z,_e;const De=(Z=x.foregroundColor)!==null&&Z!==void 0?Z:"",ze=(_e=x.backgroundColor)!==null&&_e!==void 0?_e:"",Je=x.borderColor?`1px solid ${x.borderColor}`:"",At="5px",Ut=x.shadowColor?`0 2px 8px ${x.shadowColor}`:"";s.style.outline=Je,s.style.borderRadius=At,s.style.color=De,s.style.backgroundColor=ze,s.style.boxShadow=Ut}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(s){const x=this.focusedItem;this.setFocusedItem(s),x!==this.focusedItem&&this.updateFocus()}setFocusedItem(s){for(let x=0;x<this.actionsList.children.length;x++){const Z=this.actionsList.children[x];if(s===Z){this.focusedItem=x;break}}}updateFocus(s){super.updateFocus(s,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(s,x,Z){if(s instanceof Os.Z0)return new Dr(x.context,s,{icon:!0},this.menuStyles);if(s instanceof Os.wY){const _e=new vo(s,s.actions,Z,Ni(Xn({},x),{submenuIds:new Set([...x.submenuIds||[],s.id])}),this.menuStyles);if(x.enableMnemonics){const De=_e.getMnemonic();if(De&&_e.isEnabled()){let ze=[];this.mnemonics.has(De)&&(ze=this.mnemonics.get(De)),ze.push(_e),this.mnemonics.set(De,ze)}}return _e}else{const _e={enableMnemonics:x.enableMnemonics,useEventAsContext:x.useEventAsContext};if(x.getKeyBinding){const ze=x.getKeyBinding(s);if(ze){const Je=ze.getLabel();Je&&(_e.keybinding=Je)}}const De=new ga(x.context,s,_e,this.menuStyles);if(x.enableMnemonics){const ze=De.getMnemonic();if(ze&&De.isEnabled()){let Je=[];this.mnemonics.has(ze)&&(Je=this.mnemonics.get(ze)),Je.push(De),this.mnemonics.set(ze,Je)}}return De}}}class ga extends ua.YH{constructor(s,x,Z,_e){if(Z.isMenu=!0,super(x,x,Z),this.menuStyle=_e,this.options=Z,this.options.icon=Z.icon!==void 0?Z.icon:!1,this.options.label=Z.label!==void 0?Z.label:!0,this.cssClass="",this.options.label&&Z.enableMnemonics){const De=this.action.label;if(De){const ze=ha.exec(De);ze&&(this.mnemonic=(ze[1]?ze[1]:ze[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new rs.pY(()=>{this.element&&(this._register((0,ee.nm)(this.element,ee.tw.MOUSE_UP,De=>{if(ee.zB.stop(De,!0),da.vU){if(new po.n((0,ee.Jj)(this.element),De).rightButton)return;this.onClick(De)}else setTimeout(()=>{this.onClick(De)},0)})),this._register((0,ee.nm)(this.element,ee.tw.CONTEXT_MENU,De=>{ee.zB.stop(De,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(s){super.render(s),this.element&&(this.container=s,this.item=(0,ee.R3)(this.element,(0,ee.$)("a.action-menu-item")),this._action.id===Os.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ee.R3)(this.item,(0,ee.$)("span.menu-item-check"+xr.k.asCSSSelector(So.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,ee.R3)(this.item,(0,ee.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ee.R3)(this.item,(0,ee.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var s;super.focus(),(s=this.item)===null||s===void 0||s.focus(),this.applyStyle()}updatePositionInSet(s,x){this.item&&(this.item.setAttribute("aria-posinset",`${s}`),this.item.setAttribute("aria-setsize",`${x}`))}updateLabel(){var s;if(this.label&&this.options.label){(0,ee.PO)(this.label);let x=(0,Lo.x$)(this.action.label);if(x){const Z=Gr(x);this.options.enableMnemonics||(x=Z),this.label.setAttribute("aria-label",Z.replace(/&&/g,"&"));const _e=ha.exec(x);if(_e){x=Ze.YU(x),fa.lastIndex=0;let De=fa.exec(x);for(;De&&De[1];)De=fa.exec(x);const ze=Je=>Je.replace(/&amp;&amp;/g,"&amp;");De?this.label.append(Ze.j3(ze(x.substr(0,De.index))," "),(0,ee.$)("u",{"aria-hidden":"true"},De[3]),Ze.oL(ze(x.substr(De.index+De[0].length))," ")):this.label.innerText=ze(x).trim(),(s=this.item)===null||s===void 0||s.setAttribute("aria-keyshortcuts",(_e[1]?_e[1]:_e[3]).toLocaleLowerCase())}else this.label.innerText=x.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const s=this.action.checked;this.item.classList.toggle("checked",!!s),s!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",s?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const s=this.element&&this.element.classList.contains("focused"),x=s&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,Z=s&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,_e=s&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",De=s&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=x!=null?x:"",this.item.style.backgroundColor=Z!=null?Z:"",this.item.style.outline=_e,this.item.style.outlineOffset=De),this.check&&(this.check.style.color=x!=null?x:"")}}class vo extends ga{constructor(s,x,Z,_e,De){super(s,s,_e,De),this.submenuActions=x,this.parentData=Z,this.submenuOptions=_e,this.mysubmenu=null,this.submenuDisposables=this._register(new Oe.SL),this.mouseOver=!1,this.expandDirection=_e&&_e.expandDirection!==void 0?_e.expandDirection:$r.Right,this.showScheduler=new rs.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new rs.pY(()=>{this.element&&!(0,ee.jg)((0,ee.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(s){super.render(s),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ee.R3)(this.item,(0,ee.$)("span.submenu-indicator"+xr.k.asCSSSelector(So.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ee.nm)(this.element,ee.tw.KEY_UP,x=>{const Z=new dt.y(x);(Z.equals(17)||Z.equals(3))&&(ee.zB.stop(x,!0),this.createSubmenu(!0))})),this._register((0,ee.nm)(this.element,ee.tw.KEY_DOWN,x=>{const Z=new dt.y(x);(0,ee.vY)()===this.item&&(Z.equals(17)||Z.equals(3))&&ee.zB.stop(x,!0)})),this._register((0,ee.nm)(this.element,ee.tw.MOUSE_OVER,x=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ee.nm)(this.element,ee.tw.MOUSE_LEAVE,x=>{this.mouseOver=!1})),this._register((0,ee.nm)(this.element,ee.tw.FOCUS_OUT,x=>{this.element&&!(0,ee.jg)((0,ee.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(s){ee.zB.stop(s,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(s){if(this.parentData.submenu&&(s||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(x){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(s,x,Z,_e){const De={top:0,left:0};return De.left=Is(s.width,x.width,{position:_e===$r.Right?0:1,offset:Z.left,size:Z.width}),De.left>=Z.left&&De.left<Z.left+Z.width&&(Z.left+10+x.width<=s.width&&(De.left=Z.left+10),Z.top+=10,Z.height=0),De.top=Is(s.height,x.height,{position:0,offset:Z.top,size:0}),De.top+x.height===Z.top&&De.top+Z.height+x.height<=s.height&&(De.top+=Z.height),De}createSubmenu(s=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ee.R3)(this.element,(0,ee.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const x=(0,ee.Jj)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),Z=parseFloat(x.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new er(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Os.eZ],this.submenuOptions,this.menuStyle);const _e=this.element.getBoundingClientRect(),De={top:_e.top-Z,left:_e.left,height:_e.height+2*Z,width:_e.width},ze=this.submenuContainer.getBoundingClientRect(),Je=(0,ee.Jj)(this.element),{top:At,left:Ut}=this.calculateSubmenuMenuLayout(new ee.Ro(Je.innerWidth,Je.innerHeight),ee.Ro.lift(ze),De,this.expandDirection);this.submenuContainer.style.left=`${Ut-ze.left}px`,this.submenuContainer.style.top=`${At-ze.top}px`,this.submenuDisposables.add((0,ee.nm)(this.submenuContainer,ee.tw.KEY_UP,Jt=>{new dt.y(Jt).equals(15)&&(ee.zB.stop(Jt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ee.nm)(this.submenuContainer,ee.tw.KEY_DOWN,Jt=>{new dt.y(Jt).equals(15)&&ee.zB.stop(Jt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(s),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(s){var x;this.item&&((x=this.item)===null||x===void 0||x.setAttribute("aria-expanded",s))}applyStyle(){super.applyStyle();const x=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=x!=null?x:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Dr extends ua.gU{constructor(s,x,Z,_e){super(s,x,Z),this.menuStyles=_e}render(s){super.render(s),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Gr(Xe){const s=ha,x=s.exec(Xe);if(!x)return Xe;const Z=!x[1];return Xe.replace(s,Z?"$2$3":"").trim()}function Ir(Xe){const s=(0,So.u)()[Xe.id];return`.codicon-${Xe.id}:before { content: '\\${s.toString(16)}'; }`}function Ba(Xe,s){let x=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Ir(So.l.menuSelection)}
${Ir(So.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(s){x+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const Z=Xe.scrollbarShadow;Z&&(x+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${Z} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${Z} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${Z} 6px 6px 6px -6px inset;
				}
			`);const _e=Xe.scrollbarSliderBackground;_e&&(x+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${_e};
				}
			`);const De=Xe.scrollbarSliderHoverBackground;De&&(x+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${De};
				}
			`);const ze=Xe.scrollbarSliderActiveBackground;ze&&(x+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${ze};
				}
			`)}return x}var jo=e(86253);class Nr{constructor(s,x,Z,_e){this.contextViewService=s,this.telemetryService=x,this.notificationService=Z,this.keybindingService=_e,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const x=s.getActions();if(!x.length)return;this.focusToReturn=(0,ee.vY)();let Z;const _e=s.domForShadowRoot instanceof HTMLElement?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:De=>{var ze;this.lastContainer=De;const Je=s.getMenuClassName?s.getMenuClassName():"";Je&&(De.className+=" "+Je),this.options.blockMouse&&(this.block=De.appendChild((0,ee.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(ze=this.blockDisposable)===null||ze===void 0||ze.dispose(),this.blockDisposable=(0,ee.nm)(this.block,ee.tw.MOUSE_DOWN,Dn=>Dn.stopPropagation()));const At=new Oe.SL,Ut=s.actionRunner||new Os.Wi;Ut.onWillRun(Dn=>this.onActionRun(Dn,!s.skipTelemetry),this,At),Ut.onDidRun(this.onDidActionRun,this,At),Z=new er(De,x,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:Ut,getKeyBinding:s.getKeyBinding?s.getKeyBinding:Dn=>this.keybindingService.lookupKeybinding(Dn.id)},jo.ZR),Z.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,At),Z.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,At);const Jt=(0,ee.Jj)(De);return At.add((0,ee.nm)(Jt,ee.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),At.add((0,ee.nm)(Jt,ee.tw.MOUSE_DOWN,Dn=>{if(Dn.defaultPrevented)return;const Gn=new po.n(Jt,Dn);let ei=Gn.target;if(!Gn.rightButton){for(;ei;){if(ei===De)return;ei=ei.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Oe.F8)(At,Z)},focus:()=>{Z==null||Z.focus(!!s.autoSelectFirstItem)},onHide:De=>{var ze,Je,At;(ze=s.onHide)===null||ze===void 0||ze.call(s,!!De),this.block&&(this.block.remove(),this.block=null),(Je=this.blockDisposable)===null||Je===void 0||Je.dispose(),this.blockDisposable=null,this.lastContainer&&((0,ee.vY)()===this.lastContainer||(0,ee.jg)((0,ee.vY)(),this.lastContainer))&&((At=this.focusToReturn)===null||At===void 0||At.focus()),this.lastContainer=null}},_e,!!_e)}onActionRun(s,x){x&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,hn.n2)(s.error)&&this.notificationService.error(s.error)}}var ll=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},tr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let ma=class extends Oe.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Nr(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(s,x,Z,_e,De,ze){super(),this.telemetryService=s,this.notificationService=x,this.contextViewService=Z,this.keybindingService=_e,this.menuService=De,this.contextKeyService=ze,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new oe.Q5),this._onDidHideContextMenu=this._store.add(new oe.Q5)}configure(s){this.contextMenuHandler.configure(s)}showContextMenu(s){s=Zr.transform(s,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Ni(Xn({},s),{onHide:x=>{var Z;(Z=s.onHide)===null||Z===void 0||Z.call(s,x),this._onDidHideContextMenu.fire()}})),ee._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};ma=ll([tr(0,Xo.b),tr(1,gi.lT),tr(2,Io.u),tr(3,ks.d),tr(4,xs.co),tr(5,ht.i6)],ma);var Zr;(function(Xe){function s(Z){return Z&&Z.menuId instanceof xs.eH}function x(Z,_e,De){if(!s(Z))return Z;const{menuId:ze,menuActionOptions:Je,contextKeyService:At}=Z;return Ni(Xn({},Z),{getActions:()=>{const Ut=[];if(ze){const Jt=_e.createMenu(ze,At!=null?At:De);(0,Js.LJ)(Jt,Je,Ut),Jt.dispose()}return Z.getActions?Os.Z0.join(Z.getActions(),Ut):Ut}})}Xe.transform=x})(Zr||(Zr={}));var gr=e(71050),pa=e(23897),Qr;(function(Xe){Xe[Xe.API=0]="API",Xe[Xe.USER=1]="USER"})(Qr||(Qr={}));var va=e(50988),Yr=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},nr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Tr=class{constructor(s){this._commandService=s}open(s,x){return tn(this,null,function*(){if(!(0,de.xn)(s,de.lg.command))return!1;if(!(x!=null&&x.allowCommands)||(typeof s=="string"&&(s=it.o.parse(s)),Array.isArray(x.allowCommands)&&!x.allowCommands.includes(s.path)))return!0;let Z=[];try{Z=(0,pa.Qc)(decodeURIComponent(s.query))}catch(_e){try{Z=(0,pa.Qc)(s.query)}catch(De){}}return Array.isArray(Z)||(Z=[Z]),yield this._commandService.executeCommand(s.path,...Z),!0})}};Tr=Yr([nr(0,an.H)],Tr);let ir=class{constructor(s){this._editorService=s}open(s,x){return tn(this,null,function*(){typeof s=="string"&&(s=it.o.parse(s));const{selection:Z,uri:_e}=(0,va.x)(s);return s=_e,s.scheme===de.lg.file&&(s=(0,wo.AH)(s)),yield this._editorService.openCodeEditor({resource:s,options:Xn({selection:Z,source:x!=null&&x.fromUserGesture?Qr.USER:Qr.API},x==null?void 0:x.editorOptions)},this._editorService.getFocusedCodeEditor(),x==null?void 0:x.openToSide),!0})}};ir=Yr([nr(0,pt.$)],ir);let mr=class{constructor(s,x){this._openers=new Ce.S,this._validators=new Ce.S,this._resolvers=new Ce.S,this._resolvedUriTargets=new An.Y9(Z=>Z.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Ce.S,this._defaultExternalOpener={openExternal:Z=>tn(this,null,function*(){return(0,de.Gs)(Z,de.lg.http,de.lg.https)?ee.V3(Z):je.Ex.location.href=Z,!0})},this._openers.push({open:(Z,_e)=>tn(this,null,function*(){return _e!=null&&_e.openExternal||(0,de.Gs)(Z,de.lg.mailto,de.lg.http,de.lg.https,de.lg.vsls)?(yield this._doOpenExternal(Z,_e),!0):!1})}),this._openers.push(new Tr(x)),this._openers.push(new ir(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}open(s,x){return tn(this,null,function*(){var Z;const _e=typeof s=="string"?it.o.parse(s):s,De=(Z=this._resolvedUriTargets.get(_e))!==null&&Z!==void 0?Z:s;for(const ze of this._validators)if(!(yield ze.shouldOpen(De,x)))return!1;for(const ze of this._openers)if(yield ze.open(s,x))return!0;return!1})}resolveExternalUri(s,x){return tn(this,null,function*(){for(const Z of this._resolvers)try{const _e=yield Z.resolveExternalUri(s,x);if(_e)return this._resolvedUriTargets.has(_e.resolved)||this._resolvedUriTargets.set(_e.resolved,s),_e}catch(_e){}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,x){return tn(this,null,function*(){const Z=typeof s=="string"?it.o.parse(s):s;let _e;try{_e=(yield this.resolveExternalUri(Z,x)).resolved}catch(ze){_e=Z}let De;if(typeof s=="string"&&Z.toString()===_e.toString()?De=s:De=encodeURI(_e.toString(!0)),x!=null&&x.allowContributedOpeners){const ze=typeof(x==null?void 0:x.allowContributedOpeners)=="string"?x==null?void 0:x.allowContributedOpeners:void 0;for(const Je of this._externalOpeners)if(yield Je.openExternal(De,{sourceUri:Z,preferredOpenerId:ze},gr.T.None))return!0}return this._defaultExternalOpener.openExternal(De,{sourceUri:Z},gr.T.None)})}dispose(){this._validators.clear()}};mr=Yr([nr(0,pt.$),nr(1,an.H)],mr);var _a=e(85215),so=e(98674),Mr=e(8625),Ns=e(73910),Pr=e(6626),Xr=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Ca=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Jr=class extends Oe.JT{constructor(s,x){super(),this._markerService=x,this._onDidChangeMarker=this._register(new oe.Q5),this._markerDecorations=new An.Y9,s.getModels().forEach(Z=>this._onModelAdded(Z)),this._register(s.onModelAdded(this._onModelAdded,this)),this._register(s.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(s=>s.dispose()),this._markerDecorations.clear()}getMarker(s,x){const Z=this._markerDecorations.get(s);return Z&&Z.getMarker(x)||null}_handleMarkerChange(s){s.forEach(x=>{const Z=this._markerDecorations.get(x);Z&&this._updateDecorations(Z)})}_onModelAdded(s){const x=new xl(s);this._markerDecorations.set(s.uri,x),this._updateDecorations(x)}_onModelRemoved(s){var x;const Z=this._markerDecorations.get(s.uri);Z&&(Z.dispose(),this._markerDecorations.delete(s.uri)),(s.uri.scheme===de.lg.inMemory||s.uri.scheme===de.lg.internal||s.uri.scheme===de.lg.vscode)&&((x=this._markerService)===null||x===void 0||x.read({resource:s.uri}).map(_e=>_e.owner).forEach(_e=>this._markerService.remove(_e,[s.uri])))}_updateDecorations(s){const x=this._markerService.read({resource:s.model.uri,take:500});s.update(x)&&this._onDidChangeMarker.fire(s.model)}};Jr=Xr([Ca(0,bn.q),Ca(1,so.lT)],Jr);class xl extends Oe.JT{constructor(s){super(),this.model=s,this._map=new An.YQ,this._register((0,Oe.OF)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(s){const{added:x,removed:Z}=(0,Pr.q)(new Set(this._map.keys()),new Set(s));if(x.length===0&&Z.length===0)return!1;const _e=Z.map(Je=>this._map.get(Je)),De=x.map(Je=>({range:this._createDecorationRange(this.model,Je),options:this._createDecorationOption(Je)})),ze=this.model.deltaDecorations(_e,De);for(const Je of Z)this._map.delete(Je);for(let Je=0;Je<ze.length;Je++)this._map.set(x[Je],ze[Je]);return!0}getMarker(s){return this._map.getKey(s.id)}_createDecorationRange(s,x){let Z=Ct.e.lift(x);if(x.severity===so.ZL.Hint&&!this._hasMarkerTag(x,1)&&!this._hasMarkerTag(x,2)&&(Z=Z.setEndPosition(Z.startLineNumber,Z.startColumn+2)),Z=s.validateRange(Z),Z.isEmpty()){const _e=s.getLineLastNonWhitespaceColumn(Z.startLineNumber)||s.getLineMaxColumn(Z.startLineNumber);if(_e===1||Z.endColumn>=_e)return Z;const De=s.getWordAtPosition(Z.getStartPosition());De&&(Z=new Ct.e(Z.startLineNumber,De.startColumn,Z.endLineNumber,De.endColumn))}else if(x.endColumn===Number.MAX_VALUE&&x.startColumn===1&&Z.startLineNumber===Z.endLineNumber){const _e=s.getLineFirstNonWhitespaceColumn(x.startLineNumber);_e<Z.endColumn&&(Z=new Ct.e(Z.startLineNumber,_e,Z.endLineNumber,Z.endColumn),x.startColumn=_e)}return Z}_createDecorationOption(s){let x,Z,_e,De,ze;switch(s.severity){case so.ZL.Hint:this._hasMarkerTag(s,2)?x=void 0:this._hasMarkerTag(s,1)?x="squiggly-unnecessary":x="squiggly-hint",_e=0;break;case so.ZL.Info:x="squiggly-info",Z=(0,Ee.EN)(Mr.eS),_e=10,ze={color:(0,Ee.EN)(Ns.Gvr),position:In.F5.Inline};break;case so.ZL.Warning:x="squiggly-warning",Z=(0,Ee.EN)(Mr.Re),_e=20,ze={color:(0,Ee.EN)(Ns.Ivo),position:In.F5.Inline};break;case so.ZL.Error:default:x="squiggly-error",Z=(0,Ee.EN)(Mr.lK),_e=30,ze={color:(0,Ee.EN)(Ns.Gj_),position:In.F5.Inline};break}return s.tags&&(s.tags.indexOf(1)!==-1&&(De="squiggly-inline-unnecessary"),s.tags.indexOf(2)!==-1&&(De="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:x,showIfCollapsed:!0,overviewRuler:{color:Z,position:In.sh.Right},minimap:ze,zIndex:_e,inlineClassName:De}}_hasMarkerTag(s,x){return s.tags?s.tags.indexOf(x)>=0:!1}}var pr=e(36357),Wa=e(84901),Ao=e(22075),qs=e(89954),ko=e(95215),ba=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},vr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}},_r;function Ko(Xe){return Xe.toString()}class qr{constructor(s,x,Z){this.model=s,this._modelEventListeners=new Oe.SL,this.model=s,this._modelEventListeners.add(s.onWillDispose(()=>x(s))),this._modelEventListeners.add(s.onDidChangeLanguage(_e=>Z(s,_e)))}dispose(){this._modelEventListeners.dispose()}}const ya=lt.IJ||lt.dz?1:2;class Ha{constructor(s,x,Z,_e,De,ze,Je,At){this.uri=s,this.initialUndoRedoSnapshot=x,this.time=Z,this.sharesUndoRedoStack=_e,this.heapSize=De,this.sha1=ze,this.versionId=Je,this.alternativeVersionId=At}}let ea=_r=class extends Oe.JT{constructor(s,x,Z,_e,De){super(),this._configurationService=s,this._resourcePropertiesService=x,this._undoRedoService=Z,this._languageService=_e,this._languageConfigurationService=De,this._onModelAdded=this._register(new oe.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new oe.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new oe.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(ze=>this._updateModelOptions(ze))),this._updateModelOptions(void 0)}static _readModelOptions(s,x){var Z;let _e=Ao.D.tabSize;if(s.editor&&typeof s.editor.tabSize!="undefined"){const ei=parseInt(s.editor.tabSize,10);isNaN(ei)||(_e=ei),_e<1&&(_e=1)}let De="tabSize";if(s.editor&&typeof s.editor.indentSize!="undefined"&&s.editor.indentSize!=="tabSize"){const ei=parseInt(s.editor.indentSize,10);isNaN(ei)||(De=Math.max(ei,1))}let ze=Ao.D.insertSpaces;s.editor&&typeof s.editor.insertSpaces!="undefined"&&(ze=s.editor.insertSpaces==="false"?!1:!!s.editor.insertSpaces);let Je=ya;const At=s.eol;At===`\r
`?Je=2:At===`
`&&(Je=1);let Ut=Ao.D.trimAutoWhitespace;s.editor&&typeof s.editor.trimAutoWhitespace!="undefined"&&(Ut=s.editor.trimAutoWhitespace==="false"?!1:!!s.editor.trimAutoWhitespace);let Jt=Ao.D.detectIndentation;s.editor&&typeof s.editor.detectIndentation!="undefined"&&(Jt=s.editor.detectIndentation==="false"?!1:!!s.editor.detectIndentation);let Dn=Ao.D.largeFileOptimizations;s.editor&&typeof s.editor.largeFileOptimizations!="undefined"&&(Dn=s.editor.largeFileOptimizations==="false"?!1:!!s.editor.largeFileOptimizations);let Gn=Ao.D.bracketPairColorizationOptions;return!((Z=s.editor)===null||Z===void 0)&&Z.bracketPairColorization&&typeof s.editor.bracketPairColorization=="object"&&(Gn={enabled:!!s.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!s.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:x,tabSize:_e,indentSize:De,insertSpaces:ze,detectIndentation:Jt,defaultEOL:Je,trimAutoWhitespace:Ut,largeFileOptimizations:Dn,bracketPairColorizationOptions:Gn}}_getEOL(s,x){if(s)return this._resourcePropertiesService.getEOL(s,x);const Z=this._configurationService.getValue("files.eol",{overrideIdentifier:x});return Z&&typeof Z=="string"&&Z!=="auto"?Z:lt.OS===3||lt.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const s=this._configurationService.getValue("files.restoreUndoStack");return typeof s=="boolean"?s:!0}getCreationOptions(s,x,Z){const _e=typeof s=="string"?s:s.languageId;let De=this._modelCreationOptionsByLanguageAndResource[_e+x];if(!De){const ze=this._configurationService.getValue("editor",{overrideIdentifier:_e,resource:x}),Je=this._getEOL(x,_e);De=_r._readModelOptions({editor:ze,eol:Je},Z),this._modelCreationOptionsByLanguageAndResource[_e+x]=De}return De}_updateModelOptions(s){const x=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Z=Object.keys(this._models);for(let _e=0,De=Z.length;_e<De;_e++){const ze=Z[_e],Je=this._models[ze],At=Je.model.getLanguageId(),Ut=Je.model.uri;if(s&&!s.affectsConfiguration("editor",{overrideIdentifier:At,resource:Ut})&&!s.affectsConfiguration("files.eol",{overrideIdentifier:At,resource:Ut}))continue;const Jt=x[At+Ut],Dn=this.getCreationOptions(At,Ut,Je.model.isForSimpleWidget);_r._setModelOptionsForModel(Je.model,Dn,Jt)}}static _setModelOptionsForModel(s,x,Z){Z&&Z.defaultEOL!==x.defaultEOL&&s.getLineCount()===1&&s.setEOL(x.defaultEOL===1?0:1),!(Z&&Z.detectIndentation===x.detectIndentation&&Z.insertSpaces===x.insertSpaces&&Z.tabSize===x.tabSize&&Z.indentSize===x.indentSize&&Z.trimAutoWhitespace===x.trimAutoWhitespace&&(0,Mt.fS)(Z.bracketPairColorizationOptions,x.bracketPairColorizationOptions))&&(x.detectIndentation?(s.detectIndentation(x.insertSpaces,x.tabSize),s.updateOptions({trimAutoWhitespace:x.trimAutoWhitespace,bracketColorizationOptions:x.bracketPairColorizationOptions})):s.updateOptions({insertSpaces:x.insertSpaces,tabSize:x.tabSize,indentSize:x.indentSize,trimAutoWhitespace:x.trimAutoWhitespace,bracketColorizationOptions:x.bracketPairColorizationOptions}))}_insertDisposedModel(s){this._disposedModels.set(Ko(s.uri),s),this._disposedModelsHeapSize+=s.heapSize}_removeDisposedModel(s){const x=this._disposedModels.get(Ko(s));return x&&(this._disposedModelsHeapSize-=x.heapSize),this._disposedModels.delete(Ko(s)),x}_ensureDisposedModelsHeapSize(s){if(this._disposedModelsHeapSize>s){const x=[];for(this._disposedModels.forEach(Z=>{Z.sharesUndoRedoStack||x.push(Z)}),x.sort((Z,_e)=>Z.time-_e.time);x.length>0&&this._disposedModelsHeapSize>s;){const Z=x.shift();this._removeDisposedModel(Z.uri),Z.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Z.initialUndoRedoSnapshot)}}}_createModelData(s,x,Z,_e){const De=this.getCreationOptions(x,Z,_e),ze=new Wa.yO(s,x,De,Z,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Z&&this._disposedModels.has(Ko(Z))){const Ut=this._removeDisposedModel(Z),Jt=this._undoRedoService.getElements(Z),Dn=this._getSHA1Computer(),Gn=Dn.canComputeSHA1(ze)?Dn.computeSHA1(ze)===Ut.sha1:!1;if(Gn||Ut.sharesUndoRedoStack){for(const ei of Jt.past)(0,ko.e9)(ei)&&ei.matchesResource(Z)&&ei.setModel(ze);for(const ei of Jt.future)(0,ko.e9)(ei)&&ei.matchesResource(Z)&&ei.setModel(ze);this._undoRedoService.setElementsValidFlag(Z,!0,ei=>(0,ko.e9)(ei)&&ei.matchesResource(Z)),Gn&&(ze._overwriteVersionId(Ut.versionId),ze._overwriteAlternativeVersionId(Ut.alternativeVersionId),ze._overwriteInitialUndoRedoSnapshot(Ut.initialUndoRedoSnapshot))}else Ut.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ut.initialUndoRedoSnapshot)}const Je=Ko(ze.uri);if(this._models[Je])throw new Error("ModelService: Cannot add model because it already exists!");const At=new qr(ze,Ut=>this._onWillDispose(Ut),(Ut,Jt)=>this._onDidChangeLanguage(Ut,Jt));return this._models[Je]=At,At}createModel(s,x,Z,_e=!1){let De;return x?De=this._createModelData(s,x,Z,_e):De=this._createModelData(s,yt.bd,Z,_e),this._onModelAdded.fire(De.model),De.model}getModels(){const s=[],x=Object.keys(this._models);for(let Z=0,_e=x.length;Z<_e;Z++){const De=x[Z];s.push(this._models[De].model)}return s}getModel(s){const x=Ko(s),Z=this._models[x];return Z?Z.model:null}_schemaShouldMaintainUndoRedoElements(s){return s.scheme===de.lg.file||s.scheme===de.lg.vscodeRemote||s.scheme===de.lg.vscodeUserData||s.scheme===de.lg.vscodeNotebookCell||s.scheme==="fake-fs"}_onWillDispose(s){const x=Ko(s.uri),Z=this._models[x],_e=this._undoRedoService.getUriComparisonKey(s.uri)!==s.uri.toString();let De=!1,ze=0;if(_e||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(s.uri)){const Ut=this._undoRedoService.getElements(s.uri);if(Ut.past.length>0||Ut.future.length>0){for(const Jt of Ut.past)(0,ko.e9)(Jt)&&Jt.matchesResource(s.uri)&&(De=!0,ze+=Jt.heapSize(s.uri),Jt.setModel(s.uri));for(const Jt of Ut.future)(0,ko.e9)(Jt)&&Jt.matchesResource(s.uri)&&(De=!0,ze+=Jt.heapSize(s.uri),Jt.setModel(s.uri))}}const Je=_r.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,At=this._getSHA1Computer();if(De)if(!_e&&(ze>Je||!At.canComputeSHA1(s))){const Ut=Z.model.getInitialUndoRedoSnapshot();Ut!==null&&this._undoRedoService.restoreSnapshot(Ut)}else this._ensureDisposedModelsHeapSize(Je-ze),this._undoRedoService.setElementsValidFlag(s.uri,!1,Ut=>(0,ko.e9)(Ut)&&Ut.matchesResource(s.uri)),this._insertDisposedModel(new Ha(s.uri,Z.model.getInitialUndoRedoSnapshot(),Date.now(),_e,ze,At.computeSHA1(s),s.getVersionId(),s.getAlternativeVersionId()));else if(!_e){const Ut=Z.model.getInitialUndoRedoSnapshot();Ut!==null&&this._undoRedoService.restoreSnapshot(Ut)}delete this._models[x],Z.dispose(),delete this._modelCreationOptionsByLanguageAndResource[s.getLanguageId()+s.uri],this._onModelRemoved.fire(s)}_onDidChangeLanguage(s,x){const Z=x.oldLanguage,_e=s.getLanguageId(),De=this.getCreationOptions(Z,s.uri,s.isForSimpleWidget),ze=this.getCreationOptions(_e,s.uri,s.isForSimpleWidget);_r._setModelOptionsForModel(s,ze,De),this._onModelModeChanged.fire({model:s,oldLanguageId:Z})}_getSHA1Computer(){return new ta}};ea.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,ea=_r=ba([vr(0,on.Ui),vr(1,Vt.y),vr(2,Ii.tJ),vr(3,Lt.O),vr(4,Be.c_)],ea);class ta{canComputeSHA1(s){return s.getValueLength()<=ta.MAX_MODEL_SIZE}computeSHA1(s){const x=new qs.yP,Z=s.createSnapshot();let _e;for(;_e=Z.read();)x.update(_e);return x.digest()}}ta.MAX_MODEL_SIZE=10*1024*1024;var na=e(14107),Va=e(90725),Ws=e(41157),$o=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Ua=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Sa=class extends Oe.JT{constructor(s,x){super(),this.quickInputService=s,this.instantiationService=x,this.registry=hi.B.as(Va.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",x){this.doShowOrPick(s,!1,x)}doShowOrPick(s,x,Z){var _e;const[De,ze]=this.getOrInstantiateProvider(s),Je=this.visibleQuickAccess,At=Je==null?void 0:Je.descriptor;if(Je&&ze&&At===ze){s!==ze.prefix&&!(Z!=null&&Z.preserveValue)&&(Je.picker.value=s),this.adjustValueSelection(Je.picker,ze,Z);return}if(ze&&!(Z!=null&&Z.preserveValue)){let ei;if(Je&&At&&At!==ze){const es=Je.value.substr(At.prefix.length);es&&(ei=`${ze.prefix}${es}`)}if(!ei){const es=De==null?void 0:De.defaultFilterValue;es===Va.Ry.LAST?ei=this.lastAcceptedPickerValues.get(ze):typeof es=="string"&&(ei=`${ze.prefix}${es}`)}typeof ei=="string"&&(s=ei)}const Ut=new Oe.SL,Jt=Ut.add(this.quickInputService.createQuickPick());Jt.value=s,this.adjustValueSelection(Jt,ze,Z),Jt.placeholder=ze==null?void 0:ze.placeholder,Jt.quickNavigate=Z==null?void 0:Z.quickNavigateConfiguration,Jt.hideInput=!!Jt.quickNavigate&&!Je,(typeof(Z==null?void 0:Z.itemActivation)=="number"||Z!=null&&Z.quickNavigateConfiguration)&&(Jt.itemActivation=(_e=Z==null?void 0:Z.itemActivation)!==null&&_e!==void 0?_e:Ws.jG.SECOND),Jt.contextKey=ze==null?void 0:ze.contextKey,Jt.filterValue=ei=>ei.substring(ze?ze.prefix.length:0);let Dn;x&&(Dn=new rs.CR,Ut.add(oe.ju.once(Jt.onWillAccept)(ei=>{ei.veto(),Jt.hide()}))),Ut.add(this.registerPickerListeners(Jt,De,ze,s,Z==null?void 0:Z.providerOptions));const Gn=Ut.add(new gr.A);if(De&&Ut.add(De.provide(Jt,Gn.token,Z==null?void 0:Z.providerOptions)),oe.ju.once(Jt.onDidHide)(()=>{Jt.selectedItems.length===0&&Gn.cancel(),Ut.dispose(),Dn==null||Dn.complete(Jt.selectedItems.slice(0))}),Jt.show(),x)return Dn==null?void 0:Dn.p}adjustValueSelection(s,x,Z){var _e;let De;Z!=null&&Z.preserveValue?De=[s.value.length,s.value.length]:De=[(_e=x==null?void 0:x.prefix.length)!==null&&_e!==void 0?_e:0,s.value.length],s.valueSelection=De}registerPickerListeners(s,x,Z,_e,De){const ze=new Oe.SL,Je=this.visibleQuickAccess={picker:s,descriptor:Z,value:_e};return ze.add((0,Oe.OF)(()=>{Je===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),ze.add(s.onDidChangeValue(At=>{const[Ut]=this.getOrInstantiateProvider(At);Ut!==x?this.show(At,{preserveValue:!0,providerOptions:De}):Je.value=At})),Z&&ze.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(Z,s.value)})),ze}getOrInstantiateProvider(s){const x=this.registry.getQuickAccessProvider(s);if(!x)return[void 0,void 0];let Z=this.mapProviderToDescriptor.get(x);return Z||(Z=this.instantiationService.createInstance(x.ctor),this.mapProviderToDescriptor.set(x,Z)),[Z,x]}};Sa=$o([Ua(0,Ws.eJ),Ua(1,ct.TG)],Sa);var Rr=e(36289),wa=e(85207);const Zs="done",za="active",La="infinite",Ea="infinite-long-running",ja="discrete";class ia extends Oe.JT{constructor(s,x){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new rs.pY(()=>(0,ee.$Z)(this.element),0)),this.longRunningScheduler=this._register(new rs.pY(()=>this.infiniteLongRunning(),ia.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,x)}create(s,x){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(x==null?void 0:x.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(za,La,Ea,ja),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(Zs),this.element.classList.contains(La)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(ja,Zs,Ea),this.element.classList.add(za,La),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Ea)}getContainer(){return this.element}}ia.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var cl=e(50153);const xa=ee.$;class dl extends Oe.JT{constructor(s,x,Z){super(),this.parent=s,this.onKeyDown=De=>ee.mu(this.findInput.inputBox.inputElement,ee.tw.KEY_DOWN,De),this.onMouseDown=De=>ee.mu(this.findInput.inputBox.inputElement,ee.tw.MOUSE_DOWN,De),this.onDidChange=De=>this.findInput.onDidChange(De),this.container=ee.R3(this.parent,xa(".quick-input-box")),this.findInput=this._register(new cl.V(this.container,void 0,{label:"",inputBoxStyles:x,toggleStyles:Z}));const _e=this.findInput.inputBox.inputElement;_e.role="combobox",_e.ariaHasPopup="menu",_e.ariaAutoComplete="list",_e.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,x){this.findInput.inputBox.inputElement.setAttribute(s,x)}showDecoration(s){s===Mn.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===Mn.Z.Info?1:s===Mn.Z.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===Mn.Z.Info?1:s===Mn.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Ka=e(93923),ul=e(35190),Gt=e(79579);const t=new Gt.o(()=>{const Xe=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:Xe,collatorIsNumeric:Xe.resolvedOptions().numeric}}),l=new Gt.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),T=new Gt.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function q(Xe,s,x=!1){const Z=Xe||"",_e=s||"",De=t.value.collator.compare(Z,_e);return t.value.collatorIsNumeric&&De===0&&Z!==_e?Z<_e?-1:1:De}function re(Xe,s,x){const Z=Xe.toLowerCase(),_e=s.toLowerCase(),De=Te(Xe,s,x);if(De)return De;const ze=Z.endsWith(x),Je=_e.endsWith(x);if(ze!==Je)return ze?-1:1;const At=q(Z,_e);return At!==0?At:Z.localeCompare(_e)}function Te(Xe,s,x){const Z=Xe.toLowerCase(),_e=s.toLowerCase(),De=Z.startsWith(x),ze=_e.startsWith(x);if(De!==ze)return De?-1:1;if(De&&ze){if(Z.length<_e.length)return-1;if(Z.length>_e.length)return 1}return 0}var Ve=e(49898),rt=e(4850),vt=e(56811),It=e(44742),Wt=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De};class Kt{constructor(s){this.nodes=s}toString(){return this.nodes.map(s=>typeof s=="string"?s:s.label).join("")}}Wt([Ve.H],Kt.prototype,"toString",null);const nn=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function mn(Xe){const s=[];let x=0,Z;for(;Z=nn.exec(Xe);){Z.index-x>0&&s.push(Xe.substring(x,Z.index));const[,_e,De,,ze]=Z;ze?s.push({label:_e,href:De,title:ze}):s.push({label:_e,href:De}),x=Z.index+Z[0].length}return x<Xe.length&&s.push(Xe.substring(x)),new Kt(s)}const xn={},Pn=new It.R("quick-input-button-icon-");function kn(Xe){if(!Xe)return;let s;const x=Xe.dark.toString();return xn[x]?s=xn[x]:(s=Pn.nextId(),ee.fk(`.${s}, .hc-light .${s}`,`background-image: ${ee.wY(Xe.light||Xe.dark)}`),ee.fk(`.vs-dark .${s}, .hc-black .${s}`,`background-image: ${ee.wY(Xe.dark)}`),xn[x]=s),s}function ti(Xe,s,x){ee.mc(s);const Z=mn(Xe);let _e=0;for(const De of Z.nodes)if(typeof De=="string")s.append(...(0,vt.T)(De));else{let ze=De.title;!ze&&De.href.startsWith("command:")?ze=(0,Rn.NC)("executeCommand","Click to execute command '{0}'",De.href.substring(8)):ze||(ze=De.href);const Je=ee.$("a",{href:De.href,title:ze,tabIndex:_e++},De.label);Je.style.textDecoration="underline";const At=ei=>{ee.cl(ei)&&ee.zB.stop(ei,!0),x.callback(De.href)},Ut=x.disposables.add(new rt.Y(Je,ee.tw.CLICK)).event,Jt=x.disposables.add(new rt.Y(Je,ee.tw.KEY_DOWN)).event,Dn=oe.ju.chain(Jt,ei=>ei.filter(es=>{const vs=new dt.y(es);return vs.equals(10)||vs.equals(3)}));x.disposables.add(hr.o.addTarget(Je));const Gn=x.disposables.add(new rt.Y(Je,hr.t.Tap)).event;oe.ju.any(Ut,Gn,Dn)(At,null,x.disposables),s.appendChild(Je)}}var ai=e(92321),Mi=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De};const Ei=ee.$;class $i{constructor(s,x,Z,_e,De,ze,Je){var At,Ut,Jt;this._checked=!1,this._hidden=!1,this.hasCheckbox=_e,this.index=Z,this.fireButtonTriggered=De,this.fireSeparatorButtonTriggered=ze,this._onChecked=Je,this.onChecked=_e?oe.ju.map(oe.ju.filter(this._onChecked.event,Dn=>Dn.listElement===this),Dn=>Dn.checked):oe.ju.None,s.type==="separator"?this._separator=s:(this.item=s,x&&x.type==="separator"&&!x.buttons&&(this._separator=x),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(At=this.item.highlights)===null||At===void 0?void 0:At.label,this._descriptionHighlights=(Ut=this.item.highlights)===null||Ut===void 0?void 0:Ut.description,this._detailHighlights=(Jt=this.item.highlights)===null||Jt===void 0?void 0:Jt.detail,this.saneTooltip=this.item.tooltip),this._init=new Gt.o(()=>{var Dn;const Gn=(Dn=s.label)!==null&&Dn!==void 0?Dn:"",ei=(0,Lo.Ho)(Gn).text.trim(),es=s.ariaLabel||[Gn,this.saneDescription,this.saneDetail].map(vs=>(0,Lo.JL)(vs)).filter(vs=>!!vs).join(", ");return{saneLabel:Gn,saneSortLabel:ei,saneAriaLabel:es}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(s){this._element=s}get hidden(){return this._hidden}set hidden(s){this._hidden=s}get checked(){return this._checked}set checked(s){s!==this._checked&&(this._checked=s,this._onChecked.fire({listElement:this,checked:s}))}get separator(){return this._separator}set separator(s){this._separator=s}get labelHighlights(){return this._labelHighlights}set labelHighlights(s){this._labelHighlights=s}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(s){this._descriptionHighlights=s}get detailHighlights(){return this._detailHighlights}set detailHighlights(s){this._detailHighlights=s}}class Vi{constructor(s){this.themeService=s}get templateId(){return Vi.ID}renderTemplate(s){const x=Object.create(null);x.toDisposeElement=[],x.toDisposeTemplate=[],x.entry=ee.R3(s,Ei(".quick-input-list-entry"));const Z=ee.R3(x.entry,Ei("label.quick-input-list-label"));x.toDisposeTemplate.push(ee.mu(Z,ee.tw.CLICK,Ut=>{x.checkbox.offsetParent||Ut.preventDefault()})),x.checkbox=ee.R3(Z,Ei("input.quick-input-list-checkbox")),x.checkbox.type="checkbox",x.toDisposeTemplate.push(ee.mu(x.checkbox,ee.tw.CHANGE,Ut=>{x.element.checked=x.checkbox.checked}));const _e=ee.R3(Z,Ei(".quick-input-list-rows")),De=ee.R3(_e,Ei(".quick-input-list-row")),ze=ee.R3(_e,Ei(".quick-input-list-row"));x.label=new Ka.g(De,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),x.toDisposeTemplate.push(x.label),x.icon=ee.Ce(x.label.element,Ei(".quick-input-list-icon"));const Je=ee.R3(De,Ei(".quick-input-list-entry-keybinding"));x.keybinding=new ul.e(Je,lt.OS);const At=ee.R3(ze,Ei(".quick-input-list-label-meta"));return x.detail=new Ka.g(At,{supportHighlights:!0,supportIcons:!0}),x.toDisposeTemplate.push(x.detail),x.separator=ee.R3(x.entry,Ei(".quick-input-list-separator")),x.actionBar=new fr.o(x.entry),x.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),x.toDisposeTemplate.push(x.actionBar),x}renderElement(s,x,Z){var _e,De,ze,Je;Z.element=s,s.element=(_e=Z.entry)!==null&&_e!==void 0?_e:void 0;const At=s.item?s.item:s.separator;Z.checkbox.checked=s.checked,Z.toDisposeElement.push(s.onChecked(es=>Z.checkbox.checked=es));const{labelHighlights:Ut,descriptionHighlights:Jt,detailHighlights:Dn}=s;if(!((De=s.item)===null||De===void 0)&&De.iconPath){const es=(0,ai._T)(this.themeService.getColorTheme().type)?s.item.iconPath.dark:(ze=s.item.iconPath.light)!==null&&ze!==void 0?ze:s.item.iconPath.dark,vs=it.o.revive(es);Z.icon.className="quick-input-list-icon",Z.icon.style.backgroundImage=ee.wY(vs)}else Z.icon.style.backgroundImage="",Z.icon.className=!((Je=s.item)===null||Je===void 0)&&Je.iconClass?`quick-input-list-icon ${s.item.iconClass}`:"";const Gn={matches:Ut||[],descriptionTitle:s.saneDescription,descriptionMatches:Jt||[],labelEscapeNewLines:!0};At.type!=="separator"?(Gn.extraClasses=At.iconClasses,Gn.italic=At.italic,Gn.strikethrough=At.strikethrough,Z.entry.classList.remove("quick-input-list-separator-as-item")):Z.entry.classList.add("quick-input-list-separator-as-item"),Z.label.setLabel(s.saneLabel,s.saneDescription,Gn),Z.keybinding.set(At.type==="separator"?void 0:At.keybinding),s.saneDetail?(Z.detail.element.style.display="",Z.detail.setLabel(s.saneDetail,void 0,{matches:Dn,title:s.saneDetail,labelEscapeNewLines:!0})):Z.detail.element.style.display="none",s.item&&s.separator&&s.separator.label?(Z.separator.textContent=s.separator.label,Z.separator.style.display=""):Z.separator.style.display="none",Z.entry.classList.toggle("quick-input-list-separator-border",!!s.separator);const ei=At.buttons;ei&&ei.length?(Z.actionBar.push(ei.map((es,vs)=>{let ws=es.iconClass||(es.iconPath?kn(es.iconPath):void 0);return es.alwaysVisible&&(ws=ws?`${ws} always-visible`:"always-visible"),{id:`id-${vs}`,class:ws,enabled:!0,label:"",tooltip:es.tooltip||"",run:()=>{At.type!=="separator"?s.fireButtonTriggered({button:es,item:At}):s.fireSeparatorButtonTriggered({button:es,separator:At})}}}),{icon:!0,label:!1}),Z.entry.classList.add("has-actions")):Z.entry.classList.remove("has-actions")}disposeElement(s,x,Z){Z.toDisposeElement=(0,Oe.B9)(Z.toDisposeElement),Z.actionBar.clear()}disposeTemplate(s){s.toDisposeElement=(0,Oe.B9)(s.toDisposeElement),s.toDisposeTemplate=(0,Oe.B9)(s.toDisposeTemplate)}}Vi.ID="listelement";class Qi{getHeight(s){return s.item?s.saneDetail?44:22:24}getTemplateId(s){return Vi.ID}}var xi;(function(Xe){Xe[Xe.First=1]="First",Xe[Xe.Second=2]="Second",Xe[Xe.Last=3]="Last",Xe[Xe.Next=4]="Next",Xe[Xe.Previous=5]="Previous",Xe[Xe.NextPage=6]="NextPage",Xe[Xe.PreviousPage=7]="PreviousPage"})(xi||(xi={}));class Yi{constructor(s,x,Z,_e){this.parent=s,this.options=Z,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new oe.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new oe.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new oe.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new oe.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new oe.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new oe.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new oe.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new oe.Q5,this.onLeave=this._onLeave.event,this._listElementChecked=new oe.Q5,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=x,this.container=ee.R3(this.parent,Ei(".quick-input-list"));const De=new Qi,ze=new Ds;if(this.list=Z.createList("QuickInput",this.container,De,[new Vi(_e)],{identityProvider:{getId:Je=>{var At,Ut,Jt,Dn,Gn,ei,es,vs;return(vs=(ei=(Dn=(Ut=(At=Je.item)===null||At===void 0?void 0:At.id)!==null&&Ut!==void 0?Ut:(Jt=Je.item)===null||Jt===void 0?void 0:Jt.label)!==null&&Dn!==void 0?Dn:(Gn=Je.separator)===null||Gn===void 0?void 0:Gn.id)!==null&&ei!==void 0?ei:(es=Je.separator)===null||es===void 0?void 0:es.label)!==null&&vs!==void 0?vs:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:ze}),this.list.getHTMLElement().id=x,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Je=>{const At=new dt.y(Je);switch(At.keyCode){case 10:this.toggleCheckbox();break;case 31:(lt.dz?Je.metaKey:Je.ctrlKey)&&this.list.setFocus((0,Nt.w6)(this.list.length));break;case 16:{const Ut=this.list.getFocus();Ut.length===1&&Ut[0]===0&&this._onLeave.fire();break}case 18:{const Ut=this.list.getFocus();Ut.length===1&&Ut[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(At)})),this.disposables.push(this.list.onMouseDown(Je=>{Je.browserEvent.button!==2&&Je.browserEvent.preventDefault()})),this.disposables.push(ee.nm(this.container,ee.tw.CLICK,Je=>{(Je.x||Je.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Je=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Je=>{typeof Je.index=="number"&&(Je.browserEvent.preventDefault(),this.list.setSelection([Je.index]))})),Z.hoverDelegate){const Je=new rs.rH(Z.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(At=>tn(this,null,function*(){var Ut;if(At.browserEvent.target instanceof HTMLAnchorElement){Je.cancel();return}if(!(!(At.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&ee.jg(At.browserEvent.relatedTarget,(Ut=At.element)===null||Ut===void 0?void 0:Ut.element)))try{yield Je.trigger(()=>tn(this,null,function*(){At.element&&this.showHover(At.element)}))}catch(Jt){if(!(0,hn.n2)(Jt))throw Jt}}))),this.disposables.push(this.list.onMouseOut(At=>{var Ut;ee.jg(At.browserEvent.relatedTarget,(Ut=At.element)===null||Ut===void 0?void 0:Ut.element)||Je.cancel()})),this.disposables.push(Je)}this.disposables.push(this._listElementChecked.event(Je=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return oe.ju.map(this.list.onDidChangeFocus,s=>s.elements.map(x=>x.item))}get onDidChangeSelection(){return oe.ju.map(this.list.onDidChangeSelection,s=>({items:s.elements.map(x=>x.item),event:s.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(s){this.list.scrollTop=s}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(s){this.list.getHTMLElement().ariaLabel=s}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(s,x=!0){for(let Z=0,_e=s.length;Z<_e;Z++){const De=s[Z];if(!De.hidden)if(De.checked)x=!0;else return!1}return x}getCheckedCount(){let s=0;const x=this.elements;for(let Z=0,_e=x.length;Z<_e;Z++)x[Z].checked&&s++;return s}getVisibleCount(){let s=0;const x=this.elements;for(let Z=0,_e=x.length;Z<_e;Z++)x[Z].hidden||s++;return s}setAllVisibleChecked(s){try{this._fireCheckedEvents=!1,this.elements.forEach(x=>{x.hidden||(x.checked=s)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(s){this.elementDisposables=(0,Oe.B9)(this.elementDisposables);const x=ze=>this.fireButtonTriggered(ze),Z=ze=>this.fireSeparatorButtonTriggered(ze);this.inputElements=s;const _e=new Map,De=this.parent.classList.contains("show-checkboxes");this.elements=s.reduce((ze,Je,At)=>{var Ut;const Jt=At>0?s[At-1]:void 0;if(Je.type==="separator"&&!Je.buttons)return ze;const Dn=new $i(Je,Jt,At,De,x,Z,this._listElementChecked),Gn=ze.length;return ze.push(Dn),_e.set((Ut=Dn.item)!==null&&Ut!==void 0?Ut:Dn.separator,Gn),ze},[]),this.elementsToIndexes=_e,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(s=>s.item)}setFocusedElements(s){if(this.list.setFocus(s.filter(x=>this.elementsToIndexes.has(x)).map(x=>this.elementsToIndexes.get(x))),s.length>0){const x=this.list.getFocus()[0];typeof x=="number"&&this.list.reveal(x)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(s){this.list.setSelection(s.filter(x=>this.elementsToIndexes.has(x)).map(x=>this.elementsToIndexes.get(x)))}getCheckedElements(){return this.elements.filter(s=>s.checked).map(s=>s.item).filter(s=>!!s)}setCheckedElements(s){try{this._fireCheckedEvents=!1;const x=new Set;for(const Z of s)x.add(Z);for(const Z of this.elements)Z.checked=x.has(Z.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(s){this.list.getHTMLElement().style.pointerEvents=s?"":"none"}focus(s){if(!this.list.length)return;switch(s===xi.Second&&this.list.length<2&&(s=xi.First),s){case xi.First:this.list.scrollTop=0,this.list.focusFirst(void 0,Z=>!!Z.item);break;case xi.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,Z=>!!Z.item);break;case xi.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,Z=>!!Z.item);break;case xi.Next:{this.list.focusNext(void 0,!0,void 0,_e=>!!_e.item);const Z=this.list.getFocus()[0];Z!==0&&!this.elements[Z-1].item&&this.list.firstVisibleIndex>Z-1&&this.list.reveal(Z-1);break}case xi.Previous:{this.list.focusPrevious(void 0,!0,void 0,_e=>!!_e.item);const Z=this.list.getFocus()[0];Z!==0&&!this.elements[Z-1].item&&this.list.firstVisibleIndex>Z-1&&this.list.reveal(Z-1);break}case xi.NextPage:this.list.focusNextPage(void 0,Z=>!!Z.item);break;case xi.PreviousPage:this.list.focusPreviousPage(void 0,Z=>!!Z.item);break}const x=this.list.getFocus()[0];typeof x=="number"&&this.list.reveal(x)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(s){var x,Z,_e;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((Z=(x=this.options.hoverDelegate).onDidHideHover)===null||Z===void 0||Z.call(x),(_e=this._lastHover)===null||_e===void 0||_e.dispose()),!(!s.element||!s.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:s.saneTooltip,target:s.element,linkHandler:De=>{this.options.linkOpenerDelegate(De)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)))}layout(s){this.list.getHTMLElement().style.maxHeight=s?`${Math.floor(s/44)*44+6}px`:"",this.list.layout()}filter(s){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const x=s;if(s=s.trim(),!s||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(_e=>{_e.labelHighlights=void 0,_e.descriptionHighlights=void 0,_e.detailHighlights=void 0,_e.hidden=!1;const De=_e.index&&this.inputElements[_e.index-1];_e.item&&(_e.separator=De&&De.type==="separator"&&!De.buttons?De:void 0)});else{let _e;this.elements.forEach(De=>{var ze,Je,At,Ut;let Jt;this.matchOnLabelMode==="fuzzy"?Jt=this.matchOnLabel&&(ze=(0,Lo.Gt)(s,(0,Lo.Ho)(De.saneLabel)))!==null&&ze!==void 0?ze:void 0:Jt=this.matchOnLabel&&(Je=as(x,(0,Lo.Ho)(De.saneLabel)))!==null&&Je!==void 0?Je:void 0;const Dn=this.matchOnDescription&&(At=(0,Lo.Gt)(s,(0,Lo.Ho)(De.saneDescription||"")))!==null&&At!==void 0?At:void 0,Gn=this.matchOnDetail&&(Ut=(0,Lo.Gt)(s,(0,Lo.Ho)(De.saneDetail||"")))!==null&&Ut!==void 0?Ut:void 0;if(Jt||Dn||Gn?(De.labelHighlights=Jt,De.descriptionHighlights=Dn,De.detailHighlights=Gn,De.hidden=!1):(De.labelHighlights=void 0,De.descriptionHighlights=void 0,De.detailHighlights=void 0,De.hidden=De.item?!De.item.alwaysShow:!0),De.item?De.separator=void 0:De.separator&&(De.hidden=!0),!this.sortByLabel){const ei=De.index&&this.inputElements[De.index-1];_e=ei&&ei.type==="separator"?ei:_e,_e&&!De.hidden&&(De.separator=_e,_e=void 0)}})}const Z=this.elements.filter(_e=>!_e.hidden);if(this.sortByLabel&&s){const _e=s.toLowerCase();Z.sort((De,ze)=>ls(De,ze,_e))}return this.elementsToIndexes=Z.reduce((_e,De,ze)=>{var Je;return _e.set((Je=De.item)!==null&&Je!==void 0?Je:De.separator,ze),_e},new Map),this.list.splice(0,this.list.length,Z),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(Z.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const s=this.list.getFocusedElements(),x=this.allVisibleChecked(s);for(const Z of s)Z.checked=!x}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(s){this.container.style.display=s?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,Oe.B9)(this.elementDisposables),this.disposables=(0,Oe.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(s){this._onButtonTriggered.fire(s)}fireSeparatorButtonTriggered(s){this._onSeparatorButtonTriggered.fire(s)}style(s){this.list.style(s)}toggleHover(){const s=this.list.getFocusedElements()[0];if(!(s!=null&&s.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const x=this.list.getFocusedElements()[0];if(!x)return;this.showHover(x);const Z=new Oe.SL;Z.add(this.list.onDidChangeFocus(_e=>{_e.indexes.length&&this.showHover(_e.elements[0])})),this._lastHover&&Z.add(this._lastHover),this._toggleHover=Z,this.elementDisposables.push(this._toggleHover)}}Mi([Ve.H],Yi.prototype,"onDidChangeFocus",null),Mi([Ve.H],Yi.prototype,"onDidChangeSelection",null);function as(Xe,s){const{text:x,iconOffsets:Z}=s;if(!Z||Z.length===0)return Xi(Xe,x);const _e=(0,Ze.j3)(x," "),De=x.length-_e.length,ze=Xi(Xe,_e);if(ze)for(const Je of ze){const At=Z[Je.start+De]+De;Je.start+=At,Je.end+=At}return ze}function Xi(Xe,s){const x=s.toLowerCase().indexOf(Xe.toLowerCase());return x!==-1?[{start:x,end:x+Xe.length}]:null}function ls(Xe,s,x){const Z=Xe.labelHighlights||[],_e=s.labelHighlights||[];return Z.length&&!_e.length?-1:!Z.length&&_e.length?1:Z.length===0&&_e.length===0?0:re(Xe.saneSortLabel,s.saneSortLabel,x)}class Ds{getWidgetAriaLabel(){return(0,Rn.NC)("quickInput","Quick Input")}getAriaLabel(s){var x;return!((x=s.separator)===null||x===void 0)&&x.label?`${s.saneAriaLabel}, ${s.separator.label}`:s.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(s){return s.hasCheckbox?"checkbox":"option"}isChecked(s){if(s.hasCheckbox)return{value:s.checked,onDidChange:s.onChecked}}}var Cs=e(40032);const zs={iconClass:xr.k.asClassName(So.l.quickInputBack),tooltip:(0,Rn.NC)("quickInput.back","Back"),handle:-1};class Ms extends Oe.JT{constructor(s){super(),this.ui=s,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Ms.noPromptMessage,this._severity=Mn.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new oe.Q5),this.onDidHideEmitter=this._register(new oe.Q5),this.onDisposeEmitter=this._register(new oe.Q5),this.visibleDisposables=this._register(new Oe.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(s){this._title=s,this.update()}get description(){return this._description}set description(s){this._description=s,this.update()}get step(){return this._steps}set step(s){this._steps=s,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(s){this._totalSteps=s,this.update()}get enabled(){return this._enabled}set enabled(s){this._enabled=s,this.update()}get contextKey(){return this._contextKey}set contextKey(s){this._contextKey=s,this.update()}get busy(){return this._busy}set busy(s){this._busy=s,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(s){const x=this._ignoreFocusOut!==s&&!lt.gn;this._ignoreFocusOut=s&&!lt.gn,x&&this.update()}get buttons(){return this._buttons}set buttons(s){this._buttons=s,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(s){this._toggles=s!=null?s:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(s){this._validationMessage=s,this.update()}get severity(){return this._severity}set severity(s){this._severity=s,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(s=>{this.buttons.indexOf(s)!==-1&&this.onDidTriggerButtonEmitter.fire(s)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(s=Ws.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:s})}update(){var s,x;if(!this.visible)return;const Z=this.getTitle();Z&&this.ui.title.textContent!==Z?this.ui.title.textContent=Z:!Z&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const _e=this.getDescription();if(this.ui.description1.textContent!==_e&&(this.ui.description1.textContent=_e),this.ui.description2.textContent!==_e&&(this.ui.description2.textContent=_e),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?ee.mc(this.ui.widget,this._widget):ee.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new rs._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const ze=this.buttons.filter(At=>At===zs);this.ui.leftActionBar.push(ze.map((At,Ut)=>{const Jt=new Os.aU(`id-${Ut}`,"",At.iconClass||kn(At.iconPath),!0,()=>tn(this,null,function*(){this.onDidTriggerButtonEmitter.fire(At)}));return Jt.tooltip=At.tooltip||"",Jt}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Je=this.buttons.filter(At=>At!==zs);this.ui.rightActionBar.push(Je.map((At,Ut)=>{const Jt=new Os.aU(`id-${Ut}`,"",At.iconClass||kn(At.iconPath),!0,()=>tn(this,null,function*(){this.onDidTriggerButtonEmitter.fire(At)}));return Jt.tooltip=At.tooltip||"",Jt}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const ze=(x=(s=this.toggles)===null||s===void 0?void 0:s.filter(Je=>Je instanceof Cs.Z))!==null&&x!==void 0?x:[];this.ui.inputBox.toggles=ze}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const De=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==De&&(this._lastValidationMessage=De,ee.mc(this.ui.message),ti(De,this.ui.message,{callback:ze=>{this.ui.linkOpenerDelegate(ze)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Rn.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(s){if(this.ui.inputBox.showDecoration(s),s!==Mn.Z.Ignore){const x=this.ui.inputBox.stylesForType(s);this.ui.message.style.color=x.foreground?`${x.foreground}`:"",this.ui.message.style.backgroundColor=x.background?`${x.background}`:"",this.ui.message.style.border=x.border?`1px solid ${x.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Ms.noPromptMessage=(0,Rn.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class js extends Ms{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new oe.Q5),this.onWillAcceptEmitter=this._register(new oe.Q5),this.onDidAcceptEmitter=this._register(new oe.Q5),this.onDidCustomEmitter=this._register(new oe.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=Ws.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new oe.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new oe.Q5),this.onDidTriggerItemButtonEmitter=this._register(new oe.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new oe.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=s=>s,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(s){this._quickNavigate=s,this.update()}get value(){return this._value}set value(s){this.doSetValue(s)}doSetValue(s,x){this._value!==s&&(this._value=s,x||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(s){this._ariaLabel=s,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(s){this.ui.list.scrollTop=s}set items(s){this._items=s,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(s){this._canSelectMany=s,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(s){this._canAcceptInBackground=s}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(s){this._matchOnDescription=s,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(s){this._matchOnDetail=s,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(s){this._matchOnLabel=s,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(s){this._matchOnLabelMode=s,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(s){this._sortByLabel=s,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(s){this._autoFocusOnList=s,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(s){this._keepScrollPosition=s}get itemActivation(){return this._itemActivation}set itemActivation(s){this._itemActivation=s}get activeItems(){return this._activeItems}set activeItems(s){this._activeItems=s,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(s){this._selectedItems=s,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Ws.X5:this.ui.keyMods}set valueSelection(s){this._valueSelection=s,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(s){this._customButton=s,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(s){this._customButtonLabel=s,this.update()}get customHover(){return this._customButtonHover}set customHover(s){this._customButtonHover=s,this.update()}get ok(){return this._ok}set ok(s){this._ok=s,this.update()}get hideInput(){return!!this._hideInput}set hideInput(s){this._hideInput=s,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(xi.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(s=>{this.doSetValue(s,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(s=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(s=>{switch(s.keyCode){case 18:this.ui.list.focus(xi.Next),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(xi.Previous):this.ui.list.focus(xi.Last),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 12:this.ui.list.focus(xi.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 11:this.ui.list.focus(xi.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey&&(this.ui.list.focus(xi.First),ee.zB.stop(s,!0));break;case 13:(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey&&(this.ui.list.focus(xi.Last),ee.zB.stop(s,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(s=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Nt.fS)(s,this._activeItems,(x,Z)=>x===Z)||(this._activeItems=s,this.onDidChangeActiveEmitter.fire(s))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:s,event:x})=>{if(this.canSelectMany){s.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,Nt.fS)(s,this._selectedItems,(Z,_e)=>Z===_e)||(this._selectedItems=s,this.onDidChangeSelectionEmitter.fire(s),s.length&&this.handleAccept(ee.N5(x)&&x.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(s=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,Nt.fS)(s,this._selectedItems,(x,Z)=>x===Z)||(this._selectedItems=s,this.onDidChangeSelectionEmitter.fire(s)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(s=>this.onDidTriggerItemButtonEmitter.fire(s))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(s=>this.onDidTriggerSeparatorButtonEmitter.fire(s))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(s){let x=!1;this.onWillAcceptEmitter.fire({veto:()=>x=!0}),x||this.onDidAcceptEmitter.fire({inBackground:s})}registerQuickNavigation(){return ee.nm(this.ui.container,ee.tw.KEY_UP,s=>{if(this.canSelectMany||!this._quickNavigate)return;const x=new dt.y(s),Z=x.keyCode;this._quickNavigate.keybindings.some(ze=>{const Je=ze.getChords();return Je.length>1?!1:Je[0].shiftKey&&Z===4?!(x.ctrlKey||x.altKey||x.metaKey):!!(Je[0].altKey&&Z===6||Je[0].ctrlKey&&Z===5||Je[0].metaKey&&Z===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const s=this.keepScrollPosition?this.scrollTop:0,x=!!this.description,Z={title:!!this.title||!!this.step||!!this.buttons.length,description:x,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||x,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(Z),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let _e=this.ariaLabel;if(!_e&&Z.inputBox&&(_e=this.placeholder||js.DEFAULT_ARIA_LABEL,this.title&&(_e+=` - ${this.title}`)),this.ui.list.ariaLabel!==_e&&(this.ui.list.ariaLabel=_e!=null?_e:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ws.jG.NONE:this._itemActivation=Ws.jG.FIRST;break;case Ws.jG.SECOND:this.ui.list.focus(xi.Second),this._itemActivation=Ws.jG.FIRST;break;case Ws.jG.LAST:this.ui.list.focus(xi.Last),this._itemActivation=Ws.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",Z.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(xi.First)),this.keepScrollPosition&&(this.scrollTop=s)}}js.DEFAULT_ARIA_LABEL=(0,Rn.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Hs extends Ms{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new oe.Q5),this.onDidAcceptEmitter=this._register(new oe.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(s){this._value=s||"",this.update()}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update()}get password(){return this._password}set password(s){this._password=s,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(s=>{s!==this.value&&(this._value=s,this.onDidValueChangeEmitter.fire(s))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const s={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(s),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}const bs=ee.$;class Ks extends Oe.JT{constructor(s,x,Z){super(),this.options=s,this.themeService=x,this.layoutService=Z,this.enabled=!0,this.onDidAcceptEmitter=this._register(new oe.Q5),this.onDidCustomEmitter=this._register(new oe.Q5),this.onDidTriggerButtonEmitter=this._register(new oe.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new oe.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new oe.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=s.idPrefix,this.parentElement=s.container,this.styles=s.styles,this._register(oe.ju.runAndSubscribe(ee.Xo,({window:_e,disposables:De})=>this.registerKeyModsListeners(_e,De),{window:je.Ex,disposables:this._store})),this._register(ee.Jc(_e=>{this.ui&&ee.Jj(this.ui.container)===_e&&this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(s,x){const Z=_e=>{this.keyMods.ctrlCmd=_e.ctrlKey||_e.metaKey,this.keyMods.alt=_e.altKey};for(const _e of[ee.tw.KEY_DOWN,ee.tw.KEY_UP,ee.tw.MOUSE_DOWN])x.add(ee.nm(s,_e,Z,!0))}getUI(s){if(this.ui)return s&&this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument&&this.reparentUI(this.layoutService.activeContainer),this.ui;const x=ee.R3(this.parentElement,bs(".quick-input-widget.show-file-icons"));x.tabIndex=-1,x.style.display="none";const Z=ee.dS(x),_e=ee.R3(x,bs(".quick-input-titlebar")),De=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,ze=this._register(new fr.o(_e,De));ze.domNode.classList.add("quick-input-left-action-bar");const Je=ee.R3(_e,bs(".quick-input-title")),At=this._register(new fr.o(_e,De));At.domNode.classList.add("quick-input-right-action-bar");const Ut=ee.R3(x,bs(".quick-input-header")),Jt=ee.R3(Ut,bs("input.quick-input-check-all"));Jt.type="checkbox",Jt.setAttribute("aria-label",(0,Rn.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(ee.mu(Jt,ee.tw.CHANGE,fs=>{const ra=Jt.checked;Zo.setAllVisibleChecked(ra)})),this._register(ee.nm(Jt,ee.tw.CLICK,fs=>{(fs.x||fs.y)&&es.setFocus()}));const Dn=ee.R3(Ut,bs(".quick-input-description")),Gn=ee.R3(Ut,bs(".quick-input-and-message")),ei=ee.R3(Gn,bs(".quick-input-filter")),es=this._register(new dl(ei,this.styles.inputBox,this.styles.toggle));es.setAttribute("aria-describedby",`${this.idPrefix}message`);const vs=ee.R3(ei,bs(".quick-input-visible-count"));vs.setAttribute("aria-live","polite"),vs.setAttribute("aria-atomic","true");const ws=new wa.Z(vs,{countFormat:(0,Rn.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),to=ee.R3(ei,bs(".quick-input-count"));to.setAttribute("aria-live","polite");const Fs=new wa.Z(to,{countFormat:(0,Rn.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),Bs=ee.R3(Ut,bs(".quick-input-action")),gs=this._register(new Rr.z(Bs,this.styles.button));gs.label=(0,Rn.NC)("ok","OK"),this._register(gs.onDidClick(fs=>{this.onDidAcceptEmitter.fire()}));const Ho=ee.R3(Ut,bs(".quick-input-action")),Hr=this._register(new Rr.z(Ho,this.styles.button));Hr.label=(0,Rn.NC)("custom","Custom"),this._register(Hr.onDidClick(fs=>{this.onDidCustomEmitter.fire()}));const fo=ee.R3(Gn,bs(`#${this.idPrefix}message.quick-input-message`)),El=this._register(new ia(x,this.styles.progressBar));El.getContainer().classList.add("quick-input-progress");const Ls=ee.R3(x,bs(".quick-input-html-widget"));Ls.tabIndex=-1;const ao=ee.R3(x,bs(".quick-input-description")),Go=this.idPrefix+"list",Zo=this._register(new Yi(x,Go,this.options,this.themeService));es.setAttribute("aria-controls",Go),this._register(Zo.onDidChangeFocus(()=>{var fs;es.setAttribute("aria-activedescendant",(fs=Zo.getActiveDescendant())!==null&&fs!==void 0?fs:"")})),this._register(Zo.onChangedAllVisibleChecked(fs=>{Jt.checked=fs})),this._register(Zo.onChangedVisibleCount(fs=>{ws.setCount(fs)})),this._register(Zo.onChangedCheckedCount(fs=>{Fs.setCount(fs)})),this._register(Zo.onLeave(()=>{setTimeout(()=>{es.setFocus(),this.controller instanceof js&&this.controller.canSelectMany&&Zo.clearFocus()},0)}));const Bc=ee.go(x);return this._register(Bc),this._register(ee.nm(x,ee.tw.FOCUS,fs=>{ee.jg(fs.relatedTarget,x)||(this.previousFocusElement=fs.relatedTarget instanceof HTMLElement?fs.relatedTarget:void 0)},!0)),this._register(Bc.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Ws.Jq.Blur),this.previousFocusElement=void 0})),this._register(ee.nm(x,ee.tw.FOCUS,fs=>{es.setFocus()})),this._register(ee.mu(x,ee.tw.KEY_DOWN,fs=>{if(!ee.jg(fs.target,Ls))switch(fs.keyCode){case 3:ee.zB.stop(fs,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:ee.zB.stop(fs,!0),this.hide(Ws.Jq.Gesture);break;case 2:if(!fs.altKey&&!fs.ctrlKey&&!fs.metaKey){const ra=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(x.classList.contains("show-checkboxes")?ra.push("input"):ra.push("input[type=text]"),this.getUI().list.isDisplayed()&&ra.push(".monaco-list"),this.getUI().message&&ra.push(".quick-input-message a"),this.getUI().widget){if(ee.jg(fs.target,this.getUI().widget))break;ra.push(".quick-input-html-widget")}const Hl=x.querySelectorAll(ra.join(", "));fs.shiftKey&&fs.target===Hl[0]?(ee.zB.stop(fs,!0),Zo.clearFocus()):!fs.shiftKey&&ee.jg(fs.target,Hl[Hl.length-1])&&(ee.zB.stop(fs,!0),Hl[0].focus())}break;case 10:fs.ctrlKey&&(ee.zB.stop(fs,!0),this.getUI().list.toggleHover());break}})),this.ui={container:x,styleSheet:Z,leftActionBar:ze,titleBar:_e,title:Je,description1:ao,description2:Dn,widget:Ls,rightActionBar:At,checkAll:Jt,inputContainer:Gn,filterContainer:ei,inputBox:es,visibleCountContainer:vs,visibleCount:ws,countContainer:to,count:Fs,okContainer:Bs,ok:gs,message:fo,customButtonContainer:Ho,customButton:Hr,list:Zo,progressBar:El,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:fs=>this.show(fs),hide:()=>this.hide(),setVisibilities:fs=>this.setVisibilities(fs),setEnabled:fs=>this.setEnabled(fs),setContextKey:fs=>this.options.setContextKey(fs),linkOpenerDelegate:fs=>this.options.linkOpenerDelegate(fs)},this.updateStyles(),this.ui}reparentUI(s){this.ui&&(this.parentElement=s,ee.R3(this.parentElement,this.ui.container))}pick(s,x={},Z=gr.T.None){return new Promise((_e,De)=>{let ze=Jt=>{var Dn;ze=_e,(Dn=x.onKeyMods)===null||Dn===void 0||Dn.call(x,Je.keyMods),_e(Jt)};if(Z.isCancellationRequested){ze(void 0);return}const Je=this.createQuickPick();let At;const Ut=[Je,Je.onDidAccept(()=>{if(Je.canSelectMany)ze(Je.selectedItems.slice()),Je.hide();else{const Jt=Je.activeItems[0];Jt&&(ze(Jt),Je.hide())}}),Je.onDidChangeActive(Jt=>{const Dn=Jt[0];Dn&&x.onDidFocus&&x.onDidFocus(Dn)}),Je.onDidChangeSelection(Jt=>{if(!Je.canSelectMany){const Dn=Jt[0];Dn&&(ze(Dn),Je.hide())}}),Je.onDidTriggerItemButton(Jt=>x.onDidTriggerItemButton&&x.onDidTriggerItemButton(Ni(Xn({},Jt),{removeItem:()=>{const Dn=Je.items.indexOf(Jt.item);if(Dn!==-1){const Gn=Je.items.slice(),ei=Gn.splice(Dn,1),es=Je.activeItems.filter(ws=>ws!==ei[0]),vs=Je.keepScrollPosition;Je.keepScrollPosition=!0,Je.items=Gn,es&&(Je.activeItems=es),Je.keepScrollPosition=vs}}}))),Je.onDidTriggerSeparatorButton(Jt=>{var Dn;return(Dn=x.onDidTriggerSeparatorButton)===null||Dn===void 0?void 0:Dn.call(x,Jt)}),Je.onDidChangeValue(Jt=>{At&&!Jt&&(Je.activeItems.length!==1||Je.activeItems[0]!==At)&&(Je.activeItems=[At])}),Z.onCancellationRequested(()=>{Je.hide()}),Je.onDidHide(()=>{(0,Oe.B9)(Ut),ze(void 0)})];Je.title=x.title,Je.canSelectMany=!!x.canPickMany,Je.placeholder=x.placeHolder,Je.ignoreFocusOut=!!x.ignoreFocusLost,Je.matchOnDescription=!!x.matchOnDescription,Je.matchOnDetail=!!x.matchOnDetail,Je.matchOnLabel=x.matchOnLabel===void 0||x.matchOnLabel,Je.autoFocusOnList=x.autoFocusOnList===void 0||x.autoFocusOnList,Je.quickNavigate=x.quickNavigate,Je.hideInput=!!x.hideInput,Je.contextKey=x.contextKey,Je.busy=!0,Promise.all([s,x.activeItem]).then(([Jt,Dn])=>{At=Dn,Je.busy=!1,Je.items=Jt,Je.canSelectMany&&(Je.selectedItems=Jt.filter(Gn=>Gn.type!=="separator"&&Gn.picked)),At&&(Je.activeItems=[At])}),Je.show(),Promise.resolve(s).then(void 0,Jt=>{De(Jt),Je.hide()})})}createQuickPick(){const s=this.getUI(!0);return new js(s)}createInputBox(){const s=this.getUI(!0);return new Hs(s)}show(s){const x=this.getUI(!0);this.onShowEmitter.fire();const Z=this.controller;this.controller=s,Z==null||Z.didHide(),this.setEnabled(!0),x.leftActionBar.clear(),x.title.textContent="",x.description1.textContent="",x.description2.textContent="",ee.mc(x.widget),x.rightActionBar.clear(),x.checkAll.checked=!1,x.inputBox.placeholder="",x.inputBox.password=!1,x.inputBox.showDecoration(Mn.Z.Ignore),x.visibleCount.setCount(0),x.count.setCount(0),ee.mc(x.message),x.progressBar.stop(),x.list.setElements([]),x.list.matchOnDescription=!1,x.list.matchOnDetail=!1,x.list.matchOnLabel=!0,x.list.sortByLabel=!0,x.ignoreFocusOut=!1,x.inputBox.toggles=void 0;const _e=this.options.backKeybindingLabel();zs.tooltip=_e?(0,Rn.NC)("quickInput.backWithKeybinding","Back ({0})",_e):(0,Rn.NC)("quickInput.back","Back"),x.container.style.display="",this.updateLayout(),x.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(s){const x=this.getUI();x.title.style.display=s.title?"":"none",x.description1.style.display=s.description&&(s.inputBox||s.checkAll)?"":"none",x.description2.style.display=s.description&&!(s.inputBox||s.checkAll)?"":"none",x.checkAll.style.display=s.checkAll?"":"none",x.inputContainer.style.display=s.inputBox?"":"none",x.filterContainer.style.display=s.inputBox?"":"none",x.visibleCountContainer.style.display=s.visibleCount?"":"none",x.countContainer.style.display=s.count?"":"none",x.okContainer.style.display=s.ok?"":"none",x.customButtonContainer.style.display=s.customButton?"":"none",x.message.style.display=s.message?"":"none",x.progressBar.getContainer().style.display=s.progressBar?"":"none",x.list.display(!!s.list),x.container.classList.toggle("show-checkboxes",!!s.checkBox),x.container.classList.toggle("hidden-input",!s.inputBox&&!s.description),this.updateLayout()}setEnabled(s){if(s!==this.enabled){this.enabled=s;for(const x of this.getUI().leftActionBar.viewItems)x.action.enabled=s;for(const x of this.getUI().rightActionBar.viewItems)x.action.enabled=s;this.getUI().checkAll.disabled=!s,this.getUI().inputBox.enabled=s,this.getUI().ok.enabled=s,this.getUI().list.enabled=s}}hide(s){var x,Z;const _e=this.controller;if(!_e)return;const De=(x=this.ui)===null||x===void 0?void 0:x.container,ze=De&&!ee.b5(De);if(this.controller=null,this.onHideEmitter.fire(),De&&(De.style.display="none"),!ze){let Je=this.previousFocusElement;for(;Je&&!Je.offsetParent;)Je=(Z=Je.parentElement)!==null&&Z!==void 0?Z:void 0;Je!=null&&Je.offsetParent?(Je.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}_e.didHide(s)}layout(s,x){this.dimension=s,this.titleBarOffset=x,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const s=this.ui.container.style,x=Math.min(this.dimension.width*.62,Ks.MAX_WIDTH);s.width=x+"px",s.marginLeft="-"+x/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(s){this.styles=s,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:s,quickInputBackground:x,quickInputForeground:Z,widgetBorder:_e,widgetShadow:De}=this.styles.widget;this.ui.titleBar.style.backgroundColor=s!=null?s:"",this.ui.container.style.backgroundColor=x!=null?x:"",this.ui.container.style.color=Z!=null?Z:"",this.ui.container.style.border=_e?`1px solid ${_e}`:"",this.ui.container.style.boxShadow=De?`0 0 8px 2px ${De}`:"",this.ui.list.style(this.styles.list);const ze=[];this.styles.pickerGroup.pickerGroupBorder&&ze.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&ze.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&ze.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ze.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ze.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ze.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ze.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ze.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ze.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ze.push("}"));const Je=ze.join(`
`);Je!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Je)}}}Ks.MAX_WIDTH=600;var Ul=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Da=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let hl=class extends Ee.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Sa))),this._quickAccess}constructor(s,x,Z,_e){super(Z),this.instantiationService=s,this.contextKeyService=x,this.layoutService=_e,this._onShow=this._register(new oe.Q5),this._onHide=this._register(new oe.Q5),this.contexts=new Map}createController(s=this.layoutService,x){const Z={idPrefix:"quickInput_",container:s.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:De=>this.setContextKey(De),linkOpenerDelegate:De=>{this.instantiationService.invokeFunction(ze=>{ze.get(va.v).open(De,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>s.focus(),createList:(De,ze,Je,At,Ut)=>this.instantiationService.createInstance(na.ev,De,ze,Je,At,Ut),styles:this.computeStyles()},_e=this._register(new Ks(Xn(Xn({},Z),x),this.themeService,this.layoutService));return _e.layout(s.activeContainerDimension,s.activeContainerOffset.quickPickTop),this._register(s.onDidLayoutActiveContainer(De=>_e.layout(De,s.activeContainerOffset.quickPickTop))),this._register(s.onDidChangeActiveContainer(()=>{_e.isVisible()||_e.layout(s.activeContainerDimension,s.activeContainerOffset.quickPickTop)})),this._register(_e.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(_e.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),_e}setContextKey(s){let x;s&&(x=this.contexts.get(s),x||(x=new ht.uy(s,!1).bindTo(this.contextKeyService),this.contexts.set(s,x))),!(x&&x.get())&&(this.resetContextKeys(),x==null||x.set(!0))}resetContextKeys(){this.contexts.forEach(s=>{s.get()&&s.reset()})}pick(s,x={},Z=gr.T.None){return this.controller.pick(s,x,Z)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,Ns.n_1)(Ns.zKr),quickInputForeground:(0,Ns.n_1)(Ns.tZ6),quickInputTitleBackground:(0,Ns.n_1)(Ns.loF),widgetBorder:(0,Ns.n_1)(Ns.A42),widgetShadow:(0,Ns.n_1)(Ns.rh)},inputBox:jo.Hc,toggle:jo.pl,countBadge:jo.ku,button:jo.wG,progressBar:jo.b5,keybindingLabel:jo.eO,list:(0,jo.TU)({listBackground:Ns.zKr,listFocusBackground:Ns.Vqd,listFocusForeground:Ns.NPS,listInactiveFocusForeground:Ns.NPS,listInactiveSelectionIconForeground:Ns.cbQ,listInactiveFocusBackground:Ns.Vqd,listFocusOutline:Ns.xL1,listInactiveFocusOutline:Ns.xL1}),pickerGroup:{pickerGroupBorder:(0,Ns.n_1)(Ns.opG),pickerGroupForeground:(0,Ns.n_1)(Ns.kJk)}}}};hl=Ul([Da(0,ct.TG),Da(1,ht.i6),Da(2,Ee.XE),Da(3,Pt)],hl);var Ia=e(88289),fl=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Or=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let $a=class extends hl{constructor(s,x,Z,_e,De){super(x,Z,_e,new _n(s.getContainerDomNode(),De)),this.host=void 0;const ze=Ar.get(s);if(ze){const Je=ze.widget;this.host={_serviceBrand:void 0,get mainContainer(){return Je.getDomNode()},getContainer(){return Je.getDomNode()},get containers(){return[Je.getDomNode()]},get activeContainer(){return Je.getDomNode()},get mainContainerDimension(){return s.getLayoutInfo()},get activeContainerDimension(){return s.getLayoutInfo()},get onDidLayoutMainContainer(){return s.onDidLayoutChange},get onDidLayoutActiveContainer(){return s.onDidLayoutChange},get onDidLayoutContainer(){return oe.ju.map(s.onDidLayoutChange,At=>({container:Je.getDomNode(),dimension:At}))},get onDidChangeActiveContainer(){return oe.ju.None},get onDidAddContainer(){return oe.ju.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>s.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};$a=fl([Or(1,ct.TG),Or(2,ht.i6),Or(3,Ee.XE),Or(4,pt.$)],$a);let Ga=class{get activeService(){const s=this.codeEditorService.getFocusedCodeEditor();if(!s)throw new Error("Quick input service needs a focused editor to work.");let x=this.mapEditorToService.get(s);if(!x){const Z=x=this.instantiationService.createInstance($a,s);this.mapEditorToService.set(s,x),(0,Ia.M)(s.onDidDispose)(()=>{Z.dispose(),this.mapEditorToService.delete(s)})}return x}get quickAccess(){return this.activeService.quickAccess}constructor(s,x){this.instantiationService=s,this.codeEditorService=x,this.mapEditorToService=new Map}pick(s,x={},Z=gr.T.None){return this.activeService.pick(s,x,Z)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};Ga=fl([Or(0,ct.TG),Or(1,pt.$)],Ga);class Ar{static get(s){return s.getContribution(Ar.ID)}constructor(s){this.editor=s,this.widget=new Za(this.editor)}dispose(){this.widget.dispose()}}Ar.ID="editor.controller.quickInput";class Za{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Za.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Za.ID="editor.contrib.quickInputWidget",(0,st._K)(Ar.ID,Ar,4);var zl=e(88542),No=e(44156),Na=e(31106),jl=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},gl=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let ml=class extends Oe.JT{constructor(s,x,Z){super(),this._contextKeyService=s,this._layoutService=x,this._configurationService=Z,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new oe.Q5,this._onDidChangeReducedMotion=new oe.Q5,this._accessibilityModeEnabledContext=Na.UA.bindTo(this._contextKeyService);const _e=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(ze=>{ze.affectsConfiguration("editor.accessibilitySupport")&&(_e(),this._onDidChangeScreenReaderOptimized.fire()),ze.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),_e(),this._register(this.onDidChangeScreenReaderOptimized(()=>_e()));const De=je.Ex.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=De.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(De)}initReducedMotionListeners(s){this._register((0,ee.nm)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const x=()=>{const Z=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",Z),this._layoutService.mainContainer.classList.toggle("enable-motion",!Z)};x(),this._register(this.onDidChangeReducedMotion(()=>x()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};ml=jl([gl(0,ht.i6),gl(1,Pt),gl(2,on.Ui)],ml);var Qa=e(87060),Ya=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},kr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}},Fr,Cr;let pl=class{constructor(s,x){this._commandService=s,this._hiddenStates=new Xa(x)}createMenu(s,x,Z){return new Eo(s,this._hiddenStates,Xn({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},Z),this._commandService,x)}resetHiddenStates(s){this._hiddenStates.reset(s)}};pl=Ya([kr(0,an.H),kr(1,Qa.Uy)],pl);let Xa=Fr=class{constructor(s){this._storageService=s,this._disposables=new Oe.SL,this._onDidChange=new oe.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const x=s.get(Fr._key,0,"{}");this._data=JSON.parse(x)}catch(x){this._data=Object.create(null)}this._disposables.add(s.onDidChangeValue(0,Fr._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const x=s.get(Fr._key,0,"{}");this._data=JSON.parse(x)}catch(x){console.log("FAILED to read storage after UPDATE",x)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(s,x){var Z;return(Z=this._hiddenByDefaultCache.get(`${s.id}/${x}`))!==null&&Z!==void 0?Z:!1}setDefaultState(s,x,Z){this._hiddenByDefaultCache.set(`${s.id}/${x}`,Z)}isHidden(s,x){var Z,_e;const De=this._isHiddenByDefault(s,x),ze=(_e=(Z=this._data[s.id])===null||Z===void 0?void 0:Z.includes(x))!==null&&_e!==void 0?_e:!1;return De?!ze:ze}updateHidden(s,x,Z){this._isHiddenByDefault(s,x)&&(Z=!Z);const De=this._data[s.id];if(Z)De?De.indexOf(x)<0&&De.push(x):this._data[s.id]=[x];else if(De){const ze=De.indexOf(x);ze>=0&&(0,Nt.LS)(De,ze),De.length===0&&delete this._data[s.id]}this._persist()}reset(s){if(s===void 0)this._data=Object.create(null),this._persist();else{for(const{id:x}of s)this._data[x]&&delete this._data[x];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const s=JSON.stringify(this._data);this._storageService.store(Fr._key,s,0,0)}finally{this._ignoreChangeEvent=!1}}};Xa._key="menu.hiddenCommands",Xa=Fr=Ya([kr(0,Qa.Uy)],Xa);let Ja=Cr=class{constructor(s,x,Z,_e,De){this._id=s,this._hiddenStates=x,this._collectContextKeysForSubmenus=Z,this._commandService=_e,this._contextKeyService=De,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const s=xs.BH.getMenuItems(this._id);let x;s.sort(Cr._compareMenuItems);for(const Z of s){const _e=Z.group||"";(!x||x[0]!==_e)&&(x=[_e,[]],this._menuGroups.push(x)),x[1].push(Z),this._collectContextKeys(Z)}}_collectContextKeys(s){if(Cr._fillInKbExprKeys(s.when,this._structureContextKeys),(0,xs.vr)(s)){if(s.command.precondition&&Cr._fillInKbExprKeys(s.command.precondition,this._preconditionContextKeys),s.command.toggled){const x=s.command.toggled.condition||s.command.toggled;Cr._fillInKbExprKeys(x,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&xs.BH.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}createActionGroups(s){const x=[];for(const Z of this._menuGroups){const[_e,De]=Z,ze=[];for(const Je of De)if(this._contextKeyService.contextMatchesRules(Je.when)){const At=(0,xs.vr)(Je);At&&this._hiddenStates.setDefaultState(this._id,Je.command.id,!!Je.isHiddenByDefault);const Ut=Kl(this._id,At?Je.command:Je,this._hiddenStates);if(At)ze.push(new xs.U8(Je.command,Je.alt,s,Ut,this._contextKeyService,this._commandService));else{const Jt=new Cr(Je.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(s),Dn=Os.Z0.join(...Jt.map(Gn=>Gn[1]));Dn.length>0&&ze.push(new xs.NZ(Je,Ut,Dn))}}ze.length>0&&x.push([_e,ze])}return x}static _fillInKbExprKeys(s,x){if(s)for(const Z of s.keys())x.add(Z)}static _compareMenuItems(s,x){const Z=s.group,_e=x.group;if(Z!==_e){if(Z){if(!_e)return-1}else return 1;if(Z==="navigation")return-1;if(_e==="navigation")return 1;const Je=Z.localeCompare(_e);if(Je!==0)return Je}const De=s.order||0,ze=x.order||0;return De<ze?-1:De>ze?1:Cr._compareTitles((0,xs.vr)(s)?s.command.title:s.title,(0,xs.vr)(x)?x.command.title:x.title)}static _compareTitles(s,x){const Z=typeof s=="string"?s:s.original,_e=typeof x=="string"?x:x.original;return Z.localeCompare(_e)}};Ja=Cr=Ya([kr(3,an.H),kr(4,ht.i6)],Ja);let Eo=class{constructor(s,x,Z,_e,De){this._disposables=new Oe.SL,this._menuInfo=new Ja(s,x,Z.emitEventsForSubmenuChanges,_e,De);const ze=new rs.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},Z.eventDebounceDelay);this._disposables.add(ze),this._disposables.add(xs.BH.onDidChangeMenu(Jt=>{Jt.has(s)&&ze.schedule()}));const Je=this._disposables.add(new Oe.SL),At=Jt=>{let Dn=!1,Gn=!1,ei=!1;for(const es of Jt)if(Dn=Dn||es.isStructuralChange,Gn=Gn||es.isEnablementChange,ei=ei||es.isToggleChange,Dn&&Gn&&ei)break;return{menu:this,isStructuralChange:Dn,isEnablementChange:Gn,isToggleChange:ei}},Ut=()=>{Je.add(De.onDidChangeContext(Jt=>{const Dn=Jt.affectsSome(this._menuInfo.structureContextKeys),Gn=Jt.affectsSome(this._menuInfo.preconditionContextKeys),ei=Jt.affectsSome(this._menuInfo.toggledContextKeys);(Dn||Gn||ei)&&this._onDidChange.fire({menu:this,isStructuralChange:Dn,isEnablementChange:Gn,isToggleChange:ei})})),Je.add(x.onDidChange(Jt=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new oe.D0({onWillAddFirstListener:Ut,onDidRemoveLastListener:Je.clear.bind(Je),delay:Z.eventDebounceDelay,merge:At}),this.onDidChange=this._onDidChange.event}getActions(s){return this._menuInfo.createActionGroups(s)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};Eo=Ya([kr(3,an.H),kr(4,ht.i6)],Eo);function Kl(Xe,s,x){const Z=(0,xs.f6)(s)?s.submenu.id:s.id,_e=typeof s.title=="string"?s.title:s.title.value,De=(0,Os.xw)({id:`hide/${Xe.id}/${Z}`,label:(0,Rn.NC)("hide.label","Hide '{0}'",_e),run(){x.updateHidden(Xe,Z,!0)}}),ze=(0,Os.xw)({id:`toggle/${Xe.id}/${Z}`,label:_e,get checked(){return!x.isHidden(Xe,Z)},run(){x.updateHidden(Xe,Z,!!this.checked)}});return{hide:De,toggle:ze,get isHidden(){return!ze.checked}}}var sa=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},qa=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let el=class extends Oe.JT{constructor(s,x){super(),this.layoutService=s,this.logService=x,this.mapTextToType=new Map,this.findText="",this.resources=[],(da.G6||da.MG)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const s=()=>{const x=new rs.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=x,navigator.clipboard.write([new ClipboardItem({"text/plain":x.p})]).catch(Z=>tn(this,null,function*(){(!(Z instanceof Error)||Z.name!=="NotAllowedError"||!x.isRejected)&&this.logService.error(Z)}))};this._register(oe.ju.runAndSubscribe(this.layoutService.onDidAddContainer,({container:x,disposables:Z})=>{Z.add((0,ee.nm)(x,"click",s)),Z.add((0,ee.nm)(x,"keydown",s))},{container:this.layoutService.mainContainer,disposables:this._store}))}writeText(s,x){return tn(this,null,function*(){if(x){this.mapTextToType.set(x,s);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(s);try{return yield navigator.clipboard.writeText(s)}catch(ze){console.error(ze)}const Z=(0,ee.uP)(),_e=Z.activeElement,De=Z.body.appendChild((0,ee.$)("textarea",{"aria-hidden":!0}));De.style.height="1px",De.style.width="1px",De.style.position="absolute",De.value=s,De.focus(),De.select(),Z.execCommand("copy"),_e instanceof HTMLElement&&_e.focus(),Z.body.removeChild(De)})}readText(s){return tn(this,null,function*(){if(s)return this.mapTextToType.get(s)||"";try{return yield navigator.clipboard.readText()}catch(x){return console.error(x),""}})}readFindText(){return tn(this,null,function*(){return this.findText})}writeFindText(s){return tn(this,null,function*(){this.findText=s})}writeResources(s){return tn(this,null,function*(){this.resources=s})}readResources(){return tn(this,null,function*(){return this.resources})}};el=sa([qa(0,Pt),qa(1,En.VZ)],el);var Ta=e(84972),Br=e(53725),Dl=e(4767),$l=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Gl=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};const Ma="data-keybinding-context";class vl{constructor(s,x){this._id=s,this._parent=x,this._value=Object.create(null),this._value._contextId=s}get value(){return Xn({},this._value)}setValue(s,x){return this._value[s]!==x?(this._value[s]=x,!0):!1}removeValue(s){return s in this._value?(delete this._value[s],!0):!1}getValue(s){const x=this._value[s];return typeof x=="undefined"&&this._parent?this._parent.getValue(s):x}}class oa extends vl{constructor(){super(-1,null)}setValue(s,x){return!1}removeValue(s){return!1}getValue(s){}}oa.INSTANCE=new oa;class Pa extends vl{constructor(s,x,Z){super(s,null),this._configurationService=x,this._values=Dl.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(_e=>{if(_e.source===7){const De=Array.from(this._values,([ze])=>ze);this._values.clear(),Z.fire(new Tl(De))}else{const De=[];for(const ze of _e.affectedKeys){const Je=`config.${ze}`,At=this._values.findSuperstr(Je);At!==void 0&&(De.push(...Br.$.map(At,([Ut])=>Ut)),this._values.deleteSuperstr(Je)),this._values.has(Je)&&(De.push(Je),this._values.delete(Je))}Z.fire(new Tl(De))}})}dispose(){this._listener.dispose()}getValue(s){if(s.indexOf(Pa._keyPrefix)!==0)return super.getValue(s);if(this._values.has(s))return this._values.get(s);const x=s.substr(Pa._keyPrefix.length),Z=this._configurationService.getValue(x);let _e;switch(typeof Z){case"number":case"boolean":case"string":_e=Z;break;default:Array.isArray(Z)?_e=JSON.stringify(Z):_e=Z}return this._values.set(s,_e),_e}setValue(s,x){return super.setValue(s,x)}removeValue(s){return super.removeValue(s)}}Pa._keyPrefix="config.";class Il{constructor(s,x,Z){this._service=s,this._key=x,this._defaultValue=Z,this.reset()}set(s){this._service.setContext(this._key,s)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Nl{constructor(s){this.key=s}affectsSome(s){return s.has(this.key)}allKeysContainedIn(s){return this.affectsSome(s)}}class Tl{constructor(s){this.keys=s}affectsSome(s){for(const x of this.keys)if(s.has(x))return!0;return!1}allKeysContainedIn(s){return this.keys.every(x=>s.has(x))}}class Ml{constructor(s){this.events=s}affectsSome(s){for(const x of this.events)if(x.affectsSome(s))return!0;return!1}allKeysContainedIn(s){return this.events.every(x=>x.allKeysContainedIn(s))}}function tl(Xe,s){return Xe.allKeysContainedIn(new Set(Object.keys(s)))}class sr extends Oe.JT{constructor(s){super(),this._onDidChangeContext=this._register(new oe.K3({merge:x=>new Ml(x)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=s}createKey(s,x){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Il(this,s,x)}bufferChangeEvents(s){this._onDidChangeContext.pause();try{s()}finally{this._onDidChangeContext.resume()}}createScoped(s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Zl(this,s)}contextMatchesRules(s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const x=this.getContextValuesContainer(this._myContextId);return s?s.evaluate(x):!0}getContextKeyValue(s){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(s)}setContext(s,x){if(this._isDisposed)return;const Z=this.getContextValuesContainer(this._myContextId);Z&&Z.setValue(s,x)&&this._onDidChangeContext.fire(new Nl(s))}removeContext(s){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(s)&&this._onDidChangeContext.fire(new Nl(s))}getContext(s){return this._isDisposed?oa.INSTANCE:this.getContextValuesContainer(Ql(s))}dispose(){super.dispose(),this._isDisposed=!0}}let _l=class extends sr{constructor(s){super(0),this._contexts=new Map,this._lastContextId=0;const x=this._register(new Pa(this._myContextId,s,this._onDidChangeContext));this._contexts.set(this._myContextId,x)}getContextValuesContainer(s){return this._isDisposed?oa.INSTANCE:this._contexts.get(s)||oa.INSTANCE}createChildContext(s=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const x=++this._lastContextId;return this._contexts.set(x,new vl(x,this.getContextValuesContainer(s))),x}disposeContext(s){this._isDisposed||this._contexts.delete(s)}};_l=$l([Gl(0,on.Ui)],_l);class Zl extends sr{constructor(s,x){if(super(s.createChildContext()),this._parentChangeListener=this._register(new Oe.XK),this._parent=s,this._updateParentChangeListener(),this._domNode=x,this._domNode.hasAttribute(Ma)){let Z="";this._domNode.classList&&(Z=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${Z?": "+Z:""}`)}this._domNode.setAttribute(Ma,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(s=>{const Z=this._parent.getContextValuesContainer(this._myContextId).value;tl(s,Z)||this._onDidChangeContext.fire(s)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Ma),super.dispose())}getContextValuesContainer(s){return this._isDisposed?oa.INSTANCE:this._parent.getContextValuesContainer(s)}createChildContext(s=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(s)}disposeContext(s){this._isDisposed||this._parent.disposeContext(s)}}function Ql(Xe){for(;Xe;){if(Xe.hasAttribute(Ma)){const s=Xe.getAttribute(Ma);return s?parseInt(s,10):NaN}Xe=Xe.parentElement}return 0}function Yl(Xe,s,x){Xe.get(ht.i6).createKey(String(s),Xl(x))}function Xl(Xe){return(0,Mt.rs)(Xe,s=>{if(typeof s=="object"&&s.$mid===1)return it.o.revive(s).toString();if(s instanceof it.o)return s.toString()})}an.P.registerCommand("_setContext",Yl),an.P.registerCommand({id:"getContextKeyInfo",handler(){return[...ht.uy.all()].sort((Xe,s)=>Xe.key.localeCompare(s.key))},metadata:{description:(0,Rn.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),an.P.registerCommand("_generateContextKeyInfo",function(){const Xe=[],s=new Set;for(const x of ht.uy.all())s.has(x.key)||(s.add(x.key),Xe.push(x));Xe.sort((x,Z)=>x.key.localeCompare(Z.key)),console.log(JSON.stringify(Xe,void 0,2))});var br=e(97108);class Pl{constructor(s,x){this.key=s,this.data=x,this.incoming=new Map,this.outgoing=new Map}}class Cl{constructor(s){this._hashFn=s,this._nodes=new Map}roots(){const s=[];for(const x of this._nodes.values())x.outgoing.size===0&&s.push(x);return s}insertEdge(s,x){const Z=this.lookupOrInsertNode(s),_e=this.lookupOrInsertNode(x);Z.outgoing.set(_e.key,_e),_e.incoming.set(Z.key,Z)}removeNode(s){const x=this._hashFn(s);this._nodes.delete(x);for(const Z of this._nodes.values())Z.outgoing.delete(x),Z.incoming.delete(x)}lookupOrInsertNode(s){const x=this._hashFn(s);let Z=this._nodes.get(x);return Z||(Z=new Pl(x,s),this._nodes.set(x,Z)),Z}isEmpty(){return this._nodes.size===0}toString(){const s=[];for(const[x,Z]of this._nodes)s.push(`${x}
	(-> incoming)[${[...Z.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...Z.outgoing.keys()].join(",")}]
`);return s.join(`
`)}findCycleSlow(){for(const[s,x]of this._nodes){const Z=new Set([s]),_e=this._findCycle(x,Z);if(_e)return _e}}_findCycle(s,x){for(const[Z,_e]of s.outgoing){if(x.has(Z))return[...x,Z].join(" -> ");x.add(Z);const De=this._findCycle(_e,x);if(De)return De;x.delete(Z)}}}var nl=e(60972);const Jl=!1;class bl extends Error{constructor(s){var x;super("cyclic dependency between services"),this.message=(x=s.findCycleSlow())!==null&&x!==void 0?x:`UNABLE to detect cycle, dumping graph: 
${s.toString()}`}}class _o{constructor(s=new nl.y,x=!1,Z,_e=Jl){var De;this._services=s,this._strict=x,this._parent=Z,this._enableTracing=_e,this._activeInstantiations=new Set,this._services.set(ct.TG,this),this._globalGraph=_e?(De=Z==null?void 0:Z._globalGraph)!==null&&De!==void 0?De:new Cl(ze=>ze):void 0}createChild(s){return new _o(s,this._strict,this,this._enableTracing)}invokeFunction(s,...x){const Z=uo.traceInvocation(this._enableTracing,s);let _e=!1;try{return s({get:ze=>{if(_e)throw(0,hn.L6)("service accessor is only valid during the invocation of its target method");const Je=this._getOrCreateServiceInstance(ze,Z);if(!Je)throw new Error(`[invokeFunction] unknown service '${ze}'`);return Je}},...x)}finally{_e=!0,Z.stop()}}createInstance(s,...x){let Z,_e;return s instanceof br.M?(Z=uo.traceCreation(this._enableTracing,s.ctor),_e=this._createInstance(s.ctor,s.staticArguments.concat(x),Z)):(Z=uo.traceCreation(this._enableTracing,s),_e=this._createInstance(s,x,Z)),Z.stop(),_e}_createInstance(s,x=[],Z){const _e=ct.I8.getServiceDependencies(s).sort((Je,At)=>Je.index-At.index),De=[];for(const Je of _e){const At=this._getOrCreateServiceInstance(Je.id,Z);At||this._throwIfStrict(`[createInstance] ${s.name} depends on UNKNOWN service ${Je.id}.`,!1),De.push(At)}const ze=_e.length>0?_e[0].index:x.length;if(x.length!==ze){console.trace(`[createInstance] First service dependency of ${s.name} at position ${ze+1} conflicts with ${x.length} static arguments`);const Je=ze-x.length;Je>0?x=x.concat(new Array(Je)):x=x.slice(0,ze)}return Reflect.construct(s,x.concat(De))}_setServiceInstance(s,x){if(this._services.get(s)instanceof br.M)this._services.set(s,x);else if(this._parent)this._parent._setServiceInstance(s,x);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(s){const x=this._services.get(s);return!x&&this._parent?this._parent._getServiceInstanceOrDescriptor(s):x}_getOrCreateServiceInstance(s,x){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(s));const Z=this._getServiceInstanceOrDescriptor(s);return Z instanceof br.M?this._safeCreateAndCacheServiceInstance(s,Z,x.branch(s,!0)):(x.branch(s,!1),Z)}_safeCreateAndCacheServiceInstance(s,x,Z){if(this._activeInstantiations.has(s))throw new Error(`illegal state - RECURSIVELY instantiating service '${s}'`);this._activeInstantiations.add(s);try{return this._createAndCacheServiceInstance(s,x,Z)}finally{this._activeInstantiations.delete(s)}}_createAndCacheServiceInstance(s,x,Z){var _e;const De=new Cl(At=>At.id.toString());let ze=0;const Je=[{id:s,desc:x,_trace:Z}];for(;Je.length;){const At=Je.pop();if(De.lookupOrInsertNode(At),ze++>1e3)throw new bl(De);for(const Ut of ct.I8.getServiceDependencies(At.desc.ctor)){const Jt=this._getServiceInstanceOrDescriptor(Ut.id);if(Jt||this._throwIfStrict(`[createInstance] ${s} depends on ${Ut.id} which is NOT registered.`,!0),(_e=this._globalGraph)===null||_e===void 0||_e.insertEdge(String(At.id),String(Ut.id)),Jt instanceof br.M){const Dn={id:Ut.id,desc:Jt,_trace:At._trace.branch(Ut.id,!0)};De.insertEdge(At,Dn),Je.push(Dn)}}}for(;;){const At=De.roots();if(At.length===0){if(!De.isEmpty())throw new bl(De);break}for(const{data:Ut}of At){if(this._getServiceInstanceOrDescriptor(Ut.id)instanceof br.M){const Dn=this._createServiceInstanceWithOwner(Ut.id,Ut.desc.ctor,Ut.desc.staticArguments,Ut.desc.supportsDelayedInstantiation,Ut._trace);this._setServiceInstance(Ut.id,Dn)}De.removeNode(Ut)}}return this._getServiceInstanceOrDescriptor(s)}_createServiceInstanceWithOwner(s,x,Z=[],_e,De){if(this._services.get(s)instanceof br.M)return this._createServiceInstance(s,x,Z,_e,De);if(this._parent)return this._parent._createServiceInstanceWithOwner(s,x,Z,_e,De);throw new Error(`illegalState - creating UNKNOWN service instance ${x.name}`)}_createServiceInstance(s,x,Z=[],_e,De){if(_e){const ze=new _o(void 0,this._strict,this,this._enableTracing);ze._globalGraphImplicitDependency=String(s);const Je=new Map,At=new rs.R5(()=>{const Ut=ze._createInstance(x,Z,De);for(const[Jt,Dn]of Je){const Gn=Ut[Jt];if(typeof Gn=="function")for(const ei of Dn)Gn.apply(Ut,ei)}return Je.clear(),Ut});return new Proxy(Object.create(null),{get(Ut,Jt){if(!At.isInitialized&&typeof Jt=="string"&&(Jt.startsWith("onDid")||Jt.startsWith("onWill"))){let ei=Je.get(Jt);return ei||(ei=new Ce.S,Je.set(Jt,ei)),(vs,ws,to)=>{const Fs=ei.push([vs,ws,to]);return(0,Oe.OF)(Fs)}}if(Jt in Ut)return Ut[Jt];const Dn=At.value;let Gn=Dn[Jt];return typeof Gn!="function"||(Gn=Gn.bind(Dn),Ut[Jt]=Gn),Gn},set(Ut,Jt,Dn){return At.value[Jt]=Dn,!0},getPrototypeOf(Ut){return x.prototype}})}else return this._createInstance(x,Z,De)}_throwIfStrict(s,x){if(x&&console.warn(s),this._strict)throw new Error(s)}}class uo{static traceInvocation(s,x){return s?new uo(2,x.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):uo._None}static traceCreation(s,x){return s?new uo(1,x.name):uo._None}constructor(s,x){this.type=s,this.name=x,this._start=Date.now(),this._dep=[]}branch(s,x){const Z=new uo(3,s.toString());return this._dep.push([s,x,Z]),Z}stop(){const s=Date.now()-this._start;uo._totals+=s;let x=!1;function Z(De,ze){const Je=[],At=new Array(De+1).join("	");for(const[Ut,Jt,Dn]of ze._dep)if(Jt&&Dn){x=!0,Je.push(`${At}CREATES -> ${Ut}`);const Gn=Z(De+1,Dn);Gn&&Je.push(Gn)}else Je.push(`${At}uses -> ${Ut}`);return Je.join(`
`)}const _e=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${Z(1,this)}`,`DONE, took ${s.toFixed(2)}ms (grand total ${uo._totals.toFixed(2)}ms)`];(s>2||x)&&uo.all.add(_e.join(`
`))}}uo.all=new Set,uo._None=new class extends uo{constructor(){super(0,null)}stop(){}branch(){return this}},uo._totals=0;const ql=new Set([de.lg.inMemory,de.lg.vscodeSourceControl,de.lg.walkThrough,de.lg.walkThroughSnippet]);class ec{constructor(){this._byResource=new An.Y9,this._byOwner=new Map}set(s,x,Z){let _e=this._byResource.get(s);_e||(_e=new Map,this._byResource.set(s,_e)),_e.set(x,Z);let De=this._byOwner.get(x);De||(De=new An.Y9,this._byOwner.set(x,De)),De.set(s,Z)}get(s,x){const Z=this._byResource.get(s);return Z==null?void 0:Z.get(x)}delete(s,x){let Z=!1,_e=!1;const De=this._byResource.get(s);De&&(Z=De.delete(x));const ze=this._byOwner.get(x);if(ze&&(_e=ze.delete(s)),Z!==_e)throw new Error("illegal state");return Z&&_e}values(s){var x,Z,_e,De;return typeof s=="string"?(Z=(x=this._byOwner.get(s))===null||x===void 0?void 0:x.values())!==null&&Z!==void 0?Z:Br.$.empty():it.o.isUri(s)?(De=(_e=this._byResource.get(s))===null||_e===void 0?void 0:_e.values())!==null&&De!==void 0?De:Br.$.empty():Br.$.map(Br.$.concat(...this._byOwner.values()),ze=>ze[1])}}class Rl{constructor(s){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new An.Y9,this._service=s,this._subscription=s.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(s){for(const x of s){const Z=this._data.get(x);Z&&this._substract(Z);const _e=this._resourceStats(x);this._add(_e),this._data.set(x,_e)}}_resourceStats(s){const x={errors:0,warnings:0,infos:0,unknowns:0};if(ql.has(s.scheme))return x;for(const{severity:Z}of this._service.read({resource:s}))Z===so.ZL.Error?x.errors+=1:Z===so.ZL.Warning?x.warnings+=1:Z===so.ZL.Info?x.infos+=1:x.unknowns+=1;return x}_substract(s){this.errors-=s.errors,this.warnings-=s.warnings,this.infos-=s.infos,this.unknowns-=s.unknowns}_add(s){this.errors+=s.errors,this.warnings+=s.warnings,this.infos+=s.infos,this.unknowns+=s.unknowns}}class xo{constructor(){this._onMarkerChanged=new oe.D0({delay:0,merge:xo._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new ec,this._stats=new Rl(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(s,x){for(const Z of x||[])this.changeOne(s,Z,[])}changeOne(s,x,Z){if((0,Nt.XY)(Z))this._data.delete(x,s)&&this._onMarkerChanged.fire([x]);else{const _e=[];for(const De of Z){const ze=xo._toMarker(s,x,De);ze&&_e.push(ze)}this._data.set(x,s,_e),this._onMarkerChanged.fire([x])}}static _toMarker(s,x,Z){let{code:_e,severity:De,message:ze,source:Je,startLineNumber:At,startColumn:Ut,endLineNumber:Jt,endColumn:Dn,relatedInformation:Gn,tags:ei}=Z;if(ze)return At=At>0?At:1,Ut=Ut>0?Ut:1,Jt=Jt>=At?Jt:At,Dn=Dn>0?Dn:Ut,{resource:x,owner:s,code:_e,severity:De,message:ze,source:Je,startLineNumber:At,startColumn:Ut,endLineNumber:Jt,endColumn:Dn,relatedInformation:Gn,tags:ei}}changeAll(s,x){const Z=[],_e=this._data.values(s);if(_e)for(const De of _e){const ze=Br.$.first(De);ze&&(Z.push(ze.resource),this._data.delete(ze.resource,s))}if((0,Nt.Of)(x)){const De=new An.Y9;for(const{resource:ze,marker:Je}of x){const At=xo._toMarker(s,ze,Je);if(!At)continue;const Ut=De.get(ze);Ut?Ut.push(At):(De.set(ze,[At]),Z.push(ze))}for(const[ze,Je]of De)this._data.set(ze,s,Je)}Z.length>0&&this._onMarkerChanged.fire(Z)}read(s=Object.create(null)){let{owner:x,resource:Z,severities:_e,take:De}=s;if((!De||De<0)&&(De=-1),x&&Z){const ze=this._data.get(Z,x);if(ze){const Je=[];for(const At of ze)if(xo._accept(At,_e)){const Ut=Je.push(At);if(De>0&&Ut===De)break}return Je}else return[]}else if(!x&&!Z){const ze=[];for(const Je of this._data.values())for(const At of Je)if(xo._accept(At,_e)){const Ut=ze.push(At);if(De>0&&Ut===De)return ze}return ze}else{const ze=this._data.values(Z!=null?Z:x),Je=[];for(const At of ze)for(const Ut of At)if(xo._accept(Ut,_e)){const Jt=Je.push(Ut);if(De>0&&Jt===De)return Je}return Je}}static _accept(s,x){return x===void 0||(x&s.severity)===s.severity}static _merge(s){const x=new An.Y9;for(const Z of s)for(const _e of Z)x.set(_e,!0);return Array.from(x.keys())}}class tc extends Oe.JT{constructor(){super(...arguments),this._configurationModel=new Kn}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Kn;const s=hi.B.as(ui.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(s),s)}updateConfigurationModel(s,x){const Z=this.getConfigurationDefaultOverrides();for(const _e of s){const De=Z[_e],ze=x[_e];De!==void 0?this._configurationModel.addValue(_e,De):ze?this._configurationModel.addValue(_e,ze.default):this._configurationModel.removeValue(_e)}}}var yl=e(69149);class Ol extends Oe.JT{constructor(s,x=[]){super(),this.logger=new En.qA([s,...x]),this._register(s.onDidChangeLogLevel(Z=>this.setLevel(Z)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(s){this.logger.setLevel(s)}getLevel(){return this.logger.getLevel()}trace(s,...x){this.logger.trace(s,...x)}debug(s,...x){this.logger.debug(s,...x)}info(s,...x){this.logger.info(s,...x)}warn(s,...x){this.logger.warn(s,...x)}error(s,...x){this.logger.error(s,...x)}}var Al=e(10637),nc=e(48814),io=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Ys=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};class fc{constructor(s){this.disposed=!1,this.model=s,this._onWillDispose=new oe.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let kl=class{constructor(s){this.modelService=s}createModelReference(s){const x=this.modelService.getModel(s);return x?Promise.resolve(new Oe.Jz(new fc(x))):Promise.reject(new Error("Model not found"))}};kl=io([Ys(0,bn.q)],kl);class Sl{show(){return Sl.NULL_PROGRESS_RUNNER}showWhile(s,x){return tn(this,null,function*(){yield s})}}Sl.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class gc{withProgress(s,x,Z){return x({report:()=>{}})}}class mc{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class pc{confirm(s){return tn(this,null,function*(){return{confirmed:this.doConfirm(s.message,s.detail),checkboxChecked:!1}})}doConfirm(s,x){let Z=s;return x&&(Z=Z+`

`+x),je.Ex.confirm(Z)}prompt(s){return tn(this,null,function*(){var x,Z;let _e;if(this.doConfirm(s.message,s.detail)){const ze=[...(x=s.buttons)!==null&&x!==void 0?x:[]];s.cancelButton&&typeof s.cancelButton!="string"&&typeof s.cancelButton!="boolean"&&ze.push(s.cancelButton),_e=yield(Z=ze[0])===null||Z===void 0?void 0:Z.run({checkboxChecked:!1})}return{result:_e}})}error(s,x){return tn(this,null,function*(){yield this.prompt({type:Mn.Z.Error,message:s,detail:x})})}}class il{info(s){return this.notify({severity:Mn.Z.Info,message:s})}warn(s){return this.notify({severity:Mn.Z.Warning,message:s})}error(s){return this.notify({severity:Mn.Z.Error,message:s})}notify(s){switch(s.severity){case Mn.Z.Error:console.error(s.message);break;case Mn.Z.Warning:console.warn(s.message);break;default:console.log(s.message);break}return il.NO_OP}prompt(s,x,Z,_e){return il.NO_OP}status(s,x){return Oe.JT.None}}il.NO_OP=new gi.EO;let Fl=class{constructor(s){this._onWillExecuteCommand=new oe.Q5,this._onDidExecuteCommand=new oe.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=s}executeCommand(s,...x){const Z=an.P.getCommand(s);if(!Z)return Promise.reject(new Error(`command '${s}' not found`));try{this._onWillExecuteCommand.fire({commandId:s,args:x});const _e=this._instantiationService.invokeFunction.apply(this._instantiationService,[Z.handler,...x]);return this._onDidExecuteCommand.fire({commandId:s,args:x}),Promise.resolve(_e)}catch(_e){return Promise.reject(_e)}}};Fl=io([Ys(0,ct.TG)],Fl);let Ra=class extends ar{constructor(s,x,Z,_e,De,ze){super(s,x,Z,_e,De),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Je=ei=>{const es=new Oe.SL;es.add(ee.nm(ei,ee.tw.KEY_DOWN,vs=>{const ws=new dt.y(vs);this._dispatch(ws,ws.target)&&(ws.preventDefault(),ws.stopPropagation())})),es.add(ee.nm(ei,ee.tw.KEY_UP,vs=>{const ws=new dt.y(vs);this._singleModifierDispatch(ws,ws.target)&&ws.preventDefault()})),this._domNodeListeners.push(new vc(ei,es))},At=ei=>{for(let es=0;es<this._domNodeListeners.length;es++){const vs=this._domNodeListeners[es];vs.domNode===ei&&(this._domNodeListeners.splice(es,1),vs.dispose())}},Ut=ei=>{ei.getOption(61)||Je(ei.getContainerDomNode())},Jt=ei=>{ei.getOption(61)||At(ei.getContainerDomNode())};this._register(ze.onCodeEditorAdd(Ut)),this._register(ze.onCodeEditorRemove(Jt)),ze.listCodeEditors().forEach(Ut);const Dn=ei=>{Je(ei.getContainerDomNode())},Gn=ei=>{At(ei.getContainerDomNode())};this._register(ze.onDiffEditorAdd(Dn)),this._register(ze.onDiffEditorRemove(Gn)),ze.listDiffEditors().forEach(Dn)}addDynamicKeybinding(s,x,Z,_e){return(0,Oe.F8)(an.P.registerCommand(s,Z),this.addDynamicKeybindings([{keybinding:x,command:s,when:_e}]))}addDynamicKeybindings(s){const x=s.map(Z=>{var _e;return{keybinding:(0,bt.Z9)(Z.keybinding,lt.OS),command:(_e=Z.command)!==null&&_e!==void 0?_e:null,commandArgs:Z.commandArgs,when:Z.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(x),this.updateResolver(),(0,Oe.OF)(()=>{for(let Z=0;Z<this._dynamicKeybindings.length;Z++)if(this._dynamicKeybindings[Z]===x[0]){this._dynamicKeybindings.splice(Z,x.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const s=this._toNormalizedKeybindingItems(Vo.W.getDefaultKeybindings(),!0),x=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new is(s,x,Z=>this._log(Z))}return this._cachedResolver}_documentHasFocus(){return je.Ex.document.hasFocus()}_toNormalizedKeybindingItems(s,x){const Z=[];let _e=0;for(const De of s){const ze=De.when||void 0,Je=De.keybinding;if(!Je)Z[_e++]=new ca(void 0,De.command,De.commandArgs,ze,x,null,!1);else{const At=lr.resolveKeybinding(Je,lt.OS);for(const Ut of At)Z[_e++]=new ca(Ut,De.command,De.commandArgs,ze,x,null,!1)}}return Z}resolveKeyboardEvent(s){const x=new bt.$M(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,s.keyCode);return new lr([x],lt.OS)}};Ra=io([Ys(0,ht.i6),Ys(1,an.H),Ys(2,Xo.b),Ys(3,gi.lT),Ys(4,En.VZ),Ys(5,pt.$)],Ra);class vc extends Oe.JT{constructor(s,x){super(),this.domNode=s,this._register(x)}}function Ie(Xe){return Xe&&typeof Xe=="object"&&(!Xe.overrideIdentifier||typeof Xe.overrideIdentifier=="string")&&(!Xe.resource||Xe.resource instanceof it.o)}class Ge{constructor(){this._onDidChangeConfiguration=new oe.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const s=new tc;this._configuration=new qi(s.reload(),new Kn,new Kn,new Kn),s.dispose()}getValue(s,x){const Z=typeof s=="string"?s:void 0,_e=Ie(s)?s:Ie(x)?x:{};return this._configuration.getValue(Z,_e,void 0)}updateValues(s){const x={data:this._configuration.toData()},Z=[];for(const _e of s){const[De,ze]=_e;this.getValue(De)!==ze&&(this._configuration.updateValue(De,ze),Z.push(De))}if(Z.length>0){const _e=new Es({keys:Z,overrides:[]},x,this._configuration);_e.source=8,_e.sourceConfig=null,this._onDidChangeConfiguration.fire(_e)}return Promise.resolve()}updateValue(s,x,Z,_e){return this.updateValues([[s,x]])}inspect(s,x={}){return this._configuration.inspect(s,x,void 0)}}let ut=class{constructor(s,x,Z){this.configurationService=s,this.modelService=x,this.languageService=Z,this._onDidChangeConfiguration=new oe.Q5,this.configurationService.onDidChangeConfiguration(_e=>{this._onDidChangeConfiguration.fire({affectedKeys:_e.affectedKeys,affectsConfiguration:(De,ze)=>_e.affectsConfiguration(ze)})})}getValue(s,x,Z){const _e=at.L.isIPosition(x)?x:null,De=_e?typeof Z=="string"?Z:void 0:typeof x=="string"?x:void 0,ze=s?this.getLanguage(s,_e):void 0;return typeof De=="undefined"?this.configurationService.getValue({resource:s,overrideIdentifier:ze}):this.configurationService.getValue(De,{resource:s,overrideIdentifier:ze})}getLanguage(s,x){const Z=this.modelService.getModel(s);return Z?x?Z.getLanguageIdAtPosition(x.lineNumber,x.column):Z.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(s)}};ut=io([Ys(0,on.Ui),Ys(1,bn.q),Ys(2,Lt.O)],ut);let mt=class{constructor(s){this.configurationService=s}getEOL(s,x){const Z=this.configurationService.getValue("files.eol",{overrideIdentifier:x,resource:s});return Z&&typeof Z=="string"&&Z!=="auto"?Z:lt.IJ||lt.dz?`
`:`\r
`}};mt=io([Ys(0,on.Ui)],mt);class jt{publicLog2(){}}class pn{constructor(){const s=it.o.from({scheme:pn.SCHEME,authority:"model",path:"/"});this.workspace={id:To.p$,folders:[new To.md({uri:s,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(s){return s&&s.scheme===pn.SCHEME?this.workspace.folders[0]:null}}pn.SCHEME="inmemory";function Fn(Xe,s,x){if(!s||!(Xe instanceof Ge))return;const Z=[];Object.keys(s).forEach(_e=>{(0,fe.ei)(_e)&&Z.push([`editor.${_e}`,s[_e]]),x&&(0,fe.Pe)(_e)&&Z.push([`diffEditor.${_e}`,s[_e]])}),Z.length>0&&Xe.updateValues(Z)}let qn=class{constructor(s){this._modelService=s}hasPreviewHandler(){return!1}apply(s,x){return tn(this,null,function*(){const Z=Array.isArray(s)?s:Q.fo.convert(s),_e=new Map;for(const Je of Z){if(!(Je instanceof Q.Gl))throw new Error("bad edit - only text edits are supported");const At=this._modelService.getModel(Je.resource);if(!At)throw new Error("bad edit - model not found");if(typeof Je.versionId=="number"&&At.getVersionId()!==Je.versionId)throw new Error("bad state - model changed in the meantime");let Ut=_e.get(At);Ut||(Ut=[],_e.set(At,Ut)),Ut.push(We.h.replaceMove(Ct.e.lift(Je.textEdit.range),Je.textEdit.text))}let De=0,ze=0;for(const[Je,At]of _e)Je.pushStackElement(),Je.pushEditOperations([],At,()=>[]),Je.pushStackElement(),ze+=1,De+=At.length;return{ariaSummary:Ze.WU(go.iN.bulkEditServiceSummary,De,ze),isApplied:De>0}})}};qn=io([Ys(0,bn.q)],qn);class Zn{getUriLabel(s,x){return s.scheme==="file"?s.fsPath:s.path}getUriBasenameLabel(s){return(0,wo.EZ)(s)}}let li=class extends Jo{constructor(s,x){super(s),this._codeEditorService=x}showContextView(s,x,Z){if(!x){const _e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();_e&&(x=_e.getContainerDomNode())}return super.showContextView(s,x,Z)}};li=io([Ys(0,Pt),Ys(1,pt.$)],li);class $n{constructor(){this._neverEmitter=new oe.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class vi extends Rs{constructor(){super()}}class yi extends Ol{constructor(){super(new En.kw)}}let ki=class extends ma{constructor(s,x,Z,_e,De,ze){super(s,x,Z,_e,De,ze),this.configure({blockMouse:!1})}};ki=io([Ys(0,Xo.b),Ys(1,gi.lT),Ys(2,Io.u),Ys(3,ks.d),Ys(4,xs.co),Ys(5,ht.i6)],ki);class zi{playAudioCue(s,x){return tn(this,null,function*(){})}}class Ti{notify(s,x){}}(0,$t.z)(on.Ui,Ge,0),(0,$t.z)(Vt.V,ut,0),(0,$t.z)(Vt.y,mt,0),(0,$t.z)(To.ec,pn,0),(0,$t.z)(Vr.e,Zn,0),(0,$t.z)(Xo.b,jt,0),(0,$t.z)(ni.S,pc,0),(0,$t.z)(nc.Y,mc,0),(0,$t.z)(gi.lT,il,0),(0,$t.z)(so.lT,xo,0),(0,$t.z)(Lt.O,vi,0),(0,$t.z)(No.Z,zl.nI,0),(0,$t.z)(En.VZ,yi,0),(0,$t.z)(bn.q,ea,0),(0,$t.z)(pr.i,Jr,0),(0,$t.z)(ht.i6,_l,0),(0,$t.z)(Gs.R9,gc,0),(0,$t.z)(Gs.ek,Sl,0),(0,$t.z)(Qa.Uy,Qa.vm,0),(0,$t.z)(_a.p,qt.eu,0),(0,$t.z)(Q.vu,qn,0),(0,$t.z)(yr.Y,$n,0),(0,$t.z)(Rt.S,kl,0),(0,$t.z)(Na.F7,ml,0),(0,$t.z)(na.Lw,na.XN,0),(0,$t.z)(an.H,Fl,0),(0,$t.z)(ks.d,Ra,0),(0,$t.z)(Ws.eJ,Ga,0),(0,$t.z)(Io.u,li,0),(0,$t.z)(va.v,mr,0),(0,$t.z)(Ta.p,el,0),(0,$t.z)(Io.i,ki,0),(0,$t.z)(xs.co,pl,0),(0,$t.z)(yl.e7,zi,0),(0,$t.z)(Na.VX,Ti,0);var ii;(function(Xe){const s=new nl.y;for(const[At,Ut]of(0,$t.d)())s.set(At,Ut);const x=new _o(s,!0);s.set(ct.TG,x);function Z(At){_e||ze({});const Ut=s.get(At);if(!Ut)throw new Error("Missing service "+At);return Ut instanceof br.M?x.invokeFunction(Jt=>Jt.get(At)):Ut}Xe.get=Z;let _e=!1;const De=new oe.Q5;function ze(At){if(_e)return x;_e=!0;for(const[Jt,Dn]of(0,$t.d)())s.get(Jt)||s.set(Jt,Dn);for(const Jt in At)if(At.hasOwnProperty(Jt)){const Dn=(0,ct.yh)(Jt);s.get(Dn)instanceof br.M&&s.set(Dn,At[Jt])}const Ut=(0,Al.n)();for(const Jt of Ut)try{x.createInstance(Jt)}catch(Dn){(0,hn.dL)(Dn)}return De.fire(),x}Xe.initialize=ze;function Je(At){if(_e)return At();const Ut=new Oe.SL,Jt=Ut.add(De.event(()=>{Jt.dispose(),Ut.add(At())}));return Ut}Xe.withServices=Je})(ii||(ii={}));var Ui=e(20591),Pi=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Oi=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let ss=0,ps=!1;function ds(Xe){if(!Xe){if(ps)return;ps=!0}fn.wW(Xe||je.Ex.document.body)}let os=class extends Ht.Gm{constructor(s,x,Z,_e,De,ze,Je,At,Ut,Jt,Dn,Gn){const ei=Xn({},x);ei.ariaLabel=ei.ariaLabel||go.B8.editorViewAccessibleLabel,ei.ariaLabel=ei.ariaLabel+";"+go.B8.accessibilityHelpMessage,super(s,ei,{},Z,_e,De,ze,At,Ut,Jt,Dn,Gn),Je instanceof Ra?this._standaloneKeybindingService=Je:this._standaloneKeybindingService=null,ds(ei.ariaContainerElement)}addCommand(s,x,Z){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const _e="DYNAMIC_"+ ++ss,De=ht.Ao.deserialize(Z);return this._standaloneKeybindingService.addDynamicKeybinding(_e,s,x,De),_e}createContextKey(s,x){return this._contextKeyService.createKey(s,x)}addAction(s){if(typeof s.id!="string"||typeof s.label!="string"||typeof s.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Oe.JT.None;const x=s.id,Z=s.label,_e=ht.Ao.and(ht.Ao.equals("editorId",this.getId()),ht.Ao.deserialize(s.precondition)),De=s.keybindings,ze=ht.Ao.and(_e,ht.Ao.deserialize(s.keybindingContext)),Je=s.contextMenuGroupId||null,At=s.contextMenuOrder||0,Ut=(ei,...es)=>Promise.resolve(s.run(this,...es)),Jt=new Oe.SL,Dn=this.getId()+":"+x;if(Jt.add(an.P.registerCommand(Dn,Ut)),Je){const ei={command:{id:Dn,title:Z},when:_e,group:Je,order:At};Jt.add(xs.BH.appendMenuItem(xs.eH.EditorContext,ei))}if(Array.isArray(De))for(const ei of De)Jt.add(this._standaloneKeybindingService.addDynamicKeybinding(Dn,ei,Ut,ze));const Gn=new et.p(Dn,Z,Z,void 0,_e,(...ei)=>Promise.resolve(s.run(this,...ei)),this._contextKeyService);return this._actions.set(x,Gn),Jt.add((0,Oe.OF)(()=>{this._actions.delete(x)})),Jt}_triggerCommand(s,x){if(this._codeEditorService instanceof ln)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(s,x)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(s,x)}};os=Pi([Oi(2,ct.TG),Oi(3,pt.$),Oi(4,an.H),Oi(5,ht.i6),Oi(6,ks.d),Oi(7,Ee.XE),Oi(8,gi.lT),Oi(9,Na.F7),Oi(10,Be.c_),Oi(11,Qe.p)],os);let $s=class extends os{constructor(s,x,Z,_e,De,ze,Je,At,Ut,Jt,Dn,Gn,ei,es,vs){const ws=Xn({},x);Fn(Jt,ws,!1);const to=At.registerEditorContainer(s);typeof ws.theme=="string"&&At.setTheme(ws.theme),typeof ws.autoDetectHighContrast!="undefined"&&At.setAutoDetectHighContrast(!!ws.autoDetectHighContrast);const Fs=ws.model;delete ws.model,super(s,ws,Z,_e,De,ze,Je,At,Ut,Dn,es,vs),this._configurationService=Jt,this._standaloneThemeService=At,this._register(to);let Bs;if(typeof Fs=="undefined"){const gs=ei.getLanguageIdByMimeType(ws.language)||ws.language||yt.bd;Bs=ho(Gn,ei,ws.value||"",gs,void 0),this._ownsModel=!0}else Bs=Fs,this._ownsModel=!1;if(this._attachModel(Bs),Bs){const gs={oldModelUrl:null,newModelUrl:Bs.uri};this._onDidChangeModel.fire(gs)}}dispose(){super.dispose()}updateOptions(s){Fn(this._configurationService,s,!1),typeof s.theme=="string"&&this._standaloneThemeService.setTheme(s.theme),typeof s.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!s.autoDetectHighContrast),super.updateOptions(s)}_postDetachModelCleanup(s){super._postDetachModelCleanup(s),s&&this._ownsModel&&(s.dispose(),this._ownsModel=!1)}};$s=Pi([Oi(2,ct.TG),Oi(3,pt.$),Oi(4,an.H),Oi(5,ht.i6),Oi(6,ks.d),Oi(7,No.Z),Oi(8,gi.lT),Oi(9,on.Ui),Oi(10,Na.F7),Oi(11,bn.q),Oi(12,Lt.O),Oi(13,Be.c_),Oi(14,Qe.p)],$s);let Vs=class extends Ui.p{constructor(s,x,Z,_e,De,ze,Je,At,Ut,Jt,Dn,Gn){const ei=Xn({},x);Fn(At,ei,!0);const es=ze.registerEditorContainer(s);typeof ei.theme=="string"&&ze.setTheme(ei.theme),typeof ei.autoDetectHighContrast!="undefined"&&ze.setAutoDetectHighContrast(!!ei.autoDetectHighContrast),super(s,ei,{},_e,Z,De,Gn,Jt),this._configurationService=At,this._standaloneThemeService=ze,this._register(es)}dispose(){super.dispose()}updateOptions(s){Fn(this._configurationService,s,!0),typeof s.theme=="string"&&this._standaloneThemeService.setTheme(s.theme),typeof s.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!s.autoDetectHighContrast),super.updateOptions(s)}_createInnerEditor(s,x,Z){return s.createInstance(os,x,Z)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(s,x,Z){return this.getModifiedEditor().addCommand(s,x,Z)}createContextKey(s,x){return this.getModifiedEditor().createContextKey(s,x)}addAction(s){return this.getModifiedEditor().addAction(s)}};Vs=Pi([Oi(2,ct.TG),Oi(3,ht.i6),Oi(4,pt.$),Oi(5,No.Z),Oi(6,gi.lT),Oi(7,on.Ui),Oi(8,Io.i),Oi(9,Gs.ek),Oi(10,Ta.p),Oi(11,yl.e7)],Vs);function ho(Xe,s,x,Z,_e){if(x=x||"",!Z){const De=x.indexOf(`
`);let ze=x;return De!==-1&&(ze=x.substring(0,De)),eo(Xe,x,s.createByFilepathOrFirstLine(_e||null,ze),_e)}return eo(Xe,x,s.createById(Z),_e)}function eo(Xe,s,x,Z){return Xe.createModel(s,x,Z)}var ms=e(99692),Qs=e(31651),oo=e(35534),Xs=e(96512),or=e(76633),Fo=e(19247),Oa=e(98190);class Bo extends Os.Wi{constructor(s){super(),this._getContext=s}runAction(s,x){return super.runAction(s,this._getContext())}}var Wr=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},Wo=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};class rr{constructor(s){this.viewModel=s}getId(){return this.viewModel}}let sl=class extends Oe.JT{constructor(s,x,Z,_e){super(),this._container=s,this._overflowWidgetsDomNode=x,this._workbenchUIElementFactory=Z,this._instantiationService=_e,this._viewModel=(0,Xs.uh)(this,void 0),this._collapsed=(0,ms.nK)(this,ze=>{var Je;return(Je=this._viewModel.read(ze))===null||Je===void 0?void 0:Je.collapsed.read(ze)}),this._contentHeight=(0,Xs.uh)(this,500),this.height=(0,ms.nK)(this,ze=>(this._collapsed.read(ze)?0:this._contentHeight.read(ze))+this._outerEditorHeight),this._modifiedContentWidth=(0,Xs.uh)(this,0),this._modifiedWidth=(0,Xs.uh)(this,0),this._originalContentWidth=(0,Xs.uh)(this,0),this._originalWidth=(0,Xs.uh)(this,0),this.maxScroll=(0,ms.nK)(this,ze=>{const Je=this._modifiedContentWidth.read(ze)-this._modifiedWidth.read(ze),At=this._originalContentWidth.read(ze)-this._originalWidth.read(ze);return Je>At?{maxScroll:Je,width:this._modifiedWidth.read(ze)}:{maxScroll:At,width:this._originalWidth.read(ze)}}),this._elements=(0,ee.h)("div.multiDiffEntry",[(0,ee.h)("div.content",{style:{display:"flex",flexDirection:"column",flex:"1",overflow:"hidden"}},[(0,ee.h)("div.header@header",[(0,ee.h)("div.collapse-button@collapseButton"),(0,ee.h)("div.title.show-file-icons@title",[]),(0,ee.h)("div.actions@actions")]),(0,ee.h)("div.editorParent",{style:{flex:"1",display:"flex",flexDirection:"column"}},[(0,ee.h)("div.editorContainer@editor",{style:{flex:"1"}})])])]),this.editor=this._register(this._instantiationService.createInstance(Ui.p,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=Bl(this.editor.getModifiedEditor()),this.isOriginalFocused=Bl(this.editor.getOriginalEditor()),this.isFocused=(0,ms.nK)(this,ze=>this.isModifedFocused.read(ze)||this.isOriginalFocused.read(ze)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.title)):void 0,this._dataStore=new Oe.SL,this._headerHeight=this._elements.header.clientHeight;const De=new Rr.z(this._elements.collapseButton,{});this._register((0,ms.EH)(ze=>{De.element.className="",De.icon=this._collapsed.read(ze)?So.l.chevronRight:So.l.chevronDown})),this._register(De.onDidClick(()=>{var ze;(ze=this._viewModel.get())===null||ze===void 0||ze.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,ms.EH)(ze=>{this._elements.editor.style.display=this._collapsed.read(ze)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange(ze=>{const Je=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(Je,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange(ze=>{const Je=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(Je,void 0)}),this._register(this.editor.onDidContentSizeChange(ze=>{(0,Xs.Bl)(Je=>{this._contentHeight.set(ze.contentHeight,Je),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),Je),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),Je)})})),this._register((0,ms.EH)(ze=>{const Je=this.isFocused.read(ze);this._elements.root.classList.toggle("focused",Je)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(Oa.r,this._elements.actions,xs.eH.MultiDiffEditorFileToolbar,{actionRunner:this._register(new Bo(()=>{var ze,Je;return(Je=(ze=this._viewModel.get())===null||ze===void 0?void 0:ze.diffEditorViewModel)===null||Je===void 0?void 0:Je.model.modified.uri})),menuOptions:{shouldForwardArgs:!0}}))}setScrollLeft(s){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(s):this.editor.getOriginalEditor().setScrollLeft(s)}setData(s){function x(_e){return Ni(Xn({},_e),{scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0})}const Z=s.viewModel.entry.value;Z.onOptionsDidChange&&this._dataStore.add(Z.onOptionsDidChange(()=>{var _e;this.editor.updateOptions(x((_e=Z.options)!==null&&_e!==void 0?_e:{}))})),(0,Xs.Bl)(_e=>{var De,ze;(De=this._resourceLabel)===null||De===void 0||De.setUri(s.viewModel.diffEditorViewModel.model.modified.uri),this._dataStore.clear(),this._viewModel.set(s.viewModel,_e),this.editor.setModel(s.viewModel.diffEditorViewModel,_e),this.editor.updateOptions(x((ze=Z.options)!==null&&ze!==void 0?ze:{}))})}render(s,x,Z,_e){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${s.start}px`,this._elements.root.style.height=`${s.length}px`,this._elements.root.style.width=`${x}px`,this._elements.root.style.position="absolute";const De=Math.max(0,Math.min(s.length-this._headerHeight,_e.start-s.start));this._elements.header.style.transform=`translateY(${De}px)`,(0,Xs.Bl)(ze=>{this.editor.layout({width:x,height:s.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(Z),this._elements.header.classList.toggle("shadow",De>0||Z>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};sl=Wr([Wo(3,ct.TG)],sl);function Bl(Xe){return(0,ms.rD)(s=>{const x=new Oe.SL;return x.add(Xe.onDidFocusEditorWidget(()=>s(!0))),x.add(Xe.onDidBlurEditorWidget(()=>s(!1))),x},()=>Xe.hasWidgetFocus())}class ic{constructor(s){this._create=s,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(s){var x;let Z;if(this._unused.size===0)Z=this._create(s),this._itemData.set(Z,s);else{const _e=[...this._unused.values()];Z=(x=_e.find(De=>this._itemData.get(De).getId()===s.getId()))!==null&&x!==void 0?x:_e[0],this._unused.delete(Z),this._itemData.set(Z,s),Z.setData(s)}return this._used.add(Z),{object:Z,dispose:()=>{this._used.delete(Z),this._unused.size>5?Z.dispose():this._unused.add(Z)}}}dispose(){for(const s of this._used)s.dispose();for(const s of this._unused)s.dispose();this._used.clear(),this._unused.clear()}}var ol=e(29102),rl=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},al=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let wl=class extends Oe.JT{constructor(s,x,Z,_e,De,ze){super(),this._element=s,this._dimension=x,this._viewModel=Z,this._workbenchUIElementFactory=_e,this._parentContextKeyService=De,this._parentInstantiationService=ze,this._elements=(0,ee.h)("div",{style:{overflowY:"hidden"}},[(0,ee.h)("div@content",{style:{overflow:"hidden"}}),(0,ee.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new Qs.DU(this._element,void 0)),this._objectPool=this._register(new ic(At=>{const Ut=this._instantiationService.createInstance(sl,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return Ut.setData(At),Ut})),this._scrollable=this._register(new or.Rm({forceIntegerValues:!1,scheduleAtNextAnimationFrame:At=>(0,ee.jL)((0,ee.Jj)(this._element),At),smoothScrollDuration:100})),this._scrollableElement=this._register(new Er.$Z(this._elements.root,{vertical:1,horizontal:1,className:"monaco-component",useShadows:!1},this._scrollable)),this.scrollTop=(0,ms.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,ms.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=(0,ms.Be)(this,(At,Ut)=>{const Jt=this._viewModel.read(At);return Jt?Jt.items.read(At).map(Gn=>Ut.add(new sc(Gn,this._objectPool,this.scrollLeft))):[]}),this._totalHeight=this._viewItems.map(this,(At,Ut)=>At.reduce((Jt,Dn)=>Jt+Dn.contentHeight.read(Ut),0)),this.activeDiffItem=(0,ms.nK)(this,At=>this._viewItems.read(At).find(Ut=>{var Jt;return(Jt=Ut.template.read(At))===null||Jt===void 0?void 0:Jt.isFocused.read(At)})),this.lastActiveDiffItem=(0,ms.bx)((At,Ut)=>{var Jt;return(Jt=this.activeDiffItem.read(At))!==null&&Jt!==void 0?Jt:Ut}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new nl.y([ht.i6,this._contextKeyService])),this._contextKeyService.createKey(ol.u.inMultiDiffEditor.key,!0);const Je=this._parentContextKeyService.createKey(ol.u.multiDiffEditorAllCollapsed.key,!1);this._register((0,ms.EH)(At=>{const Ut=this._viewModel.read(At);if(Ut){const Jt=Ut.items.read(At).every(Dn=>Dn.collapsed.read(At));Je.set(Jt)}})),this._register((0,ms.EH)(At=>{const Ut=this.lastActiveDiffItem.read(At);(0,Xs.PS)(Jt=>{var Dn;(Dn=this._viewModel.read(At))===null||Dn===void 0||Dn.activeDiffItem.set(Ut==null?void 0:Ut.viewModel,Jt)})})),this._register((0,ms.EH)(At=>{const Ut=this._dimension.read(At);this._sizeObserver.observe(Ut)})),this._elements.content.style.position="relative",this._register((0,ms.EH)(At=>{const Ut=this._sizeObserver.height.read(At);this._elements.root.style.height=`${Ut}px`;const Jt=this._totalHeight.read(At);this._elements.content.style.height=`${Jt}px`;const Dn=this._sizeObserver.width.read(At);let Gn=Dn;const ei=this._viewItems.read(At),es=(0,oo.dI)(ei,vs=>vs.maxScroll.read(At).maxScroll);if(es){const vs=es.maxScroll.read(At);Gn=Dn+vs.maxScroll}this._scrollableElement.setScrollDimensions({width:Dn,height:Ut,scrollHeight:Jt,scrollWidth:Gn})})),s.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,Oe.OF)(()=>{s.replaceChildren()})),this._register(this._register((0,ms.EH)(At=>{(0,Xs.Bl)(Ut=>{this.render(At)})})))}render(s){const x=this.scrollTop.read(s);let Z=0,_e=0,De=0;const ze=this._sizeObserver.height.read(s),Je=Fo.q.ofStartAndLength(x,ze),At=this._sizeObserver.width.read(s);for(const Ut of this._viewItems.read(s)){const Jt=Ut.contentHeight.read(s),Dn=Math.min(Jt,ze),Gn=Fo.q.ofStartAndLength(_e,Dn),ei=Fo.q.ofStartAndLength(De,Jt);if(ei.isBefore(Je))Z-=Jt-Dn,Ut.hide();else if(ei.isAfter(Je))Ut.hide();else{const es=Math.max(0,Math.min(Je.start-ei.start,Jt-Dn));Z-=es;const vs=Fo.q.ofStartAndLength(x+Z,ze);Ut.render(Gn,es,At,vs)}_e+=Dn,De+=Jt}this._elements.content.style.transform=`translateY(${-(x+Z)}px)`}};wl=rl([al(4,ht.i6),al(5,ct.TG)],wl);class sc extends Oe.JT{constructor(s,x,Z){super(),this.viewModel=s,this._objectPool=x,this._scrollLeft=Z,this._lastTemplateData=(0,ms.uh)(this,{contentHeight:500,maxScroll:{maxScroll:0,width:0}}),this._templateRef=this._register((0,Xs.DN)(this,void 0)),this.contentHeight=(0,ms.nK)(this,_e=>{var De,ze,Je;return(Je=(ze=(De=this._templateRef.read(_e))===null||De===void 0?void 0:De.object.height)===null||ze===void 0?void 0:ze.read(_e))!==null&&Je!==void 0?Je:this._lastTemplateData.read(_e).contentHeight}),this.maxScroll=(0,ms.nK)(this,_e=>{var De,ze;return(ze=(De=this._templateRef.read(_e))===null||De===void 0?void 0:De.object.maxScroll.read(_e))!==null&&ze!==void 0?ze:this._lastTemplateData.read(_e).maxScroll}),this.template=(0,ms.nK)(this,_e=>{var De;return(De=this._templateRef.read(_e))===null||De===void 0?void 0:De.object}),this._isHidden=(0,ms.uh)(this,!1),this._register((0,ms.EH)(_e=>{var De;const ze=this._scrollLeft.read(_e);(De=this._templateRef.read(_e))===null||De===void 0||De.object.setScrollLeft(ze)})),this._register((0,ms.EH)(_e=>{const De=this._templateRef.read(_e);!De||!this._isHidden.read(_e)||De.object.isFocused.read(_e)||(0,Xs.PS)(At=>{this._lastTemplateData.set({contentHeight:De.object.height.get(),maxScroll:{maxScroll:0,width:0}},At),De.object.hide(),this._templateRef.set(void 0,At)})}))}dispose(){this.hide(),super.dispose()}toString(){return`VirtualViewItem(${this.viewModel.entry.value.title})`}hide(){this._isHidden.set(!0,void 0)}render(s,x,Z,_e){this._isHidden.set(!1,void 0);let De=this._templateRef.get();De||(De=this._objectPool.getUnusedObj(new rr(this.viewModel)),this._templateRef.set(De,void 0)),De.object.render(s,Z,x,_e)}}const oc=(0,Ns.P6G)("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},(0,Rn.NC)("multiDiffEditor.headerBackground","The background color of the diff editor's header"));var rc=function(Xe,s,x,Z){var _e=arguments.length,De=_e<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(ze=Xe[Je])&&(De=(_e<3?ze(De):_e>3?ze(s,x,De):ze(s,x))||De);return _e>3&&De&&Object.defineProperty(s,x,De),De},ro=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Aa=class extends Oe.JT{constructor(s,x,Z){super(),this._element=s,this._workbenchUIElementFactory=x,this._instantiationService=Z,this._dimension=(0,ms.uh)(this,void 0),this._viewModel=(0,ms.uh)(this,void 0),this._widgetImpl=(0,ms.Be)(this,(_e,De)=>((0,Qs.NW)(sl,_e),De.add(this._instantiationService.createInstance((0,Qs.NW)(wl,_e),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,ms.jx)(this._widgetImpl))}};Aa=rc([ro(2,ct.TG)],Aa);function zc(Xe,s,x){return ii.initialize(x||{}).createInstance($s,Xe,s)}function jc(Xe){return ii.get(pt.$).onCodeEditorAdd(x=>{Xe(x)})}function Kc(Xe){return ii.get(pt.$).onDiffEditorAdd(x=>{Xe(x)})}function $c(){return ii.get(pt.$).listCodeEditors()}function Gc(){return ii.get(pt.$).listDiffEditors()}function Zc(Xe,s,x){return ii.initialize(x||{}).createInstance(Vs,Xe,s)}function Qc(Xe,s){const x=ii.initialize(s||{});return new Aa(Xe,{},x)}function Yc(Xe){if(typeof Xe.id!="string"||typeof Xe.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return an.P.registerCommand(Xe.id,Xe.run)}function Xc(Xe){if(typeof Xe.id!="string"||typeof Xe.label!="string"||typeof Xe.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const s=ht.Ao.deserialize(Xe.precondition),x=(_e,...De)=>st._l.runEditorCommand(_e,De,s,(ze,Je,At)=>Promise.resolve(Xe.run(Je,...At))),Z=new Oe.SL;if(Z.add(an.P.registerCommand(Xe.id,x)),Xe.contextMenuGroupId){const _e={command:{id:Xe.id,title:Xe.label},when:s,group:Xe.contextMenuGroupId,order:Xe.contextMenuOrder||0};Z.add(xs.BH.appendMenuItem(xs.eH.EditorContext,_e))}if(Array.isArray(Xe.keybindings)){const _e=ii.get(ks.d);if(!(_e instanceof Ra))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const De=ht.Ao.and(s,ht.Ao.deserialize(Xe.keybindingContext));Z.add(_e.addDynamicKeybindings(Xe.keybindings.map(ze=>({keybinding:ze,command:Xe.id,when:De}))))}}return Z}function Jc(Xe){return _c([Xe])}function _c(Xe){const s=ii.get(ks.d);return s instanceof Ra?s.addDynamicKeybindings(Xe.map(x=>({keybinding:x.keybinding,command:x.command,commandArgs:x.commandArgs,when:ht.Ao.deserialize(x.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Oe.JT.None)}function qc(Xe,s,x){const Z=ii.get(Lt.O),_e=Z.getLanguageIdByMimeType(s)||s;return ho(ii.get(bn.q),Z,Xe,_e,x)}function ed(Xe,s){const x=ii.get(Lt.O),Z=x.getLanguageIdByMimeType(s)||s||yt.bd;Xe.setLanguage(x.createById(Z))}function td(Xe,s,x){Xe&&ii.get(so.lT).changeOne(s,Xe.uri,x)}function nd(Xe){ii.get(so.lT).changeAll(Xe,[])}function id(Xe){return ii.get(so.lT).read(Xe)}function sd(Xe){return ii.get(so.lT).onMarkerChanged(Xe)}function od(Xe){return ii.get(bn.q).getModel(Xe)}function rd(){return ii.get(bn.q).getModels()}function ad(Xe){return ii.get(bn.q).onModelAdded(Xe)}function ld(Xe){return ii.get(bn.q).onModelRemoved(Xe)}function cd(Xe){return ii.get(bn.q).onModelLanguageChanged(x=>{Xe({model:x.model,oldLanguage:x.oldLanguageId})})}function dd(Xe){return Ft(ii.get(bn.q),ii.get(Be.c_),Xe)}function ud(Xe,s){const x=ii.get(Lt.O),Z=ii.get(No.Z);return yn.colorizeElement(Z,x,Xe,s).then(()=>{Z.registerEditorContainer(Xe)})}function hd(Xe,s,x){const Z=ii.get(Lt.O);return ii.get(No.Z).registerEditorContainer(je.Ex.document.body),yn.colorize(Z,Xe,s,x)}function fd(Xe,s,x=4){return ii.get(No.Z).registerEditorContainer(je.Ex.document.body),yn.colorizeModelLine(Xe,s,x)}function gd(Xe){const s=xt.RW.get(Xe);return s||{getInitialState:()=>un.TJ,tokenize:(x,Z,_e)=>(0,un.Ri)(Xe,_e)}}function md(Xe,s){xt.RW.getOrCreate(s);const x=gd(s),Z=(0,Ze.uq)(Xe),_e=[];let De=x.getInitialState();for(let ze=0,Je=Z.length;ze<Je;ze++){const At=Z[ze],Ut=x.tokenize(At,!0,De);_e[ze]=Ut.tokens,De=Ut.endState}return _e}function pd(Xe,s){ii.get(No.Z).defineTheme(Xe,s)}function vd(Xe){ii.get(No.Z).setTheme(Xe)}function _d(){Et.g.clearAllFontInfos()}function Cd(Xe,s){return an.P.registerCommand({id:Xe,handler:s})}function bd(Xe){return ii.get(va.v).registerOpener({open(Z){return tn(this,null,function*(){return typeof Z=="string"&&(Z=it.o.parse(Z)),Xe.open(Z)})}})}function yd(Xe){return ii.get(pt.$).registerCodeEditorOpenHandler((x,Z,_e)=>tn(this,null,function*(){var De;if(!Z)return null;const ze=(De=x.options)===null||De===void 0?void 0:De.selection;let Je;return ze&&typeof ze.endLineNumber=="number"&&typeof ze.endColumn=="number"?Je=ze:ze&&(Je={lineNumber:ze.startLineNumber,column:ze.startColumn}),(yield Xe.openCodeEditor(Z,x.resource,Je))?Z:null}))}function Sd(){return{create:zc,getEditors:$c,getDiffEditors:Gc,onDidCreateEditor:jc,onDidCreateDiffEditor:Kc,createDiffEditor:Zc,addCommand:Yc,addEditorAction:Xc,addKeybindingRule:Jc,addKeybindingRules:_c,createModel:qc,setModelLanguage:ed,setModelMarkers:td,getModelMarkers:id,removeAllMarkers:nd,onDidChangeMarkers:sd,getModels:rd,getModel:od,onDidCreateModel:ad,onWillDisposeModel:ld,onDidChangeModelLanguage:cd,createWebWorker:dd,colorizeElement:ud,colorize:hd,colorizeModelLine:fd,tokenize:md,defineTheme:pd,setTheme:vd,remeasureFonts:_d,registerCommand:Cd,registerLinkOpener:bd,registerEditorOpener:yd,AccessibilitySupport:Hn.ao,ContentWidgetPositionPreference:Hn.r3,CursorChangeReason:Hn.Vi,DefaultEndOfLine:Hn._x,EditorAutoIndentStrategy:Hn.rf,EditorOption:Hn.wT,EndOfLinePreference:Hn.gm,EndOfLineSequence:Hn.jl,MinimapPosition:Hn.F5,MouseTargetType:Hn.MG,OverlayWidgetPositionPreference:Hn.E$,OverviewRulerLane:Hn.sh,GlyphMarginLane:Hn.U,RenderLineNumbersType:Hn.Lu,RenderMinimap:Hn.vQ,ScrollbarVisibility:Hn.g_,ScrollType:Hn.g4,TextEditorCursorBlinkingStyle:Hn.In,TextEditorCursorStyle:Hn.d2,TrackedRangeStickiness:Hn.OI,WrappingIndent:Hn.up,InjectedTextCursorStops:Hn.RM,PositionAffinity:Hn.py,ShowAiIconMode:Hn.JO,ConfigurationChangedEvent:ve.Bb,BareFontInfo:nt.E4,FontInfo:nt.pR,TextModelResolvedOptions:In.dJ,FindMatch:In.tk,ApplyUpdateResult:ve.rk,EditorZoom:_t.C,createMultiFileDiffEditor:Qc,EditorType:tt.g,EditorOptions:ve.BH}}var wd=e(41264);function Ld(Xe,s){if(!s||!Array.isArray(s))return!1;for(const x of s)if(!Xe(x))return!1;return!0}function Wl(Xe,s){return typeof Xe=="boolean"?Xe:s}function Cc(Xe,s){return typeof Xe=="string"?Xe:s}function Ed(Xe){const s={};for(const x of Xe)s[x]=!0;return s}function bc(Xe,s=!1){s&&(Xe=Xe.map(function(Z){return Z.toLowerCase()}));const x=Ed(Xe);return s?function(Z){return x[Z.toLowerCase()]!==void 0&&x.hasOwnProperty(Z.toLowerCase())}:function(Z){return x[Z]!==void 0&&x.hasOwnProperty(Z)}}function ac(Xe,s){s=s.replace(/@@/g,"");let x=0,Z;do Z=!1,s=s.replace(/@(\w+)/g,function(De,ze){Z=!0;let Je="";if(typeof Xe[ze]=="string")Je=Xe[ze];else if(Xe[ze]&&Xe[ze]instanceof RegExp)Je=Xe[ze].source;else throw Xe[ze]===void 0?wn(Xe,"language definition does not contain attribute '"+ze+"', used at: "+s):wn(Xe,"attribute reference '"+ze+"' must be a string, used at: "+s);return Fi(Je)?"":"(?:"+Je+")"}),x++;while(Z&&x<5);s=s.replace(/\x01/g,"@");const _e=(Xe.ignoreCase?"i":"")+(Xe.unicode?"u":"");return new RegExp(s,_e)}function xd(Xe,s,x,Z){if(Z<0)return Xe;if(Z<s.length)return s[Z];if(Z>=100){Z=Z-100;const _e=x.split(".");if(_e.unshift(x),Z<_e.length)return _e[Z]}return null}function Dd(Xe,s,x,Z){let _e=-1,De=x,ze=x.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);ze&&(ze[3]&&(_e=parseInt(ze[3]),ze[2]&&(_e=_e+100)),De=ze[4]);let Je="~",At=De;!De||De.length===0?(Je="!=",At=""):/^\w*$/.test(At)?Je="==":(ze=De.match(/^(@|!@|~|!~|==|!=)(.*)$/),ze&&(Je=ze[1],At=ze[2]));let Ut;if((Je==="~"||Je==="!~")&&/^(\w|\|)*$/.test(At)){const Jt=bc(At.split("|"),Xe.ignoreCase);Ut=function(Dn){return Je==="~"?Jt(Dn):!Jt(Dn)}}else if(Je==="@"||Je==="!@"){const Jt=Xe[At];if(!Jt)throw wn(Xe,"the @ match target '"+At+"' is not defined, in rule: "+s);if(!Ld(function(Gn){return typeof Gn=="string"},Jt))throw wn(Xe,"the @ match target '"+At+"' must be an array of strings, in rule: "+s);const Dn=bc(Jt,Xe.ignoreCase);Ut=function(Gn){return Je==="@"?Dn(Gn):!Dn(Gn)}}else if(Je==="~"||Je==="!~")if(At.indexOf("$")<0){const Jt=ac(Xe,"^"+At+"$");Ut=function(Dn){return Je==="~"?Jt.test(Dn):!Jt.test(Dn)}}else Ut=function(Jt,Dn,Gn,ei){return ac(Xe,"^"+qe(Xe,At,Dn,Gn,ei)+"$").test(Jt)};else if(At.indexOf("$")<0){const Jt=ts(Xe,At);Ut=function(Dn){return Je==="=="?Dn===Jt:Dn!==Jt}}else{const Jt=ts(Xe,At);Ut=function(Dn,Gn,ei,es,vs){const ws=qe(Xe,Jt,Gn,ei,es);return Je==="=="?Dn===ws:Dn!==ws}}return _e===-1?{name:x,value:Z,test:function(Jt,Dn,Gn,ei){return Ut(Jt,Jt,Dn,Gn,ei)}}:{name:x,value:Z,test:function(Jt,Dn,Gn,ei){const es=xd(Jt,Dn,Gn,_e);return Ut(es||"",Jt,Dn,Gn,ei)}}}function lc(Xe,s,x){if(x){if(typeof x=="string")return x;if(x.token||x.token===""){if(typeof x.token!="string")throw wn(Xe,"a 'token' attribute must be of type string, in rule: "+s);{const Z={token:x.token};if(x.token.indexOf("$")>=0&&(Z.tokenSubst=!0),typeof x.bracket=="string")if(x.bracket==="@open")Z.bracket=1;else if(x.bracket==="@close")Z.bracket=-1;else throw wn(Xe,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+s);if(x.next){if(typeof x.next!="string")throw wn(Xe,"the next state must be a string value in rule: "+s);{let _e=x.next;if(!/^(@pop|@push|@popall)$/.test(_e)&&(_e[0]==="@"&&(_e=_e.substr(1)),_e.indexOf("$")<0&&!Qt(Xe,qe(Xe,_e,"",[],""))))throw wn(Xe,"the next state '"+x.next+"' is not defined in rule: "+s);Z.next=_e}}return typeof x.goBack=="number"&&(Z.goBack=x.goBack),typeof x.switchTo=="string"&&(Z.switchTo=x.switchTo),typeof x.log=="string"&&(Z.log=x.log),typeof x.nextEmbedded=="string"&&(Z.nextEmbedded=x.nextEmbedded,Xe.usesEmbedded=!0),Z}}else if(Array.isArray(x)){const Z=[];for(let _e=0,De=x.length;_e<De;_e++)Z[_e]=lc(Xe,s,x[_e]);return{group:Z}}else if(x.cases){const Z=[];for(const De in x.cases)if(x.cases.hasOwnProperty(De)){const ze=lc(Xe,s,x.cases[De]);De==="@default"||De==="@"||De===""?Z.push({test:void 0,value:ze,name:De}):De==="@eos"?Z.push({test:function(Je,At,Ut,Jt){return Jt},value:ze,name:De}):Z.push(Dd(Xe,s,De,ze))}const _e=Xe.defaultToken;return{test:function(De,ze,Je,At){for(const Ut of Z)if(!Ut.test||Ut.test(De,ze,Je,At))return Ut.value;return _e}}}else throw wn(Xe,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+s)}else return{token:""}}class Id{constructor(s){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=s}setRegex(s,x){let Z;if(typeof x=="string")Z=x;else if(x instanceof RegExp)Z=x.source;else throw wn(s,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=Z.length>0&&Z[0]==="^",this.name=this.name+": "+Z,this.regex=ac(s,"^(?:"+(this.matchOnlyAtLineStart?Z.substr(1):Z)+")")}setAction(s,x){this.action=lc(s,this.name,x)}}function yc(Xe,s){if(!s||typeof s!="object")throw new Error("Monarch: expecting a language definition object");const x={};x.languageId=Xe,x.includeLF=Wl(s.includeLF,!1),x.noThrow=!1,x.maxStack=100,x.start=typeof s.start=="string"?s.start:null,x.ignoreCase=Wl(s.ignoreCase,!1),x.unicode=Wl(s.unicode,!1),x.tokenPostfix=Cc(s.tokenPostfix,"."+x.languageId),x.defaultToken=Cc(s.defaultToken,"source"),x.usesEmbedded=!1;const Z=s;Z.languageId=Xe,Z.includeLF=x.includeLF,Z.ignoreCase=x.ignoreCase,Z.unicode=x.unicode,Z.noThrow=x.noThrow,Z.usesEmbedded=x.usesEmbedded,Z.stateNames=s.tokenizer,Z.defaultToken=x.defaultToken;function _e(ze,Je,At){for(const Ut of At){let Jt=Ut.include;if(Jt){if(typeof Jt!="string")throw wn(x,"an 'include' attribute must be a string at: "+ze);if(Jt[0]==="@"&&(Jt=Jt.substr(1)),!s.tokenizer[Jt])throw wn(x,"include target '"+Jt+"' is not defined at: "+ze);_e(ze+"."+Jt,Je,s.tokenizer[Jt])}else{const Dn=new Id(ze);if(Array.isArray(Ut)&&Ut.length>=1&&Ut.length<=3)if(Dn.setRegex(Z,Ut[0]),Ut.length>=3)if(typeof Ut[1]=="string")Dn.setAction(Z,{token:Ut[1],next:Ut[2]});else if(typeof Ut[1]=="object"){const Gn=Ut[1];Gn.next=Ut[2],Dn.setAction(Z,Gn)}else throw wn(x,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+ze);else Dn.setAction(Z,Ut[1]);else{if(!Ut.regex)throw wn(x,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+ze);Ut.name&&typeof Ut.name=="string"&&(Dn.name=Ut.name),Ut.matchOnlyAtStart&&(Dn.matchOnlyAtLineStart=Wl(Ut.matchOnlyAtLineStart,!1)),Dn.setRegex(Z,Ut.regex),Dn.setAction(Z,Ut.action)}Je.push(Dn)}}}if(!s.tokenizer||typeof s.tokenizer!="object")throw wn(x,"a language definition must define the 'tokenizer' attribute as an object");x.tokenizer=[];for(const ze in s.tokenizer)if(s.tokenizer.hasOwnProperty(ze)){x.start||(x.start=ze);const Je=s.tokenizer[ze];x.tokenizer[ze]=new Array,_e("tokenizer."+ze,x.tokenizer[ze],Je)}if(x.usesEmbedded=Z.usesEmbedded,s.brackets){if(!Array.isArray(s.brackets))throw wn(x,"the 'brackets' attribute must be defined as an array")}else s.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const De=[];for(const ze of s.brackets){let Je=ze;if(Je&&Array.isArray(Je)&&Je.length===3&&(Je={token:Je[2],open:Je[0],close:Je[1]}),Je.open===Je.close)throw wn(x,"open and close brackets in a 'brackets' attribute must be different: "+Je.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof Je.open=="string"&&typeof Je.token=="string"&&typeof Je.close=="string")De.push({token:Je.token+x.tokenPostfix,open:ts(x,Je.open),close:ts(x,Je.close)});else throw wn(x,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return x.brackets=De,x.noThrow=!0,x}function Nd(Xe){yt.dQ.registerLanguage(Xe)}function Td(){let Xe=[];return Xe=Xe.concat(yt.dQ.getLanguages()),Xe}function Md(Xe){return ii.get(Lt.O).languageIdCodec.encodeLanguageId(Xe)}function Pd(Xe,s){return ii.withServices(()=>{const Z=ii.get(Lt.O).onDidRequestRichLanguageFeatures(_e=>{_e===Xe&&(Z.dispose(),s())});return Z})}function Rd(Xe,s){return ii.withServices(()=>{const Z=ii.get(Lt.O).onDidRequestBasicLanguageFeatures(_e=>{_e===Xe&&(Z.dispose(),s())});return Z})}function Od(Xe,s){if(!ii.get(Lt.O).isRegisteredLanguageId(Xe))throw new Error(`Cannot set configuration for unknown language ${Xe}`);return ii.get(Be.c_).register(Xe,s,100)}class Ad{constructor(s,x){this._languageId=s,this._actual=x}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(s,x,Z){if(typeof this._actual.tokenize=="function")return Ll.adaptTokenize(this._languageId,this._actual,s,Z);throw new Error("Not supported!")}tokenizeEncoded(s,x,Z){const _e=this._actual.tokenizeEncoded(s,Z);return new xt.DI(_e.tokens,_e.endState)}}class Ll{constructor(s,x,Z,_e){this._languageId=s,this._actual=x,this._languageService=Z,this._standaloneThemeService=_e}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(s,x){const Z=[];let _e=0;for(let De=0,ze=s.length;De<ze;De++){const Je=s[De];let At=Je.startIndex;De===0?At=0:At<_e&&(At=_e),Z[De]=new xt.WU(At,Je.scopes,x),_e=At}return Z}static adaptTokenize(s,x,Z,_e){const De=x.tokenize(Z,_e),ze=Ll._toClassicTokens(De.tokens,s);let Je;return De.endState.equals(_e)?Je=_e:Je=De.endState,new xt.hG(ze,Je)}tokenize(s,x,Z){return Ll.adaptTokenize(this._languageId,this._actual,s,Z)}_toBinaryTokens(s,x){const Z=s.encodeLanguageId(this._languageId),_e=this._standaloneThemeService.getColorTheme().tokenTheme,De=[];let ze=0,Je=0;for(let Ut=0,Jt=x.length;Ut<Jt;Ut++){const Dn=x[Ut],Gn=_e.match(Z,Dn.scopes)|1024;if(ze>0&&De[ze-1]===Gn)continue;let ei=Dn.startIndex;Ut===0?ei=0:ei<Je&&(ei=Je),De[ze++]=ei,De[ze++]=Gn,Je=ei}const At=new Uint32Array(ze);for(let Ut=0;Ut<ze;Ut++)At[Ut]=De[Ut];return At}tokenizeEncoded(s,x,Z){const _e=this._actual.tokenize(s,Z),De=this._toBinaryTokens(this._languageService.languageIdCodec,_e.tokens);let ze;return _e.endState.equals(Z)?ze=Z:ze=_e.endState,new xt.DI(De,ze)}}function kd(Xe){return typeof Xe.getInitialState=="function"}function Fd(Xe){return"tokenizeEncoded"in Xe}function Sc(Xe){return Xe&&typeof Xe.then=="function"}function Bd(Xe){const s=ii.get(No.Z);if(Xe){const x=[null];for(let Z=1,_e=Xe.length;Z<_e;Z++)x[Z]=wd.Il.fromHex(Xe[Z]);s.setColorMapOverride(x)}else s.setColorMapOverride(null)}function wc(Xe,s){return Fd(s)?new Ad(Xe,s):new Ll(Xe,s,ii.get(Lt.O),ii.get(No.Z))}function cc(Xe,s){const x=new xt.MO(()=>tn(this,null,function*(){const Z=yield Promise.resolve(s.create());return Z?kd(Z)?wc(Xe,Z):new Ai(ii.get(Lt.O),ii.get(No.Z),Xe,yc(Xe,Z),ii.get(on.Ui)):null}));return xt.RW.registerFactory(Xe,x)}function Wd(Xe,s){if(!ii.get(Lt.O).isRegisteredLanguageId(Xe))throw new Error(`Cannot set tokens provider for unknown language ${Xe}`);return Sc(s)?cc(Xe,{create:()=>s}):xt.RW.register(Xe,wc(Xe,s))}function Hd(Xe,s){const x=Z=>new Ai(ii.get(Lt.O),ii.get(No.Z),Xe,yc(Xe,Z),ii.get(on.Ui));return Sc(s)?cc(Xe,{create:()=>s}):xt.RW.register(Xe,x(s))}function Vd(Xe,s){return ii.get(Qe.p).referenceProvider.register(Xe,s)}function Ud(Xe,s){return ii.get(Qe.p).renameProvider.register(Xe,s)}function zd(Xe,s){return ii.get(Qe.p).signatureHelpProvider.register(Xe,s)}function jd(Xe,s){return ii.get(Qe.p).hoverProvider.register(Xe,{provideHover:(Z,_e,De)=>{const ze=Z.getWordAtPosition(_e);return Promise.resolve(s.provideHover(Z,_e,De)).then(Je=>{if(Je)return!Je.range&&ze&&(Je.range=new Ct.e(_e.lineNumber,ze.startColumn,_e.lineNumber,ze.endColumn)),Je.range||(Je.range=new Ct.e(_e.lineNumber,_e.column,_e.lineNumber,_e.column)),Je})}})}function Kd(Xe,s){return ii.get(Qe.p).documentSymbolProvider.register(Xe,s)}function $d(Xe,s){return ii.get(Qe.p).documentHighlightProvider.register(Xe,s)}function Gd(Xe,s){return ii.get(Qe.p).linkedEditingRangeProvider.register(Xe,s)}function Zd(Xe,s){return ii.get(Qe.p).definitionProvider.register(Xe,s)}function Qd(Xe,s){return ii.get(Qe.p).implementationProvider.register(Xe,s)}function Yd(Xe,s){return ii.get(Qe.p).typeDefinitionProvider.register(Xe,s)}function Xd(Xe,s){return ii.get(Qe.p).codeLensProvider.register(Xe,s)}function Jd(Xe,s,x){return ii.get(Qe.p).codeActionProvider.register(Xe,{providedCodeActionKinds:x==null?void 0:x.providedCodeActionKinds,documentation:x==null?void 0:x.documentation,provideCodeActions:(_e,De,ze,Je)=>{const Ut=ii.get(so.lT).read({resource:_e.uri}).filter(Jt=>Ct.e.areIntersectingOrTouching(Jt,De));return s.provideCodeActions(_e,De,{markers:Ut,only:ze.only,trigger:ze.trigger},Je)},resolveCodeAction:s.resolveCodeAction})}function qd(Xe,s){return ii.get(Qe.p).documentFormattingEditProvider.register(Xe,s)}function eu(Xe,s){return ii.get(Qe.p).documentRangeFormattingEditProvider.register(Xe,s)}function tu(Xe,s){return ii.get(Qe.p).onTypeFormattingEditProvider.register(Xe,s)}function nu(Xe,s){return ii.get(Qe.p).linkProvider.register(Xe,s)}function iu(Xe,s){return ii.get(Qe.p).completionProvider.register(Xe,s)}function su(Xe,s){return ii.get(Qe.p).colorProvider.register(Xe,s)}function ou(Xe,s){return ii.get(Qe.p).foldingRangeProvider.register(Xe,s)}function ru(Xe,s){return ii.get(Qe.p).declarationProvider.register(Xe,s)}function au(Xe,s){return ii.get(Qe.p).selectionRangeProvider.register(Xe,s)}function lu(Xe,s){return ii.get(Qe.p).documentSemanticTokensProvider.register(Xe,s)}function cu(Xe,s){return ii.get(Qe.p).documentRangeSemanticTokensProvider.register(Xe,s)}function du(Xe,s){return ii.get(Qe.p).inlineCompletionsProvider.register(Xe,s)}function uu(Xe,s){return ii.get(Qe.p).inlayHintsProvider.register(Xe,s)}function hu(){return{register:Nd,getLanguages:Td,onLanguage:Pd,onLanguageEncountered:Rd,getEncodedLanguageId:Md,setLanguageConfiguration:Od,setColorMap:Bd,registerTokensProviderFactory:cc,setTokensProvider:Wd,setMonarchTokensProvider:Hd,registerReferenceProvider:Vd,registerRenameProvider:Ud,registerCompletionItemProvider:iu,registerSignatureHelpProvider:zd,registerHoverProvider:jd,registerDocumentSymbolProvider:Kd,registerDocumentHighlightProvider:$d,registerLinkedEditingRangeProvider:Gd,registerDefinitionProvider:Zd,registerImplementationProvider:Qd,registerTypeDefinitionProvider:Yd,registerCodeLensProvider:Xd,registerCodeActionProvider:Jd,registerDocumentFormattingEditProvider:qd,registerDocumentRangeFormattingEditProvider:eu,registerOnTypeFormattingEditProvider:tu,registerLinkProvider:nu,registerColorProvider:su,registerFoldingRangeProvider:ou,registerDeclarationProvider:ru,registerSelectionRangeProvider:au,registerDocumentSemanticTokensProvider:lu,registerDocumentRangeSemanticTokensProvider:cu,registerInlineCompletionsProvider:du,registerInlayHintsProvider:uu,DocumentHighlightKind:Hn.MY,CompletionItemKind:Hn.cm,CompletionItemTag:Hn.we,CompletionItemInsertTextRule:Hn.a7,SymbolKind:Hn.cR,SymbolTag:Hn.r4,IndentAction:Hn.wU,CompletionTriggerKind:Hn.Ij,SignatureHelpTriggerKind:Hn.WW,InlayHintKind:Hn.gl,InlineCompletionTriggerKind:Hn.bw,CodeActionTriggerType:Hn.np,FoldingRangeKind:xt.AD,SelectedSuggestionInfo:xt.ln}}var fu=e(71373);ve.BH.wrappingIndent.defaultValue=0,ve.BH.glyphMargin.defaultValue=!1,ve.BH.autoIndent.defaultValue=3,ve.BH.overviewRulerLanes.defaultValue=2,fu.xC.setFormatterSelector((Xe,s,x)=>Promise.resolve(Xe[0]));const Co=(0,xe.O)();Co.editor=Sd(),Co.languages=hu();const Lc=Co.CancellationTokenSource,Ec=Co.Emitter,xc=Co.KeyCode,Dc=Co.KeyMod,Ic=Co.Position,Nc=Co.Range,Tc=Co.Selection,Mc=Co.SelectionDirection,Pc=Co.MarkerSeverity,Rc=Co.MarkerTag,Oc=Co.Uri,Ac=Co.Token,kc=Co.editor,Fc=Co.languages,dc=globalThis.MonacoEnvironment;(dc!=null&&dc.globalAPI||typeof define=="function"&&e.amdO)&&(globalThis.monaco=Co),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var bu=e(43763),yu=e(88307),Su=e(39585),wu=e(40902),Lu=e(68423),Eu=e(66079),xu=e(56292),Du=e(40605);self.MonacoEnvironment=function(Xe){function s(x){return x.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(x,Z){var _e=e.p,De=(_e?s(_e)+"/":"")+Xe[Z];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(De)){var ze=String(window.location),Je=ze.substr(0,ze.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(De.substring(0,Je.length)!==Je){/^(\/\/)/.test(De)&&(De=window.location.protocol+De);var At="/*"+Z+'*/importScripts("'+De+'");',Ut=new Blob([At],{type:"application/javascript"});return URL.createObjectURL(Ut)}}return De}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});var gu=b},34535:function(Ot,Ke,e){"use strict";e.d(Ke,{j6:function(){return se.editor}});var b=e(51624),U=e(13468),r=e(42549),w=e(24336),c=e(72102),_=e(55833),I=e(86687),M=e(32871),D=e(46838),p=e(44536),o=e(39956),u=e(93740),d=e(41895),n=e(36865),i=e(2062),f=e(76917),v=e(95329),a=e(76454),S=e(63980),g=e(23369),y=e(44125),C=e(61097),E=e(10355),A=e(62078),N=e(95817),B=e(56334),W=e(93463),$=e(24719),Y=e(69901),R=e(84602),L=e(8469),z=e(42961),O=e(3665),P=e(59089),H=e(97615),V=e(49504),G=e(69949),j=e(60468),F=e(93519),K=e(77061),m=e(9776),J=e(94347),X=e(60669),te=e(96816),le=e(73945),ge=e(45048),we=e(31975),pe=e(61168),Pe=e(89995),Ne=e(47721),ae=e(98762),Me=e(62329),ke=e(22704),Ue=e(88088),Le=e(15662),ie=e(64662),ce=e(52614),Re=e(97066),ye=e(79607),Se=e(70943),me=e(37181),he=e(86709),se=e(366),ve=e(25552);(0,ve.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>e.e(848).then(e.bind(e,40848))});(0,ve.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>e.e(4386).then(e.bind(e,54386))});(0,ve.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>e.e(1471).then(e.bind(e,31471))});(0,ve.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>e.e(4129).then(e.bind(e,84129))});(0,ve.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>e.e(7131).then(e.bind(e,47131))});(0,ve.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>e.e(1448).then(e.bind(e,11448))});(0,ve.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>e.e(3036).then(e.bind(e,33036))});(0,ve.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>e.e(1147).then(e.bind(e,21147))});(0,ve.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>e.e(1960).then(e.bind(e,71960))}),(0,ve.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>e.e(1960).then(e.bind(e,71960))});(0,ve.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>e.e(8719).then(e.bind(e,18719))});(0,ve.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>e.e(8946).then(e.bind(e,68946))});var xe=e(56292);(0,ve.H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>e.e(6423).then(e.bind(e,56423))});(0,ve.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>e.e(9343).then(e.bind(e,39343))});(0,ve.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>e.e(5849).then(e.bind(e,25849))});(0,ve.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>e.e(2814).then(e.bind(e,12814))});(0,ve.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>e.e(2240).then(e.bind(e,92240))});(0,ve.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>e.e(4188).then(e.bind(e,14188))});(0,ve.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>e.e(6241).then(e.bind(e,96241))});(0,ve.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagAutoInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagAngleInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagBracketInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagAngleInterpolationBracket)}),(0,ve.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagBracketInterpolationBracket)}),(0,ve.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagAutoInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(Yn=>Yn.TagAutoInterpolationBracket)});(0,ve.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>e.e(249).then(e.bind(e,80249))});(0,ve.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>e.e(6489).then(e.bind(e,66489))});(0,ve.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>e.e(5703).then(e.bind(e,15703))});(0,ve.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>e.e(3632).then(e.bind(e,53632))});var je=e(40902);(0,ve.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>e.e(2798).then(e.bind(e,52798))});(0,ve.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>e.e(7043).then(e.bind(e,17043))});var Oe=e(43763);(0,ve.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>e.e(4946).then(e.bind(e,34946))});(0,ve.H)({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>e.e(4368).then(e.bind(e,84368))});var Ze=e(66079);(0,ve.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>e.e(4912).then(e.bind(e,64912))});(0,ve.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>e.e(911).then(e.bind(e,20911))});(0,ve.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>e.e(4028).then(e.bind(e,94028))});(0,ve.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>e.e(8906).then(e.bind(e,38906))});(0,ve.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>e.e(2954).then(e.bind(e,42954))});(0,ve.H)({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>e.e(4456).then(e.bind(e,4456))});(0,ve.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>e.e(854).then(e.bind(e,60854))});(0,ve.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>e.e(9398).then(e.bind(e,79398))});(0,ve.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>e.e(1961).then(e.bind(e,31961))});(0,ve.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>e.e(9537).then(e.bind(e,79537))});(0,ve.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>e.e(6082).then(e.bind(e,86082))});(0,ve.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>e.e(8084).then(e.bind(e,98084))});(0,ve.H)({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>e.e(8070).then(e.bind(e,8070))});(0,ve.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>e.e(996).then(e.bind(e,20996))});(0,ve.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>e.e(7835).then(e.bind(e,47835))});(0,ve.H)({id:"pla",extensions:[".pla"],loader:()=>e.e(3682).then(e.bind(e,23682))});(0,ve.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>e.e(8180).then(e.bind(e,48180))});(0,ve.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>e.e(4407).then(e.bind(e,94407))});(0,ve.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>e.e(7562).then(e.bind(e,37562))});(0,ve.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>e.e(3760).then(e.bind(e,63760))});(0,ve.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>e.e(2892).then(e.bind(e,22892))});(0,ve.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>e.e(7287).then(e.bind(e,37287))});(0,ve.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>e.e(9400).then(e.bind(e,69400))});(0,ve.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>e.e(2140).then(e.bind(e,22140))});(0,ve.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>e.e(6424).then(e.bind(e,76424))});(0,ve.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>e.e(1259).then(e.bind(e,91259))});(0,ve.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>e.e(6449).then(e.bind(e,56449))});(0,ve.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>e.e(1065).then(e.bind(e,71065))});(0,ve.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>e.e(9684).then(e.bind(e,69684))});(0,ve.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>e.e(8715).then(e.bind(e,8715))});(0,ve.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>e.e(5062).then(e.bind(e,95062))});(0,ve.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>e.e(180).then(e.bind(e,90180))});(0,ve.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>e.e(2060).then(e.bind(e,32060))});(0,ve.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>e.e(525).then(e.bind(e,90525))});(0,ve.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>e.e(8670).then(e.bind(e,88670))});(0,ve.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>e.e(1156).then(e.bind(e,87295))});(0,ve.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>e.e(3919).then(e.bind(e,63919))});(0,ve.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>e.e(5962).then(e.bind(e,85962))});(0,ve.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>e.e(7778).then(e.bind(e,27778))});(0,ve.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>e.e(6587).then(e.bind(e,86587))});(0,ve.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>e.e(2911).then(e.bind(e,42911))});(0,ve.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>e.e(1886).then(e.bind(e,81886))}),(0,ve.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>e.e(1886).then(e.bind(e,81886))});(0,ve.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>e.e(7637).then(e.bind(e,57637))});(0,ve.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>e.e(8424).then(e.bind(e,98424))});var it=e(88307);(0,ve.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>e.e(9907).then(e.bind(e,39907))});(0,ve.H)({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>e.e(147).then(e.bind(e,40147))});(0,ve.H)({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>e.e(4902).then(e.bind(e,4902))});(0,ve.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>e.e(3585).then(e.bind(e,23585))});var Et=e(40605),st=e(68423);var pt=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,qt=Object.getOwnPropertyNames,Ft=Object.prototype.hasOwnProperty,Xt=(Yn,mi,_i,Wi)=>{if(mi&&typeof mi=="object"||typeof mi=="function")for(let Si of qt(mi))!Ft.call(Yn,Si)&&Si!==_i&&pt(Yn,Si,{get:()=>mi[Si],enumerable:!(Wi=Mt(mi,Si))||Wi.enumerable});return Yn},_t=(Yn,mi,_i)=>(Xt(Yn,mi,"default"),_i&&Xt(_i,mi,"default")),nt={};_t(nt,se);var tt=class{constructor(Yn,mi,_i){As(this,"_onDidChange",new nt.Emitter);As(this,"_diagnosticsOptions");As(this,"_modeConfiguration");As(this,"_languageId");this._languageId=Yn,this.setDiagnosticsOptions(mi),this.setModeConfiguration(_i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(Yn){this._diagnosticsOptions=Yn||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(Yn){this._modeConfiguration=Yn||Object.create(null),this._onDidChange.fire(this)}},xt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Lt={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Be=new tt("json",xt,Lt);nt.languages.json={jsonDefaults:Be};function yt(){return e.e(665).then(e.bind(e,90665))}nt.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),nt.languages.onLanguage("json",()=>{yt().then(Yn=>Yn.setupMode(Be))});var un=e(39585),In=e(46445),bn=e(20913),Hn=e(15375);self.MonacoEnvironment=function(Yn){function mi(_i){return _i.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(_i,Wi){var Si=e.p,Ki=(Si?mi(Si)+"/":"")+Yn[Wi];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(Ki)){var bi=String(window.location),Fi=bi.substr(0,bi.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(Ki.substring(0,Fi.length)!==Fi){/^(\/\/)/.test(Ki)&&(Ki=window.location.protocol+Ki);var ts="/*"+Wi+'*/importScripts("'+Ki+'");',wi=new Blob([ts],{type:"application/javascript"});return URL.createObjectURL(wi)}}return Ki}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});var si=null},16268:function(Ot,Ke,e){"use strict";e.d(Ke,{$W:function(){return g},Dt:function(){return a},G6:function(){return i},MG:function(){return f},Pf:function(){return d},Tz:function(){return D},i7:function(){return n},ie:function(){return p},uB:function(){return M},vU:function(){return u}});var b=e(48906),U=e(4669),r=e(5976);class w{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}w.INSTANCE=new w;class c extends r.JT{constructor(){super(),this._onDidChange=this._register(new U.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(C){var E;(E=this._mediaQueryList)===null||E===void 0||E.removeEventListener("change",this._listener),this._mediaQueryList=b.vO.matchMedia(`(resolution: ${b.vO.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),C&&this._onDidChange.fire()}}class _ extends r.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new U.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const C=this._register(new c);this._register(C.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const C=document.createElement("canvas").getContext("2d"),E=b.vO.devicePixelRatio||1,A=C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1;return E/A}}class I{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,r.dk)(new _)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function M(y,C){typeof y=="string"&&(y=b.vO.matchMedia(y)),y.addEventListener("change",C)}const D=new I;function p(){return w.INSTANCE.getZoomFactor()}const o=navigator.userAgent,u=o.indexOf("Firefox")>=0,d=o.indexOf("AppleWebKit")>=0,n=o.indexOf("Chrome")>=0,i=!n&&o.indexOf("Safari")>=0,f=!n&&!i&&d,v=o.indexOf("Electron/")>=0,a=o.indexOf("Android")>=0;let S=!1;if(b.vO.matchMedia){const y=b.vO.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),C=b.vO.matchMedia("(display-mode: fullscreen)");S=y.matches,M(y,({matches:E})=>{S&&C.matches||(S=E)})}function g(){return S}},10161:function(Ot,Ke,e){"use strict";e.d(Ke,{D:function(){return w}});var b=e(16268),U=e(48906),r=e(1432);const w={clipboard:{writeText:r.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:r.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>r.tY||b.$W()?0:navigator.keyboard||b.G6?1:2)(),touch:"ontouchstart"in U.Ex||navigator.maxTouchPoints>0,pointerEvents:U.Ex.PointerEvent&&("ontouchstart"in U.Ex||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Ot,Ke,e){"use strict";e.d(Ke,{g:function(){return U}});var b=e(81170);const U={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:b.v.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},65321:function(Ot,Ke,e){"use strict";e.d(Ke,{$:function(){return mi},$Z:function(){return Wi},Ay:function(){return Re},Ce:function(){return In},Cp:function(){return Si},D6:function(){return J},Dx:function(){return m},FK:function(){return Ne},GQ:function(){return L},H9:function(){return Se},I8:function(){return pe},If:function(){return ae},Jc:function(){return E},Jj:function(){return i},N5:function(){return qt},OO:function(){return ce},PO:function(){return N},R3:function(){return un},Ro:function(){return te},Uh:function(){return Ki},V3:function(){return bi},WN:function(){return se},XT:function(){return ns},Xo:function(){return C},_0:function(){return xt},_F:function(){return wn},_h:function(){return wi},_q:function(){return Qt},b5:function(){return me},cl:function(){return _t},dS:function(){return xe},dp:function(){return ge},e4:function(){return yt},eg:function(){return on},fk:function(){return st},go:function(){return Be},h:function(){return Bn},i:function(){return we},iJ:function(){return _i},jL:function(){return j},jg:function(){return ke},jt:function(){return Fi},lI:function(){return G},mc:function(){return bn},mu:function(){return R},ne:function(){return F},nm:function(){return W},sQ:function(){return qe},se:function(){return H},tw:function(){return Xt},uN:function(){return pt},uP:function(){return he},uU:function(){return Le},vL:function(){return tt},vY:function(){return ye},vd:function(){return Ft},vx:function(){return V},w:function(){return Pe},wY:function(){return ts},wn:function(){return Me},xQ:function(){return le},zB:function(){return nt}});var b=e(16268),U=e(10161),r=e(59069),w=e(7317),c=e(15393),_=e(17301),I=e(4669),M=e(70921),D=e(5976),p=e(66663),o=e(1432),u=e(89954),d=e(48906);const{registerWindow:n,getWindow:i,getDocument:f,getWindows:v,getWindowsCount:a,getWindowId:S,getWindowById:g,hasWindow:y,onDidRegisterWindow:C,onWillUnregisterWindow:E,onDidUnregisterWindow:A}=function(){const kt=new Map;(0,d.HA)(d.Ex,1),kt.set(d.Ex.vscodeWindowId,{window:d.Ex,disposables:new D.SL});const wt=new I.Q5,sn=new I.Q5,en=new I.Q5;return{onDidRegisterWindow:wt.event,onWillUnregisterWindow:en.event,onDidUnregisterWindow:sn.event,registerWindow(Un){if(kt.has(Un.vscodeWindowId))return D.JT.None;const ri=new D.SL,Jn={window:Un,disposables:ri.add(new D.SL)};return kt.set(Un.vscodeWindowId,Jn),ri.add((0,D.OF)(()=>{kt.delete(Un.vscodeWindowId),sn.fire(Un)})),ri.add(W(Un,Xt.BEFORE_UNLOAD,()=>{en.fire(Un)})),wt.fire(Jn),ri},getWindows(){return kt.values()},getWindowsCount(){return kt.size},getWindowId(Un){return Un.vscodeWindowId},hasWindow(Un){return kt.has(Un)},getWindowById(Un){return kt.get(Un)},getWindow(Un){var ri;const Jn=Un;if(!((ri=Jn==null?void 0:Jn.ownerDocument)===null||ri===void 0)&&ri.defaultView)return Jn.ownerDocument.defaultView.window;const Di=Un;return Di!=null&&Di.view?Di.view.window:d.Ex},getDocument(Un){return i(Un).document}}}();function N(kt){for(;kt.firstChild;)kt.firstChild.remove()}class B{constructor(wt,sn,en,Un){this._node=wt,this._type=sn,this._handler=en,this._options=Un||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function W(kt,wt,sn,en){return new B(kt,wt,sn,en)}function $(kt,wt){return function(sn){return wt(new w.n(kt,sn))}}function Y(kt){return function(wt){return kt(new r.y(wt))}}const R=function(wt,sn,en,Un){let ri=en;return sn==="click"||sn==="mousedown"?ri=$(i(wt),en):(sn==="keydown"||sn==="keypress"||sn==="keyup")&&(ri=Y(en)),W(wt,sn,ri,Un)},L=function(wt,sn,en){const Un=$(i(wt),sn);return O(wt,Un,en)},z=function(wt,sn,en){const Un=$(i(wt),sn);return P(wt,Un,en)};function O(kt,wt,sn){return W(kt,o.gn&&U.D.pointerEvents?Xt.POINTER_DOWN:Xt.MOUSE_DOWN,wt,sn)}function P(kt,wt,sn){return W(kt,platform.isIOS&&BrowserFeatures.pointerEvents?Xt.POINTER_UP:Xt.MOUSE_UP,wt,sn)}function H(kt,wt,sn){return(0,c.y5)(kt,wt,sn)}class V extends c.hF{constructor(wt,sn){super(wt,sn)}}let G,j;class F extends c.zh{cancelAndSet(wt,sn,en){return super.cancelAndSet(wt,sn,en)}}class K{constructor(wt,sn=0){this._runner=wt,this.priority=sn,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(wt){(0,_.dL)(wt)}}static sort(wt,sn){return sn.priority-wt.priority}}(function(){const kt=new Map,wt=new Map,sn=new Map,en=new Map,Un=ri=>{var Jn;sn.set(ri,!1);const Di=(Jn=kt.get(ri))!==null&&Jn!==void 0?Jn:[];for(wt.set(ri,Di),kt.set(ri,[]),en.set(ri,!0);Di.length>0;)Di.sort(K.sort),Di.shift().execute();en.set(ri,!1)};j=(ri,Jn,Di=0)=>{const Ai=S(ri),Ri=new K(Jn,Di);let Tn=kt.get(Ai);return Tn||(Tn=[],kt.set(Ai,Tn)),Tn.push(Ri),sn.get(Ai)||(sn.set(Ai,!0),ri.requestAnimationFrame(()=>Un(Ai))),Ri},G=(ri,Jn,Di)=>{const Ai=S(ri);if(en.get(Ai)){const Ri=new K(Jn,Di);let Tn=wt.get(Ai);return Tn||(Tn=[],wt.set(Ai,Tn)),Tn.push(Ri),Ri}else return j(ri,Jn,Di)}})();function m(kt){return i(kt).getComputedStyle(kt,null)}function J(kt,wt){const sn=i(kt),en=sn.document;if(kt!==en.body)return new te(kt.clientWidth,kt.clientHeight);if(o.gn&&(sn!=null&&sn.visualViewport))return new te(sn.visualViewport.width,sn.visualViewport.height);if(sn!=null&&sn.innerWidth&&sn.innerHeight)return new te(sn.innerWidth,sn.innerHeight);if(en.body&&en.body.clientWidth&&en.body.clientHeight)return new te(en.body.clientWidth,en.body.clientHeight);if(en.documentElement&&en.documentElement.clientWidth&&en.documentElement.clientHeight)return new te(en.documentElement.clientWidth,en.documentElement.clientHeight);if(wt)return J(wt);throw new Error("Unable to figure out browser width and height")}class X{static convertToPixels(wt,sn){return parseFloat(sn)||0}static getDimension(wt,sn,en){const Un=m(wt),ri=Un?Un.getPropertyValue(sn):"0";return X.convertToPixels(wt,ri)}static getBorderLeftWidth(wt){return X.getDimension(wt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(wt){return X.getDimension(wt,"border-right-width","borderRightWidth")}static getBorderTopWidth(wt){return X.getDimension(wt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(wt){return X.getDimension(wt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(wt){return X.getDimension(wt,"padding-left","paddingLeft")}static getPaddingRight(wt){return X.getDimension(wt,"padding-right","paddingRight")}static getPaddingTop(wt){return X.getDimension(wt,"padding-top","paddingTop")}static getPaddingBottom(wt){return X.getDimension(wt,"padding-bottom","paddingBottom")}static getMarginLeft(wt){return X.getDimension(wt,"margin-left","marginLeft")}static getMarginTop(wt){return X.getDimension(wt,"margin-top","marginTop")}static getMarginRight(wt){return X.getDimension(wt,"margin-right","marginRight")}static getMarginBottom(wt){return X.getDimension(wt,"margin-bottom","marginBottom")}}class te{constructor(wt,sn){this.width=wt,this.height=sn}with(wt=this.width,sn=this.height){return wt!==this.width||sn!==this.height?new te(wt,sn):this}static is(wt){return typeof wt=="object"&&typeof wt.height=="number"&&typeof wt.width=="number"}static lift(wt){return wt instanceof te?wt:new te(wt.width,wt.height)}static equals(wt,sn){return wt===sn?!0:!wt||!sn?!1:wt.width===sn.width&&wt.height===sn.height}}te.None=new te(0,0);function le(kt){let wt=kt.offsetParent,sn=kt.offsetTop,en=kt.offsetLeft;for(;(kt=kt.parentNode)!==null&&kt!==kt.ownerDocument.body&&kt!==kt.ownerDocument.documentElement;){sn-=kt.scrollTop;const Un=ie(kt)?null:m(kt);Un&&(en-=Un.direction!=="rtl"?kt.scrollLeft:-kt.scrollLeft),kt===wt&&(en+=X.getBorderLeftWidth(kt),sn+=X.getBorderTopWidth(kt),sn+=kt.offsetTop,en+=kt.offsetLeft,wt=kt.offsetParent)}return{left:en,top:sn}}function ge(kt,wt,sn){typeof wt=="number"&&(kt.style.width=`${wt}px`),typeof sn=="number"&&(kt.style.height=`${sn}px`)}function we(kt){const wt=kt.getBoundingClientRect(),sn=i(kt);return{left:wt.left+sn.scrollX,top:wt.top+sn.scrollY,width:wt.width,height:wt.height}}function pe(kt){let wt=kt,sn=1;do{const en=m(wt).zoom;en!=null&&en!=="1"&&(sn*=en),wt=wt.parentElement}while(wt!==null&&wt!==wt.ownerDocument.documentElement);return sn}function Pe(kt){const wt=X.getMarginLeft(kt)+X.getMarginRight(kt);return kt.offsetWidth+wt}function Ne(kt){const wt=X.getBorderLeftWidth(kt)+X.getBorderRightWidth(kt),sn=X.getPaddingLeft(kt)+X.getPaddingRight(kt);return kt.offsetWidth-wt-sn}function ae(kt){const wt=X.getBorderTopWidth(kt)+X.getBorderBottomWidth(kt),sn=X.getPaddingTop(kt)+X.getPaddingBottom(kt);return kt.offsetHeight-wt-sn}function Me(kt){const wt=X.getMarginTop(kt)+X.getMarginBottom(kt);return kt.offsetHeight+wt}function ke(kt,wt){return!!(wt!=null&&wt.contains(kt))}function Ue(kt,wt,sn){for(;kt&&kt.nodeType===kt.ELEMENT_NODE;){if(kt.classList.contains(wt))return kt;if(sn){if(typeof sn=="string"){if(kt.classList.contains(sn))return null}else if(kt===sn)return null}kt=kt.parentNode}return null}function Le(kt,wt,sn){return!!Ue(kt,wt,sn)}function ie(kt){return kt&&!!kt.host&&!!kt.mode}function ce(kt){return!!Re(kt)}function Re(kt){for(var wt;kt.parentNode;){if(kt===((wt=kt.ownerDocument)===null||wt===void 0?void 0:wt.body))return null;kt=kt.parentNode}return ie(kt)?kt:null}function ye(){let kt=he().activeElement;for(;kt!=null&&kt.shadowRoot;)kt=kt.shadowRoot.activeElement;return kt}function Se(kt){return kt.ownerDocument.activeElement===kt}function me(kt){return ke(kt.ownerDocument.activeElement,kt)}function he(){var kt;return a()<=1?document:(kt=Array.from(v()).map(({window:sn})=>sn.document).find(sn=>sn.hasFocus()))!==null&&kt!==void 0?kt:document}function se(){var kt,wt;return(wt=(kt=he().defaultView)===null||kt===void 0?void 0:kt.window)!==null&&wt!==void 0?wt:d.Ex}const ve=new Map;function xe(kt=d.Ex.document.head,wt,sn){const en=document.createElement("style");if(en.type="text/css",en.media="screen",wt==null||wt(en),kt.appendChild(en),sn&&sn.add((0,D.OF)(()=>kt.removeChild(en))),kt===d.Ex.document.head){const Un=new Set;ve.set(en,Un);for(const{window:ri,disposables:Jn}of v()){if(ri===d.Ex)continue;const Di=Jn.add(je(en,Un,ri));sn==null||sn.add(Di)}}return en}function je(kt,wt,sn){var en,Un;const ri=new D.SL,Jn=kt.cloneNode(!0);sn.document.head.appendChild(Jn),ri.add((0,D.OF)(()=>sn.document.head.removeChild(Jn)));for(const Di of Et(kt))(en=Jn.sheet)===null||en===void 0||en.insertRule(Di.cssText,(Un=Jn.sheet)===null||Un===void 0?void 0:Un.cssRules.length);return ri.add(Oe.observe(kt,ri,{childList:!0})(()=>{Jn.textContent=kt.textContent})),wt.add(Jn),ri.add((0,D.OF)(()=>wt.delete(Jn))),ri}const Oe=new class{constructor(){this.mutationObservers=new Map}observe(kt,wt,sn){let en=this.mutationObservers.get(kt);en||(en=new Map,this.mutationObservers.set(kt,en));const Un=(0,u.vp)(sn);let ri=en.get(Un);if(ri)ri.users+=1;else{const Jn=new I.Q5,Di=new MutationObserver(Ri=>Jn.fire(Ri));Di.observe(kt,sn);const Ai=ri={users:1,observer:Di,onDidMutate:Jn.event};wt.add((0,D.OF)(()=>{Ai.users-=1,Ai.users===0&&(Jn.dispose(),Di.disconnect(),en==null||en.delete(Un),(en==null?void 0:en.size)===0&&this.mutationObservers.delete(kt))})),en.set(Un,ri)}return ri.onDidMutate}};let Ze=null;function it(){return Ze||(Ze=xe()),Ze}function Et(kt){var wt,sn;return!((wt=kt==null?void 0:kt.sheet)===null||wt===void 0)&&wt.rules?kt.sheet.rules:!((sn=kt==null?void 0:kt.sheet)===null||sn===void 0)&&sn.cssRules?kt.sheet.cssRules:[]}function st(kt,wt,sn=it()){var en,Un;if(!(!sn||!wt)){(en=sn.sheet)===null||en===void 0||en.insertRule(`${kt} {${wt}}`,0);for(const ri of(Un=ve.get(sn))!==null&&Un!==void 0?Un:[])st(kt,wt,ri)}}function pt(kt,wt=it()){var sn,en;if(!wt)return;const Un=Et(wt),ri=[];for(let Jn=0;Jn<Un.length;Jn++){const Di=Un[Jn];Mt(Di)&&Di.selectorText.indexOf(kt)!==-1&&ri.push(Jn)}for(let Jn=ri.length-1;Jn>=0;Jn--)(sn=wt.sheet)===null||sn===void 0||sn.deleteRule(ri[Jn]);for(const Jn of(en=ve.get(wt))!==null&&en!==void 0?en:[])pt(kt,Jn)}function Mt(kt){return typeof kt.selectorText=="string"}function qt(kt){return kt instanceof MouseEvent||kt instanceof i(kt).MouseEvent}function Ft(kt){return kt instanceof KeyboardEvent||kt instanceof i(kt).KeyboardEvent}const Xt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:b.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:b.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:b.Pf?"webkitAnimationIteration":"animationiteration"};function _t(kt){const wt=kt;return!!(wt&&typeof wt.preventDefault=="function"&&typeof wt.stopPropagation=="function")}const nt={stop:(kt,wt)=>(kt.preventDefault(),wt&&kt.stopPropagation(),kt)};function tt(kt){const wt=[];for(let sn=0;kt&&kt.nodeType===kt.ELEMENT_NODE;sn++)wt[sn]=kt.scrollTop,kt=kt.parentNode;return wt}function xt(kt,wt){for(let sn=0;kt&&kt.nodeType===kt.ELEMENT_NODE;sn++)kt.scrollTop!==wt[sn]&&(kt.scrollTop=wt[sn]),kt=kt.parentNode}class Lt extends D.JT{static hasFocusWithin(wt){if(wt instanceof HTMLElement){const sn=Re(wt),en=sn?sn.activeElement:wt.ownerDocument.activeElement;return ke(en,wt)}else{const sn=wt;return ke(sn.document.activeElement,sn.document)}}constructor(wt){super(),this._onDidFocus=this._register(new I.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new I.Q5),this.onDidBlur=this._onDidBlur.event;let sn=Lt.hasFocusWithin(wt),en=!1;const Un=()=>{en=!1,sn||(sn=!0,this._onDidFocus.fire())},ri=()=>{sn&&(en=!0,(wt instanceof HTMLElement?i(wt):wt).setTimeout(()=>{en&&(en=!1,sn=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Lt.hasFocusWithin(wt)!==sn&&(sn?ri():Un())},this._register(W(wt,Xt.FOCUS,Un,!0)),this._register(W(wt,Xt.BLUR,ri,!0)),wt instanceof HTMLElement&&(this._register(W(wt,Xt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(W(wt,Xt.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Be(kt){return new Lt(kt)}function yt(kt,wt){return kt.after(wt),wt}function un(kt,...wt){if(kt.append(...wt),wt.length===1&&typeof wt[0]!="string")return wt[0]}function In(kt,wt){return kt.insertBefore(wt,kt.firstChild),wt}function bn(kt,...wt){kt.innerText="",un(kt,...wt)}const Hn=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var si;(function(kt){kt.HTML="http://www.w3.org/1999/xhtml",kt.SVG="http://www.w3.org/2000/svg"})(si||(si={}));function Yn(kt,wt,sn,...en){const Un=Hn.exec(wt);if(!Un)throw new Error("Bad use of emmet");const ri=Un[1]||"div";let Jn;return kt!==si.HTML?Jn=document.createElementNS(kt,ri):Jn=document.createElement(ri),Un[3]&&(Jn.id=Un[3]),Un[4]&&(Jn.className=Un[4].replace(/\./g," ").trim()),sn&&Object.entries(sn).forEach(([Di,Ai])=>{typeof Ai!="undefined"&&(/^on\w+$/.test(Di)?Jn[Di]=Ai:Di==="selected"?Ai&&Jn.setAttribute(Di,"true"):Jn.setAttribute(Di,Ai))}),Jn.append(...en),Jn}function mi(kt,wt,...sn){return Yn(si.HTML,kt,wt,...sn)}mi.SVG=function(kt,wt,...sn){return Yn(si.SVG,kt,wt,...sn)};function _i(kt,...wt){kt?Wi(...wt):Si(...wt)}function Wi(...kt){for(const wt of kt)wt.style.display="",wt.removeAttribute("aria-hidden")}function Si(...kt){for(const wt of kt)wt.style.display="none",wt.setAttribute("aria-hidden","true")}function Ki(kt,wt){const sn=kt.devicePixelRatio*wt;return Math.max(1,Math.floor(sn))/kt.devicePixelRatio}function bi(kt){d.Ex.open(kt,"_blank","noopener")}function Fi(kt,wt){const sn=()=>{wt(),en=j(kt,sn)};let en=j(kt,sn);return(0,D.OF)(()=>en.dispose())}p.WX.setPreferredWebSchema(/^https:/.test(d.Ex.location.href)?"https":"http");function ts(kt){return kt?`url('${p.Gi.uriToBrowserUri(kt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function wi(kt){return`'${kt.replace(/'/g,"%27")}'`}function ns(kt,wt){if(kt!==void 0){const sn=kt.match(/^\s*var\((.+)\)$/);if(sn){const en=sn[1].split(",",2);return en.length===2&&(wt=ns(en[1].trim(),wt)),`var(${en[0]}, ${wt})`}return kt}return wt}function wn(kt,wt=!1){const sn=document.createElement("a");return M.v5("afterSanitizeAttributes",en=>{for(const Un of["href","src"])if(en.hasAttribute(Un)){const ri=en.getAttribute(Un);if(Un==="href"&&ri.startsWith("#"))continue;if(sn.href=ri,!kt.includes(sn.protocol.replace(/:$/,""))){if(wt&&Un==="src"&&sn.href.startsWith("data:"))continue;en.removeAttribute(Un)}}}),(0,D.OF)(()=>{M.ok("afterSanitizeAttributes")})}const qe=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),Dt=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Qt extends I.Q5{constructor(){super(),this._subscriptions=new D.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(I.ju.runAndSubscribe(C,({window:wt,disposables:sn})=>this.registerListeners(wt,sn),{window:d.Ex,disposables:this._subscriptions}))}registerListeners(wt,sn){sn.add(W(wt,"keydown",en=>{if(en.defaultPrevented)return;const Un=new r.y(en);if(!(Un.keyCode===6&&en.repeat)){if(en.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(en.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(en.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(en.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Un.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=en.altKey,this._keyStatus.ctrlKey=en.ctrlKey,this._keyStatus.metaKey=en.metaKey,this._keyStatus.shiftKey=en.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=en,this.fire(this._keyStatus))}},!0)),sn.add(W(wt,"keyup",en=>{en.defaultPrevented||(!en.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!en.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!en.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!en.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=en.altKey,this._keyStatus.ctrlKey=en.ctrlKey,this._keyStatus.metaKey=en.metaKey,this._keyStatus.shiftKey=en.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=en,this.fire(this._keyStatus)))},!0)),sn.add(W(wt.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),sn.add(W(wt.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),sn.add(W(wt.document.body,"mousemove",en=>{en.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),sn.add(W(wt,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Qt.instance||(Qt.instance=new Qt),Qt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class on extends D.JT{constructor(wt,sn){super(),this.element=wt,this.callbacks=sn,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(W(this.element,Xt.DRAG_START,wt=>{var sn,en;(en=(sn=this.callbacks).onDragStart)===null||en===void 0||en.call(sn,wt)})),this.callbacks.onDrag&&this._register(W(this.element,Xt.DRAG,wt=>{var sn,en;(en=(sn=this.callbacks).onDrag)===null||en===void 0||en.call(sn,wt)})),this._register(W(this.element,Xt.DRAG_ENTER,wt=>{var sn,en;this.counter++,this.dragStartTime=wt.timeStamp,(en=(sn=this.callbacks).onDragEnter)===null||en===void 0||en.call(sn,wt)})),this._register(W(this.element,Xt.DRAG_OVER,wt=>{var sn,en;wt.preventDefault(),(en=(sn=this.callbacks).onDragOver)===null||en===void 0||en.call(sn,wt,wt.timeStamp-this.dragStartTime)})),this._register(W(this.element,Xt.DRAG_LEAVE,wt=>{var sn,en;this.counter--,this.counter===0&&(this.dragStartTime=0,(en=(sn=this.callbacks).onDragLeave)===null||en===void 0||en.call(sn,wt))})),this._register(W(this.element,Xt.DRAG_END,wt=>{var sn,en;this.counter=0,this.dragStartTime=0,(en=(sn=this.callbacks).onDragEnd)===null||en===void 0||en.call(sn,wt)})),this._register(W(this.element,Xt.DROP,wt=>{var sn,en;this.counter=0,this.dragStartTime=0,(en=(sn=this.callbacks).onDrop)===null||en===void 0||en.call(sn,wt)}))}}const Cn=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function Bn(kt,...wt){let sn,en;Array.isArray(wt[0])?(sn={},en=wt[0]):(sn=wt[0]||{},en=wt[1]);const Un=Cn.exec(kt);if(!Un||!Un.groups)throw new Error("Bad use of h");const ri=Un.groups.tag||"div",Jn=document.createElement(ri);Un.groups.id&&(Jn.id=Un.groups.id);const Di=[];if(Un.groups.class)for(const Ri of Un.groups.class.split("."))Ri!==""&&Di.push(Ri);if(sn.className!==void 0)for(const Ri of sn.className.split("."))Ri!==""&&Di.push(Ri);Di.length>0&&(Jn.className=Di.join(" "));const Ai={};if(Un.groups.name&&(Ai[Un.groups.name]=Jn),en)for(const Ri of en)Ri instanceof HTMLElement?Jn.appendChild(Ri):typeof Ri=="string"?Jn.append(Ri):"root"in Ri&&(Object.assign(Ai,Ri),Jn.appendChild(Ri.root));for(const[Ri,Tn]of Object.entries(sn))if(Ri!=="className")if(Ri==="style")for(const[yn,Nn]of Object.entries(Tn))Jn.style.setProperty(jn(yn),typeof Nn=="number"?Nn+"px":""+Nn);else Ri==="tabIndex"?Jn.tabIndex=Tn:Jn.setAttribute(jn(Ri),Tn.toString());return Ai.root=Jn,Ai}function jn(kt){return kt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},70921:function(Ot,Ke,e){"use strict";e.d(Ke,{Nw:function(){return Le},ok:function(){return Se},v5:function(){return ye}});const{entries:b,setPrototypeOf:U,isFrozen:r,getPrototypeOf:w,getOwnPropertyDescriptor:c}=Object;let{freeze:_,seal:I,create:M}=Object,{apply:D,construct:p}=typeof Reflect!="undefined"&&Reflect;D||(D=function(ve,xe,je){return ve.apply(xe,je)}),_||(_=function(ve){return ve}),I||(I=function(ve){return ve}),p||(p=function(ve,xe){return new ve(...xe)});const o=C(Array.prototype.forEach),u=C(Array.prototype.pop),d=C(Array.prototype.push),n=C(String.prototype.toLowerCase),i=C(String.prototype.toString),f=C(String.prototype.match),v=C(String.prototype.replace),a=C(String.prototype.indexOf),S=C(String.prototype.trim),g=C(RegExp.prototype.test),y=E(TypeError);function C(se){return function(ve){for(var xe=arguments.length,je=new Array(xe>1?xe-1:0),Oe=1;Oe<xe;Oe++)je[Oe-1]=arguments[Oe];return D(se,ve,je)}}function E(se){return function(){for(var ve=arguments.length,xe=new Array(ve),je=0;je<ve;je++)xe[je]=arguments[je];return p(se,xe)}}function A(se,ve,xe){var je;xe=(je=xe)!==null&&je!==void 0?je:n,U&&U(se,null);let Oe=ve.length;for(;Oe--;){let Ze=ve[Oe];if(typeof Ze=="string"){const it=xe(Ze);it!==Ze&&(r(ve)||(ve[Oe]=it),Ze=it)}se[Ze]=!0}return se}function N(se){const ve=M(null);for(const[xe,je]of b(se))ve[xe]=je;return ve}function B(se,ve){for(;se!==null;){const je=c(se,ve);if(je){if(je.get)return C(je.get);if(typeof je.value=="function")return C(je.value)}se=w(se)}function xe(je){return console.warn("fallback value for",je),null}return xe}const W=_(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$=_(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=_(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=_(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=_(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),z=_(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=_(["#text"]),P=_(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H=_(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),V=_(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=_(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=I(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F=I(/<%[\w\W]*|[\w\W]*%>/gm),K=I(/\${[\w\W]*}/gm),m=I(/^data-[\-\w.\u00B7-\uFFFF]/),J=I(/^aria-[\-\w]+$/),X=I(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),te=I(/^(?:\w+script|data):/i),le=I(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ge=I(/^html$/i);var we=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:F,TMPLIT_EXPR:K,DATA_ATTR:m,ARIA_ATTR:J,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:le,DOCTYPE_NAME:ge});const pe=()=>typeof window=="undefined"?null:window,Pe=function(ve,xe){if(typeof ve!="object"||typeof ve.createPolicy!="function")return null;let je=null;const Oe="data-tt-policy-suffix";xe&&xe.hasAttribute(Oe)&&(je=xe.getAttribute(Oe));const Ze="dompurify"+(je?"#"+je:"");try{return ve.createPolicy(Ze,{createHTML(it){return it},createScriptURL(it){return it}})}catch(it){return console.warn("TrustedTypes policy "+Ze+" could not be created."),null}};function Ne(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe();const ve=vn=>Ne(vn);if(ve.version="3.0.5",ve.removed=[],!se||!se.document||se.document.nodeType!==9)return ve.isSupported=!1,ve;const xe=se.document,je=xe.currentScript;let{document:Oe}=se;const{DocumentFragment:Ze,HTMLTemplateElement:it,Node:Et,Element:st,NodeFilter:pt,NamedNodeMap:Mt=se.NamedNodeMap||se.MozNamedAttrMap,HTMLFormElement:qt,DOMParser:Ft,trustedTypes:Xt}=se,_t=st.prototype,nt=B(_t,"cloneNode"),tt=B(_t,"nextSibling"),xt=B(_t,"childNodes"),Lt=B(_t,"parentNode");if(typeof it=="function"){const vn=Oe.createElement("template");vn.content&&vn.content.ownerDocument&&(Oe=vn.content.ownerDocument)}let Be,yt="";const{implementation:un,createNodeIterator:In,createDocumentFragment:bn,getElementsByTagName:Hn}=Oe,{importNode:si}=xe;let Yn={};ve.isSupported=typeof b=="function"&&typeof Lt=="function"&&un&&un.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:mi,ERB_EXPR:_i,TMPLIT_EXPR:Wi,DATA_ATTR:Si,ARIA_ATTR:Ki,IS_SCRIPT_OR_DATA:bi,ATTR_WHITESPACE:Fi}=we;let{IS_ALLOWED_URI:ts}=we,wi=null;const ns=A({},[...W,...$,...Y,...L,...O]);let wn=null;const qe=A({},[...P,...H,...V,...G]);let Dt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qt=null,on=null,Cn=!0,Bn=!0,jn=!1,kt=!0,wt=!1,sn=!1,en=!1,Un=!1,ri=!1,Jn=!1,Di=!1,Ai=!0,Ri=!1;const Tn="user-content-";let yn=!0,Nn=!1,Bt={},Yt=null;const fn=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ht=null;const et=A({},["audio","video","img","source","image","track"]);let ee=null;const de=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oe="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml";let be=Ee,Ae=!1,He=null;const Ye=A({},[oe,Ce,Ee],i);let ht;const $t=["application/xhtml+xml","text/html"],gn="text/html";let dn,ln=null;const ct=Oe.createElement("form"),Pt=function($e){return $e instanceof RegExp||$e instanceof Function},Nt=function($e){if(!(ln&&ln===$e)){if((!$e||typeof $e!="object")&&($e={}),$e=N($e),ht=$t.indexOf($e.PARSER_MEDIA_TYPE)===-1?ht=gn:ht=$e.PARSER_MEDIA_TYPE,dn=ht==="application/xhtml+xml"?i:n,wi="ALLOWED_TAGS"in $e?A({},$e.ALLOWED_TAGS,dn):ns,wn="ALLOWED_ATTR"in $e?A({},$e.ALLOWED_ATTR,dn):qe,He="ALLOWED_NAMESPACES"in $e?A({},$e.ALLOWED_NAMESPACES,i):Ye,ee="ADD_URI_SAFE_ATTR"in $e?A(N(de),$e.ADD_URI_SAFE_ATTR,dn):de,Ht="ADD_DATA_URI_TAGS"in $e?A(N(et),$e.ADD_DATA_URI_TAGS,dn):et,Yt="FORBID_CONTENTS"in $e?A({},$e.FORBID_CONTENTS,dn):fn,Qt="FORBID_TAGS"in $e?A({},$e.FORBID_TAGS,dn):{},on="FORBID_ATTR"in $e?A({},$e.FORBID_ATTR,dn):{},Bt="USE_PROFILES"in $e?$e.USE_PROFILES:!1,Cn=$e.ALLOW_ARIA_ATTR!==!1,Bn=$e.ALLOW_DATA_ATTR!==!1,jn=$e.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=$e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,wt=$e.SAFE_FOR_TEMPLATES||!1,sn=$e.WHOLE_DOCUMENT||!1,ri=$e.RETURN_DOM||!1,Jn=$e.RETURN_DOM_FRAGMENT||!1,Di=$e.RETURN_TRUSTED_TYPE||!1,Un=$e.FORCE_BODY||!1,Ai=$e.SANITIZE_DOM!==!1,Ri=$e.SANITIZE_NAMED_PROPS||!1,yn=$e.KEEP_CONTENT!==!1,Nn=$e.IN_PLACE||!1,ts=$e.ALLOWED_URI_REGEXP||X,be=$e.NAMESPACE||Ee,Dt=$e.CUSTOM_ELEMENT_HANDLING||{},$e.CUSTOM_ELEMENT_HANDLING&&Pt($e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dt.tagNameCheck=$e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$e.CUSTOM_ELEMENT_HANDLING&&Pt($e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dt.attributeNameCheck=$e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$e.CUSTOM_ELEMENT_HANDLING&&typeof $e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dt.allowCustomizedBuiltInElements=$e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wt&&(Bn=!1),Jn&&(ri=!0),Bt&&(wi=A({},[...O]),wn=[],Bt.html===!0&&(A(wi,W),A(wn,P)),Bt.svg===!0&&(A(wi,$),A(wn,H),A(wn,G)),Bt.svgFilters===!0&&(A(wi,Y),A(wn,H),A(wn,G)),Bt.mathMl===!0&&(A(wi,L),A(wn,V),A(wn,G))),$e.ADD_TAGS&&(wi===ns&&(wi=N(wi)),A(wi,$e.ADD_TAGS,dn)),$e.ADD_ATTR&&(wn===qe&&(wn=N(wn)),A(wn,$e.ADD_ATTR,dn)),$e.ADD_URI_SAFE_ATTR&&A(ee,$e.ADD_URI_SAFE_ATTR,dn),$e.FORBID_CONTENTS&&(Yt===fn&&(Yt=N(Yt)),A(Yt,$e.FORBID_CONTENTS,dn)),yn&&(wi["#text"]=!0),sn&&A(wi,["html","head","body"]),wi.table&&(A(wi,["tbody"]),delete Qt.tbody),$e.TRUSTED_TYPES_POLICY){if(typeof $e.TRUSTED_TYPES_POLICY.createHTML!="function")throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Be=$e.TRUSTED_TYPES_POLICY,yt=Be.createHTML("")}else Be===void 0&&(Be=Pe(Xt,je)),Be!==null&&typeof yt=="string"&&(yt=Be.createHTML(""));_&&_($e),ln=$e}},Tt=A({},["mi","mo","mn","ms","mtext"]),Zt=A({},["foreignobject","desc","title","annotation-xml"]),zt=A({},["title","style","font","a","script"]),_n=A({},$);A(_n,Y),A(_n,R);const hn=A({},L);A(hn,z);const Mn=function($e){let ft=Lt($e);(!ft||!ft.tagName)&&(ft={namespaceURI:be,tagName:"template"});const gt=n($e.tagName),cn=n(ft.tagName);return He[$e.namespaceURI]?$e.namespaceURI===Ce?ft.namespaceURI===Ee?gt==="svg":ft.namespaceURI===oe?gt==="svg"&&(cn==="annotation-xml"||Tt[cn]):!!_n[gt]:$e.namespaceURI===oe?ft.namespaceURI===Ee?gt==="math":ft.namespaceURI===Ce?gt==="math"&&Zt[cn]:!!hn[gt]:$e.namespaceURI===Ee?ft.namespaceURI===Ce&&!Zt[cn]||ft.namespaceURI===oe&&!Tt[cn]?!1:!hn[gt]&&(zt[gt]||!_n[gt]):!!(ht==="application/xhtml+xml"&&He[$e.namespaceURI]):!1},Rn=function($e){d(ve.removed,{element:$e});try{$e.parentNode.removeChild($e)}catch(ft){$e.remove()}},ni=function($e,ft){try{d(ve.removed,{attribute:ft.getAttributeNode($e),from:ft})}catch(gt){d(ve.removed,{attribute:null,from:ft})}if(ft.removeAttribute($e),$e==="is"&&!wn[$e])if(ri||Jn)try{Rn(ft)}catch(gt){}else try{ft.setAttribute($e,"")}catch(gt){}},gi=function($e){let ft,gt;if(Un)$e="<remove></remove>"+$e;else{const Sn=f($e,/^[\r\n\t ]+/);gt=Sn&&Sn[0]}ht==="application/xhtml+xml"&&be===Ee&&($e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$e+"</body></html>");const cn=Be?Be.createHTML($e):$e;if(be===Ee)try{ft=new Ft().parseFromString(cn,ht)}catch(Sn){}if(!ft||!ft.documentElement){ft=un.createDocument(be,"template",null);try{ft.documentElement.innerHTML=Ae?yt:cn}catch(Sn){}}const rn=ft.body||ft.documentElement;return $e&&gt&&rn.insertBefore(Oe.createTextNode(gt),rn.childNodes[0]||null),be===Ee?Hn.call(ft,sn?"html":"body")[0]:sn?ft.documentElement:rn},Ii=function($e){return In.call($e.ownerDocument||$e,$e,pt.SHOW_ELEMENT|pt.SHOW_COMMENT|pt.SHOW_TEXT,null,!1)},Bi=function($e){return $e instanceof qt&&(typeof $e.nodeName!="string"||typeof $e.textContent!="string"||typeof $e.removeChild!="function"||!($e.attributes instanceof Mt)||typeof $e.removeAttribute!="function"||typeof $e.setAttribute!="function"||typeof $e.namespaceURI!="string"||typeof $e.insertBefore!="function"||typeof $e.hasChildNodes!="function")},Hi=function($e){return typeof Et=="object"?$e instanceof Et:$e&&typeof $e=="object"&&typeof $e.nodeType=="number"&&typeof $e.nodeName=="string"},fi=function($e,ft,gt){Yn[$e]&&o(Yn[$e],cn=>{cn.call(ve,ft,gt,ln)})},Ci=function($e){let ft;if(fi("beforeSanitizeElements",$e,null),Bi($e))return Rn($e),!0;const gt=dn($e.nodeName);if(fi("uponSanitizeElement",$e,{tagName:gt,allowedTags:wi}),$e.hasChildNodes()&&!Hi($e.firstElementChild)&&(!Hi($e.content)||!Hi($e.content.firstElementChild))&&g(/<[/\w]/g,$e.innerHTML)&&g(/<[/\w]/g,$e.textContent))return Rn($e),!0;if(!wi[gt]||Qt[gt]){if(!Qt[gt]&&ci(gt)&&(Dt.tagNameCheck instanceof RegExp&&g(Dt.tagNameCheck,gt)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(gt)))return!1;if(yn&&!Yt[gt]){const cn=Lt($e)||$e.parentNode,rn=xt($e)||$e.childNodes;if(rn&&cn){const Sn=rn.length;for(let En=Sn-1;En>=0;--En)cn.insertBefore(nt(rn[En],!0),tt($e))}}return Rn($e),!0}return $e instanceof st&&!Mn($e)||(gt==="noscript"||gt==="noembed"||gt==="noframes")&&g(/<\/no(script|embed|frames)/i,$e.innerHTML)?(Rn($e),!0):(wt&&$e.nodeType===3&&(ft=$e.textContent,ft=v(ft,mi," "),ft=v(ft,_i," "),ft=v(ft,Wi," "),$e.textContent!==ft&&(d(ve.removed,{element:$e.cloneNode()}),$e.textContent=ft)),fi("afterSanitizeElements",$e,null),!1)},Li=function($e,ft,gt){if(Ai&&(ft==="id"||ft==="name")&&(gt in Oe||gt in ct))return!1;if(!(Bn&&!on[ft]&&g(Si,ft))){if(!(Cn&&g(Ki,ft))){if(!wn[ft]||on[ft]){if(!(ci($e)&&(Dt.tagNameCheck instanceof RegExp&&g(Dt.tagNameCheck,$e)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck($e))&&(Dt.attributeNameCheck instanceof RegExp&&g(Dt.attributeNameCheck,ft)||Dt.attributeNameCheck instanceof Function&&Dt.attributeNameCheck(ft))||ft==="is"&&Dt.allowCustomizedBuiltInElements&&(Dt.tagNameCheck instanceof RegExp&&g(Dt.tagNameCheck,gt)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(gt))))return!1}else if(!ee[ft]){if(!g(ts,v(gt,Fi,""))){if(!((ft==="src"||ft==="xlink:href"||ft==="href")&&$e!=="script"&&a(gt,"data:")===0&&Ht[$e])){if(!(jn&&!g(bi,v(gt,Fi,"")))){if(gt)return!1}}}}}}return!0},ci=function($e){return $e.indexOf("-")>0},Zi=function($e){let ft,gt,cn,rn;fi("beforeSanitizeAttributes",$e,null);const{attributes:Sn}=$e;if(!Sn)return;const En={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:wn};for(rn=Sn.length;rn--;){ft=Sn[rn];const{name:Ln,namespaceURI:On}=ft;if(gt=Ln==="value"?ft.value:S(ft.value),cn=dn(Ln),En.attrName=cn,En.attrValue=gt,En.keepAttr=!0,En.forceKeepAttr=void 0,fi("uponSanitizeAttribute",$e,En),gt=En.attrValue,En.forceKeepAttr||(ni(Ln,$e),!En.keepAttr))continue;if(!kt&&g(/\/>/i,gt)){ni(Ln,$e);continue}wt&&(gt=v(gt,mi," "),gt=v(gt,_i," "),gt=v(gt,Wi," "));const Qn=dn($e.nodeName);if(Li(Qn,cn,gt)){if(Ri&&(cn==="id"||cn==="name")&&(ni(Ln,$e),gt=Tn+gt),Be&&typeof Xt=="object"&&typeof Xt.getAttributeType=="function"&&!On)switch(Xt.getAttributeType(Qn,cn)){case"TrustedHTML":{gt=Be.createHTML(gt);break}case"TrustedScriptURL":{gt=Be.createScriptURL(gt);break}}try{On?$e.setAttributeNS(On,Ln,gt):$e.setAttribute(Ln,gt),u(ve.removed)}catch(Vn){}}}fi("afterSanitizeAttributes",$e,null)},Ji=function vn($e){let ft;const gt=Ii($e);for(fi("beforeSanitizeShadowDOM",$e,null);ft=gt.nextNode();)fi("uponSanitizeShadowNode",ft,null),!Ci(ft)&&(ft.content instanceof Ze&&vn(ft.content),Zi(ft));fi("afterSanitizeShadowDOM",$e,null)};return ve.sanitize=function(vn){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft,gt,cn,rn;if(Ae=!vn,Ae&&(vn="<!-->"),typeof vn!="string"&&!Hi(vn))if(typeof vn.toString=="function"){if(vn=vn.toString(),typeof vn!="string")throw y("dirty is not a string, aborting")}else throw y("toString is not a function");if(!ve.isSupported)return vn;if(en||Nt($e),ve.removed=[],typeof vn=="string"&&(Nn=!1),Nn){if(vn.nodeName){const Ln=dn(vn.nodeName);if(!wi[Ln]||Qt[Ln])throw y("root node is forbidden and cannot be sanitized in-place")}}else if(vn instanceof Et)ft=gi("<!---->"),gt=ft.ownerDocument.importNode(vn,!0),gt.nodeType===1&&gt.nodeName==="BODY"||gt.nodeName==="HTML"?ft=gt:ft.appendChild(gt);else{if(!ri&&!wt&&!sn&&vn.indexOf("<")===-1)return Be&&Di?Be.createHTML(vn):vn;if(ft=gi(vn),!ft)return ri?null:Di?yt:""}ft&&Un&&Rn(ft.firstChild);const Sn=Ii(Nn?vn:ft);for(;cn=Sn.nextNode();)Ci(cn)||(cn.content instanceof Ze&&Ji(cn.content),Zi(cn));if(Nn)return vn;if(ri){if(Jn)for(rn=bn.call(ft.ownerDocument);ft.firstChild;)rn.appendChild(ft.firstChild);else rn=ft;return(wn.shadowroot||wn.shadowrootmode)&&(rn=si.call(xe,rn,!0)),rn}let En=sn?ft.outerHTML:ft.innerHTML;return sn&&wi["!doctype"]&&ft.ownerDocument&&ft.ownerDocument.doctype&&ft.ownerDocument.doctype.name&&g(ge,ft.ownerDocument.doctype.name)&&(En="<!DOCTYPE "+ft.ownerDocument.doctype.name+`>
`+En),wt&&(En=v(En,mi," "),En=v(En,_i," "),En=v(En,Wi," ")),Be&&Di?Be.createHTML(En):En},ve.setConfig=function(vn){Nt(vn),en=!0},ve.clearConfig=function(){ln=null,en=!1},ve.isValidAttribute=function(vn,$e,ft){ln||Nt({});const gt=dn(vn),cn=dn($e);return Li(gt,cn,ft)},ve.addHook=function(vn,$e){typeof $e=="function"&&(Yn[vn]=Yn[vn]||[],d(Yn[vn],$e))},ve.removeHook=function(vn){if(Yn[vn])return u(Yn[vn])},ve.removeHooks=function(vn){Yn[vn]&&(Yn[vn]=[])},ve.removeAllHooks=function(){Yn={}},ve}var ae=Ne(),Me=null;const ke=ae.version,Ue=ae.isSupported,Le=ae.sanitize,ie=ae.setConfig,ce=ae.clearConfig,Re=ae.isValidAttribute,ye=ae.addHook,Se=ae.removeHook,me=ae.removeHooks,he=ae.removeAllHooks},4850:function(Ot,Ke,e){"use strict";e.d(Ke,{Y:function(){return U}});var b=e(4669);class U{get event(){return this.emitter.event}constructor(w,c,_){const I=M=>this.emitter.fire(M);this.emitter=new b.Q5({onWillAddFirstListener:()=>w.addEventListener(c,I,_),onDidRemoveLastListener:()=>w.removeEventListener(c,I,_)})}dispose(){this.emitter.dispose()}}},38626:function(Ot,Ke,e){"use strict";e.d(Ke,{X:function(){return r},Z:function(){return b}});class b{constructor(c){this.domNode=c,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(c){const _=U(c);this._maxWidth!==_&&(this._maxWidth=_,this.domNode.style.maxWidth=this._maxWidth)}setWidth(c){const _=U(c);this._width!==_&&(this._width=_,this.domNode.style.width=this._width)}setHeight(c){const _=U(c);this._height!==_&&(this._height=_,this.domNode.style.height=this._height)}setTop(c){const _=U(c);this._top!==_&&(this._top=_,this.domNode.style.top=this._top)}setLeft(c){const _=U(c);this._left!==_&&(this._left=_,this.domNode.style.left=this._left)}setBottom(c){const _=U(c);this._bottom!==_&&(this._bottom=_,this.domNode.style.bottom=this._bottom)}setRight(c){const _=U(c);this._right!==_&&(this._right=_,this.domNode.style.right=this._right)}setPaddingLeft(c){const _=U(c);this._paddingLeft!==_&&(this._paddingLeft=_,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(c){this._fontFamily!==c&&(this._fontFamily=c,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(c){this._fontWeight!==c&&(this._fontWeight=c,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(c){const _=U(c);this._fontSize!==_&&(this._fontSize=_,this.domNode.style.fontSize=this._fontSize)}setFontStyle(c){this._fontStyle!==c&&(this._fontStyle=c,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(c){this._fontFeatureSettings!==c&&(this._fontFeatureSettings=c,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(c){this._fontVariationSettings!==c&&(this._fontVariationSettings=c,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(c){this._textDecoration!==c&&(this._textDecoration=c,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(c){const _=U(c);this._lineHeight!==_&&(this._lineHeight=_,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(c){const _=U(c);this._letterSpacing!==_&&(this._letterSpacing=_,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(c){this._className!==c&&(this._className=c,this.domNode.className=this._className)}toggleClassName(c,_){this.domNode.classList.toggle(c,_),this._className=this.domNode.className}setDisplay(c){this._display!==c&&(this._display=c,this.domNode.style.display=this._display)}setPosition(c){this._position!==c&&(this._position=c,this.domNode.style.position=this._position)}setVisibility(c){this._visibility!==c&&(this._visibility=c,this.domNode.style.visibility=this._visibility)}setColor(c){this._color!==c&&(this._color=c,this.domNode.style.color=this._color)}setBackgroundColor(c){this._backgroundColor!==c&&(this._backgroundColor=c,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(c){this._layerHint!==c&&(this._layerHint=c,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(c){this._boxShadow!==c&&(this._boxShadow=c,this.domNode.style.boxShadow=c)}setContain(c){this._contain!==c&&(this._contain=c,this.domNode.style.contain=this._contain)}setAttribute(c,_){this.domNode.setAttribute(c,_)}removeAttribute(c){this.domNode.removeAttribute(c)}appendChild(c){this.domNode.appendChild(c.domNode)}removeChild(c){this.domNode.removeChild(c.domNode)}}function U(w){return typeof w=="number"?`${w}px`:w}function r(w){return new b(w)}},94079:function(Ot,Ke,e){"use strict";e.d(Ke,{BO:function(){return r},IY:function(){return U},az:function(){return w}});var b=e(65321);function U(p,o={}){const u=w(o);return u.textContent=p,u}function r(p,o={}){const u=w(o);return _(u,I(p,!!o.renderCodeSegments),o.actionHandler,o.renderCodeSegments),u}function w(p){const o=p.inline?"span":"div",u=document.createElement(o);return p.className&&(u.className=p.className),u}class c{constructor(o){this.source=o,this.index=0}eos(){return this.index>=this.source.length}next(){const o=this.peek();return this.advance(),o}peek(){return this.source[this.index]}advance(){this.index++}}function _(p,o,u,d){let n;if(o.type===2)n=document.createTextNode(o.content||"");else if(o.type===3)n=document.createElement("b");else if(o.type===4)n=document.createElement("i");else if(o.type===7&&d)n=document.createElement("code");else if(o.type===5&&u){const i=document.createElement("a");u.disposables.add(b.mu(i,"click",f=>{u.callback(String(o.index),f)})),n=i}else o.type===8?n=document.createElement("br"):o.type===1&&(n=p);n&&p!==n&&p.appendChild(n),n&&Array.isArray(o.children)&&o.children.forEach(i=>{_(n,i,u,d)})}function I(p,o){const u={type:1,children:[]};let d=0,n=u;const i=[],f=new c(p);for(;!f.eos();){let v=f.next();const a=v==="\\"&&D(f.peek(),o)!==0;if(a&&(v=f.next()),!a&&M(v,o)&&v===f.peek()){f.advance(),n.type===2&&(n=i.pop());const S=D(v,o);if(n.type===S||n.type===5&&S===6)n=i.pop();else{const g={type:S,children:[]};S===5&&(g.index=d,d++),n.children.push(g),i.push(n),n=g}}else if(v===`
`)n.type===2&&(n=i.pop()),n.children.push({type:8});else if(n.type!==2){const S={type:2,content:v};n.children.push(S),i.push(n),n=S}else n.content+=v}return n.type===2&&(n=i.pop()),i.length,u}function M(p,o){return D(p,o)!==0}function D(p,o){switch(p){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return o?7:0;default:return 0}}},93911:function(Ot,Ke,e){"use strict";e.d(Ke,{C:function(){return r}});var b=e(65321),U=e(5976);class r{constructor(){this._hooks=new U.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(c,_){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const I=this._onStopCallback;this._onStopCallback=null,c&&I&&I(_)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(c,_,I,M,D){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=M,this._onStopCallback=D;let p=c;try{c.setPointerCapture(_),this._hooks.add((0,U.OF)(()=>{try{c.releasePointerCapture(_)}catch(o){}}))}catch(o){p=b.Jj(c)}this._hooks.add(b.nm(p,b.tw.POINTER_MOVE,o=>{if(o.buttons!==I){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(b.nm(p,b.tw.POINTER_UP,o=>this.stopMonitoring(!0)))}}},59069:function(Ot,Ke,e){"use strict";e.d(Ke,{y:function(){return p}});var b=e(16268),U=e(22258),r=e(8313),w=e(1432);function c(o){if(o.charCode){const d=String.fromCharCode(o.charCode).toUpperCase();return U.kL.fromString(d)}const u=o.keyCode;if(u===3)return 7;if(b.vU)switch(u){case 59:return 85;case 60:if(w.IJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(w.dz)return 57;break}else if(b.Pf){if(w.dz&&u===93)return 57;if(!w.dz&&u===92)return 57}return U.H_[u]||0}const _=w.dz?256:2048,I=512,M=1024,D=w.dz?2048:256;class p{constructor(u){this._standardKeyboardEventBrand=!0;const d=u;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.altGraphKey=d.getModifierState("AltGraph"),this.keyCode=c(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(u){return this._asKeybinding===u}_computeKeybinding(){let u=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(u=this.keyCode);let d=0;return this.ctrlKey&&(d|=_),this.altKey&&(d|=I),this.shiftKey&&(d|=M),this.metaKey&&(d|=D),d|=u,d}_computeKeyCodeChord(){let u=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(u=this.keyCode),new r.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,u)}}},53253:function(Ot,Ke,e){"use strict";e.d(Ke,{ap:function(){return F},et:function(){return le}});var b=e(65321),U=e(70921),r=e(4850),w=e(94079),c=e(59069),_=e(7317),I=e(56811),M=e(17301),D=e(4669),p=e(59365),o=e(21212),u=e(44742),d=e(79579),n=e(5976);let i={};(function(){function he(se,ve){ve(i)}he.amd=!0,function(se,ve){typeof he=="function"&&he.amd?he(["exports"],ve):typeof exports=="object"?ve(exports):(se=typeof globalThis!="undefined"?globalThis:se||self,ve(se.marked={}))}(this,function(se){"use strict";function ve(Tn,yn){for(var Nn=0;Nn<yn.length;Nn++){var Bt=yn[Nn];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Tn,Bt.key,Bt)}}function xe(Tn,yn,Nn){return yn&&ve(Tn.prototype,yn),Nn&&ve(Tn,Nn),Object.defineProperty(Tn,"prototype",{writable:!1}),Tn}function je(Tn,yn){if(Tn){if(typeof Tn=="string")return Oe(Tn,yn);var Nn=Object.prototype.toString.call(Tn).slice(8,-1);if(Nn==="Object"&&Tn.constructor&&(Nn=Tn.constructor.name),Nn==="Map"||Nn==="Set")return Array.from(Tn);if(Nn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nn))return Oe(Tn,yn)}}function Oe(Tn,yn){(yn==null||yn>Tn.length)&&(yn=Tn.length);for(var Nn=0,Bt=new Array(yn);Nn<yn;Nn++)Bt[Nn]=Tn[Nn];return Bt}function Ze(Tn,yn){var Nn=typeof Symbol!="undefined"&&Tn[Symbol.iterator]||Tn["@@iterator"];if(Nn)return(Nn=Nn.call(Tn)).next.bind(Nn);if(Array.isArray(Tn)||(Nn=je(Tn))||yn&&Tn&&typeof Tn.length=="number"){Nn&&(Tn=Nn);var Bt=0;return function(){return Bt>=Tn.length?{done:!0}:{done:!1,value:Tn[Bt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}se.defaults=it();function Et(Tn){se.defaults=Tn}var st=/[&<>"']/,pt=/[&<>"']/g,Mt=/[<>"']|&(?!#?\w+;)/,qt=/[<>"']|&(?!#?\w+;)/g,Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xt=function(yn){return Ft[yn]};function _t(Tn,yn){if(yn){if(st.test(Tn))return Tn.replace(pt,Xt)}else if(Mt.test(Tn))return Tn.replace(qt,Xt);return Tn}var nt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function tt(Tn){return Tn.replace(nt,function(yn,Nn){return Nn=Nn.toLowerCase(),Nn==="colon"?":":Nn.charAt(0)==="#"?Nn.charAt(1)==="x"?String.fromCharCode(parseInt(Nn.substring(2),16)):String.fromCharCode(+Nn.substring(1)):""})}var xt=/(^|[^\[])\^/g;function Lt(Tn,yn){Tn=typeof Tn=="string"?Tn:Tn.source,yn=yn||"";var Nn={replace:function(Yt,fn){return fn=fn.source||fn,fn=fn.replace(xt,"$1"),Tn=Tn.replace(Yt,fn),Nn},getRegex:function(){return new RegExp(Tn,yn)}};return Nn}var Be=/[^\w:]/g,yt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function un(Tn,yn,Nn){if(Tn){var Bt;try{Bt=decodeURIComponent(tt(Nn)).replace(Be,"").toLowerCase()}catch(Yt){return null}if(Bt.indexOf("javascript:")===0||Bt.indexOf("vbscript:")===0||Bt.indexOf("data:")===0)return null}yn&&!yt.test(Nn)&&(Nn=Yn(yn,Nn));try{Nn=encodeURI(Nn).replace(/%25/g,"%")}catch(Yt){return null}return Nn}var In={},bn=/^[^:]+:\/*[^/]*$/,Hn=/^([^:]+:)[\s\S]*$/,si=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Yn(Tn,yn){In[" "+Tn]||(bn.test(Tn)?In[" "+Tn]=Tn+"/":In[" "+Tn]=Si(Tn,"/",!0)),Tn=In[" "+Tn];var Nn=Tn.indexOf(":")===-1;return yn.substring(0,2)==="//"?Nn?yn:Tn.replace(Hn,"$1")+yn:yn.charAt(0)==="/"?Nn?yn:Tn.replace(si,"$1")+yn:Tn+yn}var mi={exec:function(){}};function _i(Tn){for(var yn=1,Nn,Bt;yn<arguments.length;yn++){Nn=arguments[yn];for(Bt in Nn)Object.prototype.hasOwnProperty.call(Nn,Bt)&&(Tn[Bt]=Nn[Bt])}return Tn}function Wi(Tn,yn){var Nn=Tn.replace(/\|/g,function(fn,Ht,et){for(var ee=!1,de=Ht;--de>=0&&et[de]==="\\";)ee=!ee;return ee?"|":" |"}),Bt=Nn.split(/ \|/),Yt=0;if(Bt[0].trim()||Bt.shift(),Bt.length>0&&!Bt[Bt.length-1].trim()&&Bt.pop(),Bt.length>yn)Bt.splice(yn);else for(;Bt.length<yn;)Bt.push("");for(;Yt<Bt.length;Yt++)Bt[Yt]=Bt[Yt].trim().replace(/\\\|/g,"|");return Bt}function Si(Tn,yn,Nn){var Bt=Tn.length;if(Bt===0)return"";for(var Yt=0;Yt<Bt;){var fn=Tn.charAt(Bt-Yt-1);if(fn===yn&&!Nn)Yt++;else if(fn!==yn&&Nn)Yt++;else break}return Tn.slice(0,Bt-Yt)}function Ki(Tn,yn){if(Tn.indexOf(yn[1])===-1)return-1;for(var Nn=Tn.length,Bt=0,Yt=0;Yt<Nn;Yt++)if(Tn[Yt]==="\\")Yt++;else if(Tn[Yt]===yn[0])Bt++;else if(Tn[Yt]===yn[1]&&(Bt--,Bt<0))return Yt;return-1}function bi(Tn){Tn&&Tn.sanitize&&!Tn.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Fi(Tn,yn){if(yn<1)return"";for(var Nn="";yn>1;)yn&1&&(Nn+=Tn),yn>>=1,Tn+=Tn;return Nn+Tn}function ts(Tn,yn,Nn,Bt){var Yt=yn.href,fn=yn.title?_t(yn.title):null,Ht=Tn[1].replace(/\\([\[\]])/g,"$1");if(Tn[0].charAt(0)!=="!"){Bt.state.inLink=!0;var et={type:"link",raw:Nn,href:Yt,title:fn,text:Ht,tokens:Bt.inlineTokens(Ht)};return Bt.state.inLink=!1,et}return{type:"image",raw:Nn,href:Yt,title:fn,text:_t(Ht)}}function wi(Tn,yn){var Nn=Tn.match(/^(\s+)(?:```)/);if(Nn===null)return yn;var Bt=Nn[1];return yn.split(`
`).map(function(Yt){var fn=Yt.match(/^\s+/);if(fn===null)return Yt;var Ht=fn[0];return Ht.length>=Bt.length?Yt.slice(Bt.length):Yt}).join(`
`)}var ns=function(){function Tn(Nn){this.options=Nn||se.defaults}var yn=Tn.prototype;return yn.space=function(Bt){var Yt=this.rules.block.newline.exec(Bt);if(Yt&&Yt[0].length>0)return{type:"space",raw:Yt[0]}},yn.code=function(Bt){var Yt=this.rules.block.code.exec(Bt);if(Yt){var fn=Yt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Yt[0],codeBlockStyle:"indented",text:this.options.pedantic?fn:Si(fn,`
`)}}},yn.fences=function(Bt){var Yt=this.rules.block.fences.exec(Bt);if(Yt){var fn=Yt[0],Ht=wi(fn,Yt[3]||"");return{type:"code",raw:fn,lang:Yt[2]?Yt[2].trim():Yt[2],text:Ht}}},yn.heading=function(Bt){var Yt=this.rules.block.heading.exec(Bt);if(Yt){var fn=Yt[2].trim();if(/#$/.test(fn)){var Ht=Si(fn,"#");(this.options.pedantic||!Ht||/ $/.test(Ht))&&(fn=Ht.trim())}return{type:"heading",raw:Yt[0],depth:Yt[1].length,text:fn,tokens:this.lexer.inline(fn)}}},yn.hr=function(Bt){var Yt=this.rules.block.hr.exec(Bt);if(Yt)return{type:"hr",raw:Yt[0]}},yn.blockquote=function(Bt){var Yt=this.rules.block.blockquote.exec(Bt);if(Yt){var fn=Yt[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Yt[0],tokens:this.lexer.blockTokens(fn,[]),text:fn}}},yn.list=function(Bt){var Yt=this.rules.block.list.exec(Bt);if(Yt){var fn,Ht,et,ee,de,oe,Ce,Ee,be,Ae,He,Ye,ht=Yt[1].trim(),$t=ht.length>1,gn={type:"list",raw:"",ordered:$t,start:$t?+ht.slice(0,-1):"",loose:!1,items:[]};ht=$t?"\\d{1,9}\\"+ht.slice(-1):"\\"+ht,this.options.pedantic&&(ht=$t?ht:"[*+-]");for(var dn=new RegExp("^( {0,3}"+ht+")((?:[	 ][^\\n]*)?(?:\\n|$))");Bt&&(Ye=!1,!(!(Yt=dn.exec(Bt))||this.rules.block.hr.test(Bt)));){if(fn=Yt[0],Bt=Bt.substring(fn.length),Ee=Yt[2].split(`
`,1)[0],be=Bt.split(`
`,1)[0],this.options.pedantic?(ee=2,He=Ee.trimLeft()):(ee=Yt[2].search(/[^ ]/),ee=ee>4?1:ee,He=Ee.slice(ee),ee+=Yt[1].length),oe=!1,!Ee&&/^ *$/.test(be)&&(fn+=be+`
`,Bt=Bt.substring(be.length+1),Ye=!0),!Ye)for(var ln=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),ct=new RegExp("^ {0,"+Math.min(3,ee-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Pt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:```|~~~)"),Nt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}#");Bt&&(Ae=Bt.split(`
`,1)[0],Ee=Ae,this.options.pedantic&&(Ee=Ee.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Pt.test(Ee)||Nt.test(Ee)||ln.test(Ee)||ct.test(Bt)));){if(Ee.search(/[^ ]/)>=ee||!Ee.trim())He+=`
`+Ee.slice(ee);else if(!oe)He+=`
`+Ee;else break;!oe&&!Ee.trim()&&(oe=!0),fn+=Ae+`
`,Bt=Bt.substring(Ae.length+1)}gn.loose||(Ce?gn.loose=!0:/\n *\n *$/.test(fn)&&(Ce=!0)),this.options.gfm&&(Ht=/^\[[ xX]\] /.exec(He),Ht&&(et=Ht[0]!=="[ ] ",He=He.replace(/^\[[ xX]\] +/,""))),gn.items.push({type:"list_item",raw:fn,task:!!Ht,checked:et,loose:!1,text:He}),gn.raw+=fn}gn.items[gn.items.length-1].raw=fn.trimRight(),gn.items[gn.items.length-1].text=He.trimRight(),gn.raw=gn.raw.trimRight();var Tt=gn.items.length;for(de=0;de<Tt;de++){this.lexer.state.top=!1,gn.items[de].tokens=this.lexer.blockTokens(gn.items[de].text,[]);var Zt=gn.items[de].tokens.filter(function(_n){return _n.type==="space"}),zt=Zt.every(function(_n){for(var hn=_n.raw.split(""),Mn=0,Rn=Ze(hn),ni;!(ni=Rn()).done;){var gi=ni.value;if(gi===`
`&&(Mn+=1),Mn>1)return!0}return!1});!gn.loose&&Zt.length&&zt&&(gn.loose=!0,gn.items[de].loose=!0)}return gn}},yn.html=function(Bt){var Yt=this.rules.block.html.exec(Bt);if(Yt){var fn={type:"html",raw:Yt[0],pre:!this.options.sanitizer&&(Yt[1]==="pre"||Yt[1]==="script"||Yt[1]==="style"),text:Yt[0]};if(this.options.sanitize){var Ht=this.options.sanitizer?this.options.sanitizer(Yt[0]):_t(Yt[0]);fn.type="paragraph",fn.text=Ht,fn.tokens=this.lexer.inline(Ht)}return fn}},yn.def=function(Bt){var Yt=this.rules.block.def.exec(Bt);if(Yt){Yt[3]&&(Yt[3]=Yt[3].substring(1,Yt[3].length-1));var fn=Yt[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:fn,raw:Yt[0],href:Yt[2],title:Yt[3]}}},yn.table=function(Bt){var Yt=this.rules.block.table.exec(Bt);if(Yt){var fn={type:"table",header:Wi(Yt[1]).map(function(Ce){return{text:Ce}}),align:Yt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Yt[3]&&Yt[3].trim()?Yt[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(fn.header.length===fn.align.length){fn.raw=Yt[0];var Ht=fn.align.length,et,ee,de,oe;for(et=0;et<Ht;et++)/^ *-+: *$/.test(fn.align[et])?fn.align[et]="right":/^ *:-+: *$/.test(fn.align[et])?fn.align[et]="center":/^ *:-+ *$/.test(fn.align[et])?fn.align[et]="left":fn.align[et]=null;for(Ht=fn.rows.length,et=0;et<Ht;et++)fn.rows[et]=Wi(fn.rows[et],fn.header.length).map(function(Ce){return{text:Ce}});for(Ht=fn.header.length,ee=0;ee<Ht;ee++)fn.header[ee].tokens=this.lexer.inline(fn.header[ee].text);for(Ht=fn.rows.length,ee=0;ee<Ht;ee++)for(oe=fn.rows[ee],de=0;de<oe.length;de++)oe[de].tokens=this.lexer.inline(oe[de].text);return fn}}},yn.lheading=function(Bt){var Yt=this.rules.block.lheading.exec(Bt);if(Yt)return{type:"heading",raw:Yt[0],depth:Yt[2].charAt(0)==="="?1:2,text:Yt[1],tokens:this.lexer.inline(Yt[1])}},yn.paragraph=function(Bt){var Yt=this.rules.block.paragraph.exec(Bt);if(Yt){var fn=Yt[1].charAt(Yt[1].length-1)===`
`?Yt[1].slice(0,-1):Yt[1];return{type:"paragraph",raw:Yt[0],text:fn,tokens:this.lexer.inline(fn)}}},yn.text=function(Bt){var Yt=this.rules.block.text.exec(Bt);if(Yt)return{type:"text",raw:Yt[0],text:Yt[0],tokens:this.lexer.inline(Yt[0])}},yn.escape=function(Bt){var Yt=this.rules.inline.escape.exec(Bt);if(Yt)return{type:"escape",raw:Yt[0],text:_t(Yt[1])}},yn.tag=function(Bt){var Yt=this.rules.inline.tag.exec(Bt);if(Yt)return!this.lexer.state.inLink&&/^<a /i.test(Yt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Yt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Yt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Yt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Yt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Yt[0]):_t(Yt[0]):Yt[0]}},yn.link=function(Bt){var Yt=this.rules.inline.link.exec(Bt);if(Yt){var fn=Yt[2].trim();if(!this.options.pedantic&&/^</.test(fn)){if(!/>$/.test(fn))return;var Ht=Si(fn.slice(0,-1),"\\");if((fn.length-Ht.length)%2===0)return}else{var et=Ki(Yt[2],"()");if(et>-1){var ee=Yt[0].indexOf("!")===0?5:4,de=ee+Yt[1].length+et;Yt[2]=Yt[2].substring(0,et),Yt[0]=Yt[0].substring(0,de).trim(),Yt[3]=""}}var oe=Yt[2],Ce="";if(this.options.pedantic){var Ee=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(oe);Ee&&(oe=Ee[1],Ce=Ee[3])}else Ce=Yt[3]?Yt[3].slice(1,-1):"";return oe=oe.trim(),/^</.test(oe)&&(this.options.pedantic&&!/>$/.test(fn)?oe=oe.slice(1):oe=oe.slice(1,-1)),ts(Yt,{href:oe&&oe.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},Yt[0],this.lexer)}},yn.reflink=function(Bt,Yt){var fn;if((fn=this.rules.inline.reflink.exec(Bt))||(fn=this.rules.inline.nolink.exec(Bt))){var Ht=(fn[2]||fn[1]).replace(/\s+/g," ");if(Ht=Yt[Ht.toLowerCase()],!Ht||!Ht.href){var et=fn[0].charAt(0);return{type:"text",raw:et,text:et}}return ts(fn,Ht,fn[0],this.lexer)}},yn.emStrong=function(Bt,Yt,fn){fn===void 0&&(fn="");var Ht=this.rules.inline.emStrong.lDelim.exec(Bt);if(Ht&&!(Ht[3]&&fn.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var et=Ht[1]||Ht[2]||"";if(!et||et&&(fn===""||this.rules.inline.punctuation.exec(fn))){var ee=Ht[0].length-1,de,oe,Ce=ee,Ee=0,be=Ht[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(be.lastIndex=0,Yt=Yt.slice(-1*Bt.length+ee);(Ht=be.exec(Yt))!=null;)if(de=Ht[1]||Ht[2]||Ht[3]||Ht[4]||Ht[5]||Ht[6],!!de){if(oe=de.length,Ht[3]||Ht[4]){Ce+=oe;continue}else if((Ht[5]||Ht[6])&&ee%3&&!((ee+oe)%3)){Ee+=oe;continue}if(Ce-=oe,!(Ce>0)){if(oe=Math.min(oe,oe+Ce+Ee),Math.min(ee,oe)%2){var Ae=Bt.slice(1,ee+Ht.index+oe);return{type:"em",raw:Bt.slice(0,ee+Ht.index+oe+1),text:Ae,tokens:this.lexer.inlineTokens(Ae)}}var He=Bt.slice(2,ee+Ht.index+oe-1);return{type:"strong",raw:Bt.slice(0,ee+Ht.index+oe+1),text:He,tokens:this.lexer.inlineTokens(He)}}}}}},yn.codespan=function(Bt){var Yt=this.rules.inline.code.exec(Bt);if(Yt){var fn=Yt[2].replace(/\n/g," "),Ht=/[^ ]/.test(fn),et=/^ /.test(fn)&&/ $/.test(fn);return Ht&&et&&(fn=fn.substring(1,fn.length-1)),fn=_t(fn,!0),{type:"codespan",raw:Yt[0],text:fn}}},yn.br=function(Bt){var Yt=this.rules.inline.br.exec(Bt);if(Yt)return{type:"br",raw:Yt[0]}},yn.del=function(Bt){var Yt=this.rules.inline.del.exec(Bt);if(Yt)return{type:"del",raw:Yt[0],text:Yt[2],tokens:this.lexer.inlineTokens(Yt[2])}},yn.autolink=function(Bt,Yt){var fn=this.rules.inline.autolink.exec(Bt);if(fn){var Ht,et;return fn[2]==="@"?(Ht=_t(this.options.mangle?Yt(fn[1]):fn[1]),et="mailto:"+Ht):(Ht=_t(fn[1]),et=Ht),{type:"link",raw:fn[0],text:Ht,href:et,tokens:[{type:"text",raw:Ht,text:Ht}]}}},yn.url=function(Bt,Yt){var fn;if(fn=this.rules.inline.url.exec(Bt)){var Ht,et;if(fn[2]==="@")Ht=_t(this.options.mangle?Yt(fn[0]):fn[0]),et="mailto:"+Ht;else{var ee;do ee=fn[0],fn[0]=this.rules.inline._backpedal.exec(fn[0])[0];while(ee!==fn[0]);Ht=_t(fn[0]),fn[1]==="www."?et="http://"+Ht:et=Ht}return{type:"link",raw:fn[0],text:Ht,href:et,tokens:[{type:"text",raw:Ht,text:Ht}]}}},yn.inlineText=function(Bt,Yt){var fn=this.rules.inline.text.exec(Bt);if(fn){var Ht;return this.lexer.state.inRawBlock?Ht=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(fn[0]):_t(fn[0]):fn[0]:Ht=_t(this.options.smartypants?Yt(fn[0]):fn[0]),{type:"text",raw:fn[0],text:Ht}}},Tn}(),wn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:mi,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};wn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,wn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,wn.def=Lt(wn.def).replace("label",wn._label).replace("title",wn._title).getRegex(),wn.bullet=/(?:[*+-]|\d{1,9}[.)])/,wn.listItemStart=Lt(/^( *)(bull) */).replace("bull",wn.bullet).getRegex(),wn.list=Lt(wn.list).replace(/bull/g,wn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wn.def.source+")").getRegex(),wn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,wn.html=Lt(wn.html,"i").replace("comment",wn._comment).replace("tag",wn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wn.paragraph=Lt(wn._paragraph).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.blockquote=Lt(wn.blockquote).replace("paragraph",wn.paragraph).getRegex(),wn.normal=_i({},wn),wn.gfm=_i({},wn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),wn.gfm.table=Lt(wn.gfm.table).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.gfm.paragraph=Lt(wn._paragraph).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",wn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.pedantic=_i({},wn.normal,{html:Lt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",wn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mi,paragraph:Lt(wn.normal._paragraph).replace("hr",wn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var qe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:mi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:mi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};qe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",qe.punctuation=Lt(qe.punctuation).replace(/punctuation/g,qe._punctuation).getRegex(),qe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,qe.escapedEmSt=/\\\*|\\_/g,qe._comment=Lt(wn._comment).replace("(?:-->|$)","-->").getRegex(),qe.emStrong.lDelim=Lt(qe.emStrong.lDelim).replace(/punct/g,qe._punctuation).getRegex(),qe.emStrong.rDelimAst=Lt(qe.emStrong.rDelimAst,"g").replace(/punct/g,qe._punctuation).getRegex(),qe.emStrong.rDelimUnd=Lt(qe.emStrong.rDelimUnd,"g").replace(/punct/g,qe._punctuation).getRegex(),qe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,qe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,qe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,qe.autolink=Lt(qe.autolink).replace("scheme",qe._scheme).replace("email",qe._email).getRegex(),qe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,qe.tag=Lt(qe.tag).replace("comment",qe._comment).replace("attribute",qe._attribute).getRegex(),qe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,qe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,qe.link=Lt(qe.link).replace("label",qe._label).replace("href",qe._href).replace("title",qe._title).getRegex(),qe.reflink=Lt(qe.reflink).replace("label",qe._label).replace("ref",wn._label).getRegex(),qe.nolink=Lt(qe.nolink).replace("ref",wn._label).getRegex(),qe.reflinkSearch=Lt(qe.reflinkSearch,"g").replace("reflink",qe.reflink).replace("nolink",qe.nolink).getRegex(),qe.normal=_i({},qe),qe.pedantic=_i({},qe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Lt(/^!?\[(label)\]\((.*?)\)/).replace("label",qe._label).getRegex(),reflink:Lt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",qe._label).getRegex()}),qe.gfm=_i({},qe.normal,{escape:Lt(qe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),qe.gfm.url=Lt(qe.gfm.url,"i").replace("email",qe.gfm._extended_email).getRegex(),qe.breaks=_i({},qe.gfm,{br:Lt(qe.br).replace("{2,}","*").getRegex(),text:Lt(qe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Dt(Tn){return Tn.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Qt(Tn){var yn="",Nn,Bt,Yt=Tn.length;for(Nn=0;Nn<Yt;Nn++)Bt=Tn.charCodeAt(Nn),Math.random()>.5&&(Bt="x"+Bt.toString(16)),yn+="&#"+Bt+";";return yn}var on=function(){function Tn(Nn){this.tokens=[],this.tokens.links=Object.create(null),this.options=Nn||se.defaults,this.options.tokenizer=this.options.tokenizer||new ns,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Bt={block:wn.normal,inline:qe.normal};this.options.pedantic?(Bt.block=wn.pedantic,Bt.inline=qe.pedantic):this.options.gfm&&(Bt.block=wn.gfm,this.options.breaks?Bt.inline=qe.breaks:Bt.inline=qe.gfm),this.tokenizer.rules=Bt}Tn.lex=function(Bt,Yt){var fn=new Tn(Yt);return fn.lex(Bt)},Tn.lexInline=function(Bt,Yt){var fn=new Tn(Yt);return fn.inlineTokens(Bt)};var yn=Tn.prototype;return yn.lex=function(Bt){Bt=Bt.replace(/\r\n|\r/g,`
`),this.blockTokens(Bt,this.tokens);for(var Yt;Yt=this.inlineQueue.shift();)this.inlineTokens(Yt.src,Yt.tokens);return this.tokens},yn.blockTokens=function(Bt,Yt){var fn=this;Yt===void 0&&(Yt=[]),this.options.pedantic?Bt=Bt.replace(/\t/g,"    ").replace(/^ +$/gm,""):Bt=Bt.replace(/^( *)(\t+)/gm,function(Ce,Ee,be){return Ee+"    ".repeat(be.length)});for(var Ht,et,ee,de;Bt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(Ht=Ce.call({lexer:fn},Bt,Yt))?(Bt=Bt.substring(Ht.raw.length),Yt.push(Ht),!0):!1}))){if(Ht=this.tokenizer.space(Bt)){Bt=Bt.substring(Ht.raw.length),Ht.raw.length===1&&Yt.length>0?Yt[Yt.length-1].raw+=`
`:Yt.push(Ht);continue}if(Ht=this.tokenizer.code(Bt)){Bt=Bt.substring(Ht.raw.length),et=Yt[Yt.length-1],et&&(et.type==="paragraph"||et.type==="text")?(et.raw+=`
`+Ht.raw,et.text+=`
`+Ht.text,this.inlineQueue[this.inlineQueue.length-1].src=et.text):Yt.push(Ht);continue}if(Ht=this.tokenizer.fences(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.heading(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.hr(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.blockquote(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.list(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.html(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.def(Bt)){Bt=Bt.substring(Ht.raw.length),et=Yt[Yt.length-1],et&&(et.type==="paragraph"||et.type==="text")?(et.raw+=`
`+Ht.raw,et.text+=`
`+Ht.raw,this.inlineQueue[this.inlineQueue.length-1].src=et.text):this.tokens.links[Ht.tag]||(this.tokens.links[Ht.tag]={href:Ht.href,title:Ht.title});continue}if(Ht=this.tokenizer.table(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.lheading(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(ee=Bt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,Ee=Bt.slice(1),be=void 0;fn.options.extensions.startBlock.forEach(function(Ae){be=Ae.call({lexer:this},Ee),typeof be=="number"&&be>=0&&(Ce=Math.min(Ce,be))}),Ce<1/0&&Ce>=0&&(ee=Bt.substring(0,Ce+1))}(),this.state.top&&(Ht=this.tokenizer.paragraph(ee))){et=Yt[Yt.length-1],de&&et.type==="paragraph"?(et.raw+=`
`+Ht.raw,et.text+=`
`+Ht.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=et.text):Yt.push(Ht),de=ee.length!==Bt.length,Bt=Bt.substring(Ht.raw.length);continue}if(Ht=this.tokenizer.text(Bt)){Bt=Bt.substring(Ht.raw.length),et=Yt[Yt.length-1],et&&et.type==="text"?(et.raw+=`
`+Ht.raw,et.text+=`
`+Ht.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=et.text):Yt.push(Ht);continue}if(Bt){var oe="Infinite loop on byte: "+Bt.charCodeAt(0);if(this.options.silent){console.error(oe);break}else throw new Error(oe)}}return this.state.top=!0,Yt},yn.inline=function(Bt,Yt){return Yt===void 0&&(Yt=[]),this.inlineQueue.push({src:Bt,tokens:Yt}),Yt},yn.inlineTokens=function(Bt,Yt){var fn=this;Yt===void 0&&(Yt=[]);var Ht,et,ee,de=Bt,oe,Ce,Ee;if(this.tokens.links){var be=Object.keys(this.tokens.links);if(be.length>0)for(;(oe=this.tokenizer.rules.inline.reflinkSearch.exec(de))!=null;)be.includes(oe[0].slice(oe[0].lastIndexOf("[")+1,-1))&&(de=de.slice(0,oe.index)+"["+Fi("a",oe[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(oe=this.tokenizer.rules.inline.blockSkip.exec(de))!=null;)de=de.slice(0,oe.index)+"["+Fi("a",oe[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(oe=this.tokenizer.rules.inline.escapedEmSt.exec(de))!=null;)de=de.slice(0,oe.index)+"++"+de.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Bt;)if(Ce||(Ee=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(He){return(Ht=He.call({lexer:fn},Bt,Yt))?(Bt=Bt.substring(Ht.raw.length),Yt.push(Ht),!0):!1}))){if(Ht=this.tokenizer.escape(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.tag(Bt)){Bt=Bt.substring(Ht.raw.length),et=Yt[Yt.length-1],et&&Ht.type==="text"&&et.type==="text"?(et.raw+=Ht.raw,et.text+=Ht.text):Yt.push(Ht);continue}if(Ht=this.tokenizer.link(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.reflink(Bt,this.tokens.links)){Bt=Bt.substring(Ht.raw.length),et=Yt[Yt.length-1],et&&Ht.type==="text"&&et.type==="text"?(et.raw+=Ht.raw,et.text+=Ht.text):Yt.push(Ht);continue}if(Ht=this.tokenizer.emStrong(Bt,de,Ee)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.codespan(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.br(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.del(Bt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(Ht=this.tokenizer.autolink(Bt,Qt)){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(!this.state.inLink&&(Ht=this.tokenizer.url(Bt,Qt))){Bt=Bt.substring(Ht.raw.length),Yt.push(Ht);continue}if(ee=Bt,this.options.extensions&&this.options.extensions.startInline&&function(){var He=1/0,Ye=Bt.slice(1),ht=void 0;fn.options.extensions.startInline.forEach(function($t){ht=$t.call({lexer:this},Ye),typeof ht=="number"&&ht>=0&&(He=Math.min(He,ht))}),He<1/0&&He>=0&&(ee=Bt.substring(0,He+1))}(),Ht=this.tokenizer.inlineText(ee,Dt)){Bt=Bt.substring(Ht.raw.length),Ht.raw.slice(-1)!=="_"&&(Ee=Ht.raw.slice(-1)),Ce=!0,et=Yt[Yt.length-1],et&&et.type==="text"?(et.raw+=Ht.raw,et.text+=Ht.text):Yt.push(Ht);continue}if(Bt){var Ae="Infinite loop on byte: "+Bt.charCodeAt(0);if(this.options.silent){console.error(Ae);break}else throw new Error(Ae)}}return Yt},xe(Tn,null,[{key:"rules",get:function(){return{block:wn,inline:qe}}}]),Tn}(),Cn=function(){function Tn(Nn){this.options=Nn||se.defaults}var yn=Tn.prototype;return yn.code=function(Bt,Yt,fn){var Ht=(Yt||"").match(/\S*/)[0];if(this.options.highlight){var et=this.options.highlight(Bt,Ht);et!=null&&et!==Bt&&(fn=!0,Bt=et)}return Bt=Bt.replace(/\n$/,"")+`
`,Ht?'<pre><code class="'+this.options.langPrefix+_t(Ht,!0)+'">'+(fn?Bt:_t(Bt,!0))+`</code></pre>
`:"<pre><code>"+(fn?Bt:_t(Bt,!0))+`</code></pre>
`},yn.blockquote=function(Bt){return`<blockquote>
`+Bt+`</blockquote>
`},yn.html=function(Bt){return Bt},yn.heading=function(Bt,Yt,fn,Ht){if(this.options.headerIds){var et=this.options.headerPrefix+Ht.slug(fn);return"<h"+Yt+' id="'+et+'">'+Bt+"</h"+Yt+`>
`}return"<h"+Yt+">"+Bt+"</h"+Yt+`>
`},yn.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},yn.list=function(Bt,Yt,fn){var Ht=Yt?"ol":"ul",et=Yt&&fn!==1?' start="'+fn+'"':"";return"<"+Ht+et+`>
`+Bt+"</"+Ht+`>
`},yn.listitem=function(Bt){return"<li>"+Bt+`</li>
`},yn.checkbox=function(Bt){return"<input "+(Bt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},yn.paragraph=function(Bt){return"<p>"+Bt+`</p>
`},yn.table=function(Bt,Yt){return Yt&&(Yt="<tbody>"+Yt+"</tbody>"),`<table>
<thead>
`+Bt+`</thead>
`+Yt+`</table>
`},yn.tablerow=function(Bt){return`<tr>
`+Bt+`</tr>
`},yn.tablecell=function(Bt,Yt){var fn=Yt.header?"th":"td",Ht=Yt.align?"<"+fn+' align="'+Yt.align+'">':"<"+fn+">";return Ht+Bt+("</"+fn+`>
`)},yn.strong=function(Bt){return"<strong>"+Bt+"</strong>"},yn.em=function(Bt){return"<em>"+Bt+"</em>"},yn.codespan=function(Bt){return"<code>"+Bt+"</code>"},yn.br=function(){return this.options.xhtml?"<br/>":"<br>"},yn.del=function(Bt){return"<del>"+Bt+"</del>"},yn.link=function(Bt,Yt,fn){if(Bt=un(this.options.sanitize,this.options.baseUrl,Bt),Bt===null)return fn;var Ht='<a href="'+_t(Bt)+'"';return Yt&&(Ht+=' title="'+Yt+'"'),Ht+=">"+fn+"</a>",Ht},yn.image=function(Bt,Yt,fn){if(Bt=un(this.options.sanitize,this.options.baseUrl,Bt),Bt===null)return fn;var Ht='<img src="'+Bt+'" alt="'+fn+'"';return Yt&&(Ht+=' title="'+Yt+'"'),Ht+=this.options.xhtml?"/>":">",Ht},yn.text=function(Bt){return Bt},Tn}(),Bn=function(){function Tn(){}var yn=Tn.prototype;return yn.strong=function(Bt){return Bt},yn.em=function(Bt){return Bt},yn.codespan=function(Bt){return Bt},yn.del=function(Bt){return Bt},yn.html=function(Bt){return Bt},yn.text=function(Bt){return Bt},yn.link=function(Bt,Yt,fn){return""+fn},yn.image=function(Bt,Yt,fn){return""+fn},yn.br=function(){return""},Tn}(),jn=function(){function Tn(){this.seen={}}var yn=Tn.prototype;return yn.serialize=function(Bt){return Bt.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},yn.getNextSafeSlug=function(Bt,Yt){var fn=Bt,Ht=0;if(this.seen.hasOwnProperty(fn)){Ht=this.seen[Bt];do Ht++,fn=Bt+"-"+Ht;while(this.seen.hasOwnProperty(fn))}return Yt||(this.seen[Bt]=Ht,this.seen[fn]=0),fn},yn.slug=function(Bt,Yt){Yt===void 0&&(Yt={});var fn=this.serialize(Bt);return this.getNextSafeSlug(fn,Yt.dryrun)},Tn}(),kt=function(){function Tn(Nn){this.options=Nn||se.defaults,this.options.renderer=this.options.renderer||new Cn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Bn,this.slugger=new jn}Tn.parse=function(Bt,Yt){var fn=new Tn(Yt);return fn.parse(Bt)},Tn.parseInline=function(Bt,Yt){var fn=new Tn(Yt);return fn.parseInline(Bt)};var yn=Tn.prototype;return yn.parse=function(Bt,Yt){Yt===void 0&&(Yt=!0);var fn="",Ht,et,ee,de,oe,Ce,Ee,be,Ae,He,Ye,ht,$t,gn,dn,ln,ct,Pt,Nt,Tt=Bt.length;for(Ht=0;Ht<Tt;Ht++){if(He=Bt[Ht],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[He.type]&&(Nt=this.options.extensions.renderers[He.type].call({parser:this},He),Nt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(He.type))){fn+=Nt||"";continue}switch(He.type){case"space":continue;case"hr":{fn+=this.renderer.hr();continue}case"heading":{fn+=this.renderer.heading(this.parseInline(He.tokens),He.depth,tt(this.parseInline(He.tokens,this.textRenderer)),this.slugger);continue}case"code":{fn+=this.renderer.code(He.text,He.lang,He.escaped);continue}case"table":{for(be="",Ee="",de=He.header.length,et=0;et<de;et++)Ee+=this.renderer.tablecell(this.parseInline(He.header[et].tokens),{header:!0,align:He.align[et]});for(be+=this.renderer.tablerow(Ee),Ae="",de=He.rows.length,et=0;et<de;et++){for(Ce=He.rows[et],Ee="",oe=Ce.length,ee=0;ee<oe;ee++)Ee+=this.renderer.tablecell(this.parseInline(Ce[ee].tokens),{header:!1,align:He.align[ee]});Ae+=this.renderer.tablerow(Ee)}fn+=this.renderer.table(be,Ae);continue}case"blockquote":{Ae=this.parse(He.tokens),fn+=this.renderer.blockquote(Ae);continue}case"list":{for(Ye=He.ordered,ht=He.start,$t=He.loose,de=He.items.length,Ae="",et=0;et<de;et++)dn=He.items[et],ln=dn.checked,ct=dn.task,gn="",dn.task&&(Pt=this.renderer.checkbox(ln),$t?dn.tokens.length>0&&dn.tokens[0].type==="paragraph"?(dn.tokens[0].text=Pt+" "+dn.tokens[0].text,dn.tokens[0].tokens&&dn.tokens[0].tokens.length>0&&dn.tokens[0].tokens[0].type==="text"&&(dn.tokens[0].tokens[0].text=Pt+" "+dn.tokens[0].tokens[0].text)):dn.tokens.unshift({type:"text",text:Pt}):gn+=Pt),gn+=this.parse(dn.tokens,$t),Ae+=this.renderer.listitem(gn,ct,ln);fn+=this.renderer.list(Ae,Ye,ht);continue}case"html":{fn+=this.renderer.html(He.text);continue}case"paragraph":{fn+=this.renderer.paragraph(this.parseInline(He.tokens));continue}case"text":{for(Ae=He.tokens?this.parseInline(He.tokens):He.text;Ht+1<Tt&&Bt[Ht+1].type==="text";)He=Bt[++Ht],Ae+=`
`+(He.tokens?this.parseInline(He.tokens):He.text);fn+=Yt?this.renderer.paragraph(Ae):Ae;continue}default:{var Zt='Token with "'+He.type+'" type was not found.';if(this.options.silent){console.error(Zt);return}else throw new Error(Zt)}}}return fn},yn.parseInline=function(Bt,Yt){Yt=Yt||this.renderer;var fn="",Ht,et,ee,de=Bt.length;for(Ht=0;Ht<de;Ht++){if(et=Bt[Ht],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[et.type]&&(ee=this.options.extensions.renderers[et.type].call({parser:this},et),ee!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(et.type))){fn+=ee||"";continue}switch(et.type){case"escape":{fn+=Yt.text(et.text);break}case"html":{fn+=Yt.html(et.text);break}case"link":{fn+=Yt.link(et.href,et.title,this.parseInline(et.tokens,Yt));break}case"image":{fn+=Yt.image(et.href,et.title,et.text);break}case"strong":{fn+=Yt.strong(this.parseInline(et.tokens,Yt));break}case"em":{fn+=Yt.em(this.parseInline(et.tokens,Yt));break}case"codespan":{fn+=Yt.codespan(et.text);break}case"br":{fn+=Yt.br();break}case"del":{fn+=Yt.del(this.parseInline(et.tokens,Yt));break}case"text":{fn+=Yt.text(et.text);break}default:{var oe='Token with "'+et.type+'" type was not found.';if(this.options.silent){console.error(oe);return}else throw new Error(oe)}}}return fn},Tn}();function wt(Tn,yn,Nn){if(typeof Tn=="undefined"||Tn===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Tn!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Tn)+", string expected");if(typeof yn=="function"&&(Nn=yn,yn=null),yn=_i({},wt.defaults,yn||{}),bi(yn),Nn){var Bt=yn.highlight,Yt;try{Yt=on.lex(Tn,yn)}catch(de){return Nn(de)}var fn=function(oe){var Ce;if(!oe)try{yn.walkTokens&&wt.walkTokens(Yt,yn.walkTokens),Ce=kt.parse(Yt,yn)}catch(Ee){oe=Ee}return yn.highlight=Bt,oe?Nn(oe):Nn(null,Ce)};if(!Bt||Bt.length<3||(delete yn.highlight,!Yt.length))return fn();var Ht=0;wt.walkTokens(Yt,function(de){de.type==="code"&&(Ht++,setTimeout(function(){Bt(de.text,de.lang,function(oe,Ce){if(oe)return fn(oe);Ce!=null&&Ce!==de.text&&(de.text=Ce,de.escaped=!0),Ht--,Ht===0&&fn()})},0))}),Ht===0&&fn();return}function et(de){if(de.message+=`
Please report this to https://github.com/markedjs/marked.`,yn.silent)return"<p>An error occurred:</p><pre>"+_t(de.message+"",!0)+"</pre>";throw de}try{var ee=on.lex(Tn,yn);if(yn.walkTokens){if(yn.async)return Promise.all(wt.walkTokens(ee,yn.walkTokens)).then(function(){return kt.parse(ee,yn)}).catch(et);wt.walkTokens(ee,yn.walkTokens)}return kt.parse(ee,yn)}catch(de){et(de)}}wt.options=wt.setOptions=function(Tn){return _i(wt.defaults,Tn),Et(wt.defaults),wt},wt.getDefaults=it,wt.defaults=se.defaults,wt.use=function(){for(var Tn=arguments.length,yn=new Array(Tn),Nn=0;Nn<Tn;Nn++)yn[Nn]=arguments[Nn];var Bt=_i.apply(void 0,[{}].concat(yn)),Yt=wt.defaults.extensions||{renderers:{},childTokens:{}},fn;yn.forEach(function(Ht){if(Ht.extensions&&(fn=!0,Ht.extensions.forEach(function(ee){if(!ee.name)throw new Error("extension name required");if(ee.renderer){var de=Yt.renderers?Yt.renderers[ee.name]:null;de?Yt.renderers[ee.name]=function(){for(var oe=arguments.length,Ce=new Array(oe),Ee=0;Ee<oe;Ee++)Ce[Ee]=arguments[Ee];var be=ee.renderer.apply(this,Ce);return be===!1&&(be=de.apply(this,Ce)),be}:Yt.renderers[ee.name]=ee.renderer}if(ee.tokenizer){if(!ee.level||ee.level!=="block"&&ee.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Yt[ee.level]?Yt[ee.level].unshift(ee.tokenizer):Yt[ee.level]=[ee.tokenizer],ee.start&&(ee.level==="block"?Yt.startBlock?Yt.startBlock.push(ee.start):Yt.startBlock=[ee.start]:ee.level==="inline"&&(Yt.startInline?Yt.startInline.push(ee.start):Yt.startInline=[ee.start]))}ee.childTokens&&(Yt.childTokens[ee.name]=ee.childTokens)})),Ht.renderer&&function(){var ee=wt.defaults.renderer||new Cn,de=function(Ee){var be=ee[Ee];ee[Ee]=function(){for(var Ae=arguments.length,He=new Array(Ae),Ye=0;Ye<Ae;Ye++)He[Ye]=arguments[Ye];var ht=Ht.renderer[Ee].apply(ee,He);return ht===!1&&(ht=be.apply(ee,He)),ht}};for(var oe in Ht.renderer)de(oe);Bt.renderer=ee}(),Ht.tokenizer&&function(){var ee=wt.defaults.tokenizer||new ns,de=function(Ee){var be=ee[Ee];ee[Ee]=function(){for(var Ae=arguments.length,He=new Array(Ae),Ye=0;Ye<Ae;Ye++)He[Ye]=arguments[Ye];var ht=Ht.tokenizer[Ee].apply(ee,He);return ht===!1&&(ht=be.apply(ee,He)),ht}};for(var oe in Ht.tokenizer)de(oe);Bt.tokenizer=ee}(),Ht.walkTokens){var et=wt.defaults.walkTokens;Bt.walkTokens=function(ee){var de=[];return de.push(Ht.walkTokens.call(this,ee)),et&&(de=de.concat(et.call(this,ee))),de}}fn&&(Bt.extensions=Yt),wt.setOptions(Bt)})},wt.walkTokens=function(Tn,yn){for(var Nn=[],Bt=function(){var et=fn.value;switch(Nn=Nn.concat(yn.call(wt,et)),et.type){case"table":{for(var ee=Ze(et.header),de;!(de=ee()).done;){var oe=de.value;Nn=Nn.concat(wt.walkTokens(oe.tokens,yn))}for(var Ce=Ze(et.rows),Ee;!(Ee=Ce()).done;)for(var be=Ee.value,Ae=Ze(be),He;!(He=Ae()).done;){var Ye=He.value;Nn=Nn.concat(wt.walkTokens(Ye.tokens,yn))}break}case"list":{Nn=Nn.concat(wt.walkTokens(et.items,yn));break}default:wt.defaults.extensions&&wt.defaults.extensions.childTokens&&wt.defaults.extensions.childTokens[et.type]?wt.defaults.extensions.childTokens[et.type].forEach(function(ht){Nn=Nn.concat(wt.walkTokens(et[ht],yn))}):et.tokens&&(Nn=Nn.concat(wt.walkTokens(et.tokens,yn)))}},Yt=Ze(Tn),fn;!(fn=Yt()).done;)Bt();return Nn},wt.parseInline=function(Tn,yn){if(typeof Tn=="undefined"||Tn===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Tn!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Tn)+", string expected");yn=_i({},wt.defaults,yn||{}),bi(yn);try{var Nn=on.lexInline(Tn,yn);return yn.walkTokens&&wt.walkTokens(Nn,yn.walkTokens),kt.parseInline(Nn,yn)}catch(Bt){if(Bt.message+=`
Please report this to https://github.com/markedjs/marked.`,yn.silent)return"<p>An error occurred:</p><pre>"+_t(Bt.message+"",!0)+"</pre>";throw Bt}},wt.Parser=kt,wt.parser=kt.parse,wt.Renderer=Cn,wt.TextRenderer=Bn,wt.Lexer=on,wt.lexer=on.lex,wt.Tokenizer=ns,wt.Slugger=jn,wt.parse=wt;var sn=wt.options,en=wt.setOptions,Un=wt.use,ri=wt.walkTokens,Jn=wt.parseInline,Di=wt,Ai=kt.parse,Ri=on.lex;se.Lexer=on,se.Parser=kt,se.Renderer=Cn,se.Slugger=jn,se.TextRenderer=Bn,se.Tokenizer=ns,se.getDefaults=it,se.lexer=Ri,se.marked=wt,se.options=sn,se.parse=Di,se.parseInline=Jn,se.parser=Ai,se.setOptions=en,se.use=Un,se.walkTokens=ri,Object.defineProperty(se,"__esModule",{value:!0})})})();var f=i.Lexer||exports.Lexer,v=i.Parser||exports.Parser,a=i.Renderer||exports.Renderer,S=i.Slugger||exports.Slugger,g=i.TextRenderer||exports.TextRenderer,y=i.Tokenizer||exports.Tokenizer,C=i.getDefaults||exports.getDefaults,E=i.lexer||exports.lexer,A=i.marked||exports.marked,N=i.options||exports.options,B=i.parse||exports.parse,W=i.parseInline||exports.parseInline,$=i.parser||exports.parser,Y=i.setOptions||exports.setOptions,R=i.use||exports.use,L=i.walkTokens||exports.walkTokens,z=e(23897),O=e(66663),P=e(36248),H=e(95935),V=e(97295),G=e(70666);const j=Object.freeze({image:(he,se,ve)=>{let xe=[],je=[];return he&&({href:he,dimensions:xe}=(0,p.v1)(he),je.push(`src="${(0,p.d9)(he)}"`)),ve&&je.push(`alt="${(0,p.d9)(ve)}"`),se&&je.push(`title="${(0,p.d9)(se)}"`),xe.length&&(je=je.concat(xe)),"<img "+je.join(" ")+">"},paragraph:he=>`<p>${he}</p>`,link:(he,se,ve)=>typeof he!="string"?"":(he===ve&&(ve=(0,p.oR)(ve)),se=typeof se=="string"?(0,p.d9)((0,p.oR)(se)):"",he=(0,p.oR)(he),he=he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${he}" title="${se||he}" draggable="false">${ve}</a>`)});function F(he,se={},ve={}){var xe,je;const Oe=new n.SL;let Ze=!1;const it=(0,w.az)(se),Et=function(tt){let xt;try{xt=(0,z.Qc)(decodeURIComponent(tt))}catch(Lt){}return xt?(xt=(0,P.rs)(xt,Lt=>{if(he.uris&&he.uris[Lt])return G.o.revive(he.uris[Lt])}),encodeURIComponent(JSON.stringify(xt))):tt},st=function(tt,xt){const Lt=he.uris&&he.uris[tt];let Be=G.o.revive(Lt);return xt?tt.startsWith(O.lg.data+":")?tt:(Be||(Be=G.o.parse(tt)),O.Gi.uriToBrowserUri(Be).toString(!0)):!Be||G.o.parse(tt).toString()===Be.toString()?tt:(Be.query&&(Be=Be.with({query:Et(Be.query)})),Be.toString())},pt=new A.Renderer;pt.image=j.image,pt.link=j.link,pt.paragraph=j.paragraph;const Mt=[],qt=[];if(se.codeBlockRendererSync?pt.code=(tt,xt)=>{const Lt=u.a.nextId(),Be=se.codeBlockRendererSync(K(xt),tt);return qt.push([Lt,Be]),`<div class="code" data-code="${Lt}">${(0,V.YU)(tt)}</div>`}:se.codeBlockRenderer&&(pt.code=(tt,xt)=>{const Lt=u.a.nextId(),Be=se.codeBlockRenderer(K(xt),tt);return Mt.push(Be.then(yt=>[Lt,yt])),`<div class="code" data-code="${Lt}">${(0,V.YU)(tt)}</div>`}),se.actionHandler){const tt=function(Be){let yt=Be.target;if(!(yt.tagName!=="A"&&(yt=yt.parentElement,!yt||yt.tagName!=="A")))try{let un=yt.dataset.href;un&&(he.baseUri&&(un=m(G.o.from(he.baseUri),un)),se.actionHandler.callback(un,Be))}catch(un){(0,M.dL)(un)}finally{Be.preventDefault()}},xt=se.actionHandler.disposables.add(new r.Y(it,"click")),Lt=se.actionHandler.disposables.add(new r.Y(it,"auxclick"));se.actionHandler.disposables.add(D.ju.any(xt.event,Lt.event)(Be=>{const yt=new _.n(b.Jj(it),Be);!yt.leftButton&&!yt.middleButton||tt(yt)})),se.actionHandler.disposables.add(b.nm(it,"keydown",Be=>{const yt=new c.y(Be);!yt.equals(10)&&!yt.equals(3)||tt(yt)}))}he.supportHtml||(ve.sanitizer=tt=>(he.isTrusted?tt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?tt:"",ve.sanitize=!0,ve.silent=!0),ve.renderer=pt;let Ft=(xe=he.value)!==null&&xe!==void 0?xe:"";Ft.length>1e5&&(Ft=`${Ft.substr(0,1e5)}\u2026`),he.supportThemeIcons&&(Ft=(0,o.f$)(Ft));let Xt;if(se.fillInIncompleteTokens){const tt=Xn(Xn({},A.defaults),ve),xt=A.lexer(Ft,tt),Lt=ae(xt);Xt=A.parser(Lt,tt)}else Xt=A.parse(Ft,ve);he.supportThemeIcons&&(Xt=(0,I.T)(Xt).map(xt=>typeof xt=="string"?xt:xt.outerHTML).join(""));const nt=new DOMParser().parseFromString(J(he,Xt),"text/html");if(nt.body.querySelectorAll("img").forEach(tt=>{const xt=tt.getAttribute("src");if(xt){let Lt=xt;try{he.baseUri&&(Lt=m(G.o.from(he.baseUri),Lt))}catch(Be){}tt.src=st(Lt,!0)}}),nt.body.querySelectorAll("a").forEach(tt=>{const xt=tt.getAttribute("href");if(tt.setAttribute("href",""),!xt||/^data:|javascript:/i.test(xt)||/^command:/i.test(xt)&&!he.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(xt))tt.replaceWith(...tt.childNodes);else{let Lt=st(xt,!1);he.baseUri&&(Lt=m(G.o.from(he.baseUri),xt)),tt.dataset.href=Lt}}),it.innerHTML=J(he,nt.body.innerHTML),Mt.length>0)Promise.all(Mt).then(tt=>{var xt,Lt;if(Ze)return;const Be=new Map(tt),yt=it.querySelectorAll("div[data-code]");for(const un of yt){const In=Be.get((xt=un.dataset.code)!==null&&xt!==void 0?xt:"");In&&b.mc(un,In)}(Lt=se.asyncRenderCallback)===null||Lt===void 0||Lt.call(se)});else if(qt.length>0){const tt=new Map(qt),xt=it.querySelectorAll("div[data-code]");for(const Lt of xt){const Be=tt.get((je=Lt.dataset.code)!==null&&je!==void 0?je:"");Be&&b.mc(Lt,Be)}}if(se.asyncRenderCallback)for(const tt of it.getElementsByTagName("img")){const xt=Oe.add(b.nm(tt,"load",()=>{xt.dispose(),se.asyncRenderCallback()}))}return{element:it,dispose:()=>{Ze=!0,Oe.dispose()}}}function K(he){if(!he)return"";const se=he.split(/[\s+|:|,|\{|\?]/,1);return se.length?se[0]:he}function m(he,se){return/^\w[\w\d+.-]*:/.test(se)?se:he.path.endsWith("/")?(0,H.i3)(he,se).toString():(0,H.i3)((0,H.XX)(he),se).toString()}function J(he,se){const{config:ve,allowedSchemes:xe}=te(he);U.v5("uponSanitizeAttribute",(Oe,Ze)=>{if(Ze.attrName==="style"||Ze.attrName==="class"){if(Oe.tagName==="SPAN"){if(Ze.attrName==="style"){Ze.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Ze.attrValue);return}else if(Ze.attrName==="class"){Ze.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Ze.attrValue);return}}Ze.keepAttr=!1;return}});const je=b._F(xe);try{return U.Nw(se,Ni(Xn({},ve),{RETURN_TRUSTED_TYPE:!0}))}finally{U.ok("uponSanitizeAttribute"),je.dispose()}}const X=["align","autoplay","alt","class","controls","data-code","data-href","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function te(he){const se=[O.lg.http,O.lg.https,O.lg.mailto,O.lg.data,O.lg.file,O.lg.vscodeFileResource,O.lg.vscodeRemote,O.lg.vscodeRemoteResource];return he.isTrusted&&se.push(O.lg.command),{config:{ALLOWED_TAGS:[...b.sQ],ALLOWED_ATTR:X,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:se}}function le(he){return typeof he=="string"?he:ge(he)}function ge(he){var se;let ve=(se=he.value)!==null&&se!==void 0?se:"";ve.length>1e5&&(ve=`${ve.substr(0,1e5)}\u2026`);const xe=A.parse(ve,{renderer:pe.value}).replace(/&(#\d+|[a-zA-Z]+);/g,je=>{var Oe;return(Oe=we.get(je))!==null&&Oe!==void 0?Oe:je});return J({isTrusted:!1},xe).toString()}const we=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),pe=new d.o(()=>{const he=new A.Renderer;return he.code=se=>se,he.blockquote=se=>se,he.html=se=>"",he.heading=(se,ve,xe)=>se+`
`,he.hr=()=>"",he.list=(se,ve)=>se,he.listitem=se=>se+`
`,he.paragraph=se=>se+`
`,he.table=(se,ve)=>se+ve+`
`,he.tablerow=se=>se,he.tablecell=(se,ve)=>se+" ",he.strong=se=>se,he.em=se=>se,he.codespan=se=>se,he.br=()=>`
`,he.del=se=>se,he.image=(se,ve,xe)=>"",he.text=se=>se,he.link=(se,ve,xe)=>xe,he});function Pe(he){let se="";return he.forEach(ve=>{se+=ve.raw}),se}function Ne(he){for(const se of he.tokens)if(se.type==="text"){const ve=se.raw.split(`
`),xe=ve[ve.length-1];if(xe.includes("`"))return ke(he);if(xe.includes("**"))return Re(he);if(xe.match(/\*\w/))return Ue(he);if(xe.match(/(^|\s)__\w/))return ye(he);if(xe.match(/(^|\s)_\w/))return Le(he);if(xe.match(/(^|\s)\[.*\]\(\w*/))return ie(he);if(xe.match(/(^|\s)\[\w/))return ce(he)}}function ae(he){let se,ve;for(se=0;se<he.length;se++){const xe=he[se];if(xe.type==="paragraph"&&xe.raw.match(/(\n|^)```/)){ve=Me(he.slice(se));break}if(xe.type==="paragraph"&&xe.raw.match(/(\n|^)\|/)){ve=me(he.slice(se));break}if(se===he.length-1&&xe.type==="paragraph"){const je=Ne(xe);if(je){ve=[je];break}}}if(ve){const xe=[...he.slice(0,se),...ve];return xe.links=he.links,xe}return he}function Me(he){const se=Pe(he);return A.lexer(se+"\n```")}function ke(he){return Se(he,"`")}function Ue(he){return Se(he,"*")}function Le(he){return Se(he,"_")}function ie(he){return Se(he,")")}function ce(he){return Se(he,"](about:blank)")}function Re(he){return Se(he,"**")}function ye(he){return Se(he,"__")}function Se(he,se){const ve=Pe(Array.isArray(he)?he:[he]);return A.lexer(ve+se)[0]}function me(he){const se=Pe(he),ve=se.split(`
`);let xe,je=!1;for(let Oe=0;Oe<ve.length;Oe++){const Ze=ve[Oe].trim();if(typeof xe=="undefined"&&Ze.match(/^\s*\|/)){const it=Ze.match(/(\|[^\|]+)(?=\||$)/g);it&&(xe=it.length)}else if(typeof xe=="number")if(Ze.match(/^\s*\|/)){if(Oe!==ve.length-1)return;je=!0}else return}if(typeof xe=="number"&&xe>0){const Oe=je?ve.slice(0,-1).join(`
`):se,Ze=!!Oe.match(/\|\s*$/),it=Oe+(Ze?"":"|")+`
|${" --- |".repeat(xe)}`;return A.lexer(it)}}},7317:function(Ot,Ke,e){"use strict";e.d(Ke,{n:function(){return _},q:function(){return I}});var b=e(16268);const U=new WeakMap;function r(M){if(!M.parent||M.parent===M)return null;try{const D=M.location,p=M.parent.location;if(D.origin!=="null"&&p.origin!=="null"&&D.origin!==p.origin)return null}catch(D){return null}return M.parent}class w{static getSameOriginWindowChain(D){let p=U.get(D);if(!p){p=[],U.set(D,p);let o=D,u;do u=r(o),u?p.push({window:new WeakRef(o),iframeElement:o.frameElement||null}):p.push({window:new WeakRef(o),iframeElement:null}),o=u;while(o)}return p.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(D,p){var o,u;if(!p||D===p)return{top:0,left:0};let d=0,n=0;const i=this.getSameOriginWindowChain(D);for(const f of i){const v=f.window.deref();if(d+=(o=v==null?void 0:v.scrollY)!==null&&o!==void 0?o:0,n+=(u=v==null?void 0:v.scrollX)!==null&&u!==void 0?u:0,v===p||!f.iframeElement)break;const a=f.iframeElement.getBoundingClientRect();d+=a.top,n+=a.left}return{top:d,left:n}}}var c=e(1432);class _{constructor(D,p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=p.button===0,this.middleButton=p.button===1,this.rightButton=p.button===2,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,p.type==="dblclick"&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,typeof p.pageX=="number"?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=p.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const o=w.getPositionOfChildWindowRelativeToAncestorWindow(D,p.view);this.posx-=o.left,this.posy-=o.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class I{constructor(D,p=0,o=0){if(this.browserEvent=D||null,this.target=D?D.target||D.targetNode||D.srcElement:null,this.deltaY=o,this.deltaX=p,D){const u=D,d=D;if(typeof u.wheelDeltaY!="undefined")this.deltaY=u.wheelDeltaY/120;else if(typeof d.VERTICAL_AXIS!="undefined"&&d.axis===d.VERTICAL_AXIS)this.deltaY=-d.detail/3;else if(D.type==="wheel"){const n=D;n.deltaMode===n.DOM_DELTA_LINE?b.vU&&!c.dz?this.deltaY=-D.deltaY/3:this.deltaY=-D.deltaY:this.deltaY=-D.deltaY/40}if(typeof u.wheelDeltaX!="undefined")b.G6&&c.ED?this.deltaX=-(u.wheelDeltaX/120):this.deltaX=u.wheelDeltaX/120;else if(typeof d.HORIZONTAL_AXIS!="undefined"&&d.axis===d.HORIZONTAL_AXIS)this.deltaX=-D.detail/3;else if(D.type==="wheel"){const n=D;n.deltaMode===n.DOM_DELTA_LINE?b.vU&&!c.dz?this.deltaX=-D.deltaX/3:this.deltaX=-D.deltaX:this.deltaX=-D.deltaX/40}this.deltaY===0&&this.deltaX===0&&D.wheelDelta&&(this.deltaY=D.wheelDelta/120)}}preventDefault(){var D;(D=this.browserEvent)===null||D===void 0||D.preventDefault()}stopPropagation(){var D;(D=this.browserEvent)===null||D===void 0||D.stopPropagation()}}},50795:function(Ot,Ke,e){"use strict";e.d(Ke,{B:function(){return b}});var b;(function(U){const r={total:0,min:Number.MAX_VALUE,max:0},w=Xn({},r),c=Xn({},r),_=Xn({},r);let I=0;const M={keydown:0,input:0,render:0};function D(){S(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),M.keydown=1,queueMicrotask(p)}U.onKeyDown=D;function p(){M.keydown===1&&(performance.mark("keydown/end"),M.keydown=2)}function o(){performance.mark("input/start"),M.input=1,a()}U.onBeforeInput=o;function u(){M.input===0&&o(),queueMicrotask(d)}U.onInput=u;function d(){M.input===1&&(performance.mark("input/end"),M.input=2)}function n(){S()}U.onKeyUp=n;function i(){S()}U.onSelectionChange=i;function f(){M.keydown===2&&M.input===2&&M.render===0&&(performance.mark("render/start"),M.render=1,queueMicrotask(v),a())}U.onRenderStart=f;function v(){M.render===1&&(performance.mark("render/end"),M.render=2)}function a(){setTimeout(S)}function S(){M.keydown===2&&M.input===2&&M.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),g("keydown",r),g("input",w),g("render",c),g("inputlatency",_),I++,y())}function g(N,B){const W=performance.getEntriesByName(N)[0].duration;B.total+=W,B.min=Math.min(B.min,W),B.max=Math.max(B.max,W)}function y(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),M.keydown=0,M.input=0,M.render=0}function C(){if(I===0)return;const N={keydown:E(r),input:E(w),render:E(c),total:E(_),sampleCount:I};return A(r),A(w),A(c),A(_),I=0,N}U.getAndClearMeasurements=C;function E(N){return{average:N.total/I,max:N.max,min:N.min}}function A(N){N.total=0,N.min=Number.MAX_VALUE,N.max=0}})(b||(b={}))},10553:function(Ot,Ke,e){"use strict";e.d(Ke,{o:function(){return p},t:function(){return D}});var b=e(65321),U=e(48906),r=e(9488),w=e(49898),c=e(4669),_=e(5976),I=e(91741),M=function(o,u,d,n){var i=arguments.length,f=i<3?u:n===null?n=Object.getOwnPropertyDescriptor(u,d):n,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,u,d,n);else for(var a=o.length-1;a>=0;a--)(v=o[a])&&(f=(i<3?v(f):i>3?v(u,d,f):v(u,d))||f);return i>3&&f&&Object.defineProperty(u,d,f),f},D;(function(o){o.Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu"})(D||(D={}));class p extends _.JT{constructor(){super(),this.dispatched=!1,this.targets=new I.S,this.ignoreTargets=new I.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(c.ju.runAndSubscribe(b.Xo,({window:u,disposables:d})=>{d.add(b.nm(u.document,"touchstart",n=>this.onTouchStart(n),{passive:!1})),d.add(b.nm(u.document,"touchend",n=>this.onTouchEnd(u,n))),d.add(b.nm(u.document,"touchmove",n=>this.onTouchMove(n),{passive:!1}))},{window:U.Ex,disposables:this._store}))}static addTarget(u){if(!p.isTouchDevice())return _.JT.None;p.INSTANCE||(p.INSTANCE=(0,_.dk)(new p));const d=p.INSTANCE.targets.push(u);return(0,_.OF)(d)}static ignoreTarget(u){if(!p.isTouchDevice())return _.JT.None;p.INSTANCE||(p.INSTANCE=(0,_.dk)(new p));const d=p.INSTANCE.ignoreTargets.push(u);return(0,_.OF)(d)}static isTouchDevice(){return"ontouchstart"in U.Ex||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){const d=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=u.targetTouches.length;n<i;n++){const f=u.targetTouches.item(n);this.activeTouches[f.identifier]={id:f.identifier,initialTarget:f.target,initialTimeStamp:d,initialPageX:f.pageX,initialPageY:f.pageY,rollingTimestamps:[d],rollingPageX:[f.pageX],rollingPageY:[f.pageY]};const v=this.newGestureEvent(D.Start,f.target);v.pageX=f.pageX,v.pageY=f.pageY,this.dispatchEvent(v)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u,d){const n=Date.now(),i=Object.keys(this.activeTouches).length;for(let f=0,v=d.changedTouches.length;f<v;f++){const a=d.changedTouches.item(f);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const S=this.activeTouches[a.identifier],g=Date.now()-S.initialTimeStamp;if(g<p.HOLD_DELAY&&Math.abs(S.initialPageX-r.Gb(S.rollingPageX))<30&&Math.abs(S.initialPageY-r.Gb(S.rollingPageY))<30){const y=this.newGestureEvent(D.Tap,S.initialTarget);y.pageX=r.Gb(S.rollingPageX),y.pageY=r.Gb(S.rollingPageY),this.dispatchEvent(y)}else if(g>=p.HOLD_DELAY&&Math.abs(S.initialPageX-r.Gb(S.rollingPageX))<30&&Math.abs(S.initialPageY-r.Gb(S.rollingPageY))<30){const y=this.newGestureEvent(D.Contextmenu,S.initialTarget);y.pageX=r.Gb(S.rollingPageX),y.pageY=r.Gb(S.rollingPageY),this.dispatchEvent(y)}else if(i===1){const y=r.Gb(S.rollingPageX),C=r.Gb(S.rollingPageY),E=r.Gb(S.rollingTimestamps)-S.rollingTimestamps[0],A=y-S.rollingPageX[0],N=C-S.rollingPageY[0],B=[...this.targets].filter(W=>S.initialTarget instanceof Node&&W.contains(S.initialTarget));this.inertia(u,B,n,Math.abs(A)/E,A>0?1:-1,y,Math.abs(N)/E,N>0?1:-1,C)}this.dispatchEvent(this.newGestureEvent(D.End,S.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,d){const n=document.createEvent("CustomEvent");return n.initEvent(u,!1,!0),n.initialTarget=d,n.tapCount=0,n}dispatchEvent(u){if(u.type===D.Tap){const d=new Date().getTime();let n=0;d-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=d,u.tapCount=n}else(u.type===D.Change||u.type===D.Contextmenu)&&(this._lastSetTapCountTime=0);if(u.initialTarget instanceof Node){for(const d of this.ignoreTargets)if(d.contains(u.initialTarget))return;for(const d of this.targets)d.contains(u.initialTarget)&&(d.dispatchEvent(u),this.dispatched=!0)}}inertia(u,d,n,i,f,v,a,S,g){this.handle=b.jL(u,()=>{const y=Date.now(),C=y-n;let E=0,A=0,N=!0;i+=p.SCROLL_FRICTION*C,a+=p.SCROLL_FRICTION*C,i>0&&(N=!1,E=f*i*C),a>0&&(N=!1,A=S*a*C);const B=this.newGestureEvent(D.Change);B.translationX=E,B.translationY=A,d.forEach(W=>W.dispatchEvent(B)),N||this.inertia(u,d,y,i,f,v+E,a,S,g+A)})}onTouchMove(u){const d=Date.now();for(let n=0,i=u.changedTouches.length;n<i;n++){const f=u.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("end of an UNKNOWN touch",f);continue}const v=this.activeTouches[f.identifier],a=this.newGestureEvent(D.Change,v.initialTarget);a.translationX=f.pageX-r.Gb(v.rollingPageX),a.translationY=f.pageY-r.Gb(v.rollingPageY),a.pageX=f.pageX,a.pageY=f.pageY,this.dispatchEvent(a),v.rollingPageX.length>3&&(v.rollingPageX.shift(),v.rollingPageY.shift(),v.rollingTimestamps.shift()),v.rollingPageX.push(f.pageX),v.rollingPageY.push(f.pageY),v.rollingTimestamps.push(d)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,M([w.H],p,"isTouchDevice",null)},77514:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return r}});var b=e(48906),U=e(17301);function r(w,c){var _;const I=globalThis.MonacoEnvironment;if(I!=null&&I.createTrustedTypesPolicy)try{return I.createTrustedTypesPolicy(w,c)}catch(M){(0,U.dL)(M);return}try{return(_=b.Ex.trustedTypes)===null||_===void 0?void 0:_.createPolicy(w,c)}catch(M){(0,U.dL)(M);return}}},41923:function(Ot,Ke,e){"use strict";e.d(Ke,{gU:function(){return W},YH:function(){return B},Lc:function(){return $}});var b=e(16268),U=e(23547),r=e(65321),w=e(10553),c=e(51433),_=e(4850),I=e(59069),M=e(53253),D=e(69047),p=e(9488),o=e(4669),u=e(22258),d=e(5976),n=e(1432),i=e(63580);const f=r.$,v="selectOption.entry.template";class a{get templateId(){return v}renderTemplate(R){const L=Object.create(null);return L.root=R,L.text=r.R3(R,f(".option-text")),L.detail=r.R3(R,f(".option-detail")),L.decoratorRight=r.R3(R,f(".option-decorator-right")),L}renderElement(R,L,z){const O=z,P=R.text,H=R.detail,V=R.decoratorRight,G=R.isDisabled;O.text.textContent=P,O.detail.textContent=H||"",O.decoratorRight.innerText=V||"",G?O.root.classList.add("option-disabled"):O.root.classList.remove("option-disabled")}disposeTemplate(R){}}class S extends d.JT{constructor(R,L,z,O,P){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=O,this.selectBoxOptions=P||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=S.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new o.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(z),this.selected=L||0,R&&this.setOptions(R,L),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return v}constructSelectDropDown(R){this.contextViewProvider=R,this.selectDropDownContainer=r.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=r.R3(this.selectDropDownContainer,f(".select-box-details-pane"));const L=r.R3(this.selectDropDownContainer,f(".select-box-dropdown-container-width-control")),z=r.R3(L,f(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",r.R3(z,this.widthControlElement),this._dropDownPosition=0,this.styleElement=r.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(r.nm(this.selectDropDownContainer,r.tw.DRAG_START,O=>{r.zB.stop(O,!0)}))}registerListeners(){this._register(r.mu(this.selectElement,"change",L=>{this.selected=L.target.selectedIndex,this._onDidSelect.fire({index:L.target.selectedIndex,selected:L.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(r.nm(this.selectElement,r.tw.CLICK,L=>{r.zB.stop(L),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(r.nm(this.selectElement,r.tw.MOUSE_DOWN,L=>{r.zB.stop(L)}));let R;this._register(r.nm(this.selectElement,"touchstart",L=>{R=this._isVisible})),this._register(r.nm(this.selectElement,"touchend",L=>{r.zB.stop(L),R?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(r.nm(this.selectElement,r.tw.KEY_DOWN,L=>{const z=new I.y(L);let O=!1;n.dz?(z.keyCode===18||z.keyCode===16||z.keyCode===10||z.keyCode===3)&&(O=!0):(z.keyCode===18&&z.altKey||z.keyCode===16&&z.altKey||z.keyCode===10||z.keyCode===3)&&(O=!0),O&&(this.showSelectDropDown(),r.zB.stop(L,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(R,L){p.fS(this.options,R)||(this.options=R,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((z,O)=>{this.selectElement.add(this.createOption(z.text,O,z.isDisabled)),typeof z.description=="string"&&(this._hasDetails=!0)})),L!==void 0&&(this.select(L),this._currentSelection=this.selected)}setOptionsList(){var R;(R=this.selectList)===null||R===void 0||R.splice(0,this.selectList.length,this.options)}select(R){R>=0&&R<this.options.length?this.selected=R:R>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(R){this.selectElement.tabIndex=R?0:-1}render(R){this.container=R,R.classList.add("select-container"),R.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const R=[];this.styles.listFocusBackground&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(R.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),R.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),R.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(R.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),R.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&R.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),R.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),R.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=R.join(`
`)}styleSelectElement(){var R,L,z;const O=(R=this.styles.selectBackground)!==null&&R!==void 0?R:"",P=(L=this.styles.selectForeground)!==null&&L!==void 0?L:"",H=(z=this.styles.selectBorder)!==null&&z!==void 0?z:"";this.selectElement.style.backgroundColor=O,this.selectElement.style.color=P,this.selectElement.style.borderColor=H}styleList(){var R,L;const z=(R=this.styles.selectBackground)!==null&&R!==void 0?R:"",O=r.XT(this.styles.selectListBackground,z);this.selectDropDownListContainer.style.backgroundColor=O,this.selectionDetailsPane.style.backgroundColor=O;const P=(L=this.styles.focusBorder)!==null&&L!==void 0?L:"";this.selectDropDownContainer.style.outlineColor=P,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(R,L,z){const O=document.createElement("option");return O.value=R,O.text=R,O.disabled=!!z,O}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:R=>this.renderSelectDropDown(R,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:R=>this.renderSelectDropDown(R),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(R){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),R&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(R,L){return R.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(L),{dispose:()=>{try{R.removeChild(this.selectDropDownContainer)}catch(z){}}}}measureMaxDetailsHeight(){let R=0;return this.options.forEach((L,z)=>{this.updateDetail(z),this.selectionDetailsPane.offsetHeight>R&&(R=this.selectionDetailsPane.offsetHeight)}),R}layoutSelectDropDown(R){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const L=r.Jj(this.selectElement),z=r.i(this.selectElement),O=r.Jj(this.selectElement).getComputedStyle(this.selectElement),P=parseFloat(O.getPropertyValue("--dropdown-padding-top"))+parseFloat(O.getPropertyValue("--dropdown-padding-bottom")),H=L.innerHeight-z.top-z.height-(this.selectBoxOptions.minBottomMargin||0),V=z.top-S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,G=this.selectElement.offsetWidth,j=this.setWidthControlElement(this.widthControlElement),F=Math.max(j,Math.round(G)).toString()+"px";this.selectDropDownContainer.style.width=F,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let K=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const m=this._hasDetails?this._cachedMaxDetailsHeight:0,J=K+P+m,X=Math.floor((H-P-m)/this.getHeight()),te=Math.floor((V-P-m)/this.getHeight());if(R)return z.top+z.height>L.innerHeight-22||z.top<S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||X<1&&te<1?!1:(X<S.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&te>X&&this.options.length>X?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(z.top+z.height>L.innerHeight-22||z.top<S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&X<1||this._dropDownPosition===1&&te<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&X+te<1)return this.hideSelectDropDown(!0),!1;J>H&&(K=X*this.getHeight())}else J>V&&(K=te*this.getHeight());return this.selectList.layout(K),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=K+P+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=K+P+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=F,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(R){let L=0;if(R){let z=0,O=0;this.options.forEach((P,H)=>{const V=P.detail?P.detail.length:0,G=P.decoratorRight?P.decoratorRight.length:0,j=P.text.length+V+G;j>O&&(z=H,O=j)}),R.textContent=this.options[z].text+(this.options[z].decoratorRight?this.options[z].decoratorRight+" ":""),L=r.w(R)}return L}createSelectList(R){if(this.selectList)return;this.selectDropDownListContainer=r.R3(R,f(".select-box-dropdown-list-container")),this.listRenderer=new a,this.selectList=new D.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:O=>{let P=O.text;return O.detail&&(P+=`. ${O.detail}`),O.decoratorRight&&(P+=`. ${O.decoratorRight}`),O.description&&(P+=`. ${O.description}`),P},getWidgetAriaLabel:()=>(0,i.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>n.dz?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const L=this._register(new _.Y(this.selectDropDownListContainer,"keydown")),z=o.ju.chain(L.event,O=>O.filter(()=>this.selectList.length>0).map(P=>new I.y(P)));this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===3))(this.onEnter,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===2))(this.onEnter,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===9))(this.onEscape,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===16))(this.onUpArrow,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===18))(this.onDownArrow,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===12))(this.onPageDown,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===11))(this.onPageUp,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===14))(this.onHome,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode===13))(this.onEnd,this)),this._register(o.ju.chain(z,O=>O.filter(P=>P.keyCode>=21&&P.keyCode<=56||P.keyCode>=85&&P.keyCode<=113))(this.onCharacter,this)),this._register(r.nm(this.selectList.getHTMLElement(),r.tw.POINTER_UP,O=>this.onPointerUp(O))),this._register(this.selectList.onMouseOver(O=>typeof O.index!="undefined"&&this.selectList.setFocus([O.index]))),this._register(this.selectList.onDidChangeFocus(O=>this.onListFocus(O))),this._register(r.nm(this.selectDropDownContainer,r.tw.FOCUS_OUT,O=>{!this._isVisible||r.jg(O.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(R){if(!this.selectList.length)return;r.zB.stop(R);const L=R.target;if(!L||L.classList.contains("slider"))return;const z=L.closest(".monaco-list-row");if(!z)return;const O=Number(z.getAttribute("data-index")),P=z.classList.contains("option-disabled");O>=0&&O<this.options.length&&!P&&(this.selected=O,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(R,L){const z=P=>{for(let H=0;H<P.childNodes.length;H++){const V=P.childNodes.item(H);(V.tagName&&V.tagName.toLowerCase())==="img"?P.removeChild(V):z(V)}},O=(0,M.ap)({value:R,supportThemeIcons:!0},{actionHandler:L});return O.element.classList.add("select-box-description-markdown"),z(O.element),O.element}onListFocus(R){!this._isVisible||!this._hasDetails||this.updateDetail(R.indexes[0])}updateDetail(R){var L,z;this.selectionDetailsPane.innerText="";const O=this.options[R],P=(L=O==null?void 0:O.description)!==null&&L!==void 0?L:"",H=(z=O==null?void 0:O.descriptionIsMarkdown)!==null&&z!==void 0?z:!1;if(P){if(H){const V=O.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(P,V))}else this.selectionDetailsPane.innerText=P;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(R){r.zB.stop(R),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(R){r.zB.stop(R),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(R){if(this.selected<this.options.length-1){r.zB.stop(R,!0);const L=this.options[this.selected+1].isDisabled;if(L&&this.options.length>this.selected+2)this.selected+=2;else{if(L)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(R){this.selected>0&&(r.zB.stop(R,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(R){r.zB.stop(R),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(R){r.zB.stop(R),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(R){r.zB.stop(R),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(R){r.zB.stop(R),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(R){const L=u.kL.toString(R.keyCode);let z=-1;for(let O=0;O<this.options.length-1;O++)if(z=(O+this.selected+1)%this.options.length,this.options[z].text.charAt(0).toUpperCase()===L&&!this.options[z].isDisabled){this.select(z),this.selectList.setFocus([z]),this.selectList.reveal(this.selectList.getFocus()[0]),r.zB.stop(R);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}S.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,S.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class g extends d.JT{constructor(R,L,z,O){super(),this.selected=0,this.selectBoxOptions=O||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new o.Q5),this.styles=z,this.registerListeners(),this.setOptions(R,L)}registerListeners(){this._register(w.o.addTarget(this.selectElement)),[w.t.Tap].forEach(R=>{this._register(r.nm(this.selectElement,R,L=>{this.selectElement.focus()}))}),this._register(r.mu(this.selectElement,"click",R=>{r.zB.stop(R,!0)})),this._register(r.mu(this.selectElement,"change",R=>{this.selectElement.title=R.target.value,this._onDidSelect.fire({index:R.target.selectedIndex,selected:R.target.value})})),this._register(r.mu(this.selectElement,"keydown",R=>{let L=!1;n.dz?(R.keyCode===18||R.keyCode===16||R.keyCode===10)&&(L=!0):(R.keyCode===18&&R.altKey||R.keyCode===10||R.keyCode===3)&&(L=!0),L&&R.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(R,L){(!this.options||!p.fS(this.options,R))&&(this.options=R,this.selectElement.options.length=0,this.options.forEach((z,O)=>{this.selectElement.add(this.createOption(z.text,O,z.isDisabled))})),L!==void 0&&this.select(L)}select(R){this.options.length===0?this.selected=0:R>=0&&R<this.options.length?this.selected=R:R>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(R){this.selectElement.tabIndex=R?0:-1}render(R){R.classList.add("select-container"),R.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var R,L,z;this.selectElement&&(this.selectElement.style.backgroundColor=(R=this.styles.selectBackground)!==null&&R!==void 0?R:"",this.selectElement.style.color=(L=this.styles.selectForeground)!==null&&L!==void 0?L:"",this.selectElement.style.borderColor=(z=this.styles.selectBorder)!==null&&z!==void 0?z:"")}createOption(R,L,z){const O=document.createElement("option");return O.value=R,O.text=R,O.disabled=!!z,O}}var y=e(93794);class C extends y.${constructor(R,L,z,O,P){super(),n.dz&&!(P!=null&&P.useCustomDrawn)?this.selectBoxDelegate=new g(R,L,O,P):this.selectBoxDelegate=new S(R,L,z,O,P),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(R,L){this.selectBoxDelegate.setOptions(R,L)}select(R){this.selectBoxDelegate.select(R)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(R){this.selectBoxDelegate.setFocusable(R)}render(R){this.selectBoxDelegate.render(R)}}var E=e(74741),A=e(98401),N=e(31285);class B extends d.JT{get action(){return this._action}constructor(R,L,z={}){super(),this.options=z,this._context=R||this,this._action=L,L instanceof E.aU&&this._register(L.onDidChange(O=>{this.element&&this.handleActionChangeEvent(O)}))}handleActionChangeEvent(R){R.enabled!==void 0&&this.updateEnabled(),R.checked!==void 0&&this.updateChecked(),R.class!==void 0&&this.updateClass(),R.label!==void 0&&(this.updateLabel(),this.updateTooltip()),R.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new E.Wi)),this._actionRunner}set actionRunner(R){this._actionRunner=R}isEnabled(){return this._action.enabled}setActionContext(R){this._context=R}render(R){const L=this.element=R;this._register(w.o.addTarget(R));const z=this.options&&this.options.draggable;z&&(R.draggable=!0,b.vU&&this._register((0,r.nm)(R,r.tw.DRAG_START,O=>{var P;return(P=O.dataTransfer)===null||P===void 0?void 0:P.setData(U.g.TEXT,this._action.label)}))),this._register((0,r.nm)(L,w.t.Tap,O=>this.onClick(O,!0))),this._register((0,r.nm)(L,r.tw.MOUSE_DOWN,O=>{z||r.zB.stop(O,!0),this._action.enabled&&O.button===0&&L.classList.add("active")})),n.dz&&this._register((0,r.nm)(L,r.tw.CONTEXT_MENU,O=>{O.button===0&&O.ctrlKey===!0&&this.onClick(O)})),this._register((0,r.nm)(L,r.tw.CLICK,O=>{r.zB.stop(O,!0),this.options&&this.options.isMenu||this.onClick(O)})),this._register((0,r.nm)(L,r.tw.DBLCLICK,O=>{r.zB.stop(O,!0)})),[r.tw.MOUSE_UP,r.tw.MOUSE_OUT].forEach(O=>{this._register((0,r.nm)(L,O,P=>{r.zB.stop(P),L.classList.remove("active")}))})}onClick(R,L=!1){var z;r.zB.stop(R,!0);const O=A.Jp(this._context)?!((z=this.options)===null||z===void 0)&&z.useEventAsContext?R:{preserveFocus:L}:this._context;this.actionRunner.run(this._action,O)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(R){this.element&&(this.element.tabIndex=R?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var R;if(!this.element)return;const L=(R=this.getTooltip())!==null&&R!==void 0?R:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(L):(this.customHover=(0,c.g)(this.options.hoverDelegate,this.element,L),this._store.add(this.customHover))):this.element.title=L}updateAriaLabel(){var R;if(this.element){const L=(R=this.getTooltip())!==null&&R!==void 0?R:"";this.element.setAttribute("aria-label",L)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class W extends B{constructor(R,L,z){super(R,L,z),this.options=z,this.options.icon=z.icon!==void 0?z.icon:!1,this.options.label=z.label!==void 0?z.label:!0,this.cssClass=""}render(R){super.render(R),A.p_(this.element);const L=document.createElement("a");if(L.classList.add("action-label"),L.setAttribute("role",this.getDefaultAriaRole()),this.label=L,this.element.appendChild(L),this.options.label&&this.options.keybinding){const z=document.createElement("span");z.classList.add("keybinding"),z.textContent=this.options.keybinding,this.element.appendChild(z)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===E.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(R){this.label&&(this.label.tabIndex=R?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let R=null;return this.action.tooltip?R=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(R=this.action.label,this.options.keybinding&&(R=i.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",R,this.options.keybinding))),R!=null?R:void 0}updateClass(){var R;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(R=this.label)===null||R===void 0||R.classList.remove("codicon")}updateEnabled(){var R,L;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(R=this.element)===null||R===void 0||R.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(L=this.element)===null||L===void 0||L.classList.add("disabled"))}updateAriaLabel(){var R;if(this.label){const L=(R=this.getTooltip())!==null&&R!==void 0?R:"";this.label.setAttribute("aria-label",L)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class $ extends B{constructor(R,L,z,O,P,H,V){super(R,L),this.selectBox=new C(z,O,P,H,V),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(R){this.selectBox.select(R)}registerListeners(){this._register(this.selectBox.onDidSelect(R=>this.runAction(R.selected,R.index)))}runAction(R,L){this.actionRunner.run(this._action,this.getActionContext(R,L))}getActionContext(R,L){return R}setFocusable(R){this.selectBox.setFocusable(R)}focus(){var R;(R=this.selectBox)===null||R===void 0||R.focus()}blur(){var R;(R=this.selectBox)===null||R===void 0||R.blur()}render(R){this.selectBox.render(R)}}},90317:function(Ot,Ke,e){"use strict";e.d(Ke,{o:function(){return D}});var b=e(65321),U=e(59069),r=e(41923),w=e(74741),c=e(4669),_=e(5976),I=e(98401),M=e(31285);class D extends _.JT{constructor(o,u={}){var d,n,i,f,v,a;super(),this._actionRunnerDisposables=this._register(new _.SL),this.viewItemDisposables=this._register(new _.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new c.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new c.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new c.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new c.Q5),this.onWillRun=this._onWillRun.event,this.options=u,this._context=(d=u.context)!==null&&d!==void 0?d:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(f=(i=this.options.triggerKeys)===null||i===void 0?void 0:i.keyDown)!==null&&f!==void 0?f:!1,keys:(a=(v=this.options.triggerKeys)===null||v===void 0?void 0:v.keys)!==null&&a!==void 0?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new w.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(y=>this._onDidRun.fire(y))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(y=>this._onWillRun.fire(y))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",u.animated!==!1&&this.domNode.classList.add("animated");let S,g;switch(this._orientation){case 0:S=[15],g=[17];break;case 1:S=[16],g=[18],this.domNode.className+=" vertical";break}this._register(b.nm(this.domNode,b.tw.KEY_DOWN,y=>{const C=new U.y(y);let E=!0;const A=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;S&&(C.equals(S[0])||C.equals(S[1]))?E=this.focusPrevious():g&&(C.equals(g[0])||C.equals(g[1]))?E=this.focusNext():C.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():C.equals(14)?E=this.focusFirst():C.equals(13)?E=this.focusLast():C.equals(2)&&A instanceof r.YH&&A.trapsArrowNavigation?E=this.focusNext():this.isTriggerKeyEvent(C)?this._triggerKeys.keyDown?this.doTrigger(C):this.triggerKeyDown=!0:E=!1,E&&(C.preventDefault(),C.stopPropagation())})),this._register(b.nm(this.domNode,b.tw.KEY_UP,y=>{const C=new U.y(y);this.isTriggerKeyEvent(C)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(C)),C.preventDefault(),C.stopPropagation()):(C.equals(2)||C.equals(1026)||C.equals(16)||C.equals(18)||C.equals(15)||C.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(b.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(b.vY()===this.domNode||!b.jg(b.vY(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),o.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(o){if(this.focusable=o,this.focusable){const u=this.viewItems.find(d=>d instanceof r.YH&&d.isEnabled());u instanceof r.YH&&u.setFocusable(!0)}else this.viewItems.forEach(u=>{u instanceof r.YH&&u.setFocusable(!1)})}isTriggerKeyEvent(o){let u=!1;return this._triggerKeys.keys.forEach(d=>{u=u||o.equals(d)}),u}updateFocusedItem(){var o,u;for(let d=0;d<this.actionsList.children.length;d++){const n=this.actionsList.children[d];if(b.jg(b.vY(),n)){this.focusedItem=d,(u=(o=this.viewItems[this.focusedItem])===null||o===void 0?void 0:o.showHover)===null||u===void 0||u.call(o);break}}}get context(){return this._context}set context(o){this._context=o,this.viewItems.forEach(u=>u.setActionContext(o))}get actionRunner(){return this._actionRunner}set actionRunner(o){this._actionRunner=o,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(u=>this._onDidRun.fire(u))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(u=>this._onWillRun.fire(u))),this.viewItems.forEach(u=>u.actionRunner=o)}getContainer(){return this.domNode}getAction(o){var u;if(typeof o=="number")return(u=this.viewItems[o])===null||u===void 0?void 0:u.action;if(o instanceof HTMLElement){for(;o.parentElement!==this.actionsList;){if(!o.parentElement)return;o=o.parentElement}for(let d=0;d<this.actionsList.childNodes.length;d++)if(this.actionsList.childNodes[d]===o)return this.viewItems[d].action}}push(o,u={}){const d=Array.isArray(o)?o:[o];let n=I.hj(u.index)?u.index:null;d.forEach(i=>{const f=document.createElement("li");f.className="action-item",f.setAttribute("role","presentation");let v;const a=Xn({hoverDelegate:this.options.hoverDelegate},u);this.options.actionViewItemProvider&&(v=this.options.actionViewItemProvider(i,a)),v||(v=new r.gU(this.context,i,a)),this.options.allowContextMenu||this.viewItemDisposables.set(v,b.nm(f,b.tw.CONTEXT_MENU,S=>{b.zB.stop(S,!0)})),v.actionRunner=this._actionRunner,v.setActionContext(this.context),v.render(f),this.focusable&&v instanceof r.YH&&this.viewItems.length===0&&v.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(f),this.viewItems.push(v)):(this.actionsList.insertBefore(f,this.actionsList.children[n]),this.viewItems.splice(n,0,v),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,_.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),b.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(o){let u=!1,d;if(o===void 0?u=!0:typeof o=="number"?d=o:typeof o=="boolean"&&(u=o),u&&typeof this.focusedItem=="undefined"){const n=this.viewItems.findIndex(i=>i.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else d!==void 0&&(this.focusedItem=d),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(o){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let d;do{if(!o&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=u,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,d=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&(this.options.focusOnlyEnabledItems&&!d.isEnabled()||d.action.id===w.Z0.ID));return this.updateFocus(),!0}focusPrevious(o){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let d;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!o&&this.options.preventLoopNavigation)return this.focusedItem=u,!1;this.focusedItem=this.viewItems.length-1}d=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&(this.options.focusOnlyEnabledItems&&!d.isEnabled()||d.action.id===w.Z0.ID));return this.updateFocus(!0),!0}updateFocus(o,u,d=!1){var n,i;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:u}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const f=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(f){let v=!0;I.mf(f.focus)||(v=!1),this.options.focusOnlyEnabledItems&&I.mf(f.isEnabled)&&!f.isEnabled()&&(v=!1),f.action.id===w.Z0.ID&&(v=!1),v&&((i=f.showHover)===null||i===void 0||i.call(f)),v?(d||this.previouslyFocusedItem!==this.focusedItem)&&(f.focus(o),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:u}),this.previouslyFocusedItem=void 0)}}doTrigger(o){if(typeof this.focusedItem=="undefined")return;const u=this.viewItems[this.focusedItem];if(u instanceof r.YH){const d=u._context===null||u._context===void 0?o:u._context;this.run(u._action,d)}}run(o,u){return tn(this,null,function*(){yield this._actionRunner.run(o,u)})}dispose(){this._context=void 0,this.viewItems=(0,_.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},35996:function(Ot,Ke,e){"use strict";e.d(Ke,{Z9:function(){return D},wW:function(){return M},i7:function(){return p}});var b=e(65321);const U=2e4;let r,w,c,_,I;function M(u){r=document.createElement("div"),r.className="monaco-aria-container";const d=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),r.appendChild(i),i};w=d(),c=d();const n=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),r.appendChild(i),i};_=n(),I=n(),u.appendChild(r)}function D(u){r&&(w.textContent!==u?(b.PO(c),o(w,u)):(b.PO(w),o(c,u)))}function p(u){r&&(_.textContent!==u?(b.PO(I),o(_,u)):(b.PO(_),o(I,u)))}function o(u,d){b.PO(u),d.length>U&&(d=d.substr(0,U)),u.textContent=d,u.style.visibility="hidden",u.style.visibility="visible"}},36289:function(Ot,Ke,e){"use strict";e.d(Ke,{z:function(){return d}});var b=e(65321),U=e(70921),r=e(59069),w=e(53253),c=e(10553),_=e(56811),I=e(41264),M=e(4669),D=e(59365),p=e(5976),o=e(25670);const u={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:I.Il.white.toString(),buttonForeground:I.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class d extends p.JT{get onDidClick(){return this._onDidClick.event}constructor(i,f){super(),this._label="",this._onDidClick=this._register(new M.Q5),this.options=f,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!f.secondary);const v=f.secondary?f.buttonSecondaryBackground:f.buttonBackground,a=f.secondary?f.buttonSecondaryForeground:f.buttonForeground;this._element.style.color=a||"",this._element.style.backgroundColor=v||"",f.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),i.appendChild(this._element),this._register(c.o.addTarget(this._element)),[b.tw.CLICK,c.t.Tap].forEach(S=>{this._register((0,b.nm)(this._element,S,g=>{if(!this.enabled){b.zB.stop(g);return}this._onDidClick.fire(g)}))}),this._register((0,b.nm)(this._element,b.tw.KEY_DOWN,S=>{const g=new r.y(S);let y=!1;this.enabled&&(g.equals(3)||g.equals(10))?(this._onDidClick.fire(S),y=!0):g.equals(9)&&(this._element.blur(),y=!0),y&&b.zB.stop(g,!0)})),this._register((0,b.nm)(this._element,b.tw.MOUSE_OVER,S=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,b.nm)(this._element,b.tw.MOUSE_OUT,S=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,b.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(i){const f=[];for(let v of(0,_.T)(i))if(typeof v=="string"){if(v=v.trim(),v==="")continue;const a=document.createElement("span");a.textContent=v,f.push(a)}else f.push(v);return f}updateBackground(i){let f;this.options.secondary?f=i?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:f=i?this.options.buttonHoverBackground:this.options.buttonBackground,f&&(this._element.style.backgroundColor=f)}get element(){return this._element}set label(i){var f;if(this._label===i||(0,D.Fr)(this._label)&&(0,D.Fr)(i)&&(0,D.g_)(this._label,i))return;this._element.classList.add("monaco-text-button");const v=this.options.supportShortLabel?this._labelElement:this._element;if((0,D.Fr)(i)){const a=(0,w.ap)(i,{inline:!0});a.dispose();const S=(f=a.element.querySelector("p"))===null||f===void 0?void 0:f.innerHTML;if(S){const g=(0,U.Nw)(S,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});v.innerHTML=g}else(0,b.mc)(v)}else this.options.supportIcons?(0,b.mc)(v,...this.getContentElements(i)):v.textContent=i;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,w.et)(i)),this._label=i}get label(){return this._label}set icon(i){this._element.classList.add(...o.k.asClassNameArray(i))}set enabled(i){i?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}},15375:function(){"use strict"},85207:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return r}});var b=e(65321),U=e(97295);class r{constructor(c,_,I){this.options=_,this.styles=I,this.count=0,this.element=(0,b.R3)(c,(0,b.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(c){this.count=c,this.render()}setTitleFormat(c){this.titleFormat=c,this.render()}render(){var c,_;this.element.textContent=(0,U.WU)(this.countFormat,this.count),this.element.title=(0,U.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(c=this.styles.badgeBackground)!==null&&c!==void 0?c:"",this.element.style.color=(_=this.styles.badgeForeground)!==null&&_!==void 0?_:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},81094:function(Ot,Ke,e){"use strict";e.d(Ke,{C:function(){return D}});var b=e(65321),U=e(41923),r=e(59069),w=e(10553),c=e(74741),_=e(4669);class I extends c.Wi{constructor(o,u){super(),this._onDidChangeVisibility=this._register(new _.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,b.R3)(o,(0,b.$)(".monaco-dropdown")),this._label=(0,b.R3)(this._element,(0,b.$)(".dropdown-label"));let d=u.labelRenderer;d||(d=i=>(i.textContent=u.label||"",null));for(const i of[b.tw.CLICK,b.tw.MOUSE_DOWN,w.t.Tap])this._register((0,b.nm)(this.element,i,f=>b.zB.stop(f,!0)));for(const i of[b.tw.MOUSE_DOWN,w.t.Tap])this._register((0,b.nm)(this._label,i,f=>{(0,b.N5)(f)&&(f.detail>1||f.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,b.nm)(this._label,b.tw.KEY_UP,i=>{const f=new r.y(i);(f.equals(3)||f.equals(10))&&(b.zB.stop(i,!0),this.visible?this.hide():this.show())}));const n=d(this._label);n&&this._register(n),this._register(w.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class M extends I{constructor(o,u){super(o,u),this._options=u,this._actions=[],this.actions=u.actions||[]}set menuOptions(o){this._menuOptions=o}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(o){this._actions=o}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(o,u)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(o,u):void 0,getKeyBinding:o=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(o):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class D extends U.YH{constructor(o,u,d,n=Object.create(null)){super(null,o,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new _.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=u,this.contextMenuProvider=d,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(o){this.actionItem=o;const u=i=>{this.element=(0,b.R3)(i,(0,b.$)("a.action-label"));let f=[];return typeof this.options.classNames=="string"?f=this.options.classNames.split(/\s+/g).filter(v=>!!v):this.options.classNames&&(f=this.options.classNames),f.find(v=>v==="icon")||f.push("codicon"),this.element.classList.add(...f),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},d=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:d?this.menuActionsOrProvider:void 0,actionProvider:d?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new M(o,n)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var f;(f=this.element)===null||f===void 0||f.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Ni(Xn({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let o=null;return this.action.tooltip?o=this.action.tooltip:this.action.label&&(o=this.action.label),o!=null?o:void 0}setActionContext(o){super.setActionContext(o),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=o:this.dropdownMenu.menuOptions={context:o})}show(){var o;(o=this.dropdownMenu)===null||o===void 0||o.show()}updateEnabled(){var o,u;const d=!this.action.enabled;(o=this.actionItem)===null||o===void 0||o.classList.toggle("disabled",d),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",d)}}},50153:function(Ot,Ke,e){"use strict";e.d(Ke,{V:function(){return p}});var b=e(65321),U=e(51307),r=e(97862),w=e(93794),c=e(4669),_=e(60812),I=e(63580),M=e(5976);const D=I.NC("defaultLabel","input");class p extends w.${constructor(u,d,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new M.XK),this.additionalToggles=[],this._onDidOptionChange=this._register(new c.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new c.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new c.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new c.Q5),this._onKeyUp=this._register(new c.Q5),this._onCaseSensitiveKeyDown=this._register(new c.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new c.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||D,this.showCommonFindToggles=!!n.showCommonFindToggles;const i=n.appendCaseSensitiveLabel||"",f=n.appendWholeWordsLabel||"",v=n.appendRegexLabel||"",a=n.history||[],S=!!n.flexibleHeight,g=!!n.flexibleWidth,y=n.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new r.pG(this.domNode,d,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:S,flexibleWidth:g,flexibleMaxHeight:y,inputBoxStyles:n.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new U.eH(Xn({appendTitle:v,isChecked:!1},n.toggleStyles))),this._register(this.regex.onChange(E=>{this._onDidOptionChange.fire(E),!E&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(E=>{this._onRegexKeyDown.fire(E)})),this.wholeWords=this._register(new U.Qx(Xn({appendTitle:f,isChecked:!1},n.toggleStyles))),this._register(this.wholeWords.onChange(E=>{this._onDidOptionChange.fire(E),!E&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new U.rk(Xn({appendTitle:i,isChecked:!1},n.toggleStyles))),this._register(this.caseSensitive.onChange(E=>{this._onDidOptionChange.fire(E),!E&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(E=>{this._onCaseSensitiveKeyDown.fire(E)}));const C=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,E=>{if(E.equals(15)||E.equals(17)||E.equals(9)){const A=C.indexOf(this.domNode.ownerDocument.activeElement);if(A>=0){let N=-1;E.equals(17)?N=(A+1)%C.length:E.equals(15)&&(A===0?N=C.length-1:N=A-1),E.equals(9)?(C[A].blur(),this.inputBox.focus()):N>=0&&C[N].focus(),b.zB.stop(E,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n==null?void 0:n.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),u==null||u.appendChild(this.domNode),this._register(b.nm(this.inputBox.inputElement,"compositionstart",C=>{this.imeSessionInProgress=!0})),this._register(b.nm(this.inputBox.inputElement,"compositionend",C=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,C=>this._onKeyDown.fire(C)),this.onkeyup(this.inputBox.inputElement,C=>this._onKeyUp.fire(C)),this.oninput(this.inputBox.inputElement,C=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,C=>this._onMouseDown.fire(C))}get onDidChange(){return this.inputBox.onDidChange}layout(u){this.inputBox.layout(),this.updateInputBoxPadding(u.collapsedFindWidget)}enable(){var u,d,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(u=this.regex)===null||u===void 0||u.enable(),(d=this.wholeWords)===null||d===void 0||d.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const i of this.additionalToggles)i.enable()}disable(){var u,d,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(u=this.regex)===null||u===void 0||u.disable(),(d=this.wholeWords)===null||d===void 0||d.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const i of this.additionalToggles)i.disable()}setFocusInputOnOptionClick(u){this.fixFocusOnOptionClickEnabled=u}setEnabled(u){u?this.enable():this.disable()}setAdditionalToggles(u){for(const d of this.additionalToggles)d.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new M.SL;for(const d of u!=null?u:[])this.additionalTogglesDisposables.value.add(d),this.controls.appendChild(d.domNode),this.additionalTogglesDisposables.value.add(d.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(d);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(u=!1){var d,n,i,f,v,a;u?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(d=this.caseSensitive)===null||d===void 0?void 0:d.width())!==null&&n!==void 0?n:0)+((f=(i=this.wholeWords)===null||i===void 0?void 0:i.width())!==null&&f!==void 0?f:0)+((a=(v=this.regex)===null||v===void 0?void 0:v.width())!==null&&a!==void 0?a:0)+this.additionalToggles.reduce((S,g)=>S+g.width(),0)}getValue(){return this.inputBox.value}setValue(u){this.inputBox.value!==u&&(this.inputBox.value=u)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var u,d;return(d=(u=this.caseSensitive)===null||u===void 0?void 0:u.checked)!==null&&d!==void 0?d:!1}setCaseSensitive(u){this.caseSensitive&&(this.caseSensitive.checked=u)}getWholeWords(){var u,d;return(d=(u=this.wholeWords)===null||u===void 0?void 0:u.checked)!==null&&d!==void 0?d:!1}setWholeWords(u){this.wholeWords&&(this.wholeWords.checked=u)}getRegex(){var u,d;return(d=(u=this.regex)===null||u===void 0?void 0:u.checked)!==null&&d!==void 0?d:!1}setRegex(u){this.regex&&(this.regex.checked=u,this.validate())}focusOnCaseSensitive(){var u;(u=this.caseSensitive)===null||u===void 0||u.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(u){this.inputBox.showMessage(u)}clearMessage(){this.inputBox.hideMessage()}}},51307:function(Ot,Ke,e){"use strict";e.d(Ke,{Qx:function(){return M},eH:function(){return D},rk:function(){return I}});var b=e(40032),U=e(73046),r=e(63580);const w=r.NC("caseDescription","Match Case"),c=r.NC("wordsDescription","Match Whole Word"),_=r.NC("regexDescription","Use Regular Expression");class I extends b.Z{constructor(o){super({icon:U.l.caseSensitive,title:w+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}class M extends b.Z{constructor(o){super({icon:U.l.wholeWord,title:c+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}class D extends b.Z{constructor(o){super({icon:U.l.regex,title:_+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}},34650:function(Ot,Ke,e){"use strict";e.d(Ke,{q:function(){return w}});var b=e(65321),U=e(56811),r=e(36248);class w{constructor(_,I){var M;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(M=I==null?void 0:I.supportIcons)!==null&&M!==void 0?M:!1,this.domNode=b.R3(_,b.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(_,I=[],M="",D){_||(_=""),D&&(_=w.escapeNewLines(_,I)),!(this.didEverRender&&this.text===_&&this.title===M&&r.fS(this.highlights,I))&&(this.text=_,this.title=M,this.highlights=I,this.render())}render(){const _=[];let I=0;for(const M of this.highlights){if(M.end===M.start)continue;if(I<M.start){const o=this.text.substring(I,M.start);this.supportIcons?_.push(...(0,U.T)(o)):_.push(o),I=M.start}const D=this.text.substring(I,M.end),p=b.$("span.highlight",void 0,...this.supportIcons?(0,U.T)(D):[D]);M.extraClasses&&p.classList.add(...M.extraClasses),_.push(p),I=M.end}if(I<this.text.length){const M=this.text.substring(I);this.supportIcons?_.push(...(0,U.T)(M)):_.push(M)}b.mc(this.domNode,..._),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(_,I){let M=0,D=0;return _.replace(/\r\n|\r|\n/g,(p,o)=>{D=p===`\r
`?-1:0,o+=M;for(const u of I)u.end<=o||(u.start>=o&&(u.start+=D),u.end>=o&&(u.end+=D));return M+=D,"\u23CE"})}}},41168:function(Ot,Ke,e){"use strict";e.d(Ke,{Sr:function(){return M},c8:function(){return I},uX:function(){return D}});var b=e(65321),U=e(59069),r=e(59740),w=e(5976),c=e(63580);const _=b.$;class I extends w.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new r.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class M extends w.JT{static render(o,u,d){return new M(o,u,d)}constructor(o,u,d){super(),this.actionContainer=b.R3(o,_("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=b.R3(this.actionContainer,_("a.action")),this.action.setAttribute("role","button"),u.iconClass&&b.R3(this.action,_(`span.icon.${u.iconClass}`));const n=b.R3(this.action,_("span"));n.textContent=d?`${u.label} (${d})`:u.label,this._register(b.nm(this.actionContainer,b.tw.CLICK,i=>{i.stopPropagation(),i.preventDefault(),u.run(this.actionContainer)})),this._register(b.nm(this.actionContainer,b.tw.KEY_DOWN,i=>{const f=new U.y(i);(f.equals(3)||f.equals(10))&&(i.stopPropagation(),i.preventDefault(),u.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(o){o?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function D(p,o){return p&&o?(0,c.NC)("acessibleViewHint","Inspect this in the accessible view with {0}.",o):p?(0,c.NC)("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}},93923:function(Ot,Ke,e){"use strict";e.d(Ke,{g:function(){return M}});var b=e(65321),U=e(34650),r=e(51433),w=e(5976),c=e(36248),_=e(61134);class I{constructor(d){this._element=d}get element(){return this._element}set textContent(d){this.disposed||d===this._textContent||(this._textContent=d,this._element.textContent=d)}set className(d){this.disposed||d===this._className||(this._className=d,this._element.className=d)}set empty(d){this.disposed||d===this._empty||(this._empty=d,this._element.style.marginLeft=d?"0":"")}dispose(){this.disposed=!0}}class M extends w.JT{constructor(d,n){super(),this.customHovers=new Map,this.creationOptions=n,this.domNode=this._register(new I(b.R3(d,b.$(".monaco-icon-label")))),this.labelContainer=b.R3(this.domNode.element,b.$(".monaco-icon-label-container")),this.nameContainer=b.R3(this.labelContainer,b.$("span.monaco-icon-name-container")),n!=null&&n.supportHighlights||n!=null&&n.supportIcons?this.nameNode=new o(this.nameContainer,!!n.supportIcons):this.nameNode=new D(this.nameContainer),this.hoverDelegate=n==null?void 0:n.hoverDelegate}get element(){return this.domNode.element}setLabel(d,n,i){var f;const v=["monaco-icon-label"],a=["monaco-icon-label-container"];let S="";if(i&&(i.extraClasses&&v.push(...i.extraClasses),i.italic&&v.push("italic"),i.strikethrough&&v.push("strikethrough"),i.disabledCommand&&a.push("disabled"),i.title&&(typeof i.title=="string"?S+=i.title:S+=d)),this.domNode.className=v.join(" "),this.domNode.element.setAttribute("aria-label",S),this.labelContainer.className=a.join(" "),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(d,i),n||this.descriptionNode){const g=this.getOrCreateDescriptionNode();g instanceof U.q?(g.set(n||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(g.element,i==null?void 0:i.descriptionTitle)):(g.textContent=n&&(i!=null&&i.labelEscapeNewLines)?U.q.escapeNewLines(n,[]):n||"",this.setupHover(g.element,(i==null?void 0:i.descriptionTitle)||""),g.empty=!n)}if(i!=null&&i.suffix||this.suffixNode){const g=this.getOrCreateSuffixNode();g.textContent=(f=i==null?void 0:i.suffix)!==null&&f!==void 0?f:""}}setupHover(d,n){const i=this.customHovers.get(d);if(i&&(i.dispose(),this.customHovers.delete(d)),!n){d.removeAttribute("title");return}if(!this.hoverDelegate)(0,r.O)(d,n);else{const f=(0,r.g)(this.hoverDelegate,d,n);f&&this.customHovers.set(d,f)}}dispose(){super.dispose();for(const d of this.customHovers.values())d.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const d=this._register(new I(b.e4(this.nameContainer,b.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new I(b.R3(d.element,b.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var d;if(!this.descriptionNode){const n=this._register(new I(b.R3(this.labelContainer,b.$("span.monaco-icon-description-container"))));!((d=this.creationOptions)===null||d===void 0)&&d.supportDescriptionHighlights?this.descriptionNode=new U.q(b.R3(n.element,b.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new I(b.R3(n.element,b.$("span.label-description"))))}return this.descriptionNode}}class D{constructor(d){this.container=d,this.label=void 0,this.singleLabel=void 0}setLabel(d,n){if(!(this.label===d&&(0,c.fS)(this.options,n)))if(this.label=d,this.options=n,typeof d=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=b.R3(this.container,b.$("a.label-name",{id:n==null?void 0:n.domId}))),this.singleLabel.textContent=d;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<d.length;i++){const f=d[i],v=(n==null?void 0:n.domId)&&`${n==null?void 0:n.domId}_${i}`;b.R3(this.container,b.$("a.label-name",{id:v,"data-icon-label-count":d.length,"data-icon-label-index":i,role:"treeitem"},f)),i<d.length-1&&b.R3(this.container,b.$("span.label-separator",void 0,(n==null?void 0:n.separator)||"/"))}}}}function p(u,d,n){if(!n)return;let i=0;return u.map(f=>{const v={start:i,end:i+f.length},a=n.map(S=>_.e.intersect(v,S)).filter(S=>!_.e.isEmpty(S)).map(({start:S,end:g})=>({start:S-i,end:g-i}));return i=v.end+d.length,a})}class o{constructor(d,n){this.container=d,this.supportIcons=n,this.label=void 0,this.singleLabel=void 0}setLabel(d,n){if(!(this.label===d&&(0,c.fS)(this.options,n)))if(this.label=d,this.options=n,typeof d=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new U.q(b.R3(this.container,b.$("a.label-name",{id:n==null?void 0:n.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(d,n==null?void 0:n.matches,void 0,n==null?void 0:n.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(n==null?void 0:n.separator)||"/",f=p(d,i,n==null?void 0:n.matches);for(let v=0;v<d.length;v++){const a=d[v],S=f?f[v]:void 0,g=(n==null?void 0:n.domId)&&`${n==null?void 0:n.domId}_${v}`,y=b.$("a.label-name",{id:g,"data-icon-label-count":d.length,"data-icon-label-index":v,role:"treeitem"});new U.q(b.R3(this.container,y),{supportIcons:this.supportIcons}).set(a,S,void 0,n==null?void 0:n.labelEscapeNewLines),v<d.length-1&&b.R3(y,b.$("span.label-separator",void 0,i))}}}}},51433:function(Ot,Ke,e){"use strict";e.d(Ke,{O:function(){return D},g:function(){return o}});var b=e(65321),U=e(15393),r=e(71050),w=e(59365),c=e(21212),_=e(5976),I=e(98401),M=e(63580);function D(u,d){(0,I.HD)(d)?u.title=(0,c.x$)(d):d!=null&&d.markdownNotSupportedFallback?u.title=d.markdownNotSupportedFallback:u.removeAttribute("title")}class p{constructor(d,n,i){this.hoverDelegate=d,this.target=n,this.fadeInAnimation=i}update(d,n,i){return tn(this,null,function*(){var f;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let v;if(d===void 0||(0,I.HD)(d)||d instanceof HTMLElement)v=d;else if(!(0,I.mf)(d.markdown))v=(f=d.markdown)!==null&&f!==void 0?f:d.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,M.NC)("iconLabel.loading","Loading..."),n),this._cancellationTokenSource=new r.A;const a=this._cancellationTokenSource.token;if(v=yield d.markdown(a),v===void 0&&(v=d.markdownNotSupportedFallback),this.isDisposed||a.isCancellationRequested)return}this.show(v,n,i)})}show(d,n,i){const f=this._hoverWidget;if(this.hasContent(d)){const v=Xn({content:d,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!f},position:{hoverPosition:2}},i);this._hoverWidget=this.hoverDelegate.showHover(v,n)}f==null||f.dispose()}hasContent(d){return d?(0,w.Fr)(d)?!!d.value:!0:!1}get isDisposed(){var d;return(d=this._hoverWidget)===null||d===void 0?void 0:d.isDisposed}dispose(){var d,n;(d=this._hoverWidget)===null||d===void 0||d.dispose(),(n=this._cancellationTokenSource)===null||n===void 0||n.dispose(!0),this._cancellationTokenSource=void 0}}function o(u,d,n,i){let f,v;const a=(N,B)=>{var W;const $=v!==void 0;N&&(v==null||v.dispose(),v=void 0),B&&(f==null||f.dispose(),f=void 0),$&&((W=u.onDidHideHover)===null||W===void 0||W.call(u))},S=(N,B,W)=>new U._F(()=>tn(this,null,function*(){(!v||v.isDisposed)&&(v=new p(u,W||d,N>0),yield v.update(n,B,i))}),N),g=()=>{if(f)return;const N=new _.SL,B=Y=>a(!1,Y.fromElement===d);N.add(b.nm(d,b.tw.MOUSE_LEAVE,B,!0));const W=()=>a(!0,!0);N.add(b.nm(d,b.tw.MOUSE_DOWN,W,!0));const $={targetElements:[d],dispose:()=>{}};if(u.placement===void 0||u.placement==="mouse"){const Y=R=>{$.x=R.x+10,R.target instanceof HTMLElement&&R.target.classList.contains("action-label")&&a(!0,!0)};N.add(b.nm(d,b.tw.MOUSE_MOVE,Y,!0))}N.add(S(u.delay,!1,$)),f=N},y=b.nm(d,b.tw.MOUSE_OVER,g,!0),C=()=>{if(f)return;const N={targetElements:[d],dispose:()=>{}},B=new _.SL,W=()=>a(!0,!0);B.add(b.nm(d,b.tw.BLUR,W,!0)),B.add(S(u.delay,!1,N)),f=B},E=b.nm(d,b.tw.FOCUS,C,!0);return{show:N=>{a(!1,!0),S(0,N)},hide:()=>{a(!0,!0)},update:(N,B)=>tn(this,null,function*(){n=N,yield v==null?void 0:v.update(n,void 0,B)}),dispose:()=>{y.dispose(),E.dispose(),a(!0,!0)}}}},56811:function(Ot,Ke,e){"use strict";e.d(Ke,{T:function(){return w},h:function(){return c}});var b=e(65321),U=e(25670);const r=new RegExp(`(\\\\)?\\$\\((${U.k.iconNameExpression}(?:${U.k.iconModifierExpression})?)\\)`,"g");function w(_){const I=new Array;let M,D=0,p=0;for(;(M=r.exec(_))!==null;){p=M.index||0,D<p&&I.push(_.substring(D,p)),D=(M.index||0)+M[0].length;const[,o,u]=M;I.push(o?`$(${u})`:c({id:u}))}return D<_.length&&I.push(_.substring(D)),I}function c(_){const I=b.$("span");return I.classList.add(...U.k.asClassNameArray(_)),I}},97862:function(Ot,Ke,e){"use strict";e.d(Ke,{pG:function(){return f},g4:function(){return n}});var b=e(65321),U=e(4850),r=e(94079),w=e(90317),c=e(35996),_=e(59740),I=e(93794),M=e(4669);class D{constructor(a,S=0,g=a.length,y=S-1){this.items=a,this.start=S,this.end=g,this.index=y}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class p{constructor(a=[],S=10){this._initialize(a),this._limit=S,this._onChange()}getHistory(){return this._elements}add(a){this._history.delete(a),this._history.add(a),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(a){return this._history.has(a)}_onChange(){this._reduceToLimit();const a=this._elements;this._navigator=new D(a,0,a.length,a.length)}_reduceToLimit(){const a=this._elements;a.length>this._limit&&this._initialize(a.slice(a.length-this._limit))}_currentPosition(){const a=this._navigator.current();return a?this._elements.indexOf(a):-1}_initialize(a){this._history=new Set;for(const S of a)this._history.add(S)}get _elements(){const a=[];return this._history.forEach(S=>a.push(S)),a}}var o=e(36248),u=e(63580);const d=b.$,n={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class i extends I.${constructor(a,S,g){var y;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new M.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new M.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=S,this.options=g,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(y=this.options.tooltip)!==null&&y!==void 0?y:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=b.R3(a,d(".monaco-inputbox.idle"));const C=this.options.flexibleHeight?"textarea":"input",E=b.R3(this.element,d(".ibwrapper"));if(this.input=b.R3(E,d(C+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=b.R3(E,d("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new _.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),b.R3(a,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(B=>this.input.scrollTop=B.scrollTop));const A=this._register(new U.Y(a.ownerDocument,"selectionchange")),N=M.ju.filter(A.event,()=>{const B=a.ownerDocument.getSelection();return(B==null?void 0:B.anchorNode)===E});this._register(N(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new w.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(a){this.placeholder=a,this.input.setAttribute("placeholder",a)}setTooltip(a){this.tooltip=a,this.input.title=a}get inputElement(){return this.input}get value(){return this.input.value}set value(a){this.input.value!==a&&(this.input.value=a,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:b.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return b.H9(this.input)}select(a=null){this.input.select(),a&&(this.input.setSelectionRange(a.start,a.end),a.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(a){this.input.style.width=`calc(100% - ${a}px)`,this.mirror&&(this.mirror.style.paddingRight=a+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const a=this.cachedContentHeight,S=this.cachedHeight,g=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:a,height:S}),this.scrollableElement.setScrollPosition({scrollTop:g})}showMessage(a,S){if(this.state==="open"&&(0,o.fS)(this.message,a))return;this.message=a,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(a.type));const g=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${b.XT(g.border,"transparent")}`,this.message.content&&(this.hasFocus()||S)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let a=null;return this.validation&&(a=this.validation(this.value),a?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(a)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),a==null?void 0:a.type}stylesForType(a){const S=this.options.inputBoxStyles;switch(a){case 1:return{border:S.inputValidationInfoBorder,background:S.inputValidationInfoBackground,foreground:S.inputValidationInfoForeground};case 2:return{border:S.inputValidationWarningBorder,background:S.inputValidationWarningBackground,foreground:S.inputValidationWarningForeground};default:return{border:S.inputValidationErrorBorder,background:S.inputValidationErrorBackground,foreground:S.inputValidationErrorForeground}}}classForType(a){switch(a){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let a;const S=()=>a.style.width=b.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:y=>{var C,E;if(!this.message)return null;a=b.R3(y,d(".monaco-inputbox-container")),S();const A={inline:!0,className:"monaco-inputbox-message"},N=this.message.formatContent?(0,r.BO)(this.message.content,A):(0,r.IY)(this.message.content,A);N.classList.add(this.classForType(this.message.type));const B=this.stylesForType(this.message.type);return N.style.backgroundColor=(C=B.background)!==null&&C!==void 0?C:"",N.style.color=(E=B.foreground)!==null&&E!==void 0?E:"",N.style.border=B.border?`1px solid ${B.border}`:"",b.R3(a,N),null},onHide:()=>{this.state="closed"},layout:S});let g;this.message.type===3?g=u.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?g=u.NC("alertWarningMessage","Warning: {0}",this.message.content):g=u.NC("alertInfoMessage","Info: {0}",this.message.content),c.Z9(g),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const a=this.value,g=a.charCodeAt(a.length-1)===10?" ":"";(a+g).replace(/\u000c/g,"")?this.mirror.textContent=a+g:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var a,S,g;const y=this.options.inputBoxStyles,C=(a=y.inputBackground)!==null&&a!==void 0?a:"",E=(S=y.inputForeground)!==null&&S!==void 0?S:"",A=(g=y.inputBorder)!==null&&g!==void 0?g:"";this.element.style.backgroundColor=C,this.element.style.color=E,this.input.style.backgroundColor="inherit",this.input.style.color=E,this.element.style.border=`1px solid ${b.XT(A,"transparent")}`}layout(){if(!this.mirror)return;const a=this.cachedContentHeight;this.cachedContentHeight=b.wn(this.mirror),a!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(a){const S=this.inputElement,g=S.selectionStart,y=S.selectionEnd,C=S.value;g!==null&&y!==null&&(this.value=C.substr(0,g)+a+C.substr(y),S.setSelectionRange(g+1,g+1),this.layout())}dispose(){var a;this._hideMessage(),this.message=null,(a=this.actionbar)===null||a===void 0||a.dispose(),super.dispose()}}class f extends i{constructor(a,S,g){const y=u.NC({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),C=u.NC({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(a,S,g),this._onDidFocus=this._register(new M.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new p(g.history,100);const E=()=>{if(g.showHistoryHint&&g.showHistoryHint()&&!this.placeholder.endsWith(y)&&!this.placeholder.endsWith(C)&&this.history.getHistory().length){const A=this.placeholder.endsWith(")")?y:C,N=this.placeholder+A;g.showPlaceholderOnFocus&&!b.H9(this.input)?this.placeholder=N:this.setPlaceHolder(N)}};this.observer=new MutationObserver((A,N)=>{A.forEach(B=>{B.target.textContent||E()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>E()),this.onblur(this.input,()=>{const A=N=>{if(this.placeholder.endsWith(N)){const B=this.placeholder.slice(0,this.placeholder.length-N.length);return g.showPlaceholderOnFocus?this.placeholder=B:this.setPlaceHolder(B),!0}else return!1};A(C)||A(y)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(a){this.value&&(a||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let a=this.getNextValue();a&&(a=a===this.value?this.getNextValue():a),this.value=a!=null?a:"",c.i7(this.value?this.value:u.NC("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let a=this.getPreviousValue();a&&(a=a===this.value?this.getPreviousValue():a),a&&(this.value=a,c.i7(this.value))}setPlaceHolder(a){super.setPlaceHolder(a),this.setTooltip(a)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let a=this.history.current();return a||(a=this.history.last(),this.history.next()),a}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},35190:function(Ot,Ke,e){"use strict";e.d(Ke,{e:function(){return I},F:function(){return _}});var b=e(65321),U=e(8030),r=e(36248),w=e(63580);const c=b.$,_={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class I{constructor(D,p,o){this.os=p,this.keyElements=new Set,this.options=o||Object.create(null);const u=this.options.keybindingLabelForeground;this.domNode=b.R3(D,c(".monaco-keybinding")),u&&(this.domNode.style.color=u),this.didEverRender=!1,D.appendChild(this.domNode)}get element(){return this.domNode}set(D,p){this.didEverRender&&this.keybinding===D&&I.areSame(this.matches,p)||(this.keybinding=D,this.matches=p,this.render())}render(){var D;if(this.clear(),this.keybinding){const p=this.keybinding.getChords();p[0]&&this.renderChord(this.domNode,p[0],this.matches?this.matches.firstPart:null);for(let u=1;u<p.length;u++)b.R3(this.domNode,c("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,p[u],this.matches?this.matches.chordPart:null);const o=(D=this.options.disableTitle)!==null&&D!==void 0&&D?void 0:this.keybinding.getAriaLabel()||void 0;o!==void 0?this.domNode.title=o:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){b.PO(this.domNode),this.keyElements.clear()}renderChord(D,p,o){const u=U.xo.modifierLabels[this.os];p.ctrlKey&&this.renderKey(D,u.ctrlKey,!!(o!=null&&o.ctrlKey),u.separator),p.shiftKey&&this.renderKey(D,u.shiftKey,!!(o!=null&&o.shiftKey),u.separator),p.altKey&&this.renderKey(D,u.altKey,!!(o!=null&&o.altKey),u.separator),p.metaKey&&this.renderKey(D,u.metaKey,!!(o!=null&&o.metaKey),u.separator);const d=p.keyLabel;d&&this.renderKey(D,d,!!(o!=null&&o.keyCode),"")}renderKey(D,p,o,u){b.R3(D,this.createKeyElement(p,o?".highlight":"")),u&&b.R3(D,c("span.monaco-keybinding-key-separator",void 0,u))}renderUnbound(D){b.R3(D,this.createKeyElement((0,w.NC)("unbound","Unbound")))}createKeyElement(D,p=""){const o=c("span.monaco-keybinding-key"+p,void 0,D);return this.keyElements.add(o),this.options.keybindingLabelBackground&&(o.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(o.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(o.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(o.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),o}static areSame(D,p){return D===p||!D&&!p?!0:!!D&&!!p&&(0,r.fS)(D.firstPart,p.firstPart)&&(0,r.fS)(D.chordPart,p.chordPart)}}},72010:function(Ot,Ke,e){"use strict";e.d(Ke,{kX:function(){return A},Bv:function(){return Y}});var b=e(23547),U=e(65321),r=e(4850),w=e(10553),c=e(59740),_=e(9488),I=e(15393),M=e(49898),D=e(4669),p=e(5976),o=e(61134),u=e(76633);function d(R,L){const z=[];for(const O of L){if(R.start>=O.range.end)continue;if(R.end<O.range.start)break;const P=o.e.intersect(R,O.range);o.e.isEmpty(P)||z.push({range:P,size:O.size})}return z}function n({start:R,end:L},z){return{start:R+z,end:L+z}}function i(R){const L=[];let z=null;for(const O of R){const P=O.range.start,H=O.range.end,V=O.size;if(z&&V===z.size){z.range.end=H;continue}z={range:{start:P,end:H},size:V},L.push(z)}return L}function f(...R){return i(R.reduce((L,z)=>L.concat(z),[]))}class v{get paddingTop(){return this._paddingTop}set paddingTop(L){this._size=this._size+L-this._paddingTop,this._paddingTop=L}constructor(L){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=L!=null?L:0,this._size=this._paddingTop}splice(L,z,O=[]){const P=O.length-z,H=d({start:0,end:L},this.groups),V=d({start:L+z,end:Number.POSITIVE_INFINITY},this.groups).map(j=>({range:n(j.range,P),size:j.size})),G=O.map((j,F)=>({range:{start:L+F,end:L+F+1},size:j.size}));this.groups=f(H,G,V),this._size=this._paddingTop+this.groups.reduce((j,F)=>j+F.size*(F.range.end-F.range.start),0)}get count(){const L=this.groups.length;return L?this.groups[L-1].range.end:0}get size(){return this._size}indexAt(L){if(L<0)return-1;if(L<this._paddingTop)return 0;let z=0,O=this._paddingTop;for(const P of this.groups){const H=P.range.end-P.range.start,V=O+H*P.size;if(L<V)return z+Math.floor((L-O)/P.size);z+=H,O=V}return z}indexAfter(L){return Math.min(this.indexAt(L)+1,this.count)}positionAt(L){if(L<0)return-1;let z=0,O=0;for(const P of this.groups){const H=P.range.end-P.range.start,V=O+H;if(L<V)return this._paddingTop+z+(L-O)*P.size;z+=H*P.size,O=V}return-1}}function a(R){var L;try{(L=R.parentElement)===null||L===void 0||L.removeChild(R)}catch(z){}}class S{constructor(L){this.renderers=L,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(L){let z=this.getTemplateCache(L).pop(),O=!1;if(z)O=this.transactionNodesPendingRemoval.has(z.domNode),O&&this.transactionNodesPendingRemoval.delete(z.domNode);else{const P=(0,U.$)(".monaco-list-row"),V=this.getRenderer(L).renderTemplate(P);z={domNode:P,templateId:L,templateData:V}}return{row:z,isReusingConnectedDomNode:O}}release(L){L&&this.releaseRow(L)}transact(L){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{L()}finally{for(const z of this.transactionNodesPendingRemoval)this.doRemoveNode(z);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(L){const{domNode:z,templateId:O}=L;z&&(this.inTransaction?this.transactionNodesPendingRemoval.add(z):this.doRemoveNode(z)),this.getTemplateCache(O).push(L)}doRemoveNode(L){L.classList.remove("scrolling"),a(L)}getTemplateCache(L){let z=this.cache.get(L);return z||(z=[],this.cache.set(L,z)),z}dispose(){this.cache.forEach((L,z)=>{for(const O of L)this.getRenderer(z).disposeTemplate(O.templateData),O.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(L){const z=this.renderers.get(L);if(!z)throw new Error(`No renderer found for ${L}`);return z}}var g=e(17301),y=function(R,L,z,O){var P=arguments.length,H=P<3?L:O===null?O=Object.getOwnPropertyDescriptor(L,z):O,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(R,L,z,O);else for(var G=R.length-1;G>=0;G--)(V=R[G])&&(H=(P<3?V(H):P>3?V(L,z,H):V(L,z))||H);return P>3&&H&&Object.defineProperty(L,z,H),H};const C={CurrentDragAndDropData:void 0},E={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(R){return[R]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class A{constructor(L){this.elements=L}update(){}getData(){return this.elements}}class N{constructor(L){this.elements=L}update(){}getData(){return this.elements}}class B{constructor(){this.types=[],this.files=[]}update(L){if(L.types&&this.types.splice(0,this.types.length,...L.types),L.files){this.files.splice(0,this.files.length);for(let z=0;z<L.files.length;z++){const O=L.files.item(z);O&&(O.size||O.type)&&this.files.push(O)}}}getData(){return{types:this.types,files:this.files}}}function W(R,L){return Array.isArray(R)&&Array.isArray(L)?(0,_.fS)(R,L):R===L}class ${constructor(L){L!=null&&L.getSetSize?this.getSetSize=L.getSetSize.bind(L):this.getSetSize=(z,O,P)=>P,L!=null&&L.getPosInSet?this.getPosInSet=L.getPosInSet.bind(L):this.getPosInSet=(z,O)=>O+1,L!=null&&L.getRole?this.getRole=L.getRole.bind(L):this.getRole=z=>"listitem",L!=null&&L.isChecked?this.isChecked=L.isChecked.bind(L):this.isChecked=z=>{}}}class Y{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(L){if(L!==this._horizontalScrolling){if(L&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=L,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const z of this.items)this.measureItemWidth(z);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,U.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(L,z,O,P=E){var H,V,G,j,F,K,m,J,X,te,le,ge,we;if(this.virtualDelegate=z,this.domId=`list_id_${++Y.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new I.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=p.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=p.JT.None,this.onDragLeaveTimeout=p.JT.None,this.disposables=new p.SL,this._onDidChangeContentHeight=new D.Q5,this._onDidChangeContentWidth=new D.Q5,this.onDidChangeContentHeight=D.ju.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,P.horizontalScrolling&&P.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new v((H=P.paddingTop)!==null&&H!==void 0?H:0);for(const Pe of O)this.renderers.set(Pe.templateId,Pe);this.cache=this.disposables.add(new S(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof P.mouseSupport=="boolean"?P.mouseSupport:!0),this._horizontalScrolling=(V=P.horizontalScrolling)!==null&&V!==void 0?V:E.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof P.paddingBottom=="undefined"?0:P.paddingBottom,this.accessibilityProvider=new $(P.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((G=P.transformOptimization)!==null&&G!==void 0?G:E.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(w.o.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new u.Rm({forceIntegerValues:!0,smoothScrollDuration:(j=P.smoothScrolling)!==null&&j!==void 0&&j?125:0,scheduleAtNextAnimationFrame:Pe=>(0,U.jL)((0,U.Jj)(this.domNode),Pe)})),this.scrollableElement=this.disposables.add(new c.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(F=P.alwaysConsumeMouseWheel)!==null&&F!==void 0?F:E.alwaysConsumeMouseWheel,horizontal:1,vertical:(K=P.verticalScrollMode)!==null&&K!==void 0?K:E.verticalScrollMode,useShadows:(m=P.useShadows)!==null&&m!==void 0?m:E.useShadows,mouseWheelScrollSensitivity:P.mouseWheelScrollSensitivity,fastScrollSensitivity:P.fastScrollSensitivity,scrollByPage:P.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),L.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,U.nm)(this.rowsContainer,w.t.Change,Pe=>this.onTouchChange(Pe))),this.disposables.add((0,U.nm)(this.scrollableElement.getDomNode(),"scroll",Pe=>Pe.target.scrollTop=0)),this.disposables.add((0,U.nm)(this.domNode,"dragover",Pe=>this.onDragOver(this.toDragEvent(Pe)))),this.disposables.add((0,U.nm)(this.domNode,"drop",Pe=>this.onDrop(this.toDragEvent(Pe)))),this.disposables.add((0,U.nm)(this.domNode,"dragleave",Pe=>this.onDragLeave(this.toDragEvent(Pe)))),this.disposables.add((0,U.nm)(this.domNode,"dragend",Pe=>this.onDragEnd(Pe))),this.setRowLineHeight=(J=P.setRowLineHeight)!==null&&J!==void 0?J:E.setRowLineHeight,this.setRowHeight=(X=P.setRowHeight)!==null&&X!==void 0?X:E.setRowHeight,this.supportDynamicHeights=(te=P.supportDynamicHeights)!==null&&te!==void 0?te:E.supportDynamicHeights,this.dnd=(le=P.dnd)!==null&&le!==void 0?le:this.disposables.add(E.dnd),this.layout((ge=P.initialSize)===null||ge===void 0?void 0:ge.height,(we=P.initialSize)===null||we===void 0?void 0:we.width)}updateOptions(L){L.paddingBottom!==void 0&&(this.paddingBottom=L.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),L.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(L.smoothScrolling?125:0),L.horizontalScrolling!==void 0&&(this.horizontalScrolling=L.horizontalScrolling);let z;if(L.scrollByPage!==void 0&&(z=Ni(Xn({},z!=null?z:{}),{scrollByPage:L.scrollByPage})),L.mouseWheelScrollSensitivity!==void 0&&(z=Ni(Xn({},z!=null?z:{}),{mouseWheelScrollSensitivity:L.mouseWheelScrollSensitivity})),L.fastScrollSensitivity!==void 0&&(z=Ni(Xn({},z!=null?z:{}),{fastScrollSensitivity:L.fastScrollSensitivity})),z&&this.scrollableElement.updateOptions(z),L.paddingTop!==void 0&&L.paddingTop!==this.rangeMap.paddingTop){const O=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),P=L.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=L.paddingTop,this.render(O,Math.max(0,this.lastRenderTop+P),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(L,z,O=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(L,z,O)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(L,z,O=[]){const P=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),H={start:L,end:L+z},V=o.e.intersect(P,H),G=new Map;for(let Me=V.end-1;Me>=V.start;Me--){const ke=this.items[Me];if(ke.dragStartDisposable.dispose(),ke.checkedDisposable.dispose(),ke.row){let Ue=G.get(ke.templateId);Ue||(Ue=[],G.set(ke.templateId,Ue));const Le=this.renderers.get(ke.templateId);Le&&Le.disposeElement&&Le.disposeElement(ke.element,Me,ke.row.templateData,ke.size),Ue.push(ke.row)}ke.row=null}const j={start:L+z,end:this.items.length},F=o.e.intersect(j,P),K=o.e.relativeComplement(j,P),m=O.map(Me=>({id:String(this.itemId++),element:Me,templateId:this.virtualDelegate.getTemplateId(Me),size:this.virtualDelegate.getHeight(Me),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Me),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:p.JT.None,checkedDisposable:p.JT.None}));let J;L===0&&z>=this.items.length?(this.rangeMap=new v(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,m),J=this.items,this.items=m):(this.rangeMap.splice(L,z,m),J=this.items.splice(L,z,...m));const X=O.length-z,te=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),le=n(F,X),ge=o.e.intersect(te,le);for(let Me=ge.start;Me<ge.end;Me++)this.updateItemInDOM(this.items[Me],Me);const we=o.e.relativeComplement(le,te);for(const Me of we)for(let ke=Me.start;ke<Me.end;ke++)this.removeItemFromDOM(ke);const pe=K.map(Me=>n(Me,X)),Ne=[{start:L,end:L+O.length},...pe].map(Me=>o.e.intersect(te,Me)),ae=this.getNextToLastElement(Ne);for(const Me of Ne)for(let ke=Me.start;ke<Me.end;ke++){const Ue=this.items[ke],Le=G.get(Ue.templateId),ie=Le==null?void 0:Le.pop();this.insertItemInDOM(ke,ae,ie)}for(const Me of G.values())for(const ke of Me)this.cache.release(ke);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),J.map(Me=>Me.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,U.jL)((0,U.Jj)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let L=0;for(const z of this.items)typeof z.width!="undefined"&&(L=Math.max(L,z.width));this.scrollWidth=L,this.scrollableElement.setScrollDimensions({scrollWidth:L===0?0:L+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const L of this.items)L.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(L){return this.items[L].element}indexOf(L){return this.items.findIndex(z=>z.element===L)}domElement(L){const z=this.items[L].row;return z&&z.domNode}elementHeight(L){return this.items[L].size}elementTop(L){return this.rangeMap.positionAt(L)}indexAt(L){return this.rangeMap.indexAt(L)}indexAfter(L){return this.rangeMap.indexAfter(L)}layout(L,z){const O={height:typeof L=="number"?L:(0,U.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,O.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(O),typeof z!="undefined"&&(this.renderWidth=z,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof z=="number"?z:(0,U.FK)(this.domNode)})}render(L,z,O,P,H,V=!1){const G=this.getRenderRange(z,O),j=o.e.relativeComplement(G,L),F=o.e.relativeComplement(L,G),K=this.getNextToLastElement(j);if(V){const m=o.e.intersect(L,G);for(let J=m.start;J<m.end;J++)this.updateItemInDOM(this.items[J],J)}this.cache.transact(()=>{for(const m of F)for(let J=m.start;J<m.end;J++)this.removeItemFromDOM(J);for(const m of j)for(let J=m.start;J<m.end;J++)this.insertItemInDOM(J,K)}),P!==void 0&&(this.rowsContainer.style.left=`-${P}px`),this.rowsContainer.style.top=`-${z}px`,this.horizontalScrolling&&H!==void 0&&(this.rowsContainer.style.width=`${Math.max(H,this.renderWidth)}px`),this.lastRenderTop=z,this.lastRenderHeight=O}insertItemInDOM(L,z,O){const P=this.items[L];let H=!1;if(!P.row)if(O)P.row=O;else{const K=this.cache.alloc(P.templateId);P.row=K.row,H=K.isReusingConnectedDomNode}const V=this.accessibilityProvider.getRole(P.element)||"listitem";P.row.domNode.setAttribute("role",V);const G=this.accessibilityProvider.isChecked(P.element);if(typeof G=="boolean")P.row.domNode.setAttribute("aria-checked",String(!!G));else if(G){const K=m=>P.row.domNode.setAttribute("aria-checked",String(!!m));K(G.value),P.checkedDisposable=G.onDidChange(K)}(H||!P.row.domNode.parentElement)&&(z?this.rowsContainer.insertBefore(P.row.domNode,z):this.rowsContainer.appendChild(P.row.domNode)),this.updateItemInDOM(P,L);const j=this.renderers.get(P.templateId);if(!j)throw new Error(`No renderer found for template id ${P.templateId}`);j==null||j.renderElement(P.element,L,P.row.templateData,P.size);const F=this.dnd.getDragURI(P.element);P.dragStartDisposable.dispose(),P.row.domNode.draggable=!!F,F&&(P.dragStartDisposable=(0,U.nm)(P.row.domNode,"dragstart",K=>this.onDragStart(P.element,F,K))),this.horizontalScrolling&&(this.measureItemWidth(P),this.eventuallyUpdateScrollWidth())}measureItemWidth(L){if(!L.row||!L.row.domNode)return;L.row.domNode.style.width="fit-content",L.width=(0,U.FK)(L.row.domNode);const z=(0,U.Jj)(L.row.domNode).getComputedStyle(L.row.domNode);z.paddingLeft&&(L.width+=parseFloat(z.paddingLeft)),z.paddingRight&&(L.width+=parseFloat(z.paddingRight)),L.row.domNode.style.width=""}updateItemInDOM(L,z){L.row.domNode.style.top=`${this.elementTop(z)}px`,this.setRowHeight&&(L.row.domNode.style.height=`${L.size}px`),this.setRowLineHeight&&(L.row.domNode.style.lineHeight=`${L.size}px`),L.row.domNode.setAttribute("data-index",`${z}`),L.row.domNode.setAttribute("data-last-element",z===this.length-1?"true":"false"),L.row.domNode.setAttribute("data-parity",z%2===0?"even":"odd"),L.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(L.element,z,this.length))),L.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(L.element,z))),L.row.domNode.setAttribute("id",this.getElementDomId(z)),L.row.domNode.classList.toggle("drop-target",L.dropTarget)}removeItemFromDOM(L){const z=this.items[L];if(z.dragStartDisposable.dispose(),z.checkedDisposable.dispose(),z.row){const O=this.renderers.get(z.templateId);O&&O.disposeElement&&O.disposeElement(z.element,L,z.row.templateData,z.size),this.cache.release(z.row),z.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(L,z){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:L,reuseAnimation:z})}get scrollTop(){return this.getScrollTop()}set scrollTop(L){this.setScrollTop(L)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"click")).event,L=>this.toMouseEvent(L),this.disposables)}get onMouseDblClick(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"dblclick")).event,L=>this.toMouseEvent(L),this.disposables)}get onMouseMiddleClick(){return D.ju.filter(D.ju.map(this.disposables.add(new r.Y(this.domNode,"auxclick")).event,L=>this.toMouseEvent(L),this.disposables),L=>L.browserEvent.button===1,this.disposables)}get onMouseDown(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"mousedown")).event,L=>this.toMouseEvent(L),this.disposables)}get onMouseOver(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseover")).event,L=>this.toMouseEvent(L),this.disposables)}get onMouseOut(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseout")).event,L=>this.toMouseEvent(L),this.disposables)}get onContextMenu(){return D.ju.any(D.ju.map(this.disposables.add(new r.Y(this.domNode,"contextmenu")).event,L=>this.toMouseEvent(L),this.disposables),D.ju.map(this.disposables.add(new r.Y(this.domNode,w.t.Contextmenu)).event,L=>this.toGestureEvent(L),this.disposables))}get onTouchStart(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"touchstart")).event,L=>this.toTouchEvent(L),this.disposables)}get onTap(){return D.ju.map(this.disposables.add(new r.Y(this.rowsContainer,w.t.Tap)).event,L=>this.toGestureEvent(L),this.disposables)}toMouseEvent(L){const z=this.getItemIndexFromEventTarget(L.target||null),O=typeof z=="undefined"?void 0:this.items[z],P=O&&O.element;return{browserEvent:L,index:z,element:P}}toTouchEvent(L){const z=this.getItemIndexFromEventTarget(L.target||null),O=typeof z=="undefined"?void 0:this.items[z],P=O&&O.element;return{browserEvent:L,index:z,element:P}}toGestureEvent(L){const z=this.getItemIndexFromEventTarget(L.initialTarget||null),O=typeof z=="undefined"?void 0:this.items[z],P=O&&O.element;return{browserEvent:L,index:z,element:P}}toDragEvent(L){const z=this.getItemIndexFromEventTarget(L.target||null),O=typeof z=="undefined"?void 0:this.items[z],P=O&&O.element;return{browserEvent:L,index:z,element:P}}onScroll(L){try{const z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(z,L.scrollTop,L.height,L.scrollLeft,L.scrollWidth),this.supportDynamicHeights&&this._rerender(L.scrollTop,L.height,L.inSmoothScrolling)}catch(z){throw console.error("Got bad scroll event:",L),z}}onTouchChange(L){L.preventDefault(),L.stopPropagation(),this.scrollTop-=L.translationY}onDragStart(L,z,O){var P,H;if(!O.dataTransfer)return;const V=this.dnd.getDragElements(L);if(O.dataTransfer.effectAllowed="copyMove",O.dataTransfer.setData(b.g.TEXT,z),O.dataTransfer.setDragImage){let G;this.dnd.getDragLabel&&(G=this.dnd.getDragLabel(V,O)),typeof G=="undefined"&&(G=String(V.length));const j=(0,U.$)(".monaco-drag-image");j.textContent=G;const K=(m=>{for(;m&&!m.classList.contains("monaco-workbench");)m=m.parentElement;return m||this.domNode.ownerDocument})(this.domNode);K.appendChild(j),O.dataTransfer.setDragImage(j,-10,-10),setTimeout(()=>K.removeChild(j),0)}this.domNode.classList.add("dragging"),this.currentDragData=new A(V),C.CurrentDragAndDropData=new N(V),(H=(P=this.dnd).onDragStart)===null||H===void 0||H.call(P,this.currentDragData,O)}onDragOver(L){var z;if(L.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),C.CurrentDragAndDropData&&C.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(L.browserEvent),!L.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(C.CurrentDragAndDropData)this.currentDragData=C.CurrentDragAndDropData;else{if(!L.browserEvent.dataTransfer.types)return!1;this.currentDragData=new B}const O=this.dnd.onDragOver(this.currentDragData,L.element,L.index,L.browserEvent);if(this.canDrop=typeof O=="boolean"?O:O.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;L.browserEvent.dataTransfer.dropEffect=typeof O!="boolean"&&O.effect===0?"copy":"move";let P;if(typeof O!="boolean"&&O.feedback?P=O.feedback:typeof L.index=="undefined"?P=[-1]:P=[L.index],P=(0,_.EB)(P).filter(H=>H>=-1&&H<this.length).sort((H,V)=>H-V),P=P[0]===-1?[-1]:P,W(this.currentDragFeedback,P))return!0;if(this.currentDragFeedback=P,this.currentDragFeedbackDisposable.dispose(),P[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,p.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const H of P){const V=this.items[H];V.dropTarget=!0,(z=V.row)===null||z===void 0||z.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,p.OF)(()=>{var H;for(const V of P){const G=this.items[V];G.dropTarget=!1,(H=G.row)===null||H===void 0||H.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(L){var z,O;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,I.Vg)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((O=(z=this.dnd).onDragLeave)===null||O===void 0||O.call(z,this.currentDragData,L.element,L.index,L.browserEvent))}onDrop(L){if(!this.canDrop)return;const z=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,C.CurrentDragAndDropData=void 0,!(!z||!L.browserEvent.dataTransfer)&&(L.browserEvent.preventDefault(),z.update(L.browserEvent.dataTransfer),this.dnd.drop(z,L.element,L.index,L.browserEvent))}onDragEnd(L){var z,O;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,C.CurrentDragAndDropData=void 0,(O=(z=this.dnd).onDragEnd)===null||O===void 0||O.call(z,L)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=p.JT.None}setupDragAndDropScrollTopAnimation(L){if(!this.dragOverAnimationDisposable){const z=(0,U.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,U.jt)((0,U.Jj)(this.domNode),this.animateDragAndDropScrollTop.bind(this,z))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,I.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=L.pageY}animateDragAndDropScrollTop(L){if(this.dragOverMouseY===void 0)return;const z=this.dragOverMouseY-L,O=this.renderHeight-35;z<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(z-35))):z>O&&(this.scrollTop+=Math.min(14,Math.floor(.3*(z-O))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(L){const z=this.scrollableElement.getDomNode();let O=L;for(;O instanceof HTMLElement&&O!==this.rowsContainer&&z.contains(O);){const P=O.getAttribute("data-index");if(P){const H=Number(P);if(!isNaN(H))return H}O=O.parentElement}}getRenderRange(L,z){return{start:this.rangeMap.indexAt(L),end:this.rangeMap.indexAfter(L+z-1)}}_rerender(L,z,O){const P=this.getRenderRange(L,z);let H,V;L===this.elementTop(P.start)?(H=P.start,V=0):P.end-P.start>1&&(H=P.start+1,V=this.elementTop(H)-L);let G=0;for(;;){const j=this.getRenderRange(L,z);let F=!1;for(let K=j.start;K<j.end;K++){const m=this.probeDynamicHeight(K);m!==0&&this.rangeMap.splice(K,1,[this.items[K]]),G+=m,F=F||m!==0}if(!F){G!==0&&this.eventuallyUpdateScrollDimensions();const K=o.e.relativeComplement(P,j);for(const J of K)for(let X=J.start;X<J.end;X++)this.items[X].row&&this.removeItemFromDOM(X);const m=o.e.relativeComplement(j,P);for(const J of m)for(let X=J.start;X<J.end;X++){const te=X+1,le=te<this.items.length?this.items[te].row:null,ge=le?le.domNode:null;this.insertItemInDOM(X,ge)}for(let J=j.start;J<j.end;J++)this.items[J].row&&this.updateItemInDOM(this.items[J],J);if(typeof H=="number"){const J=this.scrollable.getFutureScrollPosition().scrollTop-L,X=this.elementTop(H)-V+J;this.setScrollTop(X,O)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(L){var z,O,P;const H=this.items[L];if(this.virtualDelegate.getDynamicHeight){const F=this.virtualDelegate.getDynamicHeight(H.element);if(F!==null){const K=H.size;return H.size=F,H.lastDynamicHeightWidth=this.renderWidth,F-K}}if(!H.hasDynamicHeight||H.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(H.element))return 0;const V=H.size;if(H.row)return H.row.domNode.style.height="",H.size=H.row.domNode.offsetHeight,H.lastDynamicHeightWidth=this.renderWidth,H.size-V;const{row:G}=this.cache.alloc(H.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const j=this.renderers.get(H.templateId);if(!j)throw new g.he("Missing renderer for templateId: "+H.templateId);return j.renderElement(H.element,L,G.templateData,void 0),H.size=G.domNode.offsetHeight,(z=j.disposeElement)===null||z===void 0||z.call(j,H.element,L,G.templateData,void 0),(P=(O=this.virtualDelegate).setDynamicHeight)===null||P===void 0||P.call(O,H.element,H.size),H.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),H.size-V}getNextToLastElement(L){const z=L[L.length-1];if(!z)return null;const O=this.items[z.end];return!O||!O.row?null:O.row.domNode}getElementDomId(L){return`${this.domId}_${L}`}dispose(){var L,z;for(const O of this.items)if(O.dragStartDisposable.dispose(),O.checkedDisposable.dispose(),O.row){const P=this.renderers.get(O.row.templateId);P&&((L=P.disposeElement)===null||L===void 0||L.call(P,O.element,-1,O.row.templateData,void 0),P.disposeTemplate(O.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(z=this.dragOverAnimationDisposable)===null||z===void 0||z.dispose(),this.disposables.dispose()}}Y.InstanceCount=0,y([M.H],Y.prototype,"onMouseClick",null),y([M.H],Y.prototype,"onMouseDblClick",null),y([M.H],Y.prototype,"onMouseMiddleClick",null),y([M.H],Y.prototype,"onMouseDown",null),y([M.H],Y.prototype,"onMouseOver",null),y([M.H],Y.prototype,"onMouseOut",null),y([M.H],Y.prototype,"onContextMenu",null),y([M.H],Y.prototype,"onTouchStart",null),y([M.H],Y.prototype,"onTap",null)},69047:function(Ot,Ke,e){"use strict";e.d(Ke,{wD:function(){return te},aV:function(){return Ue},sx:function(){return X},AA:function(){return P},dk:function(){return R},iK:function(){return z},cK:function(){return B},$B:function(){return Y},hD:function(){return $},wn:function(){return K},Zo:function(){return F},Et:function(){return L},uZ:function(){return le}});var b=e(65321),U=e(4850),r=e(59069),w=e(10553),c=e(35996);class _{constructor(ie){this.spliceables=ie}splice(ie,ce,Re){this.spliceables.forEach(ye=>ye.splice(ie,ce,Re))}}var I=e(9488),M=e(15393),D=e(41264),p=e(49898),o=e(4669),u=e(60075),d=e(5976),n=e(59870),i=e(1432),f=e(98401),v=e(5520);class a extends Error{constructor(ie,ce){super(`ListError [${ie}] ${ce}`)}}var S=e(72010),g=e(7317),y=function(Le,ie,ce,Re){var ye=arguments.length,Se=ye<3?ie:Re===null?Re=Object.getOwnPropertyDescriptor(ie,ce):Re,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(Le,ie,ce,Re);else for(var he=Le.length-1;he>=0;he--)(me=Le[he])&&(Se=(ye<3?me(Se):ye>3?me(ie,ce,Se):me(ie,ce))||Se);return ye>3&&Se&&Object.defineProperty(ie,ce,Se),Se};class C{constructor(ie){this.trait=ie,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ie){return ie}renderElement(ie,ce,Re){const ye=this.renderedElements.findIndex(Se=>Se.templateData===Re);if(ye>=0){const Se=this.renderedElements[ye];this.trait.unrender(Re),Se.index=ce}else{const Se={index:ce,templateData:Re};this.renderedElements.push(Se)}this.trait.renderIndex(ce,Re)}splice(ie,ce,Re){const ye=[];for(const Se of this.renderedElements)Se.index<ie?ye.push(Se):Se.index>=ie+ce&&ye.push({index:Se.index+Re-ce,templateData:Se.templateData});this.renderedElements=ye}renderIndexes(ie){for(const{index:ce,templateData:Re}of this.renderedElements)ie.indexOf(ce)>-1&&this.trait.renderIndex(ce,Re)}disposeTemplate(ie){const ce=this.renderedElements.findIndex(Re=>Re.templateData===ie);ce<0||this.renderedElements.splice(ce,1)}}class E{get name(){return this._trait}get renderer(){return new C(this)}constructor(ie){this._trait=ie,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new o.Q5,this.onChange=this._onChange.event}splice(ie,ce,Re){var ye;ce=Math.max(0,Math.min(ce,this.length-ie));const Se=Re.length-ce,me=ie+ce,he=[];let se=0;for(;se<this.sortedIndexes.length&&this.sortedIndexes[se]<ie;)he.push(this.sortedIndexes[se++]);for(let xe=0;xe<Re.length;xe++)Re[xe]&&he.push(xe+ie);for(;se<this.sortedIndexes.length&&this.sortedIndexes[se]>=me;)he.push(this.sortedIndexes[se++]+Se);const ve=this.length+Se;if(this.sortedIndexes.length>0&&he.length===0&&ve>0){const xe=(ye=this.sortedIndexes.find(je=>je>=ie))!==null&&ye!==void 0?ye:ve-1;he.push(Math.min(xe,ve-1))}this.renderer.splice(ie,ce,Re.length),this._set(he,he),this.length=ve}renderIndex(ie,ce){ce.classList.toggle(this._trait,this.contains(ie))}unrender(ie){ie.classList.remove(this._trait)}set(ie,ce){return this._set(ie,[...ie].sort(Ne),ce)}_set(ie,ce,Re){const ye=this.indexes,Se=this.sortedIndexes;this.indexes=ie,this.sortedIndexes=ce;const me=pe(Se,ie);return this.renderer.renderIndexes(me),this._onChange.fire({indexes:ie,browserEvent:Re}),ye}get(){return this.indexes}contains(ie){return(0,I.ry)(this.sortedIndexes,ie,Ne)>=0}dispose(){(0,d.B9)(this._onChange)}}y([p.H],E.prototype,"renderer",null);class A extends E{constructor(ie){super("selected"),this.setAriaSelected=ie}renderIndex(ie,ce){super.renderIndex(ie,ce),this.setAriaSelected&&(this.contains(ie)?ce.setAttribute("aria-selected","true"):ce.setAttribute("aria-selected","false"))}}class N{constructor(ie,ce,Re){this.trait=ie,this.view=ce,this.identityProvider=Re}splice(ie,ce,Re){if(!this.identityProvider)return this.trait.splice(ie,ce,new Array(Re.length).fill(!1));const ye=this.trait.get().map(he=>this.identityProvider.getId(this.view.element(he)).toString());if(ye.length===0)return this.trait.splice(ie,ce,new Array(Re.length).fill(!1));const Se=new Set(ye),me=Re.map(he=>Se.has(this.identityProvider.getId(he).toString()));this.trait.splice(ie,ce,me)}}function B(Le){return Le.tagName==="INPUT"||Le.tagName==="TEXTAREA"}function W(Le,ie){return Le.classList.contains(ie)?!0:Le.classList.contains("monaco-list")||!Le.parentElement?!1:W(Le.parentElement,ie)}function $(Le){return W(Le,"monaco-editor")}function Y(Le){return W(Le,"monaco-custom-toggle")}function R(Le){return W(Le,"action-item")}function L(Le){return W(Le,"monaco-tree-sticky-row")}function z(Le){return Le.tagName==="A"&&Le.classList.contains("monaco-button")||Le.tagName==="DIV"&&Le.classList.contains("monaco-button-dropdown")?!0:Le.classList.contains("monaco-list")||!Le.parentElement?!1:z(Le.parentElement)}class O{get onKeyDown(){return o.ju.chain(this.disposables.add(new U.Y(this.view.domNode,"keydown")).event,ie=>ie.filter(ce=>!B(ce.target)).map(ce=>new r.y(ce)))}constructor(ie,ce,Re){this.list=ie,this.view=ce,this.disposables=new d.SL,this.multipleSelectionDisposables=new d.SL,this.multipleSelectionSupport=Re.multipleSelectionSupport,this.disposables.add(this.onKeyDown(ye=>{switch(ye.keyCode){case 3:return this.onEnter(ye);case 16:return this.onUpArrow(ye);case 18:return this.onDownArrow(ye);case 11:return this.onPageUpArrow(ye);case 12:return this.onPageDownArrow(ye);case 9:return this.onEscape(ye);case 31:this.multipleSelectionSupport&&(i.dz?ye.metaKey:ye.ctrlKey)&&this.onCtrlA(ye)}}))}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=ie.multipleSelectionSupport)}onEnter(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection(this.list.getFocus(),ie.browserEvent)}onUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPrevious(1,!1,ie.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNext(1,!1,ie.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onPageUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPreviousPage(ie.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onPageDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNextPage(ie.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onCtrlA(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection((0,I.w6)(this.list.length),ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ie){this.list.getSelection().length&&(ie.preventDefault(),ie.stopPropagation(),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}y([p.H],O.prototype,"onKeyDown",null);var P;(function(Le){Le[Le.Automatic=0]="Automatic",Le[Le.Trigger=1]="Trigger"})(P||(P={}));var H;(function(Le){Le[Le.Idle=0]="Idle",Le[Le.Typing=1]="Typing"})(H||(H={}));const V=new class{mightProducePrintableCharacter(Le){return Le.ctrlKey||Le.metaKey||Le.altKey?!1:Le.keyCode>=31&&Le.keyCode<=56||Le.keyCode>=21&&Le.keyCode<=30||Le.keyCode>=98&&Le.keyCode<=107||Le.keyCode>=85&&Le.keyCode<=95}};class G{constructor(ie,ce,Re,ye,Se){this.list=ie,this.view=ce,this.keyboardNavigationLabelProvider=Re,this.keyboardNavigationEventFilter=ye,this.delegate=Se,this.enabled=!1,this.state=H.Idle,this.mode=P.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new d.SL,this.disposables=new d.SL,this.updateOptions(ie.options)}updateOptions(ie){var ce,Re;!((ce=ie.typeNavigationEnabled)!==null&&ce!==void 0)||ce?this.enable():this.disable(),this.mode=(Re=ie.typeNavigationMode)!==null&&Re!==void 0?Re:P.Automatic}enable(){if(this.enabled)return;let ie=!1;const ce=o.ju.chain(this.enabledDisposables.add(new U.Y(this.view.domNode,"keydown")).event,Se=>Se.filter(me=>!B(me.target)).filter(()=>this.mode===P.Automatic||this.triggered).map(me=>new r.y(me)).filter(me=>ie||this.keyboardNavigationEventFilter(me)).filter(me=>this.delegate.mightProducePrintableCharacter(me)).forEach(me=>b.zB.stop(me,!0)).map(me=>me.browserEvent.key)),Re=o.ju.debounce(ce,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);o.ju.reduce(o.ju.any(ce,Re),(Se,me)=>me===null?null:(Se||"")+me,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Re(this.onClear,this,this.enabledDisposables),ce(()=>ie=!0,void 0,this.enabledDisposables),Re(()=>ie=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ie;const ce=this.list.getFocus();if(ce.length>0&&ce[0]===this.previouslyFocused){const Re=(ie=this.list.options.accessibilityProvider)===null||ie===void 0?void 0:ie.getAriaLabel(this.list.element(ce[0]));Re&&(0,c.Z9)(Re)}this.previouslyFocused=-1}onInput(ie){if(!ie){this.state=H.Idle,this.triggered=!1;return}const ce=this.list.getFocus(),Re=ce.length>0?ce[0]:0,ye=this.state===H.Idle?1:0;this.state=H.Typing;for(let Se=0;Se<this.list.length;Se++){const me=(Re+Se+ye)%this.list.length,he=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(me)),se=he&&he.toString();if(this.list.options.typeNavigationEnabled){if(typeof se!="undefined"){if((0,u.Ji)(ie,se)){this.previouslyFocused=Re,this.list.setFocus([me]),this.list.reveal(me);return}const ve=(0,u.XU)(ie,se);if(ve&&ve[0].end-ve[0].start>1&&ve.length===1){this.previouslyFocused=Re,this.list.setFocus([me]),this.list.reveal(me);return}}}else if(typeof se=="undefined"||(0,u.Ji)(ie,se)){this.previouslyFocused=Re,this.list.setFocus([me]),this.list.reveal(me);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class j{constructor(ie,ce){this.list=ie,this.view=ce,this.disposables=new d.SL;const Re=o.ju.chain(this.disposables.add(new U.Y(ce.domNode,"keydown")).event,Se=>Se.filter(me=>!B(me.target)).map(me=>new r.y(me)));o.ju.chain(Re,Se=>Se.filter(me=>me.keyCode===2&&!me.ctrlKey&&!me.metaKey&&!me.shiftKey&&!me.altKey))(this.onTab,this,this.disposables)}onTab(ie){if(ie.target!==this.view.domNode)return;const ce=this.list.getFocus();if(ce.length===0)return;const Re=this.view.domElement(ce[0]);if(!Re)return;const ye=Re.querySelector("[tabIndex]");if(!ye||!(ye instanceof HTMLElement)||ye.tabIndex===-1)return;const Se=(0,b.Jj)(ye).getComputedStyle(ye);Se.visibility==="hidden"||Se.display==="none"||(ie.preventDefault(),ie.stopPropagation(),ye.focus())}dispose(){this.disposables.dispose()}}function F(Le){return i.dz?Le.browserEvent.metaKey:Le.browserEvent.ctrlKey}function K(Le){return Le.browserEvent.shiftKey}function m(Le){return(0,b.N5)(Le)&&Le.button===2}const J={isSelectionSingleChangeEvent:F,isSelectionRangeChangeEvent:K};class X{constructor(ie){this.list=ie,this.disposables=new d.SL,this._onPointer=new o.Q5,this.onPointer=this._onPointer.event,ie.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||J),this.mouseSupport=typeof ie.options.mouseSupport=="undefined"||!!ie.options.mouseSupport,this.mouseSupport&&(ie.onMouseDown(this.onMouseDown,this,this.disposables),ie.onContextMenu(this.onContextMenu,this,this.disposables),ie.onMouseDblClick(this.onDoubleClick,this,this.disposables),ie.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(w.o.addTarget(ie.getHTMLElement()))),o.ju.any(ie.onMouseClick,ie.onMouseMiddleClick,ie.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,ie.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||J))}isSelectionSingleChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(ie):!1}isSelectionRangeChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(ie):!1}isSelectionChangeEvent(ie){return this.isSelectionSingleChangeEvent(ie)||this.isSelectionRangeChangeEvent(ie)}onMouseDown(ie){$(ie.browserEvent.target)||(0,b.vY)()!==ie.browserEvent.target&&this.list.domFocus()}onContextMenu(ie){if(B(ie.browserEvent.target)||$(ie.browserEvent.target))return;const ce=typeof ie.index=="undefined"?[]:[ie.index];this.list.setFocus(ce,ie.browserEvent)}onViewPointer(ie){if(!this.mouseSupport||B(ie.browserEvent.target)||$(ie.browserEvent.target)||ie.browserEvent.isHandledByList)return;ie.browserEvent.isHandledByList=!0;const ce=ie.index;if(typeof ce=="undefined"){this.list.setFocus([],ie.browserEvent),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(ie))return this.changeSelection(ie);this.list.setFocus([ce],ie.browserEvent),this.list.setAnchor(ce),m(ie.browserEvent)||this.list.setSelection([ce],ie.browserEvent),this._onPointer.fire(ie)}onDoubleClick(ie){if(B(ie.browserEvent.target)||$(ie.browserEvent.target)||this.isSelectionChangeEvent(ie)||ie.browserEvent.isHandledByList)return;ie.browserEvent.isHandledByList=!0;const ce=this.list.getFocus();this.list.setSelection(ce,ie.browserEvent)}changeSelection(ie){const ce=ie.index;let Re=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ie)){if(typeof Re=="undefined"){const xe=this.list.getFocus()[0];Re=xe!=null?xe:ce,this.list.setAnchor(Re)}const ye=Math.min(Re,ce),Se=Math.max(Re,ce),me=(0,I.w6)(ye,Se+1),he=this.list.getSelection(),se=we(pe(he,[Re]),Re);if(se.length===0)return;const ve=pe(me,Pe(he,se));this.list.setSelection(ve,ie.browserEvent),this.list.setFocus([ce],ie.browserEvent)}else if(this.isSelectionSingleChangeEvent(ie)){const ye=this.list.getSelection(),Se=ye.filter(me=>me!==ce);this.list.setFocus([ce]),this.list.setAnchor(ce),ye.length===Se.length?this.list.setSelection([...Se,ce],ie.browserEvent):this.list.setSelection(Se,ie.browserEvent)}}dispose(){this.disposables.dispose()}}class te{constructor(ie,ce){this.styleElement=ie,this.selectorSuffix=ce}style(ie){var ce,Re;const ye=this.selectorSuffix&&`.${this.selectorSuffix}`,Se=[];ie.listBackground&&Se.push(`.monaco-list${ye} .monaco-list-rows { background: ${ie.listBackground}; }`),ie.listFocusBackground&&(Se.push(`.monaco-list${ye}:focus .monaco-list-row.focused { background-color: ${ie.listFocusBackground}; }`),Se.push(`.monaco-list${ye}:focus .monaco-list-row.focused:hover { background-color: ${ie.listFocusBackground}; }`)),ie.listFocusForeground&&Se.push(`.monaco-list${ye}:focus .monaco-list-row.focused { color: ${ie.listFocusForeground}; }`),ie.listActiveSelectionBackground&&(Se.push(`.monaco-list${ye}:focus .monaco-list-row.selected { background-color: ${ie.listActiveSelectionBackground}; }`),Se.push(`.monaco-list${ye}:focus .monaco-list-row.selected:hover { background-color: ${ie.listActiveSelectionBackground}; }`)),ie.listActiveSelectionForeground&&Se.push(`.monaco-list${ye}:focus .monaco-list-row.selected { color: ${ie.listActiveSelectionForeground}; }`),ie.listActiveSelectionIconForeground&&Se.push(`.monaco-list${ye}:focus .monaco-list-row.selected .codicon { color: ${ie.listActiveSelectionIconForeground}; }`),ie.listFocusAndSelectionBackground&&Se.push(`
				.monaco-drag-image,
				.monaco-list${ye}:focus .monaco-list-row.selected.focused { background-color: ${ie.listFocusAndSelectionBackground}; }
			`),ie.listFocusAndSelectionForeground&&Se.push(`
				.monaco-drag-image,
				.monaco-list${ye}:focus .monaco-list-row.selected.focused { color: ${ie.listFocusAndSelectionForeground}; }
			`),ie.listInactiveFocusForeground&&(Se.push(`.monaco-list${ye} .monaco-list-row.focused { color:  ${ie.listInactiveFocusForeground}; }`),Se.push(`.monaco-list${ye} .monaco-list-row.focused:hover { color:  ${ie.listInactiveFocusForeground}; }`)),ie.listInactiveSelectionIconForeground&&Se.push(`.monaco-list${ye} .monaco-list-row.focused .codicon { color:  ${ie.listInactiveSelectionIconForeground}; }`),ie.listInactiveFocusBackground&&(Se.push(`.monaco-list${ye} .monaco-list-row.focused { background-color:  ${ie.listInactiveFocusBackground}; }`),Se.push(`.monaco-list${ye} .monaco-list-row.focused:hover { background-color:  ${ie.listInactiveFocusBackground}; }`)),ie.listInactiveSelectionBackground&&(Se.push(`.monaco-list${ye} .monaco-list-row.selected { background-color:  ${ie.listInactiveSelectionBackground}; }`),Se.push(`.monaco-list${ye} .monaco-list-row.selected:hover { background-color:  ${ie.listInactiveSelectionBackground}; }`)),ie.listInactiveSelectionForeground&&Se.push(`.monaco-list${ye} .monaco-list-row.selected { color: ${ie.listInactiveSelectionForeground}; }`),ie.listHoverBackground&&Se.push(`.monaco-list${ye}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ie.listHoverBackground}; }`),ie.listHoverForeground&&Se.push(`.monaco-list${ye}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ie.listHoverForeground}; }`);const me=(0,b.XT)(ie.listFocusAndSelectionOutline,(0,b.XT)(ie.listSelectionOutline,(ce=ie.listFocusOutline)!==null&&ce!==void 0?ce:""));me&&Se.push(`.monaco-list${ye}:focus .monaco-list-row.focused.selected { outline: 1px solid ${me}; outline-offset: -1px;}`),ie.listFocusOutline&&Se.push(`
				.monaco-drag-image,
				.monaco-list${ye}:focus .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${ye}.last-focused .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
			`);const he=(0,b.XT)(ie.listSelectionOutline,(Re=ie.listInactiveFocusOutline)!==null&&Re!==void 0?Re:"");he&&Se.push(`.monaco-list${ye} .monaco-list-row.focused.selected { outline: 1px dotted ${he}; outline-offset: -1px; }`),ie.listSelectionOutline&&Se.push(`.monaco-list${ye} .monaco-list-row.selected { outline: 1px dotted ${ie.listSelectionOutline}; outline-offset: -1px; }`),ie.listInactiveFocusOutline&&Se.push(`.monaco-list${ye} .monaco-list-row.focused { outline: 1px dotted ${ie.listInactiveFocusOutline}; outline-offset: -1px; }`),ie.listHoverOutline&&Se.push(`.monaco-list${ye} .monaco-list-row:hover { outline: 1px dashed ${ie.listHoverOutline}; outline-offset: -1px; }`),ie.listDropBackground&&Se.push(`
				.monaco-list${ye}.drop-target,
				.monaco-list${ye} .monaco-list-rows.drop-target,
				.monaco-list${ye} .monaco-list-row.drop-target { background-color: ${ie.listDropBackground} !important; color: inherit !important; }
			`),ie.tableColumnsBorder&&Se.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${ie.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),ie.tableOddRowsBackgroundColor&&Se.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${ie.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Se.join(`
`)}}const le={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:D.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:D.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:D.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},ge={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function we(Le,ie){const ce=Le.indexOf(ie);if(ce===-1)return[];const Re=[];let ye=ce-1;for(;ye>=0&&Le[ye]===ie-(ce-ye);)Re.push(Le[ye--]);for(Re.reverse(),ye=ce;ye<Le.length&&Le[ye]===ie+(ye-ce);)Re.push(Le[ye++]);return Re}function pe(Le,ie){const ce=[];let Re=0,ye=0;for(;Re<Le.length||ye<ie.length;)if(Re>=Le.length)ce.push(ie[ye++]);else if(ye>=ie.length)ce.push(Le[Re++]);else if(Le[Re]===ie[ye]){ce.push(Le[Re]),Re++,ye++;continue}else Le[Re]<ie[ye]?ce.push(Le[Re++]):ce.push(ie[ye++]);return ce}function Pe(Le,ie){const ce=[];let Re=0,ye=0;for(;Re<Le.length||ye<ie.length;)if(Re>=Le.length)ce.push(ie[ye++]);else if(ye>=ie.length)ce.push(Le[Re++]);else if(Le[Re]===ie[ye]){Re++,ye++;continue}else Le[Re]<ie[ye]?ce.push(Le[Re++]):ye++;return ce}const Ne=(Le,ie)=>Le-ie;class ae{constructor(ie,ce){this._templateId=ie,this.renderers=ce}get templateId(){return this._templateId}renderTemplate(ie){return this.renderers.map(ce=>ce.renderTemplate(ie))}renderElement(ie,ce,Re,ye){let Se=0;for(const me of this.renderers)me.renderElement(ie,ce,Re[Se++],ye)}disposeElement(ie,ce,Re,ye){var Se;let me=0;for(const he of this.renderers)(Se=he.disposeElement)===null||Se===void 0||Se.call(he,ie,ce,Re[me],ye),me+=1}disposeTemplate(ie){let ce=0;for(const Re of this.renderers)Re.disposeTemplate(ie[ce++])}}class Me{constructor(ie){this.accessibilityProvider=ie,this.templateId="a18n"}renderTemplate(ie){return ie}renderElement(ie,ce,Re){const ye=this.accessibilityProvider.getAriaLabel(ie);ye?Re.setAttribute("aria-label",ye):Re.removeAttribute("aria-label");const Se=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ie);typeof Se=="number"?Re.setAttribute("aria-level",`${Se}`):Re.removeAttribute("aria-level")}disposeTemplate(ie){}}class ke{constructor(ie,ce){this.list=ie,this.dnd=ce}getDragElements(ie){const ce=this.list.getSelectedElements();return ce.indexOf(ie)>-1?ce:[ie]}getDragURI(ie){return this.dnd.getDragURI(ie)}getDragLabel(ie,ce){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ie,ce)}onDragStart(ie,ce){var Re,ye;(ye=(Re=this.dnd).onDragStart)===null||ye===void 0||ye.call(Re,ie,ce)}onDragOver(ie,ce,Re,ye){return this.dnd.onDragOver(ie,ce,Re,ye)}onDragLeave(ie,ce,Re,ye){var Se,me;(me=(Se=this.dnd).onDragLeave)===null||me===void 0||me.call(Se,ie,ce,Re,ye)}onDragEnd(ie){var ce,Re;(Re=(ce=this.dnd).onDragEnd)===null||Re===void 0||Re.call(ce,ie)}drop(ie,ce,Re,ye){this.dnd.drop(ie,ce,Re,ye)}dispose(){this.dnd.dispose()}}class Ue{get onDidChangeFocus(){return o.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ie=>this.toListEvent(ie),this.disposables)}get onDidChangeSelection(){return o.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ie=>this.toListEvent(ie),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ie=!1;const ce=o.ju.chain(this.disposables.add(new U.Y(this.view.domNode,"keydown")).event,Se=>Se.map(me=>new r.y(me)).filter(me=>ie=me.keyCode===58||me.shiftKey&&me.keyCode===68).map(me=>b.zB.stop(me,!0)).filter(()=>!1)),Re=o.ju.chain(this.disposables.add(new U.Y(this.view.domNode,"keyup")).event,Se=>Se.forEach(()=>ie=!1).map(me=>new r.y(me)).filter(me=>me.keyCode===58||me.shiftKey&&me.keyCode===68).map(me=>b.zB.stop(me,!0)).map(({browserEvent:me})=>{const he=this.getFocus(),se=he.length?he[0]:void 0,ve=typeof se!="undefined"?this.view.element(se):void 0,xe=typeof se!="undefined"?this.view.domElement(se):this.view.domNode;return{index:se,element:ve,anchor:xe,browserEvent:me}})),ye=o.ju.chain(this.view.onContextMenu,Se=>Se.filter(me=>!ie).map(({element:me,index:he,browserEvent:se})=>({element:me,index:he,anchor:new g.n((0,b.Jj)(this.view.domNode),se),browserEvent:se})));return o.ju.any(ce,Re,ye)}get onKeyDown(){return this.disposables.add(new U.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return o.ju.signal(this.disposables.add(new U.Y(this.view.domNode,"focus",!0)).event)}constructor(ie,ce,Re,ye,Se=ge){var me,he,se,ve;this.user=ie,this._options=Se,this.focus=new E("focused"),this.anchor=new E("anchor"),this.eventBufferer=new o.E7,this._ariaLabel="",this.disposables=new d.SL,this._onDidDispose=new o.Q5,this.onDidDispose=this._onDidDispose.event;const xe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(me=this._options.accessibilityProvider)===null||me===void 0?void 0:me.getWidgetRole():"list";this.selection=new A(xe!=="listbox");const je=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Se.accessibilityProvider,this.accessibilityProvider&&(je.push(new Me(this.accessibilityProvider)),(se=(he=this.accessibilityProvider).onDidChangeActiveDescendant)===null||se===void 0||se.call(he,this.onDidChangeActiveDescendant,this,this.disposables)),ye=ye.map(Ze=>new ae(Ze.templateId,[...je,Ze]));const Oe=Ni(Xn({},Se),{dnd:Se.dnd&&new ke(this,Se.dnd)});if(this.view=this.createListView(ce,Re,ye,Oe),this.view.domNode.setAttribute("role",xe),Se.styleController)this.styleController=Se.styleController(this.view.domId);else{const Ze=(0,b.dS)(this.view.domNode);this.styleController=new te(Ze,this.view.domId)}if(this.spliceable=new _([new N(this.focus,this.view,Se.identityProvider),new N(this.selection,this.view,Se.identityProvider),new N(this.anchor,this.view,Se.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new j(this,this.view)),(typeof Se.keyboardSupport!="boolean"||Se.keyboardSupport)&&(this.keyboardController=new O(this,this.view,Se),this.disposables.add(this.keyboardController)),Se.keyboardNavigationLabelProvider){const Ze=Se.keyboardNavigationDelegate||V;this.typeNavigationController=new G(this,this.view,Se.keyboardNavigationLabelProvider,(ve=Se.keyboardNavigationEventFilter)!==null&&ve!==void 0?ve:()=>!0,Ze),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(Se),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(ie,ce,Re,ye){return new S.Bv(ie,ce,Re,ye)}createMouseController(ie){return new X(this)}updateOptions(ie={}){var ce,Re;this._options=Xn(Xn({},this._options),ie),(ce=this.typeNavigationController)===null||ce===void 0||ce.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ie),(Re=this.keyboardController)===null||Re===void 0||Re.updateOptions(ie),this.view.updateOptions(ie)}get options(){return this._options}splice(ie,ce,Re=[]){if(ie<0||ie>this.view.length)throw new a(this.user,`Invalid start index: ${ie}`);if(ce<0)throw new a(this.user,`Invalid delete count: ${ce}`);ce===0&&Re.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ie,ce,Re))}rerender(){this.view.rerender()}element(ie){return this.view.element(ie)}indexOf(ie){return this.view.indexOf(ie)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ie){this.view.setScrollTop(ie)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(ie){this._ariaLabel=ie,this.view.domNode.setAttribute("aria-label",ie)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ie,ce){this.view.layout(ie,ce)}setSelection(ie,ce){for(const Re of ie)if(Re<0||Re>=this.length)throw new a(this.user,`Invalid index ${Re}`);this.selection.set(ie,ce)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ie=>this.view.element(ie))}setAnchor(ie){if(typeof ie=="undefined"){this.anchor.set([]);return}if(ie<0||ie>=this.length)throw new a(this.user,`Invalid index ${ie}`);this.anchor.set([ie])}getAnchor(){return(0,I.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ie=this.getAnchor();return typeof ie=="undefined"?void 0:this.element(ie)}setFocus(ie,ce){for(const Re of ie)if(Re<0||Re>=this.length)throw new a(this.user,`Invalid index ${Re}`);this.focus.set(ie,ce)}focusNext(ie=1,ce=!1,Re,ye){if(this.length===0)return;const Se=this.focus.get(),me=this.findNextIndex(Se.length>0?Se[0]+ie:0,ce,ye);me>-1&&this.setFocus([me],Re)}focusPrevious(ie=1,ce=!1,Re,ye){if(this.length===0)return;const Se=this.focus.get(),me=this.findPreviousIndex(Se.length>0?Se[0]-ie:0,ce,ye);me>-1&&this.setFocus([me],Re)}focusNextPage(ie,ce){return tn(this,null,function*(){let Re=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Re=Re===0?0:Re-1;const ye=this.getFocus()[0];if(ye!==Re&&(ye===void 0||Re>ye)){const Se=this.findPreviousIndex(Re,!1,ce);Se>-1&&ye!==Se?this.setFocus([Se],ie):this.setFocus([Re],ie)}else{const Se=this.view.getScrollTop();let me=Se+this.view.renderHeight;Re>ye&&(me-=this.view.elementHeight(Re)),this.view.setScrollTop(me),this.view.getScrollTop()!==Se&&(this.setFocus([]),yield(0,M.Vs)(0),yield this.focusNextPage(ie,ce))}})}focusPreviousPage(ie,ce){return tn(this,null,function*(){let Re;const ye=this.view.getScrollTop();ye===0?Re=this.view.indexAt(ye):Re=this.view.indexAfter(ye-1);const Se=this.getFocus()[0];if(Se!==Re&&(Se===void 0||Se>=Re)){const me=this.findNextIndex(Re,!1,ce);me>-1&&Se!==me?this.setFocus([me],ie):this.setFocus([Re],ie)}else{const me=ye;this.view.setScrollTop(ye-this.view.renderHeight),this.view.getScrollTop()!==me&&(this.setFocus([]),yield(0,M.Vs)(0),yield this.focusPreviousPage(ie,ce))}})}focusLast(ie,ce){if(this.length===0)return;const Re=this.findPreviousIndex(this.length-1,!1,ce);Re>-1&&this.setFocus([Re],ie)}focusFirst(ie,ce){this.focusNth(0,ie,ce)}focusNth(ie,ce,Re){if(this.length===0)return;const ye=this.findNextIndex(ie,!1,Re);ye>-1&&this.setFocus([ye],ce)}findNextIndex(ie,ce=!1,Re){for(let ye=0;ye<this.length;ye++){if(ie>=this.length&&!ce)return-1;if(ie=ie%this.length,!Re||Re(this.element(ie)))return ie;ie++}return-1}findPreviousIndex(ie,ce=!1,Re){for(let ye=0;ye<this.length;ye++){if(ie<0&&!ce)return-1;if(ie=(this.length+ie%this.length)%this.length,!Re||Re(this.element(ie)))return ie;ie--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ie=>this.view.element(ie))}reveal(ie,ce,Re=0){if(ie<0||ie>=this.length)throw new a(this.user,`Invalid index ${ie}`);const ye=this.view.getScrollTop(),Se=this.view.elementTop(ie),me=this.view.elementHeight(ie);if((0,f.hj)(ce)){const he=me-this.view.renderHeight+Re;this.view.setScrollTop(he*(0,n.uZ)(ce,0,1)+Se-Re)}else{const he=Se+me,se=ye+this.view.renderHeight;Se<ye+Re&&he>=se||(Se<ye+Re||he>=se&&me>=this.view.renderHeight?this.view.setScrollTop(Se-Re):he>=se&&this.view.setScrollTop(he-this.view.renderHeight))}}getRelativeTop(ie,ce=0){if(ie<0||ie>=this.length)throw new a(this.user,`Invalid index ${ie}`);const Re=this.view.getScrollTop(),ye=this.view.elementTop(ie),Se=this.view.elementHeight(ie);if(ye<Re+ce||ye+Se>Re+this.view.renderHeight)return null;const me=Se-this.view.renderHeight+ce;return Math.abs((Re+ce-ye)/me)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(ie){return this.view.getElementDomId(ie)}getElementTop(ie){return this.view.elementTop(ie)}style(ie){this.styleController.style(ie)}toListEvent({indexes:ie,browserEvent:ce}){return{indexes:ie,elements:ie.map(Re=>this.view.element(Re)),browserEvent:ce}}_onFocusChange(){const ie=this.focus.get();this.view.domNode.classList.toggle("element-focused",ie.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ie;const ce=this.focus.get();if(ce.length>0){let Re;!((ie=this.accessibilityProvider)===null||ie===void 0)&&ie.getActiveDescendantId&&(Re=this.accessibilityProvider.getActiveDescendantId(this.view.element(ce[0]))),this.view.domNode.setAttribute("aria-activedescendant",Re||this.view.getElementDomId(ce[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ie=this.selection.get();this.view.domNode.classList.toggle("selection-none",ie.length===0),this.view.domNode.classList.toggle("selection-single",ie.length===1),this.view.domNode.classList.toggle("selection-multiple",ie.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}y([p.H],Ue.prototype,"onDidChangeFocus",null),y([p.H],Ue.prototype,"onDidChangeSelection",null),y([p.H],Ue.prototype,"onContextMenu",null),y([p.H],Ue.prototype,"onKeyDown",null),y([p.H],Ue.prototype,"onDidFocus",null)},17735:function(Ot,Ke,e){"use strict";e.d(Ke,{f:function(){return c}});var b=e(65321),U=e(83080),r=e(4669),w=e(5976);class c{constructor(){this._onDidWillResize=new r.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new r.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new w.SL,this._size=new b.Ro(0,0),this._minSize=new b.Ro(0,0),this._maxSize=new b.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new U.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new U.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new U.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:U.l.North}),this._southSash=new U.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:U.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let I,M=0,D=0;this._sashListener.add(r.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{I===void 0&&(this._onDidWillResize.fire(),I=this._size,M=0,D=0)})),this._sashListener.add(r.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{I!==void 0&&(I=void 0,M=0,D=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(p=>{I&&(D=p.currentX-p.startX,this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(p=>{I&&(D=-(p.currentX-p.startX),this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(p=>{I&&(M=-(p.currentY-p.startY),this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(p=>{I&&(M=p.currentY-p.startY,this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(r.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(p=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(r.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(p=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(I,M,D,p){this._northSash.state=I?3:0,this._eastSash.state=M?3:0,this._southSash.state=D?3:0,this._westSash.state=p?3:0}layout(I=this.size.height,M=this.size.width){const{height:D,width:p}=this._minSize,{height:o,width:u}=this._maxSize;I=Math.max(D,Math.min(o,I)),M=Math.max(p,Math.min(u,M));const d=new b.Ro(M,I);b.Ro.equals(d,this._size)||(this.domNode.style.height=I+"px",this.domNode.style.width=M+"px",this._size=d,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(I){this._maxSize=I}get maxSize(){return this._maxSize}set minSize(I){this._minSize=I}get minSize(){return this._minSize}set preferredSize(I){this._preferredSize=I}get preferredSize(){return this._preferredSize}}},83080:function(Ot,Ke,e){"use strict";e.d(Ke,{l:function(){return o},g:function(){return g}});var b=e(65321),U=e(4850),r=e(10553),w=e(15393),c=e(49898),_=e(4669),I=e(5976),M=e(1432),D=function(y,C,E,A){var N=arguments.length,B=N<3?C:A===null?A=Object.getOwnPropertyDescriptor(C,E):A,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(y,C,E,A);else for(var $=y.length-1;$>=0;$--)(W=y[$])&&(B=(N<3?W(B):N>3?W(C,E,B):W(C,E))||B);return N>3&&B&&Object.defineProperty(C,E,B),B};const p=!1;var o;(function(y){y.North="north",y.South="south",y.East="east",y.West="west"})(o||(o={}));let u=4;const d=new _.Q5;let n=300;const i=new _.Q5;class f{constructor(C){this.el=C,this.disposables=new I.SL}get onPointerMove(){return this.disposables.add(new U.Y((0,b.Jj)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new U.Y((0,b.Jj)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}D([c.H],f.prototype,"onPointerMove",null),D([c.H],f.prototype,"onPointerUp",null);class v{get onPointerMove(){return this.disposables.add(new U.Y(this.el,r.t.Change)).event}get onPointerUp(){return this.disposables.add(new U.Y(this.el,r.t.End)).event}constructor(C){this.el=C,this.disposables=new I.SL}dispose(){this.disposables.dispose()}}D([c.H],v.prototype,"onPointerMove",null),D([c.H],v.prototype,"onPointerUp",null);class a{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(C){this.factory=C}dispose(){}}D([c.H],a.prototype,"onPointerMove",null),D([c.H],a.prototype,"onPointerUp",null);const S="pointer-events-disabled";class g extends I.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(C){this._state!==C&&(this.el.classList.toggle("disabled",C===0),this.el.classList.toggle("minimum",C===1),this.el.classList.toggle("maximum",C===2),this._state=C,this.onDidEnablementChange.fire(C))}set orthogonalStartSash(C){if(this._orthogonalStartSash!==C){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),C){const E=A=>{this.orthogonalStartDragHandleDisposables.clear(),A!==0&&(this._orthogonalStartDragHandle=(0,b.R3)(this.el,(0,b.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,I.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new U.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>g.onMouseEnter(C),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new U.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>g.onMouseLeave(C),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(C.onDidEnablementChange.event(E,this)),E(C.state)}this._orthogonalStartSash=C}}set orthogonalEndSash(C){if(this._orthogonalEndSash!==C){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),C){const E=A=>{this.orthogonalEndDragHandleDisposables.clear(),A!==0&&(this._orthogonalEndDragHandle=(0,b.R3)(this.el,(0,b.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,I.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new U.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>g.onMouseEnter(C),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new U.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>g.onMouseLeave(C),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(C.onDidEnablementChange.event(E,this)),E(C.state)}this._orthogonalEndSash=C}}constructor(C,E,A){super(),this.hoverDelay=n,this.hoverDelayer=this._register(new w.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new _.Q5),this._onDidStart=this._register(new _.Q5),this._onDidChange=this._register(new _.Q5),this._onDidReset=this._register(new _.Q5),this._onDidEnd=this._register(new _.Q5),this.orthogonalStartSashDisposables=this._register(new I.SL),this.orthogonalStartDragHandleDisposables=this._register(new I.SL),this.orthogonalEndSashDisposables=this._register(new I.SL),this.orthogonalEndDragHandleDisposables=this._register(new I.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,b.R3)(C,(0,b.$)(".monaco-sash")),A.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${A.orthogonalEdge}`),M.dz&&this.el.classList.add("mac");const N=this._register(new U.Y(this.el,"mousedown")).event;this._register(N(z=>this.onPointerStart(z,new f(C)),this));const B=this._register(new U.Y(this.el,"dblclick")).event;this._register(B(this.onPointerDoublePress,this));const W=this._register(new U.Y(this.el,"mouseenter")).event;this._register(W(()=>g.onMouseEnter(this)));const $=this._register(new U.Y(this.el,"mouseleave")).event;this._register($(()=>g.onMouseLeave(this))),this._register(r.o.addTarget(this.el));const Y=this._register(new U.Y(this.el,r.t.Start)).event;this._register(Y(z=>this.onPointerStart(z,new v(this.el)),this));const R=this._register(new U.Y(this.el,r.t.Tap)).event;let L;this._register(R(z=>{if(L){clearTimeout(L),L=void 0,this.onPointerDoublePress(z);return}clearTimeout(L),L=setTimeout(()=>L=void 0,250)},this)),typeof A.size=="number"?(this.size=A.size,A.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=u,this._register(d.event(z=>{this.size=z,this.layout()}))),this._register(i.event(z=>this.hoverDelay=z)),this.layoutProvider=E,this.orthogonalStartSash=A.orthogonalStartSash,this.orthogonalEndSash=A.orthogonalEndSash,this.orientation=A.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}onPointerStart(C,E){b.zB.stop(C);let A=!1;if(!C.__orthogonalSashEvent){const H=this.getOrthogonalSash(C);H&&(A=!0,C.__orthogonalSashEvent=!0,H.onPointerStart(C,new a(E)))}if(this.linkedSash&&!C.__linkedSashEvent&&(C.__linkedSashEvent=!0,this.linkedSash.onPointerStart(C,new a(E))),!this.state)return;const N=this.el.ownerDocument.getElementsByTagName("iframe");for(const H of N)H.classList.add(S);const B=C.pageX,W=C.pageY,$=C.altKey,Y={startX:B,currentX:B,startY:W,currentY:W,altKey:$};this.el.classList.add("active"),this._onDidStart.fire(Y);const R=(0,b.dS)(this.el),L=()=>{let H="";A?H="all-scroll":this.orientation===1?this.state===1?H="s-resize":this.state===2?H="n-resize":H=M.dz?"row-resize":"ns-resize":this.state===1?H="e-resize":this.state===2?H="w-resize":H=M.dz?"col-resize":"ew-resize",R.textContent=`* { cursor: ${H} !important; }`},z=new I.SL;L(),A||this.onDidEnablementChange.event(L,null,z);const O=H=>{b.zB.stop(H,!1);const V={startX:B,currentX:H.pageX,startY:W,currentY:H.pageY,altKey:$};this._onDidChange.fire(V)},P=H=>{b.zB.stop(H,!1),this.el.removeChild(R),this.el.classList.remove("active"),this._onDidEnd.fire(),z.dispose();for(const V of N)V.classList.remove(S)};E.onPointerMove(O,null,z),E.onPointerUp(P,null,z),z.add(E)}onPointerDoublePress(C){const E=this.getOrthogonalSash(C);E&&E._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(C,E=!1){C.el.classList.contains("active")?(C.hoverDelayer.cancel(),C.el.classList.add("hover")):C.hoverDelayer.trigger(()=>C.el.classList.add("hover"),C.hoverDelay).then(void 0,()=>{}),!E&&C.linkedSash&&g.onMouseEnter(C.linkedSash,!0)}static onMouseLeave(C,E=!1){C.hoverDelayer.cancel(),C.el.classList.remove("hover"),!E&&C.linkedSash&&g.onMouseLeave(C.linkedSash,!0)}clearSashHoverState(){g.onMouseLeave(this)}layout(){if(this.orientation===0){const C=this.layoutProvider;this.el.style.left=C.getVerticalSashLeft(this)-this.size/2+"px",C.getVerticalSashTop&&(this.el.style.top=C.getVerticalSashTop(this)+"px"),C.getVerticalSashHeight&&(this.el.style.height=C.getVerticalSashHeight(this)+"px")}else{const C=this.layoutProvider;this.el.style.top=C.getHorizontalSashTop(this)-this.size/2+"px",C.getHorizontalSashLeft&&(this.el.style.left=C.getHorizontalSashLeft(this)+"px"),C.getHorizontalSashWidth&&(this.el.style.width=C.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(C){var E;const A=(E=C.initialTarget)!==null&&E!==void 0?E:C.target;if(!(!A||!(A instanceof HTMLElement))&&A.classList.contains("orthogonal-drag-handle"))return A.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},59740:function(Ot,Ke,e){"use strict";e.d(Ke,{s$:function(){return R},Io:function(){return B},NB:function(){return $},$Z:function(){return Y}});var b=e(16268),U=e(65321),r=e(38626),w=e(7317),c=e(93911),_=e(93794),I=e(15393),M=e(25670);const D=11;class p extends _.${constructor(O){super(),this._onActivate=O.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=O.bgWidth+"px",this.bgDomNode.style.height=O.bgHeight+"px",typeof O.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof O.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof O.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof O.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=O.className,this.domNode.classList.add(...M.k.asClassNameArray(O.icon)),this.domNode.style.position="absolute",this.domNode.style.width=D+"px",this.domNode.style.height=D+"px",typeof O.top!="undefined"&&(this.domNode.style.top=O.top+"px"),typeof O.left!="undefined"&&(this.domNode.style.left=O.left+"px"),typeof O.bottom!="undefined"&&(this.domNode.style.bottom=O.bottom+"px"),typeof O.right!="undefined"&&(this.domNode.style.right=O.right+"px"),this._pointerMoveMonitor=this._register(new c.C),this._register(U.mu(this.bgDomNode,U.tw.POINTER_DOWN,P=>this._arrowPointerDown(P))),this._register(U.mu(this.domNode,U.tw.POINTER_DOWN,P=>this._arrowPointerDown(P))),this._pointerdownRepeatTimer=this._register(new U.ne),this._pointerdownScheduleRepeatTimer=this._register(new I._F)}_arrowPointerDown(O){if(!O.target||!(O.target instanceof Element))return;const P=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,U.Jj(O))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(P,200),this._pointerMoveMonitor.startMonitoring(O.target,O.pointerId,O.buttons,H=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),O.preventDefault()}}var o=e(5976);class u extends o.JT{constructor(O,P,H){super(),this._visibility=O,this._visibleClassName=P,this._invisibleClassName=H,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new I._F)}setVisibility(O){this._visibility!==O&&(this._visibility=O,this._updateShouldBeVisible())}setShouldBeVisible(O){this._rawShouldBeVisible=O,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const O=this._applyVisibilitySetting();this._shouldBeVisible!==O&&(this._shouldBeVisible=O,this.ensureVisibility())}setIsNeeded(O){this._isNeeded!==O&&(this._isNeeded=O,this.ensureVisibility())}setDomNode(O){this._domNode=O,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var O;(O=this._domNode)===null||O===void 0||O.setClassName(this._visibleClassName)},0))}_hide(O){var P;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(P=this._domNode)===null||P===void 0||P.setClassName(this._invisibleClassName+(O?" fade":"")))}}var d=e(1432);const n=140;class i extends _.${constructor(O){super(),this._lazyRender=O.lazyRender,this._host=O.host,this._scrollable=O.scrollable,this._scrollByPage=O.scrollByPage,this._scrollbarState=O.scrollbarState,this._visibilityController=this._register(new u(O.visibility,"visible scrollbar "+O.extraScrollbarClassName,"invisible scrollbar "+O.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new c.C),this._shouldRender=!0,this.domNode=(0,r.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(U.nm(this.domNode.domNode,U.tw.POINTER_DOWN,P=>this._domNodePointerDown(P)))}_createArrow(O){const P=this._register(new p(O));this.domNode.domNode.appendChild(P.bgDomNode),this.domNode.domNode.appendChild(P.domNode)}_createSlider(O,P,H,V){this.slider=(0,r.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(O),this.slider.setLeft(P),typeof H=="number"&&this.slider.setWidth(H),typeof V=="number"&&this.slider.setHeight(V),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(U.nm(this.slider.domNode,U.tw.POINTER_DOWN,G=>{G.button===0&&(G.preventDefault(),this._sliderPointerDown(G))})),this.onclick(this.slider.domNode,G=>{G.leftButton&&G.stopPropagation()})}_onElementSize(O){return this._scrollbarState.setVisibleSize(O)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(O){return this._scrollbarState.setScrollSize(O)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(O){return this._scrollbarState.setScrollPosition(O)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(O){O.target===this.domNode.domNode&&this._onPointerDown(O)}delegatePointerDown(O){const P=this.domNode.domNode.getClientRects()[0].top,H=P+this._scrollbarState.getSliderPosition(),V=P+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),G=this._sliderPointerPosition(O);H<=G&&G<=V?O.button===0&&(O.preventDefault(),this._sliderPointerDown(O)):this._onPointerDown(O)}_onPointerDown(O){let P,H;if(O.target===this.domNode.domNode&&typeof O.offsetX=="number"&&typeof O.offsetY=="number")P=O.offsetX,H=O.offsetY;else{const G=U.i(this.domNode.domNode);P=O.pageX-G.left,H=O.pageY-G.top}const V=this._pointerDownRelativePosition(P,H);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(V):this._scrollbarState.getDesiredScrollPositionFromOffset(V)),O.button===0&&(O.preventDefault(),this._sliderPointerDown(O))}_sliderPointerDown(O){if(!O.target||!(O.target instanceof Element))return;const P=this._sliderPointerPosition(O),H=this._sliderOrthogonalPointerPosition(O),V=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(O.target,O.pointerId,O.buttons,G=>{const j=this._sliderOrthogonalPointerPosition(G),F=Math.abs(j-H);if(d.ED&&F>n){this._setDesiredScrollPositionNow(V.getScrollPosition());return}const m=this._sliderPointerPosition(G)-P;this._setDesiredScrollPositionNow(V.getDesiredScrollPositionFromDelta(m))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(O){const P={};this.writeScrollPosition(P,O),this._scrollable.setScrollPositionNow(P)}updateScrollbarSize(O){this._updateScrollbarSize(O),this._scrollbarState.setScrollbarSize(O),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var f=e(51203),v=e(73046);class a extends i{constructor(O,P,H){const V=O.getScrollDimensions(),G=O.getCurrentScrollPosition();if(super({lazyRender:P.lazyRender,host:H,scrollbarState:new f.M(P.horizontalHasArrows?P.arrowSize:0,P.horizontal===2?0:P.horizontalScrollbarSize,P.vertical===2?0:P.verticalScrollbarSize,V.width,V.scrollWidth,G.scrollLeft),visibility:P.horizontal,extraScrollbarClassName:"horizontal",scrollable:O,scrollByPage:P.scrollByPage}),P.horizontalHasArrows){const j=(P.arrowSize-D)/2,F=(P.horizontalScrollbarSize-D)/2;this._createArrow({className:"scra",icon:v.l.scrollbarButtonLeft,top:F,left:j,bottom:void 0,right:void 0,bgWidth:P.arrowSize,bgHeight:P.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.q(null,1,0))}),this._createArrow({className:"scra",icon:v.l.scrollbarButtonRight,top:F,left:void 0,bottom:void 0,right:j,bgWidth:P.arrowSize,bgHeight:P.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.q(null,-1,0))})}this._createSlider(Math.floor((P.horizontalScrollbarSize-P.horizontalSliderSize)/2),0,void 0,P.horizontalSliderSize)}_updateSlider(O,P){this.slider.setWidth(O),this.slider.setLeft(P)}_renderDomNode(O,P){this.domNode.setWidth(O),this.domNode.setHeight(P),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(O){return this._shouldRender=this._onElementScrollSize(O.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(O.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(O.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(O,P){return O}_sliderPointerPosition(O){return O.pageX}_sliderOrthogonalPointerPosition(O){return O.pageY}_updateScrollbarSize(O){this.slider.setHeight(O)}writeScrollPosition(O,P){O.scrollLeft=P}updateOptions(O){this.updateScrollbarSize(O.horizontal===2?0:O.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(O.vertical===2?0:O.verticalScrollbarSize),this._visibilityController.setVisibility(O.horizontal),this._scrollByPage=O.scrollByPage}}class S extends i{constructor(O,P,H){const V=O.getScrollDimensions(),G=O.getCurrentScrollPosition();if(super({lazyRender:P.lazyRender,host:H,scrollbarState:new f.M(P.verticalHasArrows?P.arrowSize:0,P.vertical===2?0:P.verticalScrollbarSize,0,V.height,V.scrollHeight,G.scrollTop),visibility:P.vertical,extraScrollbarClassName:"vertical",scrollable:O,scrollByPage:P.scrollByPage}),P.verticalHasArrows){const j=(P.arrowSize-D)/2,F=(P.verticalScrollbarSize-D)/2;this._createArrow({className:"scra",icon:v.l.scrollbarButtonUp,top:j,left:F,bottom:void 0,right:void 0,bgWidth:P.verticalScrollbarSize,bgHeight:P.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.q(null,0,1))}),this._createArrow({className:"scra",icon:v.l.scrollbarButtonDown,top:void 0,left:F,bottom:j,right:void 0,bgWidth:P.verticalScrollbarSize,bgHeight:P.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.q(null,0,-1))})}this._createSlider(0,Math.floor((P.verticalScrollbarSize-P.verticalSliderSize)/2),P.verticalSliderSize,void 0)}_updateSlider(O,P){this.slider.setHeight(O),this.slider.setTop(P)}_renderDomNode(O,P){this.domNode.setWidth(P),this.domNode.setHeight(O),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(O){return this._shouldRender=this._onElementScrollSize(O.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(O.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(O.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(O,P){return P}_sliderPointerPosition(O){return O.pageY}_sliderOrthogonalPointerPosition(O){return O.pageX}_updateScrollbarSize(O){this.slider.setWidth(O)}writeScrollPosition(O,P){O.scrollTop=P}updateOptions(O){this.updateScrollbarSize(O.vertical===2?0:O.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(O.vertical),this._scrollByPage=O.scrollByPage}}var g=e(4669),y=e(76633);const C=500,E=50,A=!0;class N{constructor(O,P,H){this.timestamp=O,this.deltaX=P,this.deltaY=H,this.score=0}}class B{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let O=1,P=0,H=1,V=this._rear;do{const G=V===this._front?O:Math.pow(2,-H);if(O-=G,P+=this._memory[V].score*G,V===this._front)break;V=(this._capacity+V-1)%this._capacity,H++}while(!0);return P<=.5}acceptStandardWheelEvent(O){const P=U.Jj(O.browserEvent).devicePixelRatio/(0,b.ie)();d.ED||d.IJ?this.accept(Date.now(),O.deltaX/P,O.deltaY/P):this.accept(Date.now(),O.deltaX,O.deltaY)}accept(O,P,H){const V=new N(O,P,H);V.score=this._computeScore(V),this._front===-1&&this._rear===-1?(this._memory[0]=V,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=V)}_computeScore(O){if(Math.abs(O.deltaX)>0&&Math.abs(O.deltaY)>0)return 1;let P=.5;const H=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(O.deltaX)||!this._isAlmostInt(O.deltaY))&&(P+=.25),Math.min(Math.max(P,0),1)}_isAlmostInt(O){return Math.abs(Math.round(O)-O)<.01}}B.INSTANCE=new B;class W extends _.${get options(){return this._options}constructor(O,P,H){super(),this._onScroll=this._register(new g.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Q5),O.style.overflow="hidden",this._options=L(P),this._scrollable=H,this._register(this._scrollable.onScroll(G=>{this._onWillScroll.fire(G),this._onDidScroll(G),this._onScroll.fire(G)}));const V={onMouseWheel:G=>this._onMouseWheel(G),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S(this._scrollable,this._options,V)),this._horizontalScrollbar=this._register(new a(this._scrollable,this._options,V)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(O),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,r.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,r.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,r.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,G=>this._onMouseOver(G)),this.onmouseleave(this._listenOnDomNode,G=>this._onMouseLeave(G)),this._hideTimeout=this._register(new I._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,o.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(O){this._verticalScrollbar.delegatePointerDown(O)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(O){this._scrollable.setScrollDimensions(O,!1)}updateClassName(O){this._options.className=O,d.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(O){typeof O.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=O.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof O.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=O.mouseWheelScrollSensitivity),typeof O.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=O.fastScrollSensitivity),typeof O.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=O.scrollPredominantAxis),typeof O.horizontal!="undefined"&&(this._options.horizontal=O.horizontal),typeof O.vertical!="undefined"&&(this._options.vertical=O.vertical),typeof O.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=O.horizontalScrollbarSize),typeof O.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=O.verticalScrollbarSize),typeof O.scrollByPage!="undefined"&&(this._options.scrollByPage=O.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(O){this._onMouseWheel(new w.q(O))}_setListeningToMouseWheel(O){if(this._mouseWheelToDispose.length>0!==O&&(this._mouseWheelToDispose=(0,o.B9)(this._mouseWheelToDispose),O)){const H=V=>{this._onMouseWheel(new w.q(V))};this._mouseWheelToDispose.push(U.nm(this._listenOnDomNode,U.tw.MOUSE_WHEEL,H,{passive:!1}))}}_onMouseWheel(O){var P;if(!((P=O.browserEvent)===null||P===void 0)&&P.defaultPrevented)return;const H=B.INSTANCE;A&&H.acceptStandardWheelEvent(O);let V=!1;if(O.deltaY||O.deltaX){let j=O.deltaY*this._options.mouseWheelScrollSensitivity,F=O.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&F+j===0?F=j=0:Math.abs(j)>=Math.abs(F)?F=0:j=0),this._options.flipAxes&&([j,F]=[F,j]);const K=!d.dz&&O.browserEvent&&O.browserEvent.shiftKey;(this._options.scrollYToX||K)&&!F&&(F=j,j=0),O.browserEvent&&O.browserEvent.altKey&&(F=F*this._options.fastScrollSensitivity,j=j*this._options.fastScrollSensitivity);const m=this._scrollable.getFutureScrollPosition();let J={};if(j){const X=E*j,te=m.scrollTop-(X<0?Math.floor(X):Math.ceil(X));this._verticalScrollbar.writeScrollPosition(J,te)}if(F){const X=E*F,te=m.scrollLeft-(X<0?Math.floor(X):Math.ceil(X));this._horizontalScrollbar.writeScrollPosition(J,te)}J=this._scrollable.validateScrollPosition(J),(m.scrollLeft!==J.scrollLeft||m.scrollTop!==J.scrollTop)&&(A&&this._options.mouseWheelSmoothScroll&&H.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(J):this._scrollable.setScrollPositionNow(J),V=!0)}let G=V;!G&&this._options.alwaysConsumeMouseWheel&&(G=!0),!G&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(G=!0),G&&(O.preventDefault(),O.stopPropagation())}_onDidScroll(O){this._shouldRender=this._horizontalScrollbar.onDidScroll(O)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(O)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const O=this._scrollable.getCurrentScrollPosition(),P=O.scrollTop>0,H=O.scrollLeft>0,V=H?" left":"",G=P?" top":"",j=H||P?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${V}`),this._topShadowDomNode.setClassName(`shadow${G}`),this._topLeftShadowDomNode.setClassName(`shadow${j}${G}${V}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(O){this._mouseIsOver=!1,this._hide()}_onMouseOver(O){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),C)}}class $ extends W{constructor(O,P){P=P||{},P.mouseWheelSmoothScroll=!1;const H=new y.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:V=>U.jL(U.Jj(O),V)});super(O,P,H),this._register(H)}setScrollPosition(O){this._scrollable.setScrollPositionNow(O)}}class Y extends W{constructor(O,P,H){super(O,P,H)}setScrollPosition(O){O.reuseAnimation?this._scrollable.setScrollPositionSmooth(O,O.reuseAnimation):this._scrollable.setScrollPositionNow(O)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class R extends W{constructor(O,P){P=P||{},P.mouseWheelSmoothScroll=!1;const H=new y.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:V=>U.jL(U.Jj(O),V)});super(O,P,H),this._register(H),this._element=O,this._register(this.onScroll(V=>{V.scrollTopChanged&&(this._element.scrollTop=V.scrollTop),V.scrollLeftChanged&&(this._element.scrollLeft=V.scrollLeft)})),this.scanDomNode()}setScrollPosition(O){this._scrollable.setScrollPositionNow(O)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function L(z){const O={lazyRender:typeof z.lazyRender!="undefined"?z.lazyRender:!1,className:typeof z.className!="undefined"?z.className:"",useShadows:typeof z.useShadows!="undefined"?z.useShadows:!0,handleMouseWheel:typeof z.handleMouseWheel!="undefined"?z.handleMouseWheel:!0,flipAxes:typeof z.flipAxes!="undefined"?z.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof z.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?z.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof z.alwaysConsumeMouseWheel!="undefined"?z.alwaysConsumeMouseWheel:!1,scrollYToX:typeof z.scrollYToX!="undefined"?z.scrollYToX:!1,mouseWheelScrollSensitivity:typeof z.mouseWheelScrollSensitivity!="undefined"?z.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof z.fastScrollSensitivity!="undefined"?z.fastScrollSensitivity:5,scrollPredominantAxis:typeof z.scrollPredominantAxis!="undefined"?z.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof z.mouseWheelSmoothScroll!="undefined"?z.mouseWheelSmoothScroll:!0,arrowSize:typeof z.arrowSize!="undefined"?z.arrowSize:11,listenOnDomNode:typeof z.listenOnDomNode!="undefined"?z.listenOnDomNode:null,horizontal:typeof z.horizontal!="undefined"?z.horizontal:1,horizontalScrollbarSize:typeof z.horizontalScrollbarSize!="undefined"?z.horizontalScrollbarSize:10,horizontalSliderSize:typeof z.horizontalSliderSize!="undefined"?z.horizontalSliderSize:0,horizontalHasArrows:typeof z.horizontalHasArrows!="undefined"?z.horizontalHasArrows:!1,vertical:typeof z.vertical!="undefined"?z.vertical:1,verticalScrollbarSize:typeof z.verticalScrollbarSize!="undefined"?z.verticalScrollbarSize:10,verticalHasArrows:typeof z.verticalHasArrows!="undefined"?z.verticalHasArrows:!1,verticalSliderSize:typeof z.verticalSliderSize!="undefined"?z.verticalSliderSize:0,scrollByPage:typeof z.scrollByPage!="undefined"?z.scrollByPage:!1};return O.horizontalSliderSize=typeof z.horizontalSliderSize!="undefined"?z.horizontalSliderSize:O.horizontalScrollbarSize,O.verticalSliderSize=typeof z.verticalSliderSize!="undefined"?z.verticalSliderSize:O.verticalScrollbarSize,d.dz&&(O.className+=" mac"),O}},51203:function(Ot,Ke,e){"use strict";e.d(Ke,{M:function(){return U}});const b=20;class U{constructor(w,c,_,I,M,D){this._scrollbarSize=Math.round(c),this._oppositeScrollbarSize=Math.round(_),this._arrowSize=Math.round(w),this._visibleSize=I,this._scrollSize=M,this._scrollPosition=D,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new U(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(w){const c=Math.round(w);return this._visibleSize!==c?(this._visibleSize=c,this._refreshComputedValues(),!0):!1}setScrollSize(w){const c=Math.round(w);return this._scrollSize!==c?(this._scrollSize=c,this._refreshComputedValues(),!0):!1}setScrollPosition(w){const c=Math.round(w);return this._scrollPosition!==c?(this._scrollPosition=c,this._refreshComputedValues(),!0):!1}setScrollbarSize(w){this._scrollbarSize=Math.round(w)}setOppositeScrollbarSize(w){this._oppositeScrollbarSize=Math.round(w)}static _computeValues(w,c,_,I,M){const D=Math.max(0,_-w),p=Math.max(0,D-2*c),o=I>0&&I>_;if(!o)return{computedAvailableSize:Math.round(D),computedIsNeeded:o,computedSliderSize:Math.round(p),computedSliderRatio:0,computedSliderPosition:0};const u=Math.round(Math.max(b,Math.floor(_*p/I))),d=(p-u)/(I-_),n=M*d;return{computedAvailableSize:Math.round(D),computedIsNeeded:o,computedSliderSize:Math.round(u),computedSliderRatio:d,computedSliderPosition:Math.round(n)}}_refreshComputedValues(){const w=U._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=w.computedAvailableSize,this._computedIsNeeded=w.computedIsNeeded,this._computedSliderSize=w.computedSliderSize,this._computedSliderRatio=w.computedSliderRatio,this._computedSliderPosition=w.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(w){if(!this._computedIsNeeded)return 0;const c=w-this._arrowSize-this._computedSliderSize/2;return Math.round(c/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(w){if(!this._computedIsNeeded)return 0;const c=w-this._arrowSize;let _=this._scrollPosition;return c<this._computedSliderPosition?_-=this._visibleSize:_+=this._visibleSize,_}getDesiredScrollPositionFromDelta(w){if(!this._computedIsNeeded)return 0;const c=this._computedSliderPosition+w;return Math.round(c/this._computedSliderRatio)}}},33225:function(Ot,Ke,e){"use strict";e.d(Ke,{M:function(){return v},z:function(){return a}});var b=e(65321),U=e(4850),r=e(83080),w=e(59740),c=e(9488),_=e(41264),I=e(4669),M=e(5976),D=e(59870),p=e(76633),o=e(98401);const u={separatorBorder:_.Il.transparent};class d{set size(g){this._size=g}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(g,y){var C,E;if(g!==this.visible){g?(this.size=(0,D.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof y=="number"?y:this.size,this.size=0),this.container.classList.toggle("visible",g);try{(E=(C=this.view).setVisible)===null||E===void 0||E.call(C,g)}catch(A){console.error("Splitview: Failed to set visible view"),console.error(A)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var g;return(g=this.view.proportionalLayout)!==null&&g!==void 0?g:!0}get snap(){return!!this.view.snap}set enabled(g){this.container.style.pointerEvents=g?"":"none"}constructor(g,y,C,E){this.container=g,this.view=y,this.disposable=E,this._cachedVisibleSize=void 0,typeof C=="number"?(this._size=C,this._cachedVisibleSize=void 0,g.classList.add("visible")):(this._size=0,this._cachedVisibleSize=C.cachedVisibleSize)}layout(g,y){this.layoutContainer(g);try{this.view.layout(this.size,g,y)}catch(C){console.error("Splitview: Failed to layout view"),console.error(C)}}dispose(){this.disposable.dispose()}}class n extends d{layoutContainer(g){this.container.style.top=`${g}px`,this.container.style.height=`${this.size}px`}}class i extends d{layoutContainer(g){this.container.style.left=`${g}px`,this.container.style.width=`${this.size}px`}}var f;(function(S){S[S.Idle=0]="Idle",S[S.Busy=1]="Busy"})(f||(f={}));var v;(function(S){S.Distribute={type:"distribute"};function g(E){return{type:"split",index:E}}S.Split=g;function y(E){return{type:"auto",index:E}}S.Auto=y;function C(E){return{type:"invisible",cachedVisibleSize:E}}S.Invisible=C})(v||(v={}));class a extends M.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(g){for(const y of this.sashItems)y.sash.orthogonalStartSash=g;this._orthogonalStartSash=g}set orthogonalEndSash(g){for(const y of this.sashItems)y.sash.orthogonalEndSash=g;this._orthogonalEndSash=g}set startSnappingEnabled(g){this._startSnappingEnabled!==g&&(this._startSnappingEnabled=g,this.updateSashEnablement())}set endSnappingEnabled(g){this._endSnappingEnabled!==g&&(this._endSnappingEnabled=g,this.updateSashEnablement())}constructor(g,y={}){var C,E,A,N,B;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=f.Idle,this._onDidSashChange=this._register(new I.Q5),this._onDidSashReset=this._register(new I.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(C=y.orientation)!==null&&C!==void 0?C:0,this.inverseAltBehavior=(E=y.inverseAltBehavior)!==null&&E!==void 0?E:!1,this.proportionalLayout=(A=y.proportionalLayout)!==null&&A!==void 0?A:!0,this.getSashOrthogonalSize=y.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),g.appendChild(this.el),this.sashContainer=(0,b.R3)(this.el,(0,b.$)(".sash-container")),this.viewContainer=(0,b.$)(".split-view-container"),this.scrollable=this._register(new p.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:$=>(0,b.jL)((0,b.Jj)(this.el),$)})),this.scrollableElement=this._register(new w.$Z(this.viewContainer,{vertical:this.orientation===0?(N=y.scrollbarVisibility)!==null&&N!==void 0?N:1:2,horizontal:this.orientation===1?(B=y.scrollbarVisibility)!==null&&B!==void 0?B:1:2},this.scrollable));const W=this._register(new U.Y(this.viewContainer,"scroll")).event;this._register(W($=>{const Y=this.scrollableElement.getScrollPosition(),R=Math.abs(this.viewContainer.scrollLeft-Y.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,L=Math.abs(this.viewContainer.scrollTop-Y.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(R!==void 0||L!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:R,scrollTop:L})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll($=>{$.scrollTopChanged&&(this.viewContainer.scrollTop=$.scrollTop),$.scrollLeftChanged&&(this.viewContainer.scrollLeft=$.scrollLeft)})),(0,b.R3)(this.el,this.scrollableElement.getDomNode()),this.style(y.styles||u),y.descriptor&&(this.size=y.descriptor.size,y.descriptor.views.forEach(($,Y)=>{const R=o.o8($.visible)||$.visible?$.size:{type:"invisible",cachedVisibleSize:$.size},L=$.view;this.doAddView(L,R,Y,!0)}),this._contentSize=this.viewItems.reduce(($,Y)=>$+Y.size,0),this.saveProportions())}style(g){g.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",g.separatorBorder.toString()))}addView(g,y,C=this.viewItems.length,E){this.doAddView(g,y,C,E)}layout(g,y){const C=Math.max(this.size,this._contentSize);if(this.size=g,this.layoutContext=y,this.proportions){let E=0;for(let A=0;A<this.viewItems.length;A++){const N=this.viewItems[A],B=this.proportions[A];typeof B=="number"?E+=B:g-=N.size}for(let A=0;A<this.viewItems.length;A++){const N=this.viewItems[A],B=this.proportions[A];typeof B=="number"&&E>0&&(N.size=(0,D.uZ)(Math.round(B*g/E),N.minimumSize,N.maximumSize))}}else{const E=(0,c.w6)(this.viewItems.length),A=E.filter(B=>this.viewItems[B].priority===1),N=E.filter(B=>this.viewItems[B].priority===2);this.resize(this.viewItems.length-1,g-C,void 0,A,N)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(g=>g.proportionalLayout&&g.visible?g.size/this._contentSize:void 0))}onSashStart({sash:g,start:y,alt:C}){for(const B of this.viewItems)B.enabled=!1;const E=this.sashItems.findIndex(B=>B.sash===g),A=(0,M.F8)((0,b.nm)(this.el.ownerDocument.body,"keydown",B=>N(this.sashDragState.current,B.altKey)),(0,b.nm)(this.el.ownerDocument.body,"keyup",()=>N(this.sashDragState.current,!1))),N=(B,W)=>{const $=this.viewItems.map(O=>O.size);let Y=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(W=!W),W)if(E===this.sashItems.length-1){const P=this.viewItems[E];Y=(P.minimumSize-P.size)/2,R=(P.maximumSize-P.size)/2}else{const P=this.viewItems[E+1];Y=(P.size-P.maximumSize)/2,R=(P.size-P.minimumSize)/2}let L,z;if(!W){const O=(0,c.w6)(E,-1),P=(0,c.w6)(E+1,this.viewItems.length),H=O.reduce((X,te)=>X+(this.viewItems[te].minimumSize-$[te]),0),V=O.reduce((X,te)=>X+(this.viewItems[te].viewMaximumSize-$[te]),0),G=P.length===0?Number.POSITIVE_INFINITY:P.reduce((X,te)=>X+($[te]-this.viewItems[te].minimumSize),0),j=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((X,te)=>X+($[te]-this.viewItems[te].viewMaximumSize),0),F=Math.max(H,j),K=Math.min(G,V),m=this.findFirstSnapIndex(O),J=this.findFirstSnapIndex(P);if(typeof m=="number"){const X=this.viewItems[m],te=Math.floor(X.viewMinimumSize/2);L={index:m,limitDelta:X.visible?F-te:F+te,size:X.size}}if(typeof J=="number"){const X=this.viewItems[J],te=Math.floor(X.viewMinimumSize/2);z={index:J,limitDelta:X.visible?K+te:K-te,size:X.size}}}this.sashDragState={start:B,current:B,index:E,sizes:$,minDelta:Y,maxDelta:R,alt:W,snapBefore:L,snapAfter:z,disposable:A}};N(y,C)}onSashChange({current:g}){const{index:y,start:C,sizes:E,alt:A,minDelta:N,maxDelta:B,snapBefore:W,snapAfter:$}=this.sashDragState;this.sashDragState.current=g;const Y=g-C,R=this.resize(y,Y,E,void 0,void 0,N,B,W,$);if(A){const L=y===this.sashItems.length-1,z=this.viewItems.map(j=>j.size),O=L?y:y+1,P=this.viewItems[O],H=P.size-P.maximumSize,V=P.size-P.minimumSize,G=L?y-1:y+1;this.resize(G,-R,z,void 0,void 0,H,V)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(g){this._onDidSashChange.fire(g),this.sashDragState.disposable.dispose(),this.saveProportions();for(const y of this.viewItems)y.enabled=!0}onViewChange(g,y){const C=this.viewItems.indexOf(g);C<0||C>=this.viewItems.length||(y=typeof y=="number"?y:g.size,y=(0,D.uZ)(y,g.minimumSize,g.maximumSize),this.inverseAltBehavior&&C>0?(this.resize(C-1,Math.floor((g.size-y)/2)),this.distributeEmptySpace(),this.layoutViews()):(g.size=y,this.relayout([C],void 0)))}resizeView(g,y){if(!(g<0||g>=this.viewItems.length)){if(this.state!==f.Idle)throw new Error("Cant modify splitview");this.state=f.Busy;try{const C=(0,c.w6)(this.viewItems.length).filter(B=>B!==g),E=[...C.filter(B=>this.viewItems[B].priority===1),g],A=C.filter(B=>this.viewItems[B].priority===2),N=this.viewItems[g];y=Math.round(y),y=(0,D.uZ)(y,N.minimumSize,Math.min(N.maximumSize,this.size)),N.size=y,this.relayout(E,A)}finally{this.state=f.Idle}}}distributeViewSizes(){const g=[];let y=0;for(const B of this.viewItems)B.maximumSize-B.minimumSize>0&&(g.push(B),y+=B.size);const C=Math.floor(y/g.length);for(const B of g)B.size=(0,D.uZ)(C,B.minimumSize,B.maximumSize);const E=(0,c.w6)(this.viewItems.length),A=E.filter(B=>this.viewItems[B].priority===1),N=E.filter(B=>this.viewItems[B].priority===2);this.relayout(A,N)}getViewSize(g){return g<0||g>=this.viewItems.length?-1:this.viewItems[g].size}doAddView(g,y,C=this.viewItems.length,E){if(this.state!==f.Idle)throw new Error("Cant modify splitview");this.state=f.Busy;try{const A=(0,b.$)(".split-view-view");C===this.viewItems.length?this.viewContainer.appendChild(A):this.viewContainer.insertBefore(A,this.viewContainer.children.item(C));const N=g.onDidChange(L=>this.onViewChange(Y,L)),B=(0,M.OF)(()=>this.viewContainer.removeChild(A)),W=(0,M.F8)(N,B);let $;typeof y=="number"?$=y:(y.type==="auto"&&(this.areViewsDistributed()?y={type:"distribute"}:y={type:"split",index:y.index}),y.type==="split"?$=this.getViewSize(y.index)/2:y.type==="invisible"?$={cachedVisibleSize:y.cachedVisibleSize}:$=g.minimumSize);const Y=this.orientation===0?new n(A,g,$,W):new i(A,g,$,W);if(this.viewItems.splice(C,0,Y),this.viewItems.length>1){const L={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},z=this.orientation===0?new r.g(this.sashContainer,{getHorizontalSashTop:X=>this.getSashPosition(X),getHorizontalSashWidth:this.getSashOrthogonalSize},Ni(Xn({},L),{orientation:1})):new r.g(this.sashContainer,{getVerticalSashLeft:X=>this.getSashPosition(X),getVerticalSashHeight:this.getSashOrthogonalSize},Ni(Xn({},L),{orientation:0})),O=this.orientation===0?X=>({sash:z,start:X.startY,current:X.currentY,alt:X.altKey}):X=>({sash:z,start:X.startX,current:X.currentX,alt:X.altKey}),H=I.ju.map(z.onDidStart,O)(this.onSashStart,this),G=I.ju.map(z.onDidChange,O)(this.onSashChange,this),F=I.ju.map(z.onDidEnd,()=>this.sashItems.findIndex(X=>X.sash===z))(this.onSashEnd,this),K=z.onDidReset(()=>{const X=this.sashItems.findIndex(pe=>pe.sash===z),te=(0,c.w6)(X,-1),le=(0,c.w6)(X+1,this.viewItems.length),ge=this.findFirstSnapIndex(te),we=this.findFirstSnapIndex(le);typeof ge=="number"&&!this.viewItems[ge].visible||typeof we=="number"&&!this.viewItems[we].visible||this._onDidSashReset.fire(X)}),m=(0,M.F8)(H,G,F,K,z),J={sash:z,disposable:m};this.sashItems.splice(C-1,0,J)}A.appendChild(g.element);let R;typeof y!="number"&&y.type==="split"&&(R=[y.index]),E||this.relayout([C],R),!E&&typeof y!="number"&&y.type==="distribute"&&this.distributeViewSizes()}finally{this.state=f.Idle}}relayout(g,y){const C=this.viewItems.reduce((E,A)=>E+A.size,0);this.resize(this.viewItems.length-1,this.size-C,void 0,g,y),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(g,y,C=this.viewItems.map(Y=>Y.size),E,A,N=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY,W,$){if(g<0||g>=this.viewItems.length)return 0;const Y=(0,c.w6)(g,-1),R=(0,c.w6)(g+1,this.viewItems.length);if(A)for(const J of A)(0,c.zI)(Y,J),(0,c.zI)(R,J);if(E)for(const J of E)(0,c.al)(Y,J),(0,c.al)(R,J);const L=Y.map(J=>this.viewItems[J]),z=Y.map(J=>C[J]),O=R.map(J=>this.viewItems[J]),P=R.map(J=>C[J]),H=Y.reduce((J,X)=>J+(this.viewItems[X].minimumSize-C[X]),0),V=Y.reduce((J,X)=>J+(this.viewItems[X].maximumSize-C[X]),0),G=R.length===0?Number.POSITIVE_INFINITY:R.reduce((J,X)=>J+(C[X]-this.viewItems[X].minimumSize),0),j=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((J,X)=>J+(C[X]-this.viewItems[X].maximumSize),0),F=Math.max(H,j,N),K=Math.min(G,V,B);let m=!1;if(W){const J=this.viewItems[W.index],X=y>=W.limitDelta;m=X!==J.visible,J.setVisible(X,W.size)}if(!m&&$){const J=this.viewItems[$.index],X=y<$.limitDelta;m=X!==J.visible,J.setVisible(X,$.size)}if(m)return this.resize(g,y,C,E,A,N,B);y=(0,D.uZ)(y,F,K);for(let J=0,X=y;J<L.length;J++){const te=L[J],le=(0,D.uZ)(z[J]+X,te.minimumSize,te.maximumSize),ge=le-z[J];X-=ge,te.size=le}for(let J=0,X=y;J<O.length;J++){const te=O[J],le=(0,D.uZ)(P[J]-X,te.minimumSize,te.maximumSize),ge=le-P[J];X+=ge,te.size=le}return y}distributeEmptySpace(g){const y=this.viewItems.reduce((B,W)=>B+W.size,0);let C=this.size-y;const E=(0,c.w6)(this.viewItems.length-1,-1),A=E.filter(B=>this.viewItems[B].priority===1),N=E.filter(B=>this.viewItems[B].priority===2);for(const B of N)(0,c.zI)(E,B);for(const B of A)(0,c.al)(E,B);typeof g=="number"&&(0,c.al)(E,g);for(let B=0;C!==0&&B<E.length;B++){const W=this.viewItems[E[B]],$=(0,D.uZ)(W.size+C,W.minimumSize,W.maximumSize),Y=$-W.size;C-=Y,W.size=$}}layoutViews(){this._contentSize=this.viewItems.reduce((y,C)=>y+C.size,0);let g=0;for(const y of this.viewItems)y.layout(g,this.layoutContext),g+=y.size;this.sashItems.forEach(y=>y.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let g=!1;const y=this.viewItems.map(W=>g=W.size-W.minimumSize>0||g);g=!1;const C=this.viewItems.map(W=>g=W.maximumSize-W.size>0||g),E=[...this.viewItems].reverse();g=!1;const A=E.map(W=>g=W.size-W.minimumSize>0||g).reverse();g=!1;const N=E.map(W=>g=W.maximumSize-W.size>0||g).reverse();let B=0;for(let W=0;W<this.sashItems.length;W++){const{sash:$}=this.sashItems[W],Y=this.viewItems[W];B+=Y.size;const R=!(y[W]&&N[W+1]),L=!(C[W]&&A[W+1]);if(R&&L){const z=(0,c.w6)(W,-1),O=(0,c.w6)(W+1,this.viewItems.length),P=this.findFirstSnapIndex(z),H=this.findFirstSnapIndex(O),V=typeof P=="number"&&!this.viewItems[P].visible,G=typeof H=="number"&&!this.viewItems[H].visible;V&&A[W]&&(B>0||this.startSnappingEnabled)?$.state=1:G&&y[W]&&(B<this._contentSize||this.endSnappingEnabled)?$.state=2:$.state=0}else R&&!L?$.state=1:!R&&L?$.state=2:$.state=3}}getSashPosition(g){let y=0;for(let C=0;C<this.sashItems.length;C++)if(y+=this.viewItems[C].size,this.sashItems[C].sash===g)return y;return 0}findFirstSnapIndex(g){for(const y of g){const C=this.viewItems[y];if(C.visible&&C.snap)return y}for(const y of g){const C=this.viewItems[y];if(C.visible&&C.maximumSize-C.minimumSize>0)return;if(!C.visible&&C.snap)return y}}areViewsDistributed(){let g,y;for(const C of this.viewItems)if(g=g===void 0?C.size:Math.min(g,C.size),y=y===void 0?C.size:Math.max(y,C.size),y-g>2)return!1;return!0}dispose(){var g;(g=this.sashDragState)===null||g===void 0||g.disposable.dispose(),(0,M.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(y=>y.disposable.dispose()),this.sashItems=[],super.dispose()}}},40032:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return c},D:function(){return w}});var b=e(93794),U=e(25670),r=e(4669);const w={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class c extends b.${constructor(I){super(),this._onChange=this._register(new r.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new r.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=I,this._checked=this._opts.isChecked;const M=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,M.push(...U.k.asClassNameArray(this._icon))),this._opts.actionClassName&&M.push(...this._opts.actionClassName.split(" ")),this._checked&&M.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...M),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,D=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),D.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,D=>{if(D.keyCode===10||D.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),D.preventDefault(),D.stopPropagation();return}this._onKeyDown.fire(D)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(I){this._checked=I,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},93794:function(Ot,Ke,e){"use strict";e.d(Ke,{$:function(){return _}});var b=e(65321),U=e(59069),r=e(7317),w=e(10553),c=e(5976);class _ extends c.JT{onclick(M,D){this._register(b.nm(M,b.tw.CLICK,p=>D(new r.n(b.Jj(M),p))))}onmousedown(M,D){this._register(b.nm(M,b.tw.MOUSE_DOWN,p=>D(new r.n(b.Jj(M),p))))}onmouseover(M,D){this._register(b.nm(M,b.tw.MOUSE_OVER,p=>D(new r.n(b.Jj(M),p))))}onmouseleave(M,D){this._register(b.nm(M,b.tw.MOUSE_LEAVE,p=>D(new r.n(b.Jj(M),p))))}onkeydown(M,D){this._register(b.nm(M,b.tw.KEY_DOWN,p=>D(new U.y(p))))}onkeyup(M,D){this._register(b.nm(M,b.tw.KEY_UP,p=>D(new U.y(p))))}oninput(M,D){this._register(b.nm(M,b.tw.INPUT,D))}onblur(M,D){this._register(b.nm(M,b.tw.BLUR,D))}onfocus(M,D){this._register(b.nm(M,b.tw.FOCUS,D))}ignoreGesture(M){return w.o.ignoreTarget(M)}}},48906:function(Ot,Ke,e){"use strict";e.d(Ke,{Ex:function(){return U},HA:function(){return b},vO:function(){return r}});function b(w,c){const _=w;typeof _.vscodeWindowId!="number"&&Object.defineProperty(_,"vscodeWindowId",{get:()=>c})}const U=window,r=U},74741:function(Ot,Ke,e){"use strict";e.d(Ke,{Wi:function(){return c},Z0:function(){return _},aU:function(){return w},eZ:function(){return M},wY:function(){return I},xw:function(){return D}});var b=e(4669),U=e(5976),r=e(63580);class w extends U.JT{constructor(o,u="",d="",n=!0,i){super(),this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=o,this._label=u,this._cssClass=d,this._enabled=n,this._actionCallback=i}get id(){return this._id}get label(){return this._label}set label(o){this._setLabel(o)}_setLabel(o){this._label!==o&&(this._label=o,this._onDidChange.fire({label:o}))}get tooltip(){return this._tooltip||""}set tooltip(o){this._setTooltip(o)}_setTooltip(o){this._tooltip!==o&&(this._tooltip=o,this._onDidChange.fire({tooltip:o}))}get class(){return this._cssClass}set class(o){this._setClass(o)}_setClass(o){this._cssClass!==o&&(this._cssClass=o,this._onDidChange.fire({class:o}))}get enabled(){return this._enabled}set enabled(o){this._setEnabled(o)}_setEnabled(o){this._enabled!==o&&(this._enabled=o,this._onDidChange.fire({enabled:o}))}get checked(){return this._checked}set checked(o){this._setChecked(o)}_setChecked(o){this._checked!==o&&(this._checked=o,this._onDidChange.fire({checked:o}))}run(o,u){return tn(this,null,function*(){this._actionCallback&&(yield this._actionCallback(o))})}}class c extends U.JT{constructor(){super(...arguments),this._onWillRun=this._register(new b.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new b.Q5),this.onDidRun=this._onDidRun.event}run(o,u){return tn(this,null,function*(){if(!o.enabled)return;this._onWillRun.fire({action:o});let d;try{yield this.runAction(o,u)}catch(n){d=n}this._onDidRun.fire({action:o,error:d})})}runAction(o,u){return tn(this,null,function*(){yield o.run(u)})}}class _{constructor(){this.id=_.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...o){let u=[];for(const d of o)d.length&&(u.length?u=[...u,new _,...d]:u=d);return u}run(){return tn(this,null,function*(){})}}_.ID="vs.actions.separator";class I{get actions(){return this._actions}constructor(o,u,d,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=o,this.label=u,this.class=n,this._actions=d}run(){return tn(this,null,function*(){})}}class M extends w{constructor(){super(M.ID,r.NC("submenu.empty","(empty)"),void 0,!1)}}M.ID="vs.actions.empty";function D(p){var o,u;return{id:p.id,label:p.label,class:p.class,enabled:(o=p.enabled)!==null&&o!==void 0?o:!0,checked:(u=p.checked)!==null&&u!==void 0?u:!1,run:(...d)=>tn(this,null,function*(){return p.run(...d)}),tooltip:p.label}}},9488:function(Ot,Ke,e){"use strict";e.d(Ke,{BV:function(){return z},EB:function(){return f},Gb:function(){return b},H9:function(){return O},HW:function(){return I},JH:function(){return U},KO:function(){return o},LS:function(){return w},Of:function(){return i},Rs:function(){return d},W$:function(){return P},XY:function(){return n},Xh:function(){return v},Zv:function(){return S},_2:function(){return E},al:function(){return y},db:function(){return N},fS:function(){return r},f_:function(){return Y},fv:function(){return R},kX:function(){return u},mw:function(){return D},nW:function(){return L},ry:function(){return c},tT:function(){return $},vA:function(){return C},vM:function(){return M},w6:function(){return a},zI:function(){return g},zy:function(){return p}});function b(H,V=0){return H[H.length-(1+V)]}function U(H){if(H.length===0)throw new Error("Invalid tail call");return[H.slice(0,H.length-1),H[H.length-1]]}function r(H,V,G=(j,F)=>j===F){if(H===V)return!0;if(!H||!V||H.length!==V.length)return!1;for(let j=0,F=H.length;j<F;j++)if(!G(H[j],V[j]))return!1;return!0}function w(H,V){const G=H.length-1;V<G&&(H[V]=H[G]),H.pop()}function c(H,V,G){return _(H.length,j=>G(H[j],V))}function _(H,V){let G=0,j=H-1;for(;G<=j;){const F=(G+j)/2|0,K=V(F);if(K<0)G=F+1;else if(K>0)j=F-1;else return F}return-(G+1)}function I(H,V,G){if(H=H|0,H>=V.length)throw new TypeError("invalid index");const j=V[Math.floor(V.length*Math.random())],F=[],K=[],m=[];for(const J of V){const X=G(J,j);X<0?F.push(J):X>0?K.push(J):m.push(J)}return H<F.length?I(H,F,G):H<F.length+m.length?m[0]:I(H-(F.length+m.length),K,G)}function M(H,V){const G=[];let j;for(const F of H.slice(0).sort(V))!j||V(j[0],F)!==0?(j=[F],G.push(j)):j.push(F);return G}function*D(H,V){let G,j;for(const F of H)j!==void 0&&V(j,F)?G.push(F):(G&&(yield G),G=[F]),j=F;G&&(yield G)}function p(H,V){for(let G=0;G<=H.length;G++)V(G===0?void 0:H[G-1],G===H.length?void 0:H[G])}function o(H,V){for(let G=0;G<H.length;G++)V(G===0?void 0:H[G-1],H[G],G+1===H.length?void 0:H[G+1])}function u(H){return H.filter(V=>!!V)}function d(H){let V=0;for(let G=0;G<H.length;G++)H[G]&&(H[V]=H[G],V+=1);H.length=V}function n(H){return!Array.isArray(H)||H.length===0}function i(H){return Array.isArray(H)&&H.length>0}function f(H,V=G=>G){const G=new Set;return H.filter(j=>{const F=V(j);return G.has(F)?!1:(G.add(F),!0)})}function v(H,V){return H.length>0?H[0]:V}function a(H,V){let G=typeof V=="number"?H:0;typeof V=="number"?G=H:(G=0,V=H);const j=[];if(G<=V)for(let F=G;F<V;F++)j.push(F);else for(let F=G;F>V;F--)j.push(F);return j}function S(H,V,G){const j=H.slice(0,V),F=H.slice(V);return j.concat(G,F)}function g(H,V){const G=H.indexOf(V);G>-1&&(H.splice(G,1),H.unshift(V))}function y(H,V){const G=H.indexOf(V);G>-1&&(H.splice(G,1),H.push(V))}function C(H,V){for(const G of V)H.push(G)}function E(H){return Array.isArray(H)?H:[H]}function A(H,V,G){const j=B(H,V),F=H.length,K=G.length;H.length=F+K;for(let m=F-1;m>=j;m--)H[m+K]=H[m];for(let m=0;m<K;m++)H[m+j]=G[m]}function N(H,V,G,j){const F=B(H,V);let K=H.splice(F,G);return K===void 0&&(K=[]),A(H,F,j),K}function B(H,V){return V<0?Math.max(V+H.length,0):Math.min(V,H.length)}var W;(function(H){function V(K){return K<0}H.isLessThan=V;function G(K){return K<=0}H.isLessThanOrEqual=G;function j(K){return K>0}H.isGreaterThan=j;function F(K){return K===0}H.isNeitherLessOrGreaterThan=F,H.greaterThan=1,H.lessThan=-1,H.neitherLessOrGreaterThan=0})(W||(W={}));function $(H,V){return(G,j)=>V(H(G),H(j))}function Y(...H){return(V,G)=>{for(const j of H){const F=j(V,G);if(!W.isNeitherLessOrGreaterThan(F))return F}return W.neitherLessOrGreaterThan}}const R=(H,V)=>H-V,L=(H,V)=>R(H?1:0,V?1:0);function z(H){return(V,G)=>-H(V,G)}class O{constructor(V){this.items=V,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(V){let G=this.firstIdx;for(;G<this.items.length&&V(this.items[G]);)G++;const j=G===this.firstIdx?null:this.items.slice(this.firstIdx,G);return this.firstIdx=G,j}takeFromEndWhile(V){let G=this.lastIdx;for(;G>=0&&V(this.items[G]);)G--;const j=G===this.lastIdx?null:this.items.slice(G+1,this.lastIdx+1);return this.lastIdx=G,j}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const V=this.items[this.firstIdx];return this.firstIdx++,V}takeCount(V){const G=this.items.slice(this.firstIdx,this.firstIdx+V);return this.firstIdx+=V,G}}class P{constructor(V){this.iterate=V}toArray(){const V=[];return this.iterate(G=>(V.push(G),!0)),V}filter(V){return new P(G=>this.iterate(j=>V(j)?G(j):!0))}map(V){return new P(G=>this.iterate(j=>G(V(j))))}findLast(V){let G;return this.iterate(j=>(V(j)&&(G=j),!0)),G}findLastMaxBy(V){let G,j=!0;return this.iterate(F=>((j||W.isGreaterThan(V(F,G)))&&(j=!1,G=F),!0)),G}}P.empty=new P(H=>{})},35534:function(Ot,Ke,e){"use strict";e.d(Ke,{Fr:function(){return u},J_:function(){return _},Jw:function(){return w},Ph:function(){return p},b1:function(){return I},cn:function(){return c},dF:function(){return b},dI:function(){return M},jV:function(){return D},tQ:function(){return o},ti:function(){return r}});function b(d,n,i){const f=U(d,n);if(f!==-1)return d[f]}function U(d,n,i=d.length-1){for(let f=i;f>=0;f--){const v=d[f];if(n(v))return f}return-1}function r(d,n){const i=w(d,n);return i===-1?void 0:d[i]}function w(d,n,i=0,f=d.length){let v=i,a=f;for(;v<a;){const S=Math.floor((v+a)/2);n(d[S])?v=S+1:a=S}return v-1}function c(d,n){const i=_(d,n);return i===d.length?void 0:d[i]}function _(d,n,i=0,f=d.length){let v=i,a=f;for(;v<a;){const S=Math.floor((v+a)/2);n(d[S])?a=S:v=S+1}return v}class I{constructor(n){this._array=n,this._findLastMonotonousLastIdx=0}findLastMonotonous(n){if(I.assertInvariants){if(this._prevFindLastPredicate){for(const f of this._array)if(this._prevFindLastPredicate(f)&&!n(f))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=n}const i=w(this._array,n,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=i+1,i===-1?void 0:this._array[i]}}I.assertInvariants=!1;function M(d,n){if(d.length===0)return;let i=d[0];for(let f=1;f<d.length;f++){const v=d[f];n(v,i)>0&&(i=v)}return i}function D(d,n){if(d.length===0)return;let i=d[0];for(let f=1;f<d.length;f++){const v=d[f];n(v,i)>=0&&(i=v)}return i}function p(d,n){return M(d,(i,f)=>-n(i,f))}function o(d,n){if(d.length===0)return-1;let i=0;for(let f=1;f<d.length;f++){const v=d[f];n(v,d[i])>0&&(i=f)}return i}function u(d,n){for(const i of d){const f=n(i);if(f!==void 0)return f}}},35146:function(Ot,Ke,e){"use strict";e.d(Ke,{DM:function(){return c},eZ:function(){return w},ok:function(){return U},vE:function(){return r}});var b=e(17301);function U(_,I){if(!_)throw new Error(I?`Assertion failed (${I})`:"Assertion Failed")}function r(_,I="Unreachable"){throw new Error(I)}function w(_){if(!_()){debugger;_(),(0,b.dL)(new b.he("Assertion Failed"))}}function c(_,I){let M=0;for(;M<_.length-1;){const D=_[M],p=_[M+1];if(!I(D,p))return!1;M++}return!0}},15393:function(Ot,Ke,e){"use strict";e.d(Ke,{Aq:function(){return W},CR:function(){return N},J8:function(){return I},PG:function(){return M},Ps:function(){return v},R5:function(){return A},Vg:function(){return f},Vs:function(){return i},_F:function(){return a},eP:function(){return D},hF:function(){return E},jT:function(){return B},jg:function(){return y},pY:function(){return g},rH:function(){return n},vp:function(){return d},y5:function(){return C},zS:function(){return Y},zh:function(){return S}});var b=e(71050),U=e(17301),r=e(4669),w=e(5976),c=e(1432),_=e(5635);function I(R){return!!R&&typeof R.then=="function"}function M(R){const L=new b.A,z=R(L.token),O=new Promise((P,H)=>{const V=L.token.onCancellationRequested(()=>{V.dispose(),L.dispose(),H(new U.FU)});Promise.resolve(z).then(G=>{V.dispose(),L.dispose(),P(G)},G=>{V.dispose(),L.dispose(),H(G)})});return new class{cancel(){L.cancel()}then(P,H){return O.then(P,H)}catch(P){return this.then(void 0,P)}finally(P){return O.finally(P)}}}function D(R,L,z){return new Promise((O,P)=>{const H=L.onCancellationRequested(()=>{H.dispose(),O(z)});R.then(O,P).finally(()=>H.dispose())})}class p{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(L){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=L,!this.queuedPromise){const z=()=>{if(this.queuedPromise=null,this.isDisposed)return;const O=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,O};this.queuedPromise=new Promise(O=>{this.activePromise.then(z,z).then(O)})}return new Promise((z,O)=>{this.queuedPromise.then(z,O)})}return this.activePromise=L(),new Promise((z,O)=>{this.activePromise.then(P=>{this.activePromise=null,z(P)},P=>{this.activePromise=null,O(P)})})}dispose(){this.isDisposed=!0}}const o=(R,L)=>{let z=!0;const O=setTimeout(()=>{z=!1,L()},R);return{isTriggered:()=>z,dispose:()=>{clearTimeout(O),z=!1}}},u=R=>{let L=!0;return queueMicrotask(()=>{L&&(L=!1,R())}),{isTriggered:()=>L,dispose:()=>{L=!1}}};class d{constructor(L){this.defaultDelay=L,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(L,z=this.defaultDelay){this.task=L,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((P,H)=>{this.doResolve=P,this.doReject=H}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const P=this.task;return this.task=null,P()}}));const O=()=>{var P;this.deferred=null,(P=this.doResolve)===null||P===void 0||P.call(this,null)};return this.deferred=z===_.n?u(O):o(z,O),this.completionPromise}isTriggered(){var L;return!!(!((L=this.deferred)===null||L===void 0)&&L.isTriggered())}cancel(){var L;this.cancelTimeout(),this.completionPromise&&((L=this.doReject)===null||L===void 0||L.call(this,new U.FU),this.completionPromise=null)}cancelTimeout(){var L;(L=this.deferred)===null||L===void 0||L.dispose(),this.deferred=null}dispose(){this.cancel()}}class n{constructor(L){this.delayer=new d(L),this.throttler=new p}trigger(L,z){return this.delayer.trigger(()=>this.throttler.queue(L),z)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function i(R,L){return L?new Promise((z,O)=>{const P=setTimeout(()=>{H.dispose(),z()},R),H=L.onCancellationRequested(()=>{clearTimeout(P),H.dispose(),O(new U.FU)})}):M(z=>i(R,z))}function f(R,L=0,z){const O=setTimeout(()=>{R(),z&&P.dispose()},L),P=(0,w.OF)(()=>{clearTimeout(O),z==null||z.deleteAndLeak(P)});return z==null||z.add(P),P}function v(R,L=O=>!!O,z=null){let O=0;const P=R.length,H=()=>{if(O>=P)return Promise.resolve(z);const V=R[O++];return Promise.resolve(V()).then(j=>L(j)?Promise.resolve(j):H())};return H()}class a{constructor(L,z){this._token=-1,typeof L=="function"&&typeof z=="number"&&this.setIfNotSet(L,z)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(L,z){this.cancel(),this._token=setTimeout(()=>{this._token=-1,L()},z)}setIfNotSet(L,z){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,L()},z))}}class S{constructor(){this.disposable=void 0}cancel(){var L;(L=this.disposable)===null||L===void 0||L.dispose(),this.disposable=void 0}cancelAndSet(L,z,O=globalThis){this.cancel();const P=O.setInterval(()=>{L()},z);this.disposable=(0,w.OF)(()=>{O.clearInterval(P),this.disposable=void 0})}dispose(){this.cancel()}}class g{constructor(L,z){this.timeoutToken=-1,this.runner=L,this.timeout=z,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(L=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,L)}get delay(){return this.timeout}set delay(L){this.timeout=L}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var L;(L=this.runner)===null||L===void 0||L.call(this)}}let y,C;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?C=(R,L)=>{(0,c.fn)(()=>{if(z)return;const O=Date.now()+15;L(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,O-Date.now())}}))});let z=!1;return{dispose(){z||(z=!0)}}}:C=(R,L,z)=>{const O=R.requestIdleCallback(L,typeof z=="number"?{timeout:z}:void 0);let P=!1;return{dispose(){P||(P=!0,R.cancelIdleCallback(O))}}},y=R=>C(globalThis,R)})();class E{constructor(L,z){this._didRun=!1,this._executor=()=>{try{this._value=z()}catch(O){this._error=O}finally{this._didRun=!0}},this._handle=C(L,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class A extends E{constructor(L){super(globalThis,L)}}class N{get isRejected(){var L;return((L=this.outcome)===null||L===void 0?void 0:L.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((L,z)=>{this.completeCallback=L,this.errorCallback=z})}complete(L){return new Promise(z=>{this.completeCallback(L),this.outcome={outcome:0,value:L},z()})}error(L){return new Promise(z=>{this.errorCallback(L),this.outcome={outcome:1,value:L},z()})}cancel(){return this.error(new U.FU)}}var B;(function(R){function L(O){return tn(this,null,function*(){let P;const H=yield Promise.all(O.map(V=>V.then(G=>G,G=>{P||(P=G)})));if(typeof P!="undefined")throw P;return H})}R.settled=L;function z(O){return new Promise((P,H)=>tn(this,null,function*(){try{yield O(P,H)}catch(V){H(V)}}))}R.withAsyncBody=z})(B||(B={}));class W{static fromArray(L){return new W(z=>{z.emitMany(L)})}static fromPromise(L){return new W(z=>tn(this,null,function*(){z.emitMany(yield L)}))}static fromPromises(L){return new W(z=>tn(this,null,function*(){yield Promise.all(L.map(O=>tn(this,null,function*(){return z.emitOne(yield O)})))}))}static merge(L){return new W(z=>tn(this,null,function*(){yield Promise.all(L.map(O=>tn(this,null,function*(){try{for(var P=la(O),H,V,G;H=!(V=yield P.next()).done;H=!1){const j=V.value;z.emitOne(j)}}catch(V){G=[V]}finally{try{H&&(V=P.return)&&(yield V.call(P))}finally{if(G)throw G[0]}}})))}))}constructor(L){this._state=0,this._results=[],this._error=null,this._onStateChanged=new r.Q5,queueMicrotask(()=>tn(this,null,function*(){const z={emitOne:O=>this.emitOne(O),emitMany:O=>this.emitMany(O),reject:O=>this.reject(O)};try{yield Promise.resolve(L(z)),this.resolve()}catch(O){this.reject(O)}finally{z.emitOne=void 0,z.emitMany=void 0,z.reject=void 0}}))}[Symbol.asyncIterator](){let L=0;return{next:()=>tn(this,null,function*(){do{if(this._state===2)throw this._error;if(L<this._results.length)return{done:!1,value:this._results[L++]};if(this._state===1)return{done:!0,value:void 0};yield r.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(L,z){return new W(O=>tn(this,null,function*(){try{for(var P=la(L),H,V,G;H=!(V=yield P.next()).done;H=!1){const j=V.value;O.emitOne(z(j))}}catch(V){G=[V]}finally{try{H&&(V=P.return)&&(yield V.call(P))}finally{if(G)throw G[0]}}}))}map(L){return W.map(this,L)}static filter(L,z){return new W(O=>tn(this,null,function*(){try{for(var P=la(L),H,V,G;H=!(V=yield P.next()).done;H=!1){const j=V.value;z(j)&&O.emitOne(j)}}catch(V){G=[V]}finally{try{H&&(V=P.return)&&(yield V.call(P))}finally{if(G)throw G[0]}}}))}filter(L){return W.filter(this,L)}static coalesce(L){return W.filter(L,z=>!!z)}coalesce(){return W.coalesce(this)}static toPromise(L){return tn(this,null,function*(){const z=[];try{for(var O=la(L),P,H,V;P=!(H=yield O.next()).done;P=!1){const G=H.value;z.push(G)}}catch(H){V=[H]}finally{try{P&&(H=O.return)&&(yield H.call(O))}finally{if(V)throw V[0]}}return z})}toPromise(){return W.toPromise(this)}emitOne(L){this._state===0&&(this._results.push(L),this._onStateChanged.fire())}emitMany(L){this._state===0&&(this._results=this._results.concat(L),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(L){this._state===0&&(this._state=2,this._error=L,this._onStateChanged.fire())}}W.EMPTY=W.fromArray([]);class $ extends W{constructor(L,z){super(z),this._source=L}cancel(){this._source.cancel()}}function Y(R){const L=new b.A,z=R(L.token);return new $(L,O=>tn(this,null,function*(){const P=L.token.onCancellationRequested(()=>{P.dispose(),L.dispose(),O.reject(new U.FU)});try{try{for(var H=la(z),V,G,j;V=!(G=yield H.next()).done;V=!1){const F=G.value;if(L.token.isCancellationRequested)return;O.emitOne(F)}}catch(G){j=[G]}finally{try{V&&(G=H.return)&&(yield G.call(H))}finally{if(j)throw j[0]}}P.dispose(),L.dispose()}catch(F){P.dispose(),L.dispose(),O.reject(F)}}))}},53060:function(Ot,Ke,e){"use strict";e.d(Ke,{Ag:function(){return D},Cg:function(){return u},KN:function(){return _},Q$:function(){return o},T4:function(){return p},mP:function(){return I},oq:function(){return M}});var b=e(79579),U=e(48764).lW;const r=typeof U!="undefined",w=new b.o(()=>new Uint8Array(256));let c;class _{static wrap(n){return r&&!U.isBuffer(n)&&(n=U.from(n.buffer,n.byteOffset,n.byteLength)),new _(n)}constructor(n){this.buffer=n,this.byteLength=this.buffer.byteLength}toString(){return r?this.buffer.toString():(c||(c=new TextDecoder),c.decode(this.buffer))}}function I(d,n){return d[n+0]<<0>>>0|d[n+1]<<8>>>0}function M(d,n,i){d[i+0]=n&255,n=n>>>8,d[i+1]=n&255}function D(d,n){return d[n]*aa(2,24)+d[n+1]*aa(2,16)+d[n+2]*aa(2,8)+d[n+3]}function p(d,n,i){d[i+3]=n,n=n>>>8,d[i+2]=n,n=n>>>8,d[i+1]=n,n=n>>>8,d[i]=n}function o(d,n){return d[n]}function u(d,n,i){d[i]=n}},701:function(Ot,Ke,e){"use strict";e.d(Ke,{b:function(){return U},t:function(){return b}});class b{constructor(w){this.fn=w,this.lastCache=void 0,this.lastArgKey=void 0}get(w){const c=JSON.stringify(w);return this.lastArgKey!==c&&(this.lastArgKey=c,this.lastCache=this.fn(w)),this.lastCache}}class U{get cachedValues(){return this._map}constructor(w){this.fn=w,this._map=new Map}get(w){if(this._map.has(w))return this._map.get(w);const c=this.fn(w);return this._map.set(w,c),c}}},71050:function(Ot,Ke,e){"use strict";e.d(Ke,{A:function(){return c},T:function(){return r}});var b=e(4669);const U=Object.freeze(function(_,I){const M=setTimeout(_.bind(I),0);return{dispose(){clearTimeout(M)}}});var r;(function(_){function I(M){return M===_.None||M===_.Cancelled||M instanceof w?!0:!M||typeof M!="object"?!1:typeof M.isCancellationRequested=="boolean"&&typeof M.onCancellationRequested=="function"}_.isCancellationToken=I,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:b.ju.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:U})})(r||(r={}));class w{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?U:(this._emitter||(this._emitter=new b.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class c{constructor(I){this._token=void 0,this._parentListener=void 0,this._parentListener=I&&I.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new w),this._token}cancel(){this._token?this._token instanceof w&&this._token.cancel():this._token=r.Cancelled}dispose(I=!1){var M;I&&this.cancel(),(M=this._parentListener)===null||M===void 0||M.dispose(),this._token?this._token instanceof w&&this._token.dispose():this._token=r.None}}},73046:function(Ot,Ke,e){"use strict";e.d(Ke,{l:function(){return c},u:function(){return w}});var b=e(98401);const U=Object.create(null);function r(_,I){if((0,b.HD)(I)){const M=U[I];if(M===void 0)throw new Error(`${_} references an unknown codicon: ${I}`);I=M}return U[_]=I,{id:_}}function w(){return U}const c={add:r("add",6e4),plus:r("plus",6e4),gistNew:r("gist-new",6e4),repoCreate:r("repo-create",6e4),lightbulb:r("lightbulb",60001),lightBulb:r("light-bulb",60001),repo:r("repo",60002),repoDelete:r("repo-delete",60002),gistFork:r("gist-fork",60003),repoForked:r("repo-forked",60003),gitPullRequest:r("git-pull-request",60004),gitPullRequestAbandoned:r("git-pull-request-abandoned",60004),recordKeys:r("record-keys",60005),keyboard:r("keyboard",60005),tag:r("tag",60006),tagAdd:r("tag-add",60006),tagRemove:r("tag-remove",60006),gitPullRequestLabel:r("git-pull-request-label",60006),person:r("person",60007),personFollow:r("person-follow",60007),personOutline:r("person-outline",60007),personFilled:r("person-filled",60007),gitBranch:r("git-branch",60008),gitBranchCreate:r("git-branch-create",60008),gitBranchDelete:r("git-branch-delete",60008),sourceControl:r("source-control",60008),mirror:r("mirror",60009),mirrorPublic:r("mirror-public",60009),star:r("star",60010),starAdd:r("star-add",60010),starDelete:r("star-delete",60010),starEmpty:r("star-empty",60010),comment:r("comment",60011),commentAdd:r("comment-add",60011),alert:r("alert",60012),warning:r("warning",60012),search:r("search",60013),searchSave:r("search-save",60013),logOut:r("log-out",60014),signOut:r("sign-out",60014),logIn:r("log-in",60015),signIn:r("sign-in",60015),eye:r("eye",60016),eyeUnwatch:r("eye-unwatch",60016),eyeWatch:r("eye-watch",60016),circleFilled:r("circle-filled",60017),primitiveDot:r("primitive-dot",60017),closeDirty:r("close-dirty",60017),debugBreakpoint:r("debug-breakpoint",60017),debugBreakpointDisabled:r("debug-breakpoint-disabled",60017),debugHint:r("debug-hint",60017),primitiveSquare:r("primitive-square",60018),edit:r("edit",60019),pencil:r("pencil",60019),info:r("info",60020),issueOpened:r("issue-opened",60020),gistPrivate:r("gist-private",60021),gitForkPrivate:r("git-fork-private",60021),lock:r("lock",60021),mirrorPrivate:r("mirror-private",60021),close:r("close",60022),removeClose:r("remove-close",60022),x:r("x",60022),repoSync:r("repo-sync",60023),sync:r("sync",60023),clone:r("clone",60024),desktopDownload:r("desktop-download",60024),beaker:r("beaker",60025),microscope:r("microscope",60025),vm:r("vm",60026),deviceDesktop:r("device-desktop",60026),file:r("file",60027),fileText:r("file-text",60027),more:r("more",60028),ellipsis:r("ellipsis",60028),kebabHorizontal:r("kebab-horizontal",60028),mailReply:r("mail-reply",60029),reply:r("reply",60029),organization:r("organization",60030),organizationFilled:r("organization-filled",60030),organizationOutline:r("organization-outline",60030),newFile:r("new-file",60031),fileAdd:r("file-add",60031),newFolder:r("new-folder",60032),fileDirectoryCreate:r("file-directory-create",60032),trash:r("trash",60033),trashcan:r("trashcan",60033),history:r("history",60034),clock:r("clock",60034),folder:r("folder",60035),fileDirectory:r("file-directory",60035),symbolFolder:r("symbol-folder",60035),logoGithub:r("logo-github",60036),markGithub:r("mark-github",60036),github:r("github",60036),terminal:r("terminal",60037),console:r("console",60037),repl:r("repl",60037),zap:r("zap",60038),symbolEvent:r("symbol-event",60038),error:r("error",60039),stop:r("stop",60039),variable:r("variable",60040),symbolVariable:r("symbol-variable",60040),array:r("array",60042),symbolArray:r("symbol-array",60042),symbolModule:r("symbol-module",60043),symbolPackage:r("symbol-package",60043),symbolNamespace:r("symbol-namespace",60043),symbolObject:r("symbol-object",60043),symbolMethod:r("symbol-method",60044),symbolFunction:r("symbol-function",60044),symbolConstructor:r("symbol-constructor",60044),symbolBoolean:r("symbol-boolean",60047),symbolNull:r("symbol-null",60047),symbolNumeric:r("symbol-numeric",60048),symbolNumber:r("symbol-number",60048),symbolStructure:r("symbol-structure",60049),symbolStruct:r("symbol-struct",60049),symbolParameter:r("symbol-parameter",60050),symbolTypeParameter:r("symbol-type-parameter",60050),symbolKey:r("symbol-key",60051),symbolText:r("symbol-text",60051),symbolReference:r("symbol-reference",60052),goToFile:r("go-to-file",60052),symbolEnum:r("symbol-enum",60053),symbolValue:r("symbol-value",60053),symbolRuler:r("symbol-ruler",60054),symbolUnit:r("symbol-unit",60054),activateBreakpoints:r("activate-breakpoints",60055),archive:r("archive",60056),arrowBoth:r("arrow-both",60057),arrowDown:r("arrow-down",60058),arrowLeft:r("arrow-left",60059),arrowRight:r("arrow-right",60060),arrowSmallDown:r("arrow-small-down",60061),arrowSmallLeft:r("arrow-small-left",60062),arrowSmallRight:r("arrow-small-right",60063),arrowSmallUp:r("arrow-small-up",60064),arrowUp:r("arrow-up",60065),bell:r("bell",60066),bold:r("bold",60067),book:r("book",60068),bookmark:r("bookmark",60069),debugBreakpointConditionalUnverified:r("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:r("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:r("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:r("debug-breakpoint-data-unverified",60072),debugBreakpointData:r("debug-breakpoint-data",60073),debugBreakpointDataDisabled:r("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:r("debug-breakpoint-log-unverified",60074),debugBreakpointLog:r("debug-breakpoint-log",60075),debugBreakpointLogDisabled:r("debug-breakpoint-log-disabled",60075),briefcase:r("briefcase",60076),broadcast:r("broadcast",60077),browser:r("browser",60078),bug:r("bug",60079),calendar:r("calendar",60080),caseSensitive:r("case-sensitive",60081),check:r("check",60082),checklist:r("checklist",60083),chevronDown:r("chevron-down",60084),dropDownButton:r("drop-down-button",60084),chevronLeft:r("chevron-left",60085),chevronRight:r("chevron-right",60086),chevronUp:r("chevron-up",60087),chromeClose:r("chrome-close",60088),chromeMaximize:r("chrome-maximize",60089),chromeMinimize:r("chrome-minimize",60090),chromeRestore:r("chrome-restore",60091),circle:r("circle",60092),circleOutline:r("circle-outline",60092),debugBreakpointUnverified:r("debug-breakpoint-unverified",60092),circleSlash:r("circle-slash",60093),circuitBoard:r("circuit-board",60094),clearAll:r("clear-all",60095),clippy:r("clippy",60096),closeAll:r("close-all",60097),cloudDownload:r("cloud-download",60098),cloudUpload:r("cloud-upload",60099),code:r("code",60100),collapseAll:r("collapse-all",60101),colorMode:r("color-mode",60102),commentDiscussion:r("comment-discussion",60103),compareChanges:r("compare-changes",60157),creditCard:r("credit-card",60105),dash:r("dash",60108),dashboard:r("dashboard",60109),database:r("database",60110),debugContinue:r("debug-continue",60111),debugDisconnect:r("debug-disconnect",60112),debugPause:r("debug-pause",60113),debugRestart:r("debug-restart",60114),debugStart:r("debug-start",60115),debugStepInto:r("debug-step-into",60116),debugStepOut:r("debug-step-out",60117),debugStepOver:r("debug-step-over",60118),debugStop:r("debug-stop",60119),debug:r("debug",60120),deviceCameraVideo:r("device-camera-video",60121),deviceCamera:r("device-camera",60122),deviceMobile:r("device-mobile",60123),diffAdded:r("diff-added",60124),diffIgnored:r("diff-ignored",60125),diffModified:r("diff-modified",60126),diffRemoved:r("diff-removed",60127),diffRenamed:r("diff-renamed",60128),diff:r("diff",60129),discard:r("discard",60130),editorLayout:r("editor-layout",60131),emptyWindow:r("empty-window",60132),exclude:r("exclude",60133),extensions:r("extensions",60134),eyeClosed:r("eye-closed",60135),fileBinary:r("file-binary",60136),fileCode:r("file-code",60137),fileMedia:r("file-media",60138),filePdf:r("file-pdf",60139),fileSubmodule:r("file-submodule",60140),fileSymlinkDirectory:r("file-symlink-directory",60141),fileSymlinkFile:r("file-symlink-file",60142),fileZip:r("file-zip",60143),files:r("files",60144),filter:r("filter",60145),flame:r("flame",60146),foldDown:r("fold-down",60147),foldUp:r("fold-up",60148),fold:r("fold",60149),folderActive:r("folder-active",60150),folderOpened:r("folder-opened",60151),gear:r("gear",60152),gift:r("gift",60153),gistSecret:r("gist-secret",60154),gist:r("gist",60155),gitCommit:r("git-commit",60156),gitCompare:r("git-compare",60157),gitMerge:r("git-merge",60158),githubAction:r("github-action",60159),githubAlt:r("github-alt",60160),globe:r("globe",60161),grabber:r("grabber",60162),graph:r("graph",60163),gripper:r("gripper",60164),heart:r("heart",60165),home:r("home",60166),horizontalRule:r("horizontal-rule",60167),hubot:r("hubot",60168),inbox:r("inbox",60169),issueClosed:r("issue-closed",60324),issueReopened:r("issue-reopened",60171),issues:r("issues",60172),italic:r("italic",60173),jersey:r("jersey",60174),json:r("json",60175),bracket:r("bracket",60175),kebabVertical:r("kebab-vertical",60176),key:r("key",60177),law:r("law",60178),lightbulbAutofix:r("lightbulb-autofix",60179),linkExternal:r("link-external",60180),link:r("link",60181),listOrdered:r("list-ordered",60182),listUnordered:r("list-unordered",60183),liveShare:r("live-share",60184),loading:r("loading",60185),location:r("location",60186),mailRead:r("mail-read",60187),mail:r("mail",60188),markdown:r("markdown",60189),megaphone:r("megaphone",60190),mention:r("mention",60191),milestone:r("milestone",60192),gitPullRequestMilestone:r("git-pull-request-milestone",60192),mortarBoard:r("mortar-board",60193),move:r("move",60194),multipleWindows:r("multiple-windows",60195),mute:r("mute",60196),noNewline:r("no-newline",60197),note:r("note",60198),octoface:r("octoface",60199),openPreview:r("open-preview",60200),package:r("package",60201),paintcan:r("paintcan",60202),pin:r("pin",60203),play:r("play",60204),run:r("run",60204),plug:r("plug",60205),preserveCase:r("preserve-case",60206),preview:r("preview",60207),project:r("project",60208),pulse:r("pulse",60209),question:r("question",60210),quote:r("quote",60211),radioTower:r("radio-tower",60212),reactions:r("reactions",60213),references:r("references",60214),refresh:r("refresh",60215),regex:r("regex",60216),remoteExplorer:r("remote-explorer",60217),remote:r("remote",60218),remove:r("remove",60219),replaceAll:r("replace-all",60220),replace:r("replace",60221),repoClone:r("repo-clone",60222),repoForcePush:r("repo-force-push",60223),repoPull:r("repo-pull",60224),repoPush:r("repo-push",60225),report:r("report",60226),requestChanges:r("request-changes",60227),rocket:r("rocket",60228),rootFolderOpened:r("root-folder-opened",60229),rootFolder:r("root-folder",60230),rss:r("rss",60231),ruby:r("ruby",60232),saveAll:r("save-all",60233),saveAs:r("save-as",60234),save:r("save",60235),screenFull:r("screen-full",60236),screenNormal:r("screen-normal",60237),searchStop:r("search-stop",60238),server:r("server",60240),settingsGear:r("settings-gear",60241),settings:r("settings",60242),shield:r("shield",60243),smiley:r("smiley",60244),sortPrecedence:r("sort-precedence",60245),splitHorizontal:r("split-horizontal",60246),splitVertical:r("split-vertical",60247),squirrel:r("squirrel",60248),starFull:r("star-full",60249),starHalf:r("star-half",60250),symbolClass:r("symbol-class",60251),symbolColor:r("symbol-color",60252),symbolCustomColor:r("symbol-customcolor",60252),symbolConstant:r("symbol-constant",60253),symbolEnumMember:r("symbol-enum-member",60254),symbolField:r("symbol-field",60255),symbolFile:r("symbol-file",60256),symbolInterface:r("symbol-interface",60257),symbolKeyword:r("symbol-keyword",60258),symbolMisc:r("symbol-misc",60259),symbolOperator:r("symbol-operator",60260),symbolProperty:r("symbol-property",60261),wrench:r("wrench",60261),wrenchSubaction:r("wrench-subaction",60261),symbolSnippet:r("symbol-snippet",60262),tasklist:r("tasklist",60263),telescope:r("telescope",60264),textSize:r("text-size",60265),threeBars:r("three-bars",60266),thumbsdown:r("thumbsdown",60267),thumbsup:r("thumbsup",60268),tools:r("tools",60269),triangleDown:r("triangle-down",60270),triangleLeft:r("triangle-left",60271),triangleRight:r("triangle-right",60272),triangleUp:r("triangle-up",60273),twitter:r("twitter",60274),unfold:r("unfold",60275),unlock:r("unlock",60276),unmute:r("unmute",60277),unverified:r("unverified",60278),verified:r("verified",60279),versions:r("versions",60280),vmActive:r("vm-active",60281),vmOutline:r("vm-outline",60282),vmRunning:r("vm-running",60283),watch:r("watch",60284),whitespace:r("whitespace",60285),wholeWord:r("whole-word",60286),window:r("window",60287),wordWrap:r("word-wrap",60288),zoomIn:r("zoom-in",60289),zoomOut:r("zoom-out",60290),listFilter:r("list-filter",60291),listFlat:r("list-flat",60292),listSelection:r("list-selection",60293),selection:r("selection",60293),listTree:r("list-tree",60294),debugBreakpointFunctionUnverified:r("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:r("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:r("debug-breakpoint-function-disabled",60296),debugStackframeActive:r("debug-stackframe-active",60297),circleSmallFilled:r("circle-small-filled",60298),debugStackframeDot:r("debug-stackframe-dot",60298),debugStackframe:r("debug-stackframe",60299),debugStackframeFocused:r("debug-stackframe-focused",60299),debugBreakpointUnsupported:r("debug-breakpoint-unsupported",60300),symbolString:r("symbol-string",60301),debugReverseContinue:r("debug-reverse-continue",60302),debugStepBack:r("debug-step-back",60303),debugRestartFrame:r("debug-restart-frame",60304),callIncoming:r("call-incoming",60306),callOutgoing:r("call-outgoing",60307),menu:r("menu",60308),expandAll:r("expand-all",60309),feedback:r("feedback",60310),gitPullRequestReviewer:r("git-pull-request-reviewer",60310),groupByRefType:r("group-by-ref-type",60311),ungroupByRefType:r("ungroup-by-ref-type",60312),account:r("account",60313),gitPullRequestAssignee:r("git-pull-request-assignee",60313),bellDot:r("bell-dot",60314),debugConsole:r("debug-console",60315),library:r("library",60316),output:r("output",60317),runAll:r("run-all",60318),syncIgnored:r("sync-ignored",60319),pinned:r("pinned",60320),githubInverted:r("github-inverted",60321),debugAlt:r("debug-alt",60305),serverProcess:r("server-process",60322),serverEnvironment:r("server-environment",60323),pass:r("pass",60324),stopCircle:r("stop-circle",60325),playCircle:r("play-circle",60326),record:r("record",60327),debugAltSmall:r("debug-alt-small",60328),vmConnect:r("vm-connect",60329),cloud:r("cloud",60330),merge:r("merge",60331),exportIcon:r("export",60332),graphLeft:r("graph-left",60333),magnet:r("magnet",60334),notebook:r("notebook",60335),redo:r("redo",60336),checkAll:r("check-all",60337),pinnedDirty:r("pinned-dirty",60338),passFilled:r("pass-filled",60339),circleLargeFilled:r("circle-large-filled",60340),circleLarge:r("circle-large",60341),circleLargeOutline:r("circle-large-outline",60341),combine:r("combine",60342),gather:r("gather",60342),table:r("table",60343),variableGroup:r("variable-group",60344),typeHierarchy:r("type-hierarchy",60345),typeHierarchySub:r("type-hierarchy-sub",60346),typeHierarchySuper:r("type-hierarchy-super",60347),gitPullRequestCreate:r("git-pull-request-create",60348),runAbove:r("run-above",60349),runBelow:r("run-below",60350),notebookTemplate:r("notebook-template",60351),debugRerun:r("debug-rerun",60352),workspaceTrusted:r("workspace-trusted",60353),workspaceUntrusted:r("workspace-untrusted",60354),workspaceUnspecified:r("workspace-unspecified",60355),terminalCmd:r("terminal-cmd",60356),terminalDebian:r("terminal-debian",60357),terminalLinux:r("terminal-linux",60358),terminalPowershell:r("terminal-powershell",60359),terminalTmux:r("terminal-tmux",60360),terminalUbuntu:r("terminal-ubuntu",60361),terminalBash:r("terminal-bash",60362),arrowSwap:r("arrow-swap",60363),copy:r("copy",60364),personAdd:r("person-add",60365),filterFilled:r("filter-filled",60366),wand:r("wand",60367),debugLineByLine:r("debug-line-by-line",60368),inspect:r("inspect",60369),layers:r("layers",60370),layersDot:r("layers-dot",60371),layersActive:r("layers-active",60372),compass:r("compass",60373),compassDot:r("compass-dot",60374),compassActive:r("compass-active",60375),azure:r("azure",60376),issueDraft:r("issue-draft",60377),gitPullRequestClosed:r("git-pull-request-closed",60378),gitPullRequestDraft:r("git-pull-request-draft",60379),debugAll:r("debug-all",60380),debugCoverage:r("debug-coverage",60381),runErrors:r("run-errors",60382),folderLibrary:r("folder-library",60383),debugContinueSmall:r("debug-continue-small",60384),beakerStop:r("beaker-stop",60385),graphLine:r("graph-line",60386),graphScatter:r("graph-scatter",60387),pieChart:r("pie-chart",60388),bracketDot:r("bracket-dot",60389),bracketError:r("bracket-error",60390),lockSmall:r("lock-small",60391),azureDevops:r("azure-devops",60392),verifiedFilled:r("verified-filled",60393),newLine:r("newline",60394),layout:r("layout",60395),layoutActivitybarLeft:r("layout-activitybar-left",60396),layoutActivitybarRight:r("layout-activitybar-right",60397),layoutPanelLeft:r("layout-panel-left",60398),layoutPanelCenter:r("layout-panel-center",60399),layoutPanelJustify:r("layout-panel-justify",60400),layoutPanelRight:r("layout-panel-right",60401),layoutPanel:r("layout-panel",60402),layoutSidebarLeft:r("layout-sidebar-left",60403),layoutSidebarRight:r("layout-sidebar-right",60404),layoutStatusbar:r("layout-statusbar",60405),layoutMenubar:r("layout-menubar",60406),layoutCentered:r("layout-centered",60407),layoutSidebarRightOff:r("layout-sidebar-right-off",60416),layoutPanelOff:r("layout-panel-off",60417),layoutSidebarLeftOff:r("layout-sidebar-left-off",60418),target:r("target",60408),indent:r("indent",60409),recordSmall:r("record-small",60410),errorSmall:r("error-small",60411),arrowCircleDown:r("arrow-circle-down",60412),arrowCircleLeft:r("arrow-circle-left",60413),arrowCircleRight:r("arrow-circle-right",60414),arrowCircleUp:r("arrow-circle-up",60415),heartFilled:r("heart-filled",60420),map:r("map",60421),mapFilled:r("map-filled",60422),circleSmall:r("circle-small",60423),bellSlash:r("bell-slash",60424),bellSlashDot:r("bell-slash-dot",60425),commentUnresolved:r("comment-unresolved",60426),gitPullRequestGoToChanges:r("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:r("git-pull-request-new-changes",60428),searchFuzzy:r("search-fuzzy",60429),commentDraft:r("comment-draft",60430),send:r("send",60431),sparkle:r("sparkle",60432),insert:r("insert",60433),mic:r("mic",60434),thumbsDownFilled:r("thumbsdown-filled",60435),thumbsUpFilled:r("thumbsup-filled",60436),coffee:r("coffee",60437),snake:r("snake",60438),game:r("game",60439),vr:r("vr",60440),chip:r("chip",60441),piano:r("piano",60442),music:r("music",60443),micFilled:r("mic-filled",60444),gitFetch:r("git-fetch",60445),copilot:r("copilot",60446),lightbulbSparkle:r("lightbulb-sparkle",60447),lightbulbSparkleAutofix:r("lightbulb-sparkle-autofix",60447),robot:r("robot",60448),sparkleFilled:r("sparkle-filled",60449),diffSingle:r("diff-single",60450),diffMultiple:r("diff-multiple",60451),dialogError:r("dialog-error","error"),dialogWarning:r("dialog-warning","warning"),dialogInfo:r("dialog-info","info"),dialogClose:r("dialog-close","close"),treeItemExpanded:r("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:r("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:r("tree-filter-on-type-off","list-selection"),treeFilterClear:r("tree-filter-clear","close"),treeItemLoading:r("tree-item-loading","loading"),menuSelection:r("menu-selection","check"),menuSubmenu:r("menu-submenu","chevron-right"),menuBarMore:r("menubar-more","more"),scrollbarButtonLeft:r("scrollbar-button-left","triangle-left"),scrollbarButtonRight:r("scrollbar-button-right","triangle-right"),scrollbarButtonUp:r("scrollbar-button-up","triangle-up"),scrollbarButtonDown:r("scrollbar-button-down","triangle-down"),toolBarMore:r("toolbar-more","more"),quickInputBack:r("quick-input-back","arrow-left")}},6626:function(Ot,Ke,e){"use strict";e.d(Ke,{j:function(){return U},q:function(){return b}});function b(r,w){const c=[],_=[];for(const I of r)w.has(I)||c.push(I);for(const I of w)r.has(I)||_.push(I);return{removed:c,added:_}}function U(r,w){const c=new Set;for(const _ of w)r.has(_)&&c.add(_);return c}},41264:function(Ot,Ke,e){"use strict";e.d(Ke,{Il:function(){return c},Oz:function(){return r},VS:function(){return U},tx:function(){return w}});function b(_,I){const M=Math.pow(10,I);return Math.round(_*M)/M}class U{constructor(I,M,D,p=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,I))|0,this.g=Math.min(255,Math.max(0,M))|0,this.b=Math.min(255,Math.max(0,D))|0,this.a=b(Math.max(Math.min(1,p),0),3)}static equals(I,M){return I.r===M.r&&I.g===M.g&&I.b===M.b&&I.a===M.a}}class r{constructor(I,M,D,p){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,I),0)|0,this.s=b(Math.max(Math.min(1,M),0),3),this.l=b(Math.max(Math.min(1,D),0),3),this.a=b(Math.max(Math.min(1,p),0),3)}static equals(I,M){return I.h===M.h&&I.s===M.s&&I.l===M.l&&I.a===M.a}static fromRGBA(I){const M=I.r/255,D=I.g/255,p=I.b/255,o=I.a,u=Math.max(M,D,p),d=Math.min(M,D,p);let n=0,i=0;const f=(d+u)/2,v=u-d;if(v>0){switch(i=Math.min(f<=.5?v/(2*f):v/(2-2*f),1),u){case M:n=(D-p)/v+(D<p?6:0);break;case D:n=(p-M)/v+2;break;case p:n=(M-D)/v+4;break}n*=60,n=Math.round(n)}return new r(n,i,f,o)}static _hue2rgb(I,M,D){return D<0&&(D+=1),D>1&&(D-=1),D<1/6?I+(M-I)*6*D:D<1/2?M:D<2/3?I+(M-I)*(2/3-D)*6:I}static toRGBA(I){const M=I.h/360,{s:D,l:p,a:o}=I;let u,d,n;if(D===0)u=d=n=p;else{const i=p<.5?p*(1+D):p+D-p*D,f=2*p-i;u=r._hue2rgb(f,i,M+1/3),d=r._hue2rgb(f,i,M),n=r._hue2rgb(f,i,M-1/3)}return new U(Math.round(u*255),Math.round(d*255),Math.round(n*255),o)}}class w{constructor(I,M,D,p){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,I),0)|0,this.s=b(Math.max(Math.min(1,M),0),3),this.v=b(Math.max(Math.min(1,D),0),3),this.a=b(Math.max(Math.min(1,p),0),3)}static equals(I,M){return I.h===M.h&&I.s===M.s&&I.v===M.v&&I.a===M.a}static fromRGBA(I){const M=I.r/255,D=I.g/255,p=I.b/255,o=Math.max(M,D,p),u=Math.min(M,D,p),d=o-u,n=o===0?0:d/o;let i;return d===0?i=0:o===M?i=((D-p)/d%6+6)%6:o===D?i=(p-M)/d+2:i=(M-D)/d+4,new w(Math.round(i*60),n,o,I.a)}static toRGBA(I){const{h:M,s:D,v:p,a:o}=I,u=p*D,d=u*(1-Math.abs(M/60%2-1)),n=p-u;let[i,f,v]=[0,0,0];return M<60?(i=u,f=d):M<120?(i=d,f=u):M<180?(f=u,v=d):M<240?(f=d,v=u):M<300?(i=d,v=u):M<=360&&(i=u,v=d),i=Math.round((i+n)*255),f=Math.round((f+n)*255),v=Math.round((v+n)*255),new U(i,f,v,o)}}class c{static fromHex(I){return c.Format.CSS.parseHex(I)||c.red}static equals(I,M){return!I&&!M?!0:!I||!M?!1:I.equals(M)}get hsla(){return this._hsla?this._hsla:r.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:w.fromRGBA(this.rgba)}constructor(I){if(I)if(I instanceof U)this.rgba=I;else if(I instanceof r)this._hsla=I,this.rgba=r.toRGBA(I);else if(I instanceof w)this._hsva=I,this.rgba=w.toRGBA(I);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(I){return!!I&&U.equals(this.rgba,I.rgba)&&r.equals(this.hsla,I.hsla)&&w.equals(this.hsva,I.hsva)}getRelativeLuminance(){const I=c._relativeLuminanceForComponent(this.rgba.r),M=c._relativeLuminanceForComponent(this.rgba.g),D=c._relativeLuminanceForComponent(this.rgba.b),p=.2126*I+.7152*M+.0722*D;return b(p,4)}static _relativeLuminanceForComponent(I){const M=I/255;return M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(I){const M=this.getRelativeLuminance(),D=I.getRelativeLuminance();return M>D}isDarkerThan(I){const M=this.getRelativeLuminance(),D=I.getRelativeLuminance();return M<D}lighten(I){return new c(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*I,this.hsla.a))}darken(I){return new c(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*I,this.hsla.a))}transparent(I){const{r:M,g:D,b:p,a:o}=this.rgba;return new c(new U(M,D,p,o*I))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new c(new U(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(I){if(this.isOpaque()||I.rgba.a!==1)return this;const{r:M,g:D,b:p,a:o}=this.rgba;return new c(new U(I.rgba.r-o*(I.rgba.r-M),I.rgba.g-o*(I.rgba.g-D),I.rgba.b-o*(I.rgba.b-p),1))}toString(){return this._toString||(this._toString=c.Format.CSS.format(this)),this._toString}static getLighterColor(I,M,D){if(I.isLighterThan(M))return I;D=D||.5;const p=I.getRelativeLuminance(),o=M.getRelativeLuminance();return D=D*(o-p)/o,I.lighten(D)}static getDarkerColor(I,M,D){if(I.isDarkerThan(M))return I;D=D||.5;const p=I.getRelativeLuminance(),o=M.getRelativeLuminance();return D=D*(p-o)/p,I.darken(D)}}c.white=new c(new U(255,255,255,1)),c.black=new c(new U(0,0,0,1)),c.red=new c(new U(255,0,0,1)),c.blue=new c(new U(0,0,255,1)),c.green=new c(new U(0,255,0,1)),c.cyan=new c(new U(0,255,255,1)),c.lightgrey=new c(new U(211,211,211,1)),c.transparent=new c(new U(0,0,0,0)),function(_){let I;(function(M){let D;(function(p){function o(y){return y.rgba.a===1?`rgb(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b})`:_.Format.CSS.formatRGBA(y)}p.formatRGB=o;function u(y){return`rgba(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b}, ${+y.rgba.a.toFixed(2)})`}p.formatRGBA=u;function d(y){return y.hsla.a===1?`hsl(${y.hsla.h}, ${(y.hsla.s*100).toFixed(2)}%, ${(y.hsla.l*100).toFixed(2)}%)`:_.Format.CSS.formatHSLA(y)}p.formatHSL=d;function n(y){return`hsla(${y.hsla.h}, ${(y.hsla.s*100).toFixed(2)}%, ${(y.hsla.l*100).toFixed(2)}%, ${y.hsla.a.toFixed(2)})`}p.formatHSLA=n;function i(y){const C=y.toString(16);return C.length!==2?"0"+C:C}function f(y){return`#${i(y.rgba.r)}${i(y.rgba.g)}${i(y.rgba.b)}`}p.formatHex=f;function v(y,C=!1){return C&&y.rgba.a===1?_.Format.CSS.formatHex(y):`#${i(y.rgba.r)}${i(y.rgba.g)}${i(y.rgba.b)}${i(Math.round(y.rgba.a*255))}`}p.formatHexA=v;function a(y){return y.isOpaque()?_.Format.CSS.formatHex(y):_.Format.CSS.formatRGBA(y)}p.format=a;function S(y){const C=y.length;if(C===0||y.charCodeAt(0)!==35)return null;if(C===7){const E=16*g(y.charCodeAt(1))+g(y.charCodeAt(2)),A=16*g(y.charCodeAt(3))+g(y.charCodeAt(4)),N=16*g(y.charCodeAt(5))+g(y.charCodeAt(6));return new _(new U(E,A,N,1))}if(C===9){const E=16*g(y.charCodeAt(1))+g(y.charCodeAt(2)),A=16*g(y.charCodeAt(3))+g(y.charCodeAt(4)),N=16*g(y.charCodeAt(5))+g(y.charCodeAt(6)),B=16*g(y.charCodeAt(7))+g(y.charCodeAt(8));return new _(new U(E,A,N,B/255))}if(C===4){const E=g(y.charCodeAt(1)),A=g(y.charCodeAt(2)),N=g(y.charCodeAt(3));return new _(new U(16*E+E,16*A+A,16*N+N))}if(C===5){const E=g(y.charCodeAt(1)),A=g(y.charCodeAt(2)),N=g(y.charCodeAt(3)),B=g(y.charCodeAt(4));return new _(new U(16*E+E,16*A+A,16*N+N,(16*B+B)/255))}return null}p.parseHex=S;function g(y){switch(y){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(D=M.CSS||(M.CSS={}))})(I=_.Format||(_.Format={}))}(c||(c={}))},73278:function(Ot,Ke,e){"use strict";e.d(Ke,{Hl:function(){return _},Ix:function(){return c},SN:function(){return M},Z0:function(){return p},ZO:function(){return w}});var b=e(9488),U=e(53725),r=e(98e3);function w(o){return{asString:()=>tn(this,null,function*(){return o}),asFile:()=>{},value:typeof o=="string"?o:void 0}}function c(o,u,d){const n={id:(0,r.R)(),name:o,uri:u,data:d};return{asString:()=>tn(this,null,function*(){return""}),asFile:()=>n,value:void 0}}class _{constructor(){this._entries=new Map}get size(){let u=0;for(const d of this._entries)u++;return u}has(u){return this._entries.has(this.toKey(u))}matches(u){const d=[...this._entries.keys()];return U.$.some(this,([n,i])=>i.asFile())&&d.push("files"),D(I(u),d)}get(u){var d;return(d=this._entries.get(this.toKey(u)))===null||d===void 0?void 0:d[0]}append(u,d){const n=this._entries.get(u);n?n.push(d):this._entries.set(this.toKey(u),[d])}replace(u,d){this._entries.set(this.toKey(u),[d])}delete(u){this._entries.delete(this.toKey(u))}*[Symbol.iterator](){for(const[u,d]of this._entries)for(const n of d)yield[u,n]}toKey(u){return I(u)}}function I(o){return o.toLowerCase()}function M(o,u){return D(I(o),u.map(I))}function D(o,u){if(o==="*/*")return u.length>0;if(u.includes(o))return!0;const d=o.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!d)return!1;const[n,i,f]=d;return f==="*"?u.some(v=>v.startsWith(i+"/")):!1}const p=Object.freeze({create:o=>(0,b.EB)(o.map(u=>u.toString())).join(`\r
`),split:o=>o.split(`\r
`),parse:o=>p.split(o).filter(u=>!u.startsWith("#"))})},49898:function(Ot,Ke,e){"use strict";e.d(Ke,{H:function(){return b}});function b(U,r,w){let c=null,_=null;if(typeof w.value=="function"?(c="value",_=w.value,_.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof w.get=="function"&&(c="get",_=w.get),!_)throw new Error("not supported");const I=`$memoize$${r}`;w[c]=function(...M){return this.hasOwnProperty(I)||Object.defineProperty(this,I,{configurable:!1,enumerable:!1,writable:!1,value:_.apply(this,M)}),this[I]}}},22571:function(Ot,Ke,e){"use strict";e.d(Ke,{Hs:function(){return M},a$:function(){return w}});class b{constructor(p,o,u,d){this.originalStart=p,this.originalLength=o,this.modifiedStart=u,this.modifiedLength=d}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var U=e(89954);class r{constructor(p){this.source=p}getElements(){const p=this.source,o=new Int32Array(p.length);for(let u=0,d=p.length;u<d;u++)o[u]=p.charCodeAt(u);return o}}function w(D,p,o){return new M(new r(D),new r(p)).ComputeDiff(o).changes}class c{static Assert(p,o){if(!p)throw new Error(o)}}class _{static Copy(p,o,u,d,n){for(let i=0;i<n;i++)u[d+i]=p[o+i]}static Copy2(p,o,u,d,n){for(let i=0;i<n;i++)u[d+i]=p[o+i]}}class I{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new b(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(p,o){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_originalCount++}AddModifiedElement(p,o){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class M{constructor(p,o,u=null){this.ContinueProcessingPredicate=u,this._originalSequence=p,this._modifiedSequence=o;const[d,n,i]=M._getElements(p),[f,v,a]=M._getElements(o);this._hasStrings=i&&a,this._originalStringElements=d,this._originalElementsOrHash=n,this._modifiedStringElements=f,this._modifiedElementsOrHash=v,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(p){return p.length>0&&typeof p[0]=="string"}static _getElements(p){const o=p.getElements();if(M._isStringArray(o)){const u=new Int32Array(o.length);for(let d=0,n=o.length;d<n;d++)u[d]=(0,U.Cv)(o[d],0);return[o,u,!0]}return o instanceof Int32Array?[[],o,!1]:[[],new Int32Array(o),!1]}ElementsAreEqual(p,o){return this._originalElementsOrHash[p]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[p]===this._modifiedStringElements[o]:!0}ElementsAreStrictEqual(p,o){if(!this.ElementsAreEqual(p,o))return!1;const u=M._getStrictElement(this._originalSequence,p),d=M._getStrictElement(this._modifiedSequence,o);return u===d}static _getStrictElement(p,o){return typeof p.getStrictElement=="function"?p.getStrictElement(o):null}OriginalElementsAreEqual(p,o){return this._originalElementsOrHash[p]!==this._originalElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[p]===this._originalStringElements[o]:!0}ModifiedElementsAreEqual(p,o){return this._modifiedElementsOrHash[p]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._modifiedStringElements[p]===this._modifiedStringElements[o]:!0}ComputeDiff(p){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,p)}_ComputeDiff(p,o,u,d,n){const i=[!1];let f=this.ComputeDiffRecursive(p,o,u,d,i);return n&&(f=this.PrettifyChanges(f)),{quitEarly:i[0],changes:f}}ComputeDiffRecursive(p,o,u,d,n){for(n[0]=!1;p<=o&&u<=d&&this.ElementsAreEqual(p,u);)p++,u++;for(;o>=p&&d>=u&&this.ElementsAreEqual(o,d);)o--,d--;if(p>o||u>d){let g;return u<=d?(c.Assert(p===o+1,"originalStart should only be one more than originalEnd"),g=[new b(p,0,u,d-u+1)]):p<=o?(c.Assert(u===d+1,"modifiedStart should only be one more than modifiedEnd"),g=[new b(p,o-p+1,u,0)]):(c.Assert(p===o+1,"originalStart should only be one more than originalEnd"),c.Assert(u===d+1,"modifiedStart should only be one more than modifiedEnd"),g=[]),g}const i=[0],f=[0],v=this.ComputeRecursionPoint(p,o,u,d,i,f,n),a=i[0],S=f[0];if(v!==null)return v;if(!n[0]){const g=this.ComputeDiffRecursive(p,a,u,S,n);let y=[];return n[0]?y=[new b(a+1,o-(a+1)+1,S+1,d-(S+1)+1)]:y=this.ComputeDiffRecursive(a+1,o,S+1,d,n),this.ConcatenateChanges(g,y)}return[new b(p,o-p+1,u,d-u+1)]}WALKTRACE(p,o,u,d,n,i,f,v,a,S,g,y,C,E,A,N,B,W){let $=null,Y=null,R=new I,L=o,z=u,O=C[0]-N[0]-d,P=-1073741824,H=this.m_forwardHistory.length-1;do{const V=O+p;V===L||V<z&&a[V-1]<a[V+1]?(g=a[V+1],E=g-O-d,g<P&&R.MarkNextChange(),P=g,R.AddModifiedElement(g+1,E),O=V+1-p):(g=a[V-1]+1,E=g-O-d,g<P&&R.MarkNextChange(),P=g-1,R.AddOriginalElement(g,E+1),O=V-1-p),H>=0&&(a=this.m_forwardHistory[H],p=a[0],L=1,z=a.length-1)}while(--H>=-1);if($=R.getReverseChanges(),W[0]){let V=C[0]+1,G=N[0]+1;if($!==null&&$.length>0){const j=$[$.length-1];V=Math.max(V,j.getOriginalEnd()),G=Math.max(G,j.getModifiedEnd())}Y=[new b(V,y-V+1,G,A-G+1)]}else{R=new I,L=i,z=f,O=C[0]-N[0]-v,P=1073741824,H=B?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const V=O+n;V===L||V<z&&S[V-1]>=S[V+1]?(g=S[V+1]-1,E=g-O-v,g>P&&R.MarkNextChange(),P=g+1,R.AddOriginalElement(g+1,E+1),O=V+1-n):(g=S[V-1],E=g-O-v,g>P&&R.MarkNextChange(),P=g,R.AddModifiedElement(g+1,E+1),O=V-1-n),H>=0&&(S=this.m_reverseHistory[H],n=S[0],L=1,z=S.length-1)}while(--H>=-1);Y=R.getChanges()}return this.ConcatenateChanges($,Y)}ComputeRecursionPoint(p,o,u,d,n,i,f){let v=0,a=0,S=0,g=0,y=0,C=0;p--,u--,n[0]=0,i[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const E=o-p+(d-u),A=E+1,N=new Int32Array(A),B=new Int32Array(A),W=d-u,$=o-p,Y=p-u,R=o-d,z=($-W)%2===0;N[W]=p,B[$]=o,f[0]=!1;for(let O=1;O<=E/2+1;O++){let P=0,H=0;S=this.ClipDiagonalBound(W-O,O,W,A),g=this.ClipDiagonalBound(W+O,O,W,A);for(let G=S;G<=g;G+=2){G===S||G<g&&N[G-1]<N[G+1]?v=N[G+1]:v=N[G-1]+1,a=v-(G-W)-Y;const j=v;for(;v<o&&a<d&&this.ElementsAreEqual(v+1,a+1);)v++,a++;if(N[G]=v,v+a>P+H&&(P=v,H=a),!z&&Math.abs(G-$)<=O-1&&v>=B[G])return n[0]=v,i[0]=a,j<=B[G]&&1447>0&&O<=1447+1?this.WALKTRACE(W,S,g,Y,$,y,C,R,N,B,v,o,n,a,d,i,z,f):null}const V=(P-p+(H-u)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,V))return f[0]=!0,n[0]=P,i[0]=H,V>0&&1447>0&&O<=1447+1?this.WALKTRACE(W,S,g,Y,$,y,C,R,N,B,v,o,n,a,d,i,z,f):(p++,u++,[new b(p,o-p+1,u,d-u+1)]);y=this.ClipDiagonalBound($-O,O,$,A),C=this.ClipDiagonalBound($+O,O,$,A);for(let G=y;G<=C;G+=2){G===y||G<C&&B[G-1]>=B[G+1]?v=B[G+1]-1:v=B[G-1],a=v-(G-$)-R;const j=v;for(;v>p&&a>u&&this.ElementsAreEqual(v,a);)v--,a--;if(B[G]=v,z&&Math.abs(G-W)<=O&&v<=N[G])return n[0]=v,i[0]=a,j>=N[G]&&1447>0&&O<=1447+1?this.WALKTRACE(W,S,g,Y,$,y,C,R,N,B,v,o,n,a,d,i,z,f):null}if(O<=1447){let G=new Int32Array(g-S+2);G[0]=W-S+1,_.Copy2(N,S,G,1,g-S+1),this.m_forwardHistory.push(G),G=new Int32Array(C-y+2),G[0]=$-y+1,_.Copy2(B,y,G,1,C-y+1),this.m_reverseHistory.push(G)}}return this.WALKTRACE(W,S,g,Y,$,y,C,R,N,B,v,o,n,a,d,i,z,f)}PrettifyChanges(p){for(let o=0;o<p.length;o++){const u=p[o],d=o<p.length-1?p[o+1].originalStart:this._originalElementsOrHash.length,n=o<p.length-1?p[o+1].modifiedStart:this._modifiedElementsOrHash.length,i=u.originalLength>0,f=u.modifiedLength>0;for(;u.originalStart+u.originalLength<d&&u.modifiedStart+u.modifiedLength<n&&(!i||this.OriginalElementsAreEqual(u.originalStart,u.originalStart+u.originalLength))&&(!f||this.ModifiedElementsAreEqual(u.modifiedStart,u.modifiedStart+u.modifiedLength));){const a=this.ElementsAreStrictEqual(u.originalStart,u.modifiedStart);if(this.ElementsAreStrictEqual(u.originalStart+u.originalLength,u.modifiedStart+u.modifiedLength)&&!a)break;u.originalStart++,u.modifiedStart++}const v=[null];if(o<p.length-1&&this.ChangesOverlap(p[o],p[o+1],v)){p[o]=v[0],p.splice(o+1,1),o--;continue}}for(let o=p.length-1;o>=0;o--){const u=p[o];let d=0,n=0;if(o>0){const g=p[o-1];d=g.originalStart+g.originalLength,n=g.modifiedStart+g.modifiedLength}const i=u.originalLength>0,f=u.modifiedLength>0;let v=0,a=this._boundaryScore(u.originalStart,u.originalLength,u.modifiedStart,u.modifiedLength);for(let g=1;;g++){const y=u.originalStart-g,C=u.modifiedStart-g;if(y<d||C<n||i&&!this.OriginalElementsAreEqual(y,y+u.originalLength)||f&&!this.ModifiedElementsAreEqual(C,C+u.modifiedLength))break;const A=(y===d&&C===n?5:0)+this._boundaryScore(y,u.originalLength,C,u.modifiedLength);A>a&&(a=A,v=g)}u.originalStart-=v,u.modifiedStart-=v;const S=[null];if(o>0&&this.ChangesOverlap(p[o-1],p[o],S)){p[o-1]=S[0],p.splice(o,1),o++;continue}}if(this._hasStrings)for(let o=1,u=p.length;o<u;o++){const d=p[o-1],n=p[o],i=n.originalStart-d.originalStart-d.originalLength,f=d.originalStart,v=n.originalStart+n.originalLength,a=v-f,S=d.modifiedStart,g=n.modifiedStart+n.modifiedLength,y=g-S;if(i<5&&a<20&&y<20){const C=this._findBetterContiguousSequence(f,a,S,y,i);if(C){const[E,A]=C;(E!==d.originalStart+d.originalLength||A!==d.modifiedStart+d.modifiedLength)&&(d.originalLength=E-d.originalStart,d.modifiedLength=A-d.modifiedStart,n.originalStart=E+i,n.modifiedStart=A+i,n.originalLength=v-n.originalStart,n.modifiedLength=g-n.modifiedStart)}}}return p}_findBetterContiguousSequence(p,o,u,d,n){if(o<n||d<n)return null;const i=p+o-n+1,f=u+d-n+1;let v=0,a=0,S=0;for(let g=p;g<i;g++)for(let y=u;y<f;y++){const C=this._contiguousSequenceScore(g,y,n);C>0&&C>v&&(v=C,a=g,S=y)}return v>0?[a,S]:null}_contiguousSequenceScore(p,o,u){let d=0;for(let n=0;n<u;n++){if(!this.ElementsAreEqual(p+n,o+n))return 0;d+=this._originalStringElements[p+n].length}return d}_OriginalIsBoundary(p){return p<=0||p>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[p])}_OriginalRegionIsBoundary(p,o){if(this._OriginalIsBoundary(p)||this._OriginalIsBoundary(p-1))return!0;if(o>0){const u=p+o;if(this._OriginalIsBoundary(u-1)||this._OriginalIsBoundary(u))return!0}return!1}_ModifiedIsBoundary(p){return p<=0||p>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[p])}_ModifiedRegionIsBoundary(p,o){if(this._ModifiedIsBoundary(p)||this._ModifiedIsBoundary(p-1))return!0;if(o>0){const u=p+o;if(this._ModifiedIsBoundary(u-1)||this._ModifiedIsBoundary(u))return!0}return!1}_boundaryScore(p,o,u,d){const n=this._OriginalRegionIsBoundary(p,o)?1:0,i=this._ModifiedRegionIsBoundary(u,d)?1:0;return n+i}ConcatenateChanges(p,o){const u=[];if(p.length===0||o.length===0)return o.length>0?o:p;if(this.ChangesOverlap(p[p.length-1],o[0],u)){const d=new Array(p.length+o.length-1);return _.Copy(p,0,d,0,p.length-1),d[p.length-1]=u[0],_.Copy(o,1,d,p.length,o.length-1),d}else{const d=new Array(p.length+o.length);return _.Copy(p,0,d,0,p.length),_.Copy(o,0,d,p.length,o.length),d}}ChangesOverlap(p,o,u){if(c.Assert(p.originalStart<=o.originalStart,"Left change is not less than or equal to right change"),c.Assert(p.modifiedStart<=o.modifiedStart,"Left change is not less than or equal to right change"),p.originalStart+p.originalLength>=o.originalStart||p.modifiedStart+p.modifiedLength>=o.modifiedStart){const d=p.originalStart;let n=p.originalLength;const i=p.modifiedStart;let f=p.modifiedLength;return p.originalStart+p.originalLength>=o.originalStart&&(n=o.originalStart+o.originalLength-p.originalStart),p.modifiedStart+p.modifiedLength>=o.modifiedStart&&(f=o.modifiedStart+o.modifiedLength-p.modifiedStart),u[0]=new b(d,n,i,f),!0}else return u[0]=null,!1}ClipDiagonalBound(p,o,u,d){if(p>=0&&p<d)return p;const n=u,i=d-u-1,f=o%2===0;if(p<0){const v=n%2===0;return f===v?0:1}else{const v=i%2===0;return f===v?d-1:d-2}}}},17301:function(Ot,Ke,e){"use strict";e.d(Ke,{B8:function(){return u},Cp:function(){return w},F0:function(){return D},FU:function(){return M},L6:function(){return o},b1:function(){return p},dL:function(){return r},he:function(){return n},n2:function(){return I},ri:function(){return c}});class b{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?d.isErrorNoTelemetry(f)?new d(f.message+`

`+f.stack):new Error(f.message+`

`+f.stack):f},0)}}emit(f){this.listeners.forEach(v=>{v(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}}const U=new b;function r(i){I(i)||U.onUnexpectedError(i)}function w(i){I(i)||U.onUnexpectedExternalError(i)}function c(i){if(i instanceof Error){const{name:f,message:v}=i,a=i.stacktrace||i.stack;return{$isError:!0,name:f,message:v,stack:a,noTelemetry:d.isErrorNoTelemetry(i)}}return i}const _="Canceled";function I(i){return i instanceof M?!0:i instanceof Error&&i.name===_&&i.message===_}class M extends Error{constructor(){super(_),this.name=this.message}}function D(){const i=new Error(_);return i.name=i.message,i}function p(i){return i?new Error(`Illegal argument: ${i}`):new Error("Illegal argument")}function o(i){return i?new Error(`Illegal state: ${i}`):new Error("Illegal state")}class u extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}class d extends Error{constructor(f){super(f),this.name="CodeExpectedError"}static fromError(f){if(f instanceof d)return f;const v=new d;return v.message=f.message,v.stack=f.stack,v}static isErrorNoTelemetry(f){return f.name==="CodeExpectedError"}}class n extends Error{constructor(f){super(f||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}}},4669:function(Ot,Ke,e){"use strict";e.d(Ke,{D0:function(){return g},E7:function(){return E},K3:function(){return S},Q5:function(){return f},SZ:function(){return y},Sp:function(){return v},ZD:function(){return A},ju:function(){return M},z5:function(){return C}});var b=e(17301),U=e(88289),r=e(5976),w=e(91741),c=e(84013);const _=!1,I=!1;var M;(function(N){N.None=()=>r.JT.None;function B(Ue){if(I){const{onDidAddListener:Le}=Ue,ie=u.create();let ce=0;Ue.onDidAddListener=()=>{++ce===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ie.print()),Le==null||Le()}}}function W(Ue,Le){return G(Ue,()=>{},0,void 0,!0,void 0,Le)}N.defer=W;function $(Ue){return(Le,ie=null,ce)=>{let Re=!1,ye;return ye=Ue(Se=>{if(!Re)return ye?ye.dispose():Re=!0,Le.call(ie,Se)},null,ce),Re&&ye.dispose(),ye}}N.once=$;function Y(Ue,Le,ie){return H((ce,Re=null,ye)=>Ue(Se=>ce.call(Re,Le(Se)),null,ye),ie)}N.map=Y;function R(Ue,Le,ie){return H((ce,Re=null,ye)=>Ue(Se=>{Le(Se),ce.call(Re,Se)},null,ye),ie)}N.forEach=R;function L(Ue,Le,ie){return H((ce,Re=null,ye)=>Ue(Se=>Le(Se)&&ce.call(Re,Se),null,ye),ie)}N.filter=L;function z(Ue){return Ue}N.signal=z;function O(...Ue){return(Le,ie=null,ce)=>{const Re=(0,r.F8)(...Ue.map(ye=>ye(Se=>Le.call(ie,Se))));return V(Re,ce)}}N.any=O;function P(Ue,Le,ie,ce){let Re=ie;return Y(Ue,ye=>(Re=Le(Re,ye),Re),ce)}N.reduce=P;function H(Ue,Le){let ie;const ce={onWillAddFirstListener(){ie=Ue(Re.fire,Re)},onDidRemoveLastListener(){ie==null||ie.dispose()}};Le||B(ce);const Re=new f(ce);return Le==null||Le.add(Re),Re.event}function V(Ue,Le){return Le instanceof Array?Le.push(Ue):Le&&Le.add(Ue),Ue}function G(Ue,Le,ie=100,ce=!1,Re=!1,ye,Se){let me,he,se,ve=0,xe;const je={leakWarningThreshold:ye,onWillAddFirstListener(){me=Ue(Ze=>{ve++,he=Le(he,Ze),ce&&!se&&(Oe.fire(he),he=void 0),xe=()=>{const it=he;he=void 0,se=void 0,(!ce||ve>1)&&Oe.fire(it),ve=0},typeof ie=="number"?(clearTimeout(se),se=setTimeout(xe,ie)):se===void 0&&(se=0,queueMicrotask(xe))})},onWillRemoveListener(){Re&&ve>0&&(xe==null||xe())},onDidRemoveLastListener(){xe=void 0,me.dispose()}};Se||B(je);const Oe=new f(je);return Se==null||Se.add(Oe),Oe.event}N.debounce=G;function j(Ue,Le=0,ie){return N.debounce(Ue,(ce,Re)=>ce?(ce.push(Re),ce):[Re],Le,void 0,!0,void 0,ie)}N.accumulate=j;function F(Ue,Le=(ce,Re)=>ce===Re,ie){let ce=!0,Re;return L(Ue,ye=>{const Se=ce||!Le(ye,Re);return ce=!1,Re=ye,Se},ie)}N.latch=F;function K(Ue,Le,ie){return[N.filter(Ue,Le,ie),N.filter(Ue,ce=>!Le(ce),ie)]}N.split=K;function m(Ue,Le=!1,ie=[],ce){let Re=ie.slice(),ye=Ue(he=>{Re?Re.push(he):me.fire(he)});ce&&ce.add(ye);const Se=()=>{Re==null||Re.forEach(he=>me.fire(he)),Re=null},me=new f({onWillAddFirstListener(){ye||(ye=Ue(he=>me.fire(he)),ce&&ce.add(ye))},onDidAddFirstListener(){Re&&(Le?setTimeout(Se):Se())},onDidRemoveLastListener(){ye&&ye.dispose(),ye=null}});return ce&&ce.add(me),me.event}N.buffer=m;function J(Ue,Le){return(ce,Re,ye)=>{const Se=Le(new te);return Ue(function(me){const he=Se.evaluate(me);he!==X&&ce.call(Re,he)},void 0,ye)}}N.chain=J;const X=Symbol("HaltChainable");class te{constructor(){this.steps=[]}map(Le){return this.steps.push(Le),this}forEach(Le){return this.steps.push(ie=>(Le(ie),ie)),this}filter(Le){return this.steps.push(ie=>Le(ie)?ie:X),this}reduce(Le,ie){let ce=ie;return this.steps.push(Re=>(ce=Le(ce,Re),ce)),this}latch(Le=(ie,ce)=>ie===ce){let ie=!0,ce;return this.steps.push(Re=>{const ye=ie||!Le(Re,ce);return ie=!1,ce=Re,ye?Re:X}),this}evaluate(Le){for(const ie of this.steps)if(Le=ie(Le),Le===X)break;return Le}}function le(Ue,Le,ie=ce=>ce){const ce=(...me)=>Se.fire(ie(...me)),Re=()=>Ue.on(Le,ce),ye=()=>Ue.removeListener(Le,ce),Se=new f({onWillAddFirstListener:Re,onDidRemoveLastListener:ye});return Se.event}N.fromNodeEventEmitter=le;function ge(Ue,Le,ie=ce=>ce){const ce=(...me)=>Se.fire(ie(...me)),Re=()=>Ue.addEventListener(Le,ce),ye=()=>Ue.removeEventListener(Le,ce),Se=new f({onWillAddFirstListener:Re,onDidRemoveLastListener:ye});return Se.event}N.fromDOMEventEmitter=ge;function we(Ue){return new Promise(Le=>$(Ue)(Le))}N.toPromise=we;function pe(Ue){const Le=new f;return Ue.then(ie=>{Le.fire(ie)},()=>{Le.fire(void 0)}).finally(()=>{Le.dispose()}),Le.event}N.fromPromise=pe;function Pe(Ue,Le,ie){return Le(ie),Ue(ce=>Le(ce))}N.runAndSubscribe=Pe;function Ne(Ue,Le){let ie=null;function ce(ye){ie==null||ie.dispose(),ie=new r.SL,Le(ye,ie)}ce(void 0);const Re=Ue(ye=>ce(ye));return(0,r.OF)(()=>{Re.dispose(),ie==null||ie.dispose()})}N.runAndSubscribeWithStore=Ne;class ae{constructor(Le,ie){this._observable=Le,this._counter=0,this._hasChanged=!1;const ce={onWillAddFirstListener:()=>{Le.addObserver(this)},onDidRemoveLastListener:()=>{Le.removeObserver(this)}};ie||B(ce),this.emitter=new f(ce),ie&&ie.add(this.emitter)}beginUpdate(Le){this._counter++}handlePossibleChange(Le){}handleChange(Le,ie){this._hasChanged=!0}endUpdate(Le){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Me(Ue,Le){return new ae(Ue,Le).emitter.event}N.fromObservable=Me;function ke(Ue){return(Le,ie,ce)=>{let Re=0,ye=!1;const Se={beginUpdate(){Re++},endUpdate(){Re--,Re===0&&(Ue.reportChanges(),ye&&(ye=!1,Le.call(ie)))},handlePossibleChange(){},handleChange(){ye=!0}};Ue.addObserver(Se),Ue.reportChanges();const me={dispose(){Ue.removeObserver(Se)}};return ce instanceof r.SL?ce.add(me):Array.isArray(ce)&&ce.push(me),me}}N.fromObservableLight=ke})(M||(M={}));class D{constructor(B){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${B}_${D._idPool++}`,D.all.add(this)}start(B){this._stopWatch=new c.G,this.listenerCount=B}stop(){if(this._stopWatch){const B=this._stopWatch.elapsed();this.durations.push(B),this.elapsedOverall+=B,this.invocationCount+=1,this._stopWatch=void 0}}}D.all=new Set,D._idPool=0;let p=-1;class o{constructor(B,W=Math.random().toString(18).slice(2,5)){this.threshold=B,this.name=W,this._warnCountdown=0}dispose(){var B;(B=this._stacks)===null||B===void 0||B.clear()}check(B,W){const $=this.threshold;if($<=0||W<$)return;this._stacks||(this._stacks=new Map);const Y=this._stacks.get(B.value)||0;if(this._stacks.set(B.value,Y+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=$*.5;let R,L=0;for(const[z,O]of this._stacks)(!R||L<O)&&(R=z,L=O);console.warn(`[${this.name}] potential listener LEAK detected, having ${W} listeners already. MOST frequent listener (${L}):`),console.warn(R)}return()=>{const R=this._stacks.get(B.value)||0;this._stacks.set(B.value,R-1)}}}class u{static create(){var B;return new u((B=new Error().stack)!==null&&B!==void 0?B:"")}constructor(B){this.value=B}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class d{constructor(B){this.value=B}}const n=2,i=(N,B)=>{if(N instanceof d)B(N);else for(let W=0;W<N.length;W++){const $=N[W];$&&B($)}};class f{constructor(B){var W,$,Y,R,L;this._size=0,this._options=B,this._leakageMon=p>0||!((W=this._options)===null||W===void 0)&&W.leakWarningThreshold?new o((Y=($=this._options)===null||$===void 0?void 0:$.leakWarningThreshold)!==null&&Y!==void 0?Y:p):void 0,this._perfMon=!((R=this._options)===null||R===void 0)&&R._profName?new D(this._options._profName):void 0,this._deliveryQueue=(L=this._options)===null||L===void 0?void 0:L.deliveryQueue}dispose(){var B,W,$,Y;if(!this._disposed){if(this._disposed=!0,((B=this._deliveryQueue)===null||B===void 0?void 0:B.current)===this&&this._deliveryQueue.reset(),this._listeners){if(_){const R=this._listeners;queueMicrotask(()=>{i(R,L=>{var z;return(z=L.stack)===null||z===void 0?void 0:z.print()})})}this._listeners=void 0,this._size=0}($=(W=this._options)===null||W===void 0?void 0:W.onDidRemoveLastListener)===null||$===void 0||$.call(W),(Y=this._leakageMon)===null||Y===void 0||Y.dispose()}}get event(){var B;return(B=this._event)!==null&&B!==void 0||(this._event=(W,$,Y)=>{var R,L,z,O,P;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),r.JT.None;if(this._disposed)return r.JT.None;$&&(W=W.bind($));const H=new d(W);let V,G;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(H.stack=u.create(),V=this._leakageMon.check(H.stack,this._size+1)),_&&(H.stack=G!=null?G:u.create()),this._listeners?this._listeners instanceof d?((P=this._deliveryQueue)!==null&&P!==void 0||(this._deliveryQueue=new a),this._listeners=[this._listeners,H]):this._listeners.push(H):((L=(R=this._options)===null||R===void 0?void 0:R.onWillAddFirstListener)===null||L===void 0||L.call(R,this),this._listeners=H,(O=(z=this._options)===null||z===void 0?void 0:z.onDidAddFirstListener)===null||O===void 0||O.call(z,this)),this._size++;const j=(0,r.OF)(()=>{V==null||V(),this._removeListener(H)});return Y instanceof r.SL?Y.add(j):Array.isArray(Y)&&Y.push(j),j}),this._event}_removeListener(B){var W,$,Y,R;if(($=(W=this._options)===null||W===void 0?void 0:W.onWillRemoveListener)===null||$===void 0||$.call(W,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(R=(Y=this._options)===null||Y===void 0?void 0:Y.onDidRemoveLastListener)===null||R===void 0||R.call(Y,this),this._size=0;return}const L=this._listeners,z=L.indexOf(B);if(z===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,L[z]=void 0;const O=this._deliveryQueue.current===this;if(this._size*n<=L.length){let P=0;for(let H=0;H<L.length;H++)L[H]?L[P++]=L[H]:O&&(this._deliveryQueue.end--,P<this._deliveryQueue.i&&this._deliveryQueue.i--);L.length=P}}_deliver(B,W){var $;if(!B)return;const Y=(($=this._options)===null||$===void 0?void 0:$.onListenerError)||b.dL;if(!Y){B.value(W);return}try{B.value(W)}catch(R){Y(R)}}_deliverQueue(B){const W=B.current._listeners;for(;B.i<B.end;)this._deliver(W[B.i++],B.value);B.reset()}fire(B){var W,$,Y,R;if(!((W=this._deliveryQueue)===null||W===void 0)&&W.current&&(this._deliverQueue(this._deliveryQueue),($=this._perfMon)===null||$===void 0||$.stop()),(Y=this._perfMon)===null||Y===void 0||Y.start(this._size),this._listeners)if(this._listeners instanceof d)this._deliver(this._listeners,B);else{const L=this._deliveryQueue;L.enqueue(this,B,this._listeners.length),this._deliverQueue(L)}(R=this._perfMon)===null||R===void 0||R.stop()}hasListeners(){return this._size>0}}const v=()=>new a;class a{constructor(){this.i=-1,this.end=0}enqueue(B,W,$){this.i=0,this.end=$,this.current=B,this.value=W}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class S extends f{constructor(B){super(B),this._isPaused=0,this._eventQueue=new w.S,this._mergeFn=B==null?void 0:B.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const B=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(B))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(B){this._size&&(this._isPaused!==0?this._eventQueue.push(B):super.fire(B))}}class g extends S{constructor(B){var W;super(B),this._delay=(W=B.delay)!==null&&W!==void 0?W:100}fire(B){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(B)}}class y extends f{constructor(B){super(B),this._queuedEvents=[],this._mergeFn=B==null?void 0:B.merge}fire(B){this.hasListeners()&&(this._queuedEvents.push(B),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(W=>super.fire(W)),this._queuedEvents=[]}))}}class C{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new f({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(B){const W={event:B,listener:null};this.events.push(W),this.hasListeners&&this.hook(W);const $=()=>{this.hasListeners&&this.unhook(W);const Y=this.events.indexOf(W);this.events.splice(Y,1)};return(0,r.OF)((0,U.M)($))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(B=>this.hook(B))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(B=>this.unhook(B))}hook(B){B.listener=B.event(W=>this.emitter.fire(W))}unhook(B){B.listener&&B.listener.dispose(),B.listener=null}dispose(){this.emitter.dispose()}}class E{constructor(){this.buffers=[]}wrapEvent(B){return(W,$,Y)=>B(R=>{const L=this.buffers[this.buffers.length-1];L?L.push(()=>W.call($,R)):W.call($,R)},void 0,Y)}bufferEvents(B){const W=[];this.buffers.push(W);const $=B();return this.buffers.pop(),W.forEach(Y=>Y()),$}}class A{constructor(){this.listening=!1,this.inputEvent=M.None,this.inputEventListener=r.JT.None,this.emitter=new f({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(B){this.inputEvent=B,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=B(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Ot,Ke,e){"use strict";e.d(Ke,{KM:function(){return M},ej:function(){return c},fn:function(){return _},oP:function(){return p},yj:function(){return I}});var b=e(82663),U=e(1432),r=e(97295);function w(o){return o===47||o===92}function c(o){return o.replace(/[\\/]/g,b.KR.sep)}function _(o){return o.indexOf("/")===-1&&(o=c(o)),/^[a-zA-Z]:(\/|$)/.test(o)&&(o="/"+o),o}function I(o,u=b.KR.sep){if(!o)return"";const d=o.length,n=o.charCodeAt(0);if(w(n)){if(w(o.charCodeAt(1))&&!w(o.charCodeAt(2))){let f=3;const v=f;for(;f<d&&!w(o.charCodeAt(f));f++);if(v!==f&&!w(o.charCodeAt(f+1))){for(f+=1;f<d;f++)if(w(o.charCodeAt(f)))return o.slice(0,f+1).replace(/[\\/]/g,u)}}return u}else if(D(n)&&o.charCodeAt(1)===58)return w(o.charCodeAt(2))?o.slice(0,2)+u:o.slice(0,2);let i=o.indexOf("://");if(i!==-1){for(i+=3;i<d;i++)if(w(o.charCodeAt(i)))return o.slice(0,i+1)}return""}function M(o,u,d,n=b.ir){if(o===u)return!0;if(!o||!u||u.length>o.length)return!1;if(d){if(!(0,r.ok)(o,u))return!1;if(u.length===o.length)return!0;let f=u.length;return u.charAt(u.length-1)===n&&f--,o.charAt(f)===n}return u.charAt(u.length-1)!==n&&(u+=n),o.indexOf(u)===0}function D(o){return o>=65&&o<=90||o>=97&&o<=122}function p(o,u=U.ED){return u?D(o.charCodeAt(0))&&o.charCodeAt(1)===58:!1}},60075:function(Ot,Ke,e){"use strict";e.d(Ke,{CL:function(){return se},mX:function(){return ve},jB:function(){return ge},mB:function(){return we},EW:function(){return xe},l7:function(){return Ze},ir:function(){return v},Oh:function(){return te},XU:function(){return le},Ji:function(){return i},Sy:function(){return a},KZ:function(){return j},or:function(){return d}});var b=e(43702);function U(st){const pt=c(st);if(pt&&pt.length>0)return new Uint32Array(pt)}let r=0;const w=new Uint32Array(10);function c(st){if(r=0,_(st,M,4352),r>0||(_(st,D,4449),r>0)||(_(st,p,4520),r>0)||(_(st,o,12593),r))return w.subarray(0,r);if(st>=44032&&st<=55203){const pt=st-44032,Mt=pt%588,qt=Math.floor(pt/588),Ft=Math.floor(Mt/28),Xt=Mt%28-1;if(qt<M.length?_(qt,M,0):4352+qt-12593<o.length&&_(4352+qt,o,12593),Ft<D.length?_(Ft,D,0):4449+Ft-12593<o.length&&_(4449+Ft-12593,o,12593),Xt>=0&&(Xt<p.length?_(Xt,p,0):4520+Xt-12593<o.length&&_(4520+Xt-12593,o,12593)),r>0)return w.subarray(0,r)}}function _(st,pt,Mt){st>=Mt&&st<Mt+pt.length&&I(pt[st-Mt])}function I(st){st!==0&&(w[r++]=st&255,st>>8&&(w[r++]=st>>8&255),st>>16&&(w[r++]=st>>16&255))}const M=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),D=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),p=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),o=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var u=e(97295);function d(...st){return function(pt,Mt){for(let qt=0,Ft=st.length;qt<Ft;qt++){const Xt=st[qt](pt,Mt);if(Xt)return Xt}return null}}const n=f.bind(void 0,!1),i=f.bind(void 0,!0);function f(st,pt,Mt){if(!Mt||Mt.length<pt.length)return null;let qt;return st?qt=u.ok(Mt,pt):qt=Mt.indexOf(pt)===0,qt?pt.length>0?[{start:0,end:pt.length}]:[]:null}function v(st,pt){const Mt=pt.toLowerCase().indexOf(st.toLowerCase());return Mt===-1?null:[{start:Mt,end:Mt+st.length}]}function a(st,pt){return S(st.toLowerCase(),pt.toLowerCase(),0,0)}function S(st,pt,Mt,qt){if(Mt===st.length)return[];if(qt===pt.length)return null;if(st[Mt]===pt[qt]){let Ft=null;return(Ft=S(st,pt,Mt+1,qt+1))?R({start:qt,end:qt+1},Ft):null}return S(st,pt,Mt,qt+1)}function g(st){return 97<=st&&st<=122}function y(st){return 65<=st&&st<=90}function C(st){return 48<=st&&st<=57}function E(st){return st===32||st===9||st===10||st===13}const A=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(st=>A.add(st.charCodeAt(0)));function N(st){return E(st)||A.has(st)}function B(st,pt){return st===pt||N(st)&&N(pt)}const W=new Map;function $(st){if(W.has(st))return W.get(st);let pt;const Mt=U(st);return Mt&&(pt=Mt),W.set(st,pt),pt}function Y(st){return g(st)||y(st)||C(st)}function R(st,pt){return pt.length===0?pt=[st]:st.end===pt[0].start?pt[0].start=st.start:pt.unshift(st),pt}function L(st,pt){for(let Mt=pt;Mt<st.length;Mt++){const qt=st.charCodeAt(Mt);if(y(qt)||C(qt)||Mt>0&&!Y(st.charCodeAt(Mt-1)))return Mt}return st.length}function z(st,pt,Mt,qt){if(Mt===st.length)return[];if(qt===pt.length)return null;if(st[Mt]!==pt[qt].toLowerCase())return null;{let Ft=null,Xt=qt+1;for(Ft=z(st,pt,Mt+1,qt+1);!Ft&&(Xt=L(pt,Xt))<pt.length;)Ft=z(st,pt,Mt+1,Xt),Xt++;return Ft===null?null:R({start:qt,end:qt+1},Ft)}}function O(st){let pt=0,Mt=0,qt=0,Ft=0,Xt=0;for(let Lt=0;Lt<st.length;Lt++)Xt=st.charCodeAt(Lt),y(Xt)&&pt++,g(Xt)&&Mt++,Y(Xt)&&qt++,C(Xt)&&Ft++;const _t=pt/st.length,nt=Mt/st.length,tt=qt/st.length,xt=Ft/st.length;return{upperPercent:_t,lowerPercent:nt,alphaPercent:tt,numericPercent:xt}}function P(st){const{upperPercent:pt,lowerPercent:Mt}=st;return Mt===0&&pt>.6}function H(st){const{upperPercent:pt,lowerPercent:Mt,alphaPercent:qt,numericPercent:Ft}=st;return Mt>.2&&pt<.8&&qt>.6&&Ft<.2}function V(st){let pt=0,Mt=0,qt=0,Ft=0;for(let Xt=0;Xt<st.length;Xt++)qt=st.charCodeAt(Xt),y(qt)&&pt++,g(qt)&&Mt++,E(qt)&&Ft++;return(pt===0||Mt===0)&&Ft===0?st.length<=30:pt<=5}function G(st,pt){if(!pt||(pt=pt.trim(),pt.length===0)||!V(st)||pt.length>60)return null;const Mt=O(pt);if(!H(Mt)){if(!P(Mt))return null;pt=pt.toLowerCase()}let qt=null,Ft=0;for(st=st.toLowerCase();Ft<pt.length&&(qt=z(st,pt,0,Ft))===null;)Ft=L(pt,Ft+1);return qt}function j(st,pt,Mt=!1){if(!pt||pt.length===0)return null;let qt=null,Ft=0;for(st=st.toLowerCase(),pt=pt.toLowerCase();Ft<pt.length&&(qt=F(st,pt,0,Ft,Mt),qt===null);)Ft=K(pt,Ft+1);return qt}function F(st,pt,Mt,qt,Ft){let Xt=0;if(Mt===st.length)return[];if(qt===pt.length)return null;if(!B(st.charCodeAt(Mt),pt.charCodeAt(qt))){const tt=$(st.charCodeAt(Mt));if(!tt)return null;for(let xt=0;xt<tt.length;xt++)if(!B(tt[xt],pt.charCodeAt(qt+xt)))return null;Xt+=tt.length-1}let _t=null,nt=qt+Xt+1;if(_t=F(st,pt,Mt+1,nt,Ft),!Ft)for(;!_t&&(nt=K(pt,nt))<pt.length;)_t=F(st,pt,Mt+1,nt,Ft),nt++;if(!_t)return null;if(st.charCodeAt(Mt)!==pt.charCodeAt(qt)){const tt=$(st.charCodeAt(Mt));if(!tt)return _t;for(let xt=0;xt<tt.length;xt++)if(tt[xt]!==pt.charCodeAt(qt+xt))return _t}return R({start:qt,end:qt+Xt+1},_t)}function K(st,pt){for(let Mt=pt;Mt<st.length;Mt++)if(N(st.charCodeAt(Mt))||Mt>0&&N(st.charCodeAt(Mt-1)))return Mt;return st.length}const m=d(i,G,v),J=d(i,G,a),X=new b.z6(1e4);function te(st,pt,Mt=!1){if(typeof st!="string"||typeof pt!="string")return null;let qt=X.get(st);qt||(qt=new RegExp(u.un(st),"i"),X.set(st,qt));const Ft=qt.exec(pt);return Ft?[{start:Ft.index,end:Ft.index+Ft[0].length}]:Mt?J(st,pt):m(st,pt)}function le(st,pt){const Mt=xe(st,st.toLowerCase(),0,pt,pt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Mt?we(Mt):null}function ge(st,pt,Mt,qt,Ft,Xt){const _t=Math.min(13,st.length);for(;Mt<_t;Mt++){const nt=xe(st,pt,Mt,qt,Ft,Xt,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(nt)return nt}return[0,Xt]}function we(st){if(typeof st=="undefined")return[];const pt=[],Mt=st[1];for(let qt=st.length-1;qt>1;qt--){const Ft=st[qt]+Mt,Xt=pt[pt.length-1];Xt&&Xt.end===Ft?Xt.end=Ft+1:pt.push({start:Ft,end:Ft+1})}return pt}const pe=128;function Pe(){const st=[],pt=[];for(let Mt=0;Mt<=pe;Mt++)pt[Mt]=0;for(let Mt=0;Mt<=pe;Mt++)st.push(pt.slice(0));return st}function Ne(st){const pt=[];for(let Mt=0;Mt<=st;Mt++)pt[Mt]=0;return pt}const ae=Ne(2*pe),Me=Ne(2*pe),ke=Pe(),Ue=Pe(),Le=Pe(),ie=!1;function ce(st,pt,Mt,qt,Ft){function Xt(nt,tt,xt=" "){for(;nt.length<tt;)nt=xt+nt;return nt}let _t=` |   |${qt.split("").map(nt=>Xt(nt,3)).join("|")}
`;for(let nt=0;nt<=Mt;nt++)nt===0?_t+=" |":_t+=`${pt[nt-1]}|`,_t+=st[nt].slice(0,Ft+1).map(tt=>Xt(tt.toString(),3)).join("|")+`
`;return _t}function Re(st,pt,Mt,qt){st=st.substr(pt),Mt=Mt.substr(qt),console.log(ce(Ue,st,st.length,Mt,Mt.length)),console.log(ce(Le,st,st.length,Mt,Mt.length)),console.log(ce(ke,st,st.length,Mt,Mt.length))}function ye(st,pt){if(pt<0||pt>=st.length)return!1;const Mt=st.codePointAt(pt);switch(Mt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!u.C8(Mt)}}function Se(st,pt){if(pt<0||pt>=st.length)return!1;switch(st.charCodeAt(pt)){case 32:case 9:return!0;default:return!1}}function me(st,pt,Mt){return pt[st]!==Mt[st]}function he(st,pt,Mt,qt,Ft,Xt,_t=!1){for(;pt<Mt&&Ft<Xt;)st[pt]===qt[Ft]&&(_t&&(ae[pt]=Ft),pt+=1),Ft+=1;return pt===Mt}var se;(function(st){st.Default=[-100,0];function pt(Mt){return!Mt||Mt.length===2&&Mt[0]===-100&&Mt[1]===0}st.isDefault=pt})(se||(se={}));class ve{constructor(pt,Mt){this.firstMatchCanBeWeak=pt,this.boostFullMatch=Mt}}ve.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function xe(st,pt,Mt,qt,Ft,Xt,_t=ve.default){const nt=st.length>pe?pe:st.length,tt=qt.length>pe?pe:qt.length;if(Mt>=nt||Xt>=tt||nt-Mt>tt-Xt||!he(pt,Mt,nt,Ft,Xt,tt,!0))return;je(nt,tt,Mt,Xt,pt,Ft);let xt=1,Lt=1,Be=Mt,yt=Xt;const un=[!1];for(xt=1,Be=Mt;Be<nt;xt++,Be++){const Yn=ae[Be],mi=Me[Be],_i=Be+1<nt?Me[Be+1]:tt;for(Lt=Yn-Xt+1,yt=Yn;yt<_i;Lt++,yt++){let Wi=Number.MIN_SAFE_INTEGER,Si=!1;yt<=mi&&(Wi=Oe(st,pt,Be,Mt,qt,Ft,yt,tt,Xt,ke[xt-1][Lt-1]===0,un));let Ki=0;Wi!==Number.MAX_SAFE_INTEGER&&(Si=!0,Ki=Wi+Ue[xt-1][Lt-1]);const bi=yt>Yn,Fi=bi?Ue[xt][Lt-1]+(ke[xt][Lt-1]>0?-5:0):0,ts=yt>Yn+1&&ke[xt][Lt-1]>0,wi=ts?Ue[xt][Lt-2]+(ke[xt][Lt-2]>0?-5:0):0;if(ts&&(!bi||wi>=Fi)&&(!Si||wi>=Ki))Ue[xt][Lt]=wi,Le[xt][Lt]=3,ke[xt][Lt]=0;else if(bi&&(!Si||Fi>=Ki))Ue[xt][Lt]=Fi,Le[xt][Lt]=2,ke[xt][Lt]=0;else if(Si)Ue[xt][Lt]=Ki,Le[xt][Lt]=1,ke[xt][Lt]=ke[xt-1][Lt-1]+1;else throw new Error("not possible")}}if(ie&&Re(st,Mt,qt,Xt),!un[0]&&!_t.firstMatchCanBeWeak)return;xt--,Lt--;const In=[Ue[xt][Lt],Xt];let bn=0,Hn=0;for(;xt>=1;){let Yn=Lt;do{const mi=Le[xt][Yn];if(mi===3)Yn=Yn-2;else if(mi===2)Yn=Yn-1;else break}while(Yn>=1);bn>1&&pt[Mt+xt-1]===Ft[Xt+Lt-1]&&!me(Yn+Xt-1,qt,Ft)&&bn+1>ke[xt][Yn]&&(Yn=Lt),Yn===Lt?bn++:bn=1,Hn||(Hn=Yn),xt--,Lt=Yn-1,In.push(Lt)}tt===nt&&_t.boostFullMatch&&(In[0]+=2);const si=Hn-nt;return In[0]-=si,In}function je(st,pt,Mt,qt,Ft,Xt){let _t=st-1,nt=pt-1;for(;_t>=Mt&&nt>=qt;)Ft[_t]===Xt[nt]&&(Me[_t]=nt,_t--),nt--}function Oe(st,pt,Mt,qt,Ft,Xt,_t,nt,tt,xt,Lt){if(pt[Mt]!==Xt[_t])return Number.MIN_SAFE_INTEGER;let Be=1,yt=!1;return _t===Mt-qt?Be=st[Mt]===Ft[_t]?7:5:me(_t,Ft,Xt)&&(_t===0||!me(_t-1,Ft,Xt))?(Be=st[Mt]===Ft[_t]?7:5,yt=!0):ye(Xt,_t)&&(_t===0||!ye(Xt,_t-1))?Be=5:(ye(Xt,_t-1)||Se(Xt,_t-1))&&(Be=5,yt=!0),Be>1&&Mt===qt&&(Lt[0]=!0),yt||(yt=me(_t,Ft,Xt)||ye(Xt,_t-1)||Se(Xt,_t-1)),Mt===qt?_t>tt&&(Be-=yt?3:5):xt?Be+=yt?2:0:Be+=yt?0:1,_t+1===nt&&(Be-=yt?3:5),Be}function Ze(st,pt,Mt,qt,Ft,Xt,_t){return it(st,pt,Mt,qt,Ft,Xt,!0,_t)}function it(st,pt,Mt,qt,Ft,Xt,_t,nt){let tt=xe(st,pt,Mt,qt,Ft,Xt,nt);if(tt&&!_t)return tt;if(st.length>=3){const xt=Math.min(7,st.length-1);for(let Lt=Mt+1;Lt<xt;Lt++){const Be=Et(st,Lt);if(Be){const yt=xe(Be,Be.toLowerCase(),Mt,qt,Ft,Xt,nt);yt&&(yt[0]-=3,(!tt||yt[0]>tt[0])&&(tt=yt))}}}return tt}function Et(st,pt){if(pt+1>=st.length)return;const Mt=st[pt],qt=st[pt+1];if(Mt!==qt)return st.slice(0,pt)+qt+Mt+st.slice(pt+2)}},88289:function(Ot,Ke,e){"use strict";e.d(Ke,{M:function(){return b}});function b(U,r){const w=this;let c=!1,_;return function(){if(c)return _;if(c=!0,r)try{_=U.apply(w,arguments)}finally{r()}else _=U.apply(w,arguments);return _}}},14118:function(Ot,Ke,e){"use strict";e.d(Ke,{EQ:function(){return z},Qc:function(){return O}});var b=e(15393),U=e(15527),r=e(43702),w=e(82663),c=e(1432),_=e(97295);const I="**",M="/",D="[/\\\\]",p="[^/\\\\]",o=/\//g;function u(j,F){switch(j){case 0:return"";case 1:return`${p}*?`;default:return`(?:${D}|${p}+${D}${F?`|${D}${p}+`:""})*?`}}function d(j,F){if(!j)return[];const K=[];let m=!1,J=!1,X="";for(const te of j){switch(te){case F:if(!m&&!J){K.push(X),X="";continue}break;case"{":m=!0;break;case"}":m=!1;break;case"[":J=!0;break;case"]":J=!1;break}X+=te}return X&&K.push(X),K}function n(j){if(!j)return"";let F="";const K=d(j,M);if(K.every(m=>m===I))F=".*";else{let m=!1;K.forEach((J,X)=>{if(J===I){if(m)return;F+=u(2,X===K.length-1)}else{let te=!1,le="",ge=!1,we="";for(const pe of J){if(pe!=="}"&&te){le+=pe;continue}if(ge&&(pe!=="]"||!we)){let Pe;pe==="-"?Pe=pe:(pe==="^"||pe==="!")&&!we?Pe="^":pe===M?Pe="":Pe=(0,_.ec)(pe),we+=Pe;continue}switch(pe){case"{":te=!0;continue;case"[":ge=!0;continue;case"}":{const Ne=`(?:${d(le,",").map(ae=>n(ae)).join("|")})`;F+=Ne,te=!1,le="";break}case"]":{F+="["+we+"]",ge=!1,we="";break}case"?":F+=p;continue;case"*":F+=u(1);continue;default:F+=(0,_.ec)(pe)}}X<K.length-1&&(K[X+1]!==I||X+2<K.length)&&(F+=D)}m=J===I})}return F}const i=/^\*\*\/\*\.[\w\.-]+$/,f=/^\*\*\/([\w\.-]+)\/?$/,v=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,a=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,S=/^\*\*((\/[\w\.-]+)+)\/?$/,g=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,y=new r.z6(1e4),C=function(){return!1},E=function(){return null};function A(j,F){if(!j)return E;let K;typeof j!="string"?K=j.pattern:K=j,K=K.trim();const m=`${K}_${!!F.trimForExclusions}`;let J=y.get(m);if(J)return N(J,j);let X;return i.test(K)?J=W(K.substr(4),K):(X=f.exec(B(K,F)))?J=$(X[1],K):(F.trimForExclusions?a:v).test(K)?J=Y(K,F):(X=S.exec(B(K,F)))?J=R(X[1].substr(1),K,!0):(X=g.exec(B(K,F)))?J=R(X[1],K,!1):J=L(K),y.set(m,J),N(J,j)}function N(j,F){if(typeof F=="string")return j;const K=function(m,J){return(0,U.KM)(m,F.base,!c.IJ)?j((0,_.j3)(m.substr(F.base.length),w.ir),J):null};return K.allBasenames=j.allBasenames,K.allPaths=j.allPaths,K.basenames=j.basenames,K.patterns=j.patterns,K}function B(j,F){return F.trimForExclusions&&j.endsWith("/**")?j.substr(0,j.length-2):j}function W(j,F){return function(K,m){return typeof K=="string"&&K.endsWith(j)?F:null}}function $(j,F){const K=`/${j}`,m=`\\${j}`,J=function(te,le){return typeof te!="string"?null:le?le===j?F:null:te===j||te.endsWith(K)||te.endsWith(m)?F:null},X=[j];return J.basenames=X,J.patterns=[F],J.allBasenames=X,J}function Y(j,F){const K=G(j.slice(1,-1).split(",").map(le=>A(le,F)).filter(le=>le!==E),j),m=K.length;if(!m)return E;if(m===1)return K[0];const J=function(le,ge){for(let we=0,pe=K.length;we<pe;we++)if(K[we](le,ge))return j;return null},X=K.find(le=>!!le.allBasenames);X&&(J.allBasenames=X.allBasenames);const te=K.reduce((le,ge)=>ge.allPaths?le.concat(ge.allPaths):le,[]);return te.length&&(J.allPaths=te),J}function R(j,F,K){const m=w.ir===w.KR.sep,J=m?j:j.replace(o,w.ir),X=w.ir+J,te=w.KR.sep+j;let le;return K?le=function(ge,we){return typeof ge=="string"&&(ge===J||ge.endsWith(X)||!m&&(ge===j||ge.endsWith(te)))?F:null}:le=function(ge,we){return typeof ge=="string"&&(ge===J||!m&&ge===j)?F:null},le.allPaths=[(K?"*/":"./")+j],le}function L(j){try{const F=new RegExp(`^${n(j)}$`);return function(K){return F.lastIndex=0,typeof K=="string"&&F.test(K)?j:null}}catch(F){return E}}function z(j,F,K){return!j||typeof F!="string"?!1:O(j)(F,void 0,K)}function O(j,F={}){if(!j)return C;if(typeof j=="string"||P(j)){const K=A(j,F);if(K===E)return C;const m=function(J,X){return!!K(J,X)};return K.allBasenames&&(m.allBasenames=K.allBasenames),K.allPaths&&(m.allPaths=K.allPaths),m}return H(j,F)}function P(j){const F=j;return F?typeof F.base=="string"&&typeof F.pattern=="string":!1}function H(j,F){const K=G(Object.getOwnPropertyNames(j).map(le=>V(le,j[le],F)).filter(le=>le!==E)),m=K.length;if(!m)return E;if(!K.some(le=>!!le.requiresSiblings)){if(m===1)return K[0];const le=function(pe,Pe){let Ne;for(let ae=0,Me=K.length;ae<Me;ae++){const ke=K[ae](pe,Pe);if(typeof ke=="string")return ke;(0,b.J8)(ke)&&(Ne||(Ne=[]),Ne.push(ke))}return Ne?(()=>tn(this,null,function*(){for(const ae of Ne){const Me=yield ae;if(typeof Me=="string")return Me}return null}))():null},ge=K.find(pe=>!!pe.allBasenames);ge&&(le.allBasenames=ge.allBasenames);const we=K.reduce((pe,Pe)=>Pe.allPaths?pe.concat(Pe.allPaths):pe,[]);return we.length&&(le.allPaths=we),le}const J=function(le,ge,we){let pe,Pe;for(let Ne=0,ae=K.length;Ne<ae;Ne++){const Me=K[Ne];Me.requiresSiblings&&we&&(ge||(ge=(0,w.EZ)(le)),pe||(pe=ge.substr(0,ge.length-(0,w.DZ)(le).length)));const ke=Me(le,ge,pe,we);if(typeof ke=="string")return ke;(0,b.J8)(ke)&&(Pe||(Pe=[]),Pe.push(ke))}return Pe?(()=>tn(this,null,function*(){for(const Ne of Pe){const ae=yield Ne;if(typeof ae=="string")return ae}return null}))():null},X=K.find(le=>!!le.allBasenames);X&&(J.allBasenames=X.allBasenames);const te=K.reduce((le,ge)=>ge.allPaths?le.concat(ge.allPaths):le,[]);return te.length&&(J.allPaths=te),J}function V(j,F,K){if(F===!1)return E;const m=A(j,K);if(m===E)return E;if(typeof F=="boolean")return m;if(F){const J=F.when;if(typeof J=="string"){const X=(te,le,ge,we)=>{if(!we||!m(te,le))return null;const pe=J.replace("$(basename)",()=>ge),Pe=we(pe);return(0,b.J8)(Pe)?Pe.then(Ne=>Ne?j:null):Pe?j:null};return X.requiresSiblings=!0,X}}return m}function G(j,F){const K=j.filter(le=>!!le.basenames);if(K.length<2)return j;const m=K.reduce((le,ge)=>{const we=ge.basenames;return we?le.concat(we):le},[]);let J;if(F){J=[];for(let le=0,ge=m.length;le<ge;le++)J.push(F)}else J=K.reduce((le,ge)=>{const we=ge.patterns;return we?le.concat(we):le},[]);const X=function(le,ge){if(typeof le!="string")return null;if(!ge){let pe;for(pe=le.length;pe>0;pe--){const Pe=le.charCodeAt(pe-1);if(Pe===47||Pe===92)break}ge=le.substr(pe)}const we=m.indexOf(ge);return we!==-1?J[we]:null};X.basenames=m,X.patterns=J,X.allBasenames=m;const te=j.filter(le=>!le.basenames);return te.push(X),te}},89954:function(Ot,Ke,e){"use strict";e.d(Ke,{Cv:function(){return _},SP:function(){return r},vp:function(){return U},yP:function(){return d}});var b=e(97295);function U(n){return r(n,0)}function r(n,i){switch(typeof n){case"object":return n===null?w(349,i):Array.isArray(n)?I(n,i):M(n,i);case"string":return _(n,i);case"boolean":return c(n,i);case"number":return w(n,i);case"undefined":return w(937,i);default:return w(617,i)}}function w(n,i){return(i<<5)-i+n|0}function c(n,i){return w(n?433:863,i)}function _(n,i){i=w(149417,i);for(let f=0,v=n.length;f<v;f++)i=w(n.charCodeAt(f),i);return i}function I(n,i){return i=w(104579,i),n.reduce((f,v)=>r(v,f),i)}function M(n,i){return i=w(181387,i),Object.keys(n).sort().reduce((f,v)=>(f=_(v,f),r(n[v],f)),i)}function D(n,i,f=32){const v=f-i,a=~((1<<v)-1);return(n<<i|(a&n)>>>v)>>>0}function p(n,i=0,f=n.byteLength,v=0){for(let a=0;a<f;a++)n[i+a]=v}function o(n,i,f="0"){for(;n.length<i;)n=f+n;return n}function u(n,i=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(f=>f.toString(16).padStart(2,"0")).join(""):o((n>>>0).toString(16),i/4)}class d{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(i){const f=i.length;if(f===0)return;const v=this._buff;let a=this._buffLen,S=this._leftoverHighSurrogate,g,y;for(S!==0?(g=S,y=-1,S=0):(g=i.charCodeAt(0),y=0);;){let C=g;if(b.ZG(g))if(y+1<f){const E=i.charCodeAt(y+1);b.YK(E)?(y++,C=b.rL(g,E)):C=65533}else{S=g;break}else b.YK(g)&&(C=65533);if(a=this._push(v,a,C),y++,y<f)g=i.charCodeAt(y);else break}this._buffLen=a,this._leftoverHighSurrogate=S}_push(i,f,v){return v<128?i[f++]=v:v<2048?(i[f++]=192|(v&1984)>>>6,i[f++]=128|(v&63)>>>0):v<65536?(i[f++]=224|(v&61440)>>>12,i[f++]=128|(v&4032)>>>6,i[f++]=128|(v&63)>>>0):(i[f++]=240|(v&1835008)>>>18,i[f++]=128|(v&258048)>>>12,i[f++]=128|(v&4032)>>>6,i[f++]=128|(v&63)>>>0),f>=64&&(this._step(),f-=64,this._totalLen+=64,i[0]=i[64+0],i[1]=i[64+1],i[2]=i[64+2]),f}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),u(this._h0)+u(this._h1)+u(this._h2)+u(this._h3)+u(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,p(this._buff,this._buffLen),this._buffLen>56&&(this._step(),p(this._buff));const i=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(i/4294967296),!1),this._buffDV.setUint32(60,i%4294967296,!1),this._step()}_step(){const i=d._bigBlock32,f=this._buffDV;for(let N=0;N<64;N+=4)i.setUint32(N,f.getUint32(N,!1),!1);for(let N=64;N<320;N+=4)i.setUint32(N,D(i.getUint32(N-12,!1)^i.getUint32(N-32,!1)^i.getUint32(N-56,!1)^i.getUint32(N-64,!1),1),!1);let v=this._h0,a=this._h1,S=this._h2,g=this._h3,y=this._h4,C,E,A;for(let N=0;N<80;N++)N<20?(C=a&S|~a&g,E=1518500249):N<40?(C=a^S^g,E=1859775393):N<60?(C=a&S|a&g|S&g,E=2400959708):(C=a^S^g,E=3395469782),A=D(v,5)+C+y+E+i.getUint32(N*4,!1)&4294967295,y=g,g=S,S=D(a,30),a=v,v=A;this._h0=this._h0+v&4294967295,this._h1=this._h1+a&4294967295,this._h2=this._h2+S&4294967295,this._h3=this._h3+g&4294967295,this._h4=this._h4+y&4294967295}}d._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Ot,Ke,e){"use strict";e.d(Ke,{CP:function(){return I},Fr:function(){return M},W5:function(){return _},d9:function(){return o},g_:function(){return D},oR:function(){return u},v1:function(){return d}});var b=e(17301),U=e(21212),r=e(95935),w=e(97295),c=e(70666);class _{constructor(i="",f=!1){var v,a,S;if(this.value=i,typeof this.value!="string")throw(0,b.b1)("value");typeof f=="boolean"?(this.isTrusted=f,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(v=f.isTrusted)!==null&&v!==void 0?v:void 0,this.supportThemeIcons=(a=f.supportThemeIcons)!==null&&a!==void 0?a:!1,this.supportHtml=(S=f.supportHtml)!==null&&S!==void 0?S:!1)}appendText(i,f=0){return this.value+=p(this.supportThemeIcons?(0,U.Qo)(i):i).replace(/([ \t]+)/g,(v,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,f===1?`\\
`:`

`),this}appendMarkdown(i){return this.value+=i,this}appendCodeblock(i,f){return this.value+="\n```",this.value+=i,this.value+=`
`,this.value+=f,this.value+="\n```\n",this}appendLink(i,f,v){return this.value+="[",this.value+=this._escape(f,"]"),this.value+="](",this.value+=this._escape(String(i),")"),v&&(this.value+=` "${this._escape(this._escape(v,'"'),")")}"`),this.value+=")",this}_escape(i,f){const v=new RegExp((0,w.ec)(f),"g");return i.replace(v,(a,S)=>i.charAt(S-1)!=="\\"?`\\${a}`:a)}}function I(n){return M(n)?!n.value:Array.isArray(n)?n.every(I):!0}function M(n){return n instanceof _?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function D(n,i){return n===i?!0:!n||!i?!1:n.value===i.value&&n.isTrusted===i.isTrusted&&n.supportThemeIcons===i.supportThemeIcons&&n.supportHtml===i.supportHtml&&(n.baseUri===i.baseUri||!!n.baseUri&&!!i.baseUri&&(0,r.Xy)(c.o.from(n.baseUri),c.o.from(i.baseUri)))}function p(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function o(n){return n.replace(/"/g,"&quot;")}function u(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function d(n){const i=[],f=n.split("|").map(a=>a.trim());n=f[0];const v=f[1];if(v){const a=/height=(\d+)/.exec(v),S=/width=(\d+)/.exec(v),g=a?a[1]:"",y=S?S[1]:"",C=isFinite(parseInt(y)),E=isFinite(parseInt(g));C&&i.push(`width="${y}"`),E&&i.push(`height="${g}"`)}return{href:n,dimensions:i}}},21212:function(Ot,Ke,e){"use strict";e.d(Ke,{Gt:function(){return i},Ho:function(){return n},JL:function(){return u},Qo:function(){return I},f$:function(){return D},x$:function(){return o}});var b=e(60075),U=e(97295),r=e(25670);const w="$(",c=new RegExp(`\\$\\(${r.k.iconNameExpression}(?:${r.k.iconModifierExpression})?\\)`,"g"),_=new RegExp(`(\\\\)?${c.source}`,"g");function I(f){return f.replace(_,(v,a)=>a?v:`\\${v}`)}const M=new RegExp(`\\\\${c.source}`,"g");function D(f){return f.replace(M,v=>`\\${v}`)}const p=new RegExp(`(\\s)?(\\\\)?${c.source}(\\s)?`,"g");function o(f){return f.indexOf(w)===-1?f:f.replace(p,(v,a,S,g)=>S?v:a||g||"")}function u(f){return f?f.replace(/\$\((.*?)\)/g,(v,a)=>` ${a} `).trim():""}const d=new RegExp(`\\$\\(${r.k.iconNameCharacter}+\\)`,"g");function n(f){d.lastIndex=0;let v="";const a=[];let S=0;for(;;){const g=d.lastIndex,y=d.exec(f),C=f.substring(g,y==null?void 0:y.index);if(C.length>0){v+=C;for(let E=0;E<C.length;E++)a.push(S)}if(!y)break;S+=y[0].length}return{text:v,iconOffsets:a}}function i(f,v,a=!1){const{text:S,iconOffsets:g}=v;if(!g||g.length===0)return(0,b.Oh)(f,S,a);const y=(0,U.j3)(S," "),C=S.length-y.length,E=(0,b.Oh)(f,y,a);if(E)for(const A of E){const N=g[A.start+C]+C;A.start+=N,A.end+=N}return E}},44742:function(Ot,Ke,e){"use strict";e.d(Ke,{R:function(){return b},a:function(){return U}});class b{constructor(w){this._prefix=w,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const U=new b("id#")},77173:function(Ot,Ke,e){"use strict";e.d(Ke,{F:function(){return r}});var b=e(4669);class U{constructor(){this._onDidChange=new b.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const r=new U},53725:function(Ot,Ke,e){"use strict";e.d(Ke,{$:function(){return b}});var b;(function(U){function r(g){return g&&typeof g=="object"&&typeof g[Symbol.iterator]=="function"}U.is=r;const w=Object.freeze([]);function c(){return w}U.empty=c;function*_(g){yield g}U.single=_;function I(g){return r(g)?g:_(g)}U.wrap=I;function M(g){return g||w}U.from=M;function*D(g){for(let y=g.length-1;y>=0;y--)yield g[y]}U.reverse=D;function p(g){return!g||g[Symbol.iterator]().next().done===!0}U.isEmpty=p;function o(g){return g[Symbol.iterator]().next().value}U.first=o;function u(g,y){for(const C of g)if(y(C))return!0;return!1}U.some=u;function d(g,y){for(const C of g)if(y(C))return C}U.find=d;function*n(g,y){for(const C of g)y(C)&&(yield C)}U.filter=n;function*i(g,y){let C=0;for(const E of g)yield y(E,C++)}U.map=i;function*f(...g){for(const y of g)yield*y}U.concat=f;function v(g,y,C){let E=C;for(const A of g)E=y(E,A);return E}U.reduce=v;function*a(g,y,C=g.length){for(y<0&&(y+=g.length),C<0?C+=g.length:C>g.length&&(C=g.length);y<C;y++)yield g[y]}U.slice=a;function S(g,y=Number.POSITIVE_INFINITY){const C=[];if(y===0)return[C,g];const E=g[Symbol.iterator]();for(let A=0;A<y;A++){const N=E.next();if(N.done)return[C,U.empty()];C.push(N.value)}return[C,{[Symbol.iterator](){return E}}]}U.consume=S})(b||(b={}))},22258:function(Ot,Ke,e){"use strict";e.d(Ke,{H_:function(){return c},Vd:function(){return p},gx:function(){return d},kL:function(){return u}});class b{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,f){this._keyCodeToStr[i]=f,this._strToKeyCode[f.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const U=new b,r=new b,w=new b,c=new Array(230),_={},I=[],M=Object.create(null),D=Object.create(null),p=[],o=[];for(let n=0;n<=193;n++)p[n]=-1;for(let n=0;n<=132;n++)o[n]=-1;(function(){const n="",i=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],f=[],v=[];for(const a of i){const[S,g,y,C,E,A,N,B,W]=a;if(v[g]||(v[g]=!0,I[g]=y,M[y]=g,D[y.toLowerCase()]=g,S&&(p[g]=C,C!==0&&C!==3&&C!==5&&C!==4&&C!==6&&C!==57&&(o[C]=g))),!f[C]){if(f[C]=!0,!E)throw new Error(`String representation missing for key code ${C} around scan code ${y}`);U.define(C,E),r.define(C,B||E),w.define(C,W||B||E)}A&&(c[A]=C),N&&(_[N]=C)}o[3]=46})();var u;(function(n){function i(y){return U.keyCodeToStr(y)}n.toString=i;function f(y){return U.strToKeyCode(y)}n.fromString=f;function v(y){return r.keyCodeToStr(y)}n.toUserSettingsUS=v;function a(y){return w.keyCodeToStr(y)}n.toUserSettingsGeneral=a;function S(y){return r.strToKeyCode(y)||w.strToKeyCode(y)}n.fromUserSettings=S;function g(y){if(y>=98&&y<=113)return null;switch(y){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return U.keyCodeToStr(y)}n.toElectronAccelerator=g})(u||(u={}));function d(n,i){const f=(i&65535)<<16>>>0;return(n|f)>>>0}},8030:function(Ot,Ke,e){"use strict";e.d(Ke,{X4:function(){return w},jC:function(){return c},r6:function(){return _},xo:function(){return r}});var b=e(63580);class U{constructor(D,p,o=p){this.modifierLabels=[null],this.modifierLabels[2]=D,this.modifierLabels[1]=p,this.modifierLabels[3]=o}toLabel(D,p,o){if(p.length===0)return null;const u=[];for(let d=0,n=p.length;d<n;d++){const i=p[d],f=o(i);if(f===null)return null;u[d]=I(i,f,this.modifierLabels[D])}return u.join(" ")}}const r=new U({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:b.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:b.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:b.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),w=new U({ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:b.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),c=new U({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),_=new U({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function I(M,D,p){if(D===null)return"";const o=[];return M.ctrlKey&&o.push(p.ctrlKey),M.shiftKey&&o.push(p.shiftKey),M.altKey&&o.push(p.altKey),M.metaKey&&o.push(p.metaKey),D!==""&&o.push(D),o.join(p.separator)}},8313:function(Ot,Ke,e){"use strict";e.d(Ke,{$M:function(){return w},Z9:function(){return U},aZ:function(){return I},f1:function(){return M}});var b=e(17301);function U(D,p){if(typeof D=="number"){if(D===0)return null;const o=(D&65535)>>>0,u=(D&4294901760)>>>16;return u!==0?new _([r(o,p),r(u,p)]):new _([r(o,p)])}else{const o=[];for(let u=0;u<D.length;u++)o.push(r(D[u],p));return new _(o)}}function r(D,p){const o=!!(D&2048),u=!!(D&256),d=p===2?u:o,n=!!(D&1024),i=!!(D&512),f=p===2?o:u,v=D&255;return new w(d,n,i,f,v)}class w{constructor(p,o,u,d,n){this.ctrlKey=p,this.shiftKey=o,this.altKey=u,this.metaKey=d,this.keyCode=n}equals(p){return p instanceof w&&this.ctrlKey===p.ctrlKey&&this.shiftKey===p.shiftKey&&this.altKey===p.altKey&&this.metaKey===p.metaKey&&this.keyCode===p.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class c{constructor(p,o,u,d,n){this.ctrlKey=p,this.shiftKey=o,this.altKey=u,this.metaKey=d,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class _{constructor(p){if(p.length===0)throw(0,b.b1)("chords");this.chords=p}}class I{constructor(p,o,u,d,n,i){this.ctrlKey=p,this.shiftKey=o,this.altKey=u,this.metaKey=d,this.keyLabel=n,this.keyAriaLabel=i}}class M{}},79579:function(Ot,Ke,e){"use strict";e.d(Ke,{o:function(){return b}});class b{constructor(r){this.executor=r,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(r){this._error=r}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},5976:function(Ot,Ke,e){"use strict";e.d(Ke,{B9:function(){return u},F8:function(){return d},JT:function(){return f},Jz:function(){return S},L6:function(){return a},Nq:function(){return I},OF:function(){return n},SL:function(){return i},Wf:function(){return o},XK:function(){return v},b2:function(){return g},dk:function(){return p},wi:function(){return _}});var b=e(88289),U=e(53725);const r=!1;let w=null;function c(y){w=y}if(r){const y="__is_disposable_tracked__";c(new class{trackDisposable(C){const E=new Error("Potentially leaked disposable").stack;setTimeout(()=>{C[y]||console.log(E)},3e3)}setParent(C,E){if(C&&C!==f.None)try{C[y]=!0}catch(A){}}markAsDisposed(C){if(C&&C!==f.None)try{C[y]=!0}catch(E){}}markAsSingleton(C){}})}function _(y){return w==null||w.trackDisposable(y),y}function I(y){w==null||w.markAsDisposed(y)}function M(y,C){w==null||w.setParent(y,C)}function D(y,C){if(w)for(const E of y)w.setParent(E,C)}function p(y){return w==null||w.markAsSingleton(y),y}function o(y){return typeof y.dispose=="function"&&y.dispose.length===0}function u(y){if(U.$.is(y)){const C=[];for(const E of y)if(E)try{E.dispose()}catch(A){C.push(A)}if(C.length===1)throw C[0];if(C.length>1)throw new AggregateError(C,"Encountered errors while disposing of store");return Array.isArray(y)?[]:y}else if(y)return y.dispose(),y}function d(...y){const C=n(()=>u(y));return D(y,C),C}function n(y){const C=_({dispose:(0,b.M)(()=>{I(C),y()})});return C}class i{constructor(){this._toDispose=new Set,this._isDisposed=!1,_(this)}dispose(){this._isDisposed||(I(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{u(this._toDispose)}finally{this._toDispose.clear()}}add(C){if(!C)return C;if(C===this)throw new Error("Cannot register a disposable on itself!");return M(C,this),this._isDisposed?i.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(C),C}deleteAndLeak(C){C&&this._toDispose.has(C)&&(this._toDispose.delete(C),M(C,null))}}i.DISABLE_DISPOSED_WARNING=!1;class f{constructor(){this._store=new i,_(this),M(this._store,this)}dispose(){I(this),this._store.dispose()}_register(C){if(C===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(C)}}f.None=Object.freeze({dispose(){}});class v{constructor(){this._isDisposed=!1,_(this)}get value(){return this._isDisposed?void 0:this._value}set value(C){var E;this._isDisposed||C===this._value||((E=this._value)===null||E===void 0||E.dispose(),C&&M(C,this),this._value=C)}clear(){this.value=void 0}dispose(){var C;this._isDisposed=!0,I(this),(C=this._value)===null||C===void 0||C.dispose(),this._value=void 0}}class a{constructor(C){this._disposable=C,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class S{constructor(C){this.object=C}dispose(){}}class g{constructor(){this._store=new Map,this._isDisposed=!1,_(this)}dispose(){I(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{u(this._store.values())}finally{this._store.clear()}}get(C){return this._store.get(C)}set(C,E,A=!1){var N;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),A||(N=this._store.get(C))===null||N===void 0||N.dispose(),this._store.set(C,E)}deleteAndDispose(C){var E;(E=this._store.get(C))===null||E===void 0||E.dispose(),this._store.delete(C)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},91741:function(Ot,Ke,e){"use strict";e.d(Ke,{S:function(){return U}});class b{constructor(w){this.element=w,this.next=b.Undefined,this.prev=b.Undefined}}b.Undefined=new b(void 0);class U{constructor(){this._first=b.Undefined,this._last=b.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===b.Undefined}clear(){let w=this._first;for(;w!==b.Undefined;){const c=w.next;w.prev=b.Undefined,w.next=b.Undefined,w=c}this._first=b.Undefined,this._last=b.Undefined,this._size=0}unshift(w){return this._insert(w,!1)}push(w){return this._insert(w,!0)}_insert(w,c){const _=new b(w);if(this._first===b.Undefined)this._first=_,this._last=_;else if(c){const M=this._last;this._last=_,_.prev=M,M.next=_}else{const M=this._first;this._first=_,_.next=M,M.prev=_}this._size+=1;let I=!1;return()=>{I||(I=!0,this._remove(_))}}shift(){if(this._first!==b.Undefined){const w=this._first.element;return this._remove(this._first),w}}pop(){if(this._last!==b.Undefined){const w=this._last.element;return this._remove(this._last),w}}_remove(w){if(w.prev!==b.Undefined&&w.next!==b.Undefined){const c=w.prev;c.next=w.next,w.next.prev=c}else w.prev===b.Undefined&&w.next===b.Undefined?(this._first=b.Undefined,this._last=b.Undefined):w.next===b.Undefined?(this._last=this._last.prev,this._last.next=b.Undefined):w.prev===b.Undefined&&(this._first=this._first.next,this._first.prev=b.Undefined);this._size-=1}*[Symbol.iterator](){let w=this._first;for(;w!==b.Undefined;)yield w.element,w=w.next}}},43702:function(Ot,Ke,e){"use strict";e.d(Ke,{Y9:function(){return c},YQ:function(){return M},ri:function(){return D},z6:function(){return I}});var b,U;class r{constructor(o,u){this.uri=o,this.value=u}}function w(p){return Array.isArray(p)}class c{constructor(o,u){if(this[b]="ResourceMap",o instanceof c)this.map=new Map(o.map),this.toKey=u!=null?u:c.defaultToKey;else if(w(o)){this.map=new Map,this.toKey=u!=null?u:c.defaultToKey;for(const[d,n]of o)this.set(d,n)}else this.map=new Map,this.toKey=o!=null?o:c.defaultToKey}set(o,u){return this.map.set(this.toKey(o),new r(o,u)),this}get(o){var u;return(u=this.map.get(this.toKey(o)))===null||u===void 0?void 0:u.value}has(o){return this.map.has(this.toKey(o))}get size(){return this.map.size}clear(){this.map.clear()}delete(o){return this.map.delete(this.toKey(o))}forEach(o,u){typeof u!="undefined"&&(o=o.bind(u));for(const[d,n]of this.map)o(n.value,n.uri,this)}*values(){for(const o of this.map.values())yield o.value}*keys(){for(const o of this.map.values())yield o.uri}*entries(){for(const o of this.map.values())yield[o.uri,o.value]}*[(b=Symbol.toStringTag,Symbol.iterator)](){for(const[,o]of this.map)yield[o.uri,o.value]}}c.defaultToKey=p=>p.toString();class _{constructor(){this[U]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var o;return(o=this._head)===null||o===void 0?void 0:o.value}get last(){var o;return(o=this._tail)===null||o===void 0?void 0:o.value}has(o){return this._map.has(o)}get(o,u=0){const d=this._map.get(o);if(d)return u!==0&&this.touch(d,u),d.value}set(o,u,d=0){let n=this._map.get(o);if(n)n.value=u,d!==0&&this.touch(n,d);else{switch(n={key:o,value:u,next:void 0,previous:void 0},d){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(o,n),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){const u=this._map.get(o);if(u)return this._map.delete(o),this.removeItem(u),this._size--,u.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,u){const d=this._state;let n=this._head;for(;n;){if(u?o.bind(u)(n.value,n.key,this):o(n.value,n.key,this),this._state!==d)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const o=this,u=this._state;let d=this._head;const n={[Symbol.iterator](){return n},next(){if(o._state!==u)throw new Error("LinkedMap got modified during iteration.");if(d){const i={value:d.key,done:!1};return d=d.next,i}else return{value:void 0,done:!0}}};return n}values(){const o=this,u=this._state;let d=this._head;const n={[Symbol.iterator](){return n},next(){if(o._state!==u)throw new Error("LinkedMap got modified during iteration.");if(d){const i={value:d.value,done:!1};return d=d.next,i}else return{value:void 0,done:!0}}};return n}entries(){const o=this,u=this._state;let d=this._head;const n={[Symbol.iterator](){return n},next(){if(o._state!==u)throw new Error("LinkedMap got modified during iteration.");if(d){const i={value:[d.key,d.value],done:!1};return d=d.next,i}else return{value:void 0,done:!0}}};return n}[(U=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let u=this._head,d=this.size;for(;u&&d>o;)this._map.delete(u.key),u=u.next,d--;this._head=u,this._size=d,u&&(u.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{const u=o.next,d=o.previous;if(!u||!d)throw new Error("Invalid list");u.previous=d,d.next=u}o.next=void 0,o.previous=void 0,this._state++}touch(o,u){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(u!==1&&u!==2)){if(u===1){if(o===this._head)return;const d=o.next,n=o.previous;o===this._tail?(n.next=void 0,this._tail=n):(d.previous=n,n.next=d),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(u===2){if(o===this._tail)return;const d=o.next,n=o.previous;o===this._head?(d.previous=void 0,this._head=d):(d.previous=n,n.next=d),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){const o=[];return this.forEach((u,d)=>{o.push([d,u])}),o}fromJSON(o){this.clear();for(const[u,d]of o)this.set(u,d)}}class I extends _{constructor(o,u=1){super(),this._limit=o,this._ratio=Math.min(Math.max(0,u),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get(o,u=2){return super.get(o,u)}peek(o){return super.get(o,0)}set(o,u){return super.set(o,u,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class M{constructor(o){if(this._m1=new Map,this._m2=new Map,o)for(const[u,d]of o)this.set(u,d)}clear(){this._m1.clear(),this._m2.clear()}set(o,u){this._m1.set(o,u),this._m2.set(u,o)}get(o){return this._m1.get(o)}getKey(o){return this._m2.get(o)}delete(o){const u=this._m1.get(o);return u===void 0?!1:(this._m1.delete(o),this._m2.delete(u),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class D{constructor(){this.map=new Map}add(o,u){let d=this.map.get(o);d||(d=new Set,this.map.set(o,d)),d.add(u)}delete(o,u){const d=this.map.get(o);d&&(d.delete(u),d.size===0&&this.map.delete(o))}forEach(o,u){const d=this.map.get(o);d&&d.forEach(u)}get(o){const u=this.map.get(o);return u||new Set}}},23897:function(Ot,Ke,e){"use strict";e.d(Ke,{Pz:function(){return r},Qc:function(){return w}});var b=e(53060),U=e(70666);function r(I){return JSON.stringify(I,c)}function w(I){let M=JSON.parse(I);return M=_(M),M}function c(I,M){return M instanceof RegExp?{$mid:2,source:M.source,flags:M.flags}:M}function _(I,M=0){if(!I||M>200)return I;if(typeof I=="object"){switch(I.$mid){case 1:return U.o.revive(I);case 2:return new RegExp(I.source,I.flags);case 17:return new Date(I.source)}if(I instanceof b.KN||I instanceof Uint8Array)return I;if(Array.isArray(I))for(let D=0;D<I.length;++D)I[D]=_(I[D],M+1);else for(const D in I)Object.hasOwnProperty.call(I,D)&&(I[D]=_(I[D],M+1))}return I}},81170:function(Ot,Ke,e){"use strict";e.d(Ke,{v:function(){return b}});const b=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},66663:function(Ot,Ke,e){"use strict";e.d(Ke,{Gi:function(){return d},Gs:function(){return I},WX:function(){return p},lg:function(){return c},xn:function(){return _}});var b=e(17301),U=e(1432),r=e(97295),w=e(70666),c;(function(i){i.inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.vscodeManagedRemoteResource="vscode-managed-remote-resource",i.vscodeUserData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.vscodeChatSesssion="vscode-chat-editor",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp",i.vsls="vsls",i.vscodeSourceControl="vscode-scm"})(c||(c={}));function _(i,f){return w.o.isUri(i)?(0,r.qq)(i.scheme,f):(0,r.ok)(i,f+":")}function I(i,...f){return f.some(v=>_(i,v))}const M="tkn";class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${c.vscodeRemoteResource}`}setPreferredWebSchema(f){this._preferredWebSchema=f}rewrite(f){if(this._delegate)try{return this._delegate(f)}catch(C){return b.dL(C),f}const v=f.authority;let a=this._hosts[v];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const S=this._ports[v],g=this._connectionTokens[v];let y=`path=${encodeURIComponent(f.path)}`;return typeof g=="string"&&(y+=`&${M}=${encodeURIComponent(g)}`),w.o.from({scheme:U.$L?this._preferredWebSchema:c.vscodeRemoteResource,authority:`${a}:${S}`,path:this._remoteResourcesPath,query:y})}}const p=new D,o="vscode-app";class u{uriToBrowserUri(f){return f.scheme===c.vscodeRemote?p.rewrite(f):f.scheme===c.file&&(U.tY||U.qB===`${c.vscodeFileResource}://${u.FALLBACK_AUTHORITY}`)?f.with({scheme:c.vscodeFileResource,authority:f.authority||u.FALLBACK_AUTHORITY,query:null,fragment:null}):f}}u.FALLBACK_AUTHORITY=o;const d=new u;var n;(function(i){const f=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);i.CoopAndCoep=Object.freeze(f.get("3"));const v="vscode-coi";function a(g){let y;typeof g=="string"?y=new URL(g).searchParams:g instanceof URL?y=g.searchParams:w.o.isUri(g)&&(y=new URL(g.toString(!0)).searchParams);const C=y==null?void 0:y.get(v);if(C)return f.get(C)}i.getHeadersFromQuery=a;function S(g,y,C){if(!globalThis.crossOriginIsolated)return;const E=y&&C?"3":C?"2":"1";g instanceof URLSearchParams?g.set(v,E):g[v]=E}i.addSearchParam=S})(n||(n={}))},59870:function(Ot,Ke,e){"use strict";e.d(Ke,{N:function(){return r},nM:function(){return U},uZ:function(){return b}});function b(w,c,_){return Math.min(Math.max(w,c),_)}class U{constructor(){this._n=1,this._val=0}update(c){return this._val=this._val+(c-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class r{constructor(c){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(c),this._values.fill(0,0,c)}update(c){const _=this._values[this._index];return this._values[this._index]=c,this._index=(this._index+1)%this._values.length,this._sum-=_,this._sum+=c,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},36248:function(Ot,Ke,e){"use strict";e.d(Ke,{$E:function(){return p},I8:function(){return U},IU:function(){return o},_A:function(){return r},fS:function(){return M},jB:function(){return I},rs:function(){return c}});var b=e(98401);function U(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const d=Array.isArray(u)?[]:{};return Object.entries(u).forEach(([n,i])=>{d[n]=i&&typeof i=="object"?U(i):i}),d}function r(u){if(!u||typeof u!="object")return u;const d=[u];for(;d.length>0;){const n=d.shift();Object.freeze(n);for(const i in n)if(w.call(n,i)){const f=n[i];typeof f=="object"&&!Object.isFrozen(f)&&!(0,b.fU)(f)&&d.push(f)}}return u}const w=Object.prototype.hasOwnProperty;function c(u,d){return _(u,d,new Set)}function _(u,d,n){if((0,b.Jp)(u))return u;const i=d(u);if(typeof i!="undefined")return i;if(Array.isArray(u)){const f=[];for(const v of u)f.push(_(v,d,n));return f}if((0,b.Kn)(u)){if(n.has(u))throw new Error("Cannot clone recursive data-structure");n.add(u);const f={};for(const v in u)w.call(u,v)&&(f[v]=_(u[v],d,n));return n.delete(u),f}return u}function I(u,d,n=!0){return(0,b.Kn)(u)?((0,b.Kn)(d)&&Object.keys(d).forEach(i=>{i in u?n&&((0,b.Kn)(u[i])&&(0,b.Kn)(d[i])?I(u[i],d[i],n):u[i]=d[i]):u[i]=d[i]}),u):d}function M(u,d){if(u===d)return!0;if(u==null||d===null||d===void 0||typeof u!=typeof d||typeof u!="object"||Array.isArray(u)!==Array.isArray(d))return!1;let n,i;if(Array.isArray(u)){if(u.length!==d.length)return!1;for(n=0;n<u.length;n++)if(!M(u[n],d[n]))return!1}else{const f=[];for(i in u)f.push(i);f.sort();const v=[];for(i in d)v.push(i);if(v.sort(),!M(f,v))return!1;for(n=0;n<f.length;n++)if(!M(u[f[n]],d[f[n]]))return!1}return!0}function D(u){let d=[];for(;Object.prototype!==u;)d=d.concat(Object.getOwnPropertyNames(u)),u=Object.getPrototypeOf(u);return d}function p(u){const d=[];for(const n of D(u))typeof u[n]=="function"&&d.push(n);return d}function o(u,d){const n=f=>function(){const v=Array.prototype.slice.call(arguments,0);return d(f,v)},i={};for(const f of u)i[f]=n(f);return i}},99692:function(Ot,Ke,e){"use strict";e.d(Ke,{EH:function(){return _},nJ:function(){return M},UV:function(){return I},gp:function(){return D},Dz:function(){return o},nK:function(){return U.nK},aK:function(){return U.aK},bx:function(){return C},bk:function(){return U.bk},Be:function(){return U.Be},DN:function(){return b.DN},rD:function(){return n},GN:function(){return a},aq:function(){return f},uh:function(){return b.uh},jx:function(){return g},c8:function(){return b.c8},PS:function(){return b.PS},F_:function(){return d}});var b=e(96512),U=e(54282),r=e(35146),w=e(5976),c=e(121);function _(A){return new p(void 0,A,void 0,void 0)}function I(A,N){return new p(A.debugName,N,void 0,void 0)}function M(A,N){return new p(A.debugName,N,A.createEmptyChangeSummary,A.handleChange)}function D(A){const N=new w.SL,B=I({debugName:()=>(0,b.$P)(A)||"(anonymous)"},W=>{N.clear(),A(W,N)});return(0,w.OF)(()=>{B.dispose(),N.dispose()})}class p{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const B=this._debugName();if(B!==void 0)return B}const N=(0,b.$P)(this._runFn);return N!==void 0?N:"(anonymous)"}constructor(N,B,W,$){var Y,R;this._debugName=N,this._runFn=B,this.createChangeSummary=W,this._handleChange=$,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Y=this.createChangeSummary)===null||Y===void 0?void 0:Y.call(this),(R=(0,c.jl)())===null||R===void 0||R.handleAutorunCreated(this),this._runIfNeeded(),(0,w.wi)(this)}dispose(){this.disposed=!0;for(const N of this.dependencies)N.removeObserver(this);this.dependencies.clear(),(0,w.Nq)(this)}_runIfNeeded(){var N,B,W;if(this.state===3)return;const $=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=$,this.state=3;const Y=this.disposed;try{if(!Y){(N=(0,c.jl)())===null||N===void 0||N.handleAutorunTriggered(this);const R=this.changeSummary;this.changeSummary=(B=this.createChangeSummary)===null||B===void 0?void 0:B.call(this),this._runFn(this,R)}}finally{Y||(W=(0,c.jl)())===null||W===void 0||W.handleAutorunFinished(this);for(const R of this.dependenciesToBeRemoved)R.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const N of this.dependencies)if(N.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,r.eZ)(()=>this.updateCount>=0)}handlePossibleChange(N){this.state===3&&this.dependencies.has(N)&&!this.dependenciesToBeRemoved.has(N)&&(this.state=1)}handleChange(N,B){this.dependencies.has(N)&&!this.dependenciesToBeRemoved.has(N)&&(!this._handleChange||this._handleChange({changedObservable:N,change:B,didChange:$=>$===N},this.changeSummary))&&(this.state=2)}readObservable(N){if(this.disposed)return N.get();N.addObserver(this);const B=N.get();return this.dependencies.add(N),this.dependenciesToBeRemoved.delete(N),B}}(function(A){A.Observer=p})(_||(_={}));function o(A){return new u(A)}class u extends b.Nc{constructor(N){super(),this.value=N}get debugName(){return this.toString()}get(){return this.value}addObserver(N){}removeObserver(N){}toString(){return`Const: ${this.value}`}}function d(A,N){return new Promise(B=>{let W=!1,$=!1;const Y=A.map(L=>({isFinished:N(L),state:L})),R=_(L=>{const{isFinished:z,state:O}=Y.read(L);z&&(W?R.dispose():$=!0,B(O))});W=!0,$&&R.dispose()})}function n(A,N){return new i(A,N)}class i extends b.hm{constructor(N,B){super(),this.event=N,this._getValue=B,this.hasValue=!1,this.handleEvent=W=>{var $;const Y=this._getValue(W),R=this.value,L=!this.hasValue||R!==Y;let z=!1;L&&(this.value=Y,this.hasValue&&(z=!0,(0,b.c8)(i.globalTransaction,O=>{var P;(P=(0,c.jl)())===null||P===void 0||P.handleFromEventObservableTriggered(this,{oldValue:R,newValue:Y,change:void 0,didChange:L,hadValue:this.hasValue});for(const H of this.observers)O.updateObserver(H,this),H.handleChange(this,void 0)},()=>{const O=this.getDebugName();return"Event fired"+(O?`: ${O}`:"")})),this.hasValue=!0),z||($=(0,c.jl)())===null||$===void 0||$.handleFromEventObservableTriggered(this,{oldValue:R,newValue:Y,change:void 0,didChange:L,hadValue:this.hasValue})}}getDebugName(){return(0,b.$P)(this._getValue)}get debugName(){const N=this.getDebugName();return"From Event"+(N?`: ${N}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(A){A.Observer=i;function N(B,W){let $=!1;i.globalTransaction===void 0&&(i.globalTransaction=B,$=!0);try{W()}finally{$&&(i.globalTransaction=void 0)}}A.batchEventsGlobally=N})(n||(n={}));function f(A,N){return new v(A,N)}class v extends b.hm{constructor(N,B){super(),this.debugName=N,this.event=B,this.handleEvent=()=>{(0,b.PS)(W=>{for(const $ of this.observers)W.updateObserver($,this),$.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function a(A){return typeof A=="string"?new S(A):new S(void 0,A)}class S extends b.hm{get debugName(){var N;return(N=(0,b.fE)(this,this._debugName,void 0,this._owner,this))!==null&&N!==void 0?N:"Observable Signal"}constructor(N,B){super(),this._debugName=N,this._owner=B}trigger(N,B){if(!N){(0,b.PS)(W=>{this.trigger(W,B)},()=>`Trigger signal ${this.debugName}`);return}for(const W of this.observers)N.updateObserver(W,this),W.handleChange(this,B)}get(){}}function g(A,N){const B=new y(!0,N);return A.addObserver(B),N?N(A.get()):A.reportChanges(),(0,w.OF)(()=>{A.removeObserver(B)})}(0,b.MK)(g);class y{constructor(N,B){this._forceRecompute=N,this._handleValue=B,this._counter=0}beginUpdate(N){this._counter++}endUpdate(N){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(N.get()):N.reportChanges())}handlePossibleChange(N){}handleChange(N,B){}}function C(A){let N;return(0,U.nK)(W=>(N=A(W,N),N))}!1&&(0,c.EK)(new c.Qy)},96512:function(Ot,Ke,e){"use strict";e.d(Ke,{$P:function(){return C},Bl:function(){return p},DN:function(){return N},Hr:function(){return o},MK:function(){return r},Nc:function(){return _},PS:function(){return M},c8:function(){return u},fE:function(){return f},hm:function(){return I},mT:function(){return c},uh:function(){return E}});var b=e(121);let U;function r(W){U=W}let w;function c(W){w=W}class _{get TChange(){return null}reportChanges(){this.get()}read($){return $?$.readObservable(this):this.get()}map($,Y){const R=Y===void 0?void 0:$,L=Y===void 0?$:Y;return w({owner:R,debugName:()=>{const z=C(L);if(z!==void 0)return z;const P=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(L.toString());if(P)return`${this.debugName}.${P[2]}`;if(!R)return`${this.debugName} (mapped)`}},z=>L(this.read(z),z))}recomputeInitiallyAndOnChange($,Y){return $.add(U(this,Y)),this}}class I extends _{constructor(){super(...arguments),this.observers=new Set}addObserver($){const Y=this.observers.size;this.observers.add($),Y===0&&this.onFirstObserverAdded()}removeObserver($){this.observers.delete($)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function M(W,$){const Y=new d(W,$);try{W(Y)}finally{Y.finish()}}let D;function p(W){if(D)W(D);else{const $=new d(W,void 0);D=$;try{W($)}finally{$.finish(),D=void 0}}}function o(W,$){return tn(this,null,function*(){const Y=new d(W,$);try{yield W(Y)}finally{Y.finish()}})}function u(W,$,Y){W?$(W):M($,Y)}class d{constructor($,Y){var R;this._fn=$,this._getDebugName=Y,this.updatingObservers=[],(R=(0,b.jl)())===null||R===void 0||R.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():C(this._fn)}updateObserver($,Y){this.updatingObservers.push({observer:$,observable:Y}),$.beginUpdate(Y)}finish(){var $;const Y=this.updatingObservers;for(let R=0;R<Y.length;R++){const{observer:L,observable:z}=Y[R];L.endUpdate(z)}this.updatingObservers=null,($=(0,b.jl)())===null||$===void 0||$.handleEndTransaction()}}const n=new Map,i=new WeakMap;function f(W,$,Y,R,L){var z;const O=i.get(W);if(O)return O;const P=v(W,$,Y,R,L);if(P){let H=(z=n.get(P))!==null&&z!==void 0?z:0;H++,n.set(P,H);const V=H===1?P:`${P}#${H}`;return i.set(W,V),V}}function v(W,$,Y,R,L){const z=i.get(W);if(z)return z;const O=R?g(R)+".":"";let P;if($!==void 0)if(typeof $=="function"){if(P=$(),P!==void 0)return O+P}else return O+$;if(Y!==void 0&&(P=C(Y),P!==void 0))return O+P;if(R!==void 0){for(const H in R)if(R[H]===L)return O+H}}const a=new Map,S=new WeakMap;function g(W){var $;const Y=S.get(W);if(Y)return Y;const R=y(W);let L=($=a.get(R))!==null&&$!==void 0?$:0;L++,a.set(R,L);const z=L===1?R:`${R}#${L}`;return S.set(W,z),z}function y(W){const $=W.constructor;return $?$.name:"Object"}function C(W){const $=W.toString(),R=/\/\*\*\s*@description\s*([^*]*)\*\//.exec($),L=R?R[1]:void 0;return L==null?void 0:L.trim()}function E(W,$){return typeof W=="string"?new A(void 0,W,$):new A(W,void 0,$)}class A extends I{get debugName(){var $;return($=f(this,this._debugName,void 0,this._owner,this))!==null&&$!==void 0?$:"ObservableValue"}constructor($,Y,R){super(),this._owner=$,this._debugName=Y,this._value=R}get(){return this._value}set($,Y,R){var L;if(this._value===$)return;let z;Y||(Y=z=new d(()=>{},()=>`Setting ${this.debugName}`));try{const O=this._value;this._setValue($),(L=(0,b.jl)())===null||L===void 0||L.handleObservableChanged(this,{oldValue:O,newValue:$,change:R,didChange:!0,hadValue:!0});for(const P of this.observers)Y.updateObserver(P,this),P.handleChange(this,R)}finally{z&&z.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue($){this._value=$}}function N(W,$){return typeof W=="string"?new B(void 0,W,$):new B(W,void 0,$)}class B extends A{_setValue($){this._value!==$&&(this._value&&this._value.dispose(),this._value=$)}dispose(){var $;($=this._value)===null||$===void 0||$.dispose()}}},54282:function(Ot,Ke,e){"use strict";e.d(Ke,{Be:function(){return D},aK:function(){return M},bk:function(){return I},kA:function(){return p},nK:function(){return _}});var b=e(17301),U=e(5976),r=e(96512),w=e(121);const c=(u,d)=>u===d;function _(u,d){return d!==void 0?new o(u,void 0,d,void 0,void 0,void 0,c):new o(void 0,void 0,u,void 0,void 0,void 0,c)}function I(u,d){var n;return new o(u.owner,u.debugName,d,void 0,void 0,void 0,(n=u.equalityComparer)!==null&&n!==void 0?n:c)}function M(u,d){var n;return new o(u.owner,u.debugName,d,u.createEmptyChangeSummary,u.handleChange,void 0,(n=u.equalityComparer)!==null&&n!==void 0?n:c)}function D(u,d){let n,i;d===void 0?(n=u,i=void 0):(i=u,n=d);const f=new U.SL;return new o(i,()=>{var v;return(v=(0,r.$P)(n))!==null&&v!==void 0?v:"(anonymous)"},v=>(f.clear(),n(v,f)),void 0,void 0,()=>f.dispose(),c)}function p(u,d){let n,i;d===void 0?(n=u,i=void 0):(i=u,n=d);const f=new U.SL;return new o(i,()=>{var v;return(v=(0,r.$P)(n))!==null&&v!==void 0?v:"(anonymous)"},v=>{f.clear();const a=n(v);return a&&f.add(a),a},void 0,void 0,()=>f.dispose(),c)}(0,r.mT)(I);class o extends r.hm{get debugName(){var d;return(d=(0,r.fE)(this,this._debugName,this._computeFn,this._owner,this))!==null&&d!==void 0?d:"(anonymous)"}constructor(d,n,i,f,v,a=void 0,S){var g,y;super(),this._owner=d,this._debugName=n,this._computeFn=i,this.createChangeSummary=f,this._handleChange=v,this._handleLastObserverRemoved=a,this._equalityComparator=S,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(g=this.createChangeSummary)===null||g===void 0?void 0:g.call(this),(y=(0,w.jl)())===null||y===void 0||y.handleDerivedCreated(this)}onLastObserverRemoved(){var d;this.state=0,this.value=void 0;for(const n of this.dependencies)n.removeObserver(this);this.dependencies.clear(),(d=this._handleLastObserverRemoved)===null||d===void 0||d.call(this)}get(){var d;if(this.observers.size===0){const n=this._computeFn(this,(d=this.createChangeSummary)===null||d===void 0?void 0:d.call(this));return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(const n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var d,n;if(this.state===3)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i;const f=this.state!==0,v=this.value;this.state=3;const a=this.changeSummary;this.changeSummary=(d=this.createChangeSummary)===null||d===void 0?void 0:d.call(this);try{this.value=this._computeFn(this,a)}finally{for(const g of this.dependenciesToBeRemoved)g.removeObserver(this);this.dependenciesToBeRemoved.clear()}const S=f&&!this._equalityComparator(v,this.value);if((n=(0,w.jl)())===null||n===void 0||n.handleDerivedRecomputed(this,{oldValue:v,newValue:this.value,change:void 0,didChange:S,hadValue:f}),S)for(const g of this.observers)g.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(d){this.updateCount++;const n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(const i of this.observers)i.handlePossibleChange(this);if(n)for(const i of this.observers)i.beginUpdate(this)}endUpdate(d){if(this.updateCount--,this.updateCount===0){const n=[...this.observers];for(const i of n)i.endUpdate(this)}if(this.updateCount<0)throw new b.he}handlePossibleChange(d){if(this.state===3&&this.dependencies.has(d)&&!this.dependenciesToBeRemoved.has(d)){this.state=1;for(const n of this.observers)n.handlePossibleChange(this)}}handleChange(d,n){if(this.dependencies.has(d)&&!this.dependenciesToBeRemoved.has(d)){const i=this._handleChange?this._handleChange({changedObservable:d,change:n,didChange:v=>v===d},this.changeSummary):!0,f=this.state===3;if(i&&(this.state===1||f)&&(this.state=2,f))for(const v of this.observers)v.handlePossibleChange(this)}}readObservable(d){d.addObserver(this);const n=d.get();return this.dependencies.add(d),this.dependenciesToBeRemoved.delete(d),n}addObserver(d){const n=!this.observers.has(d)&&this.updateCount>0;super.addObserver(d),n&&d.beginUpdate(this)}removeObserver(d){const n=this.observers.has(d)&&this.updateCount>0;super.removeObserver(d),n&&d.endUpdate(this)}}},121:function(Ot,Ke,e){"use strict";e.d(Ke,{EK:function(){return U},Qy:function(){return w},jl:function(){return r}});let b;function U(n){b=n}function r(){return b}class w{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(i){return c([_(u("|  ",this.indentation)),i])}formatInfo(i){return i.hadValue?i.didChange?[_(" "),M(D(i.oldValue,70),{color:"red",strikeThrough:!0}),_(" "),M(D(i.newValue,60),{color:"green"})]:[_(" (unchanged)")]:[_(" "),M(D(i.newValue,60),{color:"green"}),_(" (initial)")]}handleObservableChanged(i,f){console.log(...this.textToConsoleArgs([I("observable value changed"),M(i.debugName,{color:"BlueViolet"}),...this.formatInfo(f)]))}formatChanges(i){if(i.size!==0)return M(" (changed deps: "+[...i].map(f=>f.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(i){const f=i.handleChange;this.changedObservablesSets.set(i,new Set),i.handleChange=(v,a)=>(this.changedObservablesSets.get(i).add(v),f.apply(i,[v,a]))}handleDerivedRecomputed(i,f){const v=this.changedObservablesSets.get(i);console.log(...this.textToConsoleArgs([I("derived recomputed"),M(i.debugName,{color:"BlueViolet"}),...this.formatInfo(f),this.formatChanges(v),{data:[{fn:i._computeFn}]}])),v.clear()}handleFromEventObservableTriggered(i,f){console.log(...this.textToConsoleArgs([I("observable from event triggered"),M(i.debugName,{color:"BlueViolet"}),...this.formatInfo(f),{data:[{fn:i._getValue}]}]))}handleAutorunCreated(i){const f=i.handleChange;this.changedObservablesSets.set(i,new Set),i.handleChange=(v,a)=>(this.changedObservablesSets.get(i).add(v),f.apply(i,[v,a]))}handleAutorunTriggered(i){const f=this.changedObservablesSets.get(i);console.log(...this.textToConsoleArgs([I("autorun"),M(i.debugName,{color:"BlueViolet"}),this.formatChanges(f),{data:[{fn:i._runFn}]}])),f.clear(),this.indentation++}handleAutorunFinished(i){this.indentation--}handleBeginTransaction(i){let f=i.getDebugName();f===void 0&&(f=""),console.log(...this.textToConsoleArgs([I("transaction"),M(f,{color:"BlueViolet"}),{data:[{fn:i._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function c(n){const i=new Array,f=[];let v="";function a(g){if("length"in g)for(const y of g)y&&a(y);else"text"in g?(v+=`%c${g.text}`,i.push(g.style),g.data&&f.push(...g.data)):"data"in g&&f.push(...g.data)}a(n);const S=[v,...i];return S.push(...f),S}function _(n){return M(n,{color:"black"})}function I(n){return M(d(`${n}: `,10),{color:"black",bold:!0})}function M(n,i={color:"black"}){function f(a){return Object.entries(a).reduce((S,[g,y])=>`${S}${g}:${y};`,"")}const v={color:i.color};return i.strikeThrough&&(v["text-decoration"]="line-through"),i.bold&&(v["font-weight"]="bold"),{text:n,style:f(v)}}function D(n,i){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=i?`"${n}"`:`"${n.substr(0,i-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?p(n,i):o(n,i);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function p(n,i){let f="[ ",v=!0;for(const a of n){if(v||(f+=", "),f.length-5>i){f+="...";break}v=!1,f+=`${D(a,i-f.length)}`}return f+=" ]",f}function o(n,i){let f="{ ",v=!0;for(const[a,S]of Object.entries(n)){if(v||(f+=", "),f.length-5>i){f+="...";break}v=!1,f+=`${a}: ${D(S,i-f.length)}`}return f+=" }",f}function u(n,i){let f="";for(let v=1;v<=i;v++)f+=n;return f}function d(n,i){for(;n.length<i;)n+=" ";return n}},82663:function(Ot,Ke,e){"use strict";e.d(Ke,{DB:function(){return A},DZ:function(){return $},EZ:function(){return W},Fv:function(){return E},Gf:function(){return N},KR:function(){return C},Ku:function(){return g},XX:function(){return B},ir:function(){return Y}});var b=e(76648);const U=65,r=97,w=90,c=122,_=46,I=47,M=92,D=58,p=63;class o extends Error{constructor(L,z,O){let P;typeof z=="string"&&z.indexOf("not ")===0?(P="must not be",z=z.replace(/^not /,"")):P="must be";const H=L.indexOf(".")!==-1?"property":"argument";let V=`The "${L}" ${H} ${P} of type ${z}`;V+=`. Received type ${typeof O}`,super(V),this.code="ERR_INVALID_ARG_TYPE"}}function u(R,L){if(R===null||typeof R!="object")throw new o(L,"Object",R)}function d(R,L){if(typeof R!="string")throw new o(L,"string",R)}const n=b.Jv==="win32";function i(R){return R===I||R===M}function f(R){return R===I}function v(R){return R>=U&&R<=w||R>=r&&R<=c}function a(R,L,z,O){let P="",H=0,V=-1,G=0,j=0;for(let F=0;F<=R.length;++F){if(F<R.length)j=R.charCodeAt(F);else{if(O(j))break;j=I}if(O(j)){if(!(V===F-1||G===1))if(G===2){if(P.length<2||H!==2||P.charCodeAt(P.length-1)!==_||P.charCodeAt(P.length-2)!==_){if(P.length>2){const K=P.lastIndexOf(z);K===-1?(P="",H=0):(P=P.slice(0,K),H=P.length-1-P.lastIndexOf(z)),V=F,G=0;continue}else if(P.length!==0){P="",H=0,V=F,G=0;continue}}L&&(P+=P.length>0?`${z}..`:"..",H=2)}else P.length>0?P+=`${z}${R.slice(V+1,F)}`:P=R.slice(V+1,F),H=F-V-1;V=F,G=0}else j===_&&G!==-1?++G:G=-1}return P}function S(R,L){u(L,"pathObject");const z=L.dir||L.root,O=L.base||`${L.name||""}${L.ext||""}`;return z?z===L.root?`${z}${O}`:`${z}${R}${O}`:O}const g={resolve(...R){let L="",z="",O=!1;for(let P=R.length-1;P>=-1;P--){let H;if(P>=0){if(H=R[P],d(H,"path"),H.length===0)continue}else L.length===0?H=b.Vj():(H={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${L}`]||b.Vj(),(H===void 0||H.slice(0,2).toLowerCase()!==L.toLowerCase()&&H.charCodeAt(2)===M)&&(H=`${L}\\`));const V=H.length;let G=0,j="",F=!1;const K=H.charCodeAt(0);if(V===1)i(K)&&(G=1,F=!0);else if(i(K))if(F=!0,i(H.charCodeAt(1))){let m=2,J=m;for(;m<V&&!i(H.charCodeAt(m));)m++;if(m<V&&m!==J){const X=H.slice(J,m);for(J=m;m<V&&i(H.charCodeAt(m));)m++;if(m<V&&m!==J){for(J=m;m<V&&!i(H.charCodeAt(m));)m++;(m===V||m!==J)&&(j=`\\\\${X}\\${H.slice(J,m)}`,G=m)}}}else G=1;else v(K)&&H.charCodeAt(1)===D&&(j=H.slice(0,2),G=2,V>2&&i(H.charCodeAt(2))&&(F=!0,G=3));if(j.length>0)if(L.length>0){if(j.toLowerCase()!==L.toLowerCase())continue}else L=j;if(O){if(L.length>0)break}else if(z=`${H.slice(G)}\\${z}`,O=F,F&&L.length>0)break}return z=a(z,!O,"\\",i),O?`${L}\\${z}`:`${L}${z}`||"."},normalize(R){d(R,"path");const L=R.length;if(L===0)return".";let z=0,O,P=!1;const H=R.charCodeAt(0);if(L===1)return f(H)?"\\":R;if(i(H))if(P=!0,i(R.charCodeAt(1))){let G=2,j=G;for(;G<L&&!i(R.charCodeAt(G));)G++;if(G<L&&G!==j){const F=R.slice(j,G);for(j=G;G<L&&i(R.charCodeAt(G));)G++;if(G<L&&G!==j){for(j=G;G<L&&!i(R.charCodeAt(G));)G++;if(G===L)return`\\\\${F}\\${R.slice(j)}\\`;G!==j&&(O=`\\\\${F}\\${R.slice(j,G)}`,z=G)}}}else z=1;else v(H)&&R.charCodeAt(1)===D&&(O=R.slice(0,2),z=2,L>2&&i(R.charCodeAt(2))&&(P=!0,z=3));let V=z<L?a(R.slice(z),!P,"\\",i):"";return V.length===0&&!P&&(V="."),V.length>0&&i(R.charCodeAt(L-1))&&(V+="\\"),O===void 0?P?`\\${V}`:V:P?`${O}\\${V}`:`${O}${V}`},isAbsolute(R){d(R,"path");const L=R.length;if(L===0)return!1;const z=R.charCodeAt(0);return i(z)||L>2&&v(z)&&R.charCodeAt(1)===D&&i(R.charCodeAt(2))},join(...R){if(R.length===0)return".";let L,z;for(let H=0;H<R.length;++H){const V=R[H];d(V,"path"),V.length>0&&(L===void 0?L=z=V:L+=`\\${V}`)}if(L===void 0)return".";let O=!0,P=0;if(typeof z=="string"&&i(z.charCodeAt(0))){++P;const H=z.length;H>1&&i(z.charCodeAt(1))&&(++P,H>2&&(i(z.charCodeAt(2))?++P:O=!1))}if(O){for(;P<L.length&&i(L.charCodeAt(P));)P++;P>=2&&(L=`\\${L.slice(P)}`)}return g.normalize(L)},relative(R,L){if(d(R,"from"),d(L,"to"),R===L)return"";const z=g.resolve(R),O=g.resolve(L);if(z===O||(R=z.toLowerCase(),L=O.toLowerCase(),R===L))return"";let P=0;for(;P<R.length&&R.charCodeAt(P)===M;)P++;let H=R.length;for(;H-1>P&&R.charCodeAt(H-1)===M;)H--;const V=H-P;let G=0;for(;G<L.length&&L.charCodeAt(G)===M;)G++;let j=L.length;for(;j-1>G&&L.charCodeAt(j-1)===M;)j--;const F=j-G,K=V<F?V:F;let m=-1,J=0;for(;J<K;J++){const te=R.charCodeAt(P+J);if(te!==L.charCodeAt(G+J))break;te===M&&(m=J)}if(J!==K){if(m===-1)return O}else{if(F>K){if(L.charCodeAt(G+J)===M)return O.slice(G+J+1);if(J===2)return O.slice(G+J)}V>K&&(R.charCodeAt(P+J)===M?m=J:J===2&&(m=3)),m===-1&&(m=0)}let X="";for(J=P+m+1;J<=H;++J)(J===H||R.charCodeAt(J)===M)&&(X+=X.length===0?"..":"\\..");return G+=m,X.length>0?`${X}${O.slice(G,j)}`:(O.charCodeAt(G)===M&&++G,O.slice(G,j))},toNamespacedPath(R){if(typeof R!="string"||R.length===0)return R;const L=g.resolve(R);if(L.length<=2)return R;if(L.charCodeAt(0)===M){if(L.charCodeAt(1)===M){const z=L.charCodeAt(2);if(z!==p&&z!==_)return`\\\\?\\UNC\\${L.slice(2)}`}}else if(v(L.charCodeAt(0))&&L.charCodeAt(1)===D&&L.charCodeAt(2)===M)return`\\\\?\\${L}`;return R},dirname(R){d(R,"path");const L=R.length;if(L===0)return".";let z=-1,O=0;const P=R.charCodeAt(0);if(L===1)return i(P)?R:".";if(i(P)){if(z=O=1,i(R.charCodeAt(1))){let G=2,j=G;for(;G<L&&!i(R.charCodeAt(G));)G++;if(G<L&&G!==j){for(j=G;G<L&&i(R.charCodeAt(G));)G++;if(G<L&&G!==j){for(j=G;G<L&&!i(R.charCodeAt(G));)G++;if(G===L)return R;G!==j&&(z=O=G+1)}}}}else v(P)&&R.charCodeAt(1)===D&&(z=L>2&&i(R.charCodeAt(2))?3:2,O=z);let H=-1,V=!0;for(let G=L-1;G>=O;--G)if(i(R.charCodeAt(G))){if(!V){H=G;break}}else V=!1;if(H===-1){if(z===-1)return".";H=z}return R.slice(0,H)},basename(R,L){L!==void 0&&d(L,"ext"),d(R,"path");let z=0,O=-1,P=!0,H;if(R.length>=2&&v(R.charCodeAt(0))&&R.charCodeAt(1)===D&&(z=2),L!==void 0&&L.length>0&&L.length<=R.length){if(L===R)return"";let V=L.length-1,G=-1;for(H=R.length-1;H>=z;--H){const j=R.charCodeAt(H);if(i(j)){if(!P){z=H+1;break}}else G===-1&&(P=!1,G=H+1),V>=0&&(j===L.charCodeAt(V)?--V===-1&&(O=H):(V=-1,O=G))}return z===O?O=G:O===-1&&(O=R.length),R.slice(z,O)}for(H=R.length-1;H>=z;--H)if(i(R.charCodeAt(H))){if(!P){z=H+1;break}}else O===-1&&(P=!1,O=H+1);return O===-1?"":R.slice(z,O)},extname(R){d(R,"path");let L=0,z=-1,O=0,P=-1,H=!0,V=0;R.length>=2&&R.charCodeAt(1)===D&&v(R.charCodeAt(0))&&(L=O=2);for(let G=R.length-1;G>=L;--G){const j=R.charCodeAt(G);if(i(j)){if(!H){O=G+1;break}continue}P===-1&&(H=!1,P=G+1),j===_?z===-1?z=G:V!==1&&(V=1):z!==-1&&(V=-1)}return z===-1||P===-1||V===0||V===1&&z===P-1&&z===O+1?"":R.slice(z,P)},format:S.bind(null,"\\"),parse(R){d(R,"path");const L={root:"",dir:"",base:"",ext:"",name:""};if(R.length===0)return L;const z=R.length;let O=0,P=R.charCodeAt(0);if(z===1)return i(P)?(L.root=L.dir=R,L):(L.base=L.name=R,L);if(i(P)){if(O=1,i(R.charCodeAt(1))){let m=2,J=m;for(;m<z&&!i(R.charCodeAt(m));)m++;if(m<z&&m!==J){for(J=m;m<z&&i(R.charCodeAt(m));)m++;if(m<z&&m!==J){for(J=m;m<z&&!i(R.charCodeAt(m));)m++;m===z?O=m:m!==J&&(O=m+1)}}}}else if(v(P)&&R.charCodeAt(1)===D){if(z<=2)return L.root=L.dir=R,L;if(O=2,i(R.charCodeAt(2))){if(z===3)return L.root=L.dir=R,L;O=3}}O>0&&(L.root=R.slice(0,O));let H=-1,V=O,G=-1,j=!0,F=R.length-1,K=0;for(;F>=O;--F){if(P=R.charCodeAt(F),i(P)){if(!j){V=F+1;break}continue}G===-1&&(j=!1,G=F+1),P===_?H===-1?H=F:K!==1&&(K=1):H!==-1&&(K=-1)}return G!==-1&&(H===-1||K===0||K===1&&H===G-1&&H===V+1?L.base=L.name=R.slice(V,G):(L.name=R.slice(V,H),L.base=R.slice(V,G),L.ext=R.slice(H,G))),V>0&&V!==O?L.dir=R.slice(0,V-1):L.dir=L.root,L},sep:"\\",delimiter:";",win32:null,posix:null},y=(()=>{if(n){const R=/\\/g;return()=>{const L=b.Vj().replace(R,"/");return L.slice(L.indexOf("/"))}}return()=>b.Vj()})(),C={resolve(...R){let L="",z=!1;for(let O=R.length-1;O>=-1&&!z;O--){const P=O>=0?R[O]:y();d(P,"path"),P.length!==0&&(L=`${P}/${L}`,z=P.charCodeAt(0)===I)}return L=a(L,!z,"/",f),z?`/${L}`:L.length>0?L:"."},normalize(R){if(d(R,"path"),R.length===0)return".";const L=R.charCodeAt(0)===I,z=R.charCodeAt(R.length-1)===I;return R=a(R,!L,"/",f),R.length===0?L?"/":z?"./":".":(z&&(R+="/"),L?`/${R}`:R)},isAbsolute(R){return d(R,"path"),R.length>0&&R.charCodeAt(0)===I},join(...R){if(R.length===0)return".";let L;for(let z=0;z<R.length;++z){const O=R[z];d(O,"path"),O.length>0&&(L===void 0?L=O:L+=`/${O}`)}return L===void 0?".":C.normalize(L)},relative(R,L){if(d(R,"from"),d(L,"to"),R===L||(R=C.resolve(R),L=C.resolve(L),R===L))return"";const z=1,O=R.length,P=O-z,H=1,V=L.length-H,G=P<V?P:V;let j=-1,F=0;for(;F<G;F++){const m=R.charCodeAt(z+F);if(m!==L.charCodeAt(H+F))break;m===I&&(j=F)}if(F===G)if(V>G){if(L.charCodeAt(H+F)===I)return L.slice(H+F+1);if(F===0)return L.slice(H+F)}else P>G&&(R.charCodeAt(z+F)===I?j=F:F===0&&(j=0));let K="";for(F=z+j+1;F<=O;++F)(F===O||R.charCodeAt(F)===I)&&(K+=K.length===0?"..":"/..");return`${K}${L.slice(H+j)}`},toNamespacedPath(R){return R},dirname(R){if(d(R,"path"),R.length===0)return".";const L=R.charCodeAt(0)===I;let z=-1,O=!0;for(let P=R.length-1;P>=1;--P)if(R.charCodeAt(P)===I){if(!O){z=P;break}}else O=!1;return z===-1?L?"/":".":L&&z===1?"//":R.slice(0,z)},basename(R,L){L!==void 0&&d(L,"ext"),d(R,"path");let z=0,O=-1,P=!0,H;if(L!==void 0&&L.length>0&&L.length<=R.length){if(L===R)return"";let V=L.length-1,G=-1;for(H=R.length-1;H>=0;--H){const j=R.charCodeAt(H);if(j===I){if(!P){z=H+1;break}}else G===-1&&(P=!1,G=H+1),V>=0&&(j===L.charCodeAt(V)?--V===-1&&(O=H):(V=-1,O=G))}return z===O?O=G:O===-1&&(O=R.length),R.slice(z,O)}for(H=R.length-1;H>=0;--H)if(R.charCodeAt(H)===I){if(!P){z=H+1;break}}else O===-1&&(P=!1,O=H+1);return O===-1?"":R.slice(z,O)},extname(R){d(R,"path");let L=-1,z=0,O=-1,P=!0,H=0;for(let V=R.length-1;V>=0;--V){const G=R.charCodeAt(V);if(G===I){if(!P){z=V+1;break}continue}O===-1&&(P=!1,O=V+1),G===_?L===-1?L=V:H!==1&&(H=1):L!==-1&&(H=-1)}return L===-1||O===-1||H===0||H===1&&L===O-1&&L===z+1?"":R.slice(L,O)},format:S.bind(null,"/"),parse(R){d(R,"path");const L={root:"",dir:"",base:"",ext:"",name:""};if(R.length===0)return L;const z=R.charCodeAt(0)===I;let O;z?(L.root="/",O=1):O=0;let P=-1,H=0,V=-1,G=!0,j=R.length-1,F=0;for(;j>=O;--j){const K=R.charCodeAt(j);if(K===I){if(!G){H=j+1;break}continue}V===-1&&(G=!1,V=j+1),K===_?P===-1?P=j:F!==1&&(F=1):P!==-1&&(F=-1)}if(V!==-1){const K=H===0&&z?1:H;P===-1||F===0||F===1&&P===V-1&&P===H+1?L.base=L.name=R.slice(K,V):(L.name=R.slice(K,P),L.base=R.slice(K,V),L.ext=R.slice(P,V))}return H>0?L.dir=R.slice(0,H-1):z&&(L.dir="/"),L},sep:"/",delimiter:":",win32:null,posix:null};C.win32=g.win32=g,C.posix=g.posix=C;const E=n?g.normalize:C.normalize,A=n?g.resolve:C.resolve,N=n?g.relative:C.relative,B=n?g.dirname:C.dirname,W=n?g.basename:C.basename,$=n?g.extname:C.extname,Y=n?g.sep:C.sep},1432:function(Ot,Ke,e){"use strict";e.d(Ke,{$L:function(){return Y},ED:function(){return N},G6:function(){return te},IJ:function(){return W},OS:function(){return j},dK:function(){return H},dz:function(){return B},fn:function(){return G},gn:function(){return z},i7:function(){return J},qB:function(){return L},r:function(){return m},tY:function(){return $},tq:function(){return O},un:function(){return le},vU:function(){return X}});var b=e(63580),U=e(34155),r;const w="en";let c=!1,_=!1,I=!1,M=!1,D=!1,p=!1,o=!1,u=!1,d=!1,n=!1,i,f=w,v=null,a=null,S;const g=globalThis;let y;typeof g.vscode!="undefined"&&typeof g.vscode.process!="undefined"?y=g.vscode.process:typeof U!="undefined"&&(y=U);const C=typeof((r=y==null?void 0:y.versions)===null||r===void 0?void 0:r.electron)=="string",E=C&&(y==null?void 0:y.type)==="renderer";if(typeof navigator=="object"&&!E)S=navigator.userAgent,c=S.indexOf("Windows")>=0,_=S.indexOf("Macintosh")>=0,u=(S.indexOf("Macintosh")>=0||S.indexOf("iPad")>=0||S.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,I=S.indexOf("Linux")>=0,n=(S==null?void 0:S.indexOf("Mobi"))>=0,p=!0,i=b.aj(b.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||w,f=i,v=navigator.language;else if(typeof y=="object"){c=y.platform==="win32",_=y.platform==="darwin",I=y.platform==="linux",M=I&&!!y.env.SNAP&&!!y.env.SNAP_REVISION,o=C,d=!!y.env.CI||!!y.env.BUILD_ARTIFACTSTAGINGDIRECTORY,i=w,f=w;const we=y.env.VSCODE_NLS_CONFIG;if(we)try{const pe=JSON.parse(we),Pe=pe.availableLanguages["*"];i=pe.locale,v=pe.osLocale,f=Pe||w,a=pe._translationsConfigFile}catch(pe){}D=!0}else console.error("Unable to resolve platform.");let A=0;_?A=1:c?A=3:I&&(A=2);const N=c,B=_,W=I,$=D,Y=p,L=p&&typeof g.importScripts=="function"?g.origin:void 0,z=u,O=n,P=S,H=f,V=typeof g.postMessage=="function"&&!g.importScripts,G=(()=>{if(V){const we=[];g.addEventListener("message",Pe=>{if(Pe.data&&Pe.data.vscodeScheduleAsyncWork)for(let Ne=0,ae=we.length;Ne<ae;Ne++){const Me=we[Ne];if(Me.id===Pe.data.vscodeScheduleAsyncWork){we.splice(Ne,1),Me.callback();return}}});let pe=0;return Pe=>{const Ne=++pe;we.push({id:Ne,callback:Pe}),g.postMessage({vscodeScheduleAsyncWork:Ne},"*")}}return we=>setTimeout(we)})(),j=_||u?2:c?1:3;let F=!0,K=!1;function m(){if(!K){K=!0;const we=new Uint8Array(2);we[0]=1,we[1]=2,F=new Uint16Array(we.buffer)[0]===512+1}return F}const J=!!(P&&P.indexOf("Chrome")>=0),X=!!(P&&P.indexOf("Firefox")>=0),te=!!(!J&&P&&P.indexOf("Safari")>=0),le=!!(P&&P.indexOf("Edg/")>=0),ge=!!(P&&P.indexOf("Android")>=0)},76648:function(Ot,Ke,e){"use strict";e.d(Ke,{Jv:function(){return I},OB:function(){return _},Vj:function(){return c}});var b=e(1432),U=e(34155);let r;const w=globalThis.vscode;if(typeof w!="undefined"&&typeof w.process!="undefined"){const M=w.process;r={get platform(){return M.platform},get arch(){return M.arch},get env(){return M.env},cwd(){return M.cwd()}}}else typeof U!="undefined"?r={get platform(){return U.platform},get arch(){return U.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||U.cwd()}}:r={get platform(){return b.ED?"win32":b.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const c=r.cwd,_=r.env,I=r.platform},61134:function(Ot,Ke,e){"use strict";e.d(Ke,{e:function(){return b}});var b;(function(U){function r(I,M){if(I.start>=M.end||M.start>=I.end)return{start:0,end:0};const D=Math.max(I.start,M.start),p=Math.min(I.end,M.end);return p-D<=0?{start:0,end:0}:{start:D,end:p}}U.intersect=r;function w(I){return I.end-I.start<=0}U.isEmpty=w;function c(I,M){return!w(r(I,M))}U.intersects=c;function _(I,M){const D=[],p={start:I.start,end:Math.min(M.start,I.end)},o={start:Math.max(M.end,I.start),end:I.end};return w(p)||D.push(p),w(o)||D.push(o),D}U.relativeComplement=_})(b||(b={}))},95935:function(Ot,Ke,e){"use strict";e.d(Ke,{AH:function(){return g},DZ:function(){return v},EZ:function(){return f},Hx:function(){return i},SF:function(){return D},Vb:function(){return $},Vo:function(){return S},XX:function(){return a},Xy:function(){return u},i3:function(){return C},lX:function(){return y},z_:function(){return I}});var b=e(15527),U=e(66663),r=e(82663),w=e(1432),c=e(97295),_=e(70666);function I(Y){return(0,_.q)(Y,!0)}class M{constructor(R){this._ignorePathCasing=R}compare(R,L,z=!1){return R===L?0:(0,c.qu)(this.getComparisonKey(R,z),this.getComparisonKey(L,z))}isEqual(R,L,z=!1){return R===L?!0:!R||!L?!1:this.getComparisonKey(R,z)===this.getComparisonKey(L,z)}getComparisonKey(R,L=!1){return R.with({path:this._ignorePathCasing(R)?R.path.toLowerCase():void 0,fragment:L?null:void 0}).toString()}isEqualOrParent(R,L,z=!1){if(R.scheme===L.scheme){if(R.scheme===U.lg.file)return b.KM(I(R),I(L),this._ignorePathCasing(R))&&R.query===L.query&&(z||R.fragment===L.fragment);if(A(R.authority,L.authority))return b.KM(R.path,L.path,this._ignorePathCasing(R),"/")&&R.query===L.query&&(z||R.fragment===L.fragment)}return!1}joinPath(R,...L){return _.o.joinPath(R,...L)}basenameOrAuthority(R){return f(R)||R.authority}basename(R){return r.KR.basename(R.path)}extname(R){return r.KR.extname(R.path)}dirname(R){if(R.path.length===0)return R;let L;return R.scheme===U.lg.file?L=_.o.file(r.XX(I(R))).path:(L=r.KR.dirname(R.path),R.authority&&L.length&&L.charCodeAt(0)!==47&&(console.error(`dirname("${R.toString})) resulted in a relative path`),L="/")),R.with({path:L})}normalizePath(R){if(!R.path.length)return R;let L;return R.scheme===U.lg.file?L=_.o.file(r.Fv(I(R))).path:L=r.KR.normalize(R.path),R.with({path:L})}relativePath(R,L){if(R.scheme!==L.scheme||!A(R.authority,L.authority))return;if(R.scheme===U.lg.file){const P=r.Gf(I(R),I(L));return w.ED?b.ej(P):P}let z=R.path||"/";const O=L.path||"/";if(this._ignorePathCasing(R)){let P=0;for(const H=Math.min(z.length,O.length);P<H&&!(z.charCodeAt(P)!==O.charCodeAt(P)&&z.charAt(P).toLowerCase()!==O.charAt(P).toLowerCase());P++);z=O.substr(0,P)+z.substr(P)}return r.KR.relative(z,O)}resolvePath(R,L){if(R.scheme===U.lg.file){const z=_.o.file(r.DB(I(R),L));return R.with({authority:z.authority,path:z.path})}return L=b.fn(L),R.with({path:r.KR.resolve(R.path,L)})}isAbsolutePath(R){return!!R.path&&R.path[0]==="/"}isEqualAuthority(R,L){return R===L||R!==void 0&&L!==void 0&&(0,c.qq)(R,L)}hasTrailingPathSeparator(R,L=r.ir){if(R.scheme===U.lg.file){const z=I(R);return z.length>b.yj(z).length&&z[z.length-1]===L}else{const z=R.path;return z.length>1&&z.charCodeAt(z.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(R.fsPath)}}removeTrailingPathSeparator(R,L=r.ir){return N(R,L)?R.with({path:R.path.substr(0,R.path.length-1)}):R}addTrailingPathSeparator(R,L=r.ir){let z=!1;if(R.scheme===U.lg.file){const O=I(R);z=O!==void 0&&O.length===b.yj(O).length&&O[O.length-1]===L}else{L="/";const O=R.path;z=O.length===1&&O.charCodeAt(O.length-1)===47}return!z&&!N(R,L)?R.with({path:R.path+"/"}):R}}const D=new M(()=>!1),p=new M(Y=>Y.scheme===U.lg.file?!w.IJ:!0),o=new M(Y=>!0),u=D.isEqual.bind(D),d=D.isEqualOrParent.bind(D),n=D.getComparisonKey.bind(D),i=D.basenameOrAuthority.bind(D),f=D.basename.bind(D),v=D.extname.bind(D),a=D.dirname.bind(D),S=D.joinPath.bind(D),g=D.normalizePath.bind(D),y=D.relativePath.bind(D),C=D.resolvePath.bind(D),E=D.isAbsolutePath.bind(D),A=D.isEqualAuthority.bind(D),N=D.hasTrailingPathSeparator.bind(D),B=D.removeTrailingPathSeparator.bind(D),W=D.addTrailingPathSeparator.bind(D);var $;(function(Y){Y.META_DATA_LABEL="label",Y.META_DATA_DESCRIPTION="description",Y.META_DATA_SIZE="size",Y.META_DATA_MIME="mime";function R(L){const z=new Map;L.path.substring(L.path.indexOf(";")+1,L.path.lastIndexOf(";")).split(";").forEach(H=>{const[V,G]=H.split(":");V&&G&&z.set(V,G)});const P=L.path.substring(0,L.path.indexOf(";"));return P&&z.set(Y.META_DATA_MIME,P),z}Y.parseMetaData=R})($||($={}))},76633:function(Ot,Ke,e){"use strict";e.d(Ke,{Rm:function(){return w}});var b=e(4669),U=e(5976);class r{constructor(u,d,n,i,f,v,a){this._forceIntegerValues=u,this._scrollStateBrand=void 0,this._forceIntegerValues&&(d=d|0,n=n|0,i=i|0,f=f|0,v=v|0,a=a|0),this.rawScrollLeft=i,this.rawScrollTop=a,d<0&&(d=0),i+d>n&&(i=n-d),i<0&&(i=0),f<0&&(f=0),a+f>v&&(a=v-f),a<0&&(a=0),this.width=d,this.scrollWidth=n,this.scrollLeft=i,this.height=f,this.scrollHeight=v,this.scrollTop=a}equals(u){return this.rawScrollLeft===u.rawScrollLeft&&this.rawScrollTop===u.rawScrollTop&&this.width===u.width&&this.scrollWidth===u.scrollWidth&&this.scrollLeft===u.scrollLeft&&this.height===u.height&&this.scrollHeight===u.scrollHeight&&this.scrollTop===u.scrollTop}withScrollDimensions(u,d){return new r(this._forceIntegerValues,typeof u.width!="undefined"?u.width:this.width,typeof u.scrollWidth!="undefined"?u.scrollWidth:this.scrollWidth,d?this.rawScrollLeft:this.scrollLeft,typeof u.height!="undefined"?u.height:this.height,typeof u.scrollHeight!="undefined"?u.scrollHeight:this.scrollHeight,d?this.rawScrollTop:this.scrollTop)}withScrollPosition(u){return new r(this._forceIntegerValues,this.width,this.scrollWidth,typeof u.scrollLeft!="undefined"?u.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof u.scrollTop!="undefined"?u.scrollTop:this.rawScrollTop)}createScrollEvent(u,d){const n=this.width!==u.width,i=this.scrollWidth!==u.scrollWidth,f=this.scrollLeft!==u.scrollLeft,v=this.height!==u.height,a=this.scrollHeight!==u.scrollHeight,S=this.scrollTop!==u.scrollTop;return{inSmoothScrolling:d,oldWidth:u.width,oldScrollWidth:u.scrollWidth,oldScrollLeft:u.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:u.height,oldScrollHeight:u.scrollHeight,oldScrollTop:u.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:i,scrollLeftChanged:f,heightChanged:v,scrollHeightChanged:a,scrollTopChanged:S}}}class w extends U.JT{constructor(u){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new b.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=u.smoothScrollDuration,this._scheduleAtNextAnimationFrame=u.scheduleAtNextAnimationFrame,this._state=new r(u.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(u){this._smoothScrollDuration=u}validateScrollPosition(u){return this._state.withScrollPosition(u)}getScrollDimensions(){return this._state}setScrollDimensions(u,d){var n;const i=this._state.withScrollDimensions(u,d);this._setState(i,!!this._smoothScrolling),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(u){const d=this._state.withScrollPosition(u);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(d,!1)}setScrollPositionSmooth(u,d){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(u);if(this._smoothScrolling){u={scrollLeft:typeof u.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:u.scrollLeft,scrollTop:typeof u.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:u.scrollTop};const n=this._state.withScrollPosition(u);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let i;d?i=new M(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):i=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=i}else{const n=this._state.withScrollPosition(u);this._smoothScrolling=M.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const u=this._smoothScrolling.tick(),d=this._state.withScrollPosition(u);if(this._setState(d,!0),!!this._smoothScrolling){if(u.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(u,d){const n=this._state;n.equals(u)||(this._state=u,this._onScroll.fire(this._state.createScrollEvent(n,d)))}}class c{constructor(u,d,n){this.scrollLeft=u,this.scrollTop=d,this.isDone=n}}function _(o,u){const d=u-o;return function(n){return o+d*p(n)}}function I(o,u,d){return function(n){return n<d?o(n/d):u((n-d)/(1-d))}}class M{constructor(u,d,n,i){this.from=u,this.to=d,this.duration=i,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(u,d,n){if(Math.abs(u-d)>2.5*n){let f,v;return u<d?(f=u+.75*n,v=d-.75*n):(f=u-.75*n,v=d+.75*n),I(_(u,f),_(v,d),.33)}return _(u,d)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(u){this.to=u.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(u){const d=(u-this.startTime)/this.duration;if(d<1){const n=this.scrollLeft(d),i=this.scrollTop(d);return new c(n,i,!1)}return new c(this.to.scrollLeft,this.to.scrollTop,!0)}combine(u,d,n){return M.start(u,d,n)}static start(u,d,n){n=n+10;const i=Date.now()-10;return new M(u,d,i,n)}}function D(o){return Math.pow(o,3)}function p(o){return 1-D(1-o)}},14603:function(Ot,Ke,e){"use strict";var b=e(97295),U;(function(r){r[r.Ignore=0]="Ignore",r[r.Info=1]="Info",r[r.Warning=2]="Warning",r[r.Error=3]="Error"})(U||(U={})),function(r){const w="error",c="warning",_="warn",I="info",M="ignore";function D(o){return o?b.qq(w,o)?r.Error:b.qq(c,o)||b.qq(_,o)?r.Warning:b.qq(I,o)?r.Info:r.Ignore:r.Ignore}r.fromValue=D;function p(o){switch(o){case r.Error:return w;case r.Warning:return c;case r.Info:return I;default:return M}}r.toString=p}(U||(U={})),Ke.Z=U},84013:function(Ot,Ke,e){"use strict";e.d(Ke,{G:function(){return U}});const b=globalThis.performance&&typeof globalThis.performance.now=="function";class U{static create(w){return new U(w)}constructor(w){this._now=b&&w===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}},97295:function(Ot,Ke,e){"use strict";e.d(Ke,{$i:function(){return le},B4:function(){return Se},C8:function(){return Pe},GF:function(){return n},HO:function(){return F},IO:function(){return i},J_:function(){return K},K7:function(){return pe},Kw:function(){return Me},LC:function(){return v},Mh:function(){return Y},P1:function(){return R},PJ:function(){return ke},Qe:function(){return ge},R1:function(){return d},T5:function(){return A},TT:function(){return y},Ut:function(){return X},V8:function(){return a},W1:function(){return G},WU:function(){return _},YK:function(){return z},YU:function(){return I},ZG:function(){return L},ZH:function(){return P},ZK:function(){return me},ab:function(){return we},c1:function(){return Ne},df:function(){return B},ec:function(){return M},fy:function(){return D},j3:function(){return p},j_:function(){return E},m5:function(){return w},mK:function(){return N},oH:function(){return ce},oL:function(){return o},ok:function(){return $},ow:function(){return S},qq:function(){return W},qu:function(){return g},rL:function(){return O},uS:function(){return ae},un:function(){return u},uq:function(){return f},vH:function(){return j},vU:function(){return he},zY:function(){return C}});var b=e(701),U=e(79579),r;function w(se){return!se||typeof se!="string"?!0:se.trim().length===0}const c=/{(\d+)}/g;function _(se,...ve){return ve.length===0?se:se.replace(c,function(xe,je){const Oe=parseInt(je,10);return isNaN(Oe)||Oe<0||Oe>=ve.length?xe:ve[Oe]})}function I(se){return se.replace(/[<>&]/g,function(ve){switch(ve){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ve}})}function M(se){return se.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function D(se,ve=" "){const xe=p(se,ve);return o(xe,ve)}function p(se,ve){if(!se||!ve)return se;const xe=ve.length;if(xe===0||se.length===0)return se;let je=0;for(;se.indexOf(ve,je)===je;)je=je+xe;return se.substring(je)}function o(se,ve){if(!se||!ve)return se;const xe=ve.length,je=se.length;if(xe===0||je===0)return se;let Oe=je,Ze=-1;for(;Ze=se.lastIndexOf(ve,Oe-1),!(Ze===-1||Ze+xe!==Oe);){if(Ze===0)return"";Oe=Ze}return se.substring(0,Oe)}function u(se){return se.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function d(se){return se.replace(/\*/g,"")}function n(se,ve,xe={}){if(!se)throw new Error("Cannot create regex from empty string");ve||(se=M(se)),xe.wholeWord&&(/\B/.test(se.charAt(0))||(se="\\b"+se),/\B/.test(se.charAt(se.length-1))||(se=se+"\\b"));let je="";return xe.global&&(je+="g"),xe.matchCase||(je+="i"),xe.multiline&&(je+="m"),xe.unicode&&(je+="u"),new RegExp(se,je)}function i(se){return se.source==="^"||se.source==="^$"||se.source==="$"||se.source==="^\\s*$"?!1:!!(se.exec("")&&se.lastIndex===0)}function f(se){return se.split(/\r\n|\r|\n/)}function v(se){for(let ve=0,xe=se.length;ve<xe;ve++){const je=se.charCodeAt(ve);if(je!==32&&je!==9)return ve}return-1}function a(se,ve=0,xe=se.length){for(let je=ve;je<xe;je++){const Oe=se.charCodeAt(je);if(Oe!==32&&Oe!==9)return se.substring(ve,je)}return se.substring(ve,xe)}function S(se,ve=se.length-1){for(let xe=ve;xe>=0;xe--){const je=se.charCodeAt(xe);if(je!==32&&je!==9)return xe}return-1}function g(se,ve){return se<ve?-1:se>ve?1:0}function y(se,ve,xe=0,je=se.length,Oe=0,Ze=ve.length){for(;xe<je&&Oe<Ze;xe++,Oe++){const st=se.charCodeAt(xe),pt=ve.charCodeAt(Oe);if(st<pt)return-1;if(st>pt)return 1}const it=je-xe,Et=Ze-Oe;return it<Et?-1:it>Et?1:0}function C(se,ve){return E(se,ve,0,se.length,0,ve.length)}function E(se,ve,xe=0,je=se.length,Oe=0,Ze=ve.length){for(;xe<je&&Oe<Ze;xe++,Oe++){let st=se.charCodeAt(xe),pt=ve.charCodeAt(Oe);if(st===pt)continue;if(st>=128||pt>=128)return y(se.toLowerCase(),ve.toLowerCase(),xe,je,Oe,Ze);N(st)&&(st-=32),N(pt)&&(pt-=32);const Mt=st-pt;if(Mt!==0)return Mt}const it=je-xe,Et=Ze-Oe;return it<Et?-1:it>Et?1:0}function A(se){return se>=48&&se<=57}function N(se){return se>=97&&se<=122}function B(se){return se>=65&&se<=90}function W(se,ve){return se.length===ve.length&&E(se,ve)===0}function $(se,ve){const xe=ve.length;return ve.length>se.length?!1:E(se,ve,0,xe)===0}function Y(se,ve){const xe=Math.min(se.length,ve.length);let je;for(je=0;je<xe;je++)if(se.charCodeAt(je)!==ve.charCodeAt(je))return je;return xe}function R(se,ve){const xe=Math.min(se.length,ve.length);let je;const Oe=se.length-1,Ze=ve.length-1;for(je=0;je<xe;je++)if(se.charCodeAt(Oe-je)!==ve.charCodeAt(Ze-je))return je;return xe}function L(se){return 55296<=se&&se<=56319}function z(se){return 56320<=se&&se<=57343}function O(se,ve){return(se-55296<<10)+(ve-56320)+65536}function P(se,ve,xe){const je=se.charCodeAt(xe);if(L(je)&&xe+1<ve){const Oe=se.charCodeAt(xe+1);if(z(Oe))return O(je,Oe)}return je}function H(se,ve){const xe=se.charCodeAt(ve-1);if(z(xe)&&ve>1){const je=se.charCodeAt(ve-2);if(L(je))return O(je,xe)}return xe}class V{get offset(){return this._offset}constructor(ve,xe=0){this._str=ve,this._len=ve.length,this._offset=xe}setOffset(ve){this._offset=ve}prevCodePoint(){const ve=H(this._str,this._offset);return this._offset-=ve>=65536?2:1,ve}nextCodePoint(){const ve=P(this._str,this._len,this._offset);return this._offset+=ve>=65536?2:1,ve}eol(){return this._offset>=this._len}}class G{get offset(){return this._iterator.offset}constructor(ve,xe=0){this._iterator=new V(ve,xe)}nextGraphemeLength(){const ve=Le.getInstance(),xe=this._iterator,je=xe.offset;let Oe=ve.getGraphemeBreakType(xe.nextCodePoint());for(;!xe.eol();){const Ze=xe.offset,it=ve.getGraphemeBreakType(xe.nextCodePoint());if(Ue(Oe,it)){xe.setOffset(Ze);break}Oe=it}return xe.offset-je}prevGraphemeLength(){const ve=Le.getInstance(),xe=this._iterator,je=xe.offset;let Oe=ve.getGraphemeBreakType(xe.prevCodePoint());for(;xe.offset>0;){const Ze=xe.offset,it=ve.getGraphemeBreakType(xe.prevCodePoint());if(Ue(it,Oe)){xe.setOffset(Ze);break}Oe=it}return je-xe.offset}eol(){return this._iterator.eol()}}function j(se,ve){return new G(se,ve).nextGraphemeLength()}function F(se,ve){return new G(se,ve).prevGraphemeLength()}function K(se,ve){ve>0&&z(se.charCodeAt(ve))&&ve--;const xe=ve+j(se,ve);return[xe-F(se,xe),xe]}let m;function J(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function X(se){return m||(m=J()),m.test(se)}const te=/^[\t\n\r\x20-\x7E]*$/;function le(se){return te.test(se)}const ge=/[\u2028\u2029]/;function we(se){return ge.test(se)}function pe(se){return se>=11904&&se<=55215||se>=63744&&se<=64255||se>=65281&&se<=65374}function Pe(se){return se>=127462&&se<=127487||se===8986||se===8987||se===9200||se===9203||se>=9728&&se<=10175||se===11088||se===11093||se>=127744&&se<=128591||se>=128640&&se<=128764||se>=128992&&se<=129008||se>=129280&&se<=129535||se>=129648&&se<=129782}const Ne=String.fromCharCode(65279);function ae(se){return!!(se&&se.length>0&&se.charCodeAt(0)===65279)}function Me(se,ve=!1){return se?(ve&&(se=se.replace(/\\./g,"")),se.toLowerCase()!==se):!1}function ke(se){return se=se%(2*26),se<26?String.fromCharCode(97+se):String.fromCharCode(65+se-26)}function Ue(se,ve){return se===0?ve!==5&&ve!==7:se===2&&ve===3?!1:se===4||se===2||se===3||ve===4||ve===2||ve===3?!0:!(se===8&&(ve===8||ve===9||ve===11||ve===12)||(se===11||se===9)&&(ve===9||ve===10)||(se===12||se===10)&&ve===10||ve===5||ve===13||ve===7||se===1||se===13&&ve===14||se===6&&ve===6)}class Le{static getInstance(){return Le._INSTANCE||(Le._INSTANCE=new Le),Le._INSTANCE}constructor(){this._data=ie()}getGraphemeBreakType(ve){if(ve<32)return ve===10?3:ve===13?2:4;if(ve<127)return 0;const xe=this._data,je=xe.length/3;let Oe=1;for(;Oe<=je;)if(ve<xe[3*Oe])Oe=2*Oe;else if(ve>xe[3*Oe+1])Oe=2*Oe+1;else return xe[3*Oe+2];return 0}}Le._INSTANCE=null;function ie(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ce(se,ve){if(se===0)return 0;const xe=Re(se,ve);if(xe!==void 0)return xe;const je=new V(ve,se);return je.prevCodePoint(),je.offset}function Re(se,ve){const xe=new V(ve,se);let je=xe.prevCodePoint();for(;ye(je)||je===65039||je===8419;){if(xe.offset===0)return;je=xe.prevCodePoint()}if(!Pe(je))return;let Oe=xe.offset;return Oe>0&&xe.prevCodePoint()===8205&&(Oe=xe.offset),Oe}function ye(se){return 127995<=se&&se<=127999}const Se="\xA0";class me{static getInstance(ve){return r.cache.get(Array.from(ve))}static getLocales(){return r._locales.value}constructor(ve){this.confusableDictionary=ve}isAmbiguous(ve){return this.confusableDictionary.has(ve)}getPrimaryConfusable(ve){return this.confusableDictionary.get(ve)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}r=me,me.ambiguousCharacterData=new U.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),me.cache=new b.t(se=>{function ve(pt){const Mt=new Map;for(let qt=0;qt<pt.length;qt+=2)Mt.set(pt[qt],pt[qt+1]);return Mt}function xe(pt,Mt){const qt=new Map(pt);for(const[Ft,Xt]of Mt)qt.set(Ft,Xt);return qt}function je(pt,Mt){if(!pt)return Mt;const qt=new Map;for(const[Ft,Xt]of pt)Mt.has(Ft)&&qt.set(Ft,Xt);return qt}const Oe=r.ambiguousCharacterData.value;let Ze=se.filter(pt=>!pt.startsWith("_")&&pt in Oe);Ze.length===0&&(Ze=["_default"]);let it;for(const pt of Ze){const Mt=ve(Oe[pt]);it=je(it,Mt)}const Et=ve(Oe._common),st=xe(Et,it);return new r(st)}),me._locales=new U.o(()=>Object.keys(r.ambiguousCharacterData.value).filter(se=>!se.startsWith("_")));class he{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(he.getRawData())),this._data}static isInvisibleCharacter(ve){return he.getData().has(ve)}static get codePoints(){return he.getData()}}he._data=void 0},5635:function(Ot,Ke,e){"use strict";e.d(Ke,{n:function(){return b}});const b=Symbol("MicrotaskDelay")},4767:function(Ot,Ke,e){"use strict";e.d(Ke,{Id:function(){return I}});var b=e(97295);class U{constructor(){this._value="",this._pos=0}reset(D){return this._value=D,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(D){const p=D.charCodeAt(0),o=this._value.charCodeAt(this._pos);return p-o}value(){return this._value[this._pos]}}class r{constructor(D=!0){this._caseSensitive=D}reset(D){return this._value=D,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let D=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(D)this._from++;else break;else D=!1;return this}cmp(D){return this._caseSensitive?(0,b.TT)(D,this._value,0,D.length,this._from,this._to):(0,b.j_)(D,this._value,0,D.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class w{constructor(D=!0,p=!0){this._splitOnBackslash=D,this._caseSensitive=p}reset(D){this._from=0,this._to=0,this._value=D,this._valueLen=D.length;for(let p=D.length-1;p>=0;p--,this._valueLen--){const o=this._value.charCodeAt(p);if(!(o===47||this._splitOnBackslash&&o===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let D=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(p===47||this._splitOnBackslash&&p===92)if(D)this._from++;else break;else D=!1}return this}cmp(D){return this._caseSensitive?(0,b.TT)(D,this._value,0,D.length,this._from,this._to):(0,b.j_)(D,this._value,0,D.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class c{constructor(D,p){this._ignorePathCasing=D,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(D){return this._value=D,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new w(!1,!this._ignorePathCasing(D)),this._pathIterator.reset(D.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(D)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(D){if(this._states[this._stateIdx]===1)return(0,b.zY)(D,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,b.zY)(D,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(D);if(this._states[this._stateIdx]===4)return(0,b.qu)(D,this._value.query);if(this._states[this._stateIdx]===5)return(0,b.qu)(D,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class _{constructor(){this.height=1}rotateLeft(){const D=this.right;return this.right=D.left,D.left=this,this.updateHeight(),D.updateHeight(),D}rotateRight(){const D=this.left;return this.left=D.right,D.right=this,this.updateHeight(),D.updateHeight(),D}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var D,p;return(p=(D=this.left)===null||D===void 0?void 0:D.height)!==null&&p!==void 0?p:0}get heightRight(){var D,p;return(p=(D=this.right)===null||D===void 0?void 0:D.height)!==null&&p!==void 0?p:0}}class I{static forUris(D=()=>!1,p=()=>!1){return new I(new c(D,p))}static forStrings(){return new I(new U)}static forConfigKeys(){return new I(new r)}constructor(D){this._iter=D}clear(){this._root=void 0}set(D,p){const o=this._iter.reset(D);let u;this._root||(this._root=new _,this._root.segment=o.value());const d=[];for(u=this._root;;){const i=o.cmp(u.segment);if(i>0)u.left||(u.left=new _,u.left.segment=o.value()),d.push([-1,u]),u=u.left;else if(i<0)u.right||(u.right=new _,u.right.segment=o.value()),d.push([1,u]),u=u.right;else if(o.hasNext())o.next(),u.mid||(u.mid=new _,u.mid.segment=o.value()),d.push([0,u]),u=u.mid;else break}const n=u.value;u.value=p,u.key=D;for(let i=d.length-1;i>=0;i--){const f=d[i][1];f.updateHeight();const v=f.balanceFactor();if(v<-1||v>1){const a=d[i][0],S=d[i+1][0];if(a===1&&S===1)d[i][1]=f.rotateLeft();else if(a===-1&&S===-1)d[i][1]=f.rotateRight();else if(a===1&&S===-1)f.right=d[i+1][1]=d[i+1][1].rotateRight(),d[i][1]=f.rotateLeft();else if(a===-1&&S===1)f.left=d[i+1][1]=d[i+1][1].rotateLeft(),d[i][1]=f.rotateRight();else throw new Error;if(i>0)switch(d[i-1][0]){case-1:d[i-1][1].left=d[i][1];break;case 1:d[i-1][1].right=d[i][1];break;case 0:d[i-1][1].mid=d[i][1];break}else this._root=d[0][1]}}return n}get(D){var p;return(p=this._getNode(D))===null||p===void 0?void 0:p.value}_getNode(D){const p=this._iter.reset(D);let o=this._root;for(;o;){const u=p.cmp(o.segment);if(u>0)o=o.left;else if(u<0)o=o.right;else if(p.hasNext())p.next(),o=o.mid;else break}return o}has(D){const p=this._getNode(D);return!((p==null?void 0:p.value)===void 0&&(p==null?void 0:p.mid)===void 0)}delete(D){return this._delete(D,!1)}deleteSuperstr(D){return this._delete(D,!0)}_delete(D,p){var o;const u=this._iter.reset(D),d=[];let n=this._root;for(;n;){const i=u.cmp(n.segment);if(i>0)d.push([-1,n]),n=n.left;else if(i<0)d.push([1,n]),n=n.right;else if(u.hasNext())u.next(),d.push([0,n]),n=n.mid;else break}if(n){if(p?(n.left=void 0,n.mid=void 0,n.right=void 0,n.height=1):(n.key=void 0,n.value=void 0),!n.mid&&!n.value)if(n.left&&n.right){const i=this._min(n.right);if(i.key){const{key:f,value:v,segment:a}=i;this._delete(i.key,!1),n.key=f,n.value=v,n.segment=a}}else{const i=(o=n.left)!==null&&o!==void 0?o:n.right;if(d.length>0){const[f,v]=d[d.length-1];switch(f){case-1:v.left=i;break;case 0:v.mid=i;break;case 1:v.right=i;break}}else this._root=i}for(let i=d.length-1;i>=0;i--){const f=d[i][1];f.updateHeight();const v=f.balanceFactor();if(v>1?(f.right.balanceFactor()>=0||(f.right=f.right.rotateRight()),d[i][1]=f.rotateLeft()):v<-1&&(f.left.balanceFactor()<=0||(f.left=f.left.rotateLeft()),d[i][1]=f.rotateRight()),i>0)switch(d[i-1][0]){case-1:d[i-1][1].left=d[i][1];break;case 1:d[i-1][1].right=d[i][1];break;case 0:d[i-1][1].mid=d[i][1];break}else this._root=d[0][1]}}}_min(D){for(;D.left;)D=D.left;return D}findSubstr(D){const p=this._iter.reset(D);let o=this._root,u;for(;o;){const d=p.cmp(o.segment);if(d>0)o=o.left;else if(d<0)o=o.right;else if(p.hasNext())p.next(),u=o.value||u,o=o.mid;else break}return o&&o.value||u}findSuperstr(D){return this._findSuperstrOrElement(D,!1)}_findSuperstrOrElement(D,p){const o=this._iter.reset(D);let u=this._root;for(;u;){const d=o.cmp(u.segment);if(d>0)u=u.left;else if(d<0)u=u.right;else if(o.hasNext())o.next(),u=u.mid;else return u.mid?this._entries(u.mid):p?u.value:void 0}}forEach(D){for(const[p,o]of this)D(o,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(D){const p=[];return this._dfsEntries(D,p),p[Symbol.iterator]()}_dfsEntries(D,p){D&&(D.left&&this._dfsEntries(D.left,p),D.value&&p.push([D.key,D.value]),D.mid&&this._dfsEntries(D.mid,p),D.right&&this._dfsEntries(D.right,p))}}},25670:function(Ot,Ke,e){"use strict";e.d(Ke,{k:function(){return r}});var b=e(73046),U;(function(w){function c(_){return _&&typeof _=="object"&&typeof _.id=="string"}w.isThemeColor=c})(U||(U={}));var r;(function(w){w.iconNameSegment="[A-Za-z0-9]+",w.iconNameExpression="[A-Za-z0-9-]+",w.iconModifierExpression="~[A-Za-z]+",w.iconNameCharacter="[A-Za-z0-9~-]";const c=new RegExp(`^(${w.iconNameExpression})(${w.iconModifierExpression})?$`);function _(f){const v=c.exec(f.id);if(!v)return _(b.l.error);const[,a,S]=v,g=["codicon","codicon-"+a];return S&&g.push("codicon-modifier-"+S.substring(1)),g}w.asClassNameArray=_;function I(f){return _(f).join(" ")}w.asClassName=I;function M(f){return"."+_(f).join(".")}w.asCSSSelector=M;function D(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color=="undefined"||U.isThemeColor(f.color))}w.isThemeIcon=D;const p=new RegExp(`^\\$\\((${w.iconNameExpression}(?:${w.iconModifierExpression})?)\\)$`);function o(f){const v=p.exec(f);if(!v)return;const[,a]=v;return{id:a}}w.fromString=o;function u(f){return{id:f}}w.fromId=u;function d(f,v){let a=f.id;const S=a.lastIndexOf("~");return S!==-1&&(a=a.substring(0,S)),v&&(a=`${a}~${v}`),{id:a}}w.modify=d;function n(f){const v=f.id.lastIndexOf("~");if(v!==-1)return f.id.substring(v+1)}w.getModifier=n;function i(f,v){var a,S;return f.id===v.id&&((a=f.color)===null||a===void 0?void 0:a.id)===((S=v.color)===null||S===void 0?void 0:S.id)}w.isEqual=i})(r||(r={}))},98401:function(Ot,Ke,e){"use strict";e.d(Ke,{$K:function(){return M},D8:function(){return d},HD:function(){return b},Jp:function(){return D},Kn:function(){return U},TW:function(){return c},cW:function(){return o},fU:function(){return r},hj:function(){return w},jn:function(){return _},mf:function(){return u},o8:function(){return I},p_:function(){return p}});function b(i){return typeof i=="string"}function U(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!(i instanceof RegExp)&&!(i instanceof Date)}function r(i){const f=Object.getPrototypeOf(Uint8Array);return typeof i=="object"&&i instanceof f}function w(i){return typeof i=="number"&&!isNaN(i)}function c(i){return!!i&&typeof i[Symbol.iterator]=="function"}function _(i){return i===!0||i===!1}function I(i){return typeof i=="undefined"}function M(i){return!D(i)}function D(i){return I(i)||i===null}function p(i,f){if(!i)throw new Error(f?`Unexpected type, expected '${f}'`:"Unexpected type")}function o(i){if(D(i))throw new Error("Assertion Failed: argument is undefined or null");return i}function u(i){return typeof i=="function"}function d(i,f){const v=Math.min(i.length,f.length);for(let a=0;a<v;a++)n(i[a],f[a])}function n(i,f){if(b(f)){if(typeof i!==f)throw new Error(`argument does not match constraint: typeof ${f}`)}else if(u(f)){try{if(i instanceof f)return}catch(v){}if(!D(i)&&i.constructor===f||f.length===1&&f.call(void 0,i)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}},85427:function(Ot,Ke,e){"use strict";e.d(Ke,{A:function(){return U},K:function(){return b}});function b(r){return r<0?0:r>255?255:r|0}function U(r){return r<0?0:r>4294967295?4294967295:r|0}},70666:function(Ot,Ke,e){"use strict";e.d(Ke,{o:function(){return u},q:function(){return a}});var b=e(82663),U=e(1432);const r=/^\w[\w\d+.-]*$/,w=/^\//,c=/^\/\//;function _(E,A){if(!E.scheme&&A)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${E.authority}", path: "${E.path}", query: "${E.query}", fragment: "${E.fragment}"}`);if(E.scheme&&!r.test(E.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(E.path){if(E.authority){if(!w.test(E.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(E.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function I(E,A){return!E&&!A?"file":E}function M(E,A){switch(E){case"https":case"http":case"file":A?A[0]!==p&&(A=p+A):A=p;break}return A}const D="",p="/",o=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{static isUri(A){return A instanceof u?!0:A?typeof A.authority=="string"&&typeof A.fragment=="string"&&typeof A.path=="string"&&typeof A.query=="string"&&typeof A.scheme=="string"&&typeof A.fsPath=="string"&&typeof A.with=="function"&&typeof A.toString=="function":!1}constructor(A,N,B,W,$,Y=!1){typeof A=="object"?(this.scheme=A.scheme||D,this.authority=A.authority||D,this.path=A.path||D,this.query=A.query||D,this.fragment=A.fragment||D):(this.scheme=I(A,Y),this.authority=N||D,this.path=M(this.scheme,B||D),this.query=W||D,this.fragment=$||D,_(this,Y))}get fsPath(){return a(this,!1)}with(A){if(!A)return this;let{scheme:N,authority:B,path:W,query:$,fragment:Y}=A;return N===void 0?N=this.scheme:N===null&&(N=D),B===void 0?B=this.authority:B===null&&(B=D),W===void 0?W=this.path:W===null&&(W=D),$===void 0?$=this.query:$===null&&($=D),Y===void 0?Y=this.fragment:Y===null&&(Y=D),N===this.scheme&&B===this.authority&&W===this.path&&$===this.query&&Y===this.fragment?this:new n(N,B,W,$,Y)}static parse(A,N=!1){const B=o.exec(A);return B?new n(B[2]||D,C(B[4]||D),C(B[5]||D),C(B[7]||D),C(B[9]||D),N):new n(D,D,D,D,D)}static file(A){let N=D;if(U.ED&&(A=A.replace(/\\/g,p)),A[0]===p&&A[1]===p){const B=A.indexOf(p,2);B===-1?(N=A.substring(2),A=p):(N=A.substring(2,B),A=A.substring(B)||p)}return new n("file",N,A,D,D)}static from(A,N){return new n(A.scheme,A.authority,A.path,A.query,A.fragment,N)}static joinPath(A,...N){if(!A.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let B;return U.ED&&A.scheme==="file"?B=u.file(b.Ku.join(a(A,!0),...N)).path:B=b.KR.join(A.path,...N),A.with({path:B})}toString(A=!1){return S(this,A)}toJSON(){return this}static revive(A){var N,B;if(A){if(A instanceof u)return A;{const W=new n(A);return W._formatted=(N=A.external)!==null&&N!==void 0?N:null,W._fsPath=A._sep===d&&(B=A.fsPath)!==null&&B!==void 0?B:null,W}}else return A}}const d=U.ED?1:void 0;class n extends u{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=a(this,!1)),this._fsPath}toString(A=!1){return A?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){const A={$mid:1};return this._fsPath&&(A.fsPath=this._fsPath,A._sep=d),this._formatted&&(A.external=this._formatted),this.path&&(A.path=this.path),this.scheme&&(A.scheme=this.scheme),this.authority&&(A.authority=this.authority),this.query&&(A.query=this.query),this.fragment&&(A.fragment=this.fragment),A}}const i={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function f(E,A,N){let B,W=-1;for(let $=0;$<E.length;$++){const Y=E.charCodeAt($);if(Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57||Y===45||Y===46||Y===95||Y===126||A&&Y===47||N&&Y===91||N&&Y===93||N&&Y===58)W!==-1&&(B+=encodeURIComponent(E.substring(W,$)),W=-1),B!==void 0&&(B+=E.charAt($));else{B===void 0&&(B=E.substr(0,$));const R=i[Y];R!==void 0?(W!==-1&&(B+=encodeURIComponent(E.substring(W,$)),W=-1),B+=R):W===-1&&(W=$)}}return W!==-1&&(B+=encodeURIComponent(E.substring(W))),B!==void 0?B:E}function v(E){let A;for(let N=0;N<E.length;N++){const B=E.charCodeAt(N);B===35||B===63?(A===void 0&&(A=E.substr(0,N)),A+=i[B]):A!==void 0&&(A+=E[N])}return A!==void 0?A:E}function a(E,A){let N;return E.authority&&E.path.length>1&&E.scheme==="file"?N=`//${E.authority}${E.path}`:E.path.charCodeAt(0)===47&&(E.path.charCodeAt(1)>=65&&E.path.charCodeAt(1)<=90||E.path.charCodeAt(1)>=97&&E.path.charCodeAt(1)<=122)&&E.path.charCodeAt(2)===58?A?N=E.path.substr(1):N=E.path[1].toLowerCase()+E.path.substr(2):N=E.path,U.ED&&(N=N.replace(/\//g,"\\")),N}function S(E,A){const N=A?v:f;let B="",{scheme:W,authority:$,path:Y,query:R,fragment:L}=E;if(W&&(B+=W,B+=":"),($||W==="file")&&(B+=p,B+=p),$){let z=$.indexOf("@");if(z!==-1){const O=$.substr(0,z);$=$.substr(z+1),z=O.lastIndexOf(":"),z===-1?B+=N(O,!1,!1):(B+=N(O.substr(0,z),!1,!1),B+=":",B+=N(O.substr(z+1),!1,!0)),B+="@"}$=$.toLowerCase(),z=$.lastIndexOf(":"),z===-1?B+=N($,!1,!0):(B+=N($.substr(0,z),!1,!0),B+=$.substr(z))}if(Y){if(Y.length>=3&&Y.charCodeAt(0)===47&&Y.charCodeAt(2)===58){const z=Y.charCodeAt(1);z>=65&&z<=90&&(Y=`/${String.fromCharCode(z+32)}:${Y.substr(3)}`)}else if(Y.length>=2&&Y.charCodeAt(1)===58){const z=Y.charCodeAt(0);z>=65&&z<=90&&(Y=`${String.fromCharCode(z+32)}:${Y.substr(2)}`)}B+=N(Y,!0,!1)}return R&&(B+="?",B+=N(R,!1,!1)),L&&(B+="#",B+=A?L:f(L,!1,!1)),B}function g(E){try{return decodeURIComponent(E)}catch(A){return E.length>3?E.substr(0,3)+g(E.substr(3)):E}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(E){return E.match(y)?E.replace(y,A=>g(A)):E}},98e3:function(Ot,Ke,e){"use strict";e.d(Ke,{R:function(){return b}});const b=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let U;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?U=crypto.getRandomValues.bind(crypto):U=function(c){for(let _=0;_<c.length;_++)c[_]=Math.floor(Math.random()*256);return c};const r=new Uint8Array(16),w=[];for(let c=0;c<256;c++)w.push(c.toString(16).padStart(2,"0"));return function(){U(r),r[6]=r[6]&15|64,r[8]=r[8]&63|128;let _=0,I="";return I+=w[r[_++]],I+=w[r[_++]],I+=w[r[_++]],I+=w[r[_++]],I+="-",I+=w[r[_++]],I+=w[r[_++]],I+="-",I+=w[r[_++]],I+=w[r[_++]],I+="-",I+=w[r[_++]],I+=w[r[_++]],I+="-",I+=w[r[_++]],I+=w[r[_++]],I+=w[r[_++]],I+=w[r[_++]],I+=w[r[_++]],I+=w[r[_++]],I}}()},25552:function(Ot,Ke,e){"use strict";e.d(Ke,{H:function(){return d}});var b=e(366);var U=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(n,i,f,v)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of w(i))!c.call(n,a)&&a!==f&&U(n,a,{get:()=>i[a],enumerable:!(v=r(i,a))||v.enumerable});return n},I=(n,i,f)=>(_(n,i,"default"),f&&_(f,i,"default")),M={};I(M,b);var D={},p={},o=class{constructor(n){As(this,"_languageId");As(this,"_loadingTriggered");As(this,"_lazyLoadPromise");As(this,"_lazyLoadPromiseResolve");As(this,"_lazyLoadPromiseReject");this._languageId=n,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((i,f)=>{this._lazyLoadPromiseResolve=i,this._lazyLoadPromiseReject=f})}static getOrCreate(n){return p[n]||(p[n]=new o(n)),p[n]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,D[this._languageId].loader().then(n=>this._lazyLoadPromiseResolve(n),n=>this._lazyLoadPromiseReject(n))),this._lazyLoadPromise}};function u(n){return tn(this,null,function*(){yield o.getOrCreate(n).load(),M.editor.createModel("",n).dispose()})}function d(n){const i=n.id;D[i]=n,M.languages.register(n);const f=o.getOrCreate(i);M.languages.registerTokensProviderFactory(i,{create:()=>tn(this,null,function*(){return(yield f.load()).language})}),M.languages.onLanguageEncountered(i,()=>tn(this,null,function*(){const v=yield f.load();M.languages.setLanguageConfiguration(i,v.conf)}))}},56292:function(Ot,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>e.e(2075).then(e.bind(e,62075))})},40902:function(Ot,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>e.e(2571).then(e.bind(e,2571))})},43763:function(Ot,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>e.e(1134).then(e.bind(e,41134))})},66079:function(Ot,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>e.e(5593).then(e.bind(e,35593))})},88307:function(Ot,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(6717).then(e.bind(e,96717))})},52136:function(Ot,Ke,e){"use strict";e.d(Ke,{N:function(){return U}});var b=e(38626);function U(r,w){r instanceof b.Z?(r.setFontFamily(w.getMassagedFontFamily()),r.setFontWeight(w.fontWeight),r.setFontSize(w.fontSize),r.setFontFeatureSettings(w.fontFeatureSettings),r.setFontVariationSettings(w.fontVariationSettings),r.setLineHeight(w.lineHeight),r.setLetterSpacing(w.letterSpacing)):(r.style.fontFamily=w.getMassagedFontFamily(),r.style.fontWeight=w.fontWeight,r.style.fontSize=w.fontSize+"px",r.style.fontFeatureSettings=w.fontFeatureSettings,r.style.fontVariationSettings=w.fontVariationSettings,r.style.lineHeight=w.lineHeight+"px",r.style.letterSpacing=w.letterSpacing+"px")}},45476:function(Ot,Ke,e){"use strict";e.d(Ke,{I:function(){return w}});var b=e(5976),U=e(4669),r=e(65321);class w extends b.JT{constructor(_,I){super(),this._onDidChange=this._register(new U.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=_,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,I)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let _=null;const I=()=>{_?this.observe({width:_.width,height:_.height}):this.observe()};let M=!1,D=!1;const p=()=>{if(M&&!D)try{M=!1,D=!0,I()}finally{(0,r.jL)((0,r.Jj)(this._referenceDomElement),()=>{D=!1,p()})}};this._resizeObserver=new ResizeObserver(o=>{_=o&&o[0]&&o[0].contentRect?o[0].contentRect:null,M=!0,p()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(_){this.measureReferenceDomElement(!0,_)}measureReferenceDomElement(_,I){let M=0,D=0;I?(M=I.width,D=I.height):this._referenceDomElement&&(M=this._referenceDomElement.clientWidth,D=this._referenceDomElement.clientHeight),M=Math.max(5,M),D=Math.max(5,D),(this._width!==M||this._height!==D)&&(this._width=M,this._height=D,_&&this._onDidChange.fire())}}},66059:function(Ot,Ke,e){"use strict";e.d(Ke,{g:function(){return d}});var b=e(16268),U=e(48906),r=e(4669),w=e(5976),c=e(52136);class _{constructor(i,f){this.chr=i,this.type=f,this.width=0}fulfill(i){this.width=i}}class I{constructor(i,f){this._bareFontInfo=i,this._requests=f,this._container=null,this._testElements=null}read(){this._createDomElements(),U.vO.document.body.appendChild(this._container),this._readFromDomElements(),U.vO.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";const f=document.createElement("div");(0,c.N)(f,this._bareFontInfo),i.appendChild(f);const v=document.createElement("div");(0,c.N)(v,this._bareFontInfo),v.style.fontWeight="bold",i.appendChild(v);const a=document.createElement("div");(0,c.N)(a,this._bareFontInfo),a.style.fontStyle="italic",i.appendChild(a);const S=[];for(const g of this._requests){let y;g.type===0&&(y=f),g.type===2&&(y=v),g.type===1&&(y=a),y.appendChild(document.createElement("br"));const C=document.createElement("span");I._render(C,g),y.appendChild(C),S.push(C)}this._container=i,this._testElements=S}static _render(i,f){if(f.chr===" "){let v="\xA0";for(let a=0;a<8;a++)v+=v;i.innerText=v}else{let v=f.chr;for(let a=0;a<8;a++)v+=v;i.textContent=v}}_readFromDomElements(){for(let i=0,f=this._requests.length;i<f;i++){const v=this._requests[i],a=this._testElements[i];v.fulfill(a.offsetWidth/256)}}}function M(n,i){new I(n,i).read()}var D=e(64141),p=e(27374);class o extends w.JT{constructor(){super(),this._onDidChange=this._register(new r.Q5),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(i,f){this._cache.put(i,f),!f.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=U.Ex.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let f=!1;for(const v of i)v.isTrusted||(f=!0,this._cache.remove(v));f&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let f=this._actualReadFontInfo(i);(f.typicalHalfwidthCharacterWidth<=2||f.typicalFullwidthCharacterWidth<=2||f.spaceWidth<=2||f.maxDigitWidth<=2)&&(f=new p.pR({pixelRatio:b.Tz.value,fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,fontVariationSettings:f.fontVariationSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:f.isMonospace,typicalHalfwidthCharacterWidth:Math.max(f.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(f.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:f.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(f.spaceWidth,5),middotWidth:Math.max(f.middotWidth,5),wsmiddotWidth:Math.max(f.wsmiddotWidth,5),maxDigitWidth:Math.max(f.maxDigitWidth,5)},!1)),this._writeToCache(i,f)}return this._cache.get(i)}_createRequest(i,f,v,a){const S=new _(i,f);return v.push(S),a==null||a.push(S),S}_actualReadFontInfo(i){const f=[],v=[],a=this._createRequest("n",0,f,v),S=this._createRequest("\uFF4D",0,f,null),g=this._createRequest(" ",0,f,v),y=this._createRequest("0",0,f,v),C=this._createRequest("1",0,f,v),E=this._createRequest("2",0,f,v),A=this._createRequest("3",0,f,v),N=this._createRequest("4",0,f,v),B=this._createRequest("5",0,f,v),W=this._createRequest("6",0,f,v),$=this._createRequest("7",0,f,v),Y=this._createRequest("8",0,f,v),R=this._createRequest("9",0,f,v),L=this._createRequest("\u2192",0,f,v),z=this._createRequest("\uFFEB",0,f,null),O=this._createRequest("\xB7",0,f,v),P=this._createRequest(String.fromCharCode(11825),0,f,null),H="|/-_ilm%";for(let K=0,m=H.length;K<m;K++)this._createRequest(H.charAt(K),0,f,v),this._createRequest(H.charAt(K),1,f,v),this._createRequest(H.charAt(K),2,f,v);M(i,f);const V=Math.max(y.width,C.width,E.width,A.width,N.width,B.width,W.width,$.width,Y.width,R.width);let G=i.fontFeatureSettings===D.n0.OFF;const j=v[0].width;for(let K=1,m=v.length;G&&K<m;K++){const J=j-v[K].width;if(J<-.001||J>.001){G=!1;break}}let F=!0;return G&&z.width!==j&&(F=!1),z.width>L.width&&(F=!1),new p.pR({pixelRatio:b.Tz.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:G,typicalHalfwidthCharacterWidth:a.width,typicalFullwidthCharacterWidth:S.width,canUseHalfwidthRightwardsArrow:F,spaceWidth:g.width,middotWidth:O.width,wsmiddotWidth:P.width,maxDigitWidth:V},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const f=i.getId();return!!this._values[f]}get(i){const f=i.getId();return this._values[f]}put(i,f){const v=i.getId();this._keys[v]=i,this._values[v]=f}remove(i){const f=i.getId();delete this._keys[f],delete this._values[f]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}const d=new o},37940:function(Ot,Ke,e){"use strict";e.d(Ke,{n:function(){return r}});var b=e(4669);class U{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new b.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(c){this._tabFocus=c,this._onDidChangeTabFocus.fire(this._tabFocus)}}const r=new U},35715:function(Ot,Ke,e){"use strict";e.d(Ke,{Fz:function(){return y},Nl:function(){return S},RA:function(){return a},Tj:function(){return E},b6:function(){return C},pd:function(){return v}});var b=e(16268),U=e(65321),r=e(4850),w=e(59069),c=e(50795),_=e(15393),I=e(4669),M=e(5976),D=e(81170),p=e(97295),o=e(15887),u=e(3860),d=e(31106),n=e(43557),i=function(A,N,B,W){var $=arguments.length,Y=$<3?N:W===null?W=Object.getOwnPropertyDescriptor(N,B):W,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(A,N,B,W);else for(var L=A.length-1;L>=0;L--)(R=A[L])&&(Y=($<3?R(Y):$>3?R(N,B,Y):R(N,B))||Y);return $>3&&Y&&Object.defineProperty(N,B,Y),Y},f=function(A,N){return function(B,W){N(B,W,A)}},v;(function(A){A.Tap="-monaco-textarea-synthetic-tap"})(v||(v={}));const a={forceCopyWithSyntaxHighlighting:!1};class S{constructor(){this._lastState=null}set(N,B){this._lastState={lastCopiedValue:N,data:B}}get(N){return this._lastState&&this._lastState.lastCopiedValue===N?this._lastState.data:(this._lastState=null,null)}}S.INSTANCE=new S;class g{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(N){N=N||"";const B={text:N,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=N.length,B}}let y=class extends M.JT{get textAreaState(){return this._textAreaState}constructor(N,B,W,$,Y,R){super(),this._host=N,this._textArea=B,this._OS=W,this._browser=$,this._accessibilityService=Y,this._logService=R,this._onFocus=this._register(new I.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new I.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new I.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new I.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new I.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new I.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new I.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new I.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new I.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new I.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new M.XK),this._asyncTriggerCut=this._register(new _.pY(()=>this._onCut.fire(),0)),this._textAreaState=o.un.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(I.ju.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new _.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let L=null;this._register(this._textArea.onKeyDown(z=>{const O=new w.y(z);(O.keyCode===114||this._currentComposition&&O.keyCode===1)&&O.stopPropagation(),O.equals(9)&&O.preventDefault(),L=O,this._onKeyDown.fire(O)})),this._register(this._textArea.onKeyUp(z=>{const O=new w.y(z);this._onKeyUp.fire(O)})),this._register(this._textArea.onCompositionStart(z=>{o.al&&console.log("[compositionstart]",z);const O=new g;if(this._currentComposition){this._currentComposition=O;return}if(this._currentComposition=O,this._OS===2&&L&&L.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===z.data&&(L.code==="ArrowRight"||L.code==="ArrowLeft")){o.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",z),O.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:z.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:z.data});return}this._onCompositionStart.fire({data:z.data})})),this._register(this._textArea.onCompositionUpdate(z=>{o.al&&console.log("[compositionupdate]",z);const O=this._currentComposition;if(!O)return;if(this._browser.isAndroid){const H=o.un.readFromTextArea(this._textArea,this._textAreaState),V=o.un.deduceAndroidCompositionInput(this._textAreaState,H);this._textAreaState=H,this._onType.fire(V),this._onCompositionUpdate.fire(z);return}const P=O.handleCompositionUpdate(z.data);this._textAreaState=o.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(P),this._onCompositionUpdate.fire(z)})),this._register(this._textArea.onCompositionEnd(z=>{o.al&&console.log("[compositionend]",z);const O=this._currentComposition;if(!O)return;if(this._currentComposition=null,this._browser.isAndroid){const H=o.un.readFromTextArea(this._textArea,this._textAreaState),V=o.un.deduceAndroidCompositionInput(this._textAreaState,H);this._textAreaState=H,this._onType.fire(V),this._onCompositionEnd.fire();return}const P=O.handleCompositionUpdate(z.data);this._textAreaState=o.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(P),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(z=>{if(o.al&&console.log("[input]",z),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const O=o.un.readFromTextArea(this._textArea,this._textAreaState),P=o.un.deduceInput(this._textAreaState,O,this._OS===2);P.replacePrevCharCnt===0&&P.text.length===1&&(p.ZG(P.text.charCodeAt(0))||P.text.charCodeAt(0)===127)||(this._textAreaState=O,(P.text!==""||P.replacePrevCharCnt!==0||P.replaceNextCharCnt!==0||P.positionDelta!==0)&&this._onType.fire(P))})),this._register(this._textArea.onCut(z=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(z),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(z=>{this._ensureClipboardGetsEditorSelection(z)})),this._register(this._textArea.onPaste(z=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),z.preventDefault(),!z.clipboardData)return;let[O,P]=C.getTextData(z.clipboardData);O&&(P=P||S.INSTANCE.get(O),this._onPaste.fire({text:O,metadata:P}))})),this._register(this._textArea.onFocus(()=>{const z=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!z&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new _.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let N=0;return U.nm(this._textArea.ownerDocument,"selectionchange",B=>{if(c.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const W=Date.now(),$=W-N;if(N=W,$<5)return;const Y=W-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Y<100||!this._textAreaState.selection)return;const R=this._textArea.getValue();if(this._textAreaState.value!==R)return;const L=this._textArea.getSelectionStart(),z=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===L&&this._textAreaState.selectionEnd===z)return;const O=this._textAreaState.deduceEditorPosition(L),P=this._host.deduceModelPosition(O[0],O[1],O[2]),H=this._textAreaState.deduceEditorPosition(z),V=this._host.deduceModelPosition(H[0],H[1],H[2]),G=new u.Y(P.lineNumber,P.column,V.lineNumber,V.column);this._onSelectionChangeRequest.fire(G)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(N){this._hasFocus!==N&&(this._hasFocus=N,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(N,B){this._hasFocus||(B=B.collapseSelection()),B.writeToTextArea(N,this._textArea,this._hasFocus),this._textAreaState=B}writeNativeTextAreaContent(N){!this._accessibilityService.isScreenReaderOptimized()&&N==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${N})`),this._setAndWriteTextAreaState(N,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(N){const B=this._host.getDataToCopy(),W={version:1,isFromEmptySelection:B.isFromEmptySelection,multicursorText:B.multicursorText,mode:B.mode};S.INSTANCE.set(this._browser.isFirefox?B.text.replace(/\r\n/g,`
`):B.text,W),N.preventDefault(),N.clipboardData&&C.setTextData(N.clipboardData,B.text,B.html,W)}};y=i([f(4,d.F7),f(5,n.VZ)],y);const C={getTextData(A){const N=A.getData(D.v.text);let B=null;const W=A.getData("vscode-editor-data");if(typeof W=="string")try{B=JSON.parse(W),B.version!==1&&(B=null)}catch($){}return N.length===0&&B===null&&A.files.length>0?[Array.prototype.slice.call(A.files,0).map(Y=>Y.name).join(`
`),null]:[N,B]},setTextData(A,N,B,W){A.setData(D.v.text,N),typeof B=="string"&&A.setData("text/html",B),A.setData("vscode-editor-data",JSON.stringify(W))}};class E extends M.JT{get ownerDocument(){return this._actual.ownerDocument}constructor(N){super(),this._actual=N,this.onKeyDown=this._register(new r.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new r.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new r.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new r.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new r.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new r.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new r.Y(this._actual,"input")).event,this.onCut=this._register(new r.Y(this._actual,"cut")).event,this.onCopy=this._register(new r.Y(this._actual,"copy")).event,this.onPaste=this._register(new r.Y(this._actual,"paste")).event,this.onFocus=this._register(new r.Y(this._actual,"focus")).event,this.onBlur=this._register(new r.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new I.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>c.B.onKeyDown())),this._register(this.onBeforeInput(()=>c.B.onBeforeInput())),this._register(this.onInput(()=>c.B.onInput())),this._register(this.onKeyUp(()=>c.B.onKeyUp())),this._register(U.nm(this._actual,v.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const N=U.Ay(this._actual);return N?N.activeElement===this._actual:this._actual.isConnected?this._actual.ownerDocument.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(N){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(N,B){const W=this._actual;W.value!==B&&(this.setIgnoreSelectionChangeTime("setValue"),W.value=B)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(N,B,W){const $=this._actual;let Y=null;const R=U.Ay($);R?Y=R.activeElement:Y=$.ownerDocument.activeElement;const L=U.Jj(Y),z=Y===$,O=$.selectionStart,P=$.selectionEnd;if(z&&O===B&&P===W){b.vU&&L.parent!==L&&$.focus();return}if(z){this.setIgnoreSelectionChangeTime("setSelectionRange"),$.setSelectionRange(B,W),b.vU&&L.parent!==L&&$.focus();return}try{const H=U.vL($);this.setIgnoreSelectionChangeTime("setSelectionRange"),$.focus(),$.setSelectionRange(B,W),U._0($,H)}catch(H){}}}},15887:function(Ot,Ke,e){"use strict";e.d(Ke,{al:function(){return r},ee:function(){return c},un:function(){return w}});var b=e(97295),U=e(24314);const r=!1;class w{constructor(I,M,D,p,o){this.value=I,this.selectionStart=M,this.selectionEnd=D,this.selection=p,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(I,M){const D=I.getValue(),p=I.getSelectionStart(),o=I.getSelectionEnd();let u;if(M){const d=D.substring(0,p),n=M.value.substring(0,M.selectionStart);d===n&&(u=M.newlineCountBeforeSelection)}return new w(D,p,o,null,u)}collapseSelection(){return this.selectionStart===this.value.length?this:new w(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(I,M,D){r&&console.log(`writeToTextArea ${I}: ${this.toString()}`),M.setValue(I,this.value),D&&M.setSelectionRange(I,this.selectionStart,this.selectionEnd)}deduceEditorPosition(I){var M,D,p,o,u,d,n,i;if(I<=this.selectionStart){const a=this.value.substring(I,this.selectionStart);return this._finishDeduceEditorPosition((D=(M=this.selection)===null||M===void 0?void 0:M.getStartPosition())!==null&&D!==void 0?D:null,a,-1)}if(I>=this.selectionEnd){const a=this.value.substring(this.selectionEnd,I);return this._finishDeduceEditorPosition((o=(p=this.selection)===null||p===void 0?void 0:p.getEndPosition())!==null&&o!==void 0?o:null,a,1)}const f=this.value.substring(this.selectionStart,I);if(f.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((d=(u=this.selection)===null||u===void 0?void 0:u.getStartPosition())!==null&&d!==void 0?d:null,f,1);const v=this.value.substring(I,this.selectionEnd);return this._finishDeduceEditorPosition((i=(n=this.selection)===null||n===void 0?void 0:n.getEndPosition())!==null&&i!==void 0?i:null,v,-1)}_finishDeduceEditorPosition(I,M,D){let p=0,o=-1;for(;(o=M.indexOf(`
`,o+1))!==-1;)p++;return[I,D*M.length,p]}static deduceInput(I,M,D){if(!I)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};r&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${I.toString()}`),console.log(`CURRENT STATE: ${M.toString()}`));const p=Math.min(b.Mh(I.value,M.value),I.selectionStart,M.selectionStart),o=Math.min(b.P1(I.value,M.value),I.value.length-I.selectionEnd,M.value.length-M.selectionEnd),u=I.value.substring(p,I.value.length-o),d=M.value.substring(p,M.value.length-o),n=I.selectionStart-p,i=I.selectionEnd-p,f=M.selectionStart-p,v=M.selectionEnd-p;if(r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${u}>, selectionStart: ${n}, selectionEnd: ${i}`),console.log(`AFTER DIFFING CURRENT STATE: <${d}>, selectionStart: ${f}, selectionEnd: ${v}`)),f===v){const S=I.selectionStart-p;return r&&console.log(`REMOVE PREVIOUS: ${S} chars`),{text:d,replacePrevCharCnt:S,replaceNextCharCnt:0,positionDelta:0}}const a=i-n;return{text:d,replacePrevCharCnt:a,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(I,M){if(!I)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(r&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${I.toString()}`),console.log(`CURRENT STATE: ${M.toString()}`)),I.value===M.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:M.selectionEnd-I.selectionEnd};const D=Math.min(b.Mh(I.value,M.value),I.selectionEnd),p=Math.min(b.P1(I.value,M.value),I.value.length-I.selectionEnd),o=I.value.substring(D,I.value.length-p),u=M.value.substring(D,M.value.length-p),d=I.selectionStart-D,n=I.selectionEnd-D,i=M.selectionStart-D,f=M.selectionEnd-D;return r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${d}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${u}>, selectionStart: ${i}, selectionEnd: ${f}`)),{text:u,replacePrevCharCnt:n,replaceNextCharCnt:o.length-n,positionDelta:f-u.length}}}w.EMPTY=new w("",0,0,null,void 0);class c{static _getPageOfLine(I,M){return Math.floor((I-1)/M)}static _getRangeForPage(I,M){const D=I*M,p=D+1,o=D+M;return new U.e(p,1,o+1,1)}static fromEditorSelection(I,M,D,p){const u=c._getPageOfLine(M.startLineNumber,D),d=c._getRangeForPage(u,D),n=c._getPageOfLine(M.endLineNumber,D),i=c._getRangeForPage(n,D);let f=d.intersectRanges(new U.e(1,1,M.startLineNumber,M.startColumn));if(p&&I.getValueLengthInRange(f,1)>500){const E=I.modifyPosition(f.getEndPosition(),-500);f=U.e.fromPositions(E,f.getEndPosition())}const v=I.getValueInRange(f,1),a=I.getLineCount(),S=I.getLineMaxColumn(a);let g=i.intersectRanges(new U.e(M.endLineNumber,M.endColumn,a,S));if(p&&I.getValueLengthInRange(g,1)>500){const E=I.modifyPosition(g.getStartPosition(),500);g=U.e.fromPositions(g.getStartPosition(),E)}const y=I.getValueInRange(g,1);let C;if(u===n||u+1===n)C=I.getValueInRange(M,1);else{const E=d.intersectRanges(M),A=i.intersectRanges(M);C=I.getValueInRange(E,1)+String.fromCharCode(8230)+I.getValueInRange(A,1)}return p&&C.length>2*500&&(C=C.substring(0,500)+String.fromCharCode(8230)+C.substring(C.length-500,C.length)),new w(v+C+y,v.length,v.length+C.length,M,f.endLineNumber-f.startLineNumber)}}},42549:function(Ot,Ke,e){"use strict";e.d(Ke,{wk:function(){return W},Ox:function(){return E}});var b=e(63580),U=e(16268),r=e(98401),w=e(35996),c=e(16830),_=e(11640),I=e(55343),M=e(50187),D=e(24314);class p{static columnSelect(L,z,O,P,H,V){const G=Math.abs(H-O)+1,j=O>H,F=P>V,K=P<V,m=[];for(let J=0;J<G;J++){const X=O+(j?-J:J),te=L.columnFromVisibleColumn(z,X,P),le=L.columnFromVisibleColumn(z,X,V),ge=L.visibleColumnFromColumn(z,new M.L(X,te)),we=L.visibleColumnFromColumn(z,new M.L(X,le));K&&(ge>V||we<P)||F&&(we>P||ge<V)||m.push(new I.rS(new D.e(X,te,X,te),0,0,new M.L(X,le),0))}if(m.length===0)for(let J=0;J<G;J++){const X=O+(j?-J:J),te=z.getLineMaxColumn(X);m.push(new I.rS(new D.e(X,te,X,te),0,0,new M.L(X,te),0))}return{viewStates:m,reversed:j,fromLineNumber:O,fromVisualColumn:P,toLineNumber:H,toVisualColumn:V}}static columnSelectLeft(L,z,O){let P=O.toViewVisualColumn;return P>0&&P--,p.columnSelect(L,z,O.fromViewLineNumber,O.fromViewVisualColumn,O.toViewLineNumber,P)}static columnSelectRight(L,z,O){let P=0;const H=Math.min(O.fromViewLineNumber,O.toViewLineNumber),V=Math.max(O.fromViewLineNumber,O.toViewLineNumber);for(let j=H;j<=V;j++){const F=z.getLineMaxColumn(j),K=L.visibleColumnFromColumn(z,new M.L(j,F));P=Math.max(P,K)}let G=O.toViewVisualColumn;return G<P&&G++,this.columnSelect(L,z,O.fromViewLineNumber,O.fromViewVisualColumn,O.toViewLineNumber,G)}static columnSelectUp(L,z,O,P){const H=P?L.pageSize:1,V=Math.max(1,O.toViewLineNumber-H);return this.columnSelect(L,z,O.fromViewLineNumber,O.fromViewVisualColumn,V,O.toViewVisualColumn)}static columnSelectDown(L,z,O,P){const H=P?L.pageSize:1,V=Math.min(z.getLineCount(),O.toViewLineNumber+H);return this.columnSelect(L,z,O.fromViewLineNumber,O.fromViewVisualColumn,V,O.toViewVisualColumn)}}var o=e(29436),u=e(28108),d=e(94729),n=e(29102),i=e(32064),f=e(49989),v=e(65321);const a=0;class S extends c._l{runEditorCommand(L,z,O){const P=z._getViewModel();P&&this.runCoreEditorCommand(P,O||{})}}var g;(function(R){const L=function(O){if(!r.Kn(O))return!1;const P=O;return!(!r.HD(P.to)||!r.o8(P.by)&&!r.HD(P.by)||!r.o8(P.value)&&!r.hj(P.value)||!r.o8(P.revealCursor)&&!r.jn(P.revealCursor))};R.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:L,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},R.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},R.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function z(O){let P;switch(O.to){case R.RawDirection.Up:P=1;break;case R.RawDirection.Right:P=2;break;case R.RawDirection.Down:P=3;break;case R.RawDirection.Left:P=4;break;default:return null}let H;switch(O.by){case R.RawUnit.Line:H=1;break;case R.RawUnit.WrappedLine:H=2;break;case R.RawUnit.Page:H=3;break;case R.RawUnit.HalfPage:H=4;break;case R.RawUnit.Editor:H=5;break;case R.RawUnit.Column:H=6;break;default:H=2}const V=Math.floor(O.value||1),G=!!O.revealCursor;return{direction:P,unit:H,value:V,revealCursor:G,select:!!O.select}}R.parse=z})(g||(g={}));var y;(function(R){const L=function(z){if(!r.Kn(z))return!1;const O=z;return!(!r.hj(O.lineNumber)&&!r.HD(O.lineNumber)||!r.o8(O.at)&&!r.HD(O.at))};R.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:L,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},R.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(y||(y={}));class C{constructor(L){L.addImplementation(1e4,"code-editor",(z,O)=>{const P=z.get(_.$).getFocusedCodeEditor();return P&&P.hasTextFocus()?this._runEditorCommand(z,P,O):!1}),L.addImplementation(1e3,"generic-dom-input-textarea",(z,O)=>{const P=(0,v.vY)();return P&&["input","textarea"].indexOf(P.tagName.toLowerCase())>=0?(this.runDOMCommand(P),!0):!1}),L.addImplementation(0,"generic-dom",(z,O)=>{const P=z.get(_.$).getActiveCodeEditor();return P?(P.focus(),this._runEditorCommand(z,P,O)):!1})}_runEditorCommand(L,z,O){const P=this.runEditorCommand(L,z,O);return P||!0}}var E;(function(R){class L extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){if(!Pe.position)return;pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,[u.P.moveTo(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Pe.position,Pe.viewPosition)])&&Pe.revealType!==2&&pe.revealPrimaryCursor(Pe.source,!0,!0)}}R.MoveTo=(0,c.fK)(new L({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),R.MoveToSelect=(0,c.fK)(new L({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class z extends S{runCoreEditorCommand(pe,Pe){pe.model.pushStackElement();const Ne=this._getColumnSelectResult(pe,pe.getPrimaryCursorState(),pe.getCursorColumnSelectData(),Pe);Ne!==null&&(pe.setCursorStates(Pe.source,3,Ne.viewStates.map(ae=>I.Vi.fromViewState(ae))),pe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ne.fromLineNumber,fromViewVisualColumn:Ne.fromVisualColumn,toViewLineNumber:Ne.toLineNumber,toViewVisualColumn:Ne.toVisualColumn}),Ne.reversed?pe.revealTopMostCursor(Pe.source):pe.revealBottomMostCursor(Pe.source))}}R.ColumnSelect=(0,c.fK)(new class extends z{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(we,pe,Pe,Ne){if(typeof Ne.position=="undefined"||typeof Ne.viewPosition=="undefined"||typeof Ne.mouseColumn=="undefined")return null;const ae=we.model.validatePosition(Ne.position),Me=we.coordinatesConverter.validateViewPosition(new M.L(Ne.viewPosition.lineNumber,Ne.viewPosition.column),ae),ke=Ne.doColumnSelect?Pe.fromViewLineNumber:Me.lineNumber,Ue=Ne.doColumnSelect?Pe.fromViewVisualColumn:Ne.mouseColumn-1;return p.columnSelect(we.cursorConfig,we,ke,Ue,Me.lineNumber,Ne.mouseColumn-1)}}),R.CursorColumnSelectLeft=(0,c.fK)(new class extends z{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(we,pe,Pe,Ne){return p.columnSelectLeft(we.cursorConfig,we,Pe)}}),R.CursorColumnSelectRight=(0,c.fK)(new class extends z{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(we,pe,Pe,Ne){return p.columnSelectRight(we.cursorConfig,we,Pe)}});class O extends z{constructor(pe){super(pe),this._isPaged=pe.isPaged}_getColumnSelectResult(pe,Pe,Ne,ae){return p.columnSelectUp(pe.cursorConfig,pe,Ne,this._isPaged)}}R.CursorColumnSelectUp=(0,c.fK)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),R.CursorColumnSelectPageUp=(0,c.fK)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class P extends z{constructor(pe){super(pe),this._isPaged=pe.isPaged}_getColumnSelectResult(pe,Pe,Ne,ae){return p.columnSelectDown(pe.cursorConfig,pe,Ne,this._isPaged)}}R.CursorColumnSelectDown=(0,c.fK)(new P({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),R.CursorColumnSelectPageDown=(0,c.fK)(new P({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class H extends S{constructor(){super({id:"cursorMove",precondition:void 0,metadata:u.N.metadata})}runCoreEditorCommand(pe,Pe){const Ne=u.N.parse(Pe);Ne&&this._runCursorMove(pe,Pe.source,Ne)}_runCursorMove(pe,Pe,Ne){pe.model.pushStackElement(),pe.setCursorStates(Pe,3,H._move(pe,pe.getCursorStates(),Ne)),pe.revealPrimaryCursor(Pe,!0)}static _move(pe,Pe,Ne){const ae=Ne.select,Me=Ne.value;switch(Ne.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return u.P.simpleMove(pe,Pe,Ne.direction,ae,Me,Ne.unit);case 11:case 13:case 12:case 14:return u.P.viewportMove(pe,Pe,Ne.direction,ae,Me);default:return null}}}R.CursorMoveImpl=H,R.CursorMove=(0,c.fK)(new H);class V extends S{constructor(pe){super(pe),this._staticArgs=pe.args}runCoreEditorCommand(pe,Pe){let Ne=this._staticArgs;this._staticArgs.value===-1&&(Ne={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Pe.pageSize||pe.cursorConfig.pageSize}),pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,u.P.simpleMove(pe,pe.getCursorStates(),Ne.direction,Ne.select,Ne.value,Ne.unit)),pe.revealPrimaryCursor(Pe.source,!0)}}R.CursorLeft=(0,c.fK)(new V({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),R.CursorLeftSelect=(0,c.fK)(new V({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1039}})),R.CursorRight=(0,c.fK)(new V({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),R.CursorRightSelect=(0,c.fK)(new V({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1041}})),R.CursorUp=(0,c.fK)(new V({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),R.CursorUpSelect=(0,c.fK)(new V({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),R.CursorPageUp=(0,c.fK)(new V({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:11}})),R.CursorPageUpSelect=(0,c.fK)(new V({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1035}})),R.CursorDown=(0,c.fK)(new V({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),R.CursorDownSelect=(0,c.fK)(new V({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),R.CursorPageDown=(0,c.fK)(new V({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:12}})),R.CursorPageDownSelect=(0,c.fK)(new V({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1036}})),R.CreateCursor=(0,c.fK)(new class extends S{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(we,pe){if(!pe.position)return;let Pe;pe.wholeLine?Pe=u.P.line(we,we.getPrimaryCursorState(),!1,pe.position,pe.viewPosition):Pe=u.P.moveTo(we,we.getPrimaryCursorState(),!1,pe.position,pe.viewPosition);const Ne=we.getCursorStates();if(Ne.length>1){const ae=Pe.modelState?Pe.modelState.position:null,Me=Pe.viewState?Pe.viewState.position:null;for(let ke=0,Ue=Ne.length;ke<Ue;ke++){const Le=Ne[ke];if(!(ae&&!Le.modelState.selection.containsPosition(ae))&&!(Me&&!Le.viewState.selection.containsPosition(Me))){Ne.splice(ke,1),we.model.pushStackElement(),we.setCursorStates(pe.source,3,Ne);return}}}Ne.push(Pe),we.model.pushStackElement(),we.setCursorStates(pe.source,3,Ne)}}),R.LastCursorMoveToSelect=(0,c.fK)(new class extends S{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(we,pe){if(!pe.position)return;const Pe=we.getLastAddedCursorIndex(),Ne=we.getCursorStates(),ae=Ne.slice(0);ae[Pe]=u.P.moveTo(we,Ne[Pe],!0,pe.position,pe.viewPosition),we.model.pushStackElement(),we.setCursorStates(pe.source,3,ae)}});class G extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,u.P.moveToBeginningOfLine(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Pe.source,!0)}}R.CursorHome=(0,c.fK)(new G({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),R.CursorHomeSelect=(0,c.fK)(new G({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class j extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,this._exec(pe.getCursorStates())),pe.revealPrimaryCursor(Pe.source,!0)}_exec(pe){const Pe=[];for(let Ne=0,ae=pe.length;Ne<ae;Ne++){const Me=pe[Ne],ke=Me.modelState.position.lineNumber;Pe[Ne]=I.Vi.fromModelState(Me.modelState.move(this._inSelectionMode,ke,1,0))}return Pe}}R.CursorLineStart=(0,c.fK)(new j({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),R.CursorLineStartSelect=(0,c.fK)(new j({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class F extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,u.P.moveToEndOfLine(pe,pe.getCursorStates(),this._inSelectionMode,Pe.sticky||!1)),pe.revealPrimaryCursor(Pe.source,!0)}}R.CursorEnd=(0,c.fK)(new F({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),R.CursorEndSelect=(0,c.fK)(new F({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class K extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,this._exec(pe,pe.getCursorStates())),pe.revealPrimaryCursor(Pe.source,!0)}_exec(pe,Pe){const Ne=[];for(let ae=0,Me=Pe.length;ae<Me;ae++){const ke=Pe[ae],Ue=ke.modelState.position.lineNumber,Le=pe.model.getLineMaxColumn(Ue);Ne[ae]=I.Vi.fromModelState(ke.modelState.move(this._inSelectionMode,Ue,Le,0))}return Ne}}R.CursorLineEnd=(0,c.fK)(new K({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),R.CursorLineEndSelect=(0,c.fK)(new K({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class m extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,u.P.moveToBeginningOfBuffer(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Pe.source,!0)}}R.CursorTop=(0,c.fK)(new m({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),R.CursorTopSelect=(0,c.fK)(new m({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class J extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,u.P.moveToEndOfBuffer(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Pe.source,!0)}}R.CursorBottom=(0,c.fK)(new J({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),R.CursorBottomSelect=(0,c.fK)(new J({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class X extends S{constructor(){super({id:"editorScroll",precondition:void 0,metadata:g.metadata})}determineScrollMethod(pe){const Pe=[6],Ne=[1,2,3,4,5,6],ae=[4,2],Me=[1,3];return Pe.includes(pe.unit)&&ae.includes(pe.direction)?this._runHorizontalEditorScroll.bind(this):Ne.includes(pe.unit)&&Me.includes(pe.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(pe,Pe){const Ne=g.parse(Pe);if(!Ne)return;const ae=this.determineScrollMethod(Ne);ae&&ae(pe,Pe.source,Ne)}_runVerticalEditorScroll(pe,Pe,Ne){const ae=this._computeDesiredScrollTop(pe,Ne);if(Ne.revealCursor){const Me=pe.getCompletelyVisibleViewRangeAtScrollTop(ae);pe.setCursorStates(Pe,3,[u.P.findPositionInViewportIfOutside(pe,pe.getPrimaryCursorState(),Me,Ne.select)])}pe.viewLayout.setScrollPosition({scrollTop:ae},0)}_computeDesiredScrollTop(pe,Pe){if(Pe.unit===1){const Me=pe.viewLayout.getFutureViewport(),ke=pe.getCompletelyVisibleViewRangeAtScrollTop(Me.top),Ue=pe.coordinatesConverter.convertViewRangeToModelRange(ke);let Le;Pe.direction===1?Le=Math.max(1,Ue.startLineNumber-Pe.value):Le=Math.min(pe.model.getLineCount(),Ue.startLineNumber+Pe.value);const ie=pe.coordinatesConverter.convertModelPositionToViewPosition(new M.L(Le,1));return pe.viewLayout.getVerticalOffsetForLineNumber(ie.lineNumber)}if(Pe.unit===5){let Me=0;return Pe.direction===3&&(Me=pe.model.getLineCount()-pe.cursorConfig.pageSize),pe.viewLayout.getVerticalOffsetForLineNumber(Me)}let Ne;Pe.unit===3?Ne=pe.cursorConfig.pageSize*Pe.value:Pe.unit===4?Ne=Math.round(pe.cursorConfig.pageSize/2)*Pe.value:Ne=Pe.value;const ae=(Pe.direction===1?-1:1)*Ne;return pe.viewLayout.getCurrentScrollTop()+ae*pe.cursorConfig.lineHeight}_runHorizontalEditorScroll(pe,Pe,Ne){const ae=this._computeDesiredScrollLeft(pe,Ne);pe.viewLayout.setScrollPosition({scrollLeft:ae},0)}_computeDesiredScrollLeft(pe,Pe){const Ne=(Pe.direction===4?-1:1)*Pe.value;return pe.viewLayout.getCurrentScrollLeft()+Ne*pe.cursorConfig.typicalHalfwidthCharacterWidth}}R.EditorScrollImpl=X,R.EditorScroll=(0,c.fK)(new X),R.ScrollLineUp=(0,c.fK)(new class extends S{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Up,by:g.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollPageUp=(0,c.fK)(new class extends S{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Up,by:g.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollEditorTop=(0,c.fK)(new class extends S{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Up,by:g.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollLineDown=(0,c.fK)(new class extends S{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Down,by:g.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollPageDown=(0,c.fK)(new class extends S{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Down,by:g.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollEditorBottom=(0,c.fK)(new class extends S{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Down,by:g.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollLeft=(0,c.fK)(new class extends S{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Left,by:g.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:pe.source})}}),R.ScrollRight=(0,c.fK)(new class extends S{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(we,pe){R.EditorScroll.runCoreEditorCommand(we,{to:g.RawDirection.Right,by:g.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:pe.source})}});class te extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){Pe.position&&(pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,[u.P.word(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Pe.position)]),Pe.revealType!==2&&pe.revealPrimaryCursor(Pe.source,!0,!0))}}R.WordSelect=(0,c.fK)(new te({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),R.WordSelectDrag=(0,c.fK)(new te({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),R.LastCursorWordSelect=(0,c.fK)(new class extends S{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(we,pe){if(!pe.position)return;const Pe=we.getLastAddedCursorIndex(),Ne=we.getCursorStates(),ae=Ne.slice(0),Me=Ne[Pe];ae[Pe]=u.P.word(we,Me,Me.modelState.hasSelection(),pe.position),we.model.pushStackElement(),we.setCursorStates(pe.source,3,ae)}});class le extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){Pe.position&&(pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,[u.P.line(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Pe.position,Pe.viewPosition)]),Pe.revealType!==2&&pe.revealPrimaryCursor(Pe.source,!1,!0))}}R.LineSelect=(0,c.fK)(new le({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),R.LineSelectDrag=(0,c.fK)(new le({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ge extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Pe){if(!Pe.position)return;const Ne=pe.getLastAddedCursorIndex(),ae=pe.getCursorStates(),Me=ae.slice(0);Me[Ne]=u.P.line(pe,ae[Ne],this._inSelectionMode,Pe.position,Pe.viewPosition),pe.model.pushStackElement(),pe.setCursorStates(Pe.source,3,Me)}}R.LastCursorLineSelect=(0,c.fK)(new ge({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),R.LastCursorLineSelectDrag=(0,c.fK)(new ge({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),R.CancelSelection=(0,c.fK)(new class extends S{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(we,pe){we.model.pushStackElement(),we.setCursorStates(pe.source,3,[u.P.cancelSelection(we,we.getPrimaryCursorState())]),we.revealPrimaryCursor(pe.source,!0)}}),R.RemoveSecondaryCursors=(0,c.fK)(new class extends S{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:a+1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(we,pe){we.model.pushStackElement(),we.setCursorStates(pe.source,3,[we.getPrimaryCursorState()]),we.revealPrimaryCursor(pe.source,!0),(0,w.i7)(b.NC("removedCursor","Removed secondary cursors"))}}),R.RevealLine=(0,c.fK)(new class extends S{constructor(){super({id:"revealLine",precondition:void 0,metadata:y.metadata})}runCoreEditorCommand(we,pe){const Pe=pe,Ne=Pe.lineNumber||0;let ae=typeof Ne=="number"?Ne+1:parseInt(Ne)+1;ae<1&&(ae=1);const Me=we.model.getLineCount();ae>Me&&(ae=Me);const ke=new D.e(ae,1,ae,we.model.getLineMaxColumn(ae));let Ue=0;if(Pe.at)switch(Pe.at){case y.RawAtArgument.Top:Ue=3;break;case y.RawAtArgument.Center:Ue=1;break;case y.RawAtArgument.Bottom:Ue=4;break;default:break}const Le=we.coordinatesConverter.convertModelRangeToViewRange(ke);we.revealRange(pe.source,!1,Le,Ue,0)}}),R.SelectAll=new class extends C{constructor(){super(c.Sq)}runDOMCommand(we){U.vU&&(we.focus(),we.select()),we.ownerDocument.execCommand("selectAll")}runEditorCommand(we,pe,Pe){const Ne=pe._getViewModel();Ne&&this.runCoreEditorCommand(Ne,Pe)}runCoreEditorCommand(we,pe){we.model.pushStackElement(),we.setCursorStates("keyboard",3,[u.P.selectAll(we,we.getPrimaryCursorState())])}},R.SetSelection=(0,c.fK)(new class extends S{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(we,pe){pe.selection&&(we.model.pushStackElement(),we.setCursorStates(pe.source,3,[I.Vi.fromModelSelection(pe.selection)]))}})})(E||(E={}));const A=i.Ao.and(n.u.textInputFocus,n.u.columnSelection);function N(R,L){f.W.registerKeybindingRule({id:R,primary:L,when:A,weight:a+1})}N(E.CursorColumnSelectLeft.id,1039),N(E.CursorColumnSelectRight.id,1041),N(E.CursorColumnSelectUp.id,1040),N(E.CursorColumnSelectPageUp.id,1035),N(E.CursorColumnSelectDown.id,1042),N(E.CursorColumnSelectPageDown.id,1036);function B(R){return R.register(),R}var W;(function(R){class L extends c._l{runEditorCommand(O,P,H){const V=P._getViewModel();V&&this.runCoreEditingCommand(P,V,H||{})}}R.CoreEditingCommand=L,R.LineBreakInsert=(0,c.fK)(new class extends L{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(z,O,P){z.pushUndoStop(),z.executeCommands(this.id,d.u6.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(H=>H.modelState.selection)))}}),R.Outdent=(0,c.fK)(new class extends L{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:a,kbExpr:i.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(z,O,P){z.pushUndoStop(),z.executeCommands(this.id,d.u6.outdent(O.cursorConfig,O.model,O.getCursorStates().map(H=>H.modelState.selection))),z.pushUndoStop()}}),R.Tab=(0,c.fK)(new class extends L{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:a,kbExpr:i.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(z,O,P){z.pushUndoStop(),z.executeCommands(this.id,d.u6.tab(O.cursorConfig,O.model,O.getCursorStates().map(H=>H.modelState.selection))),z.pushUndoStop()}}),R.DeleteLeft=(0,c.fK)(new class extends L{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(z,O,P){const[H,V]=o.A.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(G=>G.modelState.selection),O.getCursorAutoClosedCharacters());H&&z.pushUndoStop(),z.executeCommands(this.id,V),O.setPrevEditOperationType(2)}}),R.DeleteRight=(0,c.fK)(new class extends L{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:a,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(z,O,P){const[H,V]=o.A.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(G=>G.modelState.selection));H&&z.pushUndoStop(),z.executeCommands(this.id,V),O.setPrevEditOperationType(3)}}),R.Undo=new class extends C{constructor(){super(c.n_)}runDOMCommand(z){z.ownerDocument.execCommand("undo")}runEditorCommand(z,O,P){if(!(!O.hasModel()||O.getOption(90)===!0))return O.getModel().undo()}},R.Redo=new class extends C{constructor(){super(c.kz)}runDOMCommand(z){z.ownerDocument.execCommand("redo")}runEditorCommand(z,O,P){if(!(!O.hasModel()||O.getOption(90)===!0))return O.getModel().redo()}}})(W||(W={}));class $ extends c.mY{constructor(L,z,O){super({id:L,precondition:void 0,metadata:O}),this._handlerId=z}runCommand(L,z){const O=L.get(_.$).getFocusedCodeEditor();O&&O.trigger("keyboard",this._handlerId,z)}}function Y(R,L){B(new $("default:"+R,R)),B(new $(R,R,L))}Y("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Y("replacePreviousChar"),Y("compositionType"),Y("compositionStart"),Y("compositionEnd"),Y("paste"),Y("cut")},92944:function(Ot,Ke,e){"use strict";e.d(Ke,{B:function(){return _},L:function(){return D}});var b=e(23547),U=e(73278),r=e(81170),w=e(70666),c=e(16021);function _(p){const o=new U.Hl;for(const u of p.items){const d=u.type;if(u.kind==="string"){const n=new Promise(i=>u.getAsString(i));o.append(d,(0,U.ZO)(n))}else if(u.kind==="file"){const n=u.getAsFile();n&&o.append(d,I(n))}}return o}function I(p){const o=p.path?w.o.parse(p.path):void 0;return(0,U.Ix)(p.name,o,()=>tn(this,null,function*(){return new Uint8Array(yield p.arrayBuffer())}))}const M=Object.freeze([c.Km.EDITORS,c.Km.FILES,b.g.RESOURCES,b.g.INTERNAL_URI_LIST]);function D(p,o=!1){const u=_(p),d=u.get(b.g.INTERNAL_URI_LIST);if(d)u.replace(r.v.uriList,d);else if(o||!u.has(r.v.uriList)){const n=[];for(const i of p.items){const f=i.getAsFile();if(f){const v=f.path;try{v?n.push(w.o.file(v).toString()):n.push(w.o.parse(f.name,!0).toString())}catch(a){}}}n.length&&u.replace(r.v.uriList,(0,U.ZO)(U.Z0.create(n)))}for(const n of M)u.delete(n);return u}},65520:function(Ot,Ke,e){"use strict";e.d(Ke,{CL:function(){return U},Pi:function(){return c},QI:function(){return r}});var b=e(96518);function U(_){return _&&typeof _.getEditorType=="function"?_.getEditorType()===b.g.ICodeEditor:!1}function r(_){return _&&typeof _.getEditorType=="function"?_.getEditorType()===b.g.IDiffEditor:!1}function w(_){return!!_&&typeof _=="object"&&typeof _.onDidChangeActiveEditor=="function"}function c(_){return U(_)?_:r(_)?_.getModifiedEditor():w(_)&&U(_.activeCodeEditor)?_.activeCodeEditor:null}},29994:function(Ot,Ke,e){"use strict";e.d(Ke,{AL:function(){return f},N5:function(){return n},Pp:function(){return u},YN:function(){return I},gy:function(){return d},kG:function(){return o},rU:function(){return M},t7:function(){return v},tC:function(){return i}});var b=e(65321),U=e(93911),r=e(7317),w=e(15393),c=e(5976),_=e(73910);class I{constructor(y,C){this.x=y,this.y=C,this._pageCoordinatesBrand=void 0}toClientCoordinates(y){return new M(this.x-y.scrollX,this.y-y.scrollY)}}class M{constructor(y,C){this.clientX=y,this.clientY=C,this._clientCoordinatesBrand=void 0}toPageCoordinates(y){return new I(this.clientX+y.scrollX,this.clientY+y.scrollY)}}class D{constructor(y,C,E,A){this.x=y,this.y=C,this.width=E,this.height=A,this._editorPagePositionBrand=void 0}}class p{constructor(y,C){this.x=y,this.y=C,this._positionRelativeToEditorBrand=void 0}}function o(g){const y=b.i(g);return new D(y.left,y.top,y.width,y.height)}function u(g,y,C){const E=y.width/g.offsetWidth,A=y.height/g.offsetHeight,N=(C.x-y.x)/E,B=(C.y-y.y)/A;return new p(N,B)}class d extends r.n{constructor(y,C,E){super(b.Jj(E),y),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=C,this.pos=new I(this.posx,this.posy),this.editorPos=o(E),this.relativePos=u(E,this.editorPos,this.pos)}}class n{constructor(y){this._editorViewDomNode=y}_create(y){return new d(y,!1,this._editorViewDomNode)}onContextMenu(y,C){return b.nm(y,"contextmenu",E=>{C(this._create(E))})}onMouseUp(y,C){return b.nm(y,"mouseup",E=>{C(this._create(E))})}onMouseDown(y,C){return b.nm(y,b.tw.MOUSE_DOWN,E=>{C(this._create(E))})}onPointerDown(y,C){return b.nm(y,b.tw.POINTER_DOWN,E=>{C(this._create(E),E.pointerId)})}onMouseLeave(y,C){return b.nm(y,b.tw.MOUSE_LEAVE,E=>{C(this._create(E))})}onMouseMove(y,C){return b.nm(y,"mousemove",E=>C(this._create(E)))}}class i{constructor(y){this._editorViewDomNode=y}_create(y){return new d(y,!1,this._editorViewDomNode)}onPointerUp(y,C){return b.nm(y,"pointerup",E=>{C(this._create(E))})}onPointerDown(y,C){return b.nm(y,b.tw.POINTER_DOWN,E=>{C(this._create(E),E.pointerId)})}onPointerLeave(y,C){return b.nm(y,b.tw.POINTER_LEAVE,E=>{C(this._create(E))})}onPointerMove(y,C){return b.nm(y,"pointermove",E=>C(this._create(E)))}}class f extends c.JT{constructor(y){super(),this._editorViewDomNode=y,this._globalPointerMoveMonitor=this._register(new U.C),this._keydownListener=null}startMonitoring(y,C,E,A,N){this._keydownListener=b.mu(y.ownerDocument,"keydown",B=>{B.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,B.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(y,C,E,B=>{A(new d(B,!0,this._editorViewDomNode))},B=>{this._keydownListener.dispose(),N(B)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class v{constructor(y){this._editor=y,this._instanceId=++v._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new w.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(y){const C=this.getOrCreateRule(y);return C.increaseRefCount(),{className:C.className,dispose:()=>{C.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(y){const C=this.computeUniqueKey(y);let E=this._rules.get(C);if(!E){const A=this._counter++;E=new a(C,`dyn-rule-${this._instanceId}-${A}`,b.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,y),this._rules.set(C,E)}return E}computeUniqueKey(y){return JSON.stringify(y)}garbageCollect(){for(const y of this._rules.values())y.hasReferences()||(this._rules.delete(y.key),y.dispose())}}v._idPool=0;class a{constructor(y,C,E,A){this.key=y,this.className=C,this.properties=A,this._referenceCount=0,this._styleElementDisposables=new c.SL,this._styleElement=b.dS(E,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(y,C){let E=`.${y} {`;for(const A in C){const N=C[A];let B;typeof N=="object"?B=(0,_.n_1)(N.id):B=N;const W=S(A);E+=`
	${W}: ${B};`}return E+=`
}`,E}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function S(g){return g.replace(/(^[A-Z])/,([y])=>y.toLowerCase()).replace(/([A-Z])/g,([y])=>`-${y.toLowerCase()}`)}},16830:function(Ot,Ke,e){"use strict";e.d(Ke,{AJ:function(){return a},QG:function(){return $},Qr:function(){return B},R6:function(){return y},Sq:function(){return V},Uc:function(){return R},_K:function(){return Y},_l:function(){return g},fK:function(){return N},jY:function(){return C},kz:function(){return H},mY:function(){return v},n_:function(){return P},rn:function(){return W},sb:function(){return A},x1:function(){return E}});var b=e(63580),U=e(70666),r=e(11640),w=e(50187),c=e(73733),_=e(88216),I=e(84144),M=e(94565),D=e(32064),p=e(72065),o=e(49989),u=e(89872),d=e(10829),n=e(98401),i=e(43557),f=e(65321);class v{constructor(j){this.id=j.id,this.precondition=j.precondition,this._kbOpts=j.kbOpts,this._menuOpts=j.menuOpts,this.metadata=j.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const j=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const F of j){let K=F.kbExpr;this.precondition&&(K?K=D.Ao.and(K,this.precondition):K=this.precondition);const m={id:this.id,weight:F.weight,args:F.args,when:K,primary:F.primary,secondary:F.secondary,win:F.win,linux:F.linux,mac:F.mac};o.W.registerKeybindingRule(m)}}M.P.registerCommand({id:this.id,handler:(j,F)=>this.runCommand(j,F),metadata:this.metadata})}_registerMenuItem(j){I.BH.appendMenuItem(j.menuId,{group:j.group,command:{id:this.id,title:j.title,icon:j.icon,precondition:this.precondition},when:j.when,order:j.order})}}class a extends v{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,F,K,m){return this._implementations.push({priority:j,name:F,implementation:K,when:m}),this._implementations.sort((J,X)=>X.priority-J.priority),{dispose:()=>{for(let J=0;J<this._implementations.length;J++)if(this._implementations[J].implementation===K){this._implementations.splice(J,1);return}}}}runCommand(j,F){const K=j.get(i.VZ),m=j.get(D.i6);K.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const J of this._implementations){if(J.when){const te=m.getContext((0,f.vY)());if(!J.when.evaluate(te))continue}const X=J.implementation(j,F);if(X)return K.trace(`Command '${this.id}' was handled by '${J.name}'.`),typeof X=="boolean"?void 0:X}K.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class S extends v{constructor(j,F){super(F),this.command=j}runCommand(j,F){return this.command.runCommand(j,F)}}class g extends v{static bindToContribution(j){return class extends g{constructor(K){super(K),this._callback=K.handler}runEditorCommand(K,m,J){const X=j(m);X&&this._callback(X,J)}}}static runEditorCommand(j,F,K,m){const J=j.get(r.$),X=J.getFocusedCodeEditor()||J.getActiveCodeEditor();if(X)return X.invokeWithinContext(te=>{if(te.get(D.i6).contextMatchesRules(K!=null?K:void 0))return m(te,X,F)})}runCommand(j,F){return g.runEditorCommand(j,F,this.precondition,(K,m,J)=>this.runEditorCommand(K,m,J))}}class y extends g{static convertOptions(j){let F;Array.isArray(j.menuOpts)?F=j.menuOpts:j.menuOpts?F=[j.menuOpts]:F=[];function K(m){return m.menuId||(m.menuId=I.eH.EditorContext),m.title||(m.title=j.label),m.when=D.Ao.and(j.precondition,m.when),m}return Array.isArray(j.contextMenuOpts)?F.push(...j.contextMenuOpts.map(K)):j.contextMenuOpts&&F.push(K(j.contextMenuOpts)),j.menuOpts=F,j}constructor(j){super(y.convertOptions(j)),this.label=j.label,this.alias=j.alias}runEditorCommand(j,F,K){return this.reportTelemetry(j,F),this.run(j,F,K||{})}reportTelemetry(j,F){j.get(d.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class C extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,F){return this._implementations.push([j,F]),this._implementations.sort((K,m)=>m[0]-K[0]),{dispose:()=>{for(let K=0;K<this._implementations.length;K++)if(this._implementations[K][1]===F){this._implementations.splice(K,1);return}}}}run(j,F,K){for(const m of this._implementations){const J=m[1](j,F,K);if(J)return typeof J=="boolean"?void 0:J}}}class E extends I.Ke{run(j,...F){const K=j.get(r.$),m=K.getFocusedCodeEditor()||K.getActiveCodeEditor();if(m)return m.invokeWithinContext(J=>{var X,te;const le=J.get(D.i6),ge=J.get(i.VZ);if(!le.contextMatchesRules((X=this.desc.precondition)!==null&&X!==void 0?X:void 0)){ge.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(te=this.desc.precondition)===null||te===void 0?void 0:te.serialize());return}return this.runEditorCommand(J,m,...F)})}}function A(G,j){M.P.registerCommand(G,function(F,...K){const m=F.get(p.TG),[J,X]=K;(0,n.p_)(U.o.isUri(J)),(0,n.p_)(w.L.isIPosition(X));const te=F.get(c.q).getModel(J);if(te){const le=w.L.lift(X);return m.invokeFunction(j,te,le,...K.slice(2))}return F.get(_.S).createModelReference(J).then(le=>new Promise((ge,we)=>{try{const pe=m.invokeFunction(j,le.object.textEditorModel,w.L.lift(X),K.slice(2));ge(pe)}catch(pe){we(pe)}}).finally(()=>{le.dispose()}))})}function N(G){return z.INSTANCE.registerEditorCommand(G),G}function B(G){const j=new G;return z.INSTANCE.registerEditorAction(j),j}function W(G){return z.INSTANCE.registerEditorAction(G),G}function $(G){z.INSTANCE.registerEditorAction(G)}function Y(G,j,F){z.INSTANCE.registerEditorContribution(G,j,F)}var R;(function(G){function j(X){return z.INSTANCE.getEditorCommand(X)}G.getEditorCommand=j;function F(){return z.INSTANCE.getEditorActions()}G.getEditorActions=F;function K(){return z.INSTANCE.getEditorContributions()}G.getEditorContributions=K;function m(X){return z.INSTANCE.getEditorContributions().filter(te=>X.indexOf(te.id)>=0)}G.getSomeEditorContributions=m;function J(){return z.INSTANCE.getDiffEditorContributions()}G.getDiffEditorContributions=J})(R||(R={}));const L={EditorCommonContributions:"editor.contributions"};class z{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(j,F,K){this.editorContributions.push({id:j,ctor:F,instantiation:K})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(j){j.register(),this.editorActions.push(j)}getEditorActions(){return this.editorActions}registerEditorCommand(j){j.register(),this.editorCommands[j.id]=j}getEditorCommand(j){return this.editorCommands[j]||null}}z.INSTANCE=new z,u.B.add(L.EditorCommonContributions,z.INSTANCE);function O(G){return G.register(),G}const P=O(new a({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:I.eH.MenubarEditMenu,group:"1_do",title:b.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:I.eH.CommandPalette,group:"",title:b.NC("undo","Undo"),order:1}]}));O(new S(P,{id:"default:undo",precondition:void 0}));const H=O(new a({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:I.eH.MenubarEditMenu,group:"1_do",title:b.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:I.eH.CommandPalette,group:"",title:b.NC("redo","Redo"),order:1}]}));O(new S(H,{id:"default:redo",precondition:void 0}));const V=O(new a({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:I.eH.MenubarSelectionMenu,group:"1_basic",title:b.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:I.eH.CommandPalette,group:"",title:b.NC("selectAll","Select All"),order:1}]}))},66007:function(Ot,Ke,e){"use strict";e.d(Ke,{Gl:function(){return _},fo:function(){return c},vu:function(){return w}});var b=e(72065),U=e(70666),r=e(98401);const w=(0,b.yh)("IWorkspaceEditService");class c{constructor(D){this.metadata=D}static convert(D){return D.edits.map(p=>{if(_.is(p))return _.lift(p);if(I.is(p))return I.lift(p);throw new Error("Unsupported edit")})}}class _ extends c{static is(D){return D instanceof _?!0:(0,r.Kn)(D)&&U.o.isUri(D.resource)&&(0,r.Kn)(D.textEdit)}static lift(D){return D instanceof _?D:new _(D.resource,D.textEdit,D.versionId,D.metadata)}constructor(D,p,o=void 0,u){super(u),this.resource=D,this.textEdit=p,this.versionId=o}}class I extends c{static is(D){return D instanceof I?!0:(0,r.Kn)(D)&&(!!D.newResource||!!D.oldResource)}static lift(D){return D instanceof I?D:new I(D.oldResource,D.newResource,D.options,D.metadata)}constructor(D,p,o={},u){super(u),this.oldResource=D,this.newResource=p,this.options=o}}},11640:function(Ot,Ke,e){"use strict";e.d(Ke,{$:function(){return U}});var b=e(72065);const U=(0,b.yh)("codeEditorService")},83379:function(Ot,Ke,e){"use strict";e.d(Ke,{Q8:function(){return ns},eu:function(){return Si}});var b=e(15393),U=e(5976),r=e(17301),w=e(4669),c=e(36248),_=e(1432),I=e(97295);const M="$initialize";let D=!1;function p(wn){_.$L&&(D||(D=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(wn.message))}class o{constructor(qe,Dt,Qt,on){this.vsWorker=qe,this.req=Dt,this.method=Qt,this.args=on,this.type=0}}class u{constructor(qe,Dt,Qt,on){this.vsWorker=qe,this.seq=Dt,this.res=Qt,this.err=on,this.type=1}}class d{constructor(qe,Dt,Qt,on){this.vsWorker=qe,this.req=Dt,this.eventName=Qt,this.arg=on,this.type=2}}class n{constructor(qe,Dt,Qt){this.vsWorker=qe,this.req=Dt,this.event=Qt,this.type=3}}class i{constructor(qe,Dt){this.vsWorker=qe,this.req=Dt,this.type=4}}class f{constructor(qe){this._workerId=-1,this._handler=qe,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(qe){this._workerId=qe}sendMessage(qe,Dt){const Qt=String(++this._lastSentReq);return new Promise((on,Cn)=>{this._pendingReplies[Qt]={resolve:on,reject:Cn},this._send(new o(this._workerId,Qt,qe,Dt))})}listen(qe,Dt){let Qt=null;const on=new w.Q5({onWillAddFirstListener:()=>{Qt=String(++this._lastSentReq),this._pendingEmitters.set(Qt,on),this._send(new d(this._workerId,Qt,qe,Dt))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Qt),this._send(new i(this._workerId,Qt)),Qt=null}});return on.event}handleMessage(qe){!qe||!qe.vsWorker||this._workerId!==-1&&qe.vsWorker!==this._workerId||this._handleMessage(qe)}_handleMessage(qe){switch(qe.type){case 1:return this._handleReplyMessage(qe);case 0:return this._handleRequestMessage(qe);case 2:return this._handleSubscribeEventMessage(qe);case 3:return this._handleEventMessage(qe);case 4:return this._handleUnsubscribeEventMessage(qe)}}_handleReplyMessage(qe){if(!this._pendingReplies[qe.seq]){console.warn("Got reply to unknown seq");return}const Dt=this._pendingReplies[qe.seq];if(delete this._pendingReplies[qe.seq],qe.err){let Qt=qe.err;qe.err.$isError&&(Qt=new Error,Qt.name=qe.err.name,Qt.message=qe.err.message,Qt.stack=qe.err.stack),Dt.reject(Qt);return}Dt.resolve(qe.res)}_handleRequestMessage(qe){const Dt=qe.req;this._handler.handleMessage(qe.method,qe.args).then(on=>{this._send(new u(this._workerId,Dt,on,void 0))},on=>{on.detail instanceof Error&&(on.detail=(0,r.ri)(on.detail)),this._send(new u(this._workerId,Dt,void 0,(0,r.ri)(on)))})}_handleSubscribeEventMessage(qe){const Dt=qe.req,Qt=this._handler.handleEvent(qe.eventName,qe.arg)(on=>{this._send(new n(this._workerId,Dt,on))});this._pendingEvents.set(Dt,Qt)}_handleEventMessage(qe){if(!this._pendingEmitters.has(qe.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(qe.req).fire(qe.event)}_handleUnsubscribeEventMessage(qe){if(!this._pendingEvents.has(qe.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(qe.req).dispose(),this._pendingEvents.delete(qe.req)}_send(qe){const Dt=[];if(qe.type===0)for(let Qt=0;Qt<qe.args.length;Qt++)qe.args[Qt]instanceof ArrayBuffer&&Dt.push(qe.args[Qt]);else qe.type===1&&qe.res instanceof ArrayBuffer&&Dt.push(qe.res);this._handler.sendMessage(qe,Dt)}}class v extends U.JT{constructor(qe,Dt,Qt){super();let on=null;this._worker=this._register(qe.create("vs/base/common/worker/simpleWorker",sn=>{this._protocol.handleMessage(sn)},sn=>{on==null||on(sn)})),this._protocol=new f({sendMessage:(sn,en)=>{this._worker.postMessage(sn,en)},handleMessage:(sn,en)=>{if(typeof Qt[sn]!="function")return Promise.reject(new Error("Missing method "+sn+" on main thread host."));try{return Promise.resolve(Qt[sn].apply(Qt,en))}catch(Un){return Promise.reject(Un)}},handleEvent:(sn,en)=>{if(S(sn)){const Un=Qt[sn].call(Qt,en);if(typeof Un!="function")throw new Error(`Missing dynamic event ${sn} on main thread host.`);return Un}if(a(sn)){const Un=Qt[sn];if(typeof Un!="function")throw new Error(`Missing event ${sn} on main thread host.`);return Un}throw new Error(`Malformed event name ${sn}`)}}),this._protocol.setWorkerId(this._worker.getId());let Cn=null;const Bn=globalThis.require;typeof Bn!="undefined"&&typeof Bn.getConfig=="function"?Cn=Bn.getConfig():typeof globalThis.requirejs!="undefined"&&(Cn=globalThis.requirejs.s.contexts._.config);const jn=(0,c.$E)(Qt);this._onModuleLoaded=this._protocol.sendMessage(M,[this._worker.getId(),JSON.parse(JSON.stringify(Cn)),Dt,jn]);const kt=(sn,en)=>this._request(sn,en),wt=(sn,en)=>this._protocol.listen(sn,en);this._lazyProxy=new Promise((sn,en)=>{on=en,this._onModuleLoaded.then(Un=>{sn(g(Un,kt,wt))},Un=>{en(Un),this._onError("Worker failed to load "+Dt,Un)})})}getProxyObject(){return this._lazyProxy}_request(qe,Dt){return new Promise((Qt,on)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(qe,Dt).then(Qt,on)},on)})}_onError(qe,Dt){console.error(qe),console.info(Dt)}}function a(wn){return wn[0]==="o"&&wn[1]==="n"&&I.df(wn.charCodeAt(2))}function S(wn){return/^onDynamic/.test(wn)&&I.df(wn.charCodeAt(9))}function g(wn,qe,Dt){const Qt=Bn=>function(){const jn=Array.prototype.slice.call(arguments,0);return qe(Bn,jn)},on=Bn=>function(jn){return Dt(Bn,jn)},Cn={};for(const Bn of wn){if(S(Bn)){Cn[Bn]=on(Bn);continue}if(a(Bn)){Cn[Bn]=Dt(Bn,void 0);continue}Cn[Bn]=Qt(Bn)}return Cn}class y{constructor(qe,Dt){this._requestHandlerFactory=Dt,this._requestHandler=null,this._protocol=new f({sendMessage:(Qt,on)=>{qe(Qt,on)},handleMessage:(Qt,on)=>this._handleMessage(Qt,on),handleEvent:(Qt,on)=>this._handleEvent(Qt,on)})}onmessage(qe){this._protocol.handleMessage(qe)}_handleMessage(qe,Dt){if(qe===M)return this.initialize(Dt[0],Dt[1],Dt[2],Dt[3]);if(!this._requestHandler||typeof this._requestHandler[qe]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+qe));try{return Promise.resolve(this._requestHandler[qe].apply(this._requestHandler,Dt))}catch(Qt){return Promise.reject(Qt)}}_handleEvent(qe,Dt){if(!this._requestHandler)throw new Error("Missing requestHandler");if(S(qe)){const Qt=this._requestHandler[qe].call(this._requestHandler,Dt);if(typeof Qt!="function")throw new Error(`Missing dynamic event ${qe} on request handler.`);return Qt}if(a(qe)){const Qt=this._requestHandler[qe];if(typeof Qt!="function")throw new Error(`Missing event ${qe} on request handler.`);return Qt}throw new Error(`Malformed event name ${qe}`)}initialize(qe,Dt,Qt,on){this._protocol.setWorkerId(qe);const jn=g(on,(kt,wt)=>this._protocol.sendMessage(kt,wt),(kt,wt)=>this._protocol.listen(kt,wt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(jn),Promise.resolve(getAllMethodNames(this._requestHandler))):(Dt&&(typeof Dt.baseUrl!="undefined"&&delete Dt.baseUrl,typeof Dt.paths!="undefined"&&typeof Dt.paths.vs!="undefined"&&delete Dt.paths.vs,typeof Dt.trustedTypesPolicy!==void 0&&delete Dt.trustedTypesPolicy,Dt.catchError=!0,globalThis.require.config(Dt)),new Promise((kt,wt)=>{const sn=globalThis.require;sn([Qt],en=>{if(this._requestHandler=en.create(jn),!this._requestHandler){wt(new Error("No RequestHandler!"));return}kt(getAllMethodNames(this._requestHandler))},wt)}))}}function C(wn){return new y(wn,null)}var E=e(77514);const A=(0,E.Z)("defaultWorkerFactory",{createScriptURL:wn=>wn});function N(wn){const qe=globalThis.MonacoEnvironment;if(qe){if(typeof qe.getWorker=="function")return qe.getWorker("workerMain.js",wn);if(typeof qe.getWorkerUrl=="function"){const Dt=qe.getWorkerUrl("workerMain.js",wn);return new Worker(A?A.createScriptURL(Dt):Dt,{name:wn})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function B(wn){return typeof wn.then=="function"}class W{constructor(qe,Dt,Qt,on,Cn){this.id=Dt,this.label=Qt;const Bn=N(Qt);B(Bn)?this.worker=Bn:this.worker=Promise.resolve(Bn),this.postMessage(qe,[]),this.worker.then(jn=>{jn.onmessage=function(kt){on(kt.data)},jn.onmessageerror=Cn,typeof jn.addEventListener=="function"&&jn.addEventListener("error",Cn)})}getId(){return this.id}postMessage(qe,Dt){var Qt;(Qt=this.worker)===null||Qt===void 0||Qt.then(on=>{try{on.postMessage(qe,Dt)}catch(Cn){(0,r.dL)(Cn),(0,r.dL)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:Cn}))}})}dispose(){var qe;(qe=this.worker)===null||qe===void 0||qe.then(Dt=>Dt.terminate()),this.worker=null}}class ${constructor(qe){this._label=qe,this._webWorkerFailedBeforeError=!1}create(qe,Dt,Qt){const on=++$.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new W(qe,on,this._label||"anonymous"+on,Dt,Cn=>{p(Cn),this._webWorkerFailedBeforeError=Cn,Qt(Cn)})}}$.LAST_WORKER_ID=0;var Y=e(24314),R=e(4256),L=e(22571),z=e(70666),O=e(50187),P=e(90310);class H{constructor(qe,Dt,Qt,on){this._uri=qe,this._lines=Dt,this._eol=Qt,this._versionId=on,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(qe){qe.eol&&qe.eol!==this._eol&&(this._eol=qe.eol,this._lineStarts=null);const Dt=qe.changes;for(const Qt of Dt)this._acceptDeleteRange(Qt.range),this._acceptInsertText(new O.L(Qt.range.startLineNumber,Qt.range.startColumn),Qt.text);this._versionId=qe.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const qe=this._eol.length,Dt=this._lines.length,Qt=new Uint32Array(Dt);for(let on=0;on<Dt;on++)Qt[on]=this._lines[on].length+qe;this._lineStarts=new P.oQ(Qt)}}_setLineText(qe,Dt){this._lines[qe]=Dt,this._lineStarts&&this._lineStarts.setValue(qe,this._lines[qe].length+this._eol.length)}_acceptDeleteRange(qe){if(qe.startLineNumber===qe.endLineNumber){if(qe.startColumn===qe.endColumn)return;this._setLineText(qe.startLineNumber-1,this._lines[qe.startLineNumber-1].substring(0,qe.startColumn-1)+this._lines[qe.startLineNumber-1].substring(qe.endColumn-1));return}this._setLineText(qe.startLineNumber-1,this._lines[qe.startLineNumber-1].substring(0,qe.startColumn-1)+this._lines[qe.endLineNumber-1].substring(qe.endColumn-1)),this._lines.splice(qe.startLineNumber,qe.endLineNumber-qe.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(qe.startLineNumber,qe.endLineNumber-qe.startLineNumber)}_acceptInsertText(qe,Dt){if(Dt.length===0)return;const Qt=(0,I.uq)(Dt);if(Qt.length===1){this._setLineText(qe.lineNumber-1,this._lines[qe.lineNumber-1].substring(0,qe.column-1)+Qt[0]+this._lines[qe.lineNumber-1].substring(qe.column-1));return}Qt[Qt.length-1]+=this._lines[qe.lineNumber-1].substring(qe.column-1),this._setLineText(qe.lineNumber-1,this._lines[qe.lineNumber-1].substring(0,qe.column-1)+Qt[0]);const on=new Uint32Array(Qt.length-1);for(let Cn=1;Cn<Qt.length;Cn++)this._lines.splice(qe.lineNumber+Cn-1,0,Qt[Cn]),on[Cn-1]=Qt[Cn].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(qe.lineNumber,on)}}var V=e(270),G=e(44906);class j{constructor(qe,Dt,Qt){const on=new Uint8Array(qe*Dt);for(let Cn=0,Bn=qe*Dt;Cn<Bn;Cn++)on[Cn]=Qt;this._data=on,this.rows=qe,this.cols=Dt}get(qe,Dt){return this._data[qe*this.cols+Dt]}set(qe,Dt,Qt){this._data[qe*this.cols+Dt]=Qt}}class F{constructor(qe){let Dt=0,Qt=0;for(let Cn=0,Bn=qe.length;Cn<Bn;Cn++){const[jn,kt,wt]=qe[Cn];kt>Dt&&(Dt=kt),jn>Qt&&(Qt=jn),wt>Qt&&(Qt=wt)}Dt++,Qt++;const on=new j(Qt,Dt,0);for(let Cn=0,Bn=qe.length;Cn<Bn;Cn++){const[jn,kt,wt]=qe[Cn];on.set(jn,kt,wt)}this._states=on,this._maxCharCode=Dt}nextState(qe,Dt){return Dt<0||Dt>=this._maxCharCode?0:this._states.get(qe,Dt)}}let K=null;function m(){return K===null&&(K=new F([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),K}let J=null;function X(){if(J===null){J=new G.N(0);const wn=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let Dt=0;Dt<wn.length;Dt++)J.set(wn.charCodeAt(Dt),1);const qe=".,;:";for(let Dt=0;Dt<qe.length;Dt++)J.set(qe.charCodeAt(Dt),2)}return J}class te{static _createLink(qe,Dt,Qt,on,Cn){let Bn=Cn-1;do{const jn=Dt.charCodeAt(Bn);if(qe.get(jn)!==2)break;Bn--}while(Bn>on);if(on>0){const jn=Dt.charCodeAt(on-1),kt=Dt.charCodeAt(Bn);(jn===40&&kt===41||jn===91&&kt===93||jn===123&&kt===125)&&Bn--}return{range:{startLineNumber:Qt,startColumn:on+1,endLineNumber:Qt,endColumn:Bn+2},url:Dt.substring(on,Bn+1)}}static computeLinks(qe,Dt=m()){const Qt=X(),on=[];for(let Cn=1,Bn=qe.getLineCount();Cn<=Bn;Cn++){const jn=qe.getLineContent(Cn),kt=jn.length;let wt=0,sn=0,en=0,Un=1,ri=!1,Jn=!1,Di=!1,Ai=!1;for(;wt<kt;){let Ri=!1;const Tn=jn.charCodeAt(wt);if(Un===13){let yn;switch(Tn){case 40:ri=!0,yn=0;break;case 41:yn=ri?0:1;break;case 91:Di=!0,Jn=!0,yn=0;break;case 93:Di=!1,yn=Jn?0:1;break;case 123:Ai=!0,yn=0;break;case 125:yn=Ai?0:1;break;case 39:case 34:case 96:en===Tn?yn=1:en===39||en===34||en===96?yn=0:yn=1;break;case 42:yn=en===42?1:0;break;case 124:yn=en===124?1:0;break;case 32:yn=Di?0:1;break;default:yn=Qt.get(Tn)}yn===1&&(on.push(te._createLink(Qt,jn,Cn,sn,wt)),Ri=!0)}else if(Un===12){let yn;Tn===91?(Jn=!0,yn=0):yn=Qt.get(Tn),yn===1?Ri=!0:Un=13}else Un=Dt.nextState(Un,Tn),Un===0&&(Ri=!0);Ri&&(Un=1,ri=!1,Jn=!1,Ai=!1,sn=wt+1,en=Tn),wt++}Un===13&&on.push(te._createLink(Qt,jn,Cn,sn,kt))}return on}}function le(wn){return!wn||typeof wn.getLineCount!="function"||typeof wn.getLineContent!="function"?[]:te.computeLinks(wn)}class ge{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(qe,Dt,Qt,on,Cn){if(qe&&Dt){const Bn=this.doNavigateValueSet(Dt,Cn);if(Bn)return{range:qe,value:Bn}}if(Qt&&on){const Bn=this.doNavigateValueSet(on,Cn);if(Bn)return{range:Qt,value:Bn}}return null}doNavigateValueSet(qe,Dt){const Qt=this.numberReplace(qe,Dt);return Qt!==null?Qt:this.textReplace(qe,Dt)}numberReplace(qe,Dt){const Qt=Math.pow(10,qe.length-(qe.lastIndexOf(".")+1));let on=Number(qe);const Cn=parseFloat(qe);return!isNaN(on)&&!isNaN(Cn)&&on===Cn?on===0&&!Dt?null:(on=Math.floor(on*Qt),on+=Dt?Qt:-Qt,String(on/Qt)):null}textReplace(qe,Dt){return this.valueSetsReplace(this._defaultValueSet,qe,Dt)}valueSetsReplace(qe,Dt,Qt){let on=null;for(let Cn=0,Bn=qe.length;on===null&&Cn<Bn;Cn++)on=this.valueSetReplace(qe[Cn],Dt,Qt);return on}valueSetReplace(qe,Dt,Qt){let on=qe.indexOf(Dt);return on>=0?(on+=Qt?1:-1,on<0?on=qe.length-1:on%=qe.length,qe[on]):null}}ge.INSTANCE=new ge;var we=e(20927),pe=e(84013),Pe=e(31446),Ne=e(60652),ae=e(54648),Me=e(35146),ke=e(45463);const Ue=3;class Le{computeDiff(qe,Dt,Qt){var on;const Bn=new he(qe,Dt,{maxComputationTime:Qt.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Qt.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),jn=[];let kt=null;for(const wt of Bn.changes){let sn;wt.originalEndLineNumber===0?sn=new ke.z(wt.originalStartLineNumber+1,wt.originalStartLineNumber+1):sn=new ke.z(wt.originalStartLineNumber,wt.originalEndLineNumber+1);let en;wt.modifiedEndLineNumber===0?en=new ke.z(wt.modifiedStartLineNumber+1,wt.modifiedStartLineNumber+1):en=new ke.z(wt.modifiedStartLineNumber,wt.modifiedEndLineNumber+1);let Un=new ae.gB(sn,en,(on=wt.charChanges)===null||on===void 0?void 0:on.map(ri=>new ae.iy(new Y.e(ri.originalStartLineNumber,ri.originalStartColumn,ri.originalEndLineNumber,ri.originalEndColumn),new Y.e(ri.modifiedStartLineNumber,ri.modifiedStartColumn,ri.modifiedEndLineNumber,ri.modifiedEndColumn))));kt&&(kt.modified.endLineNumberExclusive===Un.modified.startLineNumber||kt.original.endLineNumberExclusive===Un.original.startLineNumber)&&(Un=new ae.gB(kt.original.join(Un.original),kt.modified.join(Un.modified),kt.innerChanges&&Un.innerChanges?kt.innerChanges.concat(Un.innerChanges):void 0),jn.pop()),jn.push(Un),kt=Un}return(0,Me.eZ)(()=>(0,Me.DM)(jn,(wt,sn)=>sn.original.startLineNumber-wt.original.endLineNumberExclusive===sn.modified.startLineNumber-wt.modified.endLineNumberExclusive&&wt.original.endLineNumberExclusive<sn.original.startLineNumber&&wt.modified.endLineNumberExclusive<sn.modified.startLineNumber)),new Ne.h(jn,[],Bn.quitEarly)}}function ie(wn,qe,Dt,Qt){return new L.Hs(wn,qe,Dt).ComputeDiff(Qt)}class ce{constructor(qe){const Dt=[],Qt=[];for(let on=0,Cn=qe.length;on<Cn;on++)Dt[on]=se(qe[on],1),Qt[on]=ve(qe[on],1);this.lines=qe,this._startColumns=Dt,this._endColumns=Qt}getElements(){const qe=[];for(let Dt=0,Qt=this.lines.length;Dt<Qt;Dt++)qe[Dt]=this.lines[Dt].substring(this._startColumns[Dt]-1,this._endColumns[Dt]-1);return qe}getStrictElement(qe){return this.lines[qe]}getStartLineNumber(qe){return qe+1}getEndLineNumber(qe){return qe+1}createCharSequence(qe,Dt,Qt){const on=[],Cn=[],Bn=[];let jn=0;for(let kt=Dt;kt<=Qt;kt++){const wt=this.lines[kt],sn=qe?this._startColumns[kt]:1,en=qe?this._endColumns[kt]:wt.length+1;for(let Un=sn;Un<en;Un++)on[jn]=wt.charCodeAt(Un-1),Cn[jn]=kt+1,Bn[jn]=Un,jn++;!qe&&kt<Qt&&(on[jn]=10,Cn[jn]=kt+1,Bn[jn]=wt.length+1,jn++)}return new Re(on,Cn,Bn)}}class Re{constructor(qe,Dt,Qt){this._charCodes=qe,this._lineNumbers=Dt,this._columns=Qt}toString(){return"["+this._charCodes.map((qe,Dt)=>(qe===10?"\\n":String.fromCharCode(qe))+`-(${this._lineNumbers[Dt]},${this._columns[Dt]})`).join(", ")+"]"}_assertIndex(qe,Dt){if(qe<0||qe>=Dt.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(qe){return qe>0&&qe===this._lineNumbers.length?this.getEndLineNumber(qe-1):(this._assertIndex(qe,this._lineNumbers),this._lineNumbers[qe])}getEndLineNumber(qe){return qe===-1?this.getStartLineNumber(qe+1):(this._assertIndex(qe,this._lineNumbers),this._charCodes[qe]===10?this._lineNumbers[qe]+1:this._lineNumbers[qe])}getStartColumn(qe){return qe>0&&qe===this._columns.length?this.getEndColumn(qe-1):(this._assertIndex(qe,this._columns),this._columns[qe])}getEndColumn(qe){return qe===-1?this.getStartColumn(qe+1):(this._assertIndex(qe,this._columns),this._charCodes[qe]===10?1:this._columns[qe]+1)}}class ye{constructor(qe,Dt,Qt,on,Cn,Bn,jn,kt){this.originalStartLineNumber=qe,this.originalStartColumn=Dt,this.originalEndLineNumber=Qt,this.originalEndColumn=on,this.modifiedStartLineNumber=Cn,this.modifiedStartColumn=Bn,this.modifiedEndLineNumber=jn,this.modifiedEndColumn=kt}static createFromDiffChange(qe,Dt,Qt){const on=Dt.getStartLineNumber(qe.originalStart),Cn=Dt.getStartColumn(qe.originalStart),Bn=Dt.getEndLineNumber(qe.originalStart+qe.originalLength-1),jn=Dt.getEndColumn(qe.originalStart+qe.originalLength-1),kt=Qt.getStartLineNumber(qe.modifiedStart),wt=Qt.getStartColumn(qe.modifiedStart),sn=Qt.getEndLineNumber(qe.modifiedStart+qe.modifiedLength-1),en=Qt.getEndColumn(qe.modifiedStart+qe.modifiedLength-1);return new ye(on,Cn,Bn,jn,kt,wt,sn,en)}}function Se(wn){if(wn.length<=1)return wn;const qe=[wn[0]];let Dt=qe[0];for(let Qt=1,on=wn.length;Qt<on;Qt++){const Cn=wn[Qt],Bn=Cn.originalStart-(Dt.originalStart+Dt.originalLength),jn=Cn.modifiedStart-(Dt.modifiedStart+Dt.modifiedLength);Math.min(Bn,jn)<Ue?(Dt.originalLength=Cn.originalStart+Cn.originalLength-Dt.originalStart,Dt.modifiedLength=Cn.modifiedStart+Cn.modifiedLength-Dt.modifiedStart):(qe.push(Cn),Dt=Cn)}return qe}class me{constructor(qe,Dt,Qt,on,Cn){this.originalStartLineNumber=qe,this.originalEndLineNumber=Dt,this.modifiedStartLineNumber=Qt,this.modifiedEndLineNumber=on,this.charChanges=Cn}static createFromDiffResult(qe,Dt,Qt,on,Cn,Bn,jn){let kt,wt,sn,en,Un;if(Dt.originalLength===0?(kt=Qt.getStartLineNumber(Dt.originalStart)-1,wt=0):(kt=Qt.getStartLineNumber(Dt.originalStart),wt=Qt.getEndLineNumber(Dt.originalStart+Dt.originalLength-1)),Dt.modifiedLength===0?(sn=on.getStartLineNumber(Dt.modifiedStart)-1,en=0):(sn=on.getStartLineNumber(Dt.modifiedStart),en=on.getEndLineNumber(Dt.modifiedStart+Dt.modifiedLength-1)),Bn&&Dt.originalLength>0&&Dt.originalLength<20&&Dt.modifiedLength>0&&Dt.modifiedLength<20&&Cn()){const ri=Qt.createCharSequence(qe,Dt.originalStart,Dt.originalStart+Dt.originalLength-1),Jn=on.createCharSequence(qe,Dt.modifiedStart,Dt.modifiedStart+Dt.modifiedLength-1);if(ri.getElements().length>0&&Jn.getElements().length>0){let Di=ie(ri,Jn,Cn,!0).changes;jn&&(Di=Se(Di)),Un=[];for(let Ai=0,Ri=Di.length;Ai<Ri;Ai++)Un.push(ye.createFromDiffChange(Di[Ai],ri,Jn))}}return new me(kt,wt,sn,en,Un)}}class he{constructor(qe,Dt,Qt){this.shouldComputeCharChanges=Qt.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Qt.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Qt.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Qt.shouldMakePrettyDiff,this.originalLines=qe,this.modifiedLines=Dt,this.original=new ce(qe),this.modified=new ce(Dt),this.continueLineDiff=xe(Qt.maxComputationTime),this.continueCharDiff=xe(Qt.maxComputationTime===0?0:Math.min(Qt.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const qe=ie(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Dt=qe.changes,Qt=qe.quitEarly;if(this.shouldIgnoreTrimWhitespace){const jn=[];for(let kt=0,wt=Dt.length;kt<wt;kt++)jn.push(me.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Dt[kt],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Qt,changes:jn}}const on=[];let Cn=0,Bn=0;for(let jn=-1,kt=Dt.length;jn<kt;jn++){const wt=jn+1<kt?Dt[jn+1]:null,sn=wt?wt.originalStart:this.originalLines.length,en=wt?wt.modifiedStart:this.modifiedLines.length;for(;Cn<sn&&Bn<en;){const Un=this.originalLines[Cn],ri=this.modifiedLines[Bn];if(Un!==ri){{let Jn=se(Un,1),Di=se(ri,1);for(;Jn>1&&Di>1;){const Ai=Un.charCodeAt(Jn-2),Ri=ri.charCodeAt(Di-2);if(Ai!==Ri)break;Jn--,Di--}(Jn>1||Di>1)&&this._pushTrimWhitespaceCharChange(on,Cn+1,1,Jn,Bn+1,1,Di)}{let Jn=ve(Un,1),Di=ve(ri,1);const Ai=Un.length+1,Ri=ri.length+1;for(;Jn<Ai&&Di<Ri;){const Tn=Un.charCodeAt(Jn-1),yn=Un.charCodeAt(Di-1);if(Tn!==yn)break;Jn++,Di++}(Jn<Ai||Di<Ri)&&this._pushTrimWhitespaceCharChange(on,Cn+1,Jn,Ai,Bn+1,Di,Ri)}}Cn++,Bn++}wt&&(on.push(me.createFromDiffResult(this.shouldIgnoreTrimWhitespace,wt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Cn+=wt.originalLength,Bn+=wt.modifiedLength)}return{quitEarly:Qt,changes:on}}_pushTrimWhitespaceCharChange(qe,Dt,Qt,on,Cn,Bn,jn){if(this._mergeTrimWhitespaceCharChange(qe,Dt,Qt,on,Cn,Bn,jn))return;let kt;this.shouldComputeCharChanges&&(kt=[new ye(Dt,Qt,Dt,on,Cn,Bn,Cn,jn)]),qe.push(new me(Dt,Dt,Cn,Cn,kt))}_mergeTrimWhitespaceCharChange(qe,Dt,Qt,on,Cn,Bn,jn){const kt=qe.length;if(kt===0)return!1;const wt=qe[kt-1];return wt.originalEndLineNumber===0||wt.modifiedEndLineNumber===0?!1:wt.originalEndLineNumber===Dt&&wt.modifiedEndLineNumber===Cn?(this.shouldComputeCharChanges&&wt.charChanges&&wt.charChanges.push(new ye(Dt,Qt,Dt,on,Cn,Bn,Cn,jn)),!0):wt.originalEndLineNumber+1===Dt&&wt.modifiedEndLineNumber+1===Cn?(wt.originalEndLineNumber=Dt,wt.modifiedEndLineNumber=Cn,this.shouldComputeCharChanges&&wt.charChanges&&wt.charChanges.push(new ye(Dt,Qt,Dt,on,Cn,Bn,Cn,jn)),!0):!1}}function se(wn,qe){const Dt=I.LC(wn);return Dt===-1?qe:Dt+1}function ve(wn,qe){const Dt=I.ow(wn);return Dt===-1?qe:Dt+2}function xe(wn){if(wn===0)return()=>!0;const qe=Date.now();return()=>Date.now()-qe<wn}var je=e(62549);const Oe={getLegacy:()=>new Le,getDefault:()=>new je.DW};var Ze=e(41264);function it(wn){const qe=[];for(const Dt of wn){const Qt=Number(Dt);(Qt||Qt===0&&Dt.replace(/\s/g,"")!=="")&&qe.push(Qt)}return qe}function Et(wn,qe,Dt,Qt){return{red:wn/255,blue:Dt/255,green:qe/255,alpha:Qt}}function st(wn,qe){const Dt=qe.index,Qt=qe[0].length;if(!Dt)return;const on=wn.positionAt(Dt);return{startLineNumber:on.lineNumber,startColumn:on.column,endLineNumber:on.lineNumber,endColumn:on.column+Qt}}function pt(wn,qe){if(!wn)return;const Dt=Ze.Il.Format.CSS.parseHex(qe);if(Dt)return{range:wn,color:Et(Dt.rgba.r,Dt.rgba.g,Dt.rgba.b,Dt.rgba.a)}}function Mt(wn,qe,Dt){if(!wn||qe.length!==1)return;const on=qe[0].values(),Cn=it(on);return{range:wn,color:Et(Cn[0],Cn[1],Cn[2],Dt?Cn[3]:1)}}function qt(wn,qe,Dt){if(!wn||qe.length!==1)return;const on=qe[0].values(),Cn=it(on),Bn=new Ze.Il(new Ze.Oz(Cn[0],Cn[1]/100,Cn[2]/100,Dt?Cn[3]:1));return{range:wn,color:Et(Bn.rgba.r,Bn.rgba.g,Bn.rgba.b,Bn.rgba.a)}}function Ft(wn,qe){return typeof wn=="string"?[...wn.matchAll(qe)]:wn.findMatches(qe)}function Xt(wn){const qe=[],Qt=Ft(wn,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Qt.length>0)for(const on of Qt){const Cn=on.filter(wt=>wt!==void 0),Bn=Cn[1],jn=Cn[2];if(!jn)continue;let kt;if(Bn==="rgb"){const wt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;kt=Mt(st(wn,on),Ft(jn,wt),!1)}else if(Bn==="rgba"){const wt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;kt=Mt(st(wn,on),Ft(jn,wt),!0)}else if(Bn==="hsl"){const wt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;kt=qt(st(wn,on),Ft(jn,wt),!1)}else if(Bn==="hsla"){const wt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;kt=qt(st(wn,on),Ft(jn,wt),!0)}else Bn==="#"&&(kt=pt(st(wn,on),Bn+jn));kt&&qe.push(kt)}return qe}function _t(wn){return!wn||typeof wn.getValue!="function"||typeof wn.positionAt!="function"?[]:Xt(wn)}class nt extends H{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(qe){const Dt=[];for(let Qt=0;Qt<this._lines.length;Qt++){const on=this._lines[Qt],Cn=this.offsetAt(new O.L(Qt+1,1)),Bn=on.matchAll(qe);for(const jn of Bn)(jn.index||jn.index===0)&&(jn.index=jn.index+Cn),Dt.push(jn)}return Dt}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(qe){return this._lines[qe-1]}getWordAtPosition(qe,Dt){const Qt=(0,V.t2)(qe.column,(0,V.eq)(Dt),this._lines[qe.lineNumber-1],0);return Qt?new Y.e(qe.lineNumber,Qt.startColumn,qe.lineNumber,Qt.endColumn):null}words(qe){const Dt=this._lines,Qt=this._wordenize.bind(this);let on=0,Cn="",Bn=0,jn=[];return{*[Symbol.iterator](){for(;;)if(Bn<jn.length){const kt=Cn.substring(jn[Bn].start,jn[Bn].end);Bn+=1,yield kt}else if(on<Dt.length)Cn=Dt[on],jn=Qt(Cn,qe),Bn=0,on+=1;else break}}}getLineWords(qe,Dt){const Qt=this._lines[qe-1],on=this._wordenize(Qt,Dt),Cn=[];for(const Bn of on)Cn.push({word:Qt.substring(Bn.start,Bn.end),startColumn:Bn.start+1,endColumn:Bn.end+1});return Cn}_wordenize(qe,Dt){const Qt=[];let on;for(Dt.lastIndex=0;(on=Dt.exec(qe))&&on[0].length!==0;)Qt.push({start:on.index,end:on.index+on[0].length});return Qt}getValueInRange(qe){if(qe=this._validateRange(qe),qe.startLineNumber===qe.endLineNumber)return this._lines[qe.startLineNumber-1].substring(qe.startColumn-1,qe.endColumn-1);const Dt=this._eol,Qt=qe.startLineNumber-1,on=qe.endLineNumber-1,Cn=[];Cn.push(this._lines[Qt].substring(qe.startColumn-1));for(let Bn=Qt+1;Bn<on;Bn++)Cn.push(this._lines[Bn]);return Cn.push(this._lines[on].substring(0,qe.endColumn-1)),Cn.join(Dt)}offsetAt(qe){return qe=this._validatePosition(qe),this._ensureLineStarts(),this._lineStarts.getPrefixSum(qe.lineNumber-2)+(qe.column-1)}positionAt(qe){qe=Math.floor(qe),qe=Math.max(0,qe),this._ensureLineStarts();const Dt=this._lineStarts.getIndexOf(qe),Qt=this._lines[Dt.index].length;return{lineNumber:1+Dt.index,column:1+Math.min(Dt.remainder,Qt)}}_validateRange(qe){const Dt=this._validatePosition({lineNumber:qe.startLineNumber,column:qe.startColumn}),Qt=this._validatePosition({lineNumber:qe.endLineNumber,column:qe.endColumn});return Dt.lineNumber!==qe.startLineNumber||Dt.column!==qe.startColumn||Qt.lineNumber!==qe.endLineNumber||Qt.column!==qe.endColumn?{startLineNumber:Dt.lineNumber,startColumn:Dt.column,endLineNumber:Qt.lineNumber,endColumn:Qt.column}:qe}_validatePosition(qe){if(!O.L.isIPosition(qe))throw new Error("bad position");let{lineNumber:Dt,column:Qt}=qe,on=!1;if(Dt<1)Dt=1,Qt=1,on=!0;else if(Dt>this._lines.length)Dt=this._lines.length,Qt=this._lines[Dt-1].length+1,on=!0;else{const Cn=this._lines[Dt-1].length+1;Qt<1?(Qt=1,on=!0):Qt>Cn&&(Qt=Cn,on=!0)}return on?{lineNumber:Dt,column:Qt}:qe}}class tt{constructor(qe,Dt){this._host=qe,this._models=Object.create(null),this._foreignModuleFactory=Dt,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(qe){return this._models[qe]}_getModels(){const qe=[];return Object.keys(this._models).forEach(Dt=>qe.push(this._models[Dt])),qe}acceptNewModel(qe){this._models[qe.url]=new nt(z.o.parse(qe.url),qe.lines,qe.EOL,qe.versionId)}acceptModelChanged(qe,Dt){if(!this._models[qe])return;this._models[qe].onEvents(Dt)}acceptRemovedModel(qe){this._models[qe]&&delete this._models[qe]}computeUnicodeHighlights(qe,Dt,Qt){return tn(this,null,function*(){const on=this._getModel(qe);return on?Pe.a.computeUnicodeHighlights(on,Dt,Qt):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(qe,Dt,Qt,on){return tn(this,null,function*(){const Cn=this._getModel(qe),Bn=this._getModel(Dt);return!Cn||!Bn?null:tt.computeDiff(Cn,Bn,Qt,on)})}static computeDiff(qe,Dt,Qt,on){const Cn=on==="advanced"?Oe.getDefault():Oe.getLegacy(),Bn=qe.getLinesContent(),jn=Dt.getLinesContent(),kt=Cn.computeDiff(Bn,jn,Qt),wt=kt.changes.length>0?!1:this._modelsAreIdentical(qe,Dt);function sn(en){return en.map(Un=>{var ri;return[Un.original.startLineNumber,Un.original.endLineNumberExclusive,Un.modified.startLineNumber,Un.modified.endLineNumberExclusive,(ri=Un.innerChanges)===null||ri===void 0?void 0:ri.map(Jn=>[Jn.originalRange.startLineNumber,Jn.originalRange.startColumn,Jn.originalRange.endLineNumber,Jn.originalRange.endColumn,Jn.modifiedRange.startLineNumber,Jn.modifiedRange.startColumn,Jn.modifiedRange.endLineNumber,Jn.modifiedRange.endColumn])]})}return{identical:wt,quitEarly:kt.hitTimeout,changes:sn(kt.changes),moves:kt.moves.map(en=>[en.lineRangeMapping.original.startLineNumber,en.lineRangeMapping.original.endLineNumberExclusive,en.lineRangeMapping.modified.startLineNumber,en.lineRangeMapping.modified.endLineNumberExclusive,sn(en.changes)])}}static _modelsAreIdentical(qe,Dt){const Qt=qe.getLineCount(),on=Dt.getLineCount();if(Qt!==on)return!1;for(let Cn=1;Cn<=Qt;Cn++){const Bn=qe.getLineContent(Cn),jn=Dt.getLineContent(Cn);if(Bn!==jn)return!1}return!0}computeMoreMinimalEdits(qe,Dt,Qt){return tn(this,null,function*(){const on=this._getModel(qe);if(!on)return Dt;const Cn=[];let Bn;Dt=Dt.slice(0).sort((kt,wt)=>{if(kt.range&&wt.range)return Y.e.compareRangesUsingStarts(kt.range,wt.range);const sn=kt.range?0:1,en=wt.range?0:1;return sn-en});let jn=0;for(let kt=1;kt<Dt.length;kt++)Y.e.getEndPosition(Dt[jn].range).equals(Y.e.getStartPosition(Dt[kt].range))?(Dt[jn].range=Y.e.fromPositions(Y.e.getStartPosition(Dt[jn].range),Y.e.getEndPosition(Dt[kt].range)),Dt[jn].text+=Dt[kt].text):(jn++,Dt[jn]=Dt[kt]);Dt.length=jn+1;for(let{range:kt,text:wt,eol:sn}of Dt){if(typeof sn=="number"&&(Bn=sn),Y.e.isEmpty(kt)&&!wt)continue;const en=on.getValueInRange(kt);if(wt=wt.replace(/\r\n|\n|\r/g,on.eol),en===wt)continue;if(Math.max(wt.length,en.length)>tt._diffLimit){Cn.push({range:kt,text:wt});continue}const Un=(0,L.a$)(en,wt,Qt),ri=on.offsetAt(Y.e.lift(kt).getStartPosition());for(const Jn of Un){const Di=on.positionAt(ri+Jn.originalStart),Ai=on.positionAt(ri+Jn.originalStart+Jn.originalLength),Ri={text:wt.substr(Jn.modifiedStart,Jn.modifiedLength),range:{startLineNumber:Di.lineNumber,startColumn:Di.column,endLineNumber:Ai.lineNumber,endColumn:Ai.column}};on.getValueInRange(Ri.range)!==Ri.text&&Cn.push(Ri)}}return typeof Bn=="number"&&Cn.push({eol:Bn,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Cn})}computeLinks(qe){return tn(this,null,function*(){const Dt=this._getModel(qe);return Dt?le(Dt):null})}computeDefaultDocumentColors(qe){return tn(this,null,function*(){const Dt=this._getModel(qe);return Dt?_t(Dt):null})}textualSuggest(qe,Dt,Qt,on){return tn(this,null,function*(){const Cn=new pe.G,Bn=new RegExp(Qt,on),jn=new Set;e:for(const kt of qe){const wt=this._getModel(kt);if(wt){for(const sn of wt.words(Bn))if(!(sn===Dt||!isNaN(Number(sn)))&&(jn.add(sn),jn.size>tt._suggestionsLimit))break e}}return{words:Array.from(jn),duration:Cn.elapsed()}})}computeWordRanges(qe,Dt,Qt,on){return tn(this,null,function*(){const Cn=this._getModel(qe);if(!Cn)return Object.create(null);const Bn=new RegExp(Qt,on),jn=Object.create(null);for(let kt=Dt.startLineNumber;kt<Dt.endLineNumber;kt++){const wt=Cn.getLineWords(kt,Bn);for(const sn of wt){if(!isNaN(Number(sn.word)))continue;let en=jn[sn.word];en||(en=[],jn[sn.word]=en),en.push({startLineNumber:kt,startColumn:sn.startColumn,endLineNumber:kt,endColumn:sn.endColumn})}}return jn})}navigateValueSet(qe,Dt,Qt,on,Cn){return tn(this,null,function*(){const Bn=this._getModel(qe);if(!Bn)return null;const jn=new RegExp(on,Cn);Dt.startColumn===Dt.endColumn&&(Dt={startLineNumber:Dt.startLineNumber,startColumn:Dt.startColumn,endLineNumber:Dt.endLineNumber,endColumn:Dt.endColumn+1});const kt=Bn.getValueInRange(Dt),wt=Bn.getWordAtPosition({lineNumber:Dt.startLineNumber,column:Dt.startColumn},jn);if(!wt)return null;const sn=Bn.getValueInRange(wt);return ge.INSTANCE.navigateValueSet(Dt,kt,wt,sn,Qt)})}loadForeignModule(qe,Dt,Qt){const on=(jn,kt)=>this._host.fhr(jn,kt),Bn={host:(0,c.IU)(Qt,on),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Bn,Dt),Promise.resolve((0,c.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(qe,Dt){if(!this._foreignModule||typeof this._foreignModule[qe]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+qe));try{return Promise.resolve(this._foreignModule[qe].apply(this._foreignModule,Dt))}catch(Qt){return Promise.reject(Qt)}}}tt._diffLimit=1e5,tt._suggestionsLimit=1e4;function xt(wn){return new tt(wn,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,we.O)());var Lt=e(73733),Be=e(71765),yt=e(9488),un=e(43557),In=e(71922),bn=e(48906),Hn=e(65321),si=function(wn,qe,Dt,Qt){var on=arguments.length,Cn=on<3?qe:Qt===null?Qt=Object.getOwnPropertyDescriptor(qe,Dt):Qt,Bn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Cn=Reflect.decorate(wn,qe,Dt,Qt);else for(var jn=wn.length-1;jn>=0;jn--)(Bn=wn[jn])&&(Cn=(on<3?Bn(Cn):on>3?Bn(qe,Dt,Cn):Bn(qe,Dt))||Cn);return on>3&&Cn&&Object.defineProperty(qe,Dt,Cn),Cn},Yn=function(wn,qe){return function(Dt,Qt){qe(Dt,Qt,wn)}};const mi=60*1e3,_i=5*60*1e3;function Wi(wn,qe){const Dt=wn.getModel(qe);return!(!Dt||Dt.isTooLargeForSyncing())}let Si=class extends U.JT{constructor(qe,Dt,Qt,on,Cn){super(),this._modelService=qe,this._workerManager=this._register(new bi(this._modelService,on)),this._logService=Qt,this._register(Cn.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(Bn,jn)=>Wi(this._modelService,Bn.uri)?this._workerManager.withWorker().then(kt=>kt.computeLinks(Bn.uri)).then(kt=>kt&&{links:kt}):Promise.resolve({links:[]})})),this._register(Cn.completionProvider.register("*",new Ki(this._workerManager,Dt,this._modelService,on)))}dispose(){super.dispose()}canComputeUnicodeHighlights(qe){return Wi(this._modelService,qe)}computedUnicodeHighlights(qe,Dt,Qt){return this._workerManager.withWorker().then(on=>on.computedUnicodeHighlights(qe,Dt,Qt))}computeDiff(qe,Dt,Qt,on){return tn(this,null,function*(){const Cn=yield this._workerManager.withWorker().then(kt=>kt.computeDiff(qe,Dt,Qt,on));if(!Cn)return null;return{identical:Cn.identical,quitEarly:Cn.quitEarly,changes:jn(Cn.changes),moves:Cn.moves.map(kt=>new Ne.y(new ae.f0(new ke.z(kt[0],kt[1]),new ke.z(kt[2],kt[3])),jn(kt[4])))};function jn(kt){return kt.map(wt=>{var sn;return new ae.gB(new ke.z(wt[0],wt[1]),new ke.z(wt[2],wt[3]),(sn=wt[4])===null||sn===void 0?void 0:sn.map(en=>new ae.iy(new Y.e(en[0],en[1],en[2],en[3]),new Y.e(en[4],en[5],en[6],en[7]))))})}})}computeMoreMinimalEdits(qe,Dt,Qt=!1){if((0,yt.Of)(Dt)){if(!Wi(this._modelService,qe))return Promise.resolve(Dt);const on=pe.G.create(),Cn=this._workerManager.withWorker().then(Bn=>Bn.computeMoreMinimalEdits(qe,Dt,Qt));return Cn.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",qe.toString(!0),on.elapsed())),Promise.race([Cn,(0,b.Vs)(1e3).then(()=>Dt)])}else return Promise.resolve(void 0)}canNavigateValueSet(qe){return Wi(this._modelService,qe)}navigateValueSet(qe,Dt,Qt){return this._workerManager.withWorker().then(on=>on.navigateValueSet(qe,Dt,Qt))}canComputeWordRanges(qe){return Wi(this._modelService,qe)}computeWordRanges(qe,Dt){return this._workerManager.withWorker().then(Qt=>Qt.computeWordRanges(qe,Dt))}};Si=si([Yn(0,Lt.q),Yn(1,Be.V),Yn(2,un.VZ),Yn(3,R.c_),Yn(4,In.p)],Si);class Ki{constructor(qe,Dt,Qt,on){this.languageConfigurationService=on,this._debugDisplayName="wordbasedCompletions",this._workerManager=qe,this._configurationService=Dt,this._modelService=Qt}provideCompletionItems(qe,Dt){return tn(this,null,function*(){const Qt=this._configurationService.getValue(qe.uri,Dt,"editor");if(Qt.wordBasedSuggestions==="off")return;const on=[];if(Qt.wordBasedSuggestions==="currentDocument")Wi(this._modelService,qe.uri)&&on.push(qe.uri);else for(const en of this._modelService.getModels())Wi(this._modelService,en.uri)&&(en===qe?on.unshift(en.uri):(Qt.wordBasedSuggestions==="allDocuments"||en.getLanguageId()===qe.getLanguageId())&&on.push(en.uri));if(on.length===0)return;const Cn=this.languageConfigurationService.getLanguageConfiguration(qe.getLanguageId()).getWordDefinition(),Bn=qe.getWordAtPosition(Dt),jn=Bn?new Y.e(Dt.lineNumber,Bn.startColumn,Dt.lineNumber,Bn.endColumn):Y.e.fromPositions(Dt),kt=jn.setEndPosition(Dt.lineNumber,Dt.column),sn=yield(yield this._workerManager.withWorker()).textualSuggest(on,Bn==null?void 0:Bn.word,Cn);if(sn)return{duration:sn.duration,suggestions:sn.words.map(en=>({kind:18,label:en,insertText:en,range:{insert:kt,replace:jn}}))}})}}class bi extends U.JT{constructor(qe,Dt){super(),this.languageConfigurationService=Dt,this._modelService=qe,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Hn.ne).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(_i/2),bn.vO),this._register(this._modelService.onModelRemoved(on=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>_i&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ns(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Fi extends U.JT{constructor(qe,Dt,Qt){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=qe,this._modelService=Dt,!Qt){const on=new b.zh;on.cancelAndSet(()=>this._checkStopModelSync(),Math.round(mi/2)),this._register(on)}}dispose(){for(const qe in this._syncedModels)(0,U.B9)(this._syncedModels[qe]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(qe,Dt){for(const Qt of qe){const on=Qt.toString();this._syncedModels[on]||this._beginModelSync(Qt,Dt),this._syncedModels[on]&&(this._syncedModelsLastUsedTime[on]=new Date().getTime())}}_checkStopModelSync(){const qe=new Date().getTime(),Dt=[];for(const Qt in this._syncedModelsLastUsedTime)qe-this._syncedModelsLastUsedTime[Qt]>mi&&Dt.push(Qt);for(const Qt of Dt)this._stopModelSync(Qt)}_beginModelSync(qe,Dt){const Qt=this._modelService.getModel(qe);if(!Qt||!Dt&&Qt.isTooLargeForSyncing())return;const on=qe.toString();this._proxy.acceptNewModel({url:Qt.uri.toString(),lines:Qt.getLinesContent(),EOL:Qt.getEOL(),versionId:Qt.getVersionId()});const Cn=new U.SL;Cn.add(Qt.onDidChangeContent(Bn=>{this._proxy.acceptModelChanged(on.toString(),Bn)})),Cn.add(Qt.onWillDispose(()=>{this._stopModelSync(on)})),Cn.add((0,U.OF)(()=>{this._proxy.acceptRemovedModel(on)})),this._syncedModels[on]=Cn}_stopModelSync(qe){const Dt=this._syncedModels[qe];delete this._syncedModels[qe],delete this._syncedModelsLastUsedTime[qe],(0,U.B9)(Dt)}}class ts{constructor(qe){this._instance=qe,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class wi{constructor(qe){this._workerClient=qe}fhr(qe,Dt){return this._workerClient.fhr(qe,Dt)}}class ns extends U.JT{constructor(qe,Dt,Qt,on){super(),this.languageConfigurationService=on,this._disposed=!1,this._modelService=qe,this._keepIdleModels=Dt,this._workerFactory=new $(Qt),this._worker=null,this._modelManager=null}fhr(qe,Dt){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new v(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new wi(this)))}catch(qe){p(qe),this._worker=new ts(new tt(new wi(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,qe=>(p(qe),this._worker=new ts(new tt(new wi(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(qe){return this._modelManager||(this._modelManager=this._register(new Fi(qe,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(qe,Dt=!1){return tn(this,null,function*(){return this._disposed?Promise.reject((0,r.F0)()):this._getProxy().then(Qt=>(this._getOrCreateModelManager(Qt).ensureSyncedResources(qe,Dt),Qt))})}computedUnicodeHighlights(qe,Dt,Qt){return this._withSyncedResources([qe]).then(on=>on.computeUnicodeHighlights(qe.toString(),Dt,Qt))}computeDiff(qe,Dt,Qt,on){return this._withSyncedResources([qe,Dt],!0).then(Cn=>Cn.computeDiff(qe.toString(),Dt.toString(),Qt,on))}computeMoreMinimalEdits(qe,Dt,Qt){return this._withSyncedResources([qe]).then(on=>on.computeMoreMinimalEdits(qe.toString(),Dt,Qt))}computeLinks(qe){return this._withSyncedResources([qe]).then(Dt=>Dt.computeLinks(qe.toString()))}computeDefaultDocumentColors(qe){return this._withSyncedResources([qe]).then(Dt=>Dt.computeDefaultDocumentColors(qe.toString()))}textualSuggest(qe,Dt,Qt){return tn(this,null,function*(){const on=yield this._withSyncedResources(qe),Cn=Qt.source,Bn=Qt.flags;return on.textualSuggest(qe.map(jn=>jn.toString()),Dt,Cn,Bn)})}computeWordRanges(qe,Dt){return this._withSyncedResources([qe]).then(Qt=>{const on=this._modelService.getModel(qe);if(!on)return Promise.resolve(null);const Cn=this.languageConfigurationService.getLanguageConfiguration(on.getLanguageId()).getWordDefinition(),Bn=Cn.source,jn=Cn.flags;return Qt.computeWordRanges(qe.toString(),Dt,Bn,jn)})}navigateValueSet(qe,Dt,Qt){return this._withSyncedResources([qe]).then(on=>{const Cn=this._modelService.getModel(qe);if(!Cn)return null;const Bn=this.languageConfigurationService.getLanguageConfiguration(Cn.getLanguageId()).getWordDefinition(),jn=Bn.source,kt=Bn.flags;return on.navigateValueSet(qe.toString(),Dt,Qt,jn,kt)})}dispose(){super.dispose(),this._disposed=!0}}},43407:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return b}});class b{static capture(r){if(r.getScrollTop()===0||r.hasPendingScrollAnimation())return new b(r.getScrollTop(),r.getContentHeight(),null,0,null);let w=null,c=0;const _=r.getVisibleRanges();if(_.length>0){w=_[0].getStartPosition();const I=r.getTopForPosition(w.lineNumber,w.column);c=r.getScrollTop()-I}return new b(r.getScrollTop(),r.getContentHeight(),w,c,r.getPosition())}constructor(r,w,c,_,I){this._initialScrollTop=r,this._initialContentHeight=w,this._visiblePosition=c,this._visiblePositionScrollDelta=_,this._cursorPosition=I}restore(r){if(!(this._initialContentHeight===r.getContentHeight()&&this._initialScrollTop===r.getScrollTop())&&this._visiblePosition){const w=r.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);r.setScrollTop(w+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(r){if(this._initialContentHeight===r.getContentHeight()&&this._initialScrollTop===r.getScrollTop())return;const w=r.getPosition();if(!this._cursorPosition||!w)return;const c=r.getTopForLineNumber(w.lineNumber)-r.getTopForLineNumber(this._cursorPosition.lineNumber);r.setScrollTop(r.getScrollTop()+c)}}},95939:function(Ot,Ke,e){"use strict";e.d(Ke,{Nt:function(){return d},ob:function(){return u},dL:function(){return g}});var b=e(16268),U=e(38626),r=e(1432),w=e(7031);class c{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(C,E){C.selectNodeContents(E)}static _readClientRects(C,E,A,N,B){const W=this._createRange();try{return W.setStart(C,E),W.setEnd(A,N),W.getClientRects()}catch($){return null}finally{this._detachRange(W,B)}}static _mergeAdjacentRanges(C){if(C.length===1)return C;C.sort(w.CR.compare);const E=[];let A=0,N=C[0];for(let B=1,W=C.length;B<W;B++){const $=C[B];N.left+N.width+.9>=$.left?N.width=Math.max(N.width,$.left+$.width-N.left):(E[A++]=N,N=$)}return E[A++]=N,E}static _createHorizontalRangesFromClientRects(C,E,A){if(!C||C.length===0)return null;const N=[];for(let B=0,W=C.length;B<W;B++){const $=C[B];N[B]=new w.CR(Math.max(0,($.left-E)/A),$.width/A)}return this._mergeAdjacentRanges(N)}static readHorizontalRanges(C,E,A,N,B,W){const Y=C.children.length-1;if(0>Y)return null;if(E=Math.min(Y,Math.max(0,E)),N=Math.min(Y,Math.max(0,N)),E===N&&A===B&&A===0&&!C.children[E].firstChild){const O=C.children[E].getClientRects();return W.markDidDomLayout(),this._createHorizontalRangesFromClientRects(O,W.clientRectDeltaLeft,W.clientRectScale)}E!==N&&N>0&&B===0&&(N--,B=1073741824);let R=C.children[E].firstChild,L=C.children[N].firstChild;if((!R||!L)&&(!R&&A===0&&E>0&&(R=C.children[E-1].firstChild,A=1073741824),!L&&B===0&&N>0&&(L=C.children[N-1].firstChild,B=1073741824)),!R||!L)return null;A=Math.min(R.textContent.length,Math.max(0,A)),B=Math.min(L.textContent.length,Math.max(0,B));const z=this._readClientRects(R,A,L,B,W.endNode);return W.markDidDomLayout(),this._createHorizontalRangesFromClientRects(z,W.clientRectDeltaLeft,W.clientRectScale)}}var _=e(92550),I=e(72202),M=e(92321),D=e(64141);const p=function(){return r.tY?!0:!(r.IJ||b.vU||b.G6)}();let o=!0;class u{constructor(C,E){this.themeType=E;const A=C.options,N=A.get(50);A.get(38)==="off"?this.renderWhitespace=A.get(98):this.renderWhitespace="none",this.renderControlCharacters=A.get(93),this.spaceWidth=N.spaceWidth,this.middotWidth=N.middotWidth,this.wsmiddotWidth=N.wsmiddotWidth,this.useMonospaceOptimizations=N.isMonospace&&!A.get(33),this.canUseHalfwidthRightwardsArrow=N.canUseHalfwidthRightwardsArrow,this.lineHeight=A.get(66),this.stopRenderingLineAfter=A.get(116),this.fontLigatures=A.get(51)}equals(C){return this.themeType===C.themeType&&this.renderWhitespace===C.renderWhitespace&&this.renderControlCharacters===C.renderControlCharacters&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.useMonospaceOptimizations===C.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter&&this.fontLigatures===C.fontLigatures}}class d{constructor(C){this._options=C,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(C){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,U.X)(C);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(C){this._isMaybeInvalid=!0,this._options=C}onSelectionChanged(){return(0,M.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(C,E,A,N){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const B=A.getViewLineRenderingData(C),W=this._options,$=_.Kp.filter(B.inlineDecorations,C,B.minColumn,B.maxColumn);let Y=null;if((0,M.c3)(W.themeType)||this._options.renderWhitespace==="selection"){const O=A.selections;for(const P of O){if(P.endLineNumber<C||P.startLineNumber>C)continue;const H=P.startLineNumber===C?P.startColumn:B.minColumn,V=P.endLineNumber===C?P.endColumn:B.maxColumn;H<V&&((0,M.c3)(W.themeType)&&$.push(new _.Kp(H,V,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Y||(Y=[]),Y.push(new I.zG(H-1,V-1))))}}const R=new I.IJ(W.useMonospaceOptimizations,W.canUseHalfwidthRightwardsArrow,B.content,B.continuesWithWrappedLine,B.isBasicASCII,B.containsRTL,B.minColumn-1,B.tokens,$,B.tabSize,B.startVisibleColumn,W.spaceWidth,W.middotWidth,W.wsmiddotWidth,W.stopRenderingLineAfter,W.renderWhitespace,W.renderControlCharacters,W.fontLigatures!==D.n0.OFF,Y);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;N.appendString('<div style="top:'),N.appendString(String(E)),N.appendString("px;height:"),N.appendString(String(this._options.lineHeight)),N.appendString('px;" class="'),N.appendString(d.CLASS_NAME),N.appendString('">');const L=(0,I.d1)(R,N);N.appendString("</div>");let z=null;return o&&p&&B.isBasicASCII&&W.useMonospaceOptimizations&&L.containsForeignElements===0&&(z=new n(this._renderedViewLine?this._renderedViewLine.domNode:null,R,L.characterMapping)),z||(z=v(this._renderedViewLine?this._renderedViewLine.domNode:null,R,L.characterMapping,L.containsRTL,L.containsForeignElements)),this._renderedViewLine=z,!0}layoutLine(C,E){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(E),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(C){return this._renderedViewLine?this._renderedViewLine.getWidth(C):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof n:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof n?this._renderedViewLine.monospaceAssumptionsAreValid():o}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof n&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(C,E,A,N){if(!this._renderedViewLine)return null;E=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,E)),A=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,A));const B=this._renderedViewLine.input.stopRenderingLineAfter;if(B!==-1&&E>B+1&&A>B+1)return new w.CH(!0,[new w.CR(this.getWidth(N),0)]);B!==-1&&E>B+1&&(E=B+1),B!==-1&&A>B+1&&(A=B+1);const W=this._renderedViewLine.getVisibleRangesForRange(C,E,A,N);return W&&W.length>0?new w.CH(!1,W):null}getColumnOfNodeOffset(C,E){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(C,E):1}}d.CLASS_NAME="view-line";class n{constructor(C,E,A){this._cachedWidth=-1,this.domNode=C,this.input=E;const N=Math.floor(E.lineContent.length/300);if(N>0){this._keyColumnPixelOffsetCache=new Float32Array(N);for(let B=0;B<N;B++)this._keyColumnPixelOffsetCache[B]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=A,this._charWidth=E.spaceWidth}getWidth(C){if(!this.domNode||this.input.lineContent.length<300){const E=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*E)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,C==null||C.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return o;if(this.input.lineContent.length<300){const C=this.getWidth(null),E=this.domNode.domNode.firstChild.offsetWidth;Math.abs(C-E)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),o=!1)}return o}toSlowRenderedLine(){return v(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(C,E,A,N){const B=this._getColumnPixelOffset(C,E,N),W=this._getColumnPixelOffset(C,A,N);return[new w.CR(B,W-B)]}_getColumnPixelOffset(C,E,A){if(E<=300){const R=this._characterMapping.getHorizontalOffset(E);return this._charWidth*R}const N=Math.floor((E-1)/300)-1,B=(N+1)*300+1;let W=-1;if(this._keyColumnPixelOffsetCache&&(W=this._keyColumnPixelOffsetCache[N],W===-1&&(W=this._actualReadPixelOffset(C,B,A),this._keyColumnPixelOffsetCache[N]=W)),W===-1){const R=this._characterMapping.getHorizontalOffset(E);return this._charWidth*R}const $=this._characterMapping.getHorizontalOffset(B),Y=this._characterMapping.getHorizontalOffset(E);return W+this._charWidth*(Y-$)}_getReadingTarget(C){return C.domNode.firstChild}_actualReadPixelOffset(C,E,A){if(!this.domNode)return-1;const N=this._characterMapping.getDomPosition(E),B=c.readHorizontalRanges(this._getReadingTarget(this.domNode),N.partIndex,N.charIndex,N.partIndex,N.charIndex,A);return!B||B.length===0?-1:B[0].left}getColumnOfNodeOffset(C,E){return g(this._characterMapping,C,E)}}class i{constructor(C,E,A,N,B){if(this.domNode=C,this.input=E,this._characterMapping=A,this._isWhitespaceOnly=/^\s*$/.test(E.lineContent),this._containsForeignElements=B,this._cachedWidth=-1,this._pixelOffsetCache=null,!N||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let W=0,$=this._characterMapping.length;W<=$;W++)this._pixelOffsetCache[W]=-1}}_getReadingTarget(C){return C.domNode.firstChild}getWidth(C){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,C==null||C.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(C,E,A,N){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const B=this._readPixelOffset(this.domNode,C,E,N);if(B===-1)return null;const W=this._readPixelOffset(this.domNode,C,A,N);return W===-1?null:[new w.CR(B,W-B)]}return this._readVisibleRangesForRange(this.domNode,C,E,A,N)}_readVisibleRangesForRange(C,E,A,N,B){if(A===N){const W=this._readPixelOffset(C,E,A,B);return W===-1?null:[new w.CR(W,0)]}else return this._readRawVisibleRangesForRange(C,A,N,B)}_readPixelOffset(C,E,A,N){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(N);const B=this._getReadingTarget(C);return B.firstChild?(N.markDidDomLayout(),B.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const B=this._pixelOffsetCache[A];if(B!==-1)return B;const W=this._actualReadPixelOffset(C,E,A,N);return this._pixelOffsetCache[A]=W,W}return this._actualReadPixelOffset(C,E,A,N)}_actualReadPixelOffset(C,E,A,N){if(this._characterMapping.length===0){const Y=c.readHorizontalRanges(this._getReadingTarget(C),0,0,0,0,N);return!Y||Y.length===0?-1:Y[0].left}if(A===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(N);const B=this._characterMapping.getDomPosition(A),W=c.readHorizontalRanges(this._getReadingTarget(C),B.partIndex,B.charIndex,B.partIndex,B.charIndex,N);if(!W||W.length===0)return-1;const $=W[0].left;if(this.input.isBasicASCII){const Y=this._characterMapping.getHorizontalOffset(A),R=Math.round(this.input.spaceWidth*Y);if(Math.abs(R-$)<=1)return R}return $}_readRawVisibleRangesForRange(C,E,A,N){if(E===1&&A===this._characterMapping.length)return[new w.CR(0,this.getWidth(N))];const B=this._characterMapping.getDomPosition(E),W=this._characterMapping.getDomPosition(A);return c.readHorizontalRanges(this._getReadingTarget(C),B.partIndex,B.charIndex,W.partIndex,W.charIndex,N)}getColumnOfNodeOffset(C,E){return g(this._characterMapping,C,E)}}class f extends i{_readVisibleRangesForRange(C,E,A,N,B){const W=super._readVisibleRangesForRange(C,E,A,N,B);if(!W||W.length===0||A===N||A===1&&N===this._characterMapping.length)return W;if(!this.input.containsRTL){const $=this._readPixelOffset(C,E,N,B);if($!==-1){const Y=W[W.length-1];Y.left<$&&(Y.width=$-Y.left)}}return W}}const v=function(){return b.Pf?a:S}();function a(y,C,E,A,N){return new f(y,C,E,A,N)}function S(y,C,E,A,N){return new i(y,C,E,A,N)}function g(y,C,E){const A=C.textContent.length;let N=-1;for(;C;)C=C.previousSibling,N++;return y.getColumn(new I.Nd(N,E),A)}},7031:function(Ot,Ke,e){"use strict";e.d(Ke,{CH:function(){return I},CR:function(){return c},D4:function(){return _},u7:function(){return r},xh:function(){return U},yu:function(){return w}});class b{constructor(D,p){this._restrictedRenderingContextBrand=void 0,this._viewLayout=D,this.viewportData=p,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const o=this._viewLayout.getCurrentViewport();this.scrollTop=o.top,this.scrollLeft=o.left,this.viewportWidth=o.width,this.viewportHeight=o.height}getScrolledTopFromAbsoluteTop(D){return D-this.scrollTop}getVerticalOffsetForLineNumber(D,p){return this._viewLayout.getVerticalOffsetForLineNumber(D,p)}getVerticalOffsetAfterLineNumber(D,p){return this._viewLayout.getVerticalOffsetAfterLineNumber(D,p)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class U extends b{constructor(D,p,o){super(D,p),this._renderingContextBrand=void 0,this._viewLines=o}linesVisibleRangesForRange(D,p){return this._viewLines.linesVisibleRangesForRange(D,p)}visibleRangeForPosition(D){return this._viewLines.visibleRangeForPosition(D)}}class r{constructor(D,p,o,u){this.outsideRenderedLine=D,this.lineNumber=p,this.ranges=o,this.continuesOnNextLine=u}}class w{static from(D){const p=new Array(D.length);for(let o=0,u=D.length;o<u;o++){const d=D[o];p[o]=new w(d.left,d.width)}return p}constructor(D,p){this._horizontalRangeBrand=void 0,this.left=Math.round(D),this.width=Math.round(p)}toString(){return`[${this.left},${this.width}]`}}class c{constructor(D,p){this._floatHorizontalRangeBrand=void 0,this.left=D,this.width=p}toString(){return`[${this.left},${this.width}]`}static compare(D,p){return D.left-p.left}}class _{constructor(D,p){this.outsideRenderedLine=D,this.originalLeft=p,this.left=Math.round(this.originalLeft)}}class I{constructor(D,p){this.outsideRenderedLine=D,this.ranges=p}}},46445:function(Ot,Ke,e){"use strict";e.d(Ke,{Gm:function(){return Rr}});var b=e(36357),U=e(16830),r=function(Gt,t,l,T){var q=arguments.length,re=q<3?t:T===null?T=Object.getOwnPropertyDescriptor(t,l):T,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Gt,t,l,T);else for(var Ve=Gt.length-1;Ve>=0;Ve--)(Te=Gt[Ve])&&(re=(q<3?Te(re):q>3?Te(t,l,re):Te(t,l))||re);return q>3&&re&&Object.defineProperty(t,l,re),re},w=function(Gt,t){return function(l,T){t(l,T,Gt)}};let c=class{constructor(t,l){}dispose(){}};c.ID="editor.contrib.markerDecorations",c=r([w(1,b.i)],c),(0,U._K)(c.ID,c,0);var _=e(63580),I=e(65321),M=e(17301),D=e(4669),p=e(5976),o=e(66663),u=e(16268),d=e(9488),n=e(36248),i=e(1432),f=e(45476),v=e(66059);class a{constructor(t,l){this.key=t,this.migrate=l}apply(t){const l=a._read(t,this.key),T=re=>a._read(t,re),q=(re,Te)=>a._write(t,re,Te);this.migrate(l,T,q)}static _read(t,l){if(typeof t=="undefined")return;const T=l.indexOf(".");if(T>=0){const q=l.substring(0,T);return this._read(t[q],l.substring(T+1))}return t[l]}static _write(t,l,T){const q=l.indexOf(".");if(q>=0){const re=l.substring(0,q);t[re]=t[re]||{},this._write(t[re],l.substring(q+1),T);return}t[l]=T}}a.items=[];function S(Gt,t){a.items.push(new a(Gt,t))}function g(Gt,t){S(Gt,(l,T,q)=>{if(typeof l!="undefined"){for(const[re,Te]of t)if(l===re){q(Gt,Te);return}}})}function y(Gt){a.items.forEach(t=>t.apply(Gt))}g("wordWrap",[[!0,"on"],[!1,"off"]]),g("lineNumbers",[[!0,"on"],[!1,"off"]]),g("cursorBlinking",[["visible","solid"]]),g("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),g("renderLineHighlight",[[!0,"line"],[!1,"none"]]),g("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),g("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),g("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),g("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),g("autoIndent",[[!1,"advanced"],[!0,"full"]]),g("matchBrackets",[[!0,"always"],[!1,"never"]]),g("renderFinalNewline",[[!0,"on"],[!1,"off"]]),g("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),g("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),g("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),S("autoClosingBrackets",(Gt,t,l)=>{Gt===!1&&(l("autoClosingBrackets","never"),typeof t("autoClosingQuotes")=="undefined"&&l("autoClosingQuotes","never"),typeof t("autoSurround")=="undefined"&&l("autoSurround","never"))}),S("renderIndentGuides",(Gt,t,l)=>{typeof Gt!="undefined"&&(l("renderIndentGuides",void 0),typeof t("guides.indentation")=="undefined"&&l("guides.indentation",!!Gt))}),S("highlightActiveIndentGuide",(Gt,t,l)=>{typeof Gt!="undefined"&&(l("highlightActiveIndentGuide",void 0),typeof t("guides.highlightActiveIndentation")=="undefined"&&l("guides.highlightActiveIndentation",!!Gt))});const C={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};S("suggest.filteredTypes",(Gt,t,l)=>{if(Gt&&typeof Gt=="object"){for(const T of Object.entries(C))Gt[T[0]]===!1&&typeof t(`suggest.${T[1]}`)=="undefined"&&l(`suggest.${T[1]}`,!1);l("suggest.filteredTypes",void 0)}}),S("quickSuggestions",(Gt,t,l)=>{if(typeof Gt=="boolean"){const T=Gt?"on":"off";l("quickSuggestions",{comments:T,strings:T,other:T})}}),S("experimental.stickyScroll.enabled",(Gt,t,l)=>{typeof Gt=="boolean"&&(l("experimental.stickyScroll.enabled",void 0),typeof t("stickyScroll.enabled")=="undefined"&&l("stickyScroll.enabled",Gt))}),S("experimental.stickyScroll.maxLineCount",(Gt,t,l)=>{typeof Gt=="number"&&(l("experimental.stickyScroll.maxLineCount",void 0),typeof t("stickyScroll.maxLineCount")=="undefined"&&l("stickyScroll.maxLineCount",Gt))}),S("codeActionsOnSave",(Gt,t,l)=>{if(Gt&&typeof Gt=="object"){let T=!1;const q={};for(const re of Object.entries(Gt))typeof re[1]=="boolean"?(T=!0,q[re[0]]=re[1]?"explicit":"never"):q[re[0]]=re[1];T&&l("codeActionsOnSave",q)}}),S("codeActionWidget.includeNearbyQuickfixes",(Gt,t,l)=>{typeof Gt=="boolean"&&(l("codeActionWidget.includeNearbyQuickfixes",void 0),typeof t("codeActionWidget.includeNearbyQuickFixes")=="undefined"&&l("codeActionWidget.includeNearbyQuickFixes",Gt))});var E=e(37940),A=e(64141),N=e(82334),B=e(27374),W=e(31106),$=function(Gt,t,l,T){var q=arguments.length,re=q<3?t:T===null?T=Object.getOwnPropertyDescriptor(t,l):T,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Gt,t,l,T);else for(var Ve=Gt.length-1;Ve>=0;Ve--)(Te=Gt[Ve])&&(re=(q<3?Te(re):q>3?Te(t,l,re):Te(t,l))||re);return q>3&&re&&Object.defineProperty(t,l,re),re},Y=function(Gt,t){return function(l,T){t(l,T,Gt)}};let R=class extends p.JT{constructor(t,l,T,q){super(),this._accessibilityService=q,this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new D.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new A.LJ,this.isSimpleWidget=t,this._containerObserver=this._register(new f.I(T,l.dimension)),this._rawOptions=V(l),this._validatedOptions=H.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(N.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(E.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.g.onDidChange(()=>this._recomputeOptions())),this._register(u.Tz.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const t=this._computeOptions(),l=H.checkEquals(this.options,t);l!==null&&(this.options=t,this._onDidChangeFast.fire(l),this._onDidChange.fire(l))}_computeOptions(){const t=this._readEnvConfiguration(),l=B.E4.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),T=this._readFontInfo(l),q={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:T,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:E.n.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return H.computeOptions(this._validatedOptions,q)}_readEnvConfiguration(){return{extraEditorClassName:z(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:u.Pf||u.vU,pixelRatio:u.Tz.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return v.g.readFontInfo(t)}getRawOptions(){return this._rawOptions}updateOptions(t){const l=V(t);H.applyUpdate(this._rawOptions,l)&&(this._validatedOptions=H.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){const l=L(t);this._lineNumbersDigitCount!==l&&(this._lineNumbersDigitCount=l,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(t){this._glyphMarginDecorationLaneCount!==t&&(this._glyphMarginDecorationLaneCount=t,this._recomputeOptions())}};R=$([Y(3,W.F7)],R);function L(Gt){let t=0;for(;Gt;)Gt=Math.floor(Gt/10),t++;return t||1}function z(){let Gt="";return!u.G6&&!u.MG&&(Gt+="no-user-select "),u.G6&&(Gt+="no-minimap-shadow ",Gt+="enable-user-select "),i.dz&&(Gt+="mac "),Gt}class O{constructor(){this._values=[]}_read(t){return this._values[t]}get(t){return this._values[t]}_write(t,l){this._values[t]=l}}class P{constructor(){this._values=[]}_read(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]}get(t){return this._read(t)}_write(t,l){this._values[t]=l}}class H{static validateOptions(t){const l=new O;for(const T of A.Bc){const q=T.name==="_never_"?void 0:t[T.name];l._write(T.id,T.validate(q))}return l}static computeOptions(t,l){const T=new P;for(const q of A.Bc)T._write(q.id,q.compute(l,T,t._read(q.id)));return T}static _deepEquals(t,l){if(typeof t!="object"||typeof l!="object"||!t||!l)return t===l;if(Array.isArray(t)||Array.isArray(l))return Array.isArray(t)&&Array.isArray(l)?d.fS(t,l):!1;if(Object.keys(t).length!==Object.keys(l).length)return!1;for(const T in t)if(!H._deepEquals(t[T],l[T]))return!1;return!0}static checkEquals(t,l){const T=[];let q=!1;for(const re of A.Bc){const Te=!H._deepEquals(t._read(re.id),l._read(re.id));T[re.id]=Te,Te&&(q=!0)}return q?new A.Bb(T):null}static applyUpdate(t,l){let T=!1;for(const q of A.Bc)if(l.hasOwnProperty(q.name)){const re=q.applyUpdate(t[q.name],l[q.name]);t[q.name]=re.newValue,T=T||re.didChange}return T}}function V(Gt){const t=n.I8(Gt);return y(t),t}var G=e(11640),j=e(3860),F=e(24314),K=e(38626),m=e(10553),J=e(7317),X=e(29994);class te extends p.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let l=!1;for(let T=0,q=t.length;T<q;T++){const re=t[T];switch(re.type){case 0:this.onCompositionStart(re)&&(l=!0);break;case 1:this.onCompositionEnd(re)&&(l=!0);break;case 2:this.onConfigurationChanged(re)&&(l=!0);break;case 3:this.onCursorStateChanged(re)&&(l=!0);break;case 4:this.onDecorationsChanged(re)&&(l=!0);break;case 5:this.onFlushed(re)&&(l=!0);break;case 6:this.onFocusChanged(re)&&(l=!0);break;case 7:this.onLanguageConfigurationChanged(re)&&(l=!0);break;case 8:this.onLineMappingChanged(re)&&(l=!0);break;case 9:this.onLinesChanged(re)&&(l=!0);break;case 10:this.onLinesDeleted(re)&&(l=!0);break;case 11:this.onLinesInserted(re)&&(l=!0);break;case 12:this.onRevealRangeRequest(re)&&(l=!0);break;case 13:this.onScrollChanged(re)&&(l=!0);break;case 15:this.onTokensChanged(re)&&(l=!0);break;case 14:this.onThemeChanged(re)&&(l=!0);break;case 16:this.onTokensColorsChanged(re)&&(l=!0);break;case 17:this.onZonesChanged(re)&&(l=!0);break;default:console.info("View received unknown event: "),console.info(re)}}l&&(this._shouldRender=!0)}}class le extends te{constructor(t){super(),this._context=t,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ge{static write(t,l){t.setAttribute("data-mprt",String(l))}static read(t){const l=t.getAttribute("data-mprt");return l===null?0:parseInt(l,10)}static collect(t,l){const T=[];let q=0;for(;t&&t!==t.ownerDocument.body&&t!==l;)t.nodeType===t.ELEMENT_NODE&&(T[q++]=this.read(t)),t=t.parentElement;const re=new Uint8Array(q);for(let Te=0;Te<q;Te++)re[Te]=T[q-Te-1];return re}}var we=e(95939),pe=e(50187),Pe=e(7988),Ne=e(47128);class ae{constructor(t=null){this.hitTarget=t,this.type=0}}class Me{constructor(t,l,T){this.position=t,this.spanNode=l,this.injectedText=T,this.type=1}}var ke;(function(Gt){function t(l,T,q){const re=l.getPositionFromDOMInfo(T,q);return re?new Me(re,T,null):new ae(T)}Gt.createFromDOMInfo=t})(ke||(ke={}));class Ue{constructor(t,l){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=l}}class Le{static _deduceRage(t,l=null){return!l&&t?new F.e(t.lineNumber,t.column,t.lineNumber,t.column):l!=null?l:null}static createUnknown(t,l,T){return{type:0,element:t,mouseColumn:l,position:T,range:this._deduceRage(T)}}static createTextarea(t,l){return{type:1,element:t,mouseColumn:l,position:null,range:null}}static createMargin(t,l,T,q,re,Te){return{type:t,element:l,mouseColumn:T,position:q,range:re,detail:Te}}static createViewZone(t,l,T,q,re){return{type:t,element:l,mouseColumn:T,position:q,range:this._deduceRage(q),detail:re}}static createContentText(t,l,T,q,re){return{type:6,element:t,mouseColumn:l,position:T,range:this._deduceRage(T,q),detail:re}}static createContentEmpty(t,l,T,q){return{type:7,element:t,mouseColumn:l,position:T,range:this._deduceRage(T),detail:q}}static createContentWidget(t,l,T){return{type:9,element:t,mouseColumn:l,position:null,range:null,detail:T}}static createScrollbar(t,l,T){return{type:11,element:t,mouseColumn:l,position:T,range:this._deduceRage(T)}}static createOverlayWidget(t,l,T){return{type:12,element:t,mouseColumn:l,position:null,range:null,detail:T}}static createOutsideEditor(t,l,T,q){return{type:13,element:null,mouseColumn:t,position:l,range:this._deduceRage(l),outsidePosition:T,outsideDistance:q}}static _typeToString(t){return t===1?"TEXTAREA":t===2?"GUTTER_GLYPH_MARGIN":t===3?"GUTTER_LINE_NUMBERS":t===4?"GUTTER_LINE_DECORATIONS":t===5?"GUTTER_VIEW_ZONE":t===6?"CONTENT_TEXT":t===7?"CONTENT_EMPTY":t===8?"CONTENT_VIEW_ZONE":t===9?"CONTENT_WIDGET":t===10?"OVERVIEW_RULER":t===11?"SCROLLBAR":t===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)}}class ie{static isTextArea(t){return t.length===2&&t[0]===3&&t[1]===6}static isChildOfViewLines(t){return t.length>=4&&t[0]===3&&t[3]===7}static isStrictChildOfViewLines(t){return t.length>4&&t[0]===3&&t[3]===7}static isChildOfScrollableElement(t){return t.length>=2&&t[0]===3&&t[1]===5}static isChildOfMinimap(t){return t.length>=2&&t[0]===3&&t[1]===8}static isChildOfContentWidgets(t){return t.length>=4&&t[0]===3&&t[3]===1}static isChildOfOverflowGuard(t){return t.length>=1&&t[0]===3}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&t[0]===2}static isChildOfOverlayWidgets(t){return t.length>=2&&t[0]===3&&t[1]===4}}class ce{constructor(t,l,T){this.viewModel=t.viewModel;const q=t.configuration.options;this.layoutInfo=q.get(143),this.viewDomNode=l.viewDomNode,this.lineHeight=q.get(66),this.stickyTabStops=q.get(115),this.typicalHalfwidthCharacterWidth=q.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=T,this._context=t,this._viewHelper=l}getZoneAtCoord(t){return ce.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,l){const T=t.viewLayout.getWhitespaceAtVerticalOffset(l);if(T){const q=T.verticalOffset+T.height/2,re=t.viewModel.getLineCount();let Te=null,Ve,rt=null;return T.afterLineNumber!==re&&(rt=new pe.L(T.afterLineNumber+1,1)),T.afterLineNumber>0&&(Te=new pe.L(T.afterLineNumber,t.viewModel.getLineMaxColumn(T.afterLineNumber))),rt===null?Ve=Te:Te===null?Ve=rt:l<q?Ve=Te:Ve=rt,{viewZoneId:T.id,afterLineNumber:T.afterLineNumber,positionBefore:Te,positionAfter:rt,position:Ve}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const q=this._context.viewModel.getLineCount(),re=this._context.viewModel.getLineMaxColumn(q);return{range:new F.e(q,re,q,re),isAfterLines:!0}}const l=this._context.viewLayout.getLineNumberAtVerticalOffset(t),T=this._context.viewModel.getLineMaxColumn(l);return{range:new F.e(l,1,l,T),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,l){return ce._findAttribute(t,l,this._viewHelper.viewDomNode)}static _findAttribute(t,l,T){for(;t&&t!==t.ownerDocument.body;){if(t.hasAttribute&&t.hasAttribute(l))return t.getAttribute(l);if(t===T)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,l){return this._viewHelper.visibleRangeForPosition(t,l)}getPositionFromDOMInfo(t,l){return this._viewHelper.getPositionFromDOMInfo(t,l)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Re{constructor(t,l,T,q){this.editorPos=l,this.pos=T,this.relativePos=q,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,he._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}class ye extends Re{constructor(t,l,T,q,re){super(t,l,T,q),this._ctx=t,re?(this.target=re,this.targetPath=ge.collect(re,t.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(t=null){return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?Pe.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(t=null){return Le.createUnknown(this.target,this._getMouseColumn(t),t)}fulfillTextarea(){return Le.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(t,l,T,q){return Le.createMargin(t,this.target,this._getMouseColumn(l),l,T,q)}fulfillViewZone(t,l,T){return Le.createViewZone(t,this.target,this._getMouseColumn(l),l,T)}fulfillContentText(t,l,T){return Le.createContentText(this.target,this._getMouseColumn(t),t,l,T)}fulfillContentEmpty(t,l){return Le.createContentEmpty(this.target,this._getMouseColumn(t),t,l)}fulfillContentWidget(t){return Le.createContentWidget(this.target,this._getMouseColumn(),t)}fulfillScrollbar(t){return Le.createScrollbar(this.target,this._getMouseColumn(t),t)}fulfillOverlayWidget(t){return Le.createOverlayWidget(this.target,this._getMouseColumn(),t)}withTarget(t){return new ye(this._ctx,this.editorPos,this.pos,this.relativePos,t)}}const Se={isAfterLines:!0};function me(Gt){return{isAfterLines:!1,horizontalDistanceToText:Gt}}class he{constructor(t,l){this._context=t,this._viewHelper=l}mouseTargetIsWidget(t){const l=t.target,T=ge.collect(l,this._viewHelper.viewDomNode);return!!(ie.isChildOfContentWidgets(T)||ie.isChildOfOverflowingContentWidgets(T)||ie.isChildOfOverlayWidgets(T))}createMouseTarget(t,l,T,q,re){const Te=new ce(this._context,this._viewHelper,t),Ve=new ye(Te,l,T,q,re);try{const rt=he._createMouseTarget(Te,Ve,!1);if(rt.type===6&&Te.stickyTabStops&&rt.position!==null){const vt=he._snapToSoftTabBoundary(rt.position,Te.viewModel),It=F.e.fromPositions(vt,vt).plusRange(rt.range);return Ve.fulfillContentText(vt,It,rt.detail)}return rt}catch(rt){return Ve.fulfillUnknown()}}static _createMouseTarget(t,l,T){if(l.target===null){if(T)return l.fulfillUnknown();const Te=he._doHitTest(t,l);return Te.type===1?he.createMouseTargetFromHitTestPosition(t,l,Te.spanNode,Te.position,Te.injectedText):this._createMouseTarget(t,l.withTarget(Te.hitTarget),!0)}const q=l;let re=null;return!ie.isChildOfOverflowGuard(l.targetPath)&&!ie.isChildOfOverflowingContentWidgets(l.targetPath)&&(re=re||l.fulfillUnknown()),re=re||he._hitTestContentWidget(t,q),re=re||he._hitTestOverlayWidget(t,q),re=re||he._hitTestMinimap(t,q),re=re||he._hitTestScrollbarSlider(t,q),re=re||he._hitTestViewZone(t,q),re=re||he._hitTestMargin(t,q),re=re||he._hitTestViewCursor(t,q),re=re||he._hitTestTextArea(t,q),re=re||he._hitTestViewLines(t,q,T),re=re||he._hitTestScrollbar(t,q),re||l.fulfillUnknown()}static _hitTestContentWidget(t,l){if(ie.isChildOfContentWidgets(l.targetPath)||ie.isChildOfOverflowingContentWidgets(l.targetPath)){const T=t.findAttribute(l.target,"widgetId");return T?l.fulfillContentWidget(T):l.fulfillUnknown()}return null}static _hitTestOverlayWidget(t,l){if(ie.isChildOfOverlayWidgets(l.targetPath)){const T=t.findAttribute(l.target,"widgetId");return T?l.fulfillOverlayWidget(T):l.fulfillUnknown()}return null}static _hitTestViewCursor(t,l){if(l.target){const T=t.lastRenderData.lastViewCursorsRenderData;for(const q of T)if(l.target===q.domNode)return l.fulfillContentText(q.position,null,{mightBeForeignElement:!1,injectedText:null})}if(l.isInContentArea){const T=t.lastRenderData.lastViewCursorsRenderData,q=l.mouseContentHorizontalOffset,re=l.mouseVerticalOffset;for(const Te of T){if(q<Te.contentLeft||q>Te.contentLeft+Te.width)continue;const Ve=t.getVerticalOffsetForLineNumber(Te.position.lineNumber);if(Ve<=re&&re<=Ve+Te.height)return l.fulfillContentText(Te.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(t,l){const T=t.getZoneAtCoord(l.mouseVerticalOffset);if(T){const q=l.isInContentArea?8:5;return l.fulfillViewZone(q,T.position,T)}return null}static _hitTestTextArea(t,l){return ie.isTextArea(l.targetPath)?t.lastRenderData.lastTextareaPosition?l.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):l.fulfillTextarea():null}static _hitTestMargin(t,l){if(l.isInMarginArea){const T=t.getFullLineRangeAtCoord(l.mouseVerticalOffset),q=T.range.getStartPosition();let re=Math.abs(l.relativePos.x);const Te={isAfterLines:T.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:re};return re-=t.layoutInfo.glyphMarginLeft,re<=t.layoutInfo.glyphMarginWidth?l.fulfillMargin(2,q,T.range,Te):(re-=t.layoutInfo.glyphMarginWidth,re<=t.layoutInfo.lineNumbersWidth?l.fulfillMargin(3,q,T.range,Te):(re-=t.layoutInfo.lineNumbersWidth,l.fulfillMargin(4,q,T.range,Te)))}return null}static _hitTestViewLines(t,l,T){if(!ie.isChildOfViewLines(l.targetPath))return null;if(t.isInTopPadding(l.mouseVerticalOffset))return l.fulfillContentEmpty(new pe.L(1,1),Se);if(t.isAfterLines(l.mouseVerticalOffset)||t.isInBottomPadding(l.mouseVerticalOffset)){const re=t.viewModel.getLineCount(),Te=t.viewModel.getLineMaxColumn(re);return l.fulfillContentEmpty(new pe.L(re,Te),Se)}if(T){if(ie.isStrictChildOfViewLines(l.targetPath)){const re=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset);if(t.viewModel.getLineLength(re)===0){const Ve=t.getLineWidth(re),rt=me(l.mouseContentHorizontalOffset-Ve);return l.fulfillContentEmpty(new pe.L(re,1),rt)}const Te=t.getLineWidth(re);if(l.mouseContentHorizontalOffset>=Te){const Ve=me(l.mouseContentHorizontalOffset-Te),rt=new pe.L(re,t.viewModel.getLineMaxColumn(re));return l.fulfillContentEmpty(rt,Ve)}}return l.fulfillUnknown()}const q=he._doHitTest(t,l);return q.type===1?he.createMouseTargetFromHitTestPosition(t,l,q.spanNode,q.position,q.injectedText):this._createMouseTarget(t,l.withTarget(q.hitTarget),!0)}static _hitTestMinimap(t,l){if(ie.isChildOfMinimap(l.targetPath)){const T=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),q=t.viewModel.getLineMaxColumn(T);return l.fulfillScrollbar(new pe.L(T,q))}return null}static _hitTestScrollbarSlider(t,l){if(ie.isChildOfScrollableElement(l.targetPath)&&l.target&&l.target.nodeType===1){const T=l.target.className;if(T&&/\b(slider|scrollbar)\b/.test(T)){const q=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),re=t.viewModel.getLineMaxColumn(q);return l.fulfillScrollbar(new pe.L(q,re))}}return null}static _hitTestScrollbar(t,l){if(ie.isChildOfScrollableElement(l.targetPath)){const T=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),q=t.viewModel.getLineMaxColumn(T);return l.fulfillScrollbar(new pe.L(T,q))}return null}getMouseColumn(t){const l=this._context.configuration.options,T=l.get(143),q=this._context.viewLayout.getCurrentScrollLeft()+t.x-T.contentLeft;return he._getMouseColumn(q,l.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,l){return t<0?1:Math.round(t/l)+1}static createMouseTargetFromHitTestPosition(t,l,T,q,re){const Te=q.lineNumber,Ve=q.column,rt=t.getLineWidth(Te);if(l.mouseContentHorizontalOffset>rt){const kn=me(l.mouseContentHorizontalOffset-rt);return l.fulfillContentEmpty(q,kn)}const vt=t.visibleRangeForPosition(Te,Ve);if(!vt)return l.fulfillUnknown(q);const It=vt.left;if(Math.abs(l.mouseContentHorizontalOffset-It)<1)return l.fulfillContentText(q,null,{mightBeForeignElement:!!re,injectedText:re});const Wt=[];if(Wt.push({offset:vt.left,column:Ve}),Ve>1){const kn=t.visibleRangeForPosition(Te,Ve-1);kn&&Wt.push({offset:kn.left,column:Ve-1})}const Kt=t.viewModel.getLineMaxColumn(Te);if(Ve<Kt){const kn=t.visibleRangeForPosition(Te,Ve+1);kn&&Wt.push({offset:kn.left,column:Ve+1})}Wt.sort((kn,ti)=>kn.offset-ti.offset);const nn=l.pos.toClientCoordinates(I.Jj(t.viewDomNode)),mn=T.getBoundingClientRect(),xn=mn.left<=nn.clientX&&nn.clientX<=mn.right;let Pn=null;for(let kn=1;kn<Wt.length;kn++){const ti=Wt[kn-1],ai=Wt[kn];if(ti.offset<=l.mouseContentHorizontalOffset&&l.mouseContentHorizontalOffset<=ai.offset){Pn=new F.e(Te,ti.column,Te,ai.column);const Mi=Math.abs(ti.offset-l.mouseContentHorizontalOffset),Ei=Math.abs(ai.offset-l.mouseContentHorizontalOffset);q=Mi<Ei?new pe.L(Te,ti.column):new pe.L(Te,ai.column);break}}return l.fulfillContentText(q,Pn,{mightBeForeignElement:!xn||!!re,injectedText:re})}static _doHitTestWithCaretRangeFromPoint(t,l){const T=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),q=t.getVerticalOffsetForLineNumber(T),re=q+t.lineHeight;if(!(T===t.viewModel.getLineCount()&&l.mouseVerticalOffset>re)){const Ve=Math.floor((q+re)/2);let rt=l.pos.y+(Ve-l.mouseVerticalOffset);rt<=l.editorPos.y&&(rt=l.editorPos.y+1),rt>=l.editorPos.y+l.editorPos.height&&(rt=l.editorPos.y+l.editorPos.height-1);const vt=new X.YN(l.pos.x,rt),It=this._actualDoHitTestWithCaretRangeFromPoint(t,vt.toClientCoordinates(I.Jj(t.viewDomNode)));if(It.type===1)return It}return this._actualDoHitTestWithCaretRangeFromPoint(t,l.pos.toClientCoordinates(I.Jj(t.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(t,l){const T=I.Ay(t.viewDomNode);let q;if(T?typeof T.caretRangeFromPoint=="undefined"?q=se(T,l.clientX,l.clientY):q=T.caretRangeFromPoint(l.clientX,l.clientY):q=t.viewDomNode.ownerDocument.caretRangeFromPoint(l.clientX,l.clientY),!q||!q.startContainer)return new ae;const re=q.startContainer;if(re.nodeType===re.TEXT_NODE){const Te=re.parentNode,Ve=Te?Te.parentNode:null,rt=Ve?Ve.parentNode:null;return(rt&&rt.nodeType===rt.ELEMENT_NODE?rt.className:null)===we.Nt.CLASS_NAME?ke.createFromDOMInfo(t,Te,q.startOffset):new ae(re.parentNode)}else if(re.nodeType===re.ELEMENT_NODE){const Te=re.parentNode,Ve=Te?Te.parentNode:null;return(Ve&&Ve.nodeType===Ve.ELEMENT_NODE?Ve.className:null)===we.Nt.CLASS_NAME?ke.createFromDOMInfo(t,re,re.textContent.length):new ae(re)}return new ae}static _doHitTestWithCaretPositionFromPoint(t,l){const T=t.viewDomNode.ownerDocument.caretPositionFromPoint(l.clientX,l.clientY);if(T.offsetNode.nodeType===T.offsetNode.TEXT_NODE){const q=T.offsetNode.parentNode,re=q?q.parentNode:null,Te=re?re.parentNode:null;return(Te&&Te.nodeType===Te.ELEMENT_NODE?Te.className:null)===we.Nt.CLASS_NAME?ke.createFromDOMInfo(t,T.offsetNode.parentNode,T.offset):new ae(T.offsetNode.parentNode)}if(T.offsetNode.nodeType===T.offsetNode.ELEMENT_NODE){const q=T.offsetNode.parentNode,re=q&&q.nodeType===q.ELEMENT_NODE?q.className:null,Te=q?q.parentNode:null,Ve=Te&&Te.nodeType===Te.ELEMENT_NODE?Te.className:null;if(re===we.Nt.CLASS_NAME){const rt=T.offsetNode.childNodes[Math.min(T.offset,T.offsetNode.childNodes.length-1)];if(rt)return ke.createFromDOMInfo(t,rt,0)}else if(Ve===we.Nt.CLASS_NAME)return ke.createFromDOMInfo(t,T.offsetNode,0)}return new ae(T.offsetNode)}static _snapToSoftTabBoundary(t,l){const T=l.getLineContent(t.lineNumber),{tabSize:q}=l.model.getOptions(),re=Ne.l.atomicPosition(T,t.column-1,q,2);return re!==-1?new pe.L(t.lineNumber,re+1):t}static _doHitTest(t,l){let T=new ae;if(typeof t.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?T=this._doHitTestWithCaretRangeFromPoint(t,l):t.viewDomNode.ownerDocument.caretPositionFromPoint&&(T=this._doHitTestWithCaretPositionFromPoint(t,l.pos.toClientCoordinates(I.Jj(t.viewDomNode)))),T.type===1){const q=t.viewModel.getInjectedTextAt(T.position),re=t.viewModel.normalizePosition(T.position,2);(q||!re.equals(T.position))&&(T=new Me(re,T.spanNode,q))}return T}}function se(Gt,t,l){const T=document.createRange();let q=Gt.elementFromPoint(t,l);if(q!==null){for(;q&&q.firstChild&&q.firstChild.nodeType!==q.firstChild.TEXT_NODE&&q.lastChild&&q.lastChild.firstChild;)q=q.lastChild;const re=q.getBoundingClientRect(),Te=I.Jj(q),Ve=Te.getComputedStyle(q,null).getPropertyValue("font-style"),rt=Te.getComputedStyle(q,null).getPropertyValue("font-variant"),vt=Te.getComputedStyle(q,null).getPropertyValue("font-weight"),It=Te.getComputedStyle(q,null).getPropertyValue("font-size"),Wt=Te.getComputedStyle(q,null).getPropertyValue("line-height"),Kt=Te.getComputedStyle(q,null).getPropertyValue("font-family"),nn=`${Ve} ${rt} ${vt} ${It}/${Wt} ${Kt}`,mn=q.innerText;let xn=re.left,Pn=0,kn;if(t>re.left+re.width)Pn=mn.length;else{const ti=ve.getInstance();for(let ai=0;ai<mn.length+1;ai++){if(kn=ti.getCharWidth(mn.charAt(ai),nn)/2,xn+=kn,t<xn){Pn=ai;break}xn+=kn}}T.setStart(q.firstChild,Pn),T.setEnd(q.firstChild,Pn)}return T}class ve{static getInstance(){return ve._INSTANCE||(ve._INSTANCE=new ve),ve._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(t,l){const T=t+l;if(this._cache[T])return this._cache[T];const q=this._canvas.getContext("2d");q.font=l;const Te=q.measureText(t).width;return this._cache[T]=Te,Te}}ve._INSTANCE=null;var xe=e(59740);class je extends te{constructor(t,l,T){super(),this._mouseLeaveMonitor=null,this._context=t,this.viewController=l,this.viewHelper=T,this.mouseTargetFactory=new he(this._context,T),this._mouseDownOperation=this._register(new Oe(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Te,Ve)=>this._createMouseTarget(Te,Ve),Te=>this._getMouseColumn(Te))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const q=new X.N5(this.viewHelper.viewDomNode);this._register(q.onContextMenu(this.viewHelper.viewDomNode,Te=>this._onContextMenu(Te,!0))),this._register(q.onMouseMove(this.viewHelper.viewDomNode,Te=>{this._onMouseMove(Te),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=I.nm(this.viewHelper.viewDomNode.ownerDocument,"mousemove",Ve=>{this.viewHelper.viewDomNode.contains(Ve.target)||this._onMouseLeave(new X.gy(Ve,!1,this.viewHelper.viewDomNode))}))})),this._register(q.onMouseUp(this.viewHelper.viewDomNode,Te=>this._onMouseUp(Te))),this._register(q.onMouseLeave(this.viewHelper.viewDomNode,Te=>this._onMouseLeave(Te)));let re=0;this._register(q.onPointerDown(this.viewHelper.viewDomNode,(Te,Ve)=>{re=Ve})),this._register(I.nm(this.viewHelper.viewDomNode,I.tw.POINTER_UP,Te=>{this._mouseDownOperation.onPointerUp()})),this._register(q.onMouseDown(this.viewHelper.viewDomNode,Te=>this._onMouseDown(Te,re))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const t=xe.Io.INSTANCE;let l=0,T=N.C.getZoomLevel(),q=!1,re=0;const Te=rt=>{if(this.viewController.emitMouseWheel(rt),!this._context.configuration.options.get(75))return;const vt=new J.q(rt);if(t.acceptStandardWheelEvent(vt),t.isPhysicalMouseWheel()){if(Ve(rt)){const It=N.C.getZoomLevel(),Wt=vt.deltaY>0?1:-1;N.C.setZoomLevel(It+Wt),vt.preventDefault(),vt.stopPropagation()}}else Date.now()-l>50&&(T=N.C.getZoomLevel(),q=Ve(rt),re=0),l=Date.now(),re+=vt.deltaY,q&&(N.C.setZoomLevel(T+re/5),vt.preventDefault(),vt.stopPropagation())};this._register(I.nm(this.viewHelper.viewDomNode,I.tw.MOUSE_WHEEL,Te,{capture:!0,passive:!1}));function Ve(rt){return i.dz?(rt.metaKey||rt.ctrlKey)&&!rt.shiftKey&&!rt.altKey:rt.ctrlKey&&!rt.metaKey&&!rt.shiftKey&&!rt.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(143)){const l=this._context.configuration.options.get(143).height;this._height!==l&&(this._height=l,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}getTargetAtClientPoint(t,l){const q=new X.rU(t,l).toPageCoordinates(I.Jj(this.viewHelper.viewDomNode)),re=(0,X.kG)(this.viewHelper.viewDomNode);if(q.y<re.y||q.y>re.y+re.height||q.x<re.x||q.x>re.x+re.width)return null;const Te=(0,X.Pp)(this.viewHelper.viewDomNode,re,q);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),re,q,Te,null)}_createMouseTarget(t,l){let T=t.target;if(!this.viewHelper.viewDomNode.contains(T)){const q=I.Ay(this.viewHelper.viewDomNode);q&&(T=q.elementsFromPoint(t.posx,t.posy).find(re=>this.viewHelper.viewDomNode.contains(re)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,l?T:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,l){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,l)})}_onMouseMove(t){this.mouseTargetFactory.mouseTargetIsWidget(t)||t.preventDefault(),!(this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t,l){const T=this._createMouseTarget(t,!0),q=T.type===6||T.type===7,re=T.type===2||T.type===3||T.type===4,Te=T.type===3,Ve=this._context.configuration.options.get(108),rt=T.type===8||T.type===5,vt=T.type===9;let It=t.leftButton||t.middleButton;i.dz&&t.leftButton&&t.ctrlKey&&(It=!1);const Wt=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};if(It&&(q||Te&&Ve))Wt(),this._mouseDownOperation.start(T.type,t,l);else if(re)t.preventDefault();else if(rt){const Kt=T.detail;It&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Kt.viewZoneId)&&(Wt(),this._mouseDownOperation.start(T.type,t,l),t.preventDefault())}else vt&&this.viewHelper.shouldSuppressMouseDownOnWidget(T.detail)&&(Wt(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:T})}}class Oe extends p.JT{constructor(t,l,T,q,re,Te){super(),this._context=t,this._viewController=l,this._viewHelper=T,this._mouseTargetFactory=q,this._createMouseTarget=re,this._getMouseColumn=Te,this._mouseMoveMonitor=this._register(new X.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new Ze(this._context,this._viewHelper,this._mouseTargetFactory,(Ve,rt,vt)=>this._dispatchMouse(Ve,rt,vt))),this._mouseState=new Et,this._currentSelection=new j.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const l=this._findMousePosition(t,!1);l&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:l}):l.type===13&&(l.outsidePosition==="above"||l.outsidePosition==="below")?this._topBottomDragScrolling.start(l,t):(this._topBottomDragScrolling.stop(),this._dispatchMouse(l,!0,1)))}start(t,l,T){this._lastMouseEvent=l,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(l),this._mouseState.setModifiers(l);const q=this._findMousePosition(l,!0);if(!q||!q.position)return;this._mouseState.trySetCount(l.detail,q.position),l.detail=this._mouseState.count;const re=this._context.configuration.options;if(!re.get(90)&&re.get(35)&&!re.get(22)&&!this._mouseState.altKey&&l.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&q.type===6&&q.position&&this._currentSelection.containsPosition(q.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,T,l.buttons,Te=>this._onMouseDownThenMove(Te),Te=>{const Ve=this._findMousePosition(this._lastMouseEvent,!1);I.vd(Te)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Ve?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(q,l.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,T,l.buttons,Te=>this._onMouseDownThenMove(Te),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const l=t.editorPos,T=this._context.viewModel,q=this._context.viewLayout,re=this._getMouseColumn(t);if(t.posy<l.y){const Ve=l.y-t.posy,rt=Math.max(q.getCurrentScrollTop()-Ve,0),vt=ce.getZoneAtCoord(this._context,rt);if(vt){const Wt=this._helpPositionJumpOverViewZone(vt);if(Wt)return Le.createOutsideEditor(re,Wt,"above",Ve)}const It=q.getLineNumberAtVerticalOffset(rt);return Le.createOutsideEditor(re,new pe.L(It,1),"above",Ve)}if(t.posy>l.y+l.height){const Ve=t.posy-l.y-l.height,rt=q.getCurrentScrollTop()+t.relativePos.y,vt=ce.getZoneAtCoord(this._context,rt);if(vt){const Wt=this._helpPositionJumpOverViewZone(vt);if(Wt)return Le.createOutsideEditor(re,Wt,"below",Ve)}const It=q.getLineNumberAtVerticalOffset(rt);return Le.createOutsideEditor(re,new pe.L(It,T.getLineMaxColumn(It)),"below",Ve)}const Te=q.getLineNumberAtVerticalOffset(q.getCurrentScrollTop()+t.relativePos.y);if(t.posx<l.x){const Ve=l.x-t.posx;return Le.createOutsideEditor(re,new pe.L(Te,1),"left",Ve)}if(t.posx>l.x+l.width){const Ve=t.posx-l.x-l.width;return Le.createOutsideEditor(re,new pe.L(Te,T.getLineMaxColumn(Te)),"right",Ve)}return null}_findMousePosition(t,l){const T=this._getPositionOutsideEditor(t);if(T)return T;const q=this._createMouseTarget(t,l);if(!q.position)return null;if(q.type===8||q.type===5){const Te=this._helpPositionJumpOverViewZone(q.detail);if(Te)return Le.createViewZone(q.type,q.element,q.mouseColumn,Te,q.detail)}return q}_helpPositionJumpOverViewZone(t){const l=new pe.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),T=t.positionBefore,q=t.positionAfter;return T&&q?T.isBefore(l)?T:q:null}_dispatchMouse(t,l,T){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:T,inSelectionMode:l,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:t.type===6&&t.detail.injectedText!==null})}}class Ze extends p.JT{constructor(t,l,T,q){super(),this._context=t,this._viewHelper=l,this._mouseTargetFactory=T,this._dispatchMouse=q,this._operation=null}dispose(){super.dispose(),this.stop()}start(t,l){this._operation?this._operation.setPosition(t,l):this._operation=new it(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,t,l)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class it extends p.JT{constructor(t,l,T,q,re,Te){super(),this._context=t,this._viewHelper=l,this._mouseTargetFactory=T,this._dispatchMouse=q,this._position=re,this._mouseEvent=Te,this._lastTime=Date.now(),this._animationFrameDisposable=I.jL(I.Jj(Te.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(t,l){this._position=t,this._mouseEvent=l}_tick(){const t=Date.now(),l=t-this._lastTime;return this._lastTime=t,l}_getScrollSpeed(){const t=this._context.configuration.options.get(66),l=this._context.configuration.options.get(143).height/t,T=this._position.outsideDistance/t;return T<=1.5?Math.max(30,l*(1+T)):T<=3?Math.max(60,l*(2+T)):Math.max(200,l*(7+T))}_execute(){const t=this._context.configuration.options.get(66),l=this._getScrollSpeed(),T=this._tick(),q=l*(T/1e3)*t,re=this._position.outsidePosition==="above"?-q:q;this._context.viewModel.viewLayout.deltaScrollNow(0,re),this._viewHelper.renderNow();const Te=this._context.viewLayout.getLinesViewportData(),Ve=this._position.outsidePosition==="above"?Te.startLineNumber:Te.endLineNumber;let rt;{const vt=(0,X.kG)(this._viewHelper.viewDomNode),It=this._context.configuration.options.get(143).horizontalScrollbarHeight,Wt=new X.YN(this._mouseEvent.pos.x,vt.y+vt.height-It-.1),Kt=(0,X.Pp)(this._viewHelper.viewDomNode,vt,Wt);rt=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),vt,Wt,Kt,null)}(!rt.position||rt.position.lineNumber!==Ve)&&(this._position.outsidePosition==="above"?rt=Le.createOutsideEditor(this._position.mouseColumn,new pe.L(Ve,1),"above",this._position.outsideDistance):rt=Le.createOutsideEditor(this._position.mouseColumn,new pe.L(Ve,this._context.viewModel.getLineMaxColumn(Ve)),"below",this._position.outsideDistance)),this._dispatchMouse(rt,!0,2),this._animationFrameDisposable=I.jL(I.Jj(rt.element),()=>this._execute())}}class Et{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey}setStartButtons(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton}setStartedOnLineNumbers(t){this._startedOnLineNumbers=t}trySetCount(t,l){const T=new Date().getTime();T-this._lastSetMouseDownCountTime>Et.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=T,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(l)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=l,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}Et.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var st=e(10161),pt=e(35715),Mt=e(48906);class qt extends je{constructor(t,l,T){super(t,l,T),this._register(m.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Tap,re=>this.onTap(re))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Change,re=>this.onChange(re))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Contextmenu,re=>this._onContextMenu(new X.gy(re,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(I.nm(this.viewHelper.linesContentDomNode,"pointerdown",re=>{const Te=re.pointerType;if(Te==="mouse"){this._lastPointerType="mouse";return}else Te==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const q=new X.tC(this.viewHelper.viewDomNode);this._register(q.onPointerMove(this.viewHelper.viewDomNode,re=>this._onMouseMove(re))),this._register(q.onPointerUp(this.viewHelper.viewDomNode,re=>this._onMouseUp(re))),this._register(q.onPointerLeave(this.viewHelper.viewDomNode,re=>this._onMouseLeave(re))),this._register(q.onPointerDown(this.viewHelper.viewDomNode,(re,Te)=>this._onMouseDown(re,Te)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new X.gy(t,!1,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:l.type===6&&l.detail.injectedText!==null})}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,l){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t,l)}}class Ft extends je{constructor(t,l,T){super(t,l,T),this._register(m.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Tap,q=>this.onTap(q))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Change,q=>this.onChange(q))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Contextmenu,q=>this._onContextMenu(new X.gy(q,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new X.gy(t,!1,this.viewHelper.viewDomNode),!1);if(l.position){const T=document.createEvent("CustomEvent");T.initEvent(pt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(T),this.viewController.moveTo(l.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class Xt extends p.JT{constructor(t,l,T){super(),i.gn&&st.D.pointerEvents?this.handler=this._register(new qt(t,l,T)):Mt.Ex.TouchEvent?this.handler=this._register(new Ft(t,l,T)):this.handler=this._register(new je(t,l,T))}getTargetAtClientPoint(t,l){return this.handler.getTargetAtClientPoint(t,l)}}var _t=e(97295),nt=e(52136),tt=e(15887);class xt extends te{}var Lt=e(97781),Be=e(8625);class yt extends xt{constructor(t){super(),this._context=t,this._readConfig(),this._lastCursorModelPosition=new pe.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const t=this._context.configuration.options;this._lineHeight=t.get(66);const l=t.get(67);this._renderLineNumbers=l.renderType,this._renderCustomLineNumbers=l.renderFn,this._renderFinalNewline=t.get(94);const T=t.get(143);this._lineNumbersLeft=T.lineNumbersLeft,this._lineNumbersWidth=T.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return this._readConfig(),!0}onCursorStateChanged(t){const l=t.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l);let T=!1;return this._activeLineNumber!==l.lineNumber&&(this._activeLineNumber=l.lineNumber,T=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(T=!0),T}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getLineRenderLineNumber(t){const l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(t,1));if(l.column!==1)return"";const T=l.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(T);if(this._renderLineNumbers===2){const q=Math.abs(this._lastCursorModelPosition.lineNumber-T);return q===0?'<span class="relative-current-line-number">'+T+"</span>":String(q)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===T||T%10===0?String(T):"":String(T)}prepareRender(t){if(this._renderLineNumbers===0){this._renderResult=null;return}const l=i.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",T=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber,re=this._context.viewModel.getLineCount(),Te=[];for(let Ve=T;Ve<=q;Ve++){const rt=Ve-T,vt=this._getLineRenderLineNumber(Ve);if(!vt){Te[rt]="";continue}let It="";if(Ve===re&&this._context.viewModel.getLineLength(Ve)===0){if(this._renderFinalNewline==="off"){Te[rt]="";continue}this._renderFinalNewline==="dimmed"&&(It=" dimmed-line-number")}Ve===this._activeLineNumber&&(It=" active-line-number"),Te[rt]=`<div class="${yt.CLASS_NAME}${l}${It}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${vt}</div>`}this._renderResult=Te}render(t,l){if(!this._renderResult)return"";const T=l-t;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}yt.CLASS_NAME="line-numbers",(0,Lt.Ic)((Gt,t)=>{const l=Gt.getColor(Be.hw),T=Gt.getColor(Be.Bj);T?t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${T}; }`):l&&t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${l.transparent(.4)}; }`)});class un extends le{constructor(t){super(t);const l=this._context.configuration.options,T=l.get(143);this._canUseLayerHinting=!l.get(32),this._contentLeft=T.contentLeft,this._glyphMarginLeft=T.glyphMarginLeft,this._glyphMarginWidth=T.glyphMarginWidth,this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setClassName(un.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,K.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(un.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(143);return this._canUseLayerHinting=!l.get(32),this._contentLeft=T.contentLeft,this._glyphMarginLeft=T.glyphMarginLeft,this._glyphMarginWidth=T.glyphMarginWidth,!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollTopChanged}prepareRender(t){}render(t){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const l=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-l);const T=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(T),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(T)}}un.CLASS_NAME="glyph-margin",un.OUTER_CLASS_NAME="margin";var In=e(24929);const bn="monaco-mouse-cursor-text";var Hn=e(43155),si=e(41264),Yn=e(77173),mi=e(91847),_i=e(72065),Wi=function(Gt,t,l,T){var q=arguments.length,re=q<3?t:T===null?T=Object.getOwnPropertyDescriptor(t,l):T,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Gt,t,l,T);else for(var Ve=Gt.length-1;Ve>=0;Ve--)(Te=Gt[Ve])&&(re=(q<3?Te(re):q>3?Te(t,l,re):Te(t,l))||re);return q>3&&re&&Object.defineProperty(t,l,re),re},Si=function(Gt,t){return function(l,T){t(l,T,Gt)}};class Ki{constructor(t,l,T,q,re){this._context=t,this.modelLineNumber=l,this.distanceToModelLineStart=T,this.widthOfHiddenLineTextBefore=q,this.distanceToModelLineEnd=re,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(t){const l=new pe.L(this.modelLineNumber,this.distanceToModelLineStart+1),T=new pe.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(t){return this._previousPresentation||(t?this._previousPresentation=t:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const bi=u.vU;let Fi=class extends le{constructor(t,l,T,q,re){super(t),this._keybindingService=q,this._instantiationService=re,this._primaryCursorPosition=new pe.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=l,this._visibleRangeProvider=T,this._scrollLeft=0,this._scrollTop=0;const Te=this._context.configuration.options,Ve=Te.get(143);this._setAccessibilityOptions(Te),this._contentLeft=Ve.contentLeft,this._contentWidth=Ve.contentWidth,this._contentHeight=Ve.height,this._fontInfo=Te.get(50),this._lineHeight=Te.get(66),this._emptySelectionClipboard=Te.get(37),this._copyWithSyntaxHighlighting=Te.get(25),this._visibleTextArea=null,this._selections=[new j.Y(1,1,1,1)],this._modelSelections=[new j.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,K.X)(document.createElement("textarea")),ge.write(this.textArea,6),this.textArea.setClassName(`inputarea ${bn}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:rt}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${rt*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(Te)),this.textArea.setAttribute("aria-required",Te.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Te.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",_.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",Te.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,K.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const vt={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Kt=>this._context.viewModel.getLineMaxColumn(Kt),getValueInRange:(Kt,nn)=>this._context.viewModel.getValueInRange(Kt,nn),getValueLengthInRange:(Kt,nn)=>this._context.viewModel.getValueLengthInRange(Kt,nn),modifyPosition:(Kt,nn)=>this._context.viewModel.modifyPosition(Kt,nn)},It={getDataToCopy:()=>{const Kt=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,i.ED),nn=this._context.viewModel.model.getEOL(),mn=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),xn=Array.isArray(Kt)?Kt:null,Pn=Array.isArray(Kt)?Kt.join(nn):Kt;let kn,ti=null;if(pt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Pn.length<65536){const ai=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);ai&&(kn=ai.html,ti=ai.mode)}return{isFromEmptySelection:mn,multicursorText:xn,text:Pn,html:kn,mode:ti}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const Kt=this._selections[0];if(i.dz&&Kt.isEmpty()){const mn=Kt.getStartPosition();let xn=this._getWordBeforePosition(mn);if(xn.length===0&&(xn=this._getCharacterBeforePosition(mn)),xn.length>0)return new tt.un(xn,xn.length,xn.length,F.e.fromPositions(mn),0)}const nn=500;if(i.dz&&!Kt.isEmpty()&&vt.getValueLengthInRange(Kt,0)<nn){const mn=vt.getValueInRange(Kt,0);return new tt.un(mn,0,mn.length,Kt,0)}if(u.G6&&!Kt.isEmpty()){const mn="vscode-placeholder";return new tt.un(mn,0,mn.length,null,void 0)}return tt.un.EMPTY}if(u.Dt){const Kt=this._selections[0];if(Kt.isEmpty()){const nn=Kt.getStartPosition(),[mn,xn]=this._getAndroidWordAtPosition(nn);if(mn.length>0)return new tt.un(mn,xn,xn,F.e.fromPositions(nn),0)}return tt.un.EMPTY}return tt.ee.fromEditorSelection(vt,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Kt,nn,mn)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Kt,nn,mn)},Wt=this._register(new pt.Tj(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(pt.Fz,It,Wt,i.OS,{isAndroid:u.Dt,isChrome:u.i7,isFirefox:u.vU,isSafari:u.G6})),this._register(this._textAreaInput.onKeyDown(Kt=>{this._viewController.emitKeyDown(Kt)})),this._register(this._textAreaInput.onKeyUp(Kt=>{this._viewController.emitKeyUp(Kt)})),this._register(this._textAreaInput.onPaste(Kt=>{let nn=!1,mn=null,xn=null;Kt.metadata&&(nn=this._emptySelectionClipboard&&!!Kt.metadata.isFromEmptySelection,mn=typeof Kt.metadata.multicursorText!="undefined"?Kt.metadata.multicursorText:null,xn=Kt.metadata.mode),this._viewController.paste(Kt.text,nn,mn,xn)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Kt=>{Kt.replacePrevCharCnt||Kt.replaceNextCharCnt||Kt.positionDelta?(tt.al&&console.log(` => compositionType: <<${Kt.text}>>, ${Kt.replacePrevCharCnt}, ${Kt.replaceNextCharCnt}, ${Kt.positionDelta}`),this._viewController.compositionType(Kt.text,Kt.replacePrevCharCnt,Kt.replaceNextCharCnt,Kt.positionDelta)):(tt.al&&console.log(` => type: <<${Kt.text}>>`),this._viewController.type(Kt.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Kt=>{this._viewController.setSelection(Kt)})),this._register(this._textAreaInput.onCompositionStart(Kt=>{const nn=this.textArea.domNode,mn=this._modelSelections[0],{distanceToModelLineStart:xn,widthOfHiddenTextBefore:Pn}=(()=>{const ti=nn.value.substring(0,Math.min(nn.selectionStart,nn.selectionEnd)),ai=ti.lastIndexOf(`
`),Mi=ti.substring(ai+1),Ei=Mi.lastIndexOf("	"),$i=Mi.length-Ei-1,Vi=mn.getStartPosition(),Qi=Math.min(Vi.column-1,$i),xi=Vi.column-1-Qi,Yi=Mi.substring(0,Mi.length-Qi),{tabSize:as}=this._context.viewModel.model.getOptions(),Xi=ts(this.textArea.domNode.ownerDocument,Yi,this._fontInfo,as);return{distanceToModelLineStart:xi,widthOfHiddenTextBefore:Xi}})(),{distanceToModelLineEnd:kn}=(()=>{const ti=nn.value.substring(Math.max(nn.selectionStart,nn.selectionEnd)),ai=ti.indexOf(`
`),Mi=ai===-1?ti:ti.substring(0,ai),Ei=Mi.indexOf("	"),$i=Ei===-1?Mi.length:Mi.length-Ei-1,Vi=mn.getEndPosition(),Qi=Math.min(this._context.viewModel.model.getLineMaxColumn(Vi.lineNumber)-Vi.column,$i);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Vi.lineNumber)-Vi.column-Qi}})();this._context.viewModel.revealRange("keyboard",!0,F.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Ki(this._context,mn.startLineNumber,xn,Pn,kn),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${bn} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Kt=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${bn}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(Yn.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(t){this._textAreaInput.writeNativeTextAreaContent(t)}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const l='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',T=this._context.viewModel.getLineContent(t.lineNumber),q=(0,In.u)(l);let re=!0,Te=t.column,Ve=!0,rt=t.column,vt=0;for(;vt<50&&(re||Ve);){if(re&&Te<=1&&(re=!1),re){const It=T.charCodeAt(Te-2);q.get(It)!==0?re=!1:Te--}if(Ve&&rt>T.length&&(Ve=!1),Ve){const It=T.charCodeAt(rt-1);q.get(It)!==0?Ve=!1:rt++}vt++}return[T.substring(Te-1,rt-1),t.column-Te]}_getWordBeforePosition(t){const l=this._context.viewModel.getLineContent(t.lineNumber),T=(0,In.u)(this._context.configuration.options.get(129));let q=t.column,re=0;for(;q>1;){const Te=l.charCodeAt(q-2);if(T.get(Te)!==0||re>50)return l.substring(q-1,t.column-1);re++,q--}return l.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const T=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!_t.ZG(T.charCodeAt(0)))return T}return""}_getAriaLabel(t){var l,T,q;if(t.get(2)===1){const Te=(l=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||l===void 0?void 0:l.getAriaLabel(),Ve=(T=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||T===void 0?void 0:T.getAriaLabel(),rt=(q=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||q===void 0?void 0:q.getAriaLabel(),vt=_.NC("accessibilityModeOff","The editor is not accessible at this time.");return Te?_.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",vt,Te):Ve?_.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",vt,Ve):rt?_.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",vt,rt):vt}return t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const l=t.get(3);this._accessibilitySupport===2&&l===A.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=l;const q=t.get(143).wrappingColumn;if(q!==-1&&this._accessibilitySupport!==1){const re=t.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(q*re.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=bi?0:1}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(143);this._setAccessibilityOptions(l),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=l.get(50),this._lineHeight=l.get(66),this._emptySelectionClipboard=l.get(37),this._copyWithSyntaxHighlighting=l.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:q}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${q*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(l)),this.textArea.setAttribute("aria-required",l.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(l.get(123))),(t.hasChanged(34)||t.hasChanged(90))&&this._ensureReadOnlyAttribute(),t.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}_ensureReadOnlyAttribute(){const t=this._context.configuration.options;!Yn.F.enabled||t.get(34)&&t.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(t){var l;this._primaryCursorPosition=new pe.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),(l=this._visibleTextArea)===null||l===void 0||l.prepareRender(t)}render(t){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var t;if(this._visibleTextArea){const q=this._visibleTextArea.visibleTextareaStart,re=this._visibleTextArea.visibleTextareaEnd,Te=this._visibleTextArea.startPosition,Ve=this._visibleTextArea.endPosition;if(Te&&Ve&&q&&re&&re.left>=this._scrollLeft&&q.left<=this._scrollLeft+this._contentWidth){const rt=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,vt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let It=this._visibleTextArea.widthOfHiddenLineTextBefore,Wt=this._contentLeft+q.left-this._scrollLeft,Kt=re.left-q.left+1;if(Wt<this._contentLeft){const ti=this._contentLeft-Wt;Wt+=ti,It+=ti,Kt-=ti}Kt>this._contentWidth&&(Kt=this._contentWidth);const nn=this._context.viewModel.getViewLineData(Te.lineNumber),mn=nn.tokens.findTokenIndexAtOffset(Te.column-1),xn=nn.tokens.findTokenIndexAtOffset(Ve.column-1),Pn=mn===xn,kn=this._visibleTextArea.definePresentation(Pn?nn.tokens.getPresentation(mn):null);this.textArea.domNode.scrollTop=vt*this._lineHeight,this.textArea.domNode.scrollLeft=It,this._doRender({lastRenderPosition:null,top:rt,left:Wt,width:Kt,height:this._lineHeight,useCover:!1,color:(Hn.RW.getColorMap()||[])[kn.foreground],italic:kn.italic,bold:kn.bold,underline:kn.underline,strikethrough:kn.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const l=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(l<this._contentLeft||l>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const T=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(T<0||T>this._contentHeight){this._renderAtTopLeft();return}if(i.dz||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:T,left:this._textAreaWrapping?this._contentLeft:l,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const q=(t=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&t!==void 0?t:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=q*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:T,left:this._textAreaWrapping?this._contentLeft:l,width:this._textAreaWidth,height:bi?0:1,useCover:!1})}_newlinecount(t){let l=0,T=-1;do{if(T=t.indexOf(`
`,T+1),T===-1)break;l++}while(!0);return l}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:bi?0:1,useCover:!0})}_doRender(t){this._lastRenderPosition=t.lastRenderPosition;const l=this.textArea,T=this.textAreaCover;(0,nt.N)(l,this._fontInfo),l.setTop(t.top),l.setLeft(t.left),l.setWidth(t.width),l.setHeight(t.height),l.setColor(t.color?si.Il.Format.CSS.formatHex(t.color):""),l.setFontStyle(t.italic?"italic":""),t.bold&&l.setFontWeight("bold"),l.setTextDecoration(`${t.underline?" underline":""}${t.strikethrough?" line-through":""}`),T.setTop(t.useCover?t.top:0),T.setLeft(t.useCover?t.left:0),T.setWidth(t.useCover?t.width:0),T.setHeight(t.useCover?t.height:0);const q=this._context.configuration.options;q.get(57)?T.setClassName("monaco-editor-background textAreaCover "+un.OUTER_CLASS_NAME):q.get(67).renderType!==0?T.setClassName("monaco-editor-background textAreaCover "+yt.CLASS_NAME):T.setClassName("monaco-editor-background textAreaCover")}};Fi=Wi([Si(3,mi.d),Si(4,_i.TG)],Fi);function ts(Gt,t,l,T){if(t.length===0)return 0;const q=Gt.createElement("div");q.style.position="absolute",q.style.top="-50000px",q.style.width="50000px";const re=Gt.createElement("span");(0,nt.N)(re,l),re.style.whiteSpace="pre",re.style.tabSize=`${T*l.spaceWidth}px`,re.append(t),q.appendChild(re),Gt.body.appendChild(q);const Te=re.offsetWidth;return Gt.body.removeChild(q),Te}var wi=e(42549);class ns{constructor(t,l,T,q){this.configuration=t,this.viewModel=l,this.userInputEvents=T,this.commandDelegate=q}paste(t,l,T,q){this.commandDelegate.paste(t,l,T,q)}type(t){this.commandDelegate.type(t)}compositionType(t,l,T,q){this.commandDelegate.compositionType(t,l,T,q)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(t){wi.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})}_validateViewColumn(t){const l=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<l?new pe.L(t.lineNumber,l):t}_hasMulticursorModifier(t){switch(this.configuration.options.get(77)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}}_hasNonMulticursorModifier(t){switch(this.configuration.options.get(77)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}}dispatchMouse(t){const l=this.configuration.options,T=i.IJ&&l.get(106),q=l.get(22);t.middleButton&&!T?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position,t.revealType):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount>=4?this._selectAll():t.mouseDownCount===3?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position,t.revealType):this._lastCursorLineSelect(t.position,t.revealType):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount===2?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position,t.revealType):t.inSelectionMode?this._wordSelectDrag(t.position,t.revealType):this._wordSelect(t.position,t.revealType)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position,t.revealType):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey?this._columnSelect(t.position,t.mouseColumn,!0):q?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position,t.revealType):this.moveTo(t.position,t.revealType)}_usualArgs(t,l){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,revealType:l}}moveTo(t,l){wi.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_moveToSelect(t,l){wi.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_columnSelect(t,l,T){t=this._validateViewColumn(t),wi.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:l,doColumnSelect:T})}_createCursor(t,l){t=this._validateViewColumn(t),wi.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:l})}_lastCursorMoveToSelect(t,l){wi.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_wordSelect(t,l){wi.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_wordSelectDrag(t,l){wi.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lastCursorWordSelect(t,l){wi.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lineSelect(t,l){wi.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lineSelectDrag(t,l){wi.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lastCursorLineSelect(t,l){wi.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lastCursorLineSelectDrag(t,l){wi.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_selectAll(){wi.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)}emitKeyDown(t){this.userInputEvents.emitKeyDown(t)}emitKeyUp(t){this.userInputEvents.emitKeyUp(t)}emitContextMenu(t){this.userInputEvents.emitContextMenu(t)}emitMouseMove(t){this.userInputEvents.emitMouseMove(t)}emitMouseLeave(t){this.userInputEvents.emitMouseLeave(t)}emitMouseUp(t){this.userInputEvents.emitMouseUp(t)}emitMouseDown(t){this.userInputEvents.emitMouseDown(t)}emitMouseDrag(t){this.userInputEvents.emitMouseDrag(t)}emitMouseDrop(t){this.userInputEvents.emitMouseDrop(t)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(t){this.userInputEvents.emitMouseWheel(t)}}class wn{constructor(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}emitKeyDown(t){var l;(l=this.onKeyDown)===null||l===void 0||l.call(this,t)}emitKeyUp(t){var l;(l=this.onKeyUp)===null||l===void 0||l.call(this,t)}emitContextMenu(t){var l;(l=this.onContextMenu)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseMove(t){var l;(l=this.onMouseMove)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseLeave(t){var l;(l=this.onMouseLeave)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDown(t){var l;(l=this.onMouseDown)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseUp(t){var l;(l=this.onMouseUp)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrag(t){var l;(l=this.onMouseDrag)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrop(t){var l;(l=this.onMouseDrop)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDropCanceled(){var t;(t=this.onMouseDropCanceled)===null||t===void 0||t.call(this)}emitMouseWheel(t){var l;(l=this.onMouseWheel)===null||l===void 0||l.call(this,t)}_convertViewToModelMouseEvent(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t}_convertViewToModelMouseTarget(t){return wn.convertViewToModelMouseTarget(t,this._coordinatesConverter)}static convertViewToModelMouseTarget(t,l){const T=Xn({},t);return T.position&&(T.position=l.convertViewPositionToModelPosition(T.position)),T.range&&(T.range=l.convertViewRangeToModelRange(T.range)),(T.type===5||T.type===8)&&(T.detail=this.convertViewToModelViewZoneData(T.detail,l)),T}static convertViewToModelViewZoneData(t,l){return{viewZoneId:t.viewZoneId,positionBefore:t.positionBefore?l.convertViewPositionToModelPosition(t.positionBefore):t.positionBefore,positionAfter:t.positionAfter?l.convertViewPositionToModelPosition(t.positionAfter):t.positionAfter,position:l.convertViewPositionToModelPosition(t.position),afterLineNumber:l.convertViewPositionToModelPosition(new pe.L(t.afterLineNumber,1)).lineNumber}}}var qe=e(77514),Dt=e(50072);class Qt{constructor(t){this._createLine=t,this._set(1,[])}flush(){this._set(1,[])}_set(t,l){this._lines=l,this._rendLineNumberStart=t}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(t){const l=t-this._rendLineNumberStart;if(l<0||l>=this._lines.length)throw new M.he("Illegal value for lineNumber");return this._lines[l]}onLinesDeleted(t,l){if(this.getCount()===0)return null;const T=this.getStartLineNumber(),q=this.getEndLineNumber();if(l<T){const rt=l-t+1;return this._rendLineNumberStart-=rt,null}if(t>q)return null;let re=0,Te=0;for(let rt=T;rt<=q;rt++){const vt=rt-this._rendLineNumberStart;t<=rt&&rt<=l&&(Te===0?(re=vt,Te=1):Te++)}if(t<T){let rt=0;l<T?rt=l-t+1:rt=T-t,this._rendLineNumberStart-=rt}return this._lines.splice(re,Te)}onLinesChanged(t,l){const T=t+l-1;if(this.getCount()===0)return!1;const q=this.getStartLineNumber(),re=this.getEndLineNumber();let Te=!1;for(let Ve=t;Ve<=T;Ve++)Ve>=q&&Ve<=re&&(this._lines[Ve-this._rendLineNumberStart].onContentChanged(),Te=!0);return Te}onLinesInserted(t,l){if(this.getCount()===0)return null;const T=l-t+1,q=this.getStartLineNumber(),re=this.getEndLineNumber();if(t<=q)return this._rendLineNumberStart+=T,null;if(t>re)return null;if(T+t>re)return this._lines.splice(t-this._rendLineNumberStart,re-t+1);const Te=[];for(let Wt=0;Wt<T;Wt++)Te[Wt]=this._createLine();const Ve=t-this._rendLineNumberStart,rt=this._lines.slice(0,Ve),vt=this._lines.slice(Ve,this._lines.length-T),It=this._lines.slice(this._lines.length-T,this._lines.length);return this._lines=rt.concat(Te).concat(vt),It}onTokensChanged(t){if(this.getCount()===0)return!1;const l=this.getStartLineNumber(),T=this.getEndLineNumber();let q=!1;for(let re=0,Te=t.length;re<Te;re++){const Ve=t[re];if(Ve.toLineNumber<l||Ve.fromLineNumber>T)continue;const rt=Math.max(l,Ve.fromLineNumber),vt=Math.min(T,Ve.toLineNumber);for(let It=rt;It<=vt;It++){const Wt=It-this._rendLineNumberStart;this._lines[Wt].onTokensChanged(),q=!0}}return q}}class on{constructor(t){this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new Qt(()=>this._host.createVisibleLine())}_createDomNode(){const t=(0,K.X)(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t}onConfigurationChanged(t){return!!t.hasChanged(143)}onFlushed(t){return this._linesCollection.flush(),!0}onLinesChanged(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){const l=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(l)for(let T=0,q=l.length;T<q;T++){const re=l[T].getDomNode();re&&this.domNode.domNode.removeChild(re)}return!0}onLinesInserted(t){const l=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(l)for(let T=0,q=l.length;T<q;T++){const re=l[T].getDomNode();re&&this.domNode.domNode.removeChild(re)}return!0}onScrollChanged(t){return t.scrollTopChanged}onTokensChanged(t){return this._linesCollection.onTokensChanged(t.ranges)}onZonesChanged(t){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(t){return this._linesCollection.getLine(t)}renderLines(t){const l=this._linesCollection._get(),T=new Cn(this.domNode.domNode,this._host,t),q={rendLineNumberStart:l.rendLineNumberStart,lines:l.lines,linesLength:l.lines.length},re=T.render(q,t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(re.rendLineNumberStart,re.lines)}}class Cn{constructor(t,l,T){this.domNode=t,this.host=l,this.viewportData=T}render(t,l,T,q){const re={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(re.rendLineNumberStart+re.linesLength-1<l||T<re.rendLineNumberStart){re.rendLineNumberStart=l,re.linesLength=T-l+1,re.lines=[];for(let Te=l;Te<=T;Te++)re.lines[Te-l]=this.host.createVisibleLine();return this._finishRendering(re,!0,q),re}if(this._renderUntouchedLines(re,Math.max(l-re.rendLineNumberStart,0),Math.min(T-re.rendLineNumberStart,re.linesLength-1),q,l),re.rendLineNumberStart>l){const Te=l,Ve=Math.min(T,re.rendLineNumberStart-1);Te<=Ve&&(this._insertLinesBefore(re,Te,Ve,q,l),re.linesLength+=Ve-Te+1)}else if(re.rendLineNumberStart<l){const Te=Math.min(re.linesLength,l-re.rendLineNumberStart);Te>0&&(this._removeLinesBefore(re,Te),re.linesLength-=Te)}if(re.rendLineNumberStart=l,re.rendLineNumberStart+re.linesLength-1<T){const Te=re.rendLineNumberStart+re.linesLength,Ve=T;Te<=Ve&&(this._insertLinesAfter(re,Te,Ve,q,l),re.linesLength+=Ve-Te+1)}else if(re.rendLineNumberStart+re.linesLength-1>T){const Te=Math.max(0,T-re.rendLineNumberStart+1),rt=re.linesLength-1-Te+1;rt>0&&(this._removeLinesAfter(re,rt),re.linesLength-=rt)}return this._finishRendering(re,!1,q),re}_renderUntouchedLines(t,l,T,q,re){const Te=t.rendLineNumberStart,Ve=t.lines;for(let rt=l;rt<=T;rt++){const vt=Te+rt;Ve[rt].layoutLine(vt,q[vt-re])}}_insertLinesBefore(t,l,T,q,re){const Te=[];let Ve=0;for(let rt=l;rt<=T;rt++)Te[Ve++]=this.host.createVisibleLine();t.lines=Te.concat(t.lines)}_removeLinesBefore(t,l){for(let T=0;T<l;T++){const q=t.lines[T].getDomNode();q&&this.domNode.removeChild(q)}t.lines.splice(0,l)}_insertLinesAfter(t,l,T,q,re){const Te=[];let Ve=0;for(let rt=l;rt<=T;rt++)Te[Ve++]=this.host.createVisibleLine();t.lines=t.lines.concat(Te)}_removeLinesAfter(t,l){const T=t.linesLength-l;for(let q=0;q<l;q++){const re=t.lines[T+q].getDomNode();re&&this.domNode.removeChild(re)}t.lines.splice(T,l)}_finishRenderingNewLines(t,l,T,q){Cn._ttPolicy&&(T=Cn._ttPolicy.createHTML(T));const re=this.domNode.lastChild;l||!re?this.domNode.innerHTML=T:re.insertAdjacentHTML("afterend",T);let Te=this.domNode.lastChild;for(let Ve=t.linesLength-1;Ve>=0;Ve--){const rt=t.lines[Ve];q[Ve]&&(rt.setDomNode(Te),Te=Te.previousSibling)}}_finishRenderingInvalidLines(t,l,T){const q=document.createElement("div");Cn._ttPolicy&&(l=Cn._ttPolicy.createHTML(l)),q.innerHTML=l;for(let re=0;re<t.linesLength;re++){const Te=t.lines[re];if(T[re]){const Ve=q.firstChild,rt=Te.getDomNode();rt.parentNode.replaceChild(Ve,rt),Te.setDomNode(Ve)}}}_finishRendering(t,l,T){const q=Cn._sb,re=t.linesLength,Te=t.lines,Ve=t.rendLineNumberStart,rt=[];{q.reset();let vt=!1;for(let It=0;It<re;It++){const Wt=Te[It];rt[It]=!1,!(Wt.getDomNode()||!Wt.renderLine(It+Ve,T[It],this.viewportData,q))&&(rt[It]=!0,vt=!0)}vt&&this._finishRenderingNewLines(t,l,q.build(),rt)}{q.reset();let vt=!1;const It=[];for(let Wt=0;Wt<re;Wt++){const Kt=Te[Wt];It[Wt]=!1,!(rt[Wt]||!Kt.renderLine(Wt+Ve,T[Wt],this.viewportData,q))&&(It[Wt]=!0,vt=!0)}vt&&this._finishRenderingInvalidLines(t,q.build(),It)}}}Cn._ttPolicy=(0,qe.Z)("editorViewLayer",{createHTML:Gt=>Gt}),Cn._sb=new Dt.HT(1e5);class Bn extends le{constructor(t){super(t),this._visibleLines=new on(this),this.domNode=this._visibleLines.domNode;const T=this._context.configuration.options.get(50);(0,nt.N)(this.domNode,T),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,l=this._dynamicOverlays.length;t<l;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,l=this._dynamicOverlays.length;t<l;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new jn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const l=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();for(let Te=l;Te<=T;Te++)this._visibleLines.getVisibleLine(Te).onConfigurationChanged(t);const re=this._context.configuration.options.get(50);return(0,nt.N)(this.domNode,re),!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const l=this._dynamicOverlays.filter(T=>T.shouldRender());for(let T=0,q=l.length;T<q;T++){const re=l[T];re.prepareRender(t),re.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}class jn{constructor(t,l){this._configuration=t,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=l,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,K.X)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(66)}renderLine(t,l,T,q){let re="";for(let Te=0,Ve=this._dynamicOverlays.length;Te<Ve;Te++){const rt=this._dynamicOverlays[Te];re+=rt.render(T.startLineNumber,t)}return this._renderedContent===re?!1:(this._renderedContent=re,q.appendString('<div style="position:absolute;top:'),q.appendString(String(l)),q.appendString("px;width:100%;height:"),q.appendString(String(this._lineHeight)),q.appendString('px;">'),q.appendString(re),q.appendString("</div>"),!0)}layoutLine(t,l){this._domNode&&(this._domNode.setTop(l),this._domNode.setHeight(this._lineHeight))}}class kt extends Bn{constructor(t){super(t);const T=this._context.configuration.options.get(143);this._contentWidth=T.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const T=this._context.configuration.options.get(143);return this._contentWidth=T.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}class wt extends Bn{constructor(t){super(t);const l=this._context.configuration.options,T=l.get(143);this._contentLeft=T.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,nt.N)(this.domNode,l.get(50))}onConfigurationChanged(t){const l=this._context.configuration.options;(0,nt.N)(this.domNode,l.get(50));const T=l.get(143);return this._contentLeft=T.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const l=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(l),this.domNode.setWidth(this._contentLeft)}}class sn extends le{constructor(t,l){super(t),this._viewDomNode=l,this._widgets={},this.domNode=(0,K.X)(document.createElement("div")),ge.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,K.X)(document.createElement("div")),ge.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const l=Object.keys(this._widgets);for(const T of l)this._widgets[T].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(t){return this._updateAnchorsViewPositions(),!0}onLinesInserted(t){return this._updateAnchorsViewPositions(),!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}_updateAnchorsViewPositions(){const t=Object.keys(this._widgets);for(const l of t)this._widgets[l].updateAnchorViewPosition()}addWidget(t){const l=new en(this._context,this._viewDomNode,t);this._widgets[l.id]=l,l.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(l.domNode):this.domNode.appendChild(l.domNode),this.setShouldRender()}setWidgetPosition(t,l,T,q,re){this._widgets[t.getId()].setPosition(l,T,q,re),this.setShouldRender()}removeWidget(t){const l=t.getId();if(this._widgets.hasOwnProperty(l)){const T=this._widgets[l];delete this._widgets[l];const q=T.domNode.domNode;q.parentNode.removeChild(q),q.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1}onBeforeRender(t){const l=Object.keys(this._widgets);for(const T of l)this._widgets[T].onBeforeRender(t)}prepareRender(t){const l=Object.keys(this._widgets);for(const T of l)this._widgets[T].prepareRender(t)}render(t){const l=Object.keys(this._widgets);for(const T of l)this._widgets[T].render(t)}}class en{constructor(t,l,T){this._primaryAnchor=new Un(null,null),this._secondaryAnchor=new Un(null,null),this._context=t,this._viewDomNode=l,this._actual=T,this.domNode=(0,K.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const q=this._context.configuration.options,re=q.get(143);this._fixedOverflowWidgets=q.get(42),this._contentWidth=re.contentWidth,this._contentLeft=re.contentLeft,this._lineHeight=q.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const l=this._context.configuration.options;if(this._lineHeight=l.get(66),t.hasChanged(143)){const T=l.get(143);this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(t,l,T){this._affinity=t,this._primaryAnchor=q(l,this._context.viewModel,this._affinity),this._secondaryAnchor=q(T,this._context.viewModel,this._affinity);function q(re,Te,Ve){if(!re)return new Un(null,null);const rt=Te.model.validatePosition(re);if(Te.coordinatesConverter.modelPositionIsVisible(rt)){const vt=Te.coordinatesConverter.convertModelPositionToViewPosition(rt,Ve!=null?Ve:void 0);return new Un(re,vt)}return new Un(re,null)}}_getMaxWidth(){const t=this.domNode.domNode.ownerDocument,l=t.defaultView;return this.allowEditorOverflow?(l==null?void 0:l.innerWidth)||t.documentElement.offsetWidth||t.body.offsetWidth:this._contentWidth}setPosition(t,l,T,q){this._setPosition(q,t,l),this._preference=T,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,l,T,q){const re=t.top,Te=re,Ve=t.top+t.height,rt=q.viewportHeight-Ve,vt=re-T,It=Te>=T,Wt=Ve,Kt=rt>=T;let nn=t.left;return nn+l>q.scrollLeft+q.viewportWidth&&(nn=q.scrollLeft+q.viewportWidth-l),nn<q.scrollLeft&&(nn=q.scrollLeft),{fitsAbove:It,aboveTop:vt,fitsBelow:Kt,belowTop:Wt,left:nn}}_layoutHorizontalSegmentInPage(t,l,T,q){var re;const rt=Math.max(15,l.left-q),vt=Math.min(l.left+l.width+q,t.width-15),Wt=this._viewDomNode.domNode.ownerDocument.defaultView;let Kt=l.left+T-((re=Wt==null?void 0:Wt.scrollX)!==null&&re!==void 0?re:0);if(Kt+q>vt){const nn=Kt-(vt-q);Kt-=nn,T-=nn}if(Kt<rt){const nn=Kt-rt;Kt-=nn,T-=nn}return[T,Kt]}_layoutBoxInPage(t,l,T,q){var re,Te;const Ve=t.top-T,rt=t.top+t.height,vt=I.i(this._viewDomNode.domNode),It=this._viewDomNode.domNode.ownerDocument,Wt=It.defaultView,Kt=vt.top+Ve-((re=Wt==null?void 0:Wt.scrollY)!==null&&re!==void 0?re:0),nn=vt.top+rt-((Te=Wt==null?void 0:Wt.scrollY)!==null&&Te!==void 0?Te:0),mn=I.D6(It.body),[xn,Pn]=this._layoutHorizontalSegmentInPage(mn,vt,t.left-q.scrollLeft+this._contentLeft,l),kn=22,ti=22,ai=Kt>=kn,Mi=nn+T<=mn.height-ti;return this._fixedOverflowWidgets?{fitsAbove:ai,aboveTop:Math.max(Kt,kn),fitsBelow:Mi,belowTop:nn,left:Pn}:{fitsAbove:ai,aboveTop:Ve,fitsBelow:Mi,belowTop:rt,left:xn}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new ri(t.top,t.left+this._contentLeft)}_getAnchorsCoordinates(t){var l,T;const q=Ve(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),re=((l=this._secondaryAnchor.viewPosition)===null||l===void 0?void 0:l.lineNumber)===((T=this._primaryAnchor.viewPosition)===null||T===void 0?void 0:T.lineNumber)?this._secondaryAnchor.viewPosition:null,Te=Ve(re,this._affinity,this._lineHeight);return{primary:q,secondary:Te};function Ve(rt,vt,It){if(!rt)return null;const Wt=t.visibleRangeForPosition(rt);if(!Wt)return null;const Kt=rt.column===1&&vt===3?0:Wt.left,nn=t.getVerticalOffsetForLineNumber(rt.lineNumber)-t.scrollTop;return new Jn(nn,Kt,It)}}_reduceAnchorCoordinates(t,l,T){if(!l)return t;const q=this._context.configuration.options.get(50);let re=l.left;return re<t.left?re=Math.max(re,t.left-T+q.typicalFullwidthCharacterWidth):re=Math.min(re,t.left+T-q.typicalFullwidthCharacterWidth),new Jn(t.top,re,t.height)}_prepareRenderWidget(t){if(!this._preference||this._preference.length===0)return null;const{primary:l,secondary:T}=this._getAnchorsCoordinates(t);if(!l)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Te=null;if(typeof this._actual.beforeRender=="function"&&(Te=Di(this._actual.beforeRender,this._actual)),Te)this._cachedDomNodeOffsetWidth=Te.width,this._cachedDomNodeOffsetHeight=Te.height;else{const rt=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(rt.width),this._cachedDomNodeOffsetHeight=Math.round(rt.height)}}const q=this._reduceAnchorCoordinates(l,T,this._cachedDomNodeOffsetWidth);let re;this.allowEditorOverflow?re=this._layoutBoxInPage(q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):re=this._layoutBoxInViewport(q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let Te=1;Te<=2;Te++)for(const Ve of this._preference)if(Ve===1){if(!re)return null;if(Te===2||re.fitsAbove)return{coordinate:new ri(re.aboveTop,re.left),position:1}}else if(Ve===2){if(!re)return null;if(Te===2||re.fitsBelow)return{coordinate:new ri(re.belowTop,re.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new ri(q.top,q.left)),position:0}:{coordinate:new ri(q.top,q.left),position:0};return null}onBeforeRender(t){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<t.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Di(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Di(this._actual.afterRender,this._actual,this._renderData.position)}}class Un{constructor(t,l){this.modelPosition=t,this.viewPosition=l}}class ri{constructor(t,l){this.top=t,this.left=l,this._coordinateBrand=void 0}}class Jn{constructor(t,l,T){this.top=t,this.left=l,this.height=T,this._anchorCoordinateBrand=void 0}}function Di(Gt,t,...l){try{return Gt.call(t,...l)}catch(T){return null}}var Ai=e(92321);class Ri extends xt{constructor(t){super(),this._context=t;const l=this._context.configuration.options,T=l.get(143);this._lineHeight=l.get(66),this._renderLineHighlight=l.get(95),this._renderLineHighlightOnlyWhenFocus=l.get(96),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new j.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const l=this._selections.map(q=>q.positionLineNumber);l.sort((q,re)=>q-re),d.fS(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,t=!0);const T=this._selections.every(q=>q.isEmpty());return this._selectionIsEmpty!==T&&(this._selectionIsEmpty=T,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(143);return this._lineHeight=l.get(66),this._renderLineHighlight=l.get(95),this._renderLineHighlightOnlyWhenFocus=l.get(96),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const l=this._renderOne(t),T=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber,re=this._cursorLineNumbers.length;let Te=0;const Ve=[];for(let rt=T;rt<=q;rt++){const vt=rt-T;for(;Te<re&&this._cursorLineNumbers[Te]<rt;)Te++;Te<re&&this._cursorLineNumbers[Te]===rt?Ve[vt]=l:Ve[vt]=""}this._renderData=Ve}render(t,l){if(!this._renderData)return"";const T=l-t;return T>=this._renderData.length?"":this._renderData[T]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Tn extends Ri{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class yn extends Ri{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Lt.Ic)((Gt,t)=>{const l=Gt.getColor(Be.Kh);if(l&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||Gt.defines(Be.Mm)){const T=Gt.getColor(Be.Mm);T&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${T}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${T}; }`),(0,Ai.c3)(Gt.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var Nn=e(7031);class Bt extends xt{constructor(t){super(),this._context=t;const l=this._context.configuration.options;this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}prepareRender(t){const l=t.getDecorationsInViewport();let T=[],q=0;for(let rt=0,vt=l.length;rt<vt;rt++){const It=l[rt];It.options.className&&(T[q++]=It)}T=T.sort((rt,vt)=>{if(rt.options.zIndex<vt.options.zIndex)return-1;if(rt.options.zIndex>vt.options.zIndex)return 1;const It=rt.options.className,Wt=vt.options.className;return It<Wt?-1:It>Wt?1:F.e.compareRangesUsingStarts(rt.range,vt.range)});const re=t.visibleRange.startLineNumber,Te=t.visibleRange.endLineNumber,Ve=[];for(let rt=re;rt<=Te;rt++){const vt=rt-re;Ve[vt]=""}this._renderWholeLineDecorations(t,T,Ve),this._renderNormalDecorations(t,T,Ve),this._renderResult=Ve}_renderWholeLineDecorations(t,l,T){const q=String(this._lineHeight),re=t.visibleRange.startLineNumber,Te=t.visibleRange.endLineNumber;for(let Ve=0,rt=l.length;Ve<rt;Ve++){const vt=l[Ve];if(!vt.options.isWholeLine)continue;const It='<div class="cdr '+vt.options.className+'" style="left:0;width:100%;height:'+q+'px;"></div>',Wt=Math.max(vt.range.startLineNumber,re),Kt=Math.min(vt.range.endLineNumber,Te);for(let nn=Wt;nn<=Kt;nn++){const mn=nn-re;T[mn]+=It}}}_renderNormalDecorations(t,l,T){var q;const re=String(this._lineHeight),Te=t.visibleRange.startLineNumber;let Ve=null,rt=!1,vt=null,It=!1;for(let Wt=0,Kt=l.length;Wt<Kt;Wt++){const nn=l[Wt];if(nn.options.isWholeLine)continue;const mn=nn.options.className,xn=!!nn.options.showIfCollapsed;let Pn=nn.range;if(xn&&Pn.endColumn===1&&Pn.endLineNumber!==Pn.startLineNumber&&(Pn=new F.e(Pn.startLineNumber,Pn.startColumn,Pn.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Pn.endLineNumber-1))),Ve===mn&&rt===xn&&F.e.areIntersectingOrTouching(vt,Pn)){vt=F.e.plusRange(vt,Pn);continue}Ve!==null&&this._renderNormalDecoration(t,vt,Ve,It,rt,re,Te,T),Ve=mn,rt=xn,vt=Pn,It=(q=nn.options.shouldFillLineOnLineBreak)!==null&&q!==void 0?q:!1}Ve!==null&&this._renderNormalDecoration(t,vt,Ve,It,rt,re,Te,T)}_renderNormalDecoration(t,l,T,q,re,Te,Ve,rt){const vt=t.linesVisibleRangesForRange(l,T==="findMatch");if(vt)for(let It=0,Wt=vt.length;It<Wt;It++){const Kt=vt[It];if(Kt.outsideRenderedLine)continue;const nn=Kt.lineNumber-Ve;if(re&&Kt.ranges.length===1){const mn=Kt.ranges[0];if(mn.width<this._typicalHalfwidthCharacterWidth){const xn=Math.round(mn.left+mn.width/2),Pn=Math.max(0,Math.round(xn-this._typicalHalfwidthCharacterWidth/2));Kt.ranges[0]=new Nn.yu(Pn,this._typicalHalfwidthCharacterWidth)}}for(let mn=0,xn=Kt.ranges.length;mn<xn;mn++){const Pn=q&&Kt.continuesOnNextLine&&xn===1,kn=Kt.ranges[mn],ti='<div class="cdr '+T+'" style="left:'+String(kn.left)+(Pn?"px;width:100%;height:":"px;width:"+String(kn.width)+"px;height:")+Te+'px;"></div>';rt[nn]+=ti}}}render(t,l){if(!this._renderResult)return"";const T=l-t;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}class Yt extends le{constructor(t,l,T,q){super(t);const re=this._context.configuration.options,Te=re.get(102),Ve=re.get(74),rt=re.get(40),vt=re.get(105),It={listenOnDomNode:T.domNode,className:"editor-scrollable "+(0,Lt.m6)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:Te.vertical,horizontal:Te.horizontal,verticalHasArrows:Te.verticalHasArrows,horizontalHasArrows:Te.horizontalHasArrows,verticalScrollbarSize:Te.verticalScrollbarSize,verticalSliderSize:Te.verticalSliderSize,horizontalScrollbarSize:Te.horizontalScrollbarSize,horizontalSliderSize:Te.horizontalSliderSize,handleMouseWheel:Te.handleMouseWheel,alwaysConsumeMouseWheel:Te.alwaysConsumeMouseWheel,arrowSize:Te.arrowSize,mouseWheelScrollSensitivity:Ve,fastScrollSensitivity:rt,scrollPredominantAxis:vt,scrollByPage:Te.scrollByPage};this.scrollbar=this._register(new xe.$Z(l.domNode,It,this._context.viewLayout.getScrollable())),ge.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,K.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Wt=(Kt,nn,mn)=>{const xn={};if(nn){const Pn=Kt.scrollTop;Pn&&(xn.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Pn,Kt.scrollTop=0)}if(mn){const Pn=Kt.scrollLeft;Pn&&(xn.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Pn,Kt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(xn,1)};this._register(I.nm(T.domNode,"scroll",Kt=>Wt(T.domNode,!0,!0))),this._register(I.nm(l.domNode,"scroll",Kt=>Wt(l.domNode,!0,!1))),this._register(I.nm(q.domNode,"scroll",Kt=>Wt(q.domNode,!0,!1))),this._register(I.nm(this.scrollbarDomNode.domNode,"scroll",Kt=>Wt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const t=this._context.configuration.options,l=t.get(143);this.scrollbarDomNode.setLeft(l.contentLeft),t.get(72).side==="right"?this.scrollbarDomNode.setWidth(l.contentWidth+l.minimap.minimapWidth):this.scrollbarDomNode.setWidth(l.contentWidth),this.scrollbarDomNode.setHeight(l.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(t){this.scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this.scrollbar.delegateScrollFromMouseWheelEvent(t)}onConfigurationChanged(t){if(t.hasChanged(102)||t.hasChanged(74)||t.hasChanged(40)){const l=this._context.configuration.options,T=l.get(102),q=l.get(74),re=l.get(40),Te=l.get(105),Ve={vertical:T.vertical,horizontal:T.horizontal,verticalScrollbarSize:T.verticalScrollbarSize,horizontalScrollbarSize:T.horizontalScrollbarSize,scrollByPage:T.scrollByPage,handleMouseWheel:T.handleMouseWheel,mouseWheelScrollSensitivity:q,fastScrollSensitivity:re,scrollPredominantAxis:Te};this.scrollbar.updateOptions(Ve)}return t.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(t){return!0}onThemeChanged(t){return this.scrollbar.updateClassName("editor-scrollable "+(0,Lt.m6)(this._context.theme.type)),!0}prepareRender(t){}render(t){this.scrollbar.renderNow()}}var fn=e(98401),Ht=e(1516),et=e(65094);class ee extends xt{constructor(t){super(),this._context=t,this._primaryPosition=null;const l=this._context.configuration.options,T=l.get(144),q=l.get(50);this._lineHeight=l.get(66),this._spaceWidth=q.spaceWidth,this._maxIndentLeft=T.wrappingColumn===-1?-1:T.wrappingColumn*q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(144),q=l.get(50);return this._lineHeight=l.get(66),this._spaceWidth=q.spaceWidth,this._maxIndentLeft=T.wrappingColumn===-1?-1:T.wrappingColumn*q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(16),!0}onCursorStateChanged(t){var l;const q=t.selections[0].getPosition();return!((l=this._primaryPosition)===null||l===void 0)&&l.equals(q)?!1:(this._primaryPosition=q,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var l,T,q,re;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Te=t.visibleRange.startLineNumber,Ve=t.visibleRange.endLineNumber,rt=t.scrollWidth,vt=this._lineHeight,It=this._primaryPosition,Wt=this.getGuidesByLine(Te,Math.min(Ve+1,this._context.viewModel.getLineCount()),It),Kt=[];for(let nn=Te;nn<=Ve;nn++){const mn=nn-Te,xn=Wt[mn];let Pn="";const kn=(T=(l=t.visibleRangeForPosition(new pe.L(nn,1)))===null||l===void 0?void 0:l.left)!==null&&T!==void 0?T:0;for(const ti of xn){const ai=ti.column===-1?kn+(ti.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new pe.L(nn,ti.column)).left;if(ai>rt||this._maxIndentLeft>0&&ai>this._maxIndentLeft)break;const Mi=ti.horizontalLine?ti.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Ei=ti.horizontalLine?((re=(q=t.visibleRangeForPosition(new pe.L(nn,ti.horizontalLine.endColumn)))===null||q===void 0?void 0:q.left)!==null&&re!==void 0?re:ai+this._spaceWidth)-ai:this._spaceWidth;Pn+=`<div class="core-guide ${ti.className} ${Mi}" style="left:${ai}px;height:${vt}px;width:${Ei}px"></div>`}Kt[mn]=Pn}this._renderResult=Kt}getGuidesByLine(t,l,T){const q=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,l,T,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?et.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?et.s6.EnabledForActive:et.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,re=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,l):null;let Te=0,Ve=0,rt=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&T){const Wt=this._context.viewModel.getActiveIndentGuide(T.lineNumber,t,l);Te=Wt.startLineNumber,Ve=Wt.endLineNumber,rt=Wt.indent}const{indentSize:vt}=this._context.viewModel.model.getOptions(),It=[];for(let Wt=t;Wt<=l;Wt++){const Kt=new Array;It.push(Kt);const nn=q?q[Wt-t]:[],mn=new d.H9(nn),xn=re?re[Wt-t]:0;for(let Pn=1;Pn<=xn;Pn++){const kn=(Pn-1)*vt+1,ti=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||nn.length===0)&&Te<=Wt&&Wt<=Ve&&Pn===rt;Kt.push(...mn.takeWhile(Mi=>Mi.visibleColumn<kn)||[]);const ai=mn.peek();(!ai||ai.visibleColumn!==kn||ai.horizontalLine)&&Kt.push(new et.UO(kn,-1,`core-guide-indent lvl-${(Pn-1)%30}`+(ti?" indent-active":""),null,-1,-1))}Kt.push(...mn.takeWhile(Pn=>!0)||[])}return It}render(t,l){if(!this._renderResult)return"";const T=l-t;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}function de(Gt){if(!(Gt&&Gt.isTransparent()))return Gt}(0,Lt.Ic)((Gt,t)=>{const l=[{bracketColor:Be.zJ,guideColor:Be.oV,guideColorActive:Be.Qb},{bracketColor:Be.Vs,guideColor:Be.m$,guideColorActive:Be.m3},{bracketColor:Be.CE,guideColor:Be.DS,guideColorActive:Be.To},{bracketColor:Be.UP,guideColor:Be.lS,guideColorActive:Be.L7},{bracketColor:Be.r0,guideColor:Be.Jn,guideColorActive:Be.HV},{bracketColor:Be.m1,guideColor:Be.YF,guideColorActive:Be.f9}],T=new Ht.W,q=[{indentColor:Be.gS,indentColorActive:Be.qe},{indentColor:Be.Tf,indentColorActive:Be.Xy},{indentColor:Be.H_,indentColorActive:Be.cK},{indentColor:Be.h1,indentColorActive:Be.N8},{indentColor:Be.vP,indentColorActive:Be.zd},{indentColor:Be.e9,indentColorActive:Be.ll}],re=l.map(Ve=>{var rt,vt;const It=Gt.getColor(Ve.bracketColor),Wt=Gt.getColor(Ve.guideColor),Kt=Gt.getColor(Ve.guideColorActive),nn=de((rt=de(Wt))!==null&&rt!==void 0?rt:It==null?void 0:It.transparent(.3)),mn=de((vt=de(Kt))!==null&&vt!==void 0?vt:It);if(!(!nn||!mn))return{guideColor:nn,guideColorActive:mn}}).filter(fn.$K),Te=q.map(Ve=>{const rt=Gt.getColor(Ve.indentColor),vt=Gt.getColor(Ve.indentColorActive),It=de(rt),Wt=de(vt);if(!(!It||!Wt))return{indentColor:It,indentColorActive:Wt}}).filter(fn.$K);if(re.length>0){for(let Ve=0;Ve<30;Ve++){const rt=re[Ve%re.length];t.addRule(`.monaco-editor .${T.getInlineClassNameOfLevel(Ve).replace(/ /g,".")} { --guide-color: ${rt.guideColor}; --guide-color-active: ${rt.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${T.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${T.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${T.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(Te.length>0){for(let Ve=0;Ve<30;Ve++){const rt=Te[Ve%Te.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${Ve} { --indent-color: ${rt.indentColor}; --indent-color-active: ${rt.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var oe=e(15393);class Ce{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const t=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(t,l){this._domNode=t,this.endNode=l,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Ee{constructor(){this._currentVisibleRange=new F.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class be{constructor(t,l,T,q,re,Te,Ve){this.minimalReveal=t,this.lineNumber=l,this.startColumn=T,this.endColumn=q,this.startScrollTop=re,this.stopScrollTop=Te,this.scrollType=Ve,this.type="range",this.minLineNumber=l,this.maxLineNumber=l}}class Ae{constructor(t,l,T,q,re){this.minimalReveal=t,this.selections=l,this.startScrollTop=T,this.stopScrollTop=q,this.scrollType=re,this.type="selections";let Te=l[0].startLineNumber,Ve=l[0].endLineNumber;for(let rt=1,vt=l.length;rt<vt;rt++){const It=l[rt];Te=Math.min(Te,It.startLineNumber),Ve=Math.max(Ve,It.endLineNumber)}this.minLineNumber=Te,this.maxLineNumber=Ve}}class He extends le{constructor(t,l){super(t),this._linesContent=l,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new on(this),this.domNode=this._visibleLines.domNode;const T=this._context.configuration,q=this._context.configuration.options,re=q.get(50),Te=q.get(144);this._lineHeight=q.get(66),this._typicalHalfwidthCharacterWidth=re.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Te.isViewportWrapping,this._revealHorizontalRightPadding=q.get(99),this._cursorSurroundingLines=q.get(29),this._cursorSurroundingLinesStyle=q.get(30),this._canUseLayerHinting=!q.get(32),this._viewLineOptions=new we.ob(T,this._context.theme.type),ge.write(this.domNode,7),this.domNode.setClassName(`view-lines ${bn}`),(0,nt.N)(this.domNode,re),this._maxLineWidth=0,this._asyncUpdateLineWidths=new oe.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new oe.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Ee,this._horizontalRevealRequest=null,this._stickyScrollEnabled=q.get(114).enabled,this._maxNumberStickyLines=q.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new we.Nt(this._viewLineOptions)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(144)&&(this._maxLineWidth=0);const l=this._context.configuration.options,T=l.get(50),q=l.get(144);return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=T.typicalHalfwidthCharacterWidth,this._isViewportWrapping=q.isViewportWrapping,this._revealHorizontalRightPadding=l.get(99),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._stickyScrollEnabled=l.get(114).enabled,this._maxNumberStickyLines=l.get(114).maxLineCount,(0,nt.N)(this.domNode,T),this._onOptionsMaybeChanged(),t.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const t=this._context.configuration,l=new we.ob(t,this._context.theme.type);if(!this._viewLineOptions.equals(l)){this._viewLineOptions=l;const T=this._visibleLines.getStartLineNumber(),q=this._visibleLines.getEndLineNumber();for(let re=T;re<=q;re++)this._visibleLines.getVisibleLine(re).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(t){const l=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();let q=!1;for(let re=l;re<=T;re++)q=this._visibleLines.getVisibleLine(re).onSelectionChanged()||q;return q}onDecorationsChanged(t){{const l=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();for(let q=l;q<=T;q++)this._visibleLines.getVisibleLine(q).onDecorationsChanged()}return!0}onFlushed(t){const l=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,l}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onRevealRangeRequest(t){const l=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.minimalReveal,t.range,t.selections,t.verticalType);if(l===-1)return!1;let T=this._context.viewLayout.validateScrollPosition({scrollTop:l});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?T={scrollTop:T.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new be(t.minimalReveal,t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),T.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new Ae(t.minimalReveal,t.selections,this._context.viewLayout.getCurrentScrollTop(),T.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;const re=Math.abs(this._context.viewLayout.getCurrentScrollTop()-T.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(T,re),!0}onScrollChanged(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){const l=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),T=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<l||t.scrollTop>T)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)}onThemeChanged(t){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(t,l){const T=this._getViewLineDomNode(t);if(T===null)return null;const q=this._getLineNumberFor(T);if(q===-1||q<1||q>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(q)===1)return new pe.L(q,1);const re=this._visibleLines.getStartLineNumber(),Te=this._visibleLines.getEndLineNumber();if(q<re||q>Te)return null;let Ve=this._visibleLines.getVisibleLine(q).getColumnOfNodeOffset(t,l);const rt=this._context.viewModel.getLineMinColumn(q);return Ve<rt&&(Ve=rt),new pe.L(q,Ve)}_getViewLineDomNode(t){for(;t&&t.nodeType===1;){if(t.className===we.Nt.CLASS_NAME)return t;t=t.parentElement}return null}_getLineNumberFor(t){const l=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();for(let q=l;q<=T;q++){const re=this._visibleLines.getVisibleLine(q);if(t===re.getDomNode())return q}return-1}getLineWidth(t){const l=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();if(t<l||t>T)return-1;const q=new Ce(this.domNode.domNode,this._textRangeRestingSpot),re=this._visibleLines.getVisibleLine(t).getWidth(q);return this._updateLineWidthsSlowIfDomDidLayout(q),re}linesVisibleRangesForRange(t,l){if(this.shouldRender())return null;const T=t.endLineNumber,q=F.e.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!q)return null;const re=[];let Te=0;const Ve=new Ce(this.domNode.domNode,this._textRangeRestingSpot);let rt=0;l&&(rt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(q.startLineNumber,1)).lineNumber);const vt=this._visibleLines.getStartLineNumber(),It=this._visibleLines.getEndLineNumber();for(let Wt=q.startLineNumber;Wt<=q.endLineNumber;Wt++){if(Wt<vt||Wt>It)continue;const Kt=Wt===q.startLineNumber?q.startColumn:1,nn=Wt!==q.endLineNumber,mn=nn?this._context.viewModel.getLineMaxColumn(Wt):q.endColumn,xn=this._visibleLines.getVisibleLine(Wt).getVisibleRangesForRange(Wt,Kt,mn,Ve);if(xn){if(l&&Wt<T){const Pn=rt;rt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(Wt+1,1)).lineNumber,Pn!==rt&&(xn.ranges[xn.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}re[Te++]=new Nn.u7(xn.outsideRenderedLine,Wt,Nn.yu.from(xn.ranges),nn)}}return this._updateLineWidthsSlowIfDomDidLayout(Ve),Te===0?null:re}_visibleRangesForLineRange(t,l,T){if(this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber())return null;const q=new Ce(this.domNode.domNode,this._textRangeRestingSpot),re=this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(t,l,T,q);return this._updateLineWidthsSlowIfDomDidLayout(q),re}visibleRangeForPosition(t){const l=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return l?new Nn.D4(l.outsideRenderedLine,l.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(t){t.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(t){const l=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();let q=1,re=!0;for(let Te=l;Te<=T;Te++){const Ve=this._visibleLines.getVisibleLine(Te);if(t&&!Ve.getWidthIsFast()){re=!1;continue}q=Math.max(q,Ve.getWidth(null))}return re&&l===1&&T===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(q),re}_checkMonospaceFontAssumptions(){let t=-1,l=-1;const T=this._visibleLines.getStartLineNumber(),q=this._visibleLines.getEndLineNumber();for(let re=T;re<=q;re++){const Te=this._visibleLines.getVisibleLine(re);if(Te.needsMonospaceFontCheck()){const Ve=Te.getWidth(null);Ve>l&&(l=Ve,t=re)}}if(t!==-1&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(let re=T;re<=q;re++)this._visibleLines.getVisibleLine(re).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const T=this._horizontalRevealRequest;if(t.startLineNumber<=T.minLineNumber&&T.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const q=this._computeScrollLeftToReveal(T);q&&(this._isViewportWrapping||this._ensureMaxLineWidth(q.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:q.scrollLeft},T.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),i.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const T=this._visibleLines.getStartLineNumber(),q=this._visibleLines.getEndLineNumber();for(let re=T;re<=q;re++)if(this._visibleLines.getVisibleLine(re).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const l=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(t){const l=Math.ceil(t);this._maxLineWidth<l&&(this._maxLineWidth=l,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(t,l,T,q,re,Te){const Ve=t.top,rt=t.height,vt=Ve+rt;let It,Wt,Kt;if(re&&re.length>0){let kn=re[0].startLineNumber,ti=re[0].endLineNumber;for(let ai=1,Mi=re.length;ai<Mi;ai++){const Ei=re[ai];kn=Math.min(kn,Ei.startLineNumber),ti=Math.max(ti,Ei.endLineNumber)}It=!1,Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(kn),Kt=this._context.viewLayout.getVerticalOffsetForLineNumber(ti)+this._lineHeight}else if(q)It=!0,Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(q.startLineNumber),Kt=this._context.viewLayout.getVerticalOffsetForLineNumber(q.endLineNumber)+this._lineHeight;else return-1;const nn=(l==="mouse"||T)&&this._cursorSurroundingLinesStyle==="default";let mn=0,xn=0;if(nn)T||(mn=this._lineHeight);else{const kn=Math.min(rt/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?mn=Math.max(kn,this._maxNumberStickyLines)*this._lineHeight:mn=kn*this._lineHeight,xn=Math.max(0,kn-1)*this._lineHeight}T||(Te===0||Te===4)&&(xn+=this._lineHeight),Wt-=mn,Kt+=xn;let Pn;if(Kt-Wt>rt){if(!It)return-1;Pn=Wt}else if(Te===5||Te===6)if(Te===6&&Ve<=Wt&&Kt<=vt)Pn=Ve;else{const kn=Math.max(5*this._lineHeight,rt*.2),ti=Wt-kn,ai=Kt-rt;Pn=Math.max(ai,ti)}else if(Te===1||Te===2)if(Te===2&&Ve<=Wt&&Kt<=vt)Pn=Ve;else{const kn=(Wt+Kt)/2;Pn=Math.max(0,kn-rt/2)}else Pn=this._computeMinimumScrolling(Ve,vt,Wt,Kt,Te===3,Te===4);return Pn}_computeScrollLeftToReveal(t){const l=this._context.viewLayout.getCurrentViewport(),T=this._context.configuration.options.get(143),q=l.left,re=q+l.width-T.verticalScrollbarWidth;let Te=1073741824,Ve=0;if(t.type==="range"){const vt=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!vt)return null;for(const It of vt.ranges)Te=Math.min(Te,Math.round(It.left)),Ve=Math.max(Ve,Math.round(It.left+It.width))}else for(const vt of t.selections){if(vt.startLineNumber!==vt.endLineNumber)return null;const It=this._visibleRangesForLineRange(vt.startLineNumber,vt.startColumn,vt.endColumn);if(!It)return null;for(const Wt of It.ranges)Te=Math.min(Te,Math.round(Wt.left)),Ve=Math.max(Ve,Math.round(Wt.left+Wt.width))}return t.minimalReveal||(Te=Math.max(0,Te-He.HORIZONTAL_EXTRA_PX),Ve+=this._revealHorizontalRightPadding),t.type==="selections"&&Ve-Te>l.width?null:{scrollLeft:this._computeMinimumScrolling(q,re,Te,Ve),maxHorizontalOffset:Ve}}_computeMinimumScrolling(t,l,T,q,re,Te){t=t|0,l=l|0,T=T|0,q=q|0,re=!!re,Te=!!Te;const Ve=l-t;if(q-T<Ve){if(re)return T;if(Te)return Math.max(0,q-Ve);if(T<t)return T;if(q>l)return Math.max(0,q-Ve)}else return T;return t}}He.HORIZONTAL_EXTRA_PX=30;class Ye{constructor(t,l,T,q){this._decorationToRenderBrand=void 0,this.startLineNumber=+t,this.endLineNumber=+l,this.className=String(T),this.zIndex=q!=null?q:0}}class ht{constructor(t,l){this.className=t,this.zIndex=l}}class $t{constructor(){this.decorations=[]}add(t){this.decorations.push(t)}getDecorations(){return this.decorations}}class gn extends xt{_render(t,l,T){const q=[];for(let Ve=t;Ve<=l;Ve++){const rt=Ve-t;q[rt]=new $t}if(T.length===0)return q;T.sort((Ve,rt)=>Ve.className===rt.className?Ve.startLineNumber===rt.startLineNumber?Ve.endLineNumber-rt.endLineNumber:Ve.startLineNumber-rt.startLineNumber:Ve.className<rt.className?-1:1);let re=null,Te=0;for(let Ve=0,rt=T.length;Ve<rt;Ve++){const vt=T[Ve],It=vt.className,Wt=vt.zIndex;let Kt=Math.max(vt.startLineNumber,t)-t;const nn=Math.min(vt.endLineNumber,l)-t;re===It?(Kt=Math.max(Te+1,Kt),Te=Math.max(Te,nn)):(re=It,Te=nn);for(let mn=Kt;mn<=Te;mn++)q[mn].add(new ht(It,Wt))}return q}}class dn extends le{constructor(t){super(t),this._widgets={},this._context=t;const l=this._context.configuration.options,T=l.get(143);this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=l.get(66),this._glyphMargin=l.get(57),this._glyphMarginLeft=T.glyphMarginLeft,this._glyphMarginWidth=T.glyphMarginWidth,this._glyphMarginDecorationLaneCount=T.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(143);return this._lineHeight=l.get(66),this._glyphMargin=l.get(57),this._glyphMarginLeft=T.glyphMarginLeft,this._glyphMarginWidth=T.glyphMarginWidth,this._glyphMarginDecorationLaneCount=T.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}addWidget(t){const l=(0,K.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:t.getPosition(),domNode:l,renderInfo:null},l.setPosition("absolute"),l.setDisplay("none"),l.setAttribute("widgetId",t.getId()),this.domNode.appendChild(l),this.setShouldRender()}setWidgetPosition(t,l){const T=this._widgets[t.getId()];return T.preference.lane===l.lane&&T.preference.zIndex===l.zIndex&&F.e.equalsRange(T.preference.range,l.range)?!1:(T.preference=l,this.setShouldRender(),!0)}removeWidget(t){var l;const T=t.getId();if(this._widgets[T]){const re=this._widgets[T].domNode.domNode;delete this._widgets[T],(l=re.parentNode)===null||l===void 0||l.removeChild(re),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(t,l){var T,q,re;const Te=t.visibleRange.startLineNumber,Ve=t.visibleRange.endLineNumber,rt=t.getDecorationsInViewport();for(const vt of rt){const It=vt.options.glyphMarginClassName;if(!It)continue;const Wt=Math.max(vt.range.startLineNumber,Te),Kt=Math.min(vt.range.endLineNumber,Ve),nn=Math.min((q=(T=vt.options.glyphMargin)===null||T===void 0?void 0:T.position)!==null&&q!==void 0?q:1,this._glyphMarginDecorationLaneCount),mn=(re=vt.options.zIndex)!==null&&re!==void 0?re:0;for(let xn=Wt;xn<=Kt;xn++)l.push(new ln(xn,nn,mn,It))}}_collectWidgetBasedGlyphRenderRequest(t,l){const T=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber;for(const re of Object.values(this._widgets)){const Te=re.preference.range,{startLineNumber:Ve,endLineNumber:rt}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(F.e.lift(Te));if(!Ve||!rt||rt<T||Ve>q)continue;const vt=Math.max(Ve,T),It=Math.min(re.preference.lane,this._glyphMarginDecorationLaneCount);l.push(new ct(vt,It,re.preference.zIndex,re))}}_collectSortedGlyphRenderRequests(t){const l=[];return this._collectDecorationBasedGlyphRenderRequest(t,l),this._collectWidgetBasedGlyphRenderRequest(t,l),l.sort((T,q)=>T.lineNumber===q.lineNumber?T.lane===q.lane?T.zIndex===q.zIndex?q.type===T.type?T.type===0&&q.type===0?T.className<q.className?-1:1:0:q.type-T.type:q.zIndex-T.zIndex:T.lane-q.lane:T.lineNumber-q.lineNumber),l}prepareRender(t){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const q of Object.values(this._widgets))q.renderInfo=null;const l=new d.H9(this._collectSortedGlyphRenderRequests(t)),T=[];for(;l.length>0;){const q=l.peek();if(!q)break;const re=l.takeWhile(Ve=>Ve.lineNumber===q.lineNumber&&Ve.lane===q.lane);if(!re||re.length===0)break;const Te=re[0];if(Te.type===0){const Ve=[];for(const rt of re){if(rt.zIndex!==Te.zIndex||rt.type!==Te.type)break;(Ve.length===0||Ve[Ve.length-1]!==rt.className)&&Ve.push(rt.className)}T.push(Te.accept(Ve.join(" ")))}else Te.widget.renderInfo={lineNumber:Te.lineNumber,lane:Te.lane}}this._decorationGlyphsToRender=T}render(t){if(!this._glyphMargin){for(const T of Object.values(this._widgets))T.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const T=this._managedDomNodes.pop();T==null||T.domNode.remove()}return}const l=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const T of Object.values(this._widgets))if(!T.renderInfo)T.domNode.setDisplay("none");else{const q=t.viewportData.relativeVerticalOffset[T.renderInfo.lineNumber-t.viewportData.startLineNumber],re=this._glyphMarginLeft+(T.renderInfo.lane-1)*this._lineHeight;T.domNode.setDisplay("block"),T.domNode.setTop(q),T.domNode.setLeft(re),T.domNode.setWidth(l),T.domNode.setHeight(this._lineHeight)}for(let T=0;T<this._decorationGlyphsToRender.length;T++){const q=this._decorationGlyphsToRender[T],re=t.viewportData.relativeVerticalOffset[q.lineNumber-t.viewportData.startLineNumber],Te=this._glyphMarginLeft+(q.lane-1)*this._lineHeight;let Ve;T<this._managedDomNodes.length?Ve=this._managedDomNodes[T]:(Ve=(0,K.X)(document.createElement("div")),this._managedDomNodes.push(Ve),this.domNode.appendChild(Ve)),Ve.setClassName("cgmr codicon "+q.combinedClassName),Ve.setPosition("absolute"),Ve.setTop(re),Ve.setLeft(Te),Ve.setWidth(l),Ve.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const T=this._managedDomNodes.pop();T==null||T.domNode.remove()}}}class ln{constructor(t,l,T,q){this.lineNumber=t,this.lane=l,this.zIndex=T,this.className=q,this.type=0}accept(t){return new Pt(this.lineNumber,this.lane,t)}}class ct{constructor(t,l,T,q){this.lineNumber=t,this.lane=l,this.zIndex=T,this.widget=q,this.type=1}}class Pt{constructor(t,l,T){this.lineNumber=t,this.lane=l,this.combinedClassName=T}}class Nt extends gn{constructor(t){super(),this._context=t;const T=this._context.configuration.options.get(143);this._decorationsLeft=T.decorationsLeft,this._decorationsWidth=T.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const T=this._context.configuration.options.get(143);return this._decorationsLeft=T.decorationsLeft,this._decorationsWidth=T.decorationsWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const l=t.getDecorationsInViewport(),T=[];let q=0;for(let re=0,Te=l.length;re<Te;re++){const Ve=l[re],rt=Ve.options.linesDecorationsClassName,vt=Ve.options.zIndex;rt&&(T[q++]=new Ye(Ve.range.startLineNumber,Ve.range.endLineNumber,rt,vt));const It=Ve.options.firstLineDecorationClassName;It&&(T[q++]=new Ye(Ve.range.startLineNumber,Ve.range.startLineNumber,It,vt))}return T}prepareRender(t){const l=t.visibleRange.startLineNumber,T=t.visibleRange.endLineNumber,q=this._render(l,T,this._getDecorations(t)),re=this._decorationsLeft.toString(),Te=this._decorationsWidth.toString(),Ve='" style="left:'+re+"px;width:"+Te+'px;"></div>',rt=[];for(let vt=l;vt<=T;vt++){const It=vt-l,Wt=q[It].getDecorations();let Kt="";for(const nn of Wt)Kt+='<div class="cldr '+nn.className+Ve;rt[It]=Kt}this._renderResult=rt}render(t,l){return this._renderResult?this._renderResult[l-t]:""}}class Tt extends gn{constructor(t){super(),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const l=t.getDecorationsInViewport(),T=[];let q=0;for(let re=0,Te=l.length;re<Te;re++){const Ve=l[re],rt=Ve.options.marginClassName,vt=Ve.options.zIndex;rt&&(T[q++]=new Ye(Ve.range.startLineNumber,Ve.range.endLineNumber,rt,vt))}return T}prepareRender(t){const l=t.visibleRange.startLineNumber,T=t.visibleRange.endLineNumber,q=this._render(l,T,this._getDecorations(t)),re=[];for(let Te=l;Te<=T;Te++){const Ve=Te-l,rt=q[Ve].getDecorations();let vt="";for(const It of rt)vt+='<div class="cmdr '+It.className+'" style=""></div>';re[Ve]=vt}this._renderResult=re}render(t,l){return this._renderResult?this._renderResult[l-t]:""}}var Zt=e(93911);class zt{constructor(t,l,T,q){this._rgba8Brand=void 0,this.r=zt._clamp(t),this.g=zt._clamp(l),this.b=zt._clamp(T),this.a=zt._clamp(q)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static _clamp(t){return t<0?0:t>255?255:t|0}}zt.Empty=new zt(0,0,0,0);class _n extends p.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,p.dk)(new _n)),this._INSTANCE}constructor(){super(),this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Hn.RW.onDidChange(t=>{t.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const t=Hn.RW.getColorMap();if(!t){this._colors=[zt.Empty],this._backgroundIsLight=!0;return}this._colors=[zt.Empty];for(let T=1;T<t.length;T++){const q=t[T].rgba;this._colors[T]=new zt(q.r,q.g,q.b,Math.round(q.a*255))}const l=t[2].getRelativeLuminance();this._backgroundIsLight=l>=.5,this._onDidChange.fire(void 0)}getColor(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]}backgroundIsLight(){return this._backgroundIsLight}}_n._INSTANCE=null;var hn=e(1118),Mn=e(73910);const Rn=(()=>{const Gt=[];for(let t=32;t<=126;t++)Gt.push(t);return Gt.push(65533),Gt})(),ni=(Gt,t)=>(Gt-=32,Gt<0||Gt>96?t<=2?(Gt+96)%96:96-1:Gt);var gi=e(85427);class Ii{constructor(t,l){this.scale=l,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ii.soften(t,12/15),this.charDataLight=Ii.soften(t,50/60)}static soften(t,l){const T=new Uint8ClampedArray(t.length);for(let q=0,re=t.length;q<re;q++)T[q]=(0,gi.K)(t[q]*l);return T}renderChar(t,l,T,q,re,Te,Ve,rt,vt,It,Wt){const Kt=1*this.scale,nn=2*this.scale,mn=Wt?1:nn;if(l+Kt>t.width||T+mn>t.height){console.warn("bad render request outside image data");return}const xn=It?this.charDataLight:this.charDataNormal,Pn=ni(q,vt),kn=t.width*4,ti=Ve.r,ai=Ve.g,Mi=Ve.b,Ei=re.r-ti,$i=re.g-ai,Vi=re.b-Mi,Qi=Math.max(Te,rt),xi=t.data;let Yi=Pn*Kt*nn,as=T*kn+l*4;for(let Xi=0;Xi<mn;Xi++){let ls=as;for(let Ds=0;Ds<Kt;Ds++){const Cs=xn[Yi++]/255*(Te/255);xi[ls++]=ti+Ei*Cs,xi[ls++]=ai+$i*Cs,xi[ls++]=Mi+Vi*Cs,xi[ls++]=Qi}as+=kn}}blockRenderChar(t,l,T,q,re,Te,Ve,rt){const vt=1*this.scale,It=2*this.scale,Wt=rt?1:It;if(l+vt>t.width||T+Wt>t.height){console.warn("bad render request outside image data");return}const Kt=t.width*4,nn=.5*(re/255),mn=Te.r,xn=Te.g,Pn=Te.b,kn=q.r-mn,ti=q.g-xn,ai=q.b-Pn,Mi=mn+kn*nn,Ei=xn+ti*nn,$i=Pn+ai*nn,Vi=Math.max(re,Ve),Qi=t.data;let xi=T*Kt+l*4;for(let Yi=0;Yi<Wt;Yi++){let as=xi;for(let Xi=0;Xi<vt;Xi++)Qi[as++]=Mi,Qi[as++]=Ei,Qi[as++]=$i,Qi[as++]=Vi;xi+=Kt}}}var Bi=e(88289);const Hi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},fi=Gt=>{const t=new Uint8ClampedArray(Gt.length/2);for(let l=0;l<Gt.length;l+=2)t[l>>1]=Hi[Gt[l]]<<4|Hi[Gt[l+1]]&15;return t},Ci={1:(0,Bi.M)(()=>fi("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Bi.M)(()=>fi("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Li{static create(t,l){if(this.lastCreated&&t===this.lastCreated.scale&&l===this.lastFontFamily)return this.lastCreated;let T;return Ci[t]?T=new Ii(Ci[t](),t):T=Li.createFromSampleData(Li.createSampleData(l).data,t),this.lastFontFamily=l,this.lastCreated=T,T}static createSampleData(t){const l=document.createElement("canvas"),T=l.getContext("2d");l.style.height="16px",l.height=16,l.width=96*10,l.style.width=96*10+"px",T.fillStyle="#ffffff",T.font=`bold 16px ${t}`,T.textBaseline="middle";let q=0;for(const re of Rn)T.fillText(String.fromCharCode(re),q,16/2),q+=10;return T.getImageData(0,0,96*10,16)}static createFromSampleData(t,l){if(t.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const q=Li._downsample(t,l);return new Ii(q,l)}static _downsampleChar(t,l,T,q,re){const Te=1*re,Ve=2*re;let rt=q,vt=0;for(let It=0;It<Ve;It++){const Wt=It/Ve*16,Kt=(It+1)/Ve*16;for(let nn=0;nn<Te;nn++){const mn=nn/Te*10,xn=(nn+1)/Te*10;let Pn=0,kn=0;for(let ai=Wt;ai<Kt;ai++){const Mi=l+Math.floor(ai)*3840,Ei=1-(ai-Math.floor(ai));for(let $i=mn;$i<xn;$i++){const Vi=1-($i-Math.floor($i)),Qi=Mi+Math.floor($i)*4,xi=Vi*Ei;kn+=xi,Pn+=t[Qi]*t[Qi+3]/255*xi}}const ti=Pn/kn;vt=Math.max(vt,ti),T[rt++]=(0,gi.K)(ti)}}return vt}static _downsample(t,l){const T=2*l*1*l,q=T*96,re=new Uint8ClampedArray(q);let Te=0,Ve=0,rt=0;for(let vt=0;vt<96;vt++)rt=Math.max(rt,this._downsampleChar(t,Ve,re,Te,l)),Te+=T,Ve+=10*4;if(rt>0){const vt=255/rt;for(let It=0;It<q;It++)re[It]*=vt}return re}}var ci=e(84973);const Zi=140,Ji=2;class vn{constructor(t,l,T){const q=t.options,re=q.get(141),Te=q.get(143),Ve=Te.minimap,rt=q.get(50),vt=q.get(72);this.renderMinimap=Ve.renderMinimap,this.size=vt.size,this.minimapHeightIsEditorHeight=Ve.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=q.get(104),this.paddingTop=q.get(83).top,this.paddingBottom=q.get(83).bottom,this.showSlider=vt.showSlider,this.autohide=vt.autohide,this.pixelRatio=re,this.typicalHalfwidthCharacterWidth=rt.typicalHalfwidthCharacterWidth,this.lineHeight=q.get(66),this.minimapLeft=Ve.minimapLeft,this.minimapWidth=Ve.minimapWidth,this.minimapHeight=Te.height,this.canvasInnerWidth=Ve.minimapCanvasInnerWidth,this.canvasInnerHeight=Ve.minimapCanvasInnerHeight,this.canvasOuterWidth=Ve.minimapCanvasOuterWidth,this.canvasOuterHeight=Ve.minimapCanvasOuterHeight,this.isSampling=Ve.minimapIsSampling,this.editorHeight=Te.height,this.fontScale=Ve.minimapScale,this.minimapLineHeight=Ve.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Bi.M)(()=>Li.create(this.fontScale,rt.fontFamily)),this.defaultBackgroundColor=T.getColor(2),this.backgroundColor=vn._getMinimapBackground(l,this.defaultBackgroundColor),this.foregroundAlpha=vn._getMinimapForegroundOpacity(l)}static _getMinimapBackground(t,l){const T=t.getColor(Mn.kVY);return T?new zt(T.rgba.r,T.rgba.g,T.rgba.b,Math.round(255*T.rgba.a)):l}static _getMinimapForegroundOpacity(t){const l=t.getColor(Mn.Itd);return l?zt._clamp(Math.round(255*l.rgba.a)):255}equals(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.paddingTop===t.paddingTop&&this.paddingBottom===t.paddingBottom&&this.showSlider===t.showSlider&&this.autohide===t.autohide&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha}}class $e{constructor(t,l,T,q,re,Te,Ve,rt,vt){this.scrollTop=t,this.scrollHeight=l,this.sliderNeeded=T,this._computedSliderRatio=q,this.sliderTop=re,this.sliderHeight=Te,this.topPaddingLineCount=Ve,this.startLineNumber=rt,this.endLineNumber=vt}getDesiredScrollTopFromDelta(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(t){const l=Math.max(this.startLineNumber,t.startLineNumber),T=Math.min(this.endLineNumber,t.endLineNumber);return l>T?null:[l,T]}getYForLineNumber(t,l){return+(t-this.startLineNumber+this.topPaddingLineCount)*l}static create(t,l,T,q,re,Te,Ve,rt,vt,It,Wt){const Kt=t.pixelRatio,nn=t.minimapLineHeight,mn=Math.floor(t.canvasInnerHeight/nn),xn=t.lineHeight;if(t.minimapHeightIsEditorHeight){let $i=rt*t.lineHeight+t.paddingTop+t.paddingBottom;t.scrollBeyondLastLine&&($i+=Math.max(0,re-t.lineHeight-t.paddingBottom));const Vi=Math.max(1,Math.floor(re*re/$i)),Qi=Math.max(0,t.minimapHeight-Vi),xi=Qi/(It-re),Yi=vt*xi,as=Qi>0,Xi=Math.floor(t.canvasInnerHeight/t.minimapLineHeight),ls=Math.floor(t.paddingTop/t.lineHeight);return new $e(vt,It,as,xi,Yi,Vi,ls,1,Math.min(Ve,Xi))}let Pn;if(Te&&T!==Ve){const $i=T-l+1;Pn=Math.floor($i*nn/Kt)}else{const $i=re/xn;Pn=Math.floor($i*nn/Kt)}const kn=Math.floor(t.paddingTop/xn);let ti=Math.floor(t.paddingBottom/xn);if(t.scrollBeyondLastLine){const $i=re/xn;ti=Math.max(ti,$i-1)}let ai;if(ti>0){const $i=re/xn;ai=(kn+Ve+ti-$i-1)*nn/Kt}else ai=Math.max(0,(kn+Ve)*nn/Kt-Pn);ai=Math.min(t.minimapHeight-Pn,ai);const Mi=ai/(It-re),Ei=vt*Mi;if(mn>=kn+Ve+ti){const $i=ai>0;return new $e(vt,It,$i,Mi,Ei,Pn,kn,1,Ve)}else{let $i;l>1?$i=l+kn:$i=Math.max(1,vt/xn);let Vi,Qi=Math.max(1,Math.floor($i-Ei*Kt/nn));Qi<kn?(Vi=kn-Qi+1,Qi=1):(Vi=0,Qi=Math.max(1,Qi-kn)),Wt&&Wt.scrollHeight===It&&(Wt.scrollTop>vt&&(Qi=Math.min(Qi,Wt.startLineNumber),Vi=Math.max(Vi,Wt.topPaddingLineCount)),Wt.scrollTop<vt&&(Qi=Math.max(Qi,Wt.startLineNumber),Vi=Math.min(Vi,Wt.topPaddingLineCount)));const xi=Math.min(Ve,Qi-Vi+mn-1),Yi=(vt-q)/xn;let as;return vt>=t.paddingTop?as=(l-Qi+Vi+Yi)*nn/Kt:as=vt/t.paddingTop*(Vi+Yi)*nn/Kt,new $e(vt,It,!0,Mi,as,Pn,Vi,Qi,xi)}}}class ft{constructor(t){this.dy=t}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}ft.INVALID=new ft(-1);class gt{constructor(t,l,T){this.renderedLayout=t,this._imageData=l,this._renderedLines=new Qt(()=>ft.INVALID),this._renderedLines._set(t.startLineNumber,T)}linesEquals(t){if(!this.scrollEquals(t))return!1;const T=this._renderedLines._get().lines;for(let q=0,re=T.length;q<re;q++)if(T[q].dy===-1)return!1;return!0}scrollEquals(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber}_get(){const t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}}onLinesChanged(t,l){return this._renderedLines.onLinesChanged(t,l)}onLinesDeleted(t,l){this._renderedLines.onLinesDeleted(t,l)}onLinesInserted(t,l){this._renderedLines.onLinesInserted(t,l)}onTokensChanged(t){return this._renderedLines.onTokensChanged(t)}}class cn{constructor(t,l,T,q){this._backgroundFillData=cn._createBackgroundFillData(l,T,q),this._buffers=[t.createImageData(l,T),t.createImageData(l,T)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t}static _createBackgroundFillData(t,l,T){const q=T.r,re=T.g,Te=T.b,Ve=T.a,rt=new Uint8ClampedArray(t*l*4);let vt=0;for(let It=0;It<l;It++)for(let Wt=0;Wt<t;Wt++)rt[vt]=q,rt[vt+1]=re,rt[vt+2]=Te,rt[vt+3]=Ve,vt+=4;return rt}}class rn{static compute(t,l,T){if(t.renderMinimap===0||!t.isSampling)return[null,[]];const{minimapLineCount:q}=A.gk.computeContainedMinimapLineCount({viewLineCount:l,scrollBeyondLastLine:t.scrollBeyondLastLine,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,height:t.editorHeight,lineHeight:t.lineHeight,pixelRatio:t.pixelRatio}),re=l/q,Te=re/2;if(!T||T.minimapLines.length===0){const Pn=[];if(Pn[0]=1,q>1){for(let kn=0,ti=q-1;kn<ti;kn++)Pn[kn]=Math.round(kn*re+Te);Pn[q-1]=l}return[new rn(re,Pn),[]]}const Ve=T.minimapLines,rt=Ve.length,vt=[];let It=0,Wt=0,Kt=1;const nn=10;let mn=[],xn=null;for(let Pn=0;Pn<q;Pn++){const kn=Math.max(Kt,Math.round(Pn*re)),ti=Math.max(kn,Math.round((Pn+1)*re));for(;It<rt&&Ve[It]<kn;){if(mn.length<nn){const Mi=It+1+Wt;xn&&xn.type==="deleted"&&xn._oldIndex===It-1?xn.deleteToLineNumber++:(xn={type:"deleted",_oldIndex:It,deleteFromLineNumber:Mi,deleteToLineNumber:Mi},mn.push(xn)),Wt--}It++}let ai;if(It<rt&&Ve[It]<=ti)ai=Ve[It],It++;else if(Pn===0?ai=1:Pn+1===q?ai=l:ai=Math.round(Pn*re+Te),mn.length<nn){const Mi=It+1+Wt;xn&&xn.type==="inserted"&&xn._i===Pn-1?xn.insertToLineNumber++:(xn={type:"inserted",_i:Pn,insertFromLineNumber:Mi,insertToLineNumber:Mi},mn.push(xn)),Wt++}vt[Pn]=ai,Kt=ai}if(mn.length<nn)for(;It<rt;){const Pn=It+1+Wt;xn&&xn.type==="deleted"&&xn._oldIndex===It-1?xn.deleteToLineNumber++:(xn={type:"deleted",_oldIndex:It,deleteFromLineNumber:Pn,deleteToLineNumber:Pn},mn.push(xn)),Wt--,It++}else mn=[{type:"flush"}];return[new rn(re,vt),mn]}constructor(t,l){this.samplingRatio=t,this.minimapLines=l}modelLineToMinimapLine(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))}modelLineRangeToMinimapLineRange(t,l){let T=this.modelLineToMinimapLine(t)-1;for(;T>0&&this.minimapLines[T-1]>=t;)T--;let q=this.modelLineToMinimapLine(l)-1;for(;q+1<this.minimapLines.length&&this.minimapLines[q+1]<=l;)q++;if(T===q){const re=this.minimapLines[T];if(re<t||re>l)return null}return[T+1,q+1]}decorationLineRangeToMinimapLineRange(t,l){let T=this.modelLineToMinimapLine(t),q=this.modelLineToMinimapLine(l);return t!==l&&q===T&&(q===this.minimapLines.length?T>1&&T--:q++),[T,q]}onLinesDeleted(t){const l=t.toLineNumber-t.fromLineNumber+1;let T=this.minimapLines.length,q=0;for(let re=this.minimapLines.length-1;re>=0&&!(this.minimapLines[re]<t.fromLineNumber);re--)this.minimapLines[re]<=t.toLineNumber?(this.minimapLines[re]=Math.max(1,t.fromLineNumber-1),T=Math.min(T,re),q=Math.max(q,re)):this.minimapLines[re]-=l;return[T,q]}onLinesInserted(t){const l=t.toLineNumber-t.fromLineNumber+1;for(let T=this.minimapLines.length-1;T>=0&&!(this.minimapLines[T]<t.fromLineNumber);T--)this.minimapLines[T]+=l}}class Sn extends le{constructor(t){super(t),this.tokensColorTracker=_n.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new vn(this._context.configuration,this._context.theme,this.tokensColorTracker);const[l]=rn.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=l,this._shouldCheckSampling=!1,this._actual=new En(t.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const t=new vn(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(t)?!1:(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(t){return this._onOptionsMaybeChanged()}onCursorStateChanged(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(t){return t.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(t){if(this._samplingState){const l=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.fromLineNumber+t.count-1);return l?this._actual.onLinesChanged(l[0],l[1]-l[0]+1):!1}else return this._actual.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){if(this._samplingState){const[l,T]=this._samplingState.onLinesDeleted(t);return l<=T&&this._actual.onLinesChanged(l+1,T-l+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)}onLinesInserted(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)}onScrollChanged(t){return this._actual.onScrollChanged()}onThemeChanged(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(t){if(this._samplingState){const l=[];for(const T of t.ranges){const q=this._samplingState.modelLineRangeToMinimapLineRange(T.fromLineNumber,T.toLineNumber);q&&l.push({fromLineNumber:q[0],toLineNumber:q[1]})}return l.length?this._actual.onTokensChanged(l):!1}else return this._actual.onTokensChanged(t.ranges)}onTokensColorsChanged(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(t){return this._actual.onZonesChanged()}prepareRender(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(t){let l=t.visibleRange.startLineNumber,T=t.visibleRange.endLineNumber;this._samplingState&&(l=this._samplingState.modelLineToMinimapLine(l),T=this._samplingState.modelLineToMinimapLine(T));const q={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:l,viewportEndLineNumber:T,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(l),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(q)}_recreateLineSampling(){this._minimapSelections=null;const t=!!this._samplingState,[l,T]=rn.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=l,t&&this._samplingState)for(const q of T)switch(q.type){case"deleted":this._actual.onLinesDeleted(q.deleteFromLineNumber,q.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(q.insertFromLineNumber,q.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(t){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineContent(t)}getLineMaxColumn(t){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineMaxColumn(t)}getMinimapLinesRenderingData(t,l,T){if(this._samplingState){const q=[];for(let re=0,Te=l-t+1;re<Te;re++)T[re]?q[re]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+re-1]):q[re]=null;return q}return this._context.viewModel.getMinimapLinesRenderingData(t,l,T).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const t of this._selections){const[l,T]=this._samplingState.decorationLineRangeToMinimapLineRange(t.startLineNumber,t.endLineNumber);this._minimapSelections.push(new j.Y(l,t.startColumn,T,t.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(t,l){let T;if(this._samplingState){const re=this._samplingState.minimapLines[t-1],Te=this._samplingState.minimapLines[l-1];T=new F.e(re,1,Te,this._context.viewModel.getLineMaxColumn(Te))}else T=new F.e(t,1,l,this._context.viewModel.getLineMaxColumn(l));const q=this._context.viewModel.getMinimapDecorationsInRange(T);if(this._samplingState){const re=[];for(const Te of q){if(!Te.options.minimap)continue;const Ve=Te.range,rt=this._samplingState.modelLineToMinimapLine(Ve.startLineNumber),vt=this._samplingState.modelLineToMinimapLine(Ve.endLineNumber);re.push(new hn.$l(new F.e(rt,Ve.startColumn,vt,Ve.endColumn),Te.options))}return re}return q}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new F.e(t,1,t,1),1,0)}setScrollTop(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)}}class En extends p.JT{constructor(t,l){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=t,this._model=l,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Mn.ov3),this._domNode=(0,K.X)(document.createElement("div")),ge.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,K.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,K.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,K.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,K.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,K.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=I.mu(this._domNode.domNode,I.tw.POINTER_DOWN,T=>{if(T.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(T.button===0&&this._lastRenderData){const vt=I.i(this._slider.domNode),It=vt.top+vt.height/2;this._startSliderDragging(T,It,this._lastRenderData.renderedLayout)}return}const re=this._model.options.minimapLineHeight,Te=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*T.offsetY;let rt=Math.floor(Te/re)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;rt=Math.min(rt,this._model.getLineCount()),this._model.revealLineNumber(rt)}),this._sliderPointerMoveMonitor=new Zt.C,this._sliderPointerDownListener=I.mu(this._slider.domNode,I.tw.POINTER_DOWN,T=>{T.preventDefault(),T.stopPropagation(),T.button===0&&this._lastRenderData&&this._startSliderDragging(T,T.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=m.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=I.nm(this._domNode.domNode,m.t.Start,T=>{T.preventDefault(),T.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(T))},{passive:!1}),this._sliderTouchMoveListener=I.nm(this._domNode.domNode,m.t.Change,T=>{T.preventDefault(),T.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(T)},{passive:!1}),this._sliderTouchEndListener=I.mu(this._domNode.domNode,m.t.End,T=>{T.preventDefault(),T.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(t,l,T){if(!t.target||!(t.target instanceof Element))return;const q=t.pageX;this._slider.toggleClassName("active",!0);const re=(Te,Ve)=>{const rt=I.i(this._domNode.domNode),vt=Math.min(Math.abs(Ve-q),Math.abs(Ve-rt.left),Math.abs(Ve-rt.left-rt.width));if(i.ED&&vt>Zi){this._model.setScrollTop(T.scrollTop);return}const It=Te-l;this._model.setScrollTop(T.getDesiredScrollTopFromDelta(It))};t.pageY!==l&&re(t.pageY,q),this._sliderPointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,Te=>re(Te.pageY,Te.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(t){const l=this._domNode.domNode.getBoundingClientRect().top,T=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-l);this._model.setScrollTop(T)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const t=["minimap"];return this._model.options.showSlider==="always"?t.push("slider-always"):t.push("slider-mouseover"),this._model.options.autohide&&t.push("autohide"),t.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new cn(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(t,l){return this._lastRenderData?this._lastRenderData.onLinesChanged(t,l):!1}onLinesDeleted(t,l){var T;return(T=this._lastRenderData)===null||T===void 0||T.onLinesDeleted(t,l),!0}onLinesInserted(t,l){var T;return(T=this._lastRenderData)===null||T===void 0||T.onLinesInserted(t,l),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Mn.ov3),this._renderDecorations=!0,!0}onTokensChanged(t){return this._lastRenderData?this._lastRenderData.onTokensChanged(t):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(t){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const T=$e.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(T.sliderNeeded?"block":"none"),this._slider.setTop(T.sliderTop),this._slider.setHeight(T.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(T.sliderHeight),this.renderDecorations(T),this._lastRenderData=this.renderLines(T)}renderDecorations(t){if(this._renderDecorations){this._renderDecorations=!1;const l=this._model.getSelections();l.sort(F.e.compareRangesUsingStarts);const T=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);T.sort((Kt,nn)=>(Kt.options.zIndex||0)-(nn.options.zIndex||0));const{canvasInnerWidth:q,canvasInnerHeight:re}=this._model.options,Te=this._model.options.minimapLineHeight,Ve=this._model.options.minimapCharWidth,rt=this._model.getOptions().tabSize,vt=this._decorationsCanvas.domNode.getContext("2d");vt.clearRect(0,0,q,re);const It=new Ln(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(vt,l,It,t,Te),this._renderDecorationsLineHighlights(vt,T,It,t,Te);const Wt=new Ln(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(vt,l,Wt,t,Te,rt,Ve,q),this._renderDecorationsHighlights(vt,T,Wt,t,Te,rt,Ve,q)}}_renderSelectionLineHighlights(t,l,T,q,re){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();let Te=0,Ve=0;for(const rt of l){const vt=q.intersectWithViewport(rt);if(!vt)continue;const[It,Wt]=vt;for(let mn=It;mn<=Wt;mn++)T.set(mn,!0);const Kt=q.getYForLineNumber(It,re),nn=q.getYForLineNumber(Wt,re);Ve>=Kt||(Ve>Te&&t.fillRect(A.y0,Te,t.canvas.width,Ve-Te),Te=Kt),Ve=nn}Ve>Te&&t.fillRect(A.y0,Te,t.canvas.width,Ve-Te)}_renderDecorationsLineHighlights(t,l,T,q,re){const Te=new Map;for(let Ve=l.length-1;Ve>=0;Ve--){const rt=l[Ve],vt=rt.options.minimap;if(!vt||vt.position!==ci.F5.Inline)continue;const It=q.intersectWithViewport(rt.range);if(!It)continue;const[Wt,Kt]=It,nn=vt.getColor(this._theme.value);if(!nn||nn.isTransparent())continue;let mn=Te.get(nn.toString());mn||(mn=nn.transparent(.5).toString(),Te.set(nn.toString(),mn)),t.fillStyle=mn;for(let xn=Wt;xn<=Kt;xn++){if(T.has(xn))continue;T.set(xn,!0);const Pn=q.getYForLineNumber(Wt,re);t.fillRect(A.y0,Pn,t.canvas.width,re)}}}_renderSelectionsHighlights(t,l,T,q,re,Te,Ve,rt){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const vt of l){const It=q.intersectWithViewport(vt);if(!It)continue;const[Wt,Kt]=It;for(let nn=Wt;nn<=Kt;nn++)this.renderDecorationOnLine(t,T,vt,this._selectionColor,q,nn,re,re,Te,Ve,rt)}}_renderDecorationsHighlights(t,l,T,q,re,Te,Ve,rt){for(const vt of l){const It=vt.options.minimap;if(!It)continue;const Wt=q.intersectWithViewport(vt.range);if(!Wt)continue;const[Kt,nn]=Wt,mn=It.getColor(this._theme.value);if(!(!mn||mn.isTransparent()))for(let xn=Kt;xn<=nn;xn++)switch(It.position){case ci.F5.Inline:this.renderDecorationOnLine(t,T,vt.range,mn,q,xn,re,re,Te,Ve,rt);continue;case ci.F5.Gutter:{const Pn=q.getYForLineNumber(xn,re),kn=2;this.renderDecoration(t,mn,kn,Pn,Ji,re);continue}}}}renderDecorationOnLine(t,l,T,q,re,Te,Ve,rt,vt,It,Wt){const Kt=re.getYForLineNumber(Te,rt);if(Kt+Ve<0||Kt>this._model.options.canvasInnerHeight)return;const{startLineNumber:nn,endLineNumber:mn}=T,xn=nn===Te?T.startColumn:1,Pn=mn===Te?T.endColumn:this._model.getLineMaxColumn(Te),kn=this.getXOffsetForPosition(l,Te,xn,vt,It,Wt),ti=this.getXOffsetForPosition(l,Te,Pn,vt,It,Wt);this.renderDecoration(t,q,kn,Kt,ti-kn,Ve)}getXOffsetForPosition(t,l,T,q,re,Te){if(T===1)return A.y0;if((T-1)*re>=Te)return Te;let rt=t.get(l);if(!rt){const vt=this._model.getLineContent(l);rt=[A.y0];let It=A.y0;for(let Wt=1;Wt<vt.length+1;Wt++){const Kt=vt.charCodeAt(Wt-1),nn=Kt===9?q*re:_t.K7(Kt)?2*re:re,mn=It+nn;if(mn>=Te){rt[Wt]=Te;break}rt[Wt]=mn,It=mn}t.set(l,rt)}return T-1<rt.length?rt[T-1]:Te}renderDecoration(t,l,T,q,re,Te){t.fillStyle=l&&l.toString()||"",t.fillRect(T,q,re,Te)}renderLines(t){const l=t.startLineNumber,T=t.endLineNumber,q=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){const Cs=this._lastRenderData._get();return new gt(t,Cs.imageData,Cs.lines)}const re=this._getBuffer();if(!re)return null;const[Te,Ve,rt]=En._renderUntouchedLines(re,t.topPaddingLineCount,l,T,q,this._lastRenderData),vt=this._model.getMinimapLinesRenderingData(l,T,rt),It=this._model.getOptions().tabSize,Wt=this._model.options.defaultBackgroundColor,Kt=this._model.options.backgroundColor,nn=this._model.options.foregroundAlpha,mn=this._model.tokensColorTracker,xn=mn.backgroundIsLight(),Pn=this._model.options.renderMinimap,kn=this._model.options.charRenderer(),ti=this._model.options.fontScale,ai=this._model.options.minimapCharWidth,Ei=(Pn===1?2:2+1)*ti,$i=q>Ei?Math.floor((q-Ei)/2):0,Vi=Kt.a/255,Qi=new zt(Math.round((Kt.r-Wt.r)*Vi+Wt.r),Math.round((Kt.g-Wt.g)*Vi+Wt.g),Math.round((Kt.b-Wt.b)*Vi+Wt.b),255);let xi=t.topPaddingLineCount*q;const Yi=[];for(let Cs=0,zs=T-l+1;Cs<zs;Cs++)rt[Cs]&&En._renderLine(re,Qi,Kt.a,xn,Pn,ai,mn,nn,kn,xi,$i,It,vt[Cs],ti,q),Yi[Cs]=new ft(xi),xi+=q;const as=Te===-1?0:Te,ls=(Ve===-1?re.height:Ve)-as;return this._canvas.domNode.getContext("2d").putImageData(re,0,0,0,as,re.width,ls),new gt(t,re,Yi)}static _renderUntouchedLines(t,l,T,q,re,Te){const Ve=[];if(!Te){for(let xi=0,Yi=q-T+1;xi<Yi;xi++)Ve[xi]=!0;return[-1,-1,Ve]}const rt=Te._get(),vt=rt.imageData.data,It=rt.rendLineNumberStart,Wt=rt.lines,Kt=Wt.length,nn=t.width,mn=t.data,xn=(q-T+1)*re*nn*4;let Pn=-1,kn=-1,ti=-1,ai=-1,Mi=-1,Ei=-1,$i=l*re;for(let xi=T;xi<=q;xi++){const Yi=xi-T,as=xi-It,Xi=as>=0&&as<Kt?Wt[as].dy:-1;if(Xi===-1){Ve[Yi]=!0,$i+=re;continue}const ls=Xi*nn*4,Ds=(Xi+re)*nn*4,Cs=$i*nn*4,zs=($i+re)*nn*4;ai===ls&&Ei===Cs?(ai=Ds,Ei=zs):(ti!==-1&&(mn.set(vt.subarray(ti,ai),Mi),Pn===-1&&ti===0&&ti===Mi&&(Pn=ai),kn===-1&&ai===xn&&ti===Mi&&(kn=ti)),ti=ls,ai=Ds,Mi=Cs,Ei=zs),Ve[Yi]=!1,$i+=re}ti!==-1&&(mn.set(vt.subarray(ti,ai),Mi),Pn===-1&&ti===0&&ti===Mi&&(Pn=ai),kn===-1&&ai===xn&&ti===Mi&&(kn=ti));const Vi=Pn===-1?-1:Pn/(nn*4),Qi=kn===-1?-1:kn/(nn*4);return[Vi,Qi,Ve]}static _renderLine(t,l,T,q,re,Te,Ve,rt,vt,It,Wt,Kt,nn,mn,xn){const Pn=nn.content,kn=nn.tokens,ti=t.width-Te,ai=xn===1;let Mi=A.y0,Ei=0,$i=0;for(let Vi=0,Qi=kn.getCount();Vi<Qi;Vi++){const xi=kn.getEndOffset(Vi),Yi=kn.getForeground(Vi),as=Ve.getColor(Yi);for(;Ei<xi;Ei++){if(Mi>ti)return;const Xi=Pn.charCodeAt(Ei);if(Xi===9){const ls=Kt-(Ei+$i)%Kt;$i+=ls-1,Mi+=ls*Te}else if(Xi===32)Mi+=Te;else{const ls=_t.K7(Xi)?2:1;for(let Ds=0;Ds<ls;Ds++)if(re===2?vt.blockRenderChar(t,Mi,It+Wt,as,rt,l,T,ai):vt.renderChar(t,Mi,It+Wt,Xi,as,rt,l,T,mn,q,ai),Mi+=Te,Mi>ti)return}}}}}class Ln{constructor(t,l,T){this._startLineNumber=t,this._endLineNumber=l,this._defaultValue=T,this._values=[];for(let q=0,re=this._endLineNumber-this._startLineNumber+1;q<re;q++)this._values[q]=T}has(t){return this.get(t)!==this._defaultValue}set(t,l){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=l)}get(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]}}class On extends le{constructor(t){super(t);const T=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=T.verticalScrollbarWidth,this._minimapWidth=T.minimap.minimapWidth,this._horizontalScrollbarHeight=T.horizontalScrollbarHeight,this._editorHeight=T.height,this._editorWidth=T.width,this._domNode=(0,K.X)(document.createElement("div")),ge.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(t){const T=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=T.verticalScrollbarWidth,this._minimapWidth=T.minimap.minimapWidth,this._horizontalScrollbarHeight=T.horizontalScrollbarHeight,this._editorHeight=T.height,this._editorWidth=T.width,!0}addWidget(t){const l=(0,K.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:l},l.setPosition("absolute"),l.setAttribute("widgetId",t.getId()),this._domNode.appendChild(l),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(t,l){const T=this._widgets[t.getId()];return T.preference===l?(this._updateMaxMinWidth(),!1):(T.preference=l,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(t){const l=t.getId();if(this._widgets.hasOwnProperty(l)){const q=this._widgets[l].domNode.domNode;delete this._widgets[l],q.parentNode.removeChild(q),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var t,l;let T=0;const q=Object.keys(this._widgets);for(let re=0,Te=q.length;re<Te;re++){const Ve=q[re],vt=(l=(t=this._widgets[Ve].widget).getMinContentWidthInPx)===null||l===void 0?void 0:l.call(t);typeof vt!="undefined"&&(T=Math.max(T,vt))}this._context.viewLayout.setOverlayWidgetsMinWidth(T)}_renderWidget(t){const l=t.domNode;if(t.preference===null){l.setTop("");return}if(t.preference===0)l.setTop(0),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){const T=l.domNode.clientHeight;l.setTop(this._editorHeight-T-2*this._horizontalScrollbarHeight),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else t.preference===2&&(l.setTop(0),l.domNode.style.right="50%")}prepareRender(t){}render(t){this._domNode.setWidth(this._editorWidth);const l=Object.keys(this._widgets);for(let T=0,q=l.length;T<q;T++){const re=l[T];this._renderWidget(this._widgets[re])}}}class Qn{constructor(t,l){const T=t.options;this.lineHeight=T.get(66),this.pixelRatio=T.get(141),this.overviewRulerLanes=T.get(82),this.renderBorder=T.get(81);const q=l.getColor(Be.zw);this.borderColor=q?q.toString():null,this.hideCursor=T.get(59);const re=l.getColor(Be.n0);this.cursorColor=re?re.transparent(.7).toString():null,this.themeType=l.type;const Te=T.get(72),Ve=Te.enabled,rt=Te.side,vt=l.getColor(Be.e_),It=Hn.RW.getDefaultBackground();vt?this.backgroundColor=vt:Ve&&rt==="right"?this.backgroundColor=It:this.backgroundColor=null;const Kt=T.get(143).overviewRuler;this.top=Kt.top,this.right=Kt.right,this.domWidth=Kt.width,this.domHeight=Kt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[nn,mn]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=nn,this.w=mn}_initLanes(t,l,T){const q=l-t;if(T>=3){const re=Math.floor(q/3),Te=Math.floor(q/3),Ve=q-re-Te,rt=t,vt=rt+re,It=rt+re+Ve;return[[0,rt,vt,rt,It,rt,vt,rt],[0,re,Ve,re+Ve,Te,re+Ve+Te,Ve+Te,re+Ve+Te]]}else if(T===2){const re=Math.floor(q/2),Te=q-re,Ve=t,rt=Ve+re;return[[0,Ve,Ve,Ve,rt,Ve,Ve,Ve],[0,re,re,re,Te,re+Te,re+Te,re+Te]]}else{const re=t,Te=q;return[[0,re,re,re,re,re,re,re],[0,Te,Te,Te,Te,Te,Te,Te]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&si.Il.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class Vn extends le{constructor(t){super(t),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,K.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Hn.RW.onDidChange(l=>{l.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const l=new Qn(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(l)?!1:(this._settings=l,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(t){this._cursorPositions=[];for(let l=0,T=t.selections.length;l<T;l++)this._cursorPositions[l]=t.selections[l].getPosition();return this._cursorPositions.sort(pe.L.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(t){return t.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(t){return this._markRenderingIsNeeded()}onScrollChanged(t){return t.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(t){return this._markRenderingIsNeeded()}onThemeChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render(),this._actualShouldRender=0}_render(){const t=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(t?si.Il.Format.CSS.formatHexA(t):""),this._domNode.setDisplay("none");return}const l=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(l.sort(hn.SQ.compareByRenderingProps),this._actualShouldRender===1&&!hn.SQ.equalsArr(this._renderedDecorations,l)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,d.fS)(this._renderedCursorPositions,this._cursorPositions,(mn,xn)=>mn.lineNumber===xn.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=l,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const T=this._settings.canvasWidth,q=this._settings.canvasHeight,re=this._settings.lineHeight,Te=this._context.viewLayout,Ve=this._context.viewLayout.getScrollHeight(),rt=q/Ve,vt=6*this._settings.pixelRatio|0,It=vt/2|0,Wt=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(Wt.fillStyle=si.Il.Format.CSS.formatHexA(t),Wt.fillRect(0,0,T,q)):(Wt.clearRect(0,0,T,q),Wt.fillStyle=si.Il.Format.CSS.formatHexA(t),Wt.fillRect(0,0,T,q)):Wt.clearRect(0,0,T,q);const Kt=this._settings.x,nn=this._settings.w;for(const mn of l){const xn=mn.color,Pn=mn.data;Wt.fillStyle=xn;let kn=0,ti=0,ai=0;for(let Mi=0,Ei=Pn.length/3;Mi<Ei;Mi++){const $i=Pn[3*Mi],Vi=Pn[3*Mi+1],Qi=Pn[3*Mi+2];let xi=Te.getVerticalOffsetForLineNumber(Vi)*rt|0,Yi=(Te.getVerticalOffsetForLineNumber(Qi)+re)*rt|0;if(Yi-xi<vt){let Xi=(xi+Yi)/2|0;Xi<It?Xi=It:Xi+It>q&&(Xi=q-It),xi=Xi-It,Yi=Xi+It}xi>ai+1||$i!==kn?(Mi!==0&&Wt.fillRect(Kt[kn],ti,nn[kn],ai-ti),kn=$i,ti=xi,ai=Yi):Yi>ai&&(ai=Yi)}Wt.fillRect(Kt[kn],ti,nn[kn],ai-ti)}if(!this._settings.hideCursor&&this._settings.cursorColor){const mn=2*this._settings.pixelRatio|0,xn=mn/2|0,Pn=this._settings.x[7],kn=this._settings.w[7];Wt.fillStyle=this._settings.cursorColor;let ti=-100,ai=-100;for(let Mi=0,Ei=this._cursorPositions.length;Mi<Ei;Mi++){const $i=this._cursorPositions[Mi];let Vi=Te.getVerticalOffsetForLineNumber($i.lineNumber)*rt|0;Vi<xn?Vi=xn:Vi+xn>q&&(Vi=q-xn);const Qi=Vi-xn,xi=Qi+mn;Qi>ai+1?(Mi!==0&&Wt.fillRect(Pn,ti,kn,ai-ti),ti=Qi,ai=xi):xi>ai&&(ai=xi)}Wt.fillRect(Pn,ti,kn,ai-ti)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Wt.beginPath(),Wt.lineWidth=1,Wt.strokeStyle=this._settings.borderColor,Wt.moveTo(0,0),Wt.lineTo(0,q),Wt.stroke(),Wt.moveTo(0,0),Wt.lineTo(T,0),Wt.stroke())}}var Wn=e(30665);class St extends te{constructor(t,l){super(),this._context=t;const T=this._context.configuration.options;this._domNode=(0,K.X)(document.createElement("canvas")),this._domNode.setClassName(l),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Wn.Tj(q=>this._context.viewLayout.getVerticalOffsetForLineNumber(q)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(T.get(66)),this._zoneManager.setPixelRatio(T.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return t.hasChanged(66)&&(this._zoneManager.setLineHeight(l.get(66)),this._render()),t.hasChanged(141)&&(this._zoneManager.setPixelRatio(l.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(t){return this._render(),!0}onScrollChanged(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0}onZonesChanged(t){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);let l=!1;l=this._zoneManager.setDOMWidth(t.width)||l,l=this._zoneManager.setDOMHeight(t.height)||l,l&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(t){this._zoneManager.setZones(t),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const t=this._zoneManager.getCanvasWidth(),l=this._zoneManager.getCanvasHeight(),T=this._zoneManager.resolveColorZones(),q=this._zoneManager.getId2Color(),re=this._domNode.domNode.getContext("2d");return re.clearRect(0,0,t,l),T.length>0&&this._renderOneLane(re,T,q,t),!0}_renderOneLane(t,l,T,q){let re=0,Te=0,Ve=0;for(const rt of l){const vt=rt.colorId,It=rt.from,Wt=rt.to;vt!==re?(t.fillRect(0,Te,q,Ve-Te),re=vt,t.fillStyle=T[re],Te=It,Ve=Wt):Ve>=It?Ve=Math.max(Ve,Wt):(t.fillRect(0,Te,q,Ve-Te),Te=It,Ve=Wt)}t.fillRect(0,Te,q,Ve-Te)}}class k extends le{constructor(t){super(t),this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const l=this._context.configuration.options;this._rulers=l.get(101),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return this._rulers=l.get(101),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(t){return t.scrollHeightChanged}prepareRender(t){}_ensureRulersCount(){const t=this._renderedRulers.length,l=this._rulers.length;if(t===l)return;if(t<l){const{tabSize:q}=this._context.viewModel.model.getOptions(),re=q;let Te=l-t;for(;Te>0;){const Ve=(0,K.X)(document.createElement("div"));Ve.setClassName("view-ruler"),Ve.setWidth(re),this.domNode.appendChild(Ve),this._renderedRulers.push(Ve),Te--}return}let T=t-l;for(;T>0;){const q=this._renderedRulers.pop();this.domNode.removeChild(q),T--}}render(t){this._ensureRulersCount();for(let l=0,T=this._rulers.length;l<T;l++){const q=this._renderedRulers[l],re=this._rulers[l];q.setBoxShadow(re.color?`1px 0 0 0 ${re.color} inset`:""),q.setHeight(Math.min(t.scrollHeight,1e6)),q.setLeft(re.column*this._typicalHalfwidthCharacterWidth)}}}class ne extends le{constructor(t){super(t),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const T=this._context.configuration.options.get(102);this._useShadows=T.useShadows,this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t?(this._shouldShow=t,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const l=this._context.configuration.options.get(143);l.minimap.renderMinimap===0||l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?this._width=l.width:this._width=l.width-l.verticalScrollbarWidth}onConfigurationChanged(t){const T=this._context.configuration.options.get(102);return this._useShadows=T.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()}prepareRender(t){}render(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class ue{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class Fe{constructor(t,l){this.lineNumber=t,this.ranges=l}}function Qe(Gt){return new ue(Gt)}function ot(Gt){return new Fe(Gt.lineNumber,Gt.ranges.map(Qe))}class dt extends xt{constructor(t){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=t;const l=this._context.configuration.options;this._lineHeight=l.get(66),this._roundedSelection=l.get(100),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return this._lineHeight=l.get(66),this._roundedSelection=l.get(100),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let l=0,T=t.length;l<T;l++)if(t[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,l,T){const q=this._typicalHalfwidthCharacterWidth/4;let re=null,Te=null;if(T&&T.length>0&&l.length>0){const Ve=l[0].lineNumber;if(Ve===t.startLineNumber)for(let vt=0;!re&&vt<T.length;vt++)T[vt].lineNumber===Ve&&(re=T[vt].ranges[0]);const rt=l[l.length-1].lineNumber;if(rt===t.endLineNumber)for(let vt=T.length-1;!Te&&vt>=0;vt--)T[vt].lineNumber===rt&&(Te=T[vt].ranges[0]);re&&!re.startStyle&&(re=null),Te&&!Te.startStyle&&(Te=null)}for(let Ve=0,rt=l.length;Ve<rt;Ve++){const vt=l[Ve].ranges[0],It=vt.left,Wt=vt.left+vt.width,Kt={top:0,bottom:0},nn={top:0,bottom:0};if(Ve>0){const mn=l[Ve-1].ranges[0].left,xn=l[Ve-1].ranges[0].left+l[Ve-1].ranges[0].width;bt(It-mn)<q?Kt.top=2:It>mn&&(Kt.top=1),bt(Wt-xn)<q?nn.top=2:mn<Wt&&Wt<xn&&(nn.top=1)}else re&&(Kt.top=re.startStyle.top,nn.top=re.endStyle.top);if(Ve+1<rt){const mn=l[Ve+1].ranges[0].left,xn=l[Ve+1].ranges[0].left+l[Ve+1].ranges[0].width;bt(It-mn)<q?Kt.bottom=2:mn<It&&It<xn&&(Kt.bottom=1),bt(Wt-xn)<q?nn.bottom=2:Wt<xn&&(nn.bottom=1)}else Te&&(Kt.bottom=Te.startStyle.bottom,nn.bottom=Te.endStyle.bottom);vt.startStyle=Kt,vt.endStyle=nn}}_getVisibleRangesWithStyle(t,l,T){const re=(l.linesVisibleRangesForRange(t,!0)||[]).map(ot);return!this._visibleRangesHaveGaps(re)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,re,T),re}_createSelectionPiece(t,l,T,q,re){return'<div class="cslr '+T+'" style="top:'+t.toString()+"px;left:"+q.toString()+"px;width:"+re.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(t,l,T,q){if(q.length===0)return;const re=!!q[0].ranges[0].startStyle,Te=this._lineHeight.toString(),Ve=(this._lineHeight-1).toString(),rt=q[0].lineNumber,vt=q[q.length-1].lineNumber;for(let It=0,Wt=q.length;It<Wt;It++){const Kt=q[It],nn=Kt.lineNumber,mn=nn-l,xn=T&&(nn===vt||nn===rt)?Ve:Te,Pn=T&&nn===rt?1:0;let kn="",ti="";for(let ai=0,Mi=Kt.ranges.length;ai<Mi;ai++){const Ei=Kt.ranges[ai];if(re){const Vi=Ei.startStyle,Qi=Ei.endStyle;if(Vi.top===1||Vi.bottom===1){kn+=this._createSelectionPiece(Pn,xn,dt.SELECTION_CLASS_NAME,Ei.left-dt.ROUNDED_PIECE_WIDTH,dt.ROUNDED_PIECE_WIDTH);let xi=dt.EDITOR_BACKGROUND_CLASS_NAME;Vi.top===1&&(xi+=" "+dt.SELECTION_TOP_RIGHT),Vi.bottom===1&&(xi+=" "+dt.SELECTION_BOTTOM_RIGHT),kn+=this._createSelectionPiece(Pn,xn,xi,Ei.left-dt.ROUNDED_PIECE_WIDTH,dt.ROUNDED_PIECE_WIDTH)}if(Qi.top===1||Qi.bottom===1){kn+=this._createSelectionPiece(Pn,xn,dt.SELECTION_CLASS_NAME,Ei.left+Ei.width,dt.ROUNDED_PIECE_WIDTH);let xi=dt.EDITOR_BACKGROUND_CLASS_NAME;Qi.top===1&&(xi+=" "+dt.SELECTION_TOP_LEFT),Qi.bottom===1&&(xi+=" "+dt.SELECTION_BOTTOM_LEFT),kn+=this._createSelectionPiece(Pn,xn,xi,Ei.left+Ei.width,dt.ROUNDED_PIECE_WIDTH)}}let $i=dt.SELECTION_CLASS_NAME;if(re){const Vi=Ei.startStyle,Qi=Ei.endStyle;Vi.top===0&&($i+=" "+dt.SELECTION_TOP_LEFT),Vi.bottom===0&&($i+=" "+dt.SELECTION_BOTTOM_LEFT),Qi.top===0&&($i+=" "+dt.SELECTION_TOP_RIGHT),Qi.bottom===0&&($i+=" "+dt.SELECTION_BOTTOM_RIGHT)}ti+=this._createSelectionPiece(Pn,xn,$i,Ei.left,Ei.width)}t[mn][0]+=kn,t[mn][1]+=ti}}prepareRender(t){const l=[],T=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber;for(let Te=T;Te<=q;Te++){const Ve=Te-T;l[Ve]=["",""]}const re=[];for(let Te=0,Ve=this._selections.length;Te<Ve;Te++){const rt=this._selections[Te];if(rt.isEmpty()){re[Te]=null;continue}const vt=this._getVisibleRangesWithStyle(rt,t,this._previousFrameVisibleRangesWithStyle[Te]);re[Te]=vt,this._actualRenderOneSelection(l,T,this._selections.length>1,vt)}this._previousFrameVisibleRangesWithStyle=re,this._renderResult=l.map(([Te,Ve])=>Te+Ve)}render(t,l){if(!this._renderResult)return"";const T=l-t;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}dt.SELECTION_CLASS_NAME="selected-text",dt.SELECTION_TOP_LEFT="top-left-radius",dt.SELECTION_BOTTOM_LEFT="bottom-left-radius",dt.SELECTION_TOP_RIGHT="top-right-radius",dt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",dt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",dt.ROUNDED_PIECE_WIDTH=10,(0,Lt.Ic)((Gt,t)=>{const l=Gt.getColor(Mn.yb5);l&&!l.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function bt(Gt){return Gt<0?-Gt:Gt}class lt{constructor(t,l,T,q,re,Te,Ve){this.top=t,this.left=l,this.paddingLeft=T,this.width=q,this.height=re,this.textContent=Te,this.textContentClassName=Ve}}class Q{constructor(t){this._context=t;const l=this._context.configuration.options,T=l.get(50);this._cursorStyle=l.get(28),this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=T.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${bn}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,nt.N)(this._domNode,T),this._domNode.setDisplay("none"),this._position=new pe.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(50);return this._cursorStyle=l.get(28),this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=T.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(31),this._typicalHalfwidthCharacterWidth),(0,nt.N)(this._domNode,T),!0}onCursorPositionChanged(t,l){return l?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:l}=this._position,T=this._context.viewModel.getLineContent(t),[q,re]=_t.J_(T,l-1);return[new pe.L(t,q+1),T.substring(q,re)]}_prepareRender(t){let l="",T="";const[q,re]=this._getGraphemeAwarePosition();if(this._cursorStyle===A.d2.Line||this._cursorStyle===A.d2.LineThin){const Kt=t.visibleRangeForPosition(q);if(!Kt||Kt.outsideRenderedLine)return null;const nn=I.Jj(this._domNode.domNode);let mn;this._cursorStyle===A.d2.Line?(mn=I.Uh(nn,this._lineCursorWidth>0?this._lineCursorWidth:2),mn>2&&(l=re,T=this._getTokenClassName(q))):mn=I.Uh(nn,1);let xn=Kt.left,Pn=0;mn>=2&&xn>=1&&(Pn=1,xn-=Pn);const kn=t.getVerticalOffsetForLineNumber(q.lineNumber)-t.bigNumbersDelta;return new lt(kn,xn,Pn,mn,this._lineHeight,l,T)}const Te=t.linesVisibleRangesForRange(new F.e(q.lineNumber,q.column,q.lineNumber,q.column+re.length),!1);if(!Te||Te.length===0)return null;const Ve=Te[0];if(Ve.outsideRenderedLine||Ve.ranges.length===0)return null;const rt=Ve.ranges[0],vt=re==="	"?this._typicalHalfwidthCharacterWidth:rt.width<1?this._typicalHalfwidthCharacterWidth:rt.width;this._cursorStyle===A.d2.Block&&(l=re,T=this._getTokenClassName(q));let It=t.getVerticalOffsetForLineNumber(q.lineNumber)-t.bigNumbersDelta,Wt=this._lineHeight;return(this._cursorStyle===A.d2.Underline||this._cursorStyle===A.d2.UnderlineThin)&&(It+=this._lineHeight-2,Wt=2),new lt(It,rt.left,0,vt,Wt,l,T)}_getTokenClassName(t){const l=this._context.viewModel.getViewLineData(t.lineNumber),T=l.tokens.findTokenIndexAtOffset(t.column-1);return l.tokens.getClassName(T)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${bn} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class fe extends le{constructor(t){super(t);const l=this._context.configuration.options;this._readOnly=l.get(90),this._cursorBlinking=l.get(26),this._cursorStyle=l.get(28),this._cursorSmoothCaretAnimation=l.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Q(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new oe._F,this._cursorFlatBlinkInterval=new I.ne,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const l=this._context.configuration.options;this._readOnly=l.get(90),this._cursorBlinking=l.get(26),this._cursorStyle=l.get(28),this._cursorSmoothCaretAnimation=l.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let T=0,q=this._secondaryCursors.length;T<q;T++)this._secondaryCursors[T].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,l,T){const q=this._secondaryCursors.length!==l.length||this._cursorSmoothCaretAnimation==="explicit"&&T!==3;if(this._primaryCursor.onCursorPositionChanged(t,q),this._updateBlinking(),this._secondaryCursors.length<l.length){const re=l.length-this._secondaryCursors.length;for(let Te=0;Te<re;Te++){const Ve=new Q(this._context);this._domNode.domNode.insertBefore(Ve.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Ve)}}else if(this._secondaryCursors.length>l.length){const re=this._secondaryCursors.length-l.length;for(let Te=0;Te<re;Te++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let re=0;re<l.length;re++)this._secondaryCursors[re].onCursorPositionChanged(l[re],q)}onCursorStateChanged(t){const l=[];for(let q=0,re=t.selections.length;q<re;q++)l[q]=t.selections[q].getPosition();this._onCursorPositionChanged(l[0],l.slice(1),t.reason);const T=t.selections[0].isEmpty();return this._selectionIsEmpty!==T&&(this._selectionIsEmpty=T,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const l=T=>{for(let q=0,re=t.ranges.length;q<re;q++)if(t.ranges[q].fromLineNumber<=T.lineNumber&&T.lineNumber<=t.ranges[q].toLineNumber)return!0;return!1};if(l(this._primaryCursor.getPosition()))return!0;for(const T of this._secondaryCursors)if(l(T.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),l=t===0,T=t===5;l?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!l&&!T&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},fe.BLINK_INTERVAL,(0,I.Jj)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},fe.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case A.d2.Line:t+=" cursor-line-style";break;case A.d2.Block:t+=" cursor-block-style";break;case A.d2.Underline:t+=" cursor-underline-style";break;case A.d2.LineThin:t+=" cursor-line-thin-style";break;case A.d2.BlockOutline:t+=" cursor-block-outline-style";break;case A.d2.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,l=this._secondaryCursors.length;t<l;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,l=this._secondaryCursors.length;t<l;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let l=0,T=this._secondaryCursors.length;l<T;l++)this._secondaryCursors[l].prepareRender(t)}render(t){const l=[];let T=0;const q=this._primaryCursor.render(t);q&&(l[T++]=q);for(let re=0,Te=this._secondaryCursors.length;re<Te;re++){const Ve=this._secondaryCursors[re].render(t);Ve&&(l[T++]=Ve)}this._renderData=l}getLastRenderData(){return this._renderData}}fe.BLINK_INTERVAL=500,(0,Lt.Ic)((Gt,t)=>{const l=Gt.getColor(Be.n0);if(l){let T=Gt.getColor(Be.fY);T||(T=l.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${l}; border-color: ${l}; color: ${T}; }`),(0,Ai.c3)(Gt.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${T}; border-right: 1px solid ${T}; }`)}});const We=()=>{throw new Error("Invalid change accessor")};class at extends le{constructor(t){super(t);const l=this._context.configuration.options,T=l.get(143);this._lineHeight=l.get(66),this._contentWidth=T.contentWidth,this._contentLeft=T.contentLeft,this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,K.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const t=this._context.viewLayout.getWhitespaces(),l=new Map;for(const q of t)l.set(q.id,q);let T=!1;return this._context.viewModel.changeWhitespace(q=>{const re=Object.keys(this._zones);for(let Te=0,Ve=re.length;Te<Ve;Te++){const rt=re[Te],vt=this._zones[rt],It=this._computeWhitespaceProps(vt.delegate);vt.isInHiddenArea=It.isInHiddenArea;const Wt=l.get(rt);Wt&&(Wt.afterLineNumber!==It.afterViewLineNumber||Wt.height!==It.heightInPx)&&(q.changeOneWhitespace(rt,It.afterViewLineNumber,It.heightInPx),this._safeCallOnComputedHeight(vt.delegate,It.heightInPx),T=!0)}}),T}onConfigurationChanged(t){const l=this._context.configuration.options,T=l.get(143);return this._lineHeight=l.get(66),this._contentWidth=T.contentWidth,this._contentLeft=T.contentLeft,t.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(t){return this._recomputeWhitespacesProps()}onLinesDeleted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}onLinesInserted(t){return!0}_getZoneOrdinal(t){var l,T;return(T=(l=t.ordinal)!==null&&l!==void 0?l:t.afterColumn)!==null&&T!==void 0?T:1e4}_computeWhitespaceProps(t){if(t.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};let l;if(typeof t.afterColumn!="undefined")l=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{const Te=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;l=new pe.L(Te,this._context.viewModel.model.getLineMaxColumn(Te))}let T;l.column===this._context.viewModel.model.getLineMaxColumn(l.lineNumber)?T=this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber+1,column:1}):T=this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber,column:l.column+1});const q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l,t.afterColumnAffinity,!0),re=t.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(T);return{isInHiddenArea:!re,afterViewLineNumber:q.lineNumber,heightInPx:re?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}}changeViewZones(t){let l=!1;return this._context.viewModel.changeWhitespace(T=>{const q={addZone:re=>(l=!0,this._addZone(T,re)),removeZone:re=>{re&&(l=this._removeZone(T,re)||l)},layoutZone:re=>{re&&(l=this._layoutZone(T,re)||l)}};Ct(t,q),q.addZone=We,q.removeZone=We,q.layoutZone=We}),l}_addZone(t,l){const T=this._computeWhitespaceProps(l),re={whitespaceId:t.insertWhitespace(T.afterViewLineNumber,this._getZoneOrdinal(l),T.heightInPx,T.minWidthInPx),delegate:l,isInHiddenArea:T.isInHiddenArea,isVisible:!1,domNode:(0,K.X)(l.domNode),marginDomNode:l.marginDomNode?(0,K.X)(l.marginDomNode):null};return this._safeCallOnComputedHeight(re.delegate,T.heightInPx),re.domNode.setPosition("absolute"),re.domNode.domNode.style.width="100%",re.domNode.setDisplay("none"),re.domNode.setAttribute("monaco-view-zone",re.whitespaceId),this.domNode.appendChild(re.domNode),re.marginDomNode&&(re.marginDomNode.setPosition("absolute"),re.marginDomNode.domNode.style.width="100%",re.marginDomNode.setDisplay("none"),re.marginDomNode.setAttribute("monaco-view-zone",re.whitespaceId),this.marginDomNode.appendChild(re.marginDomNode)),this._zones[re.whitespaceId]=re,this.setShouldRender(),re.whitespaceId}_removeZone(t,l){if(this._zones.hasOwnProperty(l)){const T=this._zones[l];return delete this._zones[l],t.removeWhitespace(T.whitespaceId),T.domNode.removeAttribute("monaco-visible-view-zone"),T.domNode.removeAttribute("monaco-view-zone"),T.domNode.domNode.parentNode.removeChild(T.domNode.domNode),T.marginDomNode&&(T.marginDomNode.removeAttribute("monaco-visible-view-zone"),T.marginDomNode.removeAttribute("monaco-view-zone"),T.marginDomNode.domNode.parentNode.removeChild(T.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(t,l){if(this._zones.hasOwnProperty(l)){const T=this._zones[l],q=this._computeWhitespaceProps(T.delegate);return T.isInHiddenArea=q.isInHiddenArea,t.changeOneWhitespace(T.whitespaceId,q.afterViewLineNumber,q.heightInPx),this._safeCallOnComputedHeight(T.delegate,q.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(t){return this._zones.hasOwnProperty(t)?!!this._zones[t].delegate.suppressMouseDown:!1}_heightInPixels(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight}_minWidthInPixels(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0}_safeCallOnComputedHeight(t,l){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(l)}catch(T){(0,M.dL)(T)}}_safeCallOnDomNodeTop(t,l){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(l)}catch(T){(0,M.dL)(T)}}prepareRender(t){}render(t){const l=t.viewportData.whitespaceViewportData,T={};let q=!1;for(const Te of l)this._zones[Te.id].isInHiddenArea||(T[Te.id]=Te,q=!0);const re=Object.keys(this._zones);for(let Te=0,Ve=re.length;Te<Ve;Te++){const rt=re[Te],vt=this._zones[rt];let It=0,Wt=0,Kt="none";T.hasOwnProperty(rt)?(It=T[rt].verticalOffset-t.bigNumbersDelta,Wt=T[rt].height,Kt="block",vt.isVisible||(vt.domNode.setAttribute("monaco-visible-view-zone","true"),vt.isVisible=!0),this._safeCallOnDomNodeTop(vt.delegate,t.getScrolledTopFromAbsoluteTop(T[rt].verticalOffset))):(vt.isVisible&&(vt.domNode.removeAttribute("monaco-visible-view-zone"),vt.isVisible=!1),this._safeCallOnDomNodeTop(vt.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),vt.domNode.setTop(It),vt.domNode.setHeight(Wt),vt.domNode.setDisplay(Kt),vt.marginDomNode&&(vt.marginDomNode.setTop(It),vt.marginDomNode.setHeight(Wt),vt.marginDomNode.setDisplay(Kt))}q&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Ct(Gt,t){try{return Gt(t)}catch(l){(0,M.dL)(l)}}class Rt{get type(){return this._theme.type}get value(){return this._theme}constructor(t){this._theme=t}update(t){this._theme=t}getColor(t){return this._theme.getColor(t)}}class Vt{constructor(t,l,T){this.configuration=t,this.theme=new Rt(l),this.viewModel=T,this.viewLayout=T.viewLayout}addEventHandler(t){this.viewModel.addViewEventHandler(t)}removeEventHandler(t){this.viewModel.removeViewEventHandler(t)}}class an{constructor(t,l,T,q){this.selections=t,this.startLineNumber=l.startLineNumber|0,this.endLineNumber=l.endLineNumber|0,this.relativeVerticalOffset=l.relativeVerticalOffset,this.bigNumbersDelta=l.bigNumbersDelta|0,this.whitespaceViewportData=T,this._model=q,this.visibleRange=new F.e(l.startLineNumber,this._model.getLineMinColumn(l.startLineNumber),l.endLineNumber,this._model.getLineMaxColumn(l.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class An extends le{constructor(t){super(t),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let t=!1;const T=this._context.configuration.options.get(143),q=T.contentWidth-T.verticalScrollbarWidth;this.contentWidth!==q&&(this.contentWidth=q,t=!0);const re=T.contentLeft;return this.contentLeft!==re&&(this.contentLeft=re,t=!0),t}dispose(){super.dispose()}onConfigurationChanged(t){return this.update()}onScrollChanged(t){return t.scrollTopChanged||t.scrollLeftChanged}onDecorationsChanged(t){return!0}onZonesChanged(t){return!0}prepareRender(t){}render(t){var l;let T=0;const q=t.getDecorationsInViewport();for(const re of q){if(!re.options.blockClassName)continue;let Te=this.blocks[T];Te||(Te=this.blocks[T]=(0,K.X)(document.createElement("div")),this.domNode.appendChild(Te));let Ve,rt;re.options.blockIsAfterEnd?(Ve=t.getVerticalOffsetAfterLineNumber(re.range.endLineNumber,!1),rt=t.getVerticalOffsetAfterLineNumber(re.range.endLineNumber,!0)):(Ve=t.getVerticalOffsetForLineNumber(re.range.startLineNumber,!0),rt=re.range.isEmpty()&&!re.options.blockDoesNotCollapse?t.getVerticalOffsetForLineNumber(re.range.startLineNumber,!1):t.getVerticalOffsetAfterLineNumber(re.range.endLineNumber,!0));const[vt,It,Wt,Kt]=(l=re.options.blockPadding)!==null&&l!==void 0?l:[0,0,0,0];Te.setClassName("blockDecorations-block "+re.options.blockClassName),Te.setLeft(this.contentLeft-Kt),Te.setWidth(this.contentWidth+Kt+It),Te.setTop(Ve-t.scrollTop-vt),Te.setHeight(rt-Ve+vt+Wt),T++}for(let re=T;re<this.blocks.length;re++)this.blocks[re].domNode.remove();this.blocks.length=T}}var zn=e(50795),ui=e(72202);class hi extends xt{constructor(t){super(),this._context=t,this._options=new oi(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=new oi(this._context.configuration);return this._options.equals(l)?t.hasChanged(143):(this._options=l,!0)}onCursorStateChanged(t){return this._selection=t.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}prepareRender(t){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const l=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber-l+1,re=new Array(q);for(let Ve=0;Ve<q;Ve++)re[Ve]=!0;const Te=this._context.viewModel.getMinimapLinesRenderingData(t.viewportData.startLineNumber,t.viewportData.endLineNumber,re);this._renderResult=[];for(let Ve=t.viewportData.startLineNumber;Ve<=t.viewportData.endLineNumber;Ve++){const rt=Ve-t.viewportData.startLineNumber,vt=Te.data[rt];let It=null;if(this._options.renderWhitespace==="selection"){const Wt=this._selection;for(const Kt of Wt){if(Kt.endLineNumber<Ve||Kt.startLineNumber>Ve)continue;const nn=Kt.startLineNumber===Ve?Kt.startColumn:vt.minColumn,mn=Kt.endLineNumber===Ve?Kt.endColumn:vt.maxColumn;nn<mn&&(It||(It=[]),It.push(new ui.zG(nn-1,mn-1)))}}this._renderResult[rt]=this._applyRenderWhitespace(t,Ve,It,vt)}}_applyRenderWhitespace(t,l,T,q){if(this._options.renderWhitespace==="selection"&&!T||this._options.renderWhitespace==="trailing"&&q.continuesWithWrappedLine)return"";const re=this._context.theme.getColor(Be.dI),Te=this._options.renderWithSVG,Ve=q.content,rt=this._options.stopRenderingLineAfter===-1?Ve.length:Math.min(this._options.stopRenderingLineAfter,Ve.length),vt=q.continuesWithWrappedLine,It=q.minColumn-1,Wt=this._options.renderWhitespace==="boundary",Kt=this._options.renderWhitespace==="trailing",nn=this._options.lineHeight,mn=this._options.middotWidth,xn=this._options.wsmiddotWidth,Pn=this._options.spaceWidth,kn=Math.abs(xn-Pn),ti=Math.abs(mn-Pn),ai=kn<ti?11825:183,Mi=this._options.canUseHalfwidthRightwardsArrow;let Ei="",$i=!1,Vi=_t.LC(Ve),Qi;Vi===-1?($i=!0,Vi=rt,Qi=rt):Qi=_t.ow(Ve);let xi=0,Yi=T&&T[xi],as=0;for(let Xi=It;Xi<rt;Xi++){const ls=Ve.charCodeAt(Xi);if(Yi&&Xi>=Yi.endOffset&&(xi++,Yi=T&&T[xi]),ls!==9&&ls!==32||Kt&&!$i&&Xi<=Qi)continue;if(Wt&&Xi>=Vi&&Xi<=Qi&&ls===32){const Cs=Xi-1>=0?Ve.charCodeAt(Xi-1):0,zs=Xi+1<rt?Ve.charCodeAt(Xi+1):0;if(Cs!==32&&zs!==32)continue}if(Wt&&vt&&Xi===rt-1){const Cs=Xi-1>=0?Ve.charCodeAt(Xi-1):0;if(ls===32&&Cs!==32&&Cs!==9)continue}if(T&&(!Yi||Yi.startOffset>Xi||Yi.endOffset<=Xi))continue;const Ds=t.visibleRangeForPosition(new pe.L(l,Xi+1));Ds&&(Te?(as=Math.max(as,Ds.left),ls===9?Ei+=this._renderArrow(nn,Pn,Ds.left):Ei+=`<circle cx="${(Ds.left+Pn/2).toFixed(2)}" cy="${(nn/2).toFixed(2)}" r="${(Pn/7).toFixed(2)}" />`):ls===9?Ei+=`<div class="mwh" style="left:${Ds.left}px;height:${nn}px;">${Mi?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:Ei+=`<div class="mwh" style="left:${Ds.left}px;height:${nn}px;">${String.fromCharCode(ai)}</div>`)}return Te?(as=Math.round(as+Pn),`<svg style="position:absolute;width:${as}px;height:${nn}px" viewBox="0 0 ${as} ${nn}" xmlns="http://www.w3.org/2000/svg" fill="${re}">`+Ei+"</svg>"):Ei}_renderArrow(t,l,T){const q=l/7,re=l,Te=t/2,Ve=T,rt={x:0,y:q/2},vt={x:100/125*re,y:rt.y},It={x:vt.x-.2*vt.x,y:vt.y+.2*vt.x},Wt={x:It.x+.1*vt.x,y:It.y+.1*vt.x},Kt={x:Wt.x+.35*vt.x,y:Wt.y-.35*vt.x},nn={x:Kt.x,y:-Kt.y},mn={x:Wt.x,y:-Wt.y},xn={x:It.x,y:-It.y},Pn={x:vt.x,y:-vt.y},kn={x:rt.x,y:-rt.y};return`<path d="M ${[rt,vt,It,Wt,Kt,nn,mn,xn,Pn,kn].map(Mi=>`${(Ve+Mi.x).toFixed(2)} ${(Te+Mi.y).toFixed(2)}`).join(" L ")}" />`}render(t,l){if(!this._renderResult)return"";const T=l-t;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}class oi{constructor(t){const l=t.options,T=l.get(50),q=l.get(38);q==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):q==="svg"?(this.renderWhitespace=l.get(98),this.renderWithSVG=!0):(this.renderWhitespace=l.get(98),this.renderWithSVG=!1),this.spaceWidth=T.spaceWidth,this.middotWidth=T.middotWidth,this.wsmiddotWidth=T.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=T.canUseHalfwidthRightwardsArrow,this.lineHeight=l.get(66),this.stopRenderingLineAfter=l.get(116)}equals(t){return this.renderWhitespace===t.renderWhitespace&&this.renderWithSVG===t.renderWithSVG&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter}}var Kn=function(Gt,t,l,T){var q=arguments.length,re=q<3?t:T===null?T=Object.getOwnPropertyDescriptor(t,l):T,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Gt,t,l,T);else for(var Ve=Gt.length-1;Ve>=0;Ve--)(Te=Gt[Ve])&&(re=(q<3?Te(re):q>3?Te(t,l,re):Te(t,l))||re);return q>3&&re&&Object.defineProperty(t,l,re),re},di=function(Gt,t){return function(l,T){t(l,T,Gt)}};let pi=class extends te{constructor(t,l,T,q,re,Te,Ve){super(),this._instantiationService=Ve,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new j.Y(1,1,1,1)],this._renderAnimationFrame=null;const rt=new ns(l,q,re,t);this._context=new Vt(l,T,q),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(Fi,this._context,rt,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,K.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,K.X)(document.createElement("div")),ge.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Yt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new He(this._context,this._linesContent),this._viewZones=new at(this._context),this._viewParts.push(this._viewZones);const vt=new Vn(this._context);this._viewParts.push(vt);const It=new ne(this._context);this._viewParts.push(It);const Wt=new kt(this._context);this._viewParts.push(Wt),Wt.addDynamicOverlay(new Tn(this._context)),Wt.addDynamicOverlay(new dt(this._context)),Wt.addDynamicOverlay(new ee(this._context)),Wt.addDynamicOverlay(new Bt(this._context)),Wt.addDynamicOverlay(new hi(this._context));const Kt=new wt(this._context);this._viewParts.push(Kt),Kt.addDynamicOverlay(new yn(this._context)),Kt.addDynamicOverlay(new Tt(this._context)),Kt.addDynamicOverlay(new Nt(this._context)),Kt.addDynamicOverlay(new yt(this._context)),this._glyphMarginWidgets=new dn(this._context),this._viewParts.push(this._glyphMarginWidgets);const nn=new un(this._context);nn.getDomNode().appendChild(this._viewZones.marginDomNode),nn.getDomNode().appendChild(Kt.getDomNode()),nn.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(nn),this._contentWidgets=new sn(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new fe(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new On(this._context),this._viewParts.push(this._overlayWidgets);const mn=new k(this._context);this._viewParts.push(mn);const xn=new An(this._context);this._viewParts.push(xn);const Pn=new Sn(this._context);if(this._viewParts.push(Pn),vt){const kn=this._scrollbar.getOverviewRulerLayoutInfo();kn.parent.insertBefore(vt.getDomNode(),kn.insertBefore)}this._linesContent.appendChild(Wt.getDomNode()),this._linesContent.appendChild(mn.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(nn.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(It.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Pn.getDomNode()),this._overflowGuardContainer.appendChild(xn.domNode),this.domNode.appendChild(this._overflowGuardContainer),Te?Te.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Xt(this._context,rt,this._createPointerHandlerHelper()))}_computeGlyphMarginLaneCount(){const t=this._context.viewModel.model;let l=[];l=l.concat(t.getAllMarginDecorations().map(re=>{var Te,Ve;const rt=(Ve=(Te=re.options.glyphMargin)===null||Te===void 0?void 0:Te.position)!==null&&Ve!==void 0?Ve:ci.U.Left;return{range:re.range,lane:rt}})),l=l.concat(this._glyphMarginWidgets.getWidgets().map(re=>({range:t.validateRange(re.preference.range),lane:re.preference.lane}))),l.sort((re,Te)=>F.e.compareRangesUsingStarts(re.range,Te.range));let T=null,q=null;for(const re of l)if(re.lane===ci.U.Left&&(!T||F.e.compareRangesUsingEnds(T,re.range)<0)&&(T=re.range),re.lane===ci.U.Right&&(!q||F.e.compareRangesUsingEnds(q,re.range)<0)&&(q=re.range),T&&q){if(T.endLineNumber<q.startLineNumber){T=null;continue}if(q.endLineNumber<T.startLineNumber){q=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:t=>{this._textAreaHandler.textArea.domNode.dispatchEvent(t)},getLastRenderData:()=>{const t=this._viewCursors.getLastRenderData()||[],l=this._textAreaHandler.getLastRenderData();return new Ue(t,l)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:t=>this._viewZones.shouldSuppressMouseDownOnViewZone(t),shouldSuppressMouseDownOnWidget:t=>this._contentWidgets.shouldSuppressMouseDownOnWidget(t),getPositionFromDOMInfo:(t,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(t,l)),visibleRangeForPosition:(t,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new pe.L(t,l))),getLineWidth:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(t))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(t))}}_applyLayout(){const l=this._context.configuration.options.get(143);this.domNode.setWidth(l.width),this.domNode.setHeight(l.height),this._overflowGuardContainer.setWidth(l.width),this._overflowGuardContainer.setHeight(l.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+(0,Lt.m6)(this._context.theme.type)+t}handleEvents(t){super.handleEvents(t),this._scheduleRender()}onConfigurationChanged(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(t){return this._selections=t.selections,!1}onDecorationsChanged(t){return t.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(t){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const t of this._viewParts)t.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new M.he;if(this._renderAnimationFrame===null){const t=this._createCoordinatedRendering();this._renderAnimationFrame=Es.INSTANCE.scheduleCoordinatedRendering({window:I.Jj(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new M.he;try{return t.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new M.he;return t.renderText()},prepareRender:(l,T)=>{if(this._store.isDisposed)throw new M.he;return t.prepareRender(l,T)},render:(l,T)=>{if(this._store.isDisposed)throw new M.he;return t.render(l,T)}})}}_flushAccumulatedAndRenderNow(){const t=this._createCoordinatedRendering();qi(()=>t.prepareRenderText());const l=qi(()=>t.renderText());if(l){const[T,q]=l;qi(()=>t.prepareRender(T,q)),qi(()=>t.render(T,q))}}_getViewPartsToRender(){const t=[];let l=0;for(const T of this._viewParts)T.shouldRender()&&(t[l++]=T);return t}_createCoordinatedRendering(){return{prepareRenderText:()=>{this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),zn.B.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let t=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&t.length===0)return null;const l=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(l.startLineNumber,l.endLineNumber,l.centeredLineNumber);const T=new an(this._selections,l,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(T),this._viewLines.shouldRender()&&(this._viewLines.renderText(T),this._viewLines.onDidRender(),t=this._getViewPartsToRender()),[t,new Nn.xh(this._context.viewLayout,T,this._viewLines)]},prepareRender:(t,l)=>{for(const T of t)T.prepareRender(l)},render:(t,l)=>{for(const T of t)T.render(l),T.onDidRender()}}}delegateVerticalScrollbarPointerDown(t){this._scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this._scrollbar.delegateScrollFromMouseWheelEvent(t)}restoreState(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(t,l){const T=this._context.viewModel.model.validatePosition({lineNumber:t,column:l}),q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T);this._flushAccumulatedAndRenderNow();const re=this._viewLines.visibleRangeForPosition(new pe.L(q.lineNumber,q.column));return re?re.left:-1}getTargetAtClientPoint(t,l){const T=this._pointerHandler.getTargetAtClientPoint(t,l);return T?wn.convertViewToModelMouseTarget(T,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(t){return new St(this._context,t)}change(t){this._viewZones.changeViewZones(t),this._scheduleRender()}render(t,l){if(l){this._viewLines.forceShouldRender();for(const T of this._viewParts)T.forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(t){this._textAreaHandler.writeScreenReaderContent(t)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(t){this._textAreaHandler.setAriaOptions(t)}addContentWidget(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()}layoutContentWidget(t){var l,T,q,re,Te,Ve,rt,vt;this._contentWidgets.setWidgetPosition(t.widget,(T=(l=t.position)===null||l===void 0?void 0:l.position)!==null&&T!==void 0?T:null,(re=(q=t.position)===null||q===void 0?void 0:q.secondaryPosition)!==null&&re!==void 0?re:null,(Ve=(Te=t.position)===null||Te===void 0?void 0:Te.preference)!==null&&Ve!==void 0?Ve:null,(vt=(rt=t.position)===null||rt===void 0?void 0:rt.positionAffinity)!==null&&vt!==void 0?vt:null),this._scheduleRender()}removeContentWidget(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()}addOverlayWidget(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()}layoutOverlayWidget(t){const l=t.position?t.position.preference:null;this._overlayWidgets.setWidgetPosition(t.widget,l)&&this._scheduleRender()}removeOverlayWidget(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()}addGlyphMarginWidget(t){this._glyphMarginWidgets.addWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(t){const l=t.position;this._glyphMarginWidgets.setWidgetPosition(t.widget,l)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(t){this._glyphMarginWidgets.removeWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};pi=Kn([di(6,_i.TG)],pi);function qi(Gt){try{return Gt()}catch(t){return(0,M.dL)(t),null}}class Es{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(t){return this._coordinatedRenderings.push(t),this._scheduleRender(t.window),{dispose:()=>{const l=this._coordinatedRenderings.indexOf(t);if(l!==-1&&(this._coordinatedRenderings.splice(l,1),this._coordinatedRenderings.length===0)){for(const[T,q]of this._animationFrameRunners)q.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(t){if(!this._animationFrameRunners.has(t)){const l=()=>{this._animationFrameRunners.delete(t),this._onRenderScheduled()};this._animationFrameRunners.set(t,I.lI(t,l,100))}}_onRenderScheduled(){const t=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const T of t)qi(()=>T.prepareRenderText());const l=[];for(let T=0,q=t.length;T<q;T++){const re=t[T];l[T]=qi(()=>re.renderText())}for(let T=0,q=t.length;T<q;T++){const re=t[T],Te=l[T];if(!Te)continue;const[Ve,rt]=Te;qi(()=>re.prepareRender(Ve,rt))}for(let T=0,q=t.length;T<q;T++){const re=t[T],Te=l[T];if(!Te)continue;const[Ve,rt]=Te;qi(()=>re.render(Ve,rt))}}}Es.INSTANCE=new Es;var rs=e(30653),Us=e(96518),Gi=e(29102),ys=e(84901),us=e(35534),is=e(55343);class Ss{constructor(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new is.rS(new F.e(1,1,1,1),0,0,new pe.L(1,1),0),new is.rS(new F.e(1,1,1,1),0,0,new pe.L(1,1),0))}dispose(t){this._removeTrackedRange(t)}startTrackingSelection(t){this._trackSelection=!0,this._updateTrackedRange(t)}stopTrackingSelection(t){this._trackSelection=!1,this._removeTrackedRange(t)}_updateTrackedRange(t){this._trackSelection&&(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new is.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(t){const l=t.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!l.isEmpty()?j.Y.fromRange(l.collapseToEnd(),this.modelState.selection.getDirection()):j.Y.fromRange(l,this.modelState.selection.getDirection())}ensureValidState(t){this._setState(t,this.modelState,this.viewState)}setState(t,l,T){this._setState(t,l,T)}static _validatePositionWithCache(t,l,T,q){return l.equals(T)?q:t.normalizePosition(l,2)}static _validateViewState(t,l){const T=l.position,q=l.selectionStart.getStartPosition(),re=l.selectionStart.getEndPosition(),Te=t.normalizePosition(T,2),Ve=this._validatePositionWithCache(t,q,T,Te),rt=this._validatePositionWithCache(t,re,q,Ve);return T.equals(Te)&&q.equals(Ve)&&re.equals(rt)?l:new is.rS(F.e.fromPositions(Ve,rt),l.selectionStartKind,l.selectionStartLeftoverVisibleColumns+q.column-Ve.column,Te,l.leftoverVisibleColumns+T.column-Te.column)}_setState(t,l,T){if(T&&(T=Ss._validateViewState(t.viewModel,T)),l){const q=t.model.validateRange(l.selectionStart),re=l.selectionStart.equalsRange(q)?l.selectionStartLeftoverVisibleColumns:0,Te=t.model.validatePosition(l.position),Ve=l.position.equals(Te)?l.leftoverVisibleColumns:0;l=new is.rS(q,l.selectionStartKind,re,Te,Ve)}else{if(!T)return;const q=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(T.selectionStart)),re=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(T.position));l=new is.rS(q,T.selectionStartKind,T.selectionStartLeftoverVisibleColumns,re,T.leftoverVisibleColumns)}if(T){const q=t.coordinatesConverter.validateViewRange(T.selectionStart,l.selectionStart),re=t.coordinatesConverter.validateViewPosition(T.position,l.position);T=new is.rS(q,l.selectionStartKind,l.selectionStartLeftoverVisibleColumns,re,l.leftoverVisibleColumns)}else{const q=t.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(l.selectionStart.startLineNumber,l.selectionStart.startColumn)),re=t.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(l.selectionStart.endLineNumber,l.selectionStart.endColumn)),Te=new F.e(q.lineNumber,q.column,re.lineNumber,re.column),Ve=t.coordinatesConverter.convertModelPositionToViewPosition(l.position);T=new is.rS(Te,l.selectionStartKind,l.selectionStartLeftoverVisibleColumns,Ve,l.leftoverVisibleColumns)}this.modelState=l,this.viewState=T,this._updateTrackedRange(t)}}class Ps{constructor(t){this.context=t,this.cursors=[new Ss(t)],this.lastAddedCursorIndex=0}dispose(){for(const t of this.cursors)t.dispose(this.context)}startTrackingSelections(){for(const t of this.cursors)t.startTrackingSelection(this.context)}stopTrackingSelections(){for(const t of this.cursors)t.stopTrackingSelection(this.context)}updateContext(t){this.context=t}ensureValidState(){for(const t of this.cursors)t.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(t=>t.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(t=>t.asCursorState())}getViewPositions(){return this.cursors.map(t=>t.viewState.position)}getTopMostViewPosition(){return(0,us.Ph)(this.cursors,(0,d.tT)(t=>t.viewState.position,pe.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,us.jV)(this.cursors,(0,d.tT)(t=>t.viewState.position,pe.L.compare)).viewState.position}getSelections(){return this.cursors.map(t=>t.modelState.selection)}getViewSelections(){return this.cursors.map(t=>t.viewState.selection)}setSelections(t){this.setStates(is.Vi.fromModelSelections(t))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(t){t!==null&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))}_setSecondaryStates(t){const l=this.cursors.length-1,T=t.length;if(l<T){const q=T-l;for(let re=0;re<q;re++)this._addSecondaryCursor()}else if(l>T){const q=l-T;for(let re=0;re<q;re++)this._removeSecondaryCursor(this.cursors.length-2)}for(let q=0;q<T;q++)this.cursors[q+1].setState(this.context,t[q].modelState,t[q].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Ss(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)}normalize(){if(this.cursors.length===1)return;const t=this.cursors.slice(0),l=[];for(let T=0,q=t.length;T<q;T++)l.push({index:T,selection:t[T].modelState.selection});l.sort((0,d.tT)(T=>T.selection,F.e.compareRangesUsingStarts));for(let T=0;T<l.length-1;T++){const q=l[T],re=l[T+1],Te=q.selection,Ve=re.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let rt;if(Ve.isEmpty()||Te.isEmpty()?rt=Ve.getStartPosition().isBeforeOrEqual(Te.getEndPosition()):rt=Ve.getStartPosition().isBefore(Te.getEndPosition()),rt){const vt=q.index<re.index?T:T+1,It=q.index<re.index?T+1:T,Wt=l[It].index,Kt=l[vt].index,nn=l[It].selection,mn=l[vt].selection;if(!nn.equalsSelection(mn)){const xn=nn.plusRange(mn),Pn=nn.selectionStartLineNumber===nn.startLineNumber&&nn.selectionStartColumn===nn.startColumn,kn=mn.selectionStartLineNumber===mn.startLineNumber&&mn.selectionStartColumn===mn.startColumn;let ti;Wt===this.lastAddedCursorIndex?(ti=Pn,this.lastAddedCursorIndex=Kt):ti=kn;let ai;ti?ai=new j.Y(xn.startLineNumber,xn.startColumn,xn.endLineNumber,xn.endColumn):ai=new j.Y(xn.endLineNumber,xn.endColumn,xn.startLineNumber,xn.startColumn),l[vt].selection=ai;const Mi=is.Vi.fromModelSelection(ai);t[Kt].setState(this.context,Mi.modelState,Mi.viewState)}for(const xn of l)xn.index>Wt&&xn.index--;t.splice(Wt,1),l.splice(It,1),this._removeSecondaryCursor(Wt-1),T--}}}}class no{constructor(t,l,T,q){this._cursorContextBrand=void 0,this.model=t,this.viewModel=l,this.coordinatesConverter=T,this.cursorConfig=q}}var ar=e(29436),_s=e(94729),ks=e(14706);class Vo{constructor(){this.type=0}}class ca{constructor(){this.type=1}}class Do{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class Qo{constructor(t,l,T){this.selections=t,this.modelSelections=l,this.reason=T,this.type=3}}class bo{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler,this.affectsGlyphMargin=t.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class Yo{constructor(){this.type=5}}class lr{constructor(t){this.type=6,this.isFocused=t}}class Vr{constructor(){this.type=7}}class Gs{constructor(){this.type=8}}class Xo{constructor(t,l){this.fromLineNumber=t,this.count=l,this.type=9}}class To{constructor(t,l){this.type=10,this.fromLineNumber=t,this.toLineNumber=l}}class go{constructor(t,l){this.type=11,this.fromLineNumber=t,this.toLineNumber=l}}class wo{constructor(t,l,T,q,re,Te,Ve){this.source=t,this.minimalReveal=l,this.range=T,this.selections=q,this.verticalType=re,this.revealHorizontal=Te,this.scrollType=Ve,this.type=12}}class yr{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class Io{constructor(t){this.theme=t,this.type=14}}class Sr{constructor(t){this.type=15,this.ranges=t}}class wr{constructor(){this.type=16}}class ka{constructor(){this.type=17}}class Mo extends p.JT{constructor(){super(),this._onEvent=this._register(new D.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let l=0,T=this._outgoingEvents.length;l<T;l++){const q=this._outgoingEvents[l].kind===t.kind?this._outgoingEvents[l].attemptToMerge(t):null;if(q){this._outgoingEvents[l]=q;return}}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let l=0,T=this._eventHandlers.length;l<T;l++)this._eventHandlers[l]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)}removeViewEventHandler(t){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===t){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Is),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const t=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const T of t)this._addOutgoingEvent(T);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const T of l)T.handleEvents(t)}}}class Is{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class yo{constructor(t,l,T,q){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=l,this.contentWidth=T,this.contentHeight=q,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new yo(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class Po{constructor(t,l){this.kind=1,this.oldHasFocus=t,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new Po(this.oldHasFocus,t.hasFocus)}}class cr{constructor(t,l,T,q,re,Te,Ve,rt){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=l,this._oldScrollHeight=T,this._oldScrollTop=q,this.scrollWidth=re,this.scrollLeft=Te,this.scrollHeight=Ve,this.scrollTop=rt,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(t){return t.kind!==this.kind?null:new cr(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class Ur{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Jo{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class dr{constructor(t,l,T,q,re,Te,Ve){this.kind=6,this.oldSelections=t,this.selections=l,this.oldModelVersionId=T,this.modelVersionId=q,this.source=re,this.reason=Te,this.reachedMaxCursorCount=Ve}static _selectionsAreEqual(t,l){if(!t&&!l)return!0;if(!t||!l)return!1;const T=t.length,q=l.length;if(T!==q)return!1;for(let re=0;re<T;re++)if(!t[re].equalsSelection(l[re]))return!1;return!0}isNoOp(){return dr._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new dr(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class Ro{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Fa{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class qo{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class zr{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class jr{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class mo{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class lo{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}class ji extends p.JT{constructor(t,l,T,q){super(),this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=l,this._coordinatesConverter=T,this.context=new no(this._model,this._viewModel,this._coordinatesConverter,q),this._cursors=new Ps(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,p.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new no(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const t=this._cursors.getSelections();for(let l=0;l<this._autoClosedActions.length;l++){const T=this._autoClosedActions[l];T.isValid(t)||(T.dispose(),this._autoClosedActions.splice(l,1),l--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,l,T,q){let re=!1;const Te=this.context.cursorConfig.multiCursorLimit;q!==null&&q.length>Te&&(q=q.slice(0,Te),re=!0);const Ve=Uo.from(this._model,this);return this._cursors.setStates(q),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,l,T,Ve,re)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,l,T,q,re,Te){const Ve=this._cursors.getViewPositions();let rt=null,vt=null;Ve.length>1?vt=this._cursors.getViewSelections():rt=F.e.fromPositions(Ve[0],Ve[0]),t.emitViewEvent(new wo(l,T,rt,vt,q,re,Te))}saveState(){const t=[],l=this._cursors.getSelections();for(let T=0,q=l.length;T<q;T++){const re=l[T];t.push({inSelectionMode:!re.isEmpty(),selectionStart:{lineNumber:re.selectionStartLineNumber,column:re.selectionStartColumn},position:{lineNumber:re.positionLineNumber,column:re.positionColumn}})}return t}restoreState(t,l){const T=[];for(let q=0,re=l.length;q<re;q++){const Te=l[q];let Ve=1,rt=1;Te.position&&Te.position.lineNumber&&(Ve=Te.position.lineNumber),Te.position&&Te.position.column&&(rt=Te.position.column);let vt=Ve,It=rt;Te.selectionStart&&Te.selectionStart.lineNumber&&(vt=Te.selectionStart.lineNumber),Te.selectionStart&&Te.selectionStart.column&&(It=Te.selectionStart.column),T.push({selectionStartLineNumber:vt,selectionStartColumn:It,positionLineNumber:Ve,positionColumn:rt})}this.setStates(t,"restoreState",0,is.Vi.fromModelSelections(T)),this.revealPrimary(t,"restoreState",!1,0,!0,1)}onModelContentChanged(t,l){if(l instanceof ks.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const T=l.rawContentChangedEvent;if(this._knownModelVersionId=T.versionId,this._isHandling)return;const q=T.containsEvent(1);if(this._prevEditOperationType=0,q)this._cursors.dispose(),this._cursors=new Ps(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&T.resultingSelection&&T.resultingSelection.length>0){const re=is.Vi.fromModelSelections(T.resultingSelection);this.setStates(t,"modelChange",T.isUndoing?5:T.isRedoing?6:2,re)&&this.revealPrimary(t,"modelChange",!1,0,!0,0)}else{const re=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,is.Vi.fromModelSelections(re))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),l=t.viewState.selectionStart.getStartPosition(),T=t.viewState.position;return{isReal:!1,fromViewLineNumber:l.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,l),toViewLineNumber:T.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,T)}}getSelections(){return this._cursors.getSelections()}setSelections(t,l,T,q){this.setStates(t,l,q,is.Vi.fromModelSelections(T))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,l){const T=[],q=[];for(let Ve=0,rt=t.length;Ve<rt;Ve++)T.push({range:t[Ve],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),q.push({range:l[Ve],options:{description:"auto-closed-enclosing",stickiness:1}});const re=this._model.deltaDecorations([],T),Te=this._model.deltaDecorations([],q);this._autoClosedActions.push(new Kr(this._model,re,Te))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const l=Lr.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(l){this._interpretCommandResult(l);const T=[],q=[];for(let re=0;re<t.commands.length;re++){const Te=t.commands[re];Te instanceof _s.g_&&Te.enclosingRange&&Te.closeCharacterRange&&(T.push(Te.closeCharacterRange),q.push(Te.enclosingRange))}T.length>0&&this._pushAutoClosedAction(T,q),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,l,T,q,re){const Te=Uo.from(this._model,this);if(Te.equals(q))return!1;const Ve=this._cursors.getSelections(),rt=this._cursors.getViewSelections();if(t.emitViewEvent(new Qo(rt,Ve,T)),!q||q.cursorState.length!==Te.cursorState.length||Te.cursorState.some((vt,It)=>!vt.modelState.equals(q.cursorState[It].modelState))){const vt=q?q.cursorState.map(Wt=>Wt.modelState.selection):null,It=q?q.modelVersionId:0;t.emitOutgoingEvent(new dr(vt,Ve,It,Te.modelVersionId,l||"keyboard",T,re))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;const l=[];for(let T=0,q=t.length;T<q;T++){const re=t[T];if(!re.text||re.text.indexOf(`
`)>=0)return null;const Te=re.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Te)return null;const Ve=Te[1],rt=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ve);if(!rt||rt.length!==1)return null;const vt=rt[0].open,It=re.text.length-Te[2].length-1,Wt=re.text.lastIndexOf(vt,It-1);if(Wt===-1)return null;l.push([Wt,It])}return l}executeEdits(t,l,T,q){let re=null;l==="snippet"&&(re=this._findAutoClosingPairs(T)),re&&(T[0]._isTracked=!0);const Te=[],Ve=[],rt=this._model.pushEditOperations(this.getSelections(),T,vt=>{if(re)for(let Wt=0,Kt=re.length;Wt<Kt;Wt++){const[nn,mn]=re[Wt],xn=vt[Wt],Pn=xn.range.startLineNumber,kn=xn.range.startColumn-1+nn,ti=xn.range.startColumn-1+mn;Te.push(new F.e(Pn,ti+1,Pn,ti+2)),Ve.push(new F.e(Pn,kn+1,Pn,ti+2))}const It=q(vt);return It&&(this._isHandling=!0),It});rt&&(this._isHandling=!1,this.setSelections(t,l,rt,0)),Te.length>0&&this._pushAutoClosedAction(Te,Ve)}_executeEdit(t,l,T,q=0){if(this.context.cursorConfig.readOnly)return;const re=Uo.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(Te){(0,M.dL)(Te)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,T,q,re,!1)&&this.revealPrimary(l,T,!1,0,!0,0)}getAutoClosedCharacters(){return Kr.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._compositionState=new Oo(this._model,this.getSelections())}endComposition(t,l){const T=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{l==="keyboard"&&this._executeEditOperation(_s.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,T,this.getSelections(),this.getAutoClosedCharacters()))},t,l)}type(t,l,T){this._executeEdit(()=>{if(T==="keyboard"){const q=l.length;let re=0;for(;re<q;){const Te=_t.vH(l,re),Ve=l.substr(re,Te);this._executeEditOperation(_s.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Ve)),re+=Te}}else this._executeEditOperation(_s.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l))},t,T)}compositionType(t,l,T,q,re,Te){if(l.length===0&&T===0&&q===0){if(re!==0){const Ve=this.getSelections().map(rt=>{const vt=rt.getPosition();return new j.Y(vt.lineNumber,vt.column+re,vt.lineNumber,vt.column+re)});this.setSelections(t,Te,Ve,0)}return}this._executeEdit(()=>{this._executeEditOperation(_s.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l,T,q,re))},t,Te)}paste(t,l,T,q,re){this._executeEdit(()=>{this._executeEditOperation(_s.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),l,T,q||[]))},t,re,4)}cut(t,l){this._executeEdit(()=>{this._executeEditOperation(ar.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,l)}executeCommand(t,l,T){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new is.Tp(0,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,T)}executeCommands(t,l,T){this._executeEdit(()=>{this._executeEditOperation(new is.Tp(0,l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,T)}}class Uo{static from(t,l){return new Uo(t.getVersionId(),l.getCursorStates())}constructor(t,l){this.modelVersionId=t,this.cursorState=l}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let l=0,T=this.cursorState.length;l<T;l++)if(!this.cursorState[l].equals(t.cursorState[l]))return!1;return!0}}class Kr{static getAllAutoClosedCharacters(t){let l=[];for(const T of t)l=l.concat(T.getAutoClosedCharactersRanges());return l}constructor(t,l,T){this._model=t,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=T}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const t=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const T=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);T&&t.push(T)}return t}isValid(t){const l=[];for(let T=0;T<this._autoClosedEnclosingDecorations.length;T++){const q=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[T]);if(q&&(l.push(q),q.startLineNumber!==q.endLineNumber))return!1}l.sort(F.e.compareRangesUsingStarts),t.sort(F.e.compareRangesUsingStarts);for(let T=0;T<t.length;T++)if(T>=l.length||!l[T].strictContainsRange(t[T]))return!1;return!0}}class Lr{static executeCommands(t,l,T){const q={model:t,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},re=this._innerExecuteCommands(q,T);for(let Te=0,Ve=q.trackedRanges.length;Te<Ve;Te++)q.model._setTrackedRange(q.trackedRanges[Te],null,0);return re}static _innerExecuteCommands(t,l){if(this._arrayIsEmpty(l))return null;const T=this._getEditOperations(t,l);if(T.operations.length===0)return null;const q=T.operations,re=this._getLoserCursorMap(q);if(re.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Te=[];for(let vt=0,It=q.length;vt<It;vt++)re.hasOwnProperty(q[vt].identifier.major.toString())||Te.push(q[vt]);T.hadTrackedEditOperation&&Te.length>0&&(Te[0]._isTracked=!0);let Ve=t.model.pushEditOperations(t.selectionsBefore,Te,vt=>{const It=[];for(let nn=0;nn<t.selectionsBefore.length;nn++)It[nn]=[];for(const nn of vt)nn.identifier&&It[nn.identifier.major].push(nn);const Wt=(nn,mn)=>nn.identifier.minor-mn.identifier.minor,Kt=[];for(let nn=0;nn<t.selectionsBefore.length;nn++)It[nn].length>0?(It[nn].sort(Wt),Kt[nn]=l[nn].computeCursorState(t.model,{getInverseEditOperations:()=>It[nn],getTrackedSelection:mn=>{const xn=parseInt(mn,10),Pn=t.model._getTrackedRange(t.trackedRanges[xn]);return t.trackedRangesDirection[xn]===0?new j.Y(Pn.startLineNumber,Pn.startColumn,Pn.endLineNumber,Pn.endColumn):new j.Y(Pn.endLineNumber,Pn.endColumn,Pn.startLineNumber,Pn.startColumn)}})):Kt[nn]=t.selectionsBefore[nn];return Kt});Ve||(Ve=t.selectionsBefore);const rt=[];for(const vt in re)re.hasOwnProperty(vt)&&rt.push(parseInt(vt,10));rt.sort((vt,It)=>It-vt);for(const vt of rt)Ve.splice(vt,1);return Ve}static _arrayIsEmpty(t){for(let l=0,T=t.length;l<T;l++)if(t[l])return!1;return!0}static _getEditOperations(t,l){let T=[],q=!1;for(let re=0,Te=l.length;re<Te;re++){const Ve=l[re];if(Ve){const rt=this._getEditOperationsFromCommand(t,re,Ve);T=T.concat(rt.operations),q=q||rt.hadTrackedEditOperation}}return{operations:T,hadTrackedEditOperation:q}}static _getEditOperationsFromCommand(t,l,T){const q=[];let re=0;const Te=(Wt,Kt,nn=!1)=>{F.e.isEmpty(Wt)&&Kt===""||q.push({identifier:{major:l,minor:re++},range:Wt,text:Kt,forceMoveMarkers:nn,isAutoWhitespaceEdit:T.insertsAutoWhitespace})};let Ve=!1;const It={addEditOperation:Te,addTrackedEditOperation:(Wt,Kt,nn)=>{Ve=!0,Te(Wt,Kt,nn)},trackSelection:(Wt,Kt)=>{const nn=j.Y.liftSelection(Wt);let mn;if(nn.isEmpty())if(typeof Kt=="boolean")Kt?mn=2:mn=3;else{const kn=t.model.getLineMaxColumn(nn.startLineNumber);nn.startColumn===kn?mn=2:mn=3}else mn=1;const xn=t.trackedRanges.length,Pn=t.model._setTrackedRange(null,nn,mn);return t.trackedRanges[xn]=Pn,t.trackedRangesDirection[xn]=nn.getDirection(),xn.toString()}};try{T.getEditOperations(t.model,It)}catch(Wt){return(0,M.dL)(Wt),{operations:[],hadTrackedEditOperation:!1}}return{operations:q,hadTrackedEditOperation:Ve}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((T,q)=>-F.e.compareRangesUsingEnds(T.range,q.range));const l={};for(let T=1;T<t.length;T++){const q=t[T-1],re=t[T];if(F.e.getStartPosition(q.range).isBefore(F.e.getEndPosition(re.range))){let Te;q.identifier.major>re.identifier.major?Te=q.identifier.major:Te=re.identifier.major,l[Te.toString()]=!0;for(let Ve=0;Ve<t.length;Ve++)t[Ve].identifier.major===Te&&(t.splice(Ve,1),Ve<T&&T--,Ve--);T>0&&T--}}return l}}class co{constructor(t,l,T){this.text=t,this.startSelection=l,this.endSelection=T}}class Oo{static _capture(t,l){const T=[];for(const q of l){if(q.startLineNumber!==q.endLineNumber)return null;T.push(new co(t.getLineContent(q.startLineNumber),q.startColumn-1,q.endColumn-1))}return T}constructor(t,l){this._original=Oo._capture(t,l)}deduceOutcome(t,l){if(!this._original)return null;const T=Oo._capture(t,l);if(!T||this._original.length!==T.length)return null;const q=[];for(let re=0,Te=this._original.length;re<Te;re++)q.push(Oo._deduceOutcome(this._original[re],T[re]));return q}static _deduceOutcome(t,l){const T=Math.min(t.startSelection,l.startSelection,_t.Mh(t.text,l.text)),q=Math.min(t.text.length-t.endSelection,l.text.length-l.endSelection,_t.P1(t.text,l.text)),re=t.text.substring(T,t.text.length-q),Te=l.text.substring(T,l.text.length-q);return new _s.Nu(re,t.startSelection-T,t.endSelection-T,Te,l.startSelection-T,l.endSelection-T)}}var zo=e(68801),ur=e(82963),cs=e(76633);class hs{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const l=this._inserts,T=this._changes,q=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(l,T,q)}}class Rs{constructor(t,l,T,q,re){this.id=t,this.afterLineNumber=l,this.ordinal=T,this.height=q,this.minWidth=re,this.prefixSum=0}}class Ts{constructor(t,l,T,q){this._instanceId=_t.PJ(++Ts.INSTANCE_COUNT),this._pendingChanges=new hs,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=l,this._paddingTop=T,this._paddingBottom=q}static findInsertionIndex(t,l,T){let q=0,re=t.length;for(;q<re;){const Te=q+re>>>1;l===t[Te].afterLineNumber?T<t[Te].ordinal?re=Te:q=Te+1:l<t[Te].afterLineNumber?re=Te:q=Te+1}return q}setLineHeight(t){this._checkPendingChanges(),this._lineHeight=t}setPadding(t,l){this._paddingTop=t,this._paddingBottom=l}onFlushed(t){this._checkPendingChanges(),this._lineCount=t}changeWhitespace(t){let l=!1;try{t({insertWhitespace:(q,re,Te,Ve)=>{l=!0,q=q|0,re=re|0,Te=Te|0,Ve=Ve|0;const rt=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Rs(rt,q,re,Te,Ve)),rt},changeOneWhitespace:(q,re,Te)=>{l=!0,re=re|0,Te=Te|0,this._pendingChanges.change({id:q,newAfterLineNumber:re,newHeight:Te})},removeWhitespace:q=>{l=!0,this._pendingChanges.remove({id:q})}})}finally{this._pendingChanges.commit(this)}return l}_commitPendingChanges(t,l,T){if((t.length>0||T.length>0)&&(this._minWidth=-1),t.length+l.length+T.length<=1){for(const rt of t)this._insertWhitespace(rt);for(const rt of l)this._changeOneWhitespace(rt.id,rt.newAfterLineNumber,rt.newHeight);for(const rt of T){const vt=this._findWhitespaceIndex(rt.id);vt!==-1&&this._removeWhitespace(vt)}return}const q=new Set;for(const rt of T)q.add(rt.id);const re=new Map;for(const rt of l)re.set(rt.id,rt);const Te=rt=>{const vt=[];for(const It of rt)if(!q.has(It.id)){if(re.has(It.id)){const Wt=re.get(It.id);It.afterLineNumber=Wt.newAfterLineNumber,It.height=Wt.newHeight}vt.push(It)}return vt},Ve=Te(this._arr).concat(Te(t));Ve.sort((rt,vt)=>rt.afterLineNumber===vt.afterLineNumber?rt.ordinal-vt.ordinal:rt.afterLineNumber-vt.afterLineNumber),this._arr=Ve,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const l=Ts.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(l,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,l-1)}_findWhitespaceIndex(t){const l=this._arr;for(let T=0,q=l.length;T<q;T++)if(l[T].id===t)return T;return-1}_changeOneWhitespace(t,l,T){const q=this._findWhitespaceIndex(t);if(q!==-1&&(this._arr[q].height!==T&&(this._arr[q].height=T,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,q-1)),this._arr[q].afterLineNumber!==l)){const re=this._arr[q];this._removeWhitespace(q),re.afterLineNumber=l,this._insertWhitespace(re)}}_removeWhitespace(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}onLinesDeleted(t,l){this._checkPendingChanges(),t=t|0,l=l|0,this._lineCount-=l-t+1;for(let T=0,q=this._arr.length;T<q;T++){const re=this._arr[T].afterLineNumber;t<=re&&re<=l?this._arr[T].afterLineNumber=t-1:re>l&&(this._arr[T].afterLineNumber-=l-t+1)}}onLinesInserted(t,l){this._checkPendingChanges(),t=t|0,l=l|0,this._lineCount+=l-t+1;for(let T=0,q=this._arr.length;T<q;T++){const re=this._arr[T].afterLineNumber;t<=re&&(this._arr[T].afterLineNumber+=l-t+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(t){this._checkPendingChanges(),t=t|0;let l=Math.max(0,this._prefixSumValidIndex+1);l===0&&(this._arr[0].prefixSum=this._arr[0].height,l++);for(let T=l;T<=t;T++)this._arr[T].prefixSum=this._arr[T-1].prefixSum+this._arr[T].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const t=this._lineHeight*this._lineCount,l=this.getWhitespacesTotalHeight();return t+l+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(t){this._checkPendingChanges(),t=t|0;const l=this._findLastWhitespaceBeforeLineNumber(t);return l===-1?0:this.getWhitespacesAccumulatedHeight(l)}_findLastWhitespaceBeforeLineNumber(t){t=t|0;const l=this._arr;let T=0,q=l.length-1;for(;T<=q;){const Te=(q-T|0)/2|0,Ve=T+Te|0;if(l[Ve].afterLineNumber<t){if(Ve+1>=l.length||l[Ve+1].afterLineNumber>=t)return Ve;T=Ve+1|0}else q=Ve-1|0}return-1}_findFirstWhitespaceAfterLineNumber(t){t=t|0;const T=this._findLastWhitespaceBeforeLineNumber(t)+1;return T<this._arr.length?T:-1}getFirstWhitespaceIndexAfterLineNumber(t){return this._checkPendingChanges(),t=t|0,this._findFirstWhitespaceAfterLineNumber(t)}getVerticalOffsetForLineNumber(t,l=!1){this._checkPendingChanges(),t=t|0;let T;t>1?T=this._lineHeight*(t-1):T=0;const q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t-(l?1:0));return T+q+this._paddingTop}getVerticalOffsetAfterLineNumber(t,l=!1){this._checkPendingChanges(),t=t|0;const T=this._lineHeight*t,q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t+(l?1:0));return T+q+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let t=0;for(let l=0,T=this._arr.length;l<T;l++)t=Math.max(t,this._arr[l].minWidth);this._minWidth=t}return this._minWidth}isAfterLines(t){this._checkPendingChanges();const l=this.getLinesTotalHeight();return t>l}isInTopPadding(t){return this._paddingTop===0?!1:(this._checkPendingChanges(),t<this._paddingTop)}isInBottomPadding(t){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const l=this.getLinesTotalHeight();return t>=l-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(t){if(this._checkPendingChanges(),t=t|0,t<0)return 1;const l=this._lineCount|0,T=this._lineHeight;let q=1,re=l;for(;q<re;){const Te=(q+re)/2|0,Ve=this.getVerticalOffsetForLineNumber(Te)|0;if(t>=Ve+T)q=Te+1;else{if(t>=Ve)return Te;re=Te}}return q>l?l:q}getLinesViewportData(t,l){this._checkPendingChanges(),t=t|0,l=l|0;const T=this._lineHeight,q=this.getLineNumberAtOrAfterVerticalOffset(t)|0,re=this.getVerticalOffsetForLineNumber(q)|0;let Te=this._lineCount|0,Ve=this.getFirstWhitespaceIndexAfterLineNumber(q)|0;const rt=this.getWhitespacesCount()|0;let vt,It;Ve===-1?(Ve=rt,It=Te+1,vt=0):(It=this.getAfterLineNumberForWhitespaceIndex(Ve)|0,vt=this.getHeightForWhitespaceIndex(Ve)|0);let Wt=re,Kt=Wt;const nn=5e5;let mn=0;re>=nn&&(mn=Math.floor(re/nn)*nn,mn=Math.floor(mn/T)*T,Kt-=mn);const xn=[],Pn=t+(l-t)/2;let kn=-1;for(let Ei=q;Ei<=Te;Ei++){if(kn===-1){const $i=Wt,Vi=Wt+T;($i<=Pn&&Pn<Vi||$i>Pn)&&(kn=Ei)}for(Wt+=T,xn[Ei-q]=Kt,Kt+=T;It===Ei;)Kt+=vt,Wt+=vt,Ve++,Ve>=rt?It=Te+1:(It=this.getAfterLineNumberForWhitespaceIndex(Ve)|0,vt=this.getHeightForWhitespaceIndex(Ve)|0);if(Wt>=l){Te=Ei;break}}kn===-1&&(kn=Te);const ti=this.getVerticalOffsetForLineNumber(Te)|0;let ai=q,Mi=Te;return ai<Mi&&re<t&&ai++,ai<Mi&&ti+T>l&&Mi--,{bigNumbersDelta:mn,startLineNumber:q,endLineNumber:Te,relativeVerticalOffset:xn,centeredLineNumber:kn,completelyVisibleStartLineNumber:ai,completelyVisibleEndLineNumber:Mi}}getVerticalOffsetForWhitespaceIndex(t){this._checkPendingChanges(),t=t|0;const l=this.getAfterLineNumberForWhitespaceIndex(t);let T;l>=1?T=this._lineHeight*l:T=0;let q;return t>0?q=this.getWhitespacesAccumulatedHeight(t-1):q=0,T+q+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(t){this._checkPendingChanges(),t=t|0;let l=0,T=this.getWhitespacesCount()-1;if(T<0)return-1;const q=this.getVerticalOffsetForWhitespaceIndex(T),re=this.getHeightForWhitespaceIndex(T);if(t>=q+re)return-1;for(;l<T;){const Te=Math.floor((l+T)/2),Ve=this.getVerticalOffsetForWhitespaceIndex(Te),rt=this.getHeightForWhitespaceIndex(Te);if(t>=Ve+rt)l=Te+1;else{if(t>=Ve)return Te;T=Te}}return l}getWhitespaceAtVerticalOffset(t){this._checkPendingChanges(),t=t|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(l<0||l>=this.getWhitespacesCount())return null;const T=this.getVerticalOffsetForWhitespaceIndex(l);if(T>t)return null;const q=this.getHeightForWhitespaceIndex(l),re=this.getIdForWhitespaceIndex(l),Te=this.getAfterLineNumberForWhitespaceIndex(l);return{id:re,afterLineNumber:Te,verticalOffset:T,height:q}}getWhitespaceViewportData(t,l){this._checkPendingChanges(),t=t|0,l=l|0;const T=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),q=this.getWhitespacesCount()-1;if(T<0)return[];const re=[];for(let Te=T;Te<=q;Te++){const Ve=this.getVerticalOffsetForWhitespaceIndex(Te),rt=this.getHeightForWhitespaceIndex(Te);if(Ve>=l)break;re.push({id:this.getIdForWhitespaceIndex(Te),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Te),verticalOffset:Ve,height:rt})}return re}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].id}getAfterLineNumberForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].afterLineNumber}getHeightForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].height}}Ts.INSTANCE_COUNT=0;const Os=125;class Js{constructor(t,l,T,q){t=t|0,l=l|0,T=T|0,q=q|0,t<0&&(t=0),l<0&&(l=0),T<0&&(T=0),q<0&&(q=0),this.width=t,this.contentWidth=l,this.scrollWidth=Math.max(t,l),this.height=T,this.contentHeight=q,this.scrollHeight=Math.max(T,q)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class xs extends p.JT{constructor(t,l){super(),this._onDidContentSizeChange=this._register(new D.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Js(0,0,0,0),this._scrollable=this._register(new cs.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:l})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const l=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const T=l.contentWidth!==t.contentWidth,q=l.contentHeight!==t.contentHeight;(T||q)&&this._onDidContentSizeChange.fire(new yo(l.contentWidth,l.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class po extends p.JT{constructor(t,l,T){super(),this._configuration=t;const q=this._configuration.options,re=q.get(143),Te=q.get(83);this._linesLayout=new Ts(l,q.get(66),Te.top,Te.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new xs(0,T)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Js(re.contentWidth,0,re.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?Os:0)}onConfigurationChanged(t){const l=this._configuration.options;if(t.hasChanged(66)&&this._linesLayout.setLineHeight(l.get(66)),t.hasChanged(83)){const T=l.get(83);this._linesLayout.setPadding(T.top,T.bottom)}if(t.hasChanged(143)){const T=l.get(143),q=T.contentWidth,re=T.height,Te=this._scrollable.getScrollDimensions(),Ve=Te.contentWidth;this._scrollable.setScrollDimensions(new Js(q,Te.contentWidth,re,this._getContentHeight(q,re,Ve)))}else this._updateHeight();t.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,l){this._linesLayout.onLinesDeleted(t,l)}onLinesInserted(t,l){this._linesLayout.onLinesInserted(t,l)}_getHorizontalScrollbarHeight(t,l){const q=this._configuration.options.get(102);return q.horizontal===2||t>=l?0:q.horizontalScrollbarSize}_getContentHeight(t,l,T){const q=this._configuration.options;let re=this._linesLayout.getLinesTotalHeight();return q.get(104)?re+=Math.max(0,l-q.get(66)-q.get(83).bottom):q.get(102).ignoreHorizontalScrollbarInContentHeight||(re+=this._getHorizontalScrollbarHeight(t,T)),re}_updateHeight(){const t=this._scrollable.getScrollDimensions(),l=t.width,T=t.height,q=t.contentWidth;this._scrollable.setScrollDimensions(new Js(l,t.contentWidth,T,this._getContentHeight(l,T,q)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),l=this._scrollable.getCurrentScrollPosition();return new hn.l_(l.scrollTop,l.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),l=this._scrollable.getFutureScrollPosition();return new hn.l_(l.scrollTop,l.scrollLeft,t.width,t.height)}_computeContentWidth(){const t=this._configuration.options,l=this._maxLineWidth,T=t.get(144),q=t.get(50),re=t.get(143);if(T.isViewportWrapping){const Te=t.get(72);return l>re.contentWidth+q.typicalHalfwidthCharacterWidth&&Te.enabled&&Te.side==="right"?l+re.verticalScrollbarWidth:l}else{const Te=t.get(103)*q.typicalHalfwidthCharacterWidth,Ve=this._linesLayout.getWhitespaceMinWidth();return Math.max(l+Te+re.verticalScrollbarWidth,Ve,this._overlayWidgetsMinWidth)}}setMaxLineWidth(t){this._maxLineWidth=t,this._updateContentWidth()}setOverlayWidgetsMinWidth(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()}_updateContentWidth(){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Js(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),l=t.scrollTop,T=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l),q=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(T);return{scrollTop:l,scrollTopWithoutViewZones:l-q,scrollLeft:t.scrollLeft}}changeWhitespace(t){const l=this._linesLayout.changeWhitespace(t);return l&&this.onHeightMaybeChanged(),l}getVerticalOffsetForLineNumber(t,l=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,l)}getVerticalOffsetAfterLineNumber(t,l=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,l)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const l=this._scrollable.getScrollDimensions();return t+l.height>l.scrollHeight&&(t=l.scrollHeight-l.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+l.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,l){l===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,l){const T=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:T.scrollLeft+t,scrollTop:T.scrollTop+l})}}var da=e(30168),hr=e(77378);function fr(Gt,t){return Gt===null?t?Er.INSTANCE:So.INSTANCE:new ua(Gt,t)}class ua{constructor(t,l){this._projectionData=t,this._isVisible=l}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,l,T){this._assertVisible();const q=T>0?this._projectionData.breakOffsets[T-1]:0,re=this._projectionData.breakOffsets[T];let Te;if(this._projectionData.injectionOffsets!==null){const Ve=this._projectionData.injectionOffsets.map((vt,It)=>new ks.gk(0,0,vt+1,this._projectionData.injectionOptions[It],0));Te=ks.gk.applyInjectedText(t.getLineContent(l),Ve).substring(q,re)}else Te=t.getValueInRange({startLineNumber:l,startColumn:q+1,endLineNumber:l,endColumn:re+1});return T>0&&(Te=Lo(this._projectionData.wrappedTextIndentLength)+Te),Te}getViewLineLength(t,l,T){return this._assertVisible(),this._projectionData.getLineLength(T)}getViewLineMinColumn(t,l,T){return this._assertVisible(),this._projectionData.getMinOutputOffset(T)+1}getViewLineMaxColumn(t,l,T){return this._assertVisible(),this._projectionData.getMaxOutputOffset(T)+1}getViewLineData(t,l,T){const q=new Array;return this.getViewLinesData(t,l,T,1,0,[!0],q),q[0]}getViewLinesData(t,l,T,q,re,Te,Ve){this._assertVisible();const rt=this._projectionData,vt=rt.injectionOffsets,It=rt.injectionOptions;let Wt=null;if(vt){Wt=[];let nn=0,mn=0;for(let xn=0;xn<rt.getOutputLineCount();xn++){const Pn=new Array;Wt[xn]=Pn;const kn=xn>0?rt.breakOffsets[xn-1]:0,ti=rt.breakOffsets[xn];for(;mn<vt.length;){const ai=It[mn].content.length,Mi=vt[mn]+nn,Ei=Mi+ai;if(Mi>ti)break;if(kn<Ei){const $i=It[mn];if($i.inlineClassName){const Vi=xn>0?rt.wrappedTextIndentLength:0,Qi=Vi+Math.max(Mi-kn,0),xi=Vi+Math.min(Ei-kn,ti-kn);Qi!==xi&&Pn.push(new hn.Wx(Qi,xi,$i.inlineClassName,$i.inlineClassNameAffectsLetterSpacing))}}if(Ei<=ti)nn+=ai,mn++;else break}}}let Kt;vt?Kt=t.tokenization.getLineTokens(l).withInserted(vt.map((nn,mn)=>({offset:nn,text:It[mn].content,tokenMetadata:hr.A.defaultTokenMetadata}))):Kt=t.tokenization.getLineTokens(l);for(let nn=T;nn<T+q;nn++){const mn=re+nn-T;if(!Te[mn]){Ve[mn]=null;continue}Ve[mn]=this._getViewLineData(Kt,Wt?Wt[nn]:null,nn)}}_getViewLineData(t,l,T){this._assertVisible();const q=this._projectionData,re=T>0?q.wrappedTextIndentLength:0,Te=T>0?q.breakOffsets[T-1]:0,Ve=q.breakOffsets[T],rt=t.sliceAndInflate(Te,Ve,re);let vt=rt.getLineContent();T>0&&(vt=Lo(q.wrappedTextIndentLength)+vt);const It=this._projectionData.getMinOutputOffset(T)+1,Wt=vt.length+1,Kt=T+1<this.getViewLineCount(),nn=T===0?0:q.breakOffsetsVisibleColumn[T-1];return new hn.IP(vt,Kt,It,Wt,nn,rt,l)}getModelColumnOfViewPosition(t,l){return this._assertVisible(),this._projectionData.translateToInputOffset(t,l-1)+1}getViewPositionOfModelPosition(t,l,T=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,T).toPosition(t)}getViewLineNumberOfModelPosition(t,l){this._assertVisible();const T=this._projectionData.translateToOutputPosition(l-1);return t+T.outputLineIndex}normalizePosition(t,l,T){const q=l.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,l.column-1,T).toPosition(q)}getInjectedTextAt(t,l){return this._projectionData.getInjectedText(t,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Er{constructor(){}isVisible(){return!0}setVisible(t){return t?this:So.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,l,T){return t.getLineContent(l)}getViewLineLength(t,l,T){return t.getLineLength(l)}getViewLineMinColumn(t,l,T){return t.getLineMinColumn(l)}getViewLineMaxColumn(t,l,T){return t.getLineMaxColumn(l)}getViewLineData(t,l,T){const q=t.tokenization.getLineTokens(l),re=q.getLineContent();return new hn.IP(re,!1,1,re.length+1,0,q.inflate(),null)}getViewLinesData(t,l,T,q,re,Te,Ve){if(!Te[re]){Ve[re]=null;return}Ve[re]=this.getViewLineData(t,l,0)}getModelColumnOfViewPosition(t,l){return l}getViewPositionOfModelPosition(t,l){return new pe.L(t,l)}getViewLineNumberOfModelPosition(t,l){return t}normalizePosition(t,l,T){return l}getInjectedTextAt(t,l){return null}}Er.INSTANCE=new Er;class So{constructor(){}isVisible(){return!1}setVisible(t){return t?Er.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,l,T){throw new Error("Not supported")}getViewLineLength(t,l,T){throw new Error("Not supported")}getViewLineMinColumn(t,l,T){throw new Error("Not supported")}getViewLineMaxColumn(t,l,T){throw new Error("Not supported")}getViewLineData(t,l,T){throw new Error("Not supported")}getViewLinesData(t,l,T,q,re,Te,Ve){throw new Error("Not supported")}getModelColumnOfViewPosition(t,l){throw new Error("Not supported")}getViewPositionOfModelPosition(t,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,l){throw new Error("Not supported")}normalizePosition(t,l,T){throw new Error("Not supported")}getInjectedTextAt(t,l){throw new Error("Not supported")}}So.INSTANCE=new So;const xr=[""];function Lo(Gt){if(Gt>=xr.length)for(let t=1;t<=Gt;t++)xr[t]=ha(t);return xr[Gt]}function ha(Gt){return new Array(Gt+1).join(" ")}var fa=e(90310);class $r{constructor(t,l,T,q,re,Te,Ve,rt,vt,It){this._editorId=t,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=T,this._monospaceLineBreaksComputerFactory=q,this.fontInfo=re,this.tabSize=Te,this.wrappingStrategy=Ve,this.wrappingColumn=rt,this.wrappingIndent=vt,this.wordBreak=It,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Dr(this)}_constructLines(t,l){this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const T=this.model.getLinesContent(),q=this.model.getInjectedTextDecorations(this._editorId),re=T.length,Te=this.createLineBreaksComputer(),Ve=new d.H9(ks.gk.fromDecorations(q));for(let xn=0;xn<re;xn++){const Pn=Ve.takeWhile(kn=>kn.lineNumber===xn+1);Te.addRequest(T[xn],Pn,l?l[xn]:null)}const rt=Te.finalize(),vt=[],It=this.hiddenAreasDecorationIds.map(xn=>this.model.getDecorationRange(xn)).sort(F.e.compareRangesUsingStarts);let Wt=1,Kt=0,nn=-1,mn=nn+1<It.length?Kt+1:re+2;for(let xn=0;xn<re;xn++){const Pn=xn+1;Pn===mn&&(nn++,Wt=It[nn].startLineNumber,Kt=It[nn].endLineNumber,mn=nn+1<It.length?Kt+1:re+2);const kn=Pn>=Wt&&Pn<=Kt,ti=fr(rt[xn],!kn);vt[xn]=ti.getViewLineCount(),this.modelLineProjections[xn]=ti}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new fa.Ck(vt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(t=>this.model.getDecorationRange(t))}setHiddenAreas(t){const l=t.map(Kt=>this.model.validateRange(Kt)),T=er(l),q=this.hiddenAreasDecorationIds.map(Kt=>this.model.getDecorationRange(Kt)).sort(F.e.compareRangesUsingStarts);if(T.length===q.length){let Kt=!1;for(let nn=0;nn<T.length;nn++)if(!T[nn].equalsRange(q[nn])){Kt=!0;break}if(!Kt)return!1}const re=T.map(Kt=>({range:Kt,options:ys.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,re);const Te=T;let Ve=1,rt=0,vt=-1,It=vt+1<Te.length?rt+1:this.modelLineProjections.length+2,Wt=!1;for(let Kt=0;Kt<this.modelLineProjections.length;Kt++){const nn=Kt+1;nn===It&&(vt++,Ve=Te[vt].startLineNumber,rt=Te[vt].endLineNumber,It=vt+1<Te.length?rt+1:this.modelLineProjections.length+2);let mn=!1;if(nn>=Ve&&nn<=rt?this.modelLineProjections[Kt].isVisible()&&(this.modelLineProjections[Kt]=this.modelLineProjections[Kt].setVisible(!1),mn=!0):(Wt=!0,this.modelLineProjections[Kt].isVisible()||(this.modelLineProjections[Kt]=this.modelLineProjections[Kt].setVisible(!0),mn=!0)),mn){const xn=this.modelLineProjections[Kt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Kt,xn)}}return Wt||this.setHiddenAreas([]),!0}modelPositionIsVisible(t,l){return t<1||t>this.modelLineProjections.length?!1:this.modelLineProjections[t-1].isVisible()}getModelLineViewLineCount(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()}setTabSize(t){return this.tabSize===t?!1:(this.tabSize=t,this._constructLines(!1,null),!0)}setWrappingSettings(t,l,T,q,re){const Te=this.fontInfo.equals(t),Ve=this.wrappingStrategy===l,rt=this.wrappingColumn===T,vt=this.wrappingIndent===q,It=this.wordBreak===re;if(Te&&Ve&&rt&&vt&&It)return!1;const Wt=Te&&Ve&&!rt&&vt&&It;this.fontInfo=t,this.wrappingStrategy=l,this.wrappingColumn=T,this.wrappingIndent=q,this.wordBreak=re;let Kt=null;if(Wt){Kt=[];for(let nn=0,mn=this.modelLineProjections.length;nn<mn;nn++)Kt[nn]=this.modelLineProjections[nn].getProjectionData()}return this._constructLines(!1,Kt),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(t,l,T){if(!t||t<=this._validModelVersionId)return null;const q=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,re=this.projectedModelLineLineCounts.getPrefixSum(T);return this.modelLineProjections.splice(l-1,T-l+1),this.projectedModelLineLineCounts.removeValues(l-1,T-l+1),new To(q,re)}onModelLinesInserted(t,l,T,q){if(!t||t<=this._validModelVersionId)return null;const re=l>2&&!this.modelLineProjections[l-2].isVisible(),Te=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let Ve=0;const rt=[],vt=[];for(let It=0,Wt=q.length;It<Wt;It++){const Kt=fr(q[It],!re);rt.push(Kt);const nn=Kt.getViewLineCount();Ve+=nn,vt[It]=nn}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(rt).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,vt),new go(Te,Te+Ve-1)}onModelLineChanged(t,l,T){if(t!==null&&t<=this._validModelVersionId)return[!1,null,null,null];const q=l-1,re=this.modelLineProjections[q].getViewLineCount(),Te=this.modelLineProjections[q].isVisible(),Ve=fr(T,Te);this.modelLineProjections[q]=Ve;const rt=this.modelLineProjections[q].getViewLineCount();let vt=!1,It=0,Wt=-1,Kt=0,nn=-1,mn=0,xn=-1;re>rt?(It=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,Wt=It+rt-1,mn=Wt+1,xn=mn+(re-rt)-1,vt=!0):re<rt?(It=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,Wt=It+re-1,Kt=Wt+1,nn=Kt+(rt-re)-1,vt=!0):(It=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,Wt=It+rt-1),this.projectedModelLineLineCounts.setValue(q,rt);const Pn=It<=Wt?new Xo(It,Wt-It+1):null,kn=Kt<=nn?new go(Kt,nn):null,ti=mn<=xn?new To(mn,xn):null;return[vt,Pn,kn,ti]}acceptVersionId(t){this._validModelVersionId=t,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(t){if(t<1)return 1;const l=this.getViewLineCount();return t>l?l:t|0}getActiveIndentGuide(t,l,T){t=this._toValidViewLineNumber(t),l=this._toValidViewLineNumber(l),T=this._toValidViewLineNumber(T);const q=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),re=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),Te=this.convertViewPositionToModelPosition(T,this.getViewLineMinColumn(T)),Ve=this.model.guides.getActiveIndentGuide(q.lineNumber,re.lineNumber,Te.lineNumber),rt=this.convertModelPositionToViewPosition(Ve.startLineNumber,1),vt=this.convertModelPositionToViewPosition(Ve.endLineNumber,this.model.getLineMaxColumn(Ve.endLineNumber));return{startLineNumber:rt.lineNumber,endLineNumber:vt.lineNumber,indent:Ve.indent}}getViewLineInfo(t){t=this._toValidViewLineNumber(t);const l=this.projectedModelLineLineCounts.getIndexOf(t-1),T=l.index,q=l.remainder;return new ga(T+1,q)}getMinColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(t){const l=this.modelLineProjections[t.modelLineNumber-1],T=l.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),q=l.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,T);return new pe.L(t.modelLineNumber,q)}getModelEndPositionOfViewLine(t){const l=this.modelLineProjections[t.modelLineNumber-1],T=l.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),q=l.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,T);return new pe.L(t.modelLineNumber,q)}getViewLineInfosGroupedByModelRanges(t,l){const T=this.getViewLineInfo(t),q=this.getViewLineInfo(l),re=new Array;let Te=this.getModelStartPositionOfViewLine(T),Ve=new Array;for(let rt=T.modelLineNumber;rt<=q.modelLineNumber;rt++){const vt=this.modelLineProjections[rt-1];if(vt.isVisible()){const It=rt===T.modelLineNumber?T.modelLineWrappedLineIdx:0,Wt=rt===q.modelLineNumber?q.modelLineWrappedLineIdx+1:vt.getViewLineCount();for(let Kt=It;Kt<Wt;Kt++)Ve.push(new ga(rt,Kt))}if(!vt.isVisible()&&Te){const It=new pe.L(rt-1,this.model.getLineMaxColumn(rt-1)+1),Wt=F.e.fromPositions(Te,It);re.push(new vo(Wt,Ve)),Ve=[],Te=null}else vt.isVisible()&&!Te&&(Te=new pe.L(rt,1))}if(Te){const rt=F.e.fromPositions(Te,this.getModelEndPositionOfViewLine(q));re.push(new vo(rt,Ve))}return re}getViewLinesBracketGuides(t,l,T,q){const re=T?this.convertViewPositionToModelPosition(T.lineNumber,T.column):null,Te=[];for(const Ve of this.getViewLineInfosGroupedByModelRanges(t,l)){const rt=Ve.modelRange.startLineNumber,vt=this.model.guides.getLinesBracketGuides(rt,Ve.modelRange.endLineNumber,re,q);for(const It of Ve.viewLines){const Kt=vt[It.modelLineNumber-rt].map(nn=>{if(nn.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[It.modelLineNumber-1].getViewPositionOfModelPosition(0,nn.forWrappedLinesAfterColumn).lineNumber>=It.modelLineWrappedLineIdx||nn.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[It.modelLineNumber-1].getViewPositionOfModelPosition(0,nn.forWrappedLinesBeforeOrAtColumn).lineNumber<It.modelLineWrappedLineIdx)return;if(!nn.horizontalLine)return nn;let mn=-1;if(nn.column!==-1){const kn=this.modelLineProjections[It.modelLineNumber-1].getViewPositionOfModelPosition(0,nn.column);if(kn.lineNumber===It.modelLineWrappedLineIdx)mn=kn.column;else if(kn.lineNumber<It.modelLineWrappedLineIdx)mn=this.getMinColumnOfViewLine(It);else if(kn.lineNumber>It.modelLineWrappedLineIdx)return}const xn=this.convertModelPositionToViewPosition(It.modelLineNumber,nn.horizontalLine.endColumn),Pn=this.modelLineProjections[It.modelLineNumber-1].getViewPositionOfModelPosition(0,nn.horizontalLine.endColumn);return Pn.lineNumber===It.modelLineWrappedLineIdx?new et.UO(nn.visibleColumn,mn,nn.className,new et.vW(nn.horizontalLine.top,xn.column),-1,-1):Pn.lineNumber<It.modelLineWrappedLineIdx||nn.visibleColumn!==-1?void 0:new et.UO(nn.visibleColumn,mn,nn.className,new et.vW(nn.horizontalLine.top,this.getMaxColumnOfViewLine(It)),-1,-1)});Te.push(Kt.filter(nn=>!!nn))}}return Te}getViewLinesIndentGuides(t,l){t=this._toValidViewLineNumber(t),l=this._toValidViewLineNumber(l);const T=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),q=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let re=[];const Te=[],Ve=[],rt=T.lineNumber-1,vt=q.lineNumber-1;let It=null;for(let mn=rt;mn<=vt;mn++){const xn=this.modelLineProjections[mn];if(xn.isVisible()){const Pn=xn.getViewLineNumberOfModelPosition(0,mn===rt?T.column:1),kn=xn.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(mn+1)),ti=kn-Pn+1;let ai=0;ti>1&&xn.getViewLineMinColumn(this.model,mn+1,kn)===1&&(ai=Pn===0?1:2),Te.push(ti),Ve.push(ai),It===null&&(It=new pe.L(mn+1,0))}else It!==null&&(re=re.concat(this.model.guides.getLinesIndentGuides(It.lineNumber,mn)),It=null)}It!==null&&(re=re.concat(this.model.guides.getLinesIndentGuides(It.lineNumber,q.lineNumber)),It=null);const Wt=l-t+1,Kt=new Array(Wt);let nn=0;for(let mn=0,xn=re.length;mn<xn;mn++){let Pn=re[mn];const kn=Math.min(Wt-nn,Te[mn]),ti=Ve[mn];let ai;ti===2?ai=0:ti===1?ai=1:ai=kn;for(let Mi=0;Mi<kn;Mi++)Mi===ai&&(Pn=0),Kt[nn++]=Pn}return Kt}getViewLineContent(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(t,l,T){t=this._toValidViewLineNumber(t),l=this._toValidViewLineNumber(l);const q=this.projectedModelLineLineCounts.getIndexOf(t-1);let re=t;const Te=q.index,Ve=q.remainder,rt=[];for(let vt=Te,It=this.model.getLineCount();vt<It;vt++){const Wt=this.modelLineProjections[vt];if(!Wt.isVisible())continue;const Kt=vt===Te?Ve:0;let nn=Wt.getViewLineCount()-Kt,mn=!1;if(re+nn>l&&(mn=!0,nn=l-re+1),Wt.getViewLinesData(this.model,vt+1,Kt,nn,re-t,T,rt),re+=nn,mn)break}return rt}validateViewPosition(t,l,T){t=this._toValidViewLineNumber(t);const q=this.projectedModelLineLineCounts.getIndexOf(t-1),re=q.index,Te=q.remainder,Ve=this.modelLineProjections[re],rt=Ve.getViewLineMinColumn(this.model,re+1,Te),vt=Ve.getViewLineMaxColumn(this.model,re+1,Te);l<rt&&(l=rt),l>vt&&(l=vt);const It=Ve.getModelColumnOfViewPosition(Te,l);return this.model.validatePosition(new pe.L(re+1,It)).equals(T)?new pe.L(t,l):this.convertModelPositionToViewPosition(T.lineNumber,T.column)}validateViewRange(t,l){const T=this.validateViewPosition(t.startLineNumber,t.startColumn,l.getStartPosition()),q=this.validateViewPosition(t.endLineNumber,t.endColumn,l.getEndPosition());return new F.e(T.lineNumber,T.column,q.lineNumber,q.column)}convertViewPositionToModelPosition(t,l){const T=this.getViewLineInfo(t),q=this.modelLineProjections[T.modelLineNumber-1].getModelColumnOfViewPosition(T.modelLineWrappedLineIdx,l);return this.model.validatePosition(new pe.L(T.modelLineNumber,q))}convertViewRangeToModelRange(t){const l=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),T=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new F.e(l.lineNumber,l.column,T.lineNumber,T.column)}convertModelPositionToViewPosition(t,l,T=2,q=!1,re=!1){const Te=this.model.validatePosition(new pe.L(t,l)),Ve=Te.lineNumber,rt=Te.column;let vt=Ve-1,It=!1;if(re)for(;vt<this.modelLineProjections.length&&!this.modelLineProjections[vt].isVisible();)vt++,It=!0;else for(;vt>0&&!this.modelLineProjections[vt].isVisible();)vt--,It=!0;if(vt===0&&!this.modelLineProjections[vt].isVisible())return new pe.L(q?0:1,1);const Wt=1+this.projectedModelLineLineCounts.getPrefixSum(vt);let Kt;return It?re?Kt=this.modelLineProjections[vt].getViewPositionOfModelPosition(Wt,1,T):Kt=this.modelLineProjections[vt].getViewPositionOfModelPosition(Wt,this.model.getLineMaxColumn(vt+1),T):Kt=this.modelLineProjections[Ve-1].getViewPositionOfModelPosition(Wt,rt,T),Kt}convertModelRangeToViewRange(t,l=0){if(t.isEmpty()){const T=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,l);return F.e.fromPositions(T)}else{const T=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),q=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new F.e(T.lineNumber,T.column,q.lineNumber,q.column)}}getViewLineNumberOfModelPosition(t,l){let T=t-1;if(this.modelLineProjections[T].isVisible()){const re=1+this.projectedModelLineLineCounts.getPrefixSum(T);return this.modelLineProjections[T].getViewLineNumberOfModelPosition(re,l)}for(;T>0&&!this.modelLineProjections[T].isVisible();)T--;if(T===0&&!this.modelLineProjections[T].isVisible())return 1;const q=1+this.projectedModelLineLineCounts.getPrefixSum(T);return this.modelLineProjections[T].getViewLineNumberOfModelPosition(q,this.model.getLineMaxColumn(T+1))}getDecorationsInRange(t,l,T,q,re){const Te=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),Ve=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(Ve.lineNumber-Te.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new F.e(Te.lineNumber,1,Ve.lineNumber,Ve.column),l,T,q,re);let rt=[];const vt=Te.lineNumber-1,It=Ve.lineNumber-1;let Wt=null;for(let xn=vt;xn<=It;xn++)if(this.modelLineProjections[xn].isVisible())Wt===null&&(Wt=new pe.L(xn+1,xn===vt?Te.column:1));else if(Wt!==null){const kn=this.model.getLineMaxColumn(xn);rt=rt.concat(this.model.getDecorationsInRange(new F.e(Wt.lineNumber,Wt.column,xn,kn),l,T,q)),Wt=null}Wt!==null&&(rt=rt.concat(this.model.getDecorationsInRange(new F.e(Wt.lineNumber,Wt.column,Ve.lineNumber,Ve.column),l,T,q)),Wt=null),rt.sort((xn,Pn)=>{const kn=F.e.compareRangesUsingStarts(xn.range,Pn.range);return kn===0?xn.id<Pn.id?-1:xn.id>Pn.id?1:0:kn});const Kt=[];let nn=0,mn=null;for(const xn of rt){const Pn=xn.id;mn!==Pn&&(mn=Pn,Kt[nn++]=xn)}return Kt}getInjectedTextAt(t){const l=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,t.column)}normalizePosition(t,l){const T=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[T.modelLineNumber-1].normalizePosition(T.modelLineWrappedLineIdx,t,l)}getLineIndentColumn(t){const l=this.getViewLineInfo(t);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}function er(Gt){if(Gt.length===0)return[];const t=Gt.slice();t.sort(F.e.compareRangesUsingStarts);const l=[];let T=t[0].startLineNumber,q=t[0].endLineNumber;for(let re=1,Te=t.length;re<Te;re++){const Ve=t[re];Ve.startLineNumber>q+1?(l.push(new F.e(T,1,q,1)),T=Ve.startLineNumber,q=Ve.endLineNumber):Ve.endLineNumber>q&&(q=Ve.endLineNumber)}return l.push(new F.e(T,1,q,1)),l}class ga{constructor(t,l){this.modelLineNumber=t,this.modelLineWrappedLineIdx=l}}class vo{constructor(t,l){this.modelRange=t,this.viewLines=l}}class Dr{constructor(t){this._lines=t}convertViewPositionToModelPosition(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)}convertViewRangeToModelRange(t){return this._lines.convertViewRangeToModelRange(t)}validateViewPosition(t,l){return this._lines.validateViewPosition(t.lineNumber,t.column,l)}validateViewRange(t,l){return this._lines.validateViewRange(t,l)}convertModelPositionToViewPosition(t,l,T,q){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,l,T,q)}convertModelRangeToViewRange(t,l){return this._lines.convertModelRangeToViewRange(t,l)}modelPositionIsVisible(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)}getModelLineViewLineCount(t){return this._lines.getModelLineViewLineCount(t)}getViewLineNumberOfModelPosition(t,l){return this._lines.getViewLineNumberOfModelPosition(t,l)}}class Gr{constructor(t){this.model=t}dispose(){}createCoordinatesConverter(){return new Ir(this)}getHiddenAreas(){return[]}setHiddenAreas(t){return!1}setTabSize(t){return!1}setWrappingSettings(t,l,T,q){return!1}createLineBreaksComputer(){const t=[];return{addRequest:(l,T,q)=>{t.push(null)},finalize:()=>t}}onModelFlushed(){}onModelLinesDeleted(t,l,T){return new To(l,T)}onModelLinesInserted(t,l,T,q){return new go(l,T)}onModelLineChanged(t,l,T){return[!1,new Xo(l,1),null,null]}acceptVersionId(t){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(t,l,T){return{startLineNumber:t,endLineNumber:t,indent:0}}getViewLinesBracketGuides(t,l,T){return new Array(l-t+1).fill([])}getViewLinesIndentGuides(t,l){const T=l-t+1,q=new Array(T);for(let re=0;re<T;re++)q[re]=0;return q}getViewLineContent(t){return this.model.getLineContent(t)}getViewLineLength(t){return this.model.getLineLength(t)}getViewLineMinColumn(t){return this.model.getLineMinColumn(t)}getViewLineMaxColumn(t){return this.model.getLineMaxColumn(t)}getViewLineData(t){const l=this.model.tokenization.getLineTokens(t),T=l.getLineContent();return new hn.IP(T,!1,1,T.length+1,0,l.inflate(),null)}getViewLinesData(t,l,T){const q=this.model.getLineCount();t=Math.min(Math.max(1,t),q),l=Math.min(Math.max(1,l),q);const re=[];for(let Te=t;Te<=l;Te++){const Ve=Te-t;re[Ve]=T[Ve]?this.getViewLineData(Te):null}return re}getDecorationsInRange(t,l,T,q,re){return this.model.getDecorationsInRange(t,l,T,q,re)}normalizePosition(t,l){return this.model.normalizePosition(t,l)}getLineIndentColumn(t){return this.model.getLineIndentColumn(t)}getInjectedTextAt(t){return null}}class Ir{constructor(t){this._lines=t}_validPosition(t){return this._lines.model.validatePosition(t)}_validRange(t){return this._lines.model.validateRange(t)}convertViewPositionToModelPosition(t){return this._validPosition(t)}convertViewRangeToModelRange(t){return this._validRange(t)}validateViewPosition(t,l){return this._validPosition(l)}validateViewRange(t,l){return this._validRange(l)}convertModelPositionToViewPosition(t){return this._validPosition(t)}convertModelRangeToViewRange(t){return this._validRange(t)}modelPositionIsVisible(t){const l=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>l)}getModelLineViewLineCount(t){return 1}getViewLineNumberOfModelPosition(t,l){return t}}const Ba=!0;class jo extends p.JT{constructor(t,l,T,q,re,Te,Ve,rt,vt){if(super(),this.languageConfigurationService=Ve,this._themeService=rt,this._attachedView=vt,this.hiddenAreasModel=new tr,this.previousHiddenAreas=[],this._editorId=t,this._configuration=l,this.model=T,this._eventDispatcher=new Mo,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new is.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new oe.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Nr.create(this.model),Ba&&this.model.isTooLargeForTokenization())this._lines=new Gr(this.model);else{const It=this._configuration.options,Wt=It.get(50),Kt=It.get(137),nn=It.get(144),mn=It.get(136),xn=It.get(128);this._lines=new $r(this._editorId,this.model,q,re,Wt,this.model.getOptions().tabSize,Kt,nn.wrappingColumn,mn,xn)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ji(T,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new po(this._configuration,this.getLineCount(),Te)),this._register(this.viewLayout.onDidScroll(It=>{It.scrollTopChanged&&this._handleVisibleLinesChanged(),It.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new yr(It)),this._eventDispatcher.emitOutgoingEvent(new cr(It.oldScrollWidth,It.oldScrollLeft,It.oldScrollHeight,It.oldScrollTop,It.scrollWidth,It.scrollLeft,It.scrollHeight,It.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(It=>{this._eventDispatcher.emitOutgoingEvent(It)})),this._decorations=new da.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(It=>{try{const Wt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Wt,It)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(_n.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new wr)})),this._register(this._themeService.onDidColorThemeChange(It=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Io(It))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(t){this._eventDispatcher.addViewEventHandler(t)}removeViewEventHandler(t){this._eventDispatcher.removeViewEventHandler(t)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const t=this.viewLayout.getLinesViewportData(),l=new F.e(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber));return this._toModelVisibleRanges(l)}visibleLinesStabilized(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!0)}_handleVisibleLinesChanged(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!1)}setHasFocus(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new lr(t)),this._eventDispatcher.emitOutgoingEvent(new Po(!t,t))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Vo)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ca)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const t=new pe.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),l=this.coordinatesConverter.convertViewPositionToModelPosition(t);return new gr(l,this._viewportStart.startLineDelta)}return new gr(null,0)}_onConfigurationChanged(t,l){const T=this._captureStableViewport(),q=this._configuration.options,re=q.get(50),Te=q.get(137),Ve=q.get(144),rt=q.get(136),vt=q.get(128);this._lines.setWrappingSettings(re,Te,Ve.wrappingColumn,rt,vt)&&(t.emitViewEvent(new Yo),t.emitViewEvent(new Gs),t.emitViewEvent(new bo(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),l.hasChanged(90)&&(this._decorations.reset(),t.emitViewEvent(new bo(null))),l.hasChanged(97)&&(this._decorations.reset(),t.emitViewEvent(new bo(null))),t.emitViewEvent(new Do(l)),this.viewLayout.onConfigurationChanged(l),T.recoverViewportStart(this.coordinatesConverter,this.viewLayout),is.LM.shouldRecreate(l)&&(this.cursorConfig=new is.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(t=>{try{const T=this._eventDispatcher.beginEmitViewEvents();let q=!1,re=!1;const Te=t instanceof ks.fV?t.rawContentChangedEvent.changes:t.changes,Ve=t instanceof ks.fV?t.rawContentChangedEvent.versionId:null,rt=this._lines.createLineBreaksComputer();for(const Wt of Te)switch(Wt.changeType){case 4:{for(let Kt=0;Kt<Wt.detail.length;Kt++){const nn=Wt.detail[Kt];let mn=Wt.injectedTexts[Kt];mn&&(mn=mn.filter(xn=>!xn.ownerId||xn.ownerId===this._editorId)),rt.addRequest(nn,mn,null)}break}case 2:{let Kt=null;Wt.injectedText&&(Kt=Wt.injectedText.filter(nn=>!nn.ownerId||nn.ownerId===this._editorId)),rt.addRequest(Wt.detail,Kt,null);break}}const vt=rt.finalize(),It=new d.H9(vt);for(const Wt of Te)switch(Wt.changeType){case 1:{this._lines.onModelFlushed(),T.emitViewEvent(new Yo),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),q=!0;break}case 3:{const Kt=this._lines.onModelLinesDeleted(Ve,Wt.fromLineNumber,Wt.toLineNumber);Kt!==null&&(T.emitViewEvent(Kt),this.viewLayout.onLinesDeleted(Kt.fromLineNumber,Kt.toLineNumber)),q=!0;break}case 4:{const Kt=It.takeCount(Wt.detail.length),nn=this._lines.onModelLinesInserted(Ve,Wt.fromLineNumber,Wt.toLineNumber,Kt);nn!==null&&(T.emitViewEvent(nn),this.viewLayout.onLinesInserted(nn.fromLineNumber,nn.toLineNumber)),q=!0;break}case 2:{const Kt=It.dequeue(),[nn,mn,xn,Pn]=this._lines.onModelLineChanged(Ve,Wt.lineNumber,Kt);re=nn,mn&&T.emitViewEvent(mn),xn&&(T.emitViewEvent(xn),this.viewLayout.onLinesInserted(xn.fromLineNumber,xn.toLineNumber)),Pn&&(T.emitViewEvent(Pn),this.viewLayout.onLinesDeleted(Pn.fromLineNumber,Pn.toLineNumber));break}case 5:break}Ve!==null&&this._lines.acceptVersionId(Ve),this.viewLayout.onHeightMaybeChanged(),!q&&re&&(T.emitViewEvent(new Gs),T.emitViewEvent(new bo(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const l=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&l){const T=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(T){const q=this.coordinatesConverter.convertModelPositionToViewPosition(T.getStartPosition()),re=this.viewLayout.getVerticalOffsetForLineNumber(q.lineNumber);this.viewLayout.setScrollPosition({scrollTop:re+this._viewportStart.startLineDelta},1)}}try{const T=this._eventDispatcher.beginEmitViewEvents();t instanceof ks.fV&&T.emitOutgoingEvent(new jr(t.contentChangedEvent)),this._cursor.onModelContentChanged(T,t)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(t=>{const l=[];for(let T=0,q=t.ranges.length;T<q;T++){const re=t.ranges[T],Te=this.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(re.fromLineNumber,1)).lineNumber,Ve=this.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(re.toLineNumber,this.model.getLineMaxColumn(re.toLineNumber))).lineNumber;l[T]={fromLineNumber:Te,toLineNumber:Ve}}this._eventDispatcher.emitSingleViewEvent(new Sr(l)),this._eventDispatcher.emitOutgoingEvent(new lo(t))})),this._register(this.model.onDidChangeLanguageConfiguration(t=>{this._eventDispatcher.emitSingleViewEvent(new Vr),this.cursorConfig=new is.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new zr(t))})),this._register(this.model.onDidChangeLanguage(t=>{this.cursorConfig=new is.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new qo(t))})),this._register(this.model.onDidChangeOptions(t=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const l=this._eventDispatcher.beginEmitViewEvents();l.emitViewEvent(new Yo),l.emitViewEvent(new Gs),l.emitViewEvent(new bo(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new is.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new mo(t))})),this._register(this.model.onDidChangeDecorations(t=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new bo(t)),this._eventDispatcher.emitOutgoingEvent(new Fa(t))}))}setHiddenAreas(t,l){var T;this.hiddenAreasModel.setHiddenAreas(l,t);const q=this.hiddenAreasModel.getMergedRanges();if(q===this.previousHiddenAreas)return;this.previousHiddenAreas=q;const re=this._captureStableViewport();let Te=!1;try{const Ve=this._eventDispatcher.beginEmitViewEvents();Te=this._lines.setHiddenAreas(q),Te&&(Ve.emitViewEvent(new Yo),Ve.emitViewEvent(new Gs),Ve.emitViewEvent(new bo(null)),this._cursor.onLineMappingChanged(Ve),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const rt=(T=re.viewportStartModelPosition)===null||T===void 0?void 0:T.lineNumber;rt&&q.some(It=>It.startLineNumber<=rt&&rt<=It.endLineNumber)||re.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Te&&this._eventDispatcher.emitOutgoingEvent(new Jo)}getVisibleRangesPlusViewportAboveBelow(){const t=this._configuration.options.get(143),l=this._configuration.options.get(66),T=Math.max(20,Math.round(t.height/l)),q=this.viewLayout.getLinesViewportData(),re=Math.max(1,q.completelyVisibleStartLineNumber-T),Te=Math.min(this.getLineCount(),q.completelyVisibleEndLineNumber+T);return this._toModelVisibleRanges(new F.e(re,this.getLineMinColumn(re),Te,this.getLineMaxColumn(Te)))}getVisibleRanges(){const t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(t){const l=this.coordinatesConverter.convertViewRangeToModelRange(t),T=this._lines.getHiddenAreas();if(T.length===0)return[l];const q=[];let re=0,Te=l.startLineNumber,Ve=l.startColumn;const rt=l.endLineNumber,vt=l.endColumn;for(let It=0,Wt=T.length;It<Wt;It++){const Kt=T[It].startLineNumber,nn=T[It].endLineNumber;nn<Te||Kt>rt||(Te<Kt&&(q[re++]=new F.e(Te,Ve,Kt-1,this.model.getLineMaxColumn(Kt-1))),Te=nn+1,Ve=1)}return(Te<rt||Te===rt&&Ve<vt)&&(q[re++]=new F.e(Te,Ve,rt,vt)),q}getCompletelyVisibleViewRange(){const t=this.viewLayout.getLinesViewportData(),l=t.completelyVisibleStartLineNumber,T=t.completelyVisibleEndLineNumber;return new F.e(l,this.getLineMinColumn(l),T,this.getLineMaxColumn(T))}getCompletelyVisibleViewRangeAtScrollTop(t){const l=this.viewLayout.getLinesViewportDataAtScrollTop(t),T=l.completelyVisibleStartLineNumber,q=l.completelyVisibleEndLineNumber;return new F.e(T,this.getLineMinColumn(T),q,this.getLineMaxColumn(q))}saveState(){const t=this.viewLayout.saveState(),l=t.scrollTop,T=this.viewLayout.getLineNumberAtVerticalOffset(l),q=this.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(T,this.getLineMinColumn(T))),re=this.viewLayout.getVerticalOffsetForLineNumber(T)-l;return{scrollLeft:t.scrollLeft,firstPosition:q,firstPositionDeltaTop:re}}reduceRestoreState(t){if(typeof t.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(t);const l=this.model.validatePosition(t.firstPosition),T=this.coordinatesConverter.convertModelPositionToViewPosition(l),q=this.viewLayout.getVerticalOffsetForLineNumber(T.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:q}}_reduceRestoreStateCompatibility(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(t,l,T){this._viewportStart.update(this,t)}getActiveIndentGuide(t,l,T){return this._lines.getActiveIndentGuide(t,l,T)}getLinesIndentGuides(t,l){return this._lines.getViewLinesIndentGuides(t,l)}getBracketGuidesInRangeByLine(t,l,T,q){return this._lines.getViewLinesBracketGuides(t,l,T,q)}getLineContent(t){return this._lines.getViewLineContent(t)}getLineLength(t){return this._lines.getViewLineLength(t)}getLineMinColumn(t){return this._lines.getViewLineMinColumn(t)}getLineMaxColumn(t){return this._lines.getViewLineMaxColumn(t)}getLineFirstNonWhitespaceColumn(t){const l=_t.LC(this.getLineContent(t));return l===-1?0:l+1}getLineLastNonWhitespaceColumn(t){const l=_t.ow(this.getLineContent(t));return l===-1?0:l+2}getMinimapDecorationsInRange(t){return this._decorations.getMinimapDecorationsInRange(t)}getDecorationsInViewport(t){return this._decorations.getDecorationsViewportData(t).decorations}getInjectedTextAt(t){return this._lines.getInjectedTextAt(t)}getViewportViewLineRenderingData(t,l){const q=this._decorations.getDecorationsViewportData(t).inlineDecorations[l-t.startLineNumber];return this._getViewLineRenderingData(l,q)}getViewLineRenderingData(t){const l=this._decorations.getInlineDecorationsOnLine(t);return this._getViewLineRenderingData(t,l)}_getViewLineRenderingData(t,l){const T=this.model.mightContainRTL(),q=this.model.mightContainNonBasicASCII(),re=this.getTabSize(),Te=this._lines.getViewLineData(t);return Te.inlineDecorations&&(l=[...l,...Te.inlineDecorations.map(Ve=>Ve.toInlineDecoration(t))]),new hn.wA(Te.minColumn,Te.maxColumn,Te.content,Te.continuesWithWrappedLine,T,q,Te.tokens,l,re,Te.startVisibleColumn)}getViewLineData(t){return this._lines.getViewLineData(t)}getMinimapLinesRenderingData(t,l,T){const q=this._lines.getViewLinesData(t,l,T);return new hn.ud(this.getTabSize(),q)}getAllOverviewRulerDecorations(t){const l=this.model.getOverviewRulerDecorations(this._editorId,(0,A.$J)(this._configuration.options)),T=new ll;for(const q of l){const re=q.options,Te=re.overviewRuler;if(!Te)continue;const Ve=Te.position;if(Ve===0)continue;const rt=Te.getColor(t.value),vt=this.coordinatesConverter.getViewLineNumberOfModelPosition(q.range.startLineNumber,q.range.startColumn),It=this.coordinatesConverter.getViewLineNumberOfModelPosition(q.range.endLineNumber,q.range.endColumn);T.accept(rt,re.zIndex,vt,It,Ve)}return T.asArray}_invalidateDecorationsColorCache(){const t=this.model.getOverviewRulerDecorations();for(const l of t){const T=l.options.overviewRuler;T==null||T.invalidateCachedColor();const q=l.options.minimap;q==null||q.invalidateCachedColor()}}getValueInRange(t,l){const T=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(T,l)}getValueLengthInRange(t,l){const T=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueLengthInRange(T,l)}modifyPosition(t,l){const T=this.coordinatesConverter.convertViewPositionToModelPosition(t);return this.model.modifyPosition(T,l)}deduceModelPositionRelativeToViewPosition(t,l,T){const q=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(l<0?l-=T:l+=T);const Te=this.model.getOffsetAt(q)+l;return this.model.getPositionAt(Te)}getPlainTextToCopy(t,l,T){const q=T?`\r
`:this.model.getEOL();t=t.slice(0),t.sort(F.e.compareRangesUsingStarts);let re=!1,Te=!1;for(const rt of t)rt.isEmpty()?re=!0:Te=!0;if(!Te){if(!l)return"";const rt=t.map(It=>It.startLineNumber);let vt="";for(let It=0;It<rt.length;It++)It>0&&rt[It-1]===rt[It]||(vt+=this.model.getLineContent(rt[It])+q);return vt}if(re&&l){const rt=[];let vt=0;for(const It of t){const Wt=It.startLineNumber;It.isEmpty()?Wt!==vt&&rt.push(this.model.getLineContent(Wt)):rt.push(this.model.getValueInRange(It,T?2:0)),vt=Wt}return rt.length===1?rt[0]:rt}const Ve=[];for(const rt of t)rt.isEmpty()||Ve.push(this.model.getValueInRange(rt,T?2:0));return Ve.length===1?Ve[0]:Ve}getRichTextToCopy(t,l){const T=this.model.getLanguageId();if(T===zo.bd||t.length!==1)return null;let q=t[0];if(q.isEmpty()){if(!l)return null;const It=q.startLineNumber;q=new F.e(It,this.model.getLineMinColumn(It),It,this.model.getLineMaxColumn(It))}const re=this._configuration.options.get(50),Te=this._getColorMap(),rt=/[:;\\\/<>]/.test(re.fontFamily)||re.fontFamily===A.hL.fontFamily;let vt;return rt?vt=A.hL.fontFamily:(vt=re.fontFamily,vt=vt.replace(/"/g,"'"),/[,']/.test(vt)||/[+ ]/.test(vt)&&(vt=`'${vt}'`),vt=`${vt}, ${A.hL.fontFamily}`),{mode:T,html:`<div style="color: ${Te[1]};background-color: ${Te[2]};font-family: ${vt};font-weight: ${re.fontWeight};font-size: ${re.fontSize}px;line-height: ${re.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(q,Te)+"</div>"}}_getHTMLToCopy(t,l){const T=t.startLineNumber,q=t.startColumn,re=t.endLineNumber,Te=t.endColumn,Ve=this.getTabSize();let rt="";for(let vt=T;vt<=re;vt++){const It=this.model.tokenization.getLineTokens(vt),Wt=It.getLineContent(),Kt=vt===T?q-1:0,nn=vt===re?Te-1:Wt.length;Wt===""?rt+="<br>":rt+=(0,ur.Fq)(Wt,It.inflate(),l,Kt,nn,Ve,i.ED)}return rt}_getColorMap(){const t=Hn.RW.getColorMap(),l=["#000000"];if(t)for(let T=1,q=t.length;T<q;T++)l[T]=si.Il.Format.CSS.formatHex(t[T]);return l}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(t,l,T){return this._withViewEventsCollector(q=>this._cursor.setStates(q,t,l,T))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(t){this._cursor.setCursorColumnSelectData(t)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(t){this._cursor.setPrevEditOperationType(t)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(t,l,T=0){this._withViewEventsCollector(q=>this._cursor.setSelections(q,t,l,T))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(t){this._withViewEventsCollector(l=>this._cursor.restoreState(l,t))}_executeCursorEdit(t){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Ro);return}this._withViewEventsCollector(t)}executeEdits(t,l,T){this._executeCursorEdit(q=>this._cursor.executeEdits(q,t,l,T))}startComposition(){this._executeCursorEdit(t=>this._cursor.startComposition(t))}endComposition(t){this._executeCursorEdit(l=>this._cursor.endComposition(l,t))}type(t,l){this._executeCursorEdit(T=>this._cursor.type(T,t,l))}compositionType(t,l,T,q,re){this._executeCursorEdit(Te=>this._cursor.compositionType(Te,t,l,T,q,re))}paste(t,l,T,q){this._executeCursorEdit(re=>this._cursor.paste(re,t,l,T,q))}cut(t){this._executeCursorEdit(l=>this._cursor.cut(l,t))}executeCommand(t,l){this._executeCursorEdit(T=>this._cursor.executeCommand(T,t,l))}executeCommands(t,l){this._executeCursorEdit(T=>this._cursor.executeCommands(T,t,l))}revealPrimaryCursor(t,l,T=!1){this._withViewEventsCollector(q=>this._cursor.revealPrimary(q,t,T,0,l,0))}revealTopMostCursor(t){const l=this._cursor.getTopMostViewPosition(),T=new F.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(q=>q.emitViewEvent(new wo(t,!1,T,null,0,!0,0)))}revealBottomMostCursor(t){const l=this._cursor.getBottomMostViewPosition(),T=new F.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(q=>q.emitViewEvent(new wo(t,!1,T,null,0,!0,0)))}revealRange(t,l,T,q,re){this._withViewEventsCollector(Te=>Te.emitViewEvent(new wo(t,!1,T,null,q,l,re)))}changeWhitespace(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new ka),this._eventDispatcher.emitOutgoingEvent(new Ur))}_withViewEventsCollector(t){try{const l=this._eventDispatcher.beginEmitViewEvents();return t(l)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(t,l){return this._lines.normalizePosition(t,l)}getLineIndentColumn(t){return this._lines.getLineIndentColumn(t)}}class Nr{static create(t){const l=t._setTrackedRange(null,new F.e(1,1,1,1),1);return new Nr(t,1,!1,l,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(t,l,T,q,re){this._model=t,this._viewLineNumber=l,this._isValid=T,this._modelTrackedRange=q,this._startLineDelta=re}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(t,l){const T=t.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(l,t.getLineMinColumn(l))),q=t.model._setTrackedRange(this._modelTrackedRange,new F.e(T.lineNumber,T.column,T.lineNumber,T.column),1),re=t.viewLayout.getVerticalOffsetForLineNumber(l),Te=t.viewLayout.getCurrentScrollTop();this._viewLineNumber=l,this._isValid=!0,this._modelTrackedRange=q,this._startLineDelta=Te-re}invalidate(){this._isValid=!1}}class ll{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(t,l,T,q,re){const Te=this._asMap[t];if(Te){const Ve=Te.data,rt=Ve[Ve.length-3],vt=Ve[Ve.length-1];if(rt===re&&vt+1>=T){q>vt&&(Ve[Ve.length-1]=q);return}Ve.push(re,T,q)}else{const Ve=new hn.SQ(t,l,[re,T,q]);this._asMap[t]=Ve,this.asArray.push(Ve)}}}class tr{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(t,l){const T=this.hiddenAreas.get(t);T&&Zr(T,l)||(this.hiddenAreas.set(t,l),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const t=Array.from(this.hiddenAreas.values()).reduce((l,T)=>ma(l,T),[]);return Zr(this.ranges,t)?this.ranges:(this.ranges=t,this.ranges)}}function ma(Gt,t){const l=[];let T=0,q=0;for(;T<Gt.length&&q<t.length;){const re=Gt[T],Te=t[q];if(re.endLineNumber<Te.startLineNumber-1)l.push(Gt[T++]);else if(Te.endLineNumber<re.startLineNumber-1)l.push(t[q++]);else{const Ve=Math.min(re.startLineNumber,Te.startLineNumber),rt=Math.max(re.endLineNumber,Te.endLineNumber);l.push(new F.e(Ve,1,rt,1)),T++,q++}}for(;T<Gt.length;)l.push(Gt[T++]);for(;q<t.length;)l.push(t[q++]);return l}function Zr(Gt,t){if(Gt.length!==t.length)return!1;for(let l=0;l<Gt.length;l++)if(!Gt[l].equalsRange(t[l]))return!1;return!0}class gr{constructor(t,l){this.viewportStartModelPosition=t,this.startLineDelta=l}recoverViewportStart(t,l){if(!this.viewportStartModelPosition)return;const T=t.convertModelPositionToViewPosition(this.viewportStartModelPosition),q=l.getVerticalOffsetForLineNumber(T.lineNumber);l.setScrollPosition({scrollTop:q+this.startLineDelta},1)}}var pa=e(94565),Qr=e(32064),va=e(60972),Yr=e(48894),nr=e(44906),Tr=e(35146);class ir{constructor(t,l,T,q,re){this.injectionOffsets=t,this.injectionOptions=l,this.breakOffsets=T,this.breakOffsetsVisibleColumn=q,this.wrappedTextIndentLength=re}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){const l=t>0?this.breakOffsets[t-1]:0;let q=this.breakOffsets[t]-l;return t>0&&(q+=this.wrappedTextIndentLength),q}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,l){t>0&&(l=Math.max(0,l-this.wrappedTextIndentLength));let q=t===0?l:this.breakOffsets[t-1]+l;if(this.injectionOffsets!==null)for(let re=0;re<this.injectionOffsets.length&&q>this.injectionOffsets[re];re++)q<this.injectionOffsets[re]+this.injectionOptions[re].content.length?q=this.injectionOffsets[re]:q-=this.injectionOptions[re].content.length;return q}translateToOutputPosition(t,l=2){let T=t;if(this.injectionOffsets!==null)for(let q=0;q<this.injectionOffsets.length&&!(t<this.injectionOffsets[q]||l!==1&&t===this.injectionOffsets[q]);q++)T+=this.injectionOptions[q].content.length;return this.offsetInInputWithInjectionsToOutputPosition(T,l)}offsetInInputWithInjectionsToOutputPosition(t,l=2){let T=0,q=this.breakOffsets.length-1,re=0,Te=0;for(;T<=q;){re=T+(q-T)/2|0;const rt=this.breakOffsets[re];if(Te=re>0?this.breakOffsets[re-1]:0,l===0)if(t<=Te)q=re-1;else if(t>rt)T=re+1;else break;else if(t<Te)q=re-1;else if(t>=rt)T=re+1;else break}let Ve=t-Te;return re>0&&(Ve+=this.wrappedTextIndentLength),new Mr(re,Ve)}normalizeOutputPosition(t,l,T){if(this.injectionOffsets!==null){const q=this.outputPositionToOffsetInInputWithInjections(t,l),re=this.normalizeOffsetInInputWithInjectionsAroundInjections(q,T);if(re!==q)return this.offsetInInputWithInjectionsToOutputPosition(re,T)}if(T===0){if(t>0&&l===this.getMinOutputOffset(t))return new Mr(t-1,this.getMaxOutputOffset(t-1))}else if(T===1){const q=this.getOutputLineCount()-1;if(t<q&&l===this.getMaxOutputOffset(t))return new Mr(t+1,this.getMinOutputOffset(t+1))}return new Mr(t,l)}outputPositionToOffsetInInputWithInjections(t,l){return t>0&&(l=Math.max(0,l-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+l}normalizeOffsetInInputWithInjectionsAroundInjections(t,l){const T=this.getInjectedTextAtOffset(t);if(!T)return t;if(l===2){if(t===T.offsetInInputWithInjections+T.length&&mr(this.injectionOptions[T.injectedTextIndex].cursorStops))return T.offsetInInputWithInjections+T.length;{let q=T.offsetInInputWithInjections;if(_a(this.injectionOptions[T.injectedTextIndex].cursorStops))return q;let re=T.injectedTextIndex-1;for(;re>=0&&this.injectionOffsets[re]===this.injectionOffsets[T.injectedTextIndex]&&!(mr(this.injectionOptions[re].cursorStops)||(q-=this.injectionOptions[re].content.length,_a(this.injectionOptions[re].cursorStops)));)re--;return q}}else if(l===1||l===4){let q=T.offsetInInputWithInjections+T.length,re=T.injectedTextIndex;for(;re+1<this.injectionOffsets.length&&this.injectionOffsets[re+1]===this.injectionOffsets[re];)q+=this.injectionOptions[re+1].content.length,re++;return q}else if(l===0||l===3){let q=T.offsetInInputWithInjections,re=T.injectedTextIndex;for(;re-1>=0&&this.injectionOffsets[re-1]===this.injectionOffsets[re];)q-=this.injectionOptions[re-1].content.length,re--;return q}(0,Tr.vE)(l)}getInjectedText(t,l){const T=this.outputPositionToOffsetInInputWithInjections(t,l),q=this.getInjectedTextAtOffset(T);return q?{options:this.injectionOptions[q.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const l=this.injectionOffsets,T=this.injectionOptions;if(l!==null){let q=0;for(let re=0;re<l.length;re++){const Te=T[re].content.length,Ve=l[re]+q,rt=l[re]+q+Te;if(Ve>t)break;if(t<=rt)return{injectedTextIndex:re,offsetInInputWithInjections:Ve,length:Te};q+=Te}}}}function mr(Gt){return Gt==null?!0:Gt===ci.RM.Right||Gt===ci.RM.Both}function _a(Gt){return Gt==null?!0:Gt===ci.RM.Left||Gt===ci.RM.Both}class so{constructor(t){this.options=t}}class Mr{constructor(t,l){this.outputLineIndex=t,this.outputOffset=l}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new pe.L(t+this.outputLineIndex,this.outputOffset+1)}}class Ns{static create(t){return new Ns(t.get(132),t.get(131))}constructor(t,l){this.classifier=new Pr(t,l)}createLineBreaksComputer(t,l,T,q,re){const Te=[],Ve=[],rt=[];return{addRequest:(vt,It,Wt)=>{Te.push(vt),Ve.push(It),rt.push(Wt)},finalize:()=>{const vt=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,It=[];for(let Wt=0,Kt=Te.length;Wt<Kt;Wt++){const nn=Ve[Wt],mn=rt[Wt];mn&&!mn.injectionOptions&&!nn?It[Wt]=Jr(this.classifier,mn,Te[Wt],l,T,vt,q,re):It[Wt]=xl(this.classifier,Te[Wt],nn,l,T,vt,q,re)}return Xr.length=0,Ca.length=0,It}}}}class Pr extends nr.N{constructor(t,l){super(0);for(let T=0;T<t.length;T++)this.set(t.charCodeAt(T),1);for(let T=0;T<l.length;T++)this.set(l.charCodeAt(T),2)}get(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue}}let Xr=[],Ca=[];function Jr(Gt,t,l,T,q,re,Te,Ve){if(q===-1)return null;const rt=l.length;if(rt<=1)return null;const vt=Ve==="keepAll",It=t.breakOffsets,Wt=t.breakOffsetsVisibleColumn,Kt=qs(l,T,q,re,Te),nn=q-Kt,mn=Xr,xn=Ca;let Pn=0,kn=0,ti=0,ai=q;const Mi=It.length;let Ei=0;if(Ei>=0){let $i=Math.abs(Wt[Ei]-ai);for(;Ei+1<Mi;){const Vi=Math.abs(Wt[Ei+1]-ai);if(Vi>=$i)break;$i=Vi,Ei++}}for(;Ei<Mi;){let $i=Ei<0?0:It[Ei],Vi=Ei<0?0:Wt[Ei];kn>$i&&($i=kn,Vi=ti);let Qi=0,xi=0,Yi=0,as=0;if(Vi<=ai){let ls=Vi,Ds=$i===0?0:l.charCodeAt($i-1),Cs=$i===0?0:Gt.get(Ds),zs=!0;for(let Ms=$i;Ms<rt;Ms++){const js=Ms,Hs=l.charCodeAt(Ms);let bs,Ks;if(_t.ZG(Hs)?(Ms++,bs=0,Ks=2):(bs=Gt.get(Hs),Ks=pr(Hs,ls,T,re)),js>kn&&Ao(Ds,Cs,Hs,bs,vt)&&(Qi=js,xi=ls),ls+=Ks,ls>ai){js>kn?(Yi=js,as=ls-Ks):(Yi=Ms+1,as=ls),ls-xi>nn&&(Qi=0),zs=!1;break}Ds=Hs,Cs=bs}if(zs){Pn>0&&(mn[Pn]=It[It.length-1],xn[Pn]=Wt[It.length-1],Pn++);break}}if(Qi===0){let ls=Vi,Ds=l.charCodeAt($i),Cs=Gt.get(Ds),zs=!1;for(let Ms=$i-1;Ms>=kn;Ms--){const js=Ms+1,Hs=l.charCodeAt(Ms);if(Hs===9){zs=!0;break}let bs,Ks;if(_t.YK(Hs)?(Ms--,bs=0,Ks=2):(bs=Gt.get(Hs),Ks=_t.K7(Hs)?re:1),ls<=ai){if(Yi===0&&(Yi=js,as=ls),ls<=ai-nn)break;if(Ao(Hs,bs,Ds,Cs,vt)){Qi=js,xi=ls;break}}ls-=Ks,Ds=Hs,Cs=bs}if(Qi!==0){const Ms=nn-(as-xi);if(Ms<=T){const js=l.charCodeAt(Yi);let Hs;_t.ZG(js)?Hs=2:Hs=pr(js,as,T,re),Ms-Hs<0&&(Qi=0)}}if(zs){Ei--;continue}}if(Qi===0&&(Qi=Yi,xi=as),Qi<=kn){const ls=l.charCodeAt(kn);_t.ZG(ls)?(Qi=kn+2,xi=ti+2):(Qi=kn+1,xi=ti+pr(ls,ti,T,re))}for(kn=Qi,mn[Pn]=Qi,ti=xi,xn[Pn]=xi,Pn++,ai=xi+nn;Ei<0||Ei<Mi&&Wt[Ei]<xi;)Ei++;let Xi=Math.abs(Wt[Ei]-ai);for(;Ei+1<Mi;){const ls=Math.abs(Wt[Ei+1]-ai);if(ls>=Xi)break;Xi=ls,Ei++}}return Pn===0?null:(mn.length=Pn,xn.length=Pn,Xr=t.breakOffsets,Ca=t.breakOffsetsVisibleColumn,t.breakOffsets=mn,t.breakOffsetsVisibleColumn=xn,t.wrappedTextIndentLength=Kt,t)}function xl(Gt,t,l,T,q,re,Te,Ve){const rt=ks.gk.applyInjectedText(t,l);let vt,It;if(l&&l.length>0?(vt=l.map(xi=>xi.options),It=l.map(xi=>xi.column-1)):(vt=null,It=null),q===-1)return vt?new ir(It,vt,[rt.length],[],0):null;const Wt=rt.length;if(Wt<=1)return vt?new ir(It,vt,[rt.length],[],0):null;const Kt=Ve==="keepAll",nn=qs(rt,T,q,re,Te),mn=q-nn,xn=[],Pn=[];let kn=0,ti=0,ai=0,Mi=q,Ei=rt.charCodeAt(0),$i=Gt.get(Ei),Vi=pr(Ei,0,T,re),Qi=1;_t.ZG(Ei)&&(Vi+=1,Ei=rt.charCodeAt(1),$i=Gt.get(Ei),Qi++);for(let xi=Qi;xi<Wt;xi++){const Yi=xi,as=rt.charCodeAt(xi);let Xi,ls;_t.ZG(as)?(xi++,Xi=0,ls=2):(Xi=Gt.get(as),ls=pr(as,Vi,T,re)),Ao(Ei,$i,as,Xi,Kt)&&(ti=Yi,ai=Vi),Vi+=ls,Vi>Mi&&((ti===0||Vi-ai>mn)&&(ti=Yi,ai=Vi-ls),xn[kn]=ti,Pn[kn]=ai,kn++,Mi=ai+mn,ti=0),Ei=as,$i=Xi}return kn===0&&(!l||l.length===0)?null:(xn[kn]=Wt,Pn[kn]=Vi,new ir(It,vt,xn,Pn,nn))}function pr(Gt,t,l,T){return Gt===9?l-t%l:_t.K7(Gt)||Gt<32?T:1}function Wa(Gt,t){return t-Gt%t}function Ao(Gt,t,l,T,q){return l!==32&&(t===2&&T!==2||t!==1&&T===1||!q&&t===3&&T!==2||!q&&T===3&&t!==1)}function qs(Gt,t,l,T,q){let re=0;if(q!==0){const Te=_t.LC(Gt);if(Te!==-1){for(let rt=0;rt<Te;rt++){const vt=Gt.charCodeAt(rt)===9?Wa(re,t):1;re+=vt}const Ve=q===3?2:q===2?1:0;for(let rt=0;rt<Ve;rt++){const vt=Wa(re,t);re+=vt}re+T>l&&(re=0)}}return re}const ko=(0,qe.Z)("domLineBreaksComputer",{createHTML:Gt=>Gt});class ba{static create(t){return new ba(new WeakRef(t))}constructor(t){this.targetWindow=t}createLineBreaksComputer(t,l,T,q,re){const Te=[],Ve=[];return{addRequest:(rt,vt,It)=>{Te.push(rt),Ve.push(vt)},finalize:()=>vr((0,fn.cW)(this.targetWindow.deref()),Te,t,l,T,q,re,Ve)}}}function vr(Gt,t,l,T,q,re,Te,Ve){var rt;function vt(Yi){const as=Ve[Yi];if(as){const Xi=ks.gk.applyInjectedText(t[Yi],as),ls=as.map(Cs=>Cs.options),Ds=as.map(Cs=>Cs.column-1);return new ir(Ds,ls,[Xi.length],[],0)}else return null}if(q===-1){const Yi=[];for(let as=0,Xi=t.length;as<Xi;as++)Yi[as]=vt(as);return Yi}const It=Math.round(q*l.typicalHalfwidthCharacterWidth),Kt=Math.round(T*(re===3?2:re===2?1:0)),nn=Math.ceil(l.spaceWidth*Kt),mn=document.createElement("div");(0,nt.N)(mn,l);const xn=new Dt.HT(1e4),Pn=[],kn=[],ti=[],ai=[],Mi=[];for(let Yi=0;Yi<t.length;Yi++){const as=ks.gk.applyInjectedText(t[Yi],Ve[Yi]);let Xi=0,ls=0,Ds=It;if(re!==0)if(Xi=_t.LC(as),Xi===-1)Xi=0;else{for(let js=0;js<Xi;js++){const Hs=as.charCodeAt(js)===9?T-ls%T:1;ls+=Hs}const Ms=Math.ceil(l.spaceWidth*ls);Ms+l.typicalFullwidthCharacterWidth>It?(Xi=0,ls=0):Ds=It-Ms}const Cs=as.substr(Xi),zs=_r(Cs,ls,T,Ds,xn,nn);Pn[Yi]=Xi,kn[Yi]=ls,ti[Yi]=Cs,ai[Yi]=zs[0],Mi[Yi]=zs[1]}const Ei=xn.build(),$i=(rt=ko==null?void 0:ko.createHTML(Ei))!==null&&rt!==void 0?rt:Ei;mn.innerHTML=$i,mn.style.position="absolute",mn.style.top="10000",Te==="keepAll"?(mn.style.wordBreak="keep-all",mn.style.overflowWrap="anywhere"):(mn.style.wordBreak="inherit",mn.style.overflowWrap="break-word"),Gt.document.body.appendChild(mn);const Vi=document.createRange(),Qi=Array.prototype.slice.call(mn.children,0),xi=[];for(let Yi=0;Yi<t.length;Yi++){const as=Qi[Yi],Xi=Ko(Vi,as,ti[Yi],ai[Yi]);if(Xi===null){xi[Yi]=vt(Yi);continue}const ls=Pn[Yi],Ds=kn[Yi]+Kt,Cs=Mi[Yi],zs=[];for(let bs=0,Ks=Xi.length;bs<Ks;bs++)zs[bs]=Cs[Xi[bs]];if(ls!==0)for(let bs=0,Ks=Xi.length;bs<Ks;bs++)Xi[bs]+=ls;let Ms,js;const Hs=Ve[Yi];Hs?(Ms=Hs.map(bs=>bs.options),js=Hs.map(bs=>bs.column-1)):(Ms=null,js=null),xi[Yi]=new ir(js,Ms,Xi,zs,Ds)}return Gt.document.body.removeChild(mn),xi}function _r(Gt,t,l,T,q,re){if(re!==0){const Kt=String(re);q.appendString('<div style="text-indent: -'),q.appendString(Kt),q.appendString("px; padding-left: "),q.appendString(Kt),q.appendString("px; box-sizing: border-box; width:")}else q.appendString('<div style="width:');q.appendString(String(T)),q.appendString('px;">');const Te=Gt.length;let Ve=t,rt=0;const vt=[],It=[];let Wt=0<Te?Gt.charCodeAt(0):0;q.appendString("<span>");for(let Kt=0;Kt<Te;Kt++){Kt!==0&&Kt%16384===0&&q.appendString("</span><span>"),vt[Kt]=rt,It[Kt]=Ve;const nn=Wt;Wt=Kt+1<Te?Gt.charCodeAt(Kt+1):0;let mn=1,xn=1;switch(nn){case 9:mn=l-Ve%l,xn=mn;for(let Pn=1;Pn<=mn;Pn++)Pn<mn?q.appendCharCode(160):q.appendASCIICharCode(32);break;case 32:Wt===32?q.appendCharCode(160):q.appendASCIICharCode(32);break;case 60:q.appendString("&lt;");break;case 62:q.appendString("&gt;");break;case 38:q.appendString("&amp;");break;case 0:q.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:q.appendCharCode(65533);break;default:_t.K7(nn)&&xn++,nn<32?q.appendCharCode(9216+nn):q.appendCharCode(nn)}rt+=mn,Ve+=xn}return q.appendString("</span>"),vt[Gt.length]=rt,It[Gt.length]=Ve,q.appendString("</div>"),[vt,It]}function Ko(Gt,t,l,T){if(l.length<=1)return null;const q=Array.prototype.slice.call(t.children,0),re=[];try{qr(Gt,q,T,0,null,l.length-1,null,re)}catch(Te){return console.log(Te),null}return re.length===0?null:(re.push(l.length),re)}function qr(Gt,t,l,T,q,re,Te,Ve){if(T===re||(q=q||ya(Gt,t,l[T],l[T+1]),Te=Te||ya(Gt,t,l[re],l[re+1]),Math.abs(q[0].top-Te[0].top)<=.1))return;if(T+1===re){Ve.push(re);return}const rt=T+(re-T)/2|0,vt=ya(Gt,t,l[rt],l[rt+1]);qr(Gt,t,l,T,q,rt,vt,Ve),qr(Gt,t,l,rt,vt,re,Te,Ve)}function ya(Gt,t,l,T){return Gt.setStart(t[l/16384|0].firstChild,l%16384),Gt.setEnd(t[T/16384|0].firstChild,T%16384),Gt.getClientRects()}var Ha=e(92896),ea=e(4256),ta=e(71922);class na extends p.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new p.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(t,l,T){this._editor=t,this._instantiationService=T;for(const q of l){if(this._pending.has(q.id)){(0,M.dL)(new Error(`Cannot have two contributions with the same id ${q.id}`));continue}this._pending.set(q.id,q)}this._instantiateSome(0),this._register((0,I.se)((0,I.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,I.se)((0,I.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,I.se)((0,I.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const t={};for(const[l,T]of this._instances)typeof T.saveViewState=="function"&&(t[l]=T.saveViewState());return t}restoreViewState(t){for(const[l,T]of this._instances)typeof T.restoreViewState=="function"&&T.restoreViewState(t[l])}get(t){return this._instantiateById(t),this._instances.get(t)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var t;this._register((0,I.se)((0,I.Jj)((t=this._editor)===null||t===void 0?void 0:t.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(t){if(this._finishedInstantiation[t])return;this._finishedInstantiation[t]=!0;const l=this._findPendingContributionsByInstantiation(t);for(const T of l)this._instantiateById(T.id)}_findPendingContributionsByInstantiation(t){const l=[];for(const[,T]of this._pending)T.instantiation===t&&l.push(T);return l}_instantiateById(t){const l=this._pending.get(t);if(l){if(this._pending.delete(t),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const T=this._instantiationService.createInstance(l.ctor,this._editor);this._instances.set(l.id,T),typeof T.restoreViewState=="function"&&l.instantiation!==0&&console.warn(`Editor contribution '${l.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(T){(0,M.dL)(T)}}}}var Va=function(Gt,t,l,T){var q=arguments.length,re=q<3?t:T===null?T=Object.getOwnPropertyDescriptor(t,l):T,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Gt,t,l,T);else for(var Ve=Gt.length-1;Ve>=0;Ve--)(Te=Gt[Ve])&&(re=(q<3?Te(re):q>3?Te(t,l,re):Te(t,l))||re);return q>3&&re&&Object.defineProperty(t,l,re),re},Ws=function(Gt,t){return function(l,T){t(l,T,Gt)}},$o;let Ua=0;class Sa{constructor(t,l,T,q,re,Te){this.model=t,this.viewModel=l,this.view=T,this.hasRealView=q,this.listenersToRemove=re,this.attachedView=Te}dispose(){(0,p.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Rr=$o=class extends p.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(t,l,T,q,re,Te,Ve,rt,vt,It,Wt,Kt){var nn;super(),this.languageConfigurationService=Wt,this._deliveryQueue=(0,D.Sp)(),this._contributions=this._register(new na),this._onDidDispose=this._register(new D.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new wa({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new wa({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),re.willCreateCodeEditor();const mn=Xn({},l);this._domElement=t,this._overflowWidgetsDomNode=mn.overflowWidgetsDomNode,delete mn.overflowWidgetsDomNode,this._id=++Ua,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=T.telemetryData,this._configuration=this._register(this._createConfiguration(T.isSimpleWidget||!1,mn,It)),this._register(this._configuration.onDidChange(kn=>{this._onDidChangeConfiguration.fire(kn);const ti=this._configuration.options;if(kn.hasChanged(143)){const ai=ti.get(143);this._onDidLayoutChange.fire(ai)}})),this._contextKeyService=this._register(Ve.createScoped(this._domElement)),this._notificationService=vt,this._codeEditorService=re,this._commandService=Te,this._themeService=rt,this._register(new za(this,this._contextKeyService)),this._register(new La(this,this._contextKeyService,Kt)),this._instantiationService=q.createChild(new va.y([Qr.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new Ea(t),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let xn;Array.isArray(T.contributions)?xn=T.contributions:xn=U.Uc.getEditorContributions(),this._contributions.initialize(this,xn,this._instantiationService);for(const kn of U.Uc.getEditorActions()){if(this._actions.has(kn.id)){(0,M.dL)(new Error(`Cannot have two actions with the same id ${kn.id}`));continue}const ti=new rs.p(kn.id,kn.label,kn.alias,kn.metadata,(nn=kn.precondition)!==null&&nn!==void 0?nn:void 0,()=>this._instantiationService.invokeFunction(ai=>Promise.resolve(kn.runEditorCommand(ai,this,null))),this._contextKeyService);this._actions.set(ti.id,ti)}const Pn=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new I.eg(this._domElement,{onDragOver:kn=>{if(!Pn())return;const ti=this.getTargetAtClientPoint(kn.clientX,kn.clientY);ti!=null&&ti.position&&this.showDropIndicatorAt(ti.position)},onDrop:kn=>tn(this,null,function*(){if(!Pn()||(this.removeDropIndicator(),!kn.dataTransfer))return;const ti=this.getTargetAtClientPoint(kn.clientX,kn.clientY);ti!=null&&ti.position&&this._onDropIntoEditor.fire({position:ti.position,event:kn})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(t){var l;(l=this._modelData)===null||l===void 0||l.view.writeScreenReaderContent(t)}_createConfiguration(t,l,T){return new R(t,l,this._domElement,T)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Us.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(t){return this._instantiationService.invokeFunction(t)}updateOptions(t){this._configuration.updateOptions(t||{})}getOptions(){return this._configuration.options}getOption(t){return this._configuration.options.get(t)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(t){return this._modelData?Ha.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),t):null}getValue(t=null){if(!this._modelData)return"";const l=!!(t&&t.preserveBOM);let T=0;return t&&t.lineEnding&&t.lineEnding===`
`?T=1:t&&t.lineEnding&&t.lineEnding===`\r
`&&(T=2),this._modelData.model.getValue(T,l)}setValue(t){this._modelData&&this._modelData.model.setValue(t)}getModel(){return this._modelData?this._modelData.model:null}setModel(t=null){const l=t;if(this._modelData===null&&l===null||this._modelData&&this._modelData.model===l)return;const T=this.hasTextFocus(),q=this._detachModel();this._attachModel(l),T&&this.hasModel()&&this.focus();const re={oldModelUrl:q?q.uri:null,newModelUrl:l?l.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(re),this._postDetachModelCleanup(q),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const t in this._decorationTypeSubtypes){const l=this._decorationTypeSubtypes[t];for(const T in l)this._removeDecorationType(t+"-"+T)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(t,l,T,q){const re=t.model.validatePosition({lineNumber:l,column:T}),Te=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(re);return t.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Te.lineNumber,q)}getTopForLineNumber(t,l=!1){return this._modelData?$o._getVerticalOffsetForPosition(this._modelData,t,1,l):-1}getTopForPosition(t,l){return this._modelData?$o._getVerticalOffsetForPosition(this._modelData,t,l,!1):-1}static _getVerticalOffsetForPosition(t,l,T,q=!1){const re=t.model.validatePosition({lineNumber:l,column:T}),Te=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(re);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(Te.lineNumber,q)}getBottomForLineNumber(t,l=!1){return this._modelData?$o._getVerticalOffsetAfterPosition(this._modelData,t,1,l):-1}setHiddenAreas(t,l){var T;(T=this._modelData)===null||T===void 0||T.viewModel.setHiddenAreas(t.map(q=>F.e.lift(q)),l)}getVisibleColumnFromPosition(t){if(!this._modelData)return t.column;const l=this._modelData.model.validatePosition(t),T=this._modelData.model.getOptions().tabSize;return Pe.i.visibleColumnFromColumn(this._modelData.model.getLineContent(l.lineNumber),l.column,T)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(t,l="api"){if(this._modelData){if(!pe.L.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}}_sendRevealRange(t,l,T,q){if(!this._modelData)return;if(!F.e.isIRange(t))throw new Error("Invalid arguments");const re=this._modelData.model.validateRange(t),Te=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(re);this._modelData.viewModel.revealRange("api",T,Te,l,q)}revealLine(t,l=0){this._revealLine(t,0,l)}revealLineInCenter(t,l=0){this._revealLine(t,1,l)}revealLineInCenterIfOutsideViewport(t,l=0){this._revealLine(t,2,l)}revealLineNearTop(t,l=0){this._revealLine(t,5,l)}_revealLine(t,l,T){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new F.e(t,1,t,1),l,!1,T)}revealPosition(t,l=0){this._revealPosition(t,0,!0,l)}revealPositionInCenter(t,l=0){this._revealPosition(t,1,!0,l)}revealPositionInCenterIfOutsideViewport(t,l=0){this._revealPosition(t,2,!0,l)}revealPositionNearTop(t,l=0){this._revealPosition(t,5,!0,l)}_revealPosition(t,l,T,q){if(!pe.L.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new F.e(t.lineNumber,t.column,t.lineNumber,t.column),l,T,q)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(t,l="api"){const T=j.Y.isISelection(t),q=F.e.isIRange(t);if(!T&&!q)throw new Error("Invalid arguments");if(T)this._setSelectionImpl(t,l);else if(q){const re={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(re,l)}}_setSelectionImpl(t,l){if(!this._modelData)return;const T=new j.Y(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(l,[T])}revealLines(t,l,T=0){this._revealLines(t,l,0,T)}revealLinesInCenter(t,l,T=0){this._revealLines(t,l,1,T)}revealLinesInCenterIfOutsideViewport(t,l,T=0){this._revealLines(t,l,2,T)}revealLinesNearTop(t,l,T=0){this._revealLines(t,l,5,T)}_revealLines(t,l,T,q){if(typeof t!="number"||typeof l!="number")throw new Error("Invalid arguments");this._sendRevealRange(new F.e(t,1,l,1),T,!1,q)}revealRange(t,l=0,T=!1,q=!0){this._revealRange(t,T?1:0,q,l)}revealRangeInCenter(t,l=0){this._revealRange(t,1,!0,l)}revealRangeInCenterIfOutsideViewport(t,l=0){this._revealRange(t,2,!0,l)}revealRangeNearTop(t,l=0){this._revealRange(t,5,!0,l)}revealRangeNearTopIfOutsideViewport(t,l=0){this._revealRange(t,6,!0,l)}revealRangeAtTop(t,l=0){this._revealRange(t,3,!0,l)}_revealRange(t,l,T,q){if(!F.e.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(F.e.lift(t),l,T,q)}setSelections(t,l="api",T=0){if(this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(let q=0,re=t.length;q<re;q++)if(!j.Y.isISelection(t[q]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,t,T)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(t,l=1){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},l)}}setScrollTop(t,l=1){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},l)}}setScrollPosition(t,l=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(t,l)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const t=this._contributions.saveViewState(),l=this._modelData.viewModel.saveCursorState(),T=this._modelData.viewModel.saveState();return{cursorState:l,viewState:T,contributionsState:t}}restoreViewState(t){if(!this._modelData||!this._modelData.hasRealView)return;const l=t;if(l&&l.cursorState&&l.viewState){const T=l.cursorState;Array.isArray(T)?T.length>0&&this._modelData.viewModel.restoreCursorState(T):this._modelData.viewModel.restoreCursorState([T]),this._contributions.restoreViewState(l.contributionsState||{});const q=this._modelData.viewModel.reduceRestoreState(l.viewState);this._modelData.view.restoreState(q)}}handleInitialized(){var t;(t=this._getViewModel())===null||t===void 0||t.visibleLinesStabilized()}getContribution(t){return this._contributions.get(t)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let t=this.getActions();return t=t.filter(l=>l.isSupported()),t}getAction(t){return this._actions.get(t)||null}trigger(t,l,T){switch(T=T||{},l){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(t);return;case"type":{const re=T;this._type(t,re.text||"");return}case"replacePreviousChar":{const re=T;this._compositionType(t,re.text||"",re.replaceCharCnt||0,0,0);return}case"compositionType":{const re=T;this._compositionType(t,re.text||"",re.replacePrevCharCnt||0,re.replaceNextCharCnt||0,re.positionDelta||0);return}case"paste":{const re=T;this._paste(t,re.text||"",re.pasteOnNewLine||!1,re.multicursorText||null,re.mode||null);return}case"cut":this._cut(t);return}const q=this.getAction(l);if(q){Promise.resolve(q.run(T)).then(void 0,M.dL);return}this._modelData&&(this._triggerEditorCommand(t,l,T)||this._triggerCommand(l,T))}_triggerCommand(t,l){this._commandService.executeCommand(t,l)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(t){this._modelData&&(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())}_type(t,l){!this._modelData||l.length===0||(t==="keyboard"&&this._onWillType.fire(l),this._modelData.viewModel.type(l,t),t==="keyboard"&&this._onDidType.fire(l))}_compositionType(t,l,T,q,re){this._modelData&&this._modelData.viewModel.compositionType(l,T,q,re,t)}_paste(t,l,T,q,re){if(!this._modelData||l.length===0)return;const Te=this._modelData.viewModel,Ve=Te.getSelection().getStartPosition();Te.paste(l,T,q,t);const rt=Te.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire({range:new F.e(Ve.lineNumber,Ve.column,rt.lineNumber,rt.column),languageId:re})}_cut(t){this._modelData&&this._modelData.viewModel.cut(t)}_triggerEditorCommand(t,l,T){const q=U.Uc.getEditorCommand(l);return q?(T=T||{},T.source=t,this._instantiationService.invokeFunction(re=>{Promise.resolve(q.runEditorCommand(re,this,T)).then(void 0,M.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(t,l,T){if(!this._modelData||this._configuration.options.get(90))return!1;let q;return T?Array.isArray(T)?q=()=>T:q=T:q=()=>null,this._modelData.viewModel.executeEdits(t,l,q),!0}executeCommand(t,l){this._modelData&&this._modelData.viewModel.executeCommand(l,t)}executeCommands(t,l){this._modelData&&this._modelData.viewModel.executeCommands(l,t)}createDecorationsCollection(t){return new ja(this,t)}changeDecorations(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null}getLineDecorations(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,(0,A.$J)(this._configuration.options)):null}getDecorationsInRange(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,(0,A.$J)(this._configuration.options)):null}deltaDecorations(t,l){return this._modelData?t.length===0&&l.length===0?t:this._modelData.model.deltaDecorations(t,l,this._id):[]}removeDecorations(t){!this._modelData||t.length===0||this._modelData.model.changeDecorations(l=>{l.deltaDecorations(t,[])})}removeDecorationsByType(t){const l=this._decorationTypeKeysToIds[t];l&&this.deltaDecorations(l,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(t)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(t)}layout(t,l=!1){this._configuration.observeContainer(t),l||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(t){const l={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id:"+t.getId()),this._contentWidgets[t.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(l)}layoutContentWidget(t){const l=t.getId();if(this._contentWidgets.hasOwnProperty(l)){const T=this._contentWidgets[l];T.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(T)}}removeContentWidget(t){const l=t.getId();if(this._contentWidgets.hasOwnProperty(l)){const T=this._contentWidgets[l];delete this._contentWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(T)}}addOverlayWidget(t){const l={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(l)}layoutOverlayWidget(t){const l=t.getId();if(this._overlayWidgets.hasOwnProperty(l)){const T=this._overlayWidgets[l];T.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(T)}}removeOverlayWidget(t){const l=t.getId();if(this._overlayWidgets.hasOwnProperty(l)){const T=this._overlayWidgets[l];delete this._overlayWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(T)}}addGlyphMarginWidget(t){const l={widget:t,position:t.getPosition()};this._glyphMarginWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[t.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(l)}layoutGlyphMarginWidget(t){const l=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(l)){const T=this._glyphMarginWidgets[l];T.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(T)}}removeGlyphMarginWidget(t){const l=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(l)){const T=this._glyphMarginWidgets[l];delete this._glyphMarginWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(T)}}changeViewZones(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(t)}getTargetAtClientPoint(t,l){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(t,l)}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const l=this._modelData.model.validatePosition(t),T=this._configuration.options,q=T.get(143),re=$o._getVerticalOffsetForPosition(this._modelData,l.lineNumber,l.column)-this.getScrollTop(),Te=this._modelData.view.getOffsetForColumn(l.lineNumber,l.column)+q.glyphMarginWidth+q.lineNumbersWidth+q.decorationsWidth-this.getScrollLeft();return{top:re,left:Te,height:T.get(66)}}getOffsetForColumn(t,l){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(t,l)}render(t=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,t)}setAriaOptions(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(t)}applyFontInfo(t){(0,nt.N)(t,this._configuration.options.get(50))}setBanner(t,l){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?l:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(t){if(!t){this._modelData=null;return}const l=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount());const T=t.onBeforeAttached(),q=new jo(this._id,this._configuration,t,ba.create(I.Jj(this._domElement)),Ns.create(this._configuration.options),Ve=>I.jL(I.Jj(this._domElement),Ve),this.languageConfigurationService,this._themeService,T);l.push(t.onWillDispose(()=>this.setModel(null))),l.push(q.onEvent(Ve=>{switch(Ve.kind){case 0:this._onDidContentSizeChange.fire(Ve);break;case 1:this._editorTextFocus.setValue(Ve.hasFocus);break;case 2:this._onDidScrollChange.fire(Ve);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Ve.reachedMaxCursorCount){const Wt=this.getOption(79),Kt=_.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",Wt);this._notificationService.prompt(Yr.zb.Warning,Kt,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:_.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const rt=[];for(let Wt=0,Kt=Ve.selections.length;Wt<Kt;Wt++)rt[Wt]=Ve.selections[Wt].getPosition();const vt={position:rt[0],secondaryPositions:rt.slice(1),reason:Ve.reason,source:Ve.source};this._onDidChangeCursorPosition.fire(vt);const It={selection:Ve.selections[0],secondarySelections:Ve.selections.slice(1),modelVersionId:Ve.modelVersionId,oldSelections:Ve.oldSelections,oldModelVersionId:Ve.oldModelVersionId,source:Ve.source,reason:Ve.reason};this._onDidChangeCursorSelection.fire(It);break}case 7:this._onDidChangeModelDecorations.fire(Ve.event);break;case 8:this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._onDidChangeModelLanguage.fire(Ve.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Ve.event);break;case 10:this._onDidChangeModelContent.fire(Ve.event);break;case 11:this._onDidChangeModelOptions.fire(Ve.event);break;case 12:this._onDidChangeModelTokens.fire(Ve.event);break}}));const[re,Te]=this._createView(q);if(Te){this._domElement.appendChild(re.domNode.domNode);let Ve=Object.keys(this._contentWidgets);for(let rt=0,vt=Ve.length;rt<vt;rt++){const It=Ve[rt];re.addContentWidget(this._contentWidgets[It])}Ve=Object.keys(this._overlayWidgets);for(let rt=0,vt=Ve.length;rt<vt;rt++){const It=Ve[rt];re.addOverlayWidget(this._overlayWidgets[It])}Ve=Object.keys(this._glyphMarginWidgets);for(let rt=0,vt=Ve.length;rt<vt;rt++){const It=Ve[rt];re.addGlyphMarginWidget(this._glyphMarginWidgets[It])}re.render(!1,!0),re.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new Sa(t,q,re,Te,l,T)}_createView(t){let l;this.isSimpleWidget?l={paste:(re,Te,Ve,rt)=>{this._paste("keyboard",re,Te,Ve,rt)},type:re=>{this._type("keyboard",re)},compositionType:(re,Te,Ve,rt)=>{this._compositionType("keyboard",re,Te,Ve,rt)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:l={paste:(re,Te,Ve,rt)=>{const vt={text:re,pasteOnNewLine:Te,multicursorText:Ve,mode:rt};this._commandService.executeCommand("paste",vt)},type:re=>{const Te={text:re};this._commandService.executeCommand("type",Te)},compositionType:(re,Te,Ve,rt)=>{if(Ve||rt){const vt={text:re,replacePrevCharCnt:Te,replaceNextCharCnt:Ve,positionDelta:rt};this._commandService.executeCommand("compositionType",vt)}else{const vt={text:re,replaceCharCnt:Te};this._commandService.executeCommand("replacePreviousChar",vt)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const T=new wn(t.coordinatesConverter);return T.onKeyDown=re=>this._onKeyDown.fire(re),T.onKeyUp=re=>this._onKeyUp.fire(re),T.onContextMenu=re=>this._onContextMenu.fire(re),T.onMouseMove=re=>this._onMouseMove.fire(re),T.onMouseLeave=re=>this._onMouseLeave.fire(re),T.onMouseDown=re=>this._onMouseDown.fire(re),T.onMouseUp=re=>this._onMouseUp.fire(re),T.onMouseDrag=re=>this._onMouseDrag.fire(re),T.onMouseDrop=re=>this._onMouseDrop.fire(re),T.onMouseDropCanceled=re=>this._onMouseDropCanceled.fire(re),T.onMouseWheel=re=>this._onMouseWheel.fire(re),[new pi(l,this._configuration,this._themeService.getColorTheme(),t,T,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(t){t==null||t.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const t=this._modelData.model,l=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),l&&this._domElement.contains(l)&&this._domElement.removeChild(l),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),t}_removeDecorationType(t){this._codeEditorService.removeDecorationType(t)}hasModel(){return this._modelData!==null}showDropIndicatorAt(t){const l=[{range:new F.e(t.lineNumber,t.column,t.lineNumber,t.column),options:$o.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(l),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(t,l){this._contextKeyService.createKey(t,l)}};Rr.dropIntoEditorDecorationOptions=ys.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Rr=$o=Va([Ws(3,_i.TG),Ws(4,G.$),Ws(5,pa.H),Ws(6,Qr.i6),Ws(7,Lt.XE),Ws(8,Yr.lT),Ws(9,W.F7),Ws(10,ea.c_),Ws(11,ta.p)],Rr);class wa extends p.JT{constructor(t){super(),this._emitterOptions=t,this._onDidChangeToTrue=this._register(new D.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(t){const l=t?2:1;this._value!==l&&(this._value=l,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Zs extends D.Q5{constructor(t,l){super({deliveryQueue:l}),this._contributions=t}fire(t){this._contributions.onBeforeInteractionEvent(),super.fire(t)}}class za extends p.JT{constructor(t,l){super(),this._editor=t,l.createKey("editorId",t.getId()),this._editorSimpleInput=Gi.u.editorSimpleInput.bindTo(l),this._editorFocus=Gi.u.focus.bindTo(l),this._textInputFocus=Gi.u.textInputFocus.bindTo(l),this._editorTextFocus=Gi.u.editorTextFocus.bindTo(l),this._tabMovesFocus=Gi.u.tabMovesFocus.bindTo(l),this._editorReadonly=Gi.u.readOnly.bindTo(l),this._inDiffEditor=Gi.u.inDiffEditor.bindTo(l),this._editorColumnSelection=Gi.u.columnSelection.bindTo(l),this._hasMultipleSelections=Gi.u.hasMultipleSelections.bindTo(l),this._hasNonEmptySelection=Gi.u.hasNonEmptySelection.bindTo(l),this._canUndo=Gi.u.canUndo.bindTo(l),this._canRedo=Gi.u.canRedo.bindTo(l),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(E.n.onDidChangeTabFocus(T=>this._tabMovesFocus.set(T))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const t=this._editor.getOptions();this._tabMovesFocus.set(E.n.getTabFocusMode()),this._editorReadonly.set(t.get(90)),this._inDiffEditor.set(t.get(61)),this._editorColumnSelection.set(t.get(22))}_updateFromSelection(){const t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(l=>!l.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const t=this._editor.getModel();this._canUndo.set(!!(t&&t.canUndo())),this._canRedo.set(!!(t&&t.canRedo()))}}class La extends p.JT{constructor(t,l,T){super(),this._editor=t,this._contextKeyService=l,this._languageFeaturesService=T,this._langId=Gi.u.languageId.bindTo(l),this._hasCompletionItemProvider=Gi.u.hasCompletionItemProvider.bindTo(l),this._hasCodeActionsProvider=Gi.u.hasCodeActionsProvider.bindTo(l),this._hasCodeLensProvider=Gi.u.hasCodeLensProvider.bindTo(l),this._hasDefinitionProvider=Gi.u.hasDefinitionProvider.bindTo(l),this._hasDeclarationProvider=Gi.u.hasDeclarationProvider.bindTo(l),this._hasImplementationProvider=Gi.u.hasImplementationProvider.bindTo(l),this._hasTypeDefinitionProvider=Gi.u.hasTypeDefinitionProvider.bindTo(l),this._hasHoverProvider=Gi.u.hasHoverProvider.bindTo(l),this._hasDocumentHighlightProvider=Gi.u.hasDocumentHighlightProvider.bindTo(l),this._hasDocumentSymbolProvider=Gi.u.hasDocumentSymbolProvider.bindTo(l),this._hasReferenceProvider=Gi.u.hasReferenceProvider.bindTo(l),this._hasRenameProvider=Gi.u.hasRenameProvider.bindTo(l),this._hasSignatureHelpProvider=Gi.u.hasSignatureHelpProvider.bindTo(l),this._hasInlayHintsProvider=Gi.u.hasInlayHintsProvider.bindTo(l),this._hasDocumentFormattingProvider=Gi.u.hasDocumentFormattingProvider.bindTo(l),this._hasDocumentSelectionFormattingProvider=Gi.u.hasDocumentSelectionFormattingProvider.bindTo(l),this._hasMultipleDocumentFormattingProvider=Gi.u.hasMultipleDocumentFormattingProvider.bindTo(l),this._hasMultipleDocumentSelectionFormattingProvider=Gi.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(l),this._isInWalkThrough=Gi.u.isInWalkThroughSnippet.bindTo(l);const q=()=>this._update();this._register(t.onDidChangeModel(q)),this._register(t.onDidChangeModelLanguage(q)),this._register(T.completionProvider.onDidChange(q)),this._register(T.codeActionProvider.onDidChange(q)),this._register(T.codeLensProvider.onDidChange(q)),this._register(T.definitionProvider.onDidChange(q)),this._register(T.declarationProvider.onDidChange(q)),this._register(T.implementationProvider.onDidChange(q)),this._register(T.typeDefinitionProvider.onDidChange(q)),this._register(T.hoverProvider.onDidChange(q)),this._register(T.documentHighlightProvider.onDidChange(q)),this._register(T.documentSymbolProvider.onDidChange(q)),this._register(T.referenceProvider.onDidChange(q)),this._register(T.renameProvider.onDidChange(q)),this._register(T.documentFormattingEditProvider.onDidChange(q)),this._register(T.documentRangeFormattingEditProvider.onDidChange(q)),this._register(T.signatureHelpProvider.onDidChange(q)),this._register(T.inlayHintsProvider.onDidChange(q)),q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const t=this._editor.getModel();if(!t){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(t.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(t)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(t)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(t)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(t)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(t)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(t)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(t)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(t)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(t)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(t)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(t)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(t)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(t)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(t)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(t)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(t).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._isInWalkThrough.set(t.uri.scheme===o.lg.walkThroughSnippet)})}}class Ea extends p.JT{constructor(t){super(),this._onChange=this._register(new D.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.go(t)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class ja{get length(){return this._decorationIds.length}constructor(t,l){this._editor=t,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(l)&&l.length>0&&this.set(l)}onDidChange(t,l,T){return this._editor.onDidChangeModelDecorations(q=>{this._isChangingDecorations||t.call(l,q)},T)}getRange(t){return!this._editor.hasModel()||t>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[t])}getRanges(){if(!this._editor.hasModel())return[];const t=this._editor.getModel(),l=[];for(const T of this._decorationIds){const q=t.getDecorationRange(T);q&&l.push(q)}return l}has(t){return this._decorationIds.includes(t.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(t){try{this._isChangingDecorations=!0,this._editor.changeDecorations(l=>{this._decorationIds=l.deltaDecorations(this._decorationIds,t)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(t){let l=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(T=>{l=T.deltaDecorations([],t),this._decorationIds=this._decorationIds.concat(l)})}finally{this._isChangingDecorations=!1}return l}}const ia=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),cl=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function xa(Gt){return ia+encodeURIComponent(Gt.toString())+cl}const dl=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Ka=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ul(Gt){return dl+encodeURIComponent(Gt.toString())+Ka}(0,Lt.Ic)((Gt,t)=>{const l=Gt.getColor(Mn.lXJ);l&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${xa(l)}") repeat-x bottom left; }`);const T=Gt.getColor(Mn.uoC);T&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${xa(T)}") repeat-x bottom left; }`);const q=Gt.getColor(Mn.c63);q&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${xa(q)}") repeat-x bottom left; }`);const re=Gt.getColor(Mn.Dut);re&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ul(re)}") no-repeat bottom left; }`);const Te=Gt.getColor(Be.zu);Te&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Te.rgba.a}; }`)})},36865:function(Ot,Ke,e){"use strict";var b=e(65321),U=e(73046),r=e(16830),w=e(11640),c=e(20591),_=e(29102),I=e(63580),M=e(84144),D=e(94565),p=e(33108),o=e(32064);class u extends M.Ke{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:(0,I.NC)("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),original:"Toggle Collapse Unchanged Regions"},icon:U.l.map,toggled:o.Ao.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:o.Ao.has("isInDiffEditor"),menu:{when:o.Ao.has("isInDiffEditor"),id:M.eH.EditorTitle,order:22,group:"navigation"}})}run(B,...W){const $=B.get(p.Ui),Y=!$.getValue("diffEditor.hideUnchangedRegions.enabled");$.updateValue("diffEditor.hideUnchangedRegions.enabled",Y)}}(0,M.r1)(u);class d extends M.Ke{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:{value:(0,I.NC)("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),original:"Toggle Show Moved Code Blocks"},precondition:o.Ao.has("isInDiffEditor")})}run(B,...W){const $=B.get(p.Ui),Y=!$.getValue("diffEditor.experimental.showMoves");$.updateValue("diffEditor.experimental.showMoves",Y)}}(0,M.r1)(d);class n extends M.Ke{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:{value:(0,I.NC)("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),original:"Toggle Use Inline View When Space Is Limited"},precondition:o.Ao.has("isInDiffEditor")})}run(B,...W){const $=B.get(p.Ui),Y=!$.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");$.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",Y)}}(0,M.r1)(n),M.BH.appendMenuItem(M.eH.EditorTitle,{command:{id:new n().desc.id,title:(0,I.NC)("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:o.Ao.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:o.Ao.has("isInDiffEditor")},order:11,group:"1_diff",when:o.Ao.and(_.u.diffEditorRenderSideBySideInlineBreakpointReached,o.Ao.has("isInDiffEditor"))}),M.BH.appendMenuItem(M.eH.EditorTitle,{command:{id:new d().desc.id,title:(0,I.NC)("showMoves","Show Moved Code Blocks"),icon:U.l.move,toggled:o.cP.create("config.diffEditor.experimental.showMoves",!0),precondition:o.Ao.has("isInDiffEditor")},order:10,group:"1_diff",when:o.Ao.has("isInDiffEditor")});const i={value:(0,I.NC)("diffEditor","Diff Editor"),original:"Diff Editor"};class f extends r.x1{constructor(){super({id:"diffEditor.switchSide",title:{value:(0,I.NC)("switchSide","Switch Side"),original:"Switch Side"},icon:U.l.arrowSwap,precondition:o.Ao.has("isInDiffEditor"),f1:!0,category:i})}runEditorCommand(B,W,$){const Y=E(B);if(Y instanceof c.p){if($&&$.dryRun)return{destinationSelection:Y.mapToOtherSide().destinationSelection};Y.switchSide()}}}(0,M.r1)(f);class v extends r.x1{constructor(){super({id:"diffEditor.exitCompareMove",title:{value:(0,I.NC)("exitCompareMove","Exit Compare Move"),original:"Exit Compare Move"},icon:U.l.close,precondition:_.u.comparingMovedCode,f1:!1,category:i,keybinding:{weight:1e4,primary:9}})}runEditorCommand(B,W,...$){const Y=E(B);Y instanceof c.p&&Y.exitCompareMove()}}(0,M.r1)(v);class a extends r.x1{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:{value:(0,I.NC)("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),original:"Collapse All Unchanged Regions"},icon:U.l.fold,precondition:o.Ao.has("isInDiffEditor"),f1:!0,category:i})}runEditorCommand(B,W,...$){const Y=E(B);Y instanceof c.p&&Y.collapseAllUnchangedRegions()}}(0,M.r1)(a);class S extends r.x1{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:{value:(0,I.NC)("showAllUnchangedRegions","Show All Unchanged Regions"),original:"Show All Unchanged Regions"},icon:U.l.unfold,precondition:o.Ao.has("isInDiffEditor"),f1:!0,category:i})}runEditorCommand(B,W,...$){const Y=E(B);Y instanceof c.p&&Y.showAllUnchangedRegions()}}(0,M.r1)(S);const g={value:(0,I.NC)("accessibleDiffViewer","Accessible Diff Viewer"),original:"Accessible Diff Viewer"};class y extends M.Ke{constructor(){super({id:y.id,title:{value:(0,I.NC)("editor.action.accessibleDiffViewer.next","Go to Next Difference"),original:"Go to Next Difference"},category:g,precondition:o.Ao.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(B){const W=E(B);W==null||W.accessibleDiffViewerNext()}}y.id="editor.action.accessibleDiffViewer.next",M.BH.appendMenuItem(M.eH.EditorTitle,{command:{id:y.id,title:(0,I.NC)("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:o.Ao.has("isInDiffEditor")},order:10,group:"2_diff",when:o.Ao.and(_.u.accessibleDiffViewerVisible.negate(),o.Ao.has("isInDiffEditor"))});class C extends M.Ke{constructor(){super({id:C.id,title:{value:(0,I.NC)("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),original:"Go to Previous Difference"},category:g,precondition:o.Ao.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(B){const W=E(B);W==null||W.accessibleDiffViewerPrev()}}C.id="editor.action.accessibleDiffViewer.prev";function E(N){var B;const W=N.get(w.$),$=W.listDiffEditors(),Y=(B=W.getFocusedCodeEditor())!==null&&B!==void 0?B:W.getActiveCodeEditor();if(!Y)return null;for(let L=0,z=$.length;L<z;L++){const O=$[L];if(O.getModifiedEditor().getId()===Y.getId()||O.getOriginalEditor().getId()===Y.getId())return O}const R=(0,b.vY)();if(R)for(const L of $){const z=L.getContainerDomNode();if(A(z,R))return L}return null}function A(N,B){let W=B;for(;W;){if(W===N)return!0;W=W.parentElement}return!1}D.P.registerCommandAlias("editor.action.diffReview.next",y.id),(0,M.r1)(y),D.P.registerCommandAlias("editor.action.diffReview.prev",C.id),(0,M.r1)(C)},20591:function(Ot,Ke,e){"use strict";e.d(Ke,{p:function(){return Zi}});var b=e(65321),U=e(35534),r=e(17301),w=e(4669),c=e(5976),_=e(99692),I=e(54282),M=e(16830),D=e(11640),p=e(43407),o=e(46445),u=e(77514),d=e(90317),n=e(59740),i=e(74741),f=e(9488),v=e(73046),a=e(25670),S=e(52136),g=e(31651),y=e(64141),C=e(45463),E=e(19247),A=e(50187),N=e(24314),B=e(54648),W=e(72042),$=e(77378),Y=e(72202),R=e(1118),L=e(63580),z=e(69149),O=e(72065),P=e(59554),H=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},V=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};const G=(0,P.q5)("diff-review-insert",v.l.add,(0,L.NC)("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),j=(0,P.q5)("diff-review-remove",v.l.remove,(0,L.NC)("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),F=(0,P.q5)("diff-review-close",v.l.close,(0,L.NC)("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let K=class extends c.JT{constructor($e,ft,gt,cn,rn,Sn,En,Ln,On){super(),this._parentNode=$e,this._visible=ft,this._setVisible=gt,this._canClose=cn,this._width=rn,this._height=Sn,this._diffs=En,this._editors=Ln,this._instantiationService=On,this._state=(0,_.Be)(this,(Qn,Vn)=>{const Wn=this._visible.read(Qn);if(this._parentNode.style.visibility=Wn?"visible":"hidden",!Wn)return null;const St=Vn.add(this._instantiationService.createInstance(m,this._diffs,this._editors,this._setVisible,this._canClose)),k=Vn.add(this._instantiationService.createInstance(Ne,this._parentNode,St,this._width,this._height,this._editors));return{model:St,view:k}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,_.PS)($e=>{const ft=this._visible.get();this._setVisible(!0,$e),ft&&this._state.get().model.nextGroup($e)})}prev(){(0,_.PS)($e=>{this._setVisible(!0,$e),this._state.get().model.previousGroup($e)})}close(){(0,_.PS)($e=>{this._setVisible(!1,$e)})}};K._ttPolicy=(0,u.Z)("diffReview",{createHTML:vn=>vn}),K=H([V(8,O.TG)],K);let m=class extends c.JT{constructor($e,ft,gt,cn,rn){super(),this._diffs=$e,this._editors=ft,this._setVisible=gt,this.canClose=cn,this._audioCueService=rn,this._groups=(0,_.uh)(this,[]),this._currentGroupIdx=(0,_.uh)(this,0),this._currentElementIdx=(0,_.uh)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((Sn,En)=>this._groups.read(En)[Sn]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((Sn,En)=>{var Ln;return(Ln=this.currentGroup.read(En))===null||Ln===void 0?void 0:Ln.lines[Sn]}),this._register((0,_.EH)(Sn=>{const En=this._diffs.read(Sn);if(!En){this._groups.set([],void 0);return}const Ln=X(En,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,_.PS)(On=>{const Qn=this._editors.modified.getPosition();if(Qn){const Vn=Ln.findIndex(Wn=>(Qn==null?void 0:Qn.lineNumber)<Wn.range.modified.endLineNumberExclusive);Vn!==-1&&this._currentGroupIdx.set(Vn,On)}this._groups.set(Ln,On)})})),this._register((0,_.EH)(Sn=>{const En=this.currentElement.read(Sn);(En==null?void 0:En.type)===te.Deleted?this._audioCueService.playAudioCue(z.y$.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(En==null?void 0:En.type)===te.Added&&this._audioCueService.playAudioCue(z.y$.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,_.EH)(Sn=>{var En;const Ln=this.currentElement.read(Sn);if(Ln&&Ln.type!==te.Header){const On=(En=Ln.modifiedLineNumber)!==null&&En!==void 0?En:Ln.diff.modified.startLineNumber;this._editors.modified.setSelection(N.e.fromPositions(new A.L(On,1)))}}))}_goToGroupDelta($e,ft){const gt=this.groups.get();!gt||gt.length<=1||(0,_.c8)(ft,cn=>{this._currentGroupIdx.set(E.q.ofLength(gt.length).clipCyclic(this._currentGroupIdx.get()+$e),cn),this._currentElementIdx.set(0,cn)})}nextGroup($e){this._goToGroupDelta(1,$e)}previousGroup($e){this._goToGroupDelta(-1,$e)}_goToLineDelta($e){const ft=this.currentGroup.get();!ft||ft.lines.length<=1||(0,_.PS)(gt=>{this._currentElementIdx.set(E.q.ofLength(ft.lines.length).clip(this._currentElementIdx.get()+$e),gt)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($e){const ft=this.currentGroup.get();if(!ft)return;const gt=ft.lines.indexOf($e);gt!==-1&&(0,_.PS)(cn=>{this._currentElementIdx.set(gt,cn)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const $e=this.currentElement.get();$e&&($e.type===te.Deleted?(this._editors.original.setSelection(N.e.fromPositions(new A.L($e.originalLineNumber,1))),this._editors.original.revealLine($e.originalLineNumber),this._editors.original.focus()):($e.type!==te.Header&&(this._editors.modified.setSelection(N.e.fromPositions(new A.L($e.modifiedLineNumber,1))),this._editors.modified.revealLine($e.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};m=H([V(4,z.e7)],m);const J=3;function X(vn,$e,ft){const gt=[];for(const cn of(0,f.mw)(vn,(rn,Sn)=>Sn.modified.startLineNumber-rn.modified.endLineNumberExclusive<2*J)){const rn=[];rn.push(new ge);const Sn=new C.z(Math.max(1,cn[0].original.startLineNumber-J),Math.min(cn[cn.length-1].original.endLineNumberExclusive+J,$e+1)),En=new C.z(Math.max(1,cn[0].modified.startLineNumber-J),Math.min(cn[cn.length-1].modified.endLineNumberExclusive+J,ft+1));(0,f.zy)(cn,(Qn,Vn)=>{const Wn=new C.z(Qn?Qn.original.endLineNumberExclusive:Sn.startLineNumber,Vn?Vn.original.startLineNumber:Sn.endLineNumberExclusive),St=new C.z(Qn?Qn.modified.endLineNumberExclusive:En.startLineNumber,Vn?Vn.modified.startLineNumber:En.endLineNumberExclusive);Wn.forEach(k=>{rn.push(new Pe(k,St.startLineNumber+(k-Wn.startLineNumber)))}),Vn&&(Vn.original.forEach(k=>{rn.push(new we(Vn,k))}),Vn.modified.forEach(k=>{rn.push(new pe(Vn,k))}))});const Ln=cn[0].modified.join(cn[cn.length-1].modified),On=cn[0].original.join(cn[cn.length-1].original);gt.push(new le(new B.f0(Ln,On),rn))}return gt}var te;(function(vn){vn[vn.Header=0]="Header",vn[vn.Unchanged=1]="Unchanged",vn[vn.Deleted=2]="Deleted",vn[vn.Added=3]="Added"})(te||(te={}));class le{constructor($e,ft){this.range=$e,this.lines=ft}}class ge{constructor(){this.type=te.Header}}class we{constructor($e,ft){this.diff=$e,this.originalLineNumber=ft,this.type=te.Deleted,this.modifiedLineNumber=void 0}}class pe{constructor($e,ft){this.diff=$e,this.modifiedLineNumber=ft,this.type=te.Added,this.originalLineNumber=void 0}}class Pe{constructor($e,ft){this.originalLineNumber=$e,this.modifiedLineNumber=ft,this.type=te.Unchanged}}let Ne=class extends c.JT{constructor($e,ft,gt,cn,rn,Sn){super(),this._element=$e,this._model=ft,this._width=gt,this._height=cn,this._editors=rn,this._languageService=Sn,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const En=document.createElement("div");En.className="diff-review-actions",this._actionBar=this._register(new d.o(En)),this._register((0,_.EH)(Ln=>{this._actionBar.clear(),this._model.canClose.read(Ln)&&this._actionBar.push(new i.aU("diffreview.close",(0,L.NC)("label.close","Close"),"close-diff-review "+a.k.asClassName(F),!0,()=>tn(this,null,function*(){return ft.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new n.s$(this._content,{})),(0,b.mc)(this.domNode,this._scrollbar.getDomNode(),En),this._register((0,c.OF)(()=>{(0,b.mc)(this.domNode)})),this._register((0,g.bg)(this.domNode,{width:this._width,height:this._height})),this._register((0,g.bg)(this._content,{width:this._width,height:this._height})),this._register((0,_.gp)((Ln,On)=>{this._model.currentGroup.read(Ln),this._render(On)})),this._register((0,b.mu)(this.domNode,"keydown",Ln=>{(Ln.equals(18)||Ln.equals(2066)||Ln.equals(530))&&(Ln.preventDefault(),this._model.goToNextLine()),(Ln.equals(16)||Ln.equals(2064)||Ln.equals(528))&&(Ln.preventDefault(),this._model.goToPreviousLine()),(Ln.equals(9)||Ln.equals(2057)||Ln.equals(521)||Ln.equals(1033))&&(Ln.preventDefault(),this._model.close()),(Ln.equals(10)||Ln.equals(3))&&(Ln.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render($e){const ft=this._editors.original.getOptions(),gt=this._editors.modified.getOptions(),cn=document.createElement("div");cn.className="diff-review-table",cn.setAttribute("role","list"),cn.setAttribute("aria-label",(0,L.NC)("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,S.N)(cn,gt.get(50)),(0,b.mc)(this._content,cn);const rn=this._editors.original.getModel(),Sn=this._editors.modified.getModel();if(!rn||!Sn)return;const En=rn.getOptions(),Ln=Sn.getOptions(),On=gt.get(66),Qn=this._model.currentGroup.get();for(const Vn of(Qn==null?void 0:Qn.lines)||[]){if(!Qn)break;let Wn;if(Vn.type===te.Header){const k=document.createElement("div");k.className="diff-review-row",k.setAttribute("role","listitem");const ne=Qn.range,ue=this._model.currentGroupIndex.get(),Fe=this._model.groups.get().length,Qe=lt=>lt===0?(0,L.NC)("no_lines_changed","no lines changed"):lt===1?(0,L.NC)("one_line_changed","1 line changed"):(0,L.NC)("more_lines_changed","{0} lines changed",lt),ot=Qe(ne.original.length),dt=Qe(ne.modified.length);k.setAttribute("aria-label",(0,L.NC)({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",ue+1,Fe,ne.original.startLineNumber,ot,ne.modified.startLineNumber,dt));const bt=document.createElement("div");bt.className="diff-review-cell diff-review-summary",bt.appendChild(document.createTextNode(`${ue+1}/${Fe}: @@ -${ne.original.startLineNumber},${ne.original.length} +${ne.modified.startLineNumber},${ne.modified.length} @@`)),k.appendChild(bt),Wn=k}else Wn=this._createRow(Vn,On,this._width.get(),ft,rn,En,gt,Sn,Ln);cn.appendChild(Wn);const St=(0,_.nK)(k=>this._model.currentElement.read(k)===Vn);$e.add((0,_.EH)(k=>{const ne=St.read(k);Wn.tabIndex=ne?0:-1,ne&&Wn.focus()})),$e.add((0,b.nm)(Wn,"focus",()=>{this._model.goToLine(Vn)}))}this._scrollbar.scanDomNode()}_createRow($e,ft,gt,cn,rn,Sn,En,Ln,On){const Qn=cn.get(143),Vn=Qn.glyphMarginWidth+Qn.lineNumbersWidth,Wn=En.get(143),St=10+Wn.glyphMarginWidth+Wn.lineNumbersWidth;let k="diff-review-row",ne="";const ue="diff-review-spacer";let Fe=null;switch($e.type){case te.Added:k="diff-review-row line-insert",ne=" char-insert",Fe=G;break;case te.Deleted:k="diff-review-row line-delete",ne=" char-delete",Fe=j;break}const Qe=document.createElement("div");Qe.style.minWidth=gt+"px",Qe.className=k,Qe.setAttribute("role","listitem"),Qe.ariaLevel="";const ot=document.createElement("div");ot.className="diff-review-cell",ot.style.height=`${ft}px`,Qe.appendChild(ot);const dt=document.createElement("span");dt.style.width=Vn+"px",dt.style.minWidth=Vn+"px",dt.className="diff-review-line-number"+ne,$e.originalLineNumber!==void 0?dt.appendChild(document.createTextNode(String($e.originalLineNumber))):dt.innerText="\xA0",ot.appendChild(dt);const bt=document.createElement("span");bt.style.width=St+"px",bt.style.minWidth=St+"px",bt.style.paddingRight="10px",bt.className="diff-review-line-number"+ne,$e.modifiedLineNumber!==void 0?bt.appendChild(document.createTextNode(String($e.modifiedLineNumber))):bt.innerText="\xA0",ot.appendChild(bt);const lt=document.createElement("span");if(lt.className=ue,Fe){const We=document.createElement("span");We.className=a.k.asClassName(Fe),We.innerText="\xA0\xA0",lt.appendChild(We)}else lt.innerText="\xA0\xA0";ot.appendChild(lt);let Q;if($e.modifiedLineNumber!==void 0){let We=this._getLineHtml(Ln,En,On.tabSize,$e.modifiedLineNumber,this._languageService.languageIdCodec);K._ttPolicy&&(We=K._ttPolicy.createHTML(We)),ot.insertAdjacentHTML("beforeend",We),Q=Ln.getLineContent($e.modifiedLineNumber)}else{let We=this._getLineHtml(rn,cn,Sn.tabSize,$e.originalLineNumber,this._languageService.languageIdCodec);K._ttPolicy&&(We=K._ttPolicy.createHTML(We)),ot.insertAdjacentHTML("beforeend",We),Q=rn.getLineContent($e.originalLineNumber)}Q.length===0&&(Q=(0,L.NC)("blankLine","blank"));let fe="";switch($e.type){case te.Unchanged:$e.originalLineNumber===$e.modifiedLineNumber?fe=(0,L.NC)({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Q,$e.originalLineNumber):fe=(0,L.NC)("equalLine","{0} original line {1} modified line {2}",Q,$e.originalLineNumber,$e.modifiedLineNumber);break;case te.Added:fe=(0,L.NC)("insertLine","+ {0} modified line {1}",Q,$e.modifiedLineNumber);break;case te.Deleted:fe=(0,L.NC)("deleteLine","- {0} original line {1}",Q,$e.originalLineNumber);break}return Qe.setAttribute("aria-label",fe),Qe}_getLineHtml($e,ft,gt,cn,rn){const Sn=$e.getLineContent(cn),En=ft.get(50),Ln=$.A.createEmpty(Sn,rn),On=R.wA.isBasicASCII(Sn,$e.mightContainNonBasicASCII()),Qn=R.wA.containsRTL(Sn,On,$e.mightContainRTL());return(0,Y.tF)(new Y.IJ(En.isMonospace&&!ft.get(33),En.canUseHalfwidthRightwardsArrow,Sn,!1,On,Qn,0,Ln,[],gt,0,En.spaceWidth,En.middotWidth,En.wsmiddotWidth,ft.get(116),ft.get(98),ft.get(93),ft.get(51)!==y.n0.OFF,null)).html}};Ne=H([V(5,W.O)],Ne);var ae=e(56811),Me=e(84901);const ke=(0,P.q5)("diff-insert",v.l.add,(0,L.NC)("diffInsertIcon","Line decoration for inserts in the diff editor.")),Ue=(0,P.q5)("diff-remove",v.l.remove,(0,L.NC)("diffRemoveIcon","Line decoration for removals in the diff editor.")),Le=Me.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+a.k.asClassName(ke),marginClassName:"gutter-insert"}),ie=Me.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+a.k.asClassName(Ue),marginClassName:"gutter-delete"}),ce=Me.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Re=Me.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),ye=Me.qx.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),Se=Me.qx.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),me=Me.qx.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),he=Me.qx.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),se=Me.qx.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),ve=Me.qx.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});class xe extends c.JT{constructor($e,ft,gt,cn,rn){super(),this._rootElement=$e,this._diffModel=ft,this._originalEditorLayoutInfo=gt,this._modifiedEditorLayoutInfo=cn,this._editors=rn,this._originalScrollTop=(0,_.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,_.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,_.aq)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,_.uh)(this,0),this._modifiedViewZonesChangedSignal=(0,_.aq)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,_.aq)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,_.Be)(this,(Wn,St)=>{var k;this._element.replaceChildren();const ne=this._diffModel.read(Wn),ue=(k=ne==null?void 0:ne.diff.read(Wn))===null||k===void 0?void 0:k.movedTexts;if(!ue||ue.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(Wn);const Fe=this._originalEditorLayoutInfo.read(Wn),Qe=this._modifiedEditorLayoutInfo.read(Wn);if(!Fe||!Qe){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(Wn),this._originalViewZonesChangedSignal.read(Wn);const ot=ue.map(at=>{function Ct(Kn,di){const pi=di.getTopForLineNumber(Kn.startLineNumber,!0),qi=di.getTopForLineNumber(Kn.endLineNumberExclusive,!0);return(pi+qi)/2}const Rt=Ct(at.lineRangeMapping.original,this._editors.original),Vt=this._originalScrollTop.read(Wn),an=Ct(at.lineRangeMapping.modified,this._editors.modified),An=this._modifiedScrollTop.read(Wn),zn=Rt-Vt,ui=an-An,hi=Math.min(Rt,an),oi=Math.max(Rt,an);return{range:new E.q(hi,oi),from:zn,to:ui,fromWithoutScroll:Rt,toWithoutScroll:an,move:at}});ot.sort((0,f.f_)((0,f.tT)(at=>at.fromWithoutScroll>at.toWithoutScroll,f.nW),(0,f.tT)(at=>at.fromWithoutScroll>at.toWithoutScroll?at.fromWithoutScroll:-at.toWithoutScroll,f.fv)));const dt=je.compute(ot.map(at=>at.range)),bt=10,lt=Fe.verticalScrollbarWidth,Q=(dt.getTrackCount()-1)*10+bt*2,fe=lt+Q+(Qe.contentLeft-xe.movedCodeBlockPadding);let We=0;for(const at of ot){const Ct=dt.getTrack(We),Rt=lt+bt+Ct*10,Vt=15,an=15,An=fe,zn=Qe.glyphMarginWidth+Qe.lineNumbersWidth,ui=18,hi=document.createElementNS("http://www.w3.org/2000/svg","rect");hi.classList.add("arrow-rectangle"),hi.setAttribute("x",`${An-zn}`),hi.setAttribute("y",`${at.to-ui/2}`),hi.setAttribute("width",`${zn}`),hi.setAttribute("height",`${ui}`),this._element.appendChild(hi);const oi=document.createElementNS("http://www.w3.org/2000/svg","g"),Kn=document.createElementNS("http://www.w3.org/2000/svg","path");Kn.setAttribute("d",`M 0 ${at.from} L ${Rt} ${at.from} L ${Rt} ${at.to} L ${An-an} ${at.to}`),Kn.setAttribute("fill","none"),oi.appendChild(Kn);const di=document.createElementNS("http://www.w3.org/2000/svg","polygon");di.classList.add("arrow"),St.add((0,_.EH)(pi=>{Kn.classList.toggle("currentMove",at.move===ne.activeMovedText.read(pi)),di.classList.toggle("currentMove",at.move===ne.activeMovedText.read(pi))})),di.setAttribute("points",`${An-an},${at.to-Vt/2} ${An},${at.to} ${An-an},${at.to+Vt/2}`),oi.appendChild(di),this._element.appendChild(oi),We++}this.width.set(Q,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,c.OF)(()=>this._element.remove())),this._register((0,_.EH)(Wn=>{const St=this._originalEditorLayoutInfo.read(Wn),k=this._modifiedEditorLayoutInfo.read(Wn);!St||!k||(this._element.style.left=`${St.width-St.verticalScrollbarWidth}px`,this._element.style.height=`${St.height}px`,this._element.style.width=`${St.verticalScrollbarWidth+St.contentLeft-xe.movedCodeBlockPadding+this.width.read(Wn)}px`)})),this._register((0,_.jx)(this._state));const Sn=(0,_.nK)(Wn=>{const St=this._diffModel.read(Wn),k=St==null?void 0:St.diff.read(Wn);return k?k.movedTexts.map(ne=>({move:ne,original:new g.GD((0,_.Dz)(ne.lineRangeMapping.original.startLineNumber-1),18),modified:new g.GD((0,_.Dz)(ne.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,g.Sv)(this._editors.original,Sn.map(Wn=>Wn.map(St=>St.original)))),this._register((0,g.Sv)(this._editors.modified,Sn.map(Wn=>Wn.map(St=>St.modified)))),this._register((0,_.gp)((Wn,St)=>{const k=Sn.read(Wn);for(const ne of k)St.add(new Oe(this._editors.original,ne.original,ne.move,"original",this._diffModel.get())),St.add(new Oe(this._editors.modified,ne.modified,ne.move,"modified",this._diffModel.get()))}));const En=(0,_.rD)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),Ln=(0,_.rD)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),On=(0,_.aq)("original.onDidFocusEditorWidget",Wn=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>Wn(void 0),0))),Qn=(0,_.aq)("modified.onDidFocusEditorWidget",Wn=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>Wn(void 0),0)));let Vn="modified";this._register((0,_.nJ)({createEmptyChangeSummary:()=>{},handleChange:(Wn,St)=>(Wn.didChange(On)&&(Vn="original"),Wn.didChange(Qn)&&(Vn="modified"),!0)},Wn=>{On.read(Wn),Qn.read(Wn);const St=this._diffModel.read(Wn);if(!St)return;const k=St.diff.read(Wn);let ne;if(k&&Vn==="original"){const ue=En.read(Wn);ue&&(ne=k.movedTexts.find(Fe=>Fe.lineRangeMapping.original.contains(ue.lineNumber)))}if(k&&Vn==="modified"){const ue=Ln.read(Wn);ue&&(ne=k.movedTexts.find(Fe=>Fe.lineRangeMapping.modified.contains(ue.lineNumber)))}ne!==St.movedTextToCompare.get()&&St.movedTextToCompare.set(void 0,void 0),St.setActiveMovedText(ne)}))}}xe.movedCodeBlockPadding=4;class je{static compute($e){const ft=[],gt=[];for(const cn of $e){let rn=ft.findIndex(Sn=>!Sn.intersectsStrict(cn));rn===-1&&(ft.length>=6?rn=(0,U.tQ)(ft,(0,f.tT)(En=>En.intersectWithRangeLength(cn),f.fv)):(rn=ft.length,ft.push(new E.M))),ft[rn].addRange(cn),gt.push(rn)}return new je(ft.length,gt)}constructor($e,ft){this._trackCount=$e,this.trackPerLineIdx=ft}getTrack($e){return this.trackPerLineIdx[$e]}getTrackCount(){return this._trackCount}}class Oe extends g.N9{constructor($e,ft,gt,cn,rn){const Sn=(0,b.h)("div.diff-hidden-lines-widget");super($e,ft,Sn.root),this._editor=$e,this._move=gt,this._kind=cn,this._diffModel=rn,this._nodes=(0,b.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,b.h)("div.text-content@textContent"),(0,b.h)("div.action-bar@actionBar")]),Sn.root.appendChild(this._nodes.root);const En=(0,_.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,g.bg)(this._nodes.root,{paddingRight:En.map(Wn=>Wn.verticalScrollbarWidth)}));let Ln;gt.changes.length>0?Ln=this._kind==="original"?(0,L.NC)("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,L.NC)("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):Ln=this._kind==="original"?(0,L.NC)("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,L.NC)("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const On=this._register(new d.o(this._nodes.actionBar,{highlightToggledItems:!0})),Qn=new i.aU("",Ln,"",!1);On.push(Qn,{icon:!1,label:!0});const Vn=new i.aU("","Compare",a.k.asClassName(v.l.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===gt?void 0:this._move,void 0)});this._register((0,_.EH)(Wn=>{const St=this._diffModel.movedTextToCompare.read(Wn)===gt;Vn.checked=St})),On.push(Vn,{icon:!1,label:!0})}}var Ze=e(84973);class it extends c.JT{constructor($e,ft,gt,cn){super(),this._editors=$e,this._diffModel=ft,this._options=gt,this._decorations=(0,_.nK)(this,rn=>{var Sn;const En=(Sn=this._diffModel.read(rn))===null||Sn===void 0?void 0:Sn.diff.read(rn);if(!En)return null;const Ln=this._diffModel.read(rn).movedTextToCompare.read(rn),On=this._options.renderIndicators.read(rn),Qn=this._options.showEmptyDecorations.read(rn),Vn=[],Wn=[];if(!Ln)for(const k of En.mappings)if(k.lineRangeMapping.original.isEmpty||Vn.push({range:k.lineRangeMapping.original.toInclusiveRange(),options:On?ie:Re}),k.lineRangeMapping.modified.isEmpty||Wn.push({range:k.lineRangeMapping.modified.toInclusiveRange(),options:On?Le:ce}),k.lineRangeMapping.modified.isEmpty||k.lineRangeMapping.original.isEmpty)k.lineRangeMapping.original.isEmpty||Vn.push({range:k.lineRangeMapping.original.toInclusiveRange(),options:se}),k.lineRangeMapping.modified.isEmpty||Wn.push({range:k.lineRangeMapping.modified.toInclusiveRange(),options:Se});else for(const ne of k.lineRangeMapping.innerChanges||[])k.lineRangeMapping.original.contains(ne.originalRange.startLineNumber)&&Vn.push({range:ne.originalRange,options:ne.originalRange.isEmpty()&&Qn?ve:he}),k.lineRangeMapping.modified.contains(ne.modifiedRange.startLineNumber)&&Wn.push({range:ne.modifiedRange,options:ne.modifiedRange.isEmpty()&&Qn?me:ye});if(Ln)for(const k of Ln.changes){const ne=k.original.toInclusiveRange();ne&&Vn.push({range:ne,options:On?ie:Re});const ue=k.modified.toInclusiveRange();ue&&Wn.push({range:ue,options:On?Le:ce});for(const Fe of k.innerChanges||[])Vn.push({range:Fe.originalRange,options:he}),Wn.push({range:Fe.modifiedRange,options:ye})}const St=this._diffModel.read(rn).activeMovedText.read(rn);for(const k of En.movedTexts)Vn.push({range:k.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(k===St?" currentMove":""),blockPadding:[xe.movedCodeBlockPadding,0,xe.movedCodeBlockPadding,xe.movedCodeBlockPadding]}}),Wn.push({range:k.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(k===St?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:Vn,modifiedDecorations:Wn}}),this._register(new Et($e,ft,gt,cn)),this._register((0,g.RP)(this._editors.original,this._decorations.map(rn=>(rn==null?void 0:rn.originalDecorations)||[]))),this._register((0,g.RP)(this._editors.modified,this._decorations.map(rn=>(rn==null?void 0:rn.modifiedDecorations)||[])))}}class Et extends c.JT{constructor($e,ft,gt,cn){super(),this._editors=$e,this._diffModel=ft,this._options=gt,this._widget=cn;const rn=[],Sn=(0,_.nK)(this,En=>{const Ln=this._diffModel.read(En),On=Ln==null?void 0:Ln.diff.read(En);if(!On)return rn;const Qn=this._editors.modifiedSelections.read(En);if(Qn.every(k=>k.isEmpty()))return rn;const Vn=new C.i(Qn.map(k=>C.z.fromRangeInclusive(k))),St=On.mappings.filter(k=>k.lineRangeMapping.innerChanges&&Vn.intersects(k.lineRangeMapping.modified)).map(k=>({mapping:k,rangeMappings:k.lineRangeMapping.innerChanges.filter(ne=>Qn.some(ue=>N.e.areIntersecting(ne.modifiedRange,ue)))}));return St.length===0||St.every(k=>k.rangeMappings.length===0)?rn:St});this._register((0,_.gp)((En,Ln)=>{const On=this._diffModel.read(En),Qn=On==null?void 0:On.diff.read(En);if(!On||!Qn||this._diffModel.read(En).movedTextToCompare.read(En)||!this._options.shouldRenderRevertArrows.read(En))return;const Wn=[],St=Sn.read(En),k=new Set(St.map(ne=>ne.mapping));if(St.length>0){const ne=this._editors.modifiedSelections.read(En),ue=new st(ne[ne.length-1].positionLineNumber,this._widget,St.flatMap(Fe=>Fe.rangeMappings),!0);this._editors.modified.addGlyphMarginWidget(ue),Wn.push(ue)}for(const ne of Qn.mappings)if(!k.has(ne)&&!ne.lineRangeMapping.modified.isEmpty&&ne.lineRangeMapping.innerChanges){const ue=new st(ne.lineRangeMapping.modified.startLineNumber,this._widget,ne.lineRangeMapping.innerChanges,!1);this._editors.modified.addGlyphMarginWidget(ue),Wn.push(ue)}Ln.add((0,c.OF)(()=>{for(const ne of Wn)this._editors.modified.removeGlyphMarginWidget(ne)}))}))}}class st{getId(){return this._id}constructor($e,ft,gt,cn){this._lineNumber=$e,this._widget=ft,this._diffs=gt,this._selection=cn,this._id=`revertButton${st.counter++}`,this._domNode=(0,b.h)("div.revertButton",{title:this._selection?(0,L.NC)("revertSelectedChanges","Revert Selected Changes"):(0,L.NC)("revertChange","Revert Change")},[(0,ae.h)(v.l.arrowRight)]).root,this._domNode.onmousedown=rn=>{rn.button!==2&&(rn.stopPropagation(),rn.preventDefault())},this._domNode.onmouseup=rn=>{rn.stopPropagation(),rn.preventDefault()},this._domNode.onclick=rn=>{this._widget.revertRangeMappings(this._diffs),rn.stopPropagation(),rn.preventDefault()}}getDomNode(){return this._domNode}getPosition(){return{lane:Ze.U.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}st.counter=0;var pt=e(83080);class Mt extends c.JT{constructor($e,ft,gt,cn){super(),this._options=$e,this._domNode=ft,this._dimensions=gt,this._sashes=cn,this._sashRatio=(0,_.uh)(this,void 0),this.sashLeft=(0,_.nK)(this,rn=>{var Sn;const En=(Sn=this._sashRatio.read(rn))!==null&&Sn!==void 0?Sn:this._options.splitViewDefaultRatio.read(rn);return this._computeSashLeft(En,rn)}),this._sash=this._register(new pt.g(this._domNode,{getVerticalSashTop:rn=>0,getVerticalSashLeft:rn=>this.sashLeft.get(),getVerticalSashHeight:rn=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(rn=>{const Sn=this._dimensions.width.get(),En=this._computeSashLeft((this._startSashPosition+(rn.currentX-rn.startX))/Sn,void 0);this._sashRatio.set(En/Sn,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,_.EH)(rn=>{const Sn=this._sashes.read(rn);Sn&&(this._sash.orthogonalEndSash=Sn.bottom)})),this._register((0,_.EH)(rn=>{const Sn=this._options.enableSplitViewResizing.read(rn);this._sash.state=Sn?3:0,this.sashLeft.read(rn),this._dimensions.height.read(rn),this._sash.layout()}))}_computeSashLeft($e,ft){const gt=this._dimensions.width.read(ft),cn=Math.floor(this._options.splitViewDefaultRatio.read(ft)*gt),rn=this._options.enableSplitViewResizing.read(ft)?Math.floor($e*gt):cn,Sn=100;return gt<=Sn*2?cn:rn<Sn?Sn:rn>gt-Sn?gt-Sn:rn}}var qt=e(59365),Ft=e(98401),Xt=e(71050),_t=e(53725);class nt{remove(){var $e;($e=this.parent)===null||$e===void 0||$e.children.delete(this.id)}static findId($e,ft){let gt;typeof $e=="string"?gt=`${ft.id}/${$e}`:(gt=`${ft.id}/${$e.name}`,ft.children.get(gt)!==void 0&&(gt=`${ft.id}/${$e.name}_${$e.range.startLineNumber}_${$e.range.startColumn}`));let cn=gt;for(let rn=0;ft.children.get(cn)!==void 0;rn++)cn=`${gt}_${rn}`;return cn}static empty($e){return $e.children.size===0}}class tt extends nt{constructor($e,ft,gt){super(),this.id=$e,this.parent=ft,this.symbol=gt,this.children=new Map}}class xt extends nt{constructor($e,ft,gt,cn){super(),this.id=$e,this.parent=ft,this.label=gt,this.order=cn,this.children=new Map}}class Lt extends nt{static create($e,ft,gt){const cn=new Xt.A(gt),rn=new Lt(ft.uri),Sn=$e.ordered(ft),En=Sn.map((On,Qn)=>{var Vn;const Wn=nt.findId(`provider_${Qn}`,rn),St=new xt(Wn,rn,(Vn=On.displayName)!==null&&Vn!==void 0?Vn:"Unknown Outline Provider",Qn);return Promise.resolve(On.provideDocumentSymbols(ft,cn.token)).then(k=>{for(const ne of k||[])Lt._makeOutlineElement(ne,St);return St},k=>((0,r.Cp)(k),St)).then(k=>{nt.empty(k)?k.remove():rn._groups.set(Wn,k)})}),Ln=$e.onDidChange(()=>{const On=$e.ordered(ft);(0,f.fS)(On,Sn)||cn.cancel()});return Promise.all(En).then(()=>cn.token.isCancellationRequested&&!gt.isCancellationRequested?Lt.create($e,ft,gt):rn._compact()).finally(()=>{cn.dispose(),Ln.dispose()})}static _makeOutlineElement($e,ft){const gt=nt.findId($e,ft),cn=new tt(gt,ft,$e);if($e.children)for(const rn of $e.children)Lt._makeOutlineElement(rn,cn);ft.children.set(cn.id,cn)}constructor($e){super(),this.uri=$e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let $e=0;for(const[ft,gt]of this._groups)gt.children.size===0?this._groups.delete(ft):$e+=1;if($e!==1)this.children=this._groups;else{const ft=_t.$.first(this._groups.values());for(const[,gt]of ft.children)gt.parent=this,this.children.set(gt.id,gt)}return this}getTopLevelSymbols(){const $e=[];for(const ft of this.children.values())ft instanceof tt?$e.push(ft.symbol):$e.push(..._t.$.map(ft.children.values(),gt=>gt.symbol));return $e.sort((ft,gt)=>N.e.compareRangesUsingStarts(ft.range,gt.range))}asListOfDocumentSymbols(){const $e=this.getTopLevelSymbols(),ft=[];return Lt._flattenDocumentSymbols(ft,$e,""),ft.sort((gt,cn)=>A.L.compare(N.e.getStartPosition(gt.range),N.e.getStartPosition(cn.range))||A.L.compare(N.e.getEndPosition(cn.range),N.e.getEndPosition(gt.range)))}static _flattenDocumentSymbols($e,ft,gt){for(const cn of ft)$e.push({kind:cn.kind,tags:cn.tags,name:cn.name,detail:cn.detail,containerName:cn.containerName||gt,range:cn.range,selectionRange:cn.selectionRange,children:void 0}),cn.children&&Lt._flattenDocumentSymbols($e,cn.children,cn.name)}}var Be=e(43155),yt=e(71922),un=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},In=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};let bn=class extends c.JT{get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor($e,ft,gt,cn){super(),this._editors=$e,this._diffModel=ft,this._options=gt,this._languageFeaturesService=cn,this._modifiedOutlineSource=(0,I.kA)(this,Ln=>{const On=this._editors.modifiedModel.read(Ln);return On?new si(this._languageFeaturesService,On):void 0}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(Ln=>{if(Ln.reason===3){const On=this._diffModel.get();(0,_.PS)(Qn=>{for(const Vn of this._editors.original.getSelections()||[])On==null||On.ensureOriginalLineIsVisible(Vn.getStartPosition().lineNumber,Qn),On==null||On.ensureOriginalLineIsVisible(Vn.getEndPosition().lineNumber,Qn)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(Ln=>{if(Ln.reason===3){const On=this._diffModel.get();(0,_.PS)(Qn=>{for(const Vn of this._editors.modified.getSelections()||[])On==null||On.ensureModifiedLineIsVisible(Vn.getStartPosition().lineNumber,Qn),On==null||On.ensureModifiedLineIsVisible(Vn.getEndPosition().lineNumber,Qn)})}}));const rn=this._diffModel.map((Ln,On)=>{var Qn,Vn;return((Qn=Ln==null?void 0:Ln.diff.read(On))===null||Qn===void 0?void 0:Qn.mappings.length)===0?[]:(Vn=Ln==null?void 0:Ln.unchangedRegions.read(On))!==null&&Vn!==void 0?Vn:[]});this.viewZones=(0,_.Be)(this,(Ln,On)=>{const Qn=this._modifiedOutlineSource.read(Ln);if(!Qn)return{origViewZones:[],modViewZones:[]};const Vn=[],Wn=[],St=this._options.renderSideBySide.read(Ln),k=rn.read(Ln);for(const ne of k)if(!ne.shouldHideControls(Ln)){{const ue=(0,_.nK)(this,Qe=>ne.getHiddenOriginalRange(Qe).startLineNumber-1),Fe=new g.GD(ue,24);Vn.push(Fe),On.add(new Hn(this._editors.original,Fe,ne,ne.originalUnchangedRange,!St,Qn,Qe=>this._diffModel.get().ensureModifiedLineIsVisible(Qe,void 0),this._options))}{const ue=(0,_.nK)(this,Qe=>ne.getHiddenModifiedRange(Qe).startLineNumber-1),Fe=new g.GD(ue,24);Wn.push(Fe),On.add(new Hn(this._editors.modified,Fe,ne,ne.modifiedUnchangedRange,!1,Qn,Qe=>this._diffModel.get().ensureModifiedLineIsVisible(Qe,void 0),this._options))}}return{origViewZones:Vn,modViewZones:Wn}});const Sn={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},En={description:"Fold Unchanged",glyphMarginHoverMessage:new qt.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,L.NC)("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+a.k.asClassName(v.l.fold),zIndex:10001};this._register((0,g.RP)(this._editors.original,(0,_.nK)(this,Ln=>{const On=rn.read(Ln),Qn=On.map(Vn=>({range:Vn.originalUnchangedRange.toInclusiveRange(),options:Sn}));for(const Vn of On)Vn.shouldHideControls(Ln)&&Qn.push({range:N.e.fromPositions(new A.L(Vn.originalLineNumber,1)),options:En});return Qn}))),this._register((0,g.RP)(this._editors.modified,(0,_.nK)(this,Ln=>{const On=rn.read(Ln),Qn=On.map(Vn=>({range:Vn.modifiedUnchangedRange.toInclusiveRange(),options:Sn}));for(const Vn of On)Vn.shouldHideControls(Ln)&&Qn.push({range:C.z.ofLength(Vn.modifiedLineNumber,1).toInclusiveRange(),options:En});return Qn}))),this._register((0,_.EH)(Ln=>{const On=rn.read(Ln);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(On.map(Qn=>Qn.getHiddenOriginalRange(Ln).toInclusiveRange()).filter(Ft.$K)),this._editors.modified.setHiddenAreas(On.map(Qn=>Qn.getHiddenModifiedRange(Ln).toInclusiveRange()).filter(Ft.$K))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(Ln=>{var On;if(!Ln.event.rightButton&&Ln.target.position&&(!((On=Ln.target.element)===null||On===void 0)&&On.className.includes("fold-unchanged"))){const Qn=Ln.target.position.lineNumber,Vn=this._diffModel.get();if(!Vn)return;const Wn=Vn.unchangedRegions.get().find(St=>St.modifiedUnchangedRange.includes(Qn));if(!Wn)return;Wn.collapseAll(void 0),Ln.event.stopPropagation(),Ln.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(Ln=>{var On;if(!Ln.event.rightButton&&Ln.target.position&&(!((On=Ln.target.element)===null||On===void 0)&&On.className.includes("fold-unchanged"))){const Qn=Ln.target.position.lineNumber,Vn=this._diffModel.get();if(!Vn)return;const Wn=Vn.unchangedRegions.get().find(St=>St.originalUnchangedRange.includes(Qn));if(!Wn)return;Wn.collapseAll(void 0),Ln.event.stopPropagation(),Ln.event.preventDefault()}}))}};bn=un([In(3,yt.p)],bn);class Hn extends g.N9{constructor($e,ft,gt,cn,rn,Sn,En,Ln){const On=(0,b.h)("div.diff-hidden-lines-widget");super($e,ft,On.root),this._editor=$e,this._unchangedRegion=gt,this._unchangedRegionRange=cn,this._hide=rn,this._modifiedOutlineSource=Sn,this._revealModifiedHiddenLine=En,this._options=Ln,this._nodes=(0,b.h)("div.diff-hidden-lines",[(0,b.h)("div.top@top",{title:(0,L.NC)("diff.hiddenLines.top","Click or drag to show more above")}),(0,b.h)("div.center@content",{style:{display:"flex"}},[(0,b.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,b.$)("a",{title:(0,L.NC)("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,ae.T)("$(unfold)"))]),(0,b.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,b.h)("div.bottom@bottom",{title:(0,L.NC)("diff.bottom","Click or drag to show more below"),role:"button"})]),On.root.appendChild(this._nodes.root);const Qn=(0,_.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,b.mc)(this._nodes.first):this._register((0,g.bg)(this._nodes.first,{width:Qn.map(Wn=>Wn.contentLeft)})),this._register((0,_.EH)(Wn=>{const St=this._unchangedRegion.visibleLineCountTop.read(Wn)+this._unchangedRegion.visibleLineCountBottom.read(Wn)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!St),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Wn)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Wn)>0),this._nodes.top.classList.toggle("canMoveBottom",!St);const k=this._unchangedRegion.isDragged.read(Wn),ne=this._editor.getDomNode();ne&&(ne.classList.toggle("draggingUnchangedRegion",!!k),k==="top"?(ne.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Wn)>0),ne.classList.toggle("canMoveBottom",!St)):k==="bottom"?(ne.classList.toggle("canMoveTop",!St),ne.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Wn)>0)):(ne.classList.toggle("canMoveTop",!1),ne.classList.toggle("canMoveBottom",!1)))}));const Vn=this._editor;this._register((0,b.nm)(this._nodes.top,"mousedown",Wn=>{if(Wn.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Wn.preventDefault();const St=Wn.clientY;let k=!1;const ne=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const ue=(0,b.Jj)(this._nodes.top),Fe=(0,b.nm)(ue,"mousemove",ot=>{const bt=ot.clientY-St;k=k||Math.abs(bt)>2;const lt=Math.round(bt/Vn.getOption(66)),Q=Math.max(0,Math.min(ne+lt,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(Q,void 0)}),Qe=(0,b.nm)(ue,"mouseup",ot=>{k||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),Fe.dispose(),Qe.dispose()})})),this._register((0,b.nm)(this._nodes.bottom,"mousedown",Wn=>{if(Wn.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Wn.preventDefault();const St=Wn.clientY;let k=!1;const ne=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const ue=(0,b.Jj)(this._nodes.bottom),Fe=(0,b.nm)(ue,"mousemove",ot=>{const bt=ot.clientY-St;k=k||Math.abs(bt)>2;const lt=Math.round(bt/Vn.getOption(66)),Q=Math.max(0,Math.min(ne-lt,this._unchangedRegion.getMaxVisibleLineCountBottom())),fe=Vn.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(Q,void 0);const We=Vn.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Vn.setScrollTop(Vn.getScrollTop()+(We-fe))}),Qe=(0,b.nm)(ue,"mouseup",ot=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!k){const dt=Vn.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const bt=Vn.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Vn.setScrollTop(Vn.getScrollTop()+(bt-dt))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),Fe.dispose(),Qe.dispose()})})),this._register((0,_.EH)(Wn=>{const St=[];if(!this._hide){const k=gt.getHiddenModifiedRange(Wn).length,ne=(0,L.NC)("hiddenLines","{0} hidden lines",k),ue=(0,b.$)("span",{title:(0,L.NC)("diff.hiddenLines.expandAll","Double click to unfold")},ne);ue.addEventListener("dblclick",ot=>{ot.button===0&&(ot.preventDefault(),this._unchangedRegion.showAll(void 0))}),St.push(ue);const Fe=this._unchangedRegion.getHiddenModifiedRange(Wn),Qe=this._modifiedOutlineSource.getBreadcrumbItems(Fe,Wn);if(Qe.length>0){St.push((0,b.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let ot=0;ot<Qe.length;ot++){const dt=Qe[ot],bt=Be.uZ.toIcon(dt.kind),lt=(0,b.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,ae.h)(bt),"\xA0",dt.name,...ot===Qe.length-1?[]:[(0,ae.h)(v.l.chevronRight)]]).root;St.push(lt),lt.onclick=()=>{this._revealModifiedHiddenLine(dt.startLineNumber)}}}}(0,b.mc)(this._nodes.others,...St)}))}}let si=class extends c.JT{constructor($e,ft){super(),this._languageFeaturesService=$e,this._textModel=ft,this._currentModel=(0,_.uh)(this,void 0);const gt=(0,_.aq)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),cn=(0,_.aq)("_textModel.onDidChangeContent",w.ju.debounce(rn=>this._textModel.onDidChangeContent(rn),()=>{},100));this._register((0,_.gp)((rn,Sn)=>tn(this,null,function*(){gt.read(rn),cn.read(rn);const En=Sn.add(new g.t2),Ln=yield Lt.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,En.token);Sn.isDisposed||this._currentModel.set(Ln,void 0)})))}getBreadcrumbItems($e,ft){const gt=this._currentModel.read(ft);if(!gt)return[];const cn=gt.asListOfDocumentSymbols().filter(rn=>$e.contains(rn.range.startLineNumber)&&!$e.contains(rn.range.endLineNumber));return cn.sort((0,f.BV)((0,f.tT)(rn=>rn.range.endLineNumber-rn.range.startLineNumber,f.fv))),cn.map(rn=>({name:rn.name,kind:rn.kind,startLineNumber:rn.range.startLineNumber}))}};si=un([In(0,yt.p)],si);var Yn=e(15393),mi=e(84013),_i=e(85215),Wi=e(10829),Si=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},Ki=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}},bi;let Fi=bi=class{constructor($e,ft,gt){this.editorWorkerService=ft,this.telemetryService=gt,this.onDidChangeEventEmitter=new w.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions($e)}dispose(){var $e;($e=this.diffAlgorithmOnDidChangeSubscription)===null||$e===void 0||$e.dispose()}computeDiff($e,ft,gt,cn){return tn(this,null,function*(){var rn,Sn;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff($e,ft,gt,cn);if($e.getLineCount()===1&&$e.getLineMaxColumn(1)===1)return ft.getLineCount()===1&&ft.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new B.gB(new C.z(1,2),new C.z(1,ft.getLineCount()+1),[new B.iy($e.getFullModelRange(),ft.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const En=JSON.stringify([$e.uri.toString(),ft.uri.toString()]),Ln=JSON.stringify([$e.id,ft.id,$e.getAlternativeVersionId(),ft.getAlternativeVersionId(),JSON.stringify(gt)]),On=bi.diffCache.get(En);if(On&&On.context===Ln)return On.result;const Qn=mi.G.create(),Vn=yield this.editorWorkerService.computeDiff($e.uri,ft.uri,gt,this.diffAlgorithm),Wn=Qn.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:Wn,timedOut:(rn=Vn==null?void 0:Vn.quitEarly)!==null&&rn!==void 0?rn:!0,detectedMoves:gt.computeMoves?(Sn=Vn==null?void 0:Vn.moves.length)!==null&&Sn!==void 0?Sn:0:-1}),cn.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!Vn)throw new Error("no diff result available");return bi.diffCache.size>10&&bi.diffCache.delete(bi.diffCache.keys().next().value),bi.diffCache.set(En,{result:Vn,context:Ln}),Vn})}setOptions($e){var ft;let gt=!1;$e.diffAlgorithm&&this.diffAlgorithm!==$e.diffAlgorithm&&((ft=this.diffAlgorithmOnDidChangeSubscription)===null||ft===void 0||ft.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=$e.diffAlgorithm,typeof $e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=$e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),gt=!0),gt&&this.onDidChangeEventEmitter.fire()}};Fi.diffCache=new Map,Fi=bi=Si([Ki(1,_i.p),Ki(2,Wi.b)],Fi);var ts=e(65026),wi=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},ns=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};const wn=(0,O.yh)("diffProviderFactoryService");let qe=class{constructor($e){this.instantiationService=$e}createDiffProvider($e){return this.instantiationService.createInstance(Fi,$e)}};qe=wi([ns(0,O.TG)],qe),(0,ts.z)(wn,qe,1);var Dt=e(62549),Qt=e(2442),on=e(41574),Cn=e(39156),Bn=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},jn=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};let kt=class extends c.JT{setActiveMovedText($e){this._activeMovedText.set($e,void 0)}constructor($e,ft,gt){super(),this.model=$e,this._options=ft,this._diffProviderFactoryService=gt,this._isDiffUpToDate=(0,_.uh)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,_.uh)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,_.uh)(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,_.nK)(this,En=>this._options.hideUnchangedRegions.read(En)?this._unchangedRegions.read(En).regions:((0,_.PS)(Ln=>{for(const On of this._unchangedRegions.get().regions)On.collapseAll(Ln)}),[])),this.movedTextToCompare=(0,_.uh)(this,void 0),this._activeMovedText=(0,_.uh)(this,void 0),this._hoveredMovedText=(0,_.uh)(this,void 0),this.activeMovedText=(0,_.nK)(this,En=>{var Ln,On;return(On=(Ln=this.movedTextToCompare.read(En))!==null&&Ln!==void 0?Ln:this._hoveredMovedText.read(En))!==null&&On!==void 0?On:this._activeMovedText.read(En)}),this._cancellationTokenSource=new Xt.A,this._diffProvider=(0,_.nK)(this,En=>{const Ln=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(En)}),On=(0,_.aq)("onDidChange",Ln.onDidChange);return{diffProvider:Ln,onChangeSignal:On}}),this._register((0,c.OF)(()=>this._cancellationTokenSource.cancel()));const cn=(0,_.GN)("contentChangedSignal"),rn=this._register(new Yn.pY(()=>cn.trigger(void 0),200)),Sn=(En,Ln,On)=>{const Qn=ri.fromDiffs(En.changes,$e.original.getLineCount(),$e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(On),this._options.hideUnchangedRegionsContextLineCount.read(On)),Vn=this._unchangedRegions.get(),Wn=Vn.originalDecorationIds.map(ue=>$e.original.getDecorationRange(ue)).map(ue=>ue?C.z.fromRange(ue):void 0),St=Vn.modifiedDecorationIds.map(ue=>$e.modified.getDecorationRange(ue)).map(ue=>ue?C.z.fromRange(ue):void 0),k=$e.original.deltaDecorations(Vn.originalDecorationIds,Qn.map(ue=>({range:ue.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),ne=$e.modified.deltaDecorations(Vn.modifiedDecorationIds,Qn.map(ue=>({range:ue.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const ue of Qn)for(let Fe=0;Fe<Vn.regions.length;Fe++)if(Wn[Fe]&&ue.originalUnchangedRange.intersectsStrict(Wn[Fe])&&St[Fe]&&ue.modifiedUnchangedRange.intersectsStrict(St[Fe])){ue.setHiddenModifiedRange(Vn.regions[Fe].getHiddenModifiedRange(void 0),Ln);break}this._unchangedRegions.set({regions:Qn,originalDecorationIds:k,modifiedDecorationIds:ne},Ln)};this._register($e.modified.onDidChangeContent(En=>{if(this._diff.get()){const On=Qt.Q.fromModelContentChanges(En.changes),Qn=(this._lastDiff,$e.original,$e.modified,void 0);Qn&&(this._lastDiff=Qn,(0,_.PS)(Vn=>{this._diff.set(en.fromDiffResult(this._lastDiff),Vn),Sn(Qn,Vn);const Wn=this.movedTextToCompare.get();this.movedTextToCompare.set(Wn?this._lastDiff.moves.find(St=>St.lineRangeMapping.modified.intersect(Wn.lineRangeMapping.modified)):void 0,Vn)}))}this._isDiffUpToDate.set(!1,void 0),rn.schedule()})),this._register($e.original.onDidChangeContent(En=>{if(this._diff.get()){const On=Qt.Q.fromModelContentChanges(En.changes),Qn=(this._lastDiff,$e.original,$e.modified,void 0);Qn&&(this._lastDiff=Qn,(0,_.PS)(Vn=>{this._diff.set(en.fromDiffResult(this._lastDiff),Vn),Sn(Qn,Vn);const Wn=this.movedTextToCompare.get();this.movedTextToCompare.set(Wn?this._lastDiff.moves.find(St=>St.lineRangeMapping.modified.intersect(Wn.lineRangeMapping.modified)):void 0,Vn)}))}this._isDiffUpToDate.set(!1,void 0),rn.schedule()})),this._register((0,_.gp)((En,Ln)=>tn(this,null,function*(){var On,Qn;this._options.hideUnchangedRegionsMinimumLineCount.read(En),this._options.hideUnchangedRegionsContextLineCount.read(En),rn.cancel(),cn.read(En);const Vn=this._diffProvider.read(En);Vn.onChangeSignal.read(En),(0,g.NW)(Dt.DW,En),(0,g.NW)(Cn.xG,En),this._isDiffUpToDate.set(!1,void 0);let Wn=[];Ln.add($e.original.onDidChangeContent(ne=>{const ue=Qt.Q.fromModelContentChanges(ne.changes);Wn=(0,on.o)(Wn,ue)}));let St=[];Ln.add($e.modified.onDidChangeContent(ne=>{const ue=Qt.Q.fromModelContentChanges(ne.changes);St=(0,on.o)(St,ue)}));let k=yield Vn.diffProvider.computeDiff($e.original,$e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(En),maxComputationTimeMs:this._options.maxComputationTimeMs.read(En),computeMoves:this._options.showMoves.read(En)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(k=wt(k,$e.original,$e.modified),k=(On=($e.original,$e.modified,void 0))!==null&&On!==void 0?On:k,k=(Qn=($e.original,$e.modified,void 0))!==null&&Qn!==void 0?Qn:k,(0,_.PS)(ne=>{Sn(k,ne),this._lastDiff=k;const ue=en.fromDiffResult(k);this._diff.set(ue,ne),this._isDiffUpToDate.set(!0,ne);const Fe=this.movedTextToCompare.get();this.movedTextToCompare.set(Fe?this._lastDiff.moves.find(Qe=>Qe.lineRangeMapping.modified.intersect(Fe.lineRangeMapping.modified)):void 0,ne)}))})))}ensureModifiedLineIsVisible($e,ft){var gt;if(((gt=this.diff.get())===null||gt===void 0?void 0:gt.mappings.length)===0)return;const cn=this._unchangedRegions.get().regions;for(const rn of cn)if(rn.getHiddenModifiedRange(void 0).contains($e)){rn.showModifiedLine($e,ft);return}}ensureOriginalLineIsVisible($e,ft){var gt;if(((gt=this.diff.get())===null||gt===void 0?void 0:gt.mappings.length)===0)return;const cn=this._unchangedRegions.get().regions;for(const rn of cn)if(rn.getHiddenOriginalRange(void 0).contains($e)){rn.showOriginalLine($e,ft);return}}waitForDiff(){return tn(this,null,function*(){yield(0,_.F_)(this.isDiffUpToDate,$e=>$e)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(ft=>({range:ft.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($e){const ft=$e.collapsedRegions.map(cn=>C.z.deserialize(cn.range)),gt=this._unchangedRegions.get();(0,_.PS)(cn=>{for(const rn of gt.regions)for(const Sn of ft)if(rn.modifiedUnchangedRange.intersect(Sn)){rn.setHiddenModifiedRange(Sn,cn);break}})}};kt=Bn([jn(2,wn)],kt);function wt(vn,$e,ft){return{changes:vn.changes.map(gt=>new B.gB(gt.original,gt.modified,gt.innerChanges?gt.innerChanges.map(cn=>sn(cn,$e,ft)):void 0)),moves:vn.moves,identical:vn.identical,quitEarly:vn.quitEarly}}function sn(vn,$e,ft){let gt=vn.originalRange,cn=vn.modifiedRange;return(gt.endColumn!==1||cn.endColumn!==1)&&gt.endColumn===$e.getLineMaxColumn(gt.endLineNumber)&&cn.endColumn===ft.getLineMaxColumn(cn.endLineNumber)&&gt.endLineNumber<$e.getLineCount()&&cn.endLineNumber<ft.getLineCount()&&(gt=gt.setEndPosition(gt.endLineNumber+1,1),cn=cn.setEndPosition(cn.endLineNumber+1,1)),new B.iy(gt,cn)}class en{static fromDiffResult($e){return new en($e.changes.map(ft=>new Un(ft)),$e.moves||[],$e.identical,$e.quitEarly)}constructor($e,ft,gt,cn){this.mappings=$e,this.movedTexts=ft,this.identical=gt,this.quitEarly=cn}}class Un{constructor($e){this.lineRangeMapping=$e}}class ri{static fromDiffs($e,ft,gt,cn,rn){const Sn=B.gB.inverse($e,ft,gt),En=[];for(const Ln of Sn){let On=Ln.original.startLineNumber,Qn=Ln.modified.startLineNumber,Vn=Ln.original.length;const Wn=On===1&&Qn===1,St=On+Vn===ft+1&&Qn+Vn===gt+1;(Wn||St)&&Vn>=rn+cn?(Wn&&!St&&(Vn-=rn),St&&!Wn&&(On+=rn,Qn+=rn,Vn-=rn),En.push(new ri(On,Qn,Vn,0,0))):Vn>=rn*2+cn&&(On+=rn,Qn+=rn,Vn-=rn*2,En.push(new ri(On,Qn,Vn,0,0)))}return En}get originalUnchangedRange(){return C.z.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return C.z.ofLength(this.modifiedLineNumber,this.lineCount)}constructor($e,ft,gt,cn,rn){this.originalLineNumber=$e,this.modifiedLineNumber=ft,this.lineCount=gt,this._visibleLineCountTop=(0,_.uh)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,_.uh)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,_.nK)(this,Sn=>this.visibleLineCountTop.read(Sn)+this.visibleLineCountBottom.read(Sn)===this.lineCount&&!this.isDragged.read(Sn)),this.isDragged=(0,_.uh)(this,void 0),this._visibleLineCountTop.set(cn,void 0),this._visibleLineCountBottom.set(rn,void 0)}shouldHideControls($e){return this._shouldHideControls.read($e)}getHiddenOriginalRange($e){return C.z.ofLength(this.originalLineNumber+this._visibleLineCountTop.read($e),this.lineCount-this._visibleLineCountTop.read($e)-this._visibleLineCountBottom.read($e))}getHiddenModifiedRange($e){return C.z.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read($e),this.lineCount-this._visibleLineCountTop.read($e)-this._visibleLineCountBottom.read($e))}setHiddenModifiedRange($e,ft){const gt=$e.startLineNumber-this.modifiedLineNumber,cn=this.modifiedLineNumber+this.lineCount-$e.endLineNumberExclusive;this.setState(gt,cn,ft)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove($e=10,ft){const gt=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+$e,gt),ft)}showMoreBelow($e=10,ft){const gt=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+$e,gt),ft)}showAll($e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),$e)}showModifiedLine($e,ft){const gt=$e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),cn=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-$e;gt<cn?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+gt,ft):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+cn,ft)}showOriginalLine($e,ft){const gt=$e-this.originalLineNumber,cn=this.originalLineNumber+this.lineCount-$e;gt<cn?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+cn-gt,this.getMaxVisibleLineCountTop()),ft):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+gt-cn,this.getMaxVisibleLineCountBottom()),ft)}collapseAll($e){this._visibleLineCountTop.set(0,$e),this._visibleLineCountBottom.set(0,$e)}setState($e,ft,gt){$e=Math.max(Math.min($e,this.lineCount),0),ft=Math.max(Math.min(ft,this.lineCount-$e),0),this._visibleLineCountTop.set($e,gt),this._visibleLineCountBottom.set(ft,gt)}}function Jn(vn,$e,ft,gt){}function Di(vn,$e,ft,gt){}var Ai=e(1432);class Ri extends c.JT{get visibility(){return this._visibility}set visibility($e){this._visibility!==$e&&(this._visibility=$e,this._diffActions.style.visibility=$e?"visible":"hidden")}constructor($e,ft,gt,cn,rn,Sn,En,Ln,On){super(),this._getViewZoneId=$e,this._marginDomNode=ft,this._modifiedEditor=gt,this._diff=cn,this._editor=rn,this._viewLineCounts=Sn,this._originalTextModel=En,this._contextMenuService=Ln,this._clipboardService=On,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=a.k.asClassName(v.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const Qn=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Qn}px`,this._diffActions.style.lineHeight=`${Qn}px`,this._marginDomNode.appendChild(this._diffActions);let Vn=0;const Wn=gt.getOption(126)&&!Ai.gn,St=(k,ne)=>{var ue;this._contextMenuService.showContextMenu({domForShadowRoot:Wn&&(ue=gt.getDomNode())!==null&&ue!==void 0?ue:void 0,getAnchor:()=>({x:k,y:ne}),getActions:()=>{const Fe=[],Qe=cn.modified.isEmpty;return Fe.push(new i.aU("diff.clipboard.copyDeletedContent",Qe?cn.original.length>1?(0,L.NC)("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):(0,L.NC)("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):cn.original.length>1?(0,L.NC)("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):(0,L.NC)("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>tn(this,null,function*(){const dt=this._originalTextModel.getValueInRange(cn.original.toExclusiveRange());yield this._clipboardService.writeText(dt)}))),cn.original.length>1&&Fe.push(new i.aU("diff.clipboard.copyDeletedLineContent",Qe?(0,L.NC)("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",cn.original.startLineNumber+Vn):(0,L.NC)("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",cn.original.startLineNumber+Vn),void 0,!0,()=>tn(this,null,function*(){let dt=this._originalTextModel.getLineContent(cn.original.startLineNumber+Vn);dt===""&&(dt=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(dt)}))),gt.getOption(90)||Fe.push(new i.aU("diff.inline.revertChange",(0,L.NC)("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>tn(this,null,function*(){this._editor.revert(this._diff)}))),Fe},autoSelectFirstItem:!0})};this._register((0,b.mu)(this._diffActions,"mousedown",k=>{if(!k.leftButton)return;const{top:ne,height:ue}=(0,b.i)(this._diffActions),Fe=Math.floor(Qn/3);k.preventDefault(),St(k.posx,ne+ue+Fe)})),this._register(gt.onMouseMove(k=>{(k.target.type===8||k.target.type===5)&&k.target.detail.viewZoneId===this._getViewZoneId()?(Vn=this._updateLightBulbPosition(this._marginDomNode,k.event.browserEvent.y,Qn),this.visibility=!0):this.visibility=!1})),this._register(gt.onMouseDown(k=>{k.event.leftButton&&(k.target.type===8||k.target.type===5)&&k.target.detail.viewZoneId===this._getViewZoneId()&&(k.event.preventDefault(),Vn=this._updateLightBulbPosition(this._marginDomNode,k.event.browserEvent.y,Qn),St(k.event.posx,k.event.posy+Qn))}))}_updateLightBulbPosition($e,ft,gt){const{top:cn}=(0,b.i)($e),rn=ft-cn,Sn=Math.floor(rn/gt),En=Sn*gt;if(this._diffActions.style.top=`${En}px`,this._viewLineCounts){let Ln=0;for(let On=0;On<this._viewLineCounts.length;On++)if(Ln+=this._viewLineCounts[On],Sn<Ln)return On}return Sn}}var Tn=e(50072),yn=e(92550);const Nn=(0,u.Z)("diffEditorWidget",{createHTML:vn=>vn});function Bt(vn,$e,ft,gt){(0,S.N)(gt,$e.fontInfo);const cn=ft.length>0,rn=new Tn.HT(1e4);let Sn=0,En=0;const Ln=[];for(let Wn=0;Wn<vn.lineTokens.length;Wn++){const St=Wn+1,k=vn.lineTokens[Wn],ne=vn.lineBreakData[Wn],ue=yn.Kp.filter(ft,St,1,Number.MAX_SAFE_INTEGER);if(ne){let Fe=0;for(const Qe of ne.breakOffsets){const ot=k.sliceAndInflate(Fe,Qe,0);Sn=Math.max(Sn,Ht(En,ot,yn.Kp.extractWrapped(ue,Fe,Qe),cn,vn.mightContainNonBasicASCII,vn.mightContainRTL,$e,rn)),En++,Fe=Qe}Ln.push(ne.breakOffsets.length)}else Ln.push(1),Sn=Math.max(Sn,Ht(En,k,ue,cn,vn.mightContainNonBasicASCII,vn.mightContainRTL,$e,rn)),En++}Sn+=$e.scrollBeyondLastColumn;const On=rn.build(),Qn=Nn?Nn.createHTML(On):On;gt.innerHTML=Qn;const Vn=Sn*$e.typicalHalfwidthCharacterWidth;return{heightInLines:En,minWidthInPx:Vn,viewLineCounts:Ln}}class Yt{constructor($e,ft,gt,cn){this.lineTokens=$e,this.lineBreakData=ft,this.mightContainNonBasicASCII=gt,this.mightContainRTL=cn}}class fn{static fromEditor($e){var ft;const gt=$e.getOptions(),cn=gt.get(50),rn=gt.get(143);return new fn(((ft=$e.getModel())===null||ft===void 0?void 0:ft.getOptions().tabSize)||0,cn,gt.get(33),cn.typicalHalfwidthCharacterWidth,gt.get(103),gt.get(66),rn.decorationsWidth,gt.get(116),gt.get(98),gt.get(93),gt.get(51))}constructor($e,ft,gt,cn,rn,Sn,En,Ln,On,Qn,Vn){this.tabSize=$e,this.fontInfo=ft,this.disableMonospaceOptimizations=gt,this.typicalHalfwidthCharacterWidth=cn,this.scrollBeyondLastColumn=rn,this.lineHeight=Sn,this.lineDecorationsWidth=En,this.stopRenderingLineAfter=Ln,this.renderWhitespace=On,this.renderControlCharacters=Qn,this.fontLigatures=Vn}}function Ht(vn,$e,ft,gt,cn,rn,Sn,En){En.appendString('<div class="view-line'),gt||En.appendString(" char-delete"),En.appendString('" style="top:'),En.appendString(String(vn*Sn.lineHeight)),En.appendString('px;width:1000000px;">');const Ln=$e.getLineContent(),On=R.wA.isBasicASCII(Ln,cn),Qn=R.wA.containsRTL(Ln,On,rn),Vn=(0,Y.d1)(new Y.IJ(Sn.fontInfo.isMonospace&&!Sn.disableMonospaceOptimizations,Sn.fontInfo.canUseHalfwidthRightwardsArrow,Ln,!1,On,Qn,0,$e,ft,Sn.tabSize,0,Sn.fontInfo.spaceWidth,Sn.fontInfo.middotWidth,Sn.fontInfo.wsmiddotWidth,Sn.stopRenderingLineAfter,Sn.renderWhitespace,Sn.renderControlCharacters,Sn.fontLigatures!==y.n0.OFF,null),En);return En.appendString("</div>"),Vn.characterMapping.getHorizontalOffset(Vn.characterMapping.length)}var et=e(84972),ee=e(5606),de=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},oe=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};let Ce=class extends c.JT{constructor($e,ft,gt,cn,rn,Sn,En,Ln,On,Qn){super(),this._targetWindow=$e,this._editors=ft,this._diffModel=gt,this._options=cn,this._diffEditorWidget=rn,this._canIgnoreViewZoneUpdateEvent=Sn,this._origViewZonesToIgnore=En,this._modViewZonesToIgnore=Ln,this._clipboardService=On,this._contextMenuService=Qn,this._originalTopPadding=(0,_.uh)(this,0),this._originalScrollOffset=(0,_.uh)(this,0),this._originalScrollOffsetAnimated=(0,g.Vm)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,_.uh)(this,0),this._modifiedScrollOffset=(0,_.uh)(this,0),this._modifiedScrollOffsetAnimated=(0,g.Vm)(this._targetWindow,this._modifiedScrollOffset,this._store);const Vn=(0,_.uh)("invalidateAlignmentsState",0),Wn=this._register(new Yn.pY(()=>{Vn.set(Vn.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(ot=>{this._canIgnoreViewZoneUpdateEvent()||Wn.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(ot=>{this._canIgnoreViewZoneUpdateEvent()||Wn.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(ot=>{(ot.hasChanged(144)||ot.hasChanged(66))&&Wn.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(ot=>{(ot.hasChanged(144)||ot.hasChanged(66))&&Wn.schedule()}));const St=this._diffModel.map(ot=>ot?(0,_.rD)(ot.model.original.onDidChangeTokens,()=>ot.model.original.tokenization.backgroundTokenizationState===2):void 0).map((ot,dt)=>ot==null?void 0:ot.read(dt)),k=(0,_.nK)(ot=>{const dt=this._diffModel.read(ot),bt=dt==null?void 0:dt.diff.read(ot);if(!dt||!bt)return null;Vn.read(ot);const Q=this._options.renderSideBySide.read(ot);return Ee(this._editors.original,this._editors.modified,bt.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,Q)}),ne=(0,_.nK)(ot=>{var dt;const bt=(dt=this._diffModel.read(ot))===null||dt===void 0?void 0:dt.movedTextToCompare.read(ot);if(!bt)return null;Vn.read(ot);const lt=bt.changes.map(Q=>new Un(Q));return Ee(this._editors.original,this._editors.modified,lt,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function ue(){const ot=document.createElement("div");return ot.className="diagonal-fill",ot}const Fe=this._register(new c.SL);this.viewZones=(0,_.Be)(this,(ot,dt)=>{var bt,lt,Q,fe,We,at,Ct,Rt;Fe.clear();const Vt=k.read(ot)||[],an=[],An=[],zn=this._modifiedTopPadding.read(ot);zn>0&&An.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:zn,showInHiddenAreas:!0,suppressMouseDown:!0});const ui=this._originalTopPadding.read(ot);ui>0&&an.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ui,showInHiddenAreas:!0,suppressMouseDown:!0});const hi=this._options.renderSideBySide.read(ot),oi=hi||(bt=this._editors.modified._getViewModel())===null||bt===void 0?void 0:bt.createLineBreaksComputer();if(oi){for(const Gi of Vt)if(Gi.diff)for(let ys=Gi.originalRange.startLineNumber;ys<Gi.originalRange.endLineNumberExclusive;ys++)oi==null||oi.addRequest(this._editors.original.getModel().getLineContent(ys),null,null)}const Kn=(lt=oi==null?void 0:oi.finalize())!==null&&lt!==void 0?lt:[];let di=0;const pi=this._editors.modified.getOption(66),qi=(Q=this._diffModel.read(ot))===null||Q===void 0?void 0:Q.movedTextToCompare.read(ot),Es=(We=(fe=this._editors.original.getModel())===null||fe===void 0?void 0:fe.mightContainNonBasicASCII())!==null&&We!==void 0?We:!1,rs=(Ct=(at=this._editors.original.getModel())===null||at===void 0?void 0:at.mightContainRTL())!==null&&Ct!==void 0?Ct:!1,Us=fn.fromEditor(this._editors.modified);for(const Gi of Vt)if(Gi.diff&&!hi){if(!Gi.originalRange.isEmpty){St.read(ot);const us=document.createElement("div");us.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const is=new Yt(Gi.originalRange.mapToLineArray(_s=>this._editors.original.getModel().tokenization.getLineTokens(_s)),Gi.originalRange.mapToLineArray(_s=>Kn[di++]),Es,rs),Ss=[];for(const _s of Gi.diff.innerChanges||[])Ss.push(new R.$t(_s.originalRange.delta(-(Gi.diff.original.startLineNumber-1)),he.className,0));const Ps=Bt(is,Us,Ss,us),no=document.createElement("div");if(no.className="inline-deleted-margin-view-zone",(0,S.N)(no,Us.fontInfo),this._options.renderIndicators.read(ot))for(let _s=0;_s<Ps.heightInLines;_s++){const ks=document.createElement("div");ks.className=`delete-sign ${a.k.asClassName(Ue)}`,ks.setAttribute("style",`position:absolute;top:${_s*pi}px;width:${Us.lineDecorationsWidth}px;height:${pi}px;right:0;`),no.appendChild(ks)}let ar;Fe.add(new Ri(()=>(0,Ft.cW)(ar),no,this._editors.modified,Gi.diff,this._diffEditorWidget,Ps.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let _s=0;_s<Ps.viewLineCounts.length;_s++){const ks=Ps.viewLineCounts[_s];ks>1&&an.push({afterLineNumber:Gi.originalRange.startLineNumber+_s,domNode:ue(),heightInPx:(ks-1)*pi,showInHiddenAreas:!0,suppressMouseDown:!0})}An.push({afterLineNumber:Gi.modifiedRange.startLineNumber-1,domNode:us,heightInPx:Ps.heightInLines*pi,minWidthInPx:Ps.minWidthInPx,marginDomNode:no,setZoneId(_s){ar=_s},showInHiddenAreas:!0,suppressMouseDown:!0})}const ys=document.createElement("div");ys.className="gutter-delete",an.push({afterLineNumber:Gi.originalRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:Gi.modifiedHeightInPx,marginDomNode:ys,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const ys=Gi.modifiedHeightInPx-Gi.originalHeightInPx;if(ys>0){if(qi!=null&&qi.lineRangeMapping.original.delta(-1).deltaLength(2).contains(Gi.originalRange.endLineNumberExclusive-1))continue;an.push({afterLineNumber:Gi.originalRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:ys,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let us=function(){const Ss=document.createElement("div");return Ss.className="arrow-revert-change "+a.k.asClassName(v.l.arrowRight),dt.add((0,b.nm)(Ss,"mousedown",Ps=>Ps.stopPropagation())),dt.add((0,b.nm)(Ss,"click",Ps=>{Ps.stopPropagation(),rn.revert(Gi.diff)})),(0,b.$)("div",{},Ss)};if(qi!=null&&qi.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(Gi.modifiedRange.endLineNumberExclusive-1))continue;let is;Gi.diff&&Gi.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(ot)&&(is=us()),An.push({afterLineNumber:Gi.modifiedRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:-ys,marginDomNode:is,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const Gi of(Rt=ne.read(ot))!==null&&Rt!==void 0?Rt:[]){if(!(qi!=null&&qi.lineRangeMapping.original.intersect(Gi.originalRange))||!(qi!=null&&qi.lineRangeMapping.modified.intersect(Gi.modifiedRange)))continue;const ys=Gi.modifiedHeightInPx-Gi.originalHeightInPx;ys>0?an.push({afterLineNumber:Gi.originalRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:ys,showInHiddenAreas:!0,suppressMouseDown:!0}):An.push({afterLineNumber:Gi.modifiedRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:-ys,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:an,mod:An}});let Qe=!1;this._register(this._editors.original.onDidScrollChange(ot=>{ot.scrollLeftChanged&&!Qe&&(Qe=!0,this._editors.modified.setScrollLeft(ot.scrollLeft),Qe=!1)})),this._register(this._editors.modified.onDidScrollChange(ot=>{ot.scrollLeftChanged&&!Qe&&(Qe=!0,this._editors.original.setScrollLeft(ot.scrollLeft),Qe=!1)})),this._originalScrollTop=(0,_.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,_.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,_.EH)(ot=>{const dt=this._originalScrollTop.read(ot)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(ot))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(ot));dt!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(dt,1)})),this._register((0,_.EH)(ot=>{const dt=this._modifiedScrollTop.read(ot)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(ot))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(ot));dt!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(dt,1)})),this._register((0,_.EH)(ot=>{var dt;const bt=(dt=this._diffModel.read(ot))===null||dt===void 0?void 0:dt.movedTextToCompare.read(ot);let lt=0;if(bt){const Q=this._editors.original.getTopForLineNumber(bt.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();lt=this._editors.modified.getTopForLineNumber(bt.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-Q}lt>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(lt,void 0)):lt<0?(this._modifiedTopPadding.set(-lt,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-lt,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+lt,void 0,!0)}))}};Ce=de([oe(8,et.p),oe(9,ee.i)],Ce);function Ee(vn,$e,ft,gt,cn,rn){const Sn=new f.H9(be(vn,gt)),En=new f.H9(be($e,cn)),Ln=vn.getOption(66),On=$e.getOption(66),Qn=[];let Vn=0,Wn=0;function St(k,ne){for(;;){let ue=Sn.peek(),Fe=En.peek();if(ue&&ue.lineNumber>=k&&(ue=void 0),Fe&&Fe.lineNumber>=ne&&(Fe=void 0),!ue&&!Fe)break;const Qe=ue?ue.lineNumber-Vn:Number.MAX_VALUE,ot=Fe?Fe.lineNumber-Wn:Number.MAX_VALUE;Qe<ot?(Sn.dequeue(),Fe={lineNumber:ue.lineNumber-Vn+Wn,heightInPx:0}):Qe>ot?(En.dequeue(),ue={lineNumber:Fe.lineNumber-Wn+Vn,heightInPx:0}):(Sn.dequeue(),En.dequeue()),Qn.push({originalRange:C.z.ofLength(ue.lineNumber,1),modifiedRange:C.z.ofLength(Fe.lineNumber,1),originalHeightInPx:Ln+ue.heightInPx,modifiedHeightInPx:On+Fe.heightInPx,diff:void 0})}}for(const k of ft){let ot=function(dt,bt){var lt,Q,fe,We;if(dt<Qe||bt<Fe)return;if(ue)ue=!1;else if(dt===Qe||bt===Fe)return;const at=new C.z(Qe,dt),Ct=new C.z(Fe,bt);if(at.isEmpty&&Ct.isEmpty)return;const Rt=(Q=(lt=Sn.takeWhile(an=>an.lineNumber<dt))===null||lt===void 0?void 0:lt.reduce((an,An)=>an+An.heightInPx,0))!==null&&Q!==void 0?Q:0,Vt=(We=(fe=En.takeWhile(an=>an.lineNumber<bt))===null||fe===void 0?void 0:fe.reduce((an,An)=>an+An.heightInPx,0))!==null&&We!==void 0?We:0;Qn.push({originalRange:at,modifiedRange:Ct,originalHeightInPx:at.length*Ln+Rt,modifiedHeightInPx:Ct.length*On+Vt,diff:k.lineRangeMapping}),Qe=dt,Fe=bt};const ne=k.lineRangeMapping;St(ne.original.startLineNumber,ne.modified.startLineNumber);let ue=!0,Fe=ne.modified.startLineNumber,Qe=ne.original.startLineNumber;if(rn)for(const dt of ne.innerChanges||[])dt.originalRange.startColumn>1&&dt.modifiedRange.startColumn>1&&ot(dt.originalRange.startLineNumber,dt.modifiedRange.startLineNumber),dt.originalRange.endColumn<vn.getModel().getLineMaxColumn(dt.originalRange.endLineNumber)&&ot(dt.originalRange.endLineNumber,dt.modifiedRange.endLineNumber);ot(ne.original.endLineNumberExclusive,ne.modified.endLineNumberExclusive),Vn=ne.original.endLineNumberExclusive,Wn=ne.modified.endLineNumberExclusive}return St(Number.MAX_VALUE,Number.MAX_VALUE),Qn}function be(vn,$e){const ft=[],gt=[],cn=vn.getOption(144).wrappingColumn!==-1,rn=vn._getViewModel().coordinatesConverter,Sn=vn.getOption(66);if(cn)for(let Ln=1;Ln<=vn.getModel().getLineCount();Ln++){const On=rn.getModelLineViewLineCount(Ln);On>1&&gt.push({lineNumber:Ln,heightInPx:Sn*(On-1)})}for(const Ln of vn.getWhitespaces()){if($e.has(Ln.id))continue;const On=Ln.afterLineNumber===0?0:rn.convertViewPositionToModelPosition(new A.L(Ln.afterLineNumber,1)).lineNumber;ft.push({lineNumber:On,heightInPx:Ln.height})}return(0,g.Ap)(ft,gt,Ln=>Ln.lineNumber,(Ln,On)=>({lineNumber:Ln.lineNumber,heightInPx:Ln.heightInPx+On.heightInPx}))}var Ae=e(38626),He=e(51203),Ye=e(30665),ht=e(73910),$t=e(97781),gn=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},dn=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}},ln;let ct=ln=class extends c.JT{constructor($e,ft,gt,cn,rn,Sn,En){super(),this._editors=$e,this._rootElement=ft,this._diffModel=gt,this._rootWidth=cn,this._rootHeight=rn,this._modifiedEditorLayoutInfo=Sn,this._themeService=En,this.width=ln.ENTIRE_DIFF_OVERVIEW_WIDTH;const Ln=(0,_.rD)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),On=(0,_.nK)(Wn=>{const St=Ln.read(Wn),k=St.getColor(ht.P6Y)||(St.getColor(ht.ypS)||ht.CzK).transparent(2),ne=St.getColor(ht.F9q)||(St.getColor(ht.P4M)||ht.keg).transparent(2);return{insertColor:k,removeColor:ne}}),Qn=(0,Ae.X)(document.createElement("div"));Qn.setClassName("diffViewport"),Qn.setPosition("absolute");const Vn=(0,b.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:ln.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,g.xx)(Vn,Qn.domNode)),this._register((0,b.mu)(Vn,b.tw.POINTER_DOWN,Wn=>{this._editors.modified.delegateVerticalScrollbarPointerDown(Wn)})),this._register((0,b.nm)(Vn,b.tw.MOUSE_WHEEL,Wn=>{this._editors.modified.delegateScrollFromMouseWheelEvent(Wn)},{passive:!1})),this._register((0,g.xx)(this._rootElement,Vn)),this._register((0,_.gp)((Wn,St)=>{const k=this._diffModel.read(Wn),ne=this._editors.original.createOverviewRuler("original diffOverviewRuler");ne&&(St.add(ne),St.add((0,g.xx)(Vn,ne.getDomNode())));const ue=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(ue&&(St.add(ue),St.add((0,g.xx)(Vn,ue.getDomNode()))),!ne||!ue)return;const Fe=(0,_.aq)("viewZoneChanged",this._editors.original.onDidChangeViewZones),Qe=(0,_.aq)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),ot=(0,_.aq)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),dt=(0,_.aq)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);St.add((0,_.EH)(bt=>{var lt;Fe.read(bt),Qe.read(bt),ot.read(bt),dt.read(bt);const Q=On.read(bt),fe=(lt=k==null?void 0:k.diff.read(bt))===null||lt===void 0?void 0:lt.mappings;function We(Rt,Vt,an){const An=an._getViewModel();return An?Rt.filter(zn=>zn.length>0).map(zn=>{const ui=An.coordinatesConverter.convertModelPositionToViewPosition(new A.L(zn.startLineNumber,1)),hi=An.coordinatesConverter.convertModelPositionToViewPosition(new A.L(zn.endLineNumberExclusive,1)),oi=hi.lineNumber-ui.lineNumber;return new Ye.EY(ui.lineNumber,hi.lineNumber,oi,Vt.toString())}):[]}const at=We((fe||[]).map(Rt=>Rt.lineRangeMapping.original),Q.removeColor,this._editors.original),Ct=We((fe||[]).map(Rt=>Rt.lineRangeMapping.modified),Q.insertColor,this._editors.modified);ne==null||ne.setZones(at),ue==null||ue.setZones(Ct)})),St.add((0,_.EH)(bt=>{const lt=this._rootHeight.read(bt),Q=this._rootWidth.read(bt),fe=this._modifiedEditorLayoutInfo.read(bt);if(fe){const We=ln.ENTIRE_DIFF_OVERVIEW_WIDTH-2*ln.ONE_OVERVIEW_WIDTH;ne.setLayout({top:0,height:lt,right:We+ln.ONE_OVERVIEW_WIDTH,width:ln.ONE_OVERVIEW_WIDTH}),ue.setLayout({top:0,height:lt,right:0,width:ln.ONE_OVERVIEW_WIDTH});const at=this._editors.modifiedScrollTop.read(bt),Ct=this._editors.modifiedScrollHeight.read(bt),Rt=this._editors.modified.getOption(102),Vt=new He.M(Rt.verticalHasArrows?Rt.arrowSize:0,Rt.verticalScrollbarSize,0,fe.height,Ct,at);Qn.setTop(Vt.getSliderPosition()),Qn.setHeight(Vt.getSliderSize())}else Qn.setTop(0),Qn.setHeight(0);Vn.style.height=lt+"px",Vn.style.left=Q-ln.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",Qn.setWidth(ln.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};ct.ONE_OVERVIEW_WIDTH=15,ct.ENTIRE_DIFF_OVERVIEW_WIDTH=ln.ONE_OVERVIEW_WIDTH*2,ct=ln=gn([dn(6,$t.XE)],ct);var Pt=e(96518),Nt=e(29102),Tt=e(32064),Zt=e(60972),zt=e(90535);const _n=(0,ht.P6G)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,L.NC)("diffEditor.move.border","The border color for text that got moved in the diff editor.")),hn=(0,ht.P6G)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,L.NC)("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),Mn=(0,ht.P6G)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,L.NC)("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));class Rn extends c.JT{constructor(){super(...arguments),this._id=++Rn.idCounter,this._onDidDispose=this._register(new w.Q5),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition($e){return this._targetEditor.getVisibleColumnFromPosition($e)}getPosition(){return this._targetEditor.getPosition()}setPosition($e,ft="api"){this._targetEditor.setPosition($e,ft)}revealLine($e,ft=0){this._targetEditor.revealLine($e,ft)}revealLineInCenter($e,ft=0){this._targetEditor.revealLineInCenter($e,ft)}revealLineInCenterIfOutsideViewport($e,ft=0){this._targetEditor.revealLineInCenterIfOutsideViewport($e,ft)}revealLineNearTop($e,ft=0){this._targetEditor.revealLineNearTop($e,ft)}revealPosition($e,ft=0){this._targetEditor.revealPosition($e,ft)}revealPositionInCenter($e,ft=0){this._targetEditor.revealPositionInCenter($e,ft)}revealPositionInCenterIfOutsideViewport($e,ft=0){this._targetEditor.revealPositionInCenterIfOutsideViewport($e,ft)}revealPositionNearTop($e,ft=0){this._targetEditor.revealPositionNearTop($e,ft)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection($e,ft="api"){this._targetEditor.setSelection($e,ft)}setSelections($e,ft="api"){this._targetEditor.setSelections($e,ft)}revealLines($e,ft,gt=0){this._targetEditor.revealLines($e,ft,gt)}revealLinesInCenter($e,ft,gt=0){this._targetEditor.revealLinesInCenter($e,ft,gt)}revealLinesInCenterIfOutsideViewport($e,ft,gt=0){this._targetEditor.revealLinesInCenterIfOutsideViewport($e,ft,gt)}revealLinesNearTop($e,ft,gt=0){this._targetEditor.revealLinesNearTop($e,ft,gt)}revealRange($e,ft=0,gt=!1,cn=!0){this._targetEditor.revealRange($e,ft,gt,cn)}revealRangeInCenter($e,ft=0){this._targetEditor.revealRangeInCenter($e,ft)}revealRangeInCenterIfOutsideViewport($e,ft=0){this._targetEditor.revealRangeInCenterIfOutsideViewport($e,ft)}revealRangeNearTop($e,ft=0){this._targetEditor.revealRangeNearTop($e,ft)}revealRangeNearTopIfOutsideViewport($e,ft=0){this._targetEditor.revealRangeNearTopIfOutsideViewport($e,ft)}revealRangeAtTop($e,ft=0){this._targetEditor.revealRangeAtTop($e,ft)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger($e,ft,gt){this._targetEditor.trigger($e,ft,gt)}createDecorationsCollection($e){return this._targetEditor.createDecorationsCollection($e)}changeDecorations($e){return this._targetEditor.changeDecorations($e)}}Rn.idCounter=0;var ni=e(91847),gi=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},Ii=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};let Bi=class extends c.JT{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor($e,ft,gt,cn,rn,Sn,En){super(),this.originalEditorElement=$e,this.modifiedEditorElement=ft,this._options=gt,this._createInnerEditor=rn,this._instantiationService=Sn,this._keybindingService=En,this._onDidContentSizeChange=this._register(new w.Q5),this.original=this._register(this._createLeftHandSideEditor(gt.editorOptions.get(),cn.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(gt.editorOptions.get(),cn.modifiedEditor||{})),this.modifiedModel=(0,_.rD)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=(0,_.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,_.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=(0,_.rD)(this.modified.onDidChangeCursorSelection,()=>{var Ln;return(Ln=this.modified.getSelections())!==null&&Ln!==void 0?Ln:[]}),this.modifiedCursor=(0,_.rD)(this.modified.onDidChangeCursorPosition,()=>{var Ln;return(Ln=this.modified.getPosition())!==null&&Ln!==void 0?Ln:new A.L(1,1)}),this._register((0,_.nJ)({createEmptyChangeSummary:()=>({}),handleChange:(Ln,On)=>(Ln.didChange(gt.editorOptions)&&Object.assign(On,Ln.change.changedOptions),!0)},(Ln,On)=>{gt.editorOptions.read(Ln),this._options.renderSideBySide.read(Ln),this.modified.updateOptions(this._adjustOptionsForRightHandSide(Ln,On)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(Ln,On))}))}_createLeftHandSideEditor($e,ft){const gt=this._adjustOptionsForLeftHandSide(void 0,$e),cn=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,gt,ft);return cn.setContextValue("isInDiffLeftEditor",!0),cn}_createRightHandSideEditor($e,ft){const gt=this._adjustOptionsForRightHandSide(void 0,$e),cn=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,gt,ft);return cn.setContextValue("isInDiffRightEditor",!0),cn}_constructInnerEditor($e,ft,gt,cn){const rn=this._createInnerEditor($e,ft,gt,cn);return this._register(rn.onDidContentSizeChange(Sn=>{const En=this.original.getContentWidth()+this.modified.getContentWidth()+ct.ENTIRE_DIFF_OVERVIEW_WIDTH,Ln=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ln,contentWidth:En,contentHeightChanged:Sn.contentHeightChanged,contentWidthChanged:Sn.contentWidthChanged})})),rn}_adjustOptionsForLeftHandSide($e,ft){const gt=this._adjustOptionsForSubEditor(ft);return this._options.renderSideBySide.get()?(gt.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},gt.wordWrapOverride1=this._options.diffWordWrap.get()):(gt.wordWrapOverride1="off",gt.wordWrapOverride2="off",gt.stickyScroll={enabled:!1},gt.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),gt.glyphMargin=this._options.renderSideBySide.get(),ft.originalAriaLabel&&(gt.ariaLabel=ft.originalAriaLabel),gt.ariaLabel=this._updateAriaLabel(gt.ariaLabel),gt.readOnly=!this._options.originalEditable.get(),gt.dropIntoEditor={enabled:!gt.readOnly},gt.extraEditorClassName="original-in-monaco-diff-editor",gt}_adjustOptionsForRightHandSide($e,ft){const gt=this._adjustOptionsForSubEditor(ft);return ft.modifiedAriaLabel&&(gt.ariaLabel=ft.modifiedAriaLabel),gt.ariaLabel=this._updateAriaLabel(gt.ariaLabel),gt.wordWrapOverride1=this._options.diffWordWrap.get(),gt.revealHorizontalRightPadding=y.BH.revealHorizontalRightPadding.defaultValue+ct.ENTIRE_DIFF_OVERVIEW_WIDTH,gt.scrollbar.verticalHasArrows=!1,gt.extraEditorClassName="modified-in-monaco-diff-editor",gt}_adjustOptionsForSubEditor($e){const ft=Ni(Xn({},$e),{dimension:{height:0,width:0}});return ft.inDiffEditor=!0,ft.automaticLayout=!1,ft.scrollbar=Xn({},ft.scrollbar||{}),ft.folding=!1,ft.codeLens=this._options.diffCodeLens.get(),ft.fixedOverflowWidgets=!0,ft.minimap=Xn({},ft.minimap||{}),ft.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?ft.stickyScroll={enabled:!1}:ft.stickyScroll=this._options.editorOptions.get().stickyScroll,ft}_updateAriaLabel($e){var ft;$e||($e="");const gt=(0,L.NC)("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(ft=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||ft===void 0?void 0:ft.getAriaLabel());return this._options.accessibilityVerbose.get()?$e+gt:$e?$e.replaceAll(gt,""):""}};Bi=gi([Ii(5,O.TG),Ii(6,ni.d)],Bi);var Hi=e(15115);class fi{get editorOptions(){return this._options}constructor($e){this._diffEditorWidth=(0,_.uh)(this,0),this.couldShowInlineViewBecauseOfSize=(0,_.nK)(this,gt=>this._options.read(gt).renderSideBySide&&this._diffEditorWidth.read(gt)<=this._options.read(gt).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,_.nK)(this,gt=>this._options.read(gt).renderOverviewRuler),this.renderSideBySide=(0,_.nK)(this,gt=>this._options.read(gt).renderSideBySide&&!(this._options.read(gt).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(gt))),this.readOnly=(0,_.nK)(this,gt=>this._options.read(gt).readOnly),this.shouldRenderRevertArrows=(0,_.nK)(this,gt=>!(!this._options.read(gt).renderMarginRevertIcon||!this.renderSideBySide.read(gt)||this.readOnly.read(gt))),this.renderIndicators=(0,_.nK)(this,gt=>this._options.read(gt).renderIndicators),this.enableSplitViewResizing=(0,_.nK)(this,gt=>this._options.read(gt).enableSplitViewResizing),this.splitViewDefaultRatio=(0,_.nK)(this,gt=>this._options.read(gt).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,_.nK)(this,gt=>this._options.read(gt).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,_.nK)(this,gt=>this._options.read(gt).maxComputationTime),this.showMoves=(0,_.nK)(this,gt=>this._options.read(gt).experimental.showMoves&&this.renderSideBySide.read(gt)),this.isInEmbeddedEditor=(0,_.nK)(this,gt=>this._options.read(gt).isInEmbeddedEditor),this.diffWordWrap=(0,_.nK)(this,gt=>this._options.read(gt).diffWordWrap),this.originalEditable=(0,_.nK)(this,gt=>this._options.read(gt).originalEditable),this.diffCodeLens=(0,_.nK)(this,gt=>this._options.read(gt).diffCodeLens),this.accessibilityVerbose=(0,_.nK)(this,gt=>this._options.read(gt).accessibilityVerbose),this.diffAlgorithm=(0,_.nK)(this,gt=>this._options.read(gt).diffAlgorithm),this.showEmptyDecorations=(0,_.nK)(this,gt=>this._options.read(gt).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,_.nK)(this,gt=>this._options.read(gt).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.minimumLineCount);const ft=Xn(Xn({},$e),Ci($e,Hi.k));this._options=(0,_.uh)(this,ft)}updateOptions($e){const ft=Ci($e,this._options.get()),gt=Xn(Xn(Xn({},this._options.get()),$e),ft);this._options.set(gt,void 0,{changedOptions:$e})}setWidth($e){this._diffEditorWidth.set($e,void 0)}}function Ci(vn,$e){var ft,gt,cn,rn,Sn,En,Ln,On;return{enableSplitViewResizing:(0,y.O7)(vn.enableSplitViewResizing,$e.enableSplitViewResizing),splitViewDefaultRatio:(0,y.L_)(vn.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.O7)(vn.renderSideBySide,$e.renderSideBySide),renderMarginRevertIcon:(0,y.O7)(vn.renderMarginRevertIcon,$e.renderMarginRevertIcon),maxComputationTime:(0,y.Zc)(vn.maxComputationTime,$e.maxComputationTime,0,1073741824),maxFileSize:(0,y.Zc)(vn.maxFileSize,$e.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.O7)(vn.ignoreTrimWhitespace,$e.ignoreTrimWhitespace),renderIndicators:(0,y.O7)(vn.renderIndicators,$e.renderIndicators),originalEditable:(0,y.O7)(vn.originalEditable,$e.originalEditable),diffCodeLens:(0,y.O7)(vn.diffCodeLens,$e.diffCodeLens),renderOverviewRuler:(0,y.O7)(vn.renderOverviewRuler,$e.renderOverviewRuler),diffWordWrap:(0,y.NY)(vn.diffWordWrap,$e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.NY)(vn.diffAlgorithm,$e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.O7)(vn.accessibilityVerbose,$e.accessibilityVerbose),experimental:{showMoves:(0,y.O7)((ft=vn.experimental)===null||ft===void 0?void 0:ft.showMoves,$e.experimental.showMoves),showEmptyDecorations:(0,y.O7)((gt=vn.experimental)===null||gt===void 0?void 0:gt.showEmptyDecorations,$e.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.O7)((rn=(cn=vn.hideUnchangedRegions)===null||cn===void 0?void 0:cn.enabled)!==null&&rn!==void 0?rn:(Sn=vn.experimental)===null||Sn===void 0?void 0:Sn.collapseUnchangedRegions,$e.hideUnchangedRegions.enabled),contextLineCount:(0,y.Zc)((En=vn.hideUnchangedRegions)===null||En===void 0?void 0:En.contextLineCount,$e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.Zc)((Ln=vn.hideUnchangedRegions)===null||Ln===void 0?void 0:Ln.minimumLineCount,$e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.Zc)((On=vn.hideUnchangedRegions)===null||On===void 0?void 0:On.revealLineCount,$e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.O7)(vn.isInEmbeddedEditor,$e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.O7)(vn.onlyShowAccessibleDiffViewer,$e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.Zc)(vn.renderSideBySideInlineBreakpoint,$e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.O7)(vn.useInlineViewWhenSpaceIsLimited,$e.useInlineViewWhenSpaceIsLimited)}}var Li=function(vn,$e,ft,gt){var cn=arguments.length,rn=cn<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ft):gt,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rn=Reflect.decorate(vn,$e,ft,gt);else for(var En=vn.length-1;En>=0;En--)(Sn=vn[En])&&(rn=(cn<3?Sn(rn):cn>3?Sn($e,ft,rn):Sn($e,ft))||rn);return cn>3&&rn&&Object.defineProperty($e,ft,rn),rn},ci=function(vn,$e){return function(ft,gt){$e(ft,gt,vn)}};let Zi=class extends Rn{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor($e,ft,gt,cn,rn,Sn,En,Ln){var On;super(),this._domElement=$e,this._parentContextKeyService=cn,this._parentInstantiationService=rn,this._audioCueService=En,this._editorProgressService=Ln,this.elements=(0,b.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,b.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,b.$)("span",{},"No Changes")]),(0,b.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,b.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,b.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,_.uh)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=w.ju.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new Zt.y([Tt.i6,this._contextKeyService])),this._boundarySashes=(0,_.uh)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,_.uh)(this,!1),this._accessibleDiffViewerVisible=(0,_.nK)(this,dt=>this._options.onlyShowAccessibleDiffViewer.read(dt)?!0:this._accessibleDiffViewerShouldBeVisible.read(dt)),this._movedBlocksLinesPart=(0,_.uh)(this,void 0),this._layoutInfo=(0,_.nK)(this,dt=>{var bt,lt,Q,fe,We;const at=this._rootSizeObserver.width.read(dt),Ct=this._rootSizeObserver.height.read(dt),Rt=(bt=this._sash.read(dt))===null||bt===void 0?void 0:bt.sashLeft.read(dt),Vt=Rt!=null?Rt:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),an=at-Vt-((Q=(lt=this._overviewRulerPart.read(dt))===null||lt===void 0?void 0:lt.width)!==null&&Q!==void 0?Q:0),An=(We=(fe=this._movedBlocksLinesPart.read(dt))===null||fe===void 0?void 0:fe.width.read(dt))!==null&&We!==void 0?We:0,zn=Vt-An;return this.elements.original.style.width=zn+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=an+"px",this.elements.modified.style.left=Vt+"px",this._editors.original.layout({width:zn,height:Ct},!0),this._editors.modified.layout({width:an,height:Ct},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((dt,bt)=>dt==null?void 0:dt.diff.read(bt)),this.onDidUpdateDiff=w.ju.fromObservableLight(this._diffValue),Sn.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,c.OF)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new g.DU(this.elements.root,ft.dimension)),this._rootSizeObserver.setAutomaticLayout((On=ft.automaticLayout)!==null&&On!==void 0?On:!1),this._options=new fi(ft),this._register((0,_.EH)(dt=>{this._options.setWidth(this._rootSizeObserver.width.read(dt))})),this._contextKeyService.createKey(Nt.u.isEmbeddedDiffEditor.key,!1),this._register((0,g.GU)(Nt.u.isEmbeddedDiffEditor,this._contextKeyService,dt=>this._options.isInEmbeddedEditor.read(dt))),this._register((0,g.GU)(Nt.u.comparingMovedCode,this._contextKeyService,dt=>{var bt;return!!(!((bt=this._diffModel.read(dt))===null||bt===void 0)&&bt.movedTextToCompare.read(dt))})),this._register((0,g.GU)(Nt.u.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,dt=>this._options.couldShowInlineViewBecauseOfSize.read(dt))),this._register((0,g.GU)(Nt.u.hasChanges,this._contextKeyService,dt=>{var bt,lt,Q;return((Q=(lt=(bt=this._diffModel.read(dt))===null||bt===void 0?void 0:bt.diff.read(dt))===null||lt===void 0?void 0:lt.mappings.length)!==null&&Q!==void 0?Q:0)>0})),this._editors=this._register(this._instantiationService.createInstance(Bi,this.elements.original,this.elements.modified,this._options,gt,(dt,bt,lt,Q)=>this._createInnerEditor(dt,bt,lt,Q))),this._overviewRulerPart=(0,I.kA)(this,dt=>this._options.renderOverviewRuler.read(dt)?this._instantiationService.createInstance((0,g.NW)(ct,dt),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(bt=>bt.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,I.kA)(this,dt=>{const bt=this._options.renderSideBySide.read(dt);return this.elements.root.classList.toggle("side-by-side",bt),bt?new Mt(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((lt,Q)=>{var fe,We;return lt-((We=(fe=this._overviewRulerPart.read(Q))===null||fe===void 0?void 0:fe.width)!==null&&We!==void 0?We:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const Qn=(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(bn,dt),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(it,dt),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Vn=new Set,Wn=new Set;let St=!1;const k=(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(Ce,dt),(0,b.Jj)(this._domElement),this._editors,this._diffModel,this._options,this,()=>St||Qn.get().isUpdatingHiddenAreas,Vn,Wn)).recomputeInitiallyAndOnChange(this._store),ne=(0,_.nK)(this,dt=>{const bt=k.read(dt).viewZones.read(dt).orig,lt=Qn.read(dt).viewZones.read(dt).origViewZones;return bt.concat(lt)}),ue=(0,_.nK)(this,dt=>{const bt=k.read(dt).viewZones.read(dt).mod,lt=Qn.read(dt).viewZones.read(dt).modViewZones;return bt.concat(lt)});this._register((0,g.Sv)(this._editors.original,ne,dt=>{St=dt},Vn));let Fe;this._register((0,g.Sv)(this._editors.modified,ue,dt=>{St=dt,St?Fe=p.Z.capture(this._editors.modified):(Fe==null||Fe.restore(this._editors.modified),Fe=void 0)},Wn)),this._accessibleDiffViewer=(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(K,dt),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(bt,lt)=>this._accessibleDiffViewerShouldBeVisible.set(bt,lt),this._options.onlyShowAccessibleDiffViewer.map(bt=>!bt),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((bt,lt)=>{var Q;return(Q=bt==null?void 0:bt.diff.read(lt))===null||Q===void 0?void 0:Q.mappings.map(fe=>fe.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);const Qe=this._accessibleDiffViewerVisible.map(dt=>dt?"hidden":"visible");this._register((0,g.bg)(this.elements.modified,{visibility:Qe})),this._register((0,g.bg)(this.elements.original,{visibility:Qe})),this._createDiffEditorContributions(),Sn.addDiffEditor(this),this._register((0,_.jx)(this._layoutInfo)),(0,I.kA)(this,dt=>new((0,g.NW)(xe,dt))(this.elements.root,this._diffModel,this._layoutInfo.map(bt=>bt.originalEditor),this._layoutInfo.map(bt=>bt.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,dt=>{this._movedBlocksLinesPart.set(dt,void 0)}),this._register((0,g.bg)(this.elements.overlay,{width:this._layoutInfo.map((dt,bt)=>dt.originalEditor.width+(this._options.renderSideBySide.read(bt)?0:dt.modifiedEditor.width)),visibility:(0,_.nK)(dt=>{var bt,lt;return this._options.hideUnchangedRegions.read(dt)&&((lt=(bt=this._diffModel.read(dt))===null||bt===void 0?void 0:bt.diff.read(dt))===null||lt===void 0?void 0:lt.mappings.length)===0?"visible":"hidden"})})),this._register(w.ju.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,dt=>{var bt,lt;if((dt==null?void 0:dt.reason)===3){const Q=(lt=(bt=this._diffModel.get())===null||bt===void 0?void 0:bt.diff.get())===null||lt===void 0?void 0:lt.mappings.find(fe=>fe.lineRangeMapping.modified.contains(dt.position.lineNumber));Q!=null&&Q.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(z.y$.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):Q!=null&&Q.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(z.y$.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):Q&&this._audioCueService.playAudioCue(z.y$.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const ot=this._diffModel.map(this,(dt,bt)=>{if(dt)return dt.diff.read(bt)===void 0&&!dt.isDiffUpToDate.read(bt)});this._register((0,_.gp)((dt,bt)=>{if(ot.read(dt)===!0){const lt=this._editorProgressService.show(!0,1e3);bt.add((0,c.OF)(()=>lt.done()))}})),this._register((0,c.OF)(()=>{var dt;this._shouldDisposeDiffModel&&((dt=this._diffModel.get())===null||dt===void 0||dt.dispose())}))}_createInnerEditor($e,ft,gt,cn){return $e.createInstance(o.Gm,ft,gt,cn)}_createDiffEditorContributions(){const $e=M.Uc.getDiffEditorContributions();for(const ft of $e)try{this._register(this._instantiationService.createInstance(ft.ctor,this))}catch(gt){(0,r.dL)(gt)}}get _targetEditor(){return this._editors.modified}getEditorType(){return Pt.g.IDiffEditor}layout($e){this._rootSizeObserver.observe($e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var $e;const ft=this._editors.original.saveViewState(),gt=this._editors.modified.saveViewState();return{original:ft,modified:gt,modelState:($e=this._diffModel.get())===null||$e===void 0?void 0:$e.serializeState()}}restoreViewState($e){var ft;if($e&&$e.original&&$e.modified){const gt=$e;this._editors.original.restoreViewState(gt.original),this._editors.modified.restoreViewState(gt.modified),gt.modelState&&((ft=this._diffModel.get())===null||ft===void 0||ft.restoreSerializedState(gt.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel($e){return this._instantiationService.createInstance(kt,$e,this._options)}getModel(){var $e,ft;return(ft=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.model)!==null&&ft!==void 0?ft:null}setModel($e,ft){!$e&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const gt=$e?"model"in $e?{model:$e,shouldDispose:!1}:{model:this.createViewModel($e),shouldDispose:!0}:void 0;this._diffModel.get()!==(gt==null?void 0:gt.model)&&(0,_.c8)(ft,cn=>{var rn;_.rD.batchEventsGlobally(cn,()=>{this._editors.original.setModel(gt?gt.model.model.original:null),this._editors.modified.setModel(gt?gt.model.model.modified:null)});const Sn=this._diffModel.get(),En=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(rn=gt==null?void 0:gt.shouldDispose)!==null&&rn!==void 0?rn:!1,this._diffModel.set(gt==null?void 0:gt.model,cn),En&&(Sn==null||Sn.dispose())})}updateOptions($e){this._options.updateOptions($e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var $e;const ft=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.diff.get();return ft?Ji(ft):null}revert($e){var ft;if($e.innerChanges){this.revertRangeMappings($e.innerChanges);return}const gt=(ft=this._diffModel.get())===null||ft===void 0?void 0:ft.model;gt&&this._editors.modified.executeEdits("diffEditor",[{range:$e.modified.toExclusiveRange(),text:gt.original.getValueInRange($e.original.toExclusiveRange())}])}revertRangeMappings($e){const ft=this._diffModel.get();if(!ft||!ft.isDiffUpToDate.get())return;const gt=$e.map(cn=>({range:cn.modifiedRange,text:ft.model.original.getValueInRange(cn.originalRange)}));this._editors.modified.executeEdits("diffEditor",gt)}_goTo($e){this._editors.modified.setPosition(new A.L($e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter($e.lineRangeMapping.modified.toExclusiveRange())}goToDiff($e){var ft,gt,cn,rn;const Sn=(gt=(ft=this._diffModel.get())===null||ft===void 0?void 0:ft.diff.get())===null||gt===void 0?void 0:gt.mappings;if(!Sn||Sn.length===0)return;const En=this._editors.modified.getPosition().lineNumber;let Ln;$e==="next"?Ln=(cn=Sn.find(On=>On.lineRangeMapping.modified.startLineNumber>En))!==null&&cn!==void 0?cn:Sn[0]:Ln=(rn=(0,U.dF)(Sn,On=>On.lineRangeMapping.modified.startLineNumber<En))!==null&&rn!==void 0?rn:Sn[Sn.length-1],this._goTo(Ln),Ln.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(z.y$.diffLineDeleted,{source:"diffEditor.goToDiff"}):Ln.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(z.y$.diffLineInserted,{source:"diffEditor.goToDiff"}):Ln&&this._audioCueService.playAudioCue(z.y$.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const $e=this._diffModel.get();$e&&this.waitForDiff().then(()=>{var ft;const gt=(ft=$e.diff.get())===null||ft===void 0?void 0:ft.mappings;!gt||gt.length===0||this._goTo(gt[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}waitForDiff(){return tn(this,null,function*(){const $e=this._diffModel.get();$e&&(yield $e.waitForDiff())})}mapToOtherSide(){var $e,ft;const gt=this._editors.modified.hasWidgetFocus(),cn=gt?this._editors.modified:this._editors.original,rn=gt?this._editors.original:this._editors.modified;let Sn;const En=cn.getSelection();if(En){const Ln=(ft=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.diff.get())===null||ft===void 0?void 0:ft.mappings.map(On=>gt?On.lineRangeMapping.flip():On.lineRangeMapping);if(Ln){const On=(0,g.cV)(En.getStartPosition(),Ln),Qn=(0,g.cV)(En.getEndPosition(),Ln);Sn=N.e.plusRange(On,Qn)}}return{destination:rn,destinationSelection:Sn}}switchSide(){const{destination:$e,destinationSelection:ft}=this.mapToOtherSide();$e.focus(),ft&&$e.setSelection(ft)}exitCompareMove(){const $e=this._diffModel.get();$e&&$e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var $e;const ft=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.unchangedRegions.get();ft&&(0,_.PS)(gt=>{for(const cn of ft)cn.collapseAll(gt)})}showAllUnchangedRegions(){var $e;const ft=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.unchangedRegions.get();ft&&(0,_.PS)(gt=>{for(const cn of ft)cn.showAll(gt)})}};Zi=Li([ci(3,Tt.i6),ci(4,O.TG),ci(5,D.$),ci(6,z.e7),ci(7,zt.ek)],Zi);function Ji(vn){return vn.mappings.map($e=>{const ft=$e.lineRangeMapping;let gt,cn,rn,Sn,En=ft.innerChanges;return ft.original.isEmpty?(gt=ft.original.startLineNumber-1,cn=0,En=void 0):(gt=ft.original.startLineNumber,cn=ft.original.endLineNumberExclusive-1),ft.modified.isEmpty?(rn=ft.modified.startLineNumber-1,Sn=0,En=void 0):(rn=ft.modified.startLineNumber,Sn=ft.modified.endLineNumberExclusive-1),{originalStartLineNumber:gt,originalEndLineNumber:cn,modifiedStartLineNumber:rn,modifiedEndLineNumber:Sn,charChanges:En==null?void 0:En.map(Ln=>({originalStartLineNumber:Ln.originalRange.startLineNumber,originalStartColumn:Ln.originalRange.startColumn,originalEndLineNumber:Ln.originalRange.endLineNumber,originalEndColumn:Ln.originalRange.endColumn,modifiedStartLineNumber:Ln.modifiedRange.startLineNumber,modifiedStartColumn:Ln.modifiedRange.startColumn,modifiedEndLineNumber:Ln.modifiedRange.endLineNumber,modifiedEndColumn:Ln.modifiedRange.endColumn}))}})}},31651:function(Ot,Ke,e){"use strict";e.d(Ke,{t2:function(){return W},DU:function(){return v},GD:function(){return y},N9:function(){return g},Vm:function(){return a},xx:function(){return f},RP:function(){return i},bg:function(){return E},Sv:function(){return B},GU:function(){return L},Ap:function(){return n},NW:function(){return A},cV:function(){return $}});var b=e(35534),U=e(71050),r=e(76648);function w(){return r.OB&&!!r.OB.VSCODE_DEV}function c(z){if(w()){const O=_();return O.add(z),{dispose(){O.delete(z)}}}else return{dispose(){}}}function _(){I||(I=new Set);const z=globalThis;return z.$hotReload_applyNewExports||(z.$hotReload_applyNewExports=O=>{for(const P of I){const H=P(O);if(H)return H}}),I}let I;w()&&c(({oldExports:z,newSrc:O})=>{if(O.indexOf("/* hot-reload:patch-prototype-methods */")!==-1)return P=>{var H,V;for(const G in P){const j=P[G];if(console.log(`[hot-reload] Patching prototype methods of '${G}'`,{exportedItem:j}),typeof j=="function"&&j.prototype){const F=z[G];if(F){for(const K of Object.getOwnPropertyNames(j.prototype)){const m=Object.getOwnPropertyDescriptor(j.prototype,K),J=Object.getOwnPropertyDescriptor(F.prototype,K);((H=m==null?void 0:m.value)===null||H===void 0?void 0:H.toString())!==((V=J==null?void 0:J.value)===null||V===void 0?void 0:V.toString())&&console.log(`[hot-reload] Patching prototype method '${G}.${K}'`),Object.defineProperty(F.prototype,K,m)}P[G]=F}}}return!0}});var M=e(5976),D=e(99692),p=e(45476),o=e(50187),u=e(24314),d=e(45035);function n(z,O,P,H){if(z.length===0)return O;if(O.length===0)return z;const V=[];let G=0,j=0;for(;G<z.length&&j<O.length;){const F=z[G],K=O[j],m=P(F),J=P(K);m<J?(V.push(F),G++):m>J?(V.push(K),j++):(V.push(H(F,K)),G++,j++)}for(;G<z.length;)V.push(z[G]),G++;for(;j<O.length;)V.push(O[j]),j++;return V}function i(z,O){const P=new M.SL,H=z.createDecorationsCollection();return P.add((0,D.UV)({debugName:()=>`Apply decorations from ${O.debugName}`},V=>{const G=O.read(V);H.set(G)})),P.add({dispose:()=>{H.clear()}}),P}function f(z,O){return z.appendChild(O),(0,M.OF)(()=>{z.removeChild(O)})}class v extends M.JT{get width(){return this._width}get height(){return this._height}constructor(O,P){super(),this.elementSizeObserver=this._register(new p.I(O,P)),this._width=(0,D.uh)(this,this.elementSizeObserver.getWidth()),this._height=(0,D.uh)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(H=>(0,D.PS)(V=>{this._width.set(this.elementSizeObserver.getWidth(),V),this._height.set(this.elementSizeObserver.getHeight(),V)})))}observe(O){this.elementSizeObserver.observe(O)}setAutomaticLayout(O){O?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function a(z,O,P){let H=O.get(),V=H,G=H;const j=(0,D.uh)("animatedValue",H);let F=-1;const K=300;let m;P.add((0,D.nJ)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(X,te)=>(X.didChange(O)&&(te.animate=te.animate||X.change),!0)},(X,te)=>{m!==void 0&&(z.cancelAnimationFrame(m),m=void 0),V=G,H=O.read(X),F=Date.now()-(te.animate?0:K),J()}));function J(){const X=Date.now()-F;G=Math.floor(S(X,V,H-V,K)),X<K?m=z.requestAnimationFrame(J):G=H,j.set(G,void 0)}return j}function S(z,O,P,H){return z===H?O+P:P*(-Math.pow(2,-10*z/H)+1)+O}class g extends M.JT{constructor(O,P,H){super(),this._register(new C(O,H)),this._register(E(H,{height:P.actualHeight,top:P.actualTop}))}}class y{get afterLineNumber(){return this._afterLineNumber.get()}constructor(O,P){this._afterLineNumber=O,this.heightInPx=P,this.domNode=document.createElement("div"),this._actualTop=(0,D.uh)(this,void 0),this._actualHeight=(0,D.uh)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=H=>{this._actualTop.set(H,void 0)},this.onComputedHeight=H=>{this._actualHeight.set(H,void 0)}}}class C{constructor(O,P){this._editor=O,this._domElement=P,this._overlayWidgetId=`managedOverlayWidget-${C._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}C._counter=0;function E(z,O){return(0,D.EH)(P=>{for(let[H,V]of Object.entries(O))V&&typeof V=="object"&&"read"in V&&(V=V.read(P)),typeof V=="number"&&(V=`${V}px`),H=H.replace(/[A-Z]/g,G=>"-"+G.toLowerCase()),z.style[H]=V})}function A(z,O){return N([z],O),z}function N(z,O){w()&&(0,D.aq)("reload",H=>c(({oldExports:V})=>{if([...Object.values(V)].some(G=>z.includes(G)))return G=>(H(void 0),!0)})).read(O)}function B(z,O,P,H){const V=new M.SL,G=[];return V.add((0,D.gp)((j,F)=>{const K=O.read(j),m=new Map,J=new Map;P&&P(!0),z.changeViewZones(X=>{for(const te of G)X.removeZone(te),H==null||H.delete(te);G.length=0;for(const te of K){const le=X.addZone(te);te.setZoneId&&te.setZoneId(le),G.push(le),H==null||H.add(le),m.set(te,le)}}),P&&P(!1),F.add((0,D.nJ)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(X,te){const le=J.get(X.changedObservable);return le!==void 0&&te.zoneIds.push(le),!0}},(X,te)=>{for(const le of K)le.onChange&&(J.set(le.onChange,m.get(le)),le.onChange.read(X));P&&P(!0),z.changeViewZones(le=>{for(const ge of te.zoneIds)le.layoutZone(ge)}),P&&P(!1)}))})),V.add({dispose(){P&&P(!0),z.changeViewZones(j=>{for(const F of G)j.removeZone(F)}),H==null||H.clear(),P&&P(!1)}}),V}class W extends U.A{dispose(){super.dispose(!0)}}function $(z,O){const P=(0,b.dF)(O,V=>V.original.startLineNumber<=z.lineNumber);if(!P)return u.e.fromPositions(z);if(P.original.endLineNumberExclusive<=z.lineNumber){const V=z.lineNumber-P.original.endLineNumberExclusive+P.modified.endLineNumberExclusive;return u.e.fromPositions(new o.L(V,z.column))}if(!P.innerChanges)return u.e.fromPositions(new o.L(P.modified.startLineNumber,1));const H=(0,b.dF)(P.innerChanges,V=>V.originalRange.getStartPosition().isBeforeOrEqual(z));if(!H){const V=z.lineNumber-P.original.startLineNumber+P.modified.startLineNumber;return u.e.fromPositions(new o.L(V,z.column))}if(H.originalRange.containsPosition(z))return H.modifiedRange;{const V=Y(H.originalRange.getEndPosition(),z);return u.e.fromPositions(R(H.modifiedRange.getEndPosition(),V))}}function Y(z,O){return z.lineNumber===O.lineNumber?new d.OE(0,O.column-z.column):new d.OE(O.lineNumber-z.lineNumber,O.column-1)}function R(z,O){return O.lineCount===0?new o.L(z.lineNumber,z.column+O.columnCount):new o.L(z.lineNumber+O.lineCount,O.columnCount+1)}function L(z,O,P){const H=z.bindTo(O);return(0,D.UV)({debugName:()=>`Update ${z.key}`},V=>{H.set(P(V))})}},84527:function(Ot,Ke,e){"use strict";e.d(Ke,{H:function(){return n}});var b=e(36248),U=e(11640),r=e(46445),w=e(4256),c=e(71922),_=e(31106),I=e(94565),M=e(32064),D=e(72065),p=e(48894),o=e(97781),u=function(i,f,v,a){var S=arguments.length,g=S<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,v):a,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,f,v,a);else for(var C=i.length-1;C>=0;C--)(y=i[C])&&(g=(S<3?y(g):S>3?y(f,v,g):y(f,v))||g);return S>3&&g&&Object.defineProperty(f,v,g),g},d=function(i,f){return function(v,a){f(v,a,i)}};let n=class extends r.Gm{constructor(f,v,a,S,g,y,C,E,A,N,B,W,$){super(f,Ni(Xn({},S.getRawOptions()),{overflowWidgetsDomNode:S.getOverflowWidgetsDomNode()}),a,g,y,C,E,A,N,B,W,$),this._parentEditor=S,this._overwriteOptions=v,super.updateOptions(this._overwriteOptions),this._register(S.onDidChangeConfiguration(Y=>this._onParentConfigurationChanged(Y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(f){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(f){b.jB(this._overwriteOptions,f,!0),super.updateOptions(this._overwriteOptions)}};n=u([d(4,D.TG),d(5,U.$),d(6,I.H),d(7,M.i6),d(8,o.XE),d(9,p.lT),d(10,_.F7),d(11,w.c_),d(12,c.p)],n)},61329:function(Ot,Ke,e){"use strict";e.d(Ke,{OY:function(){return r},Sj:function(){return w},T4:function(){return U},Uo:function(){return c},hP:function(){return _}});var b=e(3860);class U{constructor(M,D,p=!1){this._range=M,this._text=D,this.insertsAutoWhitespace=p}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromPositions(o.getEndPosition())}}class r{constructor(M,D){this._range=M,this._text=D}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromRange(o,0)}}class w{constructor(M,D,p=!1){this._range=M,this._text=D,this.insertsAutoWhitespace=p}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromPositions(o.getStartPosition())}}class c{constructor(M,D,p,o,u=!1){this._range=M,this._text=D,this._columnDeltaOffset=o,this._lineNumberDeltaOffset=p,this.insertsAutoWhitespace=u}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromPositions(o.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class _{constructor(M,D,p,o=!1){this._range=M,this._text=D,this._initialSelection=p,this._forceMoveMarkers=o,this._selectionId=null}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=D.trackSelection(this._initialSelection)}computeCursorState(M,D){return D.getTrackedSelection(this._selectionId)}}},10291:function(Ot,Ke,e){"use strict";e.d(Ke,{U:function(){return u}});var b=e(97295),U=e(7988),r=e(24314),w=e(3860),c=e(1615),_=e(4256),I=function(d,n,i,f){var v=arguments.length,a=v<3?n:f===null?f=Object.getOwnPropertyDescriptor(n,i):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(d,n,i,f);else for(var g=d.length-1;g>=0;g--)(S=d[g])&&(a=(v<3?S(a):v>3?S(n,i,a):S(n,i))||a);return v>3&&a&&Object.defineProperty(n,i,a),a},M=function(d,n){return function(i,f){n(i,f,d)}},D;const p=Object.create(null);function o(d,n){if(n<=0)return"";p[d]||(p[d]=["",d]);const i=p[d];for(let f=i.length;f<=n;f++)i[f]=i[f-1]+d;return i[n]}let u=D=class{static unshiftIndent(n,i,f,v,a){const S=U.i.visibleColumnFromColumn(n,i,f);if(a){const g=o(" ",v),C=U.i.prevIndentTabStop(S,v)/v;return o(g,C)}else{const g="	",C=U.i.prevRenderTabStop(S,f)/f;return o(g,C)}}static shiftIndent(n,i,f,v,a){const S=U.i.visibleColumnFromColumn(n,i,f);if(a){const g=o(" ",v),C=U.i.nextIndentTabStop(S,v)/v;return o(g,C)}else{const g="	",C=U.i.nextRenderTabStop(S,f)/f;return o(g,C)}}constructor(n,i,f){this._languageConfigurationService=f,this._opts=i,this._selection=n,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(n,i,f){this._useLastEditRangeForCursorEndPosition?n.addTrackedEditOperation(i,f):n.addEditOperation(i,f)}getEditOperations(n,i){const f=this._selection.startLineNumber;let v=this._selection.endLineNumber;this._selection.endColumn===1&&f!==v&&(v=v-1);const{tabSize:a,indentSize:S,insertSpaces:g}=this._opts,y=f===v;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(n.getLineContent(f))&&(this._useLastEditRangeForCursorEndPosition=!0);let C=0,E=0;for(let A=f;A<=v;A++,C=E){E=0;const N=n.getLineContent(A);let B=b.LC(N);if(this._opts.isUnshift&&(N.length===0||B===0)||!y&&!this._opts.isUnshift&&N.length===0)continue;if(B===-1&&(B=N.length),A>1&&U.i.visibleColumnFromColumn(N,B+1,a)%S!==0&&n.tokenization.isCheapToTokenize(A-1)){const Y=(0,c.A)(this._opts.autoIndent,n,new r.e(A-1,n.getLineMaxColumn(A-1),A-1,n.getLineMaxColumn(A-1)),this._languageConfigurationService);if(Y){if(E=C,Y.appendText)for(let R=0,L=Y.appendText.length;R<L&&E<S&&Y.appendText.charCodeAt(R)===32;R++)E++;Y.removeText&&(E=Math.max(0,E-Y.removeText));for(let R=0;R<E&&!(B===0||N.charCodeAt(B-1)!==32);R++)B--}}if(this._opts.isUnshift&&B===0)continue;let W;this._opts.isUnshift?W=D.unshiftIndent(N,B+1,a,S,g):W=D.shiftIndent(N,B+1,a,S,g),this._addEditOperation(i,new r.e(A,1,A,B+1),W),A===f&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=B+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&n.getLineLength(f)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const C=g?o(" ",S):"	";for(let E=f;E<=v;E++){const A=n.getLineContent(E);let N=b.LC(A);if(!(this._opts.isUnshift&&(A.length===0||N===0))&&!(!y&&!this._opts.isUnshift&&A.length===0)&&(N===-1&&(N=A.length),!(this._opts.isUnshift&&N===0)))if(this._opts.isUnshift){N=Math.min(N,S);for(let B=0;B<N;B++)if(A.charCodeAt(B)===9){N=B+1;break}this._addEditOperation(i,new r.e(E,1,E,N+1),"")}else this._addEditOperation(i,new r.e(E,1,E,1),C),E===f&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(n,i){if(this._useLastEditRangeForCursorEndPosition){const v=i.getInverseEditOperations()[0];return new w.Y(v.range.endLineNumber,v.range.endColumn,v.range.endLineNumber,v.range.endColumn)}const f=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const v=this._selection.startColumn;return f.startColumn<=v?f:f.getDirection()===0?new w.Y(f.startLineNumber,v,f.endLineNumber,f.endColumn):new w.Y(f.endLineNumber,f.endColumn,f.startLineNumber,v)}return f}};u=D=I([M(2,_.c_)],u)},15115:function(Ot,Ke,e){"use strict";e.d(Ke,{k:function(){return b}});const b={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}},800:function(Ot,Ke,e){"use strict";e.d(Ke,{Pe:function(){return d},ei:function(){return u},wk:function(){return I}});var b=e(15115),U=e(64141),r=e(22075),w=e(63580),c=e(23193),_=e(89872);const I=Object.freeze({id:"editor",order:5,type:"object",title:w.NC("editorConfigurationTitle","Editor"),scope:5}),M=Ni(Xn({},I),{properties:{"editor.tabSize":{type:"number",default:r.D.tabSize,minimum:1,markdownDescription:w.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:w.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:r.D.insertSpaces,markdownDescription:w.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:r.D.detectIndentation,markdownDescription:w.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:r.D.trimAutoWhitespace,description:w.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:r.D.largeFileOptimizations,description:w.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[w.NC("wordBasedSuggestions.off","Turn off Word Based Suggestions."),w.NC("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),w.NC("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),w.NC("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:w.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[w.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),w.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),w.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:w.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:w.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:w.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:w.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:w.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:w.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:w.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:w.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:w.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:w.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:w.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:w.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:b.k.maxComputationTime,description:w.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:b.k.maxFileSize,description:w.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:b.k.renderSideBySide,description:w.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:b.k.renderSideBySideInlineBreakpoint,description:w.NC("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:b.k.useInlineViewWhenSpaceIsLimited,description:w.NC("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:b.k.renderMarginRevertIcon,description:w.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:b.k.ignoreTrimWhitespace,description:w.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:b.k.renderIndicators,description:w.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:b.k.diffCodeLens,description:w.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:b.k.diffWordWrap,markdownEnumDescriptions:[w.NC("wordWrap.off","Lines will never wrap."),w.NC("wordWrap.on","Lines will wrap at the viewport width."),w.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:b.k.diffAlgorithm,markdownEnumDescriptions:[w.NC("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),w.NC("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:b.k.hideUnchangedRegions.enabled,markdownDescription:w.NC("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:b.k.hideUnchangedRegions.revealLineCount,markdownDescription:w.NC("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:b.k.hideUnchangedRegions.minimumLineCount,markdownDescription:w.NC("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:b.k.hideUnchangedRegions.contextLineCount,markdownDescription:w.NC("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:b.k.experimental.showMoves,markdownDescription:w.NC("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:b.k.experimental.showEmptyDecorations,description:w.NC("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});function D(i){return typeof i.type!="undefined"||typeof i.anyOf!="undefined"}for(const i of U.Bc){const f=i.schema;if(typeof f!="undefined")if(D(f))M.properties[`editor.${i.name}`]=f;else for(const v in f)Object.hasOwnProperty.call(f,v)&&(M.properties[v]=f[v])}let p=null;function o(){return p===null&&(p=Object.create(null),Object.keys(M.properties).forEach(i=>{p[i]=!0})),p}function u(i){return o()[`editor.${i}`]||!1}function d(i){return o()[`diffEditor.${i}`]||!1}_.B.as(c.IP.Configuration).registerConfiguration(M)},64141:function(Ot,Ke,e){"use strict";e.d(Ke,{$J:function(){return ie},Av:function(){return me},BH:function(){return xt},Bb:function(){return M},Bc:function(){return nt},Bo:function(){return H},JO:function(){return X},LJ:function(){return D},L_:function(){return S},NY:function(){return C},O7:function(){return i},Zc:function(){return v},d2:function(){return Y},gk:function(){return m},hL:function(){return _t},n0:function(){return P},qt:function(){return he},rk:function(){return o},y0:function(){return I}});var b=e(9488),U=e(36248),r=e(1432),w=e(22075),c=e(270),_=e(63580);const I=8;class M{constructor(Be){this._values=Be}hasChanged(Be){return this._values[Be]}}class D{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class p{constructor(Be,yt,un,In){this.id=Be,this.name=yt,this.defaultValue=un,this.schema=In}applyUpdate(Be,yt){return u(Be,yt)}compute(Be,yt,un){return un}}class o{constructor(Be,yt){this.newValue=Be,this.didChange=yt}}function u(Lt,Be){if(typeof Lt!="object"||typeof Be!="object"||!Lt||!Be)return new o(Be,Lt!==Be);if(Array.isArray(Lt)||Array.isArray(Be)){const un=Array.isArray(Lt)&&Array.isArray(Be)&&b.fS(Lt,Be);return new o(Be,!un)}let yt=!1;for(const un in Be)if(Be.hasOwnProperty(un)){const In=u(Lt[un],Be[un]);In.didChange&&(Lt[un]=In.newValue,yt=!0)}return new o(Lt,yt)}class d{constructor(Be){this.schema=void 0,this.id=Be,this.name="_never_",this.defaultValue=void 0}applyUpdate(Be,yt){return u(Be,yt)}validate(Be){return this.defaultValue}}class n{constructor(Be,yt,un,In){this.id=Be,this.name=yt,this.defaultValue=un,this.schema=In}applyUpdate(Be,yt){return u(Be,yt)}validate(Be){return typeof Be=="undefined"?this.defaultValue:Be}compute(Be,yt,un){return un}}function i(Lt,Be){return typeof Lt=="undefined"?Be:Lt==="false"?!1:!!Lt}class f extends n{constructor(Be,yt,un,In=void 0){typeof In!="undefined"&&(In.type="boolean",In.default=un),super(Be,yt,un,In)}validate(Be){return i(Be,this.defaultValue)}}function v(Lt,Be,yt,un){if(typeof Lt=="undefined")return Be;let In=parseInt(Lt,10);return isNaN(In)?Be:(In=Math.max(yt,In),In=Math.min(un,In),In|0)}class a extends n{static clampedInt(Be,yt,un,In){return v(Be,yt,un,In)}constructor(Be,yt,un,In,bn,Hn=void 0){typeof Hn!="undefined"&&(Hn.type="integer",Hn.default=un,Hn.minimum=In,Hn.maximum=bn),super(Be,yt,un,Hn),this.minimum=In,this.maximum=bn}validate(Be){return a.clampedInt(Be,this.defaultValue,this.minimum,this.maximum)}}function S(Lt,Be,yt,un){if(typeof Lt=="undefined")return Be;const In=g.float(Lt,Be);return g.clamp(In,yt,un)}class g extends n{static clamp(Be,yt,un){return Be<yt?yt:Be>un?un:Be}static float(Be,yt){if(typeof Be=="number")return Be;if(typeof Be=="undefined")return yt;const un=parseFloat(Be);return isNaN(un)?yt:un}constructor(Be,yt,un,In,bn){typeof bn!="undefined"&&(bn.type="number",bn.default=un),super(Be,yt,un,bn),this.validationFn=In}validate(Be){return this.validationFn(g.float(Be,this.defaultValue))}}class y extends n{static string(Be,yt){return typeof Be!="string"?yt:Be}constructor(Be,yt,un,In=void 0){typeof In!="undefined"&&(In.type="string",In.default=un),super(Be,yt,un,In)}validate(Be){return y.string(Be,this.defaultValue)}}function C(Lt,Be,yt,un){return typeof Lt!="string"?Be:un&&Lt in un?un[Lt]:yt.indexOf(Lt)===-1?Be:Lt}class E extends n{constructor(Be,yt,un,In,bn=void 0){typeof bn!="undefined"&&(bn.type="string",bn.enum=In,bn.default=un),super(Be,yt,un,bn),this._allowedValues=In}validate(Be){return C(Be,this.defaultValue,this._allowedValues)}}class A extends p{constructor(Be,yt,un,In,bn,Hn,si=void 0){typeof si!="undefined"&&(si.type="string",si.enum=bn,si.default=In),super(Be,yt,un,si),this._allowedValues=bn,this._convert=Hn}validate(Be){return typeof Be!="string"?this.defaultValue:this._allowedValues.indexOf(Be)===-1?this.defaultValue:this._convert(Be)}}function N(Lt){switch(Lt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class B extends p{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),_.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader."),_.NC("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:_.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Be){switch(Be){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Be,yt,un){return un===0?Be.accessibilitySupport:un}}class W extends p{constructor(){const Be={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",Be,{"editor.comments.insertSpace":{type:"boolean",default:Be.insertSpace,description:_.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Be.ignoreEmptyLines,description:_.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{insertSpace:i(yt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:i(yt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function $(Lt){switch(Lt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Y;(function(Lt){Lt[Lt.Line=1]="Line",Lt[Lt.Block=2]="Block",Lt[Lt.Underline=3]="Underline",Lt[Lt.LineThin=4]="LineThin",Lt[Lt.BlockOutline=5]="BlockOutline",Lt[Lt.UnderlineThin=6]="UnderlineThin"})(Y||(Y={}));function R(Lt){switch(Lt){case"line":return Y.Line;case"block":return Y.Block;case"underline":return Y.Underline;case"line-thin":return Y.LineThin;case"block-outline":return Y.BlockOutline;case"underline-thin":return Y.UnderlineThin}}class L extends d{constructor(){super(140)}compute(Be,yt,un){const In=["monaco-editor"];return yt.get(39)&&In.push(yt.get(39)),Be.extraEditorClassName&&In.push(Be.extraEditorClassName),yt.get(73)==="default"?In.push("mouse-default"):yt.get(73)==="copy"&&In.push("mouse-copy"),yt.get(110)&&In.push("showUnused"),yt.get(138)&&In.push("showDeprecated"),In.join(" ")}}class z extends f{constructor(){super(37,"emptySelectionClipboard",!0,{description:_.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Be,yt,un){return un&&Be.emptySelectionClipboard}}class O extends p{constructor(){const Be={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",Be,{"editor.find.cursorMoveOnType":{type:"boolean",default:Be.cursorMoveOnType,description:_.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Be.seedSearchStringFromSelection,enumDescriptions:[_.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),_.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),_.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:_.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Be.autoFindInSelection,enumDescriptions:[_.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),_.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),_.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:_.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Be.globalFindClipboard,description:_.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Be.addExtraSpaceOnTop,description:_.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Be.loop,description:_.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{cursorMoveOnType:i(yt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Be.seedSearchStringFromSelection=="boolean"?Be.seedSearchStringFromSelection?"always":"never":C(yt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Be.autoFindInSelection=="boolean"?Be.autoFindInSelection?"always":"never":C(yt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:i(yt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:i(yt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:i(yt.loop,this.defaultValue.loop)}}}class P extends p{constructor(){super(51,"fontLigatures",P.OFF,{anyOf:[{type:"boolean",description:_.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:_.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:_.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Be){return typeof Be=="undefined"?this.defaultValue:typeof Be=="string"?Be==="false"?P.OFF:Be==="true"?P.ON:Be:Be?P.ON:P.OFF}}P.OFF='"liga" off, "calt" off',P.ON='"liga" on, "calt" on';class H extends p{constructor(){super(54,"fontVariations",H.OFF,{anyOf:[{type:"boolean",description:_.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:_.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:_.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Be){return typeof Be=="undefined"?this.defaultValue:typeof Be=="string"?Be==="false"?H.OFF:Be==="true"?H.TRANSLATE:Be:Be?H.TRANSLATE:H.OFF}compute(Be,yt,un){return Be.fontInfo.fontVariationSettings}}H.OFF="normal",H.TRANSLATE="translate";class V extends d{constructor(){super(50)}compute(Be,yt,un){return Be.fontInfo}}class G extends n{constructor(){super(52,"fontSize",_t.fontSize,{type:"number",minimum:6,maximum:100,default:_t.fontSize,description:_.NC("fontSize","Controls the font size in pixels.")})}validate(Be){const yt=g.float(Be,this.defaultValue);return yt===0?_t.fontSize:g.clamp(yt,6,100)}compute(Be,yt,un){return Be.fontInfo.fontSize}}class j extends p{constructor(){super(53,"fontWeight",_t.fontWeight,{anyOf:[{type:"number",minimum:j.MINIMUM_VALUE,maximum:j.MAXIMUM_VALUE,errorMessage:_.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:j.SUGGESTION_VALUES}],default:_t.fontWeight,description:_.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Be){return Be==="normal"||Be==="bold"?Be:String(a.clampedInt(Be,_t.fontWeight,j.MINIMUM_VALUE,j.MAXIMUM_VALUE))}}j.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],j.MINIMUM_VALUE=1,j.MAXIMUM_VALUE=1e3;class F extends p{constructor(){const Be={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},yt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Be.multiple,enumDescriptions:[_.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),_.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),_.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},un=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",Be,{"editor.gotoLocation.multiple":{deprecationMessage:_.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Xn({description:_.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},yt),"editor.gotoLocation.multipleTypeDefinitions":Xn({description:_.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},yt),"editor.gotoLocation.multipleDeclarations":Xn({description:_.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},yt),"editor.gotoLocation.multipleImplementations":Xn({description:_.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},yt),"editor.gotoLocation.multipleReferences":Xn({description:_.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},yt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Be.alternativeDefinitionCommand,enum:un,description:_.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Be.alternativeTypeDefinitionCommand,enum:un,description:_.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Be.alternativeDeclarationCommand,enum:un,description:_.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Be.alternativeImplementationCommand,enum:un,description:_.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Be.alternativeReferenceCommand,enum:un,description:_.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Be){var yt,un,In,bn,Hn;if(!Be||typeof Be!="object")return this.defaultValue;const si=Be;return{multiple:C(si.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(yt=si.multipleDefinitions)!==null&&yt!==void 0?yt:C(si.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(un=si.multipleTypeDefinitions)!==null&&un!==void 0?un:C(si.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(In=si.multipleDeclarations)!==null&&In!==void 0?In:C(si.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(bn=si.multipleImplementations)!==null&&bn!==void 0?bn:C(si.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Hn=si.multipleReferences)!==null&&Hn!==void 0?Hn:C(si.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(si.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(si.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(si.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(si.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(si.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class K extends p{constructor(){const Be={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",Be,{"editor.hover.enabled":{type:"boolean",default:Be.enabled,description:_.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Be.delay,minimum:0,maximum:1e4,description:_.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Be.sticky,description:_.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:Be.hidingDelay,description:_.NC("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:Be.above,description:_.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),delay:a.clampedInt(yt.delay,this.defaultValue.delay,0,1e4),sticky:i(yt.sticky,this.defaultValue.sticky),hidingDelay:a.clampedInt(yt.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:i(yt.above,this.defaultValue.above)}}}class m extends d{constructor(){super(143)}compute(Be,yt,un){return m.computeLayout(yt,{memory:Be.memory,outerWidth:Be.outerWidth,outerHeight:Be.outerHeight,isDominatedByLongLines:Be.isDominatedByLongLines,lineHeight:Be.fontInfo.lineHeight,viewLineCount:Be.viewLineCount,lineNumbersDigitCount:Be.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Be.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Be.fontInfo.maxDigitWidth,pixelRatio:Be.pixelRatio,glyphMarginDecorationLaneCount:Be.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(Be){const yt=Be.height/Be.lineHeight,un=Math.floor(Be.paddingTop/Be.lineHeight);let In=Math.floor(Be.paddingBottom/Be.lineHeight);Be.scrollBeyondLastLine&&(In=Math.max(In,yt-1));const bn=(un+Be.viewLineCount+In)/(Be.pixelRatio*Be.height),Hn=Math.floor(Be.viewLineCount/bn);return{typicalViewportLineCount:yt,extraLinesBeforeFirstLine:un,extraLinesBeyondLastLine:In,desiredRatio:bn,minimapLineCount:Hn}}static _computeMinimapLayout(Be,yt){const un=Be.outerWidth,In=Be.outerHeight,bn=Be.pixelRatio;if(!Be.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(bn*In),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:In};const Hn=yt.stableMinimapLayoutInput,si=Hn&&Be.outerHeight===Hn.outerHeight&&Be.lineHeight===Hn.lineHeight&&Be.typicalHalfwidthCharacterWidth===Hn.typicalHalfwidthCharacterWidth&&Be.pixelRatio===Hn.pixelRatio&&Be.scrollBeyondLastLine===Hn.scrollBeyondLastLine&&Be.paddingTop===Hn.paddingTop&&Be.paddingBottom===Hn.paddingBottom&&Be.minimap.enabled===Hn.minimap.enabled&&Be.minimap.side===Hn.minimap.side&&Be.minimap.size===Hn.minimap.size&&Be.minimap.showSlider===Hn.minimap.showSlider&&Be.minimap.renderCharacters===Hn.minimap.renderCharacters&&Be.minimap.maxColumn===Hn.minimap.maxColumn&&Be.minimap.scale===Hn.minimap.scale&&Be.verticalScrollbarWidth===Hn.verticalScrollbarWidth&&Be.isViewportWrapping===Hn.isViewportWrapping,Yn=Be.lineHeight,mi=Be.typicalHalfwidthCharacterWidth,_i=Be.scrollBeyondLastLine,Wi=Be.minimap.renderCharacters;let Si=bn>=2?Math.round(Be.minimap.scale*2):Be.minimap.scale;const Ki=Be.minimap.maxColumn,bi=Be.minimap.size,Fi=Be.minimap.side,ts=Be.verticalScrollbarWidth,wi=Be.viewLineCount,ns=Be.remainingWidth,wn=Be.isViewportWrapping,qe=Wi?2:3;let Dt=Math.floor(bn*In);const Qt=Dt/bn;let on=!1,Cn=!1,Bn=qe*Si,jn=Si/bn,kt=1;if(bi==="fill"||bi==="fit"){const{typicalViewportLineCount:Di,extraLinesBeforeFirstLine:Ai,extraLinesBeyondLastLine:Ri,desiredRatio:Tn,minimapLineCount:yn}=m.computeContainedMinimapLineCount({viewLineCount:wi,scrollBeyondLastLine:_i,paddingTop:Be.paddingTop,paddingBottom:Be.paddingBottom,height:In,lineHeight:Yn,pixelRatio:bn});if(wi/yn>1)on=!0,Cn=!0,Si=1,Bn=1,jn=Si/bn;else{let Bt=!1,Yt=Si+1;if(bi==="fit"){const fn=Math.ceil((Ai+wi+Ri)*Bn);wn&&si&&ns<=yt.stableFitRemainingWidth?(Bt=!0,Yt=yt.stableFitMaxMinimapScale):Bt=fn>Dt}if(bi==="fill"||Bt){on=!0;const fn=Si;Bn=Math.min(Yn*bn,Math.max(1,Math.floor(1/Tn))),wn&&si&&ns<=yt.stableFitRemainingWidth&&(Yt=yt.stableFitMaxMinimapScale),Si=Math.min(Yt,Math.max(1,Math.floor(Bn/qe))),Si>fn&&(kt=Math.min(2,Si/fn)),jn=Si/bn/kt,Dt=Math.ceil(Math.max(Di,Ai+wi+Ri)*Bn),wn?(yt.stableMinimapLayoutInput=Be,yt.stableFitRemainingWidth=ns,yt.stableFitMaxMinimapScale=Si):(yt.stableMinimapLayoutInput=null,yt.stableFitRemainingWidth=0)}}}const wt=Math.floor(Ki*jn),sn=Math.min(wt,Math.max(0,Math.floor((ns-ts-2)*jn/(mi+jn)))+I);let en=Math.floor(bn*sn);const Un=en/bn;en=Math.floor(en*kt);const ri=Wi?1:2,Jn=Fi==="left"?0:un-sn-ts;return{renderMinimap:ri,minimapLeft:Jn,minimapWidth:sn,minimapHeightIsEditorHeight:on,minimapIsSampling:Cn,minimapScale:Si,minimapLineHeight:Bn,minimapCanvasInnerWidth:en,minimapCanvasInnerHeight:Dt,minimapCanvasOuterWidth:Un,minimapCanvasOuterHeight:Qt}}static computeLayout(Be,yt){const un=yt.outerWidth|0,In=yt.outerHeight|0,bn=yt.lineHeight|0,Hn=yt.lineNumbersDigitCount|0,si=yt.typicalHalfwidthCharacterWidth,Yn=yt.maxDigitWidth,mi=yt.pixelRatio,_i=yt.viewLineCount,Wi=Be.get(135),Si=Wi==="inherit"?Be.get(134):Wi,Ki=Si==="inherit"?Be.get(130):Si,bi=Be.get(133),Fi=yt.isDominatedByLongLines,ts=Be.get(57),wi=Be.get(67).renderType!==0,ns=Be.get(68),wn=Be.get(104),qe=Be.get(83),Dt=Be.get(72),Qt=Be.get(102),on=Qt.verticalScrollbarSize,Cn=Qt.verticalHasArrows,Bn=Qt.arrowSize,jn=Qt.horizontalScrollbarSize,kt=Be.get(43),wt=Be.get(109)!=="never";let sn=Be.get(65);kt&&wt&&(sn+=16);let en=0;if(wi){const et=Math.max(Hn,ns);en=Math.round(et*Yn)}let Un=0;ts&&(Un=bn*yt.glyphMarginDecorationLaneCount);let ri=0,Jn=ri+Un,Di=Jn+en,Ai=Di+sn;const Ri=un-Un-en-sn;let Tn=!1,yn=!1,Nn=-1;Si==="inherit"&&Fi?(Tn=!0,yn=!0):Ki==="on"||Ki==="bounded"?yn=!0:Ki==="wordWrapColumn"&&(Nn=bi);const Bt=m._computeMinimapLayout({outerWidth:un,outerHeight:In,lineHeight:bn,typicalHalfwidthCharacterWidth:si,pixelRatio:mi,scrollBeyondLastLine:wn,paddingTop:qe.top,paddingBottom:qe.bottom,minimap:Dt,verticalScrollbarWidth:on,viewLineCount:_i,remainingWidth:Ri,isViewportWrapping:yn},yt.memory||new D);Bt.renderMinimap!==0&&Bt.minimapLeft===0&&(ri+=Bt.minimapWidth,Jn+=Bt.minimapWidth,Di+=Bt.minimapWidth,Ai+=Bt.minimapWidth);const Yt=Ri-Bt.minimapWidth,fn=Math.max(1,Math.floor((Yt-on-2)/si)),Ht=Cn?Bn:0;return yn&&(Nn=Math.max(1,fn),Ki==="bounded"&&(Nn=Math.min(Nn,bi))),{width:un,height:In,glyphMarginLeft:ri,glyphMarginWidth:Un,glyphMarginDecorationLaneCount:yt.glyphMarginDecorationLaneCount,lineNumbersLeft:Jn,lineNumbersWidth:en,decorationsLeft:Di,decorationsWidth:sn,contentLeft:Ai,contentWidth:Yt,minimap:Bt,viewportColumn:fn,isWordWrapMinified:Tn,isViewportWrapping:yn,wrappingColumn:Nn,verticalScrollbarWidth:on,horizontalScrollbarHeight:jn,overviewRuler:{top:Ht,width:on,height:In-2*Ht,right:0}}}}class J extends p{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[_.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),_.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:_.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Be){return C(Be,"simple",["simple","advanced"])}compute(Be,yt,un){return yt.get(2)===2?"advanced":un}}var X;(function(Lt){Lt.Off="off",Lt.OnCode="onCode",Lt.On="on"})(X||(X={}));class te extends p{constructor(){const Be={enabled:!0,experimental:{showAiIcon:X.Off}};super(64,"lightbulb",Be,{"editor.lightbulb.enabled":{type:"boolean",default:Be.enabled,description:_.NC("codeActions","Enables the Code Action lightbulb in the editor.")},"editor.lightbulb.experimental.showAiIcon":{type:"string",enum:[X.Off,X.OnCode,X.On],default:Be.experimental.showAiIcon,enumDescriptions:[_.NC("editor.lightbulb.showAiIcon.off","Don not show the AI icon."),_.NC("editor.lightbulb.showAiIcon.onCode","Show an AI icon when the code action menu contains an AI action, but only on code."),_.NC("editor.lightbulb.showAiIcon.on","Show an AI icon when the code action menu contains an AI action, on code and empty lines.")],description:_.NC("showAiIcons","Show an AI icon along with the lightbulb when the code action menu contains an AI action.")}})}validate(Be){var yt,un;if(!Be||typeof Be!="object")return this.defaultValue;const In=Be;return{enabled:i(In.enabled,this.defaultValue.enabled),experimental:{showAiIcon:C((yt=In.experimental)===null||yt===void 0?void 0:yt.showAiIcon,(un=this.defaultValue.experimental)===null||un===void 0?void 0:un.showAiIcon,[X.Off,X.OnCode,X.On])}}}}class le extends p{constructor(){const Be={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",Be,{"editor.stickyScroll.enabled":{type:"boolean",default:Be.enabled,description:_.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Be.maxLineCount,minimum:1,maximum:10,description:_.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Be.defaultModel,description:_.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:Be.scrollWithEditor,description:_.NC("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),maxLineCount:a.clampedInt(yt.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:C(yt.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:i(yt.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class ge extends p{constructor(){const Be={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",Be,{"editor.inlayHints.enabled":{type:"string",default:Be.enabled,description:_.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[_.NC("editor.inlayHints.on","Inlay hints are enabled"),_.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",r.dz?"Ctrl+Option":"Ctrl+Alt"),_.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",r.dz?"Ctrl+Option":"Ctrl+Alt"),_.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Be.fontSize,markdownDescription:_.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Be.fontFamily,markdownDescription:_.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Be.padding,description:_.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return typeof yt.enabled=="boolean"&&(yt.enabled=yt.enabled?"on":"off"),{enabled:C(yt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:a.clampedInt(yt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(yt.fontFamily,this.defaultValue.fontFamily),padding:i(yt.padding,this.defaultValue.padding)}}}class we extends p{constructor(){super(65,"lineDecorationsWidth",10)}validate(Be){return typeof Be=="string"&&/^\d+(\.\d+)?ch$/.test(Be)?-parseFloat(Be.substring(0,Be.length-2)):a.clampedInt(Be,this.defaultValue,0,1e3)}compute(Be,yt,un){return un<0?a.clampedInt(-un*Be.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):un}}class pe extends g{constructor(){super(66,"lineHeight",_t.lineHeight,Be=>g.clamp(Be,0,150),{markdownDescription:_.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Be,yt,un){return Be.fontInfo.lineHeight}}class Pe extends p{constructor(){const Be={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",Be,{"editor.minimap.enabled":{type:"boolean",default:Be.enabled,description:_.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Be.autohide,description:_.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),_.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),_.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Be.size,description:_.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Be.side,description:_.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Be.showSlider,description:_.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Be.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Be.renderCharacters,description:_.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Be.maxColumn,description:_.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),autohide:i(yt.autohide,this.defaultValue.autohide),size:C(yt.size,this.defaultValue.size,["proportional","fill","fit"]),side:C(yt.side,this.defaultValue.side,["right","left"]),showSlider:C(yt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:i(yt.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(yt.scale,1,1,3),maxColumn:a.clampedInt(yt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Ne(Lt){return Lt==="ctrlCmd"?r.dz?"metaKey":"ctrlKey":"altKey"}class ae extends p{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{top:a.clampedInt(yt.top,0,0,1e3),bottom:a.clampedInt(yt.bottom,0,0,1e3)}}}class Me extends p{constructor(){const Be={enabled:!0,cycle:!0};super(85,"parameterHints",Be,{"editor.parameterHints.enabled":{type:"boolean",default:Be.enabled,description:_.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Be.cycle,description:_.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),cycle:i(yt.cycle,this.defaultValue.cycle)}}}class ke extends d{constructor(){super(141)}compute(Be,yt,un){return Be.pixelRatio}}class Ue extends p{constructor(){const Be={other:"on",comments:"off",strings:"off"},yt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[_.NC("on","Quick suggestions show inside the suggest widget"),_.NC("inline","Quick suggestions show as ghost text"),_.NC("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",Be,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:yt,default:Be.strings,description:_.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:yt,default:Be.comments,description:_.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:yt,default:Be.other,description:_.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Be,markdownDescription:_.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Be}validate(Be){if(typeof Be=="boolean"){const mi=Be?"on":"off";return{comments:mi,strings:mi,other:mi}}if(!Be||typeof Be!="object")return this.defaultValue;const{other:yt,comments:un,strings:In}=Be,bn=["on","inline","off"];let Hn,si,Yn;return typeof yt=="boolean"?Hn=yt?"on":"off":Hn=C(yt,this.defaultValue.other,bn),typeof un=="boolean"?si=un?"on":"off":si=C(un,this.defaultValue.comments,bn),typeof In=="boolean"?Yn=In?"on":"off":Yn=C(In,this.defaultValue.strings,bn),{other:Hn,comments:si,strings:Yn}}}class Le extends p{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.NC("lineNumbers.off","Line numbers are not rendered."),_.NC("lineNumbers.on","Line numbers are rendered as absolute number."),_.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),_.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:_.NC("lineNumbers","Controls the display of line numbers.")})}validate(Be){let yt=this.defaultValue.renderType,un=this.defaultValue.renderFn;return typeof Be!="undefined"&&(typeof Be=="function"?(yt=4,un=Be):Be==="interval"?yt=3:Be==="relative"?yt=2:Be==="on"?yt=1:yt=0),{renderType:yt,renderFn:un}}}function ie(Lt){const Be=Lt.get(97);return Be==="editable"?Lt.get(90):Be!=="on"}class ce extends p{constructor(){const Be=[],yt={type:"number",description:_.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",Be,{type:"array",items:{anyOf:[yt,{type:["object"],properties:{column:yt,color:{type:"string",description:_.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Be,description:_.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Be){if(Array.isArray(Be)){const yt=[];for(const un of Be)if(typeof un=="number")yt.push({column:a.clampedInt(un,0,0,1e4),color:null});else if(un&&typeof un=="object"){const In=un;yt.push({column:a.clampedInt(In.column,0,0,1e4),color:In.color})}return yt.sort((un,In)=>un.column-In.column),yt}return this.defaultValue}}class Re extends p{constructor(){super(91,"readOnlyMessage",void 0)}validate(Be){return!Be||typeof Be!="object"?this.defaultValue:Be}}function ye(Lt,Be){if(typeof Lt!="string")return Be;switch(Lt){case"hidden":return 2;case"visible":return 3;default:return 1}}class Se extends p{constructor(){const Be={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",Be,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),_.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),_.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:_.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),_.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),_.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:_.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Be.verticalScrollbarSize,description:_.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Be.horizontalScrollbarSize,description:_.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Be.scrollByPage,description:_.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:Be.ignoreHorizontalScrollbarInContentHeight,description:_.NC("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be,un=a.clampedInt(yt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),In=a.clampedInt(yt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(yt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ye(yt.vertical,this.defaultValue.vertical),horizontal:ye(yt.horizontal,this.defaultValue.horizontal),useShadows:i(yt.useShadows,this.defaultValue.useShadows),verticalHasArrows:i(yt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:i(yt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:i(yt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:i(yt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:un,horizontalSliderSize:a.clampedInt(yt.horizontalSliderSize,un,0,1e3),verticalScrollbarSize:In,verticalSliderSize:a.clampedInt(yt.verticalSliderSize,In,0,1e3),scrollByPage:i(yt.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:i(yt.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}const me="inUntrustedWorkspace",he={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class se extends p{constructor(){const Be={nonBasicASCII:me,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:me,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",Be,{[he.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,me],default:Be.nonBasicASCII,description:_.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[he.invisibleCharacters]:{restricted:!0,type:"boolean",default:Be.invisibleCharacters,description:_.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[he.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Be.ambiguousCharacters,description:_.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[he.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,me],default:Be.includeComments,description:_.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[he.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,me],default:Be.includeStrings,description:_.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[he.allowedCharacters]:{restricted:!0,type:"object",default:Be.allowedCharacters,description:_.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[he.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Be.allowedLocales,description:_.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Be,yt){let un=!1;yt.allowedCharacters&&Be&&(U.fS(Be.allowedCharacters,yt.allowedCharacters)||(Be=Ni(Xn({},Be),{allowedCharacters:yt.allowedCharacters}),un=!0)),yt.allowedLocales&&Be&&(U.fS(Be.allowedLocales,yt.allowedLocales)||(Be=Ni(Xn({},Be),{allowedLocales:yt.allowedLocales}),un=!0));const In=super.applyUpdate(Be,yt);return un?new o(In.newValue,!0):In}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{nonBasicASCII:Oe(yt.nonBasicASCII,me,[!0,!1,me]),invisibleCharacters:i(yt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:i(yt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Oe(yt.includeComments,me,[!0,!1,me]),includeStrings:Oe(yt.includeStrings,me,[!0,!1,me]),allowedCharacters:this.validateBooleanMap(Be.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Be.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Be,yt){if(typeof Be!="object"||!Be)return yt;const un={};for(const[In,bn]of Object.entries(Be))bn===!0&&(un[In]=!0);return un}}class ve extends p{constructor(){const Be={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",Be,{"editor.inlineSuggest.enabled":{type:"boolean",default:Be.enabled,description:_.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Be.showToolbar,enum:["always","onHover","never"],enumDescriptions:[_.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),_.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),_.NC("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:_.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Be.suppressSuggestions,description:_.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),mode:C(yt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:C(yt.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:i(yt.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:i(yt.keepOnBlur,this.defaultValue.keepOnBlur)}}}class xe extends p{constructor(){const Be={enabled:w.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:w.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",Be,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Be.enabled,markdownDescription:_.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Be.independentColorPoolPerBracketType,description:_.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:i(yt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class je extends p{constructor(){const Be={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",Be,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[_.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),_.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),_.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Be.bracketPairs,description:_.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[_.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),_.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),_.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Be.bracketPairsHorizontal,description:_.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Be.highlightActiveBracketPair,description:_.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Be.indentation,description:_.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[_.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),_.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),_.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Be.highlightActiveIndentation,description:_.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{bracketPairs:Oe(yt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Oe(yt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:i(yt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:i(yt.indentation,this.defaultValue.indentation),highlightActiveIndentation:Oe(yt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Oe(Lt,Be,yt){const un=yt.indexOf(Lt);return un===-1?Be:yt[un]}class Ze extends p{constructor(){const Be={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",Be,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),_.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Be.insertMode,description:_.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Be.filterGraceful,description:_.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Be.localityBonus,description:_.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Be.shareSuggestSelections,markdownDescription:_.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[_.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),_.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),_.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),_.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Be.selectionMode,markdownDescription:_.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Be.snippetsPreventQuickSuggestions,description:_.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Be.showIcons,description:_.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Be.showStatusBar,description:_.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Be.preview,description:_.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Be.showInlineDetails,description:_.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{insertMode:C(yt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:i(yt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:i(yt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:i(yt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:i(yt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:C(yt.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:i(yt.showIcons,this.defaultValue.showIcons),showStatusBar:i(yt.showStatusBar,this.defaultValue.showStatusBar),preview:i(yt.preview,this.defaultValue.preview),previewMode:C(yt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:i(yt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:i(yt.showMethods,this.defaultValue.showMethods),showFunctions:i(yt.showFunctions,this.defaultValue.showFunctions),showConstructors:i(yt.showConstructors,this.defaultValue.showConstructors),showDeprecated:i(yt.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:i(yt.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:i(yt.showFields,this.defaultValue.showFields),showVariables:i(yt.showVariables,this.defaultValue.showVariables),showClasses:i(yt.showClasses,this.defaultValue.showClasses),showStructs:i(yt.showStructs,this.defaultValue.showStructs),showInterfaces:i(yt.showInterfaces,this.defaultValue.showInterfaces),showModules:i(yt.showModules,this.defaultValue.showModules),showProperties:i(yt.showProperties,this.defaultValue.showProperties),showEvents:i(yt.showEvents,this.defaultValue.showEvents),showOperators:i(yt.showOperators,this.defaultValue.showOperators),showUnits:i(yt.showUnits,this.defaultValue.showUnits),showValues:i(yt.showValues,this.defaultValue.showValues),showConstants:i(yt.showConstants,this.defaultValue.showConstants),showEnums:i(yt.showEnums,this.defaultValue.showEnums),showEnumMembers:i(yt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:i(yt.showKeywords,this.defaultValue.showKeywords),showWords:i(yt.showWords,this.defaultValue.showWords),showColors:i(yt.showColors,this.defaultValue.showColors),showFiles:i(yt.showFiles,this.defaultValue.showFiles),showReferences:i(yt.showReferences,this.defaultValue.showReferences),showFolders:i(yt.showFolders,this.defaultValue.showFolders),showTypeParameters:i(yt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:i(yt.showSnippets,this.defaultValue.showSnippets),showUsers:i(yt.showUsers,this.defaultValue.showUsers),showIssues:i(yt.showIssues,this.defaultValue.showIssues)}}}class it extends p{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:_.NC("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(Be){return!Be||typeof Be!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:i(Be.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:i(Be.selectSubwords,this.defaultValue.selectSubwords)}}}class Et extends p{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[_.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),_.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),_.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),_.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:_.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Be){switch(Be){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Be,yt,un){return yt.get(2)===2?0:un}}class st extends d{constructor(){super(144)}compute(Be,yt,un){const In=yt.get(143);return{isDominatedByLongLines:Be.isDominatedByLongLines,isWordWrapMinified:In.isWordWrapMinified,isViewportWrapping:In.isViewportWrapping,wrappingColumn:In.wrappingColumn}}}class pt extends p{constructor(){const Be={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",Be,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Be.enabled,markdownDescription:_.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `Shift`-key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:_.NC("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[_.NC("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),_.NC("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),showDropSelector:C(yt.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Mt extends p{constructor(){const Be={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",Be,{"editor.pasteAs.enabled":{type:"boolean",default:Be.enabled,markdownDescription:_.NC("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:_.NC("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[_.NC("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),_.NC("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const yt=Be;return{enabled:i(yt.enabled,this.defaultValue.enabled),showPasteSelector:C(yt.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const qt="Consolas, 'Courier New', monospace",Ft="Menlo, Monaco, 'Courier New', monospace",Xt="'Droid Sans Mono', 'monospace', monospace",_t={fontFamily:r.dz?Ft:r.IJ?Xt:qt,fontWeight:"normal",fontSize:r.dz?12:14,lineHeight:0,letterSpacing:0},nt=[];function tt(Lt){return nt[Lt.id]=Lt,Lt}const xt={acceptSuggestionOnCommitCharacter:tt(new f(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:tt(new E(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:_.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:tt(new B),accessibilityPageSize:tt(new a(3,"accessibilityPageSize",10,1,1073741824,{description:_.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:tt(new y(4,"ariaLabel",_.NC("editorViewAccessibleLabel","Editor content"))),ariaRequired:tt(new f(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:tt(new f(8,"screenReaderAnnounceInlineSuggestion",!0,{description:_.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:tt(new E(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),_.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:_.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:tt(new E(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.NC("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),_.NC("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:_.NC("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:tt(new E(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:_.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:tt(new E(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:_.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:tt(new E(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),_.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:_.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:tt(new A(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],N,{enumDescriptions:[_.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),_.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),_.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),_.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),_.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:_.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:tt(new f(13,"automaticLayout",!1)),autoSurround:tt(new E(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),_.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),_.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:_.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:tt(new xe),bracketPairGuides:tt(new je),stickyTabStops:tt(new f(115,"stickyTabStops",!1,{description:_.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:tt(new f(17,"codeLens",!0,{description:_.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:tt(new y(18,"codeLensFontFamily","",{description:_.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:tt(new a(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:_.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:tt(new f(20,"colorDecorators",!0,{description:_.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:tt(new E(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[_.NC("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),_.NC("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),_.NC("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:_.NC("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:tt(new a(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:_.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:tt(new f(22,"columnSelection",!1,{description:_.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:tt(new W),contextmenu:tt(new f(24,"contextmenu",!0)),copyWithSyntaxHighlighting:tt(new f(25,"copyWithSyntaxHighlighting",!0,{description:_.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:tt(new A(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],$,{description:_.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:tt(new E(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[_.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),_.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),_.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:_.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:tt(new A(28,"cursorStyle",Y.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],R,{description:_.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:tt(new a(29,"cursorSurroundingLines",0,0,1073741824,{description:_.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:tt(new E(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),_.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:_.NC("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:tt(new a(31,"cursorWidth",0,0,1073741824,{markdownDescription:_.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:tt(new f(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:tt(new f(33,"disableMonospaceOptimizations",!1)),domReadOnly:tt(new f(34,"domReadOnly",!1)),dragAndDrop:tt(new f(35,"dragAndDrop",!0,{description:_.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:tt(new z),dropIntoEditor:tt(new pt),stickyScroll:tt(new le),experimentalWhitespaceRendering:tt(new E(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[_.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),_.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),_.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:_.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:tt(new y(39,"extraEditorClassName","")),fastScrollSensitivity:tt(new g(40,"fastScrollSensitivity",5,Lt=>Lt<=0?5:Lt,{markdownDescription:_.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:tt(new O),fixedOverflowWidgets:tt(new f(42,"fixedOverflowWidgets",!1)),folding:tt(new f(43,"folding",!0,{description:_.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:tt(new E(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),_.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:_.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:tt(new f(45,"foldingHighlight",!0,{description:_.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:tt(new f(46,"foldingImportsByDefault",!1,{description:_.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:tt(new a(47,"foldingMaximumRegions",5e3,10,65e3,{description:_.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:tt(new f(48,"unfoldOnClickAfterEndOfLine",!1,{description:_.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:tt(new y(49,"fontFamily",_t.fontFamily,{description:_.NC("fontFamily","Controls the font family.")})),fontInfo:tt(new V),fontLigatures2:tt(new P),fontSize:tt(new G),fontWeight:tt(new j),fontVariations:tt(new H),formatOnPaste:tt(new f(55,"formatOnPaste",!1,{description:_.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:tt(new f(56,"formatOnType",!1,{description:_.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:tt(new f(57,"glyphMargin",!0,{description:_.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:tt(new F),hideCursorInOverviewRuler:tt(new f(59,"hideCursorInOverviewRuler",!1,{description:_.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:tt(new K),inDiffEditor:tt(new f(61,"inDiffEditor",!1)),letterSpacing:tt(new g(63,"letterSpacing",_t.letterSpacing,Lt=>g.clamp(Lt,-5,20),{description:_.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:tt(new te),lineDecorationsWidth:tt(new we),lineHeight:tt(new pe),lineNumbers:tt(new Le),lineNumbersMinChars:tt(new a(68,"lineNumbersMinChars",5,1,300)),linkedEditing:tt(new f(69,"linkedEditing",!1,{description:_.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:tt(new f(70,"links",!0,{description:_.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:tt(new E(71,"matchBrackets","always",["always","near","never"],{description:_.NC("matchBrackets","Highlight matching brackets.")})),minimap:tt(new Pe),mouseStyle:tt(new E(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:tt(new g(74,"mouseWheelScrollSensitivity",1,Lt=>Lt===0?1:Lt,{markdownDescription:_.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:tt(new f(75,"mouseWheelZoom",!1,{markdownDescription:_.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:tt(new f(76,"multiCursorMergeOverlapping",!0,{description:_.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:tt(new A(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ne,{markdownEnumDescriptions:[_.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),_.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:_.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:tt(new E(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),_.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:_.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:tt(new a(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:_.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:tt(new E(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[_.NC("occurrencesHighlight.off","Does not highlight occurrences."),_.NC("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),_.NC("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:_.NC("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:tt(new f(81,"overviewRulerBorder",!0,{description:_.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:tt(new a(82,"overviewRulerLanes",3,0,3)),padding:tt(new ae),pasteAs:tt(new Mt),parameterHints:tt(new Me),peekWidgetDefaultFocus:tt(new E(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),_.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:_.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:tt(new f(87,"definitionLinkOpensInPeek",!1,{description:_.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:tt(new Ue),quickSuggestionsDelay:tt(new a(89,"quickSuggestionsDelay",10,0,1073741824,{description:_.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:tt(new f(90,"readOnly",!1)),readOnlyMessage:tt(new Re),renameOnType:tt(new f(92,"renameOnType",!1,{description:_.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:_.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:tt(new f(93,"renderControlCharacters",!0,{description:_.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:tt(new E(94,"renderFinalNewline",r.IJ?"dimmed":"on",["off","on","dimmed"],{description:_.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:tt(new E(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:_.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:tt(new f(96,"renderLineHighlightOnlyWhenFocus",!1,{description:_.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:tt(new E(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:tt(new E(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),_.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),_.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:_.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:tt(new a(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:tt(new f(100,"roundedSelection",!0,{description:_.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:tt(new ce),scrollbar:tt(new Se),scrollBeyondLastColumn:tt(new a(103,"scrollBeyondLastColumn",4,0,1073741824,{description:_.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:tt(new f(104,"scrollBeyondLastLine",!0,{description:_.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:tt(new f(105,"scrollPredominantAxis",!0,{description:_.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:tt(new f(106,"selectionClipboard",!0,{description:_.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:r.IJ})),selectionHighlight:tt(new f(107,"selectionHighlight",!0,{description:_.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:tt(new f(108,"selectOnLineNumbers",!0)),showFoldingControls:tt(new E(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[_.NC("showFoldingControls.always","Always show the folding controls."),_.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),_.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:_.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:tt(new f(110,"showUnused",!0,{description:_.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:tt(new f(138,"showDeprecated",!0,{description:_.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:tt(new ge),snippetSuggestions:tt(new E(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),_.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),_.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),_.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:_.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:tt(new it),smoothScrolling:tt(new f(113,"smoothScrolling",!1,{description:_.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:tt(new a(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:tt(new Ze),inlineSuggest:tt(new ve),inlineCompletionsAccessibilityVerbose:tt(new f(147,"inlineCompletionsAccessibilityVerbose",!1,{description:_.NC("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:tt(new a(118,"suggestFontSize",0,0,1e3,{markdownDescription:_.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:tt(new a(119,"suggestLineHeight",0,0,1e3,{markdownDescription:_.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:tt(new f(120,"suggestOnTriggerCharacters",!0,{description:_.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:tt(new E(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.NC("suggestSelection.first","Always select the first suggestion."),_.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),_.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:_.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:tt(new E(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),_.NC("tabCompletion.off","Disable tab completions."),_.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:_.NC("tabCompletion","Enables tab completions.")})),tabIndex:tt(new a(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:tt(new se),unusualLineTerminators:tt(new E(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),_.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),_.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:_.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:tt(new f(126,"useShadowDOM",!0)),useTabStops:tt(new f(127,"useTabStops",!0,{description:_.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:tt(new E(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[_.NC("wordBreak.normal","Use the default line break rule."),_.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:_.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:tt(new y(129,"wordSeparators",c.vu,{description:_.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:tt(new E(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.NC("wordWrap.off","Lines will never wrap."),_.NC("wordWrap.on","Lines will wrap at the viewport width."),_.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),_.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:_.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:tt(new y(131,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:tt(new y(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:tt(new a(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:tt(new E(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:tt(new E(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:tt(new L),defaultColorDecorators:tt(new f(145,"defaultColorDecorators",!1,{markdownDescription:_.NC("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:tt(new ke),tabFocusMode:tt(new f(142,"tabFocusMode",!1,{markdownDescription:_.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:tt(new m),wrappingInfo:tt(new st),wrappingIndent:tt(new Et),wrappingStrategy:tt(new J)}},82334:function(Ot,Ke,e){"use strict";e.d(Ke,{C:function(){return U}});var b=e(4669);const U=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new b.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(r){r=Math.min(Math.max(-5,r),20),this._zoomLevel!==r&&(this._zoomLevel=r,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Ot,Ke,e){"use strict";e.d(Ke,{E4:function(){return _},pR:function(){return M}});var b=e(1432),U=e(64141),r=e(82334);const w=b.dz?1.5:1.35,c=8;class _{static createFromValidatedSettings(p,o,u){const d=p.get(49),n=p.get(53),i=p.get(52),f=p.get(51),v=p.get(54),a=p.get(66),S=p.get(63);return _._create(d,n,i,f,v,a,S,o,u)}static _create(p,o,u,d,n,i,f,v,a){i===0?i=w*u:i<c&&(i=i*u),i=Math.round(i),i<c&&(i=c);const S=1+(a?0:r.C.getZoomLevel()*.1);return u*=S,i*=S,n===U.Bo.TRANSLATE&&(o==="normal"||o==="bold"?n=U.Bo.OFF:(n=`'wght' ${parseInt(o,10)}`,o="normal")),new _({pixelRatio:v,fontFamily:p,fontWeight:o,fontSize:u,fontFeatureSettings:d,fontVariationSettings:n,lineHeight:i,letterSpacing:f})}constructor(p){this._bareFontInfoBrand=void 0,this.pixelRatio=p.pixelRatio,this.fontFamily=String(p.fontFamily),this.fontWeight=String(p.fontWeight),this.fontSize=p.fontSize,this.fontFeatureSettings=p.fontFeatureSettings,this.fontVariationSettings=p.fontVariationSettings,this.lineHeight=p.lineHeight|0,this.letterSpacing=p.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const p=U.hL.fontFamily,o=_._wrapInQuotes(this.fontFamily);return p&&this.fontFamily!==p?`${o}, ${p}`:o}static _wrapInQuotes(p){return/[,"']/.test(p)?p:/[+ ]/.test(p)?`"${p}"`:p}}const I=2;class M extends _{constructor(p,o){super(p),this._editorStylingBrand=void 0,this.version=I,this.isTrusted=o,this.isMonospace=p.isMonospace,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=p.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.maxDigitWidth=p.maxDigitWidth}equals(p){return this.fontFamily===p.fontFamily&&this.fontWeight===p.fontWeight&&this.fontSize===p.fontSize&&this.fontFeatureSettings===p.fontFeatureSettings&&this.fontVariationSettings===p.fontVariationSettings&&this.lineHeight===p.lineHeight&&this.letterSpacing===p.letterSpacing&&this.typicalHalfwidthCharacterWidth===p.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===p.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.maxDigitWidth===p.maxDigitWidth}}},44906:function(Ot,Ke,e){"use strict";e.d(Ke,{N:function(){return U},q:function(){return r}});var b=e(85427);class U{constructor(c){const _=(0,b.K)(c);this._defaultValue=_,this._asciiMap=U._createAsciiMap(_),this._map=new Map}static _createAsciiMap(c){const _=new Uint8Array(256);return _.fill(c),_}set(c,_){const I=(0,b.K)(_);c>=0&&c<256?this._asciiMap[c]=I:this._map.set(c,I)}get(c){return c>=0&&c<256?this._asciiMap[c]:this._map.get(c)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class r{constructor(){this._actual=new U(0)}add(c){this._actual.set(c,1)}has(c){return this._actual.get(c)===1}clear(){return this._actual.clear()}}},7988:function(Ot,Ke,e){"use strict";e.d(Ke,{i:function(){return U}});var b=e(97295);class U{static _nextVisibleColumn(w,c,_){return w===9?U.nextRenderTabStop(c,_):b.K7(w)||b.C8(w)?c+2:c+1}static visibleColumnFromColumn(w,c,_){const I=Math.min(c-1,w.length),M=w.substring(0,I),D=new b.W1(M);let p=0;for(;!D.eol();){const o=b.ZH(M,I,D.offset);D.nextGraphemeLength(),p=this._nextVisibleColumn(o,p,_)}return p}static columnFromVisibleColumn(w,c,_){if(c<=0)return 1;const I=w.length,M=new b.W1(w);let D=0,p=1;for(;!M.eol();){const o=b.ZH(w,I,M.offset);M.nextGraphemeLength();const u=this._nextVisibleColumn(o,D,_),d=M.offset+1;if(u>=c){const n=c-D;return u-c<n?d:p}D=u,p=d}return I+1}static nextRenderTabStop(w,c){return w+c-w%c}static nextIndentTabStop(w,c){return w+c-w%c}static prevRenderTabStop(w,c){return Math.max(0,w-1-(w-1)%c)}static prevIndentTabStop(w,c){return Math.max(0,w-1-(w-1)%c)}}},69386:function(Ot,Ke,e){"use strict";e.d(Ke,{h:function(){return U}});var b=e(24314);class U{static insert(w,c){return{range:new b.e(w.lineNumber,w.column,w.lineNumber,w.column),text:c,forceMoveMarkers:!0}}static delete(w){return{range:w,text:null}}static replace(w,c){return{range:w,text:c}}static replaceMove(w,c){return{range:w,text:c,forceMoveMarkers:!0}}}},8625:function(Ot,Ke,e){"use strict";e.d(Ke,{Bj:function(){return L},CE:function(){return ae},DS:function(){return Re},HV:function(){return je},H_:function(){return S},Jn:function(){return Se},Kh:function(){return c},L7:function(){return xe},Mm:function(){return _},N8:function(){return B},Qb:function(){return he},Re:function(){return we},Tf:function(){return a},To:function(){return ve},UP:function(){return Me},Vs:function(){return Ne},Xy:function(){return A},YF:function(){return me},cK:function(){return N},dI:function(){return d},e9:function(){return C},eS:function(){return pe},e_:function(){return G},f9:function(){return Oe},fY:function(){return u},gS:function(){return v},h1:function(){return g},hw:function(){return n},lK:function(){return ge},lS:function(){return ye},ll:function(){return $},m$:function(){return ce},m1:function(){return Ue},m3:function(){return se},m9:function(){return le},n0:function(){return o},oV:function(){return ie},qe:function(){return E},r0:function(){return ke},ts:function(){return Le},vP:function(){return y},zJ:function(){return Pe},zd:function(){return W},zu:function(){return K},zw:function(){return V}});var b=e(63580),U=e(41264),r=e(73910),w=e(97781);const c=(0,r.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),_=(0,r.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:r.lRK},b.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),I=(0,r.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},b.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),M=(0,r.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:r.xL1,hcLight:r.xL1},b.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),D=(0,r.P6G)("editor.symbolHighlightBackground",{dark:r.MUv,light:r.MUv,hcDark:null,hcLight:null},b.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,r.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:r.xL1,hcLight:r.xL1},b.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),o=(0,r.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:U.Il.black,hcDark:U.Il.white,hcLight:"#0F4A85"},b.NC("caret","Color of the editor cursor.")),u=(0,r.P6G)("editorCursor.background",null,b.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),d=(0,r.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},b.NC("editorWhitespaces","Color of whitespace characters in the editor.")),n=(0,r.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:U.Il.white,hcLight:"#292929"},b.NC("editorLineNumbers","Color of editor line numbers.")),i=(0,r.P6G)("editorIndentGuide.background",{dark:d,light:d,hcDark:d,hcLight:d},b.NC("editorIndentGuides","Color of the editor indentation guides."),!1,b.NC("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),f=(0,r.P6G)("editorIndentGuide.activeBackground",{dark:d,light:d,hcDark:d,hcLight:d},b.NC("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,b.NC("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),v=(0,r.P6G)("editorIndentGuide.background1",{dark:i,light:i,hcDark:i,hcLight:i},b.NC("editorIndentGuides1","Color of the editor indentation guides (1).")),a=(0,r.P6G)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides2","Color of the editor indentation guides (2).")),S=(0,r.P6G)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides3","Color of the editor indentation guides (3).")),g=(0,r.P6G)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides4","Color of the editor indentation guides (4).")),y=(0,r.P6G)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides5","Color of the editor indentation guides (5).")),C=(0,r.P6G)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides6","Color of the editor indentation guides (6).")),E=(0,r.P6G)("editorIndentGuide.activeBackground1",{dark:f,light:f,hcDark:f,hcLight:f},b.NC("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),A=(0,r.P6G)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),N=(0,r.P6G)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),B=(0,r.P6G)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),W=(0,r.P6G)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),$=(0,r.P6G)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),Y=(0,r.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:r.xL1,hcLight:r.xL1},b.NC("editorActiveLineNumber","Color of editor active line number"),!1,b.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),R=(0,r.P6G)("editorLineNumber.activeForeground",{dark:Y,light:Y,hcDark:Y,hcLight:Y},b.NC("editorActiveLineNumber","Color of editor active line number")),L=(0,r.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),z=(0,r.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:U.Il.lightgrey,hcDark:U.Il.white,hcLight:"#292929"},b.NC("editorRuler","Color of the editor rulers.")),O=(0,r.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},b.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),P=(0,r.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},b.NC("editorBracketMatchBackground","Background color behind matching brackets")),H=(0,r.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:r.lRK,hcLight:r.lRK},b.NC("editorBracketMatchBorder","Color for matching brackets boxes")),V=(0,r.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},b.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),G=(0,r.P6G)("editorOverviewRuler.background",null,b.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),j=(0,r.P6G)("editorGutter.background",{dark:r.cvW,light:r.cvW,hcDark:r.cvW,hcLight:r.cvW},b.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),F=(0,r.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:U.Il.fromHex("#fff").transparent(.8),hcLight:r.lRK},b.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),K=(0,r.P6G)("editorUnnecessaryCode.opacity",{dark:U.Il.fromHex("#000a"),light:U.Il.fromHex("#0007"),hcDark:null,hcLight:null},b.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),m=(0,r.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:U.Il.fromHex("#fff").transparent(.8),hcLight:U.Il.fromHex("#292929").transparent(.8)},b.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),J=(0,r.P6G)("editorGhostText.foreground",{dark:U.Il.fromHex("#ffffff56"),light:U.Il.fromHex("#0007"),hcDark:null,hcLight:null},b.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),X=(0,r.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),te=new U.Il(new U.VS(0,122,204,.6)),le=(0,r.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:te,light:te,hcDark:te,hcLight:te},b.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ge=(0,r.P6G)("editorOverviewRuler.errorForeground",{dark:new U.Il(new U.VS(255,18,18,.7)),light:new U.Il(new U.VS(255,18,18,.7)),hcDark:new U.Il(new U.VS(255,50,50,1)),hcLight:"#B5200D"},b.NC("overviewRuleError","Overview ruler marker color for errors.")),we=(0,r.P6G)("editorOverviewRuler.warningForeground",{dark:r.uoC,light:r.uoC,hcDark:r.pW3,hcLight:r.pW3},b.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),pe=(0,r.P6G)("editorOverviewRuler.infoForeground",{dark:r.c63,light:r.c63,hcDark:r.T83,hcLight:r.T83},b.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Pe=(0,r.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},b.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Ne=(0,r.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},b.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ae=(0,r.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},b.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Me=(0,r.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),ke=(0,r.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ue=(0,r.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Le=(0,r.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new U.Il(new U.VS(255,18,18,.8)),light:new U.Il(new U.VS(255,18,18,.8)),hcDark:new U.Il(new U.VS(255,50,50,1)),hcLight:""},b.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ie=(0,r.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ce=(0,r.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Re=(0,r.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),ye=(0,r.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Se=(0,r.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),me=(0,r.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),he=(0,r.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),se=(0,r.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ve=(0,r.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),xe=(0,r.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),je=(0,r.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Oe=(0,r.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Ze=(0,r.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},b.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),it=(0,r.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},b.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,w.Ic)((Et,st)=>{const pt=Et.getColor(r.cvW),Mt=Et.getColor(c),qt=Mt&&!Mt.isTransparent()?Mt:pt;qt&&st.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${qt}; }`)})},23795:function(Ot,Ke,e){"use strict";e.d(Ke,{Q:function(){return b}});function b(U){let r=0,w=0,c=0,_=0;for(let I=0,M=U.length;I<M;I++){const D=U.charCodeAt(I);D===13?(r===0&&(w=I),r++,I+1<M&&U.charCodeAt(I+1)===10?(_|=2,I++):_|=3,c=I+1):D===10&&(_|=1,r===0&&(w=I),r++,c=I+1)}return r===0&&(w=U.length),[r,w,U.length-c,_]}},83158:function(Ot,Ke,e){"use strict";e.d(Ke,{x:function(){return w}});var b=e(97295),U=e(7988);function r(c,_,I){let M=0;for(let p=0;p<c.length;p++)c.charAt(p)==="	"?M=U.i.nextIndentTabStop(M,_):M++;let D="";if(!I){const p=Math.floor(M/_);M=M%_;for(let o=0;o<p;o++)D+="	"}for(let p=0;p<M;p++)D+=" ";return D}function w(c,_,I){let M=b.LC(c);return M===-1&&(M=c.length),r(c.substring(0,M),_,I)+c.substring(M)}},45463:function(Ot,Ke,e){"use strict";e.d(Ke,{i:function(){return _},z:function(){return c}});var b=e(17301),U=e(19247),r=e(24314),w=e(35534);class c{static fromRange(M){return new c(M.startLineNumber,M.endLineNumber)}static fromRangeInclusive(M){return new c(M.startLineNumber,M.endLineNumber+1)}static joinMany(M){if(M.length===0)return[];let D=new _(M[0].slice());for(let p=1;p<M.length;p++)D=D.getUnion(new _(M[p].slice()));return D.ranges}static ofLength(M,D){return new c(M,M+D)}static deserialize(M){return new c(M[0],M[1])}constructor(M,D){if(M>D)throw new b.he(`startLineNumber ${M} cannot be after endLineNumberExclusive ${D}`);this.startLineNumber=M,this.endLineNumberExclusive=D}contains(M){return this.startLineNumber<=M&&M<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(M){return new c(this.startLineNumber+M,this.endLineNumberExclusive+M)}deltaLength(M){return new c(this.startLineNumber,this.endLineNumberExclusive+M)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(M){return new c(Math.min(this.startLineNumber,M.startLineNumber),Math.max(this.endLineNumberExclusive,M.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(M){const D=Math.max(this.startLineNumber,M.startLineNumber),p=Math.min(this.endLineNumberExclusive,M.endLineNumberExclusive);if(D<=p)return new c(D,p)}intersectsStrict(M){return this.startLineNumber<M.endLineNumberExclusive&&M.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(M){return this.startLineNumber<=M.endLineNumberExclusive&&M.startLineNumber<=this.endLineNumberExclusive}equals(M){return this.startLineNumber===M.startLineNumber&&this.endLineNumberExclusive===M.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new r.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new r.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(M){const D=[];for(let p=this.startLineNumber;p<this.endLineNumberExclusive;p++)D.push(M(p));return D}forEach(M){for(let D=this.startLineNumber;D<this.endLineNumberExclusive;D++)M(D)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(M){return this.startLineNumber<=M&&M<this.endLineNumberExclusive}toOffsetRange(){return new U.q(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class _{constructor(M=[]){this._normalizedRanges=M}get ranges(){return this._normalizedRanges}addRange(M){if(M.length===0)return;const D=(0,w.J_)(this._normalizedRanges,o=>o.endLineNumberExclusive>=M.startLineNumber),p=(0,w.Jw)(this._normalizedRanges,o=>o.startLineNumber<=M.endLineNumberExclusive)+1;if(D===p)this._normalizedRanges.splice(D,0,M);else if(D===p-1){const o=this._normalizedRanges[D];this._normalizedRanges[D]=o.join(M)}else{const o=this._normalizedRanges[D].join(this._normalizedRanges[p-1]).join(M);this._normalizedRanges.splice(D,p-D,o)}}contains(M){const D=(0,w.ti)(this._normalizedRanges,p=>p.startLineNumber<=M);return!!D&&D.endLineNumberExclusive>M}intersects(M){const D=(0,w.ti)(this._normalizedRanges,p=>p.startLineNumber<M.endLineNumberExclusive);return!!D&&D.endLineNumberExclusive>M.startLineNumber}getUnion(M){if(this._normalizedRanges.length===0)return M;if(M._normalizedRanges.length===0)return this;const D=[];let p=0,o=0,u=null;for(;p<this._normalizedRanges.length||o<M._normalizedRanges.length;){let d=null;if(p<this._normalizedRanges.length&&o<M._normalizedRanges.length){const n=this._normalizedRanges[p],i=M._normalizedRanges[o];n.startLineNumber<i.startLineNumber?(d=n,p++):(d=i,o++)}else p<this._normalizedRanges.length?(d=this._normalizedRanges[p],p++):(d=M._normalizedRanges[o],o++);u===null?u=d:u.endLineNumberExclusive>=d.startLineNumber?u=new c(u.startLineNumber,Math.max(u.endLineNumberExclusive,d.endLineNumberExclusive)):(D.push(u),u=d)}return u!==null&&D.push(u),new _(D)}subtractFrom(M){const D=(0,w.J_)(this._normalizedRanges,d=>d.endLineNumberExclusive>=M.startLineNumber),p=(0,w.Jw)(this._normalizedRanges,d=>d.startLineNumber<=M.endLineNumberExclusive)+1;if(D===p)return new _([M]);const o=[];let u=M.startLineNumber;for(let d=D;d<p;d++){const n=this._normalizedRanges[d];n.startLineNumber>u&&o.push(new c(u,n.startLineNumber)),u=n.endLineNumberExclusive}return u<M.endLineNumberExclusive&&o.push(new c(u,M.endLineNumberExclusive)),new _(o)}toString(){return this._normalizedRanges.map(M=>M.toString()).join(", ")}getIntersection(M){const D=[];let p=0,o=0;for(;p<this._normalizedRanges.length&&o<M._normalizedRanges.length;){const u=this._normalizedRanges[p],d=M._normalizedRanges[o],n=u.intersect(d);n&&!n.isEmpty&&D.push(n),u.endLineNumberExclusive<d.endLineNumberExclusive?p++:o++}return new _(D)}getWithDelta(M){return new _(this._normalizedRanges.map(D=>D.delta(M)))}}},19247:function(Ot,Ke,e){"use strict";e.d(Ke,{M:function(){return r},q:function(){return U}});var b=e(17301);class U{static addRange(c,_){let I=0;for(;I<_.length&&_[I].endExclusive<c.start;)I++;let M=I;for(;M<_.length&&_[M].start<=c.endExclusive;)M++;if(I===M)_.splice(I,0,c);else{const D=Math.min(c.start,_[I].start),p=Math.max(c.endExclusive,_[M-1].endExclusive);_.splice(I,M-I,new U(D,p))}}static tryCreate(c,_){if(!(c>_))return new U(c,_)}static ofLength(c){return new U(0,c)}static ofStartAndLength(c,_){return new U(c,c+_)}constructor(c,_){if(this.start=c,this.endExclusive=_,c>_)throw new b.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(c){return new U(this.start+c,this.endExclusive+c)}deltaStart(c){return new U(this.start+c,this.endExclusive)}deltaEnd(c){return new U(this.start,this.endExclusive+c)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(c){return this.start===c.start&&this.endExclusive===c.endExclusive}containsRange(c){return this.start<=c.start&&c.endExclusive<=this.endExclusive}contains(c){return this.start<=c&&c<this.endExclusive}join(c){return new U(Math.min(this.start,c.start),Math.max(this.endExclusive,c.endExclusive))}intersect(c){const _=Math.max(this.start,c.start),I=Math.min(this.endExclusive,c.endExclusive);if(_<=I)return new U(_,I)}isBefore(c){return this.endExclusive<=c.start}isAfter(c){return this.start>=c.endExclusive}slice(c){return c.slice(this.start,this.endExclusive)}clip(c){if(this.isEmpty)throw new b.he(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,c))}clipCyclic(c){if(this.isEmpty)throw new b.he(`Invalid clipping range: ${this.toString()}`);return c<this.start?this.endExclusive-(this.start-c)%this.length:c>=this.endExclusive?this.start+(c-this.start)%this.length:c}forEach(c){for(let _=this.start;_<this.endExclusive;_++)c(_)}}class r{constructor(){this._sortedRanges=[]}addRange(c){let _=0;for(;_<this._sortedRanges.length&&this._sortedRanges[_].endExclusive<c.start;)_++;let I=_;for(;I<this._sortedRanges.length&&this._sortedRanges[I].start<=c.endExclusive;)I++;if(_===I)this._sortedRanges.splice(_,0,c);else{const M=Math.min(c.start,this._sortedRanges[_].start),D=Math.max(c.endExclusive,this._sortedRanges[I-1].endExclusive);this._sortedRanges.splice(_,I-_,new U(M,D))}}toString(){return this._sortedRanges.map(c=>c.toString()).join(", ")}intersectsStrict(c){let _=0;for(;_<this._sortedRanges.length&&this._sortedRanges[_].endExclusive<=c.start;)_++;return _<this._sortedRanges.length&&this._sortedRanges[_].start<c.endExclusive}intersectWithRange(c){const _=new r;for(const I of this._sortedRanges){const M=I.intersect(c);M&&_.addRange(M)}return _}intersectWithRangeLength(c){return this.intersectWithRange(c).length}get length(){return this._sortedRanges.reduce((c,_)=>c+_.length,0)}}},50187:function(Ot,Ke,e){"use strict";e.d(Ke,{L:function(){return b}});class b{constructor(r,w){this.lineNumber=r,this.column=w}with(r=this.lineNumber,w=this.column){return r===this.lineNumber&&w===this.column?this:new b(r,w)}delta(r=0,w=0){return this.with(this.lineNumber+r,this.column+w)}equals(r){return b.equals(this,r)}static equals(r,w){return!r&&!w?!0:!!r&&!!w&&r.lineNumber===w.lineNumber&&r.column===w.column}isBefore(r){return b.isBefore(this,r)}static isBefore(r,w){return r.lineNumber<w.lineNumber?!0:w.lineNumber<r.lineNumber?!1:r.column<w.column}isBeforeOrEqual(r){return b.isBeforeOrEqual(this,r)}static isBeforeOrEqual(r,w){return r.lineNumber<w.lineNumber?!0:w.lineNumber<r.lineNumber?!1:r.column<=w.column}static compare(r,w){const c=r.lineNumber|0,_=w.lineNumber|0;if(c===_){const I=r.column|0,M=w.column|0;return I-M}return c-_}clone(){return new b(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(r){return new b(r.lineNumber,r.column)}static isIPosition(r){return r&&typeof r.lineNumber=="number"&&typeof r.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},24314:function(Ot,Ke,e){"use strict";e.d(Ke,{e:function(){return U}});var b=e(50187);class U{constructor(w,c,_,I){w>_||w===_&&c>I?(this.startLineNumber=_,this.startColumn=I,this.endLineNumber=w,this.endColumn=c):(this.startLineNumber=w,this.startColumn=c,this.endLineNumber=_,this.endColumn=I)}isEmpty(){return U.isEmpty(this)}static isEmpty(w){return w.startLineNumber===w.endLineNumber&&w.startColumn===w.endColumn}containsPosition(w){return U.containsPosition(this,w)}static containsPosition(w,c){return!(c.lineNumber<w.startLineNumber||c.lineNumber>w.endLineNumber||c.lineNumber===w.startLineNumber&&c.column<w.startColumn||c.lineNumber===w.endLineNumber&&c.column>w.endColumn)}static strictContainsPosition(w,c){return!(c.lineNumber<w.startLineNumber||c.lineNumber>w.endLineNumber||c.lineNumber===w.startLineNumber&&c.column<=w.startColumn||c.lineNumber===w.endLineNumber&&c.column>=w.endColumn)}containsRange(w){return U.containsRange(this,w)}static containsRange(w,c){return!(c.startLineNumber<w.startLineNumber||c.endLineNumber<w.startLineNumber||c.startLineNumber>w.endLineNumber||c.endLineNumber>w.endLineNumber||c.startLineNumber===w.startLineNumber&&c.startColumn<w.startColumn||c.endLineNumber===w.endLineNumber&&c.endColumn>w.endColumn)}strictContainsRange(w){return U.strictContainsRange(this,w)}static strictContainsRange(w,c){return!(c.startLineNumber<w.startLineNumber||c.endLineNumber<w.startLineNumber||c.startLineNumber>w.endLineNumber||c.endLineNumber>w.endLineNumber||c.startLineNumber===w.startLineNumber&&c.startColumn<=w.startColumn||c.endLineNumber===w.endLineNumber&&c.endColumn>=w.endColumn)}plusRange(w){return U.plusRange(this,w)}static plusRange(w,c){let _,I,M,D;return c.startLineNumber<w.startLineNumber?(_=c.startLineNumber,I=c.startColumn):c.startLineNumber===w.startLineNumber?(_=c.startLineNumber,I=Math.min(c.startColumn,w.startColumn)):(_=w.startLineNumber,I=w.startColumn),c.endLineNumber>w.endLineNumber?(M=c.endLineNumber,D=c.endColumn):c.endLineNumber===w.endLineNumber?(M=c.endLineNumber,D=Math.max(c.endColumn,w.endColumn)):(M=w.endLineNumber,D=w.endColumn),new U(_,I,M,D)}intersectRanges(w){return U.intersectRanges(this,w)}static intersectRanges(w,c){let _=w.startLineNumber,I=w.startColumn,M=w.endLineNumber,D=w.endColumn;const p=c.startLineNumber,o=c.startColumn,u=c.endLineNumber,d=c.endColumn;return _<p?(_=p,I=o):_===p&&(I=Math.max(I,o)),M>u?(M=u,D=d):M===u&&(D=Math.min(D,d)),_>M||_===M&&I>D?null:new U(_,I,M,D)}equalsRange(w){return U.equalsRange(this,w)}static equalsRange(w,c){return!w&&!c?!0:!!w&&!!c&&w.startLineNumber===c.startLineNumber&&w.startColumn===c.startColumn&&w.endLineNumber===c.endLineNumber&&w.endColumn===c.endColumn}getEndPosition(){return U.getEndPosition(this)}static getEndPosition(w){return new b.L(w.endLineNumber,w.endColumn)}getStartPosition(){return U.getStartPosition(this)}static getStartPosition(w){return new b.L(w.startLineNumber,w.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(w,c){return new U(this.startLineNumber,this.startColumn,w,c)}setStartPosition(w,c){return new U(w,c,this.endLineNumber,this.endColumn)}collapseToStart(){return U.collapseToStart(this)}static collapseToStart(w){return new U(w.startLineNumber,w.startColumn,w.startLineNumber,w.startColumn)}collapseToEnd(){return U.collapseToEnd(this)}static collapseToEnd(w){return new U(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn)}delta(w){return new U(this.startLineNumber+w,this.startColumn,this.endLineNumber+w,this.endColumn)}static fromPositions(w,c=w){return new U(w.lineNumber,w.column,c.lineNumber,c.column)}static lift(w){return w?new U(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn):null}static isIRange(w){return w&&typeof w.startLineNumber=="number"&&typeof w.startColumn=="number"&&typeof w.endLineNumber=="number"&&typeof w.endColumn=="number"}static areIntersectingOrTouching(w,c){return!(w.endLineNumber<c.startLineNumber||w.endLineNumber===c.startLineNumber&&w.endColumn<c.startColumn||c.endLineNumber<w.startLineNumber||c.endLineNumber===w.startLineNumber&&c.endColumn<w.startColumn)}static areIntersecting(w,c){return!(w.endLineNumber<c.startLineNumber||w.endLineNumber===c.startLineNumber&&w.endColumn<=c.startColumn||c.endLineNumber<w.startLineNumber||c.endLineNumber===w.startLineNumber&&c.endColumn<=w.startColumn)}static compareRangesUsingStarts(w,c){if(w&&c){const M=w.startLineNumber|0,D=c.startLineNumber|0;if(M===D){const p=w.startColumn|0,o=c.startColumn|0;if(p===o){const u=w.endLineNumber|0,d=c.endLineNumber|0;if(u===d){const n=w.endColumn|0,i=c.endColumn|0;return n-i}return u-d}return p-o}return M-D}return(w?1:0)-(c?1:0)}static compareRangesUsingEnds(w,c){return w.endLineNumber===c.endLineNumber?w.endColumn===c.endColumn?w.startLineNumber===c.startLineNumber?w.startColumn-c.startColumn:w.startLineNumber-c.startLineNumber:w.endColumn-c.endColumn:w.endLineNumber-c.endLineNumber}static spansMultipleLines(w){return w.endLineNumber>w.startLineNumber}toJSON(){return this}}},3860:function(Ot,Ke,e){"use strict";e.d(Ke,{Y:function(){return r}});var b=e(50187),U=e(24314);class r extends U.e{constructor(c,_,I,M){super(c,_,I,M),this.selectionStartLineNumber=c,this.selectionStartColumn=_,this.positionLineNumber=I,this.positionColumn=M}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(c){return r.selectionsEqual(this,c)}static selectionsEqual(c,_){return c.selectionStartLineNumber===_.selectionStartLineNumber&&c.selectionStartColumn===_.selectionStartColumn&&c.positionLineNumber===_.positionLineNumber&&c.positionColumn===_.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(c,_){return this.getDirection()===0?new r(this.startLineNumber,this.startColumn,c,_):new r(c,_,this.startLineNumber,this.startColumn)}getPosition(){return new b.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new b.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(c,_){return this.getDirection()===0?new r(c,_,this.endLineNumber,this.endColumn):new r(this.endLineNumber,this.endColumn,c,_)}static fromPositions(c,_=c){return new r(c.lineNumber,c.column,_.lineNumber,_.column)}static fromRange(c,_){return _===0?new r(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn):new r(c.endLineNumber,c.endColumn,c.startLineNumber,c.startColumn)}static liftSelection(c){return new r(c.selectionStartLineNumber,c.selectionStartColumn,c.positionLineNumber,c.positionColumn)}static selectionsArrEqual(c,_){if(c&&!_||!c&&_)return!1;if(!c&&!_)return!0;if(c.length!==_.length)return!1;for(let I=0,M=c.length;I<M;I++)if(!this.selectionsEqual(c[I],_[I]))return!1;return!0}static isISelection(c){return c&&typeof c.selectionStartLineNumber=="number"&&typeof c.selectionStartColumn=="number"&&typeof c.positionLineNumber=="number"&&typeof c.positionColumn=="number"}static createWithDirection(c,_,I,M,D){return D===0?new r(c,_,I,M):new r(I,M,c,_)}}},50072:function(Ot,Ke,e){"use strict";e.d(Ke,{HT:function(){return u},kH:function(){return p},oe:function(){return D}});var b=e(97295),U=e(1432),r=e(53060);let w;function c(){return w||(w=new TextDecoder("UTF-16LE")),w}let _;function I(){return _||(_=new TextDecoder("UTF-16BE")),_}let M;function D(){return M||(M=U.r()?c():I()),M}function p(d,n,i){const f=new Uint16Array(d.buffer,n,i);return i>0&&(f[0]===65279||f[0]===65534)?o(d,n,i):c().decode(f)}function o(d,n,i){const f=[];let v=0;for(let a=0;a<i;a++){const S=r.mP(d,n);n+=2,f[v++]=String.fromCharCode(S)}return f.join("")}class u{constructor(n){this._capacity=n|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const n=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return D().decode(n)}_flushBuffer(){const n=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[n]:this._completedStrings[this._completedStrings.length]=n}appendCharCode(n){const i=this._capacity-this._bufferLength;i<=1&&(i===0||b.ZG(n))&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendASCIICharCode(n){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendString(n){const i=n.length;if(this._bufferLength+i>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=n;return}for(let f=0;f<i;f++)this._buffer[this._bufferLength++]=n.charCodeAt(f)}}},93033:function(Ot,Ke,e){"use strict";e.d(Ke,{b:function(){return c},q:function(){return w}});var b=e(53060),U=e(50072);function r(I){return I.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class w{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(M,D,p,o){this.oldPosition=M,this.oldText=D,this.newPosition=p,this.newText=o}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${r(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${r(this.oldText)}")`:`(replace@${this.oldPosition} "${r(this.oldText)}" with "${r(this.newText)}")`}static _writeStringSize(M){return 4+2*M.length}static _writeString(M,D,p){const o=D.length;b.T4(M,o,p),p+=4;for(let u=0;u<o;u++)b.oq(M,D.charCodeAt(u),p),p+=2;return p}static _readString(M,D){const p=b.Ag(M,D);return D+=4,(0,U.kH)(M,D,p)}writeSize(){return 4+4+w._writeStringSize(this.oldText)+w._writeStringSize(this.newText)}write(M,D){return b.T4(M,this.oldPosition,D),D+=4,b.T4(M,this.newPosition,D),D+=4,D=w._writeString(M,this.oldText,D),D=w._writeString(M,this.newText,D),D}static read(M,D,p){const o=b.Ag(M,D);D+=4;const u=b.Ag(M,D);D+=4;const d=w._readString(M,D);D+=w._writeStringSize(d);const n=w._readString(M,D);return D+=w._writeStringSize(n),p.push(new w(o,d,u,n)),D}}function c(I,M){return I===null||I.length===0?M:new _(I,M).compress()}class _{constructor(M,D){this._prevEdits=M,this._currEdits=D,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let M=0,D=0,p=this._getPrev(M),o=this._getCurr(D);for(;M<this._prevLen||D<this._currLen;){if(p===null){this._acceptCurr(o),o=this._getCurr(++D);continue}if(o===null){this._acceptPrev(p),p=this._getPrev(++M);continue}if(o.oldEnd<=p.newPosition){this._acceptCurr(o),o=this._getCurr(++D);continue}if(p.newEnd<=o.oldPosition){this._acceptPrev(p),p=this._getPrev(++M);continue}if(o.oldPosition<p.newPosition){const[f,v]=_._splitCurr(o,p.newPosition-o.oldPosition);this._acceptCurr(f),o=v;continue}if(p.newPosition<o.oldPosition){const[f,v]=_._splitPrev(p,o.oldPosition-p.newPosition);this._acceptPrev(f),p=v;continue}let n,i;if(o.oldEnd===p.newEnd)n=p,i=o,p=this._getPrev(++M),o=this._getCurr(++D);else if(o.oldEnd<p.newEnd){const[f,v]=_._splitPrev(p,o.oldLength);n=f,i=o,p=v,o=this._getCurr(++D)}else{const[f,v]=_._splitCurr(o,p.newLength);n=p,i=f,p=this._getPrev(++M),o=v}this._result[this._resultLen++]=new w(n.oldPosition,n.oldText,i.newPosition,i.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=i.newLength-i.oldLength}const u=_._merge(this._result);return _._removeNoOps(u)}_acceptCurr(M){this._result[this._resultLen++]=_._rebaseCurr(this._prevDeltaOffset,M),this._currDeltaOffset+=M.newLength-M.oldLength}_getCurr(M){return M<this._currLen?this._currEdits[M]:null}_acceptPrev(M){this._result[this._resultLen++]=_._rebasePrev(this._currDeltaOffset,M),this._prevDeltaOffset+=M.newLength-M.oldLength}_getPrev(M){return M<this._prevLen?this._prevEdits[M]:null}static _rebaseCurr(M,D){return new w(D.oldPosition-M,D.oldText,D.newPosition,D.newText)}static _rebasePrev(M,D){return new w(D.oldPosition,D.oldText,D.newPosition+M,D.newText)}static _splitPrev(M,D){const p=M.newText.substr(0,D),o=M.newText.substr(D);return[new w(M.oldPosition,M.oldText,M.newPosition,p),new w(M.oldEnd,"",M.newPosition+D,o)]}static _splitCurr(M,D){const p=M.oldText.substr(0,D),o=M.oldText.substr(D);return[new w(M.oldPosition,p,M.newPosition,M.newText),new w(M.oldPosition+D,o,M.newEnd,"")]}static _merge(M){if(M.length===0)return M;const D=[];let p=0,o=M[0];for(let u=1;u<M.length;u++){const d=M[u];o.oldEnd===d.oldPosition?o=new w(o.oldPosition,o.oldText+d.oldText,o.newPosition,o.newText+d.newText):(D[p++]=o,o=d)}return D[p++]=o,D}static _removeNoOps(M){if(M.length===0)return M;const D=[];let p=0;for(let o=0;o<M.length;o++){const u=M[o];u.oldText!==u.newText&&(D[p++]=u)}return D}}},22075:function(Ot,Ke,e){"use strict";e.d(Ke,{D:function(){return b}});const b={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},24929:function(Ot,Ke,e){"use strict";e.d(Ke,{u:function(){return w}});var b=e(44906);class U extends b.N{constructor(_){super(0);for(let I=0,M=_.length;I<M;I++)this.set(_.charCodeAt(I),2);this.set(32,1),this.set(9,1)}}function r(c){const _={};return I=>(_.hasOwnProperty(I)||(_[I]=c(I)),_[I])}const w=r(c=>new U(c))},270:function(Ot,Ke,e){"use strict";e.d(Ke,{Af:function(){return c},eq:function(){return _},t2:function(){return M},vu:function(){return r}});var b=e(53725),U=e(91741);const r="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function w(p=""){let o="(-?\\d*\\.\\d\\w*)|([^";for(const u of r)p.indexOf(u)>=0||(o+="\\"+u);return o+="\\s]+)",new RegExp(o,"g")}const c=w();function _(p){let o=c;if(p&&p instanceof RegExp)if(p.global)o=p;else{let u="g";p.ignoreCase&&(u+="i"),p.multiline&&(u+="m"),p.unicode&&(u+="u"),o=new RegExp(p.source,u)}return o.lastIndex=0,o}const I=new U.S;I.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function M(p,o,u,d,n){if(o=_(o),n||(n=b.$.first(I)),u.length>n.maxLen){let S=p-n.maxLen/2;return S<0?S=0:d+=S,u=u.substring(S,p+n.maxLen/2),M(p,o,u,d,n)}const i=Date.now(),f=p-1-d;let v=-1,a=null;for(let S=1;!(Date.now()-i>=n.timeBudget);S++){const g=f-n.windowSize*S;o.lastIndex=Math.max(0,g);const y=D(o,u,f,v);if(!y&&a||(a=y,g<=0))break;v=g}if(a){const S={word:a[0],startColumn:d+1+a.index,endColumn:d+1+a.index+a[0].length};return o.lastIndex=0,S}return null}function D(p,o,u,d){let n;for(;n=p.exec(o);){const i=n.index||0;if(i<=u&&p.lastIndex>=u)return n;if(d>0&&i>d)return null}return null}},55343:function(Ot,Ke,e){"use strict";e.d(Ke,{LM:function(){return p},LN:function(){return f},Tp:function(){return i},Vi:function(){return o},rS:function(){return n}});var b=e(50187),U=e(24314),r=e(3860),w=e(19111),c=e(7988),_=e(83158);const I=()=>!0,M=()=>!1,D=v=>v===" "||v==="	";class p{static shouldRecreate(a){return a.hasChanged(143)||a.hasChanged(129)||a.hasChanged(37)||a.hasChanged(76)||a.hasChanged(78)||a.hasChanged(79)||a.hasChanged(6)||a.hasChanged(7)||a.hasChanged(11)||a.hasChanged(9)||a.hasChanged(10)||a.hasChanged(14)||a.hasChanged(127)||a.hasChanged(50)||a.hasChanged(90)}constructor(a,S,g,y){var C;this.languageConfigurationService=y,this._cursorMoveConfigurationBrand=void 0,this._languageId=a;const E=g.options,A=E.get(143),N=E.get(50);this.readOnly=E.get(90),this.tabSize=S.tabSize,this.indentSize=S.indentSize,this.insertSpaces=S.insertSpaces,this.stickyTabStops=E.get(115),this.lineHeight=N.lineHeight,this.typicalHalfwidthCharacterWidth=N.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(A.height/this.lineHeight)-2),this.useTabStops=E.get(127),this.wordSeparators=E.get(129),this.emptySelectionClipboard=E.get(37),this.copyWithSyntaxHighlighting=E.get(25),this.multiCursorMergeOverlapping=E.get(76),this.multiCursorPaste=E.get(78),this.multiCursorLimit=E.get(79),this.autoClosingBrackets=E.get(6),this.autoClosingComments=E.get(7),this.autoClosingQuotes=E.get(11),this.autoClosingDelete=E.get(9),this.autoClosingOvertype=E.get(10),this.autoSurround=E.get(14),this.autoIndent=E.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(a,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(a,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(a,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(a).getAutoClosingPairs();const B=this.languageConfigurationService.getLanguageConfiguration(a).getSurroundingPairs();if(B)for(const $ of B)this.surroundingPairs[$.open]=$.close;const W=this.languageConfigurationService.getLanguageConfiguration(a).comments;this.blockCommentStartToken=(C=W==null?void 0:W.blockCommentStartToken)!==null&&C!==void 0?C:null}get electricChars(){var a;if(!this._electricChars){this._electricChars={};const S=(a=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||a===void 0?void 0:a.getElectricCharacters();if(S)for(const g of S)this._electricChars[g]=!0}return this._electricChars}onElectricCharacter(a,S,g){const y=(0,w.wH)(S,g-1),C=this.languageConfigurationService.getLanguageConfiguration(y.languageId).electricCharacter;return C?C.onElectricCharacter(a,y,g-y.firstCharOffset):null}normalizeIndentation(a){return(0,_.x)(a,this.indentSize,this.insertSpaces)}_getShouldAutoClose(a,S,g){switch(S){case"beforeWhitespace":return D;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(a,g);case"always":return I;case"never":return M}}_getLanguageDefinedShouldAutoClose(a,S){const g=this.languageConfigurationService.getLanguageConfiguration(a).getAutoCloseBeforeSet(S);return y=>g.indexOf(y)!==-1}visibleColumnFromColumn(a,S){return c.i.visibleColumnFromColumn(a.getLineContent(S.lineNumber),S.column,this.tabSize)}columnFromVisibleColumn(a,S,g){const y=c.i.columnFromVisibleColumn(a.getLineContent(S),g,this.tabSize),C=a.getLineMinColumn(S);if(y<C)return C;const E=a.getLineMaxColumn(S);return y>E?E:y}}class o{static fromModelState(a){return new u(a)}static fromViewState(a){return new d(a)}static fromModelSelection(a){const S=r.Y.liftSelection(a),g=new n(U.e.fromPositions(S.getSelectionStart()),0,0,S.getPosition(),0);return o.fromModelState(g)}static fromModelSelections(a){const S=[];for(let g=0,y=a.length;g<y;g++)S[g]=this.fromModelSelection(a[g]);return S}constructor(a,S){this._cursorStateBrand=void 0,this.modelState=a,this.viewState=S}equals(a){return this.viewState.equals(a.viewState)&&this.modelState.equals(a.modelState)}}class u{constructor(a){this.modelState=a,this.viewState=null}}class d{constructor(a){this.modelState=null,this.viewState=a}}class n{constructor(a,S,g,y,C){this.selectionStart=a,this.selectionStartKind=S,this.selectionStartLeftoverVisibleColumns=g,this.position=y,this.leftoverVisibleColumns=C,this._singleCursorStateBrand=void 0,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(a){return this.selectionStartLeftoverVisibleColumns===a.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===a.leftoverVisibleColumns&&this.selectionStartKind===a.selectionStartKind&&this.position.equals(a.position)&&this.selectionStart.equalsRange(a.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(a,S,g,y){return a?new n(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new b.L(S,g),y):new n(new U.e(S,g,S,g),0,y,new b.L(S,g),y)}static _computeSelection(a,S){return a.isEmpty()||!S.isBeforeOrEqual(a.getStartPosition())?r.Y.fromPositions(a.getStartPosition(),S):r.Y.fromPositions(a.getEndPosition(),S)}}class i{constructor(a,S,g){this._editOperationResultBrand=void 0,this.type=a,this.commands=S,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}function f(v){return v==="'"||v==='"'||v==="`"}},47128:function(Ot,Ke,e){"use strict";e.d(Ke,{l:function(){return U}});var b=e(7988);class U{static whitespaceVisibleColumn(w,c,_){const I=w.length;let M=0,D=-1,p=-1;for(let o=0;o<I;o++){if(o===c)return[D,p,M];switch(M%_===0&&(D=o,p=M),w.charCodeAt(o)){case 32:M+=1;break;case 9:M=b.i.nextRenderTabStop(M,_);break;default:return[-1,-1,-1]}}return c===I?[D,p,M]:[-1,-1,-1]}static atomicPosition(w,c,_,I){const M=w.length,[D,p,o]=U.whitespaceVisibleColumn(w,c,_);if(o===-1)return-1;let u;switch(I){case 0:u=!0;break;case 1:u=!1;break;case 2:if(o%_===0)return c;u=o%_<=_/2;break}if(u){if(D===-1)return-1;let i=p;for(let f=D;f<M;++f){if(i===p+_)return D;switch(w.charCodeAt(f)){case 32:i+=1;break;case 9:i=b.i.nextRenderTabStop(i,_);break;default:return-1}}return i===p+_?D:-1}const d=b.i.nextRenderTabStop(o,_);let n=o;for(let i=c;i<M;i++){if(n===d)return i;switch(w.charCodeAt(i)){case 32:n+=1;break;case 9:n=b.i.nextRenderTabStop(n,_);break;default:return-1}}return n===d?M:-1}}},29436:function(Ot,Ke,e){"use strict";e.d(Ke,{A:function(){return M}});var b=e(97295),U=e(61329),r=e(55343),w=e(7988),c=e(10839),_=e(24314),I=e(50187);class M{static deleteRight(p,o,u,d){const n=[];let i=p!==3;for(let f=0,v=d.length;f<v;f++){const a=d[f];let S=a;if(S.isEmpty()){const g=a.getPosition(),y=c.o.right(o,u,g);S=new _.e(y.lineNumber,y.column,g.lineNumber,g.column)}if(S.isEmpty()){n[f]=null;continue}S.startLineNumber!==S.endLineNumber&&(i=!0),n[f]=new U.T4(S,"")}return[i,n]}static isAutoClosingPairDelete(p,o,u,d,n,i,f){if(o==="never"&&u==="never"||p==="never")return!1;for(let v=0,a=i.length;v<a;v++){const S=i[v],g=S.getPosition();if(!S.isEmpty())return!1;const y=n.getLineContent(g.lineNumber);if(g.column<2||g.column>=y.length+1)return!1;const C=y.charAt(g.column-2),E=d.get(C);if(!E)return!1;if((0,r.LN)(C)){if(u==="never")return!1}else if(o==="never")return!1;const A=y.charAt(g.column-1);let N=!1;for(const B of E)B.open===C&&B.close===A&&(N=!0);if(!N)return!1;if(p==="auto"){let B=!1;for(let W=0,$=f.length;W<$;W++){const Y=f[W];if(g.lineNumber===Y.startLineNumber&&g.column===Y.startColumn){B=!0;break}}if(!B)return!1}}return!0}static _runAutoClosingPairDelete(p,o,u){const d=[];for(let n=0,i=u.length;n<i;n++){const f=u[n].getPosition(),v=new _.e(f.lineNumber,f.column-1,f.lineNumber,f.column+1);d[n]=new U.T4(v,"")}return[!0,d]}static deleteLeft(p,o,u,d,n){if(this.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,u,d,n))return this._runAutoClosingPairDelete(o,u,d);const i=[];let f=p!==2;for(let v=0,a=d.length;v<a;v++){const S=M.getDeleteRange(d[v],u,o);if(S.isEmpty()){i[v]=null;continue}S.startLineNumber!==S.endLineNumber&&(f=!0),i[v]=new U.T4(S,"")}return[f,i]}static getDeleteRange(p,o,u){if(!p.isEmpty())return p;const d=p.getPosition();if(u.useTabStops&&d.column>1){const n=o.getLineContent(d.lineNumber),i=b.LC(n),f=i===-1?n.length+1:i+1;if(d.column<=f){const v=u.visibleColumnFromColumn(o,d),a=w.i.prevIndentTabStop(v,u.indentSize),S=u.columnFromVisibleColumn(o,d.lineNumber,a);return new _.e(d.lineNumber,S,d.lineNumber,d.column)}}return _.e.fromPositions(M.getPositionAfterDeleteLeft(d,o),d)}static getPositionAfterDeleteLeft(p,o){if(p.column>1){const u=b.oH(p.column-1,o.getLineContent(p.lineNumber));return p.with(void 0,u+1)}else if(p.lineNumber>1){const u=p.lineNumber-1;return new I.L(u,o.getLineMaxColumn(u))}else return p}static cut(p,o,u){const d=[];let n=null;u.sort((i,f)=>I.L.compare(i.getStartPosition(),f.getEndPosition()));for(let i=0,f=u.length;i<f;i++){const v=u[i];if(v.isEmpty())if(p.emptySelectionClipboard){const a=v.getPosition();let S,g,y,C;a.lineNumber<o.getLineCount()?(S=a.lineNumber,g=1,y=a.lineNumber+1,C=1):a.lineNumber>1&&(n==null?void 0:n.endLineNumber)!==a.lineNumber?(S=a.lineNumber-1,g=o.getLineMaxColumn(a.lineNumber-1),y=a.lineNumber,C=o.getLineMaxColumn(a.lineNumber)):(S=a.lineNumber,g=1,y=a.lineNumber,C=o.getLineMaxColumn(a.lineNumber));const E=new _.e(S,g,y,C);n=E,E.isEmpty()?d[i]=null:d[i]=new U.T4(E,"")}else d[i]=null;else d[i]=new U.T4(v,"")}return new r.Tp(0,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},28108:function(Ot,Ke,e){"use strict";e.d(Ke,{N:function(){return M},P:function(){return I}});var b=e(98401),U=e(55343),r=e(10839),w=e(92896),c=e(50187),_=e(24314);class I{static addCursorDown(p,o,u){const d=[];let n=0;for(let i=0,f=o.length;i<f;i++){const v=o[i];d[n++]=new U.Vi(v.modelState,v.viewState),u?d[n++]=U.Vi.fromModelState(r.o.translateDown(p.cursorConfig,p.model,v.modelState)):d[n++]=U.Vi.fromViewState(r.o.translateDown(p.cursorConfig,p,v.viewState))}return d}static addCursorUp(p,o,u){const d=[];let n=0;for(let i=0,f=o.length;i<f;i++){const v=o[i];d[n++]=new U.Vi(v.modelState,v.viewState),u?d[n++]=U.Vi.fromModelState(r.o.translateUp(p.cursorConfig,p.model,v.modelState)):d[n++]=U.Vi.fromViewState(r.o.translateUp(p.cursorConfig,p,v.viewState))}return d}static moveToBeginningOfLine(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n];d[n]=this._moveToLineStart(p,f,u)}return d}static _moveToLineStart(p,o,u){const d=o.viewState.position.column,n=o.modelState.position.column,i=d===n,f=o.viewState.position.lineNumber,v=p.getLineFirstNonWhitespaceColumn(f);return!i&&!(d===v)?this._moveToLineStartByView(p,o,u):this._moveToLineStartByModel(p,o,u)}static _moveToLineStartByView(p,o,u){return U.Vi.fromViewState(r.o.moveToBeginningOfLine(p.cursorConfig,p,o.viewState,u))}static _moveToLineStartByModel(p,o,u){return U.Vi.fromModelState(r.o.moveToBeginningOfLine(p.cursorConfig,p.model,o.modelState,u))}static moveToEndOfLine(p,o,u,d){const n=[];for(let i=0,f=o.length;i<f;i++){const v=o[i];n[i]=this._moveToLineEnd(p,v,u,d)}return n}static _moveToLineEnd(p,o,u,d){const n=o.viewState.position,i=p.getLineMaxColumn(n.lineNumber),f=n.column===i,v=o.modelState.position,a=p.model.getLineMaxColumn(v.lineNumber),S=i-n.column===a-v.column;return f||S?this._moveToLineEndByModel(p,o,u,d):this._moveToLineEndByView(p,o,u,d)}static _moveToLineEndByView(p,o,u,d){return U.Vi.fromViewState(r.o.moveToEndOfLine(p.cursorConfig,p,o.viewState,u,d))}static _moveToLineEndByModel(p,o,u,d){return U.Vi.fromModelState(r.o.moveToEndOfLine(p.cursorConfig,p.model,o.modelState,u,d))}static expandLineSelection(p,o){const u=[];for(let d=0,n=o.length;d<n;d++){const i=o[d],f=i.modelState.selection.startLineNumber,v=p.model.getLineCount();let a=i.modelState.selection.endLineNumber,S;a===v?S=p.model.getLineMaxColumn(v):(a++,S=1),u[d]=U.Vi.fromModelState(new U.rS(new _.e(f,1,f,1),0,0,new c.L(a,S),0))}return u}static moveToBeginningOfBuffer(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n];d[n]=U.Vi.fromModelState(r.o.moveToBeginningOfBuffer(p.cursorConfig,p.model,f.modelState,u))}return d}static moveToEndOfBuffer(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n];d[n]=U.Vi.fromModelState(r.o.moveToEndOfBuffer(p.cursorConfig,p.model,f.modelState,u))}return d}static selectAll(p,o){const u=p.model.getLineCount(),d=p.model.getLineMaxColumn(u);return U.Vi.fromModelState(new U.rS(new _.e(1,1,1,1),0,0,new c.L(u,d),0))}static line(p,o,u,d,n){const i=p.model.validatePosition(d),f=n?p.coordinatesConverter.validateViewPosition(new c.L(n.lineNumber,n.column),i):p.coordinatesConverter.convertModelPositionToViewPosition(i);if(!u){const a=p.model.getLineCount();let S=i.lineNumber+1,g=1;return S>a&&(S=a,g=p.model.getLineMaxColumn(S)),U.Vi.fromModelState(new U.rS(new _.e(i.lineNumber,1,S,g),2,0,new c.L(S,g),0))}const v=o.modelState.selectionStart.getStartPosition().lineNumber;if(i.lineNumber<v)return U.Vi.fromViewState(o.viewState.move(!0,f.lineNumber,1,0));if(i.lineNumber>v){const a=p.getLineCount();let S=f.lineNumber+1,g=1;return S>a&&(S=a,g=p.getLineMaxColumn(S)),U.Vi.fromViewState(o.viewState.move(!0,S,g,0))}else{const a=o.modelState.selectionStart.getEndPosition();return U.Vi.fromModelState(o.modelState.move(!0,a.lineNumber,a.column,0))}}static word(p,o,u,d){const n=p.model.validatePosition(d);return U.Vi.fromModelState(w.w.word(p.cursorConfig,p.model,o.modelState,u,n))}static cancelSelection(p,o){if(!o.modelState.hasSelection())return new U.Vi(o.modelState,o.viewState);const u=o.viewState.position.lineNumber,d=o.viewState.position.column;return U.Vi.fromViewState(new U.rS(new _.e(u,d,u,d),0,0,new c.L(u,d),0))}static moveTo(p,o,u,d,n){if(u){if(o.modelState.selectionStartKind===1)return this.word(p,o,u,d);if(o.modelState.selectionStartKind===2)return this.line(p,o,u,d,n)}const i=p.model.validatePosition(d),f=n?p.coordinatesConverter.validateViewPosition(new c.L(n.lineNumber,n.column),i):p.coordinatesConverter.convertModelPositionToViewPosition(i);return U.Vi.fromViewState(o.viewState.move(u,f.lineNumber,f.column,0))}static simpleMove(p,o,u,d,n,i){switch(u){case 0:return i===4?this._moveHalfLineLeft(p,o,d):this._moveLeft(p,o,d,n);case 1:return i===4?this._moveHalfLineRight(p,o,d):this._moveRight(p,o,d,n);case 2:return i===2?this._moveUpByViewLines(p,o,d,n):this._moveUpByModelLines(p,o,d,n);case 3:return i===2?this._moveDownByViewLines(p,o,d,n):this._moveDownByModelLines(p,o,d,n);case 4:return i===2?o.map(f=>U.Vi.fromViewState(r.o.moveToPrevBlankLine(p.cursorConfig,p,f.viewState,d))):o.map(f=>U.Vi.fromModelState(r.o.moveToPrevBlankLine(p.cursorConfig,p.model,f.modelState,d)));case 5:return i===2?o.map(f=>U.Vi.fromViewState(r.o.moveToNextBlankLine(p.cursorConfig,p,f.viewState,d))):o.map(f=>U.Vi.fromModelState(r.o.moveToNextBlankLine(p.cursorConfig,p.model,f.modelState,d)));case 6:return this._moveToViewMinColumn(p,o,d);case 7:return this._moveToViewFirstNonWhitespaceColumn(p,o,d);case 8:return this._moveToViewCenterColumn(p,o,d);case 9:return this._moveToViewMaxColumn(p,o,d);case 10:return this._moveToViewLastNonWhitespaceColumn(p,o,d);default:return null}}static viewportMove(p,o,u,d,n){const i=p.getCompletelyVisibleViewRange(),f=p.coordinatesConverter.convertViewRangeToModelRange(i);switch(u){case 11:{const v=this._firstLineNumberInRange(p.model,f,n),a=p.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(p,o[0],d,v,a)]}case 13:{const v=this._lastLineNumberInRange(p.model,f,n),a=p.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(p,o[0],d,v,a)]}case 12:{const v=Math.round((f.startLineNumber+f.endLineNumber)/2),a=p.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(p,o[0],d,v,a)]}case 14:{const v=[];for(let a=0,S=o.length;a<S;a++){const g=o[a];v[a]=this.findPositionInViewportIfOutside(p,g,i,d)}return v}default:return null}}static findPositionInViewportIfOutside(p,o,u,d){const n=o.viewState.position.lineNumber;if(u.startLineNumber<=n&&n<=u.endLineNumber-1)return new U.Vi(o.modelState,o.viewState);{let i;n>u.endLineNumber-1?i=u.endLineNumber-1:n<u.startLineNumber?i=u.startLineNumber:i=n;const f=r.o.vertical(p.cursorConfig,p,n,o.viewState.position.column,o.viewState.leftoverVisibleColumns,i,!1);return U.Vi.fromViewState(o.viewState.move(d,f.lineNumber,f.column,f.leftoverVisibleColumns))}}static _firstLineNumberInRange(p,o,u){let d=o.startLineNumber;return o.startColumn!==p.getLineMinColumn(d)&&d++,Math.min(o.endLineNumber,d+u-1)}static _lastLineNumberInRange(p,o,u){let d=o.startLineNumber;return o.startColumn!==p.getLineMinColumn(d)&&d++,Math.max(d,o.endLineNumber-u+1)}static _moveLeft(p,o,u,d){return o.map(n=>U.Vi.fromViewState(r.o.moveLeft(p.cursorConfig,p,n.viewState,u,d)))}static _moveHalfLineLeft(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=Math.round(p.getLineLength(v)/2);d[n]=U.Vi.fromViewState(r.o.moveLeft(p.cursorConfig,p,f.viewState,u,a))}return d}static _moveRight(p,o,u,d){return o.map(n=>U.Vi.fromViewState(r.o.moveRight(p.cursorConfig,p,n.viewState,u,d)))}static _moveHalfLineRight(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=Math.round(p.getLineLength(v)/2);d[n]=U.Vi.fromViewState(r.o.moveRight(p.cursorConfig,p,f.viewState,u,a))}return d}static _moveDownByViewLines(p,o,u,d){const n=[];for(let i=0,f=o.length;i<f;i++){const v=o[i];n[i]=U.Vi.fromViewState(r.o.moveDown(p.cursorConfig,p,v.viewState,u,d))}return n}static _moveDownByModelLines(p,o,u,d){const n=[];for(let i=0,f=o.length;i<f;i++){const v=o[i];n[i]=U.Vi.fromModelState(r.o.moveDown(p.cursorConfig,p.model,v.modelState,u,d))}return n}static _moveUpByViewLines(p,o,u,d){const n=[];for(let i=0,f=o.length;i<f;i++){const v=o[i];n[i]=U.Vi.fromViewState(r.o.moveUp(p.cursorConfig,p,v.viewState,u,d))}return n}static _moveUpByModelLines(p,o,u,d){const n=[];for(let i=0,f=o.length;i<f;i++){const v=o[i];n[i]=U.Vi.fromModelState(r.o.moveUp(p.cursorConfig,p.model,v.modelState,u,d))}return n}static _moveToViewPosition(p,o,u,d,n){return U.Vi.fromViewState(o.viewState.move(u,d,n,0))}static _moveToModelPosition(p,o,u,d,n){return U.Vi.fromModelState(o.modelState.move(u,d,n,0))}static _moveToViewMinColumn(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=p.getLineMinColumn(v);d[n]=this._moveToViewPosition(p,f,u,v,a)}return d}static _moveToViewFirstNonWhitespaceColumn(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=p.getLineFirstNonWhitespaceColumn(v);d[n]=this._moveToViewPosition(p,f,u,v,a)}return d}static _moveToViewCenterColumn(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=Math.round((p.getLineMaxColumn(v)+p.getLineMinColumn(v))/2);d[n]=this._moveToViewPosition(p,f,u,v,a)}return d}static _moveToViewMaxColumn(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=p.getLineMaxColumn(v);d[n]=this._moveToViewPosition(p,f,u,v,a)}return d}static _moveToViewLastNonWhitespaceColumn(p,o,u){const d=[];for(let n=0,i=o.length;n<i;n++){const f=o[n],v=f.viewState.position.lineNumber,a=p.getLineLastNonWhitespaceColumn(v);d[n]=this._moveToViewPosition(p,f,u,v,a)}return d}}var M;(function(D){const p=function(u){if(!b.Kn(u))return!1;const d=u;return!(!b.HD(d.to)||!b.o8(d.select)&&!b.jn(d.select)||!b.o8(d.by)&&!b.HD(d.by)||!b.o8(d.value)&&!b.hj(d.value))};D.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:p,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},D.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function o(u){if(!u.to)return null;let d;switch(u.to){case D.RawDirection.Left:d=0;break;case D.RawDirection.Right:d=1;break;case D.RawDirection.Up:d=2;break;case D.RawDirection.Down:d=3;break;case D.RawDirection.PrevBlankLine:d=4;break;case D.RawDirection.NextBlankLine:d=5;break;case D.RawDirection.WrappedLineStart:d=6;break;case D.RawDirection.WrappedLineFirstNonWhitespaceCharacter:d=7;break;case D.RawDirection.WrappedLineColumnCenter:d=8;break;case D.RawDirection.WrappedLineEnd:d=9;break;case D.RawDirection.WrappedLineLastNonWhitespaceCharacter:d=10;break;case D.RawDirection.ViewPortTop:d=11;break;case D.RawDirection.ViewPortBottom:d=13;break;case D.RawDirection.ViewPortCenter:d=12;break;case D.RawDirection.ViewPortIfOutside:d=14;break;default:return null}let n=0;switch(u.by){case D.RawUnit.Line:n=1;break;case D.RawUnit.WrappedLine:n=2;break;case D.RawUnit.Character:n=3;break;case D.RawUnit.HalfLine:n=4;break}return{direction:d,unit:n,select:!!u.select,value:u.value||1}}D.parse=o})(M||(M={}))},10839:function(Ot,Ke,e){"use strict";e.d(Ke,{o:function(){return M}});var b=e(97295),U=e(7988),r=e(50187),w=e(24314),c=e(47128),_=e(55343);class I{constructor(p,o,u){this._cursorPositionBrand=void 0,this.lineNumber=p,this.column=o,this.leftoverVisibleColumns=u}}class M{static leftPosition(p,o){if(o.column>p.getLineMinColumn(o.lineNumber))return o.delta(void 0,-b.HO(p.getLineContent(o.lineNumber),o.column-1));if(o.lineNumber>1){const u=o.lineNumber-1;return new r.L(u,p.getLineMaxColumn(u))}else return o}static leftPositionAtomicSoftTabs(p,o,u){if(o.column<=p.getLineIndentColumn(o.lineNumber)){const d=p.getLineMinColumn(o.lineNumber),n=p.getLineContent(o.lineNumber),i=c.l.atomicPosition(n,o.column-1,u,0);if(i!==-1&&i+1>=d)return new r.L(o.lineNumber,i+1)}return this.leftPosition(p,o)}static left(p,o,u){const d=p.stickyTabStops?M.leftPositionAtomicSoftTabs(o,u,p.tabSize):M.leftPosition(o,u);return new I(d.lineNumber,d.column,0)}static moveLeft(p,o,u,d,n){let i,f;if(u.hasSelection()&&!d)i=u.selection.startLineNumber,f=u.selection.startColumn;else{const v=u.position.delta(void 0,-(n-1)),a=o.normalizePosition(M.clipPositionColumn(v,o),0),S=M.left(p,o,a);i=S.lineNumber,f=S.column}return u.move(d,i,f,0)}static clipPositionColumn(p,o){return new r.L(p.lineNumber,M.clipRange(p.column,o.getLineMinColumn(p.lineNumber),o.getLineMaxColumn(p.lineNumber)))}static clipRange(p,o,u){return p<o?o:p>u?u:p}static rightPosition(p,o,u){return u<p.getLineMaxColumn(o)?u=u+b.vH(p.getLineContent(o),u-1):o<p.getLineCount()&&(o=o+1,u=p.getLineMinColumn(o)),new r.L(o,u)}static rightPositionAtomicSoftTabs(p,o,u,d,n){if(u<p.getLineIndentColumn(o)){const i=p.getLineContent(o),f=c.l.atomicPosition(i,u-1,d,1);if(f!==-1)return new r.L(o,f+1)}return this.rightPosition(p,o,u)}static right(p,o,u){const d=p.stickyTabStops?M.rightPositionAtomicSoftTabs(o,u.lineNumber,u.column,p.tabSize,p.indentSize):M.rightPosition(o,u.lineNumber,u.column);return new I(d.lineNumber,d.column,0)}static moveRight(p,o,u,d,n){let i,f;if(u.hasSelection()&&!d)i=u.selection.endLineNumber,f=u.selection.endColumn;else{const v=u.position.delta(void 0,n-1),a=o.normalizePosition(M.clipPositionColumn(v,o),1),S=M.right(p,o,a);i=S.lineNumber,f=S.column}return u.move(d,i,f,0)}static vertical(p,o,u,d,n,i,f,v){const a=U.i.visibleColumnFromColumn(o.getLineContent(u),d,p.tabSize)+n,S=o.getLineCount(),g=u===1&&d===1,y=u===S&&d===o.getLineMaxColumn(u),C=i<u?g:y;if(u=i,u<1?(u=1,f?d=o.getLineMinColumn(u):d=Math.min(o.getLineMaxColumn(u),d)):u>S?(u=S,f?d=o.getLineMaxColumn(u):d=Math.min(o.getLineMaxColumn(u),d)):d=p.columnFromVisibleColumn(o,u,a),C?n=0:n=a-U.i.visibleColumnFromColumn(o.getLineContent(u),d,p.tabSize),v!==void 0){const E=new r.L(u,d),A=o.normalizePosition(E,v);n=n+(d-A.column),u=A.lineNumber,d=A.column}return new I(u,d,n)}static down(p,o,u,d,n,i,f){return this.vertical(p,o,u,d,n,u+i,f,4)}static moveDown(p,o,u,d,n){let i,f;u.hasSelection()&&!d?(i=u.selection.endLineNumber,f=u.selection.endColumn):(i=u.position.lineNumber,f=u.position.column);let v=0,a;do if(a=M.down(p,o,i+v,f,u.leftoverVisibleColumns,n,!0),o.normalizePosition(new r.L(a.lineNumber,a.column),2).lineNumber>i)break;while(v++<10&&i+v<o.getLineCount());return u.move(d,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(p,o,u){const d=u.selection,n=M.down(p,o,d.selectionStartLineNumber,d.selectionStartColumn,u.selectionStartLeftoverVisibleColumns,1,!1),i=M.down(p,o,d.positionLineNumber,d.positionColumn,u.leftoverVisibleColumns,1,!1);return new _.rS(new w.e(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new r.L(i.lineNumber,i.column),i.leftoverVisibleColumns)}static up(p,o,u,d,n,i,f){return this.vertical(p,o,u,d,n,u-i,f,3)}static moveUp(p,o,u,d,n){let i,f;u.hasSelection()&&!d?(i=u.selection.startLineNumber,f=u.selection.startColumn):(i=u.position.lineNumber,f=u.position.column);const v=M.up(p,o,i,f,u.leftoverVisibleColumns,n,!0);return u.move(d,v.lineNumber,v.column,v.leftoverVisibleColumns)}static translateUp(p,o,u){const d=u.selection,n=M.up(p,o,d.selectionStartLineNumber,d.selectionStartColumn,u.selectionStartLeftoverVisibleColumns,1,!1),i=M.up(p,o,d.positionLineNumber,d.positionColumn,u.leftoverVisibleColumns,1,!1);return new _.rS(new w.e(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new r.L(i.lineNumber,i.column),i.leftoverVisibleColumns)}static _isBlankLine(p,o){return p.getLineFirstNonWhitespaceColumn(o)===0}static moveToPrevBlankLine(p,o,u,d){let n=u.position.lineNumber;for(;n>1&&this._isBlankLine(o,n);)n--;for(;n>1&&!this._isBlankLine(o,n);)n--;return u.move(d,n,o.getLineMinColumn(n),0)}static moveToNextBlankLine(p,o,u,d){const n=o.getLineCount();let i=u.position.lineNumber;for(;i<n&&this._isBlankLine(o,i);)i++;for(;i<n&&!this._isBlankLine(o,i);)i++;return u.move(d,i,o.getLineMinColumn(i),0)}static moveToBeginningOfLine(p,o,u,d){const n=u.position.lineNumber,i=o.getLineMinColumn(n),f=o.getLineFirstNonWhitespaceColumn(n)||i;let v;return u.position.column===f?v=i:v=f,u.move(d,n,v,0)}static moveToEndOfLine(p,o,u,d,n){const i=u.position.lineNumber,f=o.getLineMaxColumn(i);return u.move(d,i,f,n?1073741824-f:0)}static moveToBeginningOfBuffer(p,o,u,d){return u.move(d,1,1,0)}static moveToEndOfBuffer(p,o,u,d){const n=o.getLineCount(),i=o.getLineMaxColumn(n);return u.move(d,n,i,0)}}},94729:function(Ot,Ke,e){"use strict";e.d(Ke,{Nu:function(){return S},u6:function(){return v},g_:function(){return a}});var b=e(17301),U=e(97295),r=e(61329),w=e(10291),c=e(24314),_=e(3860);class I{constructor(N,B,W){this._range=N,this._charBeforeSelection=B,this._charAfterSelection=W}getEditOperations(N,B){B.addTrackedEditOperation(new c.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),B.addTrackedEditOperation(new c.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(N,B){const W=B.getInverseEditOperations(),$=W[0].range,Y=W[1].range;return new _.Y($.endLineNumber,$.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class M{constructor(N,B,W){this._position=N,this._text=B,this._charAfter=W}getEditOperations(N,B){B.addTrackedEditOperation(new c.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(N,B){const $=B.getInverseEditOperations()[0].range;return new _.Y($.endLineNumber,$.startColumn,$.endLineNumber,$.endColumn-this._charAfter.length)}}var D=e(55343),p=e(24929),o=e(50187),u=e(49119),d=e(4256),n=e(19111),i=e(75383),f=e(1615);class v{static indent(N,B,W){if(B===null||W===null)return[];const $=[];for(let Y=0,R=W.length;Y<R;Y++)$[Y]=new w.U(W[Y],{isUnshift:!1,tabSize:N.tabSize,indentSize:N.indentSize,insertSpaces:N.insertSpaces,useTabStops:N.useTabStops,autoIndent:N.autoIndent},N.languageConfigurationService);return $}static outdent(N,B,W){const $=[];for(let Y=0,R=W.length;Y<R;Y++)$[Y]=new w.U(W[Y],{isUnshift:!0,tabSize:N.tabSize,indentSize:N.indentSize,insertSpaces:N.insertSpaces,useTabStops:N.useTabStops,autoIndent:N.autoIndent},N.languageConfigurationService);return $}static shiftIndent(N,B,W){return W=W||1,w.U.shiftIndent(B,B.length+W,N.tabSize,N.indentSize,N.insertSpaces)}static unshiftIndent(N,B,W){return W=W||1,w.U.unshiftIndent(B,B.length+W,N.tabSize,N.indentSize,N.insertSpaces)}static _distributedPaste(N,B,W,$){const Y=[];for(let R=0,L=W.length;R<L;R++)Y[R]=new r.T4(W[R],$[R]);return new D.Tp(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(N,B,W,$,Y){const R=[];for(let L=0,z=W.length;L<z;L++){const O=W[L],P=O.getPosition();if(Y&&!O.isEmpty()&&(Y=!1),Y&&$.indexOf(`
`)!==$.length-1&&(Y=!1),Y){const H=new c.e(P.lineNumber,1,P.lineNumber,1);R[L]=new r.hP(H,$,O,!0)}else R[L]=new r.T4(O,$)}return new D.Tp(0,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(N,B,W,$,Y){if($||B.length===1)return null;if(Y&&Y.length===B.length)return Y;if(N.multiCursorPaste==="spread"){W.charCodeAt(W.length-1)===10&&(W=W.substr(0,W.length-1)),W.charCodeAt(W.length-1)===13&&(W=W.substr(0,W.length-1));const R=U.uq(W);if(R.length===B.length)return R}return null}static paste(N,B,W,$,Y,R){const L=this._distributePasteToCursors(N,W,$,Y,R);return L?(W=W.sort(c.e.compareRangesUsingStarts),this._distributedPaste(N,B,W,L)):this._simplePaste(N,B,W,$,Y)}static _goodIndentForLine(N,B,W){let $=null,Y="";const R=(0,i.r7)(N.autoIndent,B,W,!1,N.languageConfigurationService);if(R)$=R.action,Y=R.indentation;else if(W>1){let L;for(L=W-1;L>=1;L--){const P=B.getLineContent(L);if(U.ow(P)>=0)break}if(L<1)return null;const z=B.getLineMaxColumn(L),O=(0,f.A)(N.autoIndent,B,new c.e(L,z,L,z),N.languageConfigurationService);O&&(Y=O.indentation+O.appendText)}return $&&($===u.wU.Indent&&(Y=v.shiftIndent(N,Y)),$===u.wU.Outdent&&(Y=v.unshiftIndent(N,Y)),Y=N.normalizeIndentation(Y)),Y||null}static _replaceJumpToNextIndent(N,B,W,$){let Y="";const R=W.getStartPosition();if(N.insertSpaces){const L=N.visibleColumnFromColumn(B,R),z=N.indentSize,O=z-L%z;for(let P=0;P<O;P++)Y+=" "}else Y="	";return new r.T4(W,Y,$)}static tab(N,B,W){const $=[];for(let Y=0,R=W.length;Y<R;Y++){const L=W[Y];if(L.isEmpty()){const z=B.getLineContent(L.startLineNumber);if(/^\s*$/.test(z)&&B.tokenization.isCheapToTokenize(L.startLineNumber)){let O=this._goodIndentForLine(N,B,L.startLineNumber);O=O||"	";const P=N.normalizeIndentation(O);if(!z.startsWith(P)){$[Y]=new r.T4(new c.e(L.startLineNumber,1,L.startLineNumber,z.length+1),P,!0);continue}}$[Y]=this._replaceJumpToNextIndent(N,B,L,!0)}else{if(L.startLineNumber===L.endLineNumber){const z=B.getLineMaxColumn(L.startLineNumber);if(L.startColumn!==1||L.endColumn!==z){$[Y]=this._replaceJumpToNextIndent(N,B,L,!1);continue}}$[Y]=new w.U(L,{isUnshift:!1,tabSize:N.tabSize,indentSize:N.indentSize,insertSpaces:N.insertSpaces,useTabStops:N.useTabStops,autoIndent:N.autoIndent},N.languageConfigurationService)}}return $}static compositionType(N,B,W,$,Y,R,L,z){const O=$.map(P=>this._compositionType(W,P,Y,R,L,z));return new D.Tp(4,O,{shouldPushStackElementBefore:y(N,4),shouldPushStackElementAfter:!1})}static _compositionType(N,B,W,$,Y,R){if(!B.isEmpty())return null;const L=B.getPosition(),z=Math.max(1,L.column-$),O=Math.min(N.getLineMaxColumn(L.lineNumber),L.column+Y),P=new c.e(L.lineNumber,z,L.lineNumber,O);return N.getValueInRange(P)===W&&R===0?null:new r.Uo(P,W,0,R)}static _typeCommand(N,B,W){return W?new r.Sj(N,B,!0):new r.T4(N,B,!0)}static _enter(N,B,W,$){if(N.autoIndent===0)return v._typeCommand($,`
`,W);if(!B.tokenization.isCheapToTokenize($.getStartPosition().lineNumber)||N.autoIndent===1){const z=B.getLineContent($.startLineNumber),O=U.V8(z).substring(0,$.startColumn-1);return v._typeCommand($,`
`+N.normalizeIndentation(O),W)}const Y=(0,f.A)(N.autoIndent,B,$,N.languageConfigurationService);if(Y){if(Y.indentAction===u.wU.None)return v._typeCommand($,`
`+N.normalizeIndentation(Y.indentation+Y.appendText),W);if(Y.indentAction===u.wU.Indent)return v._typeCommand($,`
`+N.normalizeIndentation(Y.indentation+Y.appendText),W);if(Y.indentAction===u.wU.IndentOutdent){const z=N.normalizeIndentation(Y.indentation),O=N.normalizeIndentation(Y.indentation+Y.appendText),P=`
`+O+`
`+z;return W?new r.Sj($,P,!0):new r.Uo($,P,-1,O.length-z.length,!0)}else if(Y.indentAction===u.wU.Outdent){const z=v.unshiftIndent(N,Y.indentation);return v._typeCommand($,`
`+N.normalizeIndentation(z+Y.appendText),W)}}const R=B.getLineContent($.startLineNumber),L=U.V8(R).substring(0,$.startColumn-1);if(N.autoIndent>=4){const z=(0,i.UF)(N.autoIndent,B,$,{unshiftIndent:O=>v.unshiftIndent(N,O),shiftIndent:O=>v.shiftIndent(N,O),normalizeIndentation:O=>N.normalizeIndentation(O)},N.languageConfigurationService);if(z){let O=N.visibleColumnFromColumn(B,$.getEndPosition());const P=$.endColumn,H=B.getLineContent($.endLineNumber),V=U.LC(H);if(V>=0?$=$.setEndPosition($.endLineNumber,Math.max($.endColumn,V+1)):$=$.setEndPosition($.endLineNumber,B.getLineMaxColumn($.endLineNumber)),W)return new r.Sj($,`
`+N.normalizeIndentation(z.afterEnter),!0);{let G=0;return P<=V+1&&(N.insertSpaces||(O=Math.ceil(O/N.indentSize)),G=Math.min(O+1-N.normalizeIndentation(z.afterEnter).length-1,0)),new r.Uo($,`
`+N.normalizeIndentation(z.afterEnter),0,G,!0)}}}return v._typeCommand($,`
`+N.normalizeIndentation(L),W)}static _isAutoIndentType(N,B,W){if(N.autoIndent<4)return!1;for(let $=0,Y=W.length;$<Y;$++)if(!B.tokenization.isCheapToTokenize(W[$].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(N,B,W,$){const Y=(0,d.u0)(B,W.startLineNumber,W.startColumn),R=(0,i.$9)(N.autoIndent,B,W,$,{shiftIndent:L=>v.shiftIndent(N,L),unshiftIndent:L=>v.unshiftIndent(N,L)},N.languageConfigurationService);if(R===null)return null;if(R!==N.normalizeIndentation(Y)){const L=B.getLineFirstNonWhitespaceColumn(W.startLineNumber);return L===0?v._typeCommand(new c.e(W.startLineNumber,1,W.endLineNumber,W.endColumn),N.normalizeIndentation(R)+$,!1):v._typeCommand(new c.e(W.startLineNumber,1,W.endLineNumber,W.endColumn),N.normalizeIndentation(R)+B.getLineContent(W.startLineNumber).substring(L-1,W.startColumn-1)+$,!1)}return null}static _isAutoClosingOvertype(N,B,W,$,Y){if(N.autoClosingOvertype==="never"||!N.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let R=0,L=W.length;R<L;R++){const z=W[R];if(!z.isEmpty())return!1;const O=z.getPosition(),P=B.getLineContent(O.lineNumber);if(P.charAt(O.column-1)!==Y)return!1;const V=(0,D.LN)(Y);if((O.column>2?P.charCodeAt(O.column-2):0)===92&&V)return!1;if(N.autoClosingOvertype==="auto"){let j=!1;for(let F=0,K=$.length;F<K;F++){const m=$[F];if(O.lineNumber===m.startLineNumber&&O.column===m.startColumn){j=!0;break}}if(!j)return!1}}return!0}static _runAutoClosingOvertype(N,B,W,$,Y){const R=[];for(let L=0,z=$.length;L<z;L++){const P=$[L].getPosition(),H=new c.e(P.lineNumber,P.column,P.lineNumber,P.column+1);R[L]=new r.T4(H,Y)}return new D.Tp(4,R,{shouldPushStackElementBefore:y(N,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(N,B){const W=B.charAt(0),$=N.autoClosingPairs.autoClosingPairsOpenByStart.get(W)||[],Y=N.autoClosingPairs.autoClosingPairsCloseByStart.get(W)||[],R=$.some(z=>B.startsWith(z.open)),L=Y.some(z=>B.startsWith(z.close));return!R&&L}static _findAutoClosingPairOpen(N,B,W,$){const Y=N.autoClosingPairs.autoClosingPairsOpenByEnd.get($);if(!Y)return null;let R=null;for(const L of Y)if(R===null||L.open.length>R.open.length){let z=!0;for(const O of W)if(B.getValueInRange(new c.e(O.lineNumber,O.column-L.open.length+1,O.lineNumber,O.column))+$!==L.open){z=!1;break}z&&(R=L)}return R}static _findContainedAutoClosingPair(N,B){if(B.open.length<=1)return null;const W=B.close.charAt(B.close.length-1),$=N.autoClosingPairs.autoClosingPairsCloseByEnd.get(W)||[];let Y=null;for(const R of $)R.open!==B.open&&B.open.includes(R.open)&&B.close.endsWith(R.close)&&(!Y||R.open.length>Y.open.length)&&(Y=R);return Y}static _getAutoClosingPairClose(N,B,W,$,Y){for(const j of W)if(!j.isEmpty())return null;const R=W.map(j=>{const F=j.getPosition();return Y?{lineNumber:F.lineNumber,beforeColumn:F.column-$.length,afterColumn:F.column}:{lineNumber:F.lineNumber,beforeColumn:F.column,afterColumn:F.column}}),L=this._findAutoClosingPairOpen(N,B,R.map(j=>new o.L(j.lineNumber,j.beforeColumn)),$);if(!L)return null;let z,O;if((0,D.LN)($)?(z=N.autoClosingQuotes,O=N.shouldAutoCloseBefore.quote):(N.blockCommentStartToken?L.open.includes(N.blockCommentStartToken):!1)?(z=N.autoClosingComments,O=N.shouldAutoCloseBefore.comment):(z=N.autoClosingBrackets,O=N.shouldAutoCloseBefore.bracket),z==="never")return null;const H=this._findContainedAutoClosingPair(N,L),V=H?H.close:"";let G=!0;for(const j of R){const{lineNumber:F,beforeColumn:K,afterColumn:m}=j,J=B.getLineContent(F),X=J.substring(0,K-1),te=J.substring(m-1);if(te.startsWith(V)||(G=!1),te.length>0){const pe=te.charAt(0);if(!v._isBeforeClosingBrace(N,te)&&!O(pe))return null}if(L.open.length===1&&($==="'"||$==='"')&&z!=="always"){const pe=(0,p.u)(N.wordSeparators);if(X.length>0){const Pe=X.charCodeAt(X.length-1);if(pe.get(Pe)===0)return null}}if(!B.tokenization.isCheapToTokenize(F))return null;B.tokenization.forceTokenization(F);const le=B.tokenization.getLineTokens(F),ge=(0,n.wH)(le,K-1);if(!L.shouldAutoClose(ge,K-ge.firstCharOffset))return null;const we=L.findNeutralCharacter();if(we){const pe=B.tokenization.getTokenTypeIfInsertingCharacter(F,K,we);if(!L.isOK(pe))return null}}return G?L.close.substring(0,L.close.length-V.length):L.close}static _runAutoClosingOpenCharType(N,B,W,$,Y,R,L){const z=[];for(let O=0,P=$.length;O<P;O++){const H=$[O];z[O]=new a(H,Y,!R,L)}return new D.Tp(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(N,B){return(0,D.LN)(B)?N.autoSurround==="quotes"||N.autoSurround==="languageDefined":N.autoSurround==="brackets"||N.autoSurround==="languageDefined"}static _isSurroundSelectionType(N,B,W,$){if(!v._shouldSurroundChar(N,$)||!N.surroundingPairs.hasOwnProperty($))return!1;const Y=(0,D.LN)($);for(const R of W){if(R.isEmpty())return!1;let L=!0;for(let z=R.startLineNumber;z<=R.endLineNumber;z++){const O=B.getLineContent(z),P=z===R.startLineNumber?R.startColumn-1:0,H=z===R.endLineNumber?R.endColumn-1:O.length,V=O.substring(P,H);if(/[^ \t]/.test(V)){L=!1;break}}if(L)return!1;if(Y&&R.startLineNumber===R.endLineNumber&&R.startColumn+1===R.endColumn){const z=B.getValueInRange(R);if((0,D.LN)(z))return!1}}return!0}static _runSurroundSelectionType(N,B,W,$,Y){const R=[];for(let L=0,z=$.length;L<z;L++){const O=$[L],P=B.surroundingPairs[Y];R[L]=new I(O,Y,P)}return new D.Tp(0,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(N,B,W){return!!(W.length===1&&B.tokenization.isCheapToTokenize(W[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(N,B,W,$,Y){if(!B.electricChars.hasOwnProperty(Y)||!$.isEmpty())return null;const R=$.getPosition();W.tokenization.forceTokenization(R.lineNumber);const L=W.tokenization.getLineTokens(R.lineNumber);let z;try{z=B.onElectricCharacter(Y,L,R.column)}catch(O){return(0,b.dL)(O),null}if(!z)return null;if(z.matchOpenBracket){const O=(L.getLineContent()+Y).lastIndexOf(z.matchOpenBracket)+1,P=W.bracketPairs.findMatchingBracketUp(z.matchOpenBracket,{lineNumber:R.lineNumber,column:O},500);if(P){if(P.startLineNumber===R.lineNumber)return null;const H=W.getLineContent(P.startLineNumber),V=U.V8(H),G=B.normalizeIndentation(V),j=W.getLineContent(R.lineNumber),F=W.getLineFirstNonWhitespaceColumn(R.lineNumber)||R.column,K=j.substring(F-1,R.column-1),m=G+K+Y,J=new c.e(R.lineNumber,1,R.lineNumber,R.column),X=new r.T4(J,m);return new D.Tp(g(m,N),[X],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(N,B,W,$,Y,R){if(!$)return null;let L=null;for(const H of $)if(L===null)L=H.insertedText;else if(L!==H.insertedText)return null;if(!L||L.length!==1)return null;const z=L;let O=!1;for(const H of $)if(H.deletedText.length!==0){O=!0;break}if(O){if(!v._shouldSurroundChar(B,z)||!B.surroundingPairs.hasOwnProperty(z))return null;const H=(0,D.LN)(z);for(const j of $)if(j.deletedSelectionStart!==0||j.deletedSelectionEnd!==j.deletedText.length||/^[ \t]+$/.test(j.deletedText)||H&&(0,D.LN)(j.deletedText))return null;const V=[];for(const j of Y){if(!j.isEmpty())return null;V.push(j.getPosition())}if(V.length!==$.length)return null;const G=[];for(let j=0,F=V.length;j<F;j++)G.push(new M(V[j],$[j].deletedText,B.surroundingPairs[z]));return new D.Tp(4,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(B,W,Y,R,z)){const H=Y.map(V=>new r.T4(new c.e(V.positionLineNumber,V.positionColumn,V.positionLineNumber,V.positionColumn+1),"",!1));return new D.Tp(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const P=this._getAutoClosingPairClose(B,W,Y,z,!0);return P!==null?this._runAutoClosingOpenCharType(N,B,W,Y,z,!0,P):null}static typeWithInterceptors(N,B,W,$,Y,R,L){if(!N&&L===`
`){const P=[];for(let H=0,V=Y.length;H<V;H++)P[H]=v._enter(W,$,!1,Y[H]);return new D.Tp(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!N&&this._isAutoIndentType(W,$,Y)){const P=[];let H=!1;for(let V=0,G=Y.length;V<G;V++)if(P[V]=this._runAutoIndentType(W,$,Y[V],L),!P[V]){H=!0;break}if(!H)return new D.Tp(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(W,$,Y,R,L))return this._runAutoClosingOvertype(B,W,$,Y,L);if(!N){const P=this._getAutoClosingPairClose(W,$,Y,L,!1);if(P)return this._runAutoClosingOpenCharType(B,W,$,Y,L,!1,P)}if(!N&&this._isSurroundSelectionType(W,$,Y,L))return this._runSurroundSelectionType(B,W,$,Y,L);if(!N&&this._isTypeInterceptorElectricChar(W,$,Y)){const P=this._typeInterceptorElectricChar(B,W,$,Y[0],L);if(P)return P}const z=[];for(let P=0,H=Y.length;P<H;P++)z[P]=new r.T4(Y[P],L);const O=g(L,B);return new D.Tp(O,z,{shouldPushStackElementBefore:y(B,O),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(N,B,W,$,Y){const R=[];for(let z=0,O=$.length;z<O;z++)R[z]=new r.T4($[z],Y);const L=g(Y,N);return new D.Tp(L,R,{shouldPushStackElementBefore:y(N,L),shouldPushStackElementAfter:!1})}static lineInsertBefore(N,B,W){if(B===null||W===null)return[];const $=[];for(let Y=0,R=W.length;Y<R;Y++){let L=W[Y].positionLineNumber;if(L===1)$[Y]=new r.Sj(new c.e(1,1,1,1),`
`);else{L--;const z=B.getLineMaxColumn(L);$[Y]=this._enter(N,B,!1,new c.e(L,z,L,z))}}return $}static lineInsertAfter(N,B,W){if(B===null||W===null)return[];const $=[];for(let Y=0,R=W.length;Y<R;Y++){const L=W[Y].positionLineNumber,z=B.getLineMaxColumn(L);$[Y]=this._enter(N,B,!1,new c.e(L,z,L,z))}return $}static lineBreakInsert(N,B,W){const $=[];for(let Y=0,R=W.length;Y<R;Y++)$[Y]=this._enter(N,B,!0,W[Y]);return $}}class a extends r.Uo{constructor(N,B,W,$){super(N,(W?B:"")+$,0,-$.length),this._openCharacter=B,this._closeCharacter=$,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(N,B){const $=B.getInverseEditOperations()[0].range;return this.closeCharacterRange=new c.e($.startLineNumber,$.endColumn-this._closeCharacter.length,$.endLineNumber,$.endColumn),this.enclosingRange=new c.e($.startLineNumber,$.endColumn-this._openCharacter.length-this._closeCharacter.length,$.endLineNumber,$.endColumn),super.computeCursorState(N,B)}}class S{constructor(N,B,W,$,Y,R){this.deletedText=N,this.deletedSelectionStart=B,this.deletedSelectionEnd=W,this.insertedText=$,this.insertedSelectionStart=Y,this.insertedSelectionEnd=R}}function g(A,N){return A===" "?N===5||N===6?6:5:4}function y(A,N){return E(A)&&!E(N)?!0:A===5?!1:C(A)!==C(N)}function C(A){return A===6||A===5?"space":A}function E(A){return A===4||A===5||A===6}},92896:function(Ot,Ke,e){"use strict";e.d(Ke,{L:function(){return M},w:function(){return I}});var b=e(97295),U=e(55343),r=e(29436),w=e(24929),c=e(50187),_=e(24314);class I{static _createWord(o,u,d,n,i){return{start:n,end:i,wordType:u,nextCharClass:d}}static _findPreviousWordOnLine(o,u,d){const n=u.getLineContent(d.lineNumber);return this._doFindPreviousWordOnLine(n,o,d)}static _doFindPreviousWordOnLine(o,u,d){let n=0;for(let i=d.column-2;i>=0;i--){const f=o.charCodeAt(i),v=u.get(f);if(v===0){if(n===2)return this._createWord(o,n,v,i+1,this._findEndOfWord(o,u,n,i+1));n=1}else if(v===2){if(n===1)return this._createWord(o,n,v,i+1,this._findEndOfWord(o,u,n,i+1));n=2}else if(v===1&&n!==0)return this._createWord(o,n,v,i+1,this._findEndOfWord(o,u,n,i+1))}return n!==0?this._createWord(o,n,1,0,this._findEndOfWord(o,u,n,0)):null}static _findEndOfWord(o,u,d,n){const i=o.length;for(let f=n;f<i;f++){const v=o.charCodeAt(f),a=u.get(v);if(a===1||d===1&&a===2||d===2&&a===0)return f}return i}static _findNextWordOnLine(o,u,d){const n=u.getLineContent(d.lineNumber);return this._doFindNextWordOnLine(n,o,d)}static _doFindNextWordOnLine(o,u,d){let n=0;const i=o.length;for(let f=d.column-1;f<i;f++){const v=o.charCodeAt(f),a=u.get(v);if(a===0){if(n===2)return this._createWord(o,n,a,this._findStartOfWord(o,u,n,f-1),f);n=1}else if(a===2){if(n===1)return this._createWord(o,n,a,this._findStartOfWord(o,u,n,f-1),f);n=2}else if(a===1&&n!==0)return this._createWord(o,n,a,this._findStartOfWord(o,u,n,f-1),f)}return n!==0?this._createWord(o,n,1,this._findStartOfWord(o,u,n,i-1),i):null}static _findStartOfWord(o,u,d,n){for(let i=n;i>=0;i--){const f=o.charCodeAt(i),v=u.get(f);if(v===1||d===1&&v===2||d===2&&v===0)return i+1}return 0}static moveWordLeft(o,u,d,n){let i=d.lineNumber,f=d.column;f===1&&i>1&&(i=i-1,f=u.getLineMaxColumn(i));let v=I._findPreviousWordOnLine(o,u,new c.L(i,f));if(n===0)return new c.L(i,v?v.start+1:1);if(n===1)return v&&v.wordType===2&&v.end-v.start===1&&v.nextCharClass===0&&(v=I._findPreviousWordOnLine(o,u,new c.L(i,v.start+1))),new c.L(i,v?v.start+1:1);if(n===3){for(;v&&v.wordType===2;)v=I._findPreviousWordOnLine(o,u,new c.L(i,v.start+1));return new c.L(i,v?v.start+1:1)}return v&&f<=v.end+1&&(v=I._findPreviousWordOnLine(o,u,new c.L(i,v.start+1))),new c.L(i,v?v.end+1:1)}static _moveWordPartLeft(o,u){const d=u.lineNumber,n=o.getLineMaxColumn(d);if(u.column===1)return d>1?new c.L(d-1,o.getLineMaxColumn(d-1)):u;const i=o.getLineContent(d);for(let f=u.column-1;f>1;f--){const v=i.charCodeAt(f-2),a=i.charCodeAt(f-1);if(v===95&&a!==95)return new c.L(d,f);if(v===45&&a!==45)return new c.L(d,f);if((b.mK(v)||b.T5(v))&&b.df(a))return new c.L(d,f);if(b.df(v)&&b.df(a)&&f+1<n){const S=i.charCodeAt(f);if(b.mK(S)||b.T5(S))return new c.L(d,f)}}return new c.L(d,1)}static moveWordRight(o,u,d,n){let i=d.lineNumber,f=d.column,v=!1;f===u.getLineMaxColumn(i)&&i<u.getLineCount()&&(v=!0,i=i+1,f=1);let a=I._findNextWordOnLine(o,u,new c.L(i,f));if(n===2)a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=I._findNextWordOnLine(o,u,new c.L(i,a.end+1))),a?f=a.end+1:f=u.getLineMaxColumn(i);else if(n===3){for(v&&(f=0);a&&(a.wordType===2||a.start+1<=f);)a=I._findNextWordOnLine(o,u,new c.L(i,a.end+1));a?f=a.start+1:f=u.getLineMaxColumn(i)}else a&&!v&&f>=a.start+1&&(a=I._findNextWordOnLine(o,u,new c.L(i,a.end+1))),a?f=a.start+1:f=u.getLineMaxColumn(i);return new c.L(i,f)}static _moveWordPartRight(o,u){const d=u.lineNumber,n=o.getLineMaxColumn(d);if(u.column===n)return d<o.getLineCount()?new c.L(d+1,1):u;const i=o.getLineContent(d);for(let f=u.column+1;f<n;f++){const v=i.charCodeAt(f-2),a=i.charCodeAt(f-1);if(v!==95&&a===95)return new c.L(d,f);if(v!==45&&a===45)return new c.L(d,f);if((b.mK(v)||b.T5(v))&&b.df(a))return new c.L(d,f);if(b.df(v)&&b.df(a)&&f+1<n){const S=i.charCodeAt(f);if(b.mK(S)||b.T5(S))return new c.L(d,f)}}return new c.L(d,n)}static _deleteWordLeftWhitespace(o,u){const d=o.getLineContent(u.lineNumber),n=u.column-2,i=b.ow(d,n);return i+1<n?new _.e(u.lineNumber,i+2,u.lineNumber,u.column):null}static deleteWordLeft(o,u){const d=o.wordSeparators,n=o.model,i=o.selection,f=o.whitespaceHeuristics;if(!i.isEmpty())return i;if(r.A.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,o.model,[o.selection],o.autoClosedCharacters)){const y=o.selection.getPosition();return new _.e(y.lineNumber,y.column-1,y.lineNumber,y.column+1)}const v=new c.L(i.positionLineNumber,i.positionColumn);let a=v.lineNumber,S=v.column;if(a===1&&S===1)return null;if(f){const y=this._deleteWordLeftWhitespace(n,v);if(y)return y}let g=I._findPreviousWordOnLine(d,n,v);return u===0?g?S=g.start+1:S>1?S=1:(a--,S=n.getLineMaxColumn(a)):(g&&S<=g.end+1&&(g=I._findPreviousWordOnLine(d,n,new c.L(a,g.start+1))),g?S=g.end+1:S>1?S=1:(a--,S=n.getLineMaxColumn(a))),new _.e(a,S,v.lineNumber,v.column)}static deleteInsideWord(o,u,d){if(!d.isEmpty())return d;const n=new c.L(d.positionLineNumber,d.positionColumn),i=this._deleteInsideWordWhitespace(u,n);return i||this._deleteInsideWordDetermineDeleteRange(o,u,n)}static _charAtIsWhitespace(o,u){const d=o.charCodeAt(u);return d===32||d===9}static _deleteInsideWordWhitespace(o,u){const d=o.getLineContent(u.lineNumber),n=d.length;if(n===0)return null;let i=Math.max(u.column-2,0);if(!this._charAtIsWhitespace(d,i))return null;let f=Math.min(u.column-1,n-1);if(!this._charAtIsWhitespace(d,f))return null;for(;i>0&&this._charAtIsWhitespace(d,i-1);)i--;for(;f+1<n&&this._charAtIsWhitespace(d,f+1);)f++;return new _.e(u.lineNumber,i+1,u.lineNumber,f+2)}static _deleteInsideWordDetermineDeleteRange(o,u,d){const n=u.getLineContent(d.lineNumber),i=n.length;if(i===0)return d.lineNumber>1?new _.e(d.lineNumber-1,u.getLineMaxColumn(d.lineNumber-1),d.lineNumber,1):d.lineNumber<u.getLineCount()?new _.e(d.lineNumber,1,d.lineNumber+1,1):new _.e(d.lineNumber,1,d.lineNumber,1);const f=y=>y.start+1<=d.column&&d.column<=y.end+1,v=(y,C)=>(y=Math.min(y,d.column),C=Math.max(C,d.column),new _.e(d.lineNumber,y,d.lineNumber,C)),a=y=>{let C=y.start+1,E=y.end+1,A=!1;for(;E-1<i&&this._charAtIsWhitespace(n,E-1);)A=!0,E++;if(!A)for(;C>1&&this._charAtIsWhitespace(n,C-2);)C--;return v(C,E)},S=I._findPreviousWordOnLine(o,u,d);if(S&&f(S))return a(S);const g=I._findNextWordOnLine(o,u,d);return g&&f(g)?a(g):S&&g?v(S.end+1,g.start+1):S?v(S.start+1,S.end+1):g?v(g.start+1,g.end+1):v(1,i+1)}static _deleteWordPartLeft(o,u){if(!u.isEmpty())return u;const d=u.getPosition(),n=I._moveWordPartLeft(o,d);return new _.e(d.lineNumber,d.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(o,u){const d=o.length;for(let n=u;n<d;n++){const i=o.charAt(n);if(i!==" "&&i!=="	")return n}return d}static _deleteWordRightWhitespace(o,u){const d=o.getLineContent(u.lineNumber),n=u.column-1,i=this._findFirstNonWhitespaceChar(d,n);return n+1<i?new _.e(u.lineNumber,u.column,u.lineNumber,i+1):null}static deleteWordRight(o,u){const d=o.wordSeparators,n=o.model,i=o.selection,f=o.whitespaceHeuristics;if(!i.isEmpty())return i;const v=new c.L(i.positionLineNumber,i.positionColumn);let a=v.lineNumber,S=v.column;const g=n.getLineCount(),y=n.getLineMaxColumn(a);if(a===g&&S===y)return null;if(f){const E=this._deleteWordRightWhitespace(n,v);if(E)return E}let C=I._findNextWordOnLine(d,n,v);return u===2?C?S=C.end+1:S<y||a===g?S=y:(a++,C=I._findNextWordOnLine(d,n,new c.L(a,1)),C?S=C.start+1:S=n.getLineMaxColumn(a)):(C&&S>=C.start+1&&(C=I._findNextWordOnLine(d,n,new c.L(a,C.end+1))),C?S=C.start+1:S<y||a===g?S=y:(a++,C=I._findNextWordOnLine(d,n,new c.L(a,1)),C?S=C.start+1:S=n.getLineMaxColumn(a))),new _.e(a,S,v.lineNumber,v.column)}static _deleteWordPartRight(o,u){if(!u.isEmpty())return u;const d=u.getPosition(),n=I._moveWordPartRight(o,d);return new _.e(d.lineNumber,d.column,n.lineNumber,n.column)}static _createWordAtPosition(o,u,d){const n=new _.e(u,d.start+1,u,d.end+1);return{word:o.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(o,u,d){const n=(0,w.u)(u),i=I._findPreviousWordOnLine(n,o,d);if(i&&i.wordType===1&&i.start<=d.column-1&&d.column-1<=i.end)return I._createWordAtPosition(o,d.lineNumber,i);const f=I._findNextWordOnLine(n,o,d);return f&&f.wordType===1&&f.start<=d.column-1&&d.column-1<=f.end?I._createWordAtPosition(o,d.lineNumber,f):null}static word(o,u,d,n,i){const f=(0,w.u)(o.wordSeparators),v=I._findPreviousWordOnLine(f,u,i),a=I._findNextWordOnLine(f,u,i);if(!n){let E,A;return v&&v.wordType===1&&v.start<=i.column-1&&i.column-1<=v.end?(E=v.start+1,A=v.end+1):a&&a.wordType===1&&a.start<=i.column-1&&i.column-1<=a.end?(E=a.start+1,A=a.end+1):(v?E=v.end+1:E=1,a?A=a.start+1:A=u.getLineMaxColumn(i.lineNumber)),new U.rS(new _.e(i.lineNumber,E,i.lineNumber,A),1,0,new c.L(i.lineNumber,A),0)}let S,g;v&&v.wordType===1&&v.start<i.column-1&&i.column-1<v.end?(S=v.start+1,g=v.end+1):a&&a.wordType===1&&a.start<i.column-1&&i.column-1<a.end?(S=a.start+1,g=a.end+1):(S=i.column,g=i.column);const y=i.lineNumber;let C;if(d.selectionStart.containsPosition(i))C=d.selectionStart.endColumn;else if(i.isBeforeOrEqual(d.selectionStart.getStartPosition())){C=S;const E=new c.L(y,C);d.selectionStart.containsPosition(E)&&(C=d.selectionStart.endColumn)}else{C=g;const E=new c.L(y,C);d.selectionStart.containsPosition(E)&&(C=d.selectionStart.startColumn)}return d.move(!0,y,C,0)}}class M extends I{static deleteWordPartLeft(o){const u=D([I.deleteWordLeft(o,0),I.deleteWordLeft(o,2),I._deleteWordPartLeft(o.model,o.selection)]);return u.sort(_.e.compareRangesUsingEnds),u[2]}static deleteWordPartRight(o){const u=D([I.deleteWordRight(o,0),I.deleteWordRight(o,2),I._deleteWordPartRight(o.model,o.selection)]);return u.sort(_.e.compareRangesUsingStarts),u[0]}static moveWordPartLeft(o,u,d){const n=D([I.moveWordLeft(o,u,d,0),I.moveWordLeft(o,u,d,2),I._moveWordPartLeft(u,d)]);return n.sort(c.L.compare),n[2]}static moveWordPartRight(o,u,d){const n=D([I.moveWordRight(o,u,d,0),I.moveWordRight(o,u,d,2),I._moveWordPartRight(u,d)]);return n.sort(c.L.compare),n[0]}}function D(p){return p.filter(o=>!!o)}},25919:function(Ot,Ke,e){"use strict";e.d(Ke,{KU:function(){return w},NT:function(){return M},i8:function(){return c},n0:function(){return I},zl:function(){return _}});var b=e(9488),U=e(17301),r=e(19247);class w{static trivial(p,o){return new w([new c(r.q.ofLength(p.length),r.q.ofLength(o.length))],!1)}static trivialTimedOut(p,o){return new w([new c(r.q.ofLength(p.length),r.q.ofLength(o.length))],!0)}constructor(p,o){this.diffs=p,this.hitTimeout=o}}class c{static invert(p,o){const u=[];return(0,b.zy)(p,(d,n)=>{u.push(c.fromOffsetPairs(d?d.getEndExclusives():_.zero,n?n.getStarts():new _(o,(d?d.seq2Range.endExclusive-d.seq1Range.endExclusive:0)+o)))}),u}static fromOffsetPairs(p,o){return new c(new r.q(p.offset1,o.offset1),new r.q(p.offset2,o.offset2))}constructor(p,o){this.seq1Range=p,this.seq2Range=o}swap(){return new c(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(p){return new c(this.seq1Range.join(p.seq1Range),this.seq2Range.join(p.seq2Range))}delta(p){return p===0?this:new c(this.seq1Range.delta(p),this.seq2Range.delta(p))}deltaStart(p){return p===0?this:new c(this.seq1Range.deltaStart(p),this.seq2Range.deltaStart(p))}deltaEnd(p){return p===0?this:new c(this.seq1Range.deltaEnd(p),this.seq2Range.deltaEnd(p))}intersect(p){const o=this.seq1Range.intersect(p.seq1Range),u=this.seq2Range.intersect(p.seq2Range);if(!(!o||!u))return new c(o,u)}getStarts(){return new _(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new _(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class _{constructor(p,o){this.offset1=p,this.offset2=o}toString(){return`${this.offset1} <-> ${this.offset2}`}}_.zero=new _(0,0),_.max=new _(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class I{isValid(){return!0}}I.instance=new I;class M{constructor(p){if(this.timeout=p,this.startTime=Date.now(),this.valid=!0,p<=0)throw new U.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}},62549:function(Ot,Ke,e){"use strict";e.d(Ke,{DW:function(){return H}});var b=e(9488),U=e(35146),r=e(45463),w=e(19247),c=e(24314),_=e(25919);class I{constructor(F,K){this.width=F,this.height=K,this.array=[],this.array=new Array(F*K)}get(F,K){return this.array[F+K*this.width]}set(F,K,m){this.array[F+K*this.width]=m}}function M(j){return j===32||j===9}class D{static getKey(F){let K=this.chrKeys.get(F);return K===void 0&&(K=this.chrKeys.size,this.chrKeys.set(F,K)),K}constructor(F,K,m){this.range=F,this.lines=K,this.source=m,this.histogram=[];let J=0;for(let X=F.startLineNumber-1;X<F.endLineNumberExclusive-1;X++){const te=K[X];for(let ge=0;ge<te.length;ge++){J++;const we=te[ge],pe=D.getKey(we);this.histogram[pe]=(this.histogram[pe]||0)+1}J++;const le=D.getKey(`
`);this.histogram[le]=(this.histogram[le]||0)+1}this.totalCount=J}computeSimilarity(F){var K,m;let J=0;const X=Math.max(this.histogram.length,F.histogram.length);for(let te=0;te<X;te++)J+=Math.abs(((K=this.histogram[te])!==null&&K!==void 0?K:0)-((m=F.histogram[te])!==null&&m!==void 0?m:0));return 1-J/(this.totalCount+F.totalCount)}}D.chrKeys=new Map;class p{compute(F,K,m=_.n0.instance,J){if(F.length===0||K.length===0)return _.KU.trivial(F,K);const X=new I(F.length,K.length),te=new I(F.length,K.length),le=new I(F.length,K.length);for(let Me=0;Me<F.length;Me++)for(let ke=0;ke<K.length;ke++){if(!m.isValid())return _.KU.trivialTimedOut(F,K);const Ue=Me===0?0:X.get(Me-1,ke),Le=ke===0?0:X.get(Me,ke-1);let ie;F.getElement(Me)===K.getElement(ke)?(Me===0||ke===0?ie=0:ie=X.get(Me-1,ke-1),Me>0&&ke>0&&te.get(Me-1,ke-1)===3&&(ie+=le.get(Me-1,ke-1)),ie+=J?J(Me,ke):1):ie=-1;const ce=Math.max(Ue,Le,ie);if(ce===ie){const Re=Me>0&&ke>0?le.get(Me-1,ke-1):0;le.set(Me,ke,Re+1),te.set(Me,ke,3)}else ce===Ue?(le.set(Me,ke,0),te.set(Me,ke,1)):ce===Le&&(le.set(Me,ke,0),te.set(Me,ke,2));X.set(Me,ke,ce)}const ge=[];let we=F.length,pe=K.length;function Pe(Me,ke){(Me+1!==we||ke+1!==pe)&&ge.push(new _.i8(new w.q(Me+1,we),new w.q(ke+1,pe))),we=Me,pe=ke}let Ne=F.length-1,ae=K.length-1;for(;Ne>=0&&ae>=0;)te.get(Ne,ae)===3?(Pe(Ne,ae),Ne--,ae--):te.get(Ne,ae)===1?Ne--:ae--;return Pe(-1,-1),ge.reverse(),new _.KU(ge,!1)}}class o{compute(F,K,m=_.n0.instance){if(F.length===0||K.length===0)return _.KU.trivial(F,K);const J=F,X=K;function te(ke,Ue){for(;ke<J.length&&Ue<X.length&&J.getElement(ke)===X.getElement(Ue);)ke++,Ue++;return ke}let le=0;const ge=new d;ge.set(0,te(0,0));const we=new n;we.set(0,ge.get(0)===0?null:new u(null,0,0,ge.get(0)));let pe=0;e:for(;;){if(le++,!m.isValid())return _.KU.trivialTimedOut(J,X);const ke=-Math.min(le,X.length+le%2),Ue=Math.min(le,J.length+le%2);for(pe=ke;pe<=Ue;pe+=2){let Le=0;const ie=pe===Ue?-1:ge.get(pe+1),ce=pe===ke?-1:ge.get(pe-1)+1;Le++;const Re=Math.min(Math.max(ie,ce),J.length),ye=Re-pe;if(Le++,Re>J.length||ye>X.length)continue;const Se=te(Re,ye);ge.set(pe,Se);const me=Re===ie?we.get(pe+1):we.get(pe-1);if(we.set(pe,Se!==Re?new u(me,Re,ye,Se-Re):me),ge.get(pe)===J.length&&ge.get(pe)-pe===X.length)break e}}let Pe=we.get(pe);const Ne=[];let ae=J.length,Me=X.length;for(;;){const ke=Pe?Pe.x+Pe.length:0,Ue=Pe?Pe.y+Pe.length:0;if((ke!==ae||Ue!==Me)&&Ne.push(new _.i8(new w.q(ke,ae),new w.q(Ue,Me))),!Pe)break;ae=Pe.x,Me=Pe.y,Pe=Pe.prev}return Ne.reverse(),new _.KU(Ne,!1)}}class u{constructor(F,K,m,J){this.prev=F,this.x=K,this.y=m,this.length=J}}class d{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(F){return F<0?(F=-F-1,this.negativeArr[F]):this.positiveArr[F]}set(F,K){if(F<0){if(F=-F-1,F>=this.negativeArr.length){const m=this.negativeArr;this.negativeArr=new Int32Array(m.length*2),this.negativeArr.set(m)}this.negativeArr[F]=K}else{if(F>=this.positiveArr.length){const m=this.positiveArr;this.positiveArr=new Int32Array(m.length*2),this.positiveArr.set(m)}this.positiveArr[F]=K}}}class n{constructor(){this.positiveArr=[],this.negativeArr=[]}get(F){return F<0?(F=-F-1,this.negativeArr[F]):this.positiveArr[F]}set(F,K){F<0?(F=-F-1,this.negativeArr[F]=K):this.positiveArr[F]=K}}var i=e(54648),f=e(35534),v=e(43702),a=e(50187);class S{constructor(F,K,m){this.lines=F,this.considerWhitespaceChanges=m,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let J=!1;K.start>0&&K.endExclusive>=F.length&&(K=new w.q(K.start-1,K.endExclusive),J=!0),this.lineRange=K,this.firstCharOffsetByLine[0]=0;for(let X=this.lineRange.start;X<this.lineRange.endExclusive;X++){let te=F[X],le=0;if(J)le=te.length,te="",J=!1;else if(!m){const ge=te.trimStart();le=te.length-ge.length,te=ge.trimEnd()}this.additionalOffsetByLine.push(le);for(let ge=0;ge<te.length;ge++)this.elements.push(te.charCodeAt(ge));X<F.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLine[X-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new w.q(0,this.length))}getText(F){return this.elements.slice(F.start,F.endExclusive).map(K=>String.fromCharCode(K)).join("")}getElement(F){return this.elements[F]}get length(){return this.elements.length}getBoundaryScore(F){const K=E(F>0?this.elements[F-1]:-1),m=E(F<this.elements.length?this.elements[F]:-1);if(K===7&&m===8)return 0;let J=0;return K!==m&&(J+=10,K===0&&m===1&&(J+=1)),J+=C(K),J+=C(m),J}translateOffset(F){if(this.lineRange.isEmpty)return new a.L(this.lineRange.start+1,1);const K=(0,f.Jw)(this.firstCharOffsetByLine,m=>m<=F);return new a.L(this.lineRange.start+K+1,F-this.firstCharOffsetByLine[K]+this.additionalOffsetByLine[K]+1)}translateRange(F){return c.e.fromPositions(this.translateOffset(F.start),this.translateOffset(F.endExclusive))}findWordContaining(F){if(F<0||F>=this.elements.length||!g(this.elements[F]))return;let K=F;for(;K>0&&g(this.elements[K-1]);)K--;let m=F;for(;m<this.elements.length&&g(this.elements[m]);)m++;return new w.q(K,m)}countLinesIn(F){return this.translateOffset(F.endExclusive).lineNumber-this.translateOffset(F.start).lineNumber}isStronglyEqual(F,K){return this.elements[F]===this.elements[K]}extendToFullLines(F){var K,m;const J=(K=(0,f.ti)(this.firstCharOffsetByLine,te=>te<=F.start))!==null&&K!==void 0?K:0,X=(m=(0,f.cn)(this.firstCharOffsetByLine,te=>F.endExclusive<=te))!==null&&m!==void 0?m:this.elements.length;return new w.q(J,X)}}function g(j){return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57}const y={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:3,[7]:10,[8]:10};function C(j){return y[j]}function E(j){return j===10?8:j===13?7:M(j)?6:j>=97&&j<=122?0:j>=65&&j<=90?1:j>=48&&j<=57?2:j===-1?3:j===44||j===59?5:4}function A(j,F,K,m,J,X){let{moves:te,excludedChanges:le}=B(j,F,K,X);if(!X.isValid())return[];const ge=j.filter(pe=>!le.has(pe)),we=W(ge,m,J,F,K,X);return(0,b.vA)(te,we),te=Y(te),te=te.filter(pe=>{const Pe=pe.original.toOffsetRange().slice(F).map(ae=>ae.trim());return Pe.join(`
`).length>=15&&N(Pe,ae=>ae.length>=2)>=2}),te=R(j,te),te}function N(j,F){let K=0;for(const m of j)F(m)&&K++;return K}function B(j,F,K,m){const J=[],X=j.filter(ge=>ge.modified.isEmpty&&ge.original.length>=3).map(ge=>new D(ge.original,F,ge)),te=new Set(j.filter(ge=>ge.original.isEmpty&&ge.modified.length>=3).map(ge=>new D(ge.modified,K,ge))),le=new Set;for(const ge of X){let we=-1,pe;for(const Pe of te){const Ne=ge.computeSimilarity(Pe);Ne>we&&(we=Ne,pe=Pe)}if(we>.9&&pe&&(te.delete(pe),J.push(new i.f0(ge.range,pe.range)),le.add(ge.source),le.add(pe.source)),!m.isValid())return{moves:J,excludedChanges:le}}return{moves:J,excludedChanges:le}}function W(j,F,K,m,J,X){const te=[],le=new v.ri;for(const Ne of j)for(let ae=Ne.original.startLineNumber;ae<Ne.original.endLineNumberExclusive-2;ae++){const Me=`${F[ae-1]}:${F[ae+1-1]}:${F[ae+2-1]}`;le.add(Me,{range:new r.z(ae,ae+3)})}const ge=[];j.sort((0,b.tT)(Ne=>Ne.modified.startLineNumber,b.fv));for(const Ne of j){let ae=[];for(let Me=Ne.modified.startLineNumber;Me<Ne.modified.endLineNumberExclusive-2;Me++){const ke=`${K[Me-1]}:${K[Me+1-1]}:${K[Me+2-1]}`,Ue=new r.z(Me,Me+3),Le=[];le.forEach(ke,({range:ie})=>{for(const Re of ae)if(Re.originalLineRange.endLineNumberExclusive+1===ie.endLineNumberExclusive&&Re.modifiedLineRange.endLineNumberExclusive+1===Ue.endLineNumberExclusive){Re.originalLineRange=new r.z(Re.originalLineRange.startLineNumber,ie.endLineNumberExclusive),Re.modifiedLineRange=new r.z(Re.modifiedLineRange.startLineNumber,Ue.endLineNumberExclusive),Le.push(Re);return}const ce={modifiedLineRange:Ue,originalLineRange:ie};ge.push(ce),Le.push(ce)}),ae=Le}if(!X.isValid())return[]}ge.sort((0,b.BV)((0,b.tT)(Ne=>Ne.modifiedLineRange.length,b.fv)));const we=new r.i,pe=new r.i;for(const Ne of ge){const ae=Ne.modifiedLineRange.startLineNumber-Ne.originalLineRange.startLineNumber,Me=we.subtractFrom(Ne.modifiedLineRange),ke=pe.subtractFrom(Ne.originalLineRange).getWithDelta(ae),Ue=Me.getIntersection(ke);for(const Le of Ue.ranges){if(Le.length<3)continue;const ie=Le,ce=Le.delta(-ae);te.push(new i.f0(ce,ie)),we.addRange(ie),pe.addRange(ce)}}te.sort((0,b.tT)(Ne=>Ne.original.startLineNumber,b.fv));const Pe=new f.b1(j);for(let Ne=0;Ne<te.length;Ne++){const ae=te[Ne],Me=Pe.findLastMonotonous(Se=>Se.original.startLineNumber<=ae.original.startLineNumber),ke=(0,f.ti)(j,Se=>Se.modified.startLineNumber<=ae.modified.startLineNumber),Ue=Math.max(ae.original.startLineNumber-Me.original.startLineNumber,ae.modified.startLineNumber-ke.modified.startLineNumber),Le=Pe.findLastMonotonous(Se=>Se.original.startLineNumber<ae.original.endLineNumberExclusive),ie=(0,f.ti)(j,Se=>Se.modified.startLineNumber<ae.modified.endLineNumberExclusive),ce=Math.max(Le.original.endLineNumberExclusive-ae.original.endLineNumberExclusive,ie.modified.endLineNumberExclusive-ae.modified.endLineNumberExclusive);let Re;for(Re=0;Re<Ue;Re++){const Se=ae.original.startLineNumber-Re-1,me=ae.modified.startLineNumber-Re-1;if(Se>m.length||me>J.length||we.contains(me)||pe.contains(Se)||!$(m[Se-1],J[me-1],X))break}Re>0&&(pe.addRange(new r.z(ae.original.startLineNumber-Re,ae.original.startLineNumber)),we.addRange(new r.z(ae.modified.startLineNumber-Re,ae.modified.startLineNumber)));let ye;for(ye=0;ye<ce;ye++){const Se=ae.original.endLineNumberExclusive+ye,me=ae.modified.endLineNumberExclusive+ye;if(Se>m.length||me>J.length||we.contains(me)||pe.contains(Se)||!$(m[Se-1],J[me-1],X))break}ye>0&&(pe.addRange(new r.z(ae.original.endLineNumberExclusive,ae.original.endLineNumberExclusive+ye)),we.addRange(new r.z(ae.modified.endLineNumberExclusive,ae.modified.endLineNumberExclusive+ye))),(Re>0||ye>0)&&(te[Ne]=new i.f0(new r.z(ae.original.startLineNumber-Re,ae.original.endLineNumberExclusive+ye),new r.z(ae.modified.startLineNumber-Re,ae.modified.endLineNumberExclusive+ye)))}return te}function $(j,F,K){if(j.trim()===F.trim())return!0;if(j.length>300&&F.length>300)return!1;const J=new o().compute(new S([j],new w.q(0,1),!1),new S([F],new w.q(0,1),!1),K);let X=0;const te=_.i8.invert(J.diffs,j.length);for(const pe of te)pe.seq1Range.forEach(Pe=>{M(j.charCodeAt(Pe))||X++});function le(pe){let Pe=0;for(let Ne=0;Ne<j.length;Ne++)M(pe.charCodeAt(Ne))||Pe++;return Pe}const ge=le(j.length>F.length?j:F);return X/ge>.6&&ge>10}function Y(j){if(j.length===0)return j;j.sort((0,b.tT)(K=>K.original.startLineNumber,b.fv));const F=[j[0]];for(let K=1;K<j.length;K++){const m=F[F.length-1],J=j[K],X=J.original.startLineNumber-m.original.endLineNumberExclusive,te=J.modified.startLineNumber-m.modified.endLineNumberExclusive;if(X>=0&&te>=0&&X+te<=2){F[F.length-1]=m.join(J);continue}F.push(J)}return F}function R(j,F){const K=new f.b1(j);return F=F.filter(m=>{const J=K.findLastMonotonous(le=>le.original.startLineNumber<m.original.endLineNumberExclusive)||new i.f0(new r.z(1,1),new r.z(1,1)),X=(0,f.ti)(j,le=>le.modified.startLineNumber<m.modified.endLineNumberExclusive);return J!==X}),F}var L=e(39156),z=e(60652);class O{constructor(F,K){this.trimmedHash=F,this.lines=K}getElement(F){return this.trimmedHash[F]}get length(){return this.trimmedHash.length}getBoundaryScore(F){const K=F===0?0:P(this.lines[F-1]),m=F===this.lines.length?0:P(this.lines[F]);return 1e3-(K+m)}getText(F){return this.lines.slice(F.start,F.endExclusive).join(`
`)}isStronglyEqual(F,K){return this.lines[F]===this.lines[K]}}function P(j){let F=0;for(;F<j.length&&(j.charCodeAt(F)===32||j.charCodeAt(F)===9);)F++;return F}class H{constructor(){this.dynamicProgrammingDiffing=new p,this.myersDiffingAlgorithm=new o}computeDiff(F,K,m){if(F.length<=1&&(0,b.fS)(F,K,(ye,Se)=>ye===Se))return new z.h([],[],!1);if(F.length===1&&F[0].length===0||K.length===1&&K[0].length===0)return new z.h([new i.gB(new r.z(1,F.length+1),new r.z(1,K.length+1),[new i.iy(new c.e(1,1,F.length,F[0].length+1),new c.e(1,1,K.length,K[0].length+1))])],[],!1);const J=m.maxComputationTimeMs===0?_.n0.instance:new _.NT(m.maxComputationTimeMs),X=!m.ignoreTrimWhitespace,te=new Map;function le(ye){let Se=te.get(ye);return Se===void 0&&(Se=te.size,te.set(ye,Se)),Se}const ge=F.map(ye=>le(ye.trim())),we=K.map(ye=>le(ye.trim())),pe=new O(ge,F),Pe=new O(we,K),Ne=(()=>pe.length+Pe.length<1700?this.dynamicProgrammingDiffing.compute(pe,Pe,J,(ye,Se)=>F[ye]===K[Se]?K[Se].length===0?.1:1+Math.log(1+K[Se].length):.99):this.myersDiffingAlgorithm.compute(pe,Pe))();let ae=Ne.diffs,Me=Ne.hitTimeout;ae=(0,L.xG)(pe,Pe,ae),ae=(0,L.rh)(pe,Pe,ae);const ke=[],Ue=ye=>{if(X)for(let Se=0;Se<ye;Se++){const me=Le+Se,he=ie+Se;if(F[me]!==K[he]){const se=this.refineDiff(F,K,new _.i8(new w.q(me,me+1),new w.q(he,he+1)),J,X);for(const ve of se.mappings)ke.push(ve);se.hitTimeout&&(Me=!0)}}};let Le=0,ie=0;for(const ye of ae){(0,U.eZ)(()=>ye.seq1Range.start-Le===ye.seq2Range.start-ie);const Se=ye.seq1Range.start-Le;Ue(Se),Le=ye.seq1Range.endExclusive,ie=ye.seq2Range.endExclusive;const me=this.refineDiff(F,K,ye,J,X);me.hitTimeout&&(Me=!0);for(const he of me.mappings)ke.push(he)}Ue(F.length-Le);const ce=V(ke,F,K);let Re=[];return m.computeMoves&&(Re=this.computeMoves(ce,F,K,ge,we,J,X)),(0,U.eZ)(()=>{function ye(me,he){if(me.lineNumber<1||me.lineNumber>he.length)return!1;const se=he[me.lineNumber-1];return!(me.column<1||me.column>se.length+1)}function Se(me,he){return!(me.startLineNumber<1||me.startLineNumber>he.length+1||me.endLineNumberExclusive<1||me.endLineNumberExclusive>he.length+1)}for(const me of ce){if(!me.innerChanges)return!1;for(const he of me.innerChanges)if(!(ye(he.modifiedRange.getStartPosition(),K)&&ye(he.modifiedRange.getEndPosition(),K)&&ye(he.originalRange.getStartPosition(),F)&&ye(he.originalRange.getEndPosition(),F)))return!1;if(!Se(me.modified,K)||!Se(me.original,F))return!1}return!0}),new z.h(ce,Re,Me)}computeMoves(F,K,m,J,X,te,le){return A(F,K,m,J,X,te).map(pe=>{const Pe=this.refineDiff(K,m,new _.i8(pe.original.toOffsetRange(),pe.modified.toOffsetRange()),te,le),Ne=V(Pe.mappings,K,m,!0);return new z.y(pe,Ne)})}refineDiff(F,K,m,J,X){const te=new S(F,m.seq1Range,X),le=new S(K,m.seq2Range,X),ge=te.length+le.length<500?this.dynamicProgrammingDiffing.compute(te,le,J):this.myersDiffingAlgorithm.compute(te,le,J);let we=ge.diffs;return we=(0,L.xG)(te,le,we),we=(0,L.g0)(te,le,we),we=(0,L.oK)(te,le,we),we=(0,L.DI)(te,le,we),{mappings:we.map(Pe=>new i.iy(te.translateRange(Pe.seq1Range),le.translateRange(Pe.seq2Range))),hitTimeout:ge.hitTimeout}}}function V(j,F,K,m=!1){const J=[];for(const X of(0,b.mw)(j.map(te=>G(te,F,K)),(te,le)=>te.original.overlapOrTouch(le.original)||te.modified.overlapOrTouch(le.modified))){const te=X[0],le=X[X.length-1];J.push(new i.gB(te.original.join(le.original),te.modified.join(le.modified),X.map(ge=>ge.innerChanges[0])))}return(0,U.eZ)(()=>!m&&J.length>0&&J[0].original.startLineNumber!==J[0].modified.startLineNumber?!1:(0,U.DM)(J,(X,te)=>te.original.startLineNumber-X.original.endLineNumberExclusive===te.modified.startLineNumber-X.modified.endLineNumberExclusive&&X.original.endLineNumberExclusive<te.original.startLineNumber&&X.modified.endLineNumberExclusive<te.modified.startLineNumber)),J}function G(j,F,K){let m=0,J=0;j.modifiedRange.endColumn===1&&j.originalRange.endColumn===1&&j.originalRange.startLineNumber+m<=j.originalRange.endLineNumber&&j.modifiedRange.startLineNumber+m<=j.modifiedRange.endLineNumber&&(J=-1),j.modifiedRange.startColumn-1>=K[j.modifiedRange.startLineNumber-1].length&&j.originalRange.startColumn-1>=F[j.originalRange.startLineNumber-1].length&&j.originalRange.startLineNumber<=j.originalRange.endLineNumber+J&&j.modifiedRange.startLineNumber<=j.modifiedRange.endLineNumber+J&&(m=1);const X=new r.z(j.originalRange.startLineNumber+m,j.originalRange.endLineNumber+1+J),te=new r.z(j.modifiedRange.startLineNumber+m,j.modifiedRange.endLineNumber+1+J);return new i.gB(X,te,[j])}},39156:function(Ot,Ke,e){"use strict";e.d(Ke,{DI:function(){return u},g0:function(){return D},oK:function(){return M},rh:function(){return o},xG:function(){return w}});var b=e(9488),U=e(19247),r=e(25919);function w(d,n,i){let f=i;return f=c(d,n,f),f=c(d,n,f),f=_(d,n,f),f}function c(d,n,i){if(i.length===0)return i;const f=[];f.push(i[0]);for(let a=1;a<i.length;a++){const S=f[f.length-1];let g=i[a];if(g.seq1Range.isEmpty||g.seq2Range.isEmpty){const y=g.seq1Range.start-S.seq1Range.endExclusive;let C;for(C=1;C<=y&&!(d.getElement(g.seq1Range.start-C)!==d.getElement(g.seq1Range.endExclusive-C)||n.getElement(g.seq2Range.start-C)!==n.getElement(g.seq2Range.endExclusive-C));C++);if(C--,C===y){f[f.length-1]=new r.i8(new U.q(S.seq1Range.start,g.seq1Range.endExclusive-y),new U.q(S.seq2Range.start,g.seq2Range.endExclusive-y));continue}g=g.delta(-C)}f.push(g)}const v=[];for(let a=0;a<f.length-1;a++){const S=f[a+1];let g=f[a];if(g.seq1Range.isEmpty||g.seq2Range.isEmpty){const y=S.seq1Range.start-g.seq1Range.endExclusive;let C;for(C=0;C<y&&!(!d.isStronglyEqual(g.seq1Range.start+C,g.seq1Range.endExclusive+C)||!n.isStronglyEqual(g.seq2Range.start+C,g.seq2Range.endExclusive+C));C++);if(C===y){f[a+1]=new r.i8(new U.q(g.seq1Range.start+y,S.seq1Range.endExclusive),new U.q(g.seq2Range.start+y,S.seq2Range.endExclusive));continue}C>0&&(g=g.delta(C))}v.push(g)}return f.length>0&&v.push(f[f.length-1]),v}function _(d,n,i){if(!d.getBoundaryScore||!n.getBoundaryScore)return i;for(let f=0;f<i.length;f++){const v=f>0?i[f-1]:void 0,a=i[f],S=f+1<i.length?i[f+1]:void 0,g=new U.q(v?v.seq1Range.start+1:0,S?S.seq1Range.endExclusive-1:d.length),y=new U.q(v?v.seq2Range.start+1:0,S?S.seq2Range.endExclusive-1:n.length);a.seq1Range.isEmpty?i[f]=I(a,d,n,g,y):a.seq2Range.isEmpty&&(i[f]=I(a.swap(),n,d,y,g).swap())}return i}function I(d,n,i,f,v){let S=1;for(;d.seq1Range.start-S>=f.start&&d.seq2Range.start-S>=v.start&&i.isStronglyEqual(d.seq2Range.start-S,d.seq2Range.endExclusive-S)&&S<100;)S++;S--;let g=0;for(;d.seq1Range.start+g<f.endExclusive&&d.seq2Range.endExclusive+g<v.endExclusive&&i.isStronglyEqual(d.seq2Range.start+g,d.seq2Range.endExclusive+g)&&g<100;)g++;if(S===0&&g===0)return d;let y=0,C=-1;for(let E=-S;E<=g;E++){const A=d.seq2Range.start+E,N=d.seq2Range.endExclusive+E,B=d.seq1Range.start+E,W=n.getBoundaryScore(B)+i.getBoundaryScore(A)+i.getBoundaryScore(N);W>C&&(C=W,y=E)}return d.delta(y)}function M(d,n,i){const f=[];for(const v of i){const a=f[f.length-1];if(!a){f.push(v);continue}v.seq1Range.start-a.seq1Range.endExclusive<=2||v.seq2Range.start-a.seq2Range.endExclusive<=2?f[f.length-1]=new r.i8(a.seq1Range.join(v.seq1Range),a.seq2Range.join(v.seq2Range)):f.push(v)}return f}function D(d,n,i){const f=[];let v;function a(){if(!v)return;const g=v.s1Range.length-v.deleted,y=v.s2Range.length-v.added;Math.max(v.deleted,v.added)+(v.count-1)>g&&f.push(new r.i8(v.s1Range,v.s2Range)),v=void 0}for(const g of i){let y=function(B,W){var $,Y,R,L;if(!v||!v.s1Range.containsRange(B)||!v.s2Range.containsRange(W))if(v&&!(v.s1Range.endExclusive<B.start&&v.s2Range.endExclusive<W.start)){const P=U.q.tryCreate(v.s1Range.endExclusive,B.start),H=U.q.tryCreate(v.s2Range.endExclusive,W.start);v.deleted+=($=P==null?void 0:P.length)!==null&&$!==void 0?$:0,v.added+=(Y=H==null?void 0:H.length)!==null&&Y!==void 0?Y:0,v.s1Range=v.s1Range.join(B),v.s2Range=v.s2Range.join(W)}else a(),v={added:0,deleted:0,count:0,s1Range:B,s2Range:W};const z=B.intersect(g.seq1Range),O=W.intersect(g.seq2Range);v.count++,v.deleted+=(R=z==null?void 0:z.length)!==null&&R!==void 0?R:0,v.added+=(L=O==null?void 0:O.length)!==null&&L!==void 0?L:0};const C=d.findWordContaining(g.seq1Range.start-1),E=n.findWordContaining(g.seq2Range.start-1),A=d.findWordContaining(g.seq1Range.endExclusive),N=n.findWordContaining(g.seq2Range.endExclusive);C&&A&&E&&N&&C.equals(A)&&E.equals(N)?y(C,E):(C&&E&&y(C,E),A&&N&&y(A,N))}return a(),p(i,f)}function p(d,n){const i=[];for(;d.length>0||n.length>0;){const f=d[0],v=n[0];let a;f&&(!v||f.seq1Range.start<v.seq1Range.start)?a=d.shift():a=n.shift(),i.length>0&&i[i.length-1].seq1Range.endExclusive>=a.seq1Range.start?i[i.length-1]=i[i.length-1].join(a):i.push(a)}return i}function o(d,n,i){let f=i;if(f.length===0)return f;let v=0,a;do{a=!1;const S=[f[0]];for(let g=1;g<f.length;g++){let E=function(N,B){const W=new U.q(C.seq1Range.endExclusive,y.seq1Range.start);return d.getText(W).replace(/\s/g,"").length<=4&&(N.seq1Range.length+N.seq2Range.length>5||B.seq1Range.length+B.seq2Range.length>5)};const y=f[g],C=S[S.length-1];E(C,y)?(a=!0,S[S.length-1]=S[S.length-1].join(y)):S.push(y)}f=S}while(v++<10&&a);return f}function u(d,n,i){let f=i;if(f.length===0)return f;let v=0,a;do{a=!1;const g=[f[0]];for(let y=1;y<f.length;y++){let A=function(B,W){const $=new U.q(E.seq1Range.endExclusive,C.seq1Range.start);if(d.countLinesIn($)>5||$.length>500)return!1;const R=d.getText($).trim();if(R.length>20||R.split(/\r\n|\r|\n/).length>1)return!1;const L=d.countLinesIn(B.seq1Range),z=B.seq1Range.length,O=n.countLinesIn(B.seq2Range),P=B.seq2Range.length,H=d.countLinesIn(W.seq1Range),V=W.seq1Range.length,G=n.countLinesIn(W.seq2Range),j=W.seq2Range.length,F=2*40+50;function K(m){return Math.min(m,F)}return Math.pow(Math.pow(K(L*40+z),1.5)+Math.pow(K(O*40+P),1.5),1.5)+Math.pow(Math.pow(K(H*40+V),1.5)+Math.pow(K(G*40+j),1.5),1.5)>aa(aa(F,1.5),1.5)*1.3};const C=f[y],E=g[g.length-1];A(E,C)?(a=!0,g[g.length-1]=g[g.length-1].join(C)):g.push(C)}f=g}while(v++<10&&a);const S=[];return(0,b.KO)(f,(g,y,C)=>{let E=y;function A(R){return R.length>0&&R.trim().length<=3&&y.seq1Range.length+y.seq2Range.length>100}const N=d.extendToFullLines(y.seq1Range),B=d.getText(new U.q(N.start,y.seq1Range.start));A(B)&&(E=E.deltaStart(-B.length));const W=d.getText(new U.q(y.seq1Range.endExclusive,N.endExclusive));A(W)&&(E=E.deltaEnd(W.length));const $=r.i8.fromOffsetPairs(g?g.getEndExclusives():r.zl.zero,C?C.getStarts():r.zl.max),Y=E.intersect($);S.push(Y)}),S}},60652:function(Ot,Ke,e){"use strict";e.d(Ke,{h:function(){return b},y:function(){return U}});class b{constructor(w,c,_){this.changes=w,this.moves=c,this.hitTimeout=_}}class U{constructor(w,c){this.lineRangeMapping=w,this.changes=c}}},54648:function(Ot,Ke,e){"use strict";e.d(Ke,{f0:function(){return U},gB:function(){return r},iy:function(){return w}});var b=e(45463);class U{static inverse(_,I,M){const D=[];let p=1,o=1;for(const d of _){const n=new r(new b.z(p,d.original.startLineNumber),new b.z(o,d.modified.startLineNumber),void 0);n.modified.isEmpty||D.push(n),p=d.original.endLineNumberExclusive,o=d.modified.endLineNumberExclusive}const u=new r(new b.z(p,I+1),new b.z(o,M+1),void 0);return u.modified.isEmpty||D.push(u),D}constructor(_,I){this.original=_,this.modified=I}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new U(this.modified,this.original)}join(_){return new U(this.original.join(_.original),this.modified.join(_.modified))}}class r extends U{constructor(_,I,M){super(_,I),this.innerChanges=M}flip(){var _;return new r(this.modified,this.original,(_=this.innerChanges)===null||_===void 0?void 0:_.map(I=>I.flip()))}}class w{constructor(_,I){this.originalRange=_,this.modifiedRange=I}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new w(this.modifiedRange,this.originalRange)}}},30653:function(Ot,Ke,e){"use strict";e.d(Ke,{p:function(){return b}});class b{constructor(r,w,c,_,I,M,D){this.id=r,this.label=w,this.alias=c,this.metadata=_,this._precondition=I,this._run=M,this._contextKeyService=D}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(r){return this.isSupported()?this._run(r):Promise.resolve(void 0)}}},96518:function(Ot,Ke,e){"use strict";e.d(Ke,{g:function(){return b}});const b={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Ot,Ke,e){"use strict";e.d(Ke,{u:function(){return r}});var b=e(63580),U=e(32064),r;(function(w){w.editorSimpleInput=new U.uy("editorSimpleInput",!1,!0),w.editorTextFocus=new U.uy("editorTextFocus",!1,b.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),w.focus=new U.uy("editorFocus",!1,b.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),w.textInputFocus=new U.uy("textInputFocus",!1,b.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),w.readOnly=new U.uy("editorReadonly",!1,b.NC("editorReadonly","Whether the editor is read-only")),w.inDiffEditor=new U.uy("inDiffEditor",!1,b.NC("inDiffEditor","Whether the context is a diff editor")),w.isEmbeddedDiffEditor=new U.uy("isEmbeddedDiffEditor",!1,b.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),w.inMultiDiffEditor=new U.uy("inMultiDiffEditor",!1,b.NC("inMultiDiffEditor","Whether the context is a multi diff editor")),w.multiDiffEditorAllCollapsed=new U.uy("multiDiffEditorAllCollapsed",void 0,b.NC("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),w.hasChanges=new U.uy("diffEditorHasChanges",!1,b.NC("diffEditorHasChanges","Whether the diff editor has changes")),w.comparingMovedCode=new U.uy("comparingMovedCode",!1,b.NC("comparingMovedCode","Whether a moved code block is selected for comparison")),w.accessibleDiffViewerVisible=new U.uy("accessibleDiffViewerVisible",!1,b.NC("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),w.diffEditorRenderSideBySideInlineBreakpointReached=new U.uy("diffEditorRenderSideBySideInlineBreakpointReached",!1,b.NC("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),w.columnSelection=new U.uy("editorColumnSelection",!1,b.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),w.writable=w.readOnly.toNegated(),w.hasNonEmptySelection=new U.uy("editorHasSelection",!1,b.NC("editorHasSelection","Whether the editor has text selected")),w.hasOnlyEmptySelection=w.hasNonEmptySelection.toNegated(),w.hasMultipleSelections=new U.uy("editorHasMultipleSelections",!1,b.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),w.hasSingleSelection=w.hasMultipleSelections.toNegated(),w.tabMovesFocus=new U.uy("editorTabMovesFocus",!1,b.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),w.tabDoesNotMoveFocus=w.tabMovesFocus.toNegated(),w.isInWalkThroughSnippet=new U.uy("isInEmbeddedEditor",!1,!0),w.canUndo=new U.uy("canUndo",!1,!0),w.canRedo=new U.uy("canRedo",!1,!0),w.hoverVisible=new U.uy("editorHoverVisible",!1,b.NC("editorHoverVisible","Whether the editor hover is visible")),w.hoverFocused=new U.uy("editorHoverFocused",!1,b.NC("editorHoverFocused","Whether the editor hover is focused")),w.stickyScrollFocused=new U.uy("stickyScrollFocused",!1,b.NC("stickyScrollFocused","Whether the sticky scroll is focused")),w.stickyScrollVisible=new U.uy("stickyScrollVisible",!1,b.NC("stickyScrollVisible","Whether the sticky scroll is visible")),w.standaloneColorPickerVisible=new U.uy("standaloneColorPickerVisible",!1,b.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),w.standaloneColorPickerFocused=new U.uy("standaloneColorPickerFocused",!1,b.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),w.inCompositeEditor=new U.uy("inCompositeEditor",void 0,b.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),w.notInCompositeEditor=w.inCompositeEditor.toNegated(),w.languageId=new U.uy("editorLangId","",b.NC("editorLangId","The language identifier of the editor")),w.hasCompletionItemProvider=new U.uy("editorHasCompletionItemProvider",!1,b.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),w.hasCodeActionsProvider=new U.uy("editorHasCodeActionsProvider",!1,b.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),w.hasCodeLensProvider=new U.uy("editorHasCodeLensProvider",!1,b.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),w.hasDefinitionProvider=new U.uy("editorHasDefinitionProvider",!1,b.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),w.hasDeclarationProvider=new U.uy("editorHasDeclarationProvider",!1,b.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),w.hasImplementationProvider=new U.uy("editorHasImplementationProvider",!1,b.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),w.hasTypeDefinitionProvider=new U.uy("editorHasTypeDefinitionProvider",!1,b.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),w.hasHoverProvider=new U.uy("editorHasHoverProvider",!1,b.NC("editorHasHoverProvider","Whether the editor has a hover provider")),w.hasDocumentHighlightProvider=new U.uy("editorHasDocumentHighlightProvider",!1,b.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),w.hasDocumentSymbolProvider=new U.uy("editorHasDocumentSymbolProvider",!1,b.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),w.hasReferenceProvider=new U.uy("editorHasReferenceProvider",!1,b.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),w.hasRenameProvider=new U.uy("editorHasRenameProvider",!1,b.NC("editorHasRenameProvider","Whether the editor has a rename provider")),w.hasSignatureHelpProvider=new U.uy("editorHasSignatureHelpProvider",!1,b.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),w.hasInlayHintsProvider=new U.uy("editorHasInlayHintsProvider",!1,b.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),w.hasDocumentFormattingProvider=new U.uy("editorHasDocumentFormattingProvider",!1,b.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),w.hasDocumentSelectionFormattingProvider=new U.uy("editorHasDocumentSelectionFormattingProvider",!1,b.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),w.hasMultipleDocumentFormattingProvider=new U.uy("editorHasMultipleDocumentFormattingProvider",!1,b.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),w.hasMultipleDocumentSelectionFormattingProvider=new U.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,b.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(r||(r={}))},10637:function(Ot,Ke,e){"use strict";e.d(Ke,{n:function(){return r},y:function(){return U}});const b=[];function U(w){b.push(w)}function r(){return b.slice(0)}},45797:function(Ot,Ke,e){"use strict";e.d(Ke,{N:function(){return b}});class b{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&768)>>>8}static containsBalancedBrackets(r){return(r&1024)!==0}static getFontStyle(r){return(r&30720)>>>11}static getForeground(r){return(r&16744448)>>>15}static getBackground(r){return(r&4278190080)>>>24}static getClassNameFromMetadata(r){let c="mtk"+this.getForeground(r);const _=this.getFontStyle(r);return _&1&&(c+=" mtki"),_&2&&(c+=" mtkb"),_&4&&(c+=" mtku"),_&8&&(c+=" mtks"),c}static getInlineStyleFromMetadata(r,w){const c=this.getForeground(r),_=this.getFontStyle(r);let I=`color: ${w[c]};`;_&1&&(I+="font-style: italic;"),_&2&&(I+="font-weight: bold;");let M="";return _&4&&(M+=" underline"),_&8&&(M+=" line-through"),M&&(I+=`text-decoration:${M};`),I}static getPresentationFromMetadata(r){const w=this.getForeground(r),c=this.getFontStyle(r);return{foreground:w,italic:!!(c&1),bold:!!(c&2),underline:!!(c&4),strikethrough:!!(c&8)}}}},22970:function(Ot,Ke,e){"use strict";e.d(Ke,{G:function(){return r}});var b=e(14118),U=e(82663);function r(w,c,_,I,M,D){if(Array.isArray(w)){let p=0;for(const o of w){const u=r(o,c,_,I,M,D);if(u===10)return u;u>p&&(p=u)}return p}else{if(typeof w=="string")return I?w==="*"?5:w===_?10:0:0;if(w){const{language:p,pattern:o,scheme:u,hasAccessToAllModels:d,notebookType:n}=w;if(!I&&!d)return 0;n&&M&&(c=M);let i=0;if(u)if(u===c.scheme)i=10;else if(u==="*")i=5;else return 0;if(p)if(p===_)i=10;else if(p==="*")i=Math.max(i,5);else return 0;if(n)if(n===D)i=10;else if(n==="*"&&D!==void 0)i=Math.max(i,5);else return 0;if(o){let f;if(typeof o=="string"?f=o:f=Ni(Xn({},o),{base:(0,U.Fv)(o.base)}),f===c.fsPath||(0,b.EQ)(f,c.fsPath))i=10;else return 0}return i}else return 0}}},43155:function(Ot,Ke,e){"use strict";e.d(Ke,{mY:function(){return E},gX:function(){return u},MY:function(){return f},DI:function(){return o},AD:function(){return C},gl:function(){return A},bw:function(){return d},MO:function(){return N},ln:function(){return n},WW:function(){return i},uZ:function(){return g},WU:function(){return D},RW:function(){return B},hG:function(){return p},R4:function(){return S},vx:function(){return v}});var b=e(73046),U=e(70666),r=e(24314),w=e(4669),c=e(5976);class _{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new w.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange($){this._onDidChange.fire({changedLanguages:$,changedColorMap:!1})}register($,Y){return this._tokenizationSupports.set($,Y),this.handleChange([$]),(0,c.OF)(()=>{this._tokenizationSupports.get($)===Y&&(this._tokenizationSupports.delete($),this.handleChange([$]))})}get($){return this._tokenizationSupports.get($)||null}registerFactory($,Y){var R;(R=this._factories.get($))===null||R===void 0||R.dispose();const L=new I(this,$,Y);return this._factories.set($,L),(0,c.OF)(()=>{const z=this._factories.get($);!z||z!==L||(this._factories.delete($),z.dispose())})}getOrCreate($){return tn(this,null,function*(){const Y=this.get($);if(Y)return Y;const R=this._factories.get($);return!R||R.isResolved?null:(yield R.resolve(),this.get($))})}isResolved($){if(this.get($))return!0;const R=this._factories.get($);return!!(!R||R.isResolved)}setColorMap($){this._colorMap=$,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class I extends c.JT{get isResolved(){return this._isResolved}constructor($,Y,R){super(),this._registry=$,this._languageId=Y,this._factory=R,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return tn(this,null,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return tn(this,null,function*(){const $=yield this._factory.tokenizationSupport;this._isResolved=!0,$&&!this._isDisposed&&this._register(this._registry.register(this._languageId,$))})}}var M=e(63580);class D{constructor($,Y,R){this.offset=$,this.type=Y,this.language=R,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class p{constructor($,Y){this.tokens=$,this.endState=Y,this._tokenizationResultBrand=void 0}}class o{constructor($,Y){this.tokens=$,this.endState=Y,this._encodedTokenizationResultBrand=void 0}}var u;(function(W){const $=new Map;$.set(0,b.l.symbolMethod),$.set(1,b.l.symbolFunction),$.set(2,b.l.symbolConstructor),$.set(3,b.l.symbolField),$.set(4,b.l.symbolVariable),$.set(5,b.l.symbolClass),$.set(6,b.l.symbolStruct),$.set(7,b.l.symbolInterface),$.set(8,b.l.symbolModule),$.set(9,b.l.symbolProperty),$.set(10,b.l.symbolEvent),$.set(11,b.l.symbolOperator),$.set(12,b.l.symbolUnit),$.set(13,b.l.symbolValue),$.set(15,b.l.symbolEnum),$.set(14,b.l.symbolConstant),$.set(15,b.l.symbolEnum),$.set(16,b.l.symbolEnumMember),$.set(17,b.l.symbolKeyword),$.set(27,b.l.symbolSnippet),$.set(18,b.l.symbolText),$.set(19,b.l.symbolColor),$.set(20,b.l.symbolFile),$.set(21,b.l.symbolReference),$.set(22,b.l.symbolCustomColor),$.set(23,b.l.symbolFolder),$.set(24,b.l.symbolTypeParameter),$.set(25,b.l.account),$.set(26,b.l.issues);function Y(z){let O=$.get(z);return O||(console.info("No codicon found for CompletionItemKind "+z),O=b.l.symbolProperty),O}W.toIcon=Y;const R=new Map;R.set("method",0),R.set("function",1),R.set("constructor",2),R.set("field",3),R.set("variable",4),R.set("class",5),R.set("struct",6),R.set("interface",7),R.set("module",8),R.set("property",9),R.set("event",10),R.set("operator",11),R.set("unit",12),R.set("value",13),R.set("constant",14),R.set("enum",15),R.set("enum-member",16),R.set("enumMember",16),R.set("keyword",17),R.set("snippet",27),R.set("text",18),R.set("color",19),R.set("file",20),R.set("reference",21),R.set("customcolor",22),R.set("folder",23),R.set("type-parameter",24),R.set("typeParameter",24),R.set("account",25),R.set("issue",26);function L(z,O){let P=R.get(z);return typeof P=="undefined"&&!O&&(P=9),P}W.fromString=L})(u||(u={}));var d;(function(W){W[W.Automatic=0]="Automatic",W[W.Explicit=1]="Explicit"})(d||(d={}));class n{constructor($,Y,R,L){this.range=$,this.text=Y,this.completionKind=R,this.isSnippetText=L}equals($){return r.e.lift(this.range).equalsRange($.range)&&this.text===$.text&&this.completionKind===$.completionKind&&this.isSnippetText===$.isSnippetText}}var i;(function(W){W[W.Invoke=1]="Invoke",W[W.TriggerCharacter=2]="TriggerCharacter",W[W.ContentChange=3]="ContentChange"})(i||(i={}));var f;(function(W){W[W.Text=0]="Text",W[W.Read=1]="Read",W[W.Write=2]="Write"})(f||(f={}));function v(W){return W&&U.o.isUri(W.uri)&&r.e.isIRange(W.range)&&(r.e.isIRange(W.originSelectionRange)||r.e.isIRange(W.targetSelectionRange))}const a={[17]:(0,M.NC)("Array","array"),[16]:(0,M.NC)("Boolean","boolean"),[4]:(0,M.NC)("Class","class"),[13]:(0,M.NC)("Constant","constant"),[8]:(0,M.NC)("Constructor","constructor"),[9]:(0,M.NC)("Enum","enumeration"),[21]:(0,M.NC)("EnumMember","enumeration member"),[23]:(0,M.NC)("Event","event"),[7]:(0,M.NC)("Field","field"),[0]:(0,M.NC)("File","file"),[11]:(0,M.NC)("Function","function"),[10]:(0,M.NC)("Interface","interface"),[19]:(0,M.NC)("Key","key"),[5]:(0,M.NC)("Method","method"),[1]:(0,M.NC)("Module","module"),[2]:(0,M.NC)("Namespace","namespace"),[20]:(0,M.NC)("Null","null"),[15]:(0,M.NC)("Number","number"),[18]:(0,M.NC)("Object","object"),[24]:(0,M.NC)("Operator","operator"),[3]:(0,M.NC)("Package","package"),[6]:(0,M.NC)("Property","property"),[14]:(0,M.NC)("String","string"),[22]:(0,M.NC)("Struct","struct"),[25]:(0,M.NC)("TypeParameter","type parameter"),[12]:(0,M.NC)("Variable","variable")};function S(W,$){return(0,M.NC)("symbolAriaLabel","{0} ({1})",W,a[$])}var g;(function(W){const $=new Map;$.set(0,b.l.symbolFile),$.set(1,b.l.symbolModule),$.set(2,b.l.symbolNamespace),$.set(3,b.l.symbolPackage),$.set(4,b.l.symbolClass),$.set(5,b.l.symbolMethod),$.set(6,b.l.symbolProperty),$.set(7,b.l.symbolField),$.set(8,b.l.symbolConstructor),$.set(9,b.l.symbolEnum),$.set(10,b.l.symbolInterface),$.set(11,b.l.symbolFunction),$.set(12,b.l.symbolVariable),$.set(13,b.l.symbolConstant),$.set(14,b.l.symbolString),$.set(15,b.l.symbolNumber),$.set(16,b.l.symbolBoolean),$.set(17,b.l.symbolArray),$.set(18,b.l.symbolObject),$.set(19,b.l.symbolKey),$.set(20,b.l.symbolNull),$.set(21,b.l.symbolEnumMember),$.set(22,b.l.symbolStruct),$.set(23,b.l.symbolEvent),$.set(24,b.l.symbolOperator),$.set(25,b.l.symbolTypeParameter);function Y(R){let L=$.get(R);return L||(console.info("No codicon found for SymbolKind "+R),L=b.l.symbolProperty),L}W.toIcon=Y})(g||(g={}));class y{}class C{static fromValue($){switch($){case"comment":return C.Comment;case"imports":return C.Imports;case"region":return C.Region}return new C($)}constructor($){this.value=$}}C.Comment=new C("comment"),C.Imports=new C("imports"),C.Region=new C("region");var E;(function(W){function $(Y){return!Y||typeof Y!="object"?!1:typeof Y.id=="string"&&typeof Y.title=="string"}W.is=$})(E||(E={}));var A;(function(W){W[W.Type=1]="Type",W[W.Parameter=2]="Parameter"})(A||(A={}));class N{constructor($){this.createSupport=$,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then($=>{$&&$.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const B=new _},75383:function(Ot,Ke,e){"use strict";e.d(Ke,{$9:function(){return D},UF:function(){return M},n8:function(){return I},r7:function(){return _},tI:function(){return p}});var b=e(97295),U=e(49119),r=e(19111),w=e(4256);function c(o,u,d){const n=o.tokenization.getLanguageIdAtPosition(u,0);if(u>1){let i,f=-1;for(i=u-1;i>=1;i--){if(o.tokenization.getLanguageIdAtPosition(i,0)!==n)return f;const v=o.getLineContent(i);if(d.shouldIgnore(v)||/^\s+$/.test(v)||v===""){f=i;continue}return i}}return-1}function _(o,u,d,n=!0,i){if(o<4)return null;const f=i.getLanguageConfiguration(u.tokenization.getLanguageId()).indentRulesSupport;if(!f)return null;if(d<=1)return{indentation:"",action:null};for(let S=d-1;S>0&&u.getLineContent(S)==="";S--)if(S===1)return{indentation:"",action:null};const v=c(u,d,f);if(v<0)return null;if(v<1)return{indentation:"",action:null};const a=u.getLineContent(v);if(f.shouldIncrease(a)||f.shouldIndentNextLine(a))return{indentation:b.V8(a),action:U.wU.Indent,line:v};if(f.shouldDecrease(a))return{indentation:b.V8(a),action:null,line:v};{if(v===1)return{indentation:b.V8(u.getLineContent(v)),action:null,line:v};const S=v-1,g=f.getIndentMetadata(u.getLineContent(S));if(!(g&3)&&g&4){let y=0;for(let C=S-1;C>0;C--)if(!f.shouldIndentNextLine(u.getLineContent(C))){y=C;break}return{indentation:b.V8(u.getLineContent(y+1)),action:null,line:y+1}}if(n)return{indentation:b.V8(u.getLineContent(v)),action:null,line:v};for(let y=v;y>0;y--){const C=u.getLineContent(y);if(f.shouldIncrease(C))return{indentation:b.V8(C),action:U.wU.Indent,line:y};if(f.shouldIndentNextLine(C)){let E=0;for(let A=y-1;A>0;A--)if(!f.shouldIndentNextLine(u.getLineContent(y))){E=A;break}return{indentation:b.V8(u.getLineContent(E+1)),action:null,line:E+1}}else if(f.shouldDecrease(C))return{indentation:b.V8(C),action:null,line:y}}return{indentation:b.V8(u.getLineContent(1)),action:null,line:1}}}function I(o,u,d,n,i,f){if(o<4)return null;const v=f.getLanguageConfiguration(d);if(!v)return null;const a=f.getLanguageConfiguration(d).indentRulesSupport;if(!a)return null;const S=_(o,u,n,void 0,f),g=u.getLineContent(n);if(S){const y=S.line;if(y!==void 0){let C=!0;for(let E=y;E<n-1;E++)if(!/^\s*$/.test(u.getLineContent(E))){C=!1;break}if(C){const E=v.onEnter(o,"",u.getLineContent(y),"");if(E){let A=b.V8(u.getLineContent(y));return E.removeText&&(A=A.substring(0,A.length-E.removeText)),E.indentAction===U.wU.Indent||E.indentAction===U.wU.IndentOutdent?A=i.shiftIndent(A):E.indentAction===U.wU.Outdent&&(A=i.unshiftIndent(A)),a.shouldDecrease(g)&&(A=i.unshiftIndent(A)),E.appendText&&(A+=E.appendText),b.V8(A)}}}return a.shouldDecrease(g)?S.action===U.wU.Indent?S.indentation:i.unshiftIndent(S.indentation):S.action===U.wU.Indent?i.shiftIndent(S.indentation):S.indentation}return null}function M(o,u,d,n,i){if(o<4)return null;u.tokenization.forceTokenization(d.startLineNumber);const f=u.tokenization.getLineTokens(d.startLineNumber),v=(0,r.wH)(f,d.startColumn-1),a=v.getLineContent();let S=!1,g;v.firstCharOffset>0&&f.getLanguageId(0)!==v.languageId?(S=!0,g=a.substr(0,d.startColumn-1-v.firstCharOffset)):g=f.getLineContent().substring(0,d.startColumn-1);let y;d.isEmpty()?y=a.substr(d.startColumn-1-v.firstCharOffset):y=(0,w.n2)(u,d.endLineNumber,d.endColumn).getLineContent().substr(d.endColumn-1-v.firstCharOffset);const C=i.getLanguageConfiguration(v.languageId).indentRulesSupport;if(!C)return null;const E=g,A=b.V8(g),N={tokenization:{getLineTokens:Y=>u.tokenization.getLineTokens(Y),getLanguageId:()=>u.getLanguageId(),getLanguageIdAtPosition:(Y,R)=>u.getLanguageIdAtPosition(Y,R)},getLineContent:Y=>Y===d.startLineNumber?E:u.getLineContent(Y)},B=b.V8(f.getLineContent()),W=_(o,N,d.startLineNumber+1,void 0,i);if(!W){const Y=S?B:A;return{beforeEnter:Y,afterEnter:Y}}let $=S?B:W.indentation;return W.action===U.wU.Indent&&($=n.shiftIndent($)),C.shouldDecrease(y)&&($=n.unshiftIndent($)),{beforeEnter:S?B:A,afterEnter:$}}function D(o,u,d,n,i,f){if(o<4)return null;const v=(0,w.n2)(u,d.startLineNumber,d.startColumn);if(v.firstCharOffset)return null;const a=f.getLanguageConfiguration(v.languageId).indentRulesSupport;if(!a)return null;const S=v.getLineContent(),g=S.substr(0,d.startColumn-1-v.firstCharOffset);let y;if(d.isEmpty()?y=S.substr(d.startColumn-1-v.firstCharOffset):y=(0,w.n2)(u,d.endLineNumber,d.endColumn).getLineContent().substr(d.endColumn-1-v.firstCharOffset),!a.shouldDecrease(g+y)&&a.shouldDecrease(g+n+y)){const C=_(o,u,d.startLineNumber,!1,f);if(!C)return null;let E=C.indentation;return C.action!==U.wU.Indent&&(E=i.unshiftIndent(E)),E}return null}function p(o,u,d){const n=d.getLanguageConfiguration(o.getLanguageId()).indentRulesSupport;return!n||u<1||u>o.getLineCount()?null:n.getIndentMetadata(o.getLineContent(u))}},1615:function(Ot,Ke,e){"use strict";e.d(Ke,{A:function(){return r}});var b=e(49119),U=e(4256);function r(w,c,_,I){const M=(0,U.n2)(c,_.startLineNumber,_.startColumn),D=I.getLanguageConfiguration(M.languageId);if(!D)return null;const p=M.getLineContent(),o=p.substr(0,_.startColumn-1-M.firstCharOffset);let u;_.isEmpty()?u=p.substr(_.startColumn-1-M.firstCharOffset):u=(0,U.n2)(c,_.endLineNumber,_.endColumn).getLineContent().substr(_.endColumn-1-M.firstCharOffset);let d="";if(_.startLineNumber>1&&M.firstCharOffset===0){const S=(0,U.n2)(c,_.startLineNumber-1);S.languageId===M.languageId&&(d=S.getLineContent())}const n=D.onEnter(w,d,o,u);if(!n)return null;const i=n.indentAction;let f=n.appendText;const v=n.removeText||0;f?i===b.wU.Indent&&(f="	"+f):i===b.wU.Indent||i===b.wU.IndentOutdent?f="	":f="";let a=(0,U.u0)(c,_.startLineNumber,_.startColumn);return v&&(a=a.substring(0,a.length-v)),{indentAction:i,appendText:f,removeText:v,indentation:a}}},72042:function(Ot,Ke,e){"use strict";e.d(Ke,{O:function(){return U}});var b=e(72065);const U=(0,b.yh)("languageService")},49119:function(Ot,Ke,e){"use strict";e.d(Ke,{V6:function(){return U},c$:function(){return r},wU:function(){return b}});var b;(function(c){c[c.None=0]="None",c[c.Indent=1]="Indent",c[c.IndentOutdent=2]="IndentOutdent",c[c.Outdent=3]="Outdent"})(b||(b={}));class U{constructor(_){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=_.open,this.close=_.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(_.notIn))for(let I=0,M=_.notIn.length;I<M;I++)switch(_.notIn[I]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(_){switch(_){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(_,I){if(_.getTokenCount()===0)return!0;const M=_.findTokenIndexAtOffset(I-2),D=_.getStandardTokenType(M);return this.isOK(D)}_findNeutralCharacterInRange(_,I){for(let M=_;M<=I;M++){const D=String.fromCharCode(M);if(!this.open.includes(D)&&!this.close.includes(D))return D}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class r{constructor(_){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const I of _)w(this.autoClosingPairsOpenByStart,I.open.charAt(0),I),w(this.autoClosingPairsOpenByEnd,I.open.charAt(I.open.length-1),I),w(this.autoClosingPairsCloseByStart,I.close.charAt(0),I),w(this.autoClosingPairsCloseByEnd,I.close.charAt(I.close.length-1),I),I.close.length===1&&I.open.length===1&&w(this.autoClosingPairsCloseSingleChar,I.close,I)}}function w(c,_,I){c.has(_)?c.get(_).push(I):c.set(_,[I])}},4256:function(Ot,Ke,e){"use strict";e.d(Ke,{c_:function(){return Y},u0:function(){return H},n2:function(){return V}});var b=e(4669),U=e(5976),r=e(97295),w=e(270),c=e(49119),_=e(19111);class I{constructor(te){if(te.autoClosingPairs?this._autoClosingPairs=te.autoClosingPairs.map(le=>new c.V6(le)):te.brackets?this._autoClosingPairs=te.brackets.map(le=>new c.V6({open:le[0],close:le[1]})):this._autoClosingPairs=[],te.__electricCharacterSupport&&te.__electricCharacterSupport.docComment){const le=te.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new c.V6({open:le.open,close:le.close||""}))}this._autoCloseBeforeForQuotes=typeof te.autoCloseBefore=="string"?te.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof te.autoCloseBefore=="string"?te.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=te.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(te){return te?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var M=e(9488),D=e(34302);class p{constructor(te){this._richEditBrackets=te}getElectricCharacters(){const te=[];if(this._richEditBrackets)for(const le of this._richEditBrackets.brackets)for(const ge of le.close){const we=ge.charAt(ge.length-1);te.push(we)}return(0,M.EB)(te)}onElectricCharacter(te,le,ge){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const we=le.findTokenIndexAtOffset(ge-1);if((0,_.Bu)(le.getStandardTokenType(we)))return null;const pe=this._richEditBrackets.reversedRegex,Pe=le.getLineContent().substring(0,ge-1)+te,Ne=D.Vr.findPrevBracketInRange(pe,1,Pe,0,Pe.length);if(!Ne)return null;const ae=Pe.substring(Ne.startColumn-1,Ne.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[ae])return null;const ke=le.getActualLineContentBefore(Ne.startColumn-1);return/^\s*$/.test(ke)?{matchOpenBracket:ae}:null}}function o(X){return X.global&&(X.lastIndex=0),!0}class u{constructor(te){this._indentationRules=te}shouldIncrease(te){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&o(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(te))}shouldDecrease(te){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&o(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(te))}shouldIndentNextLine(te){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&o(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(te))}shouldIgnore(te){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&o(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(te))}getIndentMetadata(te){let le=0;return this.shouldIncrease(te)&&(le+=1),this.shouldDecrease(te)&&(le+=2),this.shouldIndentNextLine(te)&&(le+=4),this.shouldIgnore(te)&&(le+=8),le}}var d=e(17301);class n{constructor(te){te=te||{},te.brackets=te.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],te.brackets.forEach(le=>{const ge=n._createOpenBracketRegExp(le[0]),we=n._createCloseBracketRegExp(le[1]);ge&&we&&this._brackets.push({open:le[0],openRegExp:ge,close:le[1],closeRegExp:we})}),this._regExpRules=te.onEnterRules||[]}onEnter(te,le,ge,we){if(te>=3)for(let pe=0,Pe=this._regExpRules.length;pe<Pe;pe++){const Ne=this._regExpRules[pe];if([{reg:Ne.beforeText,text:ge},{reg:Ne.afterText,text:we},{reg:Ne.previousLineText,text:le}].every(Me=>Me.reg?(Me.reg.lastIndex=0,Me.reg.test(Me.text)):!0))return Ne.action}if(te>=2&&ge.length>0&&we.length>0)for(let pe=0,Pe=this._brackets.length;pe<Pe;pe++){const Ne=this._brackets[pe];if(Ne.openRegExp.test(ge)&&Ne.closeRegExp.test(we))return{indentAction:c.wU.IndentOutdent}}if(te>=2&&ge.length>0){for(let pe=0,Pe=this._brackets.length;pe<Pe;pe++)if(this._brackets[pe].openRegExp.test(ge))return{indentAction:c.wU.Indent}}return null}static _createOpenBracketRegExp(te){let le=r.ec(te);return/\B/.test(le.charAt(0))||(le="\\b"+le),le+="\\s*$",n._safeRegExp(le)}static _createCloseBracketRegExp(te){let le=r.ec(te);return/\B/.test(le.charAt(le.length-1))||(le=le+"\\b"),le="^\\s*"+le,n._safeRegExp(le)}static _safeRegExp(te){try{return new RegExp(te)}catch(le){return(0,d.dL)(le),null}}}var i=e(72065),f=e(33108),v=e(72042),a=e(65026),S=e(68801),g=e(701);class y{constructor(te,le){this.languageId=te;const ge=le.brackets?C(le.brackets):[],we=new g.b(Ne=>{const ae=new Set;return{info:new A(this,Ne,ae),closing:ae}}),pe=new g.b(Ne=>{const ae=new Set,Me=new Set;return{info:new N(this,Ne,ae,Me),opening:ae,openingColorized:Me}});for(const[Ne,ae]of ge){const Me=we.get(Ne),ke=pe.get(ae);Me.closing.add(ke.info),ke.opening.add(Me.info)}const Pe=le.colorizedBracketPairs?C(le.colorizedBracketPairs):ge.filter(Ne=>!(Ne[0]==="<"&&Ne[1]===">"));for(const[Ne,ae]of Pe){const Me=we.get(Ne),ke=pe.get(ae);Me.closing.add(ke.info),ke.openingColorized.add(Me.info),ke.opening.add(Me.info)}this._openingBrackets=new Map([...we.cachedValues].map(([Ne,ae])=>[Ne,ae.info])),this._closingBrackets=new Map([...pe.cachedValues].map(([Ne,ae])=>[Ne,ae.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(te){return this._openingBrackets.get(te)}getClosingBracketInfo(te){return this._closingBrackets.get(te)}getBracketInfo(te){return this.getOpeningBracketInfo(te)||this.getClosingBracketInfo(te)}}function C(X){return X.filter(([te,le])=>te!==""&&le!=="")}class E{constructor(te,le){this.config=te,this.bracketText=le}get languageId(){return this.config.languageId}}class A extends E{constructor(te,le,ge){super(te,le),this.openedBrackets=ge,this.isOpeningBracket=!0}}class N extends E{constructor(te,le,ge,we){super(te,le),this.openingBrackets=ge,this.openingColorizedBrackets=we,this.isOpeningBracket=!1}closes(te){return te.config!==this.config?!1:this.openingBrackets.has(te)}closesColorized(te){return te.config!==this.config?!1:this.openingColorizedBrackets.has(te)}getOpeningBrackets(){return[...this.openingBrackets]}}var B=function(X,te,le,ge){var we=arguments.length,pe=we<3?te:ge===null?ge=Object.getOwnPropertyDescriptor(te,le):ge,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(X,te,le,ge);else for(var Ne=X.length-1;Ne>=0;Ne--)(Pe=X[Ne])&&(pe=(we<3?Pe(pe):we>3?Pe(te,le,pe):Pe(te,le))||pe);return we>3&&pe&&Object.defineProperty(te,le,pe),pe},W=function(X,te){return function(le,ge){te(le,ge,X)}};class ${constructor(te){this.languageId=te}affects(te){return this.languageId?this.languageId===te:!0}}const Y=(0,i.yh)("languageConfigurationService");let R=class extends U.JT{constructor(te,le){super(),this.configurationService=te,this.languageService=le,this._registry=this._register(new m),this.onDidChangeEmitter=this._register(new b.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const ge=new Set(Object.values(z));this._register(this.configurationService.onDidChangeConfiguration(we=>{const pe=we.change.keys.some(Ne=>ge.has(Ne)),Pe=we.change.overrides.filter(([Ne,ae])=>ae.some(Me=>ge.has(Me))).map(([Ne])=>Ne);if(pe)this.configurations.clear(),this.onDidChangeEmitter.fire(new $(void 0));else for(const Ne of Pe)this.languageService.isRegisteredLanguageId(Ne)&&(this.configurations.delete(Ne),this.onDidChangeEmitter.fire(new $(Ne)))})),this._register(this._registry.onDidChange(we=>{this.configurations.delete(we.languageId),this.onDidChangeEmitter.fire(new $(we.languageId))}))}register(te,le,ge){return this._registry.register(te,le,ge)}getLanguageConfiguration(te){let le=this.configurations.get(te);return le||(le=L(te,this._registry,this.configurationService,this.languageService),this.configurations.set(te,le)),le}};R=B([W(0,f.Ui),W(1,v.O)],R);function L(X,te,le,ge){let we=te.getLanguageConfiguration(X);if(!we){if(!ge.isRegisteredLanguageId(X))return new J(X,{});we=new J(X,{})}const pe=O(we.languageId,le),Pe=j([we.underlyingConfig,pe]);return new J(we.languageId,Pe)}const z={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function O(X,te){const le=te.getValue(z.brackets,{overrideIdentifier:X}),ge=te.getValue(z.colorizedBracketPairs,{overrideIdentifier:X});return{brackets:P(le),colorizedBracketPairs:P(ge)}}function P(X){if(Array.isArray(X))return X.map(te=>{if(!(!Array.isArray(te)||te.length!==2))return[te[0],te[1]]}).filter(te=>!!te)}function H(X,te,le){const ge=X.getLineContent(te);let we=r.V8(ge);return we.length>le-1&&(we=we.substring(0,le-1)),we}function V(X,te,le){X.tokenization.forceTokenization(te);const ge=X.tokenization.getLineTokens(te),we=typeof le=="undefined"?X.getLineMaxColumn(te)-1:le-1;return(0,_.wH)(ge,we)}class G{constructor(te){this.languageId=te,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(te,le){const ge=new F(te,le,++this._order);return this._entries.push(ge),this._resolved=null,(0,U.OF)(()=>{for(let we=0;we<this._entries.length;we++)if(this._entries[we]===ge){this._entries.splice(we,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const te=this._resolve();te&&(this._resolved=new J(this.languageId,te))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(F.cmp),j(this._entries.map(te=>te.configuration)))}}function j(X){let te={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const le of X)te={comments:le.comments||te.comments,brackets:le.brackets||te.brackets,wordPattern:le.wordPattern||te.wordPattern,indentationRules:le.indentationRules||te.indentationRules,onEnterRules:le.onEnterRules||te.onEnterRules,autoClosingPairs:le.autoClosingPairs||te.autoClosingPairs,surroundingPairs:le.surroundingPairs||te.surroundingPairs,autoCloseBefore:le.autoCloseBefore||te.autoCloseBefore,folding:le.folding||te.folding,colorizedBracketPairs:le.colorizedBracketPairs||te.colorizedBracketPairs,__electricCharacterSupport:le.__electricCharacterSupport||te.__electricCharacterSupport};return te}class F{constructor(te,le,ge){this.configuration=te,this.priority=le,this.order=ge}static cmp(te,le){return te.priority===le.priority?te.order-le.order:te.priority-le.priority}}class K{constructor(te){this.languageId=te}}class m extends U.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(S.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(te,le,ge=0){let we=this._entries.get(te);we||(we=new G(te),this._entries.set(te,we));const pe=we.register(le,ge);return this._onDidChange.fire(new K(te)),(0,U.OF)(()=>{pe.dispose(),this._onDidChange.fire(new K(te))})}getLanguageConfiguration(te){const le=this._entries.get(te);return(le==null?void 0:le.getResolvedConfiguration())||null}}class J{constructor(te,le){this.languageId=te,this.underlyingConfig=le,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=J._handleComments(this.underlyingConfig),this.characterPair=new I(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||w.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new u(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new y(te,this.underlyingConfig)}getWordDefinition(){return(0,w.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new D.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new p(this.brackets)),this._electricCharacter}onEnter(te,le,ge,we){return this._onEnterSupport?this._onEnterSupport.onEnter(te,le,ge,we):null}getAutoClosingPairs(){return new c.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(te){return this.characterPair.getAutoCloseBeforeSet(te)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(te){const le=te.comments;if(!le)return null;const ge={};if(le.lineComment&&(ge.lineCommentToken=le.lineComment),le.blockComment){const[we,pe]=le.blockComment;ge.blockCommentStartToken=we,ge.blockCommentEndToken=pe}return ge}}(0,a.z)(Y,R,1)},68801:function(Ot,Ke,e){"use strict";e.d(Ke,{bd:function(){return D},dQ:function(){return M}});var b=e(63580),U=e(4669),r=e(89872),w=e(81170),c=e(23193);const _={ModesRegistry:"editor.modesRegistry"};class I{constructor(){this._onDidChangeLanguages=new U.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let d=0,n=this._languages.length;d<n;d++)if(this._languages[d]===u){this._languages.splice(d,1);return}}}}getLanguages(){return this._languages}}const M=new I;r.B.add(_.ModesRegistry,M);const D="plaintext",p=".txt";M.registerLanguage({id:D,extensions:[p],aliases:[b.NC("plainText.alias","Plain Text"),"text"],mimetypes:[w.v.text]}),r.B.as(c.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},276:function(Ot,Ke,e){"use strict";e.d(Ke,{Dy:function(){return w},Ri:function(){return r},TJ:function(){return U}});var b=e(43155);const U=new class{clone(){return this}equals(c){return this===c}};function r(c,_){return new b.hG([new b.WU(0,"",c)],_)}function w(c,_){const I=new Uint32Array(2);return I[0]=0,I[1]=(c<<0|0|0|32768|2<<24)>>>0,new b.DI(I,_===null?U:_)}},19111:function(Ot,Ke,e){"use strict";e.d(Ke,{Bu:function(){return r},wH:function(){return b}});function b(w,c){const _=w.getCount(),I=w.findTokenIndexAtOffset(c),M=w.getLanguageId(I);let D=I;for(;D+1<_&&w.getLanguageId(D+1)===M;)D++;let p=I;for(;p>0&&w.getLanguageId(p-1)===M;)p--;return new U(w,M,p,D+1,w.getStartOffset(p),w.getEndOffset(D))}class U{constructor(c,_,I,M,D,p){this._scopedLineTokensBrand=void 0,this._actual=c,this.languageId=_,this._firstTokenIndex=I,this._lastTokenIndex=M,this.firstCharOffset=D,this._lastCharOffset=p}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(c){return this._actual.getLineContent().substring(0,this.firstCharOffset+c)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(c){return this._actual.findTokenIndexAtOffset(c+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(c){return this._actual.getStandardTokenType(c+this._firstTokenIndex)}}function r(w){return(w&3)!==0}},34302:function(Ot,Ke,e){"use strict";e.d(Ke,{EA:function(){return _},Vr:function(){return v}});var b=e(97295),U=e(50072),r=e(24314);class w{constructor(S,g,y,C,E,A){this._richEditBracketBrand=void 0,this.languageId=S,this.index=g,this.open=y,this.close=C,this.forwardRegex=E,this.reversedRegex=A,this._openSet=w._toSet(this.open),this._closeSet=w._toSet(this.close)}isOpen(S){return this._openSet.has(S)}isClose(S){return this._closeSet.has(S)}static _toSet(S){const g=new Set;for(const y of S)g.add(y);return g}}function c(a){const S=a.length;a=a.map(A=>[A[0].toLowerCase(),A[1].toLowerCase()]);const g=[];for(let A=0;A<S;A++)g[A]=A;const y=(A,N)=>{const[B,W]=A,[$,Y]=N;return B===$||B===Y||W===$||W===Y},C=(A,N)=>{const B=Math.min(A,N),W=Math.max(A,N);for(let $=0;$<S;$++)g[$]===W&&(g[$]=B)};for(let A=0;A<S;A++){const N=a[A];for(let B=A+1;B<S;B++){const W=a[B];y(N,W)&&C(g[A],g[B])}}const E=[];for(let A=0;A<S;A++){const N=[],B=[];for(let W=0;W<S;W++)if(g[W]===A){const[$,Y]=a[W];N.push($),B.push(Y)}N.length>0&&E.push({open:N,close:B})}return E}class _{constructor(S,g){this._richEditBracketsBrand=void 0;const y=c(g);this.brackets=y.map((C,E)=>new w(S,E,C.open,C.close,p(C.open,C.close,y,E),o(C.open,C.close,y,E))),this.forwardRegex=u(this.brackets),this.reversedRegex=d(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const C of this.brackets){for(const E of C.open)this.textIsBracket[E]=C,this.textIsOpenBracket[E]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,E.length);for(const E of C.close)this.textIsBracket[E]=C,this.textIsOpenBracket[E]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,E.length)}}}function I(a,S,g,y){for(let C=0,E=S.length;C<E;C++){if(C===g)continue;const A=S[C];for(const N of A.open)N.indexOf(a)>=0&&y.push(N);for(const N of A.close)N.indexOf(a)>=0&&y.push(N)}}function M(a,S){return a.length-S.length}function D(a){if(a.length<=1)return a;const S=[],g=new Set;for(const y of a)g.has(y)||(S.push(y),g.add(y));return S}function p(a,S,g,y){let C=[];C=C.concat(a),C=C.concat(S);for(let E=0,A=C.length;E<A;E++)I(C[E],g,y,C);return C=D(C),C.sort(M),C.reverse(),i(C)}function o(a,S,g,y){let C=[];C=C.concat(a),C=C.concat(S);for(let E=0,A=C.length;E<A;E++)I(C[E],g,y,C);return C=D(C),C.sort(M),C.reverse(),i(C.map(f))}function u(a){let S=[];for(const g of a){for(const y of g.open)S.push(y);for(const y of g.close)S.push(y)}return S=D(S),i(S)}function d(a){let S=[];for(const g of a){for(const y of g.open)S.push(y);for(const y of g.close)S.push(y)}return S=D(S),i(S.map(f))}function n(a){const S=/^[\w ]+$/.test(a);return a=b.ec(a),S?`\\b${a}\\b`:a}function i(a){const S=`(${a.map(n).join(")|(")})`;return b.GF(S,!0)}const f=function(){function a(y){const C=new Uint16Array(y.length);let E=0;for(let A=y.length-1;A>=0;A--)C[E++]=y.charCodeAt(A);return U.oe().decode(C)}let S=null,g=null;return function(C){return S!==C&&(S=C,g=a(S)),g}}();class v{static _findPrevBracketInText(S,g,y,C){const E=y.match(S);if(!E)return null;const A=y.length-(E.index||0),N=E[0].length,B=C+A;return new r.e(g,B-N+1,g,B+1)}static findPrevBracketInRange(S,g,y,C,E){const N=f(y).substring(y.length-E,y.length-C);return this._findPrevBracketInText(S,g,N,C)}static findNextBracketInText(S,g,y,C){const E=y.match(S);if(!E)return null;const A=E.index||0,N=E[0].length;if(N===0)return null;const B=C+A;return new r.e(g,B+1,g,B+1+N)}static findNextBracketInRange(S,g,y,C,E){const A=y.substring(C,E);return this.findNextBracketInText(S,g,A,C)}}},82963:function(Ot,Ke,e){"use strict";e.d(Ke,{C2:function(){return _},Fq:function(){return I}});var b=e(97295),U=e(77378),r=e(43155),w=e(276);const c={getInitialState:()=>w.TJ,tokenizeEncoded:(D,p,o)=>(0,w.Dy)(0,o)};function _(D,p,o){return tn(this,null,function*(){if(!o)return M(p,D.languageIdCodec,c);const u=yield r.RW.getOrCreate(o);return M(p,D.languageIdCodec,u||c)})}function I(D,p,o,u,d,n,i){let f="<div>",v=u,a=0,S=!0;for(let g=0,y=p.getCount();g<y;g++){const C=p.getEndOffset(g);if(C<=u)continue;let E="";for(;v<C&&v<d;v++){const A=D.charCodeAt(v);switch(A){case 9:{let N=n-(v+a)%n;for(a+=N-1;N>0;)i&&S?(E+="&#160;",S=!1):(E+=" ",S=!0),N--;break}case 60:E+="&lt;",S=!1;break;case 62:E+="&gt;",S=!1;break;case 38:E+="&amp;",S=!1;break;case 0:E+="&#00;",S=!1;break;case 65279:case 8232:case 8233:case 133:E+="\uFFFD",S=!1;break;case 13:E+="&#8203",S=!1;break;case 32:i&&S?(E+="&#160;",S=!1):(E+=" ",S=!0);break;default:E+=String.fromCharCode(A),S=!1}}if(f+=`<span style="${p.getInlineStyle(g,o)}">${E}</span>`,C>d||v>=d)break}return f+="</div>",f}function M(D,p,o){let u='<div class="monaco-tokenized-source">';const d=b.uq(D);let n=o.getInitialState();for(let i=0,f=d.length;i<f;i++){const v=d[i];i>0&&(u+="<br/>");const a=o.tokenizeEncoded(v,!0,n);U.A.convertToEndOffset(a.tokens,v.length);const g=new U.A(a.tokens,v,p).inflate();let y=0;for(let C=0,E=g.getCount();C<E;C++){const A=g.getClassName(C),N=g.getEndOffset(C);u+=`<span class="${A}">${b.YU(v.substring(y,N))}</span>`,y=N}n=a.endState}return u+="</div>",u}},84973:function(Ot,Ke,e){"use strict";e.d(Ke,{F5:function(){return w},Hf:function(){return M},Qi:function(){return D},RM:function(){return c},Tx:function(){return p},U:function(){return r},dJ:function(){return _},je:function(){return o},pt:function(){return u},sh:function(){return U},tk:function(){return I}});var b=e(36248),U;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(U||(U={}));var r;(function(d){d[d.Left=1]="Left",d[d.Right=2]="Right"})(r||(r={}));var w;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(w||(w={}));var c;(function(d){d[d.Both=0]="Both",d[d.Right=1]="Right",d[d.Left=2]="Left",d[d.None=3]="None"})(c||(c={}));class _{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(n){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,n.tabSize|0),n.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,n.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!n.insertSpaces,this.defaultEOL=n.defaultEOL|0,this.trimAutoWhitespace=!!n.trimAutoWhitespace,this.bracketPairColorizationOptions=n.bracketPairColorizationOptions}equals(n){return this.tabSize===n.tabSize&&this._indentSizeIsTabSize===n._indentSizeIsTabSize&&this.indentSize===n.indentSize&&this.insertSpaces===n.insertSpaces&&this.defaultEOL===n.defaultEOL&&this.trimAutoWhitespace===n.trimAutoWhitespace&&(0,b.fS)(this.bracketPairColorizationOptions,n.bracketPairColorizationOptions)}createChangeEvent(n){return{tabSize:this.tabSize!==n.tabSize,indentSize:this.indentSize!==n.indentSize,insertSpaces:this.insertSpaces!==n.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==n.trimAutoWhitespace}}}class I{constructor(n,i){this._findMatchBrand=void 0,this.range=n,this.matches=i}}function M(d){return d&&typeof d.read=="function"}class D{constructor(n,i,f,v,a,S){this.identifier=n,this.range=i,this.text=f,this.forceMoveMarkers=v,this.isAutoWhitespaceEdit=a,this._isTracked=S}}class p{constructor(n,i,f){this.regex=n,this.wordSeparators=i,this.simpleSearch=f}}class o{constructor(n,i,f){this.reverseEdits=n,this.changes=i,this.trimAutoWhitespaceLineNumbers=f}}function u(d){return!d.isTooLargeForSyncing()&&!d.isForSimpleWidget}},41720:function(Ot,Ke,e){"use strict";e.d(Ke,{BH:function(){return n},Dm:function(){return f},Kd:function(){return _},Y0:function(){return I},n2:function(){return i}});var b=e(17301),U=e(7988),r=e(45035),w=e(61761);class c{get length(){return this._length}constructor(a){this._length=a}}class _ extends c{static create(a,S,g){let y=a.length;return S&&(y=(0,r.Ii)(y,S.length)),g&&(y=(0,r.Ii)(y,g.length)),new _(y,a,S,g,S?S.missingOpeningBracketIds:w.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(a){switch(a){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const a=[];return a.push(this.openingBracket),this.child&&a.push(this.child),this.closingBracket&&a.push(this.closingBracket),a}constructor(a,S,g,y,C){super(a),this.openingBracket=S,this.child=g,this.closingBracket=y,this.missingOpeningBracketIds=C}canBeReused(a){return!(this.closingBracket===null||a.intersects(this.missingOpeningBracketIds))}deepClone(){return new _(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(a,S){return this.child?this.child.computeMinIndentation((0,r.Ii)(a,this.openingBracket.length),S):Number.MAX_SAFE_INTEGER}}class I extends c{static create23(a,S,g,y=!1){let C=a.length,E=a.missingOpeningBracketIds;if(a.listHeight!==S.listHeight)throw new Error("Invalid list heights");if(C=(0,r.Ii)(C,S.length),E=E.merge(S.missingOpeningBracketIds),g){if(a.listHeight!==g.listHeight)throw new Error("Invalid list heights");C=(0,r.Ii)(C,g.length),E=E.merge(g.missingOpeningBracketIds)}return y?new D(C,a.listHeight+1,a,S,g,E):new M(C,a.listHeight+1,a,S,g,E)}static getEmpty(){return new o(r.xl,0,[],w.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(a,S,g){super(a),this.listHeight=S,this._missingOpeningBracketIds=g,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const a=this.childrenLength;if(a===0)return;const S=this.getChild(a-1),g=S.kind===4?S.toMutable():S;return S!==g&&this.setChild(a-1,g),g}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const S=this.getChild(0),g=S.kind===4?S.toMutable():S;return S!==g&&this.setChild(0,g),g}canBeReused(a){if(a.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let S=this;for(;S.kind===4;){const g=S.childrenLength;if(g===0)throw new b.he;S=S.getChild(g-1)}return S.canBeReused(a)}handleChildrenChanged(){this.throwIfImmutable();const a=this.childrenLength;let S=this.getChild(0).length,g=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<a;y++){const C=this.getChild(y);S=(0,r.Ii)(S,C.length),g=g.merge(C.missingOpeningBracketIds)}this._length=S,this._missingOpeningBracketIds=g,this.cachedMinIndentation=-1}computeMinIndentation(a,S){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let g=Number.MAX_SAFE_INTEGER,y=a;for(let C=0;C<this.childrenLength;C++){const E=this.getChild(C);E&&(g=Math.min(g,E.computeMinIndentation(y,S)),y=(0,r.Ii)(y,E.length))}return this.cachedMinIndentation=g,g}}class M extends I{get childrenLength(){return this._item3!==null?3:2}getChild(a){switch(a){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(a,S){switch(a){case 0:this._item1=S;return;case 1:this._item2=S;return;case 2:this._item3=S;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(a,S,g,y,C,E){super(a,S,E),this._item1=g,this._item2=y,this._item3=C}deepClone(){return new M(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=a,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item3;return this._item3=null,this.handleChildrenChanged(),a}prependChildOfSameHeight(a){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=a,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),a}toMutable(){return this}}class D extends M{toMutable(){return new M(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class p extends I{get childrenLength(){return this._children.length}getChild(a){return this._children[a]}setChild(a,S){this._children[a]=S}get children(){return this._children}constructor(a,S,g,y){super(a,S,y),this._children=g}deepClone(){const a=new Array(this._children.length);for(let S=0;S<this._children.length;S++)a[S]=this._children[S].deepClone();return new p(this.length,this.listHeight,a,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){this.throwIfImmutable(),this._children.push(a),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const a=this._children.pop();return this.handleChildrenChanged(),a}prependChildOfSameHeight(a){this.throwIfImmutable(),this._children.unshift(a),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const a=this._children.shift();return this.handleChildrenChanged(),a}toMutable(){return this}}class o extends p{toMutable(){return new p(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const u=[];class d extends c{get listHeight(){return 0}get childrenLength(){return 0}getChild(a){return null}get children(){return u}deepClone(){return this}}class n extends d{get kind(){return 0}get missingOpeningBracketIds(){return w.tS.getEmpty()}canBeReused(a){return!0}computeMinIndentation(a,S){const g=(0,r.Hw)(a),y=(g.columnCount===0?g.lineCount:g.lineCount+1)+1,C=(0,r.W9)((0,r.Ii)(a,this.length))+1;let E=Number.MAX_SAFE_INTEGER;for(let A=y;A<=C;A++){const N=S.getLineFirstNonWhitespaceColumn(A),B=S.getLineContent(A);if(N===0)continue;const W=U.i.visibleColumnFromColumn(B,N,S.getOptions().tabSize);E=Math.min(E,W)}return E}}class i extends d{static create(a,S,g){return new i(a,S,g)}get kind(){return 1}get missingOpeningBracketIds(){return w.tS.getEmpty()}constructor(a,S,g){super(a),this.bracketInfo=S,this.bracketIds=g}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(a){return!1}computeMinIndentation(a,S){return Number.MAX_SAFE_INTEGER}}class f extends d{get kind(){return 3}constructor(a,S){super(S),this.missingOpeningBracketIds=a}canBeReused(a){return!a.intersects(this.missingOpeningBracketIds)}computeMinIndentation(a,S){return Number.MAX_SAFE_INTEGER}}},2442:function(Ot,Ke,e){"use strict";e.d(Ke,{Q:function(){return r},Y:function(){return w}});var b=e(24314),U=e(45035);class r{static fromModelContentChanges(I){return I.map(D=>{const p=b.e.lift(D.range);return new r((0,U.PZ)(p.getStartPosition()),(0,U.PZ)(p.getEndPosition()),(0,U.oR)(D.text))}).reverse()}constructor(I,M,D){this.startOffset=I,this.endOffset=M,this.newLength=D}toString(){return`[${(0,U.Hw)(this.startOffset)}...${(0,U.Hw)(this.endOffset)}) -> ${(0,U.Hw)(this.newLength)}`}}class w{constructor(I){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=I.map(M=>c.from(M))}getOffsetBeforeChange(I){return this.adjustNextEdit(I),this.translateCurToOld(I)}getDistanceToNextChange(I){this.adjustNextEdit(I);const M=this.edits[this.nextEditIdx],D=M?this.translateOldToCur(M.offsetObj):null;return D===null?null:(0,U.BE)(I,D)}translateOldToCur(I){return I.lineCount===this.deltaLineIdxInOld?(0,U.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.columnCount+this.deltaOldToNewColumnCount):(0,U.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.columnCount)}translateCurToOld(I){const M=(0,U.Hw)(I);return M.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,U.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount-this.deltaOldToNewColumnCount):(0,U.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount)}adjustNextEdit(I){for(;this.nextEditIdx<this.edits.length;){const M=this.edits[this.nextEditIdx],D=this.translateOldToCur(M.endOffsetAfterObj);if((0,U.By)(D,I)){this.nextEditIdx++;const p=(0,U.Hw)(D),o=(0,U.Hw)(this.translateOldToCur(M.endOffsetBeforeObj)),u=p.lineCount-o.lineCount;this.deltaOldToNewLineCount+=u;const d=this.deltaLineIdxInOld===M.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,n=p.columnCount-o.columnCount;this.deltaOldToNewColumnCount=d+n,this.deltaLineIdxInOld=M.endOffsetBeforeObj.lineCount}else break}}}class c{static from(I){return new c(I.startOffset,I.endOffset,I.newLength)}constructor(I,M,D){this.endOffsetBeforeObj=(0,U.Hw)(M),this.endOffsetAfterObj=(0,U.Hw)((0,U.Ii)(I,D)),this.offsetObj=(0,U.Hw)(I)}}},35382:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return M}});var b=e(97295),U=e(41720),r=e(45035),w=e(61761),c=e(6735);class _{static createFromLanguage(p,o){function u(n){return o.getKey(`${n.languageId}:::${n.bracketText}`)}const d=new Map;for(const n of p.bracketsNew.openingBrackets){const i=(0,r.Hg)(0,n.bracketText.length),f=u(n),v=w.tS.getEmpty().add(f,w.Qw);d.set(n.bracketText,new c.WU(i,1,f,v,U.n2.create(i,n,v)))}for(const n of p.bracketsNew.closingBrackets){const i=(0,r.Hg)(0,n.bracketText.length);let f=w.tS.getEmpty();const v=n.getOpeningBrackets();for(const a of v)f=f.add(u(a),w.Qw);d.set(n.bracketText,new c.WU(i,2,u(v[0]),f,U.n2.create(i,n,f)))}return new _(d)}constructor(p){this.map=p,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const p=[...this.map.keys()];return p.sort(),p.reverse(),p.map(o=>I(o)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const p=this.getRegExpStr();this._regExpGlobal=p?new RegExp(p,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(p){return this.map.get(p.toLowerCase())}findClosingTokenText(p){for(const[o,u]of this.map)if(u.kind===2&&u.bracketIds.intersects(p))return o}get isEmpty(){return this.map.size===0}}function I(D){let p=(0,b.ec)(D);return/^[\w ]+/.test(D)&&(p=`\\b${p}`),/[\w ]+$/.test(D)&&(p=`${p}\\b`),p}class M{constructor(p,o){this.denseKeyProvider=p,this.getLanguageConfiguration=o,this.languageIdToBracketTokens=new Map}didLanguageChange(p){return this.languageIdToBracketTokens.has(p)}getSingleLanguageBracketTokens(p){let o=this.languageIdToBracketTokens.get(p);return o||(o=_.createFromLanguage(this.getLanguageConfiguration(p),this.denseKeyProvider),this.languageIdToBracketTokens.set(p,o)),o}}},41574:function(Ot,Ke,e){"use strict";e.d(Ke,{o:function(){return w}});var b=e(9488),U=e(2442),r=e(45035);function w(I,M){if(I.length===0)return M;if(M.length===0)return I;const D=new b.H9(_(I)),p=_(M);p.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let o=D.dequeue();function u(f){if(f===void 0){const a=D.takeWhile(S=>!0)||[];return o&&a.unshift(o),a}const v=[];for(;o&&!(0,r.xd)(f);){const[a,S]=o.splitAt(f);v.push(a),f=(0,r.BE)(a.lengthAfter,f),o=S!=null?S:D.dequeue()}return(0,r.xd)(f)||v.push(new c(!1,f,f)),v}const d=[];function n(f,v,a){if(d.length>0&&(0,r.rM)(d[d.length-1].endOffset,f)){const S=d[d.length-1];d[d.length-1]=new U.Q(S.startOffset,v,(0,r.Ii)(S.newLength,a))}else d.push({startOffset:f,endOffset:v,newLength:a})}let i=r.xl;for(const f of p){const v=u(f.lengthBefore);if(f.modified){const a=(0,r.tQ)(v,g=>g.lengthBefore),S=(0,r.Ii)(i,a);n(i,S,f.lengthAfter),i=S}else for(const a of v){const S=i;i=(0,r.Ii)(i,a.lengthBefore),a.modified&&n(S,i,a.lengthAfter)}}return d}class c{constructor(M,D,p){this.modified=M,this.lengthBefore=D,this.lengthAfter=p}splitAt(M){const D=(0,r.BE)(M,this.lengthAfter);return(0,r.rM)(D,r.xl)?[this,void 0]:this.modified?[new c(this.modified,this.lengthBefore,M),new c(this.modified,r.xl,D)]:[new c(this.modified,M,M),new c(this.modified,D,D)]}toString(){return`${this.modified?"M":"U"}:${(0,r.Hw)(this.lengthBefore)} -> ${(0,r.Hw)(this.lengthAfter)}`}}function _(I){const M=[];let D=r.xl;for(const p of I){const o=(0,r.BE)(D,p.startOffset);(0,r.xd)(o)||M.push(new c(!1,o,o));const u=(0,r.BE)(p.startOffset,p.endOffset);M.push(new c(!0,u,p.newLength)),D=p.endOffset}return M}},45035:function(Ot,Ke,e){"use strict";e.d(Ke,{BE:function(){return i},By:function(){return v},F_:function(){return o},Hg:function(){return M},Hw:function(){return D},Ii:function(){return u},OE:function(){return r},PZ:function(){return S},Qw:function(){return g},VR:function(){return f},W9:function(){return p},Zq:function(){return a},av:function(){return w},oR:function(){return y},rM:function(){return n},tQ:function(){return d},xd:function(){return _},xl:function(){return c}});var b=e(97295),U=e(24314);class r{constructor(E,A){this.lineCount=E,this.columnCount=A}toString(){return`${this.lineCount},${this.columnCount}`}}r.zero=new r(0,0);function w(C,E,A,N){return C!==A?M(A-C,N):M(0,N-E)}const c=0;function _(C){return C===0}const I=aa(2,26);function M(C,E){return C*I+E}function D(C){const E=C,A=Math.floor(E/I),N=E-A*I;return new r(A,N)}function p(C){return Math.floor(C/I)}function o(C){return C}function u(C,E){let A=C+E;return E>=I&&(A=A-C%I),A}function d(C,E){return C.reduce((A,N)=>u(A,E(N)),c)}function n(C,E){return C===E}function i(C,E){const A=C,N=E;if(N-A<=0)return c;const W=Math.floor(A/I),$=Math.floor(N/I),Y=N-$*I;if(W===$){const R=A-W*I;return M(0,Y-R)}else return M($-W,Y)}function f(C,E){return C<E}function v(C,E){return C<=E}function a(C,E){return C>=E}function S(C){return M(C.lineNumber-1,C.column-1)}function g(C,E){const A=C,N=Math.floor(A/I),B=A-N*I,W=E,$=Math.floor(W/I),Y=W-$*I;return new U.e(N+1,B+1,$+1,Y+1)}function y(C){const E=(0,b.uq)(C);return M(E.length-1,E[E.length-1].length)}},64837:function(Ot,Ke,e){"use strict";e.d(Ke,{w:function(){return n}});var b=e(41720),U=e(2442),r=e(61761),w=e(45035);function c(f){if(f.length===0)return null;if(f.length===1)return f[0];let v=0;function a(){if(v>=f.length)return null;const C=v,E=f[C].listHeight;for(v++;v<f.length&&f[v].listHeight===E;)v++;return v-C>=2?_(C===0&&v===f.length?f:f.slice(C,v),!1):f[C]}let S=a(),g=a();if(!g)return S;for(let C=a();C;C=a())I(S,g)<=I(g,C)?(S=M(S,g),g=C):g=M(g,C);return M(S,g)}function _(f,v=!1){if(f.length===0)return null;if(f.length===1)return f[0];let a=f.length;for(;a>3;){const S=a>>1;for(let g=0;g<S;g++){const y=g<<1;f[g]=b.Y0.create23(f[y],f[y+1],y+3===a?f[y+2]:null,v)}a=S}return b.Y0.create23(f[0],f[1],a>=3?f[2]:null,v)}function I(f,v){return Math.abs(f.listHeight-v.listHeight)}function M(f,v){return f.listHeight===v.listHeight?b.Y0.create23(f,v,null,!1):f.listHeight>v.listHeight?D(f,v):p(v,f)}function D(f,v){f=f.toMutable();let a=f;const S=[];let g;for(;;){if(v.listHeight===a.listHeight){g=v;break}if(a.kind!==4)throw new Error("unexpected");S.push(a),a=a.makeLastElementMutable()}for(let y=S.length-1;y>=0;y--){const C=S[y];g?C.childrenLength>=3?g=b.Y0.create23(C.unappendChild(),g,null,!1):(C.appendChildOfSameHeight(g),g=void 0):C.handleChildrenChanged()}return g?b.Y0.create23(f,g,null,!1):f}function p(f,v){f=f.toMutable();let a=f;const S=[];for(;v.listHeight!==a.listHeight;){if(a.kind!==4)throw new Error("unexpected");S.push(a),a=a.makeFirstElementMutable()}let g=v;for(let y=S.length-1;y>=0;y--){const C=S[y];g?C.childrenLength>=3?g=b.Y0.create23(g,C.unprependChild(),null,!1):(C.prependChildOfSameHeight(g),g=void 0):C.handleChildrenChanged()}return g?b.Y0.create23(g,f,null,!1):f}class o{constructor(v){this.lastOffset=w.xl,this.nextNodes=[v],this.offsets=[w.xl],this.idxs=[]}readLongestNodeAt(v,a){if((0,w.VR)(v,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=v;;){const S=d(this.nextNodes);if(!S)return;const g=d(this.offsets);if((0,w.VR)(v,g))return;if((0,w.VR)(g,v))if((0,w.Ii)(g,S.length)<=v)this.nextNodeAfterCurrent();else{const y=u(S);y!==-1?(this.nextNodes.push(S.getChild(y)),this.offsets.push(g),this.idxs.push(y)):this.nextNodeAfterCurrent()}else{if(a(S))return this.nextNodeAfterCurrent(),S;{const y=u(S);if(y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(S.getChild(y)),this.offsets.push(g),this.idxs.push(y)}}}}nextNodeAfterCurrent(){for(;;){const v=d(this.offsets),a=d(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const S=d(this.nextNodes),g=u(S,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(S.getChild(g)),this.offsets.push((0,w.Ii)(v,a.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}function u(f,v=-1){for(;;){if(v++,v>=f.childrenLength)return-1;if(f.getChild(v))return v}}function d(f){return f.length>0?f[f.length-1]:void 0}function n(f,v,a,S){return new i(f,v,a,S).parseDocument()}class i{constructor(v,a,S,g){if(this.tokenizer=v,this.createImmutableLists=g,this._itemsConstructed=0,this._itemsFromCache=0,S&&g)throw new Error("Not supported");this.oldNodeReader=S?new o(S):void 0,this.positionMapper=new U.Y(a)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let v=this.parseList(r.tS.getEmpty(),0);return v||(v=b.Y0.getEmpty()),v}parseList(v,a){const S=[];for(;;){let y=this.tryReadChildFromCache(v);if(!y){const C=this.tokenizer.peek();if(!C||C.kind===2&&C.bracketIds.intersects(v))break;y=this.parseChild(v,a+1)}y.kind===4&&y.childrenLength===0||S.push(y)}return this.oldNodeReader?c(S):_(S,this.createImmutableLists)}tryReadChildFromCache(v){if(this.oldNodeReader){const a=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(a===null||!(0,w.xd)(a)){const S=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),g=>a!==null&&!(0,w.VR)(g.length,a)?!1:g.canBeReused(v));if(S)return this._itemsFromCache++,this.tokenizer.skip(S.length),S}}}parseChild(v,a){this._itemsConstructed++;const S=this.tokenizer.read();switch(S.kind){case 2:return new b.Dm(S.bracketIds,S.length);case 0:return S.astNode;case 1:{if(a>300)return new b.BH(S.length);const g=v.merge(S.bracketIds),y=this.parseList(g,a+1),C=this.tokenizer.peek();return C&&C.kind===2&&(C.bracketId===S.bracketId||C.bracketIds.intersects(S.bracketIds))?(this.tokenizer.read(),b.Kd.create(S.astNode,y,C.astNode)):b.Kd.create(S.astNode,y,null)}default:throw new Error("unexpected")}}}},61761:function(Ot,Ke,e){"use strict";e.d(Ke,{FE:function(){return w},Qw:function(){return r},tS:function(){return U}});const b=[];class U{static create(_,I){if(_<=128&&I.length===0){let M=U.cache[_];return M||(M=new U(_,I),U.cache[_]=M),M}return new U(_,I)}static getEmpty(){return this.empty}constructor(_,I){this.items=_,this.additionalItems=I}add(_,I){const M=I.getKey(_);let D=M>>5;if(D===0){const o=1<<M|this.items;return o===this.items?this:U.create(o,this.additionalItems)}D--;const p=this.additionalItems.slice(0);for(;p.length<D;)p.push(0);return p[D]|=1<<(M&31),U.create(this.items,p)}merge(_){const I=this.items|_.items;if(this.additionalItems===b&&_.additionalItems===b)return I===this.items?this:I===_.items?_:U.create(I,b);const M=[];for(let D=0;D<Math.max(this.additionalItems.length,_.additionalItems.length);D++){const p=this.additionalItems[D]||0,o=_.additionalItems[D]||0;M.push(p|o)}return U.create(I,M)}intersects(_){if(this.items&_.items)return!0;for(let I=0;I<Math.min(this.additionalItems.length,_.additionalItems.length);I++)if(this.additionalItems[I]&_.additionalItems[I])return!0;return!1}}U.cache=new Array(129),U.empty=U.create(0,b);const r={getKey(c){return c}};class w{constructor(){this.items=new Map}getKey(_){let I=this.items.get(_);return I===void 0&&(I=this.items.size,this.items.set(_,I)),I}}},6735:function(Ot,Ke,e){"use strict";e.d(Ke,{WU:function(){return _},g:function(){return D},xH:function(){return I}});var b=e(17301),U=e(45797),r=e(41720),w=e(45035),c=e(61761);class _{constructor(o,u,d,n,i){this.length=o,this.kind=u,this.bracketId=d,this.bracketIds=n,this.astNode=i}}class I{constructor(o,u){this.textModel=o,this.bracketTokens=u,this.reader=new M(this.textModel,this.bracketTokens),this._offset=w.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,w.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(o){this.didPeek=!1,this._offset=(0,w.Ii)(this._offset,o);const u=(0,w.Hw)(this._offset);this.reader.setPosition(u.lineCount,u.columnCount)}read(){let o;return this.peeked?(this.didPeek=!1,o=this.peeked):o=this.reader.read(),o&&(this._offset=(0,w.Ii)(this._offset,o.length)),o}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class M{constructor(o,u){this.textModel=o,this.bracketTokens=u,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}setPosition(o,u){o===this.lineIdx?(this.lineCharOffset=u,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=o,this.lineCharOffset=u,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const i=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,w.F_)(i.length),i}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const o=this.lineIdx,u=this.lineCharOffset;let d=0;for(;;){const i=this.lineTokens,f=i.getCount();let v=null;if(this.lineTokenOffset<f){const a=i.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<f&&a===i.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const S=U.N.getTokenType(a)===0,g=U.N.containsBalancedBrackets(a),y=i.getEndOffset(this.lineTokenOffset);if(g&&S&&this.lineCharOffset<y){const C=i.getLanguageId(this.lineTokenOffset),E=this.line.substring(this.lineCharOffset,y),A=this.bracketTokens.getSingleLanguageBracketTokens(C),N=A.regExpGlobal;if(N){N.lastIndex=0;const B=N.exec(E);B&&(v=A.getToken(B[0]),v&&(this.lineCharOffset+=B.index))}}if(d+=y-this.lineCharOffset,v)if(o!==this.lineIdx||u!==this.lineCharOffset){this.peekedToken=v;break}else return this.lineCharOffset+=(0,w.F_)(v.length),v;else this.lineTokenOffset++,this.lineCharOffset=y}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,d+=33,d>1e3))break;if(d>1500)break}const n=(0,w.av)(o,u,this.lineIdx,this.lineCharOffset);return new _(n,0,-1,c.tS.getEmpty(),new r.BH(n))}}class D{constructor(o,u){this.text=o,this._offset=w.xl,this.idx=0;const d=u.getRegExpStr(),n=d?new RegExp(d+`|
`,"gi"):null,i=[];let f,v=0,a=0,S=0,g=0;const y=[];for(let A=0;A<60;A++)y.push(new _((0,w.Hg)(0,A),0,-1,c.tS.getEmpty(),new r.BH((0,w.Hg)(0,A))));const C=[];for(let A=0;A<60;A++)C.push(new _((0,w.Hg)(1,A),0,-1,c.tS.getEmpty(),new r.BH((0,w.Hg)(1,A))));if(n)for(n.lastIndex=0;(f=n.exec(o))!==null;){const A=f.index,N=f[0];if(N===`
`)v++,a=A+1;else{if(S!==A){let B;if(g===v){const W=A-S;if(W<y.length)B=y[W];else{const $=(0,w.Hg)(0,W);B=new _($,0,-1,c.tS.getEmpty(),new r.BH($))}}else{const W=v-g,$=A-a;if(W===1&&$<C.length)B=C[$];else{const Y=(0,w.Hg)(W,$);B=new _(Y,0,-1,c.tS.getEmpty(),new r.BH(Y))}}i.push(B)}i.push(u.getToken(N)),S=A+N.length,g=v}}const E=o.length;if(S!==E){const A=g===v?(0,w.Hg)(0,E-S):(0,w.Hg)(v-g,E-a);i.push(new _(A,0,-1,c.tS.getEmpty(),new r.BH(A)))}this.length=(0,w.Hg)(v,E-a),this.tokens=i}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(o){throw new b.B8}}},95215:function(Ot,Ke,e){"use strict";e.d(Ke,{NL:function(){return n},e9:function(){return d}});var b=e(63580),U=e(17301),r=e(3860),w=e(70666),c=e(93033),_=e(53060),I=e(95935);function M(i){return i.toString()}class D{static create(f,v){const a=f.getAlternativeVersionId(),S=u(f);return new D(a,a,S,S,v,v,[])}constructor(f,v,a,S,g,y,C){this.beforeVersionId=f,this.afterVersionId=v,this.beforeEOL=a,this.afterEOL=S,this.beforeCursorState=g,this.afterCursorState=y,this.changes=C}append(f,v,a,S,g){v.length>0&&(this.changes=(0,c.b)(this.changes,v)),this.afterEOL=a,this.afterVersionId=S,this.afterCursorState=g}static _writeSelectionsSize(f){return 4+4*4*(f?f.length:0)}static _writeSelections(f,v,a){if(_.T4(f,v?v.length:0,a),a+=4,v)for(const S of v)_.T4(f,S.selectionStartLineNumber,a),a+=4,_.T4(f,S.selectionStartColumn,a),a+=4,_.T4(f,S.positionLineNumber,a),a+=4,_.T4(f,S.positionColumn,a),a+=4;return a}static _readSelections(f,v,a){const S=_.Ag(f,v);v+=4;for(let g=0;g<S;g++){const y=_.Ag(f,v);v+=4;const C=_.Ag(f,v);v+=4;const E=_.Ag(f,v);v+=4;const A=_.Ag(f,v);v+=4,a.push(new r.Y(y,C,E,A))}return v}serialize(){let f=10+D._writeSelectionsSize(this.beforeCursorState)+D._writeSelectionsSize(this.afterCursorState)+4;for(const S of this.changes)f+=S.writeSize();const v=new Uint8Array(f);let a=0;_.T4(v,this.beforeVersionId,a),a+=4,_.T4(v,this.afterVersionId,a),a+=4,_.Cg(v,this.beforeEOL,a),a+=1,_.Cg(v,this.afterEOL,a),a+=1,a=D._writeSelections(v,this.beforeCursorState,a),a=D._writeSelections(v,this.afterCursorState,a),_.T4(v,this.changes.length,a),a+=4;for(const S of this.changes)a=S.write(v,a);return v.buffer}static deserialize(f){const v=new Uint8Array(f);let a=0;const S=_.Ag(v,a);a+=4;const g=_.Ag(v,a);a+=4;const y=_.Q$(v,a);a+=1;const C=_.Q$(v,a);a+=1;const E=[];a=D._readSelections(v,a,E);const A=[];a=D._readSelections(v,a,A);const N=_.Ag(v,a);a+=4;const B=[];for(let W=0;W<N;W++)a=c.q.read(v,a,B);return new D(S,g,y,C,E,A,B)}}class p{get type(){return 0}get resource(){return w.o.isUri(this.model)?this.model:this.model.uri}constructor(f,v,a,S){this.label=f,this.code=v,this.model=a,this._data=D.create(a,S)}toString(){return(this._data instanceof D?this._data:D.deserialize(this._data)).changes.map(v=>v.toString()).join(", ")}matchesResource(f){return(w.o.isUri(this.model)?this.model:this.model.uri).toString()===f.toString()}setModel(f){this.model=f}canAppend(f){return this.model===f&&this._data instanceof D}append(f,v,a,S,g){this._data instanceof D&&this._data.append(f,v,a,S,g)}close(){this._data instanceof D&&(this._data=this._data.serialize())}open(){this._data instanceof D||(this._data=D.deserialize(this._data))}undo(){if(w.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const f=D.deserialize(this._data);this.model._applyUndo(f.changes,f.beforeEOL,f.beforeVersionId,f.beforeCursorState)}redo(){if(w.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const f=D.deserialize(this._data);this.model._applyRedo(f.changes,f.afterEOL,f.afterVersionId,f.afterCursorState)}heapSize(){return this._data instanceof D&&(this._data=this._data.serialize()),this._data.byteLength+168}}class o{get resources(){return this._editStackElementsArr.map(f=>f.resource)}constructor(f,v,a){this.label=f,this.code=v,this.type=1,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;for(const S of this._editStackElementsArr){const g=M(S.resource);this._editStackElementsMap.set(g,S)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(f){const v=M(f);return this._editStackElementsMap.has(v)}setModel(f){const v=M(w.o.isUri(f)?f:f.uri);this._editStackElementsMap.has(v)&&this._editStackElementsMap.get(v).setModel(f)}canAppend(f){if(!this._isOpen)return!1;const v=M(f.uri);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).canAppend(f):!1}append(f,v,a,S,g){const y=M(f.uri);this._editStackElementsMap.get(y).append(f,v,a,S,g)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const f of this._editStackElementsArr)f.undo()}redo(){for(const f of this._editStackElementsArr)f.redo()}heapSize(f){const v=M(f);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).heapSize():0}split(){return this._editStackElementsArr}toString(){const f=[];for(const v of this._editStackElementsArr)f.push(`${(0,I.EZ)(v.resource)}: ${v}`);return`{${f.join(", ")}}`}}function u(i){return i.getEOL()===`
`?0:1}function d(i){return i?i instanceof p||i instanceof o:!1}class n{constructor(f,v){this._model=f,this._undoRedoService=v}pushStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);d(f)&&f.close()}popStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);d(f)&&f.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(f,v){const a=this._undoRedoService.getLastElement(this._model.uri);if(d(a)&&a.canAppend(this._model))return a;const S=new p(b.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,f);return this._undoRedoService.pushElement(S,v),S}pushEOL(f){const v=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(f),v.append(this._model,[],u(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(f,v,a,S){const g=this._getOrCreateEditStackElement(f,S),y=this._model.applyEdits(v,!0),C=n._computeCursorState(a,y),E=y.map((A,N)=>({index:N,textChange:A.textChange}));return E.sort((A,N)=>A.textChange.oldPosition===N.textChange.oldPosition?A.index-N.index:A.textChange.oldPosition-N.textChange.oldPosition),g.append(this._model,E.map(A=>A.textChange),u(this._model),this._model.getAlternativeVersionId(),C),C}static _computeCursorState(f,v){try{return f?f(v):null}catch(a){return(0,U.dL)(a),null}}}},1516:function(Ot,Ke,e){"use strict";e.d(Ke,{W:function(){return p},l:function(){return D}});var b=e(35534),U=e(97295),r=e(7988),w=e(24314),c=e(94954),_=e(59616),I=e(65094),M=e(17301);class D extends c.U{constructor(u,d){super(),this.textModel=u,this.languageConfigurationService=d}getLanguageConfiguration(u){return this.languageConfigurationService.getLanguageConfiguration(u)}_computeIndentLevel(u){return(0,_.q)(this.textModel.getLineContent(u+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(u,d,n){this.assertNotDisposed();const i=this.textModel.getLineCount();if(u<1||u>i)throw new M.he("Illegal value for lineNumber");const f=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,v=!!(f&&f.offSide);let a=-2,S=-1,g=-2,y=-1;const C=P=>{if(a!==-1&&(a===-2||a>P-1)){a=-1,S=-1;for(let H=P-2;H>=0;H--){const V=this._computeIndentLevel(H);if(V>=0){a=H,S=V;break}}}if(g===-2){g=-1,y=-1;for(let H=P;H<i;H++){const V=this._computeIndentLevel(H);if(V>=0){g=H,y=V;break}}}};let E=-2,A=-1,N=-2,B=-1;const W=P=>{if(E===-2){E=-1,A=-1;for(let H=P-2;H>=0;H--){const V=this._computeIndentLevel(H);if(V>=0){E=H,A=V;break}}}if(N!==-1&&(N===-2||N<P-1)){N=-1,B=-1;for(let H=P;H<i;H++){const V=this._computeIndentLevel(H);if(V>=0){N=H,B=V;break}}}};let $=0,Y=!0,R=0,L=!0,z=0,O=0;for(let P=0;Y||L;P++){const H=u-P,V=u+P;P>1&&(H<1||H<d)&&(Y=!1),P>1&&(V>i||V>n)&&(L=!1),P>5e4&&(Y=!1,L=!1);let G=-1;if(Y&&H>=1){const F=this._computeIndentLevel(H-1);F>=0?(g=H-1,y=F,G=Math.ceil(F/this.textModel.getOptions().indentSize)):(C(H),G=this._getIndentLevelForWhitespaceLine(v,S,y))}let j=-1;if(L&&V<=i){const F=this._computeIndentLevel(V-1);F>=0?(E=V-1,A=F,j=Math.ceil(F/this.textModel.getOptions().indentSize)):(W(V),j=this._getIndentLevelForWhitespaceLine(v,A,B))}if(P===0){O=G;continue}if(P===1){if(V<=i&&j>=0&&O+1===j){Y=!1,$=V,R=V,z=j;continue}if(H>=1&&G>=0&&G-1===O){L=!1,$=H,R=H,z=G;continue}if($=u,R=u,z=O,z===0)return{startLineNumber:$,endLineNumber:R,indent:z}}Y&&(G>=z?$=H:Y=!1),L&&(j>=z?R=V:L=!1)}return{startLineNumber:$,endLineNumber:R,indent:z}}getLinesBracketGuides(u,d,n,i){var f;const v=[];for(let E=u;E<=d;E++)v.push([]);const a=!0,S=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new w.e(u,1,d,this.textModel.getLineMaxColumn(d))).toArray();let g;if(n&&S.length>0){const E=(u<=n.lineNumber&&n.lineNumber<=d?S:this.textModel.bracketPairs.getBracketPairsInRange(w.e.fromPositions(n)).toArray()).filter(A=>w.e.strictContainsPosition(A.range,n));g=(f=(0,b.dF)(E,A=>a||A.range.startLineNumber!==A.range.endLineNumber))===null||f===void 0?void 0:f.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,C=new p;for(const E of S){if(!E.closingBracketRange)continue;const A=g&&E.range.equalsRange(g);if(!A&&!i.includeInactive)continue;const N=C.getInlineClassName(E.nestingLevel,E.nestingLevelOfEqualBracketType,y)+(i.highlightActive&&A?" "+C.activeClassName:""),B=E.openingBracketRange.getStartPosition(),W=E.closingBracketRange.getStartPosition(),$=i.horizontalGuides===I.s6.Enabled||i.horizontalGuides===I.s6.EnabledForActive&&A;if(E.range.startLineNumber===E.range.endLineNumber){a&&$&&v[E.range.startLineNumber-u].push(new I.UO(-1,E.openingBracketRange.getEndPosition().column,N,new I.vW(!1,W.column),-1,-1));continue}const Y=this.getVisibleColumnFromPosition(W),R=this.getVisibleColumnFromPosition(E.openingBracketRange.getStartPosition()),L=Math.min(R,Y,E.minVisibleColumnIndentation+1);let z=!1;U.LC(this.textModel.getLineContent(E.closingBracketRange.startLineNumber))<E.closingBracketRange.startColumn-1&&(z=!0);const H=Math.max(B.lineNumber,u),V=Math.min(W.lineNumber,d),G=z?1:0;for(let j=H;j<V+G;j++)v[j-u].push(new I.UO(L,-1,N,null,j===B.lineNumber?B.column:-1,j===W.lineNumber?W.column:-1));$&&(B.lineNumber>=u&&R>L&&v[B.lineNumber-u].push(new I.UO(L,-1,N,new I.vW(!1,B.column),-1,-1)),W.lineNumber<=d&&Y>L&&v[W.lineNumber-u].push(new I.UO(L,-1,N,new I.vW(!z,W.column),-1,-1)))}for(const E of v)E.sort((A,N)=>A.visibleColumn-N.visibleColumn);return v}getVisibleColumnFromPosition(u){return r.i.visibleColumnFromColumn(this.textModel.getLineContent(u.lineNumber),u.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(u,d){this.assertNotDisposed();const n=this.textModel.getLineCount();if(u<1||u>n)throw new Error("Illegal value for startLineNumber");if(d<1||d>n)throw new Error("Illegal value for endLineNumber");const i=this.textModel.getOptions(),f=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,v=!!(f&&f.offSide),a=new Array(d-u+1);let S=-2,g=-1,y=-2,C=-1;for(let E=u;E<=d;E++){const A=E-u,N=this._computeIndentLevel(E-1);if(N>=0){S=E-1,g=N,a[A]=Math.ceil(N/i.indentSize);continue}if(S===-2){S=-1,g=-1;for(let B=E-2;B>=0;B--){const W=this._computeIndentLevel(B);if(W>=0){S=B,g=W;break}}}if(y!==-1&&(y===-2||y<E-1)){y=-1,C=-1;for(let B=E;B<n;B++){const W=this._computeIndentLevel(B);if(W>=0){y=B,C=W;break}}}a[A]=this._getIndentLevelForWhitespaceLine(v,g,C)}return a}_getIndentLevelForWhitespaceLine(u,d,n){const i=this.textModel.getOptions();return d===-1||n===-1?0:d<n?1+Math.floor(d/i.indentSize):d===n||u?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}class p{constructor(){this.activeClassName="indent-active"}getInlineClassName(u,d,n){return this.getInlineClassNameOfLevel(n?d:u)}getInlineClassNameOfLevel(u){return`bracket-indent-guide lvl-${u%30}`}}},90310:function(Ot,Ke,e){"use strict";e.d(Ke,{Ck:function(){return w},oQ:function(){return r}});var b=e(9488),U=e(85427);class r{constructor(I){this.values=I,this.prefixSum=new Uint32Array(I.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(I,M){I=(0,U.A)(I);const D=this.values,p=this.prefixSum,o=M.length;return o===0?!1:(this.values=new Uint32Array(D.length+o),this.values.set(D.subarray(0,I),0),this.values.set(D.subarray(I),I+o),this.values.set(M,I),I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(I,M){return I=(0,U.A)(I),M=(0,U.A)(M),this.values[I]===M?!1:(this.values[I]=M,I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),!0)}removeValues(I,M){I=(0,U.A)(I),M=(0,U.A)(M);const D=this.values,p=this.prefixSum;if(I>=D.length)return!1;const o=D.length-I;return M>=o&&(M=o),M===0?!1:(this.values=new Uint32Array(D.length-M),this.values.set(D.subarray(0,I),0),this.values.set(D.subarray(I+M),I),this.prefixSum=new Uint32Array(this.values.length),I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(I){return I<0?0:(I=(0,U.A)(I),this._getPrefixSum(I))}_getPrefixSum(I){if(I<=this.prefixSumValidIndex[0])return this.prefixSum[I];let M=this.prefixSumValidIndex[0]+1;M===0&&(this.prefixSum[0]=this.values[0],M++),I>=this.values.length&&(I=this.values.length-1);for(let D=M;D<=I;D++)this.prefixSum[D]=this.prefixSum[D-1]+this.values[D];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],I),this.prefixSum[I]}getIndexOf(I){I=Math.floor(I),this.getTotalSum();let M=0,D=this.values.length-1,p=0,o=0,u=0;for(;M<=D;)if(p=M+(D-M)/2|0,o=this.prefixSum[p],u=o-this.values[p],I<u)D=p-1;else if(I>=o)M=p+1;else break;return new c(p,I-u)}}class w{constructor(I){this._values=I,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(I){return this._ensureValid(),I===0?0:this._prefixSum[I-1]}getIndexOf(I){this._ensureValid();const M=this._indexBySum[I],D=M>0?this._prefixSum[M-1]:0;return new c(M,I-D)}removeValues(I,M){this._values.splice(I,M),this._invalidate(I)}insertValues(I,M){this._values=(0,b.Zv)(this._values,I,M),this._invalidate(I)}_invalidate(I){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,I-1)}_ensureValid(){if(!this._isValid){for(let I=this._validEndIndex+1,M=this._values.length;I<M;I++){const D=this._values[I],p=I>0?this._prefixSum[I-1]:0;this._prefixSum[I]=p+D;for(let o=0;o<D;o++)this._indexBySum[p+o]=I}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(I,M){this._values[I]!==M&&(this._values[I]=M,this._invalidate(I))}}class c{constructor(I,M){this.index=I,this.remainder=M,this._prefixSumIndexOfResultBrand=void 0,this.index=I,this.remainder=M}}},84901:function(Ot,Ke,e){"use strict";e.d(Ke,{HS:function(){return rn},qx:function(){return Sn},yO:function(){return Ci}});var b=e(9488),U=e(41264),r=e(17301),w=e(4669),c=e(5976),_=e(97295),I=e(70666),M=e(23795),D=e(83158),p=e(45463),o=e(50187),u=e(24314),d=e(3860),n=e(22075),i=e(72042),f=e(4256),v=e(84973),a=e(19111),S=e(34302);class g{constructor(k,ne,ue,Fe){this.range=k,this.nestingLevel=ne,this.nestingLevelOfEqualBracketType=ue,this.isInvalid=Fe}}class y{constructor(k,ne,ue,Fe,Qe,ot){this.range=k,this.openingBracketRange=ne,this.closingBracketRange=ue,this.nestingLevel=Fe,this.nestingLevelOfEqualBracketType=Qe,this.bracketPairNode=ot}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class C extends y{constructor(k,ne,ue,Fe,Qe,ot,dt){super(k,ne,ue,Fe,Qe,ot),this.minVisibleColumnIndentation=dt}}var E=e(2442),A=e(35382),N=e(45035),B=e(64837),W=e(61761),$=e(6735),Y=e(41574);class R extends c.JT{didLanguageChange(k){return this.brackets.didLanguageChange(k)}constructor(k,ne){if(super(),this.textModel=k,this.getLanguageConfiguration=ne,this.didChangeEmitter=new w.Q5,this.denseKeyProvider=new W.FE,this.brackets=new A.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],k.tokenization.hasTokens)k.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const ue=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Fe=new $.g(this.textModel.getValue(),ue);this.initialAstWithoutTokens=(0,B.w)(Fe,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const k=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,k||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:k}){const ne=k.map(ue=>new E.Q((0,N.Hg)(ue.fromLineNumber-1,0),(0,N.Hg)(ue.toLineNumber,0),(0,N.Hg)(ue.toLineNumber-ue.fromLineNumber+1,0)));this.handleEdits(ne,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(k){const ne=E.Q.fromModelContentChanges(k.changes);this.handleEdits(ne,!1)}handleEdits(k,ne){const ue=(0,Y.o)(this.queuedTextEdits,k);this.queuedTextEdits=ue,this.initialAstWithoutTokens&&!ne&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,Y.o)(this.queuedTextEditsForInitialAstWithoutTokens,k))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(k,ne,ue){const Qe=ne,ot=new $.xH(this.textModel,this.brackets);return(0,B.w)(ot,k,Qe,ue)}getBracketsInRange(k,ne){this.flushQueue();const ue=(0,N.Hg)(k.startLineNumber-1,k.startColumn-1),Fe=(0,N.Hg)(k.endLineNumber-1,k.endColumn-1);return new b.W$(Qe=>{const ot=this.initialAstWithoutTokens||this.astWithTokens;O(ot,N.xl,ot.length,ue,Fe,Qe,0,0,new Map,ne)})}getBracketPairsInRange(k,ne){this.flushQueue();const ue=(0,N.PZ)(k.getStartPosition()),Fe=(0,N.PZ)(k.getEndPosition());return new b.W$(Qe=>{const ot=this.initialAstWithoutTokens||this.astWithTokens,dt=new P(Qe,ne,this.textModel);H(ot,N.xl,ot.length,ue,Fe,dt,0,new Map)})}getFirstBracketAfter(k){this.flushQueue();const ne=this.initialAstWithoutTokens||this.astWithTokens;return z(ne,N.xl,ne.length,(0,N.PZ)(k))}getFirstBracketBefore(k){this.flushQueue();const ne=this.initialAstWithoutTokens||this.astWithTokens;return L(ne,N.xl,ne.length,(0,N.PZ)(k))}}function L(St,k,ne,ue){if(St.kind===4||St.kind===2){const Fe=[];for(const Qe of St.children)ne=(0,N.Ii)(k,Qe.length),Fe.push({nodeOffsetStart:k,nodeOffsetEnd:ne}),k=ne;for(let Qe=Fe.length-1;Qe>=0;Qe--){const{nodeOffsetStart:ot,nodeOffsetEnd:dt}=Fe[Qe];if((0,N.VR)(ot,ue)){const bt=L(St.children[Qe],ot,dt,ue);if(bt)return bt}}return null}else{if(St.kind===3)return null;if(St.kind===1){const Fe=(0,N.Qw)(k,ne);return{bracketInfo:St.bracketInfo,range:Fe}}}return null}function z(St,k,ne,ue){if(St.kind===4||St.kind===2){for(const Fe of St.children){if(ne=(0,N.Ii)(k,Fe.length),(0,N.VR)(ue,ne)){const Qe=z(Fe,k,ne,ue);if(Qe)return Qe}k=ne}return null}else{if(St.kind===3)return null;if(St.kind===1){const Fe=(0,N.Qw)(k,ne);return{bracketInfo:St.bracketInfo,range:Fe}}}return null}function O(St,k,ne,ue,Fe,Qe,ot,dt,bt,lt,Q=!1){if(ot>200)return!0;e:for(;;)switch(St.kind){case 4:{const fe=St.childrenLength;for(let We=0;We<fe;We++){const at=St.getChild(We);if(at){if(ne=(0,N.Ii)(k,at.length),(0,N.By)(k,Fe)&&(0,N.Zq)(ne,ue)){if((0,N.Zq)(ne,Fe)){St=at;continue e}if(!O(at,k,ne,ue,Fe,Qe,ot,0,bt,lt))return!1}k=ne}}return!0}case 2:{const fe=!lt||!St.closingBracket||St.closingBracket.bracketInfo.closesColorized(St.openingBracket.bracketInfo);let We=0;if(bt){let Ct=bt.get(St.openingBracket.text);Ct===void 0&&(Ct=0),We=Ct,fe&&(Ct++,bt.set(St.openingBracket.text,Ct))}const at=St.childrenLength;for(let Ct=0;Ct<at;Ct++){const Rt=St.getChild(Ct);if(Rt){if(ne=(0,N.Ii)(k,Rt.length),(0,N.By)(k,Fe)&&(0,N.Zq)(ne,ue)){if((0,N.Zq)(ne,Fe)&&Rt.kind!==1){St=Rt,fe?(ot++,dt=We+1):dt=We;continue e}if((fe||Rt.kind!==1||!St.closingBracket)&&!O(Rt,k,ne,ue,Fe,Qe,fe?ot+1:ot,fe?We+1:We,bt,lt,!St.closingBracket))return!1}k=ne}}return bt==null||bt.set(St.openingBracket.text,We),!0}case 3:{const fe=(0,N.Qw)(k,ne);return Qe(new g(fe,ot-1,0,!0))}case 1:{const fe=(0,N.Qw)(k,ne);return Qe(new g(fe,ot-1,dt-1,Q))}case 0:return!0}}class P{constructor(k,ne,ue){this.push=k,this.includeMinIndentation=ne,this.textModel=ue}}function H(St,k,ne,ue,Fe,Qe,ot,dt){var bt;if(ot>200)return!0;let lt=!0;if(St.kind===2){let Q=0;if(dt){let at=dt.get(St.openingBracket.text);at===void 0&&(at=0),Q=at,at++,dt.set(St.openingBracket.text,at)}const fe=(0,N.Ii)(k,St.openingBracket.length);let We=-1;if(Qe.includeMinIndentation&&(We=St.computeMinIndentation(k,Qe.textModel)),lt=Qe.push(new C((0,N.Qw)(k,ne),(0,N.Qw)(k,fe),St.closingBracket?(0,N.Qw)((0,N.Ii)(fe,((bt=St.child)===null||bt===void 0?void 0:bt.length)||N.xl),ne):void 0,ot,Q,St,We)),k=fe,lt&&St.child){const at=St.child;if(ne=(0,N.Ii)(k,at.length),(0,N.By)(k,Fe)&&(0,N.Zq)(ne,ue)&&(lt=H(at,k,ne,ue,Fe,Qe,ot+1,dt),!lt))return!1}dt==null||dt.set(St.openingBracket.text,Q)}else{let Q=k;for(const fe of St.children){const We=Q;if(Q=(0,N.Ii)(Q,fe.length),(0,N.By)(We,Fe)&&(0,N.By)(ue,Q)&&(lt=H(fe,We,Q,ue,Fe,Qe,ot,dt),!lt))return!1}}return lt}class V extends c.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(k,ne){super(),this.textModel=k,this.languageConfigurationService=ne,this.bracketPairsTree=this._register(new c.XK),this.onDidChangeEmitter=new w.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(ue=>{var Fe;(!ue.languageId||!((Fe=this.bracketPairsTree.value)===null||Fe===void 0)&&Fe.object.didLanguageChange(ue.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(k){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(k){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(k){var ne;(ne=this.bracketPairsTree.value)===null||ne===void 0||ne.object.handleContentChanged(k)}handleDidChangeBackgroundTokenizationState(){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(k){var ne;(ne=this.bracketPairsTree.value)===null||ne===void 0||ne.object.handleDidChangeTokens(k)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const k=new c.SL;this.bracketPairsTree.value=G(k.add(new R(this.textModel,ne=>this.languageConfigurationService.getLanguageConfiguration(ne))),k),k.add(this.bracketPairsTree.value.object.onDidChange(ne=>this.onDidChangeEmitter.fire(ne))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(k){var ne;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ne=this.bracketPairsTree.value)===null||ne===void 0?void 0:ne.object.getBracketPairsInRange(k,!1))||b.W$.empty}getBracketPairsInRangeWithMinIndentation(k){var ne;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ne=this.bracketPairsTree.value)===null||ne===void 0?void 0:ne.object.getBracketPairsInRange(k,!0))||b.W$.empty}getBracketsInRange(k,ne=!1){var ue;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ue=this.bracketPairsTree.value)===null||ue===void 0?void 0:ue.object.getBracketsInRange(k,ne))||b.W$.empty}findMatchingBracketUp(k,ne,ue){const Fe=this.textModel.validatePosition(ne),Qe=this.textModel.getLanguageIdAtPosition(Fe.lineNumber,Fe.column);if(this.canBuildAST){const ot=this.languageConfigurationService.getLanguageConfiguration(Qe).bracketsNew.getClosingBracketInfo(k);if(!ot)return null;const dt=this.getBracketPairsInRange(u.e.fromPositions(ne,ne)).findLast(bt=>ot.closes(bt.openingBracketInfo));return dt?dt.openingBracketRange:null}else{const ot=k.toLowerCase(),dt=this.languageConfigurationService.getLanguageConfiguration(Qe).brackets;if(!dt)return null;const bt=dt.textIsBracket[ot];return bt?K(this._findMatchingBracketUp(bt,Fe,j(ue))):null}}matchBracket(k,ne){if(this.canBuildAST){const ue=this.getBracketPairsInRange(u.e.fromPositions(k,k)).filter(Fe=>Fe.closingBracketRange!==void 0&&(Fe.openingBracketRange.containsPosition(k)||Fe.closingBracketRange.containsPosition(k))).findLastMaxBy((0,b.tT)(Fe=>Fe.openingBracketRange.containsPosition(k)?Fe.openingBracketRange:Fe.closingBracketRange,u.e.compareRangesUsingStarts));return ue?[ue.openingBracketRange,ue.closingBracketRange]:null}else{const ue=j(ne);return this._matchBracket(this.textModel.validatePosition(k),ue)}}_establishBracketSearchOffsets(k,ne,ue,Fe){const Qe=ne.getCount(),ot=ne.getLanguageId(Fe);let dt=Math.max(0,k.column-1-ue.maxBracketLength);for(let lt=Fe-1;lt>=0;lt--){const Q=ne.getEndOffset(lt);if(Q<=dt)break;if((0,a.Bu)(ne.getStandardTokenType(lt))||ne.getLanguageId(lt)!==ot){dt=Q;break}}let bt=Math.min(ne.getLineContent().length,k.column-1+ue.maxBracketLength);for(let lt=Fe+1;lt<Qe;lt++){const Q=ne.getStartOffset(lt);if(Q>=bt)break;if((0,a.Bu)(ne.getStandardTokenType(lt))||ne.getLanguageId(lt)!==ot){bt=Q;break}}return{searchStartOffset:dt,searchEndOffset:bt}}_matchBracket(k,ne){const ue=k.lineNumber,Fe=this.textModel.tokenization.getLineTokens(ue),Qe=this.textModel.getLineContent(ue),ot=Fe.findTokenIndexAtOffset(k.column-1);if(ot<0)return null;const dt=this.languageConfigurationService.getLanguageConfiguration(Fe.getLanguageId(ot)).brackets;if(dt&&!(0,a.Bu)(Fe.getStandardTokenType(ot))){let{searchStartOffset:bt,searchEndOffset:lt}=this._establishBracketSearchOffsets(k,Fe,dt,ot),Q=null;for(;;){const fe=S.Vr.findNextBracketInRange(dt.forwardRegex,ue,Qe,bt,lt);if(!fe)break;if(fe.startColumn<=k.column&&k.column<=fe.endColumn){const We=Qe.substring(fe.startColumn-1,fe.endColumn-1).toLowerCase(),at=this._matchFoundBracket(fe,dt.textIsBracket[We],dt.textIsOpenBracket[We],ne);if(at){if(at instanceof F)return null;Q=at}}bt=fe.endColumn-1}if(Q)return Q}if(ot>0&&Fe.getStartOffset(ot)===k.column-1){const bt=ot-1,lt=this.languageConfigurationService.getLanguageConfiguration(Fe.getLanguageId(bt)).brackets;if(lt&&!(0,a.Bu)(Fe.getStandardTokenType(bt))){const{searchStartOffset:Q,searchEndOffset:fe}=this._establishBracketSearchOffsets(k,Fe,lt,bt),We=S.Vr.findPrevBracketInRange(lt.reversedRegex,ue,Qe,Q,fe);if(We&&We.startColumn<=k.column&&k.column<=We.endColumn){const at=Qe.substring(We.startColumn-1,We.endColumn-1).toLowerCase(),Ct=this._matchFoundBracket(We,lt.textIsBracket[at],lt.textIsOpenBracket[at],ne);if(Ct)return Ct instanceof F?null:Ct}}}return null}_matchFoundBracket(k,ne,ue,Fe){if(!ne)return null;const Qe=ue?this._findMatchingBracketDown(ne,k.getEndPosition(),Fe):this._findMatchingBracketUp(ne,k.getStartPosition(),Fe);return Qe?Qe instanceof F?Qe:[k,Qe]:null}_findMatchingBracketUp(k,ne,ue){const Fe=k.languageId,Qe=k.reversedRegex;let ot=-1,dt=0;const bt=(lt,Q,fe,We)=>{for(;;){if(ue&&++dt%100===0&&!ue())return F.INSTANCE;const at=S.Vr.findPrevBracketInRange(Qe,lt,Q,fe,We);if(!at)break;const Ct=Q.substring(at.startColumn-1,at.endColumn-1).toLowerCase();if(k.isOpen(Ct)?ot++:k.isClose(Ct)&&ot--,ot===0)return at;We=at.startColumn-1}return null};for(let lt=ne.lineNumber;lt>=1;lt--){const Q=this.textModel.tokenization.getLineTokens(lt),fe=Q.getCount(),We=this.textModel.getLineContent(lt);let at=fe-1,Ct=We.length,Rt=We.length;lt===ne.lineNumber&&(at=Q.findTokenIndexAtOffset(ne.column-1),Ct=ne.column-1,Rt=ne.column-1);let Vt=!0;for(;at>=0;at--){const an=Q.getLanguageId(at)===Fe&&!(0,a.Bu)(Q.getStandardTokenType(at));if(an)Vt?Ct=Q.getStartOffset(at):(Ct=Q.getStartOffset(at),Rt=Q.getEndOffset(at));else if(Vt&&Ct!==Rt){const An=bt(lt,We,Ct,Rt);if(An)return An}Vt=an}if(Vt&&Ct!==Rt){const an=bt(lt,We,Ct,Rt);if(an)return an}}return null}_findMatchingBracketDown(k,ne,ue){const Fe=k.languageId,Qe=k.forwardRegex;let ot=1,dt=0;const bt=(Q,fe,We,at)=>{for(;;){if(ue&&++dt%100===0&&!ue())return F.INSTANCE;const Ct=S.Vr.findNextBracketInRange(Qe,Q,fe,We,at);if(!Ct)break;const Rt=fe.substring(Ct.startColumn-1,Ct.endColumn-1).toLowerCase();if(k.isOpen(Rt)?ot++:k.isClose(Rt)&&ot--,ot===0)return Ct;We=Ct.endColumn-1}return null},lt=this.textModel.getLineCount();for(let Q=ne.lineNumber;Q<=lt;Q++){const fe=this.textModel.tokenization.getLineTokens(Q),We=fe.getCount(),at=this.textModel.getLineContent(Q);let Ct=0,Rt=0,Vt=0;Q===ne.lineNumber&&(Ct=fe.findTokenIndexAtOffset(ne.column-1),Rt=ne.column-1,Vt=ne.column-1);let an=!0;for(;Ct<We;Ct++){const An=fe.getLanguageId(Ct)===Fe&&!(0,a.Bu)(fe.getStandardTokenType(Ct));if(An)an||(Rt=fe.getStartOffset(Ct)),Vt=fe.getEndOffset(Ct);else if(an&&Rt!==Vt){const zn=bt(Q,at,Rt,Vt);if(zn)return zn}an=An}if(an&&Rt!==Vt){const An=bt(Q,at,Rt,Vt);if(An)return An}}return null}findPrevBracket(k){var ne;const ue=this.textModel.validatePosition(k);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ne=this.bracketPairsTree.value)===null||ne===void 0?void 0:ne.object.getFirstBracketBefore(ue))||null;let Fe=null,Qe=null,ot=null;for(let dt=ue.lineNumber;dt>=1;dt--){const bt=this.textModel.tokenization.getLineTokens(dt),lt=bt.getCount(),Q=this.textModel.getLineContent(dt);let fe=lt-1,We=Q.length,at=Q.length;if(dt===ue.lineNumber){fe=bt.findTokenIndexAtOffset(ue.column-1),We=ue.column-1,at=ue.column-1;const Rt=bt.getLanguageId(fe);Fe!==Rt&&(Fe=Rt,Qe=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets,ot=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew)}let Ct=!0;for(;fe>=0;fe--){const Rt=bt.getLanguageId(fe);if(Fe!==Rt){if(Qe&&ot&&Ct&&We!==at){const an=S.Vr.findPrevBracketInRange(Qe.reversedRegex,dt,Q,We,at);if(an)return this._toFoundBracket(ot,an);Ct=!1}Fe=Rt,Qe=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets,ot=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew}const Vt=!!Qe&&!(0,a.Bu)(bt.getStandardTokenType(fe));if(Vt)Ct?We=bt.getStartOffset(fe):(We=bt.getStartOffset(fe),at=bt.getEndOffset(fe));else if(ot&&Qe&&Ct&&We!==at){const an=S.Vr.findPrevBracketInRange(Qe.reversedRegex,dt,Q,We,at);if(an)return this._toFoundBracket(ot,an)}Ct=Vt}if(ot&&Qe&&Ct&&We!==at){const Rt=S.Vr.findPrevBracketInRange(Qe.reversedRegex,dt,Q,We,at);if(Rt)return this._toFoundBracket(ot,Rt)}}return null}findNextBracket(k){var ne;const ue=this.textModel.validatePosition(k);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ne=this.bracketPairsTree.value)===null||ne===void 0?void 0:ne.object.getFirstBracketAfter(ue))||null;const Fe=this.textModel.getLineCount();let Qe=null,ot=null,dt=null;for(let bt=ue.lineNumber;bt<=Fe;bt++){const lt=this.textModel.tokenization.getLineTokens(bt),Q=lt.getCount(),fe=this.textModel.getLineContent(bt);let We=0,at=0,Ct=0;if(bt===ue.lineNumber){We=lt.findTokenIndexAtOffset(ue.column-1),at=ue.column-1,Ct=ue.column-1;const Vt=lt.getLanguageId(We);Qe!==Vt&&(Qe=Vt,ot=this.languageConfigurationService.getLanguageConfiguration(Qe).brackets,dt=this.languageConfigurationService.getLanguageConfiguration(Qe).bracketsNew)}let Rt=!0;for(;We<Q;We++){const Vt=lt.getLanguageId(We);if(Qe!==Vt){if(dt&&ot&&Rt&&at!==Ct){const An=S.Vr.findNextBracketInRange(ot.forwardRegex,bt,fe,at,Ct);if(An)return this._toFoundBracket(dt,An);Rt=!1}Qe=Vt,ot=this.languageConfigurationService.getLanguageConfiguration(Qe).brackets,dt=this.languageConfigurationService.getLanguageConfiguration(Qe).bracketsNew}const an=!!ot&&!(0,a.Bu)(lt.getStandardTokenType(We));if(an)Rt||(at=lt.getStartOffset(We)),Ct=lt.getEndOffset(We);else if(dt&&ot&&Rt&&at!==Ct){const An=S.Vr.findNextBracketInRange(ot.forwardRegex,bt,fe,at,Ct);if(An)return this._toFoundBracket(dt,An)}Rt=an}if(dt&&ot&&Rt&&at!==Ct){const Vt=S.Vr.findNextBracketInRange(ot.forwardRegex,bt,fe,at,Ct);if(Vt)return this._toFoundBracket(dt,Vt)}}return null}findEnclosingBrackets(k,ne){const ue=this.textModel.validatePosition(k);if(this.canBuildAST){const at=u.e.fromPositions(ue),Ct=this.getBracketPairsInRange(u.e.fromPositions(ue,ue)).findLast(Rt=>Rt.closingBracketRange!==void 0&&Rt.range.strictContainsRange(at));return Ct?[Ct.openingBracketRange,Ct.closingBracketRange]:null}const Fe=j(ne),Qe=this.textModel.getLineCount(),ot=new Map;let dt=[];const bt=(at,Ct)=>{if(!ot.has(at)){const Rt=[];for(let Vt=0,an=Ct?Ct.brackets.length:0;Vt<an;Vt++)Rt[Vt]=0;ot.set(at,Rt)}dt=ot.get(at)};let lt=0;const Q=(at,Ct,Rt,Vt,an)=>{for(;;){if(Fe&&++lt%100===0&&!Fe())return F.INSTANCE;const An=S.Vr.findNextBracketInRange(at.forwardRegex,Ct,Rt,Vt,an);if(!An)break;const zn=Rt.substring(An.startColumn-1,An.endColumn-1).toLowerCase(),ui=at.textIsBracket[zn];if(ui&&(ui.isOpen(zn)?dt[ui.index]++:ui.isClose(zn)&&dt[ui.index]--,dt[ui.index]===-1))return this._matchFoundBracket(An,ui,!1,Fe);Vt=An.endColumn-1}return null};let fe=null,We=null;for(let at=ue.lineNumber;at<=Qe;at++){const Ct=this.textModel.tokenization.getLineTokens(at),Rt=Ct.getCount(),Vt=this.textModel.getLineContent(at);let an=0,An=0,zn=0;if(at===ue.lineNumber){an=Ct.findTokenIndexAtOffset(ue.column-1),An=ue.column-1,zn=ue.column-1;const hi=Ct.getLanguageId(an);fe!==hi&&(fe=hi,We=this.languageConfigurationService.getLanguageConfiguration(fe).brackets,bt(fe,We))}let ui=!0;for(;an<Rt;an++){const hi=Ct.getLanguageId(an);if(fe!==hi){if(We&&ui&&An!==zn){const Kn=Q(We,at,Vt,An,zn);if(Kn)return K(Kn);ui=!1}fe=hi,We=this.languageConfigurationService.getLanguageConfiguration(fe).brackets,bt(fe,We)}const oi=!!We&&!(0,a.Bu)(Ct.getStandardTokenType(an));if(oi)ui||(An=Ct.getStartOffset(an)),zn=Ct.getEndOffset(an);else if(We&&ui&&An!==zn){const Kn=Q(We,at,Vt,An,zn);if(Kn)return K(Kn)}ui=oi}if(We&&ui&&An!==zn){const hi=Q(We,at,Vt,An,zn);if(hi)return K(hi)}}return null}_toFoundBracket(k,ne){if(!ne)return null;let ue=this.textModel.getValueInRange(ne);ue=ue.toLowerCase();const Fe=k.getBracketInfo(ue);return Fe?{range:ne,bracketInfo:Fe}:null}}function G(St,k){return{object:St,dispose:()=>k==null?void 0:k.dispose()}}function j(St){if(typeof St=="undefined")return()=>!0;{const k=Date.now();return()=>Date.now()-k<=St}}class F{constructor(){this._searchCanceledBrand=void 0}}F.INSTANCE=new F;function K(St){return St instanceof F?null:St}var m=e(8625),J=e(97781);class X extends c.JT{constructor(k){super(),this.textModel=k,this.colorProvider=new te,this.onDidChangeEmitter=new w.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=k.getOptions().bracketPairColorizationOptions,this._register(k.bracketPairs.onDidChange(ne=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(k){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(k,ne,ue,Fe){return Fe?[]:ne===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(k,!0).map(ot=>({id:`bracket${ot.range.toString()}-${ot.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(ot,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:ot.range})).toArray():[]}getAllDecorations(k,ne){return k===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new u.e(1,1,this.textModel.getLineCount(),1),k,ne):[]}}class te{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(k,ne){return k.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(ne?k.nestingLevelOfEqualBracketType:k.nestingLevel)}getInlineClassNameOfLevel(k){return`bracket-highlighting-${k%30}`}}(0,J.Ic)((St,k)=>{const ne=[m.zJ,m.Vs,m.CE,m.UP,m.r0,m.m1],ue=new te;k.addRule(`.monaco-editor .${ue.unexpectedClosingBracketClassName} { color: ${St.getColor(m.ts)}; }`);const Fe=ne.map(Qe=>St.getColor(Qe)).filter(Qe=>!!Qe).filter(Qe=>!Qe.isTransparent());for(let Qe=0;Qe<30;Qe++){const ot=Fe[Qe%Fe.length];k.addRule(`.monaco-editor .${ue.getInlineClassNameOfLevel(Qe)} { color: ${ot}; }`)}});var le=e(95215),ge=e(1516);class we{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function pe(St,k,ne,ue,Fe){Fe.spacesDiff=0,Fe.looksLikeAlignment=!1;let Qe;for(Qe=0;Qe<k&&Qe<ue;Qe++){const We=St.charCodeAt(Qe),at=ne.charCodeAt(Qe);if(We!==at)break}let ot=0,dt=0;for(let We=Qe;We<k;We++)St.charCodeAt(We)===32?ot++:dt++;let bt=0,lt=0;for(let We=Qe;We<ue;We++)ne.charCodeAt(We)===32?bt++:lt++;if(ot>0&&dt>0||bt>0&&lt>0)return;const Q=Math.abs(dt-lt),fe=Math.abs(ot-bt);if(Q===0){Fe.spacesDiff=fe,fe>0&&0<=bt-1&&bt-1<St.length&&bt<ne.length&&ne.charCodeAt(bt)!==32&&St.charCodeAt(bt-1)===32&&St.charCodeAt(St.length-1)===44&&(Fe.looksLikeAlignment=!0);return}if(fe%Q===0){Fe.spacesDiff=fe/Q;return}}function Pe(St,k,ne){const ue=Math.min(St.getLineCount(),1e4);let Fe=0,Qe=0,ot="",dt=0;const bt=[2,4,6,8,3,5,7],lt=8,Q=[0,0,0,0,0,0,0,0,0],fe=new we;for(let Ct=1;Ct<=ue;Ct++){const Rt=St.getLineLength(Ct),Vt=St.getLineContent(Ct),an=Rt<=65536;let An=!1,zn=0,ui=0,hi=0;for(let Kn=0,di=Rt;Kn<di;Kn++){const pi=an?Vt.charCodeAt(Kn):St.getLineCharCode(Ct,Kn);if(pi===9)hi++;else if(pi===32)ui++;else{An=!0,zn=Kn;break}}if(!An||(hi>0?Fe++:ui>1&&Qe++,pe(ot,dt,Vt,zn,fe),fe.looksLikeAlignment&&!(ne&&k===fe.spacesDiff)))continue;const oi=fe.spacesDiff;oi<=lt&&Q[oi]++,ot=Vt,dt=zn}let We=ne;Fe!==Qe&&(We=Fe<Qe);let at=k;if(We){let Ct=We?0:.1*ue;bt.forEach(Rt=>{const Vt=Q[Rt];Vt>Ct&&(Ct=Vt,at=Rt)}),at===4&&Q[4]>0&&Q[2]>0&&Q[2]>=Q[4]/2&&(at=2)}return{insertSpaces:We,tabSize:at}}function Ne(St){return(St.metadata&1)>>>0}function ae(St,k){St.metadata=St.metadata&254|k<<0}function Me(St){return(St.metadata&2)>>>1===1}function ke(St,k){St.metadata=St.metadata&253|(k?1:0)<<1}function Ue(St){return(St.metadata&4)>>>2===1}function Le(St,k){St.metadata=St.metadata&251|(k?1:0)<<2}function ie(St){return(St.metadata&64)>>>6===1}function ce(St,k){St.metadata=St.metadata&191|(k?1:0)<<6}function Re(St){return(St.metadata&24)>>>3}function ye(St,k){St.metadata=St.metadata&231|k<<3}function Se(St){return(St.metadata&32)>>>5===1}function me(St,k){St.metadata=St.metadata&223|(k?1:0)<<5}class he{constructor(k,ne,ue){this.metadata=0,this.parent=this,this.left=this,this.right=this,ae(this,1),this.start=ne,this.end=ue,this.delta=0,this.maxEnd=ue,this.id=k,this.ownerId=0,this.options=null,Le(this,!1),ce(this,!1),ye(this,1),me(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=ne,this.cachedAbsoluteEnd=ue,this.range=null,ke(this,!1)}reset(k,ne,ue,Fe){this.start=ne,this.end=ue,this.maxEnd=ue,this.cachedVersionId=k,this.cachedAbsoluteStart=ne,this.cachedAbsoluteEnd=ue,this.range=Fe}setOptions(k){this.options=k;const ne=this.options.className;Le(this,ne==="squiggly-error"||ne==="squiggly-warning"||ne==="squiggly-info"),ce(this,this.options.glyphMarginClassName!==null),ye(this,this.options.stickiness),me(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(k,ne,ue){this.cachedVersionId!==ue&&(this.range=null),this.cachedVersionId=ue,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=ne}detach(){this.parent=null,this.left=null,this.right=null}}const se=new he(null,0,0);se.parent=se,se.left=se,se.right=se,ae(se,0);class ve{constructor(){this.root=se,this.requestNormalizeDelta=!1}intervalSearch(k,ne,ue,Fe,Qe,ot){return this.root===se?[]:Mt(this,k,ne,ue,Fe,Qe,ot)}search(k,ne,ue,Fe){return this.root===se?[]:pt(this,k,ne,ue,Fe)}collectNodesFromOwner(k){return Et(this,k)}collectNodesPostOrder(){return st(this)}insert(k){qt(this,k),this._normalizeDeltaIfNecessary()}delete(k){Xt(this,k),this._normalizeDeltaIfNecessary()}resolveNode(k,ne){const ue=k;let Fe=0;for(;k!==this.root;)k===k.parent.right&&(Fe+=k.parent.delta),k=k.parent;const Qe=ue.start+Fe,ot=ue.end+Fe;ue.setCachedOffsets(Qe,ot,ne)}acceptReplace(k,ne,ue,Fe){const Qe=Ze(this,k,k+ne);for(let ot=0,dt=Qe.length;ot<dt;ot++){const bt=Qe[ot];Xt(this,bt)}this._normalizeDeltaIfNecessary(),it(this,k,k+ne,ue),this._normalizeDeltaIfNecessary();for(let ot=0,dt=Qe.length;ot<dt;ot++){const bt=Qe[ot];bt.start=bt.cachedAbsoluteStart,bt.end=bt.cachedAbsoluteEnd,Oe(bt,k,k+ne,ue,Fe),bt.maxEnd=bt.end,qt(this,bt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,xe(this))}}function xe(St){let k=St.root,ne=0;for(;k!==se;){if(k.left!==se&&!Me(k.left)){k=k.left;continue}if(k.right!==se&&!Me(k.right)){ne+=k.delta,k=k.right;continue}k.start=ne+k.start,k.end=ne+k.end,k.delta=0,Be(k),ke(k,!0),ke(k.left,!1),ke(k.right,!1),k===k.parent.right&&(ne-=k.parent.delta),k=k.parent}ke(St.root,!1)}function je(St,k,ne,ue){return St<ne?!0:St>ne||ue===1?!1:ue===2?!0:k}function Oe(St,k,ne,ue,Fe){const Qe=Re(St),ot=Qe===0||Qe===2,dt=Qe===1||Qe===2,bt=ne-k,lt=ue,Q=Math.min(bt,lt),fe=St.start;let We=!1;const at=St.end;let Ct=!1;k<=fe&&at<=ne&&Se(St)&&(St.start=k,We=!0,St.end=k,Ct=!0);{const Vt=Fe?1:bt>0?2:0;!We&&je(fe,ot,k,Vt)&&(We=!0),!Ct&&je(at,dt,k,Vt)&&(Ct=!0)}if(Q>0&&!Fe){const Vt=bt>lt?2:0;!We&&je(fe,ot,k+Q,Vt)&&(We=!0),!Ct&&je(at,dt,k+Q,Vt)&&(Ct=!0)}{const Vt=Fe?1:0;!We&&je(fe,ot,ne,Vt)&&(St.start=k+lt,We=!0),!Ct&&je(at,dt,ne,Vt)&&(St.end=k+lt,Ct=!0)}const Rt=lt-bt;We||(St.start=Math.max(0,fe+Rt)),Ct||(St.end=Math.max(0,at+Rt)),St.start>St.end&&(St.end=St.start)}function Ze(St,k,ne){let ue=St.root,Fe=0,Qe=0,ot=0,dt=0;const bt=[];let lt=0;for(;ue!==se;){if(Me(ue)){ke(ue.left,!1),ke(ue.right,!1),ue===ue.parent.right&&(Fe-=ue.parent.delta),ue=ue.parent;continue}if(!Me(ue.left)){if(Qe=Fe+ue.maxEnd,Qe<k){ke(ue,!0);continue}if(ue.left!==se){ue=ue.left;continue}}if(ot=Fe+ue.start,ot>ne){ke(ue,!0);continue}if(dt=Fe+ue.end,dt>=k&&(ue.setCachedOffsets(ot,dt,0),bt[lt++]=ue),ke(ue,!0),ue.right!==se&&!Me(ue.right)){Fe+=ue.delta,ue=ue.right;continue}}return ke(St.root,!1),bt}function it(St,k,ne,ue){let Fe=St.root,Qe=0,ot=0,dt=0;const bt=ue-(ne-k);for(;Fe!==se;){if(Me(Fe)){ke(Fe.left,!1),ke(Fe.right,!1),Fe===Fe.parent.right&&(Qe-=Fe.parent.delta),Be(Fe),Fe=Fe.parent;continue}if(!Me(Fe.left)){if(ot=Qe+Fe.maxEnd,ot<k){ke(Fe,!0);continue}if(Fe.left!==se){Fe=Fe.left;continue}}if(dt=Qe+Fe.start,dt>ne){Fe.start+=bt,Fe.end+=bt,Fe.delta+=bt,(Fe.delta<-1073741824||Fe.delta>1073741824)&&(St.requestNormalizeDelta=!0),ke(Fe,!0);continue}if(ke(Fe,!0),Fe.right!==se&&!Me(Fe.right)){Qe+=Fe.delta,Fe=Fe.right;continue}}ke(St.root,!1)}function Et(St,k){let ne=St.root;const ue=[];let Fe=0;for(;ne!==se;){if(Me(ne)){ke(ne.left,!1),ke(ne.right,!1),ne=ne.parent;continue}if(ne.left!==se&&!Me(ne.left)){ne=ne.left;continue}if(ne.ownerId===k&&(ue[Fe++]=ne),ke(ne,!0),ne.right!==se&&!Me(ne.right)){ne=ne.right;continue}}return ke(St.root,!1),ue}function st(St){let k=St.root;const ne=[];let ue=0;for(;k!==se;){if(Me(k)){ke(k.left,!1),ke(k.right,!1),k=k.parent;continue}if(k.left!==se&&!Me(k.left)){k=k.left;continue}if(k.right!==se&&!Me(k.right)){k=k.right;continue}ne[ue++]=k,ke(k,!0)}return ke(St.root,!1),ne}function pt(St,k,ne,ue,Fe){let Qe=St.root,ot=0,dt=0,bt=0;const lt=[];let Q=0;for(;Qe!==se;){if(Me(Qe)){ke(Qe.left,!1),ke(Qe.right,!1),Qe===Qe.parent.right&&(ot-=Qe.parent.delta),Qe=Qe.parent;continue}if(Qe.left!==se&&!Me(Qe.left)){Qe=Qe.left;continue}dt=ot+Qe.start,bt=ot+Qe.end,Qe.setCachedOffsets(dt,bt,ue);let fe=!0;if(k&&Qe.ownerId&&Qe.ownerId!==k&&(fe=!1),ne&&Ue(Qe)&&(fe=!1),Fe&&!ie(Qe)&&(fe=!1),fe&&(lt[Q++]=Qe),ke(Qe,!0),Qe.right!==se&&!Me(Qe.right)){ot+=Qe.delta,Qe=Qe.right;continue}}return ke(St.root,!1),lt}function Mt(St,k,ne,ue,Fe,Qe,ot){let dt=St.root,bt=0,lt=0,Q=0,fe=0;const We=[];let at=0;for(;dt!==se;){if(Me(dt)){ke(dt.left,!1),ke(dt.right,!1),dt===dt.parent.right&&(bt-=dt.parent.delta),dt=dt.parent;continue}if(!Me(dt.left)){if(lt=bt+dt.maxEnd,lt<k){ke(dt,!0);continue}if(dt.left!==se){dt=dt.left;continue}}if(Q=bt+dt.start,Q>ne){ke(dt,!0);continue}if(fe=bt+dt.end,fe>=k){dt.setCachedOffsets(Q,fe,Qe);let Ct=!0;ue&&dt.ownerId&&dt.ownerId!==ue&&(Ct=!1),Fe&&Ue(dt)&&(Ct=!1),ot&&!ie(dt)&&(Ct=!1),Ct&&(We[at++]=dt)}if(ke(dt,!0),dt.right!==se&&!Me(dt.right)){bt+=dt.delta,dt=dt.right;continue}}return ke(St.root,!1),We}function qt(St,k){if(St.root===se)return k.parent=se,k.left=se,k.right=se,ae(k,0),St.root=k,St.root;Ft(St,k),yt(k.parent);let ne=k;for(;ne!==St.root&&Ne(ne.parent)===1;)if(ne.parent===ne.parent.parent.left){const ue=ne.parent.parent.right;Ne(ue)===1?(ae(ne.parent,0),ae(ue,0),ae(ne.parent.parent,1),ne=ne.parent.parent):(ne===ne.parent.right&&(ne=ne.parent,tt(St,ne)),ae(ne.parent,0),ae(ne.parent.parent,1),xt(St,ne.parent.parent))}else{const ue=ne.parent.parent.left;Ne(ue)===1?(ae(ne.parent,0),ae(ue,0),ae(ne.parent.parent,1),ne=ne.parent.parent):(ne===ne.parent.left&&(ne=ne.parent,xt(St,ne)),ae(ne.parent,0),ae(ne.parent.parent,1),tt(St,ne.parent.parent))}return ae(St.root,0),k}function Ft(St,k){let ne=0,ue=St.root;const Fe=k.start,Qe=k.end;for(;;)if(un(Fe,Qe,ue.start+ne,ue.end+ne)<0)if(ue.left===se){k.start-=ne,k.end-=ne,k.maxEnd-=ne,ue.left=k;break}else ue=ue.left;else if(ue.right===se){k.start-=ne+ue.delta,k.end-=ne+ue.delta,k.maxEnd-=ne+ue.delta,ue.right=k;break}else ne+=ue.delta,ue=ue.right;k.parent=ue,k.left=se,k.right=se,ae(k,1)}function Xt(St,k){let ne,ue;if(k.left===se?(ne=k.right,ue=k,ne.delta+=k.delta,(ne.delta<-1073741824||ne.delta>1073741824)&&(St.requestNormalizeDelta=!0),ne.start+=k.delta,ne.end+=k.delta):k.right===se?(ne=k.left,ue=k):(ue=_t(k.right),ne=ue.right,ne.start+=ue.delta,ne.end+=ue.delta,ne.delta+=ue.delta,(ne.delta<-1073741824||ne.delta>1073741824)&&(St.requestNormalizeDelta=!0),ue.start+=k.delta,ue.end+=k.delta,ue.delta=k.delta,(ue.delta<-1073741824||ue.delta>1073741824)&&(St.requestNormalizeDelta=!0)),ue===St.root){St.root=ne,ae(ne,0),k.detach(),nt(),Be(ne),St.root.parent=se;return}const Fe=Ne(ue)===1;if(ue===ue.parent.left?ue.parent.left=ne:ue.parent.right=ne,ue===k?ne.parent=ue.parent:(ue.parent===k?ne.parent=ue:ne.parent=ue.parent,ue.left=k.left,ue.right=k.right,ue.parent=k.parent,ae(ue,Ne(k)),k===St.root?St.root=ue:k===k.parent.left?k.parent.left=ue:k.parent.right=ue,ue.left!==se&&(ue.left.parent=ue),ue.right!==se&&(ue.right.parent=ue)),k.detach(),Fe){yt(ne.parent),ue!==k&&(yt(ue),yt(ue.parent)),nt();return}yt(ne),yt(ne.parent),ue!==k&&(yt(ue),yt(ue.parent));let Qe;for(;ne!==St.root&&Ne(ne)===0;)ne===ne.parent.left?(Qe=ne.parent.right,Ne(Qe)===1&&(ae(Qe,0),ae(ne.parent,1),tt(St,ne.parent),Qe=ne.parent.right),Ne(Qe.left)===0&&Ne(Qe.right)===0?(ae(Qe,1),ne=ne.parent):(Ne(Qe.right)===0&&(ae(Qe.left,0),ae(Qe,1),xt(St,Qe),Qe=ne.parent.right),ae(Qe,Ne(ne.parent)),ae(ne.parent,0),ae(Qe.right,0),tt(St,ne.parent),ne=St.root)):(Qe=ne.parent.left,Ne(Qe)===1&&(ae(Qe,0),ae(ne.parent,1),xt(St,ne.parent),Qe=ne.parent.left),Ne(Qe.left)===0&&Ne(Qe.right)===0?(ae(Qe,1),ne=ne.parent):(Ne(Qe.left)===0&&(ae(Qe.right,0),ae(Qe,1),tt(St,Qe),Qe=ne.parent.left),ae(Qe,Ne(ne.parent)),ae(ne.parent,0),ae(Qe.left,0),xt(St,ne.parent),ne=St.root));ae(ne,0),nt()}function _t(St){for(;St.left!==se;)St=St.left;return St}function nt(){se.parent=se,se.delta=0,se.start=0,se.end=0}function tt(St,k){const ne=k.right;ne.delta+=k.delta,(ne.delta<-1073741824||ne.delta>1073741824)&&(St.requestNormalizeDelta=!0),ne.start+=k.delta,ne.end+=k.delta,k.right=ne.left,ne.left!==se&&(ne.left.parent=k),ne.parent=k.parent,k.parent===se?St.root=ne:k===k.parent.left?k.parent.left=ne:k.parent.right=ne,ne.left=k,k.parent=ne,Be(k),Be(ne)}function xt(St,k){const ne=k.left;k.delta-=ne.delta,(k.delta<-1073741824||k.delta>1073741824)&&(St.requestNormalizeDelta=!0),k.start-=ne.delta,k.end-=ne.delta,k.left=ne.right,ne.right!==se&&(ne.right.parent=k),ne.parent=k.parent,k.parent===se?St.root=ne:k===k.parent.right?k.parent.right=ne:k.parent.left=ne,ne.right=k,k.parent=ne,Be(k),Be(ne)}function Lt(St){let k=St.end;if(St.left!==se){const ne=St.left.maxEnd;ne>k&&(k=ne)}if(St.right!==se){const ne=St.right.maxEnd+St.delta;ne>k&&(k=ne)}return k}function Be(St){St.maxEnd=Lt(St)}function yt(St){for(;St!==se;){const k=Lt(St);if(St.maxEnd===k)return;St.maxEnd=k,St=St.parent}}function un(St,k,ne,ue){return St===ne?k-ue:St-ne}class In{constructor(k,ne){this.piece=k,this.color=ne,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==bn)return Hn(this.right);let k=this;for(;k.parent!==bn&&k.parent.left!==k;)k=k.parent;return k.parent===bn?bn:k.parent}prev(){if(this.left!==bn)return si(this.left);let k=this;for(;k.parent!==bn&&k.parent.right!==k;)k=k.parent;return k.parent===bn?bn:k.parent}detach(){this.parent=null,this.left=null,this.right=null}}const bn=new In(null,0);bn.parent=bn,bn.left=bn,bn.right=bn,bn.color=0;function Hn(St){for(;St.left!==bn;)St=St.left;return St}function si(St){for(;St.right!==bn;)St=St.right;return St}function Yn(St){return St===bn?0:St.size_left+St.piece.length+Yn(St.right)}function mi(St){return St===bn?0:St.lf_left+St.piece.lineFeedCnt+mi(St.right)}function _i(){bn.parent=bn}function Wi(St,k){const ne=k.right;ne.size_left+=k.size_left+(k.piece?k.piece.length:0),ne.lf_left+=k.lf_left+(k.piece?k.piece.lineFeedCnt:0),k.right=ne.left,ne.left!==bn&&(ne.left.parent=k),ne.parent=k.parent,k.parent===bn?St.root=ne:k.parent.left===k?k.parent.left=ne:k.parent.right=ne,ne.left=k,k.parent=ne}function Si(St,k){const ne=k.left;k.left=ne.right,ne.right!==bn&&(ne.right.parent=k),ne.parent=k.parent,k.size_left-=ne.size_left+(ne.piece?ne.piece.length:0),k.lf_left-=ne.lf_left+(ne.piece?ne.piece.lineFeedCnt:0),k.parent===bn?St.root=ne:k===k.parent.right?k.parent.right=ne:k.parent.left=ne,ne.right=k,k.parent=ne}function Ki(St,k){let ne,ue;if(k.left===bn?(ue=k,ne=ue.right):k.right===bn?(ue=k,ne=ue.left):(ue=Hn(k.right),ne=ue.right),ue===St.root){St.root=ne,ne.color=0,k.detach(),_i(),St.root.parent=bn;return}const Fe=ue.color===1;if(ue===ue.parent.left?ue.parent.left=ne:ue.parent.right=ne,ue===k?(ne.parent=ue.parent,ts(St,ne)):(ue.parent===k?ne.parent=ue:ne.parent=ue.parent,ts(St,ne),ue.left=k.left,ue.right=k.right,ue.parent=k.parent,ue.color=k.color,k===St.root?St.root=ue:k===k.parent.left?k.parent.left=ue:k.parent.right=ue,ue.left!==bn&&(ue.left.parent=ue),ue.right!==bn&&(ue.right.parent=ue),ue.size_left=k.size_left,ue.lf_left=k.lf_left,ts(St,ue)),k.detach(),ne.parent.left===ne){const ot=Yn(ne),dt=mi(ne);if(ot!==ne.parent.size_left||dt!==ne.parent.lf_left){const bt=ot-ne.parent.size_left,lt=dt-ne.parent.lf_left;ne.parent.size_left=ot,ne.parent.lf_left=dt,Fi(St,ne.parent,bt,lt)}}if(ts(St,ne.parent),Fe){_i();return}let Qe;for(;ne!==St.root&&ne.color===0;)ne===ne.parent.left?(Qe=ne.parent.right,Qe.color===1&&(Qe.color=0,ne.parent.color=1,Wi(St,ne.parent),Qe=ne.parent.right),Qe.left.color===0&&Qe.right.color===0?(Qe.color=1,ne=ne.parent):(Qe.right.color===0&&(Qe.left.color=0,Qe.color=1,Si(St,Qe),Qe=ne.parent.right),Qe.color=ne.parent.color,ne.parent.color=0,Qe.right.color=0,Wi(St,ne.parent),ne=St.root)):(Qe=ne.parent.left,Qe.color===1&&(Qe.color=0,ne.parent.color=1,Si(St,ne.parent),Qe=ne.parent.left),Qe.left.color===0&&Qe.right.color===0?(Qe.color=1,ne=ne.parent):(Qe.left.color===0&&(Qe.right.color=0,Qe.color=1,Wi(St,Qe),Qe=ne.parent.left),Qe.color=ne.parent.color,ne.parent.color=0,Qe.left.color=0,Si(St,ne.parent),ne=St.root));ne.color=0,_i()}function bi(St,k){for(ts(St,k);k!==St.root&&k.parent.color===1;)if(k.parent===k.parent.parent.left){const ne=k.parent.parent.right;ne.color===1?(k.parent.color=0,ne.color=0,k.parent.parent.color=1,k=k.parent.parent):(k===k.parent.right&&(k=k.parent,Wi(St,k)),k.parent.color=0,k.parent.parent.color=1,Si(St,k.parent.parent))}else{const ne=k.parent.parent.left;ne.color===1?(k.parent.color=0,ne.color=0,k.parent.parent.color=1,k=k.parent.parent):(k===k.parent.left&&(k=k.parent,Si(St,k)),k.parent.color=0,k.parent.parent.color=1,Wi(St,k.parent.parent))}St.root.color=0}function Fi(St,k,ne,ue){for(;k!==St.root&&k!==bn;)k.parent.left===k&&(k.parent.size_left+=ne,k.parent.lf_left+=ue),k=k.parent}function ts(St,k){let ne=0,ue=0;if(k!==St.root){for(;k!==St.root&&k===k.parent.right;)k=k.parent;if(k!==St.root)for(k=k.parent,ne=Yn(k.left)-k.size_left,ue=mi(k.left)-k.lf_left,k.size_left+=ne,k.lf_left+=ue;k!==St.root&&(ne!==0||ue!==0);)k.parent.left===k&&(k.parent.size_left+=ne,k.parent.lf_left+=ue),k=k.parent}}var wi=e(77277);const ns=65535;function wn(St){let k;return St[St.length-1]<65536?k=new Uint16Array(St.length):k=new Uint32Array(St.length),k.set(St,0),k}class qe{constructor(k,ne,ue,Fe,Qe){this.lineStarts=k,this.cr=ne,this.lf=ue,this.crlf=Fe,this.isBasicASCII=Qe}}function Dt(St,k=!0){const ne=[0];let ue=1;for(let Fe=0,Qe=St.length;Fe<Qe;Fe++){const ot=St.charCodeAt(Fe);ot===13?Fe+1<Qe&&St.charCodeAt(Fe+1)===10?(ne[ue++]=Fe+2,Fe++):ne[ue++]=Fe+1:ot===10&&(ne[ue++]=Fe+1)}return k?wn(ne):ne}function Qt(St,k){St.length=0,St[0]=0;let ne=1,ue=0,Fe=0,Qe=0,ot=!0;for(let bt=0,lt=k.length;bt<lt;bt++){const Q=k.charCodeAt(bt);Q===13?bt+1<lt&&k.charCodeAt(bt+1)===10?(Qe++,St[ne++]=bt+2,bt++):(ue++,St[ne++]=bt+1):Q===10?(Fe++,St[ne++]=bt+1):ot&&Q!==9&&(Q<32||Q>126)&&(ot=!1)}const dt=new qe(wn(St),ue,Fe,Qe,ot);return St.length=0,dt}class on{constructor(k,ne,ue,Fe,Qe){this.bufferIndex=k,this.start=ne,this.end=ue,this.lineFeedCnt=Fe,this.length=Qe}}class Cn{constructor(k,ne){this.buffer=k,this.lineStarts=ne}}class Bn{constructor(k,ne){this._pieces=[],this._tree=k,this._BOM=ne,this._index=0,k.root!==bn&&k.iterate(k.root,ue=>(ue!==bn&&this._pieces.push(ue.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class jn{constructor(k){this._limit=k,this._cache=[]}get(k){for(let ne=this._cache.length-1;ne>=0;ne--){const ue=this._cache[ne];if(ue.nodeStartOffset<=k&&ue.nodeStartOffset+ue.node.piece.length>=k)return ue}return null}get2(k){for(let ne=this._cache.length-1;ne>=0;ne--){const ue=this._cache[ne];if(ue.nodeStartLineNumber&&ue.nodeStartLineNumber<k&&ue.nodeStartLineNumber+ue.node.piece.lineFeedCnt>=k)return ue}return null}set(k){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(k)}validate(k){let ne=!1;const ue=this._cache;for(let Fe=0;Fe<ue.length;Fe++){const Qe=ue[Fe];if(Qe.node.parent===null||Qe.nodeStartOffset>=k){ue[Fe]=null,ne=!0;continue}}if(ne){const Fe=[];for(const Qe of ue)Qe!==null&&Fe.push(Qe);this._cache=Fe}}}class kt{constructor(k,ne,ue){this.create(k,ne,ue)}create(k,ne,ue){this._buffers=[new Cn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=bn,this._lineCnt=1,this._length=0,this._EOL=ne,this._EOLLength=ne.length,this._EOLNormalized=ue;let Fe=null;for(let Qe=0,ot=k.length;Qe<ot;Qe++)if(k[Qe].buffer.length>0){k[Qe].lineStarts||(k[Qe].lineStarts=Dt(k[Qe].buffer));const dt=new on(Qe+1,{line:0,column:0},{line:k[Qe].lineStarts.length-1,column:k[Qe].buffer.length-k[Qe].lineStarts[k[Qe].lineStarts.length-1]},k[Qe].lineStarts.length-1,k[Qe].buffer.length);this._buffers.push(k[Qe]),Fe=this.rbInsertRight(Fe,dt)}this._searchCache=new jn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(k){const ne=ns,ue=ne-Math.floor(ne/3),Fe=ue*2;let Qe="",ot=0;const dt=[];if(this.iterate(this.root,bt=>{const lt=this.getNodeContent(bt),Q=lt.length;if(ot<=ue||ot+Q<Fe)return Qe+=lt,ot+=Q,!0;const fe=Qe.replace(/\r\n|\r|\n/g,k);return dt.push(new Cn(fe,Dt(fe))),Qe=lt,ot=Q,!0}),ot>0){const bt=Qe.replace(/\r\n|\r|\n/g,k);dt.push(new Cn(bt,Dt(bt)))}this.create(dt,k,!0)}getEOL(){return this._EOL}setEOL(k){this._EOL=k,this._EOLLength=this._EOL.length,this.normalizeEOL(k)}createSnapshot(k){return new Bn(this,k)}getOffsetAt(k,ne){let ue=0,Fe=this.root;for(;Fe!==bn;)if(Fe.left!==bn&&Fe.lf_left+1>=k)Fe=Fe.left;else if(Fe.lf_left+Fe.piece.lineFeedCnt+1>=k){ue+=Fe.size_left;const Qe=this.getAccumulatedValue(Fe,k-Fe.lf_left-2);return ue+=Qe+ne-1}else k-=Fe.lf_left+Fe.piece.lineFeedCnt,ue+=Fe.size_left+Fe.piece.length,Fe=Fe.right;return ue}getPositionAt(k){k=Math.floor(k),k=Math.max(0,k);let ne=this.root,ue=0;const Fe=k;for(;ne!==bn;)if(ne.size_left!==0&&ne.size_left>=k)ne=ne.left;else if(ne.size_left+ne.piece.length>=k){const Qe=this.getIndexOf(ne,k-ne.size_left);if(ue+=ne.lf_left+Qe.index,Qe.index===0){const ot=this.getOffsetAt(ue+1,1),dt=Fe-ot;return new o.L(ue+1,dt+1)}return new o.L(ue+1,Qe.remainder+1)}else if(k-=ne.size_left+ne.piece.length,ue+=ne.lf_left+ne.piece.lineFeedCnt,ne.right===bn){const Qe=this.getOffsetAt(ue+1,1),ot=Fe-k-Qe;return new o.L(ue+1,ot+1)}else ne=ne.right;return new o.L(1,1)}getValueInRange(k,ne){if(k.startLineNumber===k.endLineNumber&&k.startColumn===k.endColumn)return"";const ue=this.nodeAt2(k.startLineNumber,k.startColumn),Fe=this.nodeAt2(k.endLineNumber,k.endColumn),Qe=this.getValueInRange2(ue,Fe);return ne?ne!==this._EOL||!this._EOLNormalized?Qe.replace(/\r\n|\r|\n/g,ne):ne===this.getEOL()&&this._EOLNormalized?Qe:Qe.replace(/\r\n|\r|\n/g,ne):Qe}getValueInRange2(k,ne){if(k.node===ne.node){const dt=k.node,bt=this._buffers[dt.piece.bufferIndex].buffer,lt=this.offsetInBuffer(dt.piece.bufferIndex,dt.piece.start);return bt.substring(lt+k.remainder,lt+ne.remainder)}let ue=k.node;const Fe=this._buffers[ue.piece.bufferIndex].buffer,Qe=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);let ot=Fe.substring(Qe+k.remainder,Qe+ue.piece.length);for(ue=ue.next();ue!==bn;){const dt=this._buffers[ue.piece.bufferIndex].buffer,bt=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);if(ue===ne.node){ot+=dt.substring(bt,bt+ne.remainder);break}else ot+=dt.substr(bt,ue.piece.length);ue=ue.next()}return ot}getLinesContent(){const k=[];let ne=0,ue="",Fe=!1;return this.iterate(this.root,Qe=>{if(Qe===bn)return!0;const ot=Qe.piece;let dt=ot.length;if(dt===0)return!0;const bt=this._buffers[ot.bufferIndex].buffer,lt=this._buffers[ot.bufferIndex].lineStarts,Q=ot.start.line,fe=ot.end.line;let We=lt[Q]+ot.start.column;if(Fe&&(bt.charCodeAt(We)===10&&(We++,dt--),k[ne++]=ue,ue="",Fe=!1,dt===0))return!0;if(Q===fe)return!this._EOLNormalized&&bt.charCodeAt(We+dt-1)===13?(Fe=!0,ue+=bt.substr(We,dt-1)):ue+=bt.substr(We,dt),!0;ue+=this._EOLNormalized?bt.substring(We,Math.max(We,lt[Q+1]-this._EOLLength)):bt.substring(We,lt[Q+1]).replace(/(\r\n|\r|\n)$/,""),k[ne++]=ue;for(let at=Q+1;at<fe;at++)ue=this._EOLNormalized?bt.substring(lt[at],lt[at+1]-this._EOLLength):bt.substring(lt[at],lt[at+1]).replace(/(\r\n|\r|\n)$/,""),k[ne++]=ue;return!this._EOLNormalized&&bt.charCodeAt(lt[fe]+ot.end.column-1)===13?(Fe=!0,ot.end.column===0?ne--:ue=bt.substr(lt[fe],ot.end.column-1)):ue=bt.substr(lt[fe],ot.end.column),!0}),Fe&&(k[ne++]=ue,ue=""),k[ne++]=ue,k}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(k){return this._lastVisitedLine.lineNumber===k?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=k,k===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(k):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(k,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(k).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(k){if(k.remainder===k.node.piece.length){const ne=k.node.next();if(!ne)return 0;const ue=this._buffers[ne.piece.bufferIndex],Fe=this.offsetInBuffer(ne.piece.bufferIndex,ne.piece.start);return ue.buffer.charCodeAt(Fe)}else{const ne=this._buffers[k.node.piece.bufferIndex],Fe=this.offsetInBuffer(k.node.piece.bufferIndex,k.node.piece.start)+k.remainder;return ne.buffer.charCodeAt(Fe)}}getLineCharCode(k,ne){const ue=this.nodeAt2(k,ne+1);return this._getCharCode(ue)}getLineLength(k){if(k===this.getLineCount()){const ne=this.getOffsetAt(k,1);return this.getLength()-ne}return this.getOffsetAt(k+1,1)-this.getOffsetAt(k,1)-this._EOLLength}findMatchesInNode(k,ne,ue,Fe,Qe,ot,dt,bt,lt,Q,fe){const We=this._buffers[k.piece.bufferIndex],at=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start),Ct=this.offsetInBuffer(k.piece.bufferIndex,Qe),Rt=this.offsetInBuffer(k.piece.bufferIndex,ot);let Vt;const an={line:0,column:0};let An,zn;ne._wordSeparators?(An=We.buffer.substring(Ct,Rt),zn=ui=>ui+Ct,ne.reset(0)):(An=We.buffer,zn=ui=>ui,ne.reset(Ct));do if(Vt=ne.next(An),Vt){if(zn(Vt.index)>=Rt)return Q;this.positionInBuffer(k,zn(Vt.index)-at,an);const ui=this.getLineFeedCnt(k.piece.bufferIndex,Qe,an),hi=an.line===Qe.line?an.column-Qe.column+Fe:an.column+1,oi=hi+Vt[0].length;if(fe[Q++]=(0,wi.iE)(new u.e(ue+ui,hi,ue+ui,oi),Vt,bt),zn(Vt.index)+Vt[0].length>=Rt||Q>=lt)return Q}while(Vt);return Q}findMatchesLineByLine(k,ne,ue,Fe){const Qe=[];let ot=0;const dt=new wi.sz(ne.wordSeparators,ne.regex);let bt=this.nodeAt2(k.startLineNumber,k.startColumn);if(bt===null)return[];const lt=this.nodeAt2(k.endLineNumber,k.endColumn);if(lt===null)return[];let Q=this.positionInBuffer(bt.node,bt.remainder);const fe=this.positionInBuffer(lt.node,lt.remainder);if(bt.node===lt.node)return this.findMatchesInNode(bt.node,dt,k.startLineNumber,k.startColumn,Q,fe,ne,ue,Fe,ot,Qe),Qe;let We=k.startLineNumber,at=bt.node;for(;at!==lt.node;){const Rt=this.getLineFeedCnt(at.piece.bufferIndex,Q,at.piece.end);if(Rt>=1){const an=this._buffers[at.piece.bufferIndex].lineStarts,An=this.offsetInBuffer(at.piece.bufferIndex,at.piece.start),zn=an[Q.line+Rt],ui=We===k.startLineNumber?k.startColumn:1;if(ot=this.findMatchesInNode(at,dt,We,ui,Q,this.positionInBuffer(at,zn-An),ne,ue,Fe,ot,Qe),ot>=Fe)return Qe;We+=Rt}const Vt=We===k.startLineNumber?k.startColumn-1:0;if(We===k.endLineNumber){const an=this.getLineContent(We).substring(Vt,k.endColumn-1);return ot=this._findMatchesInLine(ne,dt,an,k.endLineNumber,Vt,ot,Qe,ue,Fe),Qe}if(ot=this._findMatchesInLine(ne,dt,this.getLineContent(We).substr(Vt),We,Vt,ot,Qe,ue,Fe),ot>=Fe)return Qe;We++,bt=this.nodeAt2(We,1),at=bt.node,Q=this.positionInBuffer(bt.node,bt.remainder)}if(We===k.endLineNumber){const Rt=We===k.startLineNumber?k.startColumn-1:0,Vt=this.getLineContent(We).substring(Rt,k.endColumn-1);return ot=this._findMatchesInLine(ne,dt,Vt,k.endLineNumber,Rt,ot,Qe,ue,Fe),Qe}const Ct=We===k.startLineNumber?k.startColumn:1;return ot=this.findMatchesInNode(lt.node,dt,We,Ct,Q,fe,ne,ue,Fe,ot,Qe),Qe}_findMatchesInLine(k,ne,ue,Fe,Qe,ot,dt,bt,lt){const Q=k.wordSeparators;if(!bt&&k.simpleSearch){const We=k.simpleSearch,at=We.length,Ct=ue.length;let Rt=-at;for(;(Rt=ue.indexOf(We,Rt+at))!==-1;)if((!Q||(0,wi.cM)(Q,ue,Ct,Rt,at))&&(dt[ot++]=new v.tk(new u.e(Fe,Rt+1+Qe,Fe,Rt+1+at+Qe),null),ot>=lt))return ot;return ot}let fe;ne.reset(0);do if(fe=ne.next(ue),fe&&(dt[ot++]=(0,wi.iE)(new u.e(Fe,fe.index+1+Qe,Fe,fe.index+1+fe[0].length+Qe),fe,bt),ot>=lt))return ot;while(fe);return ot}insert(k,ne,ue=!1){if(this._EOLNormalized=this._EOLNormalized&&ue,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==bn){const{node:Fe,remainder:Qe,nodeStartOffset:ot}=this.nodeAt(k),dt=Fe.piece,bt=dt.bufferIndex,lt=this.positionInBuffer(Fe,Qe);if(Fe.piece.bufferIndex===0&&dt.end.line===this._lastChangeBufferPos.line&&dt.end.column===this._lastChangeBufferPos.column&&ot+dt.length===k&&ne.length<ns){this.appendToNode(Fe,ne),this.computeBufferMetadata();return}if(ot===k)this.insertContentToNodeLeft(ne,Fe),this._searchCache.validate(k);else if(ot+Fe.piece.length>k){const Q=[];let fe=new on(dt.bufferIndex,lt,dt.end,this.getLineFeedCnt(dt.bufferIndex,lt,dt.end),this.offsetInBuffer(bt,dt.end)-this.offsetInBuffer(bt,lt));if(this.shouldCheckCRLF()&&this.endWithCR(ne)&&this.nodeCharCodeAt(Fe,Qe)===10){const Rt={line:fe.start.line+1,column:0};fe=new on(fe.bufferIndex,Rt,fe.end,this.getLineFeedCnt(fe.bufferIndex,Rt,fe.end),fe.length-1),ne+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(ne))if(this.nodeCharCodeAt(Fe,Qe-1)===13){const Rt=this.positionInBuffer(Fe,Qe-1);this.deleteNodeTail(Fe,Rt),ne="\r"+ne,Fe.piece.length===0&&Q.push(Fe)}else this.deleteNodeTail(Fe,lt);else this.deleteNodeTail(Fe,lt);const We=this.createNewPieces(ne);fe.length>0&&this.rbInsertRight(Fe,fe);let at=Fe;for(let Ct=0;Ct<We.length;Ct++)at=this.rbInsertRight(at,We[Ct]);this.deleteNodes(Q)}else this.insertContentToNodeRight(ne,Fe)}else{const Fe=this.createNewPieces(ne);let Qe=this.rbInsertLeft(null,Fe[0]);for(let ot=1;ot<Fe.length;ot++)Qe=this.rbInsertRight(Qe,Fe[ot])}this.computeBufferMetadata()}delete(k,ne){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",ne<=0||this.root===bn)return;const ue=this.nodeAt(k),Fe=this.nodeAt(k+ne),Qe=ue.node,ot=Fe.node;if(Qe===ot){const We=this.positionInBuffer(Qe,ue.remainder),at=this.positionInBuffer(Qe,Fe.remainder);if(ue.nodeStartOffset===k){if(ne===Qe.piece.length){const Ct=Qe.next();Ki(this,Qe),this.validateCRLFWithPrevNode(Ct),this.computeBufferMetadata();return}this.deleteNodeHead(Qe,at),this._searchCache.validate(k),this.validateCRLFWithPrevNode(Qe),this.computeBufferMetadata();return}if(ue.nodeStartOffset+Qe.piece.length===k+ne){this.deleteNodeTail(Qe,We),this.validateCRLFWithNextNode(Qe),this.computeBufferMetadata();return}this.shrinkNode(Qe,We,at),this.computeBufferMetadata();return}const dt=[],bt=this.positionInBuffer(Qe,ue.remainder);this.deleteNodeTail(Qe,bt),this._searchCache.validate(k),Qe.piece.length===0&&dt.push(Qe);const lt=this.positionInBuffer(ot,Fe.remainder);this.deleteNodeHead(ot,lt),ot.piece.length===0&&dt.push(ot);const Q=Qe.next();for(let We=Q;We!==bn&&We!==ot;We=We.next())dt.push(We);const fe=Qe.piece.length===0?Qe.prev():Qe;this.deleteNodes(dt),this.validateCRLFWithNextNode(fe),this.computeBufferMetadata()}insertContentToNodeLeft(k,ne){const ue=[];if(this.shouldCheckCRLF()&&this.endWithCR(k)&&this.startWithLF(ne)){const ot=ne.piece,dt={line:ot.start.line+1,column:0},bt=new on(ot.bufferIndex,dt,ot.end,this.getLineFeedCnt(ot.bufferIndex,dt,ot.end),ot.length-1);ne.piece=bt,k+=`
`,Fi(this,ne,-1,-1),ne.piece.length===0&&ue.push(ne)}const Fe=this.createNewPieces(k);let Qe=this.rbInsertLeft(ne,Fe[Fe.length-1]);for(let ot=Fe.length-2;ot>=0;ot--)Qe=this.rbInsertLeft(Qe,Fe[ot]);this.validateCRLFWithPrevNode(Qe),this.deleteNodes(ue)}insertContentToNodeRight(k,ne){this.adjustCarriageReturnFromNext(k,ne)&&(k+=`
`);const ue=this.createNewPieces(k),Fe=this.rbInsertRight(ne,ue[0]);let Qe=Fe;for(let ot=1;ot<ue.length;ot++)Qe=this.rbInsertRight(Qe,ue[ot]);this.validateCRLFWithPrevNode(Fe)}positionInBuffer(k,ne,ue){const Fe=k.piece,Qe=k.piece.bufferIndex,ot=this._buffers[Qe].lineStarts,bt=ot[Fe.start.line]+Fe.start.column+ne;let lt=Fe.start.line,Q=Fe.end.line,fe=0,We=0,at=0;for(;lt<=Q&&(fe=lt+(Q-lt)/2|0,at=ot[fe],fe!==Q);)if(We=ot[fe+1],bt<at)Q=fe-1;else if(bt>=We)lt=fe+1;else break;return ue?(ue.line=fe,ue.column=bt-at,null):{line:fe,column:bt-at}}getLineFeedCnt(k,ne,ue){if(ue.column===0)return ue.line-ne.line;const Fe=this._buffers[k].lineStarts;if(ue.line===Fe.length-1)return ue.line-ne.line;const Qe=Fe[ue.line+1],ot=Fe[ue.line]+ue.column;if(Qe>ot+1)return ue.line-ne.line;const dt=ot-1;return this._buffers[k].buffer.charCodeAt(dt)===13?ue.line-ne.line+1:ue.line-ne.line}offsetInBuffer(k,ne){return this._buffers[k].lineStarts[ne.line]+ne.column}deleteNodes(k){for(let ne=0;ne<k.length;ne++)Ki(this,k[ne])}createNewPieces(k){if(k.length>ns){const Q=[];for(;k.length>ns;){const We=k.charCodeAt(ns-1);let at;We===13||We>=55296&&We<=56319?(at=k.substring(0,ns-1),k=k.substring(ns-1)):(at=k.substring(0,ns),k=k.substring(ns));const Ct=Dt(at);Q.push(new on(this._buffers.length,{line:0,column:0},{line:Ct.length-1,column:at.length-Ct[Ct.length-1]},Ct.length-1,at.length)),this._buffers.push(new Cn(at,Ct))}const fe=Dt(k);return Q.push(new on(this._buffers.length,{line:0,column:0},{line:fe.length-1,column:k.length-fe[fe.length-1]},fe.length-1,k.length)),this._buffers.push(new Cn(k,fe)),Q}let ne=this._buffers[0].buffer.length;const ue=Dt(k,!1);let Fe=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===ne&&ne!==0&&this.startWithLF(k)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Fe=this._lastChangeBufferPos;for(let Q=0;Q<ue.length;Q++)ue[Q]+=ne+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ue.slice(1)),this._buffers[0].buffer+="_"+k,ne+=1}else{if(ne!==0)for(let Q=0;Q<ue.length;Q++)ue[Q]+=ne;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ue.slice(1)),this._buffers[0].buffer+=k}const Qe=this._buffers[0].buffer.length,ot=this._buffers[0].lineStarts.length-1,dt=Qe-this._buffers[0].lineStarts[ot],bt={line:ot,column:dt},lt=new on(0,Fe,bt,this.getLineFeedCnt(0,Fe,bt),Qe-ne);return this._lastChangeBufferPos=bt,[lt]}getLineRawContent(k,ne=0){let ue=this.root,Fe="";const Qe=this._searchCache.get2(k);if(Qe){ue=Qe.node;const ot=this.getAccumulatedValue(ue,k-Qe.nodeStartLineNumber-1),dt=this._buffers[ue.piece.bufferIndex].buffer,bt=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);if(Qe.nodeStartLineNumber+ue.piece.lineFeedCnt===k)Fe=dt.substring(bt+ot,bt+ue.piece.length);else{const lt=this.getAccumulatedValue(ue,k-Qe.nodeStartLineNumber);return dt.substring(bt+ot,bt+lt-ne)}}else{let ot=0;const dt=k;for(;ue!==bn;)if(ue.left!==bn&&ue.lf_left>=k-1)ue=ue.left;else if(ue.lf_left+ue.piece.lineFeedCnt>k-1){const bt=this.getAccumulatedValue(ue,k-ue.lf_left-2),lt=this.getAccumulatedValue(ue,k-ue.lf_left-1),Q=this._buffers[ue.piece.bufferIndex].buffer,fe=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);return ot+=ue.size_left,this._searchCache.set({node:ue,nodeStartOffset:ot,nodeStartLineNumber:dt-(k-1-ue.lf_left)}),Q.substring(fe+bt,fe+lt-ne)}else if(ue.lf_left+ue.piece.lineFeedCnt===k-1){const bt=this.getAccumulatedValue(ue,k-ue.lf_left-2),lt=this._buffers[ue.piece.bufferIndex].buffer,Q=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);Fe=lt.substring(Q+bt,Q+ue.piece.length);break}else k-=ue.lf_left+ue.piece.lineFeedCnt,ot+=ue.size_left+ue.piece.length,ue=ue.right}for(ue=ue.next();ue!==bn;){const ot=this._buffers[ue.piece.bufferIndex].buffer;if(ue.piece.lineFeedCnt>0){const dt=this.getAccumulatedValue(ue,0),bt=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);return Fe+=ot.substring(bt,bt+dt-ne),Fe}else{const dt=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);Fe+=ot.substr(dt,ue.piece.length)}ue=ue.next()}return Fe}computeBufferMetadata(){let k=this.root,ne=1,ue=0;for(;k!==bn;)ne+=k.lf_left+k.piece.lineFeedCnt,ue+=k.size_left+k.piece.length,k=k.right;this._lineCnt=ne,this._length=ue,this._searchCache.validate(this._length)}getIndexOf(k,ne){const ue=k.piece,Fe=this.positionInBuffer(k,ne),Qe=Fe.line-ue.start.line;if(this.offsetInBuffer(ue.bufferIndex,ue.end)-this.offsetInBuffer(ue.bufferIndex,ue.start)===ne){const ot=this.getLineFeedCnt(k.piece.bufferIndex,ue.start,Fe);if(ot!==Qe)return{index:ot,remainder:0}}return{index:Qe,remainder:Fe.column}}getAccumulatedValue(k,ne){if(ne<0)return 0;const ue=k.piece,Fe=this._buffers[ue.bufferIndex].lineStarts,Qe=ue.start.line+ne+1;return Qe>ue.end.line?Fe[ue.end.line]+ue.end.column-Fe[ue.start.line]-ue.start.column:Fe[Qe]-Fe[ue.start.line]-ue.start.column}deleteNodeTail(k,ne){const ue=k.piece,Fe=ue.lineFeedCnt,Qe=this.offsetInBuffer(ue.bufferIndex,ue.end),ot=ne,dt=this.offsetInBuffer(ue.bufferIndex,ot),bt=this.getLineFeedCnt(ue.bufferIndex,ue.start,ot),lt=bt-Fe,Q=dt-Qe,fe=ue.length+Q;k.piece=new on(ue.bufferIndex,ue.start,ot,bt,fe),Fi(this,k,Q,lt)}deleteNodeHead(k,ne){const ue=k.piece,Fe=ue.lineFeedCnt,Qe=this.offsetInBuffer(ue.bufferIndex,ue.start),ot=ne,dt=this.getLineFeedCnt(ue.bufferIndex,ot,ue.end),bt=this.offsetInBuffer(ue.bufferIndex,ot),lt=dt-Fe,Q=Qe-bt,fe=ue.length+Q;k.piece=new on(ue.bufferIndex,ot,ue.end,dt,fe),Fi(this,k,Q,lt)}shrinkNode(k,ne,ue){const Fe=k.piece,Qe=Fe.start,ot=Fe.end,dt=Fe.length,bt=Fe.lineFeedCnt,lt=ne,Q=this.getLineFeedCnt(Fe.bufferIndex,Fe.start,lt),fe=this.offsetInBuffer(Fe.bufferIndex,ne)-this.offsetInBuffer(Fe.bufferIndex,Qe);k.piece=new on(Fe.bufferIndex,Fe.start,lt,Q,fe),Fi(this,k,fe-dt,Q-bt);const We=new on(Fe.bufferIndex,ue,ot,this.getLineFeedCnt(Fe.bufferIndex,ue,ot),this.offsetInBuffer(Fe.bufferIndex,ot)-this.offsetInBuffer(Fe.bufferIndex,ue)),at=this.rbInsertRight(k,We);this.validateCRLFWithPrevNode(at)}appendToNode(k,ne){this.adjustCarriageReturnFromNext(ne,k)&&(ne+=`
`);const ue=this.shouldCheckCRLF()&&this.startWithLF(ne)&&this.endWithCR(k),Fe=this._buffers[0].buffer.length;this._buffers[0].buffer+=ne;const Qe=Dt(ne,!1);for(let at=0;at<Qe.length;at++)Qe[at]+=Fe;if(ue){const at=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Fe-at}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Qe.slice(1));const ot=this._buffers[0].lineStarts.length-1,dt=this._buffers[0].buffer.length-this._buffers[0].lineStarts[ot],bt={line:ot,column:dt},lt=k.piece.length+ne.length,Q=k.piece.lineFeedCnt,fe=this.getLineFeedCnt(0,k.piece.start,bt),We=fe-Q;k.piece=new on(k.piece.bufferIndex,k.piece.start,bt,fe,lt),this._lastChangeBufferPos=bt,Fi(this,k,ne.length,We)}nodeAt(k){let ne=this.root;const ue=this._searchCache.get(k);if(ue)return{node:ue.node,nodeStartOffset:ue.nodeStartOffset,remainder:k-ue.nodeStartOffset};let Fe=0;for(;ne!==bn;)if(ne.size_left>k)ne=ne.left;else if(ne.size_left+ne.piece.length>=k){Fe+=ne.size_left;const Qe={node:ne,remainder:k-ne.size_left,nodeStartOffset:Fe};return this._searchCache.set(Qe),Qe}else k-=ne.size_left+ne.piece.length,Fe+=ne.size_left+ne.piece.length,ne=ne.right;return null}nodeAt2(k,ne){let ue=this.root,Fe=0;for(;ue!==bn;)if(ue.left!==bn&&ue.lf_left>=k-1)ue=ue.left;else if(ue.lf_left+ue.piece.lineFeedCnt>k-1){const Qe=this.getAccumulatedValue(ue,k-ue.lf_left-2),ot=this.getAccumulatedValue(ue,k-ue.lf_left-1);return Fe+=ue.size_left,{node:ue,remainder:Math.min(Qe+ne-1,ot),nodeStartOffset:Fe}}else if(ue.lf_left+ue.piece.lineFeedCnt===k-1){const Qe=this.getAccumulatedValue(ue,k-ue.lf_left-2);if(Qe+ne-1<=ue.piece.length)return{node:ue,remainder:Qe+ne-1,nodeStartOffset:Fe};ne-=ue.piece.length-Qe;break}else k-=ue.lf_left+ue.piece.lineFeedCnt,Fe+=ue.size_left+ue.piece.length,ue=ue.right;for(ue=ue.next();ue!==bn;){if(ue.piece.lineFeedCnt>0){const Qe=this.getAccumulatedValue(ue,0),ot=this.offsetOfNode(ue);return{node:ue,remainder:Math.min(ne-1,Qe),nodeStartOffset:ot}}else if(ue.piece.length>=ne-1){const Qe=this.offsetOfNode(ue);return{node:ue,remainder:ne-1,nodeStartOffset:Qe}}else ne-=ue.piece.length;ue=ue.next()}return null}nodeCharCodeAt(k,ne){if(k.piece.lineFeedCnt<1)return-1;const ue=this._buffers[k.piece.bufferIndex],Fe=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start)+ne;return ue.buffer.charCodeAt(Fe)}offsetOfNode(k){if(!k)return 0;let ne=k.size_left;for(;k!==this.root;)k.parent.right===k&&(ne+=k.parent.size_left+k.parent.piece.length),k=k.parent;return ne}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(k){if(typeof k=="string")return k.charCodeAt(0)===10;if(k===bn||k.piece.lineFeedCnt===0)return!1;const ne=k.piece,ue=this._buffers[ne.bufferIndex].lineStarts,Fe=ne.start.line,Qe=ue[Fe]+ne.start.column;return Fe===ue.length-1||ue[Fe+1]>Qe+1?!1:this._buffers[ne.bufferIndex].buffer.charCodeAt(Qe)===10}endWithCR(k){return typeof k=="string"?k.charCodeAt(k.length-1)===13:k===bn||k.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(k,k.piece.length-1)===13}validateCRLFWithPrevNode(k){if(this.shouldCheckCRLF()&&this.startWithLF(k)){const ne=k.prev();this.endWithCR(ne)&&this.fixCRLF(ne,k)}}validateCRLFWithNextNode(k){if(this.shouldCheckCRLF()&&this.endWithCR(k)){const ne=k.next();this.startWithLF(ne)&&this.fixCRLF(k,ne)}}fixCRLF(k,ne){const ue=[],Fe=this._buffers[k.piece.bufferIndex].lineStarts;let Qe;k.piece.end.column===0?Qe={line:k.piece.end.line-1,column:Fe[k.piece.end.line]-Fe[k.piece.end.line-1]-1}:Qe={line:k.piece.end.line,column:k.piece.end.column-1};const ot=k.piece.length-1,dt=k.piece.lineFeedCnt-1;k.piece=new on(k.piece.bufferIndex,k.piece.start,Qe,dt,ot),Fi(this,k,-1,-1),k.piece.length===0&&ue.push(k);const bt={line:ne.piece.start.line+1,column:0},lt=ne.piece.length-1,Q=this.getLineFeedCnt(ne.piece.bufferIndex,bt,ne.piece.end);ne.piece=new on(ne.piece.bufferIndex,bt,ne.piece.end,Q,lt),Fi(this,ne,-1,-1),ne.piece.length===0&&ue.push(ne);const fe=this.createNewPieces(`\r
`);this.rbInsertRight(k,fe[0]);for(let We=0;We<ue.length;We++)Ki(this,ue[We])}adjustCarriageReturnFromNext(k,ne){if(this.shouldCheckCRLF()&&this.endWithCR(k)){const ue=ne.next();if(this.startWithLF(ue)){if(k+=`
`,ue.piece.length===1)Ki(this,ue);else{const Fe=ue.piece,Qe={line:Fe.start.line+1,column:0},ot=Fe.length-1,dt=this.getLineFeedCnt(Fe.bufferIndex,Qe,Fe.end);ue.piece=new on(Fe.bufferIndex,Qe,Fe.end,dt,ot),Fi(this,ue,-1,-1)}return!0}}return!1}iterate(k,ne){if(k===bn)return ne(bn);const ue=this.iterate(k.left,ne);return ue&&ne(k)&&this.iterate(k.right,ne)}getNodeContent(k){if(k===bn)return"";const ne=this._buffers[k.piece.bufferIndex],ue=k.piece,Fe=this.offsetInBuffer(ue.bufferIndex,ue.start),Qe=this.offsetInBuffer(ue.bufferIndex,ue.end);return ne.buffer.substring(Fe,Qe)}getPieceContent(k){const ne=this._buffers[k.bufferIndex],ue=this.offsetInBuffer(k.bufferIndex,k.start),Fe=this.offsetInBuffer(k.bufferIndex,k.end);return ne.buffer.substring(ue,Fe)}rbInsertRight(k,ne){const ue=new In(ne,1);if(ue.left=bn,ue.right=bn,ue.parent=bn,ue.size_left=0,ue.lf_left=0,this.root===bn)this.root=ue,ue.color=0;else if(k.right===bn)k.right=ue,ue.parent=k;else{const Qe=Hn(k.right);Qe.left=ue,ue.parent=Qe}return bi(this,ue),ue}rbInsertLeft(k,ne){const ue=new In(ne,1);if(ue.left=bn,ue.right=bn,ue.parent=bn,ue.size_left=0,ue.lf_left=0,this.root===bn)this.root=ue,ue.color=0;else if(k.left===bn)k.left=ue,ue.parent=k;else{const Fe=si(k.left);Fe.right=ue,ue.parent=Fe}return bi(this,ue),ue}}var wt=e(93033);class sn extends c.JT{constructor(k,ne,ue,Fe,Qe,ot,dt){super(),this._onDidChangeContent=this._register(new w.Q5),this._BOM=ne,this._mightContainNonBasicASCII=!ot,this._mightContainRTL=Fe,this._mightContainUnusualLineTerminators=Qe,this._pieceTree=new kt(k,ue,dt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(k){return this._pieceTree.createSnapshot(k?this._BOM:"")}getOffsetAt(k,ne){return this._pieceTree.getOffsetAt(k,ne)}getPositionAt(k){return this._pieceTree.getPositionAt(k)}getRangeAt(k,ne){const ue=k+ne,Fe=this.getPositionAt(k),Qe=this.getPositionAt(ue);return new u.e(Fe.lineNumber,Fe.column,Qe.lineNumber,Qe.column)}getValueInRange(k,ne=0){if(k.isEmpty())return"";const ue=this._getEndOfLine(ne);return this._pieceTree.getValueInRange(k,ue)}getValueLengthInRange(k,ne=0){if(k.isEmpty())return 0;if(k.startLineNumber===k.endLineNumber)return k.endColumn-k.startColumn;const ue=this.getOffsetAt(k.startLineNumber,k.startColumn),Fe=this.getOffsetAt(k.endLineNumber,k.endColumn);let Qe=0;const ot=this._getEndOfLine(ne),dt=this.getEOL();if(ot.length!==dt.length){const bt=ot.length-dt.length,lt=k.endLineNumber-k.startLineNumber;Qe=bt*lt}return Fe-ue+Qe}getCharacterCountInRange(k,ne=0){if(this._mightContainNonBasicASCII){let ue=0;const Fe=k.startLineNumber,Qe=k.endLineNumber;for(let ot=Fe;ot<=Qe;ot++){const dt=this.getLineContent(ot),bt=ot===Fe?k.startColumn-1:0,lt=ot===Qe?k.endColumn-1:dt.length;for(let Q=bt;Q<lt;Q++)_.ZG(dt.charCodeAt(Q))?(ue=ue+1,Q=Q+1):ue=ue+1}return ue+=this._getEndOfLine(ne).length*(Qe-Fe),ue}return this.getValueLengthInRange(k,ne)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(k){return this._pieceTree.getLineContent(k)}getLineCharCode(k,ne){return this._pieceTree.getLineCharCode(k,ne)}getLineLength(k){return this._pieceTree.getLineLength(k)}getLineFirstNonWhitespaceColumn(k){const ne=_.LC(this.getLineContent(k));return ne===-1?0:ne+1}getLineLastNonWhitespaceColumn(k){const ne=_.ow(this.getLineContent(k));return ne===-1?0:ne+2}_getEndOfLine(k){switch(k){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(k){this._pieceTree.setEOL(k)}applyEdits(k,ne,ue){let Fe=this._mightContainRTL,Qe=this._mightContainUnusualLineTerminators,ot=this._mightContainNonBasicASCII,dt=!0,bt=[];for(let Rt=0;Rt<k.length;Rt++){const Vt=k[Rt];dt&&Vt._isTracked&&(dt=!1);const an=Vt.range;if(Vt.text){let oi=!0;ot||(oi=!_.$i(Vt.text),ot=oi),!Fe&&oi&&(Fe=_.Ut(Vt.text)),!Qe&&oi&&(Qe=_.ab(Vt.text))}let An="",zn=0,ui=0,hi=0;if(Vt.text){let oi;[zn,ui,hi,oi]=(0,M.Q)(Vt.text);const Kn=this.getEOL();oi===0||oi===(Kn===`\r
`?2:1)?An=Vt.text:An=Vt.text.replace(/\r\n|\r|\n/g,Kn)}bt[Rt]={sortIndex:Rt,identifier:Vt.identifier||null,range:an,rangeOffset:this.getOffsetAt(an.startLineNumber,an.startColumn),rangeLength:this.getValueLengthInRange(an),text:An,eolCount:zn,firstLineLength:ui,lastLineLength:hi,forceMoveMarkers:!!Vt.forceMoveMarkers,isAutoWhitespaceEdit:Vt.isAutoWhitespaceEdit||!1}}bt.sort(sn._sortOpsAscending);let lt=!1;for(let Rt=0,Vt=bt.length-1;Rt<Vt;Rt++){const an=bt[Rt].range.getEndPosition(),An=bt[Rt+1].range.getStartPosition();if(An.isBeforeOrEqual(an)){if(An.isBefore(an))throw new Error("Overlapping ranges are not allowed!");lt=!0}}dt&&(bt=this._reduceOperations(bt));const Q=ue||ne?sn._getInverseEditRanges(bt):[],fe=[];if(ne)for(let Rt=0;Rt<bt.length;Rt++){const Vt=bt[Rt],an=Q[Rt];if(Vt.isAutoWhitespaceEdit&&Vt.range.isEmpty())for(let An=an.startLineNumber;An<=an.endLineNumber;An++){let zn="";An===an.startLineNumber&&(zn=this.getLineContent(Vt.range.startLineNumber),_.LC(zn)!==-1)||fe.push({lineNumber:An,oldContent:zn})}}let We=null;if(ue){let Rt=0;We=[];for(let Vt=0;Vt<bt.length;Vt++){const an=bt[Vt],An=Q[Vt],zn=this.getValueInRange(an.range),ui=an.rangeOffset+Rt;Rt+=an.text.length-zn.length,We[Vt]={sortIndex:an.sortIndex,identifier:an.identifier,range:An,text:zn,textChange:new wt.q(an.rangeOffset,zn,ui,an.text)}}lt||We.sort((Vt,an)=>Vt.sortIndex-an.sortIndex)}this._mightContainRTL=Fe,this._mightContainUnusualLineTerminators=Qe,this._mightContainNonBasicASCII=ot;const at=this._doApplyEdits(bt);let Ct=null;if(ne&&fe.length>0){fe.sort((Rt,Vt)=>Vt.lineNumber-Rt.lineNumber),Ct=[];for(let Rt=0,Vt=fe.length;Rt<Vt;Rt++){const an=fe[Rt].lineNumber;if(Rt>0&&fe[Rt-1].lineNumber===an)continue;const An=fe[Rt].oldContent,zn=this.getLineContent(an);zn.length===0||zn===An||_.LC(zn)!==-1||Ct.push(an)}}return this._onDidChangeContent.fire(),new v.je(We,at,Ct)}_reduceOperations(k){return k.length<1e3?k:[this._toSingleEditOperation(k)]}_toSingleEditOperation(k){let ne=!1;const ue=k[0].range,Fe=k[k.length-1].range,Qe=new u.e(ue.startLineNumber,ue.startColumn,Fe.endLineNumber,Fe.endColumn);let ot=ue.startLineNumber,dt=ue.startColumn;const bt=[];for(let at=0,Ct=k.length;at<Ct;at++){const Rt=k[at],Vt=Rt.range;ne=ne||Rt.forceMoveMarkers,bt.push(this.getValueInRange(new u.e(ot,dt,Vt.startLineNumber,Vt.startColumn))),Rt.text.length>0&&bt.push(Rt.text),ot=Vt.endLineNumber,dt=Vt.endColumn}const lt=bt.join(""),[Q,fe,We]=(0,M.Q)(lt);return{sortIndex:0,identifier:k[0].identifier,range:Qe,rangeOffset:this.getOffsetAt(Qe.startLineNumber,Qe.startColumn),rangeLength:this.getValueLengthInRange(Qe,0),text:lt,eolCount:Q,firstLineLength:fe,lastLineLength:We,forceMoveMarkers:ne,isAutoWhitespaceEdit:!1}}_doApplyEdits(k){k.sort(sn._sortOpsDescending);const ne=[];for(let ue=0;ue<k.length;ue++){const Fe=k[ue],Qe=Fe.range.startLineNumber,ot=Fe.range.startColumn,dt=Fe.range.endLineNumber,bt=Fe.range.endColumn;if(Qe===dt&&ot===bt&&Fe.text.length===0)continue;Fe.text?(this._pieceTree.delete(Fe.rangeOffset,Fe.rangeLength),this._pieceTree.insert(Fe.rangeOffset,Fe.text,!0)):this._pieceTree.delete(Fe.rangeOffset,Fe.rangeLength);const lt=new u.e(Qe,ot,dt,bt);ne.push({range:lt,rangeLength:Fe.rangeLength,text:Fe.text,rangeOffset:Fe.rangeOffset,forceMoveMarkers:Fe.forceMoveMarkers})}return ne}findMatchesLineByLine(k,ne,ue,Fe){return this._pieceTree.findMatchesLineByLine(k,ne,ue,Fe)}static _getInverseEditRanges(k){const ne=[];let ue=0,Fe=0,Qe=null;for(let ot=0,dt=k.length;ot<dt;ot++){const bt=k[ot];let lt,Q;Qe?Qe.range.endLineNumber===bt.range.startLineNumber?(lt=ue,Q=Fe+(bt.range.startColumn-Qe.range.endColumn)):(lt=ue+(bt.range.startLineNumber-Qe.range.endLineNumber),Q=bt.range.startColumn):(lt=bt.range.startLineNumber,Q=bt.range.startColumn);let fe;if(bt.text.length>0){const We=bt.eolCount+1;We===1?fe=new u.e(lt,Q,lt,Q+bt.firstLineLength):fe=new u.e(lt,Q,lt+We-1,bt.lastLineLength+1)}else fe=new u.e(lt,Q,lt,Q);ue=fe.endLineNumber,Fe=fe.endColumn,ne.push(fe),Qe=bt}return ne}static _sortOpsAscending(k,ne){const ue=u.e.compareRangesUsingEnds(k.range,ne.range);return ue===0?k.sortIndex-ne.sortIndex:ue}static _sortOpsDescending(k,ne){const ue=u.e.compareRangesUsingEnds(k.range,ne.range);return ue===0?ne.sortIndex-k.sortIndex:-ue}}class en{constructor(k,ne,ue,Fe,Qe,ot,dt,bt,lt){this._chunks=k,this._bom=ne,this._cr=ue,this._lf=Fe,this._crlf=Qe,this._containsRTL=ot,this._containsUnusualLineTerminators=dt,this._isBasicASCII=bt,this._normalizeEOL=lt}_getEOL(k){const ne=this._cr+this._lf+this._crlf,ue=this._cr+this._crlf;return ne===0?k===1?`
`:`\r
`:ue>ne/2?`\r
`:`
`}create(k){const ne=this._getEOL(k),ue=this._chunks;if(this._normalizeEOL&&(ne===`\r
`&&(this._cr>0||this._lf>0)||ne===`
`&&(this._cr>0||this._crlf>0)))for(let Qe=0,ot=ue.length;Qe<ot;Qe++){const dt=ue[Qe].buffer.replace(/\r\n|\r|\n/g,ne),bt=Dt(dt);ue[Qe]=new Cn(dt,bt)}const Fe=new sn(ue,this._bom,ne,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Fe,disposable:Fe}}}class Un{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(k){if(k.length===0)return;this.chunks.length===0&&_.uS(k)&&(this.BOM=_.c1,k=k.substr(1));const ne=k.charCodeAt(k.length-1);ne===13||ne>=55296&&ne<=56319?(this._acceptChunk1(k.substr(0,k.length-1),!1),this._hasPreviousChar=!0,this._previousChar=ne):(this._acceptChunk1(k,!1),this._hasPreviousChar=!1,this._previousChar=ne)}_acceptChunk1(k,ne){!ne&&k.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+k):this._acceptChunk2(k))}_acceptChunk2(k){const ne=Qt(this._tmpLineStarts,k);this.chunks.push(new Cn(k,ne.lineStarts)),this.cr+=ne.cr,this.lf+=ne.lf,this.crlf+=ne.crlf,ne.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=_.Ut(k)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=_.ab(k)))}finish(k=!0){return this._finish(),new en(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,k)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const k=this.chunks[this.chunks.length-1];k.buffer+=String.fromCharCode(this._previousChar);const ne=Dt(k.buffer);k.lineStarts=ne,this._previousChar===13&&this.cr++}}}var ri=e(15393),Jn=e(270),Di=e(43155),Ai=e(94954),Ri=e(1432),Tn=e(84013),yn=e(19247),Nn=e(276);class Bt{constructor(k){this._default=k,this._store=[]}get(k){return k<this._store.length?this._store[k]:this._default}set(k,ne){for(;k>=this._store.length;)this._store[this._store.length]=this._default;this._store[k]=ne}replace(k,ne,ue){if(k>=this._store.length)return;if(ne===0){this.insert(k,ue);return}else if(ue===0){this.delete(k,ne);return}const Fe=this._store.slice(0,k),Qe=this._store.slice(k+ne),ot=Yt(ue,this._default);this._store=Fe.concat(ot,Qe)}delete(k,ne){ne===0||k>=this._store.length||this._store.splice(k,ne)}insert(k,ne){if(ne===0||k>=this._store.length)return;const ue=[];for(let Fe=0;Fe<ne;Fe++)ue[Fe]=this._default;this._store=(0,b.Zv)(this._store,k,ue)}}function Yt(St,k){const ne=[];for(let ue=0;ue<St;ue++)ne[ue]=k;return ne}class fn{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(k,ne){this._startLineNumber=k,this._tokens=ne}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}class Ht{constructor(){this._tokens=[]}add(k,ne){if(this._tokens.length>0){const ue=this._tokens[this._tokens.length-1];if(ue.endLineNumber+1===k){ue.appendLineTokens(ne);return}}this._tokens.push(new fn(k,[ne]))}finalize(){return this._tokens}}var et=e(77378);class ee{constructor(k,ne){this.tokenizationSupport=ne,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new oe(k)}getStartState(k){return this.store.getStartState(k,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class de extends ee{constructor(k,ne,ue,Fe){super(k,ne),this._textModel=ue,this._languageIdCodec=Fe}updateTokensUntilLine(k,ne){const ue=this._textModel.getLanguageId();for(;;){const Fe=this.getFirstInvalidLine();if(!Fe||Fe.lineNumber>ne)break;const Qe=this._textModel.getLineContent(Fe.lineNumber),ot=be(this._languageIdCodec,ue,this.tokenizationSupport,Qe,!0,Fe.startState);k.add(Fe.lineNumber,ot.tokens),this.store.setEndState(Fe.lineNumber,ot.endState)}}getTokenTypeIfInsertingCharacter(k,ne){const ue=this.getStartState(k.lineNumber);if(!ue)return 0;const Fe=this._textModel.getLanguageId(),Qe=this._textModel.getLineContent(k.lineNumber),ot=Qe.substring(0,k.column-1)+ne+Qe.substring(k.column-1),dt=be(this._languageIdCodec,Fe,this.tokenizationSupport,ot,!0,ue),bt=new et.A(dt.tokens,ot,this._languageIdCodec);if(bt.getCount()===0)return 0;const lt=bt.findTokenIndexAtOffset(k.column-1);return bt.getStandardTokenType(lt)}tokenizeLineWithEdit(k,ne,ue){const Fe=k.lineNumber,Qe=k.column,ot=this.getStartState(Fe);if(!ot)return null;const dt=this._textModel.getLineContent(Fe),bt=dt.substring(0,Qe-1)+ue+dt.substring(Qe-1+ne),lt=this._textModel.getLanguageIdAtPosition(Fe,0),Q=be(this._languageIdCodec,lt,this.tokenizationSupport,bt,!0,ot);return new et.A(Q.tokens,bt,this._languageIdCodec)}isCheapToTokenize(k){const ne=this.store.getFirstInvalidEndStateLineNumberOrMax();return k<ne||k===ne&&this._textModel.getLineLength(k)<2048}tokenizeHeuristically(k,ne,ue){if(ue<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(ne<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(k,ue),{heuristicTokens:!1};let Fe=this.guessStartState(ne);const Qe=this._textModel.getLanguageId();for(let ot=ne;ot<=ue;ot++){const dt=this._textModel.getLineContent(ot),bt=be(this._languageIdCodec,Qe,this.tokenizationSupport,dt,!0,Fe);k.add(ot,bt.tokens),Fe=bt.endState}return{heuristicTokens:!0}}guessStartState(k){let ne=this._textModel.getLineFirstNonWhitespaceColumn(k);const ue=[];let Fe=null;for(let dt=k-1;ne>1&&dt>=1;dt--){const bt=this._textModel.getLineFirstNonWhitespaceColumn(dt);if(bt!==0&&bt<ne&&(ue.push(this._textModel.getLineContent(dt)),ne=bt,Fe=this.getStartState(dt),Fe))break}Fe||(Fe=this.tokenizationSupport.getInitialState()),ue.reverse();const Qe=this._textModel.getLanguageId();let ot=Fe;for(const dt of ue)ot=be(this._languageIdCodec,Qe,this.tokenizationSupport,dt,!1,ot).endState;return ot}}class oe{constructor(k){this.lineCount=k,this._tokenizationStateStore=new Ce,this._invalidEndStatesLineNumbers=new Ee,this._invalidEndStatesLineNumbers.addRange(new yn.q(1,k+1))}getEndState(k){return this._tokenizationStateStore.getEndState(k)}setEndState(k,ne){if(!ne)throw new r.he("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(k);const ue=this._tokenizationStateStore.setEndState(k,ne);return ue&&k<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new yn.q(k+1,k+2)),ue}acceptChange(k,ne){this.lineCount+=ne-k.length,this._tokenizationStateStore.acceptChange(k,ne),this._invalidEndStatesLineNumbers.addRangeAndResize(new yn.q(k.startLineNumber,k.endLineNumberExclusive),ne)}acceptChanges(k){for(const ne of k){const[ue]=(0,M.Q)(ne.text);this.acceptChange(new p.z(ne.range.startLineNumber,ne.range.endLineNumber+1),ue+1)}}invalidateEndStateRange(k){this._invalidEndStatesLineNumbers.addRange(new yn.q(k.startLineNumber,k.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(k,ne){return k===1?ne:this.getEndState(k-1)}getFirstInvalidLine(k){const ne=this.getFirstInvalidEndStateLineNumber();if(ne===null)return null;const ue=this.getStartState(ne,k);if(!ue)throw new r.he("Start state must be defined");return{lineNumber:ne,startState:ue}}}class Ce{constructor(){this._lineEndStates=new Bt(null)}getEndState(k){return this._lineEndStates.get(k)}setEndState(k,ne){const ue=this._lineEndStates.get(k);return ue&&ue.equals(ne)?!1:(this._lineEndStates.set(k,ne),!0)}acceptChange(k,ne){let ue=k.length;ne>0&&ue>0&&(ue--,ne--),this._lineEndStates.replace(k.startLineNumber,ue,ne)}}class Ee{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(k){const ne=this._ranges.findIndex(ue=>ue.contains(k));if(ne!==-1){const ue=this._ranges[ne];ue.start===k?ue.endExclusive===k+1?this._ranges.splice(ne,1):this._ranges[ne]=new yn.q(k+1,ue.endExclusive):ue.endExclusive===k+1?this._ranges[ne]=new yn.q(ue.start,k):this._ranges.splice(ne,1,new yn.q(ue.start,k),new yn.q(k+1,ue.endExclusive))}}addRange(k){yn.q.addRange(k,this._ranges)}addRangeAndResize(k,ne){let ue=0;for(;!(ue>=this._ranges.length||k.start<=this._ranges[ue].endExclusive);)ue++;let Fe=ue;for(;!(Fe>=this._ranges.length||k.endExclusive<this._ranges[Fe].start);)Fe++;const Qe=ne-k.length;for(let ot=Fe;ot<this._ranges.length;ot++)this._ranges[ot]=this._ranges[ot].delta(Qe);if(ue===Fe){const ot=new yn.q(k.start,k.start+ne);ot.isEmpty||this._ranges.splice(ue,0,ot)}else{const ot=Math.min(k.start,this._ranges[ue].start),dt=Math.max(k.endExclusive,this._ranges[Fe-1].endExclusive),bt=new yn.q(ot,dt+Qe);bt.isEmpty?this._ranges.splice(ue,Fe-ue):this._ranges.splice(ue,Fe-ue,bt)}}toString(){return this._ranges.map(k=>k.toString()).join(" + ")}}function be(St,k,ne,ue,Fe,Qe){let ot=null;if(ne)try{ot=ne.tokenizeEncoded(ue,Fe,Qe.clone())}catch(dt){(0,r.dL)(dt)}return ot||(ot=(0,Nn.Dy)(St.encodeLanguageId(k),Qe)),et.A.convertToEndOffset(ot.tokens,ue.length),ot}class Ae{constructor(k,ne){this._tokenizerWithStateStore=k,this._backgroundTokenStore=ne,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,ri.jg)(k=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(k)}))}_backgroundTokenizeWithDeadline(k){const ne=Date.now()+k.timeRemaining(),ue=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<ne?(0,Ri.fn)(ue):this._beginBackgroundTokenization())};ue()}_backgroundTokenizeForAtLeast1ms(){const k=this._tokenizerWithStateStore._textModel.getLineCount(),ne=new Ht,ue=Tn.G.create(!1);do if(ue.elapsed()>1||this._tokenizeOneInvalidLine(ne)>=k)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(ne.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(k){var ne;const ue=(ne=this._tokenizerWithStateStore)===null||ne===void 0?void 0:ne.getFirstInvalidLine();return ue?(this._tokenizerWithStateStore.updateTokensUntilLine(k,ue.lineNumber),ue.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(k,ne){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.z(k,ne))}}const He=new Uint32Array(0).buffer;class Ye{static deleteBeginning(k,ne){return k===null||k===He?k:Ye.delete(k,0,ne)}static deleteEnding(k,ne){if(k===null||k===He)return k;const ue=ht(k),Fe=ue[ue.length-2];return Ye.delete(k,ne,Fe)}static delete(k,ne,ue){if(k===null||k===He||ne===ue)return k;const Fe=ht(k),Qe=Fe.length>>>1;if(ne===0&&Fe[Fe.length-2]===ue)return He;const ot=et.A.findIndexInTokensArray(Fe,ne),dt=ot>0?Fe[ot-1<<1]:0,bt=Fe[ot<<1];if(ue<bt){const at=ue-ne;for(let Ct=ot;Ct<Qe;Ct++)Fe[Ct<<1]-=at;return k}let lt,Q;dt!==ne?(Fe[ot<<1]=ne,lt=ot+1<<1,Q=ne):(lt=ot<<1,Q=dt);const fe=ue-ne;for(let at=ot+1;at<Qe;at++){const Ct=Fe[at<<1]-fe;Ct>Q&&(Fe[lt++]=Ct,Fe[lt++]=Fe[(at<<1)+1],Q=Ct)}if(lt===Fe.length)return k;const We=new Uint32Array(lt);return We.set(Fe.subarray(0,lt),0),We.buffer}static append(k,ne){if(ne===He)return k;if(k===He)return ne;if(k===null)return k;if(ne===null)return null;const ue=ht(k),Fe=ht(ne),Qe=Fe.length>>>1,ot=new Uint32Array(ue.length+Fe.length);ot.set(ue,0);let dt=ue.length;const bt=ue[ue.length-2];for(let lt=0;lt<Qe;lt++)ot[dt++]=Fe[lt<<1]+bt,ot[dt++]=Fe[(lt<<1)+1];return ot.buffer}static insert(k,ne,ue){if(k===null||k===He)return k;const Fe=ht(k),Qe=Fe.length>>>1;let ot=et.A.findIndexInTokensArray(Fe,ne);ot>0&&Fe[ot-1<<1]===ne&&ot--;for(let dt=ot;dt<Qe;dt++)Fe[dt<<1]+=ue;return k}}function ht(St){return St instanceof Uint32Array?St:new Uint32Array(St)}var $t=e(45797);class gn{constructor(k){this._lineTokens=[],this._len=0,this._languageIdCodec=k}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(k,ne,ue){let Fe=null;if(ne<this._len&&(Fe=this._lineTokens[ne]),Fe!==null&&Fe!==He)return new et.A(ht(Fe),ue,this._languageIdCodec);const Qe=new Uint32Array(2);return Qe[0]=ue.length,Qe[1]=dn(this._languageIdCodec.encodeLanguageId(k)),new et.A(Qe,ue,this._languageIdCodec)}static _massageTokens(k,ne,ue){const Fe=ue?ht(ue):null;if(ne===0){let Qe=!1;if(Fe&&Fe.length>1&&(Qe=$t.N.getLanguageId(Fe[1])!==k),!Qe)return He}if(!Fe||Fe.length===0){const Qe=new Uint32Array(2);return Qe[0]=ne,Qe[1]=dn(k),Qe.buffer}return Fe[Fe.length-2]=ne,Fe.byteOffset===0&&Fe.byteLength===Fe.buffer.byteLength?Fe.buffer:Fe}_ensureLine(k){for(;k>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(k,ne){ne!==0&&(k+ne>this._len&&(ne=this._len-k),this._lineTokens.splice(k,ne),this._len-=ne)}_insertLines(k,ne){if(ne===0)return;const ue=[];for(let Fe=0;Fe<ne;Fe++)ue[Fe]=null;this._lineTokens=b.Zv(this._lineTokens,k,ue),this._len+=ne}setTokens(k,ne,ue,Fe,Qe){const ot=gn._massageTokens(this._languageIdCodec.encodeLanguageId(k),ue,Fe);this._ensureLine(ne);const dt=this._lineTokens[ne];return this._lineTokens[ne]=ot,Qe?!gn._equals(dt,ot):!1}static _equals(k,ne){if(!k||!ne)return!k&&!ne;const ue=ht(k),Fe=ht(ne);if(ue.length!==Fe.length)return!1;for(let Qe=0,ot=ue.length;Qe<ot;Qe++)if(ue[Qe]!==Fe[Qe])return!1;return!0}acceptEdit(k,ne,ue){this._acceptDeleteRange(k),this._acceptInsertText(new o.L(k.startLineNumber,k.startColumn),ne,ue)}_acceptDeleteRange(k){const ne=k.startLineNumber-1;if(ne>=this._len)return;if(k.startLineNumber===k.endLineNumber){if(k.startColumn===k.endColumn)return;this._lineTokens[ne]=Ye.delete(this._lineTokens[ne],k.startColumn-1,k.endColumn-1);return}this._lineTokens[ne]=Ye.deleteEnding(this._lineTokens[ne],k.startColumn-1);const ue=k.endLineNumber-1;let Fe=null;ue<this._len&&(Fe=Ye.deleteBeginning(this._lineTokens[ue],k.endColumn-1)),this._lineTokens[ne]=Ye.append(this._lineTokens[ne],Fe),this._deleteLines(k.startLineNumber,k.endLineNumber-k.startLineNumber)}_acceptInsertText(k,ne,ue){if(ne===0&&ue===0)return;const Fe=k.lineNumber-1;if(!(Fe>=this._len)){if(ne===0){this._lineTokens[Fe]=Ye.insert(this._lineTokens[Fe],k.column-1,ue);return}this._lineTokens[Fe]=Ye.deleteEnding(this._lineTokens[Fe],k.column-1),this._lineTokens[Fe]=Ye.insert(this._lineTokens[Fe],k.column-1,ue),this._insertLines(k.lineNumber,ne)}}setMultilineTokens(k,ne){if(k.length===0)return{changes:[]};const ue=[];for(let Fe=0,Qe=k.length;Fe<Qe;Fe++){const ot=k[Fe];let dt=0,bt=0,lt=!1;for(let Q=ot.startLineNumber;Q<=ot.endLineNumber;Q++)lt?(this.setTokens(ne.getLanguageId(),Q-1,ne.getLineLength(Q),ot.getLineTokens(Q),!1),bt=Q):this.setTokens(ne.getLanguageId(),Q-1,ne.getLineLength(Q),ot.getLineTokens(Q),!0)&&(lt=!0,dt=Q,bt=Q);lt&&ue.push({fromLineNumber:dt,toLineNumber:bt})}return{changes:ue}}}function dn(St){return(St<<0|0|0|32768|2<<24|1024)>>>0}class ln{constructor(k){this._pieces=[],this._isComplete=!1,this._languageIdCodec=k}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(k,ne){this._pieces=k||[],this._isComplete=ne}setPartial(k,ne){let ue=k;if(ne.length>0){const Qe=ne[0].getRange(),ot=ne[ne.length-1].getRange();if(!Qe||!ot)return k;ue=k.plusRange(Qe).plusRange(ot)}let Fe=null;for(let Qe=0,ot=this._pieces.length;Qe<ot;Qe++){const dt=this._pieces[Qe];if(dt.endLineNumber<ue.startLineNumber)continue;if(dt.startLineNumber>ue.endLineNumber){Fe=Fe||{index:Qe};break}if(dt.removeTokens(ue),dt.isEmpty()){this._pieces.splice(Qe,1),Qe--,ot--;continue}if(dt.endLineNumber<ue.startLineNumber)continue;if(dt.startLineNumber>ue.endLineNumber){Fe=Fe||{index:Qe};continue}const[bt,lt]=dt.split(ue);if(bt.isEmpty()){Fe=Fe||{index:Qe};continue}lt.isEmpty()||(this._pieces.splice(Qe,1,bt,lt),Qe++,ot++,Fe=Fe||{index:Qe})}return Fe=Fe||{index:this._pieces.length},ne.length>0&&(this._pieces=b.Zv(this._pieces,Fe.index,ne)),ue}isComplete(){return this._isComplete}addSparseTokens(k,ne){if(ne.getLineContent().length===0)return ne;const ue=this._pieces;if(ue.length===0)return ne;const Fe=ln._findFirstPieceWithLine(ue,k),Qe=ue[Fe].getLineTokens(k);if(!Qe)return ne;const ot=ne.getCount(),dt=Qe.getCount();let bt=0;const lt=[];let Q=0,fe=0;const We=(at,Ct)=>{at!==fe&&(fe=at,lt[Q++]=at,lt[Q++]=Ct)};for(let at=0;at<dt;at++){const Ct=Qe.getStartCharacter(at),Rt=Qe.getEndCharacter(at),Vt=Qe.getMetadata(at),an=((Vt&1?2048:0)|(Vt&2?4096:0)|(Vt&4?8192:0)|(Vt&8?16384:0)|(Vt&16?16744448:0)|(Vt&32?4278190080:0))>>>0,An=~an>>>0;for(;bt<ot&&ne.getEndOffset(bt)<=Ct;)We(ne.getEndOffset(bt),ne.getMetadata(bt)),bt++;for(bt<ot&&ne.getStartOffset(bt)<Ct&&We(Ct,ne.getMetadata(bt));bt<ot&&ne.getEndOffset(bt)<Rt;)We(ne.getEndOffset(bt),ne.getMetadata(bt)&An|Vt&an),bt++;if(bt<ot)We(Rt,ne.getMetadata(bt)&An|Vt&an),ne.getEndOffset(bt)===Rt&&bt++;else{const zn=Math.min(Math.max(0,bt-1),ot-1);We(Rt,ne.getMetadata(zn)&An|Vt&an)}}for(;bt<ot;)We(ne.getEndOffset(bt),ne.getMetadata(bt)),bt++;return new et.A(new Uint32Array(lt),ne.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(k,ne){let ue=0,Fe=k.length-1;for(;ue<Fe;){let Qe=ue+Math.floor((Fe-ue)/2);if(k[Qe].endLineNumber<ne)ue=Qe+1;else if(k[Qe].startLineNumber>ne)Fe=Qe-1;else{for(;Qe>ue&&k[Qe-1].startLineNumber<=ne&&ne<=k[Qe-1].endLineNumber;)Qe--;return Qe}}return ue}acceptEdit(k,ne,ue,Fe,Qe){for(const ot of this._pieces)ot.acceptEdit(k,ne,ue,Fe,Qe)}}class ct extends Ai.U{constructor(k,ne,ue,Fe,Qe,ot){super(),this._languageService=k,this._languageConfigurationService=ne,this._textModel=ue,this._bracketPairsTextModelPart=Fe,this._languageId=Qe,this._attachedViews=ot,this._semanticTokens=new ln(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new w.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new w.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new w.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new Pt(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(dt=>{dt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(dt=>{this._emitModelTokensChangedEvent(dt)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(dt=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(k){if(k.isFlush)this._semanticTokens.flush();else if(!k.isEolChange)for(const ne of k.changes){const[ue,Fe,Qe]=(0,M.Q)(ne.text);this._semanticTokens.acceptEdit(ne.range,ue,Fe,Qe,ne.text.length>0?ne.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(k)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(k){this.validateLineNumber(k);const ne=this.grammarTokens.getLineTokens(k);return this._semanticTokens.addSparseTokens(k,ne)}_emitModelTokensChangedEvent(k){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(k),this._onDidChangeTokens.fire(k))}validateLineNumber(k){if(k<1||k>this._textModel.getLineCount())throw new r.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(k){this.validateLineNumber(k),this.grammarTokens.forceTokenization(k)}isCheapToTokenize(k){return this.validateLineNumber(k),this.grammarTokens.isCheapToTokenize(k)}tokenizeIfCheap(k){this.validateLineNumber(k),this.grammarTokens.tokenizeIfCheap(k)}getTokenTypeIfInsertingCharacter(k,ne,ue){return this.grammarTokens.getTokenTypeIfInsertingCharacter(k,ne,ue)}tokenizeLineWithEdit(k,ne,ue){return this.grammarTokens.tokenizeLineWithEdit(k,ne,ue)}setSemanticTokens(k,ne){this._semanticTokens.set(k,ne),this._emitModelTokensChangedEvent({semanticTokensApplied:k!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(k,ne){if(this.hasCompleteSemanticTokens())return;const ue=this._textModel.validateRange(this._semanticTokens.setPartial(k,ne));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:ue.startLineNumber,toLineNumber:ue.endLineNumber}]})}getWordAtPosition(k){this.assertNotDisposed();const ne=this._textModel.validatePosition(k),ue=this._textModel.getLineContent(ne.lineNumber),Fe=this.getLineTokens(ne.lineNumber),Qe=Fe.findTokenIndexAtOffset(ne.column-1),[ot,dt]=ct._findLanguageBoundaries(Fe,Qe),bt=(0,Jn.t2)(ne.column,this.getLanguageConfiguration(Fe.getLanguageId(Qe)).getWordDefinition(),ue.substring(ot,dt),ot);if(bt&&bt.startColumn<=k.column&&k.column<=bt.endColumn)return bt;if(Qe>0&&ot===ne.column-1){const[lt,Q]=ct._findLanguageBoundaries(Fe,Qe-1),fe=(0,Jn.t2)(ne.column,this.getLanguageConfiguration(Fe.getLanguageId(Qe-1)).getWordDefinition(),ue.substring(lt,Q),lt);if(fe&&fe.startColumn<=k.column&&k.column<=fe.endColumn)return fe}return null}getLanguageConfiguration(k){return this._languageConfigurationService.getLanguageConfiguration(k)}static _findLanguageBoundaries(k,ne){const ue=k.getLanguageId(ne);let Fe=0;for(let ot=ne;ot>=0&&k.getLanguageId(ot)===ue;ot--)Fe=k.getStartOffset(ot);let Qe=k.getLineContent().length;for(let ot=ne,dt=k.getCount();ot<dt&&k.getLanguageId(ot)===ue;ot++)Qe=k.getEndOffset(ot);return[Fe,Qe]}getWordUntilPosition(k){const ne=this.getWordAtPosition(k);return ne?{word:ne.word.substr(0,k.column-ne.startColumn),startColumn:ne.startColumn,endColumn:k.column}:{word:"",startColumn:k.column,endColumn:k.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(k,ne){const ue=this._textModel.validatePosition(new o.L(k,ne)),Fe=this.getLineTokens(ue.lineNumber);return Fe.getLanguageId(Fe.findTokenIndexAtOffset(ue.column-1))}setLanguageId(k,ne="api"){if(this._languageId===k)return;const ue={oldLanguage:this._languageId,newLanguage:k,source:ne};this._languageId=k,this._bracketPairsTextModelPart.handleDidChangeLanguage(ue),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(ue),this._onDidChangeLanguageConfiguration.fire({})}}class Pt extends c.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(k,ne,ue,Fe){super(),this._languageIdCodec=k,this._textModel=ne,this.getLanguageId=ue,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new c.XK),this._tokens=new gn(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new c.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new w.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new w.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new c.b2),this._register(Di.RW.onDidChange(Qe=>{const ot=this.getLanguageId();Qe.changedLanguages.indexOf(ot)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(Fe.onDidChangeVisibleRanges(({view:Qe,state:ot})=>{if(ot){let dt=this._attachedViewStates.get(Qe);dt||(dt=new Nt(()=>this.refreshRanges(dt.lineRanges)),this._attachedViewStates.set(Qe,dt)),dt.handleStateChange(ot)}else this._attachedViewStates.deleteAndDispose(Qe)}))}resetTokenization(k=!0){var ne;this._tokens.flush(),(ne=this._debugBackgroundTokens)===null||ne===void 0||ne.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new oe(this._textModel.getLineCount())),k&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const ue=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const ot=Di.RW.get(this.getLanguageId());if(!ot)return[null,null];let dt;try{dt=ot.getInitialState()}catch(bt){return(0,r.dL)(bt),[null,null]}return[ot,dt]},[Fe,Qe]=ue();if(Fe&&Qe?this._tokenizer=new de(this._textModel.getLineCount(),Fe,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const ot={setTokens:dt=>{this.setTokens(dt)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const dt=2;this._backgroundTokenizationState=dt,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(dt,bt)=>{var lt;if(!this._tokenizer)return;const Q=this._tokenizer.store.getFirstInvalidEndStateLineNumber();Q!==null&&dt>=Q&&((lt=this._tokenizer)===null||lt===void 0||lt.store.setEndState(dt,bt))}};Fe&&Fe.createBackgroundTokenizer&&!Fe.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=Fe.createBackgroundTokenizer(this._textModel,ot)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Ae(this._tokenizer,ot),this._defaultBackgroundTokenizer.handleChanges()),Fe!=null&&Fe.backgroundTokenizerShouldOnlyVerifyTokens&&Fe.createBackgroundTokenizer?(this._debugBackgroundTokens=new gn(this._languageIdCodec),this._debugBackgroundStates=new oe(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Fe.createBackgroundTokenizer(this._textModel,{setTokens:dt=>{var bt;(bt=this._debugBackgroundTokens)===null||bt===void 0||bt.setMultilineTokens(dt,this._textModel)},backgroundTokenizationFinished(){},setEndState:(dt,bt)=>{var lt;(lt=this._debugBackgroundStates)===null||lt===void 0||lt.setEndState(dt,bt)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var k;(k=this._defaultBackgroundTokenizer)===null||k===void 0||k.handleChanges()}handleDidChangeContent(k){var ne,ue,Fe;if(k.isFlush)this.resetTokenization(!1);else if(!k.isEolChange){for(const Qe of k.changes){const[ot,dt]=(0,M.Q)(Qe.text);this._tokens.acceptEdit(Qe.range,ot,dt),(ne=this._debugBackgroundTokens)===null||ne===void 0||ne.acceptEdit(Qe.range,ot,dt)}(ue=this._debugBackgroundStates)===null||ue===void 0||ue.acceptChanges(k.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(k.changes),(Fe=this._defaultBackgroundTokenizer)===null||Fe===void 0||Fe.handleChanges()}}setTokens(k){const{changes:ne}=this._tokens.setMultilineTokens(k,this._textModel);return ne.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:ne}),{changes:ne}}refreshAllVisibleLineTokens(){const k=p.z.joinMany([...this._attachedViewStates].map(([ne,ue])=>ue.lineRanges));this.refreshRanges(k)}refreshRanges(k){for(const ne of k)this.refreshRange(ne.startLineNumber,ne.endLineNumberExclusive-1)}refreshRange(k,ne){var ue,Fe;if(!this._tokenizer)return;k=Math.max(1,Math.min(this._textModel.getLineCount(),k)),ne=Math.min(this._textModel.getLineCount(),ne);const Qe=new Ht,{heuristicTokens:ot}=this._tokenizer.tokenizeHeuristically(Qe,k,ne),dt=this.setTokens(Qe.finalize());if(ot)for(const bt of dt.changes)(ue=this._backgroundTokenizer.value)===null||ue===void 0||ue.requestTokens(bt.fromLineNumber,bt.toLineNumber+1);(Fe=this._defaultBackgroundTokenizer)===null||Fe===void 0||Fe.checkFinished()}forceTokenization(k){var ne,ue;const Fe=new Ht;(ne=this._tokenizer)===null||ne===void 0||ne.updateTokensUntilLine(Fe,k),this.setTokens(Fe.finalize()),(ue=this._defaultBackgroundTokenizer)===null||ue===void 0||ue.checkFinished()}isCheapToTokenize(k){return this._tokenizer?this._tokenizer.isCheapToTokenize(k):!0}tokenizeIfCheap(k){this.isCheapToTokenize(k)&&this.forceTokenization(k)}getLineTokens(k){var ne;const ue=this._textModel.getLineContent(k),Fe=this._tokens.getTokens(this._textModel.getLanguageId(),k-1,ue);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>k&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>k){const Qe=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),k-1,ue);!Fe.equals(Qe)&&(!((ne=this._debugBackgroundTokenizer.value)===null||ne===void 0)&&ne.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(k)}return Fe}getTokenTypeIfInsertingCharacter(k,ne,ue){if(!this._tokenizer)return 0;const Fe=this._textModel.validatePosition(new o.L(k,ne));return this.forceTokenization(Fe.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Fe,ue)}tokenizeLineWithEdit(k,ne,ue){if(!this._tokenizer)return null;const Fe=this._textModel.validatePosition(k);return this.forceTokenization(Fe.lineNumber),this._tokenizer.tokenizeLineWithEdit(Fe,ne,ue)}get hasTokens(){return this._tokens.hasTokens}}class Nt extends c.JT{get lineRanges(){return this._lineRanges}constructor(k){super(),this._refreshTokens=k,this.runner=this._register(new ri.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,b.fS)(this._computedLineRanges,this._lineRanges,(k,ne)=>k.equals(ne))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(k){this._lineRanges=k.visibleLineRanges,k.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var Tt=e(14706),Zt=e(64862),zt=function(St,k,ne,ue){var Fe=arguments.length,Qe=Fe<3?k:ue===null?ue=Object.getOwnPropertyDescriptor(k,ne):ue,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Qe=Reflect.decorate(St,k,ne,ue);else for(var dt=St.length-1;dt>=0;dt--)(ot=St[dt])&&(Qe=(Fe<3?ot(Qe):Fe>3?ot(k,ne,Qe):ot(k,ne))||Qe);return Fe>3&&Qe&&Object.defineProperty(k,ne,Qe),Qe},_n=function(St,k){return function(ne,ue){k(ne,ue,St)}},hn;function Mn(St){const k=new Un;return k.acceptChunk(St),k.finish()}function Rn(St){const k=new Un;let ne;for(;typeof(ne=St.read())=="string";)k.acceptChunk(ne);return k.finish()}function ni(St,k){let ne;return typeof St=="string"?ne=Mn(St):v.Hf(St)?ne=Rn(St):ne=St,ne.create(k)}let gi=0;const Ii=999,Bi=1e4;class Hi{constructor(k){this._source=k,this._eos=!1}read(){if(this._eos)return null;const k=[];let ne=0,ue=0;do{const Fe=this._source.read();if(Fe===null)return this._eos=!0,ne===0?null:k.join("");if(Fe.length>0&&(k[ne++]=Fe,ue+=Fe.length),ue>=64*1024)return k.join("")}while(!0)}}const fi=()=>{throw new Error("Invalid change accessor")};let Ci=hn=class extends c.JT{static resolveOptions(k,ne){if(ne.detectIndentation){const ue=Pe(k,ne.tabSize,ne.insertSpaces);return new v.dJ({tabSize:ue.tabSize,indentSize:"tabSize",insertSpaces:ue.insertSpaces,trimAutoWhitespace:ne.trimAutoWhitespace,defaultEOL:ne.defaultEOL,bracketPairColorizationOptions:ne.bracketPairColorizationOptions})}return new v.dJ(ne)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(k){return this._eventEmitter.slowEvent(ne=>k(ne.contentChangedEvent))}onDidChangeContentOrInjectedText(k){return(0,c.F8)(this._eventEmitter.fastEvent(ne=>k(ne)),this._onDidChangeInjectedText.event(ne=>k(ne)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(k,ne,ue,Fe=null,Qe,ot,dt){super(),this._undoRedoService=Qe,this._languageService=ot,this._languageConfigurationService=dt,this._onWillDispose=this._register(new w.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new On(at=>this.handleBeforeFireDecorationsChangedEvent(at))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new w.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new w.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new w.Q5),this._eventEmitter=this._register(new Qn),this._languageSelectionListener=this._register(new c.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new Vn,gi++,this.id="$model"+gi,this.isForSimpleWidget=ue.isForSimpleWidget,typeof Fe=="undefined"||Fe===null?this._associatedResource=I.o.parse("inmemory://model/"+gi):this._associatedResource=Fe,this._attachedEditorCount=0;const{textBuffer:bt,disposable:lt}=ni(k,ue.defaultEOL);this._buffer=bt,this._bufferDisposable=lt,this._options=hn.resolveOptions(this._buffer,ue);const Q=typeof ne=="string"?ne:ne.languageId;typeof ne!="string"&&(this._languageSelectionListener.value=ne.onDidChange(()=>this._setLanguage(ne.languageId))),this._bracketPairs=this._register(new V(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ge.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new X(this)),this._tokenizationTextModelPart=new ct(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Q,this._attachedViews);const fe=this._buffer.getLineCount(),We=this._buffer.getValueLengthInRange(new u.e(1,1,fe,this._buffer.getLineLength(fe)+1),0);ue.largeFileOptimizations?(this._isTooLargeForTokenization=We>hn.LARGE_FILE_SIZE_THRESHOLD||fe>hn.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=We>hn.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=We>hn._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=_.PJ(gi),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Ji,this._commandManager=new le.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Q)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const k=new sn([],"",`
`,!1,!1,!0,!0);k.dispose(),this._buffer=k,this._bufferDisposable=c.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(k,ne){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(ne),this._bracketPairs.handleDidChangeContent(ne),this._eventEmitter.fire(new Tt.fV(k,ne)))}setValue(k){if(this._assertNotDisposed(),k==null)throw(0,r.b1)();const{textBuffer:ne,disposable:ue}=ni(k,this._options.defaultEOL);this._setValueFromTextBuffer(ne,ue)}_createContentChanged2(k,ne,ue,Fe,Qe,ot,dt,bt){return{changes:[{range:k,rangeOffset:ne,rangeLength:ue,text:Fe}],eol:this._buffer.getEOL(),isEolChange:bt,versionId:this.getVersionId(),isUndoing:Qe,isRedoing:ot,isFlush:dt}}_setValueFromTextBuffer(k,ne){this._assertNotDisposed();const ue=this.getFullModelRange(),Fe=this.getValueLengthInRange(ue),Qe=this.getLineCount(),ot=this.getLineMaxColumn(Qe);this._buffer=k,this._bufferDisposable.dispose(),this._bufferDisposable=ne,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Ji,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Tt.dQ([new Tt.Jx],this._versionId,!1,!1),this._createContentChanged2(new u.e(1,1,Qe,ot),0,Fe,this.getValue(),!1,!1,!0,!1))}setEOL(k){this._assertNotDisposed();const ne=k===1?`\r
`:`
`;if(this._buffer.getEOL()===ne)return;const ue=this.getFullModelRange(),Fe=this.getValueLengthInRange(ue),Qe=this.getLineCount(),ot=this.getLineMaxColumn(Qe);this._onBeforeEOLChange(),this._buffer.setEOL(ne),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Tt.dQ([new Tt.CZ],this._versionId,!1,!1),this._createContentChanged2(new u.e(1,1,Qe,ot),0,Fe,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const k=this.getVersionId(),ne=this._decorationsTree.collectNodesPostOrder();for(let ue=0,Fe=ne.length;ue<Fe;ue++){const Qe=ne[ue],ot=Qe.range,dt=Qe.cachedAbsoluteStart-Qe.start,bt=this._buffer.getOffsetAt(ot.startLineNumber,ot.startColumn),lt=this._buffer.getOffsetAt(ot.endLineNumber,ot.endColumn);Qe.cachedAbsoluteStart=bt,Qe.cachedAbsoluteEnd=lt,Qe.cachedVersionId=k,Qe.start=bt-dt,Qe.end=lt-dt,Be(Qe)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(k){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(k)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let k=0,ne=0;const ue=this._buffer.getLineCount();for(let Fe=1;Fe<=ue;Fe++){const Qe=this._buffer.getLineLength(Fe);Qe>=Bi?ne+=Qe:k+=Qe}return ne>k}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(k){this._assertNotDisposed();const ne=typeof k.tabSize!="undefined"?k.tabSize:this._options.tabSize,ue=typeof k.indentSize!="undefined"?k.indentSize:this._options.originalIndentSize,Fe=typeof k.insertSpaces!="undefined"?k.insertSpaces:this._options.insertSpaces,Qe=typeof k.trimAutoWhitespace!="undefined"?k.trimAutoWhitespace:this._options.trimAutoWhitespace,ot=typeof k.bracketColorizationOptions!="undefined"?k.bracketColorizationOptions:this._options.bracketPairColorizationOptions,dt=new v.dJ({tabSize:ne,indentSize:ue,insertSpaces:Fe,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Qe,bracketPairColorizationOptions:ot});if(this._options.equals(dt))return;const bt=this._options.createChangeEvent(dt);this._options=dt,this._bracketPairs.handleDidChangeOptions(bt),this._decorationProvider.handleDidChangeOptions(bt),this._onDidChangeOptions.fire(bt)}detectIndentation(k,ne){this._assertNotDisposed();const ue=Pe(this._buffer,ne,k);this.updateOptions({insertSpaces:ue.insertSpaces,tabSize:ue.tabSize,indentSize:ue.tabSize})}normalizeIndentation(k){return this._assertNotDisposed(),(0,D.x)(k,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(k=null){const ne=this.findMatches(_.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(k,ne.map(ue=>({range:ue.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(k){this._assertNotDisposed();const ne=this._validatePosition(k.lineNumber,k.column,0);return this._buffer.getOffsetAt(ne.lineNumber,ne.column)}getPositionAt(k){this._assertNotDisposed();const ne=Math.min(this._buffer.getLength(),Math.max(0,k));return this._buffer.getPositionAt(ne)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(k){this._versionId=k}_overwriteAlternativeVersionId(k){this._alternativeVersionId=k}_overwriteInitialUndoRedoSnapshot(k){this._initialUndoRedoSnapshot=k}getValue(k,ne=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new r.he("Operation would exceed heap memory limits");const ue=this.getFullModelRange(),Fe=this.getValueInRange(ue,k);return ne?this._buffer.getBOM()+Fe:Fe}createSnapshot(k=!1){return new Hi(this._buffer.createSnapshot(k))}getValueLength(k,ne=!1){this._assertNotDisposed();const ue=this.getFullModelRange(),Fe=this.getValueLengthInRange(ue,k);return ne?this._buffer.getBOM().length+Fe:Fe}getValueInRange(k,ne=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(k),ne)}getValueLengthInRange(k,ne=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(k),ne)}getCharacterCountInRange(k,ne=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(k),ne)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineContent(k)}getLineLength(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLength(k)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new r.he("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(k){return this._assertNotDisposed(),1}getLineMaxColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLength(k)+1}getLineFirstNonWhitespaceColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(k)}getLineLastNonWhitespaceColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(k)}_validateRangeRelaxedNoAllocations(k){const ne=this._buffer.getLineCount(),ue=k.startLineNumber,Fe=k.startColumn;let Qe=Math.floor(typeof ue=="number"&&!isNaN(ue)?ue:1),ot=Math.floor(typeof Fe=="number"&&!isNaN(Fe)?Fe:1);if(Qe<1)Qe=1,ot=1;else if(Qe>ne)Qe=ne,ot=this.getLineMaxColumn(Qe);else if(ot<=1)ot=1;else{const fe=this.getLineMaxColumn(Qe);ot>=fe&&(ot=fe)}const dt=k.endLineNumber,bt=k.endColumn;let lt=Math.floor(typeof dt=="number"&&!isNaN(dt)?dt:1),Q=Math.floor(typeof bt=="number"&&!isNaN(bt)?bt:1);if(lt<1)lt=1,Q=1;else if(lt>ne)lt=ne,Q=this.getLineMaxColumn(lt);else if(Q<=1)Q=1;else{const fe=this.getLineMaxColumn(lt);Q>=fe&&(Q=fe)}return ue===Qe&&Fe===ot&&dt===lt&&bt===Q&&k instanceof u.e&&!(k instanceof d.Y)?k:new u.e(Qe,ot,lt,Q)}_isValidPosition(k,ne,ue){if(typeof k!="number"||typeof ne!="number"||isNaN(k)||isNaN(ne)||k<1||ne<1||(k|0)!==k||(ne|0)!==ne)return!1;const Fe=this._buffer.getLineCount();if(k>Fe)return!1;if(ne===1)return!0;const Qe=this.getLineMaxColumn(k);if(ne>Qe)return!1;if(ue===1){const ot=this._buffer.getLineCharCode(k,ne-2);if(_.ZG(ot))return!1}return!0}_validatePosition(k,ne,ue){const Fe=Math.floor(typeof k=="number"&&!isNaN(k)?k:1),Qe=Math.floor(typeof ne=="number"&&!isNaN(ne)?ne:1),ot=this._buffer.getLineCount();if(Fe<1)return new o.L(1,1);if(Fe>ot)return new o.L(ot,this.getLineMaxColumn(ot));if(Qe<=1)return new o.L(Fe,1);const dt=this.getLineMaxColumn(Fe);if(Qe>=dt)return new o.L(Fe,dt);if(ue===1){const bt=this._buffer.getLineCharCode(Fe,Qe-2);if(_.ZG(bt))return new o.L(Fe,Qe-1)}return new o.L(Fe,Qe)}validatePosition(k){return this._assertNotDisposed(),k instanceof o.L&&this._isValidPosition(k.lineNumber,k.column,1)?k:this._validatePosition(k.lineNumber,k.column,1)}_isValidRange(k,ne){const ue=k.startLineNumber,Fe=k.startColumn,Qe=k.endLineNumber,ot=k.endColumn;if(!this._isValidPosition(ue,Fe,0)||!this._isValidPosition(Qe,ot,0))return!1;if(ne===1){const dt=Fe>1?this._buffer.getLineCharCode(ue,Fe-2):0,bt=ot>1&&ot<=this._buffer.getLineLength(Qe)?this._buffer.getLineCharCode(Qe,ot-2):0,lt=_.ZG(dt),Q=_.ZG(bt);return!lt&&!Q}return!0}validateRange(k){if(this._assertNotDisposed(),k instanceof u.e&&!(k instanceof d.Y)&&this._isValidRange(k,1))return k;const ue=this._validatePosition(k.startLineNumber,k.startColumn,0),Fe=this._validatePosition(k.endLineNumber,k.endColumn,0),Qe=ue.lineNumber,ot=ue.column,dt=Fe.lineNumber,bt=Fe.column;{const lt=ot>1?this._buffer.getLineCharCode(Qe,ot-2):0,Q=bt>1&&bt<=this._buffer.getLineLength(dt)?this._buffer.getLineCharCode(dt,bt-2):0,fe=_.ZG(lt),We=_.ZG(Q);return!fe&&!We?new u.e(Qe,ot,dt,bt):Qe===dt&&ot===bt?new u.e(Qe,ot-1,dt,bt-1):fe&&We?new u.e(Qe,ot-1,dt,bt+1):fe?new u.e(Qe,ot-1,dt,bt):new u.e(Qe,ot,dt,bt+1)}return new u.e(Qe,ot,dt,bt)}modifyPosition(k,ne){this._assertNotDisposed();const ue=this.getOffsetAt(k)+ne;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ue)))}getFullModelRange(){this._assertNotDisposed();const k=this.getLineCount();return new u.e(1,1,k,this.getLineMaxColumn(k))}findMatchesLineByLine(k,ne,ue,Fe){return this._buffer.findMatchesLineByLine(k,ne,ue,Fe)}findMatches(k,ne,ue,Fe,Qe,ot,dt=Ii){this._assertNotDisposed();let bt=null;ne!==null&&(Array.isArray(ne)||(ne=[ne]),ne.every(fe=>u.e.isIRange(fe))&&(bt=ne.map(fe=>this.validateRange(fe)))),bt===null&&(bt=[this.getFullModelRange()]),bt=bt.sort((fe,We)=>fe.startLineNumber-We.startLineNumber||fe.startColumn-We.startColumn);const lt=[];lt.push(bt.reduce((fe,We)=>u.e.areIntersecting(fe,We)?fe.plusRange(We):(lt.push(fe),We)));let Q;if(!ue&&k.indexOf(`
`)<0){const We=new wi.bc(k,ue,Fe,Qe).parseSearchRequest();if(!We)return[];Q=at=>this.findMatchesLineByLine(at,We,ot,dt)}else Q=fe=>wi.pM.findMatches(this,new wi.bc(k,ue,Fe,Qe),fe,ot,dt);return lt.map(Q).reduce((fe,We)=>fe.concat(We),[])}findNextMatch(k,ne,ue,Fe,Qe,ot){this._assertNotDisposed();const dt=this.validatePosition(ne);if(!ue&&k.indexOf(`
`)<0){const lt=new wi.bc(k,ue,Fe,Qe).parseSearchRequest();if(!lt)return null;const Q=this.getLineCount();let fe=new u.e(dt.lineNumber,dt.column,Q,this.getLineMaxColumn(Q)),We=this.findMatchesLineByLine(fe,lt,ot,1);return wi.pM.findNextMatch(this,new wi.bc(k,ue,Fe,Qe),dt,ot),We.length>0||(fe=new u.e(1,1,dt.lineNumber,this.getLineMaxColumn(dt.lineNumber)),We=this.findMatchesLineByLine(fe,lt,ot,1),We.length>0)?We[0]:null}return wi.pM.findNextMatch(this,new wi.bc(k,ue,Fe,Qe),dt,ot)}findPreviousMatch(k,ne,ue,Fe,Qe,ot){this._assertNotDisposed();const dt=this.validatePosition(ne);return wi.pM.findPreviousMatch(this,new wi.bc(k,ue,Fe,Qe),dt,ot)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(k){if((this.getEOL()===`
`?0:1)!==k)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(k)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(k){return k instanceof v.Qi?k:new v.Qi(k.identifier||null,this.validateRange(k.range),k.text,k.forceMoveMarkers||!1,k.isAutoWhitespaceEdit||!1,k._isTracked||!1)}_validateEditOperations(k){const ne=[];for(let ue=0,Fe=k.length;ue<Fe;ue++)ne[ue]=this._validateEditOperation(k[ue]);return ne}pushEditOperations(k,ne,ue,Fe){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(k,this._validateEditOperations(ne),ue,Fe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(k,ne,ue,Fe){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Qe=ne.map(dt=>({range:this.validateRange(dt.range),text:dt.text}));let ot=!0;if(k)for(let dt=0,bt=k.length;dt<bt;dt++){const lt=k[dt];let Q=!1;for(let fe=0,We=Qe.length;fe<We;fe++){const at=Qe[fe].range,Ct=at.startLineNumber>lt.endLineNumber,Rt=lt.startLineNumber>at.endLineNumber;if(!Ct&&!Rt){Q=!0;break}}if(!Q){ot=!1;break}}if(ot)for(let dt=0,bt=this._trimAutoWhitespaceLines.length;dt<bt;dt++){const lt=this._trimAutoWhitespaceLines[dt],Q=this.getLineMaxColumn(lt);let fe=!0;for(let We=0,at=Qe.length;We<at;We++){const Ct=Qe[We].range,Rt=Qe[We].text;if(!(lt<Ct.startLineNumber||lt>Ct.endLineNumber)&&!(lt===Ct.startLineNumber&&Ct.startColumn===Q&&Ct.isEmpty()&&Rt&&Rt.length>0&&Rt.charAt(0)===`
`)&&!(lt===Ct.startLineNumber&&Ct.startColumn===1&&Ct.isEmpty()&&Rt&&Rt.length>0&&Rt.charAt(Rt.length-1)===`
`)){fe=!1;break}}if(fe){const We=new u.e(lt,1,lt,Q);ne.push(new v.Qi(null,We,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(k,ne,ue,Fe)}_applyUndo(k,ne,ue,Fe){const Qe=k.map(ot=>{const dt=this.getPositionAt(ot.newPosition),bt=this.getPositionAt(ot.newEnd);return{range:new u.e(dt.lineNumber,dt.column,bt.lineNumber,bt.column),text:ot.oldText}});this._applyUndoRedoEdits(Qe,ne,!0,!1,ue,Fe)}_applyRedo(k,ne,ue,Fe){const Qe=k.map(ot=>{const dt=this.getPositionAt(ot.oldPosition),bt=this.getPositionAt(ot.oldEnd);return{range:new u.e(dt.lineNumber,dt.column,bt.lineNumber,bt.column),text:ot.newText}});this._applyUndoRedoEdits(Qe,ne,!1,!0,ue,Fe)}_applyUndoRedoEdits(k,ne,ue,Fe,Qe,ot){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ue,this._isRedoing=Fe,this.applyEdits(k,!1),this.setEOL(ne),this._overwriteAlternativeVersionId(Qe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ot),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(k,ne=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ue=this._validateEditOperations(k);return this._doApplyEdits(ue,ne)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(k,ne){const ue=this._buffer.getLineCount(),Fe=this._buffer.applyEdits(k,this._options.trimAutoWhitespace,ne),Qe=this._buffer.getLineCount(),ot=Fe.changes;if(this._trimAutoWhitespaceLines=Fe.trimAutoWhitespaceLineNumbers,ot.length!==0){for(let lt=0,Q=ot.length;lt<Q;lt++){const fe=ot[lt];this._decorationsTree.acceptReplace(fe.rangeOffset,fe.rangeLength,fe.text.length,fe.forceMoveMarkers)}const dt=[];this._increaseVersionId();let bt=ue;for(let lt=0,Q=ot.length;lt<Q;lt++){const fe=ot[lt],[We]=(0,M.Q)(fe.text);this._onDidChangeDecorations.fire();const at=fe.range.startLineNumber,Ct=fe.range.endLineNumber,Rt=Ct-at,Vt=We,an=Math.min(Rt,Vt),An=Vt-Rt,zn=Qe-bt-An+at,ui=zn,hi=zn+Vt,oi=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new o.L(ui,1)),this.getOffsetAt(new o.L(hi,this.getLineMaxColumn(hi))),0),Kn=Tt.gk.fromDecorations(oi),di=new b.H9(Kn);for(let pi=an;pi>=0;pi--){const qi=at+pi,Es=zn+pi;di.takeFromEndWhile(Us=>Us.lineNumber>Es);const rs=di.takeFromEndWhile(Us=>Us.lineNumber===Es);dt.push(new Tt.rU(qi,this.getLineContent(Es),rs))}if(an<Rt){const pi=at+an;dt.push(new Tt.lN(pi+1,Ct))}if(an<Vt){const pi=new b.H9(Kn),qi=at+an,Es=Vt-an,rs=Qe-bt-Es+qi+1,Us=[],Gi=[];for(let ys=0;ys<Es;ys++){const us=rs+ys;Gi[ys]=this.getLineContent(us),pi.takeWhile(is=>is.lineNumber<us),Us[ys]=pi.takeWhile(is=>is.lineNumber===us)}dt.push(new Tt.Tx(qi+1,at+Vt,Gi,Us))}bt+=An}this._emitContentChangedEvent(new Tt.dQ(dt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ot,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Fe.reverseEdits===null?void 0:Fe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(k){if(k===null||k.size===0)return;const ue=Array.from(k).map(Fe=>new Tt.rU(Fe,this.getLineContent(Fe),this._getInjectedTextInLine(Fe)));this._onDidChangeInjectedText.fire(new Tt.D8(ue))}changeDecorations(k,ne=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ne,k)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(k,ne){const ue={addDecoration:(Qe,ot)=>this._deltaDecorationsImpl(k,[],[{range:Qe,options:ot}])[0],changeDecoration:(Qe,ot)=>{this._changeDecorationImpl(Qe,ot)},changeDecorationOptions:(Qe,ot)=>{this._changeDecorationOptionsImpl(Qe,Ln(ot))},removeDecoration:Qe=>{this._deltaDecorationsImpl(k,[Qe],[])},deltaDecorations:(Qe,ot)=>Qe.length===0&&ot.length===0?[]:this._deltaDecorationsImpl(k,Qe,ot)};let Fe=null;try{Fe=ne(ue)}catch(Qe){(0,r.dL)(Qe)}return ue.addDecoration=fi,ue.changeDecoration=fi,ue.changeDecorationOptions=fi,ue.removeDecoration=fi,ue.deltaDecorations=fi,Fe}deltaDecorations(k,ne,ue=0){if(this._assertNotDisposed(),k||(k=[]),k.length===0&&ne.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,r.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ue,k,ne)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(k){return this.getDecorationRange(k)}_setTrackedRange(k,ne,ue){const Fe=k?this._decorations[k]:null;if(!Fe)return ne?this._deltaDecorationsImpl(0,[],[{range:ne,options:En[ue]}],!0)[0]:null;if(!ne)return this._decorationsTree.delete(Fe),delete this._decorations[Fe.id],null;const Qe=this._validateRangeRelaxedNoAllocations(ne),ot=this._buffer.getOffsetAt(Qe.startLineNumber,Qe.startColumn),dt=this._buffer.getOffsetAt(Qe.endLineNumber,Qe.endColumn);return this._decorationsTree.delete(Fe),Fe.reset(this.getVersionId(),ot,dt,Qe),Fe.setOptions(En[ue]),this._decorationsTree.insert(Fe),Fe.id}removeAllDecorationsWithOwnerId(k){if(this._isDisposed)return;const ne=this._decorationsTree.collectNodesFromOwner(k);for(let ue=0,Fe=ne.length;ue<Fe;ue++){const Qe=ne[ue];this._decorationsTree.delete(Qe),delete this._decorations[Qe.id]}}getDecorationOptions(k){const ne=this._decorations[k];return ne?ne.options:null}getDecorationRange(k){const ne=this._decorations[k];return ne?this._decorationsTree.getNodeRange(this,ne):null}getLineDecorations(k,ne=0,ue=!1){return k<1||k>this.getLineCount()?[]:this.getLinesDecorations(k,k,ne,ue)}getLinesDecorations(k,ne,ue=0,Fe=!1,Qe=!1){const ot=this.getLineCount(),dt=Math.min(ot,Math.max(1,k)),bt=Math.min(ot,Math.max(1,ne)),lt=this.getLineMaxColumn(bt),Q=new u.e(dt,1,bt,lt),fe=this._getDecorationsInRange(Q,ue,Fe,Qe);return(0,b.vA)(fe,this._decorationProvider.getDecorationsInRange(Q,ue,Fe)),fe}getDecorationsInRange(k,ne=0,ue=!1,Fe=!1,Qe=!1){const ot=this.validateRange(k),dt=this._getDecorationsInRange(ot,ne,ue,Qe);return(0,b.vA)(dt,this._decorationProvider.getDecorationsInRange(ot,ne,ue,Fe)),dt}getOverviewRulerDecorations(k=0,ne=!1){return this._decorationsTree.getAll(this,k,ne,!0,!1)}getInjectedTextDecorations(k=0){return this._decorationsTree.getAllInjectedText(this,k)}_getInjectedTextInLine(k){const ne=this._buffer.getOffsetAt(k,1),ue=ne+this._buffer.getLineLength(k),Fe=this._decorationsTree.getInjectedTextInInterval(this,ne,ue,0);return Tt.gk.fromDecorations(Fe).filter(Qe=>Qe.lineNumber===k)}getAllDecorations(k=0,ne=!1){let ue=this._decorationsTree.getAll(this,k,ne,!1,!1);return ue=ue.concat(this._decorationProvider.getAllDecorations(k,ne)),ue}getAllMarginDecorations(k=0){return this._decorationsTree.getAll(this,k,!1,!1,!0)}_getDecorationsInRange(k,ne,ue,Fe){const Qe=this._buffer.getOffsetAt(k.startLineNumber,k.startColumn),ot=this._buffer.getOffsetAt(k.endLineNumber,k.endColumn);return this._decorationsTree.getAllInInterval(this,Qe,ot,ne,ue,Fe)}getRangeAt(k,ne){return this._buffer.getRangeAt(k,ne-k)}_changeDecorationImpl(k,ne){const ue=this._decorations[k];if(!ue)return;if(ue.options.after){const dt=this.getDecorationRange(k);this._onDidChangeDecorations.recordLineAffectedByInjectedText(dt.endLineNumber)}if(ue.options.before){const dt=this.getDecorationRange(k);this._onDidChangeDecorations.recordLineAffectedByInjectedText(dt.startLineNumber)}const Fe=this._validateRangeRelaxedNoAllocations(ne),Qe=this._buffer.getOffsetAt(Fe.startLineNumber,Fe.startColumn),ot=this._buffer.getOffsetAt(Fe.endLineNumber,Fe.endColumn);this._decorationsTree.delete(ue),ue.reset(this.getVersionId(),Qe,ot,Fe),this._decorationsTree.insert(ue),this._onDidChangeDecorations.checkAffectedAndFire(ue.options),ue.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Fe.endLineNumber),ue.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Fe.startLineNumber)}_changeDecorationOptionsImpl(k,ne){const ue=this._decorations[k];if(!ue)return;const Fe=!!(ue.options.overviewRuler&&ue.options.overviewRuler.color),Qe=!!(ne.overviewRuler&&ne.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ue.options),this._onDidChangeDecorations.checkAffectedAndFire(ne),ue.options.after||ne.after){const ot=this._decorationsTree.getNodeRange(this,ue);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ot.endLineNumber)}if(ue.options.before||ne.before){const ot=this._decorationsTree.getNodeRange(this,ue);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ot.startLineNumber)}Fe!==Qe?(this._decorationsTree.delete(ue),ue.setOptions(ne),this._decorationsTree.insert(ue)):ue.setOptions(ne)}_deltaDecorationsImpl(k,ne,ue,Fe=!1){const Qe=this.getVersionId(),ot=ne.length;let dt=0;const bt=ue.length;let lt=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Q=new Array(bt);for(;dt<ot||lt<bt;){let fe=null;if(dt<ot){do fe=this._decorations[ne[dt++]];while(!fe&&dt<ot);if(fe){if(fe.options.after){const We=this._decorationsTree.getNodeRange(this,fe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.endLineNumber)}if(fe.options.before){const We=this._decorationsTree.getNodeRange(this,fe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.startLineNumber)}this._decorationsTree.delete(fe),Fe||this._onDidChangeDecorations.checkAffectedAndFire(fe.options)}}if(lt<bt){if(!fe){const an=++this._lastDecorationId,An=`${this._instanceId};${an}`;fe=new he(An,0,0),this._decorations[An]=fe}const We=ue[lt],at=this._validateRangeRelaxedNoAllocations(We.range),Ct=Ln(We.options),Rt=this._buffer.getOffsetAt(at.startLineNumber,at.startColumn),Vt=this._buffer.getOffsetAt(at.endLineNumber,at.endColumn);fe.ownerId=k,fe.reset(Qe,Rt,Vt,at),fe.setOptions(Ct),fe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(at.endLineNumber),fe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(at.startLineNumber),Fe||this._onDidChangeDecorations.checkAffectedAndFire(Ct),this._decorationsTree.insert(fe),Q[lt]=fe.id,lt++}else fe&&delete this._decorations[fe.id]}return Q}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(k,ne){typeof k=="string"?(this._languageSelectionListener.clear(),this._setLanguage(k,ne)):(this._languageSelectionListener.value=k.onDidChange(()=>this._setLanguage(k.languageId,ne)),this._setLanguage(k.languageId,ne))}_setLanguage(k,ne){this.tokenization.setLanguageId(k,ne),this._languageService.requestRichLanguageFeatures(k)}getLanguageIdAtPosition(k,ne){return this.tokenization.getLanguageIdAtPosition(k,ne)}getWordAtPosition(k){return this._tokenizationTextModelPart.getWordAtPosition(k)}getWordUntilPosition(k){return this._tokenizationTextModelPart.getWordUntilPosition(k)}normalizePosition(k,ne){return k}getLineIndentColumn(k){return Li(this.getLineContent(k))+1}};Ci._MODEL_SYNC_LIMIT=50*1024*1024,Ci.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Ci.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Ci.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,Ci.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:n.D.tabSize,indentSize:n.D.indentSize,insertSpaces:n.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:n.D.trimAutoWhitespace,largeFileOptimizations:n.D.largeFileOptimizations,bracketPairColorizationOptions:n.D.bracketPairColorizationOptions},Ci=hn=zt([_n(4,Zt.tJ),_n(5,i.O),_n(6,f.c_)],Ci);function Li(St){let k=0;for(const ne of St)if(ne===" "||ne==="	")k++;else break;return k}function ci(St){return!!(St.options.overviewRuler&&St.options.overviewRuler.color)}function Zi(St){return!!St.options.after||!!St.options.before}class Ji{constructor(){this._decorationsTree0=new ve,this._decorationsTree1=new ve,this._injectedTextDecorationsTree=new ve}ensureAllNodesHaveRanges(k){this.getAll(k,0,!1,!1,!1)}_ensureNodesHaveRanges(k,ne){for(const ue of ne)ue.range===null&&(ue.range=k.getRangeAt(ue.cachedAbsoluteStart,ue.cachedAbsoluteEnd));return ne}getAllInInterval(k,ne,ue,Fe,Qe,ot){const dt=k.getVersionId(),bt=this._intervalSearch(ne,ue,Fe,Qe,dt,ot);return this._ensureNodesHaveRanges(k,bt)}_intervalSearch(k,ne,ue,Fe,Qe,ot){const dt=this._decorationsTree0.intervalSearch(k,ne,ue,Fe,Qe,ot),bt=this._decorationsTree1.intervalSearch(k,ne,ue,Fe,Qe,ot),lt=this._injectedTextDecorationsTree.intervalSearch(k,ne,ue,Fe,Qe,ot);return dt.concat(bt).concat(lt)}getInjectedTextInInterval(k,ne,ue,Fe){const Qe=k.getVersionId(),ot=this._injectedTextDecorationsTree.intervalSearch(ne,ue,Fe,!1,Qe,!1);return this._ensureNodesHaveRanges(k,ot).filter(dt=>dt.options.showIfCollapsed||!dt.range.isEmpty())}getAllInjectedText(k,ne){const ue=k.getVersionId(),Fe=this._injectedTextDecorationsTree.search(ne,!1,ue,!1);return this._ensureNodesHaveRanges(k,Fe).filter(Qe=>Qe.options.showIfCollapsed||!Qe.range.isEmpty())}getAll(k,ne,ue,Fe,Qe){const ot=k.getVersionId(),dt=this._search(ne,ue,Fe,ot,Qe);return this._ensureNodesHaveRanges(k,dt)}_search(k,ne,ue,Fe,Qe){if(ue)return this._decorationsTree1.search(k,ne,Fe,Qe);{const ot=this._decorationsTree0.search(k,ne,Fe,Qe),dt=this._decorationsTree1.search(k,ne,Fe,Qe),bt=this._injectedTextDecorationsTree.search(k,ne,Fe,Qe);return ot.concat(dt).concat(bt)}}collectNodesFromOwner(k){const ne=this._decorationsTree0.collectNodesFromOwner(k),ue=this._decorationsTree1.collectNodesFromOwner(k),Fe=this._injectedTextDecorationsTree.collectNodesFromOwner(k);return ne.concat(ue).concat(Fe)}collectNodesPostOrder(){const k=this._decorationsTree0.collectNodesPostOrder(),ne=this._decorationsTree1.collectNodesPostOrder(),ue=this._injectedTextDecorationsTree.collectNodesPostOrder();return k.concat(ne).concat(ue)}insert(k){Zi(k)?this._injectedTextDecorationsTree.insert(k):ci(k)?this._decorationsTree1.insert(k):this._decorationsTree0.insert(k)}delete(k){Zi(k)?this._injectedTextDecorationsTree.delete(k):ci(k)?this._decorationsTree1.delete(k):this._decorationsTree0.delete(k)}getNodeRange(k,ne){const ue=k.getVersionId();return ne.cachedVersionId!==ue&&this._resolveNode(ne,ue),ne.range===null&&(ne.range=k.getRangeAt(ne.cachedAbsoluteStart,ne.cachedAbsoluteEnd)),ne.range}_resolveNode(k,ne){Zi(k)?this._injectedTextDecorationsTree.resolveNode(k,ne):ci(k)?this._decorationsTree1.resolveNode(k,ne):this._decorationsTree0.resolveNode(k,ne)}acceptReplace(k,ne,ue,Fe){this._decorationsTree0.acceptReplace(k,ne,ue,Fe),this._decorationsTree1.acceptReplace(k,ne,ue,Fe),this._injectedTextDecorationsTree.acceptReplace(k,ne,ue,Fe)}}function vn(St){return St.replace(/[^a-z0-9\-_]/gi," ")}class $e{constructor(k){this.color=k.color||"",this.darkColor=k.darkColor||""}}class ft extends $e{constructor(k){super(k),this._resolvedColor=null,this.position=typeof k.position=="number"?k.position:v.sh.Center}getColor(k){return this._resolvedColor||(k.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,k):this._resolvedColor=this._resolveColor(this.color,k)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(k,ne){if(typeof k=="string")return k;const ue=k?ne.getColor(k.id):null;return ue?ue.toString():""}}class gt{constructor(k){var ne;this.position=(ne=k==null?void 0:k.position)!==null&&ne!==void 0?ne:v.U.Left}}class cn extends $e{constructor(k){super(k),this.position=k.position}getColor(k){return this._resolvedColor||(k.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,k):this._resolvedColor=this._resolveColor(this.color,k)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(k,ne){return typeof k=="string"?U.Il.fromHex(k):ne.getColor(k.id)}}class rn{static from(k){return k instanceof rn?k:new rn(k)}constructor(k){this.content=k.content||"",this.inlineClassName=k.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=k.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=k.attachedData||null,this.cursorStops=k.cursorStops||null}}class Sn{static register(k){return new Sn(k)}static createDynamic(k){return new Sn(k)}constructor(k){var ne,ue,Fe,Qe,ot,dt;this.description=k.description,this.blockClassName=k.blockClassName?vn(k.blockClassName):null,this.blockDoesNotCollapse=(ne=k.blockDoesNotCollapse)!==null&&ne!==void 0?ne:null,this.blockIsAfterEnd=(ue=k.blockIsAfterEnd)!==null&&ue!==void 0?ue:null,this.blockPadding=(Fe=k.blockPadding)!==null&&Fe!==void 0?Fe:null,this.stickiness=k.stickiness||0,this.zIndex=k.zIndex||0,this.className=k.className?vn(k.className):null,this.shouldFillLineOnLineBreak=(Qe=k.shouldFillLineOnLineBreak)!==null&&Qe!==void 0?Qe:null,this.hoverMessage=k.hoverMessage||null,this.glyphMarginHoverMessage=k.glyphMarginHoverMessage||null,this.isWholeLine=k.isWholeLine||!1,this.showIfCollapsed=k.showIfCollapsed||!1,this.collapseOnReplaceEdit=k.collapseOnReplaceEdit||!1,this.overviewRuler=k.overviewRuler?new ft(k.overviewRuler):null,this.minimap=k.minimap?new cn(k.minimap):null,this.glyphMargin=k.glyphMarginClassName?new gt(k.glyphMargin):null,this.glyphMarginClassName=k.glyphMarginClassName?vn(k.glyphMarginClassName):null,this.linesDecorationsClassName=k.linesDecorationsClassName?vn(k.linesDecorationsClassName):null,this.firstLineDecorationClassName=k.firstLineDecorationClassName?vn(k.firstLineDecorationClassName):null,this.marginClassName=k.marginClassName?vn(k.marginClassName):null,this.inlineClassName=k.inlineClassName?vn(k.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=k.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=k.beforeContentClassName?vn(k.beforeContentClassName):null,this.afterContentClassName=k.afterContentClassName?vn(k.afterContentClassName):null,this.after=k.after?rn.from(k.after):null,this.before=k.before?rn.from(k.before):null,this.hideInCommentTokens=(ot=k.hideInCommentTokens)!==null&&ot!==void 0?ot:!1,this.hideInStringTokens=(dt=k.hideInStringTokens)!==null&&dt!==void 0?dt:!1}}Sn.EMPTY=Sn.register({description:"empty"});const En=[Sn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Sn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Sn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Sn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Ln(St){return St instanceof Sn?St:Sn.createDynamic(St)}class On extends c.JT{constructor(k){super(),this.handleBeforeFire=k,this._actual=this._register(new w.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var k;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(k=this._affectedInjectedTextLines)===null||k===void 0||k.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(k){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(k)}checkAffectedAndFire(k){this._affectsMinimap||(this._affectsMinimap=!!(k.minimap&&k.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(k.overviewRuler&&k.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!k.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const k={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(k)}}class Qn extends c.JT{constructor(){super(),this._fastEmitter=this._register(new w.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new w.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(k=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=k;const ne=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(ne),this._slowEmitter.fire(ne)}}fire(k){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(k):this._deferredEvent=k;return}this._fastEmitter.fire(k),this._slowEmitter.fire(k)}}class Vn{constructor(){this._onDidChangeVisibleRanges=new w.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const k=new Wn(ne=>{this._onDidChangeVisibleRanges.fire({view:k,state:ne})});return this._views.add(k),k}detachView(k){this._views.delete(k),this._onDidChangeVisibleRanges.fire({view:k,state:void 0})}}class Wn{constructor(k){this.handleStateChange=k}setVisibleLines(k,ne){const ue=k.map(Fe=>new p.z(Fe.startLineNumber,Fe.endLineNumber+1));this.handleStateChange({visibleLineRanges:ue,stabilized:ne})}}},94954:function(Ot,Ke,e){"use strict";e.d(Ke,{U:function(){return U}});var b=e(5976);class U extends b.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},77277:function(Ot,Ke,e){"use strict";e.d(Ke,{bc:function(){return I},cM:function(){return n},iE:function(){return D},pM:function(){return o},sz:function(){return i}});var b=e(97295),U=e(24929),r=e(50187),w=e(24314),c=e(84973);const _=999;class I{constructor(v,a,S,g){this.searchString=v,this.isRegex=a,this.matchCase=S,this.wordSeparators=g}parseSearchRequest(){if(this.searchString==="")return null;let v;this.isRegex?v=M(this.searchString):v=this.searchString.indexOf(`
`)>=0;let a=null;try{a=b.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:v,global:!0,unicode:!0})}catch(g){return null}if(!a)return null;let S=!this.isRegex&&!v;return S&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(S=this.matchCase),new c.Tx(a,this.wordSeparators?(0,U.u)(this.wordSeparators):null,S?this.searchString:null)}}function M(f){if(!f||f.length===0)return!1;for(let v=0,a=f.length;v<a;v++){const S=f.charCodeAt(v);if(S===10)return!0;if(S===92){if(v++,v>=a)break;const g=f.charCodeAt(v);if(g===110||g===114||g===87)return!0}}return!1}function D(f,v,a){if(!a)return new c.tk(f,null);const S=[];for(let g=0,y=v.length;g<y;g++)S[g]=v[g];return new c.tk(f,S)}class p{constructor(v){const a=[];let S=0;for(let g=0,y=v.length;g<y;g++)v.charCodeAt(g)===10&&(a[S++]=g);this._lineFeedsOffsets=a}findLineFeedCountBeforeOffset(v){const a=this._lineFeedsOffsets;let S=0,g=a.length-1;if(g===-1||v<=a[0])return 0;for(;S<g;){const y=S+((g-S)/2>>0);a[y]>=v?g=y-1:a[y+1]>=v?(S=y,g=y):S=y+1}return S+1}}class o{static findMatches(v,a,S,g,y){const C=a.parseSearchRequest();return C?C.regex.multiline?this._doFindMatchesMultiline(v,S,new i(C.wordSeparators,C.regex),g,y):this._doFindMatchesLineByLine(v,S,C,g,y):[]}static _getMultilineMatchRange(v,a,S,g,y,C){let E,A=0;g?(A=g.findLineFeedCountBeforeOffset(y),E=a+y+A):E=a+y;let N;if(g){const Y=g.findLineFeedCountBeforeOffset(y+C.length)-A;N=E+C.length+Y}else N=E+C.length;const B=v.getPositionAt(E),W=v.getPositionAt(N);return new w.e(B.lineNumber,B.column,W.lineNumber,W.column)}static _doFindMatchesMultiline(v,a,S,g,y){const C=v.getOffsetAt(a.getStartPosition()),E=v.getValueInRange(a,1),A=v.getEOL()===`\r
`?new p(E):null,N=[];let B=0,W;for(S.reset(0);W=S.next(E);)if(N[B++]=D(this._getMultilineMatchRange(v,C,E,A,W.index,W[0]),W,g),B>=y)return N;return N}static _doFindMatchesLineByLine(v,a,S,g,y){const C=[];let E=0;if(a.startLineNumber===a.endLineNumber){const N=v.getLineContent(a.startLineNumber).substring(a.startColumn-1,a.endColumn-1);return E=this._findMatchesInLine(S,N,a.startLineNumber,a.startColumn-1,E,C,g,y),C}const A=v.getLineContent(a.startLineNumber).substring(a.startColumn-1);E=this._findMatchesInLine(S,A,a.startLineNumber,a.startColumn-1,E,C,g,y);for(let N=a.startLineNumber+1;N<a.endLineNumber&&E<y;N++)E=this._findMatchesInLine(S,v.getLineContent(N),N,0,E,C,g,y);if(E<y){const N=v.getLineContent(a.endLineNumber).substring(0,a.endColumn-1);E=this._findMatchesInLine(S,N,a.endLineNumber,0,E,C,g,y)}return C}static _findMatchesInLine(v,a,S,g,y,C,E,A){const N=v.wordSeparators;if(!E&&v.simpleSearch){const $=v.simpleSearch,Y=$.length,R=a.length;let L=-Y;for(;(L=a.indexOf($,L+Y))!==-1;)if((!N||n(N,a,R,L,Y))&&(C[y++]=new c.tk(new w.e(S,L+1+g,S,L+1+Y+g),null),y>=A))return y;return y}const B=new i(v.wordSeparators,v.regex);let W;B.reset(0);do if(W=B.next(a),W&&(C[y++]=D(new w.e(S,W.index+1+g,S,W.index+1+W[0].length+g),W,E),y>=A))return y;while(W);return y}static findNextMatch(v,a,S,g){const y=a.parseSearchRequest();if(!y)return null;const C=new i(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(v,S,C,g):this._doFindNextMatchLineByLine(v,S,C,g)}static _doFindNextMatchMultiline(v,a,S,g){const y=new r.L(a.lineNumber,1),C=v.getOffsetAt(y),E=v.getLineCount(),A=v.getValueInRange(new w.e(y.lineNumber,y.column,E,v.getLineMaxColumn(E)),1),N=v.getEOL()===`\r
`?new p(A):null;S.reset(a.column-1);const B=S.next(A);return B?D(this._getMultilineMatchRange(v,C,A,N,B.index,B[0]),B,g):a.lineNumber!==1||a.column!==1?this._doFindNextMatchMultiline(v,new r.L(1,1),S,g):null}static _doFindNextMatchLineByLine(v,a,S,g){const y=v.getLineCount(),C=a.lineNumber,E=v.getLineContent(C),A=this._findFirstMatchInLine(S,E,C,a.column,g);if(A)return A;for(let N=1;N<=y;N++){const B=(C+N-1)%y,W=v.getLineContent(B+1),$=this._findFirstMatchInLine(S,W,B+1,1,g);if($)return $}return null}static _findFirstMatchInLine(v,a,S,g,y){v.reset(g-1);const C=v.next(a);return C?D(new w.e(S,C.index+1,S,C.index+1+C[0].length),C,y):null}static findPreviousMatch(v,a,S,g){const y=a.parseSearchRequest();if(!y)return null;const C=new i(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(v,S,C,g):this._doFindPreviousMatchLineByLine(v,S,C,g)}static _doFindPreviousMatchMultiline(v,a,S,g){const y=this._doFindMatchesMultiline(v,new w.e(1,1,a.lineNumber,a.column),S,g,10*_);if(y.length>0)return y[y.length-1];const C=v.getLineCount();return a.lineNumber!==C||a.column!==v.getLineMaxColumn(C)?this._doFindPreviousMatchMultiline(v,new r.L(C,v.getLineMaxColumn(C)),S,g):null}static _doFindPreviousMatchLineByLine(v,a,S,g){const y=v.getLineCount(),C=a.lineNumber,E=v.getLineContent(C).substring(0,a.column-1),A=this._findLastMatchInLine(S,E,C,g);if(A)return A;for(let N=1;N<=y;N++){const B=(y+C-N-1)%y,W=v.getLineContent(B+1),$=this._findLastMatchInLine(S,W,B+1,g);if($)return $}return null}static _findLastMatchInLine(v,a,S,g){let y=null,C;for(v.reset(0);C=v.next(a);)y=D(new w.e(S,C.index+1,S,C.index+1+C[0].length),C,g);return y}}function u(f,v,a,S,g){if(S===0)return!0;const y=v.charCodeAt(S-1);if(f.get(y)!==0||y===13||y===10)return!0;if(g>0){const C=v.charCodeAt(S);if(f.get(C)!==0)return!0}return!1}function d(f,v,a,S,g){if(S+g===a)return!0;const y=v.charCodeAt(S+g);if(f.get(y)!==0||y===13||y===10)return!0;if(g>0){const C=v.charCodeAt(S+g-1);if(f.get(C)!==0)return!0}return!1}function n(f,v,a,S,g){return u(f,v,a,S,g)&&d(f,v,a,S,g)}class i{constructor(v,a){this._wordSeparators=v,this._searchRegex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(v){this._searchRegex.lastIndex=v,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(v){const a=v.length;let S;do{if(this._prevMatchStartIndex+this._prevMatchLength===a||(S=this._searchRegex.exec(v),!S))return null;const g=S.index,y=S[0].length;if(g===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){b.ZH(v,a,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=g,this._prevMatchLength=y,!this._wordSeparators||n(this._wordSeparators,v,a,g,y))return S}while(S);return null}}},59616:function(Ot,Ke,e){"use strict";e.d(Ke,{q:function(){return b}});function b(U,r){let w=0,c=0;const _=U.length;for(;c<_;){const I=U.charCodeAt(c);if(I===32)w++;else if(I===9)w=w-w%r+r;else break;c++}return c===_?-1:w}},20927:function(Ot,Ke,e){"use strict";e.d(Ke,{O:function(){return o}});var b=e(71050),U=e(4669),r=e(22258),w=e(70666),c=e(50187),_=e(24314),I=e(3860),M=e(43155),D=e(70902);class p{static chord(d,n){return(0,r.gx)(d,n)}}p.CtrlCmd=2048,p.Shift=1024,p.Alt=512,p.WinCtrl=256;function o(){return{editor:void 0,languages:void 0,CancellationTokenSource:b.A,Emitter:U.Q5,KeyCode:D.VD,KeyMod:p,Position:c.L,Range:_.e,Selection:I.Y,SelectionDirection:D.a$,MarkerSeverity:D.ZL,MarkerTag:D.eB,Uri:w.o,Token:M.WU}}},85215:function(Ot,Ke,e){"use strict";e.d(Ke,{p:function(){return U}});var b=e(72065);const U=(0,b.yh)("editorWorkerService")},88191:function(Ot,Ke,e){"use strict";e.d(Ke,{A:function(){return o}});var b=e(89954),U=e(43702),r=e(59870),w=e(48814),c=e(65026),_=e(72065),I=e(43557),M=e(66663),D=function(f,v,a,S){var g=arguments.length,y=g<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,a):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,v,a,S);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(y=(g<3?C(y):g>3?C(v,a,y):C(v,a))||y);return g>3&&y&&Object.defineProperty(v,a,y),y},p=function(f,v){return function(a,S){v(a,S,f)}};const o=(0,_.yh)("ILanguageFeatureDebounceService");var u;(function(f){const v=new WeakMap;let a=0;function S(g){let y=v.get(g);return y===void 0&&(y=++a,v.set(g,y)),y}f.of=S})(u||(u={}));class d{constructor(v){this._default=v}get(v){return this._default}update(v,a){return this._default}default(){return this._default}}class n{constructor(v,a,S,g,y,C){this._logService=v,this._name=a,this._registry=S,this._default=g,this._min=y,this._max=C,this._cache=new U.z6(50,.7)}_key(v){return v.id+this._registry.all(v).reduce((a,S)=>(0,b.SP)(u.of(S),a),0)}get(v){const a=this._key(v),S=this._cache.get(a);return S?(0,r.uZ)(S.value,this._min,this._max):this.default()}update(v,a){const S=this._key(v);let g=this._cache.get(S);g||(g=new r.N(6),this._cache.set(S,g));const y=(0,r.uZ)(g.update(a),this._min,this._max);return(0,M.xn)(v.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${v.uri.toString()} is ${y}ms`),y}_overall(){const v=new r.nM;for(const[,a]of this._cache)v.update(a.value);return v.value}default(){const v=this._overall()|0||this._default;return(0,r.uZ)(v,this._min,this._max)}}let i=class{constructor(v,a){this._logService=v,this._data=new Map,this._isDev=a.isExtensionDevelopment||!a.isBuilt}for(v,a,S){var g,y,C;const E=(g=S==null?void 0:S.min)!==null&&g!==void 0?g:50,A=(y=S==null?void 0:S.max)!==null&&y!==void 0?y:aa(E,2),N=(C=S==null?void 0:S.key)!==null&&C!==void 0?C:void 0,B=`${u.of(v)},${E}${N?","+N:""}`;let W=this._data.get(B);return W||(this._isDev?W=new n(this._logService,a,v,this._overallAverage()|0||E*1.5,E,A):(this._logService.debug(`[DEBOUNCE: ${a}] is disabled in developed mode`),W=new d(E*1.5)),this._data.set(B,W)),W}_overallAverage(){const v=new r.nM;for(const a of this._data.values())v.update(a.default());return v.value}};i=D([p(0,I.VZ),p(1,w.Y)],i),(0,c.z)(o,i,1)},71922:function(Ot,Ke,e){"use strict";e.d(Ke,{p:function(){return U}});var b=e(72065);const U=(0,b.yh)("ILanguageFeaturesService")},36357:function(Ot,Ke,e){"use strict";e.d(Ke,{i:function(){return U}});var b=e(72065);const U=(0,b.yh)("markerDecorationsService")},73733:function(Ot,Ke,e){"use strict";e.d(Ke,{q:function(){return U}});var b=e(72065);const U=(0,b.yh)("modelService")},88216:function(Ot,Ke,e){"use strict";e.d(Ke,{S:function(){return U}});var b=e(72065);const U=(0,b.yh)("textModelService")},68997:function(Ot,Ke,e){"use strict";e.d(Ke,{$:function(){return d},h:function(){return n}});var b=e(45797),U=e(97781),r=e(43557),w=e(50187),c=e(24314),_=e(23795);class I{static create(a,S){return new I(a,new M(S))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(a,S){this._startLineNumber=a,this._tokens=S,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(a){return this._startLineNumber<=a&&a<=this._endLineNumber?this._tokens.getLineTokens(a-this._startLineNumber):null}getRange(){const a=this._tokens.getRange();return a&&new c.e(this._startLineNumber+a.startLineNumber,a.startColumn,this._startLineNumber+a.endLineNumber,a.endColumn)}removeTokens(a){const S=a.startLineNumber-this._startLineNumber,g=a.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(S,a.startColumn-1,g,a.endColumn-1),this._updateEndLineNumber()}split(a){const S=a.startLineNumber-this._startLineNumber,g=a.endLineNumber-this._startLineNumber,[y,C,E]=this._tokens.split(S,a.startColumn-1,g,a.endColumn-1);return[new I(this._startLineNumber,y),new I(this._startLineNumber+E,C)]}applyEdit(a,S){const[g,y,C]=(0,_.Q)(S);this.acceptEdit(a,g,y,C,S.length>0?S.charCodeAt(0):0)}acceptEdit(a,S,g,y,C){this._acceptDeleteRange(a),this._acceptInsertText(new w.L(a.startLineNumber,a.startColumn),S,g,y,C),this._updateEndLineNumber()}_acceptDeleteRange(a){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return;const S=a.startLineNumber-this._startLineNumber,g=a.endLineNumber-this._startLineNumber;if(g<0){const C=g-S;this._startLineNumber-=C;return}const y=this._tokens.getMaxDeltaLine();if(!(S>=y+1)){if(S<0&&g>=y+1){this._startLineNumber=0,this._tokens.clear();return}if(S<0){const C=-S;this._startLineNumber-=C,this._tokens.acceptDeleteRange(a.startColumn-1,0,0,g,a.endColumn-1)}else this._tokens.acceptDeleteRange(0,S,a.startColumn-1,g,a.endColumn-1)}}_acceptInsertText(a,S,g,y,C){if(S===0&&g===0)return;const E=a.lineNumber-this._startLineNumber;if(E<0){this._startLineNumber+=S;return}const A=this._tokens.getMaxDeltaLine();E>=A+1||this._tokens.acceptInsertText(E,a.column-1,S,g,y,C)}}class M{constructor(a){this._tokens=a,this._tokenCount=a.length/4}toString(a){const S=[];for(let g=0;g<this._tokenCount;g++)S.push(`(${this._getDeltaLine(g)+a},${this._getStartCharacter(g)}-${this._getEndCharacter(g)})`);return`[${S.join(",")}]`}getMaxDeltaLine(){const a=this._getTokenCount();return a===0?-1:this._getDeltaLine(a-1)}getRange(){const a=this._getTokenCount();if(a===0)return null;const S=this._getStartCharacter(0),g=this._getDeltaLine(a-1),y=this._getEndCharacter(a-1);return new c.e(0,S+1,g,y+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(a){return this._tokens[4*a]}_getStartCharacter(a){return this._tokens[4*a+1]}_getEndCharacter(a){return this._tokens[4*a+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(a){let S=0,g=this._getTokenCount()-1;for(;S<g;){const y=S+Math.floor((g-S)/2),C=this._getDeltaLine(y);if(C<a)S=y+1;else if(C>a)g=y-1;else{let E=y;for(;E>S&&this._getDeltaLine(E-1)===a;)E--;let A=y;for(;A<g&&this._getDeltaLine(A+1)===a;)A++;return new D(this._tokens.subarray(4*E,4*A+4))}}return this._getDeltaLine(S)===a?new D(this._tokens.subarray(4*S,4*S+4)):null}clear(){this._tokenCount=0}removeTokens(a,S,g,y){const C=this._tokens,E=this._tokenCount;let A=0,N=!1,B=0;for(let W=0;W<E;W++){const $=4*W,Y=C[$],R=C[$+1],L=C[$+2],z=C[$+3];if((Y>a||Y===a&&L>=S)&&(Y<g||Y===g&&R<=y))N=!0;else{if(A===0&&(B=Y),N){const O=4*A;C[O]=Y-B,C[O+1]=R,C[O+2]=L,C[O+3]=z}A++}}return this._tokenCount=A,B}split(a,S,g,y){const C=this._tokens,E=this._tokenCount,A=[],N=[];let B=A,W=0,$=0;for(let Y=0;Y<E;Y++){const R=4*Y,L=C[R],z=C[R+1],O=C[R+2],P=C[R+3];if(L>a||L===a&&O>=S){if(L<g||L===g&&z<=y)continue;B!==N&&(B=N,W=0,$=L)}B[W++]=L-$,B[W++]=z,B[W++]=O,B[W++]=P}return[new M(new Uint32Array(A)),new M(new Uint32Array(N)),$]}acceptDeleteRange(a,S,g,y,C){const E=this._tokens,A=this._tokenCount,N=y-S;let B=0,W=!1;for(let $=0;$<A;$++){const Y=4*$;let R=E[Y],L=E[Y+1],z=E[Y+2];const O=E[Y+3];if(R<S||R===S&&z<=g){B++;continue}else if(R===S&&L<g)R===y&&z>C?z-=C-g:z=g;else if(R===S&&L===g)if(R===y&&z>C)z-=C-g;else{W=!0;continue}else if(R<y||R===y&&L<C)if(R===y&&z>C)R=S,L=g,z=L+(z-C);else{W=!0;continue}else if(R>y){if(N===0&&!W){B=A;break}R-=N}else if(R===y&&L>=C)a&&R===0&&(L+=a,z+=a),R-=N,L-=C-g,z-=C-g;else throw new Error("Not possible!");const P=4*B;E[P]=R,E[P+1]=L,E[P+2]=z,E[P+3]=O,B++}this._tokenCount=B}acceptInsertText(a,S,g,y,C,E){const A=g===0&&y===1&&(E>=48&&E<=57||E>=65&&E<=90||E>=97&&E<=122),N=this._tokens,B=this._tokenCount;for(let W=0;W<B;W++){const $=4*W;let Y=N[$],R=N[$+1],L=N[$+2];if(!(Y<a||Y===a&&L<S)){if(Y===a&&L===S)if(A)L+=1;else continue;else if(Y===a&&R<S&&S<L)g===0?L+=y:L=S;else{if(Y===a&&R===S&&A)continue;if(Y===a)if(Y+=g,g===0)R+=y,L+=y;else{const z=L-R;R=C+(R-S),L=R+z}else Y+=g}N[$]=Y,N[$+1]=R,N[$+2]=L}}}}class D{constructor(a){this._tokens=a}getCount(){return this._tokens.length/4}getStartCharacter(a){return this._tokens[4*a+1]}getEndCharacter(a){return this._tokens[4*a+2]}getMetadata(a){return this._tokens[4*a+3]}}var p=e(72042),o=function(v,a,S,g){var y=arguments.length,C=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,S):g,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(v,a,S,g);else for(var A=v.length-1;A>=0;A--)(E=v[A])&&(C=(y<3?E(C):y>3?E(a,S,C):E(a,S))||C);return y>3&&C&&Object.defineProperty(a,S,C),C},u=function(v,a){return function(S,g){a(S,g,v)}};let d=class{constructor(a,S,g,y){this._legend=a,this._themeService=S,this._languageService=g,this._logService=y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new f}getMetadata(a,S,g){const y=this._languageService.languageIdCodec.encodeLanguageId(g),C=this._hashTable.get(a,S,y);let E;if(C)E=C.metadata,this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${a} / ${S}: foreground ${b.N.getForeground(E)}, fontStyle ${b.N.getFontStyle(E).toString(2)}`);else{let A=this._legend.tokenTypes[a];const N=[];if(A){let B=S;for(let $=0;B>0&&$<this._legend.tokenModifiers.length;$++)B&1&&N.push(this._legend.tokenModifiers[$]),B=B>>1;B>0&&this._logService.getLevel()===r.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${S.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),N.push("not-in-legend"));const W=this._themeService.getColorTheme().getTokenStyleMetadata(A,N,g);if(typeof W=="undefined")E=2147483647;else{if(E=0,typeof W.italic!="undefined"){const $=(W.italic?1:0)<<11;E|=$|1}if(typeof W.bold!="undefined"){const $=(W.bold?2:0)<<11;E|=$|2}if(typeof W.underline!="undefined"){const $=(W.underline?4:0)<<11;E|=$|4}if(typeof W.strikethrough!="undefined"){const $=(W.strikethrough?8:0)<<11;E|=$|8}if(W.foreground){const $=W.foreground<<15;E|=$|16}E===0&&(E=2147483647)}}else this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${a} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),E=2147483647,A="not-in-legend";this._hashTable.add(a,S,y,E),this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${a} (${A}) / ${S} (${N.join(" ")}): foreground ${b.N.getForeground(E)}, fontStyle ${b.N.getFontStyle(E).toString(2)}`)}return E}warnOverlappingSemanticTokens(a,S){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${a}, column ${S}`))}warnInvalidLengthSemanticTokens(a,S){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${a}, column ${S}`))}warnInvalidEditStart(a,S,g,y,C){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${a}, resultId: ${S}) at edit #${g}: The provided start offset ${y} is outside the previous data (length ${C}).`))}};d=o([u(1,U.XE),u(2,p.O),u(3,r.VZ)],d);function n(v,a,S){const g=v.data,y=v.data.length/5|0,C=Math.max(Math.ceil(y/1024),400),E=[];let A=0,N=1,B=0;for(;A<y;){const W=A;let $=Math.min(W+C,y);if($<y){let H=$;for(;H-1>W&&g[5*H]===0;)H--;if(H-1===W){let V=$;for(;V+1<y&&g[5*V]===0;)V++;$=V}else $=H}let Y=new Uint32Array(($-W)*4),R=0,L=0,z=0,O=0;for(;A<$;){const H=5*A,V=g[H],G=g[H+1],j=N+V|0,F=V===0?B+G|0:G,K=g[H+2],m=F+K|0,J=g[H+3],X=g[H+4];if(m<=F)a.warnInvalidLengthSemanticTokens(j,F+1);else if(z===j&&O>F)a.warnOverlappingSemanticTokens(j,F+1);else{const te=a.getMetadata(J,X,S);te!==2147483647&&(L===0&&(L=j),Y[R]=j-L,Y[R+1]=F,Y[R+2]=m,Y[R+3]=te,R+=4,z=j,O=m)}N=j,B=F,A++}R!==Y.length&&(Y=Y.subarray(0,R));const P=I.create(L,Y);E.push(P)}return E}class i{constructor(a,S,g,y){this.tokenTypeIndex=a,this.tokenModifierSet=S,this.languageId=g,this.metadata=y,this.next=null}}class f{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=f._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<f._SIZES.length?2/3*this._currentLength:0),this._elements=[],f._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(a,S){for(let g=0;g<S;g++)a[g]=null}_hash2(a,S){return(a<<5)-a+S|0}_hashFunc(a,S,g){return this._hash2(this._hash2(a,S),g)%this._currentLength}get(a,S,g){const y=this._hashFunc(a,S,g);let C=this._elements[y];for(;C;){if(C.tokenTypeIndex===a&&C.tokenModifierSet===S&&C.languageId===g)return C;C=C.next}return null}add(a,S,g,y){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const C=this._elements;this._currentLengthIndex++,this._currentLength=f._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<f._SIZES.length?2/3*this._currentLength:0),this._elements=[],f._nullOutEntries(this._elements,this._currentLength);for(const E of C){let A=E;for(;A;){const N=A.next;A.next=null,this._add(A),A=N}}}this._add(new i(a,S,g,y))}_add(a){const S=this._hashFunc(a.tokenTypeIndex,a.tokenModifierSet,a.languageId);a.next=this._elements[S],this._elements[S]=a}}f._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},73343:function(Ot,Ke,e){"use strict";e.d(Ke,{s:function(){return U}});var b=e(72065);const U=(0,b.yh)("semanticTokensStylingService")},71765:function(Ot,Ke,e){"use strict";e.d(Ke,{V:function(){return U},y:function(){return r}});var b=e(72065);const U=(0,b.yh)("textResourceConfigurationService"),r=(0,b.yh)("textResourcePropertiesService")},31446:function(Ot,Ke,e){"use strict";e.d(Ke,{a:function(){return _}});var b=e(24314),U=e(77277),r=e(97295),w=e(35146),c=e(270);class _{static computeUnicodeHighlights(o,u,d){const n=d?d.startLineNumber:1,i=d?d.endLineNumber:o.getLineCount(),f=new M(u),v=f.getCandidateCodePoints();let a;v==="allNonBasicAscii"?a=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):a=new RegExp(`${I(Array.from(v))}`,"g");const S=new U.sz(null,a),g=[];let y=!1,C,E=0,A=0,N=0;e:for(let B=n,W=i;B<=W;B++){const $=o.getLineContent(B),Y=$.length;S.reset(0);do if(C=S.next($),C){let R=C.index,L=C.index+C[0].length;if(R>0){const H=$.charCodeAt(R-1);r.ZG(H)&&R--}if(L+1<Y){const H=$.charCodeAt(L-1);r.ZG(H)&&L++}const z=$.substring(R,L);let O=(0,c.t2)(R+1,c.Af,$,0);O&&O.endColumn<=R+1&&(O=null);const P=f.shouldHighlightNonBasicASCII(z,O?O.word:null);if(P!==0){P===3?E++:P===2?A++:P===1?N++:(0,w.vE)(P);const H=1e3;if(g.length>=H){y=!0;break e}g.push(new b.e(B,R+1,B,L+1))}}while(C)}return{ranges:g,hasMore:y,ambiguousCharacterCount:E,invisibleCharacterCount:A,nonBasicAsciiCharacterCount:N}}static computeUnicodeHighlightReason(o,u){const d=new M(u);switch(d.shouldHighlightNonBasicASCII(o,null)){case 0:return null;case 2:return{kind:1};case 3:{const i=o.codePointAt(0),f=d.ambiguousCharacters.getPrimaryConfusable(i),v=r.ZK.getLocales().filter(a=>!r.ZK.getInstance(new Set([...u.allowedLocales,a])).isAmbiguous(i));return{kind:0,confusableWith:String.fromCodePoint(f),notAmbiguousInLocales:v}}case 1:return{kind:2}}}}function I(p,o){return`[${r.ec(p.map(d=>String.fromCodePoint(d)).join(""))}]`}class M{constructor(o){this.options=o,this.allowedCodePoints=new Set(o.allowedCodePoints),this.ambiguousCharacters=r.ZK.getInstance(new Set(o.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const o=new Set;if(this.options.invisibleCharacters)for(const u of r.vU.codePoints)D(String.fromCodePoint(u))||o.add(u);if(this.options.ambiguousCharacters)for(const u of this.ambiguousCharacters.getConfusableCodePoints())o.add(u);for(const u of this.allowedCodePoints)o.delete(u);return o}shouldHighlightNonBasicASCII(o,u){const d=o.codePointAt(0);if(this.allowedCodePoints.has(d))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,i=!1;if(u)for(const f of u){const v=f.codePointAt(0),a=r.$i(f);n=n||a,!a&&!this.ambiguousCharacters.isAmbiguous(v)&&!r.vU.isInvisibleCharacter(v)&&(i=!0)}return!n&&i?0:this.options.invisibleCharacters&&!D(o)&&r.vU.isInvisibleCharacter(d)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(d)?3:0}}function D(p){return p===" "||p===`
`||p==="	"}},20913:function(Ot,Ke,e){"use strict";e.d(Ke,{B8:function(){return I},UX:function(){return c},aq:function(){return _},iN:function(){return D},ld:function(){return w},qq:function(){return r},ug:function(){return U},xi:function(){return M}});var b=e(63580),U;(function(p){p.inspectTokensAction=b.NC("inspectTokens","Developer: Inspect Tokens")})(U||(U={}));var r;(function(p){p.gotoLineActionLabel=b.NC("gotoLineActionLabel","Go to Line/Column...")})(r||(r={}));var w;(function(p){p.helpQuickAccessActionLabel=b.NC("helpQuickAccess","Show all Quick Access Providers")})(w||(w={}));var c;(function(p){p.quickCommandActionLabel=b.NC("quickCommandActionLabel","Command Palette"),p.quickCommandHelp=b.NC("quickCommandActionHelp","Show And Run Commands")})(c||(c={}));var _;(function(p){p.quickOutlineActionLabel=b.NC("quickOutlineActionLabel","Go to Symbol..."),p.quickOutlineByCategoryActionLabel=b.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(_||(_={}));var I;(function(p){p.editorViewAccessibleLabel=b.NC("editorViewAccessibleLabel","Editor content"),p.accessibilityHelpMessage=b.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(I||(I={}));var M;(function(p){p.toggleHighContrast=b.NC("toggleHighContrast","Toggle High Contrast Theme")})(M||(M={}));var D;(function(p){p.bulkEditServiceSummary=b.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(D||(D={}))},70902:function(Ot,Ke,e){"use strict";e.d(Ke,{E$:function(){return N},F5:function(){return E},Ij:function(){return _},In:function(){return G},JO:function(){return O},Lu:function(){return $},MG:function(){return A},MY:function(){return p},OI:function(){return F},RM:function(){return v},U:function(){return i},VD:function(){return g},Vi:function(){return M},WW:function(){return P},ZL:function(){return y},_x:function(){return D},a$:function(){return z},a7:function(){return r},ao:function(){return b},bw:function(){return S},cR:function(){return H},cm:function(){return w},d2:function(){return j},eB:function(){return C},g4:function(){return R},g_:function(){return L},gl:function(){return a},gm:function(){return d},jl:function(){return n},np:function(){return U},py:function(){return W},r3:function(){return I},r4:function(){return V},rf:function(){return o},sh:function(){return B},up:function(){return K},vQ:function(){return Y},wT:function(){return u},wU:function(){return f},we:function(){return c}});var b;(function(m){m[m.Unknown=0]="Unknown",m[m.Disabled=1]="Disabled",m[m.Enabled=2]="Enabled"})(b||(b={}));var U;(function(m){m[m.Invoke=1]="Invoke",m[m.Auto=2]="Auto"})(U||(U={}));var r;(function(m){m[m.None=0]="None",m[m.KeepWhitespace=1]="KeepWhitespace",m[m.InsertAsSnippet=4]="InsertAsSnippet"})(r||(r={}));var w;(function(m){m[m.Method=0]="Method",m[m.Function=1]="Function",m[m.Constructor=2]="Constructor",m[m.Field=3]="Field",m[m.Variable=4]="Variable",m[m.Class=5]="Class",m[m.Struct=6]="Struct",m[m.Interface=7]="Interface",m[m.Module=8]="Module",m[m.Property=9]="Property",m[m.Event=10]="Event",m[m.Operator=11]="Operator",m[m.Unit=12]="Unit",m[m.Value=13]="Value",m[m.Constant=14]="Constant",m[m.Enum=15]="Enum",m[m.EnumMember=16]="EnumMember",m[m.Keyword=17]="Keyword",m[m.Text=18]="Text",m[m.Color=19]="Color",m[m.File=20]="File",m[m.Reference=21]="Reference",m[m.Customcolor=22]="Customcolor",m[m.Folder=23]="Folder",m[m.TypeParameter=24]="TypeParameter",m[m.User=25]="User",m[m.Issue=26]="Issue",m[m.Snippet=27]="Snippet"})(w||(w={}));var c;(function(m){m[m.Deprecated=1]="Deprecated"})(c||(c={}));var _;(function(m){m[m.Invoke=0]="Invoke",m[m.TriggerCharacter=1]="TriggerCharacter",m[m.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(_||(_={}));var I;(function(m){m[m.EXACT=0]="EXACT",m[m.ABOVE=1]="ABOVE",m[m.BELOW=2]="BELOW"})(I||(I={}));var M;(function(m){m[m.NotSet=0]="NotSet",m[m.ContentFlush=1]="ContentFlush",m[m.RecoverFromMarkers=2]="RecoverFromMarkers",m[m.Explicit=3]="Explicit",m[m.Paste=4]="Paste",m[m.Undo=5]="Undo",m[m.Redo=6]="Redo"})(M||(M={}));var D;(function(m){m[m.LF=1]="LF",m[m.CRLF=2]="CRLF"})(D||(D={}));var p;(function(m){m[m.Text=0]="Text",m[m.Read=1]="Read",m[m.Write=2]="Write"})(p||(p={}));var o;(function(m){m[m.None=0]="None",m[m.Keep=1]="Keep",m[m.Brackets=2]="Brackets",m[m.Advanced=3]="Advanced",m[m.Full=4]="Full"})(o||(o={}));var u;(function(m){m[m.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",m[m.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",m[m.accessibilitySupport=2]="accessibilitySupport",m[m.accessibilityPageSize=3]="accessibilityPageSize",m[m.ariaLabel=4]="ariaLabel",m[m.ariaRequired=5]="ariaRequired",m[m.autoClosingBrackets=6]="autoClosingBrackets",m[m.autoClosingComments=7]="autoClosingComments",m[m.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",m[m.autoClosingDelete=9]="autoClosingDelete",m[m.autoClosingOvertype=10]="autoClosingOvertype",m[m.autoClosingQuotes=11]="autoClosingQuotes",m[m.autoIndent=12]="autoIndent",m[m.automaticLayout=13]="automaticLayout",m[m.autoSurround=14]="autoSurround",m[m.bracketPairColorization=15]="bracketPairColorization",m[m.guides=16]="guides",m[m.codeLens=17]="codeLens",m[m.codeLensFontFamily=18]="codeLensFontFamily",m[m.codeLensFontSize=19]="codeLensFontSize",m[m.colorDecorators=20]="colorDecorators",m[m.colorDecoratorsLimit=21]="colorDecoratorsLimit",m[m.columnSelection=22]="columnSelection",m[m.comments=23]="comments",m[m.contextmenu=24]="contextmenu",m[m.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",m[m.cursorBlinking=26]="cursorBlinking",m[m.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",m[m.cursorStyle=28]="cursorStyle",m[m.cursorSurroundingLines=29]="cursorSurroundingLines",m[m.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",m[m.cursorWidth=31]="cursorWidth",m[m.disableLayerHinting=32]="disableLayerHinting",m[m.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",m[m.domReadOnly=34]="domReadOnly",m[m.dragAndDrop=35]="dragAndDrop",m[m.dropIntoEditor=36]="dropIntoEditor",m[m.emptySelectionClipboard=37]="emptySelectionClipboard",m[m.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",m[m.extraEditorClassName=39]="extraEditorClassName",m[m.fastScrollSensitivity=40]="fastScrollSensitivity",m[m.find=41]="find",m[m.fixedOverflowWidgets=42]="fixedOverflowWidgets",m[m.folding=43]="folding",m[m.foldingStrategy=44]="foldingStrategy",m[m.foldingHighlight=45]="foldingHighlight",m[m.foldingImportsByDefault=46]="foldingImportsByDefault",m[m.foldingMaximumRegions=47]="foldingMaximumRegions",m[m.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",m[m.fontFamily=49]="fontFamily",m[m.fontInfo=50]="fontInfo",m[m.fontLigatures=51]="fontLigatures",m[m.fontSize=52]="fontSize",m[m.fontWeight=53]="fontWeight",m[m.fontVariations=54]="fontVariations",m[m.formatOnPaste=55]="formatOnPaste",m[m.formatOnType=56]="formatOnType",m[m.glyphMargin=57]="glyphMargin",m[m.gotoLocation=58]="gotoLocation",m[m.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",m[m.hover=60]="hover",m[m.inDiffEditor=61]="inDiffEditor",m[m.inlineSuggest=62]="inlineSuggest",m[m.letterSpacing=63]="letterSpacing",m[m.lightbulb=64]="lightbulb",m[m.lineDecorationsWidth=65]="lineDecorationsWidth",m[m.lineHeight=66]="lineHeight",m[m.lineNumbers=67]="lineNumbers",m[m.lineNumbersMinChars=68]="lineNumbersMinChars",m[m.linkedEditing=69]="linkedEditing",m[m.links=70]="links",m[m.matchBrackets=71]="matchBrackets",m[m.minimap=72]="minimap",m[m.mouseStyle=73]="mouseStyle",m[m.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",m[m.mouseWheelZoom=75]="mouseWheelZoom",m[m.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",m[m.multiCursorModifier=77]="multiCursorModifier",m[m.multiCursorPaste=78]="multiCursorPaste",m[m.multiCursorLimit=79]="multiCursorLimit",m[m.occurrencesHighlight=80]="occurrencesHighlight",m[m.overviewRulerBorder=81]="overviewRulerBorder",m[m.overviewRulerLanes=82]="overviewRulerLanes",m[m.padding=83]="padding",m[m.pasteAs=84]="pasteAs",m[m.parameterHints=85]="parameterHints",m[m.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",m[m.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",m[m.quickSuggestions=88]="quickSuggestions",m[m.quickSuggestionsDelay=89]="quickSuggestionsDelay",m[m.readOnly=90]="readOnly",m[m.readOnlyMessage=91]="readOnlyMessage",m[m.renameOnType=92]="renameOnType",m[m.renderControlCharacters=93]="renderControlCharacters",m[m.renderFinalNewline=94]="renderFinalNewline",m[m.renderLineHighlight=95]="renderLineHighlight",m[m.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",m[m.renderValidationDecorations=97]="renderValidationDecorations",m[m.renderWhitespace=98]="renderWhitespace",m[m.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",m[m.roundedSelection=100]="roundedSelection",m[m.rulers=101]="rulers",m[m.scrollbar=102]="scrollbar",m[m.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",m[m.scrollBeyondLastLine=104]="scrollBeyondLastLine",m[m.scrollPredominantAxis=105]="scrollPredominantAxis",m[m.selectionClipboard=106]="selectionClipboard",m[m.selectionHighlight=107]="selectionHighlight",m[m.selectOnLineNumbers=108]="selectOnLineNumbers",m[m.showFoldingControls=109]="showFoldingControls",m[m.showUnused=110]="showUnused",m[m.snippetSuggestions=111]="snippetSuggestions",m[m.smartSelect=112]="smartSelect",m[m.smoothScrolling=113]="smoothScrolling",m[m.stickyScroll=114]="stickyScroll",m[m.stickyTabStops=115]="stickyTabStops",m[m.stopRenderingLineAfter=116]="stopRenderingLineAfter",m[m.suggest=117]="suggest",m[m.suggestFontSize=118]="suggestFontSize",m[m.suggestLineHeight=119]="suggestLineHeight",m[m.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",m[m.suggestSelection=121]="suggestSelection",m[m.tabCompletion=122]="tabCompletion",m[m.tabIndex=123]="tabIndex",m[m.unicodeHighlighting=124]="unicodeHighlighting",m[m.unusualLineTerminators=125]="unusualLineTerminators",m[m.useShadowDOM=126]="useShadowDOM",m[m.useTabStops=127]="useTabStops",m[m.wordBreak=128]="wordBreak",m[m.wordSeparators=129]="wordSeparators",m[m.wordWrap=130]="wordWrap",m[m.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",m[m.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",m[m.wordWrapColumn=133]="wordWrapColumn",m[m.wordWrapOverride1=134]="wordWrapOverride1",m[m.wordWrapOverride2=135]="wordWrapOverride2",m[m.wrappingIndent=136]="wrappingIndent",m[m.wrappingStrategy=137]="wrappingStrategy",m[m.showDeprecated=138]="showDeprecated",m[m.inlayHints=139]="inlayHints",m[m.editorClassName=140]="editorClassName",m[m.pixelRatio=141]="pixelRatio",m[m.tabFocusMode=142]="tabFocusMode",m[m.layoutInfo=143]="layoutInfo",m[m.wrappingInfo=144]="wrappingInfo",m[m.defaultColorDecorators=145]="defaultColorDecorators",m[m.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",m[m.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(u||(u={}));var d;(function(m){m[m.TextDefined=0]="TextDefined",m[m.LF=1]="LF",m[m.CRLF=2]="CRLF"})(d||(d={}));var n;(function(m){m[m.LF=0]="LF",m[m.CRLF=1]="CRLF"})(n||(n={}));var i;(function(m){m[m.Left=1]="Left",m[m.Right=2]="Right"})(i||(i={}));var f;(function(m){m[m.None=0]="None",m[m.Indent=1]="Indent",m[m.IndentOutdent=2]="IndentOutdent",m[m.Outdent=3]="Outdent"})(f||(f={}));var v;(function(m){m[m.Both=0]="Both",m[m.Right=1]="Right",m[m.Left=2]="Left",m[m.None=3]="None"})(v||(v={}));var a;(function(m){m[m.Type=1]="Type",m[m.Parameter=2]="Parameter"})(a||(a={}));var S;(function(m){m[m.Automatic=0]="Automatic",m[m.Explicit=1]="Explicit"})(S||(S={}));var g;(function(m){m[m.DependsOnKbLayout=-1]="DependsOnKbLayout",m[m.Unknown=0]="Unknown",m[m.Backspace=1]="Backspace",m[m.Tab=2]="Tab",m[m.Enter=3]="Enter",m[m.Shift=4]="Shift",m[m.Ctrl=5]="Ctrl",m[m.Alt=6]="Alt",m[m.PauseBreak=7]="PauseBreak",m[m.CapsLock=8]="CapsLock",m[m.Escape=9]="Escape",m[m.Space=10]="Space",m[m.PageUp=11]="PageUp",m[m.PageDown=12]="PageDown",m[m.End=13]="End",m[m.Home=14]="Home",m[m.LeftArrow=15]="LeftArrow",m[m.UpArrow=16]="UpArrow",m[m.RightArrow=17]="RightArrow",m[m.DownArrow=18]="DownArrow",m[m.Insert=19]="Insert",m[m.Delete=20]="Delete",m[m.Digit0=21]="Digit0",m[m.Digit1=22]="Digit1",m[m.Digit2=23]="Digit2",m[m.Digit3=24]="Digit3",m[m.Digit4=25]="Digit4",m[m.Digit5=26]="Digit5",m[m.Digit6=27]="Digit6",m[m.Digit7=28]="Digit7",m[m.Digit8=29]="Digit8",m[m.Digit9=30]="Digit9",m[m.KeyA=31]="KeyA",m[m.KeyB=32]="KeyB",m[m.KeyC=33]="KeyC",m[m.KeyD=34]="KeyD",m[m.KeyE=35]="KeyE",m[m.KeyF=36]="KeyF",m[m.KeyG=37]="KeyG",m[m.KeyH=38]="KeyH",m[m.KeyI=39]="KeyI",m[m.KeyJ=40]="KeyJ",m[m.KeyK=41]="KeyK",m[m.KeyL=42]="KeyL",m[m.KeyM=43]="KeyM",m[m.KeyN=44]="KeyN",m[m.KeyO=45]="KeyO",m[m.KeyP=46]="KeyP",m[m.KeyQ=47]="KeyQ",m[m.KeyR=48]="KeyR",m[m.KeyS=49]="KeyS",m[m.KeyT=50]="KeyT",m[m.KeyU=51]="KeyU",m[m.KeyV=52]="KeyV",m[m.KeyW=53]="KeyW",m[m.KeyX=54]="KeyX",m[m.KeyY=55]="KeyY",m[m.KeyZ=56]="KeyZ",m[m.Meta=57]="Meta",m[m.ContextMenu=58]="ContextMenu",m[m.F1=59]="F1",m[m.F2=60]="F2",m[m.F3=61]="F3",m[m.F4=62]="F4",m[m.F5=63]="F5",m[m.F6=64]="F6",m[m.F7=65]="F7",m[m.F8=66]="F8",m[m.F9=67]="F9",m[m.F10=68]="F10",m[m.F11=69]="F11",m[m.F12=70]="F12",m[m.F13=71]="F13",m[m.F14=72]="F14",m[m.F15=73]="F15",m[m.F16=74]="F16",m[m.F17=75]="F17",m[m.F18=76]="F18",m[m.F19=77]="F19",m[m.F20=78]="F20",m[m.F21=79]="F21",m[m.F22=80]="F22",m[m.F23=81]="F23",m[m.F24=82]="F24",m[m.NumLock=83]="NumLock",m[m.ScrollLock=84]="ScrollLock",m[m.Semicolon=85]="Semicolon",m[m.Equal=86]="Equal",m[m.Comma=87]="Comma",m[m.Minus=88]="Minus",m[m.Period=89]="Period",m[m.Slash=90]="Slash",m[m.Backquote=91]="Backquote",m[m.BracketLeft=92]="BracketLeft",m[m.Backslash=93]="Backslash",m[m.BracketRight=94]="BracketRight",m[m.Quote=95]="Quote",m[m.OEM_8=96]="OEM_8",m[m.IntlBackslash=97]="IntlBackslash",m[m.Numpad0=98]="Numpad0",m[m.Numpad1=99]="Numpad1",m[m.Numpad2=100]="Numpad2",m[m.Numpad3=101]="Numpad3",m[m.Numpad4=102]="Numpad4",m[m.Numpad5=103]="Numpad5",m[m.Numpad6=104]="Numpad6",m[m.Numpad7=105]="Numpad7",m[m.Numpad8=106]="Numpad8",m[m.Numpad9=107]="Numpad9",m[m.NumpadMultiply=108]="NumpadMultiply",m[m.NumpadAdd=109]="NumpadAdd",m[m.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",m[m.NumpadSubtract=111]="NumpadSubtract",m[m.NumpadDecimal=112]="NumpadDecimal",m[m.NumpadDivide=113]="NumpadDivide",m[m.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",m[m.ABNT_C1=115]="ABNT_C1",m[m.ABNT_C2=116]="ABNT_C2",m[m.AudioVolumeMute=117]="AudioVolumeMute",m[m.AudioVolumeUp=118]="AudioVolumeUp",m[m.AudioVolumeDown=119]="AudioVolumeDown",m[m.BrowserSearch=120]="BrowserSearch",m[m.BrowserHome=121]="BrowserHome",m[m.BrowserBack=122]="BrowserBack",m[m.BrowserForward=123]="BrowserForward",m[m.MediaTrackNext=124]="MediaTrackNext",m[m.MediaTrackPrevious=125]="MediaTrackPrevious",m[m.MediaStop=126]="MediaStop",m[m.MediaPlayPause=127]="MediaPlayPause",m[m.LaunchMediaPlayer=128]="LaunchMediaPlayer",m[m.LaunchMail=129]="LaunchMail",m[m.LaunchApp2=130]="LaunchApp2",m[m.Clear=131]="Clear",m[m.MAX_VALUE=132]="MAX_VALUE"})(g||(g={}));var y;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(y||(y={}));var C;(function(m){m[m.Unnecessary=1]="Unnecessary",m[m.Deprecated=2]="Deprecated"})(C||(C={}));var E;(function(m){m[m.Inline=1]="Inline",m[m.Gutter=2]="Gutter"})(E||(E={}));var A;(function(m){m[m.UNKNOWN=0]="UNKNOWN",m[m.TEXTAREA=1]="TEXTAREA",m[m.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",m[m.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",m[m.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",m[m.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",m[m.CONTENT_TEXT=6]="CONTENT_TEXT",m[m.CONTENT_EMPTY=7]="CONTENT_EMPTY",m[m.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",m[m.CONTENT_WIDGET=9]="CONTENT_WIDGET",m[m.OVERVIEW_RULER=10]="OVERVIEW_RULER",m[m.SCROLLBAR=11]="SCROLLBAR",m[m.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",m[m.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(A||(A={}));var N;(function(m){m[m.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",m[m.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",m[m.TOP_CENTER=2]="TOP_CENTER"})(N||(N={}));var B;(function(m){m[m.Left=1]="Left",m[m.Center=2]="Center",m[m.Right=4]="Right",m[m.Full=7]="Full"})(B||(B={}));var W;(function(m){m[m.Left=0]="Left",m[m.Right=1]="Right",m[m.None=2]="None",m[m.LeftOfInjectedText=3]="LeftOfInjectedText",m[m.RightOfInjectedText=4]="RightOfInjectedText"})(W||(W={}));var $;(function(m){m[m.Off=0]="Off",m[m.On=1]="On",m[m.Relative=2]="Relative",m[m.Interval=3]="Interval",m[m.Custom=4]="Custom"})($||($={}));var Y;(function(m){m[m.None=0]="None",m[m.Text=1]="Text",m[m.Blocks=2]="Blocks"})(Y||(Y={}));var R;(function(m){m[m.Smooth=0]="Smooth",m[m.Immediate=1]="Immediate"})(R||(R={}));var L;(function(m){m[m.Auto=1]="Auto",m[m.Hidden=2]="Hidden",m[m.Visible=3]="Visible"})(L||(L={}));var z;(function(m){m[m.LTR=0]="LTR",m[m.RTL=1]="RTL"})(z||(z={}));var O;(function(m){m.Off="off",m.OnCode="onCode",m.On="on"})(O||(O={}));var P;(function(m){m[m.Invoke=1]="Invoke",m[m.TriggerCharacter=2]="TriggerCharacter",m[m.ContentChange=3]="ContentChange"})(P||(P={}));var H;(function(m){m[m.File=0]="File",m[m.Module=1]="Module",m[m.Namespace=2]="Namespace",m[m.Package=3]="Package",m[m.Class=4]="Class",m[m.Method=5]="Method",m[m.Property=6]="Property",m[m.Field=7]="Field",m[m.Constructor=8]="Constructor",m[m.Enum=9]="Enum",m[m.Interface=10]="Interface",m[m.Function=11]="Function",m[m.Variable=12]="Variable",m[m.Constant=13]="Constant",m[m.String=14]="String",m[m.Number=15]="Number",m[m.Boolean=16]="Boolean",m[m.Array=17]="Array",m[m.Object=18]="Object",m[m.Key=19]="Key",m[m.Null=20]="Null",m[m.EnumMember=21]="EnumMember",m[m.Struct=22]="Struct",m[m.Event=23]="Event",m[m.Operator=24]="Operator",m[m.TypeParameter=25]="TypeParameter"})(H||(H={}));var V;(function(m){m[m.Deprecated=1]="Deprecated"})(V||(V={}));var G;(function(m){m[m.Hidden=0]="Hidden",m[m.Blink=1]="Blink",m[m.Smooth=2]="Smooth",m[m.Phase=3]="Phase",m[m.Expand=4]="Expand",m[m.Solid=5]="Solid"})(G||(G={}));var j;(function(m){m[m.Line=1]="Line",m[m.Block=2]="Block",m[m.Underline=3]="Underline",m[m.LineThin=4]="LineThin",m[m.BlockOutline=5]="BlockOutline",m[m.UnderlineThin=6]="UnderlineThin"})(j||(j={}));var F;(function(m){m[m.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",m[m.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",m[m.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",m[m.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(F||(F={}));var K;(function(m){m[m.None=0]="None",m[m.Same=1]="Same",m[m.Indent=2]="Indent",m[m.DeepIndent=3]="DeepIndent"})(K||(K={}))},14706:function(Ot,Ke,e){"use strict";e.d(Ke,{CZ:function(){return _},D8:function(){return M},Jx:function(){return b},Tx:function(){return c},dQ:function(){return I},fV:function(){return D},gk:function(){return U},lN:function(){return w},rU:function(){return r}});class b{constructor(){this.changeType=1}}class U{static applyInjectedText(o,u){if(!u||u.length===0)return o;let d="",n=0;for(const i of u)d+=o.substring(n,i.column-1),n=i.column-1,d+=i.options.content;return d+=o.substring(n),d}static fromDecorations(o){const u=[];for(const d of o)d.options.before&&d.options.before.content.length>0&&u.push(new U(d.ownerId,d.range.startLineNumber,d.range.startColumn,d.options.before,0)),d.options.after&&d.options.after.content.length>0&&u.push(new U(d.ownerId,d.range.endLineNumber,d.range.endColumn,d.options.after,1));return u.sort((d,n)=>d.lineNumber===n.lineNumber?d.column===n.column?d.order-n.order:d.column-n.column:d.lineNumber-n.lineNumber),u}constructor(o,u,d,n,i){this.ownerId=o,this.lineNumber=u,this.column=d,this.options=n,this.order=i}}class r{constructor(o,u,d){this.changeType=2,this.lineNumber=o,this.detail=u,this.injectedText=d}}class w{constructor(o,u){this.changeType=3,this.fromLineNumber=o,this.toLineNumber=u}}class c{constructor(o,u,d,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=o,this.toLineNumber=u,this.detail=d}}class _{constructor(){this.changeType=5}}class I{constructor(o,u,d,n){this.changes=o,this.versionId=u,this.isUndoing=d,this.isRedoing=n,this.resultingSelection=null}containsEvent(o){for(let u=0,d=this.changes.length;u<d;u++)if(this.changes[u].changeType===o)return!0;return!1}static merge(o,u){const d=[].concat(o.changes).concat(u.changes),n=u.versionId,i=o.isUndoing||u.isUndoing,f=o.isRedoing||u.isRedoing;return new I(d,n,i,f)}}class M{constructor(o){this.changes=o}}class D{constructor(o,u){this.rawContentChangedEvent=o,this.contentChangedEvent=u}merge(o){const u=I.merge(this.rawContentChangedEvent,o.rawContentChangedEvent),d=D._mergeChangeEvents(this.contentChangedEvent,o.contentChangedEvent);return new D(u,d)}static _mergeChangeEvents(o,u){const d=[].concat(o.changes).concat(u.changes),n=u.eol,i=u.versionId,f=o.isUndoing||u.isUndoing,v=o.isRedoing||u.isRedoing,a=o.isFlush||u.isFlush,S=o.isEolChange&&u.isEolChange;return{changes:d,eol:n,isEolChange:S,versionId:i,isUndoing:f,isRedoing:v,isFlush:a}}}},65094:function(Ot,Ke,e){"use strict";e.d(Ke,{UO:function(){return U},s6:function(){return b},vW:function(){return r}});var b;(function(w){w[w.Disabled=0]="Disabled",w[w.EnabledForActive=1]="EnabledForActive",w[w.Enabled=2]="Enabled"})(b||(b={}));class U{constructor(c,_,I,M,D,p){if(this.visibleColumn=c,this.column=_,this.className=I,this.horizontalLine=M,this.forWrappedLinesAfterColumn=D,this.forWrappedLinesBeforeOrAtColumn=p,c!==-1==(_!==-1))throw new Error}}class r{constructor(c,_){this.top=c,this.endColumn=_}}},77378:function(Ot,Ke,e){"use strict";e.d(Ke,{A:function(){return U}});var b=e(45797);class U{static createEmpty(c,_){const I=U.defaultTokenMetadata,M=new Uint32Array(2);return M[0]=c.length,M[1]=I,new U(M,c,_)}constructor(c,_,I){this._lineTokensBrand=void 0,this._tokens=c,this._tokensCount=this._tokens.length>>>1,this._text=_,this._languageIdCodec=I}equals(c){return c instanceof U?this.slicedEquals(c,0,this._tokensCount):!1}slicedEquals(c,_,I){if(this._text!==c._text||this._tokensCount!==c._tokensCount)return!1;const M=_<<1,D=M+(I<<1);for(let p=M;p<D;p++)if(this._tokens[p]!==c._tokens[p])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(c){return c>0?this._tokens[c-1<<1]:0}getMetadata(c){return this._tokens[(c<<1)+1]}getLanguageId(c){const _=this._tokens[(c<<1)+1],I=b.N.getLanguageId(_);return this._languageIdCodec.decodeLanguageId(I)}getStandardTokenType(c){const _=this._tokens[(c<<1)+1];return b.N.getTokenType(_)}getForeground(c){const _=this._tokens[(c<<1)+1];return b.N.getForeground(_)}getClassName(c){const _=this._tokens[(c<<1)+1];return b.N.getClassNameFromMetadata(_)}getInlineStyle(c,_){const I=this._tokens[(c<<1)+1];return b.N.getInlineStyleFromMetadata(I,_)}getPresentation(c){const _=this._tokens[(c<<1)+1];return b.N.getPresentationFromMetadata(_)}getEndOffset(c){return this._tokens[c<<1]}findTokenIndexAtOffset(c){return U.findIndexInTokensArray(this._tokens,c)}inflate(){return this}sliceAndInflate(c,_,I){return new r(this,c,_,I)}static convertToEndOffset(c,_){const M=(c.length>>>1)-1;for(let D=0;D<M;D++)c[D<<1]=c[D+1<<1];c[M<<1]=_}static findIndexInTokensArray(c,_){if(c.length<=2)return 0;let I=0,M=(c.length>>>1)-1;for(;I<M;){const D=I+Math.floor((M-I)/2),p=c[D<<1];if(p===_)return D+1;p<_?I=D+1:p>_&&(M=D)}return I}withInserted(c){if(c.length===0)return this;let _=0,I=0,M="";const D=new Array;let p=0;for(;;){const o=_<this._tokensCount?this._tokens[_<<1]:-1,u=I<c.length?c[I]:null;if(o!==-1&&(u===null||o<=u.offset)){M+=this._text.substring(p,o);const d=this._tokens[(_<<1)+1];D.push(M.length,d),_++,p=o}else if(u){if(u.offset>p){M+=this._text.substring(p,u.offset);const d=this._tokens[(_<<1)+1];D.push(M.length,d),p=u.offset}M+=u.text,D.push(M.length,u.tokenMetadata),I++}else break}return new U(new Uint32Array(D),M,this._languageIdCodec)}}U.defaultTokenMetadata=(32768|2<<24)>>>0;class r{constructor(c,_,I,M){this._source=c,this._startOffset=_,this._endOffset=I,this._deltaOffset=M,this._firstTokenIndex=c.findTokenIndexAtOffset(_),this._tokensCount=0;for(let D=this._firstTokenIndex,p=c.getCount();D<p&&!(c.getStartOffset(D)>=I);D++)this._tokensCount++}getMetadata(c){return this._source.getMetadata(this._firstTokenIndex+c)}getLanguageId(c){return this._source.getLanguageId(this._firstTokenIndex+c)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(c){return c instanceof r?this._startOffset===c._startOffset&&this._endOffset===c._endOffset&&this._deltaOffset===c._deltaOffset&&this._source.slicedEquals(c._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(c){return this._source.getForeground(this._firstTokenIndex+c)}getEndOffset(c){const _=this._source.getEndOffset(this._firstTokenIndex+c);return Math.min(this._endOffset,_)-this._startOffset+this._deltaOffset}getClassName(c){return this._source.getClassName(this._firstTokenIndex+c)}getInlineStyle(c,_){return this._source.getInlineStyle(this._firstTokenIndex+c,_)}getPresentation(c){return this._source.getPresentation(this._firstTokenIndex+c)}findTokenIndexAtOffset(c){return this._source.findTokenIndexAtOffset(c+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},92550:function(Ot,Ke,e){"use strict";e.d(Ke,{Kp:function(){return U},k:function(){return c}});var b=e(97295);class U{constructor(I,M,D,p){this.startColumn=I,this.endColumn=M,this.className=D,this.type=p,this._lineDecorationBrand=void 0}static _equals(I,M){return I.startColumn===M.startColumn&&I.endColumn===M.endColumn&&I.className===M.className&&I.type===M.type}static equalsArr(I,M){const D=I.length,p=M.length;if(D!==p)return!1;for(let o=0;o<D;o++)if(!U._equals(I[o],M[o]))return!1;return!0}static extractWrapped(I,M,D){if(I.length===0)return I;const p=M+1,o=D+1,u=D-M,d=[];let n=0;for(const i of I)i.endColumn<=p||i.startColumn>=o||(d[n++]=new U(Math.max(1,i.startColumn-p+1),Math.min(u+1,i.endColumn-p+1),i.className,i.type));return d}static filter(I,M,D,p){if(I.length===0)return[];const o=[];let u=0;for(let d=0,n=I.length;d<n;d++){const i=I[d],f=i.range;if(f.endLineNumber<M||f.startLineNumber>M||f.isEmpty()&&(i.type===0||i.type===3))continue;const v=f.startLineNumber===M?f.startColumn:D,a=f.endLineNumber===M?f.endColumn:p;o[u++]=new U(v,a,i.inlineClassName,i.type)}return o}static _typeCompare(I,M){const D=[2,0,1,3];return D[I]-D[M]}static compare(I,M){if(I.startColumn!==M.startColumn)return I.startColumn-M.startColumn;if(I.endColumn!==M.endColumn)return I.endColumn-M.endColumn;const D=U._typeCompare(I.type,M.type);return D!==0?D:I.className!==M.className?I.className<M.className?-1:1:0}}class r{constructor(I,M,D,p){this.startOffset=I,this.endOffset=M,this.className=D,this.metadata=p}}class w{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(I){let M=0;for(let D=0,p=I.length;D<p;D++)M|=I[D];return M}consumeLowerThan(I,M,D){for(;this.count>0&&this.stopOffsets[0]<I;){let p=0;for(;p+1<this.count&&this.stopOffsets[p]===this.stopOffsets[p+1];)p++;D.push(new r(M,this.stopOffsets[p],this.classNames.join(" "),w._metadata(this.metadata))),M=this.stopOffsets[p]+1,this.stopOffsets.splice(0,p+1),this.classNames.splice(0,p+1),this.metadata.splice(0,p+1),this.count-=p+1}return this.count>0&&M<I&&(D.push(new r(M,I-1,this.classNames.join(" "),w._metadata(this.metadata))),M=I),M}insert(I,M,D){if(this.count===0||this.stopOffsets[this.count-1]<=I)this.stopOffsets.push(I),this.classNames.push(M),this.metadata.push(D);else for(let p=0;p<this.count;p++)if(this.stopOffsets[p]>=I){this.stopOffsets.splice(p,0,I),this.classNames.splice(p,0,M),this.metadata.splice(p,0,D);break}this.count++}}class c{static normalize(I,M){if(M.length===0)return[];const D=[],p=new w;let o=0;for(let u=0,d=M.length;u<d;u++){const n=M[u];let i=n.startColumn,f=n.endColumn;const v=n.className,a=n.type===1?2:n.type===2?4:0;if(i>1){const y=I.charCodeAt(i-2);b.ZG(y)&&i--}if(f>1){const y=I.charCodeAt(f-2);b.ZG(y)&&f--}const S=i-1,g=f-2;o=p.consumeLowerThan(S,o,D),p.count===0&&(o=S),p.insert(g,v,a)}return p.consumeLowerThan(1073741824,o,D),D}}},72202:function(Ot,Ke,e){"use strict";e.d(Ke,{Nd:function(){return M},zG:function(){return _},IJ:function(){return I},d1:function(){return o},tF:function(){return d}});var b=e(63580),U=e(97295),r=e(50072),w=e(92550);class c{constructor(B,W,$,Y){this.endIndex=B,this.type=W,this.metadata=$,this.containsRTL=Y,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class _{constructor(B,W){this.startOffset=B,this.endOffset=W}equals(B){return this.startOffset===B.startOffset&&this.endOffset===B.endOffset}}class I{constructor(B,W,$,Y,R,L,z,O,P,H,V,G,j,F,K,m,J,X,te){this.useMonospaceOptimizations=B,this.canUseHalfwidthRightwardsArrow=W,this.lineContent=$,this.continuesWithWrappedLine=Y,this.isBasicASCII=R,this.containsRTL=L,this.fauxIndentLength=z,this.lineTokens=O,this.lineDecorations=P.sort(w.Kp.compare),this.tabSize=H,this.startVisibleColumn=V,this.spaceWidth=G,this.stopRenderingLineAfter=K,this.renderWhitespace=m==="all"?4:m==="boundary"?1:m==="selection"?2:m==="trailing"?3:0,this.renderControlCharacters=J,this.fontLigatures=X,this.selectionsOnLine=te&&te.sort((we,pe)=>we.startOffset<pe.startOffset?-1:1);const le=Math.abs(F-G),ge=Math.abs(j-G);le<ge?(this.renderSpaceWidth=F,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=j,this.renderSpaceCharCode=183)}sameSelection(B){if(this.selectionsOnLine===null)return B===null;if(B===null||B.length!==this.selectionsOnLine.length)return!1;for(let W=0;W<this.selectionsOnLine.length;W++)if(!this.selectionsOnLine[W].equals(B[W]))return!1;return!0}equals(B){return this.useMonospaceOptimizations===B.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===B.canUseHalfwidthRightwardsArrow&&this.lineContent===B.lineContent&&this.continuesWithWrappedLine===B.continuesWithWrappedLine&&this.isBasicASCII===B.isBasicASCII&&this.containsRTL===B.containsRTL&&this.fauxIndentLength===B.fauxIndentLength&&this.tabSize===B.tabSize&&this.startVisibleColumn===B.startVisibleColumn&&this.spaceWidth===B.spaceWidth&&this.renderSpaceWidth===B.renderSpaceWidth&&this.renderSpaceCharCode===B.renderSpaceCharCode&&this.stopRenderingLineAfter===B.stopRenderingLineAfter&&this.renderWhitespace===B.renderWhitespace&&this.renderControlCharacters===B.renderControlCharacters&&this.fontLigatures===B.fontLigatures&&w.Kp.equalsArr(this.lineDecorations,B.lineDecorations)&&this.lineTokens.equals(B.lineTokens)&&this.sameSelection(B.selectionsOnLine)}}class M{constructor(B,W){this.partIndex=B,this.charIndex=W}}class D{static getPartIndex(B){return(B&4294901760)>>>16}static getCharIndex(B){return(B&65535)>>>0}constructor(B,W){this.length=B,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(B,W,$,Y){const R=(W<<16|$<<0)>>>0;this._data[B-1]=R,this._horizontalOffset[B-1]=Y}getHorizontalOffset(B){return this._horizontalOffset.length===0?0:this._horizontalOffset[B-1]}charOffsetToPartData(B){return this.length===0?0:B<0?this._data[0]:B>=this.length?this._data[this.length-1]:this._data[B]}getDomPosition(B){const W=this.charOffsetToPartData(B-1),$=D.getPartIndex(W),Y=D.getCharIndex(W);return new M($,Y)}getColumn(B,W){return this.partDataToCharOffset(B.partIndex,W,B.charIndex)+1}partDataToCharOffset(B,W,$){if(this.length===0)return 0;const Y=(B<<16|$<<0)>>>0;let R=0,L=this.length-1;for(;R+1<L;){const K=R+L>>>1,m=this._data[K];if(m===Y)return K;m>Y?L=K:R=K}if(R===L)return R;const z=this._data[R],O=this._data[L];if(z===Y)return R;if(O===Y)return L;const P=D.getPartIndex(z),H=D.getCharIndex(z),V=D.getPartIndex(O);let G;P!==V?G=W:G=D.getCharIndex(O);const j=$-H,F=G-$;return j<=F?R:L}}class p{constructor(B,W,$){this._renderLineOutputBrand=void 0,this.characterMapping=B,this.containsRTL=W,this.containsForeignElements=$}}function o(N,B){if(N.lineContent.length===0){if(N.lineDecorations.length>0){B.appendString("<span>");let W=0,$=0,Y=0;for(const L of N.lineDecorations)(L.type===1||L.type===2)&&(B.appendString('<span class="'),B.appendString(L.className),B.appendString('"></span>'),L.type===1&&(Y|=1,W++),L.type===2&&(Y|=2,$++));B.appendString("</span>");const R=new D(1,W+$);return R.setColumnInfo(1,W,0,0),new p(R,!1,Y)}return B.appendString("<span><span></span></span>"),new p(new D(0,0),!1,0)}return C(i(N),B)}class u{constructor(B,W,$,Y){this.characterMapping=B,this.html=W,this.containsRTL=$,this.containsForeignElements=Y}}function d(N){const B=new r.HT(1e4),W=o(N,B);return new u(W.characterMapping,B.build(),W.containsRTL,W.containsForeignElements)}class n{constructor(B,W,$,Y,R,L,z,O,P,H,V,G,j,F,K,m){this.fontIsMonospace=B,this.canUseHalfwidthRightwardsArrow=W,this.lineContent=$,this.len=Y,this.isOverflowing=R,this.overflowingCharCount=L,this.parts=z,this.containsForeignElements=O,this.fauxIndentLength=P,this.tabSize=H,this.startVisibleColumn=V,this.containsRTL=G,this.spaceWidth=j,this.renderSpaceCharCode=F,this.renderWhitespace=K,this.renderControlCharacters=m}}function i(N){const B=N.lineContent;let W,$,Y;N.stopRenderingLineAfter!==-1&&N.stopRenderingLineAfter<B.length?(W=!0,$=B.length-N.stopRenderingLineAfter,Y=N.stopRenderingLineAfter):(W=!1,$=0,Y=B.length);let R=f(B,N.containsRTL,N.lineTokens,N.fauxIndentLength,Y);N.renderControlCharacters&&!N.isBasicASCII&&(R=S(B,R)),(N.renderWhitespace===4||N.renderWhitespace===1||N.renderWhitespace===2&&N.selectionsOnLine||N.renderWhitespace===3&&!N.continuesWithWrappedLine)&&(R=g(N,B,Y,R));let L=0;if(N.lineDecorations.length>0){for(let z=0,O=N.lineDecorations.length;z<O;z++){const P=N.lineDecorations[z];P.type===3||P.type===1?L|=1:P.type===2&&(L|=2)}R=y(B,Y,R,N.lineDecorations)}return N.containsRTL||(R=v(B,R,!N.isBasicASCII||N.fontLigatures)),new n(N.useMonospaceOptimizations,N.canUseHalfwidthRightwardsArrow,B,Y,W,$,R,L,N.fauxIndentLength,N.tabSize,N.startVisibleColumn,N.containsRTL,N.spaceWidth,N.renderSpaceCharCode,N.renderWhitespace,N.renderControlCharacters)}function f(N,B,W,$,Y){const R=[];let L=0;$>0&&(R[L++]=new c($,"",0,!1));let z=$;for(let O=0,P=W.getCount();O<P;O++){const H=W.getEndOffset(O);if(H<=$)continue;const V=W.getClassName(O);if(H>=Y){const j=B?U.Ut(N.substring(z,Y)):!1;R[L++]=new c(Y,V,0,j);break}const G=B?U.Ut(N.substring(z,H)):!1;R[L++]=new c(H,V,0,G),z=H}return R}function v(N,B,W){let $=0;const Y=[];let R=0;if(W)for(let L=0,z=B.length;L<z;L++){const O=B[L],P=O.endIndex;if($+50<P){const H=O.type,V=O.metadata,G=O.containsRTL;let j=-1,F=$;for(let K=$;K<P;K++)N.charCodeAt(K)===32&&(j=K),j!==-1&&K-F>=50&&(Y[R++]=new c(j+1,H,V,G),F=j+1,j=-1);F!==P&&(Y[R++]=new c(P,H,V,G))}else Y[R++]=O;$=P}else for(let L=0,z=B.length;L<z;L++){const O=B[L],P=O.endIndex,H=P-$;if(H>50){const V=O.type,G=O.metadata,j=O.containsRTL,F=Math.ceil(H/50);for(let K=1;K<F;K++){const m=$+K*50;Y[R++]=new c(m,V,G,j)}Y[R++]=new c(P,V,G,j)}else Y[R++]=O;$=P}return Y}function a(N){return N<32?N!==9:N===127||N>=8234&&N<=8238||N>=8294&&N<=8297||N>=8206&&N<=8207||N===1564}function S(N,B){const W=[];let $=new c(0,"",0,!1),Y=0;for(const R of B){const L=R.endIndex;for(;Y<L;Y++){const z=N.charCodeAt(Y);a(z)&&(Y>$.endIndex&&($=new c(Y,R.type,R.metadata,R.containsRTL),W.push($)),$=new c(Y+1,"mtkcontrol",R.metadata,!1),W.push($))}Y>$.endIndex&&($=new c(L,R.type,R.metadata,R.containsRTL),W.push($))}return W}function g(N,B,W,$){const Y=N.continuesWithWrappedLine,R=N.fauxIndentLength,L=N.tabSize,z=N.startVisibleColumn,O=N.useMonospaceOptimizations,P=N.selectionsOnLine,H=N.renderWhitespace===1,V=N.renderWhitespace===3,G=N.renderSpaceWidth!==N.spaceWidth,j=[];let F=0,K=0,m=$[K].type,J=$[K].containsRTL,X=$[K].endIndex;const te=$.length;let le=!1,ge=U.LC(B),we;ge===-1?(le=!0,ge=W,we=W):we=U.ow(B);let pe=!1,Pe=0,Ne=P&&P[Pe],ae=z%L;for(let ke=R;ke<W;ke++){const Ue=B.charCodeAt(ke);Ne&&ke>=Ne.endOffset&&(Pe++,Ne=P&&P[Pe]);let Le;if(ke<ge||ke>we)Le=!0;else if(Ue===9)Le=!0;else if(Ue===32)if(H)if(pe)Le=!0;else{const ie=ke+1<W?B.charCodeAt(ke+1):0;Le=ie===32||ie===9}else Le=!0;else Le=!1;if(Le&&P&&(Le=!!Ne&&Ne.startOffset<=ke&&Ne.endOffset>ke),Le&&V&&(Le=le||ke>we),Le&&J&&ke>=ge&&ke<=we&&(Le=!1),pe){if(!Le||!O&&ae>=L){if(G){const ie=F>0?j[F-1].endIndex:R;for(let ce=ie+1;ce<=ke;ce++)j[F++]=new c(ce,"mtkw",1,!1)}else j[F++]=new c(ke,"mtkw",1,!1);ae=ae%L}}else(ke===X||Le&&ke>R)&&(j[F++]=new c(ke,m,0,J),ae=ae%L);for(Ue===9?ae=L:U.K7(Ue)?ae+=2:ae++,pe=Le;ke===X&&(K++,K<te);)m=$[K].type,J=$[K].containsRTL,X=$[K].endIndex}let Me=!1;if(pe)if(Y&&H){const ke=W>0?B.charCodeAt(W-1):0,Ue=W>1?B.charCodeAt(W-2):0;ke===32&&Ue!==32&&Ue!==9||(Me=!0)}else Me=!0;if(Me)if(G){const ke=F>0?j[F-1].endIndex:R;for(let Ue=ke+1;Ue<=W;Ue++)j[F++]=new c(Ue,"mtkw",1,!1)}else j[F++]=new c(W,"mtkw",1,!1);else j[F++]=new c(W,m,0,J);return j}function y(N,B,W,$){$.sort(w.Kp.compare);const Y=w.k.normalize(N,$),R=Y.length;let L=0;const z=[];let O=0,P=0;for(let V=0,G=W.length;V<G;V++){const j=W[V],F=j.endIndex,K=j.type,m=j.metadata,J=j.containsRTL;for(;L<R&&Y[L].startOffset<F;){const X=Y[L];if(X.startOffset>P&&(P=X.startOffset,z[O++]=new c(P,K,m,J)),X.endOffset+1<=F)P=X.endOffset+1,z[O++]=new c(P,K+" "+X.className,m|X.metadata,J),L++;else{P=F,z[O++]=new c(P,K+" "+X.className,m|X.metadata,J);break}}F>P&&(P=F,z[O++]=new c(P,K,m,J))}const H=W[W.length-1].endIndex;if(L<R&&Y[L].startOffset===H)for(;L<R&&Y[L].startOffset===H;){const V=Y[L];z[O++]=new c(P,V.className,V.metadata,!1),L++}return z}function C(N,B){const W=N.fontIsMonospace,$=N.canUseHalfwidthRightwardsArrow,Y=N.containsForeignElements,R=N.lineContent,L=N.len,z=N.isOverflowing,O=N.overflowingCharCount,P=N.parts,H=N.fauxIndentLength,V=N.tabSize,G=N.startVisibleColumn,j=N.containsRTL,F=N.spaceWidth,K=N.renderSpaceCharCode,m=N.renderWhitespace,J=N.renderControlCharacters,X=new D(L+1,P.length);let te=!1,le=0,ge=G,we=0,pe=0,Pe=0;j?B.appendString('<span dir="ltr">'):B.appendString("<span>");for(let Ne=0,ae=P.length;Ne<ae;Ne++){const Me=P[Ne],ke=Me.endIndex,Ue=Me.type,Le=Me.containsRTL,ie=m!==0&&Me.isWhitespace(),ce=ie&&!W&&(Ue==="mtkw"||!Y),Re=le===ke&&Me.isPseudoAfter();if(we=0,B.appendString("<span "),Le&&B.appendString('style="unicode-bidi:isolate" '),B.appendString('class="'),B.appendString(ce?"mtkz":Ue),B.appendASCIICharCode(34),ie){let ye=0;{let Se=le,me=ge;for(;Se<ke;Se++){const se=(R.charCodeAt(Se)===9?V-me%V:1)|0;ye+=se,Se>=H&&(me+=se)}}for(ce&&(B.appendString(' style="width:'),B.appendString(String(F*ye)),B.appendString('px"')),B.appendASCIICharCode(62);le<ke;le++){X.setColumnInfo(le+1,Ne-Pe,we,pe),Pe=0;const Se=R.charCodeAt(le);let me,he;if(Se===9){me=V-ge%V|0,he=me,!$||he>1?B.appendCharCode(8594):B.appendCharCode(65515);for(let se=2;se<=he;se++)B.appendCharCode(160)}else me=2,he=1,B.appendCharCode(K),B.appendCharCode(8204);we+=me,pe+=he,le>=H&&(ge+=he)}}else for(B.appendASCIICharCode(62);le<ke;le++){X.setColumnInfo(le+1,Ne-Pe,we,pe),Pe=0;const ye=R.charCodeAt(le);let Se=1,me=1;switch(ye){case 9:Se=V-ge%V,me=Se;for(let he=1;he<=Se;he++)B.appendCharCode(160);break;case 32:B.appendCharCode(160);break;case 60:B.appendString("&lt;");break;case 62:B.appendString("&gt;");break;case 38:B.appendString("&amp;");break;case 0:J?B.appendCharCode(9216):B.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:B.appendCharCode(65533);break;default:U.K7(ye)&&me++,J&&ye<32?B.appendCharCode(9216+ye):J&&ye===127?B.appendCharCode(9249):J&&a(ye)?(B.appendString("[U+"),B.appendString(E(ye)),B.appendString("]"),Se=8,me=Se):B.appendCharCode(ye)}we+=Se,pe+=me,le>=H&&(ge+=me)}Re?Pe++:Pe=0,le>=L&&!te&&Me.isPseudoAfter()&&(te=!0,X.setColumnInfo(le+1,Ne,we,pe)),B.appendString("</span>")}return te||X.setColumnInfo(L+1,P.length-1,we,pe),z&&(B.appendString('<span class="mtkoverflow">'),B.appendString(b.NC("showMore","Show more ({0})",A(O))),B.appendString("</span>")),B.appendString("</span>"),new p(X,j,Y)}function E(N){return N.toString(16).toUpperCase().padStart(4,"0")}function A(N){return N<1024?b.NC("overflow.chars","{0} chars",N):N<1024*1024?`${(N/1024).toFixed(1)} KB`:`${(N/1024/1024).toFixed(1)} MB`}},1118:function(Ot,Ke,e){"use strict";e.d(Ke,{$l:function(){return p},$t:function(){return M},IP:function(){return _},SQ:function(){return o},Wx:function(){return D},l_:function(){return w},ud:function(){return c},wA:function(){return I}});var b=e(9488),U=e(97295),r=e(24314);class w{constructor(d,n,i,f){this._viewportBrand=void 0,this.top=d|0,this.left=n|0,this.width=i|0,this.height=f|0}}class c{constructor(d,n){this.tabSize=d,this.data=n}}class _{constructor(d,n,i,f,v,a,S){this._viewLineDataBrand=void 0,this.content=d,this.continuesWithWrappedLine=n,this.minColumn=i,this.maxColumn=f,this.startVisibleColumn=v,this.tokens=a,this.inlineDecorations=S}}class I{constructor(d,n,i,f,v,a,S,g,y,C){this.minColumn=d,this.maxColumn=n,this.content=i,this.continuesWithWrappedLine=f,this.isBasicASCII=I.isBasicASCII(i,a),this.containsRTL=I.containsRTL(i,this.isBasicASCII,v),this.tokens=S,this.inlineDecorations=g,this.tabSize=y,this.startVisibleColumn=C}static isBasicASCII(d,n){return n?U.$i(d):!0}static containsRTL(d,n,i){return!n&&i?U.Ut(d):!1}}class M{constructor(d,n,i){this.range=d,this.inlineClassName=n,this.type=i}}class D{constructor(d,n,i,f){this.startOffset=d,this.endOffset=n,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=f}toInlineDecoration(d){return new M(new r.e(d,this.startOffset+1,d,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class p{constructor(d,n){this._viewModelDecorationBrand=void 0,this.range=d,this.options=n}}class o{constructor(d,n,i){this.color=d,this.zIndex=n,this.data=i}static compareByRenderingProps(d,n){return d.zIndex===n.zIndex?d.color<n.color?-1:d.color>n.color?1:0:d.zIndex-n.zIndex}static equals(d,n){return d.color===n.color&&d.zIndex===n.zIndex&&b.fS(d.data,n.data)}static equalsArr(d,n){return b.fS(d,n,o.equals)}}},30665:function(Ot,Ke,e){"use strict";e.d(Ke,{EY:function(){return U},Tj:function(){return r}});class b{constructor(c,_,I){this._colorZoneBrand=void 0,this.from=c|0,this.to=_|0,this.colorId=I|0}static compare(c,_){return c.colorId===_.colorId?c.from===_.from?c.to-_.to:c.from-_.from:c.colorId-_.colorId}}class U{constructor(c,_,I,M){this._overviewRulerZoneBrand=void 0,this.startLineNumber=c,this.endLineNumber=_,this.heightInLines=I,this.color=M,this._colorZone=null}static compare(c,_){return c.color===_.color?c.startLineNumber===_.startLineNumber?c.heightInLines===_.heightInLines?c.endLineNumber-_.endLineNumber:c.heightInLines-_.heightInLines:c.startLineNumber-_.startLineNumber:c.color<_.color?-1:1}setColorZone(c){this._colorZone=c}getColorZones(){return this._colorZone}}class r{constructor(c){this._getVerticalOffsetForLine=c,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(c){this._zones=c,this._zones.sort(U.compare)}setLineHeight(c){return this._lineHeight===c?!1:(this._lineHeight=c,this._colorZonesInvalid=!0,!0)}setPixelRatio(c){this._pixelRatio=c,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(c){return this._domWidth===c?!1:(this._domWidth=c,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(c){return this._domHeight===c?!1:(this._domHeight=c,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(c){return this._outerHeight===c?!1:(this._outerHeight=c,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const c=this._colorZonesInvalid,_=Math.floor(this._lineHeight),I=Math.floor(this.getCanvasHeight()),M=Math.floor(this._outerHeight),D=I/M,p=Math.floor(4*this._pixelRatio/2),o=[];for(let u=0,d=this._zones.length;u<d;u++){const n=this._zones[u];if(!c){const A=n.getColorZones();if(A){o.push(A);continue}}const i=this._getVerticalOffsetForLine(n.startLineNumber),f=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+_:i+n.heightInLines*_,v=Math.floor(D*i),a=Math.floor(D*f);let S=Math.floor((v+a)/2),g=a-S;g<p&&(g=p),S-g<0&&(S=g),S+g>I&&(S=I-g);const y=n.color;let C=this._color2Id[y];C||(C=++this._lastAssignedId,this._color2Id[y]=C,this._id2Color[C]=y);const E=new b(S-g,S+g,C);n.setColorZone(E),o.push(E)}return this._colorZonesInvalid=!1,o.sort(b.compare),o}}},30168:function(Ot,Ke,e){"use strict";e.d(Ke,{$t:function(){return I},CU:function(){return c},Fd:function(){return _},zg:function(){return M}});var b=e(50187),U=e(24314),r=e(1118),w=e(64141);class c{constructor(o,u,d,n,i){this.editorId=o,this.model=u,this.configuration=d,this._linesCollection=n,this._coordinatesConverter=i,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(o){const u=o.id;let d=this._decorationsCache[u];if(!d){const n=o.range,i=o.options;let f;if(i.isWholeLine){const v=this._coordinatesConverter.convertModelPositionToViewPosition(new b.L(n.startLineNumber,1),0,!1,!0),a=this._coordinatesConverter.convertModelPositionToViewPosition(new b.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);f=new U.e(v.lineNumber,v.column,a.lineNumber,a.column)}else f=this._coordinatesConverter.convertModelRangeToViewRange(n,1);d=new r.$l(f,i),this._decorationsCache[u]=d}return d}getMinimapDecorationsInRange(o){return this._getDecorationsInRange(o,!0,!1).decorations}getDecorationsViewportData(o){let u=this._cachedModelDecorationsResolver!==null;return u=u&&o.equalsRange(this._cachedModelDecorationsResolverViewRange),u||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(o,!1,!1),this._cachedModelDecorationsResolverViewRange=o),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(o,u=!1,d=!1){const n=new U.e(o,this._linesCollection.getViewLineMinColumn(o),o,this._linesCollection.getViewLineMaxColumn(o));return this._getDecorationsInRange(n,u,d).inlineDecorations[0]}_getDecorationsInRange(o,u,d){const n=this._linesCollection.getDecorationsInRange(o,this.editorId,(0,w.$J)(this.configuration.options),u,d),i=o.startLineNumber,f=o.endLineNumber,v=[];let a=0;const S=[];for(let g=i;g<=f;g++)S[g-i]=[];for(let g=0,y=n.length;g<y;g++){const C=n[g],E=C.options;if(!_(this.model,C))continue;const A=this._getOrCreateViewModelDecoration(C),N=A.range;if(v[a++]=A,E.inlineClassName){const B=new r.$t(N,E.inlineClassName,E.inlineClassNameAffectsLetterSpacing?3:0),W=Math.max(i,N.startLineNumber),$=Math.min(f,N.endLineNumber);for(let Y=W;Y<=$;Y++)S[Y-i].push(B)}if(E.beforeContentClassName&&i<=N.startLineNumber&&N.startLineNumber<=f){const B=new r.$t(new U.e(N.startLineNumber,N.startColumn,N.startLineNumber,N.startColumn),E.beforeContentClassName,1);S[N.startLineNumber-i].push(B)}if(E.afterContentClassName&&i<=N.endLineNumber&&N.endLineNumber<=f){const B=new r.$t(new U.e(N.endLineNumber,N.endColumn,N.endLineNumber,N.endColumn),E.afterContentClassName,2);S[N.endLineNumber-i].push(B)}}return{decorations:v,inlineDecorations:S}}}function _(p,o){return!(o.options.hideInCommentTokens&&I(p,o)||o.options.hideInStringTokens&&M(p,o))}function I(p,o){return D(p,o.range,u=>u===1)}function M(p,o){return D(p,o.range,u=>u===2)}function D(p,o,u){for(let d=o.startLineNumber;d<=o.endLineNumber;d++){const n=p.tokenization.getLineTokens(d),i=d===o.startLineNumber,f=d===o.endLineNumber;let v=i?n.findTokenIndexAtOffset(o.startColumn-1):0;for(;v<n.getCount()&&!(f&&n.getStartOffset(v)>o.endColumn-1);){if(!u(n.getStandardTokenType(v)))return!1;v++}}return!0}},51624:function(Ot,Ke,e){"use strict";var b=e(35996),U=e(59365),r=e(22258),w=e(16830),c=e(3860),_=e(29102),I=e(63580),M=e(32064),D=function(a,S,g,y){var C=arguments.length,E=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,S,g,y);else for(var N=a.length-1;N>=0;N--)(A=a[N])&&(E=(C<3?A(E):C>3?A(S,g,E):A(S,g))||E);return C>3&&E&&Object.defineProperty(S,g,E),E},p=function(a,S){return function(g,y){S(g,y,a)}},o;const u=new M.uy("selectionAnchorSet",!1);let d=o=class{static get(S){return S.getContribution(o.ID)}constructor(S,g){this.editor=S,this.selectionAnchorSetContextKey=u.bindTo(g),this.modelChangeListener=S.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const S=this.editor.getPosition();this.editor.changeDecorations(g=>{this.decorationId&&g.removeDecoration(this.decorationId),this.decorationId=g.addDecoration(c.Y.fromPositions(S,S),{description:"selection-anchor",stickiness:1,hoverMessage:new U.W5().appendText((0,I.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,b.Z9)((0,I.NC)("anchorSet","Anchor set at {0}:{1}",S.lineNumber,S.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const S=this.editor.getModel().getDecorationRange(this.decorationId);S&&this.editor.setPosition(S.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const S=this.editor.getModel().getDecorationRange(this.decorationId);if(S){const g=this.editor.getPosition();this.editor.setSelection(c.Y.fromPositions(S.getStartPosition(),g)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const S=this.decorationId;this.editor.changeDecorations(g=>{g.removeDecoration(S),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};d.ID="editor.contrib.selectionAnchorController",d=o=D([p(1,M.i6)],d);class n extends w.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,I.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,r.gx)(2089,2080),weight:100}})}run(S,g){return tn(this,null,function*(){var y;(y=d.get(g))===null||y===void 0||y.setSelectionAnchor()})}}class i extends w.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,I.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:u})}run(S,g){return tn(this,null,function*(){var y;(y=d.get(g))===null||y===void 0||y.goToSelectionAnchor()})}}class f extends w.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,I.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:u,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,r.gx)(2089,2089),weight:100}})}run(S,g){return tn(this,null,function*(){var y;(y=d.get(g))===null||y===void 0||y.selectFromAnchorToCursor()})}}class v extends w.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,I.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:u,kbOpts:{kbExpr:_.u.editorTextFocus,primary:9,weight:100}})}run(S,g){return tn(this,null,function*(){var y;(y=d.get(g))===null||y===void 0||y.cancelSelectionAnchor()})}}(0,w._K)(d.ID,d,4),(0,w.Qr)(n),(0,w.Qr)(i),(0,w.Qr)(f),(0,w.Qr)(v)},13468:function(Ot,Ke,e){"use strict";var b=e(15393),U=e(5976),r=e(16830),w=e(50187),c=e(24314),_=e(3860),I=e(29102),M=e(84973),D=e(84901),p=e(63580),o=e(84144),u=e(73910),d=e(97781);const n=(0,u.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},p.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class i extends r.R6{constructor(){super({id:"editor.action.jumpToBracket",label:p.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3165,weight:100}})}run(y,C){var E;(E=S.get(C))===null||E===void 0||E.jumpToBracket()}}class f extends r.R6{constructor(){super({id:"editor.action.selectToBracket",label:p.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:p.vv("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(y,C,E){var A;let N=!0;E&&E.selectBrackets===!1&&(N=!1),(A=S.get(C))===null||A===void 0||A.selectToBracket(N)}}class v extends r.R6{constructor(){super({id:"editor.action.removeBrackets",label:p.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:2561,weight:100}})}run(y,C){var E;(E=S.get(C))===null||E===void 0||E.removeBrackets(this.id)}}class a{constructor(y,C,E){this.position=y,this.brackets=C,this.options=E}}class S extends U.JT{static get(y){return y.getContribution(S.ID)}constructor(y){super(),this._editor=y,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new b.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(71),this._updateBracketsSoon.schedule(),this._register(y.onDidChangeCursorPosition(C=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModelContent(C=>{this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModel(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModelLanguageConfiguration(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeConfiguration(C=>{C.hasChanged(71)&&(this._matchBrackets=this._editor.getOption(71),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(y.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(y.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const y=this._editor.getModel(),C=this._editor.getSelections().map(E=>{const A=E.getStartPosition(),N=y.bracketPairs.matchBracket(A);let B=null;if(N)N[0].containsPosition(A)&&!N[1].containsPosition(A)?B=N[1].getStartPosition():N[1].containsPosition(A)&&(B=N[0].getStartPosition());else{const W=y.bracketPairs.findEnclosingBrackets(A);if(W)B=W[1].getStartPosition();else{const $=y.bracketPairs.findNextBracket(A);$&&$.range&&(B=$.range.getStartPosition())}}return B?new _.Y(B.lineNumber,B.column,B.lineNumber,B.column):new _.Y(A.lineNumber,A.column,A.lineNumber,A.column)});this._editor.setSelections(C),this._editor.revealRange(C[0])}selectToBracket(y){if(!this._editor.hasModel())return;const C=this._editor.getModel(),E=[];this._editor.getSelections().forEach(A=>{const N=A.getStartPosition();let B=C.bracketPairs.matchBracket(N);if(!B&&(B=C.bracketPairs.findEnclosingBrackets(N),!B)){const Y=C.bracketPairs.findNextBracket(N);Y&&Y.range&&(B=C.bracketPairs.matchBracket(Y.range.getStartPosition()))}let W=null,$=null;if(B){B.sort(c.e.compareRangesUsingStarts);const[Y,R]=B;if(W=y?Y.getStartPosition():Y.getEndPosition(),$=y?R.getEndPosition():R.getStartPosition(),R.containsPosition(N)){const L=W;W=$,$=L}}W&&$&&E.push(new _.Y(W.lineNumber,W.column,$.lineNumber,$.column))}),E.length>0&&(this._editor.setSelections(E),this._editor.revealRange(E[0]))}removeBrackets(y){if(!this._editor.hasModel())return;const C=this._editor.getModel();this._editor.getSelections().forEach(E=>{const A=E.getPosition();let N=C.bracketPairs.matchBracket(A);N||(N=C.bracketPairs.findEnclosingBrackets(A)),N&&(this._editor.pushUndoStop(),this._editor.executeEdits(y,[{range:N[0],text:""},{range:N[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const y=[];let C=0;for(const E of this._lastBracketsData){const A=E.brackets;A&&(y[C++]={range:A[0],options:E.options},y[C++]={range:A[1],options:E.options})}this._decorations.set(y)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const y=this._editor.getSelections();if(y.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const C=this._editor.getModel(),E=C.getVersionId();let A=[];this._lastVersionId===E&&(A=this._lastBracketsData);const N=[];let B=0;for(let L=0,z=y.length;L<z;L++){const O=y[L];O.isEmpty()&&(N[B++]=O.getStartPosition())}N.length>1&&N.sort(w.L.compare);const W=[];let $=0,Y=0;const R=A.length;for(let L=0,z=N.length;L<z;L++){const O=N[L];for(;Y<R&&A[Y].position.isBefore(O);)Y++;if(Y<R&&A[Y].position.equals(O))W[$++]=A[Y];else{let P=C.bracketPairs.matchBracket(O,20),H=S._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=C.bracketPairs.findEnclosingBrackets(O,20),H=S._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),W[$++]=new a(O,P,H)}}this._lastBracketsData=W,this._lastVersionId=E}}S.ID="editor.contrib.bracketMatchingController",S._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=D.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,d.EN)(n),position:M.sh.Center}}),S._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=D.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,r._K)(S.ID,S,1),(0,r.Qr)(f),(0,r.Qr)(i),(0,r.Qr)(v),o.BH.appendMenuItem(o.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:p.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},24336:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(29102),r=e(24314),w=e(3860);class c{constructor(o,u){this._selection=o,this._isMovingLeft=u}getEditOperations(o,u){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const d=this._selection.startLineNumber,n=this._selection.startColumn,i=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&i===o.getLineMaxColumn(d)))if(this._isMovingLeft){const f=new r.e(d,n-1,d,n),v=o.getValueInRange(f);u.addEditOperation(f,null),u.addEditOperation(new r.e(d,i,d,i),v)}else{const f=new r.e(d,i,d,i+1),v=o.getValueInRange(f);u.addEditOperation(f,null),u.addEditOperation(new r.e(d,n,d,n),v)}}computeCursorState(o,u){return this._isMovingLeft?new w.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new w.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var _=e(63580);class I extends b.R6{constructor(o,u){super(u),this.left=o}run(o,u){if(!u.hasModel())return;const d=[],n=u.getSelections();for(const i of n)d.push(new c(i,this.left));u.pushUndoStop(),u.executeCommands(this.id,d),u.pushUndoStop()}}class M extends I{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:U.u.writable})}}class D extends I{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:U.u.writable})}}(0,b.Qr)(M),(0,b.Qr)(D)},72102:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(61329),r=e(10839),w=e(24314),c=e(29102),_=e(63580);class I extends b.R6{constructor(){super({id:"editor.action.transposeLetters",label:_.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(D,p){if(!p.hasModel())return;const o=p.getModel(),u=[],d=p.getSelections();for(const n of d){if(!n.isEmpty())continue;const i=n.startLineNumber,f=n.startColumn,v=o.getLineMaxColumn(i);if(i===1&&(f===1||f===2&&v===2))continue;const a=f===v?n.getPosition():r.o.rightPosition(o,n.getPosition().lineNumber,n.getPosition().column),S=r.o.leftPosition(o,a),g=r.o.leftPosition(o,S),y=o.getValueInRange(w.e.fromPositions(g,S)),C=o.getValueInRange(w.e.fromPositions(S,a)),E=w.e.fromPositions(g,a);u.push(new U.T4(E,C+y))}u.length>0&&(p.pushUndoStop(),p.executeCommands(this.id,u),p.pushUndoStop())}}(0,b.Qr)(I)},55833:function(Ot,Ke,e){"use strict";var b=e(16268),U=e(65321),r=e(1432),w=e(35715),c=e(16830),_=e(11640),I=e(29102),M=e(63580),D=e(84144),p=e(84972),o=e(32064);const u="9_cutcopypaste",d=r.tY||document.queryCommandSupported("cut"),n=r.tY||document.queryCommandSupported("copy"),i=typeof navigator.clipboard=="undefined"||b.vU?document.queryCommandSupported("paste"):!0;function f(C){return C.register(),C}const v=d?f(new c.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:r.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:D.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:D.eH.EditorContext,group:u,title:M.NC("actions.clipboard.cutLabel","Cut"),when:I.u.writable,order:1},{menuId:D.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:D.eH.SimpleEditorContext,group:u,title:M.NC("actions.clipboard.cutLabel","Cut"),when:I.u.writable,order:1}]})):void 0,a=n?f(new c.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:r.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:D.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:D.eH.EditorContext,group:u,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:D.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:D.eH.SimpleEditorContext,group:u,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;D.BH.appendMenuItem(D.eH.MenubarEditMenu,{submenu:D.eH.MenubarCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),D.BH.appendMenuItem(D.eH.EditorContext,{submenu:D.eH.EditorContextCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:u,order:3}),D.BH.appendMenuItem(D.eH.EditorContext,{submenu:D.eH.EditorContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:o.Ao.and(o.Ao.notEquals("resourceScheme","output"),I.u.editorTextFocus)}),D.BH.appendMenuItem(D.eH.EditorTitleContext,{submenu:D.eH.EditorTitleContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),D.BH.appendMenuItem(D.eH.ExplorerContext,{submenu:D.eH.ExplorerContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const S=i?f(new c.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:r.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:D.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:D.eH.EditorContext,group:u,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:I.u.writable,order:4},{menuId:D.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:D.eH.SimpleEditorContext,group:u,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:I.u.writable,order:4}]})):void 0;class g extends c.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:M.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:I.u.textInputFocus,primary:0,weight:100}})}run(E,A){!A.hasModel()||!A.getOption(37)&&A.getSelection().isEmpty()||(w.RA.forceCopyWithSyntaxHighlighting=!0,A.focus(),A.getContainerDomNode().ownerDocument.execCommand("copy"),w.RA.forceCopyWithSyntaxHighlighting=!1)}}function y(C,E){C&&(C.addImplementation(1e4,"code-editor",(A,N)=>{const B=A.get(_.$).getFocusedCodeEditor();if(B&&B.hasTextFocus()){const W=B.getOption(37),$=B.getSelection();return $&&$.isEmpty()&&!W||B.getContainerDomNode().ownerDocument.execCommand(E),!0}return!1}),C.addImplementation(0,"generic-dom",(A,N)=>((0,U.uP)().execCommand(E),!0)))}y(v,"cut"),y(a,"copy"),S&&(S.addImplementation(1e4,"code-editor",(C,E)=>{const A=C.get(_.$),N=C.get(p.p),B=A.getFocusedCodeEditor();return B&&B.hasTextFocus()?!B.getContainerDomNode().ownerDocument.execCommand("paste")&&r.$L?(()=>tn(this,null,function*(){const $=yield N.readText();if($!==""){const Y=w.Nl.INSTANCE.get($);let R=!1,L=null,z=null;Y&&(R=B.getOption(37)&&!!Y.isFromEmptySelection,L=typeof Y.multicursorText!="undefined"?Y.multicursorText:null,z=Y.mode),B.trigger("keyboard","paste",{text:$,pasteOnNewLine:R,multicursorText:L,mode:z})}}))():!0:!1}),S.addImplementation(0,"generic-dom",(C,E)=>((0,U.uP)().execCommand("paste"),!0))),n&&(0,c.Qr)(g)},75396:function(Ot,Ke,e){"use strict";e.d(Ke,{Bb:function(){return y},LR:function(){return z},MN:function(){return C},RB:function(){return a},TM:function(){return A},UX:function(){return L},aI:function(){return W},cz:function(){return S},pZ:function(){return g},uH:function(){return E}});var b=e(9488),U=e(71050),r=e(17301),w=e(5976),c=e(70666),_=e(66007),I=e(24314),M=e(3860),D=e(71922),p=e(73733),o=e(14410),u=e(63580),d=e(94565),n=e(48894),i=e(90535),f=e(10829),v=e(87997);const a="editor.action.codeAction",S="editor.action.quickFix",g="editor.action.autoFix",y="editor.action.refactor",C="editor.action.sourceAction",E="editor.action.organizeImports",A="editor.action.fixAll";class N extends w.JT{static codeActionsPreferredComparator(H,V){return H.isPreferred&&!V.isPreferred?-1:!H.isPreferred&&V.isPreferred?1:0}static codeActionsComparator({action:H},{action:V}){return H.isAI&&!V.isAI?1:!H.isAI&&V.isAI?-1:(0,b.Of)(H.diagnostics)?(0,b.Of)(V.diagnostics)?N.codeActionsPreferredComparator(H,V):-1:(0,b.Of)(V.diagnostics)?1:N.codeActionsPreferredComparator(H,V)}constructor(H,V,G){super(),this.documentation=V,this._register(G),this.allActions=[...H].sort(N.codeActionsComparator),this.validActions=this.allActions.filter(({action:j})=>!j.disabled)}get hasAutoFix(){return this.validActions.some(({action:H})=>!!H.kind&&v.yN.QuickFix.contains(new v.yN(H.kind))&&!!H.isPreferred)}get hasAIFix(){return this.validActions.some(({action:H})=>!!H.isAI)}get allAIFixes(){return this.validActions.every(({action:H})=>!!H.isAI)}}const B={actions:[],documentation:void 0};function W(P,H,V,G,j,F){return tn(this,null,function*(){var K;const m=G.filter||{},J=Ni(Xn({},m),{excludes:[...m.excludes||[],v.yN.Notebook]}),X={only:(K=m.include)===null||K===void 0?void 0:K.value,trigger:G.type},te=new o.YQ(H,F),le=G.type===2,ge=$(P,H,le?J:m),we=new w.SL,pe=ge.map(Ne=>tn(this,null,function*(){try{j.report(Ne);const ae=yield Ne.provideCodeActions(H,V,X,te.token);if(ae&&we.add(ae),te.token.isCancellationRequested)return B;const Me=((ae==null?void 0:ae.actions)||[]).filter(Ue=>Ue&&(0,v.Yl)(m,Ue)),ke=R(Ne,Me,m.include);return{actions:Me.map(Ue=>new v.bA(Ue,Ne)),documentation:ke}}catch(ae){if((0,r.n2)(ae))throw ae;return(0,r.Cp)(ae),B}})),Pe=P.onDidChange(()=>{const Ne=P.all(H);(0,b.fS)(Ne,ge)||te.cancel()});try{const Ne=yield Promise.all(pe),ae=Ne.map(ke=>ke.actions).flat(),Me=[...(0,b.kX)(Ne.map(ke=>ke.documentation)),...Y(P,H,G,ae)];return new N(ae,Me,we)}finally{Pe.dispose(),te.dispose()}})}function $(P,H,V){return P.all(H).filter(G=>G.providedCodeActionKinds?G.providedCodeActionKinds.some(j=>(0,v.EU)(V,new v.yN(j))):!0)}function*Y(P,H,V,G){var j,F,K;if(H&&G.length)for(const m of P.all(H))m._getAdditionalMenuItems&&(yield*(j=m._getAdditionalMenuItems)===null||j===void 0?void 0:j.call(m,{trigger:V.type,only:(K=(F=V.filter)===null||F===void 0?void 0:F.include)===null||K===void 0?void 0:K.value},G.map(J=>J.action)))}function R(P,H,V){if(!P.documentation)return;const G=P.documentation.map(j=>({kind:new v.yN(j.kind),command:j.command}));if(V){let j;for(const F of G)F.kind.contains(V)&&(j?j.kind.contains(F.kind)&&(j=F):j=F);if(j)return j==null?void 0:j.command}for(const j of H)if(j.kind){for(const F of G)if(F.kind.contains(new v.yN(j.kind)))return F.command}}var L;(function(P){P.OnSave="onSave",P.FromProblemsView="fromProblemsView",P.FromCodeActions="fromCodeActions"})(L||(L={}));function z(F,K,m,J){return tn(this,arguments,function*(P,H,V,G,j=U.T.None){var X;const te=P.get(_.vu),le=P.get(d.H),ge=P.get(f.b),we=P.get(n.lT);if(ge.publicLog2("codeAction.applyCodeAction",{codeActionTitle:H.action.title,codeActionKind:H.action.kind,codeActionIsPreferred:!!H.action.isPreferred,reason:V}),yield H.resolve(j),!j.isCancellationRequested&&!(!((X=H.action.edit)===null||X===void 0)&&X.edits.length&&!(yield te.apply(H.action.edit,{editor:G==null?void 0:G.editor,label:H.action.title,quotableLabel:H.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:V!==L.OnSave,showPreview:G==null?void 0:G.preview})).isApplied)&&H.action.command)try{yield le.executeCommand(H.action.command.id,...H.action.command.arguments||[])}catch(pe){const Pe=O(pe);we.error(typeof Pe=="string"?Pe:u.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function O(P){return typeof P=="string"?P:P instanceof Error&&typeof P.message=="string"?P.message:void 0}d.P.registerCommand("_executeCodeActionProvider",function(P,H,V,G,j){return tn(this,null,function*(){if(!(H instanceof c.o))throw(0,r.b1)();const{codeActionProvider:F}=P.get(D.p),K=P.get(p.q).getModel(H);if(!K)throw(0,r.b1)();const m=M.Y.isISelection(V)?M.Y.liftSelection(V):I.e.isIRange(V)?K.validateRange(V):void 0;if(!m)throw(0,r.b1)();const J=typeof G=="string"?new v.yN(G):void 0,X=yield W(F,K,m,{type:1,triggerAction:v.aQ.Default,filter:{includeSourceActions:!0,include:J}},i.Ex.None,U.T.None),te=[],le=Math.min(X.validActions.length,typeof j=="number"?j:0);for(let ge=0;ge<le;ge++)te.push(X.validActions[ge].resolve(U.T.None));try{return yield Promise.all(te),X.validActions.map(ge=>ge.action)}finally{setTimeout(()=>X.dispose(),100)}})})},86687:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(800),r=e(97295),w=e(29102),c=e(75396),_=e(63580),I=e(32064),M=e(87997),D=e(70522),p=e(17016);function o(A){return I.Ao.regex(p.fj.keys()[0],new RegExp("(\\s|^)"+(0,r.ec)(A.value)+"\\b"))}const u={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_.NC("args.schema.apply.first","Always apply the first returned code action."),_.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function d(A,N,B,W,$=M.aQ.Default){if(A.hasModel()){const Y=D.G.get(A);Y==null||Y.manualTriggerAtCurrentPosition(N,$,B,W)}}class n extends b.R6{constructor(){super({id:c.cz,label:_.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:I.Ao.and(w.u.writable,w.u.hasCodeActionsProvider),kbOpts:{kbExpr:w.u.textInputFocus,primary:2137,weight:100}})}run(N,B){return d(B,_.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,M.aQ.QuickFix)}}class i extends b._l{constructor(){super({id:c.RB,precondition:I.Ao.and(w.u.writable,w.u.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:u}]}})}runEditorCommand(N,B,W){const $=M.wZ.fromUser(W,{kind:M.yN.Empty,apply:"ifSingle"});return d(B,typeof(W==null?void 0:W.kind)=="string"?$.preferred?_.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",W.kind):_.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",W.kind):$.preferred?_.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:$.kind,includeSourceActions:!0,onlyIncludePreferredActions:$.preferred},$.apply)}}class f extends b.R6{constructor(){super({id:c.Bb,label:_.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:I.Ao.and(w.u.writable,w.u.hasCodeActionsProvider),kbOpts:{kbExpr:w.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:I.Ao.and(w.u.writable,o(M.yN.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:u}]}})}run(N,B,W){const $=M.wZ.fromUser(W,{kind:M.yN.Refactor,apply:"never"});return d(B,typeof(W==null?void 0:W.kind)=="string"?$.preferred?_.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",W.kind):_.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",W.kind):$.preferred?_.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:M.yN.Refactor.contains($.kind)?$.kind:M.yN.None,onlyIncludePreferredActions:$.preferred},$.apply,M.aQ.Refactor)}}class v extends b.R6{constructor(){super({id:c.MN,label:_.NC("source.label","Source Action..."),alias:"Source Action...",precondition:I.Ao.and(w.u.writable,w.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:I.Ao.and(w.u.writable,o(M.yN.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:u}]}})}run(N,B,W){const $=M.wZ.fromUser(W,{kind:M.yN.Source,apply:"never"});return d(B,typeof(W==null?void 0:W.kind)=="string"?$.preferred?_.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",W.kind):_.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",W.kind):$.preferred?_.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):_.NC("editor.action.source.noneMessage","No source actions available"),{include:M.yN.Source.contains($.kind)?$.kind:M.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:$.preferred},$.apply,M.aQ.SourceAction)}}class a extends b.R6{constructor(){super({id:c.uH,label:_.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:I.Ao.and(w.u.writable,o(M.yN.SourceOrganizeImports)),kbOpts:{kbExpr:w.u.textInputFocus,primary:1581,weight:100}})}run(N,B){return d(B,_.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:M.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",M.aQ.OrganizeImports)}}class S extends b.R6{constructor(){super({id:c.TM,label:_.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:I.Ao.and(w.u.writable,o(M.yN.SourceFixAll))})}run(N,B){return d(B,_.NC("fixAll.noneMessage","No fix all action available"),{include:M.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",M.aQ.FixAll)}}class g extends b.R6{constructor(){super({id:c.pZ,label:_.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:I.Ao.and(w.u.writable,o(M.yN.QuickFix)),kbOpts:{kbExpr:w.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(N,B){return d(B,_.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:M.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",M.aQ.AutoFix)}}var y=e(3366),C=e(23193),E=e(89872);(0,b._K)(D.G.ID,D.G,3),(0,b._K)(y.f.ID,y.f,4),(0,b.Qr)(n),(0,b.Qr)(f),(0,b.Qr)(v),(0,b.Qr)(a),(0,b.Qr)(g),(0,b.Qr)(S),(0,b.fK)(new i),E.B.as(C.IP.Configuration).registerConfiguration(Ni(Xn({},U.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:_.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}})),E.B.as(C.IP.Configuration).registerConfiguration(Ni(Xn({},U.wk),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:_.NC("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}))},70522:function(Ot,Ke,e){"use strict";e.d(Ke,{G:function(){return je}});var b=e(65321),U=e(35996),r=e(17301),w=e(79579),c=e(5976),_=e(50187),I=e(84901),M=e(71922),D=e(75396),p=e(87997),o=e(91847),u=function(Oe,Ze,it,Et){var st=arguments.length,pt=st<3?Ze:Et===null?Et=Object.getOwnPropertyDescriptor(Ze,it):Et,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(Oe,Ze,it,Et);else for(var qt=Oe.length-1;qt>=0;qt--)(Mt=Oe[qt])&&(pt=(st<3?Mt(pt):st>3?Mt(Ze,it,pt):Mt(Ze,it))||pt);return st>3&&pt&&Object.defineProperty(Ze,it,pt),pt},d=function(Oe,Ze){return function(it,Et){Ze(it,Et,Oe)}},n;let i=n=class{constructor(Ze){this.keybindingService=Ze}getResolver(){const Ze=new w.o(()=>this.keybindingService.getKeybindings().filter(it=>n.codeActionCommands.indexOf(it.command)>=0).filter(it=>it.resolvedKeybinding).map(it=>{let Et=it.commandArgs;return it.command===D.uH?Et={kind:p.yN.SourceOrganizeImports.value}:it.command===D.TM&&(Et={kind:p.yN.SourceFixAll.value}),Xn({resolvedKeybinding:it.resolvedKeybinding},p.wZ.fromUser(Et,{kind:p.yN.None,apply:"never"}))}));return it=>{if(it.kind){const Et=this.bestKeybindingForCodeAction(it,Ze.value);return Et==null?void 0:Et.resolvedKeybinding}}}bestKeybindingForCodeAction(Ze,it){if(!Ze.kind)return;const Et=new p.yN(Ze.kind);return it.filter(st=>st.kind.contains(Et)).filter(st=>st.preferred?Ze.isPreferred:!0).reduceRight((st,pt)=>st?st.kind.contains(pt.kind)?pt:st:pt,void 0)}};i.codeActionCommands=[D.Bb,D.RB,D.MN,D.uH,D.TM],i=n=u([d(0,o.d)],i);var f=e(15375),v=e(73046),a=e(34066),S=e(63580);const g=Object.freeze({kind:p.yN.Empty,title:(0,S.NC)("codeAction.widget.id.more","More Actions...")}),y=Object.freeze([{kind:p.yN.QuickFix,title:(0,S.NC)("codeAction.widget.id.quickfix","Quick Fix")},{kind:p.yN.RefactorExtract,title:(0,S.NC)("codeAction.widget.id.extract","Extract"),icon:v.l.wrench},{kind:p.yN.RefactorInline,title:(0,S.NC)("codeAction.widget.id.inline","Inline"),icon:v.l.wrench},{kind:p.yN.RefactorRewrite,title:(0,S.NC)("codeAction.widget.id.convert","Rewrite"),icon:v.l.wrench},{kind:p.yN.RefactorMove,title:(0,S.NC)("codeAction.widget.id.move","Move"),icon:v.l.wrench},{kind:p.yN.SurroundWith,title:(0,S.NC)("codeAction.widget.id.surround","Surround With"),icon:v.l.symbolSnippet},{kind:p.yN.Source,title:(0,S.NC)("codeAction.widget.id.source","Source Action"),icon:v.l.symbolFile},g]);function C(Oe,Ze,it){if(!Ze)return Oe.map(pt=>{var Mt;return{kind:"action",item:pt,group:g,disabled:!!pt.action.disabled,label:pt.action.disabled||pt.action.title,canPreview:!!(!((Mt=pt.action.edit)===null||Mt===void 0)&&Mt.edits.length)}});const Et=y.map(pt=>({group:pt,actions:[]}));for(const pt of Oe){const Mt=pt.action.kind?new p.yN(pt.action.kind):p.yN.None;for(const qt of Et)if(qt.group.kind.contains(Mt)){qt.actions.push(pt);break}}const st=[];for(const pt of Et)if(pt.actions.length){st.push({kind:"header",group:pt.group});for(const Mt of pt.actions){const qt=pt.group;st.push({kind:"action",item:Mt,group:Mt.action.isAI?{title:qt.title,kind:qt.kind,icon:v.l.sparkle}:qt,label:Mt.action.title,disabled:!!Mt.action.disabled,keybinding:it(Mt.action)})}}return st}var E=e(3366),A=e(27863),N=e(90317),B=e(35190),W=e(69047),$=e(71050),Y=e(1432),R=e(25670),L=e(5606),z=e(86253),O=e(73910),P=function(Oe,Ze,it,Et){var st=arguments.length,pt=st<3?Ze:Et===null?Et=Object.getOwnPropertyDescriptor(Ze,it):Et,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(Oe,Ze,it,Et);else for(var qt=Oe.length-1;qt>=0;qt--)(Mt=Oe[qt])&&(pt=(st<3?Mt(pt):st>3?Mt(Ze,it,pt):Mt(Ze,it))||pt);return st>3&&pt&&Object.defineProperty(Ze,it,pt),pt},H=function(Oe,Ze){return function(it,Et){Ze(it,Et,Oe)}};const V="acceptSelectedCodeAction",G="previewSelectedCodeAction";class j{get templateId(){return"header"}renderTemplate(Ze){Ze.classList.add("group-header");const it=document.createElement("span");return Ze.append(it),{container:Ze,text:it}}renderElement(Ze,it,Et){var st,pt;Et.text.textContent=(pt=(st=Ze.group)===null||st===void 0?void 0:st.title)!==null&&pt!==void 0?pt:""}disposeTemplate(Ze){}}let F=class{get templateId(){return"action"}constructor(Ze,it){this._supportsPreview=Ze,this._keybindingService=it}renderTemplate(Ze){Ze.classList.add(this.templateId);const it=document.createElement("div");it.className="icon",Ze.append(it);const Et=document.createElement("span");Et.className="title",Ze.append(Et);const st=new B.e(Ze,Y.OS);return{container:Ze,icon:it,text:Et,keybinding:st}}renderElement(Ze,it,Et){var st,pt,Mt;if(!((st=Ze.group)===null||st===void 0)&&st.icon?(Et.icon.className=R.k.asClassName(Ze.group.icon),Ze.group.icon.color&&(Et.icon.style.color=(0,O.n_1)(Ze.group.icon.color.id))):(Et.icon.className=R.k.asClassName(v.l.lightBulb),Et.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!Ze.item||!Ze.label)return;Et.text.textContent=te(Ze.label),Et.keybinding.set(Ze.keybinding),b.iJ(!!Ze.keybinding,Et.keybinding.element);const qt=(pt=this._keybindingService.lookupKeybinding(V))===null||pt===void 0?void 0:pt.getLabel(),Ft=(Mt=this._keybindingService.lookupKeybinding(G))===null||Mt===void 0?void 0:Mt.getLabel();Et.container.classList.toggle("option-disabled",Ze.disabled),Ze.disabled?Et.container.title=Ze.label:qt&&Ft?this._supportsPreview&&Ze.canPreview?Et.container.title=(0,S.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",qt,Ft):Et.container.title=(0,S.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",qt):Et.container.title=""}disposeTemplate(Ze){}};F=P([H(1,o.d)],F);class K extends UIEvent{constructor(){super("acceptSelectedAction")}}class m extends UIEvent{constructor(){super("previewSelectedAction")}}function J(Oe){if(Oe.kind==="action")return Oe.label}let X=class extends c.JT{constructor(Ze,it,Et,st,pt,Mt){super(),this._delegate=st,this._contextViewService=pt,this._keybindingService=Mt,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new $.A),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const qt={getHeight:Ft=>Ft.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:Ft=>Ft.kind};this._list=this._register(new W.aV(Ze,this.domNode,qt,[new F(it,this._keybindingService),new j],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:J},accessibilityProvider:{getAriaLabel:Ft=>{if(Ft.kind==="action"){let Xt=Ft.label?te(Ft==null?void 0:Ft.label):"";return Ft.disabled&&(Xt=(0,S.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",Xt,Ft.disabled)),Xt}return null},getWidgetAriaLabel:()=>(0,S.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:Ft=>Ft.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(z.O2),this._register(this._list.onMouseClick(Ft=>this.onListClick(Ft))),this._register(this._list.onMouseOver(Ft=>this.onListHover(Ft))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(Ft=>this.onListSelection(Ft))),this._allMenuItems=Et,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(Ze){return!Ze.disabled&&Ze.kind==="action"}hide(Ze){this._delegate.onHide(Ze),this.cts.cancel(),this._contextViewService.hideContextView()}layout(Ze){const it=this._allMenuItems.filter(Ft=>Ft.kind==="header").length,st=this._allMenuItems.length*this._actionLineHeight+it*this._headerLineHeight-it*this._actionLineHeight;this._list.layout(st);let pt=Ze;if(this._allMenuItems.length>=50)pt=380;else{const Ft=this._allMenuItems.map((Xt,_t)=>{const nt=this.domNode.ownerDocument.getElementById(this._list.getElementID(_t));if(nt){nt.style.width="auto";const tt=nt.getBoundingClientRect().width;return nt.style.width="",tt}return 0});pt=Math.max(...Ft,Ze)}const Mt=.7,qt=Math.min(st,this.domNode.ownerDocument.body.clientHeight*Mt);return this._list.layout(qt,pt),this.domNode.style.height=`${qt}px`,this._list.domFocus(),pt}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(Ze){const it=this._list.getFocus();if(it.length===0)return;const Et=it[0],st=this._list.element(Et);if(!this.focusCondition(st))return;const pt=Ze?new m:new K;this._list.setSelection([Et],pt)}onListSelection(Ze){if(!Ze.elements.length)return;const it=Ze.elements[0];it.item&&this.focusCondition(it)?this._delegate.onSelect(it.item,Ze.browserEvent instanceof m):this._list.setSelection([])}onFocus(){var Ze,it;this._list.domFocus();const Et=this._list.getFocus();if(Et.length===0)return;const st=Et[0],pt=this._list.element(st);(it=(Ze=this._delegate).onFocus)===null||it===void 0||it.call(Ze,pt.item)}onListHover(Ze){return tn(this,null,function*(){const it=Ze.element;if(it&&it.item&&this.focusCondition(it)){if(this._delegate.onHover&&!it.disabled&&it.kind==="action"){const Et=yield this._delegate.onHover(it.item,this.cts.token);it.canPreview=Et?Et.canPreview:void 0}Ze.index&&this._list.splice(Ze.index,1,[it])}this._list.setFocus(typeof Ze.index=="number"?[Ze.index]:[])})}onListClick(Ze){Ze.element&&this.focusCondition(Ze.element)&&this._list.setFocus([])}};X=P([H(4,L.u),H(5,o.d)],X);function te(Oe){return Oe.replace(/\r\n|\r|\n/g," ")}var le=e(84144),ge=e(32064),we=e(65026),pe=e(72065),Pe=function(Oe,Ze,it,Et){var st=arguments.length,pt=st<3?Ze:Et===null?Et=Object.getOwnPropertyDescriptor(Ze,it):Et,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(Oe,Ze,it,Et);else for(var qt=Oe.length-1;qt>=0;qt--)(Mt=Oe[qt])&&(pt=(st<3?Mt(pt):st>3?Mt(Ze,it,pt):Mt(Ze,it))||pt);return st>3&&pt&&Object.defineProperty(Ze,it,pt),pt},Ne=function(Oe,Ze){return function(it,Et){Ze(it,Et,Oe)}};(0,O.P6G)("actionBar.toggledBackground",{dark:O.XEs,light:O.XEs,hcDark:O.XEs,hcLight:O.XEs},(0,S.NC)("actionBar.toggledBackground","Background color for toggled action items in action bar."));const ae={Visible:new ge.uy("codeActionMenuVisible",!1,(0,S.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},Me=(0,pe.yh)("actionWidgetService");let ke=class extends c.JT{get isVisible(){return ae.Visible.getValue(this._contextKeyService)||!1}constructor(Ze,it,Et){super(),this._contextViewService=Ze,this._contextKeyService=it,this._instantiationService=Et,this._list=this._register(new c.XK)}show(Ze,it,Et,st,pt,Mt,qt){const Ft=ae.Visible.bindTo(this._contextKeyService),Xt=this._instantiationService.createInstance(X,Ze,it,Et,st);this._contextViewService.showContextView({getAnchor:()=>pt,render:_t=>(Ft.set(!0),this._renderWidget(_t,Xt,qt!=null?qt:[])),onHide:_t=>{Ft.reset(),this._onWidgetClosed(_t)}},Mt,!1)}acceptSelected(Ze){var it;(it=this._list.value)===null||it===void 0||it.acceptSelected(Ze)}focusPrevious(){var Ze,it;(it=(Ze=this._list)===null||Ze===void 0?void 0:Ze.value)===null||it===void 0||it.focusPrevious()}focusNext(){var Ze,it;(it=(Ze=this._list)===null||Ze===void 0?void 0:Ze.value)===null||it===void 0||it.focusNext()}hide(){var Ze;(Ze=this._list.value)===null||Ze===void 0||Ze.hide(),this._list.clear()}_renderWidget(Ze,it,Et){var st;const pt=document.createElement("div");if(pt.classList.add("action-widget"),Ze.appendChild(pt),this._list.value=it,this._list.value)pt.appendChild(this._list.value.domNode);else throw new Error("List has no value");const Mt=new c.SL,qt=document.createElement("div"),Ft=Ze.appendChild(qt);Ft.classList.add("context-view-block"),Mt.add(b.nm(Ft,b.tw.MOUSE_DOWN,Lt=>Lt.stopPropagation()));const Xt=document.createElement("div"),_t=Ze.appendChild(Xt);_t.classList.add("context-view-pointerBlock"),Mt.add(b.nm(_t,b.tw.POINTER_MOVE,()=>_t.remove())),Mt.add(b.nm(_t,b.tw.MOUSE_DOWN,()=>_t.remove()));let nt=0;if(Et.length){const Lt=this._createActionBar(".action-widget-action-bar",Et);Lt&&(pt.appendChild(Lt.getContainer().parentElement),Mt.add(Lt),nt=Lt.getContainer().offsetWidth)}const tt=(st=this._list.value)===null||st===void 0?void 0:st.layout(nt);pt.style.width=`${tt}px`;const xt=Mt.add(b.go(Ze));return Mt.add(xt.onDidBlur(()=>this.hide())),Mt}_createActionBar(Ze,it){if(!it.length)return;const Et=b.$(Ze),st=new N.o(Et);return st.push(it,{icon:!1,label:!0}),st}_onWidgetClosed(Ze){var it;(it=this._list.value)===null||it===void 0||it.hide(Ze)}};ke=Pe([Ne(0,L.u),Ne(1,ge.i6),Ne(2,pe.TG)],ke),(0,we.z)(Me,ke,1);const Ue=100+1e3;(0,le.r1)(class extends le.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,S.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:ae.Visible,keybinding:{weight:Ue,primary:9,secondary:[1033]}})}run(Oe){Oe.get(Me).hide()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,S.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:ae.Visible,keybinding:{weight:Ue,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(Oe){const Ze=Oe.get(Me);Ze instanceof ke&&Ze.focusPrevious()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,S.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:ae.Visible,keybinding:{weight:Ue,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(Oe){const Ze=Oe.get(Me);Ze instanceof ke&&Ze.focusNext()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:V,title:{value:(0,S.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:ae.Visible,keybinding:{weight:Ue,primary:3,secondary:[2137]}})}run(Oe){const Ze=Oe.get(Me);Ze instanceof ke&&Ze.acceptSelected()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:G,title:{value:(0,S.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:ae.Visible,keybinding:{weight:Ue,primary:2051}})}run(Oe){const Ze=Oe.get(Me);Ze instanceof ke&&Ze.acceptSelected(!0)}});var Le=e(94565),ie=e(33108),ce=e(98674),Re=e(90535),ye=e(92321),Se=e(97781),me=e(17016),he=function(Oe,Ze,it,Et){var st=arguments.length,pt=st<3?Ze:Et===null?Et=Object.getOwnPropertyDescriptor(Ze,it):Et,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(Oe,Ze,it,Et);else for(var qt=Oe.length-1;qt>=0;qt--)(Mt=Oe[qt])&&(pt=(st<3?Mt(pt):st>3?Mt(Ze,it,pt):Mt(Ze,it))||pt);return st>3&&pt&&Object.defineProperty(Ze,it,pt),pt},se=function(Oe,Ze){return function(it,Et){Ze(it,Et,Oe)}},ve;const xe="quickfix-edit-highlight";let je=ve=class extends c.JT{static get(Ze){return Ze.getContribution(ve.ID)}constructor(Ze,it,Et,st,pt,Mt,qt,Ft,Xt,_t){super(),this._commandService=qt,this._configurationService=Ft,this._actionWidgetService=Xt,this._instantiationService=_t,this._activeCodeActions=this._register(new c.XK),this._showDisabled=!1,this._disposed=!1,this._editor=Ze,this._model=this._register(new me.Jt(this._editor,pt.codeActionProvider,it,Et,Mt,Ft)),this._register(this._model.onDidChangeState(nt=>this.update(nt))),this._lightBulbWidget=new w.o(()=>{const nt=this._editor.getContribution(E.f.ID);return nt&&this._register(nt.onClick(tt=>this.showCodeActionList(tt.actions,tt,{includeDisabledActions:!1,fromLightbulb:!0}))),nt}),this._resolver=st.createInstance(i),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(Ze,it,Et){return this.showCodeActionList(it,Et,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Ze,it,Et,st){var pt;if(!this._editor.hasModel())return;(pt=A.O.get(this._editor))===null||pt===void 0||pt.closeMessage();const Mt=this._editor.getPosition();this._trigger({type:1,triggerAction:it,filter:Et,autoApply:st,context:{notAvailableMessage:Ze,position:Mt}})}_trigger(Ze){return this._model.trigger(Ze)}_applyCodeAction(Ze,it,Et){return tn(this,null,function*(){try{yield this._instantiationService.invokeFunction(D.LR,Ze,D.UX.FromCodeActions,{preview:Et,editor:this._editor})}finally{it&&this._trigger({type:2,triggerAction:p.aQ.QuickFix,filter:{}})}})}update(Ze){return tn(this,null,function*(){var it,Et,st,pt,Mt,qt,Ft;if(Ze.type!==1){(it=this._lightBulbWidget.rawValue)===null||it===void 0||it.hide();return}let Xt;try{Xt=yield Ze.actions}catch(_t){(0,r.dL)(_t);return}if(!this._disposed)if((Et=this._lightBulbWidget.value)===null||Et===void 0||Et.update(Xt,Ze.trigger,Ze.position),Ze.trigger.type===1){if(!((st=Ze.trigger.filter)===null||st===void 0)&&st.include){const nt=this.tryGetValidActionToApply(Ze.trigger,Xt);if(nt){try{(pt=this._lightBulbWidget.value)===null||pt===void 0||pt.hide(),yield this._applyCodeAction(nt,!1,!1)}finally{Xt.dispose()}return}if(Ze.trigger.context){const tt=this.getInvalidActionThatWouldHaveBeenApplied(Ze.trigger,Xt);if(tt&&tt.action.disabled){(Mt=A.O.get(this._editor))===null||Mt===void 0||Mt.showMessage(tt.action.disabled,Ze.trigger.context.position),Xt.dispose();return}}}const _t=!!(!((qt=Ze.trigger.filter)===null||qt===void 0)&&qt.include);if(Ze.trigger.context&&(!Xt.allActions.length||!_t&&!Xt.validActions.length)){(Ft=A.O.get(this._editor))===null||Ft===void 0||Ft.showMessage(Ze.trigger.context.notAvailableMessage,Ze.trigger.context.position),this._activeCodeActions.value=Xt,Xt.dispose();return}this._activeCodeActions.value=Xt,this.showCodeActionList(Xt,this.toCoords(Ze.position),{includeDisabledActions:_t,fromLightbulb:!1})}else this._actionWidgetService.isVisible?Xt.dispose():this._activeCodeActions.value=Xt})}getInvalidActionThatWouldHaveBeenApplied(Ze,it){if(it.allActions.length&&(Ze.autoApply==="first"&&it.validActions.length===0||Ze.autoApply==="ifSingle"&&it.allActions.length===1))return it.allActions.find(({action:Et})=>Et.disabled)}tryGetValidActionToApply(Ze,it){if(it.validActions.length&&(Ze.autoApply==="first"&&it.validActions.length>0||Ze.autoApply==="ifSingle"&&it.validActions.length===1))return it.validActions[0]}showCodeActionList(Ze,it,Et){return tn(this,null,function*(){const st=this._editor.createDecorationsCollection(),pt=this._editor.getDomNode();if(!pt)return;const Mt=Et.includeDisabledActions&&(this._showDisabled||Ze.validActions.length===0)?Ze.allActions:Ze.validActions;if(!Mt.length)return;const qt=_.L.isIPosition(it)?this.toCoords(it):it,Ft={onSelect:(Xt,_t)=>tn(this,null,function*(){this._applyCodeAction(Xt,!0,!!_t),this._actionWidgetService.hide(),st.clear()}),onHide:()=>{var Xt;(Xt=this._editor)===null||Xt===void 0||Xt.focus(),st.clear()},onHover:(Xt,_t)=>tn(this,null,function*(){var nt;if(yield Xt.resolve(_t),!_t.isCancellationRequested)return{canPreview:!!(!((nt=Xt.action.edit)===null||nt===void 0)&&nt.edits.length)}}),onFocus:Xt=>{var _t,nt;if(Xt&&Xt.highlightRange&&Xt.action.diagnostics){const tt=[{range:Xt.action.diagnostics[0],options:ve.DECORATION}];st.set(tt);const xt=Xt.action.diagnostics[0],Lt=(nt=(_t=this._editor.getModel())===null||_t===void 0?void 0:_t.getWordAtPosition({lineNumber:xt.startLineNumber,column:xt.startColumn}))===null||nt===void 0?void 0:nt.word;U.i7((0,S.NC)("editingNewSelection","Context: {0} at line {1} and column {2}.",Lt,xt.startLineNumber,xt.startColumn))}else st.clear()}};this._actionWidgetService.show("codeActionWidget",!0,C(Mt,this._shouldShowHeaders(),this._resolver.getResolver()),Ft,qt,pt,this._getActionBarActions(Ze,it,Et))})}toCoords(Ze){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Ze,1),this._editor.render();const it=this._editor.getScrolledVisiblePosition(Ze),Et=(0,b.i)(this._editor.getDomNode()),st=Et.left+it.left,pt=Et.top+it.top+it.height;return{x:st,y:pt}}_shouldShowHeaders(){var Ze;const it=(Ze=this._editor)===null||Ze===void 0?void 0:Ze.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:it==null?void 0:it.uri})}_getActionBarActions(Ze,it,Et){if(Et.fromLightbulb)return[];const st=Ze.documentation.map(pt=>{var Mt;return{id:pt.id,label:pt.title,tooltip:(Mt=pt.tooltip)!==null&&Mt!==void 0?Mt:"",class:void 0,enabled:!0,run:()=>{var qt;return this._commandService.executeCommand(pt.id,...(qt=pt.arguments)!==null&&qt!==void 0?qt:[])}}});return Et.includeDisabledActions&&Ze.validActions.length>0&&Ze.allActions.length!==Ze.validActions.length&&st.push(this._showDisabled?{id:"hideMoreActions",label:(0,S.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(Ze,it,Et))}:{id:"showMoreActions",label:(0,S.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(Ze,it,Et))}),st}};je.ID="editor.contrib.codeActionController",je.DECORATION=I.qx.register({description:"quickfix-highlight",className:xe}),je=ve=he([se(1,ce.lT),se(2,ge.i6),se(3,pe.TG),se(4,M.p),se(5,Re.ek),se(6,Le.H),se(7,ie.Ui),se(8,Me),se(9,pe.TG)],je),(0,Se.Ic)((Oe,Ze)=>{((st,pt)=>{pt&&Ze.addRule(`.monaco-editor ${st} { background-color: ${pt}; }`)})(".quickfix-edit-highlight",Oe.getColor(O.MUv));const Et=Oe.getColor(O.EiJ);Et&&Ze.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,ye.c3)(Oe.type)?"dotted":"solid"} ${Et}; box-sizing: border-box; }`)})},17016:function(Ot,Ke,e){"use strict";e.d(Ke,{Jt:function(){return v},fj:function(){return d}});var b=e(15393),U=e(17301),r=e(4669),w=e(5976),c=e(95935),_=e(64141),I=e(50187),M=e(3860),D=e(32064),p=e(90535),o=e(87997),u=e(75396);const d=new D.uy("supportedCodeAction","");class n extends w.JT{constructor(S,g,y,C=250){super(),this._editor=S,this._markerService=g,this._signalChange=y,this._delay=C,this._autoTriggerTimer=this._register(new b._F),this._register(this._markerService.onMarkerChanged(E=>this._onMarkerChanges(E))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(S){const g=this._getRangeOfSelectionUnlessWhitespaceEnclosed(S);this._signalChange(g?{trigger:S,selection:g}:void 0)}_onMarkerChanges(S){const g=this._editor.getModel();g&&S.some(y=>(0,c.Xy)(y,g.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:o.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(S){var g;if(!this._editor.hasModel())return;const y=this._editor.getModel(),C=this._editor.getSelection();if(C.isEmpty()&&S.type===2){const{lineNumber:E,column:A}=C.getPosition(),N=y.getLineContent(E);if(N.length===0){if(!(((g=this._editor.getOption(64).experimental)===null||g===void 0?void 0:g.showAiIcon)===_.JO.On))return}else if(A===1){if(/\s/.test(N[0]))return}else if(A===y.getLineMaxColumn(E)){if(/\s/.test(N[N.length-1]))return}else if(/\s/.test(N[A-2])&&/\s/.test(N[A-1]))return}return C}}var i;(function(a){a.Empty={type:0};class S{constructor(y,C,E){this.trigger=y,this.position=C,this._cancellablePromise=E,this.type=1,this.actions=E.catch(A=>{if((0,U.n2)(A))return f;throw A})}cancel(){this._cancellablePromise.cancel()}}a.Triggered=S})(i||(i={}));const f=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class v extends w.JT{constructor(S,g,y,C,E,A){super(),this._editor=S,this._registry=g,this._markerService=y,this._progressService=E,this._configurationService=A,this._codeActionOracle=this._register(new w.XK),this._state=i.Empty,this._onDidChangeState=this._register(new r.Q5),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=d.bindTo(C),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(i.Empty,!0))}_settingEnabledNearbyQuickfixes(){var S;const g=(S=this._editor)===null||S===void 0?void 0:S.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:g==null?void 0:g.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(i.Empty);const S=this._editor.getModel();if(S&&this._registry.has(S)&&!this._editor.getOption(90)){const g=this._registry.all(S).flatMap(y=>{var C;return(C=y.providedCodeActionKinds)!==null&&C!==void 0?C:[]});this._supportedCodeActions.set(g.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,y=>{var C;if(!y){this.setState(i.Empty);return}const E=y.selection.getStartPosition(),A=(0,b.PG)(N=>tn(this,null,function*(){var B,W,$,Y,R,L;if(this._settingEnabledNearbyQuickfixes()&&y.trigger.type===1&&(y.trigger.triggerAction===o.aQ.QuickFix||!((W=(B=y.trigger.filter)===null||B===void 0?void 0:B.include)===null||W===void 0)&&W.contains(o.yN.QuickFix))){const z=yield(0,u.aI)(this._registry,S,y.selection,y.trigger,p.Ex.None,N),O=[...z.allActions];if(N.isCancellationRequested)return f;if(!(($=z.validActions)===null||$===void 0?void 0:$.some(H=>H.action.kind?o.yN.QuickFix.contains(new o.yN(H.action.kind)):!1))){const H=this._markerService.read({resource:S.uri});if(H.length>0){const V=y.selection.getPosition();let G=V,j=Number.MAX_VALUE;const F=[...z.validActions];for(const m of H){const J=m.endColumn,X=m.endLineNumber,te=m.startLineNumber;if(X===V.lineNumber||te===V.lineNumber){G=new I.L(X,J);const le={type:y.trigger.type,triggerAction:y.trigger.triggerAction,filter:{include:!((Y=y.trigger.filter)===null||Y===void 0)&&Y.include?(R=y.trigger.filter)===null||R===void 0?void 0:R.include:o.yN.QuickFix},autoApply:y.trigger.autoApply,context:{notAvailableMessage:((L=y.trigger.context)===null||L===void 0?void 0:L.notAvailableMessage)||"",position:G}},ge=new M.Y(G.lineNumber,G.column,G.lineNumber,G.column),we=yield(0,u.aI)(this._registry,S,ge,le,p.Ex.None,N);if(we.validActions.length!==0){for(const pe of we.validActions)pe.highlightRange=pe.action.isPreferred;z.allActions.length===0&&O.push(...we.allActions),Math.abs(V.column-J)<j?F.unshift(...we.validActions):F.push(...we.validActions)}j=Math.abs(V.column-J)}}const K=F.filter((m,J,X)=>X.findIndex(te=>te.action.title===m.action.title)===J);return K.sort((m,J)=>m.action.isPreferred&&!J.action.isPreferred?-1:!m.action.isPreferred&&J.action.isPreferred||m.action.isAI&&!J.action.isAI?1:!m.action.isAI&&J.action.isAI?-1:0),{validActions:K,allActions:O,documentation:z.documentation,hasAutoFix:z.hasAutoFix,hasAIFix:z.hasAIFix,allAIFixes:z.allAIFixes,dispose:()=>{z.dispose()}}}}}return(0,u.aI)(this._registry,S,y.selection,y.trigger,p.Ex.None,N)}));y.trigger.type===1&&((C=this._progressService)===null||C===void 0||C.showWhile(A,250)),this.setState(new i.Triggered(y.trigger,E,A))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:o.aQ.Default})}else this._supportedCodeActions.reset()}trigger(S){var g;(g=this._codeActionOracle.value)===null||g===void 0||g.trigger(S)}setState(S,g){S!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=S,!g&&!this._disposed&&this._onDidChangeState.fire(S))}}},3366:function(Ot,Ke,e){"use strict";e.d(Ke,{f:function(){return v}});var b=e(65321),U=e(10553),r=e(73046),w=e(4669),c=e(5976),_=e(25670),I=e(64141),M=e(59616),D=e(75396),p=e(63580),o=e(94565),u=e(91847),d=function(a,S,g,y){var C=arguments.length,E=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,S,g,y);else for(var N=a.length-1;N>=0;N--)(A=a[N])&&(E=(C<3?A(E):C>3?A(S,g,E):A(S,g))||E);return C>3&&E&&Object.defineProperty(S,g,E),E},n=function(a,S){return function(g,y){S(g,y,a)}},i,f;(function(a){a.Hidden={type:0};class S{constructor(y,C,E,A){this.actions=y,this.trigger=C,this.editorPosition=E,this.widgetPosition=A,this.type=1}}a.Showing=S})(f||(f={}));let v=i=class extends c.JT{constructor(S,g,y){super(),this._editor=S,this._keybindingService=g,this._onClick=this._register(new w.Q5),this.onClick=this._onClick.event,this._state=f.Hidden,this._iconClasses=[],this._domNode=b.$("div.lightBulbWidget"),this._register(U.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(C=>{const E=this._editor.getModel();(this.state.type!==1||!E||this.state.editorPosition.lineNumber>=E.getLineCount())&&this.hide()})),this._register(b.GQ(this._domNode,C=>{var E;if(this.state.type!==1)return;const A=this._editor.getOption(64).experimental.showAiIcon;if((A===I.JO.On||A===I.JO.OnCode)&&this.state.actions.allAIFixes&&this.state.actions.validActions.length===1){const Y=this.state.actions.validActions[0].action;if(!((E=Y.command)===null||E===void 0)&&E.id){y.executeCommand(Y.command.id,...Y.command.arguments||[]),C.preventDefault();return}}this._editor.focus(),C.preventDefault();const{top:N,height:B}=b.i(this._domNode),W=this._editor.getOption(66);let $=Math.floor(W/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&($+=W),this._onClick.fire({x:C.posx,y:N+B+$,actions:this.state.actions,trigger:this.state.trigger})})),this._register(b.nm(this._domNode,"mouseenter",C=>{(C.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(C=>{C.hasChanged(64)&&(this._editor.getOption(64).enabled||this.hide(),this._updateLightBulbTitleAndIcon())})),this._register(w.ju.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var C,E,A,N;this._preferredKbLabel=(E=(C=this._keybindingService.lookupKeybinding(D.pZ))===null||C===void 0?void 0:C.getLabel())!==null&&E!==void 0?E:void 0,this._quickFixKbLabel=(N=(A=this._keybindingService.lookupKeybinding(D.cz))===null||A===void 0?void 0:A.getLabel())!==null&&N!==void 0?N:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(S,g,y){if(S.validActions.length<=0)return this.hide();const C=this._editor.getOptions();if(!C.get(64).enabled)return this.hide();const E=this._editor.getModel();if(!E)return this.hide();const{lineNumber:A,column:N}=E.validatePosition(y),B=E.getOptions().tabSize,W=C.get(50),$=E.getLineContent(A),Y=(0,M.q)($,B),R=W.spaceWidth*Y>22,L=O=>O>2&&this._editor.getTopForLineNumber(O)===this._editor.getTopForLineNumber(O-1);let z=A;if(!R){if(A>1&&!L(A-1))z-=1;else if(!L(A+1))z+=1;else if(N*W.spaceWidth<22)return this.hide()}this.state=new f.Showing(S,g,y,{position:{lineNumber:z,column:E.getLineContent(z).match(/^\S\s*$/)?2:1},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==f.Hidden&&(this.state=f.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(S){this._state=S,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){var S,g,y;if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;const C=()=>{this._preferredKbLabel&&(this.title=p.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel))},E=()=>{this._quickFixKbLabel?this.title=p.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=p.NC("codeAction","Show Code Actions")};let A;const N=this._editor.getOption(64).experimental.showAiIcon;if(N===I.JO.On||N===I.JO.OnCode)if(N===I.JO.On&&this.state.actions.allAIFixes)if(A=r.l.sparkleFilled,this.state.actions.allAIFixes&&this.state.actions.validActions.length===1)if(((S=this.state.actions.validActions[0].action.command)===null||S===void 0?void 0:S.id)==="inlineChat.start"){const B=(y=(g=this._keybindingService.lookupKeybinding("inlineChat.start"))===null||g===void 0?void 0:g.getLabel())!==null&&y!==void 0?y:void 0;this.title=B?p.NC("codeActionStartInlineChatWithKb","Start Inline Chat ({0})",B):p.NC("codeActionStartInlineChat","Start Inline Chat")}else this.title=p.NC("codeActionTriggerAiAction","Trigger AI Action");else E();else this.state.actions.hasAutoFix?(this.state.actions.hasAIFix?A=r.l.lightbulbSparkleAutofix:A=r.l.lightbulbAutofix,C()):this.state.actions.hasAIFix?(A=r.l.lightbulbSparkle,E()):(A=r.l.lightBulb,E());else this.state.actions.hasAutoFix?(A=r.l.lightbulbAutofix,C()):(A=r.l.lightBulb,E());this._iconClasses=_.k.asClassNameArray(A),this._domNode.classList.add(...this._iconClasses)}set title(S){this._domNode.title=S}};v.ID="editor.contrib.lightbulbWidget",v._posPref=[0],v=i=d([n(1,u.d),n(2,o.H)],v)},87997:function(Ot,Ke,e){"use strict";e.d(Ke,{EU:function(){return w},Yl:function(){return c},aQ:function(){return r},bA:function(){return M},wZ:function(){return I},yN:function(){return U}});var b=e(17301);class U{constructor(p){this.value=p}equals(p){return this.value===p.value}contains(p){return this.equals(p)||this.value===""||p.value.startsWith(this.value+U.sep)}intersects(p){return this.contains(p)||p.contains(this)}append(p){return new U(this.value+U.sep+p)}}U.sep=".",U.None=new U("@@none@@"),U.Empty=new U(""),U.QuickFix=new U("quickfix"),U.Refactor=new U("refactor"),U.RefactorExtract=U.Refactor.append("extract"),U.RefactorInline=U.Refactor.append("inline"),U.RefactorMove=U.Refactor.append("move"),U.RefactorRewrite=U.Refactor.append("rewrite"),U.Notebook=new U("notebook"),U.Source=new U("source"),U.SourceOrganizeImports=U.Source.append("organizeImports"),U.SourceFixAll=U.Source.append("fixAll"),U.SurroundWith=U.Refactor.append("surround");var r;(function(D){D.Refactor="refactor",D.RefactorPreview="refactor preview",D.Lightbulb="lightbulb",D.Default="other (default)",D.SourceAction="source action",D.QuickFix="quick fix action",D.FixAll="fix all",D.OrganizeImports="organize imports",D.AutoFix="auto fix",D.QuickFixHover="quick fix hover window",D.OnSave="save participants",D.ProblemsView="problems view"})(r||(r={}));function w(D,p){return!(D.include&&!D.include.intersects(p)||D.excludes&&D.excludes.some(o=>_(p,o,D.include))||!D.includeSourceActions&&U.Source.contains(p))}function c(D,p){const o=p.kind?new U(p.kind):void 0;return!(D.include&&(!o||!D.include.contains(o))||D.excludes&&o&&D.excludes.some(u=>_(o,u,D.include))||!D.includeSourceActions&&o&&U.Source.contains(o)||D.onlyIncludePreferredActions&&!p.isPreferred)}function _(D,p,o){return!(!p.contains(D)||o&&p.contains(o))}class I{static fromUser(p,o){return!p||typeof p!="object"?new I(o.kind,o.apply,!1):new I(I.getKindFromUser(p,o.kind),I.getApplyFromUser(p,o.apply),I.getPreferredUser(p))}static getApplyFromUser(p,o){switch(typeof p.apply=="string"?p.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return o}}static getKindFromUser(p,o){return typeof p.kind=="string"?new U(p.kind):o}static getPreferredUser(p){return typeof p.preferred=="boolean"?p.preferred:!1}constructor(p,o,u){this.kind=p,this.apply=o,this.preferred=u}}class M{constructor(p,o,u){this.action=p,this.provider=o,this.highlightRange=u}resolve(p){return tn(this,null,function*(){var o;if(!((o=this.provider)===null||o===void 0)&&o.resolveCodeAction&&!this.action.edit){let u;try{u=yield this.provider.resolveCodeAction(this.action,p)}catch(d){(0,b.Cp)(d)}u&&(this.action.edit=u.edit)}return this})}}},32871:function(Ot,Ke,e){"use strict";var b=e(15393),U=e(17301),r=e(5976),w=e(43407),c=e(16830),_=e(64141),I=e(29102),M=e(71050),D=e(98401),p=e(70666),o=e(73733),u=e(94565),d=e(71922);class n{constructor(){this.lenses=[],this._disposables=new r.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(te,le){this._disposables.add(te);for(const ge of te.lenses)this.lenses.push({symbol:ge,provider:le})}}function i(X,te,le){return tn(this,null,function*(){const ge=X.ordered(te),we=new Map,pe=new n,Pe=ge.map((Ne,ae)=>tn(this,null,function*(){we.set(Ne,ae);try{const Me=yield Promise.resolve(Ne.provideCodeLenses(te,le));Me&&pe.add(Me,Ne)}catch(Me){(0,U.Cp)(Me)}}));return yield Promise.all(Pe),pe.lenses=pe.lenses.sort((Ne,ae)=>Ne.symbol.range.startLineNumber<ae.symbol.range.startLineNumber?-1:Ne.symbol.range.startLineNumber>ae.symbol.range.startLineNumber?1:we.get(Ne.provider)<we.get(ae.provider)?-1:we.get(Ne.provider)>we.get(ae.provider)?1:Ne.symbol.range.startColumn<ae.symbol.range.startColumn?-1:Ne.symbol.range.startColumn>ae.symbol.range.startColumn?1:0),pe})}u.P.registerCommand("_executeCodeLensProvider",function(X,...te){let[le,ge]=te;(0,D.p_)(p.o.isUri(le)),(0,D.p_)(typeof ge=="number"||!ge);const{codeLensProvider:we}=X.get(d.p),pe=X.get(o.q).getModel(le);if(!pe)throw(0,U.b1)();const Pe=[],Ne=new r.SL;return i(we,pe,M.T.None).then(ae=>{Ne.add(ae);const Me=[];for(const ke of ae.lenses)ge==null||ke.symbol.command?Pe.push(ke.symbol):ge-- >0&&ke.provider.resolveCodeLens&&Me.push(Promise.resolve(ke.provider.resolveCodeLens(pe,ke.symbol,M.T.None)).then(Ue=>Pe.push(Ue||ke.symbol)));return Promise.all(Me)}).then(()=>Pe).finally(()=>{setTimeout(()=>Ne.dispose(),100)})});var f=e(4669),v=e(43702),a=e(24314),S=e(65026),g=e(72065),y=e(87060),C=e(48906),E=e(65321),A=function(X,te,le,ge){var we=arguments.length,pe=we<3?te:ge===null?ge=Object.getOwnPropertyDescriptor(te,le):ge,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(X,te,le,ge);else for(var Ne=X.length-1;Ne>=0;Ne--)(Pe=X[Ne])&&(pe=(we<3?Pe(pe):we>3?Pe(te,le,pe):Pe(te,le))||pe);return we>3&&pe&&Object.defineProperty(te,le,pe),pe},N=function(X,te){return function(le,ge){te(le,ge,X)}};const B=(0,g.yh)("ICodeLensCache");class W{constructor(te,le){this.lineCount=te,this.data=le}}let $=class{constructor(te){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new v.z6(20,.75);const le="codelens/cache";(0,E.se)(C.Ex,()=>te.remove(le,1));const ge="codelens/cache2",we=te.get(ge,1,"{}");this._deserialize(we),f.ju.once(te.onWillSaveState)(pe=>{pe.reason===y.fk.SHUTDOWN&&te.store(ge,this._serialize(),1,1)})}put(te,le){const ge=le.lenses.map(Pe=>{var Ne;return{range:Pe.symbol.range,command:Pe.symbol.command&&{id:"",title:(Ne=Pe.symbol.command)===null||Ne===void 0?void 0:Ne.title}}}),we=new n;we.add({lenses:ge,dispose:()=>{}},this._fakeProvider);const pe=new W(te.getLineCount(),we);this._cache.set(te.uri.toString(),pe)}get(te){const le=this._cache.get(te.uri.toString());return le&&le.lineCount===te.getLineCount()?le.data:void 0}delete(te){this._cache.delete(te.uri.toString())}_serialize(){const te=Object.create(null);for(const[le,ge]of this._cache){const we=new Set;for(const pe of ge.data.lenses)we.add(pe.symbol.range.startLineNumber);te[le]={lineCount:ge.lineCount,lines:[...we.values()]}}return JSON.stringify(te)}_deserialize(te){try{const le=JSON.parse(te);for(const ge in le){const we=le[ge],pe=[];for(const Ne of we.lines)pe.push({range:new a.e(Ne,1,Ne,11)});const Pe=new n;Pe.add({lenses:pe,dispose(){}},this._fakeProvider),this._cache.set(ge,new W(we.lineCount,Pe))}}catch(le){}}};$=A([N(0,y.Uy)],$),(0,S.z)(B,$,1);var Y=e(56811),R=e(84901);class L{constructor(te,le,ge){this.afterColumn=1073741824,this.afterLineNumber=te,this.heightInPx=le,this._onHeight=ge,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(te){this._lastHeight===void 0?this._lastHeight=te:this._lastHeight!==te&&(this._lastHeight=te,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class z{constructor(te,le){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=te,this._id=`codelens.widget-${z._idPool++}`,this.updatePosition(le),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(te,le){this._commands.clear();const ge=[];let we=!1;for(let pe=0;pe<te.length;pe++){const Pe=te[pe];if(Pe&&(we=!0,Pe.command)){const Ne=(0,Y.T)(Pe.command.title.trim());Pe.command.id?(ge.push(E.$("a",{id:String(pe),title:Pe.command.tooltip,role:"button"},...Ne)),this._commands.set(String(pe),Pe.command)):ge.push(E.$("span",{title:Pe.command.tooltip},...Ne)),pe+1<te.length&&ge.push(E.$("span",void 0,"\xA0|\xA0"))}}we?(E.mc(this._domNode,...ge),this._isEmpty&&le&&this._domNode.classList.add("fadein"),this._isEmpty=!1):E.mc(this._domNode,E.$("span",void 0,"no commands"))}getCommand(te){return te.parentElement===this._domNode?this._commands.get(te.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(te){const le=this._editor.getModel().getLineFirstNonWhitespaceColumn(te);this._widgetPosition={position:{lineNumber:te,column:le},preference:[1]}}getPosition(){return this._widgetPosition||null}}z._idPool=0;class O{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(te,le){this._addDecorations.push(te),this._addDecorationsCallbacks.push(le)}removeDecoration(te){this._removeDecorations.push(te)}commit(te){const le=te.deltaDecorations(this._removeDecorations,this._addDecorations);for(let ge=0,we=le.length;ge<we;ge++)this._addDecorationsCallbacks[ge](le[ge])}}const P=R.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class H{constructor(te,le,ge,we,pe,Pe){this._isDisposed=!1,this._editor=le,this._data=te,this._decorationIds=[];let Ne;const ae=[];this._data.forEach((Me,ke)=>{Me.symbol.command&&ae.push(Me.symbol),ge.addDecoration({range:Me.symbol.range,options:P},Ue=>this._decorationIds[ke]=Ue),Ne?Ne=a.e.plusRange(Ne,Me.symbol.range):Ne=a.e.lift(Me.symbol.range)}),this._viewZone=new L(Ne.startLineNumber-1,pe,Pe),this._viewZoneId=we.addZone(this._viewZone),ae.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ae,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new z(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(te,le){this._decorationIds.forEach(te.removeDecoration,te),this._decorationIds=[],le==null||le.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((te,le)=>{const ge=this._editor.getModel().getDecorationRange(te),we=this._data[le].symbol;return!!(ge&&a.e.isEmpty(we.range)===ge.isEmpty())})}updateCodeLensSymbols(te,le){this._decorationIds.forEach(le.removeDecoration,le),this._decorationIds=[],this._data=te,this._data.forEach((ge,we)=>{le.addDecoration({range:ge.symbol.range,options:P},pe=>this._decorationIds[we]=pe)})}updateHeight(te,le){this._viewZone.heightInPx=te,le.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(te){if(!this._viewZone.isVisible())return null;for(let le=0;le<this._decorationIds.length;le++){const ge=te.getDecorationRange(this._decorationIds[le]);ge&&(this._data[le].symbol.range=ge)}return this._data}updateCommands(te){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(te,!0);for(let le=0;le<this._data.length;le++){const ge=te[le];if(ge){const{symbol:we}=this._data[le];we.command=ge.command||we.command}}}getCommand(te){var le;return(le=this._contentWidget)===null||le===void 0?void 0:le.getCommand(te)}getLineNumber(){const te=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return te?te.startLineNumber:-1}update(te){if(this.isValid()){const le=this._editor.getModel().getDecorationRange(this._decorationIds[0]);le&&(this._viewZone.afterLineNumber=le.startLineNumber-1,te.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(le.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var V=e(63580),G=e(48894),j=e(41157),F=e(88191),K=function(X,te,le,ge){var we=arguments.length,pe=we<3?te:ge===null?ge=Object.getOwnPropertyDescriptor(te,le):ge,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(X,te,le,ge);else for(var Ne=X.length-1;Ne>=0;Ne--)(Pe=X[Ne])&&(pe=(we<3?Pe(pe):we>3?Pe(te,le,pe):Pe(te,le))||pe);return we>3&&pe&&Object.defineProperty(te,le,pe),pe},m=function(X,te){return function(le,ge){te(le,ge,X)}};let J=class{constructor(te,le,ge,we,pe,Pe){this._editor=te,this._languageFeaturesService=le,this._commandService=we,this._notificationService=pe,this._codeLensCache=Pe,this._disposables=new r.SL,this._localToDispose=new r.SL,this._lenses=[],this._oldCodeLensModels=new r.SL,this._provideCodeLensDebounce=ge.for(le.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=ge.for(le.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new b.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(Ne=>{(Ne.hasChanged(50)||Ne.hasChanged(19)||Ne.hasChanged(18))&&this._updateLensStyle(),Ne.hasChanged(17)&&this._onModelChange()})),this._disposables.add(le.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var te;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(te=this._currentCodeLensModel)===null||te===void 0||te.dispose()}_getLayoutInfo(){const te=Math.max(1.3,this._editor.getOption(66)/this._editor.getOption(52));let le=this._editor.getOption(19);return(!le||le<5)&&(le=this._editor.getOption(52)*.9|0),{fontSize:le,codeLensHeight:le*te|0}}_updateLensStyle(){const{codeLensHeight:te,fontSize:le}=this._getLayoutInfo(),ge=this._editor.getOption(18),we=this._editor.getOption(50),{style:pe}=this._editor.getContainerDomNode();pe.setProperty("--vscode-editorCodeLens-lineHeight",`${te}px`),pe.setProperty("--vscode-editorCodeLens-fontSize",`${le}px`),pe.setProperty("--vscode-editorCodeLens-fontFeatureSettings",we.fontFeatureSettings),ge&&(pe.setProperty("--vscode-editorCodeLens-fontFamily",ge),pe.setProperty("--vscode-editorCodeLens-fontFamilyDefault",_.hL.fontFamily)),this._editor.changeViewZones(Pe=>{for(const Ne of this._lenses)Ne.updateHeight(te,Pe)})}_localDispose(){var te,le,ge;(te=this._getCodeLensModelPromise)===null||te===void 0||te.cancel(),this._getCodeLensModelPromise=void 0,(le=this._resolveCodeLensesPromise)===null||le===void 0||le.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(ge=this._currentCodeLensModel)===null||ge===void 0||ge.dispose()}_onModelChange(){this._localDispose();const te=this._editor.getModel();if(!te||!this._editor.getOption(17)||te.isTooLargeForTokenization())return;const le=this._codeLensCache.get(te);if(le&&this._renderCodeLensSymbols(le),!this._languageFeaturesService.codeLensProvider.has(te)){le&&(0,b.Vg)(()=>{const we=this._codeLensCache.get(te);le===we&&(this._codeLensCache.delete(te),this._onModelChange())},30*1e3,this._localToDispose);return}for(const we of this._languageFeaturesService.codeLensProvider.all(te))if(typeof we.onDidChange=="function"){const pe=we.onDidChange(()=>ge.schedule());this._localToDispose.add(pe)}const ge=new b.pY(()=>{var we;const pe=Date.now();(we=this._getCodeLensModelPromise)===null||we===void 0||we.cancel(),this._getCodeLensModelPromise=(0,b.PG)(Pe=>i(this._languageFeaturesService.codeLensProvider,te,Pe)),this._getCodeLensModelPromise.then(Pe=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Pe,this._codeLensCache.put(te,Pe);const Ne=this._provideCodeLensDebounce.update(te,Date.now()-pe);ge.delay=Ne,this._renderCodeLensSymbols(Pe),this._resolveCodeLensesInViewportSoon()},U.dL)},this._provideCodeLensDebounce.get(te));this._localToDispose.add(ge),this._localToDispose.add((0,r.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var we;this._editor.changeDecorations(pe=>{this._editor.changeViewZones(Pe=>{const Ne=[];let ae=-1;this._lenses.forEach(ke=>{!ke.isValid()||ae===ke.getLineNumber()?Ne.push(ke):(ke.update(Pe),ae=ke.getLineNumber())});const Me=new O;Ne.forEach(ke=>{ke.dispose(Me,Pe),this._lenses.splice(this._lenses.indexOf(ke),1)}),Me.commit(pe)})}),ge.schedule(),this._resolveCodeLensesScheduler.cancel(),(we=this._resolveCodeLensesPromise)===null||we===void 0||we.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{ge.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{ge.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(we=>{we.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,r.OF)(()=>{if(this._editor.getModel()){const we=w.Z.capture(this._editor);this._editor.changeDecorations(pe=>{this._editor.changeViewZones(Pe=>{this._disposeAllLenses(pe,Pe)})}),we.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(we=>{if(we.target.type!==9)return;let pe=we.target.element;if((pe==null?void 0:pe.tagName)==="SPAN"&&(pe=pe.parentElement),(pe==null?void 0:pe.tagName)==="A")for(const Pe of this._lenses){const Ne=Pe.getCommand(pe);if(Ne){this._commandService.executeCommand(Ne.id,...Ne.arguments||[]).catch(ae=>this._notificationService.error(ae));break}}})),ge.schedule()}_disposeAllLenses(te,le){const ge=new O;for(const we of this._lenses)we.dispose(ge,le);te&&ge.commit(te),this._lenses.length=0}_renderCodeLensSymbols(te){if(!this._editor.hasModel())return;const le=this._editor.getModel().getLineCount(),ge=[];let we;for(const Ne of te.lenses){const ae=Ne.symbol.range.startLineNumber;ae<1||ae>le||(we&&we[we.length-1].symbol.range.startLineNumber===ae?we.push(Ne):(we=[Ne],ge.push(we)))}if(!ge.length&&!this._lenses.length)return;const pe=w.Z.capture(this._editor),Pe=this._getLayoutInfo();this._editor.changeDecorations(Ne=>{this._editor.changeViewZones(ae=>{const Me=new O;let ke=0,Ue=0;for(;Ue<ge.length&&ke<this._lenses.length;){const Le=ge[Ue][0].symbol.range.startLineNumber,ie=this._lenses[ke].getLineNumber();ie<Le?(this._lenses[ke].dispose(Me,ae),this._lenses.splice(ke,1)):ie===Le?(this._lenses[ke].updateCodeLensSymbols(ge[Ue],Me),Ue++,ke++):(this._lenses.splice(ke,0,new H(ge[Ue],this._editor,Me,ae,Pe.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ke++,Ue++)}for(;ke<this._lenses.length;)this._lenses[ke].dispose(Me,ae),this._lenses.splice(ke,1);for(;Ue<ge.length;)this._lenses.push(new H(ge[Ue],this._editor,Me,ae,Pe.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Ue++;Me.commit(Ne)})}),pe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var te;(te=this._resolveCodeLensesPromise)===null||te===void 0||te.cancel(),this._resolveCodeLensesPromise=void 0;const le=this._editor.getModel();if(!le)return;const ge=[],we=[];if(this._lenses.forEach(Ne=>{const ae=Ne.computeIfNecessary(le);ae&&(ge.push(ae),we.push(Ne))}),ge.length===0)return;const pe=Date.now(),Pe=(0,b.PG)(Ne=>{const ae=ge.map((Me,ke)=>{const Ue=new Array(Me.length),Le=Me.map((ie,ce)=>!ie.symbol.command&&typeof ie.provider.resolveCodeLens=="function"?Promise.resolve(ie.provider.resolveCodeLens(le,ie.symbol,Ne)).then(Re=>{Ue[ce]=Re},U.Cp):(Ue[ce]=ie.symbol,Promise.resolve(void 0)));return Promise.all(Le).then(()=>{!Ne.isCancellationRequested&&!we[ke].isDisposed()&&we[ke].updateCommands(Ue)})});return Promise.all(ae)});this._resolveCodeLensesPromise=Pe,this._resolveCodeLensesPromise.then(()=>{const Ne=this._resolveCodeLensesDebounce.update(le,Date.now()-pe);this._resolveCodeLensesScheduler.delay=Ne,this._currentCodeLensModel&&this._codeLensCache.put(le,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Pe===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},Ne=>{(0,U.dL)(Ne),Pe===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return tn(this,null,function*(){var te;return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((te=this._currentCodeLensModel)===null||te===void 0)&&te.isDisposed?void 0:this._currentCodeLensModel})}};J.ID="css.editor.codeLens",J=K([m(1,d.p),m(2,F.A),m(3,u.H),m(4,G.lT),m(5,B)],J),(0,c._K)(J.ID,J,1),(0,c.Qr)(class extends c.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:I.u.hasCodeLensProvider,label:(0,V.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(te,le){return tn(this,null,function*(){if(!le.hasModel())return;const ge=te.get(j.eJ),we=te.get(u.H),pe=te.get(G.lT),Pe=le.getSelection().positionLineNumber,Ne=le.getContribution(J.ID);if(!Ne)return;const ae=yield Ne.getModel();if(!ae)return;const Me=[];for(const Le of ae.lenses)Le.symbol.command&&Le.symbol.range.startLineNumber===Pe&&Me.push({label:Le.symbol.command.title,command:Le.symbol.command});if(Me.length===0)return;const ke=yield ge.pick(Me,{canPickMany:!1,placeHolder:(0,V.NC)("placeHolder","Select a command")});if(!ke)return;let Ue=ke.command;if(ae.isDisposed){const Le=yield Ne.getModel(),ie=Le==null?void 0:Le.lenses.find(ce=>{var Re;return ce.symbol.range.startLineNumber===Pe&&((Re=ce.symbol.command)===null||Re===void 0?void 0:Re.title)===Ue.title});if(!ie||!ie.symbol.command)return;Ue=ie.symbol.command}try{yield we.executeCommand(Ue.id,...Ue.arguments||[])}catch(Le){pe.error(Le)}})}})},52640:function(Ot,Ke,e){"use strict";e.d(Ke,{E:function(){return p},R:function(){return o}});var b=e(71050),U=e(17301),r=e(70666),w=e(24314),c=e(73733),_=e(94565),I=e(71922),M=e(15418),D=e(33108);function p(v,a,S,g=!0){return tn(this,null,function*(){return i(new u,v,a,S,g)})}function o(v,a,S,g){return Promise.resolve(S.provideColorPresentations(v,a,g))}class u{constructor(){}compute(a,S,g,y){return tn(this,null,function*(){const C=yield a.provideDocumentColors(S,g);if(Array.isArray(C))for(const E of C)y.push({colorInfo:E,provider:a});return Array.isArray(C)})}}class d{constructor(){}compute(a,S,g,y){return tn(this,null,function*(){const C=yield a.provideDocumentColors(S,g);if(Array.isArray(C))for(const E of C)y.push({range:E.range,color:[E.color.red,E.color.green,E.color.blue,E.color.alpha]});return Array.isArray(C)})}}class n{constructor(a){this.colorInfo=a}compute(a,S,g,y){return tn(this,null,function*(){const C=yield a.provideColorPresentations(S,this.colorInfo,b.T.None);return Array.isArray(C)&&y.push(...C),Array.isArray(C)})}}function i(v,a,S,g,y){return tn(this,null,function*(){let C=!1,E;const A=[],N=a.ordered(S);for(let B=N.length-1;B>=0;B--){const W=N[B];if(W instanceof M.G)E=W;else try{(yield v.compute(W,S,g,A))&&(C=!0)}catch($){(0,U.Cp)($)}}return C?A:E&&y?(yield v.compute(E,S,g,A),A):[]})}function f(v,a){const{colorProvider:S}=v.get(I.p),g=v.get(c.q).getModel(a);if(!g)throw(0,U.b1)();const y=v.get(D.Ui).getValue("editor.defaultColorDecorators",{resource:a});return{model:g,colorProviderRegistry:S,isDefaultColorDecoratorsEnabled:y}}_.P.registerCommand("_executeDocumentColorProvider",function(v,...a){const[S]=a;if(!(S instanceof r.o))throw(0,U.b1)();const{model:g,colorProviderRegistry:y,isDefaultColorDecoratorsEnabled:C}=f(v,S);return i(new d,y,g,b.T.None,C)}),_.P.registerCommand("_executeColorPresentationProvider",function(v,...a){const[S,g]=a,{uri:y,range:C}=g;if(!(y instanceof r.o)||!Array.isArray(S)||S.length!==4||!w.e.isIRange(C))throw(0,U.b1)();const{model:E,colorProviderRegistry:A,isDefaultColorDecoratorsEnabled:N}=f(v,y),[B,W,$,Y]=S;return i(new n({range:C,color:{red:B,green:W,blue:$,alpha:Y}}),A,E,b.T.None,N)})},46838:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(16830),r=e(24314),w=e(89431),c=e(1227),_=e(93463),I=e(66520);class M extends b.JT{constructor(p){super(),this._editor=p,this._register(p.onMouseDown(o=>this.onMouseDown(o)))}dispose(){super.dispose()}onMouseDown(p){const o=this._editor.getOption(146);if(o!=="click"&&o!=="clickAndHover")return;const u=p.target;if(u.type!==6||!u.detail.injectedText||u.detail.injectedText.options.attachedData!==w.Ak||!u.range)return;const d=this._editor.getContribution(_.E.ID);if(d&&!d.isColorPickerVisible){const n=new r.e(u.range.startLineNumber,u.range.startColumn+1,u.range.endLineNumber,u.range.endColumn+1);d.showContentHover(n,1,0,!1,!0)}}}M.ID="editor.contrib.colorContribution",(0,U._K)(M.ID,M,2),I.Ae.register(c.nh)},89431:function(Ot,Ke,e){"use strict";e.d(Ke,{Ak:function(){return S},if:function(){return g}});var b=e(15393),U=e(41264),r=e(17301),w=e(4669),c=e(5976),_=e(84013),I=e(97295),M=e(29994),D=e(16830),p=e(24314),o=e(84901),u=e(88191),d=e(71922),n=e(52640),i=e(33108),f=function(C,E,A,N){var B=arguments.length,W=B<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,A):N,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(C,E,A,N);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(W=(B<3?$(W):B>3?$(E,A,W):$(E,A))||W);return B>3&&W&&Object.defineProperty(E,A,W),W},v=function(C,E){return function(A,N){E(A,N,C)}},a;const S=Object.create({});let g=a=class extends c.JT{constructor(E,A,N,B){super(),this._editor=E,this._configurationService=A,this._languageFeaturesService=N,this._localToDispose=this._register(new c.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new M.t7(this._editor),this._decoratorLimitReporter=new y,this._colorDecorationClassRefs=this._register(new c.SL),this._debounceInformation=B.for(N.colorProvider,"Document Colors",{min:a.RECOMPUTE_TIME}),this._register(E.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(E.onDidChangeModelLanguage(()=>this.updateColors())),this._register(N.colorProvider.onDidChange(()=>this.updateColors())),this._register(E.onDidChangeConfiguration(W=>{const $=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145);const Y=$!==this._isColorDecoratorsEnabled||W.hasChanged(21),R=W.hasChanged(145);(Y||R)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145),this.updateColors()}isEnabled(){const E=this._editor.getModel();if(!E)return!1;const A=E.getLanguageId(),N=this._configurationService.getValue(A);if(N&&typeof N=="object"){const B=N.colorDecorators;if(B&&B.enable!==void 0&&!B.enable)return B.enable}return this._editor.getOption(20)}static get(E){return E.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const E=this._editor.getModel();!E||!this._languageFeaturesService.colorProvider.has(E)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new b._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(E)))})),this.beginCompute())}beginCompute(){return tn(this,null,function*(){this._computePromise=(0,b.PG)(E=>tn(this,null,function*(){const A=this._editor.getModel();if(!A)return[];const N=new _.G(!1),B=yield(0,n.E)(this._languageFeaturesService.colorProvider,A,E,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(A,N.elapsed()),B}));try{const E=yield this._computePromise;this.updateDecorations(E),this.updateColorDecorators(E),this._computePromise=null}catch(E){(0,r.dL)(E)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(E){const A=E.map(N=>({range:{startLineNumber:N.colorInfo.range.startLineNumber,startColumn:N.colorInfo.range.startColumn,endLineNumber:N.colorInfo.range.endLineNumber,endColumn:N.colorInfo.range.endColumn},options:o.qx.EMPTY}));this._editor.changeDecorations(N=>{this._decorationsIds=N.deltaDecorations(this._decorationsIds,A),this._colorDatas=new Map,this._decorationsIds.forEach((B,W)=>this._colorDatas.set(B,E[W]))})}updateColorDecorators(E){this._colorDecorationClassRefs.clear();const A=[],N=this._editor.getOption(21);for(let W=0;W<E.length&&A.length<N;W++){const{red:$,green:Y,blue:R,alpha:L}=E[W].colorInfo.color,z=new U.VS(Math.round($*255),Math.round(Y*255),Math.round(R*255),L),O=`rgba(${z.r}, ${z.g}, ${z.b}, ${z.a})`,P=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:O}));A.push({range:{startLineNumber:E[W].colorInfo.range.startLineNumber,startColumn:E[W].colorInfo.range.startColumn,endLineNumber:E[W].colorInfo.range.endLineNumber,endColumn:E[W].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:I.B4,inlineClassName:`${P.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:S}}})}const B=N<E.length?N:!1;this._decoratorLimitReporter.update(E.length,B),this._colorDecoratorIds.set(A)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(E){const A=this._editor.getModel();if(!A)return null;const N=A.getDecorationsInRange(p.e.fromPositions(E,E)).filter(B=>this._colorDatas.has(B.id));return N.length===0?null:this._colorDatas.get(N[0].id)}isColorDecoration(E){return this._colorDecoratorIds.has(E)}};g.ID="editor.contrib.colorDetector",g.RECOMPUTE_TIME=1e3,g=a=f([v(1,i.Ui),v(2,d.p),v(3,u.A)],g);class y{constructor(){this._onDidChange=new w.Q5,this._computed=0,this._limited=!1}update(E,A){(E!==this._computed||A!==this._limited)&&(this._computed=E,this._limited=A,this._onDidChange.fire())}}(0,D._K)(g.ID,g,1)},1227:function(Ot,Ke,e){"use strict";e.d(Ke,{nh:function(){return P},PQ:function(){return V}});var b=e(15393),U=e(71050),r=e(41264),w=e(5976),c=e(24314),_=e(52640),I=e(89431),M=e(4669);class D{get color(){return this._color}set color(J){this._color.equals(J)||(this._color=J,this._onDidChangeColor.fire(J))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(J){this._colorPresentations=J,this.presentationIndex>J.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(J,X,te){this.presentationIndex=te,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new M.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new M.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=J,this._color=J,this._colorPresentations=X}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(J,X){let te=-1;for(let le=0;le<this.colorPresentations.length;le++)if(X.toLowerCase()===this.colorPresentations[le].label){te=le;break}if(te===-1){const le=X.split("(")[0].toLowerCase();for(let ge=0;ge<this.colorPresentations.length;ge++)if(this.colorPresentations[ge].label.toLowerCase().startsWith(le)){te=ge;break}}te!==-1&&te!==this.presentationIndex&&(this.presentationIndex=te,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var p=e(16268),o=e(65321),u=e(93911),d=e(93794),n=e(73046),i=e(25670),f=e(27761),v=e(63580),a=e(73910),S=e(59554);const g=o.$;class y extends w.JT{constructor(J,X,te,le=!1){super(),this.model=X,this.showingStandaloneColorPicker=le,this._closeButton=null,this._domNode=g(".colorpicker-header"),o.R3(J,this._domNode),this._pickedColorNode=o.R3(this._domNode,g(".picked-color")),o.R3(this._pickedColorNode,g("span.codicon.codicon-color-mode")),this._pickedColorPresentation=o.R3(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const ge=(0,v.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",ge),this._originalColorNode=o.R3(this._domNode,g(".original-color")),this._originalColorNode.style.backgroundColor=r.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=te.getColorTheme().getColor(a.yJx)||r.Il.white,this._register(te.onDidColorThemeChange(we=>{this.backgroundColor=we.getColor(a.yJx)||r.Il.white})),this._register(o.nm(this._pickedColorNode,o.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(o.nm(this._originalColorNode,o.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(X.onDidChangeColor(this.onDidChangeColor,this)),this._register(X.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=r.Il.Format.CSS.format(X.color)||"",this._pickedColorNode.classList.toggle("light",X.color.rgba.a<.5?this.backgroundColor.isLighter():X.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new C(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(J){this._pickedColorNode.style.backgroundColor=r.Il.Format.CSS.format(J)||"",this._pickedColorNode.classList.toggle("light",J.rgba.a<.5?this.backgroundColor.isLighter():J.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class C extends w.JT{constructor(J){super(),this._onClicked=this._register(new M.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),o.R3(J,this._button);const X=document.createElement("div");X.classList.add("close-button-inner-div"),o.R3(this._button,X),o.R3(X,g(".button"+i.k.asCSSSelector((0,S.q5)("color-picker-close",n.l.close,(0,v.NC)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class E extends w.JT{constructor(J,X,te,le=!1){super(),this.model=X,this.pixelRatio=te,this._insertButton=null,this._domNode=g(".colorpicker-body"),o.R3(J,this._domNode),this._saturationBox=new A(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new B(this._domNode,this.model,le),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new W(this._domNode,this.model,le),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),le&&(this._insertButton=this._register(new $(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:J,v:X}){const te=this.model.color.hsva;this.model.color=new r.Il(new r.tx(te.h,J,X,te.a))}onDidOpacityChange(J){const X=this.model.color.hsva;this.model.color=new r.Il(new r.tx(X.h,X.s,X.v,J))}onDidHueChange(J){const X=this.model.color.hsva,te=(1-J)*360;this.model.color=new r.Il(new r.tx(te===360?0:te,X.s,X.v,X.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class A extends w.JT{constructor(J,X,te){super(),this.model=X,this.pixelRatio=te,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=g(".saturation-wrap"),o.R3(J,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",o.R3(this._domNode,this._canvas),this.selection=g(".saturation-selection"),o.R3(this._domNode,this.selection),this.layout(),this._register(o.nm(this._domNode,o.tw.POINTER_DOWN,le=>this.onPointerDown(le))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(J){if(!J.target||!(J.target instanceof Element))return;this.monitor=this._register(new u.C);const X=o.i(this._domNode);J.target!==this.selection&&this.onDidChangePosition(J.offsetX,J.offsetY),this.monitor.startMonitoring(J.target,J.pointerId,J.buttons,le=>this.onDidChangePosition(le.pageX-X.left,le.pageY-X.top),()=>null);const te=o.nm(J.target.ownerDocument,o.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),te.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(J,X){const te=Math.max(0,Math.min(1,J/this.width)),le=Math.max(0,Math.min(1,1-X/this.height));this.paintSelection(te,le),this._onDidChange.fire({s:te,v:le})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const J=this.model.color.hsva;this.paintSelection(J.s,J.v)}paint(){const J=this.model.color.hsva,X=new r.Il(new r.tx(J.h,1,1,1)),te=this._canvas.getContext("2d"),le=te.createLinearGradient(0,0,this._canvas.width,0);le.addColorStop(0,"rgba(255, 255, 255, 1)"),le.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),le.addColorStop(1,"rgba(255, 255, 255, 0)");const ge=te.createLinearGradient(0,0,0,this._canvas.height);ge.addColorStop(0,"rgba(0, 0, 0, 0)"),ge.addColorStop(1,"rgba(0, 0, 0, 1)"),te.rect(0,0,this._canvas.width,this._canvas.height),te.fillStyle=r.Il.Format.CSS.format(X),te.fill(),te.fillStyle=le,te.fill(),te.fillStyle=ge,te.fill()}paintSelection(J,X){this.selection.style.left=`${J*this.width}px`,this.selection.style.top=`${this.height-X*this.height}px`}onDidChangeColor(J){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const X=J.hsva;this.paintSelection(X.s,X.v)}}class N extends w.JT{constructor(J,X,te=!1){super(),this.model=X,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,te?(this.domNode=o.R3(J,g(".standalone-strip")),this.overlay=o.R3(this.domNode,g(".standalone-overlay"))):(this.domNode=o.R3(J,g(".strip")),this.overlay=o.R3(this.domNode,g(".overlay"))),this.slider=o.R3(this.domNode,g(".slider")),this.slider.style.top="0px",this._register(o.nm(this.domNode,o.tw.POINTER_DOWN,le=>this.onPointerDown(le))),this._register(X.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const J=this.getValue(this.model.color);this.updateSliderPosition(J)}onDidChangeColor(J){const X=this.getValue(J);this.updateSliderPosition(X)}onPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const X=this._register(new u.C),te=o.i(this.domNode);this.domNode.classList.add("grabbing"),J.target!==this.slider&&this.onDidChangeTop(J.offsetY),X.startMonitoring(J.target,J.pointerId,J.buttons,ge=>this.onDidChangeTop(ge.pageY-te.top),()=>null);const le=o.nm(J.target.ownerDocument,o.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),le.dispose(),X.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(J){const X=Math.max(0,Math.min(1,1-J/this.height));this.updateSliderPosition(X),this._onDidChange.fire(X)}updateSliderPosition(J){this.slider.style.top=`${(1-J)*this.height}px`}}class B extends N{constructor(J,X,te=!1){super(J,X,te),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(J){super.onDidChangeColor(J);const{r:X,g:te,b:le}=J.rgba,ge=new r.Il(new r.VS(X,te,le,1)),we=new r.Il(new r.VS(X,te,le,0));this.overlay.style.background=`linear-gradient(to bottom, ${ge} 0%, ${we} 100%)`}getValue(J){return J.hsva.a}}class W extends N{constructor(J,X,te=!1){super(J,X,te),this.domNode.classList.add("hue-strip")}getValue(J){return 1-J.hsva.h/360}}class $ extends w.JT{constructor(J){super(),this._onClicked=this._register(new M.Q5),this.onClicked=this._onClicked.event,this._button=o.R3(J,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=X=>{this._onClicked.fire()}}get button(){return this._button}}class Y extends d.${constructor(J,X,te,le,ge=!1){super(),this.model=X,this.pixelRatio=te,this._register(p.Tz.onDidChange(()=>this.layout()));const we=g(".colorpicker-widget");J.appendChild(we),this.header=this._register(new y(we,this.model,le,ge)),this.body=this._register(new E(we,this.model,this.pixelRatio,ge))}layout(){this.body.layout()}}var R=e(97781),L=function(m,J,X,te){var le=arguments.length,ge=le<3?J:te===null?te=Object.getOwnPropertyDescriptor(J,X):te,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(m,J,X,te);else for(var pe=m.length-1;pe>=0;pe--)(we=m[pe])&&(ge=(le<3?we(ge):le>3?we(J,X,ge):we(J,X))||ge);return le>3&&ge&&Object.defineProperty(J,X,ge),ge},z=function(m,J){return function(X,te){J(X,te,m)}};class O{constructor(J,X,te,le){this.owner=J,this.range=X,this.model=te,this.provider=le,this.forceShowAtRange=!0}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}}let P=class{constructor(J,X){this._editor=J,this._themeService=X,this.hoverOrdinal=2}computeSync(J,X){return[]}computeAsync(J,X,te){return b.Aq.fromPromise(this._computeAsync(J,X,te))}_computeAsync(J,X,te){return tn(this,null,function*(){if(!this._editor.hasModel())return[];const le=I.if.get(this._editor);if(!le)return[];for(const ge of X){if(!le.isColorDecoration(ge))continue;const we=le.getColorData(ge.range.getStartPosition());if(we)return[yield G(this,this._editor.getModel(),we.colorInfo,we.provider)]}return[]})}renderHoverParts(J,X){return j(this,this._editor,this._themeService,X,J)}};P=L([z(1,R.XE)],P);class H{constructor(J,X,te,le){this.owner=J,this.range=X,this.model=te,this.provider=le}}let V=class{constructor(J,X){this._editor=J,this._themeService=X,this._color=null}createColorHover(J,X,te){return tn(this,null,function*(){if(!this._editor.hasModel()||!I.if.get(this._editor))return null;const ge=yield(0,_.E)(te,this._editor.getModel(),U.T.None);let we=null,pe=null;for(const Me of ge){const ke=Me.colorInfo;c.e.containsRange(ke.range,J.range)&&(we=ke,pe=Me.provider)}const Pe=we!=null?we:J,Ne=pe!=null?pe:X,ae=!!we;return{colorHover:yield G(this,this._editor.getModel(),Pe,Ne),foundInEditor:ae}})}updateEditorModel(J){return tn(this,null,function*(){if(!this._editor.hasModel())return;const X=J.model;let te=new c.e(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn);this._color&&(yield K(this._editor.getModel(),X,this._color,te,J),te=F(this._editor,te,X))})}renderHoverParts(J,X){return j(this,this._editor,this._themeService,X,J)}set color(J){this._color=J}get color(){return this._color}};V=L([z(1,R.XE)],V);function G(m,J,X,te){return tn(this,null,function*(){const le=J.getValueInRange(X.range),{red:ge,green:we,blue:pe,alpha:Pe}=X.color,Ne=new r.VS(Math.round(ge*255),Math.round(we*255),Math.round(pe*255),Pe),ae=new r.Il(Ne),Me=yield(0,_.R)(J,X,te,U.T.None),ke=new D(ae,[],0);return ke.colorPresentations=Me||[],ke.guessColorPresentation(ae,le),m instanceof P?new O(m,c.e.lift(X.range),ke,te):new H(m,c.e.lift(X.range),ke,te)})}function j(m,J,X,te,le){if(te.length===0||!J.hasModel())return w.JT.None;if(le.setMinimumDimensions){const ke=J.getOption(66)+8;le.setMinimumDimensions(new o.Ro(302,ke))}const ge=new w.SL,we=te[0],pe=J.getModel(),Pe=we.model,Ne=ge.add(new Y(le.fragment,Pe,J.getOption(141),X,m instanceof V));le.setColorPicker(Ne);let ae=!1,Me=new c.e(we.range.startLineNumber,we.range.startColumn,we.range.endLineNumber,we.range.endColumn);if(m instanceof V){const ke=te[0].model.color;m.color=ke,K(pe,Pe,ke,Me,we),ge.add(Pe.onColorFlushed(Ue=>{m.color=Ue}))}else ge.add(Pe.onColorFlushed(ke=>tn(this,null,function*(){yield K(pe,Pe,ke,Me,we),ae=!0,Me=F(J,Me,Pe,le)})));return ge.add(Pe.onDidChangeColor(ke=>{K(pe,Pe,ke,Me,we)})),ge.add(J.onDidChangeModelContent(ke=>{ae?ae=!1:(le.hide(),J.focus())})),ge}function F(m,J,X,te){let le,ge;if(X.presentation.textEdit){le=[X.presentation.textEdit],ge=new c.e(X.presentation.textEdit.range.startLineNumber,X.presentation.textEdit.range.startColumn,X.presentation.textEdit.range.endLineNumber,X.presentation.textEdit.range.endColumn);const we=m.getModel()._setTrackedRange(null,ge,3);m.pushUndoStop(),m.executeEdits("colorpicker",le),ge=m.getModel()._getTrackedRange(we)||ge}else le=[{range:J,text:X.presentation.label,forceMoveMarkers:!1}],ge=J.setEndPosition(J.endLineNumber,J.startColumn+X.presentation.label.length),m.pushUndoStop(),m.executeEdits("colorpicker",le);return X.presentation.additionalTextEdits&&(le=[...X.presentation.additionalTextEdits],m.executeEdits("colorpicker",le),te&&te.hide()),m.pushUndoStop(),ge}function K(m,J,X,te,le){return tn(this,null,function*(){const ge=yield(0,_.R)(m,{range:te,color:{red:X.rgba.r/255,green:X.rgba.g/255,blue:X.rgba.b/255,alpha:X.rgba.a}},le.provider,U.T.None);J.colorPresentations=ge||[]})}},15418:function(Ot,Ke,e){"use strict";e.d(Ke,{G:function(){return p}});var b=e(41264),U=e(83379),r=e(73733),w=e(4256),c=e(5976),_=e(71922),I=e(10637),M=function(u,d,n,i){var f=arguments.length,v=f<3?d:i===null?i=Object.getOwnPropertyDescriptor(d,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(u,d,n,i);else for(var S=u.length-1;S>=0;S--)(a=u[S])&&(v=(f<3?a(v):f>3?a(d,n,v):a(d,n))||v);return f>3&&v&&Object.defineProperty(d,n,v),v},D=function(u,d){return function(n,i){d(n,i,u)}};class p{constructor(d,n){this._editorWorkerClient=new U.Q8(d,!1,"editorWorkerService",n)}provideDocumentColors(d,n){return tn(this,null,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(d.uri)})}provideColorPresentations(d,n,i){const f=n.range,v=n.color,a=v.alpha,S=new b.Il(new b.VS(Math.round(255*v.red),Math.round(255*v.green),Math.round(255*v.blue),a)),g=a?b.Il.Format.CSS.formatRGB(S):b.Il.Format.CSS.formatRGBA(S),y=a?b.Il.Format.CSS.formatHSL(S):b.Il.Format.CSS.formatHSLA(S),C=a?b.Il.Format.CSS.formatHex(S):b.Il.Format.CSS.formatHexA(S),E=[];return E.push({label:g,textEdit:{range:f,text:g}}),E.push({label:y,textEdit:{range:f,text:y}}),E.push({label:C,textEdit:{range:f,text:C}}),E}}let o=class extends c.JT{constructor(d,n,i){super(),this._register(i.colorProvider.register("*",new p(d,n)))}};o=M([D(0,r.q),D(1,w.c_),D(2,_.p)],o),(0,I.y)(o)},44536:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(63580),r=e(5976),w=e(1227),c=e(72065),_=e(41470),I=e(91847),M=e(4669),D=e(71922),p=e(29102),o=e(32064),u=e(73733),d=e(4256),n=e(15418),i=e(65321),f=e(27761),v=function(R,L,z,O){var P=arguments.length,H=P<3?L:O===null?O=Object.getOwnPropertyDescriptor(L,z):O,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(R,L,z,O);else for(var G=R.length-1;G>=0;G--)(V=R[G])&&(H=(P<3?V(H):P>3?V(L,z,H):V(L,z))||H);return P>3&&H&&Object.defineProperty(L,z,H),H},a=function(R,L){return function(z,O){L(z,O,R)}},S,g;let y=S=class extends r.JT{constructor(L,z,O,P,H,V,G){super(),this._editor=L,this._modelService=O,this._keybindingService=P,this._instantiationService=H,this._languageFeatureService=V,this._languageConfigurationService=G,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=p.u.standaloneColorPickerVisible.bindTo(z),this._standaloneColorPickerFocused=p.u.standaloneColorPickerFocused.bindTo(z)}showOrFocus(){var L;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(L=this._standaloneColorPickerWidget)===null||L===void 0||L.focus():this._standaloneColorPickerWidget=new A(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var L;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(L=this._standaloneColorPickerWidget)===null||L===void 0||L.hide(),this._editor.focus()}insertColor(){var L;(L=this._standaloneColorPickerWidget)===null||L===void 0||L.updateEditor(),this.hide()}static get(L){return L.getContribution(S.ID)}};y.ID="editor.contrib.standaloneColorPickerController",y=S=v([a(1,o.i6),a(2,u.q),a(3,I.d),a(4,c.TG),a(5,D.p),a(6,d.c_)],y),(0,b._K)(y.ID,y,1);const C=8,E=22;let A=g=class extends r.JT{constructor(L,z,O,P,H,V,G,j){var F;super(),this._editor=L,this._standaloneColorPickerVisible=z,this._standaloneColorPickerFocused=O,this._modelService=H,this._keybindingService=V,this._languageFeaturesService=G,this._languageConfigurationService=j,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new M.Q5),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=P.createInstance(w.PQ,this._editor),this._position=(F=this._editor._getViewModel())===null||F===void 0?void 0:F.getPrimaryCursorState().modelState.position;const K=this._editor.getSelection(),m=K?{startLineNumber:K.startLineNumber,startColumn:K.startColumn,endLineNumber:K.endLineNumber,endColumn:K.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},J=this._register(i.go(this._body));this._register(J.onDidBlur(X=>{this.hide()})),this._register(J.onDidFocus(X=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(X=>{var te;const le=(te=X.target.element)===null||te===void 0?void 0:te.classList;le&&le.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(X=>{this._render(X.value,X.foundInEditor)})),this._start(m),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return g.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const L=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:L?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(L){return tn(this,null,function*(){const z=yield this._computeAsync(L);z&&this._onResult.fire(new N(z.result,z.foundInEditor))})}_computeAsync(L){return tn(this,null,function*(){if(!this._editor.hasModel())return null;const z={range:L,color:{red:0,green:0,blue:0,alpha:1}},O=yield this._standaloneColorPickerParticipant.createColorHover(z,new n.G(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return O?{result:O.colorHover,foundInEditor:O.foundInEditor}:null})}_render(L,z){const O=document.createDocumentFragment(),P=this._register(new _.mR(this._keybindingService));let H;const V={fragment:O,statusBar:P,setColorPicker:le=>H=le,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=L,this._register(this._standaloneColorPickerParticipant.renderHoverParts(V,[L])),H===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(O),H.layout();const G=H.body,j=G.saturationBox.domNode.clientWidth,F=G.domNode.clientWidth-j-E-C,K=H.body.enterButton;K==null||K.onClicked(()=>{this.updateEditor(),this.hide()});const m=H.header,J=m.pickedColorNode;J.style.width=j+C+"px";const X=m.originalColorNode;X.style.width=F+"px";const te=H.header.closeButton;te==null||te.onClicked(()=>{this.hide()}),z&&(K&&(K.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(L.range)),this._editor.layoutContentWidget(this)}};A.ID="editor.contrib.standaloneColorPickerWidget",A=g=v([a(3,c.TG),a(4,u.q),a(5,I.d),a(6,D.p),a(7,d.c_)],A);class N{constructor(L,z){this.value=L,this.foundInEditor=z}}var B=e(84144);class W extends b.x1{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,U.NC)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:(0,U.NC)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:B.eH.CommandPalette}]})}runEditorCommand(L,z){var O;(O=y.get(z))===null||O===void 0||O.showOrFocus()}}class $ extends b.R6{constructor(){super({id:"editor.action.hideColorPicker",label:(0,U.NC)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:p.u.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(L,z){var O;(O=y.get(z))===null||O===void 0||O.hide()}}class Y extends b.R6{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,U.NC)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:p.u.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(L,z){var O;(O=y.get(z))===null||O===void 0||O.insertColor()}}(0,b.Qr)($),(0,b.Qr)(Y),(0,B.r1)(W)},39956:function(Ot,Ke,e){"use strict";var b=e(22258),U=e(16830),r=e(24314),w=e(29102),c=e(4256),_=e(69386),I=e(50187),M=e(3860);class D{constructor(g,y,C){this.languageConfigurationService=C,this._selection=g,this._insertSpace=y,this._usedEndToken=null}static _haystackHasNeedleAtOffset(g,y,C){if(C<0)return!1;const E=y.length,A=g.length;if(C+E>A)return!1;for(let N=0;N<E;N++){const B=g.charCodeAt(C+N),W=y.charCodeAt(N);if(B!==W&&!(B>=65&&B<=90&&B+32===W)&&!(W>=65&&W<=90&&W+32===B))return!1}return!0}_createOperationsForBlockComment(g,y,C,E,A,N){const B=g.startLineNumber,W=g.startColumn,$=g.endLineNumber,Y=g.endColumn,R=A.getLineContent(B),L=A.getLineContent($);let z=R.lastIndexOf(y,W-1+y.length),O=L.indexOf(C,Y-1-C.length);if(z!==-1&&O!==-1)if(B===$)R.substring(z+y.length,O).indexOf(C)>=0&&(z=-1,O=-1);else{const H=R.substring(z+y.length),V=L.substring(0,O);(H.indexOf(C)>=0||V.indexOf(C)>=0)&&(z=-1,O=-1)}let P;z!==-1&&O!==-1?(E&&z+y.length<R.length&&R.charCodeAt(z+y.length)===32&&(y=y+" "),E&&O>0&&L.charCodeAt(O-1)===32&&(C=" "+C,O-=1),P=D._createRemoveBlockCommentOperations(new r.e(B,z+y.length+1,$,O+1),y,C)):(P=D._createAddBlockCommentOperations(g,y,C,this._insertSpace),this._usedEndToken=P.length===1?C:null);for(const H of P)N.addTrackedEditOperation(H.range,H.text)}static _createRemoveBlockCommentOperations(g,y,C){const E=[];return r.e.isEmpty(g)?E.push(_.h.delete(new r.e(g.startLineNumber,g.startColumn-y.length,g.endLineNumber,g.endColumn+C.length))):(E.push(_.h.delete(new r.e(g.startLineNumber,g.startColumn-y.length,g.startLineNumber,g.startColumn))),E.push(_.h.delete(new r.e(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn+C.length)))),E}static _createAddBlockCommentOperations(g,y,C,E){const A=[];return r.e.isEmpty(g)?A.push(_.h.replace(new r.e(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn),y+"  "+C)):(A.push(_.h.insert(new I.L(g.startLineNumber,g.startColumn),y+(E?" ":""))),A.push(_.h.insert(new I.L(g.endLineNumber,g.endColumn),(E?" ":"")+C))),A}getEditOperations(g,y){const C=this._selection.startLineNumber,E=this._selection.startColumn;g.tokenization.tokenizeIfCheap(C);const A=g.getLanguageIdAtPosition(C,E),N=this.languageConfigurationService.getLanguageConfiguration(A).comments;!N||!N.blockCommentStartToken||!N.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,N.blockCommentStartToken,N.blockCommentEndToken,this._insertSpace,g,y)}computeCursorState(g,y){const C=y.getInverseEditOperations();if(C.length===2){const E=C[0],A=C[1];return new M.Y(E.range.endLineNumber,E.range.endColumn,A.range.startLineNumber,A.range.startColumn)}else{const E=C[0].range,A=this._usedEndToken?-this._usedEndToken.length-1:0;return new M.Y(E.endLineNumber,E.endColumn+A,E.endLineNumber,E.endColumn+A)}}}var p=e(97295);class o{constructor(g,y,C,E,A,N,B){this.languageConfigurationService=g,this._selection=y,this._tabSize=C,this._type=E,this._insertSpace=A,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=N,this._ignoreFirstLine=B||!1}static _gatherPreflightCommentStrings(g,y,C,E){g.tokenization.tokenizeIfCheap(y);const A=g.getLanguageIdAtPosition(y,1),N=E.getLanguageConfiguration(A).comments,B=N?N.lineCommentToken:null;if(!B)return null;const W=[];for(let $=0,Y=C-y+1;$<Y;$++)W[$]={ignore:!1,commentStr:B,commentStrOffset:0,commentStrLength:B.length};return W}static _analyzeLines(g,y,C,E,A,N,B,W){let $=!0,Y;g===0?Y=!0:g===1?Y=!1:Y=!0;for(let R=0,L=E.length;R<L;R++){const z=E[R],O=A+R;if(O===A&&B){z.ignore=!0;continue}const P=C.getLineContent(O),H=p.LC(P);if(H===-1){z.ignore=N,z.commentStrOffset=P.length;continue}if($=!1,z.ignore=!1,z.commentStrOffset=H,Y&&!D._haystackHasNeedleAtOffset(P,z.commentStr,H)&&(g===0?Y=!1:g===1||(z.ignore=!0)),Y&&y){const V=H+z.commentStrLength;V<P.length&&P.charCodeAt(V)===32&&(z.commentStrLength+=1)}}if(g===0&&$){Y=!1;for(let R=0,L=E.length;R<L;R++)E[R].ignore=!1}return{supported:!0,shouldRemoveComments:Y,lines:E}}static _gatherPreflightData(g,y,C,E,A,N,B,W){const $=o._gatherPreflightCommentStrings(C,E,A,W);return $===null?{supported:!1}:o._analyzeLines(g,y,C,$,E,N,B,W)}_executeLineComments(g,y,C,E){let A;C.shouldRemoveComments?A=o._createRemoveLineCommentsOperations(C.lines,E.startLineNumber):(o._normalizeInsertionPoint(g,C.lines,E.startLineNumber,this._tabSize),A=this._createAddLineCommentsOperations(C.lines,E.startLineNumber));const N=new I.L(E.positionLineNumber,E.positionColumn);for(let B=0,W=A.length;B<W;B++)y.addEditOperation(A[B].range,A[B].text),r.e.isEmpty(A[B].range)&&r.e.getStartPosition(A[B].range).equals(N)&&g.getLineContent(N.lineNumber).length+1===N.column&&(this._deltaColumn=(A[B].text||"").length);this._selectionId=y.trackSelection(E)}_attemptRemoveBlockComment(g,y,C,E){let A=y.startLineNumber,N=y.endLineNumber;const B=E.length+Math.max(g.getLineFirstNonWhitespaceColumn(y.startLineNumber),y.startColumn);let W=g.getLineContent(A).lastIndexOf(C,B-1),$=g.getLineContent(N).indexOf(E,y.endColumn-1-C.length);return W!==-1&&$===-1&&($=g.getLineContent(A).indexOf(E,W+C.length),N=A),W===-1&&$!==-1&&(W=g.getLineContent(N).lastIndexOf(C,$),A=N),y.isEmpty()&&(W===-1||$===-1)&&(W=g.getLineContent(A).indexOf(C),W!==-1&&($=g.getLineContent(A).indexOf(E,W+C.length))),W!==-1&&g.getLineContent(A).charCodeAt(W+C.length)===32&&(C+=" "),$!==-1&&g.getLineContent(N).charCodeAt($-1)===32&&(E=" "+E,$-=1),W!==-1&&$!==-1?D._createRemoveBlockCommentOperations(new r.e(A,W+C.length+1,N,$+1),C,E):null}_executeBlockComment(g,y,C){g.tokenization.tokenizeIfCheap(C.startLineNumber);const E=g.getLanguageIdAtPosition(C.startLineNumber,1),A=this.languageConfigurationService.getLanguageConfiguration(E).comments;if(!A||!A.blockCommentStartToken||!A.blockCommentEndToken)return;const N=A.blockCommentStartToken,B=A.blockCommentEndToken;let W=this._attemptRemoveBlockComment(g,C,N,B);if(!W){if(C.isEmpty()){const $=g.getLineContent(C.startLineNumber);let Y=p.LC($);Y===-1&&(Y=$.length),W=D._createAddBlockCommentOperations(new r.e(C.startLineNumber,Y+1,C.startLineNumber,$.length+1),N,B,this._insertSpace)}else W=D._createAddBlockCommentOperations(new r.e(C.startLineNumber,g.getLineFirstNonWhitespaceColumn(C.startLineNumber),C.endLineNumber,g.getLineMaxColumn(C.endLineNumber)),N,B,this._insertSpace);W.length===1&&(this._deltaColumn=N.length+1)}this._selectionId=y.trackSelection(C);for(const $ of W)y.addEditOperation($.range,$.text)}getEditOperations(g,y){let C=this._selection;if(this._moveEndPositionDown=!1,C.startLineNumber===C.endLineNumber&&this._ignoreFirstLine){y.addEditOperation(new r.e(C.startLineNumber,g.getLineMaxColumn(C.startLineNumber),C.startLineNumber+1,1),C.startLineNumber===g.getLineCount()?"":`
`),this._selectionId=y.trackSelection(C);return}C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._moveEndPositionDown=!0,C=C.setEndPosition(C.endLineNumber-1,g.getLineMaxColumn(C.endLineNumber-1)));const E=o._gatherPreflightData(this._type,this._insertSpace,g,C.startLineNumber,C.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return E.supported?this._executeLineComments(g,y,E,C):this._executeBlockComment(g,y,C)}computeCursorState(g,y){let C=y.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(C=C.setEndPosition(C.endLineNumber+1,1)),new M.Y(C.selectionStartLineNumber,C.selectionStartColumn+this._deltaColumn,C.positionLineNumber,C.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(g,y){const C=[];for(let E=0,A=g.length;E<A;E++){const N=g[E];N.ignore||C.push(_.h.delete(new r.e(y+E,N.commentStrOffset+1,y+E,N.commentStrOffset+N.commentStrLength+1)))}return C}_createAddLineCommentsOperations(g,y){const C=[],E=this._insertSpace?" ":"";for(let A=0,N=g.length;A<N;A++){const B=g[A];B.ignore||C.push(_.h.insert(new I.L(y+A,B.commentStrOffset+1),B.commentStr+E))}return C}static nextVisibleColumn(g,y,C,E){return C?g+(y-g%y):g+E}static _normalizeInsertionPoint(g,y,C,E){let A=1073741824,N,B;for(let W=0,$=y.length;W<$;W++){if(y[W].ignore)continue;const Y=g.getLineContent(C+W);let R=0;for(let L=0,z=y[W].commentStrOffset;R<A&&L<z;L++)R=o.nextVisibleColumn(R,E,Y.charCodeAt(L)===9,1);R<A&&(A=R)}A=Math.floor(A/E)*E;for(let W=0,$=y.length;W<$;W++){if(y[W].ignore)continue;const Y=g.getLineContent(C+W);let R=0;for(N=0,B=y[W].commentStrOffset;R<A&&N<B;N++)R=o.nextVisibleColumn(R,E,Y.charCodeAt(N)===9,1);R>A?y[W].commentStrOffset=N-1:y[W].commentStrOffset=N}}}var u=e(63580),d=e(84144);class n extends U.R6{constructor(g,y){super(y),this._type=g}run(g,y){const C=g.get(c.c_);if(!y.hasModel())return;const E=y.getModel(),A=[],N=E.getOptions(),B=y.getOption(23),W=y.getSelections().map((Y,R)=>({selection:Y,index:R,ignoreFirstLine:!1}));W.sort((Y,R)=>r.e.compareRangesUsingStarts(Y.selection,R.selection));let $=W[0];for(let Y=1;Y<W.length;Y++){const R=W[Y];$.selection.endLineNumber===R.selection.startLineNumber&&($.index<R.index?R.ignoreFirstLine=!0:($.ignoreFirstLine=!0,$=R))}for(const Y of W)A.push(new o(C,Y.selection,N.tabSize,this._type,B.insertSpace,B.ignoreEmptyLines,Y.ignoreFirstLine));y.pushUndoStop(),y.executeCommands(this.id,A),y.pushUndoStop()}}class i extends n{constructor(){super(0,{id:"editor.action.commentLine",label:u.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:w.u.writable,kbOpts:{kbExpr:w.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:d.eH.MenubarEditMenu,group:"5_insert",title:u.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class f extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:w.u.writable,kbOpts:{kbExpr:w.u.editorTextFocus,primary:(0,b.gx)(2089,2081),weight:100}})}}class v extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:w.u.writable,kbOpts:{kbExpr:w.u.editorTextFocus,primary:(0,b.gx)(2089,2099),weight:100}})}}class a extends U.R6{constructor(){super({id:"editor.action.blockComment",label:u.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:w.u.writable,kbOpts:{kbExpr:w.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:d.eH.MenubarEditMenu,group:"5_insert",title:u.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(g,y){const C=g.get(c.c_);if(!y.hasModel())return;const E=y.getOption(23),A=[],N=y.getSelections();for(const B of N)A.push(new D(B,E.insertSpace,C));y.pushUndoStop(),y.executeCommands(this.id,A),y.pushUndoStop()}}(0,U.Qr)(i),(0,U.Qr)(f),(0,U.Qr)(v),(0,U.Qr)(a)},93740:function(Ot,Ke,e){"use strict";var b=e(65321),U=e(41923),r=e(74741),w=e(5976),c=e(1432),_=e(16830),I=e(29102),M=e(63580),D=e(84144),p=e(32064),o=e(5606),u=e(91847),d=e(33108),n=e(40382),i=function(g,y,C,E){var A=arguments.length,N=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,C):E,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,y,C,E);else for(var W=g.length-1;W>=0;W--)(B=g[W])&&(N=(A<3?B(N):A>3?B(y,C,N):B(y,C))||N);return A>3&&N&&Object.defineProperty(y,C,N),N},f=function(g,y){return function(C,E){y(C,E,g)}},v;let a=v=class{static get(y){return y.getContribution(v.ID)}constructor(y,C,E,A,N,B,W,$){this._contextMenuService=C,this._contextViewService=E,this._contextKeyService=A,this._keybindingService=N,this._menuService=B,this._configurationService=W,this._workspaceContextService=$,this._toDispose=new w.SL,this._contextMenuIsBeingShownCount=0,this._editor=y,this._toDispose.add(this._editor.onContextMenu(Y=>this._onContextMenu(Y))),this._toDispose.add(this._editor.onMouseWheel(Y=>{if(this._contextMenuIsBeingShownCount>0){const R=this._contextViewService.getContextViewElement(),L=Y.srcElement;L.shadowRoot&&b.Ay(R)===L.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(Y=>{this._editor.getOption(24)&&Y.keyCode===58&&(Y.preventDefault(),Y.stopPropagation(),this.showContextMenu())}))}_onContextMenu(y){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),y.target.position&&!this._editor.getSelection().containsPosition(y.target.position)&&this._editor.setPosition(y.target.position);return}if(y.target.type===12||y.target.type===6&&y.target.detail.injectedText)return;if(y.event.preventDefault(),y.event.stopPropagation(),y.target.type===11)return this._showScrollbarContextMenu(y.event);if(y.target.type!==6&&y.target.type!==7&&y.target.type!==1)return;if(this._editor.focus(),y.target.position){let E=!1;for(const A of this._editor.getSelections())if(A.containsPosition(y.target.position)){E=!0;break}E||this._editor.setPosition(y.target.position)}let C=null;y.target.type!==1&&(C=y.event),this.showContextMenu(C)}showContextMenu(y){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const C=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?D.eH.SimpleEditorContext:D.eH.EditorContext);C.length>0&&this._doShowContextMenu(C,y)}_getMenuActions(y,C){const E=[],A=this._menuService.createMenu(C,this._contextKeyService),N=A.getActions({arg:y.uri});A.dispose();for(const B of N){const[,W]=B;let $=0;for(const Y of W)if(Y instanceof D.NZ){const R=this._getMenuActions(y,Y.item.submenu);R.length>0&&(E.push(new r.wY(Y.id,Y.label,R)),$++)}else E.push(Y),$++;$&&E.push(new r.Z0)}return E.length&&E.pop(),E}_doShowContextMenu(y,C=null){if(!this._editor.hasModel())return;const E=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let A=C;if(!A){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const B=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),W=b.i(this._editor.getDomNode()),$=W.left+B.left,Y=W.top+B.top+B.height;A={x:$,y:Y}}const N=this._editor.getOption(126)&&!c.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:N?this._editor.getDomNode():void 0,getAnchor:()=>A,getActions:()=>y,getActionViewItem:B=>{const W=this._keybindingFor(B);if(W)return new U.gU(B,B,{label:!0,keybinding:W.getLabel(),isMenu:!0});const $=B;return typeof $.getActionViewItem=="function"?$.getActionViewItem():new U.gU(B,B,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:B=>this._keybindingFor(B),onHide:B=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:E})}})}_showScrollbarContextMenu(y){if(!this._editor.hasModel()||(0,n.x)(this._workspaceContextService.getWorkspace()))return;const C=this._editor.getOption(72);let E=0;const A=Y=>({id:`menu-action-${++E}`,label:Y.label,tooltip:"",class:void 0,enabled:typeof Y.enabled=="undefined"?!0:Y.enabled,checked:Y.checked,run:Y.run}),N=(Y,R)=>new r.wY(`menu-action-${++E}`,Y,R,void 0),B=(Y,R,L,z,O)=>{if(!R)return A({label:Y,enabled:R,run:()=>{}});const P=V=>()=>{this._configurationService.updateValue(L,V)},H=[];for(const V of O)H.push(A({label:V.label,checked:z===V.value,run:P(V.value)}));return N(Y,H)},W=[];W.push(A({label:M.NC("context.minimap.minimap","Minimap"),checked:C.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!C.enabled)}})),W.push(new r.Z0),W.push(A({label:M.NC("context.minimap.renderCharacters","Render Characters"),enabled:C.enabled,checked:C.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!C.renderCharacters)}})),W.push(B(M.NC("context.minimap.size","Vertical size"),C.enabled,"editor.minimap.size",C.size,[{label:M.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:M.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:M.NC("context.minimap.size.fit","Fit"),value:"fit"}])),W.push(B(M.NC("context.minimap.slider","Slider"),C.enabled,"editor.minimap.showSlider",C.showSlider,[{label:M.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:M.NC("context.minimap.slider.always","Always"),value:"always"}]));const $=this._editor.getOption(126)&&!c.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:$?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>W,onHide:Y=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(y){return this._keybindingService.lookupKeybinding(y.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};a.ID="editor.contrib.contextmenu",a=v=i([f(1,o.i),f(2,o.u),f(3,p.i6),f(4,u.d),f(5,D.co),f(6,d.Ui),f(7,n.ec)],a);class S extends _.R6{constructor(){super({id:"editor.action.showContextMenu",label:M.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:I.u.textInputFocus,primary:1092,weight:100}})}run(y,C){var E;(E=a.get(C))===null||E===void 0||E.showContextMenu()}}(0,_._K)(a.ID,a,2),(0,_.Qr)(S)},41895:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(16830),r=e(29102),w=e(63580);class c{constructor(o){this.selections=o}equals(o){const u=this.selections.length,d=o.selections.length;if(u!==d)return!1;for(let n=0;n<u;n++)if(!this.selections[n].equalsSelection(o.selections[n]))return!1;return!0}}class _{constructor(o,u,d){this.cursorState=o,this.scrollTop=u,this.scrollLeft=d}}class I extends b.JT{static get(o){return o.getContribution(I.ID)}constructor(o){super(),this._editor=o,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(o.onDidChangeModel(u=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeModelContent(u=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeCursorSelection(u=>{if(this._isCursorUndoRedo||!u.oldSelections||u.oldModelVersionId!==u.modelVersionId)return;const d=new c(u.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(d)||(this._undoStack.push(new _(d,o.getScrollTop(),o.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _(new c(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _(new c(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(o){this._isCursorUndoRedo=!0,this._editor.setSelections(o.cursorState.selections),this._editor.setScrollPosition({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),this._isCursorUndoRedo=!1}}I.ID="editor.contrib.cursorUndoRedoController";class M extends U.R6{constructor(){super({id:"cursorUndo",label:w.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:2099,weight:100}})}run(o,u,d){var n;(n=I.get(u))===null||n===void 0||n.cursorUndo()}}class D extends U.R6{constructor(){super({id:"cursorRedo",label:w.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(o,u,d){var n;(n=I.get(u))===null||n===void 0||n.cursorRedo()}}(0,U._K)(I.ID,I,0),(0,U.Qr)(M),(0,U.Qr)(D)},2062:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(1432),r=e(16830),w=e(50187),c=e(24314),_=e(3860),I=e(84901);class M{constructor(u,d,n){this.selection=u,this.targetPosition=d,this.copy=n,this.targetSelection=null}getEditOperations(u,d){const n=u.getValueInRange(this.selection);if(this.copy||d.addEditOperation(this.selection,null),d.addEditOperation(new c.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new _.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new _.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new _.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new _.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new _.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(u,d){return this.targetSelection}}function D(o){return U.dz?o.altKey:o.ctrlKey}class p extends b.JT{constructor(u){super(),this._editor=u,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(d=>this._onEditorMouseDown(d))),this._register(this._editor.onMouseUp(d=>this._onEditorMouseUp(d))),this._register(this._editor.onMouseDrag(d=>this._onEditorMouseDrag(d))),this._register(this._editor.onMouseDrop(d=>this._onEditorMouseDrop(d))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(d=>this.onEditorKeyDown(d))),this._register(this._editor.onKeyUp(d=>this.onEditorKeyUp(d))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(u){!this._editor.getOption(35)||this._editor.getOption(22)||(D(u)&&(this._modifierPressed=!0),this._mouseDown&&D(u)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(u){!this._editor.getOption(35)||this._editor.getOption(22)||(D(u)&&(this._modifierPressed=!1),this._mouseDown&&u.keyCode===p.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(u){this._mouseDown=!0}_onEditorMouseUp(u){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(u){const d=u.target;if(this._dragSelection===null){const i=(this._editor.getSelections()||[]).filter(f=>d.position&&f.containsPosition(d.position));if(i.length===1)this._dragSelection=i[0];else return}D(u.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),d.position&&(this._dragSelection.containsPosition(d.position)?this._removeDecoration():this.showAt(d.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(u){if(u.target&&(this._hitContent(u.target)||this._hitMargin(u.target))&&u.target.position){const d=new w.L(u.target.position.lineNumber,u.target.position.column);if(this._dragSelection===null){let n=null;if(u.event.shiftKey){const i=this._editor.getSelection();if(i){const{selectionStartLineNumber:f,selectionStartColumn:v}=i;n=[new _.Y(f,v,d.lineNumber,d.column)]}}else n=(this._editor.getSelections()||[]).map(i=>i.containsPosition(d)?new _.Y(d.lineNumber,d.column,d.lineNumber,d.column):i);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(d)||(D(u.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(d)||this._dragSelection.getStartPosition().equals(d)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(p.ID,new M(this._dragSelection,d,D(u.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(u){this._dndDecorationIds.set([{range:new c.e(u.lineNumber,u.column,u.lineNumber,u.column),options:p._DECORATION_OPTIONS}]),this._editor.revealPosition(u,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(u){return u.type===6||u.type===7}_hitMargin(u){return u.type===2||u.type===3||u.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}p.ID="editor.contrib.dragAndDrop",p.TRIGGER_KEY_VALUE=U.dz?6:5,p._DECORATION_OPTIONS=I.qx.register({description:"dnd-target",className:"dnd-target"}),(0,r._K)(p.ID,p,2)},76917:function(Ot,Ke,e){"use strict";var b=e(71050),U=e(98401),r=e(70666),w=e(88216),c=e(30335),_=e(94565);_.P.registerCommand("_executeDocumentSymbolProvider",function(I,...M){return tn(this,null,function*(){const[D]=M;(0,U.p_)(r.o.isUri(D));const p=I.get(c.Je),u=yield I.get(w.S).createModelReference(D);try{return(yield p.getOrCreate(u.object.textEditorModel,b.T.None)).getTopLevelSymbols()}finally{u.dispose()}})})},30335:function(Ot,Ke,e){"use strict";e.d(Ke,{C3:function(){return S},H3:function(){return a},Je:function(){return g},sT:function(){return v}});var b=e(9488),U=e(71050),r=e(17301),w=e(53725),c=e(43702),_=e(50187),I=e(24314),M=e(88191),D=e(72065),p=e(65026),o=e(73733),u=e(5976),d=e(71922),n=function(C,E,A,N){var B=arguments.length,W=B<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,A):N,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(C,E,A,N);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(W=(B<3?$(W):B>3?$(E,A,W):$(E,A))||W);return B>3&&W&&Object.defineProperty(E,A,W),W},i=function(C,E){return function(A,N){E(A,N,C)}};class f{remove(){var E;(E=this.parent)===null||E===void 0||E.children.delete(this.id)}static findId(E,A){let N;typeof E=="string"?N=`${A.id}/${E}`:(N=`${A.id}/${E.name}`,A.children.get(N)!==void 0&&(N=`${A.id}/${E.name}_${E.range.startLineNumber}_${E.range.startColumn}`));let B=N;for(let W=0;A.children.get(B)!==void 0;W++)B=`${N}_${W}`;return B}static empty(E){return E.children.size===0}}class v extends f{constructor(E,A,N){super(),this.id=E,this.parent=A,this.symbol=N,this.children=new Map}}class a extends f{constructor(E,A,N,B){super(),this.id=E,this.parent=A,this.label=N,this.order=B,this.children=new Map}}class S extends f{static create(E,A,N){const B=new U.A(N),W=new S(A.uri),$=E.ordered(A),Y=$.map((L,z)=>{var O;const P=f.findId(`provider_${z}`,W),H=new a(P,W,(O=L.displayName)!==null&&O!==void 0?O:"Unknown Outline Provider",z);return Promise.resolve(L.provideDocumentSymbols(A,B.token)).then(V=>{for(const G of V||[])S._makeOutlineElement(G,H);return H},V=>((0,r.Cp)(V),H)).then(V=>{f.empty(V)?V.remove():W._groups.set(P,V)})}),R=E.onDidChange(()=>{const L=E.ordered(A);(0,b.fS)(L,$)||B.cancel()});return Promise.all(Y).then(()=>B.token.isCancellationRequested&&!N.isCancellationRequested?S.create(E,A,N):W._compact()).finally(()=>{B.dispose(),R.dispose(),B.dispose()})}static _makeOutlineElement(E,A){const N=f.findId(E,A),B=new v(N,A,E);if(E.children)for(const W of E.children)S._makeOutlineElement(W,B);A.children.set(B.id,B)}constructor(E){super(),this.uri=E,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let E=0;for(const[A,N]of this._groups)N.children.size===0?this._groups.delete(A):E+=1;if(E!==1)this.children=this._groups;else{const A=w.$.first(this._groups.values());for(const[,N]of A.children)N.parent=this,this.children.set(N.id,N)}return this}getTopLevelSymbols(){const E=[];for(const A of this.children.values())A instanceof v?E.push(A.symbol):E.push(...w.$.map(A.children.values(),N=>N.symbol));return E.sort((A,N)=>I.e.compareRangesUsingStarts(A.range,N.range))}asListOfDocumentSymbols(){const E=this.getTopLevelSymbols(),A=[];return S._flattenDocumentSymbols(A,E,""),A.sort((N,B)=>_.L.compare(I.e.getStartPosition(N.range),I.e.getStartPosition(B.range))||_.L.compare(I.e.getEndPosition(B.range),I.e.getEndPosition(N.range)))}static _flattenDocumentSymbols(E,A,N){for(const B of A)E.push({kind:B.kind,tags:B.tags,name:B.name,detail:B.detail,containerName:B.containerName||N,range:B.range,selectionRange:B.selectionRange,children:void 0}),B.children&&S._flattenDocumentSymbols(E,B.children,B.name)}}const g=(0,D.yh)("IOutlineModelService");let y=class{constructor(E,A,N){this._languageFeaturesService=E,this._disposables=new u.SL,this._cache=new c.z6(10,.7),this._debounceInformation=A.for(E.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(N.onModelRemoved(B=>{this._cache.delete(B.id)}))}dispose(){this._disposables.dispose()}getOrCreate(E,A){return tn(this,null,function*(){const N=this._languageFeaturesService.documentSymbolProvider,B=N.ordered(E);let W=this._cache.get(E.id);if(!W||W.versionId!==E.getVersionId()||!(0,b.fS)(W.provider,B)){const Y=new U.A;W={versionId:E.getVersionId(),provider:B,promiseCnt:0,source:Y,promise:S.create(N,E,Y.token),model:void 0},this._cache.set(E.id,W);const R=Date.now();W.promise.then(L=>{W.model=L,this._debounceInformation.update(E,Date.now()-R)}).catch(L=>{this._cache.delete(E.id)})}if(W.model)return W.model;W.promiseCnt+=1;const $=A.onCancellationRequested(()=>{--W.promiseCnt===0&&(W.source.cancel(),this._cache.delete(E.id))});try{return yield W.promise}finally{$.dispose()}})}};y=n([i(0,d.p),i(1,M.A),i(2,o.q)],y),(0,p.z)(g,y,1)},95329:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(10637),r=e(65321),w=e(9488),c=e(15393),_=e(73278),I=e(5976),M=e(81170),D=e(1432),p=e(98e3),o=e(35715),u=e(92944),d=e(66007),n=e(24314),i=e(71922),f=e(91092),v=e(14410),a=e(3665),S=e(63580),g=e(84972),y=e(32064),C=e(72065),E=e(90535),A=e(41157),N=e(17782),B=function(H,V,G,j){var F=arguments.length,K=F<3?V:j===null?j=Object.getOwnPropertyDescriptor(V,G):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,V,G,j);else for(var J=H.length-1;J>=0;J--)(m=H[J])&&(K=(F<3?m(K):F>3?m(V,G,K):m(V,G))||K);return F>3&&K&&Object.defineProperty(V,G,K),K},W=function(H,V){return function(G,j){V(G,j,H)}},$;const Y="editor.changePasteType",R=new y.uy("pasteWidgetVisible",!1,(0,S.NC)("pasteWidgetVisible","Whether the paste widget is showing")),L="application/vnd.code.copyMetadata";let z=$=class extends I.JT{static get(V){return V.getContribution($.ID)}constructor(V,G,j,F,K,m,J){super(),this._bulkEditService=j,this._clipboardService=F,this._languageFeaturesService=K,this._quickInputService=m,this._progressService=J,this._editor=V;const X=V.getContainerDomNode();this._register((0,r.nm)(X,"copy",te=>this.handleCopy(te))),this._register((0,r.nm)(X,"cut",te=>this.handleCopy(te))),this._register((0,r.nm)(X,"paste",te=>this.handlePaste(te),!0)),this._pasteProgressManager=this._register(new a.r("pasteIntoEditor",V,G)),this._postPasteWidgetManager=this._register(G.createInstance(N.p,"pasteIntoEditor",V,R,{id:Y,label:(0,S.NC)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(V){this._editor.focus();try{this._pasteAsActionContext={preferredId:V},(0,r.uP)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(84).enabled&&!this._editor.getOption(90)}handleCopy(V){var G,j;if(!this._editor.hasTextFocus()||(D.$L&&this._clipboardService.writeResources([]),!V.clipboardData||!this.isPasteAsEnabled()))return;const F=this._editor.getModel(),K=this._editor.getSelections();if(!F||!(K!=null&&K.length))return;const m=this._editor.getOption(37);let J=K;const X=K.length===1&&K[0].isEmpty();if(X){if(!m)return;J=[new n.e(J[0].startLineNumber,1,J[0].startLineNumber,1+F.getLineLength(J[0].startLineNumber))]}const te=(G=this._editor._getViewModel())===null||G===void 0?void 0:G.getPlainTextToCopy(K,m,D.ED),ge={multicursorText:Array.isArray(te)?te:null,pasteOnNewLine:X,mode:null},we=this._languageFeaturesService.documentPasteEditProvider.ordered(F).filter(Me=>!!Me.prepareDocumentPaste);if(!we.length){this.setCopyMetadata(V.clipboardData,{defaultPastePayload:ge});return}const pe=(0,u.B)(V.clipboardData),Pe=we.flatMap(Me=>{var ke;return(ke=Me.copyMimeTypes)!==null&&ke!==void 0?ke:[]}),Ne=(0,p.R)();this.setCopyMetadata(V.clipboardData,{id:Ne,providerCopyMimeTypes:Pe,defaultPastePayload:ge});const ae=(0,c.PG)(Me=>tn(this,null,function*(){const ke=(0,w.kX)(yield Promise.all(we.map(Ue=>tn(this,null,function*(){try{return yield Ue.prepareDocumentPaste(F,J,pe,Me)}catch(Le){console.error(Le);return}}))));ke.reverse();for(const Ue of ke)for(const[Le,ie]of Ue)pe.replace(Le,ie);return pe}));(j=this._currentCopyOperation)===null||j===void 0||j.dataTransferPromise.cancel(),this._currentCopyOperation={handle:Ne,dataTransferPromise:ae}}handlePaste(V){return tn(this,null,function*(){var G,j;if(!V.clipboardData||!this._editor.hasTextFocus())return;(G=this._currentPasteOperation)===null||G===void 0||G.cancel(),this._currentPasteOperation=void 0;const F=this._editor.getModel(),K=this._editor.getSelections();if(!(K!=null&&K.length)||!F||!this.isPasteAsEnabled())return;const m=this.fetchCopyMetadata(V),J=(0,u.L)(V.clipboardData);J.delete(L);const X=[...V.clipboardData.types,...(j=m==null?void 0:m.providerCopyMimeTypes)!==null&&j!==void 0?j:[],M.v.uriList],te=this._languageFeaturesService.documentPasteEditProvider.ordered(F).filter(le=>{var ge;return(ge=le.pasteMimeTypes)===null||ge===void 0?void 0:ge.some(we=>(0,_.SN)(we,X))});te.length&&(V.preventDefault(),V.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,te,K,J,m):this.doPasteInline(te,K,J,m))})}doPasteInline(V,G,j,F){const K=(0,c.PG)(m=>tn(this,null,function*(){const J=this._editor;if(!J.hasModel())return;const X=J.getModel(),te=new v.Dl(J,3,void 0,m);try{if(yield this.mergeInDataFromCopy(j,F,te.token),te.token.isCancellationRequested)return;const le=V.filter(we=>O(we,j));if(!le.length||le.length===1&&le[0].id==="text"){yield this.applyDefaultPasteHandler(j,F,te.token);return}const ge=yield this.getPasteEdits(le,j,X,G,te.token);if(te.token.isCancellationRequested)return;if(ge.length===1&&ge[0].providerId==="text"){yield this.applyDefaultPasteHandler(j,F,te.token);return}if(ge.length){const we=J.getOption(84).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(G,{activeEditIndex:0,allEdits:ge},we,te.token)}yield this.applyDefaultPasteHandler(j,F,te.token)}finally{te.dispose(),this._currentPasteOperation===K&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(G[0].getEndPosition(),(0,S.NC)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),K),this._currentPasteOperation=K}showPasteAsPick(V,G,j,F,K){const m=(0,c.PG)(J=>tn(this,null,function*(){const X=this._editor;if(!X.hasModel())return;const te=X.getModel(),le=new v.Dl(X,3,void 0,J);try{if(yield this.mergeInDataFromCopy(F,K,le.token),le.token.isCancellationRequested)return;let ge=G.filter(Ne=>O(Ne,F));V&&(ge=ge.filter(Ne=>Ne.id===V));const we=yield this.getPasteEdits(ge,F,te,j,le.token);if(le.token.isCancellationRequested||!we.length)return;let pe;if(V)pe=we.at(0);else{const Ne=yield this._quickInputService.pick(we.map(ae=>({label:ae.label,description:ae.providerId,detail:ae.detail,edit:ae})),{placeHolder:(0,S.NC)("pasteAsPickerPlaceholder","Select Paste Action")});pe=Ne==null?void 0:Ne.edit}if(!pe)return;const Pe=(0,f.n)(te.uri,j,pe);yield this._bulkEditService.apply(Pe,{editor:this._editor})}finally{le.dispose(),this._currentPasteOperation===m&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,S.NC)("pasteAsProgress","Running paste handlers")},()=>m)}setCopyMetadata(V,G){V.setData(L,JSON.stringify(G))}fetchCopyMetadata(V){var G;if(!V.clipboardData)return;const j=V.clipboardData.getData(L);if(j)try{return JSON.parse(j)}catch(m){return}const[F,K]=o.b6.getTextData(V.clipboardData);if(K)return{defaultPastePayload:{mode:K.mode,multicursorText:(G=K.multicursorText)!==null&&G!==void 0?G:null,pasteOnNewLine:!!K.isFromEmptySelection}}}mergeInDataFromCopy(V,G,j){return tn(this,null,function*(){var F;if(G!=null&&G.id&&((F=this._currentCopyOperation)===null||F===void 0?void 0:F.handle)===G.id){const K=yield this._currentCopyOperation.dataTransferPromise;if(j.isCancellationRequested)return;for(const[m,J]of K)V.replace(m,J)}if(!V.has(M.v.uriList)){const K=yield this._clipboardService.readResources();if(j.isCancellationRequested)return;K.length&&V.append(M.v.uriList,(0,_.ZO)(_.Z0.create(K)))}})}getPasteEdits(V,G,j,F,K){return tn(this,null,function*(){const m=yield(0,c.eP)(Promise.all(V.map(X=>tn(this,null,function*(){var te;try{const le=yield(te=X.provideDocumentPasteEdits)===null||te===void 0?void 0:te.call(X,j,F,G,K);if(le)return Ni(Xn({},le),{providerId:X.id})}catch(le){console.error(le)}}))),K),J=(0,w.kX)(m!=null?m:[]);return(0,f.C)(J)})}applyDefaultPasteHandler(V,G,j){return tn(this,null,function*(){var F,K,m;const J=(F=V.get(M.v.text))!==null&&F!==void 0?F:V.get("text");if(!J)return;const X=yield J.asString();if(j.isCancellationRequested)return;const te={text:X,pasteOnNewLine:(K=G==null?void 0:G.defaultPastePayload.pasteOnNewLine)!==null&&K!==void 0?K:!1,multicursorText:(m=G==null?void 0:G.defaultPastePayload.multicursorText)!==null&&m!==void 0?m:null,mode:null};this._editor.trigger("keyboard","paste",te)})}};z.ID="editor.contrib.copyPasteActionController",z=$=B([W(1,C.TG),W(2,d.vu),W(3,g.p),W(4,i.p),W(5,A.eJ),W(6,E.R9)],z);function O(H,V){var G;return!!(!((G=H.pasteMimeTypes)===null||G===void 0)&&G.some(j=>V.matches(j)))}var P=e(51512);(0,b._K)(z.ID,z,0),(0,U.y)(P.v),(0,b.fK)(new class extends b._l{constructor(){super({id:Y,precondition:R,kbOpts:{weight:100,primary:2137}})}runEditorCommand(H,V,G){var j;return(j=z.get(V))===null||j===void 0?void 0:j.changePasteType()}}),(0,b.Qr)(class extends b.R6{constructor(){super({id:"editor.action.pasteAs",label:S.NC("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,metadata:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:S.NC("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(H,V,G){var j;const F=typeof(G==null?void 0:G.id)=="string"?G.id:void 0;return(j=z.get(V))===null||j===void 0?void 0:j.pasteAs(F)}})},51512:function(Ot,Ke,e){"use strict";e.d(Ke,{P:function(){return S},v:function(){return g}});var b=e(9488),U=e(73278),r=e(5976),w=e(81170),c=e(66663),_=e(95935),I=e(70666),M=e(71922),D=e(63580),p=e(40382),o=function(y,C,E,A){var N=arguments.length,B=N<3?C:A===null?A=Object.getOwnPropertyDescriptor(C,E):A,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(y,C,E,A);else for(var $=y.length-1;$>=0;$--)(W=y[$])&&(B=(N<3?W(B):N>3?W(C,E,B):W(C,E))||B);return N>3&&B&&Object.defineProperty(C,E,B),B},u=function(y,C){return function(E,A){C(E,A,y)}};const d=(0,D.NC)("builtIn","Built-in");class n{provideDocumentPasteEdits(C,E,A,N){return tn(this,null,function*(){const B=yield this.getEdit(A,N);return B?{insertText:B.insertText,label:B.label,detail:B.detail,handledMimeType:B.handledMimeType,yieldTo:B.yieldTo}:void 0})}provideDocumentOnDropEdits(C,E,A,N){return tn(this,null,function*(){const B=yield this.getEdit(A,N);return B?{insertText:B.insertText,label:B.label,handledMimeType:B.handledMimeType,yieldTo:B.yieldTo}:void 0})}}class i extends n{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[w.v.text],this.pasteMimeTypes=[w.v.text]}getEdit(C,E){return tn(this,null,function*(){const A=C.get(w.v.text);if(!A||C.has(w.v.uriList))return;const N=yield A.asString();return{handledMimeType:w.v.text,label:(0,D.NC)("text.label","Insert Plain Text"),detail:d,insertText:N}})}}class f extends n{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[w.v.uriList],this.pasteMimeTypes=[w.v.uriList]}getEdit(C,E){return tn(this,null,function*(){const A=yield a(C);if(!A.length||E.isCancellationRequested)return;let N=0;const B=A.map(({uri:$,originalText:Y})=>$.scheme===c.lg.file?$.fsPath:(N++,Y)).join(" ");let W;return N>0?W=A.length>1?(0,D.NC)("defaultDropProvider.uriList.uris","Insert Uris"):(0,D.NC)("defaultDropProvider.uriList.uri","Insert Uri"):W=A.length>1?(0,D.NC)("defaultDropProvider.uriList.paths","Insert Paths"):(0,D.NC)("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:w.v.uriList,insertText:B,label:W,detail:d}})}}let v=class extends n{constructor(C){super(),this._workspaceContextService=C,this.id="relativePath",this.dropMimeTypes=[w.v.uriList],this.pasteMimeTypes=[w.v.uriList]}getEdit(C,E){return tn(this,null,function*(){const A=yield a(C);if(!A.length||E.isCancellationRequested)return;const N=(0,b.kX)(A.map(({uri:B})=>{const W=this._workspaceContextService.getWorkspaceFolder(B);return W?(0,_.lX)(W.uri,B):void 0}));if(N.length)return{handledMimeType:w.v.uriList,insertText:N.join(" "),label:A.length>1?(0,D.NC)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,D.NC)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:d}})}};v=o([u(0,p.ec)],v);function a(y){return tn(this,null,function*(){const C=y.get(w.v.uriList);if(!C)return[];const E=yield C.asString(),A=[];for(const N of U.Z0.parse(E))try{A.push({uri:I.o.parse(N),originalText:N})}catch(B){}return A})}let S=class extends r.JT{constructor(C,E){super(),this._register(C.documentOnDropEditProvider.register("*",new i)),this._register(C.documentOnDropEditProvider.register("*",new f)),this._register(C.documentOnDropEditProvider.register("*",new v(E)))}};S=o([u(0,M.p),u(1,p.ec)],S);let g=class extends r.JT{constructor(C,E){super(),this._register(C.documentPasteEditProvider.register("*",new i)),this._register(C.documentPasteEditProvider.register("*",new f)),this._register(C.documentPasteEditProvider.register("*",new v(E)))}};g=o([u(0,M.p),u(1,p.ec)],g)},76454:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(800),r=e(10637),w=e(51512),c=e(63580),_=e(23193),I=e(89872),M=e(9488),D=e(15393),p=e(73278),o=e(5976),u=e(92944),d=e(24314),n=e(71922);class i{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(H){if(H&&this._dragOperations.has(H)){const V=this._dragOperations.get(H);return this._dragOperations.delete(H),V}}}class f{constructor(H){this.identifier=H}}var v=e(65026),a=e(72065);const S=(0,a.yh)("treeViewsDndService");(0,v.z)(S,i,1);var g=e(14410),y=e(3665),C=e(33108),E=e(32064),A=e(16021),N=e(91092),B=e(17782),W=function(P,H,V,G){var j=arguments.length,F=j<3?H:G===null?G=Object.getOwnPropertyDescriptor(H,V):G,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(P,H,V,G);else for(var m=P.length-1;m>=0;m--)(K=P[m])&&(F=(j<3?K(F):j>3?K(H,V,F):K(H,V))||F);return j>3&&F&&Object.defineProperty(H,V,F),F},$=function(P,H){return function(V,G){H(V,G,P)}},Y;const R="editor.experimental.dropIntoEditor.defaultProvider",L="editor.changeDropType",z=new E.uy("dropWidgetVisible",!1,(0,c.NC)("dropWidgetVisible","Whether the drop widget is showing"));let O=Y=class extends o.JT{static get(H){return H.getContribution(Y.ID)}constructor(H,V,G,j,F){super(),this._configService=G,this._languageFeaturesService=j,this._treeViewsDragAndDropService=F,this.treeItemsTransfer=A.Ej.getInstance(),this._dropProgressManager=this._register(V.createInstance(y.r,"dropIntoEditor",H)),this._postDropWidgetManager=this._register(V.createInstance(B.p,"dropIntoEditor",H,z,{id:L,label:(0,c.NC)("postDropWidgetTitle","Show drop options...")})),this._register(H.onDropIntoEditor(K=>this.onDropIntoEditor(H,K.position,K.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(H,V,G){return tn(this,null,function*(){var j;if(!G.dataTransfer||!H.hasModel())return;(j=this._currentOperation)===null||j===void 0||j.cancel(),H.focus(),H.setPosition(V);const F=(0,D.PG)(K=>tn(this,null,function*(){const m=new g.Dl(H,1,void 0,K);try{const J=yield this.extractDataTransferData(G);if(J.size===0||m.token.isCancellationRequested)return;const X=H.getModel();if(!X)return;const te=this._languageFeaturesService.documentOnDropEditProvider.ordered(X).filter(ge=>ge.dropMimeTypes?ge.dropMimeTypes.some(we=>J.matches(we)):!0),le=yield this.getDropEdits(te,X,V,J,m);if(m.token.isCancellationRequested)return;if(le.length){const ge=this.getInitialActiveEditIndex(X,le),we=H.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([d.e.fromPositions(V)],{activeEditIndex:ge,allEdits:le},we,K)}}finally{m.dispose(),this._currentOperation===F&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(V,(0,c.NC)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),F),this._currentOperation=F})}getDropEdits(H,V,G,j,F){return tn(this,null,function*(){const K=yield(0,D.eP)(Promise.all(H.map(J=>tn(this,null,function*(){try{const X=yield J.provideDocumentOnDropEdits(V,G,j,F.token);if(X)return Ni(Xn({},X),{providerId:J.id})}catch(X){console.error(X)}}))),F.token),m=(0,M.kX)(K!=null?K:[]);return(0,N.C)(m)})}getInitialActiveEditIndex(H,V){const G=this._configService.getValue(R,{resource:H.uri});for(const[j,F]of Object.entries(G)){const K=V.findIndex(m=>F===m.providerId&&m.handledMimeType&&(0,p.SN)(j,[m.handledMimeType]));if(K>=0)return K}return 0}extractDataTransferData(H){return tn(this,null,function*(){if(!H.dataTransfer)return new p.Hl;const V=(0,u.L)(H.dataTransfer);if(this.treeItemsTransfer.hasData(f.prototype)){const G=this.treeItemsTransfer.getData(f.prototype);if(Array.isArray(G))for(const j of G){const F=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(j.identifier);if(F)for(const[K,m]of F)V.replace(K,m)}}return V})}};O.ID="editor.contrib.dropIntoEditorController",O=Y=W([$(1,a.TG),$(2,C.Ui),$(3,n.p),$(4,S)],O),(0,b._K)(O.ID,O,2),(0,b.fK)(new class extends b._l{constructor(){super({id:L,precondition:z,kbOpts:{weight:100,primary:2137}})}runEditorCommand(P,H,V){var G;(G=O.get(H))===null||G===void 0||G.changeDropType()}}),(0,r.y)(w.P),I.B.as(_.IP.Configuration).registerConfiguration(Ni(Xn({},U.wk),{properties:{[R]:{type:"object",scope:5,description:c.NC("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}))},91092:function(Ot,Ke,e){"use strict";e.d(Ke,{C:function(){return r},n:function(){return U}});var b=e(66007);function U(w,c,_){var I,M;return{edits:[...c.map(D=>new b.Gl(w,typeof _.insertText=="string"?{range:D,text:_.insertText,insertAsSnippet:!1}:{range:D,text:_.insertText.snippet,insertAsSnippet:!0})),...(M=(I=_.additionalEdit)===null||I===void 0?void 0:I.edits)!==null&&M!==void 0?M:[]]}}function r(w){var c;function _(o,u){return"providerId"in o&&o.providerId===u.providerId||"mimeType"in o&&o.mimeType===u.handledMimeType}const I=new Map;for(const o of w)for(const u of(c=o.yieldTo)!==null&&c!==void 0?c:[])for(const d of w)if(d!==o&&_(u,d)){let n=I.get(o);n||(n=[],I.set(o,n)),n.push(d)}if(!I.size)return Array.from(w);const M=new Set,D=[];function p(o){if(!o.length)return[];const u=o[0];if(D.includes(u))return console.warn(`Yield to cycle detected for ${u.providerId}`),o;if(M.has(u))return p(o.slice(1));let d=[];const n=I.get(u);return n&&(D.push(u),d=p(n),D.pop()),M.add(u),[...d,u,...p(o.slice(1))]}return p(Array.from(w))}},17782:function(Ot,Ke,e){"use strict";e.d(Ke,{p:function(){return i}});var b=e(65321),U=e(36289),r=e(74741),w=e(4669),c=e(5976),_=e(66007),I=e(32064),M=e(5606),D=e(72065),p=e(91847),o=function(f,v,a,S){var g=arguments.length,y=g<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,a):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,v,a,S);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(y=(g<3?C(y):g>3?C(v,a,y):C(v,a))||y);return g>3&&y&&Object.defineProperty(v,a,y),y},u=function(f,v){return function(a,S){v(a,S,f)}},d;let n=d=class extends c.JT{constructor(v,a,S,g,y,C,E,A,N,B){super(),this.typeId=v,this.editor=a,this.showCommand=g,this.range=y,this.edits=C,this.onSelectNewEdit=E,this._contextMenuService=A,this._keybindingService=B,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=S.bindTo(N),this.visibleContext.set(!0),this._register((0,c.OF)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,c.OF)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(W=>{y.containsPosition(W.position)||this.dispose()})),this._register(w.ju.runAndSubscribe(B.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var v;const a=(v=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||v===void 0?void 0:v.getLabel();this.button.element.title=this.showCommand.label+(a?` (${a})`:"")}create(){this.domNode=b.$(".post-edit-widget"),this.button=this._register(new U.z(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(b.nm(this.domNode,b.tw.CLICK,()=>this.showSelector()))}getId(){return d.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const v=b.i(this.button.element);return{x:v.left+v.width,y:v.top+v.height}},getActions:()=>this.edits.allEdits.map((v,a)=>(0,r.xw)({id:"",label:v.label,checked:a===this.edits.activeEditIndex,run:()=>{if(a!==this.edits.activeEditIndex)return this.onSelectNewEdit(a)}}))})}};n.baseId="editor.widget.postEditWidget",n=d=o([u(7,M.i),u(8,I.i6),u(9,p.d)],n);let i=class extends c.JT{constructor(v,a,S,g,y,C){super(),this._id=v,this._editor=a,this._visibleContext=S,this._showCommand=g,this._instantiationService=y,this._bulkEditService=C,this._currentWidget=this._register(new c.XK),this._register(w.ju.any(a.onDidChangeModel,a.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(v,a,S,g){return tn(this,null,function*(){var y,C;const E=this._editor.getModel();if(!E||!v.length)return;const A=a.allEdits[a.activeEditIndex];if(!A)return;let N=[];(typeof A.insertText=="string"?A.insertText==="":A.insertText.snippet==="")?N=[]:N=v.map(z=>new _.Gl(E.uri,typeof A.insertText=="string"?{range:z,text:A.insertText,insertAsSnippet:!1}:{range:z,text:A.insertText.snippet,insertAsSnippet:!0}));const W={edits:[...N,...(C=(y=A.additionalEdit)===null||y===void 0?void 0:y.edits)!==null&&C!==void 0?C:[]]},$=v[0],Y=E.deltaDecorations([],[{range:$,options:{description:"paste-line-suffix",stickiness:0}}]);let R,L;try{R=yield this._bulkEditService.apply(W,{editor:this._editor,token:g}),L=E.getDecorationRange(Y[0])}finally{E.deltaDecorations(Y,[])}S&&R.isApplied&&a.allEdits.length>1&&this.show(L!=null?L:$,a,z=>tn(this,null,function*(){const O=this._editor.getModel();O&&(yield O.undo(),this.applyEditAndShowIfNeeded(v,{activeEditIndex:z,allEdits:a.allEdits},S,g))}))})}show(v,a,S){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(n,this._id,this._editor,this._visibleContext,this._showCommand,v,a,S))}clear(){this._currentWidget.clear()}tryShowSelector(){var v;(v=this._currentWidget.value)===null||v===void 0||v.showSelector()}};i=o([u(4,D.TG),u(5,_.vu)],i)},14410:function(Ot,Ke,e){"use strict";e.d(Ke,{yy:function(){return n},Dl:function(){return i},YQ:function(){return f}});var b=e(97295),U=e(24314),r=e(71050),w=e(5976),c=e(16830),_=e(32064),I=e(91741),M=e(72065),D=e(65026),p=e(63580);const o=(0,M.yh)("IEditorCancelService"),u=new _.uy("cancellableOperation",!1,(0,p.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,D.z)(o,class{constructor(){this._tokens=new WeakMap}add(v,a){let S=this._tokens.get(v);S||(S=v.invokeWithinContext(y=>{const C=u.bindTo(y.get(_.i6)),E=new I.S;return{key:C,tokens:E}}),this._tokens.set(v,S));let g;return S.key.set(!0),g=S.tokens.push(a),()=>{g&&(g(),S.key.set(!S.tokens.isEmpty()),g=void 0)}}cancel(v){const a=this._tokens.get(v);if(!a)return;const S=a.tokens.pop();S&&(S.cancel(),a.key.set(!a.tokens.isEmpty()))}},1);class d extends r.A{constructor(a,S){super(S),this.editor=a,this._unregister=a.invokeWithinContext(g=>g.get(o).add(a,this))}dispose(){this._unregister(),super.dispose()}}(0,c.fK)(new class extends c._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:u})}runEditorCommand(v,a){v.get(o).cancel(a)}});class n{constructor(a,S){if(this.flags=S,this.flags&1){const g=a.getModel();this.modelVersionId=g?b.WU("{0}#{1}",g.uri.toString(),g.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=a.getPosition():this.position=null,this.flags&2?this.selection=a.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof n))return!1;const S=a;return!(this.modelVersionId!==S.modelVersionId||this.scrollLeft!==S.scrollLeft||this.scrollTop!==S.scrollTop||!this.position&&S.position||this.position&&!S.position||this.position&&S.position&&!this.position.equals(S.position)||!this.selection&&S.selection||this.selection&&!S.selection||this.selection&&S.selection&&!this.selection.equalsRange(S.selection))}validate(a){return this._equals(new n(a,this.flags))}}class i extends d{constructor(a,S,g,y){super(a,y),this._listener=new w.SL,S&4&&this._listener.add(a.onDidChangeCursorPosition(C=>{(!g||!U.e.containsPosition(g,C.position))&&this.cancel()})),S&2&&this._listener.add(a.onDidChangeCursorSelection(C=>{(!g||!U.e.containsRange(g,C.selection))&&this.cancel()})),S&8&&this._listener.add(a.onDidScrollChange(C=>this.cancel())),S&1&&(this._listener.add(a.onDidChangeModel(C=>this.cancel())),this._listener.add(a.onDidChangeModelContent(C=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class f extends r.A{constructor(a,S){super(S),this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},63980:function(Ot,Ke,e){"use strict";e.d(Ke,{pR:function(){return wt}});var b=e(15393),U=e(5976),r=e(97295),w=e(16830),c=e(8625),_=e(29102),I=e(84973),M=e(35534),D=e(61329),p=e(50187),o=e(24314),u=e(3860),d=e(77277),n=e(84901),i=e(73910),f=e(97781);class v{constructor(et){this._editor=et,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const et=this._findScopeDecorationIds.map(ee=>this._editor.getModel().getDecorationRange(ee)).filter(ee=>!!ee);if(et.length)return et}return null}getStartPosition(){return this._startPosition}setStartPosition(et){this._startPosition=et,this.setCurrentFindMatch(null)}_getDecorationIndex(et){const ee=this._decorations.indexOf(et);return ee>=0?ee+1:1}getDecorationRangeAt(et){const ee=et<this._decorations.length?this._decorations[et]:null;return ee?this._editor.getModel().getDecorationRange(ee):null}getCurrentMatchesPosition(et){const ee=this._editor.getModel().getDecorationsInRange(et);for(const de of ee){const oe=de.options;if(oe===v._FIND_MATCH_DECORATION||oe===v._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(de.id)}return 0}setCurrentFindMatch(et){let ee=null,de=0;if(et)for(let oe=0,Ce=this._decorations.length;oe<Ce;oe++){const Ee=this._editor.getModel().getDecorationRange(this._decorations[oe]);if(et.equalsRange(Ee)){ee=this._decorations[oe],de=oe+1;break}}return(this._highlightedDecorationId!==null||ee!==null)&&this._editor.changeDecorations(oe=>{if(this._highlightedDecorationId!==null&&(oe.changeDecorationOptions(this._highlightedDecorationId,v._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),ee!==null&&(this._highlightedDecorationId=ee,oe.changeDecorationOptions(this._highlightedDecorationId,v._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(oe.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),ee!==null){let Ce=this._editor.getModel().getDecorationRange(ee);if(Ce.startLineNumber!==Ce.endLineNumber&&Ce.endColumn===1){const Ee=Ce.endLineNumber-1,be=this._editor.getModel().getLineMaxColumn(Ee);Ce=new o.e(Ce.startLineNumber,Ce.startColumn,Ee,be)}this._rangeHighlightDecorationId=oe.addDecoration(Ce,v._RANGE_HIGHLIGHT_DECORATION)}}),de}set(et,ee){this._editor.changeDecorations(de=>{let oe=v._FIND_MATCH_DECORATION;const Ce=[];if(et.length>1e3){oe=v._FIND_MATCH_NO_OVERVIEW_DECORATION;const be=this._editor.getModel().getLineCount(),He=this._editor.getLayoutInfo().height/be,Ye=Math.max(2,Math.ceil(3/He));let ht=et[0].range.startLineNumber,$t=et[0].range.endLineNumber;for(let gn=1,dn=et.length;gn<dn;gn++){const ln=et[gn].range;$t+Ye>=ln.startLineNumber?ln.endLineNumber>$t&&($t=ln.endLineNumber):(Ce.push({range:new o.e(ht,1,$t,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ht=ln.startLineNumber,$t=ln.endLineNumber)}Ce.push({range:new o.e(ht,1,$t,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const Ee=new Array(et.length);for(let be=0,Ae=et.length;be<Ae;be++)Ee[be]={range:et[be].range,options:oe};this._decorations=de.deltaDecorations(this._decorations,Ee),this._overviewRulerApproximateDecorations=de.deltaDecorations(this._overviewRulerApproximateDecorations,Ce),this._rangeHighlightDecorationId&&(de.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(be=>de.removeDecoration(be)),this._findScopeDecorationIds=[]),ee!=null&&ee.length&&(this._findScopeDecorationIds=ee.map(be=>de.addDecoration(be,v._FIND_SCOPE_DECORATION)))})}matchBeforePosition(et){if(this._decorations.length===0)return null;for(let ee=this._decorations.length-1;ee>=0;ee--){const de=this._decorations[ee],oe=this._editor.getModel().getDecorationRange(de);if(!(!oe||oe.endLineNumber>et.lineNumber)){if(oe.endLineNumber<et.lineNumber)return oe;if(!(oe.endColumn>et.column))return oe}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(et){if(this._decorations.length===0)return null;for(let ee=0,de=this._decorations.length;ee<de;ee++){const oe=this._decorations[ee],Ce=this._editor.getModel().getDecorationRange(oe);if(!(!Ce||Ce.startLineNumber<et.lineNumber)){if(Ce.startLineNumber>et.lineNumber)return Ce;if(!(Ce.startColumn<et.column))return Ce}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let et=[];return et=et.concat(this._decorations),et=et.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&et.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&et.push(this._rangeHighlightDecorationId),et}}v._CURRENT_FIND_MATCH_DECORATION=n.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,f.EN)(i.Fm_),position:I.sh.Center},minimap:{color:(0,f.EN)(i.SUY),position:I.F5.Inline}}),v._FIND_MATCH_DECORATION=n.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,f.EN)(i.Fm_),position:I.sh.Center},minimap:{color:(0,f.EN)(i.SUY),position:I.F5.Inline}}),v._FIND_MATCH_NO_OVERVIEW_DECORATION=n.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),v._FIND_MATCH_ONLY_OVERVIEW_DECORATION=n.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,f.EN)(i.Fm_),position:I.sh.Center}}),v._RANGE_HIGHLIGHT_DECORATION=n.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),v._FIND_SCOPE_DECORATION=n.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class a{constructor(et,ee,de){this._editorSelection=et,this._ranges=ee,this._replaceStrings=de,this._trackedEditorSelectionId=null}getEditOperations(et,ee){if(this._ranges.length>0){const de=[];for(let Ee=0;Ee<this._ranges.length;Ee++)de.push({range:this._ranges[Ee],text:this._replaceStrings[Ee]});de.sort((Ee,be)=>o.e.compareRangesUsingStarts(Ee.range,be.range));const oe=[];let Ce=de[0];for(let Ee=1;Ee<de.length;Ee++)Ce.range.endLineNumber===de[Ee].range.startLineNumber&&Ce.range.endColumn===de[Ee].range.startColumn?(Ce.range=Ce.range.plusRange(de[Ee].range),Ce.text=Ce.text+de[Ee].text):(oe.push(Ce),Ce=de[Ee]);oe.push(Ce);for(const Ee of oe)ee.addEditOperation(Ee.range,Ee.text)}this._trackedEditorSelectionId=ee.trackSelection(this._editorSelection)}computeCursorState(et,ee){return ee.getTrackedSelection(this._trackedEditorSelectionId)}}function S(Ht,et){if(Ht&&Ht[0]!==""){const ee=g(Ht,et,"-"),de=g(Ht,et,"_");return ee&&!de?y(Ht,et,"-"):!ee&&de?y(Ht,et,"_"):Ht[0].toUpperCase()===Ht[0]?et.toUpperCase():Ht[0].toLowerCase()===Ht[0]?et.toLowerCase():r.Kw(Ht[0][0])&&et.length>0?et[0].toUpperCase()+et.substr(1):Ht[0][0].toUpperCase()!==Ht[0][0]&&et.length>0?et[0].toLowerCase()+et.substr(1):et}else return et}function g(Ht,et,ee){return Ht[0].indexOf(ee)!==-1&&et.indexOf(ee)!==-1&&Ht[0].split(ee).length===et.split(ee).length}function y(Ht,et,ee){const de=et.split(ee),oe=Ht[0].split(ee);let Ce="";return de.forEach((Ee,be)=>{Ce+=S([oe[be]],Ee)+ee}),Ce.slice(0,-1)}class C{constructor(et){this.staticValue=et,this.kind=0}}class E{constructor(et){this.pieces=et,this.kind=1}}class A{static fromStaticValue(et){return new A([N.staticValue(et)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(et){!et||et.length===0?this._state=new C(""):et.length===1&&et[0].staticValue!==null?this._state=new C(et[0].staticValue):this._state=new E(et)}buildReplaceString(et,ee){if(this._state.kind===0)return ee?S(et,this._state.staticValue):this._state.staticValue;let de="";for(let oe=0,Ce=this._state.pieces.length;oe<Ce;oe++){const Ee=this._state.pieces[oe];if(Ee.staticValue!==null){de+=Ee.staticValue;continue}let be=A._substitute(Ee.matchIndex,et);if(Ee.caseOps!==null&&Ee.caseOps.length>0){const Ae=[],He=Ee.caseOps.length;let Ye=0;for(let ht=0,$t=be.length;ht<$t;ht++){if(Ye>=He){Ae.push(be.slice(ht));break}switch(Ee.caseOps[Ye]){case"U":Ae.push(be[ht].toUpperCase());break;case"u":Ae.push(be[ht].toUpperCase()),Ye++;break;case"L":Ae.push(be[ht].toLowerCase());break;case"l":Ae.push(be[ht].toLowerCase()),Ye++;break;default:Ae.push(be[ht])}}be=Ae.join("")}de+=be}return de}static _substitute(et,ee){if(ee===null)return"";if(et===0)return ee[0];let de="";for(;et>0;){if(et<ee.length)return(ee[et]||"")+de;de=String(et%10)+de,et=Math.floor(et/10)}return"$"+de}}class N{static staticValue(et){return new N(et,-1,null)}static caseOps(et,ee){return new N(null,et,ee)}constructor(et,ee,de){this.staticValue=et,this.matchIndex=ee,!de||de.length===0?this.caseOps=null:this.caseOps=de.slice(0)}}class B{constructor(et){this._source=et,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(et){this._emitStatic(this._source.substring(this._lastCharIndex,et)),this._lastCharIndex=et}emitStatic(et,ee){this._emitStatic(et),this._lastCharIndex=ee}_emitStatic(et){et.length!==0&&(this._currentStaticPiece+=et)}emitMatchIndex(et,ee,de){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=N.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=N.caseOps(et,de),this._lastCharIndex=ee}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=N.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new A(this._result)}}function W(Ht){if(!Ht||Ht.length===0)return new A(null);const et=[],ee=new B(Ht);for(let de=0,oe=Ht.length;de<oe;de++){const Ce=Ht.charCodeAt(de);if(Ce===92){if(de++,de>=oe)break;const Ee=Ht.charCodeAt(de);switch(Ee){case 92:ee.emitUnchanged(de-1),ee.emitStatic("\\",de+1);break;case 110:ee.emitUnchanged(de-1),ee.emitStatic(`
`,de+1);break;case 116:ee.emitUnchanged(de-1),ee.emitStatic("	",de+1);break;case 117:case 85:case 108:case 76:ee.emitUnchanged(de-1),ee.emitStatic("",de+1),et.push(String.fromCharCode(Ee));break}continue}if(Ce===36){if(de++,de>=oe)break;const Ee=Ht.charCodeAt(de);if(Ee===36){ee.emitUnchanged(de-1),ee.emitStatic("$",de+1);continue}if(Ee===48||Ee===38){ee.emitUnchanged(de-1),ee.emitMatchIndex(0,de+1,et),et.length=0;continue}if(49<=Ee&&Ee<=57){let be=Ee-48;if(de+1<oe){const Ae=Ht.charCodeAt(de+1);if(48<=Ae&&Ae<=57){de++,be=be*10+(Ae-48),ee.emitUnchanged(de-2),ee.emitMatchIndex(be,de+1,et),et.length=0;continue}}ee.emitUnchanged(de-1),ee.emitMatchIndex(be,de+1,et),et.length=0;continue}}}return ee.finalize()}var $=e(32064);const Y=new $.uy("findWidgetVisible",!1),R=Y.toNegated(),L=new $.uy("findInputFocussed",!1),z=new $.uy("replaceInputFocussed",!1),O={primary:545,mac:{primary:2593}},P={primary:565,mac:{primary:2613}},H={primary:560,mac:{primary:2608}},V={primary:554,mac:{primary:2602}},G={primary:558,mac:{primary:2606}},j={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},F=19999,K=240;class m{constructor(et,ee){this._toDispose=new U.SL,this._editor=et,this._state=ee,this._isDisposed=!1,this._startSearchingTimer=new b._F,this._decorations=new v(et),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new b.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(de=>{(de.reason===3||de.reason===5||de.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(de=>{this._ignoreModelContentChanged||(de.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(de=>this._onStateChanged(de))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,U.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(et){this._isDisposed||this._editor.hasModel()&&(et.searchString||et.isReplaceRevealed||et.isRegex||et.wholeWord||et.matchCase||et.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{et.searchScope?this.research(et.moveCursor,this._state.searchScope):this.research(et.moveCursor)},K)):et.searchScope?this.research(et.moveCursor,this._state.searchScope):this.research(et.moveCursor))}static _getSearchRange(et,ee){return ee||et.getFullModelRange()}research(et,ee){let de=null;typeof ee!="undefined"?ee!==null&&(Array.isArray(ee)?de=ee:de=[ee]):de=this._decorations.getFindScopes(),de!==null&&(de=de.map(be=>{if(be.startLineNumber!==be.endLineNumber){let Ae=be.endLineNumber;return be.endColumn===1&&(Ae=Ae-1),new o.e(be.startLineNumber,1,Ae,this._editor.getModel().getLineMaxColumn(Ae))}return be}));const oe=this._findMatches(de,!1,F);this._decorations.set(oe,de);const Ce=this._editor.getSelection();let Ee=this._decorations.getCurrentMatchesPosition(Ce);if(Ee===0&&oe.length>0){const be=(0,M.J_)(oe.map(Ae=>Ae.range),Ae=>o.e.compareRangesUsingStarts(Ae,Ce)>=0);Ee=be>0?be-1+1:Ee}this._state.changeMatchInfo(Ee,this._decorations.getCount(),void 0),et&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const et=this._decorations.getFindScope();return et&&this._editor.revealRangeInCenterIfOutsideViewport(et,0),!0}return!1}_setCurrentFindMatch(et){const ee=this._decorations.setCurrentFindMatch(et);this._state.changeMatchInfo(ee,this._decorations.getCount(),et),this._editor.setSelection(et),this._editor.revealRangeInCenterIfOutsideViewport(et,0)}_prevSearchPosition(et){const ee=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:de,column:oe}=et;const Ce=this._editor.getModel();return ee||oe===1?(de===1?de=Ce.getLineCount():de--,oe=Ce.getLineMaxColumn(de)):oe--,new p.L(de,oe)}_moveToPrevMatch(et,ee=!1){if(!this._state.canNavigateBack()){const Ye=this._decorations.matchAfterPosition(et);Ye&&this._setCurrentFindMatch(Ye);return}if(this._decorations.getCount()<F){let Ye=this._decorations.matchBeforePosition(et);Ye&&Ye.isEmpty()&&Ye.getStartPosition().equals(et)&&(et=this._prevSearchPosition(et),Ye=this._decorations.matchBeforePosition(et)),Ye&&this._setCurrentFindMatch(Ye);return}if(this._cannotFind())return;const de=this._decorations.getFindScope(),oe=m._getSearchRange(this._editor.getModel(),de);oe.getEndPosition().isBefore(et)&&(et=oe.getEndPosition()),et.isBefore(oe.getStartPosition())&&(et=oe.getEndPosition());const{lineNumber:Ce,column:Ee}=et,be=this._editor.getModel();let Ae=new p.L(Ce,Ee),He=be.findPreviousMatch(this._state.searchString,Ae,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1);if(He&&He.range.isEmpty()&&He.range.getStartPosition().equals(Ae)&&(Ae=this._prevSearchPosition(Ae),He=be.findPreviousMatch(this._state.searchString,Ae,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1)),!!He){if(!ee&&!oe.containsRange(He.range))return this._moveToPrevMatch(He.range.getStartPosition(),!0);this._setCurrentFindMatch(He.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(et){const ee=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:de,column:oe}=et;const Ce=this._editor.getModel();return ee||oe===Ce.getLineMaxColumn(de)?(de===Ce.getLineCount()?de=1:de++,oe=1):oe++,new p.L(de,oe)}_moveToNextMatch(et){if(!this._state.canNavigateForward()){const de=this._decorations.matchBeforePosition(et);de&&this._setCurrentFindMatch(de);return}if(this._decorations.getCount()<F){let de=this._decorations.matchAfterPosition(et);de&&de.isEmpty()&&de.getStartPosition().equals(et)&&(et=this._nextSearchPosition(et),de=this._decorations.matchAfterPosition(et)),de&&this._setCurrentFindMatch(de);return}const ee=this._getNextMatch(et,!1,!0);ee&&this._setCurrentFindMatch(ee.range)}_getNextMatch(et,ee,de,oe=!1){if(this._cannotFind())return null;const Ce=this._decorations.getFindScope(),Ee=m._getSearchRange(this._editor.getModel(),Ce);Ee.getEndPosition().isBefore(et)&&(et=Ee.getStartPosition()),et.isBefore(Ee.getStartPosition())&&(et=Ee.getStartPosition());const{lineNumber:be,column:Ae}=et,He=this._editor.getModel();let Ye=new p.L(be,Ae),ht=He.findNextMatch(this._state.searchString,Ye,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,ee);return de&&ht&&ht.range.isEmpty()&&ht.range.getStartPosition().equals(Ye)&&(Ye=this._nextSearchPosition(Ye),ht=He.findNextMatch(this._state.searchString,Ye,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,ee)),ht?!oe&&!Ee.containsRange(ht.range)?this._getNextMatch(ht.range.getEndPosition(),ee,de,!0):ht:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(et){const ee=this._decorations.getDecorationRangeAt(et);ee&&this._setCurrentFindMatch(ee)}moveToMatch(et){this._moveToMatch(et)}_getReplacePattern(){return this._state.isRegex?W(this._state.replaceString):A.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const et=this._getReplacePattern(),ee=this._editor.getSelection(),de=this._getNextMatch(ee.getStartPosition(),!0,!1);if(de)if(ee.equalsRange(de.range)){const oe=et.buildReplaceString(de.matches,this._state.preserveCase),Ce=new D.T4(ee,oe);this._executeEditorCommand("replace",Ce),this._decorations.setStartPosition(new p.L(ee.startLineNumber,ee.startColumn+oe.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(de.range)}_findMatches(et,ee,de){const oe=(et||[null]).map(Ce=>m._getSearchRange(this._editor.getModel(),Ce));return this._editor.getModel().findMatches(this._state.searchString,oe,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,ee,de)}replaceAll(){if(!this._hasMatches())return;const et=this._decorations.getFindScopes();et===null&&this._state.matchesCount>=F?this._largeReplaceAll():this._regularReplaceAll(et),this.research(!1)}_largeReplaceAll(){const ee=new d.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null).parseSearchRequest();if(!ee)return;let de=ee.regex;if(!de.multiline){let ht="mu";de.ignoreCase&&(ht+="i"),de.global&&(ht+="g"),de=new RegExp(de.source,ht)}const oe=this._editor.getModel(),Ce=oe.getValue(1),Ee=oe.getFullModelRange(),be=this._getReplacePattern();let Ae;const He=this._state.preserveCase;be.hasReplacementPatterns||He?Ae=Ce.replace(de,function(){return be.buildReplaceString(arguments,He)}):Ae=Ce.replace(de,be.buildReplaceString(null,He));const Ye=new D.hP(Ee,Ae,this._editor.getSelection());this._executeEditorCommand("replaceAll",Ye)}_regularReplaceAll(et){const ee=this._getReplacePattern(),de=this._findMatches(et,ee.hasReplacementPatterns||this._state.preserveCase,1073741824),oe=[];for(let Ee=0,be=de.length;Ee<be;Ee++)oe[Ee]=ee.buildReplaceString(de[Ee].matches,this._state.preserveCase);const Ce=new a(this._editor.getSelection(),de.map(Ee=>Ee.range),oe);this._executeEditorCommand("replaceAll",Ce)}selectAllMatches(){if(!this._hasMatches())return;const et=this._decorations.getFindScopes();let de=this._findMatches(et,!1,1073741824).map(Ce=>new u.Y(Ce.range.startLineNumber,Ce.range.startColumn,Ce.range.endLineNumber,Ce.range.endColumn));const oe=this._editor.getSelection();for(let Ce=0,Ee=de.length;Ce<Ee;Ce++)if(de[Ce].equalsRange(oe)){de=[oe].concat(de.slice(0,Ce)).concat(de.slice(Ce+1));break}this._editor.setSelections(de)}_executeEditorCommand(et,ee){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(et,ee),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var J=e(65321),X=e(51307),te=e(93794);class le extends te.${constructor(et,ee,de){super(),this._hideSoon=this._register(new b.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=et,this._state=ee,this._keybindingService=de,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const oe={inputActiveOptionBorder:(0,i.n_1)(i.PRb),inputActiveOptionForeground:(0,i.n_1)(i.Pvw),inputActiveOptionBackground:(0,i.n_1)(i.XEs)};this.caseSensitive=this._register(new X.rk(Xn({appendTitle:this._keybindingLabelFor(j.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},oe))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new X.Qx(Xn({appendTitle:this._keybindingLabelFor(j.ToggleWholeWordCommand),isChecked:this._state.wholeWord},oe))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new X.eH(Xn({appendTitle:this._keybindingLabelFor(j.ToggleRegexCommand),isChecked:this._state.isRegex},oe))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Ce=>{let Ee=!1;Ce.isRegex&&(this.regex.checked=this._state.isRegex,Ee=!0),Ce.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Ee=!0),Ce.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Ee=!0),!this._state.isRevealed&&Ee&&this._revealTemporarily()})),this._register(J.nm(this._domNode,J.tw.MOUSE_LEAVE,Ce=>this._onMouseLeave())),this._register(J.nm(this._domNode,"mouseover",Ce=>this._onMouseOver()))}_keybindingLabelFor(et){const ee=this._keybindingService.lookupKeybinding(et);return ee?` (${ee.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return le.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}le.ID="editor.contrib.findOptionsWidget";var ge=e(4669);function we(Ht,et){return Ht===1?!0:Ht===2?!1:et}class pe extends U.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return we(this._isRegexOverride,this._isRegex)}get wholeWord(){return we(this._wholeWordOverride,this._wholeWord)}get matchCase(){return we(this._matchCaseOverride,this._matchCase)}get preserveCase(){return we(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new ge.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(et,ee,de){const oe={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Ce=!1;ee===0&&(et=0),et>ee&&(et=ee),this._matchesPosition!==et&&(this._matchesPosition=et,oe.matchesPosition=!0,Ce=!0),this._matchesCount!==ee&&(this._matchesCount=ee,oe.matchesCount=!0,Ce=!0),typeof de!="undefined"&&(o.e.equalsRange(this._currentMatch,de)||(this._currentMatch=de,oe.currentMatch=!0,Ce=!0)),Ce&&this._onFindReplaceStateChange.fire(oe)}change(et,ee,de=!0){var oe;const Ce={moveCursor:ee,updateHistory:de,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Ee=!1;const be=this.isRegex,Ae=this.wholeWord,He=this.matchCase,Ye=this.preserveCase;typeof et.searchString!="undefined"&&this._searchString!==et.searchString&&(this._searchString=et.searchString,Ce.searchString=!0,Ee=!0),typeof et.replaceString!="undefined"&&this._replaceString!==et.replaceString&&(this._replaceString=et.replaceString,Ce.replaceString=!0,Ee=!0),typeof et.isRevealed!="undefined"&&this._isRevealed!==et.isRevealed&&(this._isRevealed=et.isRevealed,Ce.isRevealed=!0,Ee=!0),typeof et.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==et.isReplaceRevealed&&(this._isReplaceRevealed=et.isReplaceRevealed,Ce.isReplaceRevealed=!0,Ee=!0),typeof et.isRegex!="undefined"&&(this._isRegex=et.isRegex),typeof et.wholeWord!="undefined"&&(this._wholeWord=et.wholeWord),typeof et.matchCase!="undefined"&&(this._matchCase=et.matchCase),typeof et.preserveCase!="undefined"&&(this._preserveCase=et.preserveCase),typeof et.searchScope!="undefined"&&(!((oe=et.searchScope)===null||oe===void 0)&&oe.every(ht=>{var $t;return($t=this._searchScope)===null||$t===void 0?void 0:$t.some(gn=>!o.e.equalsRange(gn,ht))})||(this._searchScope=et.searchScope,Ce.searchScope=!0,Ee=!0)),typeof et.loop!="undefined"&&this._loop!==et.loop&&(this._loop=et.loop,Ce.loop=!0,Ee=!0),typeof et.isSearching!="undefined"&&this._isSearching!==et.isSearching&&(this._isSearching=et.isSearching,Ce.isSearching=!0,Ee=!0),typeof et.filters!="undefined"&&(this._filters?this._filters.update(et.filters):this._filters=et.filters,Ce.filters=!0,Ee=!0),this._isRegexOverride=typeof et.isRegexOverride!="undefined"?et.isRegexOverride:0,this._wholeWordOverride=typeof et.wholeWordOverride!="undefined"?et.wholeWordOverride:0,this._matchCaseOverride=typeof et.matchCaseOverride!="undefined"?et.matchCaseOverride:0,this._preserveCaseOverride=typeof et.preserveCaseOverride!="undefined"?et.preserveCaseOverride:0,be!==this.isRegex&&(Ee=!0,Ce.isRegex=!0),Ae!==this.wholeWord&&(Ee=!0,Ce.wholeWord=!0),He!==this.matchCase&&(Ee=!0,Ce.matchCase=!0),Ye!==this.preserveCase&&(Ee=!0,Ce.preserveCase=!0),Ee&&this._onFindReplaceStateChange.fire(Ce)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=F}}var Pe=e(35996),Ne=e(40032),ae=e(83080),Me=e(73046),ke=e(17301),Ue=e(1432),Le=e(63580),ie=e(37726);function ce(Ht){var et,ee;return((et=Ht.lookupKeybinding("history.showPrevious"))===null||et===void 0?void 0:et.getElectronAccelerator())==="Up"&&((ee=Ht.lookupKeybinding("history.showNext"))===null||ee===void 0?void 0:ee.getElectronAccelerator())==="Down"}var Re=e(59554),ye=e(25670),Se=e(92321),me=e(98401),he=e(86253);const se=(0,Re.q5)("find-selection",Me.l.selection,Le.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ve=(0,Re.q5)("find-collapsed",Me.l.chevronRight,Le.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),xe=(0,Re.q5)("find-expanded",Me.l.chevronDown,Le.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),je=(0,Re.q5)("find-replace",Me.l.replace,Le.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Oe=(0,Re.q5)("find-replace-all",Me.l.replaceAll,Le.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Ze=(0,Re.q5)("find-previous-match",Me.l.arrowUp,Le.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),it=(0,Re.q5)("find-next-match",Me.l.arrowDown,Le.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Et=Le.NC("label.findDialog","Find / Replace"),st=Le.NC("label.find","Find"),pt=Le.NC("placeholder.find","Find"),Mt=Le.NC("label.previousMatchButton","Previous Match"),qt=Le.NC("label.nextMatchButton","Next Match"),Ft=Le.NC("label.toggleSelectionFind","Find in Selection"),Xt=Le.NC("label.closeButton","Close"),_t=Le.NC("label.replace","Replace"),nt=Le.NC("placeholder.replace","Replace"),tt=Le.NC("label.replaceButton","Replace"),xt=Le.NC("label.replaceAllButton","Replace All"),Lt=Le.NC("label.toggleReplaceButton","Toggle Replace"),Be=Le.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",F),yt=Le.NC("label.matchesLocation","{0} of {1}"),un=Le.NC("label.noResults","No results"),In=419,Hn=275-54;let si=69;const Yn=33,mi="ctrlEnterReplaceAll.windows.donotask",_i=Ue.dz?256:2048;class Wi{constructor(et){this.afterLineNumber=et,this.heightInPx=Yn,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Si(Ht,et,ee){const de=!!et.match(/\n/);if(ee&&de&&ee.selectionStart>0){Ht.stopPropagation();return}}function Ki(Ht,et,ee){const de=!!et.match(/\n/);if(ee&&de&&ee.selectionEnd<ee.value.length){Ht.stopPropagation();return}}class bi extends te.${constructor(et,ee,de,oe,Ce,Ee,be,Ae,He){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=et,this._controller=ee,this._state=de,this._contextViewProvider=oe,this._keybindingService=Ce,this._contextKeyService=Ee,this._storageService=Ae,this._notificationService=He,this._ctrlEnterReplaceAllWarningPrompted=!!Ae.getBoolean(mi,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.vp(500),this._register((0,U.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Ye=>this._onStateChanged(Ye))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Ye=>{if(Ye.hasChanged(90)&&(this._codeEditor.getOption(90)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Ye.hasChanged(143)&&this._tryUpdateWidgetWidth(),Ye.hasChanged(2)&&this.updateAccessibilitySupport(),Ye.hasChanged(41)){const ht=this._codeEditor.getOption(41).loop;this._state.change({loop:ht},!1);const $t=this._codeEditor.getOption(41).addExtraSpaceOnTop;$t&&!this._viewZone&&(this._viewZone=new Wi(0),this._showViewZone()),!$t&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>tn(this,null,function*(){if(this._isVisible){const Ye=yield this._controller.getGlobalBufferTerm();Ye&&Ye!==this._state.searchString&&(this._state.change({searchString:Ye},!1),this._findInput.select())}}))),this._findInputFocused=L.bindTo(Ee),this._findFocusTracker=this._register(J.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=z.bindTo(Ee),this._replaceFocusTracker=this._register(J.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Wi(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Ye=>{if(Ye.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return bi.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(et){if(et.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(et.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),et.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),et.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(90)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=J.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(et.isRevealed||et.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),et.isRegex&&this._findInput.setRegex(this._state.isRegex),et.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),et.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),et.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),et.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),et.searchString||et.matchesCount||et.matchesPosition){const ee=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ee),this._updateMatchesCount(),this._updateButtons()}(et.searchString||et.currentMatch)&&this._layoutViewZone(),et.updateHistory&&this._delayedUpdateHistory(),et.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ke.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=si+"px",this._state.matchesCount>=F?this._matchesCount.title=Be:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let et;if(this._state.matchesCount>0){let ee=String(this._state.matchesCount);this._state.matchesCount>=F&&(ee+="+");let de=String(this._state.matchesPosition);de==="0"&&(de="?"),et=r.WU(yt,de,ee)}else et=un;this._matchesCount.appendChild(document.createTextNode(et)),(0,Pe.Z9)(this._getAriaLabel(et,this._state.currentMatch,this._state.searchString)),si=Math.max(si,this._matchesCount.clientWidth)}_getAriaLabel(et,ee,de){if(et===un)return de===""?Le.NC("ariaSearchNoResultEmpty","{0} found",et):Le.NC("ariaSearchNoResult","{0} found for '{1}'",et,de);if(ee){const oe=Le.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",et,de,ee.startLineNumber+":"+ee.startColumn),Ce=this._codeEditor.getModel();return Ce&&ee.startLineNumber<=Ce.getLineCount()&&ee.startLineNumber>=1?`${Ce.getLineContent(ee.startLineNumber)}, ${oe}`:oe}return Le.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",et,de)}_updateToggleSelectionFindButton(){const et=this._codeEditor.getSelection(),ee=et?et.startLineNumber!==et.endLineNumber||et.startColumn!==et.endColumn:!1,de=this._toggleSelectionFind.checked;this._isVisible&&(de||ee)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const et=this._state.searchString.length>0,ee=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&et&&ee&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&et&&ee&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&et),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&et),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const de=!this._codeEditor.getOption(90);this._toggleReplaceBtn.setEnabled(this._isVisible&&de)}_reveal(){if(this._revealTimeouts.forEach(et=>{clearTimeout(et)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const et=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const de=!!et&&et.startLineNumber!==et.endLineNumber;this._toggleSelectionFind.checked=de;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ee=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&et){const de=this._codeEditor.getDomNode();if(de){const oe=J.i(de),Ce=this._codeEditor.getScrolledVisiblePosition(et.getStartPosition()),Ee=oe.left+(Ce?Ce.left:0),be=Ce?Ce.top:0;if(this._viewZone&&be<this._viewZone.heightInPx){et.endLineNumber>et.startLineNumber&&(ee=!1);const Ae=J.xQ(this._domNode).left;Ee>Ae&&(ee=!1);const He=this._codeEditor.getScrolledVisiblePosition(et.getEndPosition());oe.left+(He?He.left:0)>Ae&&(ee=!1)}}}this._showViewZone(ee)}}_hide(et){this._revealTimeouts.forEach(ee=>{clearTimeout(ee)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),et&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(et){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const de=this._viewZone;this._viewZoneId!==void 0||!de||this._codeEditor.changeViewZones(oe=>{de.heightInPx=this._getHeight(),this._viewZoneId=oe.addZone(de),this._codeEditor.setScrollTop(et||this._codeEditor.getScrollTop()+de.heightInPx)})}_showViewZone(et=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Wi(0));const de=this._viewZone;this._codeEditor.changeViewZones(oe=>{if(this._viewZoneId!==void 0){const Ce=this._getHeight();if(Ce===de.heightInPx)return;const Ee=Ce-de.heightInPx;de.heightInPx=Ce,oe.layoutZone(this._viewZoneId),et&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Ee);return}else{let Ce=this._getHeight();if(Ce-=this._codeEditor.getOption(83).top,Ce<=0)return;de.heightInPx=Ce,this._viewZoneId=oe.addZone(de),et&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Ce)}})}_removeViewZone(){this._codeEditor.changeViewZones(et=>{this._viewZoneId!==void 0&&(et.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const et=this._codeEditor.getLayoutInfo();if(et.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const de=et.width,oe=et.minimap.minimapWidth;let Ce=!1,Ee=!1,be=!1;if(this._resized&&J.w(this._domNode)>In){this._domNode.style.maxWidth=`${de-28-oe-15}px`,this._replaceInput.width=J.w(this._findInput.domNode);return}if(In+28+oe>=de&&(Ee=!0),In+28+oe-si>=de&&(be=!0),In+28+oe-si>=de+50&&(Ce=!0),this._domNode.classList.toggle("collapsed-find-widget",Ce),this._domNode.classList.toggle("narrow-find-widget",be),this._domNode.classList.toggle("reduced-find-widget",Ee),!be&&!Ce&&(this._domNode.style.maxWidth=`${de-28-oe-15}px`),this._findInput.layout({collapsedFindWidget:Ce,narrowFindWidget:be,reducedFindWidget:Ee}),this._resized){const Ae=this._findInput.inputBox.element.clientWidth;Ae>0&&(this._replaceInput.width=Ae)}else this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode))}_getHeight(){let et=0;return et+=4,et+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(et+=4,et+=this._replaceInput.inputBox.height+2),et+=4,et}_tryUpdateHeight(){const et=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===et?!1:(this._cachedHeight=et,this._domNode.style.height=`${et}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const et=this._codeEditor.getSelections();et.map(ee=>{ee.endColumn===1&&ee.endLineNumber>ee.startLineNumber&&(ee=ee.setEndPosition(ee.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ee.endLineNumber-1)));const de=this._state.currentMatch;return ee.startLineNumber!==ee.endLineNumber&&!o.e.equalsRange(ee,de)?ee:null}).filter(ee=>!!ee),et.length&&this._state.change({searchScope:et},!0)}}_onFindInputMouseDown(et){et.middleButton&&et.stopPropagation()}_onFindInputKeyDown(et){if(et.equals(_i|3))if(this._keybindingService.dispatchEvent(et,et.target)){et.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),et.preventDefault();return}if(et.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),et.preventDefault();return}if(et.equals(2066)){this._codeEditor.focus(),et.preventDefault();return}if(et.equals(16))return Si(et,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(et.equals(18))return Ki(et,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(et){if(et.equals(_i|3))if(this._keybindingService.dispatchEvent(et,et.target)){et.preventDefault();return}else{Ue.ED&&Ue.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Le.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(mi,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),et.preventDefault();return}if(et.equals(2)){this._findInput.focusOnCaseSensitive(),et.preventDefault();return}if(et.equals(1026)){this._findInput.focus(),et.preventDefault();return}if(et.equals(2066)){this._codeEditor.focus(),et.preventDefault();return}if(et.equals(16))return Si(et,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(et.equals(18))return Ki(et,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(et){return 0}_keybindingLabelFor(et){const ee=this._keybindingService.lookupKeybinding(et);return ee?` (${ee.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new ie.Yb(null,this._contextViewProvider,{width:Hn,label:st,placeholder:pt,appendCaseSensitiveLabel:this._keybindingLabelFor(j.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(j.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(j.ToggleRegexCommand),validation:Ae=>{if(Ae.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Ae,"gu"),null}catch(He){return{content:He.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>ce(this._keybindingService),inputBoxStyles:he.Hc,toggleStyles:he.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Ae=>this._onFindInputKeyDown(Ae))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Ae=>{Ae.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Ae.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Ae=>{Ae.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Ae.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Ae=>{this._tryUpdateHeight()&&this._showViewZone()})),Ue.IJ&&this._register(this._findInput.onMouseDown(Ae=>this._onFindInputMouseDown(Ae))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Fi({label:Mt+this._keybindingLabelFor(j.PreviousMatchFindAction),icon:Ze,onTrigger:()=>{(0,me.cW)(this._codeEditor.getAction(j.PreviousMatchFindAction)).run().then(void 0,ke.dL)}})),this._nextBtn=this._register(new Fi({label:qt+this._keybindingLabelFor(j.NextMatchFindAction),icon:it,onTrigger:()=>{(0,me.cW)(this._codeEditor.getAction(j.NextMatchFindAction)).run().then(void 0,ke.dL)}}));const de=document.createElement("div");de.className="find-part",de.appendChild(this._findInput.domNode);const oe=document.createElement("div");oe.className="find-actions",de.appendChild(oe),oe.appendChild(this._matchesCount),oe.appendChild(this._prevBtn.domNode),oe.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ne.Z({icon:se,title:Ft+this._keybindingLabelFor(j.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,i.n_1)(i.XEs),inputActiveOptionBorder:(0,i.n_1)(i.PRb),inputActiveOptionForeground:(0,i.n_1)(i.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const Ae=this._codeEditor.getSelections();Ae.map(He=>(He.endColumn===1&&He.endLineNumber>He.startLineNumber&&(He=He.setEndPosition(He.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(He.endLineNumber-1))),He.isEmpty()?null:He)).filter(He=>!!He),Ae.length&&this._state.change({searchScope:Ae},!0)}}else this._state.change({searchScope:null},!0)})),oe.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Fi({label:Xt+this._keybindingLabelFor(j.CloseFindWidgetCommand),icon:Re.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Ae=>{Ae.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Ae.preventDefault())}})),this._replaceInput=this._register(new ie.Nq(null,void 0,{label:_t,placeholder:nt,appendPreserveCaseLabel:this._keybindingLabelFor(j.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ce(this._keybindingService),inputBoxStyles:he.Hc,toggleStyles:he.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Ae=>this._onReplaceInputKeyDown(Ae))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Ae=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Ae=>{Ae.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Ae.preventDefault())})),this._replaceBtn=this._register(new Fi({label:tt+this._keybindingLabelFor(j.ReplaceOneAction),icon:je,onTrigger:()=>{this._controller.replace()},onKeyDown:Ae=>{Ae.equals(1026)&&(this._closeBtn.focus(),Ae.preventDefault())}})),this._replaceAllBtn=this._register(new Fi({label:xt+this._keybindingLabelFor(j.ReplaceAllAction),icon:Oe,onTrigger:()=>{this._controller.replaceAll()}}));const Ce=document.createElement("div");Ce.className="replace-part",Ce.appendChild(this._replaceInput.domNode);const Ee=document.createElement("div");Ee.className="replace-actions",Ce.appendChild(Ee),Ee.appendChild(this._replaceBtn.domNode),Ee.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Fi({label:Lt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Et,this._domNode.role="dialog",this._domNode.style.width=`${In}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(de),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(Ce),this._resizeSash=new ae.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let be=In;this._register(this._resizeSash.onDidStart(()=>{be=J.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Ae=>{this._resized=!0;const He=be+Ae.startX-Ae.currentX;if(He<In)return;const Ye=parseFloat(J.Dx(this._domNode).maxWidth)||0;He>Ye||(this._domNode.style.width=`${He}px`,this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Ae=J.w(this._domNode);if(Ae<In)return;let He=In;if(!this._resized||Ae===In){const Ye=this._codeEditor.getLayoutInfo();He=Ye.width-28-Ye.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${He}px`,this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const et=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(et!==2)}}bi.ID="editor.contrib.findWidget";class Fi extends te.${constructor(et){super(),this._opts=et;let ee="button";this._opts.className&&(ee=ee+" "+this._opts.className),this._opts.icon&&(ee=ee+" "+ye.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ee,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,de=>{this._opts.onTrigger(),de.preventDefault()}),this.onkeydown(this._domNode,de=>{var oe,Ce;if(de.equals(10)||de.equals(3)){this._opts.onTrigger(),de.preventDefault();return}(Ce=(oe=this._opts).onKeyDown)===null||Ce===void 0||Ce.call(oe,de)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(et){this._domNode.classList.toggle("disabled",!et),this._domNode.setAttribute("aria-disabled",String(!et)),this._domNode.tabIndex=et?0:-1}setExpanded(et){this._domNode.setAttribute("aria-expanded",String(!!et)),et?(this._domNode.classList.remove(...ye.k.asClassNameArray(ve)),this._domNode.classList.add(...ye.k.asClassNameArray(xe))):(this._domNode.classList.remove(...ye.k.asClassNameArray(xe)),this._domNode.classList.add(...ye.k.asClassNameArray(ve)))}}(0,f.Ic)((Ht,et)=>{const ee=(ln,ct)=>{ct&&et.addRule(`.monaco-editor ${ln} { background-color: ${ct}; }`)};ee(".findMatch",Ht.getColor(i.MUv)),ee(".currentFindMatch",Ht.getColor(i.nyM)),ee(".findScope",Ht.getColor(i.jUe));const de=Ht.getColor(i.D0T);ee(".find-widget",de);const oe=Ht.getColor(i.rh);oe&&et.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${oe}; }`);const Ce=Ht.getColor(i.A42);Ce&&et.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${Ce}; border-right: 1px solid ${Ce}; border-bottom: 1px solid ${Ce}; }`);const Ee=Ht.getColor(i.EiJ);Ee&&et.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Se.c3)(Ht.type)?"dotted":"solid"} ${Ee}; box-sizing: border-box; }`);const be=Ht.getColor(i.pnM);be&&et.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${be}; padding: 1px; box-sizing: border-box; }`);const Ae=Ht.getColor(i.gkn);Ae&&et.addRule(`.monaco-editor .findScope { border: 1px ${(0,Se.c3)(Ht.type)?"dashed":"solid"} ${Ae}; }`);const He=Ht.getColor(i.lRK);He&&et.addRule(`.monaco-editor .find-widget { border: 1px solid ${He}; }`);const Ye=Ht.getColor(i.Hfx);Ye&&et.addRule(`.monaco-editor .find-widget { color: ${Ye}; }`);const ht=Ht.getColor(i.Ido);ht&&et.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ht}; }`);const $t=Ht.getColor(i.Ng6);if($t)et.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${$t}; }`);else{const ln=Ht.getColor(i.D1_);ln&&et.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ln}; }`)}const gn=Ht.getColor(i.lUq);gn&&et.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${gn} !important;
		}
	`);const dn=Ht.getColor(i.R80);dn&&et.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${dn}; }`)});var ts=e(84144),wi=e(84972),ns=e(5606),wn=e(91847),qe=e(48894),Dt=e(41157),Qt=e(87060),on=function(Ht,et,ee,de){var oe=arguments.length,Ce=oe<3?et:de===null?de=Object.getOwnPropertyDescriptor(et,ee):de,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(Ht,et,ee,de);else for(var be=Ht.length-1;be>=0;be--)(Ee=Ht[be])&&(Ce=(oe<3?Ee(Ce):oe>3?Ee(et,ee,Ce):Ee(et,ee))||Ce);return oe>3&&Ce&&Object.defineProperty(et,ee,Ce),Ce},Cn=function(Ht,et){return function(ee,de){et(ee,de,Ht)}},Bn;const jn=524288;function kt(Ht,et="single",ee=!1){if(!Ht.hasModel())return null;const de=Ht.getSelection();if(et==="single"&&de.startLineNumber===de.endLineNumber||et==="multiple"){if(de.isEmpty()){const oe=Ht.getConfiguredWordAtPosition(de.getStartPosition());if(oe&&ee===!1)return oe.word}else if(Ht.getModel().getValueLengthInRange(de)<jn)return Ht.getModel().getValueInRange(de)}return null}let wt=Bn=class extends U.JT{get editor(){return this._editor}static get(et){return et.getContribution(Bn.ID)}constructor(et,ee,de,oe,Ce){super(),this._editor=et,this._findWidgetVisible=Y.bindTo(ee),this._contextKeyService=ee,this._storageService=de,this._clipboardService=oe,this._notificationService=Ce,this._updateHistoryDelayer=new b.vp(500),this._state=this._register(new pe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Ee=>this._onStateChanged(Ee))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Ee=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Ee&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(et){this.saveQueryState(et),et.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),et.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(et){et.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),et.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),et.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),et.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!L.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const et=this._editor.getSelections();et.map(ee=>(ee.endColumn===1&&ee.endLineNumber>ee.startLineNumber&&(ee=ee.setEndPosition(ee.endLineNumber-1,this._editor.getModel().getLineMaxColumn(ee.endLineNumber-1))),ee.isEmpty()?null:ee)).filter(ee=>!!ee),et.length&&this._state.change({searchScope:et},!0)}}setSearchString(et){this._state.isRegex&&(et=r.ec(et)),this._state.change({searchString:et},!1)}highlightFindOptions(et=!1){}_start(et,ee){return tn(this,null,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const de=Ni(Xn({},ee),{isRevealed:!0});if(et.seedSearchStringFromSelection==="single"){const oe=kt(this._editor,et.seedSearchStringFromSelection,et.seedSearchStringFromNonEmptySelection);oe&&(this._state.isRegex?de.searchString=r.ec(oe):de.searchString=oe)}else if(et.seedSearchStringFromSelection==="multiple"&&!et.updateSearchScope){const oe=kt(this._editor,et.seedSearchStringFromSelection);oe&&(de.searchString=oe)}if(!de.searchString&&et.seedSearchStringFromGlobalClipboard){const oe=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;oe&&(de.searchString=oe)}if(et.forceRevealReplace||de.isReplaceRevealed?de.isReplaceRevealed=!0:this._findWidgetVisible.get()||(de.isReplaceRevealed=!1),et.updateSearchScope){const oe=this._editor.getSelections();oe.some(Ce=>!Ce.isEmpty())&&(de.searchScope=oe)}de.loop=et.loop,this._state.change(de,!1),this._model||(this._model=new m(this._editor,this._state))})}start(et,ee){return this._start(et,ee)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(et){return this._model?(this._model.moveToMatch(et),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var et;return this._model?!((et=this._editor.getModel())===null||et===void 0)&&et.isTooLargeForHeapOperation()?(this._notificationService.warn(Le.NC("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return tn(this,null,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(et){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(et)}};wt.ID="editor.contrib.findController",wt=Bn=on([Cn(1,$.i6),Cn(2,Qt.Uy),Cn(3,wi.p),Cn(4,qe.lT)],wt);let sn=class Uc extends wt{constructor(et,ee,de,oe,Ce,Ee,be,Ae){super(et,de,be,Ae,Ee),this._contextViewService=ee,this._keybindingService=oe,this._themeService=Ce,this._widget=null,this._findOptionsWidget=null}_start(et,ee){return tn(this,null,function*(){this._widget||this._createFindWidget();const de=this._editor.getSelection();let oe=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":oe=!0;break;case"never":oe=!1;break;case"multiline":{oe=!!de&&de.startLineNumber!==de.endLineNumber;break}default:break}et.updateSearchScope=et.updateSearchScope||oe,yield hc(Uc.prototype,this,"_start").call(this,et,ee),this._widget&&(et.shouldFocus===2?this._widget.focusReplaceInput():et.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(et=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!et?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new bi(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new le(this._editor,this._state,this._keybindingService))}};sn=on([Cn(1,ns.u),Cn(2,$.i6),Cn(3,wn.d),Cn(4,f.XE),Cn(5,qe.lT),Cn(6,Qt.Uy),Cn(7,wi.p)],sn),(0,w.rn)(new w.jY({id:j.StartFindAction,label:Le.NC("startFindAction","Find"),alias:"Find",precondition:$.Ao.or(_.u.focus,$.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:ts.eH.MenubarEditMenu,group:"3_find",title:Le.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(Ht,et,ee)=>{const de=wt.get(et);return de?de.start({forceRevealReplace:!1,seedSearchStringFromSelection:et.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:et.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:et.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:et.getOption(41).loop}):!1});const Un={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Le.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Le.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Le.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Le.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class ri extends w.R6{constructor(){super({id:j.StartFindWithArgs,label:Le.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:Un})}run(et,ee,de){return tn(this,null,function*(){const oe=wt.get(ee);if(oe){const Ce=de?{searchString:de.searchString,replaceString:de.replaceString,isReplaceRevealed:de.replaceString!==void 0,isRegex:de.isRegex,wholeWord:de.matchWholeWord,matchCase:de.isCaseSensitive,preserveCase:de.preserveCase}:{};yield oe.start({forceRevealReplace:!1,seedSearchStringFromSelection:oe.getState().searchString.length===0&&ee.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ee.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(de==null?void 0:de.findInSelection)||!1,loop:ee.getOption(41).loop},Ce),oe.setGlobalBufferTerm(oe.getState().searchString)}})}}class Jn extends w.R6{constructor(){super({id:j.StartFindWithSelection,label:Le.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(et,ee){return tn(this,null,function*(){const de=wt.get(ee);de&&(yield de.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ee.getOption(41).loop}),de.setGlobalBufferTerm(de.getState().searchString))})}}class Di extends w.R6{run(et,ee){return tn(this,null,function*(){const de=wt.get(ee);de&&!this._run(de)&&(yield de.start({forceRevealReplace:!1,seedSearchStringFromSelection:de.getState().searchString.length===0&&ee.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ee.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ee.getOption(41).loop}),this._run(de))})}}class Ai extends Di{constructor(){super({id:j.NextMatchFindAction,label:Le.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:_.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:$.Ao.and(_.u.focus,L),primary:3,weight:100}]})}_run(et){return et.moveToNextMatch()?(et.editor.pushUndoStop(),!0):!1}}class Ri extends Di{constructor(){super({id:j.PreviousMatchFindAction,label:Le.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:_.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:$.Ao.and(_.u.focus,L),primary:1027,weight:100}]})}_run(et){return et.moveToPrevMatch()}}class Tn extends w.R6{constructor(){super({id:j.GoToMatchFindAction,label:Le.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Y}),this._highlightDecorations=[]}run(et,ee,de){const oe=wt.get(ee);if(!oe)return;const Ce=oe.getState().matchesCount;if(Ce<1){et.get(qe.lT).notify({severity:qe.zb.Warning,message:Le.NC("findMatchAction.noResults","No matches. Try searching for something else.")});return}const be=et.get(Dt.eJ).createInputBox();be.placeholder=Le.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Ce);const Ae=Ye=>{const ht=parseInt(Ye);if(isNaN(ht))return;const $t=oe.getState().matchesCount;if(ht>0&&ht<=$t)return ht-1;if(ht<0&&ht>=-$t)return $t+ht},He=Ye=>{const ht=Ae(Ye);if(typeof ht=="number"){be.validationMessage=void 0,oe.goToMatch(ht);const $t=oe.getState().currentMatch;$t&&this.addDecorations(ee,$t)}else be.validationMessage=Le.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",oe.getState().matchesCount),this.clearDecorations(ee)};be.onDidChangeValue(Ye=>{He(Ye)}),be.onDidAccept(()=>{const Ye=Ae(be.value);typeof Ye=="number"?(oe.goToMatch(Ye),be.hide()):be.validationMessage=Le.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",oe.getState().matchesCount)}),be.onDidHide(()=>{this.clearDecorations(ee),be.dispose()}),be.show()}clearDecorations(et){et.changeDecorations(ee=>{this._highlightDecorations=ee.deltaDecorations(this._highlightDecorations,[])})}addDecorations(et,ee){et.changeDecorations(de=>{this._highlightDecorations=de.deltaDecorations(this._highlightDecorations,[{range:ee,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:ee,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,f.EN)(c.m9),position:I.sh.Full}}}])})}}class yn extends w.R6{run(et,ee){return tn(this,null,function*(){const de=wt.get(ee);if(!de)return;const oe=kt(ee,"single",!1);oe&&de.setSearchString(oe),this._run(de)||(yield de.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ee.getOption(41).loop}),this._run(de))})}}class Nn extends yn{constructor(){super({id:j.NextSelectionMatchFindAction,label:Le.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:_.u.focus,primary:2109,weight:100}})}_run(et){return et.moveToNextMatch()}}class Bt extends yn{constructor(){super({id:j.PreviousSelectionMatchFindAction,label:Le.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:_.u.focus,primary:3133,weight:100}})}_run(et){return et.moveToPrevMatch()}}(0,w.rn)(new w.jY({id:j.StartFindReplaceAction,label:Le.NC("startReplace","Replace"),alias:"Replace",precondition:$.Ao.or(_.u.focus,$.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:ts.eH.MenubarEditMenu,group:"3_find",title:Le.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(Ht,et,ee)=>{if(!et.hasModel()||et.getOption(90))return!1;const de=wt.get(et);if(!de)return!1;const oe=et.getSelection(),Ce=de.isFindInputFocused(),Ee=!oe.isEmpty()&&oe.startLineNumber===oe.endLineNumber&&et.getOption(41).seedSearchStringFromSelection!=="never"&&!Ce,be=Ce||Ee?2:1;return de.start({forceRevealReplace:!0,seedSearchStringFromSelection:Ee?"single":"none",seedSearchStringFromNonEmptySelection:et.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:et.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:be,shouldAnimate:!0,updateSearchScope:!1,loop:et.getOption(41).loop})}),(0,w._K)(wt.ID,sn,0),(0,w.Qr)(ri),(0,w.Qr)(Jn),(0,w.Qr)(Ai),(0,w.Qr)(Ri),(0,w.Qr)(Tn),(0,w.Qr)(Nn),(0,w.Qr)(Bt);const fn=w._l.bindToContribution(wt.get);(0,w.fK)(new fn({id:j.CloseFindWidgetCommand,precondition:Y,handler:Ht=>Ht.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:$.Ao.and(_.u.focus,$.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,w.fK)(new fn({id:j.ToggleCaseSensitiveCommand,precondition:void 0,handler:Ht=>Ht.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:O.primary,mac:O.mac,win:O.win,linux:O.linux}})),(0,w.fK)(new fn({id:j.ToggleWholeWordCommand,precondition:void 0,handler:Ht=>Ht.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:P.primary,mac:P.mac,win:P.win,linux:P.linux}})),(0,w.fK)(new fn({id:j.ToggleRegexCommand,precondition:void 0,handler:Ht=>Ht.toggleRegex(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:H.primary,mac:H.mac,win:H.win,linux:H.linux}})),(0,w.fK)(new fn({id:j.ToggleSearchScopeCommand,precondition:void 0,handler:Ht=>Ht.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),(0,w.fK)(new fn({id:j.TogglePreserveCaseCommand,precondition:void 0,handler:Ht=>Ht.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,w.fK)(new fn({id:j.ReplaceOneAction,precondition:Y,handler:Ht=>Ht.replace(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:3094}})),(0,w.fK)(new fn({id:j.ReplaceOneAction,precondition:Y,handler:Ht=>Ht.replace(),kbOpts:{weight:100+5,kbExpr:$.Ao.and(_.u.focus,z),primary:3}})),(0,w.fK)(new fn({id:j.ReplaceAllAction,precondition:Y,handler:Ht=>Ht.replaceAll(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:2563}})),(0,w.fK)(new fn({id:j.ReplaceAllAction,precondition:Y,handler:Ht=>Ht.replaceAll(),kbOpts:{weight:100+5,kbExpr:$.Ao.and(_.u.focus,z),primary:void 0,mac:{primary:2051}}})),(0,w.fK)(new fn({id:j.SelectAllMatchesAction,precondition:Y,handler:Ht=>Ht.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:515}}))},23369:function(Ot,Ke,e){"use strict";e.d(Ke,{f:function(){return F},n:function(){return K}});var b=e(15393),U=e(71050),r=e(17301),w=e(22258),c=e(5976),_=e(97295),I=e(98401),M=e(43407),D=e(16830),p=e(29102),o=e(43155),u=e(4256),d=e(71705),n=e(35534),i=e(4669),f=e(24314),v=e(23795);class a{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(he){this._updateEventEmitter=new i.Q5,this._hasLineChanges=!1,this._foldingModel=he,this._foldingModelListener=he.onDidChange(se=>this.updateHiddenRanges()),this._hiddenRanges=[],he.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(he){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=he.changes.some(se=>se.range.endLineNumber!==se.range.startLineNumber||(0,v.Q)(se.text)[0]!==0))}updateHiddenRanges(){let he=!1;const se=[];let ve=0,xe=0,je=Number.MAX_VALUE,Oe=-1;const Ze=this._foldingModel.regions;for(;ve<Ze.length;ve++){if(!Ze.isCollapsed(ve))continue;const it=Ze.getStartLineNumber(ve)+1,Et=Ze.getEndLineNumber(ve);je<=it&&Et<=Oe||(!he&&xe<this._hiddenRanges.length&&this._hiddenRanges[xe].startLineNumber===it&&this._hiddenRanges[xe].endLineNumber===Et?(se.push(this._hiddenRanges[xe]),xe++):(he=!0,se.push(new f.e(it,1,Et,1))),je=it,Oe=Et)}(this._hasLineChanges||he||xe<this._hiddenRanges.length)&&this.applyHiddenRanges(se)}applyHiddenRanges(he){this._hiddenRanges=he,this._hasLineChanges=!1,this._updateEventEmitter.fire(he)}hasRanges(){return this._hiddenRanges.length>0}isHidden(he){return g(this._hiddenRanges,he)!==null}adjustSelections(he){let se=!1;const ve=this._foldingModel.textModel;let xe=null;const je=Oe=>((!xe||!S(Oe,xe))&&(xe=g(this._hiddenRanges,Oe)),xe?xe.startLineNumber-1:null);for(let Oe=0,Ze=he.length;Oe<Ze;Oe++){let it=he[Oe];const Et=je(it.startLineNumber);Et&&(it=it.setStartPosition(Et,ve.getLineMaxColumn(Et)),se=!0);const st=je(it.endLineNumber);st&&(it=it.setEndPosition(st,ve.getLineMaxColumn(st)),se=!0),he[Oe]=it}return se}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function S(me,he){return me>=he.startLineNumber&&me<=he.endLineNumber}function g(me,he){const se=(0,n.J_)(me,ve=>he<ve.startLineNumber)-1;return se>=0&&me[se].endLineNumber>=he?me[se]:null}var y=e(84990),C=e(63580),E=e(32064),A=e(83973),N=e(37702),B=e(99155),W=e(48894),$=e(88191),Y=e(84013),R=e(71922),L=e(94565),z=e(70666),O=e(73733),P=e(33108),H=function(me,he,se,ve){var xe=arguments.length,je=xe<3?he:ve===null?ve=Object.getOwnPropertyDescriptor(he,se):ve,Oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(me,he,se,ve);else for(var Ze=me.length-1;Ze>=0;Ze--)(Oe=me[Ze])&&(je=(xe<3?Oe(je):xe>3?Oe(he,se,je):Oe(he,se))||je);return xe>3&&je&&Object.defineProperty(he,se,je),je},V=function(me,he){return function(se,ve){he(se,ve,me)}},G;const j=new E.uy("foldingEnabled",!1);let F=G=class extends c.JT{static get(he){return he.getContribution(G.ID)}static getFoldingRangeProviders(he,se){var ve,xe;const je=he.foldingRangeProvider.ordered(se);return(xe=(ve=G._foldingRangeSelector)===null||ve===void 0?void 0:ve.call(G,je,se))!==null&&xe!==void 0?xe:je}constructor(he,se,ve,xe,je,Oe){super(),this.contextKeyService=se,this.languageConfigurationService=ve,this.languageFeaturesService=Oe,this.localToDispose=this._register(new c.SL),this.editor=he,this._foldingLimitReporter=new K(he);const Ze=this.editor.getOptions();this._isEnabled=Ze.get(43),this._useFoldingProviders=Ze.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=Ze.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Ze.get(46),this.updateDebounceInfo=je.for(Oe.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new A.fF(he),this.foldingDecorationProvider.showFoldingControls=Ze.get(109),this.foldingDecorationProvider.showFoldingHighlights=Ze.get(45),this.foldingEnabled=j.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(it=>{if(it.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),it.hasChanged(47)&&this.onModelChanged(),it.hasChanged(109)||it.hasChanged(45)){const Et=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Et.get(109),this.foldingDecorationProvider.showFoldingHighlights=Et.get(45),this.triggerFoldingModelChanged()}it.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),it.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),it.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const he=this.editor.getModel();if(!he||!this._isEnabled||he.isTooLargeForTokenization())return{};if(this.foldingModel){const se=this.foldingModel.getMemento(),ve=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:se,lineCount:he.getLineCount(),provider:ve,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(he){const se=this.editor.getModel();if(!(!se||!this._isEnabled||se.isTooLargeForTokenization()||!this.hiddenRangeModel)&&he&&(this._currentModelHasFoldedImports=!!he.foldedImports,he.collapsedRegions&&he.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(he.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const he=this.editor.getModel();!this._isEnabled||!he||he.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new d.av(he,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(se=>this.onHiddenRangesChanges(se))),this.updateScheduler=new b.vp(this.updateDebounceInfo.get(he)),this.cursorChangedScheduler=new b.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(se=>this.onDidChangeModelContent(se))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(se=>this.onEditorMouseDown(se))),this.localToDispose.add(this.editor.onMouseUp(se=>this.onEditorMouseUp(se))),this.localToDispose.add({dispose:()=>{var se,ve;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(se=this.updateScheduler)===null||se===void 0||se.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(ve=this.rangeProvider)===null||ve===void 0||ve.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var he;(he=this.rangeProvider)===null||he===void 0||he.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(he){if(this.rangeProvider)return this.rangeProvider;const se=new y.aI(he,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=se,this._useFoldingProviders&&this.foldingModel){const ve=G.getFoldingRangeProviders(this.languageFeaturesService,he);ve.length>0&&(this.rangeProvider=new B.e(he,ve,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,se))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(he){var se;(se=this.hiddenRangeModel)===null||se===void 0||se.notifyChangeModelContent(he),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const he=this.foldingModel;if(!he)return null;const se=new Y.G,ve=this.getRangeProvider(he.textModel),xe=this.foldingRegionPromise=(0,b.PG)(je=>ve.compute(je));return xe.then(je=>{if(je&&xe===this.foldingRegionPromise){let Oe;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const st=je.setCollapsedAllOfType(o.AD.Imports.value,!0);st&&(Oe=M.Z.capture(this.editor),this._currentModelHasFoldedImports=st)}const Ze=this.editor.getSelections(),it=Ze?Ze.map(st=>st.startLineNumber):[];he.update(je,it),Oe==null||Oe.restore(this.editor);const Et=this.updateDebounceInfo.update(he.textModel,se.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Et)}return he})}).then(void 0,he=>((0,r.dL)(he),null)))}onHiddenRangesChanges(he){if(this.hiddenRangeModel&&he.length&&!this._restoringViewState){const se=this.editor.getSelections();se&&this.hiddenRangeModel.adjustSelections(se)&&this.editor.setSelections(se)}this.editor.setHiddenAreas(he,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const he=this.getFoldingModel();he&&he.then(se=>{if(se){const ve=this.editor.getSelections();if(ve&&ve.length>0){const xe=[];for(const je of ve){const Oe=je.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(Oe)&&xe.push(...se.getAllRegionsAtLine(Oe,Ze=>Ze.isCollapsed&&Oe>Ze.startLineNumber))}xe.length&&(se.toggleCollapseState(xe),this.reveal(ve[0].getPosition()))}}}).then(void 0,r.dL)}onEditorMouseDown(he){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!he.target||!he.target.range||!he.event.leftButton&&!he.event.middleButton)return;const se=he.target.range;let ve=!1;switch(he.target.type){case 4:{const xe=he.target.detail,je=he.target.element.offsetLeft;if(xe.offsetX-je<4)return;ve=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!he.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const xe=this.editor.getModel();if(xe&&se.startColumn===xe.getLineMaxColumn(se.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:se.startLineNumber,iconClicked:ve}}onEditorMouseUp(he){const se=this.foldingModel;if(!se||!this.mouseDownInfo||!he.target)return;const ve=this.mouseDownInfo.lineNumber,xe=this.mouseDownInfo.iconClicked,je=he.target.range;if(!je||je.startLineNumber!==ve)return;if(xe){if(he.target.type!==4)return}else{const Ze=this.editor.getModel();if(!Ze||je.startColumn!==Ze.getLineMaxColumn(ve))return}const Oe=se.getRegionAtLine(ve);if(Oe&&Oe.startLineNumber===ve){const Ze=Oe.isCollapsed;if(xe||Ze){const it=he.event.altKey;let Et=[];if(it){const st=Mt=>!Mt.containedBy(Oe)&&!Oe.containedBy(Mt),pt=se.getRegionsInside(null,st);for(const Mt of pt)Mt.isCollapsed&&Et.push(Mt);Et.length===0&&(Et=pt)}else{const st=he.event.middleButton||he.event.shiftKey;if(st)for(const pt of se.getRegionsInside(Oe))pt.isCollapsed===Ze&&Et.push(pt);(Ze||!st||Et.length===0)&&Et.push(Oe)}se.toggleCollapseState(Et),this.reveal({lineNumber:ve,column:1})}}}reveal(he){this.editor.revealPositionInCenterIfOutsideViewport(he,0)}};F.ID="editor.contrib.folding",F=G=H([V(1,E.i6),V(2,u.c_),V(3,W.lT),V(4,$.A),V(5,R.p)],F);class K{constructor(he){this.editor=he,this._onDidChange=new i.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(he,se){(he!==this._computed||se!==this._limited)&&(this._computed=he,this._limited=se,this._onDidChange.fire())}}class m extends D.R6{runEditorCommand(he,se,ve){const xe=he.get(u.c_),je=F.get(se);if(!je)return;const Oe=je.getFoldingModel();if(Oe)return this.reportTelemetry(he,se),Oe.then(Ze=>{if(Ze){this.invoke(je,Ze,se,ve,xe);const it=se.getSelection();it&&je.reveal(it.getStartPosition())}})}getSelectedLines(he){const se=he.getSelections();return se?se.map(ve=>ve.startLineNumber):[]}getLineNumbers(he,se){return he&&he.selectionLines?he.selectionLines.map(ve=>ve+1):this.getSelectedLines(se)}run(he,se){}}function J(me){if(!I.o8(me)){if(!I.Kn(me))return!1;const he=me;if(!I.o8(he.levels)&&!I.hj(he.levels)||!I.o8(he.direction)&&!I.HD(he.direction)||!I.o8(he.selectionLines)&&(!Array.isArray(he.selectionLines)||!he.selectionLines.every(I.hj)))return!1}return!0}class X extends m{constructor(){super({id:"editor.unfold",label:C.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:J,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(he,se,ve,xe){const je=xe&&xe.levels||1,Oe=this.getLineNumbers(xe,ve);xe&&xe.direction==="up"?(0,d.gU)(se,!1,je,Oe):(0,d.R$)(se,!1,je,Oe)}}class te extends m{constructor(){super({id:"editor.unfoldRecursively",label:C.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2142),weight:100}})}invoke(he,se,ve,xe){(0,d.R$)(se,!1,Number.MAX_VALUE,this.getSelectedLines(ve))}}class le extends m{constructor(){super({id:"editor.fold",label:C.NC("foldAction.label","Fold"),alias:"Fold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:J,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(he,se,ve,xe){const je=this.getLineNumbers(xe,ve),Oe=xe&&xe.levels,Ze=xe&&xe.direction;typeof Oe!="number"&&typeof Ze!="string"?(0,d.HX)(se,!0,je):Ze==="up"?(0,d.gU)(se,!0,Oe||1,je):(0,d.R$)(se,!0,Oe||1,je)}}class ge extends m{constructor(){super({id:"editor.toggleFold",label:C.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2090),weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);(0,d.d8)(se,1,xe)}}class we extends m{constructor(){super({id:"editor.foldRecursively",label:C.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2140),weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);(0,d.R$)(se,!0,Number.MAX_VALUE,xe)}}class pe extends m{constructor(){super({id:"editor.foldAllBlockComments",label:C.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2138),weight:100}})}invoke(he,se,ve,xe,je){if(se.regions.hasTypes())(0,d.MW)(se,o.AD.Comment.value,!0);else{const Oe=ve.getModel();if(!Oe)return;const Ze=je.getLanguageConfiguration(Oe.getLanguageId()).comments;if(Ze&&Ze.blockCommentStartToken){const it=new RegExp("^\\s*"+(0,_.ec)(Ze.blockCommentStartToken));(0,d.DW)(se,it,!0)}}}}class Pe extends m{constructor(){super({id:"editor.foldAllMarkerRegions",label:C.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2077),weight:100}})}invoke(he,se,ve,xe,je){if(se.regions.hasTypes())(0,d.MW)(se,o.AD.Region.value,!0);else{const Oe=ve.getModel();if(!Oe)return;const Ze=je.getLanguageConfiguration(Oe.getLanguageId()).foldingRules;if(Ze&&Ze.markers&&Ze.markers.start){const it=new RegExp(Ze.markers.start);(0,d.DW)(se,it,!0)}}}}class Ne extends m{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:C.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2078),weight:100}})}invoke(he,se,ve,xe,je){if(se.regions.hasTypes())(0,d.MW)(se,o.AD.Region.value,!1);else{const Oe=ve.getModel();if(!Oe)return;const Ze=je.getLanguageConfiguration(Oe.getLanguageId()).foldingRules;if(Ze&&Ze.markers&&Ze.markers.start){const it=new RegExp(Ze.markers.start);(0,d.DW)(se,it,!1)}}}}class ae extends m{constructor(){super({id:"editor.foldAllExcept",label:C.NC("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2136),weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);(0,d.YT)(se,!0,xe)}}class Me extends m{constructor(){super({id:"editor.unfoldAllExcept",label:C.NC("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2134),weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);(0,d.YT)(se,!1,xe)}}class ke extends m{constructor(){super({id:"editor.foldAll",label:C.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2069),weight:100}})}invoke(he,se,ve){(0,d.R$)(se,!0)}}class Ue extends m{constructor(){super({id:"editor.unfoldAll",label:C.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2088),weight:100}})}invoke(he,se,ve){(0,d.R$)(se,!1)}}class Le extends m{getFoldingLevel(){return parseInt(this.id.substr(Le.ID_PREFIX.length))}invoke(he,se,ve){(0,d.Ln)(se,this.getFoldingLevel(),!0,this.getSelectedLines(ve))}}Le.ID_PREFIX="editor.foldLevel",Le.ID=me=>Le.ID_PREFIX+me;class ie extends m{constructor(){super({id:"editor.gotoParentFold",label:C.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);if(xe.length>0){const je=(0,d.PV)(xe[0],se);je!==null&&ve.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class ce extends m{constructor(){super({id:"editor.gotoPreviousFold",label:C.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);if(xe.length>0){const je=(0,d.sK)(xe[0],se);je!==null&&ve.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class Re extends m{constructor(){super({id:"editor.gotoNextFold",label:C.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(he,se,ve){const xe=this.getSelectedLines(ve);if(xe.length>0){const je=(0,d.hE)(xe[0],se);je!==null&&ve.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class ye extends m{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:C.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2135),weight:100}})}invoke(he,se,ve){var xe;const je=[],Oe=ve.getSelections();if(Oe){for(const Ze of Oe){let it=Ze.endLineNumber;Ze.endColumn===1&&--it,it>Ze.startLineNumber&&(je.push({startLineNumber:Ze.startLineNumber,endLineNumber:it,type:void 0,isCollapsed:!0,source:1}),ve.setSelection({startLineNumber:Ze.startLineNumber,startColumn:1,endLineNumber:Ze.startLineNumber,endColumn:1}))}if(je.length>0){je.sort((it,Et)=>it.startLineNumber-Et.startLineNumber);const Ze=N.MN.sanitizeAndMerge(se.regions,je,(xe=ve.getModel())===null||xe===void 0?void 0:xe.getLineCount());se.updatePost(N.MN.fromFoldRanges(Ze))}}}}class Se extends m{constructor(){super({id:"editor.removeManualFoldingRanges",label:C.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2137),weight:100}})}invoke(he,se,ve){const xe=ve.getSelections();if(xe){const je=[];for(const Oe of xe){const{startLineNumber:Ze,endLineNumber:it}=Oe;je.push(it>=Ze?{startLineNumber:Ze,endLineNumber:it}:{endLineNumber:it,startLineNumber:Ze})}se.removeManualRanges(je),he.triggerFoldingModelChanged()}}}(0,D._K)(F.ID,F,0),(0,D.Qr)(X),(0,D.Qr)(te),(0,D.Qr)(le),(0,D.Qr)(we),(0,D.Qr)(ke),(0,D.Qr)(Ue),(0,D.Qr)(pe),(0,D.Qr)(Pe),(0,D.Qr)(Ne),(0,D.Qr)(ae),(0,D.Qr)(Me),(0,D.Qr)(ge),(0,D.Qr)(ie),(0,D.Qr)(ce),(0,D.Qr)(Re),(0,D.Qr)(ye),(0,D.Qr)(Se);for(let me=1;me<=7;me++)(0,D.QG)(new Le({id:Le.ID(me),label:C.NC("foldLevelAction.label","Fold Level {0}",me),alias:`Fold Level ${me}`,precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2048|21+me),weight:100}}));L.P.registerCommand("_executeFoldingRangeProvider",function(me,...he){return tn(this,null,function*(){const[se]=he;if(!(se instanceof z.o))throw(0,r.b1)();const ve=me.get(R.p),xe=me.get(O.q).getModel(se);if(!xe)throw(0,r.b1)();const je=me.get(P.Ui);if(!je.getValue("editor.folding",{resource:se}))return[];const Oe=me.get(u.c_),Ze=je.getValue("editor.foldingStrategy",{resource:se}),it={get limit(){return je.getValue("editor.foldingMaximumRegions",{resource:se})},update:(qt,Ft)=>{}},Et=new y.aI(xe,Oe,it);let st=Et;if(Ze!=="indentation"){const qt=F.getFoldingRangeProviders(ve,xe);qt.length&&(st=new B.e(xe,qt,()=>{},it,Et))}const pt=yield st.compute(U.T.None),Mt=[];try{if(pt)for(let qt=0;qt<pt.length;qt++){const Ft=pt.getType(qt);Mt.push({start:pt.getStartLineNumber(qt),end:pt.getEndLineNumber(qt),kind:Ft?o.AD.fromValue(Ft):void 0})}return Mt}finally{st.dispose()}})})},83973:function(Ot,Ke,e){"use strict";e.d(Ke,{Iy:function(){return p},f5:function(){return o},fF:function(){return i}});var b=e(73046),U=e(84973),r=e(84901),w=e(63580),c=e(73910),_=e(59554),I=e(97781),M=e(25670);const D=(0,c.P6G)("editor.foldBackground",{light:(0,c.ZnX)(c.hEj,.3),dark:(0,c.ZnX)(c.hEj,.3),hcDark:null,hcLight:null},(0,w.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,c.P6G)("editorGutter.foldingControlForeground",{dark:c.XZx,light:c.XZx,hcDark:c.XZx,hcLight:c.XZx},(0,w.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const p=(0,_.q5)("folding-expanded",b.l.chevronDown,(0,w.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),o=(0,_.q5)("folding-collapsed",b.l.chevronRight,(0,w.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),u=(0,_.q5)("folding-manual-collapsed",o,(0,w.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),d=(0,_.q5)("folding-manual-expanded",p,(0,w.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),n={color:(0,I.EN)(D),position:U.F5.Inline};class i{constructor(v){this.editor=v,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(v,a,S){return a?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?v?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:v?S?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?S?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:S?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(v){return this.editor.changeDecorations(v)}removeDecorations(v){this.editor.removeDecorations(v)}}i.COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(o)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:n,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(o)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(u)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:n,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(u)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:n,isWholeLine:!0}),i.EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+M.k.asClassName(p)}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(p)}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+M.k.asClassName(d)}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(d)}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=r.qx.register({description:"folding-hidden-range-decoration",stickiness:1})},71705:function(Ot,Ke,e){"use strict";e.d(Ke,{DW:function(){return o},HX:function(){return M},Ln:function(){return D},MW:function(){return u},PV:function(){return d},R$:function(){return _},YT:function(){return p},av:function(){return w},d8:function(){return c},gU:function(){return I},hE:function(){return i},sK:function(){return n}});var b=e(4669),U=e(37702),r=e(89954);class w{get regions(){return this._regions}get textModel(){return this._textModel}constructor(v,a){this._updateEventEmitter=new b.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=v,this._decorationProvider=a,this._regions=new U.MN(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(v){if(!v.length)return;v=v.sort((S,g)=>S.regionIndex-g.regionIndex);const a={};this._decorationProvider.changeDecorations(S=>{let g=0,y=-1,C=-1;const E=A=>{for(;g<A;){const N=this._regions.getEndLineNumber(g),B=this._regions.isCollapsed(g);if(N<=y){const W=this.regions.getSource(g)!==0;S.changeDecorationOptions(this._editorDecorationIds[g],this._decorationProvider.getDecorationOption(B,N<=C,W))}B&&N>C&&(C=N),g++}};for(const A of v){const N=A.regionIndex,B=this._editorDecorationIds[N];if(B&&!a[B]){a[B]=!0,E(N);const W=!this._regions.isCollapsed(N);this._regions.setCollapsed(N,W),y=Math.max(y,this._regions.getEndLineNumber(N))}}E(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:v})}removeManualRanges(v){const a=new Array,S=g=>{for(const y of v)if(!(y.startLineNumber>g.endLineNumber||g.startLineNumber>y.endLineNumber))return!0;return!1};for(let g=0;g<this._regions.length;g++){const y=this._regions.toFoldRange(g);(y.source===0||!S(y))&&a.push(y)}this.updatePost(U.MN.fromFoldRanges(a))}update(v,a=[]){const S=this._currentFoldedOrManualRanges(a),g=U.MN.sanitizeAndMerge(v,S,this._textModel.getLineCount());this.updatePost(U.MN.fromFoldRanges(g))}updatePost(v){const a=[];let S=-1;for(let g=0,y=v.length;g<y;g++){const C=v.getStartLineNumber(g),E=v.getEndLineNumber(g),A=v.isCollapsed(g),N=v.getSource(g)!==0,B={startLineNumber:C,startColumn:this._textModel.getLineMaxColumn(C),endLineNumber:E,endColumn:this._textModel.getLineMaxColumn(E)+1};a.push({range:B,options:this._decorationProvider.getDecorationOption(A,E<=S,N)}),A&&E>S&&(S=E)}this._decorationProvider.changeDecorations(g=>this._editorDecorationIds=g.deltaDecorations(this._editorDecorationIds,a)),this._regions=v,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(v=[]){const a=(g,y)=>{for(const C of v)if(g<C&&C<=y)return!0;return!1},S=[];for(let g=0,y=this._regions.length;g<y;g++){let C=this.regions.isCollapsed(g);const E=this.regions.getSource(g);if(C||E!==0){const A=this._regions.toFoldRange(g),N=this._textModel.getDecorationRange(this._editorDecorationIds[g]);N&&(C&&a(N.startLineNumber,N.endLineNumber)&&(C=!1),S.push({startLineNumber:N.startLineNumber,endLineNumber:N.endLineNumber,type:A.type,isCollapsed:C,source:E}))}}return S}getMemento(){const v=this._currentFoldedOrManualRanges(),a=[],S=this._textModel.getLineCount();for(let g=0,y=v.length;g<y;g++){const C=v[g];if(C.startLineNumber>=C.endLineNumber||C.startLineNumber<1||C.endLineNumber>S)continue;const E=this._getLinesChecksum(C.startLineNumber+1,C.endLineNumber);a.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,isCollapsed:C.isCollapsed,source:C.source,checksum:E})}return a.length>0?a:void 0}applyMemento(v){var a,S;if(!Array.isArray(v))return;const g=[],y=this._textModel.getLineCount();for(const E of v){if(E.startLineNumber>=E.endLineNumber||E.startLineNumber<1||E.endLineNumber>y)continue;const A=this._getLinesChecksum(E.startLineNumber+1,E.endLineNumber);(!E.checksum||A===E.checksum)&&g.push({startLineNumber:E.startLineNumber,endLineNumber:E.endLineNumber,type:void 0,isCollapsed:(a=E.isCollapsed)!==null&&a!==void 0?a:!0,source:(S=E.source)!==null&&S!==void 0?S:0})}const C=U.MN.sanitizeAndMerge(this._regions,g,y);this.updatePost(U.MN.fromFoldRanges(C))}_getLinesChecksum(v,a){return(0,r.vp)(this._textModel.getLineContent(v)+this._textModel.getLineContent(a))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(v,a){const S=[];if(this._regions){let g=this._regions.findRange(v),y=1;for(;g>=0;){const C=this._regions.toRegion(g);(!a||a(C,y))&&S.push(C),y++,g=C.parentIndex}}return S}getRegionAtLine(v){if(this._regions){const a=this._regions.findRange(v);if(a>=0)return this._regions.toRegion(a)}return null}getRegionsInside(v,a){const S=[],g=v?v.regionIndex+1:0,y=v?v.endLineNumber:Number.MAX_VALUE;if(a&&a.length===2){const C=[];for(let E=g,A=this._regions.length;E<A;E++){const N=this._regions.toRegion(E);if(this._regions.getStartLineNumber(E)<y){for(;C.length>0&&!N.containedBy(C[C.length-1]);)C.pop();C.push(N),a(N,C.length)&&S.push(N)}else break}}else for(let C=g,E=this._regions.length;C<E;C++){const A=this._regions.toRegion(C);if(this._regions.getStartLineNumber(C)<y)(!a||a(A))&&S.push(A);else break}return S}}function c(f,v,a){const S=[];for(const g of a){const y=f.getRegionAtLine(g);if(y){const C=!y.isCollapsed;if(S.push(y),v>1){const E=f.getRegionsInside(y,(A,N)=>A.isCollapsed!==C&&N<v);S.push(...E)}}}f.toggleCollapseState(S)}function _(f,v,a=Number.MAX_VALUE,S){const g=[];if(S&&S.length>0)for(const y of S){const C=f.getRegionAtLine(y);if(C&&(C.isCollapsed!==v&&g.push(C),a>1)){const E=f.getRegionsInside(C,(A,N)=>A.isCollapsed!==v&&N<a);g.push(...E)}}else{const y=f.getRegionsInside(null,(C,E)=>C.isCollapsed!==v&&E<a);g.push(...y)}f.toggleCollapseState(g)}function I(f,v,a,S){const g=[];for(const y of S){const C=f.getAllRegionsAtLine(y,(E,A)=>E.isCollapsed!==v&&A<=a);g.push(...C)}f.toggleCollapseState(g)}function M(f,v,a){const S=[];for(const g of a){const y=f.getAllRegionsAtLine(g,C=>C.isCollapsed!==v);y.length>0&&S.push(y[0])}f.toggleCollapseState(S)}function D(f,v,a,S){const g=(C,E)=>E===v&&C.isCollapsed!==a&&!S.some(A=>C.containsLine(A)),y=f.getRegionsInside(null,g);f.toggleCollapseState(y)}function p(f,v,a){const S=[];for(const C of a){const E=f.getAllRegionsAtLine(C,void 0);E.length>0&&S.push(E[0])}const g=C=>S.every(E=>!E.containedBy(C)&&!C.containedBy(E))&&C.isCollapsed!==v,y=f.getRegionsInside(null,g);f.toggleCollapseState(y)}function o(f,v,a){const S=f.textModel,g=f.regions,y=[];for(let C=g.length-1;C>=0;C--)if(a!==g.isCollapsed(C)){const E=g.getStartLineNumber(C);v.test(S.getLineContent(E))&&y.push(g.toRegion(C))}f.toggleCollapseState(y)}function u(f,v,a){const S=f.regions,g=[];for(let y=S.length-1;y>=0;y--)a!==S.isCollapsed(y)&&v===S.getType(y)&&g.push(S.toRegion(y));f.toggleCollapseState(g)}function d(f,v){let a=null;const S=v.getRegionAtLine(f);if(S!==null&&(a=S.startLineNumber,f===a)){const g=S.parentIndex;g!==-1?a=v.regions.getStartLineNumber(g):a=null}return a}function n(f,v){let a=v.getRegionAtLine(f);if(a!==null&&a.startLineNumber===f){if(f!==a.startLineNumber)return a.startLineNumber;{const S=a.parentIndex;let g=0;for(S!==-1&&(g=v.regions.getStartLineNumber(a.parentIndex));a!==null;)if(a.regionIndex>0){if(a=v.regions.toRegion(a.regionIndex-1),a.startLineNumber<=g)return null;if(a.parentIndex===S)return a.startLineNumber}else return null}}else if(v.regions.length>0)for(a=v.regions.toRegion(v.regions.length-1);a!==null;){if(a.startLineNumber<f)return a.startLineNumber;a.regionIndex>0?a=v.regions.toRegion(a.regionIndex-1):a=null}return null}function i(f,v){let a=v.getRegionAtLine(f);if(a!==null&&a.startLineNumber===f){const S=a.parentIndex;let g=0;if(S!==-1)g=v.regions.getEndLineNumber(a.parentIndex);else{if(v.regions.length===0)return null;g=v.regions.getEndLineNumber(v.regions.length-1)}for(;a!==null;)if(a.regionIndex<v.regions.length){if(a=v.regions.toRegion(a.regionIndex+1),a.startLineNumber>=g)return null;if(a.parentIndex===S)return a.startLineNumber}else return null}else if(v.regions.length>0)for(a=v.regions.toRegion(0);a!==null;){if(a.startLineNumber>f)return a.startLineNumber;a.regionIndex<v.regions.length?a=v.regions.toRegion(a.regionIndex+1):a=null}return null}},37702:function(Ot,Ke,e){"use strict";e.d(Ke,{MN:function(){return _},Xl:function(){return r}});const b={[0]:" ",[1]:"u",[2]:"r"},U=65535,r=16777215,w=4278190080;class c{constructor(D){const p=Math.ceil(D/32);this._states=new Uint32Array(p)}get(D){const p=D/32|0,o=D%32;return(this._states[p]&1<<o)!==0}set(D,p){const o=D/32|0,u=D%32,d=this._states[o];p?this._states[o]=d|1<<u:this._states[o]=d&~(1<<u)}}class _{constructor(D,p,o){if(D.length!==p.length||D.length>U)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=D,this._endIndexes=p,this._collapseStates=new c(D.length),this._userDefinedStates=new c(D.length),this._recoveredStates=new c(D.length),this._types=o,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const D=[],p=(o,u)=>{const d=D[D.length-1];return this.getStartLineNumber(d)<=o&&this.getEndLineNumber(d)>=u};for(let o=0,u=this._startIndexes.length;o<u;o++){const d=this._startIndexes[o],n=this._endIndexes[o];if(d>r||n>r)throw new Error("startLineNumber or endLineNumber must not exceed "+r);for(;D.length>0&&!p(d,n);)D.pop();const i=D.length>0?D[D.length-1]:-1;D.push(o),this._startIndexes[o]=d+((i&255)<<24),this._endIndexes[o]=n+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(D){return this._startIndexes[D]&r}getEndLineNumber(D){return this._endIndexes[D]&r}getType(D){return this._types?this._types[D]:void 0}hasTypes(){return!!this._types}isCollapsed(D){return this._collapseStates.get(D)}setCollapsed(D,p){this._collapseStates.set(D,p)}isUserDefined(D){return this._userDefinedStates.get(D)}setUserDefined(D,p){return this._userDefinedStates.set(D,p)}isRecovered(D){return this._recoveredStates.get(D)}setRecovered(D,p){return this._recoveredStates.set(D,p)}getSource(D){return this.isUserDefined(D)?1:this.isRecovered(D)?2:0}setSource(D,p){p===1?(this.setUserDefined(D,!0),this.setRecovered(D,!1)):p===2?(this.setUserDefined(D,!1),this.setRecovered(D,!0)):(this.setUserDefined(D,!1),this.setRecovered(D,!1))}setCollapsedAllOfType(D,p){let o=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===D&&(this.setCollapsed(u,p),o=!0);return o}toRegion(D){return new I(this,D)}getParentIndex(D){this.ensureParentIndices();const p=((this._startIndexes[D]&w)>>>24)+((this._endIndexes[D]&w)>>>16);return p===U?-1:p}contains(D,p){return this.getStartLineNumber(D)<=p&&this.getEndLineNumber(D)>=p}findIndex(D){let p=0,o=this._startIndexes.length;if(o===0)return-1;for(;p<o;){const u=Math.floor((p+o)/2);D<this.getStartLineNumber(u)?o=u:p=u+1}return p-1}findRange(D){let p=this.findIndex(D);if(p>=0){if(this.getEndLineNumber(p)>=D)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,D))return p;p=this.getParentIndex(p)}}return-1}toString(){const D=[];for(let p=0;p<this.length;p++)D[p]=`[${b[this.getSource(p)]}${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return D.join(", ")}toFoldRange(D){return{startLineNumber:this._startIndexes[D]&r,endLineNumber:this._endIndexes[D]&r,type:this._types?this._types[D]:void 0,isCollapsed:this.isCollapsed(D),source:this.getSource(D)}}static fromFoldRanges(D){const p=D.length,o=new Uint32Array(p),u=new Uint32Array(p);let d=[],n=!1;for(let f=0;f<p;f++){const v=D[f];o[f]=v.startLineNumber,u[f]=v.endLineNumber,d.push(v.type),v.type&&(n=!0)}n||(d=void 0);const i=new _(o,u,d);for(let f=0;f<p;f++)D[f].isCollapsed&&i.setCollapsed(f,!0),i.setSource(f,D[f].source);return i}static sanitizeAndMerge(D,p,o){o=o!=null?o:Number.MAX_VALUE;const u=(E,A)=>Array.isArray(E)?N=>N<A?E[N]:void 0:N=>N<A?E.toFoldRange(N):void 0,d=u(D,D.length),n=u(p,p.length);let i=0,f=0,v=d(0),a=n(0);const S=[];let g,y=0;const C=[];for(;v||a;){let E;if(a&&(!v||v.startLineNumber>=a.startLineNumber))v&&v.startLineNumber===a.startLineNumber?(a.source===1?E=a:(E=v,E.isCollapsed=a.isCollapsed&&v.endLineNumber===a.endLineNumber,E.source=0),v=d(++i)):(E=a,a.isCollapsed&&a.source===0&&(E.source=2)),a=n(++f);else{let A=f,N=a;for(;;){if(!N||N.startLineNumber>v.endLineNumber){E=v;break}if(N.source===1&&N.endLineNumber>v.endLineNumber)break;N=n(++A)}v=d(++i)}if(E){for(;g&&g.endLineNumber<E.startLineNumber;)g=S.pop();E.endLineNumber>E.startLineNumber&&E.startLineNumber>y&&E.endLineNumber<=o&&(!g||g.endLineNumber>=E.endLineNumber)&&(C.push(E),y=E.startLineNumber,g&&S.push(g),g=E)}}return C}}class I{constructor(D,p){this.ranges=D,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(D){return D.startLineNumber<=this.startLineNumber&&D.endLineNumber>=this.endLineNumber}containsLine(D){return this.startLineNumber<=D&&D<=this.endLineNumber}}},84990:function(Ot,Ke,e){"use strict";e.d(Ke,{aI:function(){return c}});var b=e(59616),U=e(37702);const r=5e3,w="indent";class c{constructor(p,o,u){this.editorModel=p,this.languageConfigurationService=o,this.foldingRangesLimit=u,this.id=w}dispose(){}compute(p){const o=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,u=o&&!!o.offSide,d=o&&o.markers;return Promise.resolve(M(this.editorModel,u,d,this.foldingRangesLimit))}}class _{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,o,u){if(p>U.Xl||o>U.Xl)return;const d=this._length;this._startIndexes[d]=p,this._endIndexes[d]=o,this._length++,u<1e3&&(this._indentOccurrences[u]=(this._indentOccurrences[u]||0)+1)}toIndentRanges(p){const o=this._foldingRangesLimit.limit;if(this._length<=o){this._foldingRangesLimit.update(this._length,!1);const u=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)u[i]=this._startIndexes[n],d[i]=this._endIndexes[n];return new U.MN(u,d)}else{this._foldingRangesLimit.update(this._length,o);let u=0,d=this._indentOccurrences.length;for(let v=0;v<this._indentOccurrences.length;v++){const a=this._indentOccurrences[v];if(a){if(a+u>o){d=v;break}u+=a}}const n=p.getOptions().tabSize,i=new Uint32Array(o),f=new Uint32Array(o);for(let v=this._length-1,a=0;v>=0;v--){const S=this._startIndexes[v],g=p.getLineContent(S),y=(0,b.q)(g,n);(y<d||y===d&&u++<o)&&(i[a]=S,f[a]=this._endIndexes[v],a++)}return new U.MN(i,f)}}}const I={limit:r,update:()=>{}};function M(D,p,o,u=I){const d=D.getOptions().tabSize,n=new _(u);let i;o&&(i=new RegExp(`(${o.start.source})|(?:${o.end.source})`));const f=[],v=D.getLineCount()+1;f.push({indent:-1,endAbove:v,line:v});for(let a=D.getLineCount();a>0;a--){const S=D.getLineContent(a),g=(0,b.q)(S,d);let y=f[f.length-1];if(g===-1){p&&(y.endAbove=a);continue}let C;if(i&&(C=S.match(i)))if(C[1]){let E=f.length-1;for(;E>0&&f[E].indent!==-2;)E--;if(E>0){f.length=E+1,y=f[E],n.insertFirst(a,y.line,g),y.line=a,y.indent=g,y.endAbove=a;continue}}else{f.push({indent:-2,endAbove:a,line:a});continue}if(y.indent>g){do f.pop(),y=f[f.length-1];while(y.indent>g);const E=y.endAbove-1;E-a>=1&&n.insertFirst(a,E,g)}y.indent===g?y.endAbove=a:f.push({indent:g,endAbove:a,line:a})}return n.toIndentRanges(D)}},99155:function(Ot,Ke,e){"use strict";e.d(Ke,{e:function(){return _}});var b=e(17301),U=e(5976),r=e(37702);const w={},c="syntax";class _{constructor(o,u,d,n,i){this.editorModel=o,this.providers=u,this.handleFoldingRangesChange=d,this.foldingRangesLimit=n,this.fallbackRangeProvider=i,this.id=c,this.disposables=new U.SL,i&&this.disposables.add(i);for(const f of u)typeof f.onDidChange=="function"&&this.disposables.add(f.onDidChange(d))}compute(o){return I(this.providers,this.editorModel,o).then(u=>{var d,n;return u?D(u,this.foldingRangesLimit):(n=(d=this.fallbackRangeProvider)===null||d===void 0?void 0:d.compute(o))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}function I(p,o,u){let d=null;const n=p.map((i,f)=>Promise.resolve(i.provideFoldingRanges(o,w,u)).then(v=>{if(!u.isCancellationRequested&&Array.isArray(v)){Array.isArray(d)||(d=[]);const a=o.getLineCount();for(const S of v)S.start>0&&S.end>S.start&&S.end<=a&&d.push({start:S.start,end:S.end,rank:f,kind:S.kind})}},b.Cp));return Promise.all(n).then(i=>d)}class M{constructor(o){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}add(o,u,d,n){if(o>r.Xl||u>r.Xl)return;const i=this._length;this._startIndexes[i]=o,this._endIndexes[i]=u,this._nestingLevels[i]=n,this._types[i]=d,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const o=this._foldingRangesLimit.limit;if(this._length<=o){this._foldingRangesLimit.update(this._length,!1);const u=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let n=0;n<this._length;n++)u[n]=this._startIndexes[n],d[n]=this._endIndexes[n];return new r.MN(u,d,this._types)}else{this._foldingRangesLimit.update(this._length,o);let u=0,d=this._nestingLevelCounts.length;for(let v=0;v<this._nestingLevelCounts.length;v++){const a=this._nestingLevelCounts[v];if(a){if(a+u>o){d=v;break}u+=a}}const n=new Uint32Array(o),i=new Uint32Array(o),f=[];for(let v=0,a=0;v<this._length;v++){const S=this._nestingLevels[v];(S<d||S===d&&u++<o)&&(n[a]=this._startIndexes[v],i[a]=this._endIndexes[v],f[a]=this._types[v],a++)}return new r.MN(n,i,f)}}}function D(p,o){const u=p.sort((f,v)=>{let a=f.start-v.start;return a===0&&(a=f.rank-v.rank),a}),d=new M(o);let n;const i=[];for(const f of u)if(!n)n=f,d.add(f.start,f.end,f.kind&&f.kind.value,i.length);else if(f.start>n.start)if(f.end<=n.end)i.push(n),n=f,d.add(f.start,f.end,f.kind&&f.kind.value,i.length);else{if(f.start>n.end){do n=i.pop();while(n&&f.start>n.end);n&&i.push(n),n=f}d.add(f.start,f.end,f.kind&&f.kind.value,i.length)}return d.toIndentRanges()}},44125:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(82334),r=e(63580);class w extends b.R6{constructor(){super({id:"editor.action.fontZoomIn",label:r.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(M,D){U.C.setZoomLevel(U.C.getZoomLevel()+1)}}class c extends b.R6{constructor(){super({id:"editor.action.fontZoomOut",label:r.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(M,D){U.C.setZoomLevel(U.C.getZoomLevel()-1)}}class _ extends b.R6{constructor(){super({id:"editor.action.fontZoomReset",label:r.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(M,D){U.C.setZoomLevel(0)}}(0,b.Qr)(w),(0,b.Qr)(c),(0,b.Qr)(_)},71373:function(Ot,Ke,e){"use strict";e.d(Ke,{xC:function(){return A},x$:function(){return N},Qq:function(){return W},Qs:function(){return L}});var b=e(9488),U=e(71050),r=e(17301),w=e(53725),c=e(91741),_=e(98401),I=e(70666),M=e(14410),D=e(65520),p=e(50187),o=e(24314),u=e(3860),d=e(85215),n=e(88216),i=e(35120),f=e(94565);class v{constructor(O){this.value=O,this._lower=O.toLowerCase()}static toKey(O){return typeof O=="string"?O.toLowerCase():O._lower}}class a{constructor(O){if(this._set=new Set,O)for(const P of O)this.add(P)}add(O){this._set.add(v.toKey(O))}has(O){return this._set.has(v.toKey(O))}}var S=e(72065),g=e(71922),y=e(43557),C=e(31106);function E(z,O,P){const H=[],V=new a,G=z.ordered(P);for(const F of G)H.push(F),F.extensionId&&V.add(F.extensionId);const j=O.ordered(P);for(const F of j){if(F.extensionId){if(V.has(F.extensionId))continue;V.add(F.extensionId)}H.push({displayName:F.displayName,extensionId:F.extensionId,provideDocumentFormattingEdits(K,m,J){return F.provideDocumentRangeFormattingEdits(K,K.getFullModelRange(),m,J)}})}return H}class A{static setFormatterSelector(O){return{dispose:A._selectors.unshift(O)}}static select(O,P,H){return tn(this,null,function*(){if(O.length===0)return;const V=w.$.first(A._selectors);if(V)return yield V(O,P,H)})}}A._selectors=new c.S;function N(z,O,P,H,V,G,j){return tn(this,null,function*(){const F=z.get(S.TG),{documentRangeFormattingEditProvider:K}=z.get(g.p),m=(0,D.CL)(O)?O.getModel():O,J=K.ordered(m),X=yield A.select(J,m,H);X&&(V.report(X),yield F.invokeFunction(B,X,O,P,G,j))})}function B(z,O,P,H,V,G){return tn(this,null,function*(){var j,F;const K=z.get(d.p),m=z.get(y.VZ),J=z.get(C.VX);let X,te;(0,D.CL)(P)?(X=P.getModel(),te=new M.Dl(P,5,void 0,V)):(X=P,te=new M.YQ(P,V));const le=[];let ge=0;for(const ae of(0,b._2)(H).sort(o.e.compareRangesUsingStarts))ge>0&&o.e.areIntersectingOrTouching(le[ge-1],ae)?le[ge-1]=o.e.fromPositions(le[ge-1].getStartPosition(),ae.getEndPosition()):ge=le.push(ae);const we=ae=>tn(this,null,function*(){var Me,ke;m.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Me=O.extensionId)===null||Me===void 0?void 0:Me.value,ae);const Ue=(yield O.provideDocumentRangeFormattingEdits(X,ae,X.getFormattingOptions(),te.token))||[];return m.trace("[format][provideDocumentRangeFormattingEdits] (response)",(ke=O.extensionId)===null||ke===void 0?void 0:ke.value,Ue),Ue}),pe=(ae,Me)=>{if(!ae.length||!Me.length)return!1;const ke=ae.reduce((Ue,Le)=>o.e.plusRange(Ue,Le.range),ae[0].range);if(!Me.some(Ue=>o.e.intersectRanges(ke,Ue.range)))return!1;for(const Ue of ae)for(const Le of Me)if(o.e.intersectRanges(Ue.range,Le.range))return!0;return!1},Pe=[],Ne=[];try{if(typeof O.provideDocumentRangesFormattingEdits=="function"){m.trace("[format][provideDocumentRangeFormattingEdits] (request)",(j=O.extensionId)===null||j===void 0?void 0:j.value,le);const ae=(yield O.provideDocumentRangesFormattingEdits(X,le,X.getFormattingOptions(),te.token))||[];m.trace("[format][provideDocumentRangeFormattingEdits] (response)",(F=O.extensionId)===null||F===void 0?void 0:F.value,ae),Ne.push(ae)}else{for(const ae of le){if(te.token.isCancellationRequested)return!0;Ne.push(yield we(ae))}for(let ae=0;ae<le.length;++ae)for(let Me=ae+1;Me<le.length;++Me){if(te.token.isCancellationRequested)return!0;if(pe(Ne[ae],Ne[Me])){const ke=o.e.plusRange(le[ae],le[Me]),Ue=yield we(ke);le.splice(Me,1),le.splice(ae,1),le.push(ke),Ne.splice(Me,1),Ne.splice(ae,1),Ne.push(Ue),ae=0,Me=0}}}for(const ae of Ne){if(te.token.isCancellationRequested)return!0;const Me=yield K.computeMoreMinimalEdits(X.uri,ae);Me&&Pe.push(...Me)}}finally{te.dispose()}if(Pe.length===0)return!1;if((0,D.CL)(P))i.V.execute(P,Pe,!0),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1);else{const[{range:ae}]=Pe,Me=new u.Y(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn);X.pushEditOperations([Me],Pe.map(ke=>({text:ke.text,range:o.e.lift(ke.range),forceMoveMarkers:!0})),ke=>{for(const{range:Ue}of ke)if(o.e.areIntersectingOrTouching(Ue,Me))return[new u.Y(Ue.startLineNumber,Ue.startColumn,Ue.endLineNumber,Ue.endColumn)];return null})}return J.notify("format",G),!0})}function W(z,O,P,H,V,G){return tn(this,null,function*(){const j=z.get(S.TG),F=z.get(g.p),K=(0,D.CL)(O)?O.getModel():O,m=E(F.documentFormattingEditProvider,F.documentRangeFormattingEditProvider,K),J=yield A.select(m,K,P);J&&(H.report(J),yield j.invokeFunction($,J,O,P,V,G))})}function $(z,O,P,H,V,G){return tn(this,null,function*(){const j=z.get(d.p),F=z.get(C.VX);let K,m;(0,D.CL)(P)?(K=P.getModel(),m=new M.Dl(P,5,void 0,V)):(K=P,m=new M.YQ(P,V));let J;try{const X=yield O.provideDocumentFormattingEdits(K,K.getFormattingOptions(),m.token);if(J=yield j.computeMoreMinimalEdits(K.uri,X),m.token.isCancellationRequested)return!0}finally{m.dispose()}if(!J||J.length===0)return!1;if((0,D.CL)(P))i.V.execute(P,J,H!==2),H!==2&&P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1);else{const[{range:X}]=J,te=new u.Y(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);K.pushEditOperations([te],J.map(le=>({text:le.text,range:o.e.lift(le.range),forceMoveMarkers:!0})),le=>{for(const{range:ge}of le)if(o.e.areIntersectingOrTouching(ge,te))return[new u.Y(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn)];return null})}return F.notify("format",G),!0})}function Y(z,O,P,H,V,G){return tn(this,null,function*(){const j=O.documentRangeFormattingEditProvider.ordered(P);for(const F of j){const K=yield Promise.resolve(F.provideDocumentRangeFormattingEdits(P,H,V,G)).catch(r.Cp);if((0,b.Of)(K))return yield z.computeMoreMinimalEdits(P.uri,K)}})}function R(z,O,P,H,V){return tn(this,null,function*(){const G=E(O.documentFormattingEditProvider,O.documentRangeFormattingEditProvider,P);for(const j of G){const F=yield Promise.resolve(j.provideDocumentFormattingEdits(P,H,V)).catch(r.Cp);if((0,b.Of)(F))return yield z.computeMoreMinimalEdits(P.uri,F)}})}function L(z,O,P,H,V,G,j){const F=O.onTypeFormattingEditProvider.ordered(P);return F.length===0||F[0].autoFormatTriggerCharacters.indexOf(V)<0?Promise.resolve(void 0):Promise.resolve(F[0].provideOnTypeFormattingEdits(P,H,V,G,j)).catch(r.Cp).then(K=>z.computeMoreMinimalEdits(P.uri,K))}f.P.registerCommand("_executeFormatRangeProvider",function(z,...O){return tn(this,null,function*(){const[P,H,V]=O;(0,_.p_)(I.o.isUri(P)),(0,_.p_)(o.e.isIRange(H));const G=z.get(n.S),j=z.get(d.p),F=z.get(g.p),K=yield G.createModelReference(P);try{return Y(j,F,K.object.textEditorModel,o.e.lift(H),V,U.T.None)}finally{K.dispose()}})}),f.P.registerCommand("_executeFormatDocumentProvider",function(z,...O){return tn(this,null,function*(){const[P,H]=O;(0,_.p_)(I.o.isUri(P));const V=z.get(n.S),G=z.get(d.p),j=z.get(g.p),F=yield V.createModelReference(P);try{return R(G,j,F.object.textEditorModel,H,U.T.None)}finally{F.dispose()}})}),f.P.registerCommand("_executeFormatOnTypeProvider",function(z,...O){return tn(this,null,function*(){const[P,H,V,G]=O;(0,_.p_)(I.o.isUri(P)),(0,_.p_)(p.L.isIPosition(H)),(0,_.p_)(typeof V=="string");const j=z.get(n.S),F=z.get(d.p),K=z.get(g.p),m=yield j.createModelReference(P);try{return L(F,K,m.object.textEditorModel,p.L.lift(H),V,G,U.T.None)}finally{m.dispose()}})})},61097:function(Ot,Ke,e){"use strict";var b=e(9488),U=e(71050),r=e(17301),w=e(22258),c=e(5976),_=e(16830),I=e(11640),M=e(44906),D=e(24314),p=e(29102),o=e(85215),u=e(71922),d=e(71373),n=e(35120),i=e(63580),f=e(31106),v=e(94565),a=e(32064),S=e(72065),g=e(90535),y=function(W,$,Y,R){var L=arguments.length,z=L<3?$:R===null?R=Object.getOwnPropertyDescriptor($,Y):R,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(W,$,Y,R);else for(var P=W.length-1;P>=0;P--)(O=W[P])&&(z=(L<3?O(z):L>3?O($,Y,z):O($,Y))||z);return L>3&&z&&Object.defineProperty($,Y,z),z},C=function(W,$){return function(Y,R){$(Y,R,W)}};let E=class{constructor($,Y,R,L){this._editor=$,this._languageFeaturesService=Y,this._workerService=R,this._accessibleNotificationService=L,this._disposables=new c.SL,this._sessionDisposables=new c.SL,this._disposables.add(Y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration(z=>{z.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const $=this._editor.getModel(),[Y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered($);if(!Y||!Y.autoFormatTriggerCharacters)return;const R=new M.q;for(const L of Y.autoFormatTriggerCharacters)R.add(L.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(L=>{const z=L.charCodeAt(L.length-1);R.has(z)&&this._trigger(String.fromCharCode(z))}))}_trigger($){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const Y=this._editor.getModel(),R=this._editor.getPosition(),L=new U.A,z=this._editor.onDidChangeModelContent(O=>{if(O.isFlush){L.cancel(),z.dispose();return}for(let P=0,H=O.changes.length;P<H;P++)if(O.changes[P].range.endLineNumber<=R.lineNumber){L.cancel(),z.dispose();return}});(0,d.Qs)(this._workerService,this._languageFeaturesService,Y,R,$,Y.getFormattingOptions(),L.token).then(O=>{L.token.isCancellationRequested||(0,b.Of)(O)&&(this._accessibleNotificationService.notify("format",!1),n.V.execute(this._editor,O,!0))}).finally(()=>{z.dispose()})}};E.ID="editor.contrib.autoFormat",E=y([C(1,u.p),C(2,o.p),C(3,f.VX)],E);let A=class{constructor($,Y,R){this.editor=$,this._languageFeaturesService=Y,this._instantiationService=R,this._callOnDispose=new c.SL,this._callOnModel=new c.SL,this._callOnDispose.add($.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add($.onDidChangeModel(()=>this._update())),this._callOnDispose.add($.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:$})=>this._trigger($)))}_trigger($){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(d.x$,this.editor,$,2,g.Ex.None,U.T.None,!1).catch(r.dL))}};A.ID="editor.contrib.formatOnPaste",A=y([C(1,u.p),C(2,S.TG)],A);class N extends _.R6{constructor(){super({id:"editor.action.formatDocument",label:i.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:a.Ao.and(p.u.notInCompositeEditor,p.u.writable,p.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run($,Y){return tn(this,null,function*(){if(Y.hasModel()){const R=$.get(S.TG);yield $.get(g.ek).showWhile(R.invokeFunction(d.Qq,Y,1,g.Ex.None,U.T.None,!0),250)}})}}class B extends _.R6{constructor(){super({id:"editor.action.formatSelection",label:i.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:a.Ao.and(p.u.writable,p.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,w.gx)(2089,2084),weight:100},contextMenuOpts:{when:p.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run($,Y){return tn(this,null,function*(){if(!Y.hasModel())return;const R=$.get(S.TG),L=Y.getModel(),z=Y.getSelections().map(P=>P.isEmpty()?new D.e(P.startLineNumber,1,P.startLineNumber,L.getLineMaxColumn(P.startLineNumber)):P);yield $.get(g.ek).showWhile(R.invokeFunction(d.x$,Y,z,1,g.Ex.None,U.T.None,!0),250)})}}(0,_._K)(E.ID,E,2),(0,_._K)(A.ID,A,2),(0,_.Qr)(N),(0,_.Qr)(B),v.P.registerCommand("editor.action.format",W=>tn(this,null,function*(){const $=W.get(I.$).getFocusedCodeEditor();if(!$||!$.hasModel())return;const Y=W.get(v.H);$.getSelection().isEmpty()?yield Y.executeCommand("editor.action.formatDocument"):yield Y.executeCommand("editor.action.formatSelection")}))},35120:function(Ot,Ke,e){"use strict";e.d(Ke,{V:function(){return w}});var b=e(69386),U=e(24314),r=e(43407);class w{static _handleEolEdits(_,I){let M;const D=[];for(const p of I)typeof p.eol=="number"&&(M=p.eol),p.range&&typeof p.text=="string"&&D.push(p);return typeof M=="number"&&_.hasModel()&&_.getModel().pushEOL(M),D}static _isFullModelReplaceEdit(_,I){if(!_.hasModel())return!1;const M=_.getModel(),D=M.validateRange(I.range);return M.getFullModelRange().equalsRange(D)}static execute(_,I,M){M&&_.pushUndoStop();const D=r.Z.capture(_),p=w._handleEolEdits(_,I);p.length===1&&w._isFullModelReplaceEdit(_,p[0])?_.executeEdits("formatEditsCommand",p.map(o=>b.h.replace(U.e.lift(o.range),o.text))):_.executeEdits("formatEditsCommand",p.map(o=>b.h.replaceMove(U.e.lift(o.range),o.text))),M&&_.pushUndoStop(),D.restoreRelativeVerticalPositionOfCursor(_)}}},10355:function(Ot,Ke,e){"use strict";e.d(Ke,{c:function(){return Re},v:function(){return Se}});var b=e(73046),U=e(5976),r=e(16830),w=e(11640),c=e(50187),_=e(24314),I=e(29102),M=e(9488),D=e(4669),p=e(91741),o=e(97295),u=e(70666),d=e(65026),n=e(72065),i=e(98674),f=e(33108),v=function(je,Oe,Ze,it){var Et=arguments.length,st=Et<3?Oe:it===null?it=Object.getOwnPropertyDescriptor(Oe,Ze):it,pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(je,Oe,Ze,it);else for(var Mt=je.length-1;Mt>=0;Mt--)(pt=je[Mt])&&(st=(Et<3?pt(st):Et>3?pt(Oe,Ze,st):pt(Oe,Ze))||st);return Et>3&&st&&Object.defineProperty(Oe,Ze,st),st},a=function(je,Oe){return function(Ze,it){Oe(Ze,it,je)}};class S{constructor(Oe,Ze,it){this.marker=Oe,this.index=Ze,this.total=it}}let g=class{constructor(Oe,Ze,it){this._markerService=Ze,this._configService=it,this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new U.SL,this._markers=[],this._nextIdx=-1,u.o.isUri(Oe)?this._resourceFilter=Mt=>Mt.toString()===Oe.toString():Oe&&(this._resourceFilter=Oe);const Et=this._configService.getValue("problems.sortOrder"),st=(Mt,qt)=>{let Ft=(0,o.qu)(Mt.resource.toString(),qt.resource.toString());return Ft===0&&(Et==="position"?Ft=_.e.compareRangesUsingStarts(Mt,qt)||i.ZL.compare(Mt.severity,qt.severity):Ft=i.ZL.compare(Mt.severity,qt.severity)||_.e.compareRangesUsingStarts(Mt,qt)),Ft},pt=()=>{this._markers=this._markerService.read({resource:u.o.isUri(Oe)?Oe:void 0,severities:i.ZL.Error|i.ZL.Warning|i.ZL.Info}),typeof Oe=="function"&&(this._markers=this._markers.filter(Mt=>this._resourceFilter(Mt.resource))),this._markers.sort(st)};pt(),this._dispoables.add(Ze.onMarkerChanged(Mt=>{(!this._resourceFilter||Mt.some(qt=>this._resourceFilter(qt)))&&(pt(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Oe){return!this._resourceFilter&&!Oe?!0:!this._resourceFilter||!Oe?!1:this._resourceFilter(Oe)}get selected(){const Oe=this._markers[this._nextIdx];return Oe&&new S(Oe,this._nextIdx+1,this._markers.length)}_initIdx(Oe,Ze,it){let Et=!1,st=this._markers.findIndex(pt=>pt.resource.toString()===Oe.uri.toString());st<0&&(st=(0,M.ry)(this._markers,{resource:Oe.uri},(pt,Mt)=>(0,o.qu)(pt.resource.toString(),Mt.resource.toString())),st<0&&(st=~st));for(let pt=st;pt<this._markers.length;pt++){let Mt=_.e.lift(this._markers[pt]);if(Mt.isEmpty()){const qt=Oe.getWordAtPosition(Mt.getStartPosition());qt&&(Mt=new _.e(Mt.startLineNumber,qt.startColumn,Mt.startLineNumber,qt.endColumn))}if(Ze&&(Mt.containsPosition(Ze)||Ze.isBeforeOrEqual(Mt.getStartPosition()))){this._nextIdx=pt,Et=!0;break}if(this._markers[pt].resource.toString()!==Oe.uri.toString())break}Et||(this._nextIdx=it?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Oe,Ze,it){if(this._markers.length===0)return!1;const Et=this._nextIdx;return this._nextIdx===-1?this._initIdx(Ze,it,Oe):Oe?this._nextIdx=(this._nextIdx+1)%this._markers.length:Oe||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Et!==this._nextIdx}find(Oe,Ze){let it=this._markers.findIndex(Et=>Et.resource.toString()===Oe.toString());if(!(it<0)){for(;it<this._markers.length;it++)if(_.e.containsPosition(this._markers[it],Ze))return new S(this._markers[it],it+1,this._markers.length)}}};g=v([a(1,i.lT),a(2,f.Ui)],g);const y=(0,n.yh)("IMarkerNavigationService");let C=class{constructor(Oe,Ze){this._markerService=Oe,this._configService=Ze,this._provider=new p.S}getMarkerList(Oe){for(const Ze of this._provider){const it=Ze.getMarkerList(Oe);if(it)return it}return new g(Oe,this._markerService,this._configService)}};C=v([a(0,i.lT),a(1,f.Ui)],C),(0,d.z)(y,C,1);var E=e(63580),A=e(84144),N=e(32064),B=e(59554),W=e(65321),$=e(59740),Y=e(41264),R=e(95935),L=e(60865),z=e(80677),O=e(44349),P=e(50988),H=e(25670),V=e(14603),G;(function(je){function Oe(Ze){switch(Ze){case V.Z.Ignore:return"severity-ignore "+H.k.asClassName(b.l.info);case V.Z.Info:return H.k.asClassName(b.l.info);case V.Z.Warning:return H.k.asClassName(b.l.warning);case V.Z.Error:return H.k.asClassName(b.l.error);default:return""}}je.className=Oe})(G||(G={}));var j=e(73910),F=e(97781),K=function(je,Oe,Ze,it){var Et=arguments.length,st=Et<3?Oe:it===null?it=Object.getOwnPropertyDescriptor(Oe,Ze):it,pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(je,Oe,Ze,it);else for(var Mt=je.length-1;Mt>=0;Mt--)(pt=je[Mt])&&(st=(Et<3?pt(st):Et>3?pt(Oe,Ze,st):pt(Oe,Ze))||st);return Et>3&&st&&Object.defineProperty(Oe,Ze,st),st},m=function(je,Oe){return function(Ze,it){Oe(Ze,it,je)}},J;class X{constructor(Oe,Ze,it,Et,st){this._openerService=Et,this._labelService=st,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new U.SL,this._editor=Ze;const pt=document.createElement("div");pt.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),pt.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),pt.appendChild(this._relatedBlock),this._disposables.add(W.mu(this._relatedBlock,"click",Mt=>{Mt.preventDefault();const qt=this._relatedDiagnostics.get(Mt.target);qt&&it(qt)})),this._scrollable=new $.NB(pt,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),Oe.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Mt=>{pt.style.left=`-${Mt.scrollLeft}px`,pt.style.top=`-${Mt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,U.B9)(this._disposables)}update(Oe){const{source:Ze,message:it,relatedInformation:Et,code:st}=Oe;let pt=((Ze==null?void 0:Ze.length)||0)+2;st&&(typeof st=="string"?pt+=st.length:pt+=st.value.length);const Mt=(0,o.uq)(it);this._lines=Mt.length,this._longestLineLength=0;for(const nt of Mt)this._longestLineLength=Math.max(nt.length+pt,this._longestLineLength);W.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Oe)),this._editor.applyFontInfo(this._messageBlock);let qt=this._messageBlock;for(const nt of Mt)qt=document.createElement("div"),qt.innerText=nt,nt===""&&(qt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(qt);if(Ze||st){const nt=document.createElement("span");if(nt.classList.add("details"),qt.appendChild(nt),Ze){const tt=document.createElement("span");tt.innerText=Ze,tt.classList.add("source"),nt.appendChild(tt)}if(st)if(typeof st=="string"){const tt=document.createElement("span");tt.innerText=`(${st})`,tt.classList.add("code"),nt.appendChild(tt)}else{this._codeLink=W.$("a.code-link"),this._codeLink.setAttribute("href",`${st.target.toString()}`),this._codeLink.onclick=xt=>{this._openerService.open(st.target,{allowCommands:!0}),xt.preventDefault(),xt.stopPropagation()};const tt=W.R3(this._codeLink,W.$("span"));tt.innerText=st.value,nt.appendChild(this._codeLink)}}if(W.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,M.Of)(Et)){const nt=this._relatedBlock.appendChild(document.createElement("div"));nt.style.paddingTop=`${Math.floor(this._editor.getOption(66)*.66)}px`,this._lines+=1;for(const tt of Et){const xt=document.createElement("div"),Lt=document.createElement("a");Lt.classList.add("filename"),Lt.innerText=`${this._labelService.getUriBasenameLabel(tt.resource)}(${tt.startLineNumber}, ${tt.startColumn}): `,Lt.title=this._labelService.getUriLabel(tt.resource),this._relatedDiagnostics.set(Lt,tt);const Be=document.createElement("span");Be.innerText=tt.message,xt.appendChild(Lt),xt.appendChild(Be),this._lines+=1,nt.appendChild(xt)}}const Ft=this._editor.getOption(50),Xt=Math.ceil(Ft.typicalFullwidthCharacterWidth*this._longestLineLength*.75),_t=Ft.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Xt,scrollHeight:_t})}layout(Oe,Ze){this._scrollable.getDomNode().style.height=`${Oe}px`,this._scrollable.getDomNode().style.width=`${Ze}px`,this._scrollable.setScrollDimensions({width:Ze,height:Oe})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Oe){let Ze="";switch(Oe.severity){case i.ZL.Error:Ze=E.NC("Error","Error");break;case i.ZL.Warning:Ze=E.NC("Warning","Warning");break;case i.ZL.Info:Ze=E.NC("Info","Info");break;case i.ZL.Hint:Ze=E.NC("Hint","Hint");break}let it=E.NC("marker aria","{0} at {1}. ",Ze,Oe.startLineNumber+":"+Oe.startColumn);const Et=this._editor.getModel();return Et&&Oe.startLineNumber<=Et.getLineCount()&&Oe.startLineNumber>=1&&(it=`${Et.getLineContent(Oe.startLineNumber)}, ${it}`),it}}let te=J=class extends L.vk{constructor(Oe,Ze,it,Et,st,pt,Mt){super(Oe,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},st),this._themeService=Ze,this._openerService=it,this._menuService=Et,this._contextKeyService=pt,this._labelService=Mt,this._callOnDispose=new U.SL,this._onDidSelectRelatedInformation=new D.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=i.ZL.Warning,this._backgroundColor=Y.Il.white,this._applyTheme(Ze.getColorTheme()),this._callOnDispose.add(Ze.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Oe){this._backgroundColor=Oe.getColor(Ue);let Ze=pe,it=Pe;this._severity===i.ZL.Warning?(Ze=Ne,it=ae):this._severity===i.ZL.Info&&(Ze=Me,it=ke);const Et=Oe.getColor(Ze),st=Oe.getColor(it);this.style({arrowColor:Et,frameColor:Et,headerBackgroundColor:st,primaryHeadingColor:Oe.getColor(L.IH),secondaryHeadingColor:Oe.getColor(L.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Oe){super._fillHead(Oe),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(Et=>this.editor.focus()));const Ze=[],it=this._menuService.createMenu(J.TitleMenu,this._contextKeyService);(0,z.vr)(it,void 0,Ze),this._actionbarWidget.push(Ze,{label:!1,icon:!0,index:0}),it.dispose()}_fillTitleIcon(Oe){this._icon=W.R3(Oe,W.$(""))}_fillBody(Oe){this._parentContainer=Oe,Oe.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Oe.appendChild(this._container),this._message=new X(this._container,this.editor,Ze=>this._onDidSelectRelatedInformation.fire(Ze),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Oe,Ze,it){this._container.classList.remove("stale"),this._message.update(Oe),this._severity=Oe.severity,this._applyTheme(this._themeService.getColorTheme());const Et=_.e.lift(Oe),st=this.editor.getPosition(),pt=st&&Et.containsPosition(st)?st:Et.getStartPosition();super.show(pt,this.computeRequiredHeight());const Mt=this.editor.getModel();if(Mt){const qt=it>1?E.NC("problems","{0} of {1} problems",Ze,it):E.NC("change","{0} of {1} problem",Ze,it);this.setTitle((0,R.EZ)(Mt.uri),qt)}this._icon.className=`codicon ${G.className(i.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(pt,0),this.editor.focus()}updateMarker(Oe){this._container.classList.remove("stale"),this._message.update(Oe)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Oe,Ze){super._doLayoutBody(Oe,Ze),this._heightInPixel=Oe,this._message.layout(Oe,Ze),this._container.style.height=`${Oe}px`}_onWidth(Oe){this._message.layout(this._heightInPixel,Oe)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};te.TitleMenu=new A.eH("gotoErrorTitleMenu"),te=J=K([m(1,F.XE),m(2,P.v),m(3,A.co),m(4,n.TG),m(5,N.i6),m(6,O.e)],te);const le=(0,j.kwl)(j.lXJ,j.b6y),ge=(0,j.kwl)(j.uoC,j.pW3),we=(0,j.kwl)(j.c63,j.T83),pe=(0,j.P6G)("editorMarkerNavigationError.background",{dark:le,light:le,hcDark:j.lRK,hcLight:j.lRK},E.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Pe=(0,j.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,j.ZnX)(pe,.1),light:(0,j.ZnX)(pe,.1),hcDark:null,hcLight:null},E.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Ne=(0,j.P6G)("editorMarkerNavigationWarning.background",{dark:ge,light:ge,hcDark:j.lRK,hcLight:j.lRK},E.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),ae=(0,j.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,j.ZnX)(Ne,.1),light:(0,j.ZnX)(Ne,.1),hcDark:"#0C141F",hcLight:(0,j.ZnX)(Ne,.2)},E.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Me=(0,j.P6G)("editorMarkerNavigationInfo.background",{dark:we,light:we,hcDark:j.lRK,hcLight:j.lRK},E.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ke=(0,j.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,j.ZnX)(Me,.1),light:(0,j.ZnX)(Me,.1),hcDark:null,hcLight:null},E.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Ue=(0,j.P6G)("editorMarkerNavigation.background",{dark:j.cvW,light:j.cvW,hcDark:j.cvW,hcLight:j.cvW},E.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Le=function(je,Oe,Ze,it){var Et=arguments.length,st=Et<3?Oe:it===null?it=Object.getOwnPropertyDescriptor(Oe,Ze):it,pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(je,Oe,Ze,it);else for(var Mt=je.length-1;Mt>=0;Mt--)(pt=je[Mt])&&(st=(Et<3?pt(st):Et>3?pt(Oe,Ze,st):pt(Oe,Ze))||st);return Et>3&&st&&Object.defineProperty(Oe,Ze,st),st},ie=function(je,Oe){return function(Ze,it){Oe(Ze,it,je)}},ce;let Re=ce=class{static get(Oe){return Oe.getContribution(ce.ID)}constructor(Oe,Ze,it,Et,st){this._markerNavigationService=Ze,this._contextKeyService=it,this._editorService=Et,this._instantiationService=st,this._sessionDispoables=new U.SL,this._editor=Oe,this._widgetVisible=ve.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Oe){if(this._model&&this._model.matches(Oe))return this._model;let Ze=!1;return this._model&&(Ze=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Oe),Ze&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(te,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(it=>{var Et,st,pt;(!(!((Et=this._model)===null||Et===void 0)&&Et.selected)||!_.e.containsPosition((st=this._model)===null||st===void 0?void 0:st.selected.marker,it.position))&&((pt=this._model)===null||pt===void 0||pt.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const it=this._model.find(this._editor.getModel().uri,this._widget.position);it?this._widget.updateMarker(it.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(it=>{this._editorService.openCodeEditor({resource:it.resource,options:{pinned:!0,revealIfOpened:!0,selection:_.e.lift(it).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Oe=!0){this._cleanUp(),Oe&&this._editor.focus()}showAtMarker(Oe){if(this._editor.hasModel()){const Ze=this._getOrCreateModel(this._editor.getModel().uri);Ze.resetIndex(),Ze.move(!0,this._editor.getModel(),new c.L(Oe.startLineNumber,Oe.startColumn)),Ze.selected&&this._widget.showAtMarker(Ze.selected.marker,Ze.selected.index,Ze.selected.total)}}nagivate(Oe,Ze){return tn(this,null,function*(){var it,Et;if(this._editor.hasModel()){const st=this._getOrCreateModel(Ze?void 0:this._editor.getModel().uri);if(st.move(Oe,this._editor.getModel(),this._editor.getPosition()),!st.selected)return;if(st.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const pt=yield this._editorService.openCodeEditor({resource:st.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:st.selected.marker}},this._editor);pt&&((it=ce.get(pt))===null||it===void 0||it.close(),(Et=ce.get(pt))===null||Et===void 0||Et.nagivate(Oe,Ze))}else this._widget.showAtMarker(st.selected.marker,st.selected.index,st.selected.total)}})}};Re.ID="editor.contrib.markerController",Re=ce=Le([ie(1,y),ie(2,N.i6),ie(3,w.$),ie(4,n.TG)],Re);class ye extends r.R6{constructor(Oe,Ze,it){super(it),this._next=Oe,this._multiFile=Ze}run(Oe,Ze){return tn(this,null,function*(){var it;Ze.hasModel()&&((it=Re.get(Ze))===null||it===void 0||it.nagivate(this._next,this._multiFile))})}}class Se extends ye{constructor(){super(!0,!1,{id:Se.ID,label:Se.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:578,weight:100},menuOpts:{menuId:te.TitleMenu,title:Se.LABEL,icon:(0,B.q5)("marker-navigation-next",b.l.arrowDown,E.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Se.ID="editor.action.marker.next",Se.LABEL=E.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class me extends ye{constructor(){super(!1,!1,{id:me.ID,label:me.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:1602,weight:100},menuOpts:{menuId:te.TitleMenu,title:me.LABEL,icon:(0,B.q5)("marker-navigation-previous",b.l.arrowUp,E.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}me.ID="editor.action.marker.prev",me.LABEL=E.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class he extends ye{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:E.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:66,weight:100},menuOpts:{menuId:A.eH.MenubarGoMenu,title:E.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class se extends ye{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:E.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:1090,weight:100},menuOpts:{menuId:A.eH.MenubarGoMenu,title:E.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,r._K)(Re.ID,Re,4),(0,r.Qr)(Se),(0,r.Qr)(me),(0,r.Qr)(he),(0,r.Qr)(se);const ve=new N.uy("markersNavigationVisible",!1),xe=r._l.bindToContribution(Re.get);(0,r.fK)(new xe({id:"closeMarkersNavigation",precondition:ve,handler:je=>je.close(),kbOpts:{weight:100+50,kbExpr:I.u.focus,primary:9,secondary:[1033]}}))},95817:function(Ot,Ke,e){"use strict";e.d(Ke,{BT:function(){return Me},Bj:function(){return ae},_k:function(){return Ne}});var b=e(35996),U=e(15393),r=e(22258),w=e(98401),c=e(70666),_=e(14410),I=e(65520),M=e(16830),D=e(11640),p=e(84527),o=e(50187),u=e(24314),d=e(29102),n=e(43155),i=e(2444),f=e(1293),v=e(4669),a=e(5976),S=e(95935),g=e(63580),y=e(32064),C=e(65026),E=e(72065),A=e(91847),N=e(49989),B=e(48894),W=function(Re,ye,Se,me){var he=arguments.length,se=he<3?ye:me===null?me=Object.getOwnPropertyDescriptor(ye,Se):me,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Re,ye,Se,me);else for(var xe=Re.length-1;xe>=0;xe--)(ve=Re[xe])&&(se=(he<3?ve(se):he>3?ve(ye,Se,se):ve(ye,Se))||se);return he>3&&se&&Object.defineProperty(ye,Se,se),se},$=function(Re,ye){return function(Se,me){ye(Se,me,Re)}};const Y=new y.uy("hasSymbols",!1,(0,g.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),R=(0,E.yh)("ISymbolNavigationService");let L=class{constructor(ye,Se,me,he){this._editorService=Se,this._notificationService=me,this._keybindingService=he,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Y.bindTo(ye)}reset(){var ye,Se;this._ctxHasSymbols.reset(),(ye=this._currentState)===null||ye===void 0||ye.dispose(),(Se=this._currentMessage)===null||Se===void 0||Se.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(ye){const Se=ye.parent.parent;if(Se.references.length<=1){this.reset();return}this._currentModel=Se,this._currentIdx=Se.references.indexOf(ye),this._ctxHasSymbols.set(!0),this._showMessage();const me=new z(this._editorService),he=me.onDidChange(se=>{if(this._ignoreEditorChange)return;const ve=this._editorService.getActiveCodeEditor();if(!ve)return;const xe=ve.getModel(),je=ve.getPosition();if(!xe||!je)return;let Oe=!1,Ze=!1;for(const it of Se.references)if((0,S.Xy)(it.uri,xe.uri))Oe=!0,Ze=Ze||u.e.containsPosition(it.range,je);else if(Oe)break;(!Oe||!Ze)&&this.reset()});this._currentState=(0,a.F8)(me,he)}revealNext(ye){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Se=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Se.uri,options:{selection:u.e.collapseToStart(Se.range),selectionRevealType:3}},ye).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var ye;(ye=this._currentMessage)===null||ye===void 0||ye.dispose();const Se=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),me=Se?(0,g.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Se.getLabel()):(0,g.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(me)}};L=W([$(0,y.i6),$(1,D.$),$(2,B.lT),$(3,A.d)],L),(0,C.z)(R,L,1),(0,M.fK)(new class extends M._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Y,kbOpts:{weight:100,primary:70}})}runEditorCommand(Re,ye){return Re.get(R).revealNext(ye)}}),N.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Y,primary:9,handler(Re){Re.get(R).reset()}});let z=class{constructor(ye){this._listener=new Map,this._disposables=new a.SL,this._onDidChange=new v.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(ye.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(ye.onCodeEditorAdd(this._onDidAddEditor,this)),ye.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,a.B9)(this._listener.values())}_onDidAddEditor(ye){this._listener.set(ye,(0,a.F8)(ye.onDidChangeCursorPosition(Se=>this._onDidChange.fire({editor:ye})),ye.onDidChangeModelContent(Se=>this._onDidChange.fire({editor:ye}))))}_onDidRemoveEditor(ye){var Se;(Se=this._listener.get(ye))===null||Se===void 0||Se.dispose(),this._listener.delete(ye)}};z=W([$(0,D.$)],z);var O=e(27863),P=e(60865),H=e(84144),V=e(94565),G=e(90535),j=e(40184),F=e(71922),K=e(53725),m=e(39282),J,X,te,le,ge,we,pe,Pe;H.BH.appendMenuItem(H.eH.EditorContext,{submenu:H.eH.EditorContextPeek,title:g.NC("peek.submenu","Peek"),group:"navigation",order:100});class Ne{static is(ye){return!ye||typeof ye!="object"?!1:!!(ye instanceof Ne||o.L.isIPosition(ye.position)&&ye.model)}constructor(ye,Se){this.model=ye,this.position=Se}}class ae extends M.x1{static all(){return ae._allSymbolNavigationCommands.values()}static _patchConfig(ye){const Se=Ni(Xn({},ye),{f1:!0});if(Se.menu)for(const me of K.$.wrap(Se.menu))(me.id===H.eH.EditorContext||me.id===H.eH.EditorContextPeek)&&(me.when=y.Ao.and(ye.precondition,me.when));return Se}constructor(ye,Se){super(ae._patchConfig(Se)),this.configuration=ye,ae._allSymbolNavigationCommands.set(Se.id,this)}runEditorCommand(ye,Se,me,he){if(!Se.hasModel())return Promise.resolve(void 0);const se=ye.get(B.lT),ve=ye.get(D.$),xe=ye.get(G.ek),je=ye.get(R),Oe=ye.get(F.p),Ze=ye.get(E.TG),it=Se.getModel(),Et=Se.getPosition(),st=Ne.is(me)?me:new Ne(it,Et),pt=new _.Dl(Se,5),Mt=(0,U.eP)(this._getLocationModel(Oe,st.model,st.position,pt.token),pt.token).then(qt=>tn(this,null,function*(){var Ft;if(!qt||pt.token.isCancellationRequested)return;(0,b.Z9)(qt.ariaMessage);let Xt;if(qt.referenceAt(it.uri,Et)){const nt=this._getAlternativeCommand(Se);!ae._activeAlternativeCommands.has(nt)&&ae._allSymbolNavigationCommands.has(nt)&&(Xt=ae._allSymbolNavigationCommands.get(nt))}const _t=qt.references.length;if(_t===0){if(!this.configuration.muteMessage){const nt=it.getWordAtPosition(Et);(Ft=O.O.get(Se))===null||Ft===void 0||Ft.showMessage(this._getNoResultFoundMessage(nt),Et)}}else if(_t===1&&Xt)ae._activeAlternativeCommands.add(this.desc.id),Ze.invokeFunction(nt=>Xt.runEditorCommand(nt,Se,me,he).finally(()=>{ae._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ve,je,Se,qt,he)}),qt=>{se.error(qt)}).finally(()=>{pt.dispose()});return xe.showWhile(Mt,250),Mt}_onResult(ye,Se,me,he,se){return tn(this,null,function*(){const ve=this._getGoToPreference(me);if(!(me instanceof p.H)&&(this.configuration.openInPeek||ve==="peek"&&he.references.length>1))this._openInPeek(me,he,se);else{const xe=he.firstReference(),je=he.references.length>1&&ve==="gotoAndPeek",Oe=yield this._openReference(me,ye,xe,this.configuration.openToSide,!je);je&&Oe?this._openInPeek(Oe,he,se):he.dispose(),ve==="goto"&&Se.put(xe)}})}_openReference(ye,Se,me,he,se){return tn(this,null,function*(){let ve;if((0,n.vx)(me)&&(ve=me.targetSelectionRange),ve||(ve=me.range),!ve)return;const xe=yield Se.openCodeEditor({resource:me.uri,options:{selection:u.e.collapseToStart(ve),selectionRevealType:3,selectionSource:"code.jump"}},ye,he);if(xe){if(se){const je=xe.getModel(),Oe=xe.createDecorationsCollection([{range:ve,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{xe.getModel()===je&&Oe.clear()},350)}return xe}})}_openInPeek(ye,Se,me){const he=i.J.get(ye);he&&ye.hasModel()?he.toggleWidget(me!=null?me:ye.getSelection(),(0,U.PG)(se=>Promise.resolve(Se)),this.configuration.openInPeek):Se.dispose()}}ae._allSymbolNavigationCommands=new Map,ae._activeAlternativeCommands=new Set;class Me extends ae{_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(yield(0,j.nD)(ye.definitionProvider,Se,me,he),g.NC("def.title","Definitions"))})}_getNoResultFoundMessage(ye){return ye&&ye.word?g.NC("noResultWord","No definition found for '{0}'",ye.word):g.NC("generic.noResults","No definition found")}_getAlternativeCommand(ye){return ye.getOption(58).alternativeDefinitionCommand}_getGoToPreference(ye){return ye.getOption(58).multipleDefinitions}}(0,H.r1)((J=class extends Me{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:J.id,title:{value:g.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:g.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:y.Ao.and(d.u.hasDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:d.u.editorTextFocus,primary:70,weight:100},{when:y.Ao.and(d.u.editorTextFocus,m.Pf),primary:2118,weight:100}],menu:[{id:H.eH.EditorContext,group:"navigation",order:1.1},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),V.P.registerCommandAlias("editor.action.goToDeclaration",J.id)}},J.id="editor.action.revealDefinition",J)),(0,H.r1)((X=class extends Me{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:X.id,title:{value:g.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:y.Ao.and(d.u.hasDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:d.u.editorTextFocus,primary:(0,r.gx)(2089,70),weight:100},{when:y.Ao.and(d.u.editorTextFocus,m.Pf),primary:(0,r.gx)(2089,2118),weight:100}]}),V.P.registerCommandAlias("editor.action.openDeclarationToTheSide",X.id)}},X.id="editor.action.revealDefinitionAside",X)),(0,H.r1)((te=class extends Me{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:te.id,title:{value:g.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:y.Ao.and(d.u.hasDefinitionProvider,P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:d.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:H.eH.EditorContextPeek,group:"peek",order:2}}),V.P.registerCommandAlias("editor.action.previewDeclaration",te.id)}},te.id="editor.action.peekDefinition",te));class ke extends ae{_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(yield(0,j.zq)(ye.declarationProvider,Se,me,he),g.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(ye){return ye&&ye.word?g.NC("decl.noResultWord","No declaration found for '{0}'",ye.word):g.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(ye){return ye.getOption(58).alternativeDeclarationCommand}_getGoToPreference(ye){return ye.getOption(58).multipleDeclarations}}(0,H.r1)((le=class extends ke{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:le.id,title:{value:g.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:g.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:y.Ao.and(d.u.hasDeclarationProvider,d.u.isInWalkThroughSnippet.toNegated()),menu:[{id:H.eH.EditorContext,group:"navigation",order:1.3},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(ye){return ye&&ye.word?g.NC("decl.noResultWord","No declaration found for '{0}'",ye.word):g.NC("decl.generic.noResults","No declaration found")}},le.id="editor.action.revealDeclaration",le)),(0,H.r1)(class extends ke{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:g.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:y.Ao.and(d.u.hasDeclarationProvider,P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),menu:{id:H.eH.EditorContextPeek,group:"peek",order:3}})}});class Ue extends ae{_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(yield(0,j.L3)(ye.typeDefinitionProvider,Se,me,he),g.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(ye){return ye&&ye.word?g.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",ye.word):g.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(ye){return ye.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(ye){return ye.getOption(58).multipleTypeDefinitions}}(0,H.r1)((ge=class extends Ue{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ge.ID,title:{value:g.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:g.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:y.Ao.and(d.u.hasTypeDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:d.u.editorTextFocus,primary:0,weight:100},menu:[{id:H.eH.EditorContext,group:"navigation",order:1.4},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},ge.ID="editor.action.goToTypeDefinition",ge)),(0,H.r1)((we=class extends Ue{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:we.ID,title:{value:g.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:y.Ao.and(d.u.hasTypeDefinitionProvider,P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),menu:{id:H.eH.EditorContextPeek,group:"peek",order:4}})}},we.ID="editor.action.peekTypeDefinition",we));class Le extends ae{_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(yield(0,j.f4)(ye.implementationProvider,Se,me,he),g.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(ye){return ye&&ye.word?g.NC("goToImplementation.noResultWord","No implementation found for '{0}'",ye.word):g.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(ye){return ye.getOption(58).alternativeImplementationCommand}_getGoToPreference(ye){return ye.getOption(58).multipleImplementations}}(0,H.r1)((pe=class extends Le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:pe.ID,title:{value:g.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:g.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:y.Ao.and(d.u.hasImplementationProvider,d.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:d.u.editorTextFocus,primary:2118,weight:100},menu:[{id:H.eH.EditorContext,group:"navigation",order:1.45},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},pe.ID="editor.action.goToImplementation",pe)),(0,H.r1)((Pe=class extends Le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Pe.ID,title:{value:g.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:y.Ao.and(d.u.hasImplementationProvider,P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:d.u.editorTextFocus,primary:3142,weight:100},menu:{id:H.eH.EditorContextPeek,group:"peek",order:5}})}},Pe.ID="editor.action.peekImplementation",Pe));class ie extends ae{_getNoResultFoundMessage(ye){return ye?g.NC("references.no","No references found for '{0}'",ye.word):g.NC("references.noGeneric","No references found")}_getAlternativeCommand(ye){return ye.getOption(58).alternativeReferenceCommand}_getGoToPreference(ye){return ye.getOption(58).multipleReferences}}(0,H.r1)(class extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:g.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:g.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:y.Ao.and(d.u.hasReferenceProvider,P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:d.u.editorTextFocus,primary:1094,weight:100},menu:[{id:H.eH.EditorContext,group:"navigation",order:1.45},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(yield(0,j.aA)(ye.referenceProvider,Se,me,!0,he),g.NC("ref.title","References"))})}}),(0,H.r1)(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:g.NC("references.action.label","Peek References"),original:"Peek References"},precondition:y.Ao.and(d.u.hasReferenceProvider,P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),menu:{id:H.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(yield(0,j.aA)(ye.referenceProvider,Se,me,!1,he),g.NC("ref.title","References"))})}});class ce extends ae{constructor(ye,Se,me){super(ye,{id:"editor.action.goToLocation",title:{value:g.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:y.Ao.and(P.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated())}),this._references=Se,this._gotoMultipleBehaviour=me}_getLocationModel(ye,Se,me,he){return tn(this,null,function*(){return new f.oQ(this._references,g.NC("generic.title","Locations"))})}_getNoResultFoundMessage(ye){return ye&&g.NC("generic.noResult","No results for '{0}'",ye.word)||""}_getGoToPreference(ye){var Se;return(Se=this._gotoMultipleBehaviour)!==null&&Se!==void 0?Se:ye.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}V.P.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.o},{name:"position",description:"The position at which to start",constraint:o.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Re,ye,Se,me,he,se,ve)=>tn(this,null,function*(){(0,w.p_)(c.o.isUri(ye)),(0,w.p_)(o.L.isIPosition(Se)),(0,w.p_)(Array.isArray(me)),(0,w.p_)(typeof he=="undefined"||typeof he=="string"),(0,w.p_)(typeof ve=="undefined"||typeof ve=="boolean");const xe=Re.get(D.$),je=yield xe.openCodeEditor({resource:ye},xe.getFocusedCodeEditor());if((0,I.CL)(je))return je.setPosition(Se),je.revealPositionInCenterIfOutsideViewport(Se,0),je.invokeWithinContext(Oe=>{const Ze=new class extends ce{_getNoResultFoundMessage(it){return se||super._getNoResultFoundMessage(it)}}({muteMessage:!se,openInPeek:!!ve,openToSide:!1},me,he);Oe.get(E.TG).invokeFunction(Ze.run.bind(Ze),je)})})}),V.P.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.o},{name:"position",description:"The position at which to start",constraint:o.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Re,ye,Se,me,he)=>tn(this,null,function*(){Re.get(V.H).executeCommand("editor.action.goToLocations",ye,Se,me,he,void 0,!0)})}),V.P.registerCommand({id:"editor.action.findReferences",handler:(Re,ye,Se)=>{(0,w.p_)(c.o.isUri(ye)),(0,w.p_)(o.L.isIPosition(Se));const me=Re.get(F.p),he=Re.get(D.$);return he.openCodeEditor({resource:ye},he.getFocusedCodeEditor()).then(se=>{if(!(0,I.CL)(se)||!se.hasModel())return;const ve=i.J.get(se);if(!ve)return;const xe=(0,U.PG)(Oe=>(0,j.aA)(me.referenceProvider,se.getModel(),o.L.lift(Se),!1,Oe).then(Ze=>new f.oQ(Ze,g.NC("ref.title","References")))),je=new u.e(Se.lineNumber,Se.column,Se.lineNumber,Se.column);return Promise.resolve(ve.toggleWidget(je,xe,!1))})}}),V.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},40184:function(Ot,Ke,e){"use strict";e.d(Ke,{L3:function(){return o},aA:function(){return u},f4:function(){return p},nD:function(){return M},zq:function(){return D}});var b=e(9488),U=e(71050),r=e(17301),w=e(16830),c=e(71922),_=e(1293);function I(n,i,f,v){return tn(this,null,function*(){const S=f.ordered(n).map(y=>Promise.resolve(v(y,n,i)).then(void 0,C=>{(0,r.Cp)(C)})),g=yield Promise.all(S);return(0,b.kX)(g.flat())})}function M(n,i,f,v){return I(i,f,n,(a,S,g)=>a.provideDefinition(S,g,v))}function D(n,i,f,v){return I(i,f,n,(a,S,g)=>a.provideDeclaration(S,g,v))}function p(n,i,f,v){return I(i,f,n,(a,S,g)=>a.provideImplementation(S,g,v))}function o(n,i,f,v){return I(i,f,n,(a,S,g)=>a.provideTypeDefinition(S,g,v))}function u(n,i,f,v,a){return I(i,f,n,(S,g,y)=>tn(this,null,function*(){const C=yield S.provideReferences(g,y,{includeDeclaration:!0},a);if(!v||!C||C.length!==2)return C;const E=yield S.provideReferences(g,y,{includeDeclaration:!1},a);return E&&E.length===1?E:C}))}function d(n){return tn(this,null,function*(){const i=yield n(),f=new _.oQ(i,""),v=f.references.map(a=>a.link);return f.dispose(),v})}(0,w.sb)("_executeDefinitionProvider",(n,i,f)=>{const v=n.get(c.p),a=M(v.definitionProvider,i,f,U.T.None);return d(()=>a)}),(0,w.sb)("_executeTypeDefinitionProvider",(n,i,f)=>{const v=n.get(c.p),a=o(v.typeDefinitionProvider,i,f,U.T.None);return d(()=>a)}),(0,w.sb)("_executeDeclarationProvider",(n,i,f)=>{const v=n.get(c.p),a=D(v.declarationProvider,i,f,U.T.None);return d(()=>a)}),(0,w.sb)("_executeReferenceProvider",(n,i,f)=>{const v=n.get(c.p),a=u(v.referenceProvider,i,f,!1,U.T.None);return d(()=>a)}),(0,w.sb)("_executeImplementationProvider",(n,i,f)=>{const v=n.get(c.p),a=p(v.implementationProvider,i,f,U.T.None);return d(()=>a)})},82005:function(Ot,Ke,e){"use strict";e.d(Ke,{yN:function(){return D}});var b=e(4669),U=e(5976),r=e(1432);function w(p,o){return!!p[o]}class c{constructor(o,u){this.target=o.target,this.isLeftClick=o.event.leftButton,this.isMiddleClick=o.event.middleButton,this.isRightClick=o.event.rightButton,this.hasTriggerModifier=w(o.event,u.triggerModifier),this.hasSideBySideModifier=w(o.event,u.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}}class _{constructor(o,u){this.keyCodeIsTriggerKey=o.keyCode===u.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===u.triggerSideBySideKey,this.hasTriggerModifier=w(o,u.triggerModifier)}}class I{constructor(o,u,d,n){this.triggerKey=o,this.triggerModifier=u,this.triggerSideBySideKey=d,this.triggerSideBySideModifier=n}equals(o){return this.triggerKey===o.triggerKey&&this.triggerModifier===o.triggerModifier&&this.triggerSideBySideKey===o.triggerSideBySideKey&&this.triggerSideBySideModifier===o.triggerSideBySideModifier}}function M(p){return p==="altKey"?r.dz?new I(57,"metaKey",6,"altKey"):new I(5,"ctrlKey",6,"altKey"):r.dz?new I(6,"altKey",57,"metaKey"):new I(6,"altKey",5,"ctrlKey")}class D extends U.JT{constructor(o,u){var d;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new b.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new b.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new b.Q5),this.onCancel=this._onCancel.event,this._editor=o,this._extractLineNumberFromMouseEvent=(d=u==null?void 0:u.extractLineNumberFromMouseEvent)!==null&&d!==void 0?d:n=>n.target.position?n.target.position.lineNumber:0,this._opts=M(this._editor.getOption(77)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(77)){const i=M(this._editor.getOption(77));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new c(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new c(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new c(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new _(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new _(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(o){o.selection&&o.selection.startColumn!==o.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(o){this._lastMouseMoveEvent=o,this._onMouseMoveOrRelevantKeyDown.fire([o,null])}_onEditorMouseDown(o){this._hasTriggerKeyOnMouseDown=o.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(o)}_onEditorMouseUp(o){const u=this._extractLineNumberFromMouseEvent(o);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===u&&this._onExecute.fire(o)}_onEditorKeyDown(o){this._lastMouseMoveEvent&&(o.keyCodeIsTriggerKey||o.keyCodeIsSideBySideKey&&o.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,o]):o.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(o){o.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},56334:function(Ot,Ke,e){"use strict";e.d(Ke,{S:function(){return y}});var b=e(15393),U=e(17301),r=e(59365),w=e(5976),c=e(14410),_=e(16830),I=e(24314),M=e(72042),D=e(88216),p=e(82005),o=e(60865),u=e(63580),d=e(32064),n=e(95817),i=e(40184),f=e(71922),v=e(84901),a=function(C,E,A,N){var B=arguments.length,W=B<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,A):N,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(C,E,A,N);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(W=(B<3?$(W):B>3?$(E,A,W):$(E,A))||W);return B>3&&W&&Object.defineProperty(E,A,W),W},S=function(C,E){return function(A,N){E(A,N,C)}},g;let y=g=class{constructor(E,A,N,B){this.textModelResolverService=A,this.languageService=N,this.languageFeaturesService=B,this.toUnhook=new w.SL,this.toUnhookForKeyboard=new w.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=E,this.linkDecorations=this.editor.createDecorationsCollection();const W=new p.yN(E);this.toUnhook.add(W),this.toUnhook.add(W.onMouseMoveOrRelevantKeyDown(([$,Y])=>{this.startFindDefinitionFromMouse($,Y!=null?Y:void 0)})),this.toUnhook.add(W.onExecute($=>{this.isEnabled($)&&this.gotoDefinition($.target.position,$.hasSideBySideModifier).catch(Y=>{(0,U.dL)(Y)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(W.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(E){return E.getContribution(g.ID)}startFindDefinitionFromCursor(E){return tn(this,null,function*(){yield this.startFindDefinition(E),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(A=>{A&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(E,A){if(E.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(E,A)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const N=E.target.position;this.startFindDefinition(N)}startFindDefinition(E){return tn(this,null,function*(){var A;this.toUnhookForKeyboard.clear();const N=E?(A=this.editor.getModel())===null||A===void 0?void 0:A.getWordAtPosition(E):null;if(!N){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===N.startColumn&&this.currentWordAtPosition.endColumn===N.endColumn&&this.currentWordAtPosition.word===N.word)return;this.currentWordAtPosition=N;const B=new c.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,b.PG)(Y=>this.findDefinition(E,Y));let W;try{W=yield this.previousPromise}catch(Y){(0,U.dL)(Y);return}if(!W||!W.length||!B.validate(this.editor)){this.removeLinkDecorations();return}const $=W[0].originSelectionRange?I.e.lift(W[0].originSelectionRange):new I.e(E.lineNumber,N.startColumn,E.lineNumber,N.endColumn);if(W.length>1){let Y=$;for(const{originSelectionRange:R}of W)R&&(Y=I.e.plusRange(Y,R));this.addDecoration(Y,new r.W5().appendText(u.NC("multipleResults","Click to show {0} definitions.",W.length)))}else{const Y=W[0];if(!Y.uri)return;this.textModelResolverService.createModelReference(Y.uri).then(R=>{if(!R.object||!R.object.textEditorModel){R.dispose();return}const{object:{textEditorModel:L}}=R,{startLineNumber:z}=Y.range;if(z<1||z>L.getLineCount()){R.dispose();return}const O=this.getPreviewValue(L,z,Y),P=this.languageService.guessLanguageIdByFilepathOrFirstLine(L.uri);this.addDecoration($,O?new r.W5().appendCodeblock(P||"",O):void 0),R.dispose()})}})}getPreviewValue(E,A,N){let B=N.range;return B.endLineNumber-B.startLineNumber>=g.MAX_SOURCE_PREVIEW_LINES&&(B=this.getPreviewRangeBasedOnIndentation(E,A)),this.stripIndentationFromPreviewRange(E,A,B)}stripIndentationFromPreviewRange(E,A,N){let W=E.getLineFirstNonWhitespaceColumn(A);for(let Y=A+1;Y<N.endLineNumber;Y++){const R=E.getLineFirstNonWhitespaceColumn(Y);W=Math.min(W,R)}return E.getValueInRange(N).replace(new RegExp(`^\\s{${W-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(E,A){const N=E.getLineFirstNonWhitespaceColumn(A),B=Math.min(E.getLineCount(),A+g.MAX_SOURCE_PREVIEW_LINES);let W=A+1;for(;W<B;W++){const $=E.getLineFirstNonWhitespaceColumn(W);if(N===$)break}return new I.e(A,1,W+1,1)}addDecoration(E,A){const N={range:E,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:A}};this.linkDecorations.set([N])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(E,A){var N;return this.editor.hasModel()&&E.isLeftClick&&E.isNoneOrSingleMouseDown&&E.target.type===6&&!(((N=E.target.detail.injectedText)===null||N===void 0?void 0:N.options)instanceof v.HS)&&(E.hasTriggerModifier||(A?A.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(E,A){const N=this.editor.getModel();return N?(0,i.nD)(this.languageFeaturesService.definitionProvider,N,E,A):Promise.resolve(null)}gotoDefinition(E,A){return this.editor.setPosition(E),this.editor.invokeWithinContext(N=>{const B=!A&&this.editor.getOption(87)&&!this.isInPeekEditor(N);return new n.BT({openToSide:A,openInPeek:B,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(N)})}isInPeekEditor(E){const A=E.get(d.i6);return o.Jy.inPeekEditor.getValue(A)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};y.ID="editor.contrib.gotodefinitionatposition",y.MAX_SOURCE_PREVIEW_LINES=8,y=g=a([S(1,D.S),S(2,M.O),S(3,f.p)],y),(0,_._K)(y.ID,y,2)},2444:function(Ot,Ke,e){"use strict";e.d(Ke,{J:function(){return he}});var b=e(15393),U=e(17301),r=e(22258),w=e(5976),c=e(11640),_=e(50187),I=e(24314),M=e(60865),D=e(63580),p=e(94565),o=e(33108),u=e(32064),d=e(72065),n=e(49989),i=e(14107),f=e(48894),v=e(87060),a=e(1293),S=e(65321),g=e(33225),y=e(41264),C=e(4669),E=e(66663),A=e(95935),N=e(84527),B=e(84901),W=e(4256),$=e(68801),Y=e(72042),R=e(88216),L=e(85207),z=e(34650),O=e(93923),P=e(60075),H=e(91847),V=e(44349),G=e(86253),j=function(ve,xe,je,Oe){var Ze=arguments.length,it=Ze<3?xe:Oe===null?Oe=Object.getOwnPropertyDescriptor(xe,je):Oe,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ve,xe,je,Oe);else for(var st=ve.length-1;st>=0;st--)(Et=ve[st])&&(it=(Ze<3?Et(it):Ze>3?Et(xe,je,it):Et(xe,je))||it);return Ze>3&&it&&Object.defineProperty(xe,je,it),it},F=function(ve,xe){return function(je,Oe){xe(je,Oe,ve)}},K;let m=class{constructor(xe){this._resolverService=xe}hasChildren(xe){return xe instanceof a.oQ||xe instanceof a.F2}getChildren(xe){if(xe instanceof a.oQ)return xe.groups;if(xe instanceof a.F2)return xe.resolve(this._resolverService).then(je=>je.children);throw new Error("bad tree")}};m=j([F(0,R.S)],m);class J{getHeight(){return 23}getTemplateId(xe){return xe instanceof a.F2?ge.id:pe.id}}let X=class{constructor(xe){this._keybindingService=xe}getKeyboardNavigationLabel(xe){var je;if(xe instanceof a.WX){const Oe=(je=xe.parent.getPreview(xe))===null||je===void 0?void 0:je.preview(xe.range);if(Oe)return Oe.value}return(0,A.EZ)(xe.uri)}};X=j([F(0,H.d)],X);class te{getId(xe){return xe instanceof a.WX?xe.id:xe.uri}}let le=class extends w.JT{constructor(xe,je){super(),this._labelService=je;const Oe=document.createElement("div");Oe.classList.add("reference-file"),this.file=this._register(new O.g(Oe,{supportHighlights:!0})),this.badge=new L.Z(S.R3(Oe,S.$(".count")),{},G.ku),xe.appendChild(Oe)}set(xe,je){const Oe=(0,A.XX)(xe.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(xe.uri),this._labelService.getUriLabel(Oe,{relative:!0}),{title:this._labelService.getUriLabel(xe.uri),matches:je});const Ze=xe.children.length;this.badge.setCount(Ze),Ze>1?this.badge.setTitleFormat((0,D.NC)("referencesCount","{0} references",Ze)):this.badge.setTitleFormat((0,D.NC)("referenceCount","{0} reference",Ze))}};le=j([F(1,V.e)],le);let ge=K=class{constructor(xe){this._instantiationService=xe,this.templateId=K.id}renderTemplate(xe){return this._instantiationService.createInstance(le,xe)}renderElement(xe,je,Oe){Oe.set(xe.element,(0,P.mB)(xe.filterData))}disposeTemplate(xe){xe.dispose()}};ge.id="FileReferencesRenderer",ge=K=j([F(0,d.TG)],ge);class we{constructor(xe){this.label=new z.q(xe)}set(xe,je){var Oe;const Ze=(Oe=xe.parent.getPreview(xe))===null||Oe===void 0?void 0:Oe.preview(xe.range);if(!Ze||!Ze.value)this.label.set(`${(0,A.EZ)(xe.uri)}:${xe.range.startLineNumber+1}:${xe.range.startColumn+1}`);else{const{value:it,highlight:Et}=Ze;je&&!P.CL.isDefault(je)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(it,(0,P.mB)(je))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(it,[Et]))}}}class pe{constructor(){this.templateId=pe.id}renderTemplate(xe){return new we(xe)}renderElement(xe,je,Oe){Oe.set(xe.element,xe.filterData)}disposeTemplate(){}}pe.id="OneReferenceRenderer";class Pe{getWidgetAriaLabel(){return(0,D.NC)("treeAriaLabel","References")}getAriaLabel(xe){return xe.ariaMessage}}var Ne=e(97781),ae=e(64862),Me=function(ve,xe,je,Oe){var Ze=arguments.length,it=Ze<3?xe:Oe===null?Oe=Object.getOwnPropertyDescriptor(xe,je):Oe,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ve,xe,je,Oe);else for(var st=ve.length-1;st>=0;st--)(Et=ve[st])&&(it=(Ze<3?Et(it):Ze>3?Et(xe,je,it):Et(xe,je))||it);return Ze>3&&it&&Object.defineProperty(xe,je,it),it},ke=function(ve,xe){return function(je,Oe){xe(je,Oe,ve)}};class Ue{constructor(xe,je){this._editor=xe,this._model=je,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new w.SL,this._callOnModelChange=new w.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const xe=this._editor.getModel();if(xe){for(const je of this._model.references)if(je.uri.toString()===xe.uri.toString()){this._addDecorations(je.parent);return}}}_addDecorations(xe){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const je=[],Oe=[];for(let Ze=0,it=xe.children.length;Ze<it;Ze++){const Et=xe.children[Ze];this._decorationIgnoreSet.has(Et.id)||Et.uri.toString()===this._editor.getModel().uri.toString()&&(je.push({range:Et.range,options:Ue.DecorationOptions}),Oe.push(Ze))}this._editor.changeDecorations(Ze=>{const it=Ze.deltaDecorations([],je);for(let Et=0;Et<it.length;Et++)this._decorations.set(it[Et],xe.children[Oe[Et]])})}_onDecorationChanged(){const xe=[],je=this._editor.getModel();if(je){for(const[Oe,Ze]of this._decorations){const it=je.getDecorationRange(Oe);if(!it)continue;let Et=!1;if(!I.e.equalsRange(it,Ze.range)){if(I.e.spansMultipleLines(it))Et=!0;else{const st=Ze.range.endColumn-Ze.range.startColumn,pt=it.endColumn-it.startColumn;st!==pt&&(Et=!0)}Et?(this._decorationIgnoreSet.add(Ze.id),xe.push(Oe)):Ze.range=it}}for(let Oe=0,Ze=xe.length;Oe<Ze;Oe++)this._decorations.delete(xe[Oe]);this._editor.removeDecorations(xe)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}Ue.DecorationOptions=B.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Le{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(xe){let je,Oe;try{const Ze=JSON.parse(xe);je=Ze.ratio,Oe=Ze.heightInLines}catch(Ze){}return{ratio:je||.7,heightInLines:Oe||18}}}class ie extends i.ls{}let ce=class extends M.vk{constructor(xe,je,Oe,Ze,it,Et,st,pt,Mt,qt,Ft,Xt){super(xe,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Et),this._defaultTreeKeyboardSupport=je,this.layoutData=Oe,this._textModelResolverService=it,this._instantiationService=Et,this._peekViewService=st,this._uriLabel=pt,this._undoRedoService=Mt,this._keybindingService=qt,this._languageService=Ft,this._languageConfigurationService=Xt,this._disposeOnNewModel=new w.SL,this._callOnDispose=new w.SL,this._onDidSelectReference=new C.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new S.Ro(0,0),this._applyTheme(Ze.getColorTheme()),this._callOnDispose.add(Ze.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(xe,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,w.B9)(this._preview),(0,w.B9)(this._previewNotAvailableMessage),(0,w.B9)(this._tree),(0,w.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(xe){const je=xe.getColor(M.SC)||y.Il.transparent;this.style({arrowColor:je,frameColor:je,headerBackgroundColor:xe.getColor(M.KY)||y.Il.transparent,primaryHeadingColor:xe.getColor(M.IH),secondaryHeadingColor:xe.getColor(M.R7)})}show(xe){super.show(xe,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(xe){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:xe.ctrlKey||xe.metaKey||xe.altKey?"side":"open",source:"title"})}_fillBody(xe){this.setCssClass("reference-zone-widget"),this._messageContainer=S.R3(xe,S.$("div.messages")),S.Cp(this._messageContainer),this._splitView=new g.z(xe,{orientation:1}),this._previewContainer=S.R3(xe,S.$("div.preview.inline"));const je={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(N.H,this._previewContainer,je,{},this.editor),S.Cp(this._previewContainer),this._previewNotAvailableMessage=new B.yO(D.NC("missingPreviewMessage","no preview available"),$.bd,B.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=S.R3(xe,S.$("div.ref-tree.inline"));const Oe={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Pe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(X),identityProvider:new te,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:M.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(S.mu(this._treeContainer,"keydown",it=>{it.equals(9)&&(this._keybindingService.dispatchEvent(it,it.target),it.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ie,"ReferencesWidget",this._treeContainer,new J,[this._instantiationService.createInstance(ge),this._instantiationService.createInstance(pe)],this._instantiationService.createInstance(m),Oe),this._splitView.addView({onDidChange:C.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:it=>{this._preview.layout({height:this._dim.height,width:it})}},g.M.Distribute),this._splitView.addView({onDidChange:C.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:it=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${it}px`,this._tree.layout(this._dim.height,it)}},g.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Ze=(it,Et)=>{it instanceof a.WX&&(Et==="show"&&this._revealReference(it,!1),this._onDidSelectReference.fire({element:it,kind:Et,source:"tree"}))};this._tree.onDidOpen(it=>{it.sideBySide?Ze(it.element,"side"):it.editorOptions.pinned?Ze(it.element,"goto"):Ze(it.element,"show")}),S.Cp(this._treeContainer)}_onWidth(xe){this._dim&&this._doLayoutBody(this._dim.height,xe)}_doLayoutBody(xe,je){super._doLayoutBody(xe,je),this._dim=new S.Ro(je,xe),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(je),this._splitView.resizeView(0,je*this.layoutData.ratio)}setSelection(xe){return this._revealReference(xe,!0).then(()=>{this._model&&(this._tree.setSelection([xe]),this._tree.setFocus([xe]))})}setModel(xe){return this._disposeOnNewModel.clear(),this._model=xe,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=D.NC("noResults","No results"),S.$Z(this._messageContainer),Promise.resolve(void 0)):(S.Cp(this._messageContainer),this._decorationsManager=new Ue(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(xe=>this._tree.rerender(xe))),this._disposeOnNewModel.add(this._preview.onMouseDown(xe=>{const{event:je,target:Oe}=xe;if(je.detail!==2)return;const Ze=this._getFocusedReference();Ze&&this._onDidSelectReference.fire({element:{uri:Ze.uri,range:Oe.range},kind:je.ctrlKey||je.metaKey||je.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),S.$Z(this._treeContainer),S.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[xe]=this._tree.getFocus();if(xe instanceof a.WX)return xe;if(xe instanceof a.F2&&xe.children.length>0)return xe.children[0]}revealReference(xe){return tn(this,null,function*(){yield this._revealReference(xe,!1),this._onDidSelectReference.fire({element:xe,kind:"goto",source:"tree"})})}_revealReference(xe,je){return tn(this,null,function*(){if(this._revealedReference===xe)return;this._revealedReference=xe,xe.uri.scheme!==E.lg.inMemory?this.setTitle((0,A.Hx)(xe.uri),this._uriLabel.getUriLabel((0,A.XX)(xe.uri))):this.setTitle(D.NC("peekView.alternateTitle","References"));const Oe=this._textModelResolverService.createModelReference(xe.uri);this._tree.getInput()===xe.parent?this._tree.reveal(xe):(je&&this._tree.reveal(xe.parent),yield this._tree.expand(xe.parent),this._tree.reveal(xe));const Ze=yield Oe;if(!this._model){Ze.dispose();return}(0,w.B9)(this._previewModelReference);const it=Ze.object;if(it){const Et=this._preview.getModel()===it.textEditorModel?0:1,st=I.e.lift(xe.range).collapseToStart();this._previewModelReference=Ze,this._preview.setModel(it.textEditorModel),this._preview.setSelection(st),this._preview.revealRangeInCenter(st,Et)}else this._preview.setModel(this._previewNotAvailableMessage),Ze.dispose()})}};ce=Me([ke(3,Ne.XE),ke(4,R.S),ke(5,d.TG),ke(6,M.Fw),ke(7,V.e),ke(8,ae.tJ),ke(9,H.d),ke(10,Y.O),ke(11,W.c_)],ce);var Re=function(ve,xe,je,Oe){var Ze=arguments.length,it=Ze<3?xe:Oe===null?Oe=Object.getOwnPropertyDescriptor(xe,je):Oe,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ve,xe,je,Oe);else for(var st=ve.length-1;st>=0;st--)(Et=ve[st])&&(it=(Ze<3?Et(it):Ze>3?Et(xe,je,it):Et(xe,je))||it);return Ze>3&&it&&Object.defineProperty(xe,je,it),it},ye=function(ve,xe){return function(je,Oe){xe(je,Oe,ve)}},Se;const me=new u.uy("referenceSearchVisible",!1,D.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let he=Se=class{static get(xe){return xe.getContribution(Se.ID)}constructor(xe,je,Oe,Ze,it,Et,st,pt){this._defaultTreeKeyboardSupport=xe,this._editor=je,this._editorService=Ze,this._notificationService=it,this._instantiationService=Et,this._storageService=st,this._configurationService=pt,this._disposables=new w.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=me.bindTo(Oe)}dispose(){var xe,je;this._referenceSearchVisible.reset(),this._disposables.dispose(),(xe=this._widget)===null||xe===void 0||xe.dispose(),(je=this._model)===null||je===void 0||je.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(xe,je,Oe){let Ze;if(this._widget&&(Ze=this._widget.position),this.closeWidget(),Ze&&xe.containsPosition(Ze))return;this._peekMode=Oe,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const it="peekViewLayout",Et=Le.fromJSON(this._storageService.get(it,0,"{}"));this._widget=this._instantiationService.createInstance(ce,this._editor,this._defaultTreeKeyboardSupport,Et),this._widget.setTitle(D.NC("labelLoading","Loading...")),this._widget.show(xe),this._disposables.add(this._widget.onDidClose(()=>{je.cancel(),this._widget&&(this._storageService.store(it,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(pt=>{const{element:Mt,kind:qt}=pt;if(Mt)switch(qt){case"open":(pt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Mt,!1,!1);break;case"side":this.openReference(Mt,!0,!1);break;case"goto":Oe?this._gotoReference(Mt,!0):this.openReference(Mt,!1,!0);break}}));const st=++this._requestIdPool;je.then(pt=>{var Mt;if(st!==this._requestIdPool||!this._widget){pt.dispose();return}return(Mt=this._model)===null||Mt===void 0||Mt.dispose(),this._model=pt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(D.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const qt=this._editor.getModel().uri,Ft=new _.L(xe.startLineNumber,xe.startColumn),Xt=this._model.nearestReference(qt,Ft);if(Xt)return this._widget.setSelection(Xt).then(()=>{this._widget&&this._editor.getOption(86)==="editor"&&this._widget.focusOnPreviewEditor()})}})},pt=>{this._notificationService.error(pt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(xe){return tn(this,null,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const je=this._widget.position;if(!je)return;const Oe=this._model.nearestReference(this._editor.getModel().uri,je);if(!Oe)return;const Ze=this._model.nextOrPreviousReference(Oe,xe),it=this._editor.hasTextFocus(),Et=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Ze),yield this._gotoReference(Ze,!1),it?this._editor.focus():this._widget&&Et&&this._widget.focusOnPreviewEditor()})}revealReference(xe){return tn(this,null,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(xe))})}closeWidget(xe=!0){var je,Oe;(je=this._widget)===null||je===void 0||je.dispose(),(Oe=this._model)===null||Oe===void 0||Oe.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,xe&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(xe,je){var Oe;(Oe=this._widget)===null||Oe===void 0||Oe.hide(),this._ignoreModelChangeEvent=!0;const Ze=I.e.lift(xe.range).collapseToStart();return this._editorService.openCodeEditor({resource:xe.uri,options:{selection:Ze,selectionSource:"code.jump",pinned:je}},this._editor).then(it=>{var Et;if(this._ignoreModelChangeEvent=!1,!it||!this._widget){this.closeWidget();return}if(this._editor===it)this._widget.show(Ze),this._widget.focusOnReferenceTree();else{const st=Se.get(it),pt=this._model.clone();this.closeWidget(),it.focus(),st==null||st.toggleWidget(Ze,(0,b.PG)(Mt=>Promise.resolve(pt)),(Et=this._peekMode)!==null&&Et!==void 0?Et:!1)}},it=>{this._ignoreModelChangeEvent=!1,(0,U.dL)(it)})}openReference(xe,je,Oe){je||this.closeWidget();const{uri:Ze,range:it}=xe;this._editorService.openCodeEditor({resource:Ze,options:{selection:it,selectionSource:"code.jump",pinned:Oe}},this._editor,je)}};he.ID="editor.contrib.referencesController",he=Se=Re([ye(2,u.i6),ye(3,c.$),ye(4,f.lT),ye(5,d.TG),ye(6,v.Uy),ye(7,o.Ui)],he);function se(ve,xe){const je=(0,M.rc)(ve);if(!je)return;const Oe=he.get(je);Oe&&xe(Oe)}n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,r.gx)(2089,60),when:u.Ao.or(me,M.Jy.inPeekEditor),handler(ve){se(ve,xe=>{xe.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:u.Ao.or(me,M.Jy.inPeekEditor),handler(ve){se(ve,xe=>{xe.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:u.Ao.or(me,M.Jy.inPeekEditor),handler(ve){se(ve,xe=>{xe.goToNextOrPreviousReference(!1)})}}),p.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),p.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),p.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),p.P.registerCommand("closeReferenceSearch",ve=>se(ve,xe=>xe.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:u.Ao.and(M.Jy.inPeekEditor,u.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:u.Ao.and(me,u.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:u.Ao.and(me,i.CQ,i.PS.negate(),i.uJ.negate()),handler(ve){var xe;const Oe=(xe=ve.get(i.Lw).lastFocusedList)===null||xe===void 0?void 0:xe.getFocus();Array.isArray(Oe)&&Oe[0]instanceof a.WX&&se(ve,Ze=>Ze.revealReference(Oe[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:u.Ao.and(me,i.CQ,i.PS.negate(),i.uJ.negate()),handler(ve){var xe;const Oe=(xe=ve.get(i.Lw).lastFocusedList)===null||xe===void 0?void 0:xe.getFocus();Array.isArray(Oe)&&Oe[0]instanceof a.WX&&se(ve,Ze=>Ze.openReference(Oe[0],!0,!0))}}),p.P.registerCommand("openReference",ve=>{var xe;const Oe=(xe=ve.get(i.Lw).lastFocusedList)===null||xe===void 0?void 0:xe.getFocus();Array.isArray(Oe)&&Oe[0]instanceof a.WX&&se(ve,Ze=>Ze.openReference(Oe[0],!1,!0))})},1293:function(Ot,Ke,e){"use strict";e.d(Ke,{F2:function(){return u},WX:function(){return p},oQ:function(){return d}});var b=e(17301),U=e(4669),r=e(44742),w=e(5976),c=e(43702),_=e(95935),I=e(97295),M=e(24314),D=e(63580);class p{constructor(i,f,v,a){this.isProviderFirst=i,this.parent=f,this.link=v,this._rangeCallback=a,this.id=r.a.nextId()}get uri(){return this.link.uri}get range(){var i,f;return(f=(i=this._range)!==null&&i!==void 0?i:this.link.targetSelectionRange)!==null&&f!==void 0?f:this.link.range}set range(i){this._range=i,this._rangeCallback(this)}get ariaMessage(){var i;const f=(i=this.parent.getPreview(this))===null||i===void 0?void 0:i.preview(this.range);return f?(0,D.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",f.value,(0,_.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,D.NC)("aria.oneReference","in {0} on line {1} at column {2}",(0,_.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class o{constructor(i){this._modelReference=i}dispose(){this._modelReference.dispose()}preview(i,f=8){const v=this._modelReference.object.textEditorModel;if(!v)return;const{startLineNumber:a,startColumn:S,endLineNumber:g,endColumn:y}=i,C=v.getWordUntilPosition({lineNumber:a,column:S-f}),E=new M.e(a,C.startColumn,a,S),A=new M.e(g,y,g,1073741824),N=v.getValueInRange(E).replace(/^\s+/,""),B=v.getValueInRange(i),W=v.getValueInRange(A).replace(/\s+$/,"");return{value:N+B+W,highlight:{start:N.length,end:N.length+B.length}}}}class u{constructor(i,f){this.parent=i,this.uri=f,this.children=[],this._previews=new c.Y9}dispose(){(0,w.B9)(this._previews.values()),this._previews.clear()}getPreview(i){return this._previews.get(i.uri)}get ariaMessage(){const i=this.children.length;return i===1?(0,D.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,_.EZ)(this.uri),this.uri.fsPath):(0,D.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",i,(0,_.EZ)(this.uri),this.uri.fsPath)}resolve(i){return tn(this,null,function*(){if(this._previews.size!==0)return this;for(const f of this.children)if(!this._previews.has(f.uri))try{const v=yield i.createModelReference(f.uri);this._previews.set(f.uri,new o(v))}catch(v){(0,b.dL)(v)}return this})}}class d{constructor(i,f){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new U.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=i,this._title=f;const[v]=i;i.sort(d._compareReferences);let a;for(const S of i)if((!a||!_.SF.isEqual(a.uri,S.uri,!0))&&(a=new u(this,S.uri),this.groups.push(a)),a.children.length===0||d._compareReferences(S,a.children[a.children.length-1])!==0){const g=new p(v===S,a,S,y=>this._onDidChangeReferenceRange.fire(y));this.references.push(g),a.children.push(g)}}dispose(){(0,w.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new d(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,D.NC)("aria.result.0","No results found"):this.references.length===1?(0,D.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,D.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,D.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(i,f){const{parent:v}=i;let a=v.children.indexOf(i);const S=v.children.length,g=v.parent.groups.length;return g===1||f&&a+1<S||!f&&a>0?(f?a=(a+1)%S:a=(a+S-1)%S,v.children[a]):(a=v.parent.groups.indexOf(v),f?(a=(a+1)%g,v.parent.groups[a].children[0]):(a=(a+g-1)%g,v.parent.groups[a].children[v.parent.groups[a].children.length-1]))}nearestReference(i,f){const v=this.references.map((a,S)=>({idx:S,prefixLen:I.Mh(a.uri.toString(),i.toString()),offsetDist:Math.abs(a.range.startLineNumber-f.lineNumber)*100+Math.abs(a.range.startColumn-f.column)})).sort((a,S)=>a.prefixLen>S.prefixLen?-1:a.prefixLen<S.prefixLen?1:a.offsetDist<S.offsetDist?-1:a.offsetDist>S.offsetDist?1:0)[0];if(v)return this.references[v.idx]}referenceAt(i,f){for(const v of this.references)if(v.uri.toString()===i.toString()&&M.e.containsPosition(v.range,f))return v}firstReference(){for(const i of this.references)if(i.isProviderFirst)return i;return this.references[0]}static _compareReferences(i,f){return _.SF.compare(i.uri,f.uri)||M.e.compareRangesUsingStarts(i.range,f.range)}}},41470:function(Ot,Ke,e){"use strict";e.d(Ke,{hT:function(){return W},Hb:function(){return P},mR:function(){return H}});var b=e(65321),U=e(41168),r=e(9488),w=e(5976),c=e(50187),_=e(24314),I=e(84901),M=e(43155),D=e(12457),p=e(66520),o=e(72065),u=e(91847),d=e(15393),n=e(29102),i=e(32064),f=e(17735);const v=30,a=24;class S extends w.JT{constructor(F,K=new b.Ro(10,10)){super(),this._editor=F,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new f.f),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=b.Ro.lift(K),this._resizableNode.layout(K.height,K.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(m=>{this._resize(new b.Ro(m.dimension.width,m.dimension.height)),m.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var F;return!((F=this._contentPosition)===null||F===void 0)&&F.position?c.L.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(F){const K=this._editor.getDomNode(),m=this._editor.getScrolledVisiblePosition(F);return!K||!m?void 0:b.i(K).top+m.top-v}_availableVerticalSpaceBelow(F){const K=this._editor.getDomNode(),m=this._editor.getScrolledVisiblePosition(F);if(!K||!m)return;const J=b.i(K),X=b.D6(K.ownerDocument.body),te=J.top+m.top+m.height;return X.height-te-a}_findPositionPreference(F,K){var m,J;const X=Math.min((m=this._availableVerticalSpaceBelow(K))!==null&&m!==void 0?m:1/0,F),te=Math.min((J=this._availableVerticalSpaceAbove(K))!==null&&J!==void 0?J:1/0,F),le=Math.min(Math.max(te,X),F),ge=Math.min(F,le);let we;return this._editor.getOption(60).above?we=ge<=te?1:2:we=ge<=X?2:1,we===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),we}_resize(F){this._resizableNode.layout(F.height,F.width)}}var g=e(33108),y=e(31106),C=function(j,F,K,m){var J=arguments.length,X=J<3?F:m===null?m=Object.getOwnPropertyDescriptor(F,K):m,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(j,F,K,m);else for(var le=j.length-1;le>=0;le--)(te=j[le])&&(X=(J<3?te(X):J>3?te(F,K,X):te(F,K))||X);return J>3&&X&&Object.defineProperty(F,K,X),X},E=function(j,F){return function(K,m){F(K,m,j)}},A,N;const B=b.$;let W=A=class extends w.JT{constructor(F,K,m){super(),this._editor=F,this._instantiationService=K,this._keybindingService=m,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(P,this._editor)),this._participants=[];for(const J of p.Ae.getAll())this._participants.push(this._instantiationService.createInstance(J,this._editor));this._participants.sort((J,X)=>J.hoverOrdinal-X.hoverOrdinal),this._computer=new V(this._editor,this._participants),this._hoverOperation=this._register(new D.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(J=>{if(!this._computer.anchor)return;const X=J.hasLoadingMessage?this._addLoadingMessage(J.value):J.value;this._withResult(new $(this._computer.anchor,X,J.isComplete))})),this._register(b.mu(this._widget.getDomNode(),"keydown",J=>{J.equals(9)&&this.hide()})),this._register(M.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(F){if(this._widget.isResizing)return!0;const K=[];for(const J of this._participants)if(J.suggestHoverAnchor){const X=J.suggestHoverAnchor(F);X&&K.push(X)}const m=F.target;if(m.type===6&&K.push(new p.Qj(0,m.range,F.event.posx,F.event.posy)),m.type===7){const J=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!m.detail.isAfterLines&&typeof m.detail.horizontalDistanceToText=="number"&&m.detail.horizontalDistanceToText<J&&K.push(new p.Qj(0,m.range,F.event.posx,F.event.posy))}return K.length===0?this._startShowingOrUpdateHover(null,0,0,!1,F):(K.sort((J,X)=>X.priority-J.priority),this._startShowingOrUpdateHover(K[0],0,0,!1,F))}startShowingAtRange(F,K,m,J){this._startShowingOrUpdateHover(new p.Qj(0,F,void 0,void 0),K,m,J,null)}_startShowingOrUpdateHover(F,K,m,J,X){return!this._widget.position||!this._currentResult?F?(this._startHoverOperationIfNecessary(F,K,m,J,!1),!0):!1:this._editor.getOption(60).sticky&&X&&this._widget.isMouseGettingCloser(X.event.posx,X.event.posy)?(F&&this._startHoverOperationIfNecessary(F,K,m,J,!0),!0):F?F&&this._currentResult.anchor.equals(F)?!0:F.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(F)),this._startHoverOperationIfNecessary(F,K,m,J,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(F,K,m,J,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(F,K,m,J,X){this._computer.anchor&&this._computer.anchor.equals(F)||(this._hoverOperation.cancel(),this._computer.anchor=F,this._computer.shouldFocus=J,this._computer.source=m,this._computer.insistOnKeepingHoverVisible=X,this._hoverOperation.start(K))}_setCurrentResult(F){this._currentResult!==F&&(F&&F.messages.length===0&&(F=null),this._currentResult=F,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(F){return F?this._widget.getDomNode().contains(F):!1}_addLoadingMessage(F){if(this._computer.anchor){for(const K of this._participants)if(K.createLoadingMessage){const m=K.createLoadingMessage(this._computer.anchor);if(m)return F.slice(0).concat([m])}}return F}_withResult(F){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!F.isComplete||this._computer.insistOnKeepingHoverVisible&&F.messages.length===0)||this._setCurrentResult(F)}_renderMessages(F,K){const{showAtPosition:m,showAtSecondaryPosition:J,highlightRange:X}=A.computeHoverRanges(this._editor,F.range,K),te=new w.SL,le=te.add(new H(this._keybindingService)),ge=document.createDocumentFragment();let we=null;const pe={fragment:ge,statusBar:le,setColorPicker:Ne=>we=Ne,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:Ne=>this._widget.setMinimumDimensions(Ne),hide:()=>this.hide()};for(const Ne of this._participants){const ae=K.filter(Me=>Me.owner===Ne);ae.length>0&&te.add(Ne.renderHoverParts(pe,ae))}const Pe=K.some(Ne=>Ne.isBeforeContent);if(le.hasContent&&ge.appendChild(le.hoverElement),ge.hasChildNodes()){if(X){const Ne=this._editor.createDecorationsCollection();Ne.set([{range:X,options:A._DECORATION_OPTIONS}]),te.add((0,w.OF)(()=>{Ne.clear()}))}this._widget.showAt(ge,new R(we,m,J,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,Pe,F.initialMousePosX,F.initialMousePosY,te))}else te.dispose()}static computeHoverRanges(F,K,m){let J=1;if(F.hasModel()){const we=F._getViewModel(),pe=we.coordinatesConverter,Pe=pe.convertModelRangeToViewRange(K),Ne=new c.L(Pe.startLineNumber,we.getLineMinColumn(Pe.startLineNumber));J=pe.convertViewPositionToModelPosition(Ne).column}const X=K.startLineNumber;let te=K.startColumn,le=m[0].range,ge=null;for(const we of m)le=_.e.plusRange(le,we.range),we.range.startLineNumber===X&&we.range.endLineNumber===X&&(te=Math.max(Math.min(te,we.range.startColumn),J)),we.forceShowAtRange&&(ge=we.range);return{showAtPosition:ge?ge.getStartPosition():new c.L(X,K.startColumn),showAtSecondaryPosition:ge?ge.getStartPosition():new c.L(X,te),highlightRange:le}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};W._DECORATION_OPTIONS=I.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),W=A=C([E(1,o.TG),E(2,u.d)],W);class ${constructor(F,K,m){this.anchor=F,this.messages=K,this.isComplete=m}filter(F){const K=this.messages.filter(m=>m.isValidForHoverAnchor(F));return K.length===this.messages.length?this:new Y(this,this.anchor,K,this.isComplete)}}class Y extends ${constructor(F,K,m,J){super(K,m,J),this.original=F}filter(F){return this.original.filter(F)}}class R{constructor(F,K,m,J,X,te,le,ge,we,pe){this.colorPicker=F,this.showAtPosition=K,this.showAtSecondaryPosition=m,this.preferAbove=J,this.stoleFocus=X,this.source=te,this.isBeforeContent=le,this.initialMousePosX=ge,this.initialMousePosY=we,this.disposables=pe,this.closestMouseDistance=void 0}}const L=30,z=10,O=6;let P=N=class extends S{get isColorPickerVisible(){var F;return!!(!((F=this._visibleData)===null||F===void 0)&&F.colorPicker)}get isVisibleFromKeyboard(){var F;return((F=this._visibleData)===null||F===void 0?void 0:F.source)===1}get isVisible(){var F;return(F=this._hoverVisibleKey.get())!==null&&F!==void 0?F:!1}get isFocused(){var F;return(F=this._hoverFocusedKey.get())!==null&&F!==void 0?F:!1}constructor(F,K,m,J,X){const te=F.getOption(66)+8,le=150,ge=new b.Ro(le,te);super(F,ge),this._configurationService=m,this._accessibilityService=J,this._keybindingService=X,this._hover=this._register(new U.c8),this._minimumSize=ge,this._hoverVisibleKey=n.u.hoverVisible.bindTo(K),this._hoverFocusedKey=n.u.hoverFocused.bindTo(K),b.R3(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(pe=>{pe.hasChanged(50)&&this._updateFont()}));const we=this._register(b.go(this._resizableNode.domNode));this._register(we.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(we.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var F;super.dispose(),(F=this._visibleData)===null||F===void 0||F.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return N.ID}static _applyDimensions(F,K,m){const J=typeof K=="number"?`${K}px`:K,X=typeof m=="number"?`${m}px`:m;F.style.width=J,F.style.height=X}_setContentsDomNodeDimensions(F,K){const m=this._hover.contentsDomNode;return N._applyDimensions(m,F,K)}_setContainerDomNodeDimensions(F,K){const m=this._hover.containerDomNode;return N._applyDimensions(m,F,K)}_setHoverWidgetDimensions(F,K){this._setContentsDomNodeDimensions(F,K),this._setContainerDomNodeDimensions(F,K),this._layoutContentWidget()}static _applyMaxDimensions(F,K,m){const J=typeof K=="number"?`${K}px`:K,X=typeof m=="number"?`${m}px`:m;F.style.maxWidth=J,F.style.maxHeight=X}_setHoverWidgetMaxDimensions(F,K){N._applyMaxDimensions(this._hover.contentsDomNode,F,K),N._applyMaxDimensions(this._hover.containerDomNode,F,K),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof F=="number"?`${F}px`:F),this._layoutContentWidget()}_hasHorizontalScrollbar(){const F=this._hover.scrollbar.getScrollDimensions();return F.scrollWidth>F.width}_adjustContentsBottomPadding(){const F=this._hover.contentsDomNode,K=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;F.style.paddingBottom!==K&&(F.style.paddingBottom=K)}_setAdjustedHoverWidgetDimensions(F){this._setHoverWidgetMaxDimensions("none","none");const K=F.width,m=F.height;this._setHoverWidgetDimensions(K,m),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(K,m-z))}_updateResizableNodeMaxDimensions(){var F,K;const m=(F=this._findMaximumRenderingWidth())!==null&&F!==void 0?F:1/0,J=(K=this._findMaximumRenderingHeight())!==null&&K!==void 0?K:1/0;this._resizableNode.maxSize=new b.Ro(m,J),this._setHoverWidgetMaxDimensions(m,J)}_resize(F){var K,m;N._lastDimensions=new b.Ro(F.width,F.height),this._setAdjustedHoverWidgetDimensions(F),this._resizableNode.layout(F.height,F.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(m=(K=this._visibleData)===null||K===void 0?void 0:K.colorPicker)===null||m===void 0||m.layout()}_findAvailableSpaceVertically(){var F;const K=(F=this._visibleData)===null||F===void 0?void 0:F.showAtPosition;if(K)return this._positionPreference===1?this._availableVerticalSpaceAbove(K):this._availableVerticalSpaceBelow(K)}_findMaximumRenderingHeight(){const F=this._findAvailableSpaceVertically();if(!F)return;let K=O;return Array.from(this._hover.contentsDomNode.children).forEach(m=>{K+=m.clientHeight}),this._hasHorizontalScrollbar()&&(K+=z),Math.min(F,K)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const F=Array.from(this._hover.contentsDomNode.children).some(K=>K.scrollWidth>K.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),F}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const F=this._isHoverTextOverflowing(),K=typeof this._contentWidth=="undefined"?0:this._contentWidth-2;return F||this._hover.containerDomNode.clientWidth<K?b.D6(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(F,K){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=F,this._visibleData.initialMousePosY=K,!1;const m=b.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=G(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,m.left,m.top,m.width,m.height));const J=G(F,K,m.left,m.top,m.width,m.height);return J>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,J),!0)}_setHoverData(F){var K;(K=this._visibleData)===null||K===void 0||K.disposables.dispose(),this._visibleData=F,this._hoverVisibleKey.set(!!F),this._hover.containerDomNode.classList.toggle("hidden",!F)}_updateFont(){const{fontSize:F,lineHeight:K}=this._editor.getOption(50),m=this._hover.contentsDomNode;m.style.fontSize=`${F}px`,m.style.lineHeight=`${K/F}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(X=>this._editor.applyFontInfo(X))}_updateContent(F){const K=this._hover.contentsDomNode;K.style.paddingBottom="",K.textContent="",K.appendChild(F)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const F=Math.max(this._editor.getLayoutInfo().height/4,250,N._lastDimensions.height),K=Math.max(this._editor.getLayoutInfo().width*.66,500,N._lastDimensions.width);this._setHoverWidgetMaxDimensions(K,F)}_render(F,K){this._setHoverData(K),this._updateFont(),this._updateContent(F),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var F;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(F=this._positionPreference)!==null&&F!==void 0?F:1]}:null}showAt(F,K){var m,J,X,te;if(!this._editor||!this._editor.hasModel())return;this._render(F,K);const le=b.wn(this._hover.containerDomNode),ge=K.showAtPosition;this._positionPreference=(m=this._findPositionPreference(le,ge))!==null&&m!==void 0?m:1,this.onContentsChanged(),K.stoleFocus&&this._hover.containerDomNode.focus(),(J=K.colorPicker)===null||J===void 0||J.layout();const pe=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,U.uX)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(te=(X=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||X===void 0?void 0:X.getAriaLabel())!==null&&te!==void 0?te:"");pe&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+pe)}hide(){if(!this._visibleData)return;const F=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new b.Ro(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),F&&this._editor.focus()}_removeConstraintsRenderNormally(){const F=this._editor.getLayoutInfo();this._resizableNode.layout(F.height,F.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(F){var K;const m=this._hover.containerDomNode,J=this._hover.contentsDomNode,X=(K=this._findMaximumRenderingHeight())!==null&&K!==void 0?K:1/0;this._setContainerDomNodeDimensions(b.w(m),Math.min(X,F)),this._setContentsDomNodeDimensions(b.w(J),Math.min(X,F-z))}setMinimumDimensions(F){this._minimumSize=new b.Ro(Math.max(this._minimumSize.width,F.width),Math.max(this._minimumSize.height,F.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const F=typeof this._contentWidth=="undefined"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new b.Ro(F,this._minimumSize.height)}onContentsChanged(){var F;this._removeConstraintsRenderNormally();const K=this._hover.containerDomNode;let m=b.wn(K),J=b.w(K);if(this._resizableNode.layout(m,J),this._setHoverWidgetDimensions(J,m),m=b.wn(K),J=b.w(K),this._contentWidth=J,this._updateMinimumWidth(),this._resizableNode.layout(m,J),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(m)),!((F=this._visibleData)===null||F===void 0)&&F.showAtPosition){const X=b.wn(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(X,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const F=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:F-K.lineHeight})}scrollDown(){const F=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:F+K.lineHeight})}scrollLeft(){const F=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:F-L})}scrollRight(){const F=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:F+L})}pageUp(){const F=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:F-K})}pageDown(){const F=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:F+K})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};P.ID="editor.contrib.resizableContentHoverWidget",P._lastDimensions=new b.Ro(0,0),P=N=C([E(1,i.i6),E(2,g.Ui),E(3,y.F7),E(4,u.d)],P);let H=class extends w.JT{get hasContent(){return this._hasContent}constructor(F){super(),this._keybindingService=F,this._hasContent=!1,this.hoverElement=B("div.hover-row.status-bar"),this.actionsElement=b.R3(this.hoverElement,B("div.actions"))}addAction(F){const K=this._keybindingService.lookupKeybinding(F.commandId),m=K?K.getLabel():null;return this._hasContent=!0,this._register(U.Sr.render(this.actionsElement,F,m))}append(F){const K=b.R3(this.actionsElement,F);return this._hasContent=!0,K}};H=C([E(0,u.d)],H);class V{get anchor(){return this._anchor}set anchor(F){this._anchor=F}get shouldFocus(){return this._shouldFocus}set shouldFocus(F){this._shouldFocus=F}get source(){return this._source}set source(F){this._source=F}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(F){this._insistOnKeepingHoverVisible=F}constructor(F,K){this._editor=F,this._participants=K,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(F,K){if(K.type!==1&&!K.supportsMarkerHover)return[];const m=F.getModel(),J=K.range.startLineNumber;if(J>m.getLineCount())return[];const X=m.getLineMaxColumn(J);return F.getLineDecorations(J).filter(te=>{if(te.options.isWholeLine)return!0;const le=te.range.startLineNumber===J?te.range.startColumn:1,ge=te.range.endLineNumber===J?te.range.endColumn:X;if(te.options.showIfCollapsed){if(le>K.range.startColumn+1||K.range.endColumn-1>ge)return!1}else if(le>K.range.startColumn||K.range.endColumn>ge)return!1;return!0})}computeAsync(F){const K=this._anchor;if(!this._editor.hasModel()||!K)return d.Aq.EMPTY;const m=V._getLineDecorations(this._editor,K);return d.Aq.merge(this._participants.map(J=>J.computeAsync?J.computeAsync(K,m,F):d.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const F=V._getLineDecorations(this._editor,this._anchor);let K=[];for(const m of this._participants)K=K.concat(m.computeSync(this._anchor,F));return(0,r.kX)(K)}}function G(j,F,K,m,J,X){const te=K+J/2,le=m+X/2,ge=Math.max(Math.abs(j-te)-J/2,0),we=Math.max(Math.abs(F-le)-X/2,0);return Math.sqrt(ge*ge+we*we)}},41095:function(Ot,Ke,e){"use strict";e.d(Ke,{R8:function(){return M}});var b=e(15393),U=e(71050),r=e(17301),w=e(16830),c=e(71922);class _{constructor(u,d,n){this.provider=u,this.hover=d,this.ordinal=n}}function I(o,u,d,n,i){return tn(this,null,function*(){try{const f=yield Promise.resolve(o.provideHover(d,n,i));if(f&&p(f))return new _(o,f,u)}catch(f){(0,r.Cp)(f)}})}function M(o,u,d,n){const f=o.ordered(u).map((v,a)=>I(v,a,u,d,n));return b.Aq.fromPromises(f).coalesce()}function D(o,u,d,n){return M(o,u,d,n).map(i=>i.hover).toPromise()}(0,w.sb)("_executeHoverProvider",(o,u,d)=>{const n=o.get(c.p);return D(n.hoverProvider,u,d,U.T.None)});function p(o){const u=typeof o.range!="undefined",d=typeof o.contents!="undefined"&&o.contents&&o.contents.length>0;return u&&d}},93463:function(Ot,Ke,e){"use strict";e.d(Ke,{E:function(){return pe}});var b=e(22258),U=e(5976),r=e(16830),w=e(24314),c=e(29102),_=e(72042),I=e(56334),M=e(41470),D=e(65321),p=e(9488),o=e(59365),u=e(33772),d=e(12457),n=e(41168);const i=D.$;class f extends U.JT{constructor(me,he,se){super(),this._renderDisposeables=this._register(new U.SL),this._editor=me,this._isVisible=!1,this._messages=[],this._hover=this._register(new n.c8),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new u.$({editor:this._editor},he,se)),this._computer=new v(this._editor),this._hoverOperation=this._register(new d.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(ve=>{this._withResult(ve.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(ve=>{ve.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return f.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(he=>this._editor.applyFontInfo(he))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(me){this._computer.lineNumber!==me&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=me,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(me){this._messages=me,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(me,he){this._renderDisposeables.clear();const se=document.createDocumentFragment();for(const ve of he){const xe=i("div.hover-row.markdown-hover"),je=D.R3(xe,i("div.hover-contents")),Oe=this._renderDisposeables.add(this._markdownRenderer.render(ve.value));je.appendChild(Oe.element),se.appendChild(xe)}this._updateContents(se),this._showAt(me)}_updateContents(me){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(me),this._updateFont()}_showAt(me){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const he=this._editor.getLayoutInfo(),se=this._editor.getTopForLineNumber(me),ve=this._editor.getScrollTop(),xe=this._editor.getOption(66),je=this._hover.containerDomNode.clientHeight,Oe=se-ve-(je-xe)/2;this._hover.containerDomNode.style.left=`${he.glyphMarginLeft+he.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Oe),0)}px`}}f.ID="editor.contrib.modesGlyphHoverWidget";class v{get lineNumber(){return this._lineNumber}set lineNumber(me){this._lineNumber=me}constructor(me){this._editor=me,this._lineNumber=-1}computeSync(){const me=ve=>({value:ve}),he=this._editor.getLineDecorations(this._lineNumber),se=[];if(!he)return se;for(const ve of he){if(!ve.options.glyphMarginClassName)continue;const xe=ve.options.glyphMarginHoverMessage;!xe||(0,o.CP)(xe)||se.push(...(0,p._2)(xe).map(me))}return se}}var a=e(72065),S=e(50988),g=e(73910),y=e(97781),C=e(66520),E=e(22374),A=e(15393),N=e(17301),B=e(95935),W=e(71922),$=e(36357),Y=e(75396),R=e(70522),L=e(87997),z=e(10355),O=e(63580),P=e(98674),H=e(90535),V=function(Se,me,he,se){var ve=arguments.length,xe=ve<3?me:se===null?se=Object.getOwnPropertyDescriptor(me,he):se,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(Se,me,he,se);else for(var Oe=Se.length-1;Oe>=0;Oe--)(je=Se[Oe])&&(xe=(ve<3?je(xe):ve>3?je(me,he,xe):je(me,he))||xe);return ve>3&&xe&&Object.defineProperty(me,he,xe),xe},G=function(Se,me){return function(he,se){me(he,se,Se)}};const j=D.$;class F{constructor(me,he,se){this.owner=me,this.range=he,this.marker=se}isValidForHoverAnchor(me){return me.type===1&&this.range.startColumn<=me.range.startColumn&&this.range.endColumn>=me.range.endColumn}}const K={type:1,filter:{include:L.yN.QuickFix},triggerAction:L.aQ.QuickFixHover};let m=class{constructor(me,he,se,ve){this._editor=me,this._markerDecorationsService=he,this._openerService=se,this._languageFeaturesService=ve,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(me,he){if(!this._editor.hasModel()||me.type!==1&&!me.supportsMarkerHover)return[];const se=this._editor.getModel(),ve=me.range.startLineNumber,xe=se.getLineMaxColumn(ve),je=[];for(const Oe of he){const Ze=Oe.range.startLineNumber===ve?Oe.range.startColumn:1,it=Oe.range.endLineNumber===ve?Oe.range.endColumn:xe,Et=this._markerDecorationsService.getMarker(se.uri,Oe);if(!Et)continue;const st=new w.e(me.range.startLineNumber,Ze,me.range.startLineNumber,it);je.push(new F(this,st,Et))}return je}renderHoverParts(me,he){if(!he.length)return U.JT.None;const se=new U.SL;he.forEach(xe=>me.fragment.appendChild(this.renderMarkerHover(xe,se)));const ve=he.length===1?he[0]:he.sort((xe,je)=>P.ZL.compare(xe.marker.severity,je.marker.severity))[0];return this.renderMarkerStatusbar(me,ve,se),se}renderMarkerHover(me,he){const se=j("div.hover-row"),ve=D.R3(se,j("div.marker.hover-contents")),{source:xe,message:je,code:Oe,relatedInformation:Ze}=me.marker;this._editor.applyFontInfo(ve);const it=D.R3(ve,j("span"));if(it.style.whiteSpace="pre-wrap",it.innerText=je,xe||Oe)if(Oe&&typeof Oe!="string"){const Et=j("span");if(xe){const qt=D.R3(Et,j("span"));qt.innerText=xe}const st=D.R3(Et,j("a.code-link"));st.setAttribute("href",Oe.target.toString()),he.add(D.nm(st,"click",qt=>{this._openerService.open(Oe.target,{allowCommands:!0}),qt.preventDefault(),qt.stopPropagation()}));const pt=D.R3(st,j("span"));pt.innerText=Oe.value;const Mt=D.R3(ve,Et);Mt.style.opacity="0.6",Mt.style.paddingLeft="6px"}else{const Et=D.R3(ve,j("span"));Et.style.opacity="0.6",Et.style.paddingLeft="6px",Et.innerText=xe&&Oe?`${xe}(${Oe})`:xe||`(${Oe})`}if((0,p.Of)(Ze))for(const{message:Et,resource:st,startLineNumber:pt,startColumn:Mt}of Ze){const qt=D.R3(ve,j("div"));qt.style.marginTop="8px";const Ft=D.R3(qt,j("a"));Ft.innerText=`${(0,B.EZ)(st)}(${pt}, ${Mt}): `,Ft.style.cursor="pointer",he.add(D.nm(Ft,"click",_t=>{_t.stopPropagation(),_t.preventDefault(),this._openerService&&this._openerService.open(st,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:pt,startColumn:Mt}}}).catch(N.dL)}));const Xt=D.R3(qt,j("span"));Xt.innerText=Et,this._editor.applyFontInfo(Xt)}return se}renderMarkerStatusbar(me,he,se){if((he.marker.severity===P.ZL.Error||he.marker.severity===P.ZL.Warning||he.marker.severity===P.ZL.Info)&&me.statusBar.addAction({label:O.NC("view problem","View Problem"),commandId:z.v.ID,run:()=>{var ve;me.hide(),(ve=z.c.get(this._editor))===null||ve===void 0||ve.showAtMarker(he.marker),this._editor.focus()}}),!this._editor.getOption(90)){const ve=me.statusBar.append(j("div"));this.recentMarkerCodeActionsInfo&&(P.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===P.H0.makeKey(he.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(ve.textContent=O.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const xe=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?U.JT.None:se.add((0,A.Vg)(()=>ve.textContent=O.NC("checkingForQuickFixes","Checking for quick fixes..."),200));ve.textContent||(ve.textContent=String.fromCharCode(160));const je=this.getCodeActions(he.marker);se.add((0,U.OF)(()=>je.cancel())),je.then(Oe=>{if(xe.dispose(),this.recentMarkerCodeActionsInfo={marker:he.marker,hasCodeActions:Oe.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Oe.dispose(),ve.textContent=O.NC("noQuickFixes","No quick fixes available");return}ve.style.display="none";let Ze=!1;se.add((0,U.OF)(()=>{Ze||Oe.dispose()})),me.statusBar.addAction({label:O.NC("quick fixes","Quick Fix..."),commandId:Y.cz,run:it=>{Ze=!0;const Et=R.G.get(this._editor),st=D.i(it);me.hide(),Et==null||Et.showCodeActions(K,Oe,{x:st.left,y:st.top,width:st.width,height:st.height})}})},N.dL)}}getCodeActions(me){return(0,A.PG)(he=>(0,Y.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.e(me.startLineNumber,me.startColumn,me.endLineNumber,me.endColumn),K,H.Ex.None,he))}};m=V([G(1,$.i),G(2,S.v),G(3,W.p)],m);var J=e(73485),X=e(91847),te=function(Se,me,he,se){var ve=arguments.length,xe=ve<3?me:se===null?se=Object.getOwnPropertyDescriptor(me,he):se,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(Se,me,he,se);else for(var Oe=Se.length-1;Oe>=0;Oe--)(je=Se[Oe])&&(xe=(ve<3?je(xe):ve>3?je(me,he,xe):je(me,he))||xe);return ve>3&&xe&&Object.defineProperty(me,he,xe),xe},le=function(Se,me){return function(he,se){me(he,se,Se)}},ge;const we=!1;let pe=ge=class extends U.JT{static get(me){return me.getContribution(ge.ID)}constructor(me,he,se,ve,xe){super(),this._editor=me,this._instantiationService=he,this._openerService=se,this._languageService=ve,this._keybindingService=xe,this._toUnhook=new U.SL,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._reactToEditorMouseMoveRunner=this._register(new A.pY(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookEvents(),this._register(this._editor.onDidChangeConfiguration(je=>{je.hasChanged(60)&&(this._unhookEvents(),this._hookEvents())}))}_hookEvents(){const me=this._editor.getOption(60);this._isHoverEnabled=me.enabled,this._isHoverSticky=me.sticky,this._hidingDelay=me.hidingDelay,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(he=>this._onEditorMouseDown(he))),this._toUnhook.add(this._editor.onMouseUp(he=>this._onEditorMouseUp(he))),this._toUnhook.add(this._editor.onMouseMove(he=>this._onEditorMouseMove(he))),this._toUnhook.add(this._editor.onKeyDown(he=>this._onKeyDown(he)))):(this._toUnhook.add(this._editor.onMouseMove(he=>this._onEditorMouseMove(he))),this._toUnhook.add(this._editor.onKeyDown(he=>this._onKeyDown(he)))),this._toUnhook.add(this._editor.onMouseLeave(he=>this._onEditorMouseLeave(he))),this._toUnhook.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._toUnhook.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._toUnhook.add(this._editor.onDidScrollChange(he=>this._onEditorScrollChanged(he)))}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(me){(me.scrollTopChanged||me.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(me){var he;this._isMouseDown=!0;const se=me.target;if(se.type===9&&se.detail===M.Hb.ID){this._hoverClicked=!0;return}se.type===12&&se.detail===f.ID||(se.type!==12&&(this._hoverClicked=!1),!((he=this._contentWidget)===null||he===void 0)&&he.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(me){this._isMouseDown=!1}_onEditorMouseLeave(me){var he,se;this._cancelScheduler();const ve=me.event.browserEvent.relatedTarget;!((he=this._contentWidget)===null||he===void 0)&&he.widget.isResizing||!((se=this._contentWidget)===null||se===void 0)&&se.containsNode(ve)||we||this._hideWidgets()}_isMouseOverWidget(me){var he,se,ve,xe,je;const Oe=me.target;return!!(this._isHoverSticky&&Oe.type===9&&Oe.detail===M.Hb.ID||this._isHoverSticky&&(!((he=this._contentWidget)===null||he===void 0)&&he.containsNode((se=me.event.browserEvent.view)===null||se===void 0?void 0:se.document.activeElement))&&!(!((xe=(ve=me.event.browserEvent.view)===null||ve===void 0?void 0:ve.getSelection())===null||xe===void 0)&&xe.isCollapsed)||!this._isHoverSticky&&Oe.type===9&&Oe.detail===M.Hb.ID&&(!((je=this._contentWidget)===null||je===void 0)&&je.isColorPickerVisible)||this._isHoverSticky&&Oe.type===12&&Oe.detail===f.ID)}_onEditorMouseMove(me){var he,se,ve,xe;if(this._mouseMoveEvent=me,!((he=this._contentWidget)===null||he===void 0)&&he.isFocused||!((se=this._contentWidget)===null||se===void 0)&&se.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&(!((ve=this._contentWidget)===null||ve===void 0)&&ve.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(me)){this._reactToEditorMouseMoveRunner.cancel();return}if(!((xe=this._contentWidget)===null||xe===void 0)&&xe.isVisible&&this._isHoverSticky&&this._hidingDelay>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);return}this._reactToEditorMouseMove(me)}_reactToEditorMouseMove(me){var he,se,ve;if(!me)return;const xe=me.target,je=(he=xe.element)===null||he===void 0?void 0:he.classList.contains("colorpicker-color-decoration"),Oe=this._editor.getOption(146);if(je&&(Oe==="click"&&!this._hoverActivatedByColorDecoratorClick||Oe==="hover"&&!this._isHoverEnabled&&!we||Oe==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!je&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(me)){(se=this._glyphWidget)===null||se===void 0||se.hide();return}if(xe.type===2&&xe.position){(ve=this._contentWidget)===null||ve===void 0||ve.hide(),this._glyphWidget||(this._glyphWidget=new f(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(xe.position.lineNumber);return}we||this._hideWidgets()}_onKeyDown(me){var he;if(!this._editor.hasModel())return;const se=this._keybindingService.softDispatch(me,this._editor.getDomNode()),ve=se.kind===1||se.kind===2&&se.commandId==="editor.action.showHover"&&((he=this._contentWidget)===null||he===void 0?void 0:he.isVisible);me.keyCode!==5&&me.keyCode!==6&&me.keyCode!==57&&me.keyCode!==4&&!ve&&this._hideWidgets()}_hideWidgets(){var me,he,se;we||this._isMouseDown&&this._hoverClicked&&(!((me=this._contentWidget)===null||me===void 0)&&me.isColorPickerVisible)||J.QG.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(he=this._glyphWidget)===null||he===void 0||he.hide(),(se=this._contentWidget)===null||se===void 0||se.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(M.hT,this._editor)),this._contentWidget}showContentHover(me,he,se,ve,xe=!1){this._hoverActivatedByColorDecoratorClick=xe,this._getOrCreateContentWidget().startShowingAtRange(me,he,se,ve)}focus(){var me;(me=this._contentWidget)===null||me===void 0||me.focus()}scrollUp(){var me;(me=this._contentWidget)===null||me===void 0||me.scrollUp()}scrollDown(){var me;(me=this._contentWidget)===null||me===void 0||me.scrollDown()}scrollLeft(){var me;(me=this._contentWidget)===null||me===void 0||me.scrollLeft()}scrollRight(){var me;(me=this._contentWidget)===null||me===void 0||me.scrollRight()}pageUp(){var me;(me=this._contentWidget)===null||me===void 0||me.pageUp()}pageDown(){var me;(me=this._contentWidget)===null||me===void 0||me.pageDown()}goToTop(){var me;(me=this._contentWidget)===null||me===void 0||me.goToTop()}goToBottom(){var me;(me=this._contentWidget)===null||me===void 0||me.goToBottom()}get isColorPickerVisible(){var me;return(me=this._contentWidget)===null||me===void 0?void 0:me.isColorPickerVisible}get isHoverVisible(){var me;return(me=this._contentWidget)===null||me===void 0?void 0:me.isVisible}dispose(){var me,he;super.dispose(),this._unhookEvents(),this._toUnhook.dispose(),(me=this._glyphWidget)===null||me===void 0||me.dispose(),(he=this._contentWidget)===null||he===void 0||he.dispose()}};pe.ID="editor.contrib.hover",pe=ge=te([le(1,a.TG),le(2,S.v),le(3,_.O),le(4,X.d)],pe);var Pe;(function(Se){Se.NoAutoFocus="noAutoFocus",Se.FocusIfVisible="focusIfVisible",Se.AutoFocusImmediately="autoFocusImmediately"})(Pe||(Pe={}));class Ne extends r.R6{constructor(){super({id:"editor.action.showHover",label:O.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Pe.NoAutoFocus,Pe.FocusIfVisible,Pe.AutoFocusImmediately],enumDescriptions:[O.NC("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),O.NC("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),O.NC("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:Pe.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,b.gx)(2089,2087),weight:100}})}run(me,he,se){if(!he.hasModel())return;const ve=pe.get(he);if(!ve)return;const xe=se==null?void 0:se.focus;let je=Pe.FocusIfVisible;xe in Pe?je=xe:typeof xe=="boolean"&&xe&&(je=Pe.AutoFocusImmediately);const Oe=it=>{const Et=he.getPosition(),st=new w.e(Et.lineNumber,Et.column,Et.lineNumber,Et.column);ve.showContentHover(st,1,1,it)},Ze=he.getOption(2)===2;ve.isHoverVisible?je!==Pe.NoAutoFocus?ve.focus():Oe(Ze):Oe(Ze||je===Pe.AutoFocusImmediately)}}class ae extends r.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:O.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(me,he){const se=pe.get(he);if(!se)return;const ve=he.getPosition();if(!ve)return;const xe=new w.e(ve.lineNumber,ve.column,ve.lineNumber,ve.column),je=I.S.get(he);if(!je)return;je.startFindDefinitionFromCursor(ve).then(()=>{se.showContentHover(xe,1,1,!0)})}}class Me extends r.R6{constructor(){super({id:"editor.action.scrollUpHover",label:O.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:16,weight:100}})}run(me,he){const se=pe.get(he);se&&se.scrollUp()}}class ke extends r.R6{constructor(){super({id:"editor.action.scrollDownHover",label:O.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:18,weight:100}})}run(me,he){const se=pe.get(he);se&&se.scrollDown()}}class Ue extends r.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:O.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:15,weight:100}})}run(me,he){const se=pe.get(he);se&&se.scrollLeft()}}class Le extends r.R6{constructor(){super({id:"editor.action.scrollRightHover",label:O.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:17,weight:100}})}run(me,he){const se=pe.get(he);se&&se.scrollRight()}}class ie extends r.R6{constructor(){super({id:"editor.action.pageUpHover",label:O.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(me,he){const se=pe.get(he);se&&se.pageUp()}}class ce extends r.R6{constructor(){super({id:"editor.action.pageDownHover",label:O.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(me,he){const se=pe.get(he);se&&se.pageDown()}}class Re extends r.R6{constructor(){super({id:"editor.action.goToTopHover",label:O.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(me,he){const se=pe.get(he);se&&se.goToTop()}}class ye extends r.R6{constructor(){super({id:"editor.action.goToBottomHover",label:O.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(me,he){const se=pe.get(he);se&&se.goToBottom()}}(0,r._K)(pe.ID,pe,2),(0,r.Qr)(Ne),(0,r.Qr)(ae),(0,r.Qr)(Me),(0,r.Qr)(ke),(0,r.Qr)(Ue),(0,r.Qr)(Le),(0,r.Qr)(ie),(0,r.Qr)(ce),(0,r.Qr)(Re),(0,r.Qr)(ye),C.Ae.register(E.D5),C.Ae.register(m),(0,y.Ic)((Se,me)=>{const he=Se.getColor(g.CNo);he&&(me.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${he.transparent(.5)}; }`),me.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${he.transparent(.5)}; }`),me.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${he.transparent(.5)}; }`))})},12457:function(Ot,Ke,e){"use strict";e.d(Ke,{H:function(){return _}});var b=e(15393),U=e(17301),r=e(4669),w=e(5976);class c{constructor(M,D,p){this.value=M,this.isComplete=D,this.hasLoadingMessage=p}}class _ extends w.JT{constructor(M,D){super(),this._editor=M,this._computer=D,this._onResult=this._register(new r.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new b.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new b.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new b.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(M,D=!0){this._state=M,D&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,b.zS)(M=>this._computer.computeAsync(M)),tn(this,null,function*(){try{try{for(var M=la(this._asyncIterable),D,p,o;D=!(p=yield M.next()).done;D=!1){const u=p.value;u&&(this._result.push(u),this._fireResult())}}catch(p){o=[p]}finally{try{D&&(p=M.return)&&(yield p.call(M))}finally{if(o)throw o[0]}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(u){(0,U.dL)(u)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const M=this._state===0,D=this._state===4;this._onResult.fire(new c(this._result.slice(0),M,D))}start(M){if(M===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}},66520:function(Ot,Ke,e){"use strict";e.d(Ke,{Ae:function(){return r},Qj:function(){return b},YM:function(){return U}});class b{constructor(c,_,I,M){this.priority=c,this.range=_,this.initialMousePosX=I,this.initialMousePosY=M,this.type=1}equals(c){return c.type===1&&this.range.equalsRange(c.range)}canAdoptVisibleHover(c,_){return c.type===1&&_.lineNumber===this.range.startLineNumber}}class U{constructor(c,_,I,M,D,p){this.priority=c,this.owner=_,this.range=I,this.initialMousePosX=M,this.initialMousePosY=D,this.supportsMarkerHover=p,this.type=2}equals(c){return c.type===2&&this.owner===c.owner}canAdoptVisibleHover(c,_){return c.type===2&&this.owner===c.owner}}const r=new class{constructor(){this._participants=[]}register(c){this._participants.push(c)}getAll(){return this._participants}}},22374:function(Ot,Ke,e){"use strict";e.d(Ke,{D5:function(){return S},c:function(){return g},hU:function(){return a}});var b=e(65321),U=e(9488),r=e(15393),w=e(59365),c=e(5976),_=e(33772),I=e(50187),M=e(24314),D=e(72042),p=e(41095),o=e(63580),u=e(33108),d=e(50988),n=e(71922),i=function(y,C,E,A){var N=arguments.length,B=N<3?C:A===null?A=Object.getOwnPropertyDescriptor(C,E):A,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(y,C,E,A);else for(var $=y.length-1;$>=0;$--)(W=y[$])&&(B=(N<3?W(B):N>3?W(C,E,B):W(C,E))||B);return N>3&&B&&Object.defineProperty(C,E,B),B},f=function(y,C){return function(E,A){C(E,A,y)}};const v=b.$;class a{constructor(C,E,A,N,B){this.owner=C,this.range=E,this.contents=A,this.isBeforeContent=N,this.ordinal=B}isValidForHoverAnchor(C){return C.type===1&&this.range.startColumn<=C.range.startColumn&&this.range.endColumn>=C.range.endColumn}}let S=class{constructor(C,E,A,N,B){this._editor=C,this._languageService=E,this._openerService=A,this._configurationService=N,this._languageFeaturesService=B,this.hoverOrdinal=3}createLoadingMessage(C){return new a(this,C.range,[new w.W5().appendText(o.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(C,E){if(!this._editor.hasModel()||C.type!==1)return[];const A=this._editor.getModel(),N=C.range.startLineNumber,B=A.getLineMaxColumn(N),W=[];let $=1e3;const Y=A.getLineLength(N),R=A.getLanguageIdAtPosition(C.range.startLineNumber,C.range.startColumn),L=this._editor.getOption(116),z=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:R});let O=!1;L>=0&&Y>L&&C.range.startColumn>=L&&(O=!0,W.push(new a(this,C.range,[{value:o.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,$++))),!O&&typeof z=="number"&&Y>=z&&W.push(new a(this,C.range,[{value:o.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,$++));let P=!1;for(const H of E){const V=H.range.startLineNumber===N?H.range.startColumn:1,G=H.range.endLineNumber===N?H.range.endColumn:B,j=H.options.hoverMessage;if(!j||(0,w.CP)(j))continue;H.options.beforeContentClassName&&(P=!0);const F=new M.e(C.range.startLineNumber,V,C.range.startLineNumber,G);W.push(new a(this,F,(0,U._2)(j),P,$++))}return W}computeAsync(C,E,A){if(!this._editor.hasModel()||C.type!==1)return r.Aq.EMPTY;const N=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(N))return r.Aq.EMPTY;const B=new I.L(C.range.startLineNumber,C.range.startColumn);return(0,p.R8)(this._languageFeaturesService.hoverProvider,N,B,A).filter(W=>!(0,w.CP)(W.hover.contents)).map(W=>{const $=W.hover.range?M.e.lift(W.hover.range):C.range;return new a(this,$,W.hover.contents,!1,W.ordinal)})}renderHoverParts(C,E){return g(C,E,this._editor,this._languageService,this._openerService)}};S=i([f(1,D.O),f(2,d.v),f(3,u.Ui),f(4,n.p)],S);function g(y,C,E,A,N){C.sort((W,$)=>W.ordinal-$.ordinal);const B=new c.SL;for(const W of C)for(const $ of W.contents){if((0,w.CP)($))continue;const Y=v("div.hover-row.markdown-hover"),R=b.R3(Y,v("div.hover-contents")),L=B.add(new _.$({editor:E},A,N));B.add(L.onDidRenderAsync(()=>{R.className="hover-contents code-hover-contents",y.onContentsChanged()}));const z=B.add(L.render($));R.appendChild(z.element),y.fragment.appendChild(Y)}return B}},69901:function(Ot,Ke,e){"use strict";var b=e(15393),U=e(17301),r=e(14410),w=e(16830),c=e(24314),_=e(3860),I=e(29102),M=e(84901),D=e(85215),p=e(63580);class o{constructor(S,g,y){this._editRange=S,this._originalSelection=g,this._text=y}getEditOperations(S,g){g.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(S,g){const C=g.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new _.Y(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new _.Y(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}var u=function(a,S,g,y){var C=arguments.length,E=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,S,g,y);else for(var N=a.length-1;N>=0;N--)(A=a[N])&&(E=(C<3?A(E):C>3?A(S,g,E):A(S,g))||E);return C>3&&E&&Object.defineProperty(S,g,E),E},d=function(a,S){return function(g,y){S(g,y,a)}},n;let i=n=class{static get(S){return S.getContribution(n.ID)}constructor(S,g){this.editor=S,this.editorWorkerService=g,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(S,g){var y;(y=this.currentRequest)===null||y===void 0||y.cancel();const C=this.editor.getSelection(),E=this.editor.getModel();if(!E||!C)return;let A=C;if(A.startLineNumber!==A.endLineNumber)return;const N=new r.yy(this.editor,5),B=E.uri;return this.editorWorkerService.canNavigateValueSet(B)?(this.currentRequest=(0,b.PG)(W=>this.editorWorkerService.navigateValueSet(B,A,g)),this.currentRequest.then(W=>{var $;if(!W||!W.range||!W.value||!N.validate(this.editor))return;const Y=c.e.lift(W.range);let R=W.range;const L=W.value.length-(A.endColumn-A.startColumn);R={startLineNumber:R.startLineNumber,startColumn:R.startColumn,endLineNumber:R.endLineNumber,endColumn:R.startColumn+W.value.length},L>1&&(A=new _.Y(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn+L-1));const z=new o(Y,A,W.value);this.editor.pushUndoStop(),this.editor.executeCommand(S,z),this.editor.pushUndoStop(),this.decorations.set([{range:R,options:n.DECORATION}]),($=this.decorationRemover)===null||$===void 0||$.cancel(),this.decorationRemover=(0,b.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(U.dL)}).catch(U.dL)):Promise.resolve(void 0)}};i.ID="editor.contrib.inPlaceReplaceController",i.DECORATION=M.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),i=n=u([d(1,D.p)],i);class f extends w.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:I.u.writable,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3159,weight:100}})}run(S,g){const y=i.get(g);return y?y.run(this.id,!1):Promise.resolve(void 0)}}class v extends w.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:I.u.writable,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3161,weight:100}})}run(S,g){const y=i.get(g);return y?y.run(this.id,!0):Promise.resolve(void 0)}}(0,w._K)(i.ID,i,4),(0,w.Qr)(f),(0,w.Qr)(v)},18279:function(Ot,Ke,e){"use strict";e.d(Ke,{J:function(){return U},Y:function(){return b}});function b(r,w){let c=0;for(let _=0;_<r.length;_++)r.charAt(_)==="	"?c+=w:c++;return c}function U(r,w,c){r=r<0?0:r;let _="";if(!c){const I=Math.floor(r/w);r=r%w;for(let M=0;M<I;M++)_+="	"}for(let I=0;I<r;I++)_+=" ";return _}},84602:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(97295),r=e(16830),w=e(10291),c=e(69386),_=e(24314),I=e(3860),M=e(29102),D=e(4256),p=e(73733),o=e(18279),u=e(63580),d=e(41157),n=e(83158),i=e(75383),f=function(O,P,H,V){var G=arguments.length,j=G<3?P:V===null?V=Object.getOwnPropertyDescriptor(P,H):V,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(O,P,H,V);else for(var K=O.length-1;K>=0;K--)(F=O[K])&&(j=(G<3?F(j):G>3?F(P,H,j):F(P,H))||j);return G>3&&j&&Object.defineProperty(P,H,j),j},v=function(O,P){return function(H,V){P(H,V,O)}};function a(O,P,H,V,G){if(O.getLineCount()===1&&O.getLineMaxColumn(1)===1)return[];const j=P.getLanguageConfiguration(O.getLanguageId()).indentationRules;if(!j)return[];for(V=Math.min(V,O.getLineCount());H<=V&&j.unIndentedLinePattern;){const Pe=O.getLineContent(H);if(!j.unIndentedLinePattern.test(Pe))break;H++}if(H>V-1)return[];const{tabSize:F,indentSize:K,insertSpaces:m}=O.getOptions(),J=(Pe,Ne)=>(Ne=Ne||1,w.U.shiftIndent(Pe,Pe.length+Ne,F,K,m)),X=(Pe,Ne)=>(Ne=Ne||1,w.U.unshiftIndent(Pe,Pe.length+Ne,F,K,m)),te=[];let le;const ge=O.getLineContent(H);let we=ge;if(G!=null){le=G;const Pe=U.V8(ge);we=le+ge.substring(Pe.length),j.decreaseIndentPattern&&j.decreaseIndentPattern.test(we)&&(le=X(le),we=le+ge.substring(Pe.length)),ge!==we&&te.push(c.h.replaceMove(new I.Y(H,1,H,Pe.length+1),(0,n.x)(le,K,m)))}else le=U.V8(ge);let pe=le;j.increaseIndentPattern&&j.increaseIndentPattern.test(we)?(pe=J(pe),le=J(le)):j.indentNextLinePattern&&j.indentNextLinePattern.test(we)&&(pe=J(pe)),H++;for(let Pe=H;Pe<=V;Pe++){const Ne=O.getLineContent(Pe),ae=U.V8(Ne),Me=pe+Ne.substring(ae.length);j.decreaseIndentPattern&&j.decreaseIndentPattern.test(Me)&&(pe=X(pe),le=X(le)),ae!==pe&&te.push(c.h.replaceMove(new I.Y(Pe,1,Pe,ae.length+1),(0,n.x)(pe,K,m))),!(j.unIndentedLinePattern&&j.unIndentedLinePattern.test(Ne))&&(j.increaseIndentPattern&&j.increaseIndentPattern.test(Me)?(le=J(le),pe=le):j.indentNextLinePattern&&j.indentNextLinePattern.test(Me)?pe=J(pe):pe=le)}return te}class S extends r.R6{constructor(){super({id:S.ID,label:u.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:M.u.writable})}run(P,H){const V=H.getModel();if(!V)return;const G=V.getOptions(),j=H.getSelection();if(!j)return;const F=new L(j,G.tabSize);H.pushUndoStop(),H.executeCommands(this.id,[F]),H.pushUndoStop(),V.updateOptions({insertSpaces:!0})}}S.ID="editor.action.indentationToSpaces";class g extends r.R6{constructor(){super({id:g.ID,label:u.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:M.u.writable})}run(P,H){const V=H.getModel();if(!V)return;const G=V.getOptions(),j=H.getSelection();if(!j)return;const F=new z(j,G.tabSize);H.pushUndoStop(),H.executeCommands(this.id,[F]),H.pushUndoStop(),V.updateOptions({insertSpaces:!1})}}g.ID="editor.action.indentationToTabs";class y extends r.R6{constructor(P,H,V){super(V),this.insertSpaces=P,this.displaySizeOnly=H}run(P,H){const V=P.get(d.eJ),G=P.get(p.q),j=H.getModel();if(!j)return;const F=G.getCreationOptions(j.getLanguageId(),j.uri,j.isForSimpleWidget),K=j.getOptions(),m=[1,2,3,4,5,6,7,8].map(X=>({id:X.toString(),label:X.toString(),description:X===F.tabSize&&X===K.tabSize?u.NC("configuredTabSize","Configured Tab Size"):X===F.tabSize?u.NC("defaultTabSize","Default Tab Size"):X===K.tabSize?u.NC("currentTabSize","Current Tab Size"):void 0})),J=Math.min(j.getOptions().tabSize-1,7);setTimeout(()=>{V.pick(m,{placeHolder:u.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:m[J]}).then(X=>{if(X&&j&&!j.isDisposed()){const te=parseInt(X.label,10);this.displaySizeOnly?j.updateOptions({tabSize:te}):j.updateOptions({tabSize:te,indentSize:te,insertSpaces:this.insertSpaces})}})},50)}}class C extends y{constructor(){super(!1,!1,{id:C.ID,label:u.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}C.ID="editor.action.indentUsingTabs";class E extends y{constructor(){super(!0,!1,{id:E.ID,label:u.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}E.ID="editor.action.indentUsingSpaces";class A extends y{constructor(){super(!0,!0,{id:A.ID,label:u.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}A.ID="editor.action.changeTabDisplaySize";class N extends r.R6{constructor(){super({id:N.ID,label:u.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(P,H){const V=P.get(p.q),G=H.getModel();if(!G)return;const j=V.getCreationOptions(G.getLanguageId(),G.uri,G.isForSimpleWidget);G.detectIndentation(j.insertSpaces,j.tabSize)}}N.ID="editor.action.detectIndentation";class B extends r.R6{constructor(){super({id:"editor.action.reindentlines",label:u.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:M.u.writable})}run(P,H){const V=P.get(D.c_),G=H.getModel();if(!G)return;const j=a(G,V,1,G.getLineCount());j.length>0&&(H.pushUndoStop(),H.executeEdits(this.id,j),H.pushUndoStop())}}class W extends r.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:u.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:M.u.writable})}run(P,H){const V=P.get(D.c_),G=H.getModel();if(!G)return;const j=H.getSelections();if(j===null)return;const F=[];for(const K of j){let m=K.startLineNumber,J=K.endLineNumber;if(m!==J&&K.endColumn===1&&J--,m===1){if(m===J)continue}else m--;const X=a(G,V,m,J);F.push(...X)}F.length>0&&(H.pushUndoStop(),H.executeEdits(this.id,F),H.pushUndoStop())}}class ${constructor(P,H){this._initialSelection=H,this._edits=[],this._selectionId=null;for(const V of P)V.range&&typeof V.text=="string"&&this._edits.push(V)}getEditOperations(P,H){for(const G of this._edits)H.addEditOperation(_.e.lift(G.range),G.text);let V=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(V=!0,this._selectionId=H.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(V=!0,this._selectionId=H.trackSelection(this._initialSelection,!1))),V||(this._selectionId=H.trackSelection(this._initialSelection))}computeCursorState(P,H){return H.getTrackedSelection(this._selectionId)}}let Y=class{constructor(P,H){this.editor=P,this._languageConfigurationService=H,this.callOnDispose=new b.SL,this.callOnModel=new b.SL,this.callOnDispose.add(P.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(P.onDidChangeModel(()=>this.update())),this.callOnDispose.add(P.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:P})=>{this.trigger(P)}))}trigger(P){const H=this.editor.getSelections();if(H===null||H.length>1)return;const V=this.editor.getModel();if(!V||!V.tokenization.isCheapToTokenize(P.getStartPosition().lineNumber))return;const G=this.editor.getOption(12),{tabSize:j,indentSize:F,insertSpaces:K}=V.getOptions(),m=[],J={shiftIndent:ge=>w.U.shiftIndent(ge,ge.length+1,j,F,K),unshiftIndent:ge=>w.U.unshiftIndent(ge,ge.length+1,j,F,K)};let X=P.startLineNumber;for(;X<=P.endLineNumber;){if(this.shouldIgnoreLine(V,X)){X++;continue}break}if(X>P.endLineNumber)return;let te=V.getLineContent(X);if(!/\S/.test(te.substring(0,P.startColumn-1))){const ge=(0,i.n8)(G,V,V.getLanguageId(),X,J,this._languageConfigurationService);if(ge!==null){const we=U.V8(te),pe=o.Y(ge,j),Pe=o.Y(we,j);if(pe!==Pe){const Ne=o.J(pe,j,K);m.push({range:new _.e(X,1,X,we.length+1),text:Ne}),te=Ne+te.substr(we.length)}else{const Ne=(0,i.tI)(V,X,this._languageConfigurationService);if(Ne===0||Ne===8)return}}}const le=X;for(;X<P.endLineNumber;){if(!/\S/.test(V.getLineContent(X+1))){X++;continue}break}if(X!==P.endLineNumber){const ge={tokenization:{getLineTokens:pe=>V.tokenization.getLineTokens(pe),getLanguageId:()=>V.getLanguageId(),getLanguageIdAtPosition:(pe,Pe)=>V.getLanguageIdAtPosition(pe,Pe)},getLineContent:pe=>pe===le?te:V.getLineContent(pe)},we=(0,i.n8)(G,ge,V.getLanguageId(),X+1,J,this._languageConfigurationService);if(we!==null){const pe=o.Y(we,j),Pe=o.Y(U.V8(V.getLineContent(X+1)),j);if(pe!==Pe){const Ne=pe-Pe;for(let ae=X+1;ae<=P.endLineNumber;ae++){const Me=V.getLineContent(ae),ke=U.V8(Me),Le=o.Y(ke,j)+Ne,ie=o.J(Le,j,K);ie!==ke&&m.push({range:new _.e(ae,1,ae,ke.length+1),text:ie})}}}}if(m.length>0){this.editor.pushUndoStop();const ge=new $(m,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",ge),this.editor.pushUndoStop()}}shouldIgnoreLine(P,H){P.tokenization.forceTokenization(H);const V=P.getLineFirstNonWhitespaceColumn(H);if(V===0)return!0;const G=P.tokenization.getLineTokens(H);if(G.getCount()>0){const j=G.findTokenIndexAtOffset(V);if(j>=0&&G.getStandardTokenType(j)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};Y.ID="editor.contrib.autoIndentOnPaste",Y=f([v(1,D.c_)],Y);function R(O,P,H,V){if(O.getLineCount()===1&&O.getLineMaxColumn(1)===1)return;let G="";for(let F=0;F<H;F++)G+=" ";const j=new RegExp(G,"gi");for(let F=1,K=O.getLineCount();F<=K;F++){let m=O.getLineFirstNonWhitespaceColumn(F);if(m===0&&(m=O.getLineMaxColumn(F)),m===1)continue;const J=new _.e(F,1,F,m),X=O.getValueInRange(J),te=V?X.replace(/\t/ig,G):X.replace(j,"	");P.addEditOperation(J,te)}}class L{constructor(P,H){this.selection=P,this.tabSize=H,this.selectionId=null}getEditOperations(P,H){this.selectionId=H.trackSelection(this.selection),R(P,H,this.tabSize,!0)}computeCursorState(P,H){return H.getTrackedSelection(this.selectionId)}}class z{constructor(P,H){this.selection=P,this.tabSize=H,this.selectionId=null}getEditOperations(P,H){this.selectionId=H.trackSelection(this.selection),R(P,H,this.tabSize,!1)}computeCursorState(P,H){return H.getTrackedSelection(this.selectionId)}}(0,r._K)(Y.ID,Y,2),(0,r.Qr)(S),(0,r.Qr)(g),(0,r.Qr)(C),(0,r.Qr)(E),(0,r.Qr)(A),(0,r.Qr)(N),(0,r.Qr)(B),(0,r.Qr)(W)},8469:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(66520),r=e(65321),w=e(9488),c=e(15393),_=e(71050),I=e(17301),M=e(5976),D=e(43702),p=e(98401),o=e(70666),u=e(29994),d=e(43407),n=e(64141),i=e(69386),f=e(24314),v=e(43155),a=e(84973),S=e(84901),g=e(88191),y=e(71922),C=e(88216),E=e(82005),A=e(50187),N=e(66663);class B{constructor(ye,Se){this.range=ye,this.direction=Se}}class W{constructor(ye,Se,me){this.hint=ye,this.anchor=Se,this.provider=me,this._isResolved=!1}with(ye){const Se=new W(this.hint,ye.anchor,this.provider);return Se._isResolved=this._isResolved,Se._currentResolve=this._currentResolve,Se}resolve(ye){return tn(this,null,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,ye.isCancellationRequested?void 0:this.resolve(ye);this._isResolved||(this._currentResolve=this._doResolve(ye).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(ye){return tn(this,null,function*(){var Se,me;try{const he=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,ye));this.hint.tooltip=(Se=he==null?void 0:he.tooltip)!==null&&Se!==void 0?Se:this.hint.tooltip,this.hint.label=(me=he==null?void 0:he.label)!==null&&me!==void 0?me:this.hint.label,this._isResolved=!0}catch(he){(0,I.Cp)(he),this._isResolved=!1}})}}class ${static create(ye,Se,me,he){return tn(this,null,function*(){const se=[],ve=ye.ordered(Se).reverse().map(xe=>me.map(je=>tn(this,null,function*(){try{const Oe=yield xe.provideInlayHints(Se,je,he);Oe!=null&&Oe.hints.length&&se.push([Oe,xe])}catch(Oe){(0,I.Cp)(Oe)}})));if(yield Promise.all(ve.flat()),he.isCancellationRequested||Se.isDisposed())throw new I.FU;return new $(me,se,Se)})}constructor(ye,Se,me){this._disposables=new M.SL,this.ranges=ye,this.provider=new Set;const he=[];for(const[se,ve]of Se){this._disposables.add(se),this.provider.add(ve);for(const xe of se.hints){const je=me.validatePosition(xe.position);let Oe="before";const Ze=$._getRangeAtPosition(me,je);let it;Ze.getStartPosition().isBefore(je)?(it=f.e.fromPositions(Ze.getStartPosition(),je),Oe="after"):(it=f.e.fromPositions(je,Ze.getEndPosition()),Oe="before"),he.push(new W(xe,new B(it,Oe),ve))}}this.items=he.sort((se,ve)=>A.L.compare(se.hint.position,ve.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(ye,Se){const me=Se.lineNumber,he=ye.getWordAtPosition(Se);if(he)return new f.e(me,he.startColumn,me,he.endColumn);ye.tokenization.tokenizeIfCheap(me);const se=ye.tokenization.getLineTokens(me),ve=Se.column-1,xe=se.findTokenIndexAtOffset(ve);let je=se.getStartOffset(xe),Oe=se.getEndOffset(xe);return Oe-je===1&&(je===ve&&xe>1?(je=se.getStartOffset(xe-1),Oe=se.getEndOffset(xe-1)):Oe===ve&&xe<se.getCount()-1&&(je=se.getStartOffset(xe+1),Oe=se.getEndOffset(xe+1))),new f.e(me,je+1,me,Oe+1)}}function Y(Re){return o.o.from({scheme:N.lg.command,path:Re.id,query:Re.arguments&&encodeURIComponent(JSON.stringify(Re.arguments))}).toString()}var R=e(58722),L=e(94565),z=e(65026),O=e(72065),P=e(48894),H=e(73910),V=e(97781),G=function(Re,ye,Se,me){var he=arguments.length,se=he<3?ye:me===null?me=Object.getOwnPropertyDescriptor(ye,Se):me,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Re,ye,Se,me);else for(var xe=Re.length-1;xe>=0;xe--)(ve=Re[xe])&&(se=(he<3?ve(se):he>3?ve(ye,Se,se):ve(ye,Se))||se);return he>3&&se&&Object.defineProperty(ye,Se,se),se},j=function(Re,ye){return function(Se,me){ye(Se,me,Re)}},F;class K{constructor(){this._entries=new D.z6(50)}get(ye){const Se=K._key(ye);return this._entries.get(Se)}set(ye,Se){const me=K._key(ye);this._entries.set(me,Se)}static _key(ye){return`${ye.uri.toString()}/${ye.getVersionId()}`}}const m=(0,O.yh)("IInlayHintsCache");(0,z.z)(m,K,1);class J{constructor(ye,Se){this.item=ye,this.index=Se}get part(){const ye=this.item.hint.label;return typeof ye=="string"?{label:ye}:ye[this.index]}}class X{constructor(ye,Se){this.part=ye,this.hasTriggerModifier=Se}}let te=F=class{static get(ye){var Se;return(Se=ye.getContribution(F.ID))!==null&&Se!==void 0?Se:void 0}constructor(ye,Se,me,he,se,ve,xe){this._editor=ye,this._languageFeaturesService=Se,this._inlayHintsCache=he,this._commandService=se,this._notificationService=ve,this._instaService=xe,this._disposables=new M.SL,this._sessionDisposables=new M.SL,this._decorationsMetadata=new Map,this._ruleFactory=new u.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=me.for(Se.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Se.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(ye.onDidChangeModel(()=>this._update())),this._disposables.add(ye.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(ye.onDidChangeConfiguration(je=>{je.hasChanged(139)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const ye=this._editor.getOption(139);if(ye.enabled==="off")return;const Se=this._editor.getModel();if(!Se||!this._languageFeaturesService.inlayHintsProvider.has(Se))return;const me=this._inlayHintsCache.get(Se);me&&this._updateHintsDecorators([Se.getFullModelRange()],me),this._sessionDisposables.add((0,M.OF)(()=>{Se.isDisposed()||this._cacheHintsForFastRestore(Se)}));let he;const se=new Set,ve=new c.pY(()=>tn(this,null,function*(){const xe=Date.now();he==null||he.dispose(!0),he=new _.A;const je=Se.onWillDispose(()=>he==null?void 0:he.cancel());try{const Oe=he.token,Ze=yield $.create(this._languageFeaturesService.inlayHintsProvider,Se,this._getHintsRanges(),Oe);if(ve.delay=this._debounceInfo.update(Se,Date.now()-xe),Oe.isCancellationRequested){Ze.dispose();return}for(const it of Ze.provider)typeof it.onDidChangeInlayHints=="function"&&!se.has(it)&&(se.add(it),this._sessionDisposables.add(it.onDidChangeInlayHints(()=>{ve.isScheduled()||ve.schedule()})));this._sessionDisposables.add(Ze),this._updateHintsDecorators(Ze.ranges,Ze.items),this._cacheHintsForFastRestore(Se)}catch(Oe){(0,I.dL)(Oe)}finally{he.dispose(),je.dispose()}}),this._debounceInfo.get(Se));if(this._sessionDisposables.add(ve),this._sessionDisposables.add((0,M.OF)(()=>he==null?void 0:he.dispose(!0))),ve.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(xe=>{(xe.scrollTopChanged||!ve.isScheduled())&&ve.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(xe=>{const je=Math.max(ve.delay,1250);ve.schedule(je)})),ye.enabled==="on")this._activeRenderMode=0;else{let xe,je;ye.enabled==="onUnlessPressed"?(xe=0,je=1):(xe=1,je=0),this._activeRenderMode=xe,this._sessionDisposables.add(r._q.getInstance().event(Oe=>{if(!this._editor.hasModel())return;const Ze=Oe.altKey&&Oe.ctrlKey&&!(Oe.shiftKey||Oe.metaKey)?je:xe;if(Ze!==this._activeRenderMode){this._activeRenderMode=Ze;const it=this._editor.getModel(),Et=this._copyInlayHintsWithCurrentAnchor(it);this._updateHintsDecorators([it.getFullModelRange()],Et),ve.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ve.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const ye=new M.SL,Se=ye.add(new E.yN(this._editor)),me=new M.SL;return ye.add(me),ye.add(Se.onMouseMoveOrRelevantKeyDown(he=>{const[se]=he,ve=this._getInlayHintLabelPart(se),xe=this._editor.getModel();if(!ve||!xe){me.clear();return}const je=new _.A;me.add((0,M.OF)(()=>je.dispose(!0))),ve.item.resolve(je.token),this._activeInlayHintPart=ve.part.command||ve.part.location?new X(ve,se.hasTriggerModifier):void 0;const Oe=xe.validatePosition(ve.item.hint.position).lineNumber,Ze=new f.e(Oe,1,Oe,xe.getLineMaxColumn(Oe)),it=this._getInlineHintsForRange(Ze);this._updateHintsDecorators([Ze],it),me.add((0,M.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Ze],it)}))})),ye.add(Se.onCancel(()=>me.clear())),ye.add(Se.onExecute(he=>tn(this,null,function*(){const se=this._getInlayHintLabelPart(he);if(se){const ve=se.part;ve.location?this._instaService.invokeFunction(R.K,he,this._editor,ve.location):v.mY.is(ve.command)&&(yield this._invokeCommand(ve.command,se.item))}}))),ye}_getInlineHintsForRange(ye){const Se=new Set;for(const me of this._decorationsMetadata.values())ye.containsRange(me.item.anchor.range)&&Se.add(me.item);return Array.from(Se)}_installDblClickGesture(ye){return this._editor.onMouseUp(Se=>tn(this,null,function*(){if(Se.event.detail!==2)return;const me=this._getInlayHintLabelPart(Se);if(me&&(Se.event.preventDefault(),yield me.item.resolve(_.T.None),(0,w.Of)(me.item.hint.textEdits))){const he=me.item.hint.textEdits.map(se=>i.h.replace(f.e.lift(se.range),se.text));this._editor.executeEdits("inlayHint.default",he),ye()}}))}_installContextMenu(){return this._editor.onContextMenu(ye=>tn(this,null,function*(){if(!(ye.event.target instanceof HTMLElement))return;const Se=this._getInlayHintLabelPart(ye);Se&&(yield this._instaService.invokeFunction(R.u,this._editor,ye.event.target,Se))}))}_getInlayHintLabelPart(ye){var Se;if(ye.target.type!==6)return;const me=(Se=ye.target.detail.injectedText)===null||Se===void 0?void 0:Se.options;if(me instanceof S.HS&&(me==null?void 0:me.attachedData)instanceof J)return me.attachedData}_invokeCommand(ye,Se){return tn(this,null,function*(){var me;try{yield this._commandService.executeCommand(ye.id,...(me=ye.arguments)!==null&&me!==void 0?me:[])}catch(he){this._notificationService.notify({severity:P.zb.Error,source:Se.provider.displayName,message:he})}})}_cacheHintsForFastRestore(ye){const Se=this._copyInlayHintsWithCurrentAnchor(ye);this._inlayHintsCache.set(ye,Se)}_copyInlayHintsWithCurrentAnchor(ye){const Se=new Map;for(const[me,he]of this._decorationsMetadata){if(Se.has(he.item))continue;const se=ye.getDecorationRange(me);if(se){const ve=new B(se,he.item.anchor.direction),xe=he.item.with({anchor:ve});Se.set(he.item,xe)}}return Array.from(Se.values())}_getHintsRanges(){const Se=this._editor.getModel(),me=this._editor.getVisibleRangesPlusViewportAboveBelow(),he=[];for(const se of me.sort(f.e.compareRangesUsingStarts)){const ve=Se.validateRange(new f.e(se.startLineNumber-30,se.startColumn,se.endLineNumber+30,se.endColumn));he.length===0||!f.e.areIntersectingOrTouching(he[he.length-1],ve)?he.push(ve):he[he.length-1]=f.e.plusRange(he[he.length-1],ve)}return he}_updateHintsDecorators(ye,Se){var me,he;const se=[],ve=(Mt,qt,Ft,Xt,_t)=>{const nt={content:Ft,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:qt.className,cursorStops:Xt,attachedData:_t};se.push({item:Mt,classNameRef:qt,decoration:{range:Mt.anchor.range,options:{description:"InlayHint",showIfCollapsed:Mt.anchor.range.isEmpty(),collapseOnReplaceEdit:!Mt.anchor.range.isEmpty(),stickiness:0,[Mt.anchor.direction]:this._activeRenderMode===0?nt:void 0}}})},xe=(Mt,qt)=>{const Ft=this._ruleFactory.createClassNameRef({width:`${je/3|0}px`,display:"inline-block"});ve(Mt,Ft,"\u200A",qt?a.RM.Right:a.RM.None)},{fontSize:je,fontFamily:Oe,padding:Ze,isUniform:it}=this._getLayoutInfo(),Et="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Et,Oe);for(const Mt of Se){Mt.hint.paddingLeft&&xe(Mt,!1);const qt=typeof Mt.hint.label=="string"?[{label:Mt.hint.label}]:Mt.hint.label;for(let Ft=0;Ft<qt.length;Ft++){const Xt=qt[Ft],_t=Ft===0,nt=Ft===qt.length-1,tt={fontSize:`${je}px`,fontFamily:`var(${Et}), ${n.hL.fontFamily}`,verticalAlign:it?"baseline":"middle",unicodeBidi:"isolate"};(0,w.Of)(Mt.hint.textEdits)&&(tt.cursor="default"),this._fillInColors(tt,Mt.hint),(Xt.command||Xt.location)&&((me=this._activeInlayHintPart)===null||me===void 0?void 0:me.part.item)===Mt&&this._activeInlayHintPart.part.index===Ft&&(tt.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(tt.color=(0,V.EN)(H._Yy),tt.cursor="pointer")),Ze&&(_t&&nt?(tt.padding=`1px ${Math.max(1,je/4)|0}px`,tt.borderRadius=`${je/4|0}px`):_t?(tt.padding=`1px 0 1px ${Math.max(1,je/4)|0}px`,tt.borderRadius=`${je/4|0}px 0 0 ${je/4|0}px`):nt?(tt.padding=`1px ${Math.max(1,je/4)|0}px 1px 0`,tt.borderRadius=`0 ${je/4|0}px ${je/4|0}px 0`):tt.padding="1px 0 1px 0"),ve(Mt,this._ruleFactory.createClassNameRef(tt),le(Xt.label),nt&&!Mt.hint.paddingRight?a.RM.Right:a.RM.None,new J(Mt,Ft))}if(Mt.hint.paddingRight&&xe(Mt,!0),se.length>F._MAX_DECORATORS)break}const st=[];for(const Mt of ye)for(const{id:qt}of(he=this._editor.getDecorationsInRange(Mt))!==null&&he!==void 0?he:[]){const Ft=this._decorationsMetadata.get(qt);Ft&&(st.push(qt),Ft.classNameRef.dispose(),this._decorationsMetadata.delete(qt))}const pt=d.Z.capture(this._editor);this._editor.changeDecorations(Mt=>{const qt=Mt.deltaDecorations(st,se.map(Ft=>Ft.decoration));for(let Ft=0;Ft<qt.length;Ft++){const Xt=se[Ft];this._decorationsMetadata.set(qt[Ft],Xt)}}),pt.restore(this._editor)}_fillInColors(ye,Se){Se.kind===v.gl.Parameter?(ye.backgroundColor=(0,V.EN)(H.phM),ye.color=(0,V.EN)(H.HCL)):Se.kind===v.gl.Type?(ye.backgroundColor=(0,V.EN)(H.bKB),ye.color=(0,V.EN)(H.hX8)):(ye.backgroundColor=(0,V.EN)(H.PpC),ye.color=(0,V.EN)(H.VVv))}_getLayoutInfo(){const ye=this._editor.getOption(139),Se=ye.padding,me=this._editor.getOption(52),he=this._editor.getOption(49);let se=ye.fontSize;(!se||se<5||se>me)&&(se=me);const ve=ye.fontFamily||he;return{fontSize:se,fontFamily:ve,padding:Se,isUniform:!Se&&ve===he&&se===me}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const ye of this._decorationsMetadata.values())ye.classNameRef.dispose();this._decorationsMetadata.clear()}};te.ID="editor.contrib.InlayHints",te._MAX_DECORATORS=1500,te=F=G([j(1,y.p),j(2,g.A),j(3,m),j(4,L.H),j(5,P.lT),j(6,O.TG)],te);function le(Re){const ye="\xA0";return Re.replace(/[ \t]/g,ye)}L.P.registerCommand("_executeInlayHintProvider",(Re,...ye)=>tn(this,null,function*(){const[Se,me]=ye;(0,p.p_)(o.o.isUri(Se)),(0,p.p_)(f.e.isIRange(me));const{inlayHintsProvider:he}=Re.get(y.p),se=yield Re.get(C.S).createModelReference(Se);try{const ve=yield $.create(he,se.object.textEditorModel,[f.e.lift(me)],_.T.None),xe=ve.items.map(je=>je.hint);return setTimeout(()=>ve.dispose(),0),xe}finally{se.dispose()}}));var ge=e(59365),we=e(72042),pe=e(41095),Pe=e(22374),Ne=e(33108),ae=e(50988),Me=e(63580),ke=e(1432),Ue=function(Re,ye,Se,me){var he=arguments.length,se=he<3?ye:me===null?me=Object.getOwnPropertyDescriptor(ye,Se):me,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Re,ye,Se,me);else for(var xe=Re.length-1;xe>=0;xe--)(ve=Re[xe])&&(se=(he<3?ve(se):he>3?ve(ye,Se,se):ve(ye,Se))||se);return he>3&&se&&Object.defineProperty(ye,Se,se),se},Le=function(Re,ye){return function(Se,me){ye(Se,me,Re)}};class ie extends U.YM{constructor(ye,Se,me,he){super(10,Se,ye.item.anchor.range,me,he,!0),this.part=ye}}let ce=class extends Pe.D5{constructor(ye,Se,me,he,se,ve){super(ye,Se,me,he,ve),this._resolverService=se,this.hoverOrdinal=6}suggestHoverAnchor(ye){var Se;if(!te.get(this._editor)||ye.target.type!==6)return null;const he=(Se=ye.target.detail.injectedText)===null||Se===void 0?void 0:Se.options;return he instanceof S.HS&&he.attachedData instanceof J?new ie(he.attachedData,this,ye.event.posx,ye.event.posy):null}computeSync(){return[]}computeAsync(ye,Se,me){return ye instanceof ie?new c.Aq(he=>tn(this,null,function*(){const{part:se}=ye;if(yield se.item.resolve(me),me.isCancellationRequested)return;let ve;typeof se.item.hint.tooltip=="string"?ve=new ge.W5().appendText(se.item.hint.tooltip):se.item.hint.tooltip&&(ve=se.item.hint.tooltip),ve&&he.emitOne(new Pe.hU(this,ye.range,[ve],!1,0)),(0,w.Of)(se.item.hint.textEdits)&&he.emitOne(new Pe.hU(this,ye.range,[new ge.W5().appendText((0,Me.NC)("hint.dbl","Double-click to insert"))],!1,10001));let xe;if(typeof se.part.tooltip=="string"?xe=new ge.W5().appendText(se.part.tooltip):se.part.tooltip&&(xe=se.part.tooltip),xe&&he.emitOne(new Pe.hU(this,ye.range,[xe],!1,1)),se.part.location||se.part.command){let st;const Mt=this._editor.getOption(77)==="altKey"?ke.dz?(0,Me.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,Me.NC)("links.navigate.kb.meta","ctrl + click"):ke.dz?(0,Me.NC)("links.navigate.kb.alt.mac","option + click"):(0,Me.NC)("links.navigate.kb.alt","alt + click");se.part.location&&se.part.command?st=new ge.W5().appendText((0,Me.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Mt)):se.part.location?st=new ge.W5().appendText((0,Me.NC)("hint.def","Go to Definition ({0})",Mt)):se.part.command&&(st=new ge.W5(`[${(0,Me.NC)("hint.cmd","Execute Command")}](${Y(se.part.command)} "${se.part.command.title}") (${Mt})`,{isTrusted:!0})),st&&he.emitOne(new Pe.hU(this,ye.range,[st],!1,1e4))}const je=yield this._resolveInlayHintLabelPartHover(se,me);try{for(var Oe=la(je),Ze,it,Et;Ze=!(it=yield Oe.next()).done;Ze=!1){const st=it.value;he.emitOne(st)}}catch(it){Et=[it]}finally{try{Ze&&(it=Oe.return)&&(yield it.call(Oe))}finally{if(Et)throw Et[0]}}})):c.Aq.EMPTY}_resolveInlayHintLabelPartHover(ye,Se){return tn(this,null,function*(){if(!ye.part.location)return c.Aq.EMPTY;const{uri:me,range:he}=ye.part.location,se=yield this._resolverService.createModelReference(me);try{const ve=se.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(ve)?(0,pe.R8)(this._languageFeaturesService.hoverProvider,ve,new A.L(he.startLineNumber,he.startColumn),Se).filter(xe=>!(0,ge.CP)(xe.hover.contents)).map(xe=>new Pe.hU(this,ye.item.anchor.range,xe.hover.contents,!1,2+xe.ordinal)):c.Aq.EMPTY}finally{se.dispose()}})}};ce=Ue([Le(1,we.O),Le(2,ae.v),Le(3,Ne.Ui),Le(4,C.S),Le(5,y.p)],ce),(0,b._K)(te.ID,te,1),U.Ae.register(ce)},58722:function(Ot,Ke,e){"use strict";e.d(Ke,{K:function(){return f},u:function(){return i}});var b=e(65321),U=e(74741),r=e(71050),w=e(98e3),c=e(24314),_=e(88216),I=e(95817),M=e(60865),D=e(84144),p=e(94565),o=e(32064),u=e(5606),d=e(72065),n=e(48894);function i(v,a,S,g){return tn(this,null,function*(){var y;const C=v.get(_.S),E=v.get(u.i),A=v.get(p.H),N=v.get(d.TG),B=v.get(n.lT);if(yield g.item.resolve(r.T.None),!g.part.location)return;const W=g.part.location,$=[],Y=new Set(D.BH.getMenuItems(D.eH.EditorContext).map(L=>(0,D.vr)(L)?L.command.id:(0,w.R)()));for(const L of I.Bj.all())Y.has(L.desc.id)&&$.push(new U.aU(L.desc.id,D.U8.label(L.desc,{renderShortTitle:!0}),void 0,!0,()=>tn(this,null,function*(){const z=yield C.createModelReference(W.uri);try{const O=new I._k(z.object.textEditorModel,c.e.getStartPosition(W.range)),P=g.item.anchor.range;yield N.invokeFunction(L.runEditorCommand.bind(L),a,O,P)}finally{z.dispose()}})));if(g.part.command){const{command:L}=g.part;$.push(new U.Z0),$.push(new U.aU(L.id,L.title,void 0,!0,()=>tn(this,null,function*(){var z;try{yield A.executeCommand(L.id,...(z=L.arguments)!==null&&z!==void 0?z:[])}catch(O){B.notify({severity:n.zb.Error,source:g.item.provider.displayName,message:O})}})))}const R=a.getOption(126);E.showContextMenu({domForShadowRoot:R&&(y=a.getDomNode())!==null&&y!==void 0?y:void 0,getAnchor:()=>{const L=b.i(S);return{x:L.left,y:L.top+L.height+8}},getActions:()=>$,onHide:()=>{a.focus()},autoSelectFirstItem:!0})})}function f(v,a,S,g){return tn(this,null,function*(){const C=yield v.get(_.S).createModelReference(g.uri);yield S.invokeWithinContext(E=>tn(this,null,function*(){const A=a.hasSideBySideModifier,N=E.get(o.i6),B=M.Jy.inPeekEditor.getValue(N),W=!A&&S.getOption(87)&&!B;return new I.BT({openToSide:A,openInPeek:W,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(E,new I._k(C.object.textEditorModel,c.e.getStartPosition(g.range)),c.e.lift(g.range))})),C.dispose()})}},96020:function(Ot,Ke,e){"use strict";e.d(Ke,{Np:function(){return U},OW:function(){return r},Ou:function(){return b}});const b="editor.action.inlineSuggest.commit",U="editor.action.inlineSuggest.showPrevious",r="editor.action.inlineSuggest.showNext"},78573:function(Ot,Ke,e){"use strict";e.d(Ke,{f:function(){return I}});var b=e(99692),U=e(97295),r=e(7988),w=e(32064),c=e(5976),_=e(63580);class I extends c.JT{constructor(D,p){super(),this.contextKeyService=D,this.model=p,this.inlineCompletionVisible=I.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=I.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=I.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=I.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,b.EH)(o=>{const u=this.model.read(o),d=u==null?void 0:u.state.read(o),n=!!(d!=null&&d.inlineCompletion)&&(d==null?void 0:d.ghostText)!==void 0&&!(d!=null&&d.ghostText.isEmpty());this.inlineCompletionVisible.set(n),d!=null&&d.ghostText&&(d!=null&&d.inlineCompletion)&&this.suppressSuggestions.set(d.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,b.EH)(o=>{const u=this.model.read(o);let d=!1,n=!0;const i=u==null?void 0:u.ghostText.read(o);if(u!=null&&u.selectedSuggestItem&&i&&i.parts.length>0){const{column:f,lines:v}=i.parts[0],a=v[0],S=u.textModel.getLineIndentColumn(i.lineNumber);if(f<=S){let y=(0,U.LC)(a);y===-1&&(y=a.length-1),d=y>0;const C=u.textModel.getOptions().tabSize;n=r.i.visibleColumnFromColumn(a,y+1,C)<C}}this.inlineCompletionSuggestsIndentation.set(d),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}))}}I.inlineSuggestionVisible=new w.uy("inlineSuggestionVisible",!1,(0,_.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),I.inlineSuggestionHasIndentation=new w.uy("inlineSuggestionHasIndentation",!1,(0,_.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),I.inlineSuggestionHasIndentationLessThanTabSize=new w.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,_.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),I.suppressSuggestions=new w.uy("inlineSuggestionSuppressSuggestions",void 0,(0,_.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},42961:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(66520),r=e(99692),w=e(96512),c=e(29102),_=e(96020),I=e(78573),M=e(35996),D=e(5976),p=e(42549),o=e(50187),u=e(88191),d=e(71922),n=e(77514),i=e(4669),f=e(97295),v=e(52136),a=e(64141),S=e(24314),g=e(50072),y=e(72042),C=e(84973),E=e(77378),A=e(92550),N=e(72202),B=e(17301);function W(Ee,be){const Ae=new $(Ee),He=be.map(Ye=>{const ht=S.e.lift(Ye.range);return{startOffset:Ae.getOffset(ht.getStartPosition()),endOffset:Ae.getOffset(ht.getEndPosition()),text:Ye.text}});He.sort((Ye,ht)=>ht.startOffset-Ye.startOffset);for(const Ye of He)Ee=Ee.substring(0,Ye.startOffset)+Ye.text+Ee.substring(Ye.endOffset);return Ee}class ${constructor(be){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let Ae=0;Ae<be.length;Ae++)be.charAt(Ae)===`
`&&this.lineStartOffsetByLineIdx.push(Ae+1)}getOffset(be){return this.lineStartOffsetByLineIdx[be.lineNumber-1]+be.column-1}}const Y=[];function R(){return Y}class L{constructor(be,Ae){if(this.startColumn=be,this.endColumnExclusive=Ae,be>Ae)throw new B.he(`startColumn ${be} cannot be after endColumnExclusive ${Ae}`)}toRange(be){return new S.e(be,this.startColumn,be,this.endColumnExclusive)}equals(be){return this.startColumn===be.startColumn&&this.endColumnExclusive===be.endColumnExclusive}}function z(Ee,be){const Ae=new D.SL,He=Ee.createDecorationsCollection();return Ae.add((0,r.UV)({debugName:()=>`Apply decorations from ${be.debugName}`},Ye=>{const ht=be.read(Ye);He.set(ht)})),Ae.add({dispose:()=>{He.clear()}}),Ae}function O(Ee,be){return new o.L(Ee.lineNumber+be.lineNumber-1,be.lineNumber===1?Ee.column+be.column-1:be.column)}function P(Ee){let be=1,Ae=1;for(const He of Ee)He===`
`?(be++,Ae=1):Ae++;return new o.L(be,Ae)}class H{constructor(be,Ae){this.lineNumber=be,this.parts=Ae}equals(be){return this.lineNumber===be.lineNumber&&this.parts.length===be.parts.length&&this.parts.every((Ae,He)=>Ae.equals(be.parts[He]))}renderForScreenReader(be){if(this.parts.length===0)return"";const Ae=this.parts[this.parts.length-1],He=be.substr(0,Ae.column-1);return W(He,this.parts.map(ht=>({range:{startLineNumber:1,endLineNumber:1,startColumn:ht.column,endColumn:ht.column},text:ht.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(be=>be.lines.length===0)}get lineCount(){return 1+this.parts.reduce((be,Ae)=>be+Ae.lines.length-1,0)}}class V{constructor(be,Ae,He){this.column=be,this.lines=Ae,this.preview=He}equals(be){return this.column===be.column&&this.lines.length===be.lines.length&&this.lines.every((Ae,He)=>Ae===be.lines[He])}}class G{constructor(be,Ae,He,Ye=0){this.lineNumber=be,this.columnRange=Ae,this.newLines=He,this.additionalReservedLineCount=Ye,this.parts=[new V(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(be){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(be=>be.lines.length===0)}equals(be){return this.lineNumber===be.lineNumber&&this.columnRange.equals(be.columnRange)&&this.newLines.length===be.newLines.length&&this.newLines.every((Ae,He)=>Ae===be.newLines[He])&&this.additionalReservedLineCount===be.additionalReservedLineCount}}function j(Ee,be){return Ee===be?!0:!Ee||!be?!1:Ee instanceof H&&be instanceof H||Ee instanceof G&&be instanceof G?Ee.equals(be):!1}var F=function(Ee,be,Ae,He){var Ye=arguments.length,ht=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,Ae):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(Ee,be,Ae,He);else for(var gn=Ee.length-1;gn>=0;gn--)($t=Ee[gn])&&(ht=(Ye<3?$t(ht):Ye>3?$t(be,Ae,ht):$t(be,Ae))||ht);return Ye>3&&ht&&Object.defineProperty(be,Ae,ht),ht},K=function(Ee,be){return function(Ae,He){be(Ae,He,Ee)}};const m="ghost-text";let J=class extends D.JT{constructor(be,Ae,He){super(),this.editor=be,this.model=Ae,this.languageService=He,this.isDisposed=(0,r.uh)(this,!1),this.currentTextModel=(0,r.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,r.nK)(this,Ye=>{if(this.isDisposed.read(Ye))return;const ht=this.currentTextModel.read(Ye);if(ht!==this.model.targetTextModel.read(Ye))return;const $t=this.model.ghostText.read(Ye);if(!$t)return;const gn=$t instanceof G?$t.columnRange:void 0,dn=[],ln=[];function ct(zt,_n){if(ln.length>0){const hn=ln[ln.length-1];_n&&hn.decorations.push(new A.Kp(hn.content.length+1,hn.content.length+1+zt[0].length,_n,0)),hn.content+=zt[0],zt=zt.slice(1)}for(const hn of zt)ln.push({content:hn,decorations:_n?[new A.Kp(1,hn.length+1,_n,0)]:[]})}const Pt=ht.getLineContent($t.lineNumber);let Nt,Tt=0;for(const zt of $t.parts){let _n=zt.lines;Nt===void 0?(dn.push({column:zt.column,text:_n[0],preview:zt.preview}),_n=_n.slice(1)):ct([Pt.substring(Tt,zt.column-1)],void 0),_n.length>0&&(ct(_n,m),Nt===void 0&&zt.column<=Pt.length&&(Nt=zt.column)),Tt=zt.column-1}Nt!==void 0&&ct([Pt.substring(Tt)],void 0);const Zt=Nt!==void 0?new L(Nt,Pt.length+1):void 0;return{replacedRange:gn,inlineTexts:dn,additionalLines:ln,hiddenRange:Zt,lineNumber:$t.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(Ye),targetTextModel:ht}}),this.decorations=(0,r.nK)(this,Ye=>{const ht=this.uiState.read(Ye);if(!ht)return[];const $t=[];ht.replacedRange&&$t.push({range:ht.replacedRange.toRange(ht.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),ht.hiddenRange&&$t.push({range:ht.hiddenRange.toRange(ht.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const gn of ht.inlineTexts)$t.push({range:S.e.fromPositions(new o.L(ht.lineNumber,gn.column)),options:{description:m,after:{content:gn.text,inlineClassName:gn.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:C.RM.Left},showIfCollapsed:!0}});return $t}),this.additionalLinesWidget=this._register(new X(this.editor,this.languageService.languageIdCodec,(0,r.nK)(Ye=>{const ht=this.uiState.read(Ye);return ht?{lineNumber:ht.lineNumber,additionalLines:ht.additionalLines,minReservedLineCount:ht.additionalReservedLineCount,targetTextModel:ht.targetTextModel}:void 0}))),this._register((0,D.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register(z(this.editor,this.decorations))}ownsViewZone(be){return this.additionalLinesWidget.viewZoneId===be}};J=F([K(2,y.O)],J);class X extends D.JT{get viewZoneId(){return this._viewZoneId}constructor(be,Ae,He){super(),this.editor=be,this.languageIdCodec=Ae,this.lines=He,this._viewZoneId=void 0,this.editorOptionsChanged=(0,r.aq)("editorOptionChanged",i.ju.filter(this.editor.onDidChangeConfiguration,Ye=>Ye.hasChanged(33)||Ye.hasChanged(116)||Ye.hasChanged(98)||Ye.hasChanged(93)||Ye.hasChanged(51)||Ye.hasChanged(50)||Ye.hasChanged(66))),this._register((0,r.EH)(Ye=>{const ht=this.lines.read(Ye);this.editorOptionsChanged.read(Ye),ht?this.updateLines(ht.lineNumber,ht.additionalLines,ht.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(be=>{this._viewZoneId&&(be.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(be,Ae,He){const Ye=this.editor.getModel();if(!Ye)return;const{tabSize:ht}=Ye.getOptions();this.editor.changeViewZones($t=>{this._viewZoneId&&($t.removeZone(this._viewZoneId),this._viewZoneId=void 0);const gn=Math.max(Ae.length,He);if(gn>0){const dn=document.createElement("div");te(dn,ht,Ae,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=$t.addZone({afterLineNumber:be,heightInLines:gn,domNode:dn,afterColumnAffinity:1})}})}}function te(Ee,be,Ae,He,Ye){const ht=He.get(33),$t=He.get(116),gn="none",dn=He.get(93),ln=He.get(51),ct=He.get(50),Pt=He.get(66),Nt=new g.HT(1e4);Nt.appendString('<div class="suggest-preview-text">');for(let zt=0,_n=Ae.length;zt<_n;zt++){const hn=Ae[zt],Mn=hn.content;Nt.appendString('<div class="view-line'),Nt.appendString('" style="top:'),Nt.appendString(String(zt*Pt)),Nt.appendString('px;width:1000000px;">');const Rn=f.$i(Mn),ni=f.Ut(Mn),gi=E.A.createEmpty(Mn,Ye);(0,N.d1)(new N.IJ(ct.isMonospace&&!ht,ct.canUseHalfwidthRightwardsArrow,Mn,!1,Rn,ni,0,gi,hn.decorations,be,0,ct.spaceWidth,ct.middotWidth,ct.wsmiddotWidth,$t,gn,dn,ln!==a.n0.OFF,null),Nt),Nt.appendString("</div>")}Nt.appendString("</div>"),(0,v.N)(Ee,ct);const Tt=Nt.build(),Zt=le?le.createHTML(Tt):Tt;Ee.innerHTML=Zt}const le=(0,n.Z)("editorGhostText",{createHTML:Ee=>Ee});var ge=e(73485),we=e(35534),pe=e(98401),Pe=e(69386),Ne=e(43155),ae=e(4256),Me=e(71050),ke=e(60075),Ue=e(35146),Le=e(15393),ie=e(43702),ce=e(35382),Re=e(45035),ye=e(64837),Se=e(61761),me=e(6735);function he(Ee,be){const Ae=new Se.FE,He=new ce.Z(Ae,ln=>be.getLanguageConfiguration(ln)),Ye=new me.xH(new se([Ee]),He),ht=(0,ye.w)(Ye,[],void 0,!0);let $t="";const gn=Ee.getLineContent();function dn(ln,ct){if(ln.kind===2)if(dn(ln.openingBracket,ct),ct=(0,Re.Ii)(ct,ln.openingBracket.length),ln.child&&(dn(ln.child,ct),ct=(0,Re.Ii)(ct,ln.child.length)),ln.closingBracket)dn(ln.closingBracket,ct),ct=(0,Re.Ii)(ct,ln.closingBracket.length);else{const Nt=He.getSingleLanguageBracketTokens(ln.openingBracket.languageId).findClosingTokenText(ln.openingBracket.bracketIds);$t+=Nt}else if(ln.kind!==3){if(ln.kind===0||ln.kind===1)$t+=gn.substring((0,Re.F_)(ct),(0,Re.F_)((0,Re.Ii)(ct,ln.length)));else if(ln.kind===4)for(const Pt of ln.children)dn(Pt,ct),ct=(0,Re.Ii)(ct,Pt.length)}}return dn(ht,Re.xl),$t}class se{constructor(be){this.lines=be,this.tokenization={getLineTokens:Ae=>this.lines[Ae-1]}}getLineCount(){return this.lines.length}getLineLength(be){return this.lines[be-1].getLineContent().length}}var ve=e(35084);function xe($t,gn,dn,ln){return tn(this,arguments,function*(Ee,be,Ae,He,Ye=Me.T.None,ht){const ct=it(be,Ae),Pt=Ee.all(Ae),Nt=new ie.ri;for(const gi of Pt)gi.groupId&&Nt.add(gi.groupId,gi);function Tt(gi){if(!gi.yieldsToGroupIds)return[];const Ii=[];for(const Bi of gi.yieldsToGroupIds||[]){const Hi=Nt.get(Bi);for(const fi of Hi)Ii.push(fi)}return Ii}const Zt=new Map,zt=new Set;function _n(gi,Ii){if(Ii=[...Ii,gi],zt.has(gi))return Ii;zt.add(gi);try{const Bi=Tt(gi);for(const Hi of Bi){const fi=_n(Hi,Ii);if(fi)return fi}}finally{zt.delete(gi)}}function hn(gi){const Ii=Zt.get(gi);if(Ii)return Ii;const Bi=_n(gi,[]);Bi&&(0,B.Cp)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${Bi.map(fi=>fi.toString?fi.toString():""+fi).join(" -> ")}`));const Hi=new Le.CR;return Zt.set(gi,Hi.p),(()=>tn(this,null,function*(){if(!Bi){const fi=Tt(gi);for(const Ci of fi){const Li=yield hn(Ci);if(Li&&Li.items.length>0)return}}try{return yield gi.provideInlineCompletions(Ae,be,He,Ye)}catch(fi){(0,B.Cp)(fi);return}}))().then(fi=>Hi.complete(fi),fi=>Hi.error(fi)),Hi.p}const Mn=yield Promise.all(Pt.map(gi=>tn(this,null,function*(){return{provider:gi,completions:yield hn(gi)}}))),Rn=new Map,ni=[];for(const gi of Mn){const Ii=gi.completions;if(!Ii)continue;const Bi=new Oe(Ii,gi.provider);ni.push(Bi);for(const Hi of Ii.items){const fi=Ze.from(Hi,Bi,ct,Ae,ht);Rn.set(fi.hash(),fi)}}return new je(Array.from(Rn.values()),new Set(Rn.keys()),ni)})}class je{constructor(be,Ae,He){this.completions=be,this.hashs=Ae,this.providerResults=He}has(be){return this.hashs.has(be.hash())}dispose(){for(const be of this.providerResults)be.removeRef()}}class Oe{constructor(be,Ae){this.inlineCompletions=be,this.provider=Ae,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class Ze{static from(be,Ae,He,Ye,ht){let $t,gn,dn=be.range?S.e.lift(be.range):He;if(typeof be.insertText=="string"){if($t=be.insertText,ht&&be.completeBracketPairs){$t=Et($t,dn.getStartPosition(),Ye,ht);const ln=$t.length-be.insertText.length;ln!==0&&(dn=new S.e(dn.startLineNumber,dn.startColumn,dn.endLineNumber,dn.endColumn+ln))}gn=void 0}else if("snippet"in be.insertText){const ln=be.insertText.snippet.length;if(ht&&be.completeBracketPairs){be.insertText.snippet=Et(be.insertText.snippet,dn.getStartPosition(),Ye,ht);const Pt=be.insertText.snippet.length-ln;Pt!==0&&(dn=new S.e(dn.startLineNumber,dn.startColumn,dn.endLineNumber,dn.endColumn+Pt))}const ct=new ve.Yj().parse(be.insertText.snippet);ct.children.length===1&&ct.children[0]instanceof ve.xv?($t=ct.children[0].value,gn=void 0):($t=ct.toString(),gn={snippet:be.insertText.snippet,range:dn})}else(0,Ue.vE)(be.insertText);return new Ze($t,be.command,dn,$t,gn,be.additionalTextEdits||R(),be,Ae)}constructor(be,Ae,He,Ye,ht,$t,gn,dn){this.filterText=be,this.command=Ae,this.range=He,this.insertText=Ye,this.snippetInfo=ht,this.additionalTextEdits=$t,this.sourceInlineCompletion=gn,this.source=dn,be=be.replace(/\r\n|\r/g,`
`),Ye=be.replace(/\r\n|\r/g,`
`)}withRange(be){return new Ze(this.filterText,this.command,be,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function it(Ee,be){const Ae=be.getWordAtPosition(Ee),He=be.getLineMaxColumn(Ee.lineNumber);return Ae?new S.e(Ee.lineNumber,Ae.startColumn,Ee.lineNumber,He):S.e.fromPositions(Ee,Ee.with(void 0,He))}function Et(Ee,be,Ae,He){const ht=Ae.getLineContent(be.lineNumber).substring(0,be.column-1)+Ee,$t=Ae.tokenization.tokenizeLineWithEdit(be,ht.length-(be.column-1),Ee),gn=$t==null?void 0:$t.sliceAndInflate(be.column-1,ht.length,0);return gn?he(gn,He):Ee}var st=e(22571);class pt{constructor(be,Ae){this.range=be,this.text=Ae}removeCommonPrefix(be,Ae){const He=Ae?this.range.intersectRanges(Ae):this.range;if(!He)return this;const Ye=be.getValueInRange(He,1),ht=(0,f.Mh)(Ye,this.text),$t=O(this.range.getStartPosition(),P(Ye.substring(0,ht))),gn=this.text.substring(ht),dn=S.e.fromPositions($t,this.range.getEndPosition());return new pt(dn,gn)}augments(be){return this.text.startsWith(be.text)&&Mt(this.range,be.range)}computeGhostText(be,Ae,He,Ye=0){let ht=this.removeCommonPrefix(be);if(ht.range.endLineNumber!==ht.range.startLineNumber)return;const $t=be.getLineContent(ht.range.startLineNumber),gn=(0,f.V8)($t).length;if(ht.range.startColumn-1<=gn){const Zt=(0,f.V8)(ht.text).length,zt=$t.substring(ht.range.startColumn-1,gn),[_n,hn]=[ht.range.getStartPosition(),ht.range.getEndPosition()],Mn=_n.column+zt.length<=hn.column?_n.delta(0,zt.length):hn,Rn=S.e.fromPositions(Mn,hn),ni=ht.text.startsWith(zt)?ht.text.substring(zt.length):ht.text.substring(Zt);ht=new pt(Rn,ni)}const ln=be.getValueInRange(ht.range),ct=Ft(ln,ht.text);if(!ct)return;const Pt=ht.range.startLineNumber,Nt=new Array;if(Ae==="prefix"){const Zt=ct.filter(zt=>zt.originalLength===0);if(Zt.length>1||Zt.length===1&&Zt[0].originalStart!==ln.length)return}const Tt=ht.text.length-Ye;for(const Zt of ct){const zt=ht.range.startColumn+Zt.originalStart+Zt.originalLength;if(Ae==="subwordSmart"&&He&&He.lineNumber===ht.range.startLineNumber&&zt<He.column||Zt.originalLength>0)return;if(Zt.modifiedLength===0)continue;const _n=Zt.modifiedStart+Zt.modifiedLength,hn=Math.max(Zt.modifiedStart,Math.min(_n,Tt)),Mn=ht.text.substring(Zt.modifiedStart,hn),Rn=ht.text.substring(hn,Math.max(Zt.modifiedStart,_n));if(Mn.length>0){const ni=(0,f.uq)(Mn);Nt.push(new V(zt,ni,!1))}if(Rn.length>0){const ni=(0,f.uq)(Rn);Nt.push(new V(zt,ni,!0))}}return new H(Pt,Nt)}}function Mt(Ee,be){return be.getStartPosition().equals(Ee.getStartPosition())&&be.getEndPosition().isBeforeOrEqual(Ee.getEndPosition())}let qt;function Ft(Ee,be){if((qt==null?void 0:qt.originalValue)===Ee&&(qt==null?void 0:qt.newValue)===be)return qt==null?void 0:qt.changes;{let Ae=_t(Ee,be,!0);if(Ae){const He=Xt(Ae);if(He>0){const Ye=_t(Ee,be,!1);Ye&&Xt(Ye)<He&&(Ae=Ye)}}return qt={originalValue:Ee,newValue:be,changes:Ae},Ae}}function Xt(Ee){let be=0;for(const Ae of Ee)be+=Ae.originalLength;return be}function _t(Ee,be,Ae){if(Ee.length>5e3||be.length>5e3)return;function He(ln){let ct=0;for(let Pt=0,Nt=ln.length;Pt<Nt;Pt++){const Tt=ln.charCodeAt(Pt);Tt>ct&&(ct=Tt)}return ct}const Ye=Math.max(He(Ee),He(be));function ht(ln){if(ln<0)throw new Error("unexpected");return Ye+ln+1}function $t(ln){let ct=0,Pt=0;const Nt=new Int32Array(ln.length);for(let Tt=0,Zt=ln.length;Tt<Zt;Tt++)if(Ae&&ln[Tt]==="("){const zt=Pt*100+ct;Nt[Tt]=ht(2*zt),ct++}else if(Ae&&ln[Tt]===")"){ct=Math.max(ct-1,0);const zt=Pt*100+ct;Nt[Tt]=ht(2*zt+1),ct===0&&Pt++}else Nt[Tt]=ln.charCodeAt(Tt);return Nt}const gn=$t(Ee),dn=$t(be);return new st.Hs({getElements:()=>gn},{getElements:()=>dn}).ComputeDiff(!1).changes}var nt=function(Ee,be,Ae,He){var Ye=arguments.length,ht=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,Ae):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(Ee,be,Ae,He);else for(var gn=Ee.length-1;gn>=0;gn--)($t=Ee[gn])&&(ht=(Ye<3?$t(ht):Ye>3?$t(be,Ae,ht):$t(be,Ae))||ht);return Ye>3&&ht&&Object.defineProperty(be,Ae,ht),ht},tt=function(Ee,be){return function(Ae,He){be(Ae,He,Ee)}};let xt=class extends D.JT{constructor(be,Ae,He,Ye,ht){super(),this.textModel=be,this.versionId=Ae,this._debounceValue=He,this.languageFeaturesService=Ye,this.languageConfigurationService=ht,this._updateOperation=this._register(new D.XK),this.inlineCompletions=(0,r.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,r.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(be,Ae,He){var Ye,ht;const $t=new Be(be,Ae,this.textModel.getVersionId()),gn=Ae.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((Ye=this._updateOperation.value)===null||Ye===void 0)&&Ye.request.satisfies($t))return this._updateOperation.value.promise;if(!((ht=gn.get())===null||ht===void 0)&&ht.request.satisfies($t))return Promise.resolve(!0);const dn=!!this._updateOperation.value;this._updateOperation.clear();const ln=new Me.A,ct=(()=>tn(this,null,function*(){if((dn||Ae.triggerKind===Ne.bw.Automatic)&&(yield Lt(this._debounceValue.get(this.textModel))),ln.token.isCancellationRequested||this.textModel.getVersionId()!==$t.versionId)return!1;const Tt=new Date,Zt=yield xe(this.languageFeaturesService.inlineCompletionsProvider,be,this.textModel,Ae,ln.token,this.languageConfigurationService);if(ln.token.isCancellationRequested||this.textModel.getVersionId()!==$t.versionId)return!1;const zt=new Date;this._debounceValue.update(this.textModel,zt.getTime()-Tt.getTime());const _n=new In(Zt,$t,this.textModel,this.versionId);if(He){const hn=He.toInlineCompletion(void 0);He.canBeReused(this.textModel,be)&&!Zt.has(hn)&&_n.prepend(He.inlineCompletion,hn.range,!0)}return this._updateOperation.clear(),(0,r.PS)(hn=>{gn.set(_n,hn)}),!0}))(),Pt=new un($t,ln,ct);return this._updateOperation.value=Pt,ct}clear(be){this._updateOperation.clear(),this.inlineCompletions.set(void 0,be),this.suggestWidgetInlineCompletions.set(void 0,be)}clearSuggestWidgetInlineCompletions(be){var Ae;!((Ae=this._updateOperation.value)===null||Ae===void 0)&&Ae.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,be)}cancelUpdate(){this._updateOperation.clear()}};xt=nt([tt(3,d.p),tt(4,ae.c_)],xt);function Lt(Ee,be){return new Promise(Ae=>{let He;const Ye=setTimeout(()=>{He&&He.dispose(),Ae()},Ee);be&&(He=be.onCancellationRequested(()=>{clearTimeout(Ye),He&&He.dispose(),Ae()}))})}class Be{constructor(be,Ae,He){this.position=be,this.context=Ae,this.versionId=He}satisfies(be){return this.position.equals(be.position)&&yt(this.context.selectedSuggestionInfo,be.context.selectedSuggestionInfo,(Ae,He)=>Ae.equals(He))&&(be.context.triggerKind===Ne.bw.Automatic||this.context.triggerKind===Ne.bw.Explicit)&&this.versionId===be.versionId}}function yt(Ee,be,Ae){return!Ee||!be?Ee===be:Ae(Ee,be)}class un{constructor(be,Ae,He){this.request=be,this.cancellationTokenSource=Ae,this.promise=He}dispose(){this.cancellationTokenSource.cancel()}}class In{get inlineCompletions(){return this._inlineCompletions}constructor(be,Ae,He,Ye){this.inlineCompletionProviderResult=be,this.request=Ae,this.textModel=He,this.versionId=Ye,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,r.nK)(this,$t=>{this.versionId.read($t);let gn=!1;for(const dn of this._inlineCompletions)gn=gn||dn._updateRange(this.textModel);return gn&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const ht=He.deltaDecorations([],be.completions.map($t=>({range:$t.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=be.completions.map(($t,gn)=>new bn($t,ht[gn],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(be=>be.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const be of this._prependedInlineCompletionItems)be.source.removeRef()}}prepend(be,Ae,He){He&&be.source.addRef();const Ye=this.textModel.deltaDecorations([],[{range:Ae,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new bn(be,Ye,this._rangeVersionId,Ae)),this._prependedInlineCompletionItems.push(be)}}class bn{get forwardStable(){var be;return(be=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&be!==void 0?be:!1}constructor(be,Ae,He,Ye){this.inlineCompletion=be,this.decorationId=Ae,this.rangeVersion=He,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=Ye!=null?Ye:be.range}toInlineCompletion(be){return this.inlineCompletion.withRange(this._getUpdatedRange(be))}toSingleTextEdit(be){return new pt(this._getUpdatedRange(be),this.inlineCompletion.insertText)}isVisible(be,Ae,He){const Ye=this._toFilterTextReplacement(He).removeCommonPrefix(be);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(He).getStartPosition())||Ae.lineNumber!==Ye.range.startLineNumber)return!1;const ht=be.getValueInRange(Ye.range,1),$t=Ye.text,gn=Math.max(0,Ae.column-Ye.range.startColumn);let dn=$t.substring(0,gn),ln=$t.substring(gn),ct=ht.substring(0,gn),Pt=ht.substring(gn);const Nt=be.getLineIndentColumn(Ye.range.startLineNumber);return Ye.range.startColumn<=Nt&&(ct=ct.trimStart(),ct.length===0&&(Pt=Pt.trimStart()),dn=dn.trimStart(),dn.length===0&&(ln=ln.trimStart())),dn.startsWith(ct)&&!!(0,ke.Sy)(Pt,ln)}canBeReused(be,Ae){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(Ae)&&this.isVisible(be,Ae,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(be){return new pt(this._getUpdatedRange(be),this.inlineCompletion.filterText)}_isSmallerThanOriginal(be){return Hn(this._getUpdatedRange(be)).isBefore(Hn(this.inlineCompletion.range))}_getUpdatedRange(be){return this.rangeVersion.read(be),this._updatedRange}_updateRange(be){const Ae=be.getDecorationRange(this.decorationId);return Ae?this._updatedRange.equalsRange(Ae)?!1:(this._updatedRange=Ae,!0):(this._isValid=!1,!0)}}function Hn(Ee){return Ee.startLineNumber===Ee.endLineNumber?new o.L(1,1+Ee.endColumn-Ee.startColumn):new o.L(1+Ee.endLineNumber-Ee.startLineNumber,Ee.endColumn)}var si=e(98762),Yn=e(94565),mi=e(72065),_i=function(Ee,be,Ae,He){var Ye=arguments.length,ht=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,Ae):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(Ee,be,Ae,He);else for(var gn=Ee.length-1;gn>=0;gn--)($t=Ee[gn])&&(ht=(Ye<3?$t(ht):Ye>3?$t(be,Ae,ht):$t(be,Ae))||ht);return Ye>3&&ht&&Object.defineProperty(be,Ae,ht),ht},Wi=function(Ee,be){return function(Ae,He){be(Ae,He,Ee)}},Si;(function(Ee){Ee[Ee.Undo=0]="Undo",Ee[Ee.Redo=1]="Redo",Ee[Ee.AcceptWord=2]="AcceptWord",Ee[Ee.Other=3]="Other"})(Si||(Si={}));let Ki=class extends D.JT{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(be,Ae,He,Ye,ht,$t,gn,dn,ln,ct,Pt,Nt){super(),this.textModel=be,this.selectedSuggestItem=Ae,this.cursorPosition=He,this.textModelVersionId=Ye,this._debounceValue=ht,this._suggestPreviewEnabled=$t,this._suggestPreviewMode=gn,this._inlineSuggestMode=dn,this._enabled=ln,this._instantiationService=ct,this._commandService=Pt,this._languageConfigurationService=Nt,this._source=this._register(this._instantiationService.createInstance(xt,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,r.uh)(this,!1),this._forceUpdateSignal=(0,r.GN)("forceUpdate"),this._selectedInlineCompletionId=(0,r.uh)(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Si.Redo,Si.Undo,Si.AcceptWord]),this._fetchInlineCompletions=(0,r.aK)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:Ne.bw.Automatic}),handleChange:(Zt,zt)=>(Zt.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(Zt.change)?zt.preserveCurrentCompletion=!0:Zt.didChange(this._forceUpdateSignal)&&(zt.inlineCompletionTriggerKind=Zt.change),!0)},(Zt,zt)=>{if(this._forceUpdateSignal.read(Zt),!(this._enabled.read(Zt)&&this.selectedSuggestItem.read(Zt)||this._isActive.read(Zt))){this._source.cancelUpdate();return}this.textModelVersionId.read(Zt);const hn=this.selectedInlineCompletion.get(),Mn=zt.preserveCurrentCompletion||hn!=null&&hn.forwardStable?hn:void 0,Rn=this._source.suggestWidgetInlineCompletions.get(),ni=this.selectedSuggestItem.read(Zt);if(Rn&&!ni){const Bi=this._source.inlineCompletions.get();(0,r.PS)(Hi=>{(!Bi||Rn.request.versionId>Bi.request.versionId)&&this._source.inlineCompletions.set(Rn.clone(),Hi),this._source.clearSuggestWidgetInlineCompletions(Hi)})}const gi=this.cursorPosition.read(Zt),Ii={triggerKind:zt.inlineCompletionTriggerKind,selectedSuggestionInfo:ni==null?void 0:ni.toSelectedSuggestionInfo()};return this._source.fetch(gi,Ii,Mn)}),this._filteredInlineCompletionItems=(0,r.nK)(this,Zt=>{const zt=this._source.inlineCompletions.read(Zt);if(!zt)return[];const _n=this.cursorPosition.read(Zt);return zt.inlineCompletions.filter(Mn=>Mn.isVisible(this.textModel,_n,Zt))}),this.selectedInlineCompletionIndex=(0,r.nK)(this,Zt=>{const zt=this._selectedInlineCompletionId.read(Zt),_n=this._filteredInlineCompletionItems.read(Zt),hn=this._selectedInlineCompletionId===void 0?-1:_n.findIndex(Mn=>Mn.semanticId===zt);return hn===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):hn}),this.selectedInlineCompletion=(0,r.nK)(this,Zt=>{const zt=this._filteredInlineCompletionItems.read(Zt),_n=this.selectedInlineCompletionIndex.read(Zt);return zt[_n]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,Zt=>Zt==null?void 0:Zt.request.context.triggerKind),this.inlineCompletionsCount=(0,r.nK)(this,Zt=>{if(this.lastTriggerKind.read(Zt)===Ne.bw.Explicit)return this._filteredInlineCompletionItems.read(Zt).length}),this.state=(0,r.bk)({owner:this,equalityComparer:(Zt,zt)=>!Zt||!zt?Zt===zt:j(Zt.ghostText,zt.ghostText)&&Zt.inlineCompletion===zt.inlineCompletion&&Zt.suggestItem===zt.suggestItem},Zt=>{var zt;const _n=this.textModel,hn=this.selectedSuggestItem.read(Zt);if(hn){const Mn=hn.toSingleTextEdit().removeCommonPrefix(_n),Rn=this._computeAugmentedCompletion(Mn,Zt);if(!this._suggestPreviewEnabled.read(Zt)&&!Rn)return;const gi=(zt=Rn==null?void 0:Rn.edit)!==null&&zt!==void 0?zt:Mn,Ii=Rn?Rn.edit.text.length-Mn.text.length:0,Bi=this._suggestPreviewMode.read(Zt),Hi=this.cursorPosition.read(Zt),fi=gi.computeGhostText(_n,Bi,Hi,Ii);return{ghostText:fi!=null?fi:new H(gi.range.endLineNumber,[]),inlineCompletion:Rn==null?void 0:Rn.completion,suggestItem:hn}}else{if(!this._isActive.read(Zt))return;const Mn=this.selectedInlineCompletion.read(Zt);if(!Mn)return;const Rn=Mn.toSingleTextEdit(Zt),ni=this._inlineSuggestMode.read(Zt),gi=this.cursorPosition.read(Zt),Ii=Rn.computeGhostText(_n,ni,gi);return Ii?{ghostText:Ii,inlineCompletion:Mn,suggestItem:void 0}:void 0}}),this.ghostText=(0,r.bk)({owner:this,equalityComparer:j},Zt=>{const zt=this.state.read(Zt);if(zt)return zt.ghostText}),this._register((0,r.jx)(this._fetchInlineCompletions));let Tt;this._register((0,r.EH)(Zt=>{var zt,_n;const hn=this.state.read(Zt),Mn=hn==null?void 0:hn.inlineCompletion;if((Mn==null?void 0:Mn.semanticId)!==(Tt==null?void 0:Tt.semanticId)&&(Tt=Mn,Mn)){const Rn=Mn.inlineCompletion,ni=Rn.source;(_n=(zt=ni.provider).handleItemDidShow)===null||_n===void 0||_n.call(zt,ni.inlineCompletions,Rn.sourceInlineCompletion,Rn.insertText)}}))}trigger(be){return tn(this,null,function*(){this._isActive.set(!0,be),yield this._fetchInlineCompletions.get()})}triggerExplicitly(be){return tn(this,null,function*(){(0,r.c8)(be,Ae=>{this._isActive.set(!0,Ae),this._forceUpdateSignal.trigger(Ae,Ne.bw.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(be){(0,r.c8)(be,Ae=>{this._isActive.set(!1,Ae),this._source.clear(Ae)})}_computeAugmentedCompletion(be,Ae){const He=this.textModel,Ye=this._source.suggestWidgetInlineCompletions.read(Ae),ht=Ye?Ye.inlineCompletions:[this.selectedInlineCompletion.read(Ae)].filter(pe.$K);return(0,we.Fr)(ht,gn=>{let dn=gn.toSingleTextEdit(Ae);return dn=dn.removeCommonPrefix(He,S.e.fromPositions(dn.range.getStartPosition(),be.range.getEndPosition())),dn.augments(be)?{edit:dn,completion:gn}:void 0})}_deltaSelectedInlineCompletionIndex(be){return tn(this,null,function*(){yield this.triggerExplicitly();const Ae=this._filteredInlineCompletionItems.get()||[];if(Ae.length>0){const He=(this.selectedInlineCompletionIndex.get()+be+Ae.length)%Ae.length;this._selectedInlineCompletionId.set(Ae[He].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return tn(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return tn(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(be){return tn(this,null,function*(){var Ae;if(be.getModel()!==this.textModel)throw new B.he;const He=this.state.get();if(!He||He.ghostText.isEmpty()||!He.inlineCompletion)return;const Ye=He.inlineCompletion.toInlineCompletion(void 0);be.pushUndoStop(),Ye.snippetInfo?(be.executeEdits("inlineSuggestion.accept",[Pe.h.replaceMove(Ye.range,""),...Ye.additionalTextEdits]),be.setPosition(Ye.snippetInfo.range.getStartPosition()),(Ae=si.f.get(be))===null||Ae===void 0||Ae.insert(Ye.snippetInfo.snippet,{undoStopBefore:!1})):be.executeEdits("inlineSuggestion.accept",[Pe.h.replaceMove(Ye.range,Ye.insertText),...Ye.additionalTextEdits]),Ye.command&&Ye.source.addRef(),(0,r.PS)(ht=>{this._source.clear(ht),this._isActive.set(!1,ht)}),Ye.command&&(yield this._commandService.executeCommand(Ye.command.id,...Ye.command.arguments||[]).then(void 0,B.Cp),Ye.source.removeRef())})}acceptNextWord(be){return tn(this,null,function*(){yield this._acceptNext(be,(Ae,He)=>{const Ye=this.textModel.getLanguageIdAtPosition(Ae.lineNumber,Ae.column),ht=this._languageConfigurationService.getLanguageConfiguration(Ye),$t=new RegExp(ht.wordDefinition.source,ht.wordDefinition.flags.replace("g","")),gn=He.match($t);let dn=0;gn&&gn.index!==void 0?gn.index===0?dn=gn[0].length:dn=gn.index:dn=He.length;const ct=/\s+/g.exec(He);return ct&&ct.index!==void 0&&ct.index+ct[0].length<dn&&(dn=ct.index+ct[0].length),dn})})}acceptNextLine(be){return tn(this,null,function*(){yield this._acceptNext(be,(Ae,He)=>{const Ye=He.match(/\n/);return Ye&&Ye.index!==void 0?Ye.index+1:He.length})})}_acceptNext(be,Ae){return tn(this,null,function*(){if(be.getModel()!==this.textModel)throw new B.he;const He=this.state.get();if(!He||He.ghostText.isEmpty()||!He.inlineCompletion)return;const Ye=He.ghostText,ht=He.inlineCompletion.toInlineCompletion(void 0);if(ht.snippetInfo||ht.filterText!==ht.insertText){yield this.accept(be);return}const $t=Ye.parts[0],gn=new o.L(Ye.lineNumber,$t.column),dn=$t.lines.join(`
`),ln=Ae(gn,dn);if(ln===dn.length&&Ye.parts.length===1){this.accept(be);return}const ct=dn.substring(0,ln);ht.source.addRef();try{this._isAcceptingPartially=!0;try{be.pushUndoStop(),be.executeEdits("inlineSuggestion.accept",[Pe.h.replace(S.e.fromPositions(gn),ct)]);const Pt=P(ct);be.setPosition(O(gn,Pt))}finally{this._isAcceptingPartially=!1}if(ht.source.provider.handlePartialAccept){const Pt=S.e.fromPositions(ht.range.getStartPosition(),O(gn,P(ct))),Nt=be.getModel().getValueInRange(Pt,1);ht.source.provider.handlePartialAccept(ht.source.inlineCompletions,ht.sourceInlineCompletion,Nt.length)}}finally{ht.source.removeRef()}})}handleSuggestAccepted(be){var Ae,He;const Ye=be.toSingleTextEdit().removeCommonPrefix(this.textModel),ht=this._computeAugmentedCompletion(Ye,void 0);if(!ht)return;const $t=ht.completion.inlineCompletion;(He=(Ae=$t.source.provider).handlePartialAccept)===null||He===void 0||He.call(Ae,$t.source.inlineCompletions,$t.sourceInlineCompletion,Ye.text.length)}};Ki=_i([Wi(9,mi.TG),Wi(10,Yn.H),Wi(11,ae.c_)],Ki);var bi=e(3461),Fi=e(22704),ts=e(9488);class wi extends D.JT{get selectedItem(){return this._selectedItem}constructor(be,Ae,He,Ye){super(),this.editor=be,this.suggestControllerPreselector=Ae,this.checkModelVersion=He,this.onWillAccept=Ye,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,r.uh)(this,void 0),this._register(be.onKeyDown($t=>{$t.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(be.onKeyUp($t=>{$t.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const ht=Fi.n.get(this.editor);if(ht){this._register(ht.registerSelector({priority:100,select:(dn,ln,ct)=>{var Pt;(0,r.PS)(hn=>this.checkModelVersion(hn));const Nt=this.editor.getModel();if(!Nt)return-1;const Tt=(Pt=this.suggestControllerPreselector())===null||Pt===void 0?void 0:Pt.removeCommonPrefix(Nt);if(!Tt)return-1;const Zt=o.L.lift(ln),zt=ct.map((hn,Mn)=>{const ni=ns.fromSuggestion(ht,Nt,Zt,hn,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(Nt),gi=Tt.augments(ni);return{index:Mn,valid:gi,prefixLength:ni.text.length,suggestItem:hn}}).filter(hn=>hn&&hn.valid&&hn.prefixLength>0),_n=(0,we.dI)(zt,(0,ts.tT)(hn=>hn.prefixLength,ts.fv));return _n?_n.index:-1}}));let $t=!1;const gn=()=>{$t||($t=!0,this._register(ht.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(ht.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(ht.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(i.ju.once(ht.model.onDidTrigger)(dn=>{gn()})),this._register(ht.onWillInsertSuggestItem(dn=>{const ln=this.editor.getPosition(),ct=this.editor.getModel();if(!ln||!ct)return;const Pt=ns.fromSuggestion(ht,ct,ln,dn.item,this.isShiftKeyPressed);this.onWillAccept(Pt)}))}this.update(this._isActive)}update(be){const Ae=this.getSuggestItemInfo();(this._isActive!==be||!wn(this._currentSuggestItemInfo,Ae))&&(this._isActive=be,this._currentSuggestItemInfo=Ae,(0,r.PS)(He=>{this.checkModelVersion(He),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,He)}))}getSuggestItemInfo(){const be=Fi.n.get(this.editor);if(!be||!this.isSuggestWidgetVisible)return;const Ae=be.widget.value.getFocusedItem(),He=this.editor.getPosition(),Ye=this.editor.getModel();if(!(!Ae||!He||!Ye))return ns.fromSuggestion(be,Ye,He,Ae.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const be=Fi.n.get(this.editor);be==null||be.stopForceRenderingAbove()}forceRenderingAbove(){const be=Fi.n.get(this.editor);be==null||be.forceRenderingAbove()}}class ns{static fromSuggestion(be,Ae,He,Ye,ht){let{insertText:$t}=Ye.completion,gn=!1;if(Ye.completion.insertTextRules&4){const ln=new ve.Yj().parse($t);ln.children.length<100&&bi.l.adjustWhitespace(Ae,He,!0,ln),$t=ln.toString(),gn=!0}const dn=be.getOverwriteInfo(Ye,ht);return new ns(S.e.fromPositions(He.delta(0,-dn.overwriteBefore),He.delta(0,Math.max(dn.overwriteAfter,0))),$t,Ye.completion.kind,gn)}constructor(be,Ae,He,Ye){this.range=be,this.insertText=Ae,this.completionItemKind=He,this.isSnippetText=Ye}equals(be){return this.range.equalsRange(be.range)&&this.insertText===be.insertText&&this.completionItemKind===be.completionItemKind&&this.isSnippetText===be.isSnippetText}toSelectedSuggestionInfo(){return new Ne.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new pt(this.range,this.insertText)}}function wn(Ee,be){return Ee===be?!0:!Ee||!be?!1:Ee.equals(be)}var qe=e(63580),Dt=e(69149),Qt=e(33108),on=e(32064),Cn=e(91847),Bn=function(Ee,be,Ae,He){var Ye=arguments.length,ht=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,Ae):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(Ee,be,Ae,He);else for(var gn=Ee.length-1;gn>=0;gn--)($t=Ee[gn])&&(ht=(Ye<3?$t(ht):Ye>3?$t(be,Ae,ht):$t(be,Ae))||ht);return Ye>3&&ht&&Object.defineProperty(be,Ae,ht),ht},jn=function(Ee,be){return function(Ae,He){be(Ae,He,Ee)}},kt;let wt=kt=class extends D.JT{static get(be){return be.getContribution(kt.ID)}constructor(be,Ae,He,Ye,ht,$t,gn,dn,ln){super(),this.editor=be,this._instantiationService=Ae,this._contextKeyService=He,this._configurationService=Ye,this._commandService=ht,this._debounceService=$t,this._languageFeaturesService=gn,this._audioCueService=dn,this._keybindingService=ln,this.model=(0,r.DN)("inlineCompletionModel",void 0),this._textModelVersionId=(0,r.uh)(this,-1),this._cursorPosition=(0,r.uh)(this,new o.L(1,1)),this._suggestWidgetAdaptor=this._register(new wi(this.editor,()=>{var Nt,Tt;return(Tt=(Nt=this.model.get())===null||Nt===void 0?void 0:Nt.selectedInlineCompletion.get())===null||Tt===void 0?void 0:Tt.toSingleTextEdit(void 0)},Nt=>this.updateObservables(Nt,Si.Other),Nt=>{(0,r.PS)(Tt=>{var Zt;this.updateObservables(Tt,Si.Other),(Zt=this.model.get())===null||Zt===void 0||Zt.handleSuggestAccepted(Nt)})})),this._enabled=(0,r.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._ghostTextWidget=this._register(this._instantiationService.createInstance(J,this.editor,{ghostText:this.model.map((Nt,Tt)=>Nt==null?void 0:Nt.ghostText.read(Tt)),minReservedLineCount:(0,r.Dz)(0),targetTextModel:this.model.map(Nt=>Nt==null?void 0:Nt.textModel)})),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAudioCueSignal=(0,r.GN)(this),this._isReadonly=(0,r.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(90)),this._textModel=(0,r.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,r.nK)(Nt=>this._isReadonly.read(Nt)?void 0:this._textModel.read(Nt)),this._register(new I.f(this._contextKeyService,this.model)),this._register((0,r.EH)(Nt=>{const Tt=this._textModelIfWritable.read(Nt);(0,r.PS)(Zt=>{if(this.model.set(void 0,Zt),this.updateObservables(Zt,Si.Other),Tt){const zt=Ae.createInstance(Ki,Tt,this._suggestWidgetAdaptor.selectedItem,this._cursorPosition,this._textModelVersionId,this._debounceValue,(0,r.rD)(be.onDidChangeConfiguration,()=>be.getOption(117).preview),(0,r.rD)(be.onDidChangeConfiguration,()=>be.getOption(117).previewMode),(0,r.rD)(be.onDidChangeConfiguration,()=>be.getOption(62).mode),this._enabled);this.model.set(zt,Zt)}})}));const ct=Nt=>{var Tt;return Nt.isUndoing?Si.Undo:Nt.isRedoing?Si.Redo:!((Tt=this.model.get())===null||Tt===void 0)&&Tt.isAcceptingPartially?Si.AcceptWord:Si.Other};this._register(be.onDidChangeModelContent(Nt=>(0,r.PS)(Tt=>this.updateObservables(Tt,ct(Nt))))),this._register(be.onDidChangeCursorPosition(Nt=>(0,r.PS)(Tt=>{var Zt;this.updateObservables(Tt,Si.Other),(Nt.reason===3||Nt.source==="api")&&((Zt=this.model.get())===null||Zt===void 0||Zt.stop(Tt))}))),this._register(be.onDidType(()=>(0,r.PS)(Nt=>{var Tt;this.updateObservables(Nt,Si.Other),this._enabled.get()&&((Tt=this.model.get())===null||Tt===void 0||Tt.trigger(Nt))}))),this._register(this._commandService.onDidExecuteCommand(Nt=>{new Set([p.wk.Tab.id,p.wk.DeleteLeft.id,p.wk.DeleteRight.id,_.Ou,"acceptSelectedSuggestion"]).has(Nt.commandId)&&be.hasTextFocus()&&this._enabled.get()&&(0,r.PS)(Zt=>{var zt;(zt=this.model.get())===null||zt===void 0||zt.trigger(Zt)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||be.getOption(62).keepOnBlur||ge.QG.dropDownVisible||(0,r.PS)(Nt=>{var Tt;(Tt=this.model.get())===null||Tt===void 0||Tt.stop(Nt)})})),this._register((0,r.EH)(Nt=>{var Tt;const Zt=(Tt=this.model.read(Nt))===null||Tt===void 0?void 0:Tt.state.read(Nt);Zt!=null&&Zt.suggestItem?Zt.ghostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,D.OF)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let Pt;this._register((0,r.nJ)({handleChange:(Nt,Tt)=>(Nt.didChange(this._playAudioCueSignal)&&(Pt=void 0),!0)},Nt=>tn(this,null,function*(){this._playAudioCueSignal.read(Nt);const Tt=this.model.read(Nt),Zt=Tt==null?void 0:Tt.state.read(Nt);if(!Tt||!Zt||!Zt.inlineCompletion){Pt=void 0;return}if(Zt.inlineCompletion.semanticId!==Pt){Pt=Zt.inlineCompletion.semanticId;const zt=Tt.textModel.getLineContent(Zt.ghostText.lineNumber);this._audioCueService.playAudioCue(Dt.y$.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(Zt.ghostText.renderForScreenReader(zt))})}}))),this._register(new ge.oU(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(Nt=>{Nt.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAudioCue(be){this._playAudioCueSignal.trigger(be)}provideScreenReaderUpdate(be){const Ae=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),He=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let Ye;!Ae&&He&&this.editor.getOption(147)&&(Ye=(0,qe.NC)("showAccessibleViewHint","Inspect this in the accessible view ({0})",He.getAriaLabel())),Ye?(0,M.Z9)(be+", "+Ye):(0,M.Z9)(be)}updateObservables(be,Ae){var He,Ye;const ht=this.editor.getModel();this._textModelVersionId.set((He=ht==null?void 0:ht.getVersionId())!==null&&He!==void 0?He:-1,be,Ae),this._cursorPosition.set((Ye=this.editor.getPosition())!==null&&Ye!==void 0?Ye:new o.L(1,1),be)}shouldShowHoverAt(be){var Ae;const He=(Ae=this.model.get())===null||Ae===void 0?void 0:Ae.ghostText.get();return He?He.parts.some(Ye=>be.containsPosition(new o.L(He.lineNumber,Ye.column))):!1}shouldShowHoverAtViewZone(be){return this._ghostTextWidget.ownsViewZone(be)}};wt.ID="editor.contrib.inlineCompletionsController",wt=kt=Bn([jn(1,mi.TG),jn(2,on.i6),jn(3,Qt.Ui),jn(4,Yn.H),jn(5,u.A),jn(6,d.p),jn(7,Dt.e7),jn(8,Cn.d)],wt);var sn=e(55621),en=e(84144);class Un extends b.R6{constructor(){super({id:Un.ID,label:qe.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:on.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(be,Ae){return tn(this,null,function*(){var He;const Ye=wt.get(Ae);(He=Ye==null?void 0:Ye.model.get())===null||He===void 0||He.next()})}}Un.ID=_.OW;class ri extends b.R6{constructor(){super({id:ri.ID,label:qe.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:on.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(be,Ae){return tn(this,null,function*(){var He;const Ye=wt.get(Ae);(He=Ye==null?void 0:Ye.model.get())===null||He===void 0||He.previous()})}}ri.ID=_.Np;class Jn extends b.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:qe.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:c.u.writable})}run(be,Ae){return tn(this,null,function*(){const He=wt.get(Ae);yield(0,w.Hr)(Ye=>tn(this,null,function*(){var ht;yield(ht=He==null?void 0:He.model.get())===null||ht===void 0?void 0:ht.triggerExplicitly(Ye),He==null||He.playAudioCue(Ye)}))})}}class Di extends b.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:qe.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:on.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:on.Ao.and(c.u.writable,I.f.inlineSuggestionVisible)},menuOpts:[{menuId:en.eH.InlineSuggestionToolbar,title:qe.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(be,Ae){return tn(this,null,function*(){var He;const Ye=wt.get(Ae);yield(He=Ye==null?void 0:Ye.model.get())===null||He===void 0?void 0:He.acceptNextWord(Ye.editor)})}}class Ai extends b.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:qe.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:on.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:en.eH.InlineSuggestionToolbar,title:qe.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(be,Ae){return tn(this,null,function*(){var He;const Ye=wt.get(Ae);yield(He=Ye==null?void 0:Ye.model.get())===null||He===void 0?void 0:He.acceptNextLine(Ye.editor)})}}class Ri extends b.R6{constructor(){super({id:_.Ou,label:qe.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:I.f.inlineSuggestionVisible,menuOpts:[{menuId:en.eH.InlineSuggestionToolbar,title:qe.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:on.Ao.and(I.f.inlineSuggestionVisible,c.u.tabMovesFocus.toNegated(),I.f.inlineSuggestionHasIndentationLessThanTabSize,sn._y.Visible.toNegated(),c.u.hoverFocused.toNegated())}})}run(be,Ae){return tn(this,null,function*(){var He;const Ye=wt.get(Ae);Ye&&((He=Ye.model.get())===null||He===void 0||He.accept(Ye.editor),Ye.editor.focus())})}}class Tn extends b.R6{constructor(){super({id:Tn.ID,label:qe.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:I.f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(be,Ae){return tn(this,null,function*(){const He=wt.get(Ae);(0,r.PS)(Ye=>{var ht;(ht=He==null?void 0:He.model.get())===null||ht===void 0||ht.stop(Ye)})})}}Tn.ID="editor.action.inlineSuggest.hide";class yn extends en.Ke{constructor(){super({id:yn.ID,title:qe.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:en.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:on.Ao.equals("config.editor.inlineSuggest.showToolbar","always")})}run(be,Ae){return tn(this,null,function*(){const He=be.get(Qt.Ui),ht=He.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";He.updateValue("editor.inlineSuggest.showToolbar",ht)})}}yn.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var Nn=e(65321),Bt=e(59365),Yt=e(33772),fn=e(31106),Ht=e(50988),et=e(10829),ee=function(Ee,be,Ae,He){var Ye=arguments.length,ht=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,Ae):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(Ee,be,Ae,He);else for(var gn=Ee.length-1;gn>=0;gn--)($t=Ee[gn])&&(ht=(Ye<3?$t(ht):Ye>3?$t(be,Ae,ht):$t(be,Ae))||ht);return Ye>3&&ht&&Object.defineProperty(be,Ae,ht),ht},de=function(Ee,be){return function(Ae,He){be(Ae,He,Ee)}};class oe{constructor(be,Ae,He){this.owner=be,this.range=Ae,this.controller=He}isValidForHoverAnchor(be){return be.type===1&&this.range.startColumn<=be.range.startColumn&&this.range.endColumn>=be.range.endColumn}}let Ce=class{constructor(be,Ae,He,Ye,ht,$t){this._editor=be,this._languageService=Ae,this._openerService=He,this.accessibilityService=Ye,this._instantiationService=ht,this._telemetryService=$t,this.hoverOrdinal=4}suggestHoverAnchor(be){const Ae=wt.get(this._editor);if(!Ae)return null;const He=be.target;if(He.type===8){const Ye=He.detail;if(Ae.shouldShowHoverAtViewZone(Ye.viewZoneId))return new U.YM(1e3,this,S.e.fromPositions(this._editor.getModel().validatePosition(Ye.positionBefore||Ye.position)),be.event.posx,be.event.posy,!1)}return He.type===7&&Ae.shouldShowHoverAt(He.range)?new U.YM(1e3,this,He.range,be.event.posx,be.event.posy,!1):He.type===6&&He.detail.mightBeForeignElement&&Ae.shouldShowHoverAt(He.range)?new U.YM(1e3,this,He.range,be.event.posx,be.event.posy,!1):null}computeSync(be,Ae){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const He=wt.get(this._editor);return He&&He.shouldShowHoverAt(be.range)?[new oe(this,be.range,He)]:[]}renderHoverParts(be,Ae){const He=new D.SL,Ye=Ae[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(be,Ye,He);const ht=Ye.controller.model.get(),$t=this._instantiationService.createInstance(ge.QG,this._editor,!1,(0,r.Dz)(null),ht.selectedInlineCompletionIndex,ht.inlineCompletionsCount,ht.selectedInlineCompletion.map(gn=>{var dn;return(dn=gn==null?void 0:gn.inlineCompletion.source.inlineCompletions.commands)!==null&&dn!==void 0?dn:[]}));return be.fragment.appendChild($t.getDomNode()),ht.triggerExplicitly(),He.add($t),He}renderScreenReaderText(be,Ae,He){const Ye=Nn.$,ht=Ye("div.hover-row.markdown-hover"),$t=Nn.R3(ht,Ye("div.hover-contents",{["aria-live"]:"assertive"})),gn=He.add(new Yt.$({editor:this._editor},this._languageService,this._openerService)),dn=ln=>{He.add(gn.onDidRenderAsync(()=>{$t.className="hover-contents code-hover-contents",be.onContentsChanged()}));const ct=qe.NC("inlineSuggestionFollows","Suggestion:"),Pt=He.add(gn.render(new Bt.W5().appendText(ct).appendCodeblock("text",ln)));$t.replaceChildren(Pt.element)};He.add((0,r.EH)(ln=>{var ct;const Pt=(ct=Ae.controller.model.read(ln))===null||ct===void 0?void 0:ct.ghostText.read(ln);if(Pt){const Nt=this._editor.getModel().getLineContent(Pt.lineNumber);dn(Pt.renderForScreenReader(Nt))}else Nn.mc($t)})),be.fragment.appendChild(ht)}};Ce=ee([de(1,y.O),de(2,Ht.v),de(3,fn.F7),de(4,mi.TG),de(5,et.b)],Ce),(0,b._K)(wt.ID,wt,3),(0,b.Qr)(Jn),(0,b.Qr)(Un),(0,b.Qr)(ri),(0,b.Qr)(Di),(0,b.Qr)(Ai),(0,b.Qr)(Ri),(0,b.Qr)(Tn),(0,en.r1)(yn),U.Ae.register(Ce)},73485:function(Ot,Ke,e){"use strict";e.d(Ke,{oU:function(){return Y},QG:function(){return z}});var b=e(65321),U=e(41923),r=e(35190),w=e(74741),c=e(9488),_=e(15393),I=e(73046),M=e(5976),D=e(99692),p=e(1432),o=e(25670),u=e(50187),d=e(43155),n=e(96020),i=e(63580),f=e(80677),v=e(98190),a=e(84144),S=e(94565),g=e(32064),y=e(5606),C=e(72065),E=e(91847),A=e(10829),N=e(59554),B=function(V,G,j,F){var K=arguments.length,m=K<3?G:F===null?F=Object.getOwnPropertyDescriptor(G,j):F,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(V,G,j,F);else for(var X=V.length-1;X>=0;X--)(J=V[X])&&(m=(K<3?J(m):K>3?J(G,j,m):J(G,j))||m);return K>3&&m&&Object.defineProperty(G,j,m),m},W=function(V,G){return function(j,F){G(j,F,V)}},$;let Y=class extends M.JT{constructor(G,j,F){super(),this.editor=G,this.model=j,this.instantiationService=F,this.alwaysShowToolbar=(0,D.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,D.nK)(this,K=>{var m,J,X;const te=(m=this.model.read(K))===null||m===void 0?void 0:m.ghostText.read(K);if(!this.alwaysShowToolbar.read(K)||!te||te.parts.length===0)return this.sessionPosition=void 0,null;const le=te.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==te.lineNumber&&(this.sessionPosition=void 0);const ge=new u.L(te.lineNumber,Math.min(le,(X=(J=this.sessionPosition)===null||J===void 0?void 0:J.column)!==null&&X!==void 0?X:Number.MAX_SAFE_INTEGER));return this.sessionPosition=ge,ge}),this._register((0,D.gp)((K,m)=>{const J=this.model.read(K);if(!J||!this.alwaysShowToolbar.read(K))return;const X=m.add(this.instantiationService.createInstance(z,this.editor,!0,this.position,J.selectedInlineCompletionIndex,J.inlineCompletionsCount,J.selectedInlineCompletion.map(te=>{var le;return(le=te==null?void 0:te.inlineCompletion.source.inlineCompletions.commands)!==null&&le!==void 0?le:[]})));G.addContentWidget(X),m.add((0,M.OF)(()=>G.removeContentWidget(X))),m.add((0,D.EH)(te=>{this.position.read(te)&&J.lastTriggerKind.read(te)!==d.bw.Explicit&&J.triggerExplicitly()}))}))}};Y=B([W(2,C.TG)],Y);const R=(0,N.q5)("inline-suggestion-hints-next",I.l.chevronRight,(0,i.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),L=(0,N.q5)("inline-suggestion-hints-previous",I.l.chevronLeft,(0,i.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let z=$=class extends M.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(G,j,F){const K=new w.aU(G,j,F,!0,()=>this._commandService.executeCommand(G)),m=this.keybindingService.lookupKeybinding(G,this._contextKeyService);let J=j;return m&&(J=(0,i.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",j,m.getLabel())),K.tooltip=J,K}constructor(G,j,F,K,m,J,X,te,le,ge,we){super(),this.editor=G,this.withBorder=j,this._position=F,this._currentSuggestionIdx=K,this._suggestionCount=m,this._extraCommands=J,this._commandService=X,this.keybindingService=le,this._contextKeyService=ge,this._menuService=we,this.id=`InlineSuggestionHintsContentWidget${$.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,b.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,b.h)("div@toolBar")]),this.previousAction=this.createCommandAction(n.Np,(0,i.NC)("previous","Previous"),o.k.asClassName(L)),this.availableSuggestionCountAction=new w.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(n.OW,(0,i.NC)("next","Next"),o.k.asClassName(R)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(a.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new _.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new _.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(te.createInstance(H,this.nodes.toolBar,a.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:pe=>pe.startsWith("primary")},actionViewItemProvider:(pe,Pe)=>{if(pe instanceof a.U8)return te.createInstance(P,pe,void 0);if(pe===this.availableSuggestionCountAction){const Ne=new O(void 0,pe,{label:!0,icon:!1});return Ne.setClass("availableSuggestionCount"),Ne}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(pe=>{$._dropDownVisible=pe})),this._register((0,D.EH)(pe=>{this._position.read(pe),this.editor.layoutContentWidget(this)})),this._register((0,D.EH)(pe=>{const Pe=this._suggestionCount.read(pe),Ne=this._currentSuggestionIdx.read(pe);Pe!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${Ne+1}/${Pe}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),Pe!==void 0&&Pe>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,D.EH)(pe=>{const Pe=this._extraCommands.read(pe);if((0,c.fS)(this.lastCommands,Pe))return;this.lastCommands=Pe;const Ne=Pe.map(ae=>({class:void 0,id:ae.id,enabled:!0,tooltip:ae.tooltip||"",label:ae.title,run:Me=>this._commandService.executeCommand(ae.id)}));for(const[ae,Me]of this.inlineCompletionsActionsMenus.getActions())for(const ke of Me)ke instanceof a.U8&&Ne.push(ke);Ne.length>0&&Ne.unshift(new w.Z0),this.toolBar.setAdditionalSecondaryActions(Ne)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};z._dropDownVisible=!1,z.id=0,z=$=B([W(6,S.H),W(7,C.TG),W(8,E.d),W(9,g.i6),W(10,a.co)],z);class O extends U.gU{constructor(){super(...arguments),this._className=void 0}setClass(G){this._className=G}render(G){super.render(G),this._className&&G.classList.add(this._className)}}class P extends f.Mm{updateLabel(){const G=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!G)return super.updateLabel();if(this.label){const j=(0,b.h)("div.keybinding").root;new r.e(j,p.OS,Xn({disableTitle:!0},r.F)).set(G),this.label.textContent=this._action.label,this.label.appendChild(j),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let H=class extends v.T{constructor(G,j,F,K,m,J,X,te){super(G,Xn({resetMenu:j},F),K,m,J,X,te),this.menuId=j,this.options2=F,this.menuService=K,this.contextKeyService=m,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var G,j,F,K,m,J,X;const te=[],le=[];(0,f.vr)(this.menu,(G=this.options2)===null||G===void 0?void 0:G.menuOptions,{primary:te,secondary:le},(F=(j=this.options2)===null||j===void 0?void 0:j.toolbarOptions)===null||F===void 0?void 0:F.primaryGroup,(m=(K=this.options2)===null||K===void 0?void 0:K.toolbarOptions)===null||m===void 0?void 0:m.shouldInlineSubmenu,(X=(J=this.options2)===null||J===void 0?void 0:J.toolbarOptions)===null||X===void 0?void 0:X.useSeparatorsInPrimaryActions),le.push(...this.additionalActions),te.unshift(...this.prependedPrimaryActions),this.setActions(te,le)}setPrependedPrimaryActions(G){(0,c.fS)(this.prependedPrimaryActions,G,(j,F)=>j===F)||(this.prependedPrimaryActions=G,this.updateToolbar())}setAdditionalSecondaryActions(G){(0,c.fS)(this.additionalActions,G,(j,F)=>j===F)||(this.additionalActions=G,this.updateToolbar())}};H=B([W(3,a.co),W(4,g.i6),W(5,y.i),W(6,E.d),W(7,A.b)],H)},3665:function(Ot,Ke,e){"use strict";e.d(Ke,{r:function(){return n}});var b=e(65321),U=e(15393),r=e(73046),w=e(5976),c=e(97295),_=e(25670),I=e(24314),M=e(84901),D=e(72065),p=function(i,f,v,a){var S=arguments.length,g=S<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,v):a,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,f,v,a);else for(var C=i.length-1;C>=0;C--)(y=i[C])&&(g=(S<3?y(g):S>3?y(f,v,g):y(f,v))||g);return S>3&&g&&Object.defineProperty(f,v,g),g},o=function(i,f){return function(v,a){f(v,a,i)}};const u=M.qx.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:c.B4,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class d extends w.JT{constructor(f,v,a,S,g){super(),this.typeId=f,this.editor=v,this.range=a,this.delegate=g,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(S),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(f){this.domNode=b.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=f;const v=b.$("span.icon");this.domNode.append(v),v.classList.add(..._.k.asClassNameArray(r.l.loading),"codicon-modifier-spin");const a=()=>{const S=this.editor.getOption(66);this.domNode.style.height=`${S}px`,this.domNode.style.width=`${Math.ceil(.8*S)}px`};a(),this._register(this.editor.onDidChangeConfiguration(S=>{(S.hasChanged(52)||S.hasChanged(66))&&a()})),this._register(b.nm(this.domNode,b.tw.CLICK,S=>{this.delegate.cancel()}))}getId(){return d.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}d.baseId="editor.widget.inlineProgressWidget";let n=class extends w.JT{constructor(f,v,a){super(),this.id=f,this._editor=v,this._instantiationService=a,this._showDelay=500,this._showPromise=this._register(new w.XK),this._currentWidget=new w.XK,this._operationIdPool=0,this._currentDecorations=v.createDecorationsCollection()}showWhile(f,v,a){return tn(this,null,function*(){const S=this._operationIdPool++;this._currentOperation=S,this.clear(),this._showPromise.value=(0,U.Vg)(()=>{const g=I.e.fromPositions(f);this._currentDecorations.set([{range:g,options:u}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(d,this.id,this._editor,g,v,a))},this._showDelay);try{return yield a}finally{this._currentOperation===S&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};n=p([o(2,D.TG)],n)},97615:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(28108),r=e(29102),w=e(63580);class c extends b.R6{constructor(){super({id:"expandLineSelection",label:w.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:r.u.textInputFocus,primary:2090}})}run(I,M,D){if(D=D||{},!M.hasModel())return;const p=M._getViewModel();p.model.pushStackElement(),p.setCursorStates(D.source,3,U.P.expandLineSelection(p,p.getCursorStates())),p.revealPrimaryCursor(D.source,!0)}}(0,b.Qr)(c)},49504:function(Ot,Ke,e){"use strict";var b=e(22258),U=e(42549),r=e(16830),w=e(61329),c=e(97295),_=e(69386),I=e(24314);class M{constructor(Se,me){this._selection=Se,this._cursors=me,this._selectionId=null}getEditOperations(Se,me){const he=D(Se,this._cursors);for(let se=0,ve=he.length;se<ve;se++){const xe=he[se];me.addEditOperation(xe.range,xe.text)}this._selectionId=me.trackSelection(this._selection)}computeCursorState(Se,me){return me.getTrackedSelection(this._selectionId)}}function D(ye,Se){Se.sort((xe,je)=>xe.lineNumber===je.lineNumber?xe.column-je.column:xe.lineNumber-je.lineNumber);for(let xe=Se.length-2;xe>=0;xe--)Se[xe].lineNumber===Se[xe+1].lineNumber&&Se.splice(xe,1);const me=[];let he=0,se=0;const ve=Se.length;for(let xe=1,je=ye.getLineCount();xe<=je;xe++){const Oe=ye.getLineContent(xe),Ze=Oe.length+1;let it=0;if(se<ve&&Se[se].lineNumber===xe&&(it=Se[se].column,se++,it===Ze)||Oe.length===0)continue;const Et=c.ow(Oe);let st=0;if(Et===-1)st=1;else if(Et!==Oe.length-1)st=Et+2;else continue;st=Math.max(it,st),me[he++]=_.h.delete(new I.e(xe,st,xe,Ze))}return me}var p=e(94729),o=e(50187),u=e(3860),d=e(29102);class n{constructor(Se,me,he){this._selection=Se,this._isCopyingDown=me,this._noop=he||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(Se,me){let he=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,he.startLineNumber<he.endLineNumber&&he.endColumn===1&&(this._endLineNumberDelta=1,he=he.setEndPosition(he.endLineNumber-1,Se.getLineMaxColumn(he.endLineNumber-1)));const se=[];for(let xe=he.startLineNumber;xe<=he.endLineNumber;xe++)se.push(Se.getLineContent(xe));const ve=se.join(`
`);ve===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?me.addEditOperation(new I.e(he.endLineNumber,Se.getLineMaxColumn(he.endLineNumber),he.endLineNumber+1,1),he.endLineNumber===Se.getLineCount()?"":`
`):this._isCopyingDown?me.addEditOperation(new I.e(he.startLineNumber,1,he.startLineNumber,1),ve+`
`):me.addEditOperation(new I.e(he.endLineNumber,Se.getLineMaxColumn(he.endLineNumber),he.endLineNumber,Se.getLineMaxColumn(he.endLineNumber)),`
`+ve),this._selectionId=me.trackSelection(he),this._selectionDirection=this._selection.getDirection()}computeCursorState(Se,me){let he=me.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let se=he.startLineNumber,ve=he.startColumn,xe=he.endLineNumber,je=he.endColumn;this._startLineNumberDelta!==0&&(se=se+this._startLineNumberDelta,ve=1),this._endLineNumberDelta!==0&&(xe=xe+this._endLineNumberDelta,je=1),he=u.Y.createWithDirection(se,ve,xe,je,this._selectionDirection)}return he}}var i=e(10291),f=e(49119),v=e(4256),a=e(18279),S=e(75383),g=e(1615),y=function(ye,Se,me,he){var se=arguments.length,ve=se<3?Se:he===null?he=Object.getOwnPropertyDescriptor(Se,me):he,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ve=Reflect.decorate(ye,Se,me,he);else for(var je=ye.length-1;je>=0;je--)(xe=ye[je])&&(ve=(se<3?xe(ve):se>3?xe(Se,me,ve):xe(Se,me))||ve);return se>3&&ve&&Object.defineProperty(Se,me,ve),ve},C=function(ye,Se){return function(me,he){Se(me,he,ye)}};let E=class{constructor(Se,me,he,se){this._languageConfigurationService=se,this._selection=Se,this._isMovingDown=me,this._autoIndent=he,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(Se,me){const he=Se.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===he){this._selectionId=me.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=me.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let se=this._selection;se.startLineNumber<se.endLineNumber&&se.endColumn===1&&(this._moveEndPositionDown=!0,se=se.setEndPosition(se.endLineNumber-1,Se.getLineMaxColumn(se.endLineNumber-1)));const{tabSize:ve,indentSize:xe,insertSpaces:je}=Se.getOptions(),Oe=this.buildIndentConverter(ve,xe,je),Ze={tokenization:{getLineTokens:it=>Se.tokenization.getLineTokens(it),getLanguageId:()=>Se.getLanguageId(),getLanguageIdAtPosition:(it,Et)=>Se.getLanguageIdAtPosition(it,Et)},getLineContent:null};if(se.startLineNumber===se.endLineNumber&&Se.getLineMaxColumn(se.startLineNumber)===1){const it=se.startLineNumber,Et=this._isMovingDown?it+1:it-1;Se.getLineMaxColumn(Et)===1?me.addEditOperation(new I.e(1,1,1,1),null):(me.addEditOperation(new I.e(it,1,it,1),Se.getLineContent(Et)),me.addEditOperation(new I.e(Et,1,Et,Se.getLineMaxColumn(Et)),null)),se=new u.Y(Et,1,Et,1)}else{let it,Et;if(this._isMovingDown){it=se.endLineNumber+1,Et=Se.getLineContent(it),me.addEditOperation(new I.e(it-1,Se.getLineMaxColumn(it-1),it,Se.getLineMaxColumn(it)),null);let st=Et;if(this.shouldAutoIndent(Se,se)){const pt=this.matchEnterRule(Se,Oe,ve,it,se.startLineNumber-1);if(pt!==null){const qt=c.V8(Se.getLineContent(it)),Ft=pt+a.Y(qt,ve);st=a.J(Ft,ve,je)+this.trimStart(Et)}else{Ze.getLineContent=Ft=>Ft===se.startLineNumber?Se.getLineContent(it):Se.getLineContent(Ft);const qt=(0,S.n8)(this._autoIndent,Ze,Se.getLanguageIdAtPosition(it,1),se.startLineNumber,Oe,this._languageConfigurationService);if(qt!==null){const Ft=c.V8(Se.getLineContent(it)),Xt=a.Y(qt,ve),_t=a.Y(Ft,ve);Xt!==_t&&(st=a.J(Xt,ve,je)+this.trimStart(Et))}}me.addEditOperation(new I.e(se.startLineNumber,1,se.startLineNumber,1),st+`
`);const Mt=this.matchEnterRuleMovingDown(Se,Oe,ve,se.startLineNumber,it,st);if(Mt!==null)Mt!==0&&this.getIndentEditsOfMovingBlock(Se,me,se,ve,je,Mt);else{Ze.getLineContent=Ft=>Ft===se.startLineNumber?st:Ft>=se.startLineNumber+1&&Ft<=se.endLineNumber+1?Se.getLineContent(Ft-1):Se.getLineContent(Ft);const qt=(0,S.n8)(this._autoIndent,Ze,Se.getLanguageIdAtPosition(it,1),se.startLineNumber+1,Oe,this._languageConfigurationService);if(qt!==null){const Ft=c.V8(Se.getLineContent(se.startLineNumber)),Xt=a.Y(qt,ve),_t=a.Y(Ft,ve);if(Xt!==_t){const nt=Xt-_t;this.getIndentEditsOfMovingBlock(Se,me,se,ve,je,nt)}}}}else me.addEditOperation(new I.e(se.startLineNumber,1,se.startLineNumber,1),st+`
`)}else if(it=se.startLineNumber-1,Et=Se.getLineContent(it),me.addEditOperation(new I.e(it,1,it+1,1),null),me.addEditOperation(new I.e(se.endLineNumber,Se.getLineMaxColumn(se.endLineNumber),se.endLineNumber,Se.getLineMaxColumn(se.endLineNumber)),`
`+Et),this.shouldAutoIndent(Se,se)){Ze.getLineContent=pt=>pt===it?Se.getLineContent(se.startLineNumber):Se.getLineContent(pt);const st=this.matchEnterRule(Se,Oe,ve,se.startLineNumber,se.startLineNumber-2);if(st!==null)st!==0&&this.getIndentEditsOfMovingBlock(Se,me,se,ve,je,st);else{const pt=(0,S.n8)(this._autoIndent,Ze,Se.getLanguageIdAtPosition(se.startLineNumber,1),it,Oe,this._languageConfigurationService);if(pt!==null){const Mt=c.V8(Se.getLineContent(se.startLineNumber)),qt=a.Y(pt,ve),Ft=a.Y(Mt,ve);if(qt!==Ft){const Xt=qt-Ft;this.getIndentEditsOfMovingBlock(Se,me,se,ve,je,Xt)}}}}}this._selectionId=me.trackSelection(se)}buildIndentConverter(Se,me,he){return{shiftIndent:se=>i.U.shiftIndent(se,se.length+1,Se,me,he),unshiftIndent:se=>i.U.unshiftIndent(se,se.length+1,Se,me,he)}}parseEnterResult(Se,me,he,se,ve){if(ve){let xe=ve.indentation;ve.indentAction===f.wU.None||ve.indentAction===f.wU.Indent?xe=ve.indentation+ve.appendText:ve.indentAction===f.wU.IndentOutdent?xe=ve.indentation:ve.indentAction===f.wU.Outdent&&(xe=me.unshiftIndent(ve.indentation)+ve.appendText);const je=Se.getLineContent(se);if(this.trimStart(je).indexOf(this.trimStart(xe))>=0){const Oe=c.V8(Se.getLineContent(se));let Ze=c.V8(xe);const it=(0,S.tI)(Se,se,this._languageConfigurationService);it!==null&&it&2&&(Ze=me.unshiftIndent(Ze));const Et=a.Y(Ze,he),st=a.Y(Oe,he);return Et-st}}return null}matchEnterRuleMovingDown(Se,me,he,se,ve,xe){if(c.ow(xe)>=0){const je=Se.getLineMaxColumn(ve),Oe=(0,g.A)(this._autoIndent,Se,new I.e(ve,je,ve,je),this._languageConfigurationService);return this.parseEnterResult(Se,me,he,se,Oe)}else{let je=se-1;for(;je>=1;){const it=Se.getLineContent(je);if(c.ow(it)>=0)break;je--}if(je<1||se>Se.getLineCount())return null;const Oe=Se.getLineMaxColumn(je),Ze=(0,g.A)(this._autoIndent,Se,new I.e(je,Oe,je,Oe),this._languageConfigurationService);return this.parseEnterResult(Se,me,he,se,Ze)}}matchEnterRule(Se,me,he,se,ve,xe){let je=ve;for(;je>=1;){let it;if(je===ve&&xe!==void 0?it=xe:it=Se.getLineContent(je),c.ow(it)>=0)break;je--}if(je<1||se>Se.getLineCount())return null;const Oe=Se.getLineMaxColumn(je),Ze=(0,g.A)(this._autoIndent,Se,new I.e(je,Oe,je,Oe),this._languageConfigurationService);return this.parseEnterResult(Se,me,he,se,Ze)}trimStart(Se){return Se.replace(/^\s+/,"")}shouldAutoIndent(Se,me){if(this._autoIndent<4||!Se.tokenization.isCheapToTokenize(me.startLineNumber))return!1;const he=Se.getLanguageIdAtPosition(me.startLineNumber,1),se=Se.getLanguageIdAtPosition(me.endLineNumber,1);return!(he!==se||this._languageConfigurationService.getLanguageConfiguration(he).indentRulesSupport===null)}getIndentEditsOfMovingBlock(Se,me,he,se,ve,xe){for(let je=he.startLineNumber;je<=he.endLineNumber;je++){const Oe=Se.getLineContent(je),Ze=c.V8(Oe),Et=a.Y(Ze,se)+xe,st=a.J(Et,se,ve);st!==Ze&&(me.addEditOperation(new I.e(je,1,je,Ze.length+1),st),je===he.endLineNumber&&he.endColumn<=Ze.length+1&&st===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(Se,me){let he=me.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(he=he.setEndPosition(he.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&he.startLineNumber<he.endLineNumber&&(he=he.setEndPosition(he.endLineNumber,2)),he}};E=y([C(3,v.c_)],E);class A{static getCollator(){return A._COLLATOR||(A._COLLATOR=new Intl.Collator),A._COLLATOR}constructor(Se,me){this.selection=Se,this.descending=me,this.selectionId=null}getEditOperations(Se,me){const he=B(Se,this.selection,this.descending);he&&me.addEditOperation(he.range,he.text),this.selectionId=me.trackSelection(this.selection)}computeCursorState(Se,me){return me.getTrackedSelection(this.selectionId)}static canRun(Se,me,he){if(Se===null)return!1;const se=N(Se,me,he);if(!se)return!1;for(let ve=0,xe=se.before.length;ve<xe;ve++)if(se.before[ve]!==se.after[ve])return!0;return!1}}A._COLLATOR=null;function N(ye,Se,me){const he=Se.startLineNumber;let se=Se.endLineNumber;if(Se.endColumn===1&&se--,he>=se)return null;const ve=[];for(let je=he;je<=se;je++)ve.push(ye.getLineContent(je));let xe=ve.slice(0);return xe.sort(A.getCollator().compare),me===!0&&(xe=xe.reverse()),{startLineNumber:he,endLineNumber:se,before:ve,after:xe}}function B(ye,Se,me){const he=N(ye,Se,me);return he?_.h.replace(new I.e(he.startLineNumber,1,he.endLineNumber,ye.getLineMaxColumn(he.endLineNumber)),he.after.join(`
`)):null}var W=e(63580),$=e(84144);class Y extends r.R6{constructor(Se,me){super(me),this.down=Se}run(Se,me){if(!me.hasModel())return;const he=me.getSelections().map((xe,je)=>({selection:xe,index:je,ignore:!1}));he.sort((xe,je)=>I.e.compareRangesUsingStarts(xe.selection,je.selection));let se=he[0];for(let xe=1;xe<he.length;xe++){const je=he[xe];se.selection.endLineNumber===je.selection.startLineNumber&&(se.index<je.index?je.ignore=!0:(se.ignore=!0,se=je))}const ve=[];for(const xe of he)ve.push(new n(xe.selection,this.down,xe.ignore));me.pushUndoStop(),me.executeCommands(this.id,ve),me.pushUndoStop()}}class R extends Y{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:W.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class L extends Y{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:W.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class z extends r.R6{constructor(){super({id:"editor.action.duplicateSelection",label:W.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:d.u.writable,menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(Se,me,he){if(!me.hasModel())return;const se=[],ve=me.getSelections(),xe=me.getModel();for(const je of ve)if(je.isEmpty())se.push(new n(je,!0));else{const Oe=new u.Y(je.endLineNumber,je.endColumn,je.endLineNumber,je.endColumn);se.push(new w.OY(Oe,xe.getValueInRange(je)))}me.pushUndoStop(),me.executeCommands(this.id,se),me.pushUndoStop()}}class O extends r.R6{constructor(Se,me){super(me),this.down=Se}run(Se,me){const he=Se.get(v.c_),se=[],ve=me.getSelections()||[],xe=me.getOption(12);for(const je of ve)se.push(new E(je,this.down,xe,he));me.pushUndoStop(),me.executeCommands(this.id,se),me.pushUndoStop()}}class P extends O{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:W.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class H extends O{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:W.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class V extends r.R6{constructor(Se,me){super(me),this.descending=Se}run(Se,me){const he=me.getSelections()||[];for(const ve of he)if(!A.canRun(me.getModel(),ve,this.descending))return;const se=[];for(let ve=0,xe=he.length;ve<xe;ve++)se[ve]=new A(he[ve],this.descending);me.pushUndoStop(),me.executeCommands(this.id,se),me.pushUndoStop()}}class G extends V{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:W.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:d.u.writable})}}class j extends V{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:W.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:d.u.writable})}}class F extends r.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:W.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:d.u.writable})}run(Se,me){if(!me.hasModel())return;const he=me.getModel();if(he.getLineCount()===1&&he.getLineMaxColumn(1)===1)return;const se=[],ve=[];let xe=0;for(const je of me.getSelections()){const Oe=new Set,Ze=[];for(let pt=je.startLineNumber;pt<=je.endLineNumber;pt++){const Mt=he.getLineContent(pt);Oe.has(Mt)||(Ze.push(Mt),Oe.add(Mt))}const it=new u.Y(je.startLineNumber,1,je.endLineNumber,he.getLineMaxColumn(je.endLineNumber)),Et=je.startLineNumber-xe,st=new u.Y(Et,1,Et+Ze.length-1,Ze[Ze.length-1].length);se.push(_.h.replace(it,Ze.join(`
`))),ve.push(st),xe+=je.endLineNumber-je.startLineNumber+1-Ze.length}me.pushUndoStop(),me.executeEdits(this.id,se,ve),me.pushUndoStop()}}class K extends r.R6{constructor(){super({id:K.ID,label:W.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:(0,b.gx)(2089,2102),weight:100}})}run(Se,me,he){let se=[];he.reason==="auto-save"&&(se=(me.getSelections()||[]).map(je=>new o.L(je.positionLineNumber,je.positionColumn)));const ve=me.getSelection();if(ve===null)return;const xe=new M(ve,se);me.pushUndoStop(),me.executeCommands(this.id,[xe]),me.pushUndoStop()}}K.ID="editor.action.trimTrailingWhitespace";class m extends r.R6{constructor(){super({id:"editor.action.deleteLines",label:W.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:3113,weight:100}})}run(Se,me){if(!me.hasModel())return;const he=this._getLinesToRemove(me),se=me.getModel();if(se.getLineCount()===1&&se.getLineMaxColumn(1)===1)return;let ve=0;const xe=[],je=[];for(let Oe=0,Ze=he.length;Oe<Ze;Oe++){const it=he[Oe];let Et=it.startLineNumber,st=it.endLineNumber,pt=1,Mt=se.getLineMaxColumn(st);st<se.getLineCount()?(st+=1,Mt=1):Et>1&&(Et-=1,pt=se.getLineMaxColumn(Et)),xe.push(_.h.replace(new u.Y(Et,pt,st,Mt),"")),je.push(new u.Y(Et-ve,it.positionColumn,Et-ve,it.positionColumn)),ve+=it.endLineNumber-it.startLineNumber+1}me.pushUndoStop(),me.executeEdits(this.id,xe,je),me.pushUndoStop()}_getLinesToRemove(Se){const me=Se.getSelections().map(ve=>{let xe=ve.endLineNumber;return ve.startLineNumber<ve.endLineNumber&&ve.endColumn===1&&(xe-=1),{startLineNumber:ve.startLineNumber,selectionStartColumn:ve.selectionStartColumn,endLineNumber:xe,positionColumn:ve.positionColumn}});me.sort((ve,xe)=>ve.startLineNumber===xe.startLineNumber?ve.endLineNumber-xe.endLineNumber:ve.startLineNumber-xe.startLineNumber);const he=[];let se=me[0];for(let ve=1;ve<me.length;ve++)se.endLineNumber+1>=me[ve].startLineNumber?se.endLineNumber=me[ve].endLineNumber:(he.push(se),se=me[ve]);return he.push(se),he}}class J extends r.R6{constructor(){super({id:"editor.action.indentLines",label:W.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:2142,weight:100}})}run(Se,me){const he=me._getViewModel();he&&(me.pushUndoStop(),me.executeCommands(this.id,p.u6.indent(he.cursorConfig,me.getModel(),me.getSelections())),me.pushUndoStop())}}class X extends r.R6{constructor(){super({id:"editor.action.outdentLines",label:W.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:2140,weight:100}})}run(Se,me){U.wk.Outdent.runEditorCommand(Se,me,null)}}class te extends r.R6{constructor(){super({id:"editor.action.insertLineBefore",label:W.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3075,weight:100}})}run(Se,me){const he=me._getViewModel();he&&(me.pushUndoStop(),me.executeCommands(this.id,p.u6.lineInsertBefore(he.cursorConfig,me.getModel(),me.getSelections())))}}class le extends r.R6{constructor(){super({id:"editor.action.insertLineAfter",label:W.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:2051,weight:100}})}run(Se,me){const he=me._getViewModel();he&&(me.pushUndoStop(),me.executeCommands(this.id,p.u6.lineInsertAfter(he.cursorConfig,me.getModel(),me.getSelections())))}}class ge extends r.R6{run(Se,me){if(!me.hasModel())return;const he=me.getSelection(),se=this._getRangesToDelete(me),ve=[];for(let Oe=0,Ze=se.length-1;Oe<Ze;Oe++){const it=se[Oe],Et=se[Oe+1];I.e.intersectRanges(it,Et)===null?ve.push(it):se[Oe+1]=I.e.plusRange(it,Et)}ve.push(se[se.length-1]);const xe=this._getEndCursorState(he,ve),je=ve.map(Oe=>_.h.replace(Oe,""));me.pushUndoStop(),me.executeEdits(this.id,je,xe),me.pushUndoStop()}}class we extends ge{constructor(){super({id:"deleteAllLeft",label:W.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Se,me){let he=null;const se=[];let ve=0;return me.forEach(xe=>{let je;if(xe.endColumn===1&&ve>0){const Oe=xe.startLineNumber-ve;je=new u.Y(Oe,xe.startColumn,Oe,xe.startColumn)}else je=new u.Y(xe.startLineNumber,xe.startColumn,xe.startLineNumber,xe.startColumn);ve+=xe.endLineNumber-xe.startLineNumber,xe.intersectRanges(Se)?he=je:se.push(je)}),he&&se.unshift(he),se}_getRangesToDelete(Se){const me=Se.getSelections();if(me===null)return[];let he=me;const se=Se.getModel();return se===null?[]:(he.sort(I.e.compareRangesUsingStarts),he=he.map(ve=>{if(ve.isEmpty())if(ve.startColumn===1){const xe=Math.max(1,ve.startLineNumber-1),je=ve.startLineNumber===1?1:se.getLineLength(xe)+1;return new I.e(xe,je,ve.startLineNumber,1)}else return new I.e(ve.startLineNumber,1,ve.startLineNumber,ve.startColumn);else return new I.e(ve.startLineNumber,1,ve.endLineNumber,ve.endColumn)}),he)}}class pe extends ge{constructor(){super({id:"deleteAllRight",label:W.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Se,me){let he=null;const se=[];for(let ve=0,xe=me.length,je=0;ve<xe;ve++){const Oe=me[ve],Ze=new u.Y(Oe.startLineNumber-je,Oe.startColumn,Oe.startLineNumber-je,Oe.startColumn);Oe.intersectRanges(Se)?he=Ze:se.push(Ze)}return he&&se.unshift(he),se}_getRangesToDelete(Se){const me=Se.getModel();if(me===null)return[];const he=Se.getSelections();if(he===null)return[];const se=he.map(ve=>{if(ve.isEmpty()){const xe=me.getLineMaxColumn(ve.startLineNumber);return ve.startColumn===xe?new I.e(ve.startLineNumber,ve.startColumn,ve.startLineNumber+1,1):new I.e(ve.startLineNumber,ve.startColumn,ve.startLineNumber,xe)}return ve});return se.sort(I.e.compareRangesUsingStarts),se}}class Pe extends r.R6{constructor(){super({id:"editor.action.joinLines",label:W.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Se,me){const he=me.getSelections();if(he===null)return;let se=me.getSelection();if(se===null)return;he.sort(I.e.compareRangesUsingStarts);const ve=[],xe=he.reduce((st,pt)=>st.isEmpty()?st.endLineNumber===pt.startLineNumber?(se.equalsSelection(st)&&(se=pt),pt):pt.startLineNumber>st.endLineNumber+1?(ve.push(st),pt):new u.Y(st.startLineNumber,st.startColumn,pt.endLineNumber,pt.endColumn):pt.startLineNumber>st.endLineNumber?(ve.push(st),pt):new u.Y(st.startLineNumber,st.startColumn,pt.endLineNumber,pt.endColumn));ve.push(xe);const je=me.getModel();if(je===null)return;const Oe=[],Ze=[];let it=se,Et=0;for(let st=0,pt=ve.length;st<pt;st++){const Mt=ve[st],qt=Mt.startLineNumber,Ft=1;let Xt=0,_t,nt;const tt=je.getLineLength(Mt.endLineNumber)-Mt.endColumn;if(Mt.isEmpty()||Mt.startLineNumber===Mt.endLineNumber){const Be=Mt.getStartPosition();Be.lineNumber<je.getLineCount()?(_t=qt+1,nt=je.getLineMaxColumn(_t)):(_t=Be.lineNumber,nt=je.getLineMaxColumn(Be.lineNumber))}else _t=Mt.endLineNumber,nt=je.getLineMaxColumn(_t);let xt=je.getLineContent(qt);for(let Be=qt+1;Be<=_t;Be++){const yt=je.getLineContent(Be),un=je.getLineFirstNonWhitespaceColumn(Be);if(un>=1){let In=!0;xt===""&&(In=!1),In&&(xt.charAt(xt.length-1)===" "||xt.charAt(xt.length-1)==="	")&&(In=!1,xt=xt.replace(/[\s\uFEFF\xA0]+$/g," "));const bn=yt.substr(un-1);xt+=(In?" ":"")+bn,In?Xt=bn.length+1:Xt=bn.length}else Xt=0}const Lt=new I.e(qt,Ft,_t,nt);if(!Lt.isEmpty()){let Be;Mt.isEmpty()?(Oe.push(_.h.replace(Lt,xt)),Be=new u.Y(Lt.startLineNumber-Et,xt.length-Xt+1,qt-Et,xt.length-Xt+1)):Mt.startLineNumber===Mt.endLineNumber?(Oe.push(_.h.replace(Lt,xt)),Be=new u.Y(Mt.startLineNumber-Et,Mt.startColumn,Mt.endLineNumber-Et,Mt.endColumn)):(Oe.push(_.h.replace(Lt,xt)),Be=new u.Y(Mt.startLineNumber-Et,Mt.startColumn,Mt.startLineNumber-Et,xt.length-tt)),I.e.intersectRanges(Lt,se)!==null?it=Be:Ze.push(Be)}Et+=Lt.endLineNumber-Lt.startLineNumber}Ze.unshift(it),me.pushUndoStop(),me.executeEdits(this.id,Oe,Ze),me.pushUndoStop()}}class Ne extends r.R6{constructor(){super({id:"editor.action.transpose",label:W.NC("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:d.u.writable})}run(Se,me){const he=me.getSelections();if(he===null)return;const se=me.getModel();if(se===null)return;const ve=[];for(let xe=0,je=he.length;xe<je;xe++){const Oe=he[xe];if(!Oe.isEmpty())continue;const Ze=Oe.getStartPosition(),it=se.getLineMaxColumn(Ze.lineNumber);if(Ze.column>=it){if(Ze.lineNumber===se.getLineCount())continue;const Et=new I.e(Ze.lineNumber,Math.max(1,Ze.column-1),Ze.lineNumber+1,1),st=se.getValueInRange(Et).split("").reverse().join("");ve.push(new w.T4(new u.Y(Ze.lineNumber,Math.max(1,Ze.column-1),Ze.lineNumber+1,1),st))}else{const Et=new I.e(Ze.lineNumber,Math.max(1,Ze.column-1),Ze.lineNumber,Ze.column+1),st=se.getValueInRange(Et).split("").reverse().join("");ve.push(new w.hP(Et,st,new u.Y(Ze.lineNumber,Ze.column+1,Ze.lineNumber,Ze.column+1)))}}me.pushUndoStop(),me.executeCommands(this.id,ve),me.pushUndoStop()}}class ae extends r.R6{run(Se,me){const he=me.getSelections();if(he===null)return;const se=me.getModel();if(se===null)return;const ve=me.getOption(129),xe=[];for(const je of he)if(je.isEmpty()){const Oe=je.getStartPosition(),Ze=me.getConfiguredWordAtPosition(Oe);if(!Ze)continue;const it=new I.e(Oe.lineNumber,Ze.startColumn,Oe.lineNumber,Ze.endColumn),Et=se.getValueInRange(it);xe.push(_.h.replace(it,this._modifyText(Et,ve)))}else{const Oe=se.getValueInRange(je);xe.push(_.h.replace(je,this._modifyText(Oe,ve)))}me.pushUndoStop(),me.executeEdits(this.id,xe),me.pushUndoStop()}}class Me extends ae{constructor(){super({id:"editor.action.transformToUppercase",label:W.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:d.u.writable})}_modifyText(Se,me){return Se.toLocaleUpperCase()}}class ke extends ae{constructor(){super({id:"editor.action.transformToLowercase",label:W.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:d.u.writable})}_modifyText(Se,me){return Se.toLocaleLowerCase()}}class Ue{constructor(Se,me){this._pattern=Se,this._flags=me,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(Se){}}return this._actual}isSupported(){return this.get()!==null}}class Le extends ae{constructor(){super({id:"editor.action.transformToTitlecase",label:W.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:d.u.writable})}_modifyText(Se,me){const he=Le.titleBoundary.get();return he?Se.toLocaleLowerCase().replace(he,se=>se.toLocaleUpperCase()):Se}}Le.titleBoundary=new Ue("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ie extends ae{constructor(){super({id:"editor.action.transformToSnakecase",label:W.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:d.u.writable})}_modifyText(Se,me){const he=ie.caseBoundary.get(),se=ie.singleLetters.get();return!he||!se?Se:Se.replace(he,"$1_$2").replace(se,"$1_$2$3").toLocaleLowerCase()}}ie.caseBoundary=new Ue("(\\p{Ll})(\\p{Lu})","gmu"),ie.singleLetters=new Ue("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class ce extends ae{constructor(){super({id:"editor.action.transformToCamelcase",label:W.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:d.u.writable})}_modifyText(Se,me){const he=ce.wordBoundary.get();if(!he)return Se;const se=Se.split(he);return se.shift()+se.map(xe=>xe.substring(0,1).toLocaleUpperCase()+xe.substring(1)).join("")}}ce.wordBoundary=new Ue("[_\\s-]","gm");class Re extends ae{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(me=>me.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:W.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:d.u.writable})}_modifyText(Se,me){const he=Re.caseBoundary.get(),se=Re.singleLetters.get(),ve=Re.underscoreBoundary.get();return!he||!se||!ve?Se:Se.replace(ve,"$1-$3").replace(he,"$1-$2").replace(se,"$1-$2").toLocaleLowerCase()}}Re.caseBoundary=new Ue("(\\p{Ll})(\\p{Lu})","gmu"),Re.singleLetters=new Ue("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Re.underscoreBoundary=new Ue("(\\S)(_)(\\S)","gm"),(0,r.Qr)(R),(0,r.Qr)(L),(0,r.Qr)(z),(0,r.Qr)(P),(0,r.Qr)(H),(0,r.Qr)(G),(0,r.Qr)(j),(0,r.Qr)(F),(0,r.Qr)(K),(0,r.Qr)(m),(0,r.Qr)(J),(0,r.Qr)(X),(0,r.Qr)(te),(0,r.Qr)(le),(0,r.Qr)(we),(0,r.Qr)(pe),(0,r.Qr)(Pe),(0,r.Qr)(Ne),(0,r.Qr)(Me),(0,r.Qr)(ke),ie.caseBoundary.isSupported()&&ie.singleLetters.isSupported()&&(0,r.Qr)(ie),ce.wordBoundary.isSupported()&&(0,r.Qr)(ce),Le.titleBoundary.isSupported()&&(0,r.Qr)(Le),Re.isSupported()&&(0,r.Qr)(Re)},69949:function(Ot,Ke,e){"use strict";var b=e(9488),U=e(15393),r=e(71050),w=e(41264),c=e(17301),_=e(4669),I=e(5976),M=e(97295),D=e(70666),p=e(16830),o=e(11640),u=e(50187),d=e(24314),n=e(29102),i=e(84901),f=e(4256),v=e(63580),a=e(32064),S=e(71922),g=e(73910),y=e(88191),C=e(84013),E=function(O,P,H,V){var G=arguments.length,j=G<3?P:V===null?V=Object.getOwnPropertyDescriptor(P,H):V,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(O,P,H,V);else for(var K=O.length-1;K>=0;K--)(F=O[K])&&(j=(G<3?F(j):G>3?F(P,H,j):F(P,H))||j);return G>3&&j&&Object.defineProperty(P,H,j),j},A=function(O,P){return function(H,V){P(H,V,O)}},N;const B=new a.uy("LinkedEditingInputVisible",!1),W="linked-editing-decoration";let $=N=class extends I.JT{static get(P){return P.getContribution(N.ID)}constructor(P,H,V,G,j){super(),this.languageConfigurationService=G,this._syncRangesToken=0,this._localToDispose=this._register(new I.SL),this._editor=P,this._providers=V.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=B.bindTo(H),this._debounceInformation=j.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new I.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(69)||F.hasChanged(92))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(P){const H=this._editor.getModel(),V=H!==null&&(this._editor.getOption(69)||this._editor.getOption(92))&&this._providers.has(H);if(V===this._enabled&&!P||(this._enabled=V,this.clearRanges(),this._localToDispose.clear(),!V||H===null))return;this._localToDispose.add(_.ju.runAndSubscribe(H.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(H.getLanguageId()).getWordDefinition()}));const G=new U.vp(this._debounceInformation.get(H)),j=()=>{var m;this._rangeUpdateTriggerPromise=G.trigger(()=>this.updateRanges(),(m=this._debounceDuration)!==null&&m!==void 0?m:this._debounceInformation.get(H))},F=new U.vp(0),K=m=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(m))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{j()})),this._localToDispose.add(this._editor.onDidChangeModelContent(m=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const J=this._currentDecorations.getRange(0);if(J&&m.changes.every(X=>J.intersectRanges(X.range))){K(this._syncRangesToken);return}}j()})),this._localToDispose.add({dispose:()=>{G.dispose(),F.dispose()}}),this.updateRanges()}_syncRanges(P){if(!this._editor.hasModel()||P!==this._syncRangesToken||this._currentDecorations.length===0)return;const H=this._editor.getModel(),V=this._currentDecorations.getRange(0);if(!V||V.startLineNumber!==V.endLineNumber)return this.clearRanges();const G=H.getValueInRange(V);if(this._currentWordPattern){const F=G.match(this._currentWordPattern);if((F?F[0].length:0)!==G.length)return this.clearRanges()}const j=[];for(let F=1,K=this._currentDecorations.length;F<K;F++){const m=this._currentDecorations.getRange(F);if(m)if(m.startLineNumber!==m.endLineNumber)j.push({range:m,text:G});else{let J=H.getValueInRange(m),X=G,te=m.startColumn,le=m.endColumn;const ge=M.Mh(J,X);te+=ge,J=J.substr(ge),X=X.substr(ge);const we=M.P1(J,X);le-=we,J=J.substr(0,J.length-we),X=X.substr(0,X.length-we),(te!==le||X.length!==0)&&j.push({range:new d.e(m.startLineNumber,te,m.endLineNumber,le),text:X})}}if(j.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",j),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(P=!1){return tn(this,null,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const H=this._editor.getPosition();if(!this._enabled&&!P||this._editor.getSelections().length>1){this.clearRanges();return}const V=this._editor.getModel(),G=V.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===G){if(H.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const F=this._currentDecorations.getRange(0);if(F&&F.containsPosition(H))return}}this.clearRanges(),this._currentRequestPosition=H,this._currentRequestModelVersion=G;const j=(0,U.PG)(F=>tn(this,null,function*(){try{const K=new C.G(!1),m=yield L(this._providers,V,H,F);if(this._debounceInformation.update(V,K.elapsed()),j!==this._currentRequest||(this._currentRequest=null,G!==V.getVersionId()))return;let J=[];m!=null&&m.ranges&&(J=m.ranges),this._currentWordPattern=(m==null?void 0:m.wordPattern)||this._languageWordPattern;let X=!1;for(let le=0,ge=J.length;le<ge;le++)if(d.e.containsPosition(J[le],H)){if(X=!0,le!==0){const we=J[le];J.splice(le,1),J.unshift(we)}break}if(!X){this.clearRanges();return}const te=J.map(le=>({range:le,options:N.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(te),this._syncRangesToken++}catch(K){(0,c.n2)(K)||(0,c.dL)(K),(this._currentRequest===j||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=j,j})}};$.ID="editor.contrib.linkedEditing",$.DECORATION=i.qx.register({description:"linked-editing",stickiness:0,className:W}),$=N=E([A(1,a.i6),A(2,S.p),A(3,f.c_),A(4,y.A)],$);class Y extends p.R6{constructor(){super({id:"editor.action.linkedEditing",label:v.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:a.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:3132,weight:100}})}runCommand(P,H){const V=P.get(o.$),[G,j]=Array.isArray(H)&&H||[void 0,void 0];return D.o.isUri(G)&&u.L.isIPosition(j)?V.openCodeEditor({resource:G},V.getActiveCodeEditor()).then(F=>{F&&(F.setPosition(j),F.invokeWithinContext(K=>(this.reportTelemetry(K,F),this.run(K,F))))},c.dL):super.runCommand(P,H)}run(P,H){const V=$.get(H);return V?Promise.resolve(V.updateRanges(!0)):Promise.resolve()}}const R=p._l.bindToContribution($.get);(0,p.fK)(new R({id:"cancelLinkedEditingInput",precondition:B,handler:O=>O.clearRanges(),kbOpts:{kbExpr:n.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function L(O,P,H,V){const G=O.ordered(P);return(0,U.Ps)(G.map(j=>()=>tn(this,null,function*(){try{return yield j.provideLinkedEditingRanges(P,H,V)}catch(F){(0,c.Cp)(F);return}})),j=>!!j&&b.Of(j==null?void 0:j.ranges))}const z=(0,g.P6G)("editor.linkedEditingBackground",{dark:w.Il.fromHex("#f00").transparent(.3),light:w.Il.fromHex("#f00").transparent(.3),hcDark:w.Il.fromHex("#f00").transparent(.3),hcLight:w.Il.white},v.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,p.sb)("_executeLinkedEditingProvider",(O,P,H)=>{const{linkedEditingRangeProvider:V}=O.get(S.p);return L(V,P,H,r.T.None)}),(0,p._K)($.ID,$,1),(0,p.Qr)(Y)},60468:function(Ot,Ke,e){"use strict";var b=e(15393),U=e(71050),r=e(17301),w=e(59365),c=e(5976),_=e(66663),I=e(1432),M=e(95935),D=e(84013),p=e(70666),o=e(16830),u=e(84901),d=e(88191),n=e(71922),i=e(82005),f=e(9488),v=e(98401),a=e(24314),S=e(73733),g=e(94565);class y{constructor(V,G){this._link=V,this._provider=G}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(V){return tn(this,null,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,V)).then(G=>(this._link=G||this._link,this._link.url?this.resolve(V):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class C{constructor(V){this._disposables=new c.SL;let G=[];for(const[j,F]of V){const K=j.links.map(m=>new y(m,F));G=C._union(G,K),(0,c.Wf)(j)&&this._disposables.add(j)}this.links=G}dispose(){this._disposables.dispose(),this.links.length=0}static _union(V,G){const j=[];let F,K,m,J;for(F=0,m=0,K=V.length,J=G.length;F<K&&m<J;){const X=V[F],te=G[m];if(a.e.areIntersectingOrTouching(X.range,te.range)){F++;continue}a.e.compareRangesUsingStarts(X.range,te.range)<0?(j.push(X),F++):(j.push(te),m++)}for(;F<K;F++)j.push(V[F]);for(;m<J;m++)j.push(G[m]);return j}}function E(H,V,G){const j=[],F=H.ordered(V).reverse().map((K,m)=>Promise.resolve(K.provideLinks(V,G)).then(J=>{J&&(j[m]=[J,K])},r.Cp));return Promise.all(F).then(()=>{const K=new C((0,f.kX)(j));return G.isCancellationRequested?(K.dispose(),new C([])):K})}g.P.registerCommand("_executeLinkProvider",(H,...V)=>tn(this,null,function*(){let[G,j]=V;(0,v.p_)(G instanceof p.o),typeof j!="number"&&(j=0);const{linkProvider:F}=H.get(n.p),K=H.get(S.q).getModel(G);if(!K)return[];const m=yield E(F,K,U.T.None);if(!m)return[];for(let X=0;X<Math.min(j,m.links.length);X++)yield m.links[X].resolve(U.T.None);const J=m.links.slice(0);return m.dispose(),J}));var A=e(63580),N=e(48894),B=e(50988),W=function(H,V,G,j){var F=arguments.length,K=F<3?V:j===null?j=Object.getOwnPropertyDescriptor(V,G):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,V,G,j);else for(var J=H.length-1;J>=0;J--)(m=H[J])&&(K=(F<3?m(K):F>3?m(V,G,K):m(V,G))||K);return F>3&&K&&Object.defineProperty(V,G,K),K},$=function(H,V){return function(G,j){V(G,j,H)}},Y;let R=Y=class extends c.JT{static get(V){return V.getContribution(Y.ID)}constructor(V,G,j,F,K){super(),this.editor=V,this.openerService=G,this.notificationService=j,this.languageFeaturesService=F,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=K.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new b.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const m=this._register(new i.yN(V));this._register(m.onMouseMoveOrRelevantKeyDown(([J,X])=>{this._onEditorMouseMove(J,X)})),this._register(m.onExecute(J=>{this.onEditorMouseUp(J)})),this._register(m.onCancel(J=>{this.cleanUpActiveLinkDecoration()})),this._register(V.onDidChangeConfiguration(J=>{J.hasChanged(70)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(V.onDidChangeModelContent(J=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(V.onDidChangeModel(J=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(V.onDidChangeModelLanguage(J=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(J=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return tn(this,null,function*(){if(!this.editor.hasModel()||!this.editor.getOption(70))return;const V=this.editor.getModel();if(!V.isTooLargeForSyncing()&&this.providers.has(V)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,b.PG)(G=>E(this.providers,V,G));try{const G=new D.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(V,G.elapsed()),V.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(G){(0,r.dL)(G)}finally{this.computePromise=null}}})}updateDecorations(V){const G=this.editor.getOption(77)==="altKey",j=[],F=Object.keys(this.currentOccurrences);for(const m of F){const J=this.currentOccurrences[m];j.push(J.decorationId)}const K=[];if(V)for(const m of V)K.push(z.decoration(m,G));this.editor.changeDecorations(m=>{const J=m.deltaDecorations(j,K);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let X=0,te=J.length;X<te;X++){const le=new z(V[X],J[X]);this.currentOccurrences[le.decorationId]=le}})}_onEditorMouseMove(V,G){const j=this.editor.getOption(77)==="altKey";if(this.isEnabled(V,G)){this.cleanUpActiveLinkDecoration();const F=this.getLinkOccurrence(V.target.position);F&&this.editor.changeDecorations(K=>{F.activate(K,j),this.activeLinkDecorationId=F.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const V=this.editor.getOption(77)==="altKey";if(this.activeLinkDecorationId){const G=this.currentOccurrences[this.activeLinkDecorationId];G&&this.editor.changeDecorations(j=>{G.deactivate(j,V)}),this.activeLinkDecorationId=null}}onEditorMouseUp(V){if(!this.isEnabled(V))return;const G=this.getLinkOccurrence(V.target.position);G&&this.openLinkOccurrence(G,V.hasSideBySideModifier,!0)}openLinkOccurrence(V,G,j=!1){if(!this.openerService)return;const{link:F}=V;F.resolve(U.T.None).then(K=>{if(typeof K=="string"&&this.editor.hasModel()){const m=this.editor.getModel().uri;if(m.scheme===_.lg.file&&K.startsWith(`${_.lg.file}:`)){const J=p.o.parse(K);if(J.scheme===_.lg.file){const X=M.z_(J);let te=null;X.startsWith("/./")?te=`.${X.substr(1)}`:X.startsWith("//./")&&(te=`.${X.substr(2)}`),te&&(K=M.Vo(m,te))}}}return this.openerService.open(K,{openToSide:G,fromUserGesture:j,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},K=>{const m=K instanceof Error?K.message:K;m==="invalid"?this.notificationService.warn(A.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",F.url.toString())):m==="missing"?this.notificationService.warn(A.NC("missing.url","Failed to open this link because its target is missing.")):(0,r.dL)(K)})}getLinkOccurrence(V){if(!this.editor.hasModel()||!V)return null;const G=this.editor.getModel().getDecorationsInRange({startLineNumber:V.lineNumber,startColumn:V.column,endLineNumber:V.lineNumber,endColumn:V.column},0,!0);for(const j of G){const F=this.currentOccurrences[j.id];if(F)return F}return null}isEnabled(V,G){return!!(V.target.type===6&&(V.hasTriggerModifier||G&&G.keyCodeIsTriggerKey))}stop(){var V;this.computeLinks.cancel(),this.activeLinksList&&((V=this.activeLinksList)===null||V===void 0||V.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};R.ID="editor.linkDetector",R=Y=W([$(1,B.v),$(2,N.lT),$(3,n.p),$(4,d.A)],R);const L={general:u.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:u.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class z{static decoration(V,G){return{range:V.range,options:z._getOptions(V,G,!1)}}static _getOptions(V,G,j){const F=Xn({},j?L.active:L.general);return F.hoverMessage=O(V,G),F}constructor(V,G){this.link=V,this.decorationId=G}activate(V,G){V.changeDecorationOptions(this.decorationId,z._getOptions(this.link,G,!0))}deactivate(V,G){V.changeDecorationOptions(this.decorationId,z._getOptions(this.link,G,!1))}}function O(H,V){const G=H.url&&/^command:/i.test(H.url.toString()),j=H.tooltip?H.tooltip:G?A.NC("links.navigate.executeCmd","Execute command"):A.NC("links.navigate.follow","Follow link"),F=V?I.dz?A.NC("links.navigate.kb.meta.mac","cmd + click"):A.NC("links.navigate.kb.meta","ctrl + click"):I.dz?A.NC("links.navigate.kb.alt.mac","option + click"):A.NC("links.navigate.kb.alt","alt + click");if(H.url){let K="";if(/^command:/i.test(H.url.toString())){const J=H.url.toString().match(/^command:([^?#]+)/);if(J){const X=J[1];K=A.NC("tooltip.explanation","Execute command {0}",X)}}return new w.W5("",!0).appendLink(H.url.toString(!0).replace(/ /g,"%20"),j,K).appendMarkdown(` (${F})`)}else return new w.W5().appendText(`${j} (${F})`)}class P extends o.R6{constructor(){super({id:"editor.action.openLink",label:A.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(V,G){const j=R.get(G);if(!j||!G.hasModel())return;const F=G.getSelections();for(const K of F){const m=j.getLinkOccurrence(K.getEndPosition());m&&j.openLinkOccurrence(m,!1)}}}(0,o._K)(R.ID,R,1),(0,o.Qr)(P)},93519:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(16830);class r extends b.JT{constructor(c){super(),this._editor=c,this._register(this._editor.onMouseDown(_=>{const I=this._editor.getOption(116);I>=0&&_.target.type===6&&_.target.position.column>=I&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}r.ID="editor.contrib.longLinesHelper",(0,U._K)(r.ID,r,2)},33772:function(Ot,Ke,e){"use strict";e.d(Ke,{$:function(){return n},N:function(){return i}});var b=e(53253),U=e(77514),r=e(17301),w=e(4669),c=e(5976),_=e(52136),I=e(72042),M=e(68801),D=e(82963),p=e(50988),o=function(v,a,S,g){var y=arguments.length,C=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,S):g,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(v,a,S,g);else for(var A=v.length-1;A>=0;A--)(E=v[A])&&(C=(y<3?E(C):y>3?E(a,S,C):E(a,S))||C);return y>3&&C&&Object.defineProperty(a,S,C),C},u=function(v,a){return function(S,g){a(S,g,v)}},d;let n=d=class{constructor(a,S,g){this._options=a,this._languageService=S,this._openerService=g,this._onDidRenderAsync=new w.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(a,S,g){if(!a)return{element:document.createElement("span"),dispose:()=>{}};const y=new c.SL,C=y.add((0,b.ap)(a,Xn(Xn({},this._getRenderOptions(a,y)),S),g));return C.element.classList.add("rendered-markdown"),{element:C.element,dispose:()=>y.dispose()}}_getRenderOptions(a,S){return{codeBlockRenderer:(g,y)=>tn(this,null,function*(){var C,E,A;let N;g?N=this._languageService.getLanguageIdByLanguageName(g):this._options.editor&&(N=(C=this._options.editor.getModel())===null||C===void 0?void 0:C.getLanguageId()),N||(N=M.bd);const B=yield(0,D.C2)(this._languageService,y,N),W=document.createElement("span");if(W.innerHTML=(A=(E=d._ttpTokenizer)===null||E===void 0?void 0:E.createHTML(B))!==null&&A!==void 0?A:B,this._options.editor){const $=this._options.editor.getOption(50);(0,_.N)(W,$)}else this._options.codeBlockFontFamily&&(W.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(W.style.fontSize=this._options.codeBlockFontSize),W}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:g=>i(this._openerService,g,a.isTrusted),disposables:S}}}};n._ttpTokenizer=(0,U.Z)("tokenizeToString",{createHTML(v){return v}}),n=d=o([u(1,I.O),u(2,p.v)],n);function i(v,a,S){return tn(this,null,function*(){try{return yield v.open(a,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:f(S)})}catch(g){return(0,r.dL)(g),!1}})}function f(v){return v===!0?!0:v&&Array.isArray(v.enabledCommands)?v.enabledCommands:!1}},27863:function(Ot,Ke,e){"use strict";e.d(Ke,{O:function(){return f}});var b=e(53253),U=e(35996),r=e(4669),w=e(59365),c=e(5976),_=e(16830),I=e(24314),M=e(33772),D=e(63580),p=e(32064),o=e(50988),u=e(65321),d=function(S,g,y,C){var E=arguments.length,A=E<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(S,g,y,C);else for(var B=S.length-1;B>=0;B--)(N=S[B])&&(A=(E<3?N(A):E>3?N(g,y,A):N(g,y))||A);return E>3&&A&&Object.defineProperty(g,y,A),A},n=function(S,g){return function(y,C){g(y,C,S)}},i;let f=i=class{static get(g){return g.getContribution(i.ID)}constructor(g,y,C){this._openerService=C,this._messageWidget=new c.XK,this._messageListeners=new c.SL,this._mouseOverMessage=!1,this._editor=g,this._visible=i.MESSAGE_VISIBLE.bindTo(y)}dispose(){var g;(g=this._message)===null||g===void 0||g.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(g,y){(0,U.Z9)((0,w.Fr)(g)?g.value:g),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,w.Fr)(g)?(0,b.ap)(g,{actionHandler:{callback:E=>(0,M.N)(this._openerService,E,(0,w.Fr)(g)?g.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new a(this._editor,y,typeof g=="string"?g:this._message.element),this._messageListeners.add(r.ju.debounce(this._editor.onDidBlurEditorText,(E,A)=>A,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&u.jg(u.vY(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(u.nm(this._messageWidget.value.getDomNode(),u.tw.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(u.nm(this._messageWidget.value.getDomNode(),u.tw.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let C;this._messageListeners.add(this._editor.onMouseMove(E=>{E.target.position&&(C?C.containsPosition(E.target.position)||this.closeMessage():C=new I.e(y.lineNumber-3,1,E.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(a.fadeOut(this._messageWidget.value))}};f.ID="editor.contrib.messageController",f.MESSAGE_VISIBLE=new p.uy("messageVisible",!1,D.NC("messageVisible","Whether the editor is currently showing an inline message")),f=i=d([n(1,p.i6),n(2,o.v)],f);const v=_._l.bindToContribution(f.get);(0,_.fK)(new v({id:"leaveEditorMessage",precondition:f.MESSAGE_VISIBLE,handler:S=>S.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class a{static fadeOut(g){const y=()=>{g.dispose(),clearTimeout(C),g.getDomNode().removeEventListener("animationend",y)},C=setTimeout(y,110);return g.getDomNode().addEventListener("animationend",y),g.getDomNode().classList.add("fadeOut"),{dispose:y}}constructor(g,{lineNumber:y,column:C},E){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=g,this._editor.revealLinesInCenterIfOutsideViewport(y,y,0),this._position={lineNumber:y,column:C},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const A=document.createElement("div");A.classList.add("anchor","top"),this._domNode.appendChild(A);const N=document.createElement("div");typeof E=="string"?(N.classList.add("message"),N.textContent=E):(E.classList.add("message"),N.appendChild(E)),this._domNode.appendChild(N);const B=document.createElement("div");B.classList.add("anchor","below"),this._domNode.appendChild(B),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(g){this._domNode.classList.toggle("below",g===2)}}(0,_._K)(f.ID,f,4)},77061:function(Ot,Ke,e){"use strict";var b=e(35996),U=e(15393),r=e(22258),w=e(5976),c=e(16830),_=e(28108),I=e(24314),M=e(3860),D=e(29102),p=e(63980),o=e(63580),u=e(84144),d=e(32064),n=e(71922),i=e(71828),f=e(72065),v=function(J,X,te,le){var ge=arguments.length,we=ge<3?X:le===null?le=Object.getOwnPropertyDescriptor(X,te):le,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(J,X,te,le);else for(var Pe=J.length-1;Pe>=0;Pe--)(pe=J[Pe])&&(we=(ge<3?pe(we):ge>3?pe(X,te,we):pe(X,te))||we);return ge>3&&we&&Object.defineProperty(X,te,we),we},a=function(J,X){return function(te,le){X(te,le,J)}},S;function g(J,X){const te=X.filter(le=>!J.find(ge=>ge.equals(le)));if(te.length>=1){const le=te.map(we=>`line ${we.viewState.position.lineNumber} column ${we.viewState.position.column}`).join(", "),ge=te.length===1?o.NC("cursorAdded","Cursor added: {0}",le):o.NC("cursorsAdded","Cursors added: {0}",le);(0,b.i7)(ge)}}class y extends c.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:o.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(X,te,le){if(!te.hasModel())return;let ge=!0;le&&le.logicalLine===!1&&(ge=!1);const we=te._getViewModel();if(we.cursorConfig.readOnly)return;we.model.pushStackElement();const pe=we.getCursorStates();we.setCursorStates(le.source,3,_.P.addCursorUp(we,pe,ge)),we.revealTopMostCursor(le.source),g(pe,we.getCursorStates())}}class C extends c.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:o.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(X,te,le){if(!te.hasModel())return;let ge=!0;le&&le.logicalLine===!1&&(ge=!1);const we=te._getViewModel();if(we.cursorConfig.readOnly)return;we.model.pushStackElement();const pe=we.getCursorStates();we.setCursorStates(le.source,3,_.P.addCursorDown(we,pe,ge)),we.revealBottomMostCursor(le.source),g(pe,we.getCursorStates())}}class E extends c.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(X,te,le){if(!X.isEmpty()){for(let ge=X.startLineNumber;ge<X.endLineNumber;ge++){const we=te.getLineMaxColumn(ge);le.push(new M.Y(ge,we,ge,we))}X.endColumn>1&&le.push(new M.Y(X.endLineNumber,X.endColumn,X.endLineNumber,X.endColumn))}}run(X,te){if(!te.hasModel())return;const le=te.getModel(),ge=te.getSelections(),we=te._getViewModel(),pe=we.getCursorStates(),Pe=[];ge.forEach(Ne=>this.getCursorsForSelection(Ne,le,Pe)),Pe.length>0&&te.setSelections(Pe),g(pe,we.getCursorStates())}}class A extends c.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:o.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(X,te){if(!te.hasModel())return;const le=te.getSelections(),ge=te.getModel().getLineCount(),we=[];for(let Ne=le[0].startLineNumber;Ne<=ge;Ne++)we.push(new M.Y(Ne,le[0].startColumn,Ne,le[0].endColumn));const pe=te._getViewModel(),Pe=pe.getCursorStates();we.length>0&&te.setSelections(we),g(Pe,pe.getCursorStates())}}class N extends c.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:o.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(X,te){if(!te.hasModel())return;const le=te.getSelections(),ge=[];for(let Pe=le[0].startLineNumber;Pe>=1;Pe--)ge.push(new M.Y(Pe,le[0].startColumn,Pe,le[0].endColumn));const we=te._getViewModel(),pe=we.getCursorStates();ge.length>0&&te.setSelections(ge),g(pe,we.getCursorStates())}}class B{constructor(X,te,le){this.selections=X,this.revealRange=te,this.revealScrollType=le}}class W{static create(X,te){if(!X.hasModel())return null;const le=te.getState();if(!X.hasTextFocus()&&le.isRevealed&&le.searchString.length>0)return new W(X,te,!1,le.searchString,le.wholeWord,le.matchCase,null);let ge=!1,we,pe;const Pe=X.getSelections();Pe.length===1&&Pe[0].isEmpty()?(ge=!0,we=!0,pe=!0):(we=le.wholeWord,pe=le.matchCase);const Ne=X.getSelection();let ae,Me=null;if(Ne.isEmpty()){const ke=X.getConfiguredWordAtPosition(Ne.getStartPosition());if(!ke)return null;ae=ke.word,Me=new M.Y(Ne.startLineNumber,ke.startColumn,Ne.startLineNumber,ke.endColumn)}else ae=X.getModel().getValueInRange(Ne).replace(/\r\n/g,`
`);return new W(X,te,ge,ae,we,pe,Me)}constructor(X,te,le,ge,we,pe,Pe){this._editor=X,this.findController=te,this.isDisconnectedFromFindController=le,this.searchText=ge,this.wholeWord=we,this.matchCase=pe,this.currentMatch=Pe}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const te=this._editor.getSelections();return new B(te.concat(X),X,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const te=this._editor.getSelections();return new B(te.slice(0,te.length-1).concat(X),X,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ge=this.currentMatch;return this.currentMatch=null,ge}this.findController.highlightFindOptions();const X=this._editor.getSelections(),te=X[X.length-1],le=this._editor.getModel().findNextMatch(this.searchText,te.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return le?new M.Y(le.range.startLineNumber,le.range.startColumn,le.range.endLineNumber,le.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const te=this._editor.getSelections();return new B(te.concat(X),X,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const te=this._editor.getSelections();return new B(te.slice(0,te.length-1).concat(X),X,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ge=this.currentMatch;return this.currentMatch=null,ge}this.findController.highlightFindOptions();const X=this._editor.getSelections(),te=X[X.length-1],le=this._editor.getModel().findPreviousMatch(this.searchText,te.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return le?new M.Y(le.range.startLineNumber,le.range.startColumn,le.range.endLineNumber,le.range.endColumn):null}selectAll(X){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const te=this._editor.getModel();return X?te.findMatches(this.searchText,X,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824):te.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824)}}class $ extends w.JT{static get(X){return X.getContribution($.ID)}constructor(X){super(),this._sessionDispose=this._register(new w.SL),this._editor=X,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(X){if(!this._session){const te=W.create(this._editor,X);if(!te)return;this._session=te;const le={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(le.wholeWordOverride=1,le.matchCaseOverride=1,le.isRegexOverride=2),X.getState().change(le,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ge=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(X.getState().onFindReplaceStateChange(ge=>{(ge.matchCase||ge.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const X={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(X,!1)}this._session=null}_setSelections(X){this._ignoreSelectionChange=!0,this._editor.setSelections(X),this._ignoreSelectionChange=!1}_expandEmptyToWord(X,te){if(!te.isEmpty())return te;const le=this._editor.getConfiguredWordAtPosition(te.getStartPosition());return le?new M.Y(te.startLineNumber,le.startColumn,te.startLineNumber,le.endColumn):te}_applySessionResult(X){X&&(this._setSelections(X.selections),X.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(X.revealRange,X.revealScrollType))}getSession(X){return this._session}addSelectionToNextFindMatch(X){if(this._editor.hasModel()){if(!this._session){const te=this._editor.getSelections();if(te.length>1){const ge=X.getState().matchCase;if(!j(this._editor.getModel(),te,ge)){const pe=this._editor.getModel(),Pe=[];for(let Ne=0,ae=te.length;Ne<ae;Ne++)Pe[Ne]=this._expandEmptyToWord(pe,te[Ne]);this._editor.setSelections(Pe);return}}}this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(X){if(!this._editor.hasModel())return;let te=null;const le=X.getState();if(le.isRevealed&&le.searchString.length>0&&le.isRegex){const ge=this._editor.getModel();le.searchScope?te=ge.findMatches(le.searchString,le.searchScope,le.isRegex,le.matchCase,le.wholeWord?this._editor.getOption(129):null,!1,1073741824):te=ge.findMatches(le.searchString,!0,le.isRegex,le.matchCase,le.wholeWord?this._editor.getOption(129):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(X),!this._session)return;te=this._session.selectAll(le.searchScope)}if(te.length>0){const ge=this._editor.getSelection();for(let we=0,pe=te.length;we<pe;we++){const Pe=te[we];if(Pe.range.intersectRanges(ge)){te[we]=te[0],te[0]=Pe;break}}this._setSelections(te.map(we=>new M.Y(we.range.startLineNumber,we.range.startColumn,we.range.endLineNumber,we.range.endColumn)))}}}$.ID="editor.contrib.multiCursorController";class Y extends c.R6{run(X,te){const le=$.get(te);if(!le)return;const ge=te._getViewModel();if(ge){const we=ge.getCursorStates(),pe=p.pR.get(te);if(pe)this._run(le,pe);else{const Pe=X.get(f.TG).createInstance(p.pR,te);this._run(le,Pe),Pe.dispose()}g(we,ge.getCursorStates())}}}class R extends Y{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:o.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:2082,weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(X,te){X.addSelectionToNextFindMatch(te)}}class L extends Y{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:o.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(X,te){X.addSelectionToPreviousFindMatch(te)}}class z extends Y{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:o.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:(0,r.gx)(2089,2082),weight:100}})}_run(X,te){X.moveSelectionToNextFindMatch(te)}}class O extends Y{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:o.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(X,te){X.moveSelectionToPreviousFindMatch(te)}}class P extends Y{constructor(){super({id:"editor.action.selectHighlights",label:o.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:3114,weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(X,te){X.selectAll(te)}}class H extends Y{constructor(){super({id:"editor.action.changeAll",label:o.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:d.Ao.and(D.u.writable,D.u.editorTextFocus),kbOpts:{kbExpr:D.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(X,te){X.selectAll(te)}}class V{constructor(X,te,le,ge,we){this._model=X,this._searchText=te,this._matchCase=le,this._wordSeparators=ge,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,we&&this._model===we._model&&this._searchText===we._searchText&&this._matchCase===we._matchCase&&this._wordSeparators===we._wordSeparators&&this._modelVersionId===we._modelVersionId&&(this._cachedFindMatches=we._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(X=>X.range),this._cachedFindMatches.sort(I.e.compareRangesUsingStarts)),this._cachedFindMatches}}let G=S=class extends w.JT{constructor(X,te){super(),this._languageFeaturesService=te,this.editor=X,this._isEnabled=X.getOption(107),this._decorations=X.createDecorationsCollection(),this.updateSoon=this._register(new U.pY(()=>this._update(),300)),this.state=null,this._register(X.onDidChangeConfiguration(ge=>{this._isEnabled=X.getOption(107)})),this._register(X.onDidChangeCursorSelection(ge=>{this._isEnabled&&(ge.selection.isEmpty()?ge.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(X.onDidChangeModel(ge=>{this._setState(null)})),this._register(X.onDidChangeModelContent(ge=>{this._isEnabled&&this.updateSoon.schedule()}));const le=p.pR.get(X);le&&this._register(le.getState().onFindReplaceStateChange(ge=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(S._createState(this.state,this._isEnabled,this.editor))}static _createState(X,te,le){if(!te||!le.hasModel())return null;const ge=le.getSelection();if(ge.startLineNumber!==ge.endLineNumber)return null;const we=$.get(le);if(!we)return null;const pe=p.pR.get(le);if(!pe)return null;let Pe=we.getSession(pe);if(!Pe){const Me=le.getSelections();if(Me.length>1){const Ue=pe.getState().matchCase;if(!j(le.getModel(),Me,Ue))return null}Pe=W.create(le,pe)}if(!Pe||Pe.currentMatch||/^[ \t]+$/.test(Pe.searchText)||Pe.searchText.length>200)return null;const Ne=pe.getState(),ae=Ne.matchCase;if(Ne.isRevealed){let Me=Ne.searchString;ae||(Me=Me.toLowerCase());let ke=Pe.searchText;if(ae||(ke=ke.toLowerCase()),Me===ke&&Pe.matchCase===Ne.matchCase&&Pe.wholeWord===Ne.wholeWord&&!Ne.isRegex)return null}return new V(le.getModel(),Pe.searchText,Pe.matchCase,Pe.wholeWord?le.getOption(129):null,X)}_setState(X){if(this.state=X,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const te=this.editor.getModel();if(te.isTooLargeForTokenization())return;const le=this.state.findMatches(),ge=this.editor.getSelections();ge.sort(I.e.compareRangesUsingStarts);const we=[];for(let ae=0,Me=0,ke=le.length,Ue=ge.length;ae<ke;){const Le=le[ae];if(Me>=Ue)we.push(Le),ae++;else{const ie=I.e.compareRangesUsingStarts(Le,ge[Me]);ie<0?((ge[Me].isEmpty()||!I.e.areIntersecting(Le,ge[Me]))&&we.push(Le),ae++):(ie>0||ae++,Me++)}}const pe=this.editor.getOption(80)!=="off",Pe=this._languageFeaturesService.documentHighlightProvider.has(te)&&pe,Ne=we.map(ae=>({range:ae,options:(0,i.w)(Pe)}));this._decorations.set(Ne)}dispose(){this._setState(null),super.dispose()}};G.ID="editor.contrib.selectionHighlighter",G=S=v([a(1,n.p)],G);function j(J,X,te){const le=F(J,X[0],!te);for(let ge=1,we=X.length;ge<we;ge++){const pe=X[ge];if(pe.isEmpty())return!1;const Pe=F(J,pe,!te);if(le!==Pe)return!1}return!0}function F(J,X,te){const le=J.getValueInRange(X);return te?le.toLowerCase():le}class K extends c.R6{constructor(){super({id:"editor.action.focusNextCursor",label:o.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:o.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(X,te,le){if(!te.hasModel())return;const ge=te._getViewModel();if(ge.cursorConfig.readOnly)return;ge.model.pushStackElement();const we=Array.from(ge.getCursorStates()),pe=we.shift();pe&&(we.push(pe),ge.setCursorStates(le.source,3,we),ge.revealPrimaryCursor(le.source,!0),g(we,ge.getCursorStates()))}}class m extends c.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:o.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:o.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(X,te,le){if(!te.hasModel())return;const ge=te._getViewModel();if(ge.cursorConfig.readOnly)return;ge.model.pushStackElement();const we=Array.from(ge.getCursorStates()),pe=we.pop();pe&&(we.unshift(pe),ge.setCursorStates(le.source,3,we),ge.revealPrimaryCursor(le.source,!0),g(we,ge.getCursorStates()))}}(0,c._K)($.ID,$,4),(0,c._K)(G.ID,G,1),(0,c.Qr)(y),(0,c.Qr)(C),(0,c.Qr)(E),(0,c.Qr)(R),(0,c.Qr)(L),(0,c.Qr)(z),(0,c.Qr)(O),(0,c.Qr)(P),(0,c.Qr)(H),(0,c.Qr)(A),(0,c.Qr)(N),(0,c.Qr)(K),(0,c.Qr)(m)},9776:function(Ot,Ke,e){"use strict";var b=e(79579),U=e(5976),r=e(16830),w=e(29102),c=e(43155),_=e(71922),I=e(15393),M=e(17301),D=e(4669),p=e(44906),o=e(71050),u=e(98401),d=e(70666),n=e(50187),i=e(88216),f=e(94565),v=e(32064);const a={Visible:new v.uy("parameterHintsVisible",!1),MultipleSignatures:new v.uy("parameterHintsMultipleSignatures",!1)};function S(Ne,ae,Me,ke,Ue){return tn(this,null,function*(){const Le=Ne.ordered(ae);for(const ie of Le)try{const ce=yield ie.provideSignatureHelp(ae,Me,Ue,ke);if(ce)return ce}catch(ce){(0,M.Cp)(ce)}})}f.P.registerCommand("_executeSignatureHelpProvider",(Ne,...ae)=>tn(this,null,function*(){const[Me,ke,Ue]=ae;(0,u.p_)(d.o.isUri(Me)),(0,u.p_)(n.L.isIPosition(ke)),(0,u.p_)(typeof Ue=="string"||!Ue);const Le=Ne.get(_.p),ie=yield Ne.get(i.S).createModelReference(Me);try{const ce=yield S(Le.signatureHelpProvider,ie.object.textEditorModel,n.L.lift(ke),{triggerKind:c.WW.Invoke,isRetrigger:!1,triggerCharacter:Ue},o.T.None);return ce?(setTimeout(()=>ce.dispose(),0),ce.value):void 0}finally{ie.dispose()}}));var g;(function(Ne){Ne.Default={type:0};class ae{constructor(Ue,Le){this.request=Ue,this.previouslyActiveHints=Le,this.type=2}}Ne.Pending=ae;class Me{constructor(Ue){this.hints=Ue,this.type=1}}Ne.Active=Me})(g||(g={}));class y extends U.JT{constructor(ae,Me,ke=y.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new D.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=g.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new U.XK),this.triggerChars=new p.q,this.retriggerChars=new p.q,this.triggerId=0,this.editor=ae,this.providers=Me,this.throttledDelayer=new I.vp(ke),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Ue=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Ue=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Ue=>this.onCursorChange(Ue))),this._register(this.editor.onDidChangeModelContent(Ue=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Ue=>this.onDidType(Ue))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(ae){this._state.type===2&&this._state.request.cancel(),this._state=ae}cancel(ae=!1){this.state=g.Default,this.throttledDelayer.cancel(),ae||this._onChangedHints.fire(void 0)}trigger(ae,Me){const ke=this.editor.getModel();if(!ke||!this.providers.has(ke))return;const Ue=++this.triggerId;this._pendingTriggers.push(ae),this.throttledDelayer.trigger(()=>this.doTrigger(Ue),Me).catch(M.dL)}next(){if(this.state.type!==1)return;const ae=this.state.hints.signatures.length,Me=this.state.hints.activeSignature,ke=Me%ae===ae-1,Ue=this.editor.getOption(85).cycle;if((ae<2||ke)&&!Ue){this.cancel();return}this.updateActiveSignature(ke&&Ue?0:Me+1)}previous(){if(this.state.type!==1)return;const ae=this.state.hints.signatures.length,Me=this.state.hints.activeSignature,ke=Me===0,Ue=this.editor.getOption(85).cycle;if((ae<2||ke)&&!Ue){this.cancel();return}this.updateActiveSignature(ke&&Ue?ae-1:Me-1)}updateActiveSignature(ae){this.state.type===1&&(this.state=new g.Active(Ni(Xn({},this.state.hints),{activeSignature:ae})),this._onChangedHints.fire(this.state.hints))}doTrigger(ae){return tn(this,null,function*(){const Me=this.state.type===1||this.state.type===2,ke=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const Ue=this._pendingTriggers.reduce(C);this._pendingTriggers=[];const Le={triggerKind:Ue.triggerKind,triggerCharacter:Ue.triggerCharacter,isRetrigger:Me,activeSignatureHelp:ke};if(!this.editor.hasModel())return!1;const ie=this.editor.getModel(),ce=this.editor.getPosition();this.state=new g.Pending((0,I.PG)(Re=>S(this.providers,ie,ce,Le,Re)),ke);try{const Re=yield this.state.request;return ae!==this.triggerId?(Re==null||Re.dispose(),!1):!Re||!Re.value.signatures||Re.value.signatures.length===0?(Re==null||Re.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new g.Active(Re.value),this._lastSignatureHelpResult.value=Re,this._onChangedHints.fire(this.state.hints),!0)}catch(Re){return ae===this.triggerId&&(this.state=g.Default),(0,M.dL)(Re),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const ae=this.editor.getModel();if(ae)for(const Me of this.providers.ordered(ae)){for(const ke of Me.signatureHelpTriggerCharacters||[])if(ke.length){const Ue=ke.charCodeAt(0);this.triggerChars.add(Ue),this.retriggerChars.add(Ue)}for(const ke of Me.signatureHelpRetriggerCharacters||[])ke.length&&this.retriggerChars.add(ke.charCodeAt(0))}}onDidType(ae){if(!this.triggerOnType)return;const Me=ae.length-1,ke=ae.charCodeAt(Me);(this.triggerChars.has(ke)||this.isTriggered&&this.retriggerChars.has(ke))&&this.trigger({triggerKind:c.WW.TriggerCharacter,triggerCharacter:ae.charAt(Me)})}onCursorChange(ae){ae.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:c.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:c.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(85).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}y.DEFAULT_DELAY=120;function C(Ne,ae){switch(ae.triggerKind){case c.WW.Invoke:return ae;case c.WW.ContentChange:return Ne;case c.WW.TriggerCharacter:default:return ae}}var E=e(63580),A=e(72065),N=e(65321),B=e(35996),W=e(59740),$=e(73046),Y=e(97295),R=e(72042),L=e(33772),z=e(50988),O=e(73910),P=e(59554),H=e(25670),V=function(Ne,ae,Me,ke){var Ue=arguments.length,Le=Ue<3?ae:ke===null?ke=Object.getOwnPropertyDescriptor(ae,Me):ke,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(Ne,ae,Me,ke);else for(var ce=Ne.length-1;ce>=0;ce--)(ie=Ne[ce])&&(Le=(Ue<3?ie(Le):Ue>3?ie(ae,Me,Le):ie(ae,Me))||Le);return Ue>3&&Le&&Object.defineProperty(ae,Me,Le),Le},G=function(Ne,ae){return function(Me,ke){ae(Me,ke,Ne)}},j;const F=N.$,K=(0,P.q5)("parameter-hints-next",$.l.chevronDown,E.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),m=(0,P.q5)("parameter-hints-previous",$.l.chevronUp,E.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let J=j=class extends U.JT{constructor(ae,Me,ke,Ue,Le){super(),this.editor=ae,this.model=Me,this.renderDisposeables=this._register(new U.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new L.$({editor:ae},Le,Ue)),this.keyVisible=a.Visible.bindTo(ke),this.keyMultipleSignatures=a.MultipleSignatures.bindTo(ke)}createParameterHintDOMNodes(){const ae=F(".editor-widget.parameter-hints-widget"),Me=N.R3(ae,F(".phwrapper"));Me.tabIndex=-1;const ke=N.R3(Me,F(".controls")),Ue=N.R3(ke,F(".button"+H.k.asCSSSelector(m))),Le=N.R3(ke,F(".overloads")),ie=N.R3(ke,F(".button"+H.k.asCSSSelector(K)));this._register(N.nm(Ue,"click",he=>{N.zB.stop(he),this.previous()})),this._register(N.nm(ie,"click",he=>{N.zB.stop(he),this.next()}));const ce=F(".body"),Re=new W.s$(ce,{alwaysConsumeMouseWheel:!0});this._register(Re),Me.appendChild(Re.getDomNode());const ye=N.R3(ce,F(".signature")),Se=N.R3(ce,F(".docs"));ae.style.userSelect="text",this.domNodes={element:ae,signature:ye,overloads:Le,docs:Se,scrollbar:Re},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(he=>{this.visible&&this.editor.layoutContentWidget(this)}));const me=()=>{if(!this.domNodes)return;const he=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${he.fontSize}px`,this.domNodes.element.style.lineHeight=`${he.lineHeight/he.fontSize}`};me(),this._register(D.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor),he=>he.filter(se=>se.hasChanged(50)))(me)),this._register(this.editor.onDidLayoutChange(he=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var ae;(ae=this.domNodes)===null||ae===void 0||ae.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var ae;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(ae=this.domNodes)===null||ae===void 0||ae.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(ae){var Me;if(this.renderDisposeables.clear(),!this.domNodes)return;const ke=ae.signatures.length>1;this.domNodes.element.classList.toggle("multiple",ke),this.keyMultipleSignatures.set(ke),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const Ue=ae.signatures[ae.activeSignature];if(!Ue)return;const Le=N.R3(this.domNodes.signature,F(".code")),ie=this.editor.getOption(50);Le.style.fontSize=`${ie.fontSize}px`,Le.style.fontFamily=ie.fontFamily;const ce=Ue.parameters.length>0,Re=(Me=Ue.activeParameter)!==null&&Me!==void 0?Me:ae.activeParameter;if(ce)this.renderParameters(Le,Ue,Re);else{const me=N.R3(Le,F("span"));me.textContent=Ue.label}const ye=Ue.parameters[Re];if(ye!=null&&ye.documentation){const me=F("span.documentation");if(typeof ye.documentation=="string")me.textContent=ye.documentation;else{const he=this.renderMarkdownDocs(ye.documentation);me.appendChild(he.element)}N.R3(this.domNodes.docs,F("p",{},me))}if(Ue.documentation!==void 0)if(typeof Ue.documentation=="string")N.R3(this.domNodes.docs,F("p",{},Ue.documentation));else{const me=this.renderMarkdownDocs(Ue.documentation);N.R3(this.domNodes.docs,me.element)}const Se=this.hasDocs(Ue,ye);if(this.domNodes.signature.classList.toggle("has-docs",Se),this.domNodes.docs.classList.toggle("empty",!Se),this.domNodes.overloads.textContent=String(ae.activeSignature+1).padStart(ae.signatures.length.toString().length,"0")+"/"+ae.signatures.length,ye){let me="";const he=Ue.parameters[Re];Array.isArray(he.label)?me=Ue.label.substring(he.label[0],he.label[1]):me=he.label,he.documentation&&(me+=typeof he.documentation=="string"?`, ${he.documentation}`:`, ${he.documentation.value}`),Ue.documentation&&(me+=typeof Ue.documentation=="string"?`, ${Ue.documentation}`:`, ${Ue.documentation.value}`),this.announcedLabel!==me&&(B.Z9(E.NC("hint","{0}, hint",me)),this.announcedLabel=me)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(ae){const Me=this.renderDisposeables.add(this.markdownRenderer.render(ae,{asyncRenderCallback:()=>{var ke;(ke=this.domNodes)===null||ke===void 0||ke.scrollbar.scanDomNode()}}));return Me.element.classList.add("markdown-docs"),Me}hasDocs(ae,Me){return!!(Me&&typeof Me.documentation=="string"&&(0,u.cW)(Me.documentation).length>0||Me&&typeof Me.documentation=="object"&&(0,u.cW)(Me.documentation).value.length>0||ae.documentation&&typeof ae.documentation=="string"&&(0,u.cW)(ae.documentation).length>0||ae.documentation&&typeof ae.documentation=="object"&&(0,u.cW)(ae.documentation.value).length>0)}renderParameters(ae,Me,ke){const[Ue,Le]=this.getParameterLabelOffsets(Me,ke),ie=document.createElement("span");ie.textContent=Me.label.substring(0,Ue);const ce=document.createElement("span");ce.textContent=Me.label.substring(Ue,Le),ce.className="parameter active";const Re=document.createElement("span");Re.textContent=Me.label.substring(Le),N.R3(ae,ie,ce,Re)}getParameterLabelOffsets(ae,Me){const ke=ae.parameters[Me];if(ke){if(Array.isArray(ke.label))return ke.label;if(ke.label.length){const Ue=new RegExp(`(\\W|^)${(0,Y.ec)(ke.label)}(?=\\W|$)`,"g");Ue.test(ae.label);const Le=Ue.lastIndex-ke.label.length;return Le>=0?[Le,Ue.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return j.ID}updateMaxHeight(){if(!this.domNodes)return;const Me=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Me;const ke=this.domNodes.element.getElementsByClassName("phwrapper");ke.length&&(ke[0].style.maxHeight=Me)}};J.ID="editor.widget.parameterHintsWidget",J=j=V([G(2,v.i6),G(3,z.v),G(4,R.O)],J),(0,O.P6G)("editorHoverWidget.highlightForeground",{dark:O.Gwp,light:O.Gwp,hcDark:O.Gwp,hcLight:O.Gwp},E.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var X=function(Ne,ae,Me,ke){var Ue=arguments.length,Le=Ue<3?ae:ke===null?ke=Object.getOwnPropertyDescriptor(ae,Me):ke,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(Ne,ae,Me,ke);else for(var ce=Ne.length-1;ce>=0;ce--)(ie=Ne[ce])&&(Le=(Ue<3?ie(Le):Ue>3?ie(ae,Me,Le):ie(ae,Me))||Le);return Ue>3&&Le&&Object.defineProperty(ae,Me,Le),Le},te=function(Ne,ae){return function(Me,ke){ae(Me,ke,Ne)}},le;let ge=le=class extends U.JT{static get(ae){return ae.getContribution(le.ID)}constructor(ae,Me,ke){super(),this.editor=ae,this.model=this._register(new y(ae,ke.signatureHelpProvider)),this._register(this.model.onChangedHints(Ue=>{var Le;Ue?(this.widget.value.show(),this.widget.value.render(Ue)):(Le=this.widget.rawValue)===null||Le===void 0||Le.hide()})),this.widget=new b.o(()=>this._register(Me.createInstance(J,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var ae;(ae=this.widget.rawValue)===null||ae===void 0||ae.previous()}next(){var ae;(ae=this.widget.rawValue)===null||ae===void 0||ae.next()}trigger(ae){this.model.trigger(ae,0)}};ge.ID="editor.controller.parameterHints",ge=le=X([te(1,A.TG),te(2,_.p)],ge);class we extends r.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:E.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:w.u.hasSignatureHelpProvider,kbOpts:{kbExpr:w.u.editorTextFocus,primary:3082,weight:100}})}run(ae,Me){const ke=ge.get(Me);ke==null||ke.trigger({triggerKind:c.WW.Invoke})}}(0,r._K)(ge.ID,ge,2),(0,r.Qr)(we);const pe=100+75,Pe=r._l.bindToContribution(ge.get);(0,r.fK)(new Pe({id:"closeParameterHints",precondition:a.Visible,handler:Ne=>Ne.cancel(),kbOpts:{weight:pe,kbExpr:w.u.focus,primary:9,secondary:[1033]}})),(0,r.fK)(new Pe({id:"showPrevParameterHint",precondition:v.Ao.and(a.Visible,a.MultipleSignatures),handler:Ne=>Ne.previous(),kbOpts:{weight:pe,kbExpr:w.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,r.fK)(new Pe({id:"showNextParameterHint",precondition:v.Ao.and(a.Visible,a.MultipleSignatures),handler:Ne=>Ne.next(),kbOpts:{weight:pe,kbExpr:w.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},60865:function(Ot,Ke,e){"use strict";e.d(Ke,{Fw:function(){return z},Jy:function(){return O},vk:function(){return G},rc:function(){return H},SC:function(){return m},M8:function(){return J},KY:function(){return j},IH:function(){return F},R7:function(){return K}});var b=e(65321),U=e(90317),r=e(74741),w=e(73046),c=e(25670),_=e(41264),I=e(4669),M=e(36248),D=e(16830),p=e(11640),o=e(84527),u=e(83080),d=e(44742),n=e(5976),i=e(24314),f=e(84901);const v=new _.Il(new _.VS(0,122,204)),a={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},S="vs.editor.contrib.zoneWidget";class g{constructor(Ue,Le,ie,ce,Re,ye,Se,me){this.id="",this.domNode=Ue,this.afterLineNumber=Le,this.afterColumn=ie,this.heightInLines=ce,this.showInHiddenAreas=Se,this.ordinal=me,this._onDomNodeTop=Re,this._onComputedHeight=ye}onDomNodeTop(Ue){this._onDomNodeTop(Ue)}onComputedHeight(Ue){this._onComputedHeight(Ue)}}class y{constructor(Ue,Le){this._id=Ue,this._domNode=Le}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class C{constructor(Ue){this._editor=Ue,this._ruleName=C._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),b.uN(this._ruleName)}set color(Ue){this._color!==Ue&&(this._color=Ue,this._updateStyle())}set height(Ue){this._height!==Ue&&(this._height=Ue,this._updateStyle())}_updateStyle(){b.uN(this._ruleName),b.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(Ue){Ue.column===1&&(Ue={lineNumber:Ue.lineNumber,column:2}),this._decorations.set([{range:i.e.fromPositions(Ue),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}C._IdGenerator=new d.R(".arrow-decoration-");class E{constructor(Ue,Le={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new n.SL,this.container=null,this._isShowing=!1,this.editor=Ue,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=M.I8(Le),M.jB(this.options,a,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(ie=>{const ce=this._getWidth(ie);this.domNode.style.width=ce+"px",this.domNode.style.left=this._getLeft(ie)+"px",this._onWidth(ce)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(Ue=>{this._viewZone&&Ue.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new C(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(Ue){Ue.frameColor&&(this.options.frameColor=Ue.frameColor),Ue.arrowColor&&(this.options.arrowColor=Ue.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const Ue=this.options.frameColor.toString();this.container.style.borderTopColor=Ue,this.container.style.borderBottomColor=Ue}if(this._arrow&&this.options.arrowColor){const Ue=this.options.arrowColor.toString();this._arrow.color=Ue}}_getWidth(Ue){return Ue.width-Ue.minimap.minimapWidth-Ue.verticalScrollbarWidth}_getLeft(Ue){return Ue.minimap.minimapWidth>0&&Ue.minimap.minimapLeft===0?Ue.minimap.minimapWidth:0}_onViewZoneTop(Ue){this.domNode.style.top=Ue+"px"}_onViewZoneHeight(Ue){var Le;if(this.domNode.style.height=`${Ue}px`,this.container){const ie=Ue-this._decoratingElementsHeight();this.container.style.height=`${ie}px`;const ce=this.editor.getLayoutInfo();this._doLayout(ie,this._getWidth(ce))}(Le=this._resizeSash)===null||Le===void 0||Le.layout()}get position(){const Ue=this._positionMarkerId.getRange(0);if(Ue)return Ue.getStartPosition()}show(Ue,Le){const ie=i.e.isIRange(Ue)?i.e.lift(Ue):i.e.fromPositions(Ue);this._isShowing=!0,this._showImpl(ie,Le),this._isShowing=!1,this._positionMarkerId.set([{range:ie,options:f.qx.EMPTY}])}hide(){var Ue;this._viewZone&&(this.editor.changeViewZones(Le=>{this._viewZone&&Le.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(Ue=this._arrow)===null||Ue===void 0||Ue.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const Ue=this.editor.getOption(66);let Le=0;if(this.options.showArrow){const ie=Math.round(Ue/3);Le+=2*ie}if(this.options.showFrame){const ie=Math.round(Ue/9);Le+=2*ie}return Le}_showImpl(Ue,Le){const ie=Ue.getStartPosition(),ce=this.editor.getLayoutInfo(),Re=this._getWidth(ce);this.domNode.style.width=`${Re}px`,this.domNode.style.left=this._getLeft(ce)+"px";const ye=document.createElement("div");ye.style.overflow="hidden";const Se=this.editor.getOption(66);if(!this.options.allowUnlimitedHeight){const xe=Math.max(12,this.editor.getLayoutInfo().height/Se*.8);Le=Math.min(Le,xe)}let me=0,he=0;if(this._arrow&&this.options.showArrow&&(me=Math.round(Se/3),this._arrow.height=me,this._arrow.show(ie)),this.options.showFrame&&(he=Math.round(Se/9)),this.editor.changeViewZones(xe=>{this._viewZone&&xe.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new g(ye,ie.lineNumber,ie.column,Le,je=>this._onViewZoneTop(je),je=>this._onViewZoneHeight(je),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=xe.addZone(this._viewZone),this._overlayWidget=new y(S+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const xe=this.options.frameWidth?this.options.frameWidth:he;this.container.style.borderTopWidth=xe+"px",this.container.style.borderBottomWidth=xe+"px"}const se=Le*Se-this._decoratingElementsHeight();this.container&&(this.container.style.top=me+"px",this.container.style.height=se+"px",this.container.style.overflow="hidden"),this._doLayout(se,Re),this.options.keepEditorSelection||this.editor.setSelection(Ue);const ve=this.editor.getModel();if(ve){const xe=ve.validateRange(new i.e(Ue.startLineNumber,1,Ue.endLineNumber+1,1));this.revealRange(xe,xe.startLineNumber===ve.getLineCount())}}revealRange(Ue,Le){Le?this.editor.revealLineNearTop(Ue.endLineNumber,0):this.editor.revealRange(Ue,0)}setCssClass(Ue,Le){this.container&&(Le&&this.container.classList.remove(Le),this.container.classList.add(Ue))}_onWidth(Ue){}_doLayout(Ue,Le){}_relayout(Ue){this._viewZone&&this._viewZone.heightInLines!==Ue&&this.editor.changeViewZones(Le=>{this._viewZone&&(this._viewZone.heightInLines=Ue,Le.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new u.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let Ue;this._disposables.add(this._resizeSash.onDidStart(Le=>{this._viewZone&&(Ue={startY:Le.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{Ue=void 0})),this._disposables.add(this._resizeSash.onDidChange(Le=>{if(Ue){const ie=(Le.currentY-Ue.startY)/this.editor.getOption(66),ce=ie<0?Math.ceil(ie):Math.floor(ie),Re=Ue.heightInLines+ce;Re>5&&Re<35&&this._relayout(Re)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const Ue=this.editor.getLayoutInfo();return Ue.width-Ue.minimap.minimapWidth}}var A=e(63580),N=e(80677),B=e(32064),W=e(65026),$=e(72065),Y=e(73910),R=function(ke,Ue,Le,ie){var ce=arguments.length,Re=ce<3?Ue:ie===null?ie=Object.getOwnPropertyDescriptor(Ue,Le):ie,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(ke,Ue,Le,ie);else for(var Se=ke.length-1;Se>=0;Se--)(ye=ke[Se])&&(Re=(ce<3?ye(Re):ce>3?ye(Ue,Le,Re):ye(Ue,Le))||Re);return ce>3&&Re&&Object.defineProperty(Ue,Le,Re),Re},L=function(ke,Ue){return function(Le,ie){Ue(Le,ie,ke)}};const z=(0,$.yh)("IPeekViewService");(0,W.z)(z,class{constructor(){this._widgets=new Map}addExclusiveWidget(ke,Ue){const Le=this._widgets.get(ke);Le&&(Le.listener.dispose(),Le.widget.dispose());const ie=()=>{const ce=this._widgets.get(ke);ce&&ce.widget===Ue&&(ce.listener.dispose(),this._widgets.delete(ke))};this._widgets.set(ke,{widget:Ue,listener:Ue.onDidClose(ie)})}},1);var O;(function(ke){ke.inPeekEditor=new B.uy("inReferenceSearchEditor",!0,A.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),ke.notInPeekEditor=ke.inPeekEditor.toNegated()})(O||(O={}));let P=class{constructor(Ue,Le){Ue instanceof o.H&&O.inPeekEditor.bindTo(Le)}dispose(){}};P.ID="editor.contrib.referenceController",P=R([L(1,B.i6)],P),(0,D._K)(P.ID,P,0);function H(ke){const Ue=ke.get(p.$).getFocusedCodeEditor();return Ue instanceof o.H?Ue.getParentEditor():Ue}const V={headerBackgroundColor:_.Il.white,primaryHeadingColor:_.Il.fromHex("#333333"),secondaryHeadingColor:_.Il.fromHex("#6c6c6cb3")};let G=class extends E{constructor(Ue,Le,ie){super(Ue,Le),this.instantiationService=ie,this._onDidClose=new I.Q5,this.onDidClose=this._onDidClose.event,M.jB(this.options,V,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(Ue){const Le=this.options;Ue.headerBackgroundColor&&(Le.headerBackgroundColor=Ue.headerBackgroundColor),Ue.primaryHeadingColor&&(Le.primaryHeadingColor=Ue.primaryHeadingColor),Ue.secondaryHeadingColor&&(Le.secondaryHeadingColor=Ue.secondaryHeadingColor),super.style(Ue)}_applyStyles(){super._applyStyles();const Ue=this.options;this._headElement&&Ue.headerBackgroundColor&&(this._headElement.style.backgroundColor=Ue.headerBackgroundColor.toString()),this._primaryHeading&&Ue.primaryHeadingColor&&(this._primaryHeading.style.color=Ue.primaryHeadingColor.toString()),this._secondaryHeading&&Ue.secondaryHeadingColor&&(this._secondaryHeading.style.color=Ue.secondaryHeadingColor.toString()),this._bodyElement&&Ue.frameColor&&(this._bodyElement.style.borderColor=Ue.frameColor.toString())}_fillContainer(Ue){this.setCssClass("peekview-widget"),this._headElement=b.$(".head"),this._bodyElement=b.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),Ue.appendChild(this._headElement),Ue.appendChild(this._bodyElement)}_fillHead(Ue,Le){this._titleElement=b.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),b.mu(this._titleElement,"click",Re=>this._onTitleClick(Re))),b.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=b.$("span.filename"),this._secondaryHeading=b.$("span.dirname"),this._metaHeading=b.$("span.meta"),b.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const ie=b.$(".peekview-actions");b.R3(this._headElement,ie);const ce=this._getActionBarOptions();this._actionbarWidget=new U.o(ie,ce),this._disposables.add(this._actionbarWidget),Le||this._actionbarWidget.push(new r.aU("peekview.close",A.NC("label.close","Close"),c.k.asClassName(w.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(Ue){}_getActionBarOptions(){return{actionViewItemProvider:N.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(Ue){}setTitle(Ue,Le){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=Ue,this._primaryHeading.setAttribute("title",Ue),Le?this._secondaryHeading.innerText=Le:b.PO(this._secondaryHeading))}setMetaTitle(Ue){this._metaHeading&&(Ue?(this._metaHeading.innerText=Ue,b.$Z(this._metaHeading)):b.Cp(this._metaHeading))}_doLayout(Ue,Le){if(!this._isShowing&&Ue<0){this.dispose();return}const ie=Math.ceil(this.editor.getOption(66)*1.2),ce=Math.round(Ue-(ie+2));this._doLayoutHead(ie,Le),this._doLayoutBody(ce,Le)}_doLayoutHead(Ue,Le){this._headElement&&(this._headElement.style.height=`${Ue}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(Ue,Le){this._bodyElement&&(this._bodyElement.style.height=`${Ue}px`)}};G=R([L(2,$.TG)],G);const j=(0,Y.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:_.Il.black,hcLight:_.Il.white},A.NC("peekViewTitleBackground","Background color of the peek view title area.")),F=(0,Y.P6G)("peekViewTitleLabel.foreground",{dark:_.Il.white,light:_.Il.black,hcDark:_.Il.white,hcLight:Y.NOs},A.NC("peekViewTitleForeground","Color of the peek view title.")),K=(0,Y.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},A.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),m=(0,Y.P6G)("peekView.border",{dark:Y.c63,light:Y.c63,hcDark:Y.lRK,hcLight:Y.lRK},A.NC("peekViewBorder","Color of the peek view borders and arrow.")),J=(0,Y.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:_.Il.black,hcLight:_.Il.white},A.NC("peekViewResultsBackground","Background color of the peek view result list.")),X=(0,Y.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:_.Il.white,hcLight:Y.NOs},A.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),te=(0,Y.P6G)("peekViewResult.fileForeground",{dark:_.Il.white,light:"#1E1E1E",hcDark:_.Il.white,hcLight:Y.NOs},A.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),le=(0,Y.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},A.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),ge=(0,Y.P6G)("peekViewResult.selectionForeground",{dark:_.Il.white,light:"#6C6C6C",hcDark:_.Il.white,hcLight:Y.NOs},A.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),we=(0,Y.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:_.Il.black,hcLight:_.Il.white},A.NC("peekViewEditorBackground","Background color of the peek view editor.")),pe=(0,Y.P6G)("peekViewEditorGutter.background",{dark:we,light:we,hcDark:we,hcLight:we},A.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Pe=(0,Y.P6G)("peekViewEditorStickyScroll.background",{dark:we,light:we,hcDark:we,hcLight:we},A.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Ne=(0,Y.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},A.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),ae=(0,Y.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},A.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Me=(0,Y.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Y.xL1,hcLight:Y.xL1},A.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},83943:function(Ot,Ke,e){"use strict";e.d(Ke,{X:function(){return M}});var b=e(88289),U=e(5976),r=e(65520),w=e(84973),c=e(8625),_=e(97781),I=e(35996);class M{constructor(p){this.options=p,this.rangeHighlightDecorationId=void 0}provide(p,o){var u;const d=new U.SL;p.canAcceptInBackground=!!(!((u=this.options)===null||u===void 0)&&u.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;const n=d.add(new U.XK);return n.value=this.doProvide(p,o),d.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(p,o)})),d}doProvide(p,o){var u;const d=new U.SL,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const i={editor:n},f=(0,r.Pi)(n);if(f){let v=(u=n.saveViewState())!==null&&u!==void 0?u:void 0;d.add(f.onDidChangeCursorPosition(()=>{var a;v=(a=n.saveViewState())!==null&&a!==void 0?a:void 0})),i.restoreViewState=()=>{v&&n===this.activeTextEditorControl&&n.restoreViewState(v)},d.add((0,b.M)(o.onCancellationRequested)(()=>{var a;return(a=i.restoreViewState)===null||a===void 0?void 0:a.call(i)}))}d.add((0,U.OF)(()=>this.clearDecorations(n))),d.add(this.provideWithTextEditor(i,p,o))}else d.add(this.provideWithoutTextEditor(p,o));return d}canProvideWithTextEditor(p){return!0}gotoLocation({editor:p},o){p.setSelection(o.range),p.revealRangeInCenter(o.range,0),o.preserveFocus||p.focus();const u=p.getModel();u&&"getLineContent"in u&&(0,I.i7)(`${u.getLineContent(o.range.startLineNumber)}`)}getModel(p){var o;return(0,r.QI)(p)?(o=p.getModel())===null||o===void 0?void 0:o.modified:p.getModel()}addDecorations(p,o){p.changeDecorations(u=>{const d=[];this.rangeHighlightDecorationId&&(d.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),d.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:o,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:o,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,_.EN)(c.m9),position:w.sh.Full}}}],[i,f]=u.deltaDecorations(d,n);this.rangeHighlightDecorationId={rangeHighlightId:i,overviewRulerDecorationId:f}})}clearDecorations(p){const o=this.rangeHighlightDecorationId;o&&(p.changeDecorations(u=>{u.deltaDecorations([o.overviewRulerDecorationId,o.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},73945:function(Ot,Ke,e){"use strict";var b=e(59365),U=e(5976),r=e(16830),w=e(27863),c=e(63580);class _ extends U.JT{constructor(M){super(),this.editor=M,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const M=w.O.get(this.editor);if(M&&this.editor.hasModel()){let D=this.editor.getOptions().get(91);D||(this.editor.isSimpleWidget?D=new b.W5(c.NC("editor.simple.readonly","Cannot edit in read-only input")):D=new b.W5(c.NC("editor.readonly","Cannot edit in read-only editor"))),M.showMessage(D,this.editor.getPosition())}}}_.ID="editor.contrib.readOnlyMessageController",(0,r._K)(_.ID,_,2)},31975:function(Ot,Ke,e){"use strict";var b=e(35996),U=e(15393),r=e(71050),w=e(17301),c=e(5976),_=e(98401),I=e(70666),M=e(14410),D=e(16830),p=e(66007),o=e(11640),u=e(50187),d=e(24314),n=e(29102),i=e(71765),f=e(27863),v=e(63580),a=e(23193),S=e(32064),g=e(72065),y=e(43557),C=e(48894),E=e(90535),A=e(89872),N=e(91847),B=e(73910),W=e(97781),$=function(m,J,X,te){var le=arguments.length,ge=le<3?J:te===null?te=Object.getOwnPropertyDescriptor(J,X):te,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(m,J,X,te);else for(var pe=m.length-1;pe>=0;pe--)(we=m[pe])&&(ge=(le<3?we(ge):le>3?we(J,X,ge):we(J,X))||ge);return le>3&&ge&&Object.defineProperty(J,X,ge),ge},Y=function(m,J){return function(X,te){J(X,te,m)}};const R=new S.uy("renameInputVisible",!1,(0,v.NC)("renameInputVisible","Whether the rename input widget is visible"));let L=class{constructor(J,X,te,le,ge){this._editor=J,this._acceptKeybindings=X,this._themeService=te,this._keybindingService=le,this._disposables=new c.SL,this.allowEditorOverflow=!0,this._visibleContextKey=R.bindTo(ge),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(we=>{we.hasChanged(50)&&this._updateFont()})),this._disposables.add(te.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,v.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(J){var X,te,le,ge;if(!this._input||!this._domNode)return;const we=J.getColor(B.rh),pe=J.getColor(B.A42);this._domNode.style.backgroundColor=String((X=J.getColor(B.D0T))!==null&&X!==void 0?X:""),this._domNode.style.boxShadow=we?` 0 0 8px 2px ${we}`:"",this._domNode.style.border=pe?`1px solid ${pe}`:"",this._domNode.style.color=String((te=J.getColor(B.zJb))!==null&&te!==void 0?te:""),this._input.style.backgroundColor=String((le=J.getColor(B.sEe))!==null&&le!==void 0?le:"");const Pe=J.getColor(B.dt_);this._input.style.borderWidth=Pe?"1px":"0px",this._input.style.borderStyle=Pe?"solid":"none",this._input.style.borderColor=(ge=Pe==null?void 0:Pe.toString())!==null&&ge!==void 0?ge:"none"}_updateFont(){if(!this._input||!this._label)return;const J=this._editor.getOption(50);this._input.style.fontFamily=J.fontFamily,this._input.style.fontWeight=J.fontWeight,this._input.style.fontSize=`${J.fontSize}px`,this._label.style.fontSize=`${J.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var J,X;const[te,le]=this._acceptKeybindings;return this._label.innerText=(0,v.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(J=this._keybindingService.lookupKeybinding(te))===null||J===void 0?void 0:J.getLabel(),(X=this._keybindingService.lookupKeybinding(le))===null||X===void 0?void 0:X.getLabel()),null}afterRender(J){J||this.cancelInput(!0)}acceptInput(J){var X;(X=this._currentAcceptInput)===null||X===void 0||X.call(this,J)}cancelInput(J){var X;(X=this._currentCancelInput)===null||X===void 0||X.call(this,J)}getInput(J,X,te,le,ge,we){this._domNode.classList.toggle("preview",ge),this._position=new u.L(J.startLineNumber,J.startColumn),this._input.value=X,this._input.setAttribute("selectionStart",te.toString()),this._input.setAttribute("selectionEnd",le.toString()),this._input.size=Math.max((J.endColumn-J.startColumn)*1.1,20);const pe=new c.SL;return new Promise(Pe=>{this._currentCancelInput=Ne=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Pe(Ne),!0),this._currentAcceptInput=Ne=>{if(this._input.value.trim().length===0||this._input.value===X){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Pe({newName:this._input.value,wantsPreview:ge&&Ne})},pe.add(we.onCancellationRequested(()=>this.cancelInput(!0))),pe.add(this._editor.onDidBlurEditorWidget(()=>{var Ne;return this.cancelInput(!(!((Ne=this._domNode)===null||Ne===void 0)&&Ne.ownerDocument.hasFocus()))})),this._show()}).finally(()=>{pe.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};L=$([Y(2,W.XE),Y(3,N.d),Y(4,S.i6)],L);var z=e(71922),O=function(m,J,X,te){var le=arguments.length,ge=le<3?J:te===null?te=Object.getOwnPropertyDescriptor(J,X):te,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(m,J,X,te);else for(var pe=m.length-1;pe>=0;pe--)(we=m[pe])&&(ge=(le<3?we(ge):le>3?we(J,X,ge):we(J,X))||ge);return le>3&&ge&&Object.defineProperty(J,X,ge),ge},P=function(m,J){return function(X,te){J(X,te,m)}},H;class V{constructor(J,X,te){this.model=J,this.position=X,this._providerRenameIdx=0,this._providers=te.ordered(J)}hasProvider(){return this._providers.length>0}resolveRenameLocation(J){return tn(this,null,function*(){const X=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const le=this._providers[this._providerRenameIdx];if(!le.resolveRenameLocation)break;const ge=yield le.resolveRenameLocation(this.model,this.position,J);if(ge){if(ge.rejectReason){X.push(ge.rejectReason);continue}return ge}}this._providerRenameIdx=0;const te=this.model.getWordAtPosition(this.position);return te?{range:new d.e(this.position.lineNumber,te.startColumn,this.position.lineNumber,te.endColumn),text:te.word,rejectReason:X.length>0?X.join(`
`):void 0}:{range:d.e.fromPositions(this.position),text:"",rejectReason:X.length>0?X.join(`
`):void 0}})}provideRenameEdits(J,X){return tn(this,null,function*(){return this._provideRenameEdits(J,this._providerRenameIdx,[],X)})}_provideRenameEdits(J,X,te,le){return tn(this,null,function*(){const ge=this._providers[X];if(!ge)return{edits:[],rejectReason:te.join(`
`)};const we=yield ge.provideRenameEdits(this.model,this.position,J,le);if(we){if(we.rejectReason)return this._provideRenameEdits(J,X+1,te.concat(we.rejectReason),le)}else return this._provideRenameEdits(J,X+1,te.concat(v.NC("no result","No result.")),le);return we})}}function G(m,J,X,te){return tn(this,null,function*(){const le=new V(J,X,m),ge=yield le.resolveRenameLocation(r.T.None);return ge!=null&&ge.rejectReason?{edits:[],rejectReason:ge.rejectReason}:le.provideRenameEdits(te,r.T.None)})}let j=H=class{static get(J){return J.getContribution(H.ID)}constructor(J,X,te,le,ge,we,pe,Pe){this.editor=J,this._instaService=X,this._notificationService=te,this._bulkEditService=le,this._progressService=ge,this._logService=we,this._configService=pe,this._languageFeaturesService=Pe,this._disposableStore=new c.SL,this._cts=new r.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(L,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){return tn(this,null,function*(){var J,X;if(this._cts.dispose(!0),this._cts=new r.A,!this.editor.hasModel())return;const te=this.editor.getPosition(),le=new V(this.editor.getModel(),te,this._languageFeaturesService.renameProvider);if(!le.hasProvider())return;const ge=new M.Dl(this.editor,5,void 0,this._cts.token);let we;try{const Le=le.resolveRenameLocation(ge.token);this._progressService.showWhile(Le,250),we=yield Le}catch(Le){(J=f.O.get(this.editor))===null||J===void 0||J.showMessage(Le||v.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),te);return}finally{ge.dispose()}if(!we)return;if(we.rejectReason){(X=f.O.get(this.editor))===null||X===void 0||X.showMessage(we.rejectReason,te);return}if(ge.token.isCancellationRequested)return;const pe=new M.Dl(this.editor,5,we.range,this._cts.token),Pe=this.editor.getSelection();let Ne=0,ae=we.text.length;!d.e.isEmpty(Pe)&&!d.e.spansMultipleLines(Pe)&&d.e.containsRange(we.range,Pe)&&(Ne=Math.max(0,Pe.startColumn-we.range.startColumn),ae=Math.min(we.range.endColumn,Pe.endColumn)-we.range.startColumn);const Me=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),ke=yield this._renameInputField.getInput(we.range,we.text,Ne,ae,Me,pe.token);if(typeof ke=="boolean"){ke&&this.editor.focus(),pe.dispose();return}this.editor.focus();const Ue=(0,U.eP)(le.provideRenameEdits(ke.newName,pe.token),pe.token).then(Le=>tn(this,null,function*(){if(!(!Le||!this.editor.hasModel())){if(Le.rejectReason){this._notificationService.info(Le.rejectReason);return}this.editor.setSelection(d.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Le,{editor:this.editor,showPreview:ke.wantsPreview,label:v.NC("label","Renaming '{0}' to '{1}'",we==null?void 0:we.text,ke.newName),code:"undoredo.rename",quotableLabel:v.NC("quotableLabel","Renaming {0} to {1}",we==null?void 0:we.text,ke.newName),respectAutoSaveConfig:!0}).then(ie=>{ie.ariaSummary&&(0,b.Z9)(v.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",we.text,ke.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(v.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ie)})}}),Le=>{this._notificationService.error(v.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Le)}).finally(()=>{pe.dispose()});return this._progressService.showWhile(Ue,250),Ue})}acceptRenameInput(J){this._renameInputField.acceptInput(J)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};j.ID="editor.contrib.renameController",j=H=O([P(1,g.TG),P(2,C.lT),P(3,p.vu),P(4,E.ek),P(5,y.VZ),P(6,i.V),P(7,z.p)],j);class F extends D.R6{constructor(){super({id:"editor.action.rename",label:v.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:S.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(J,X){const te=J.get(o.$),[le,ge]=Array.isArray(X)&&X||[void 0,void 0];return I.o.isUri(le)&&u.L.isIPosition(ge)?te.openCodeEditor({resource:le},te.getActiveCodeEditor()).then(we=>{we&&(we.setPosition(ge),we.invokeWithinContext(pe=>(this.reportTelemetry(pe,we),this.run(pe,we))))},w.dL):super.runCommand(J,X)}run(J,X){const te=j.get(X);return te?te.run():Promise.resolve()}}(0,D._K)(j.ID,j,4),(0,D.Qr)(F);const K=D._l.bindToContribution(j.get);(0,D.fK)(new K({id:"acceptRenameInput",precondition:R,handler:m=>m.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:S.Ao.and(n.u.focus,S.Ao.not("isComposing")),primary:3}})),(0,D.fK)(new K({id:"acceptRenameInputWithPreview",precondition:S.Ao.and(R,S.Ao.has("config.editor.rename.enablePreview")),handler:m=>m.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:S.Ao.and(n.u.focus,S.Ao.not("isComposing")),primary:1024+3}})),(0,D.fK)(new K({id:"cancelRenameInput",precondition:R,handler:m=>m.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,D.sb)("_executeDocumentRenameProvider",function(m,J,X,...te){const[le]=te;(0,_.p_)(typeof le=="string");const{renameProvider:ge}=m.get(z.p);return G(ge,J,X,le)}),(0,D.sb)("_executePrepareRename",function(m,J,X){return tn(this,null,function*(){const{renameProvider:te}=m.get(z.p),ge=yield new V(J,X,te).resolveRenameLocation(r.T.None);if(ge!=null&&ge.rejectReason)throw new Error(ge.rejectReason);return ge})}),A.B.as(a.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:v.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},61168:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(17301),r=e(73733),w=e(33108),c=e(15393),_=e(71050),I=e(97781),M=e(68997),D=e(40018),p=e(88191),o=e(84013),u=e(71922),d=e(73343),n=e(10637),i=e(44408),f=function(C,E,A,N){var B=arguments.length,W=B<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,A):N,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(C,E,A,N);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(W=(B<3?$(W):B>3?$(E,A,W):$(E,A))||W);return B>3&&W&&Object.defineProperty(E,A,W),W},v=function(C,E){return function(A,N){E(A,N,C)}},a;let S=class extends b.JT{constructor(E,A,N,B,W,$){super(),this._watchers=Object.create(null);const Y=z=>{this._watchers[z.uri.toString()]=new g(z,E,N,W,$)},R=(z,O)=>{O.dispose(),delete this._watchers[z.uri.toString()]},L=()=>{for(const z of A.getModels()){const O=this._watchers[z.uri.toString()];(0,i.t)(z,N,B)?O||Y(z):O&&R(z,O)}};this._register(A.onModelAdded(z=>{(0,i.t)(z,N,B)&&Y(z)})),this._register(A.onModelRemoved(z=>{const O=this._watchers[z.uri.toString()];O&&R(z,O)})),this._register(B.onDidChangeConfiguration(z=>{z.affectsConfiguration(i.e)&&L()})),this._register(N.onDidColorThemeChange(L))}dispose(){for(const E of Object.values(this._watchers))E.dispose();super.dispose()}};S=f([v(0,d.s),v(1,r.q),v(2,I.XE),v(3,w.Ui),v(4,p.A),v(5,u.p)],S);let g=a=class extends b.JT{constructor(E,A,N,B,W){super(),this._semanticTokensStylingService=A,this._isDisposed=!1,this._model=E,this._provider=W.documentSemanticTokensProvider,this._debounceInformation=B.for(this._provider,"DocumentSemanticTokens",{min:a.REQUEST_MIN_DELAY,max:a.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new c.pY(()=>this._fetchDocumentSemanticTokensNow(),a.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const $=()=>{(0,b.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Y of this._provider.all(E))typeof Y.onDidChange=="function"&&this._documentProvidersChangeListeners.push(Y.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};$(),this._register(this._provider.onDidChange(()=>{$(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(N.onDidColorThemeChange(Y=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,b.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,D.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const E=new _.A,A=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,N=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,B=(0,D.ML)(this._provider,this._model,A,N,E.token);this._currentDocumentRequestCancellationTokenSource=E,this._providersChangedDuringRequest=!1;const W=[],$=this._model.onDidChangeContent(R=>{W.push(R)}),Y=new o.G(!1);B.then(R=>{if(this._debounceInformation.update(this._model,Y.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,$.dispose(),!R)this._setDocumentSemanticTokens(null,null,null,W);else{const{provider:L,tokens:z}=R,O=this._semanticTokensStylingService.getStyling(L);this._setDocumentSemanticTokens(L,z||null,O,W)}},R=>{R&&(U.n2(R)||typeof R.message=="string"&&R.message.indexOf("busy")!==-1)||U.dL(R),this._currentDocumentRequestCancellationTokenSource=null,$.dispose(),(W.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(E,A,N,B,W){W=Math.min(W,N.length-B,E.length-A);for(let $=0;$<W;$++)N[B+$]=E[A+$]}_setDocumentSemanticTokens(E,A,N,B){const W=this._currentDocumentResponse,$=()=>{(B.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){E&&A&&E.releaseDocumentSemanticTokens(A.resultId);return}if(!E||!N){this._model.tokenization.setSemanticTokens(null,!1);return}if(!A){this._model.tokenization.setSemanticTokens(null,!0),$();return}if((0,D.Vj)(A)){if(!W){this._model.tokenization.setSemanticTokens(null,!0);return}if(A.edits.length===0)A={resultId:A.resultId,data:W.data};else{let Y=0;for(const P of A.edits)Y+=(P.data?P.data.length:0)-P.deleteCount;const R=W.data,L=new Uint32Array(R.length+Y);let z=R.length,O=L.length;for(let P=A.edits.length-1;P>=0;P--){const H=A.edits[P];if(H.start>R.length){N.warnInvalidEditStart(W.resultId,A.resultId,P,H.start,R.length),this._model.tokenization.setSemanticTokens(null,!0);return}const V=z-(H.start+H.deleteCount);V>0&&(a._copy(R,z-V,L,O-V,V),O-=V),H.data&&(a._copy(H.data,0,L,O-H.data.length,H.data.length),O-=H.data.length),z=H.start}z>0&&a._copy(R,0,L,0,z),A={resultId:A.resultId,data:L}}}if((0,D.Vl)(A)){this._currentDocumentResponse=new y(E,A.resultId,A.data);const Y=(0,M.h)(A,N,this._model.getLanguageId());if(B.length>0)for(const R of B)for(const L of Y)for(const z of R.changes)L.applyEdit(z.range,z.text);this._model.tokenization.setSemanticTokens(Y,!0)}else this._model.tokenization.setSemanticTokens(null,!0);$()}};g.REQUEST_MIN_DELAY=300,g.REQUEST_MAX_DELAY=2e3,g=a=f([v(1,d.s),v(2,I.XE),v(3,p.A),v(4,u.p)],g);class y{constructor(E,A,N){this.provider=E,this.resultId=A,this.data=N}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,n.y)(S)},89995:function(Ot,Ke,e){"use strict";var b=e(15393),U=e(5976),r=e(16830),w=e(40018),c=e(44408),_=e(68997),I=e(33108),M=e(97781),D=e(88191),p=e(84013),o=e(71922),u=e(73343),d=function(f,v,a,S){var g=arguments.length,y=g<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,a):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,v,a,S);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(y=(g<3?C(y):g>3?C(v,a,y):C(v,a))||y);return g>3&&y&&Object.defineProperty(v,a,y),y},n=function(f,v){return function(a,S){v(a,S,f)}};let i=class extends U.JT{constructor(v,a,S,g,y,C){super(),this._semanticTokensStylingService=a,this._themeService=S,this._configurationService=g,this._editor=v,this._provider=C.documentRangeSemanticTokensProvider,this._debounceInformation=y.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new b.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const E=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{E()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),E()})),this._register(this._editor.onDidChangeModelContent(A=>{this._cancelAll(),E()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),E()})),this._register(this._configurationService.onDidChangeConfiguration(A=>{A.affectsConfiguration(c.e)&&(this._cancelAll(),E())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),E()})),E()}_cancelAll(){for(const v of this._outstandingRequests)v.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(v){for(let a=0,S=this._outstandingRequests.length;a<S;a++)if(this._outstandingRequests[a]===v){this._outstandingRequests.splice(a,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const v=this._editor.getModel();if(v.tokenization.hasCompleteSemanticTokens())return;if(!(0,c.t)(v,this._themeService,this._configurationService)){v.tokenization.hasSomeSemanticTokens()&&v.tokenization.setSemanticTokens(null,!1);return}if(!(0,w.KO)(this._provider,v)){v.tokenization.hasSomeSemanticTokens()&&v.tokenization.setSemanticTokens(null,!1);return}const a=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(a.map(S=>this._requestRange(v,S)))}_requestRange(v,a){const S=v.getVersionId(),g=(0,b.PG)(C=>Promise.resolve((0,w.OG)(this._provider,v,a,C))),y=new p.G(!1);return g.then(C=>{if(this._debounceInformation.update(v,y.elapsed()),!C||!C.tokens||v.isDisposed()||v.getVersionId()!==S)return;const{provider:E,tokens:A}=C,N=this._semanticTokensStylingService.getStyling(E);v.tokenization.setPartialSemanticTokens(a,(0,_.h)(A,N,v.getLanguageId()))}).then(()=>this._removeOutstandingRequest(g),()=>this._removeOutstandingRequest(g)),g}};i.ID="editor.contrib.viewportSemanticTokens",i=d([n(1,u.s),n(2,M.XE),n(3,I.Ui),n(4,D.A),n(5,o.p)],i),(0,r._K)(i.ID,i,1)},40018:function(Ot,Ke,e){"use strict";e.d(Ke,{OG:function(){return N},ML:function(){return g},KO:function(){return E},Jc:function(){return a},Vl:function(){return i},Vj:function(){return f}});var b=e(71050),U=e(17301),r=e(70666),w=e(73733),c=e(94565),_=e(98401),I=e(53060),M=e(1432);function D(B){for(let W=0,$=B.length;W<$;W+=4){const Y=B[W+0],R=B[W+1],L=B[W+2],z=B[W+3];B[W+0]=z,B[W+1]=L,B[W+2]=R,B[W+3]=Y}}function p(B){const W=new Uint8Array(B.buffer,B.byteOffset,B.length*4);return M.r()||D(W),I.KN.wrap(W)}function o(B){const W=new Uint32Array(u(B));let $=0;if(W[$++]=B.id,B.type==="full")W[$++]=1,W[$++]=B.data.length,W.set(B.data,$),$+=B.data.length;else{W[$++]=2,W[$++]=B.deltas.length;for(const Y of B.deltas)W[$++]=Y.start,W[$++]=Y.deleteCount,Y.data?(W[$++]=Y.data.length,W.set(Y.data,$),$+=Y.data.length):W[$++]=0}return p(W)}function u(B){let W=0;if(W+=1+1,B.type==="full")W+=1+B.data.length;else{W+=1,W+=(1+1+1)*B.deltas.length;for(const $ of B.deltas)$.data&&(W+=$.data.length)}return W}var d=e(24314),n=e(71922);function i(B){return B&&!!B.data}function f(B){return B&&Array.isArray(B.edits)}class v{constructor(W,$,Y){this.provider=W,this.tokens=$,this.error=Y}}function a(B,W){return B.has(W)}function S(B,W){const $=B.orderedGroups(W);return $.length>0?$[0]:[]}function g(B,W,$,Y,R){return tn(this,null,function*(){const L=S(B,W),z=yield Promise.all(L.map(O=>tn(this,null,function*(){let P,H=null;try{P=yield O.provideDocumentSemanticTokens(W,O===$?Y:null,R)}catch(V){H=V,P=null}return(!P||!i(P)&&!f(P))&&(P=null),new v(O,P,H)})));for(const O of z){if(O.error)throw O.error;if(O.tokens)return O}return z.length>0?z[0]:null})}function y(B,W){const $=B.orderedGroups(W);return $.length>0?$[0]:null}class C{constructor(W,$){this.provider=W,this.tokens=$}}function E(B,W){return B.has(W)}function A(B,W){const $=B.orderedGroups(W);return $.length>0?$[0]:[]}function N(B,W,$,Y){return tn(this,null,function*(){const R=A(B,W),L=yield Promise.all(R.map(z=>tn(this,null,function*(){let O;try{O=yield z.provideDocumentRangeSemanticTokens(W,$,Y)}catch(P){(0,U.Cp)(P),O=null}return(!O||!i(O))&&(O=null),new C(z,O)})));for(const z of L)if(z.tokens)return z;return L.length>0?L[0]:null})}c.P.registerCommand("_provideDocumentSemanticTokensLegend",(B,...W)=>tn(this,null,function*(){const[$]=W;(0,_.p_)($ instanceof r.o);const Y=B.get(w.q).getModel($);if(!Y)return;const{documentSemanticTokensProvider:R}=B.get(n.p),L=y(R,Y);return L?L[0].getLegend():B.get(c.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",$)})),c.P.registerCommand("_provideDocumentSemanticTokens",(B,...W)=>tn(this,null,function*(){const[$]=W;(0,_.p_)($ instanceof r.o);const Y=B.get(w.q).getModel($);if(!Y)return;const{documentSemanticTokensProvider:R}=B.get(n.p);if(!a(R,Y))return B.get(c.H).executeCommand("_provideDocumentRangeSemanticTokens",$,Y.getFullModelRange());const L=yield g(R,Y,null,null,b.T.None);if(!L)return;const{provider:z,tokens:O}=L;if(!O||!i(O))return;const P=o({id:0,type:"full",data:O.data});return O.resultId&&z.releaseDocumentSemanticTokens(O.resultId),P})),c.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(B,...W)=>tn(this,null,function*(){const[$,Y]=W;(0,_.p_)($ instanceof r.o);const R=B.get(w.q).getModel($);if(!R)return;const{documentRangeSemanticTokensProvider:L}=B.get(n.p),z=A(L,R);if(z.length===0)return;if(z.length===1)return z[0].getLegend();if(!Y||!d.e.isIRange(Y))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),z[0].getLegend();const O=yield N(L,R,d.e.lift(Y),b.T.None);if(O)return O.provider.getLegend()})),c.P.registerCommand("_provideDocumentRangeSemanticTokens",(B,...W)=>tn(this,null,function*(){const[$,Y]=W;(0,_.p_)($ instanceof r.o),(0,_.p_)(d.e.isIRange(Y));const R=B.get(w.q).getModel($);if(!R)return;const{documentRangeSemanticTokensProvider:L}=B.get(n.p),z=yield N(L,R,d.e.lift(Y),b.T.None);if(!(!z||!z.tokens))return o({id:0,type:"full",data:z.tokens.data})}))},44408:function(Ot,Ke,e){"use strict";e.d(Ke,{e:function(){return b},t:function(){return U}});const b="editor.semanticHighlighting";function U(r,w,c){var _;const I=(_=c.getValue(b,{overrideIdentifier:r.getLanguageId(),resource:r.uri}))===null||_===void 0?void 0:_.enabled;return typeof I=="boolean"?I:w.getColorTheme().semanticHighlighting}},79694:function(Ot,Ke,e){"use strict";e.d(Ke,{x:function(){return w}});var b=e(91741),U=e(50187),r=e(24314);class w{provideSelectionRanges(_,I){return tn(this,null,function*(){const M=[];for(const D of I){const p=[];M.push(p);const o=new Map;yield new Promise(u=>w._bracketsRightYield(u,0,_,D,o)),yield new Promise(u=>w._bracketsLeftYield(u,0,_,D,o,p))}return M})}static _bracketsRightYield(_,I,M,D,p){const o=new Map,u=Date.now();for(;;){if(I>=w._maxRounds){_();break}if(!D){_();break}const d=M.bracketPairs.findNextBracket(D);if(!d){_();break}if(Date.now()-u>w._maxDuration){setTimeout(()=>w._bracketsRightYield(_,I+1,M,D,p));break}if(d.bracketInfo.isOpeningBracket){const i=d.bracketInfo.bracketText,f=o.has(i)?o.get(i):0;o.set(i,f+1)}else{const i=d.bracketInfo.getOpeningBrackets()[0].bracketText;let f=o.has(i)?o.get(i):0;if(f-=1,o.set(i,Math.max(0,f)),f<0){let v=p.get(i);v||(v=new b.S,p.set(i,v)),v.push(d.range)}}D=d.range.getEndPosition()}}static _bracketsLeftYield(_,I,M,D,p,o){const u=new Map,d=Date.now();for(;;){if(I>=w._maxRounds&&p.size===0){_();break}if(!D){_();break}const n=M.bracketPairs.findPrevBracket(D);if(!n){_();break}if(Date.now()-d>w._maxDuration){setTimeout(()=>w._bracketsLeftYield(_,I+1,M,D,p,o));break}if(n.bracketInfo.isOpeningBracket){const f=n.bracketInfo.bracketText;let v=u.has(f)?u.get(f):0;if(v-=1,u.set(f,Math.max(0,v)),v<0){const a=p.get(f);if(a){const S=a.shift();a.size===0&&p.delete(f);const g=r.e.fromPositions(n.range.getEndPosition(),S.getStartPosition()),y=r.e.fromPositions(n.range.getStartPosition(),S.getEndPosition());o.push({range:g}),o.push({range:y}),w._addBracketLeading(M,y,o)}}}else{const f=n.bracketInfo.getOpeningBrackets()[0].bracketText,v=u.has(f)?u.get(f):0;u.set(f,v+1)}D=n.range.getStartPosition()}}static _addBracketLeading(_,I,M){if(I.startLineNumber===I.endLineNumber)return;const D=I.startLineNumber,p=_.getLineFirstNonWhitespaceColumn(D);p!==0&&p!==I.startColumn&&(M.push({range:r.e.fromPositions(new U.L(D,p),I.getEndPosition())}),M.push({range:r.e.fromPositions(new U.L(D,1),I.getEndPosition())}));const o=D-1;if(o>0){const u=_.getLineFirstNonWhitespaceColumn(o);u===I.startColumn&&u!==_.getLineLastNonWhitespaceColumn(o)&&(M.push({range:r.e.fromPositions(new U.L(o,u),I.getEndPosition())}),M.push({range:r.e.fromPositions(new U.L(o,1),I.getEndPosition())}))}}}w._maxDuration=30,w._maxRounds=2},47721:function(Ot,Ke,e){"use strict";var b=e(9488),U=e(71050),r=e(17301),w=e(16830),c=e(50187),_=e(24314),I=e(3860),M=e(29102),D=e(79694),p=e(97295);class o{constructor(Y=!0){this.selectSubwords=Y}provideSelectionRanges(Y,R){const L=[];for(const z of R){const O=[];L.push(O),this.selectSubwords&&this._addInWordRanges(O,Y,z),this._addWordRanges(O,Y,z),this._addWhitespaceLine(O,Y,z),O.push({range:Y.getFullModelRange()})}return L}_addInWordRanges(Y,R,L){const z=R.getWordAtPosition(L);if(!z)return;const{word:O,startColumn:P}=z,H=L.column-P;let V=H,G=H,j=0;for(;V>=0;V--){const F=O.charCodeAt(V);if(V!==H&&(F===95||F===45))break;if((0,p.mK)(F)&&(0,p.df)(j))break;j=F}for(V+=1;G<O.length;G++){const F=O.charCodeAt(G);if((0,p.df)(F)&&(0,p.mK)(j))break;if(F===95||F===45)break;j=F}V<G&&Y.push({range:new _.e(L.lineNumber,P+V,L.lineNumber,P+G)})}_addWordRanges(Y,R,L){const z=R.getWordAtPosition(L);z&&Y.push({range:new _.e(L.lineNumber,z.startColumn,L.lineNumber,z.endColumn)})}_addWhitespaceLine(Y,R,L){R.getLineLength(L.lineNumber)>0&&R.getLineFirstNonWhitespaceColumn(L.lineNumber)===0&&R.getLineLastNonWhitespaceColumn(L.lineNumber)===0&&Y.push({range:new _.e(L.lineNumber,1,L.lineNumber,R.getLineMaxColumn(L.lineNumber))})}}var u=e(63580),d=e(84144),n=e(94565),i=e(71922),f=e(88216),v=e(98401),a=e(70666),S=function($,Y,R,L){var z=arguments.length,O=z<3?Y:L===null?L=Object.getOwnPropertyDescriptor(Y,R):L,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate($,Y,R,L);else for(var H=$.length-1;H>=0;H--)(P=$[H])&&(O=(z<3?P(O):z>3?P(Y,R,O):P(Y,R))||O);return z>3&&O&&Object.defineProperty(Y,R,O),O},g=function($,Y){return function(R,L){Y(R,L,$)}},y;class C{constructor(Y,R){this.index=Y,this.ranges=R}mov(Y){const R=this.index+(Y?1:-1);if(R<0||R>=this.ranges.length)return this;const L=new C(R,this.ranges);return L.ranges[R].equalsRange(this.ranges[this.index])?L.mov(Y):L}}let E=y=class{static get(Y){return Y.getContribution(y.ID)}constructor(Y,R){this._editor=Y,this._languageFeaturesService=R,this._ignoreSelection=!1}dispose(){var Y;(Y=this._selectionListener)===null||Y===void 0||Y.dispose()}run(Y){return tn(this,null,function*(){if(!this._editor.hasModel())return;const R=this._editor.getSelections(),L=this._editor.getModel();if(this._state||(yield W(this._languageFeaturesService.selectionRangeProvider,L,R.map(O=>O.getPosition()),this._editor.getOption(112),U.T.None).then(O=>{var P;if(!(!b.Of(O)||O.length!==R.length)&&!(!this._editor.hasModel()||!b.fS(this._editor.getSelections(),R,(H,V)=>H.equalsSelection(V)))){for(let H=0;H<O.length;H++)O[H]=O[H].filter(V=>V.containsPosition(R[H].getStartPosition())&&V.containsPosition(R[H].getEndPosition())),O[H].unshift(R[H]);this._state=O.map(H=>new C(0,H)),(P=this._selectionListener)===null||P===void 0||P.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var H;this._ignoreSelection||((H=this._selectionListener)===null||H===void 0||H.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(O=>O.mov(Y));const z=this._state.map(O=>I.Y.fromPositions(O.ranges[O.index].getStartPosition(),O.ranges[O.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(z)}finally{this._ignoreSelection=!1}})}};E.ID="editor.contrib.smartSelectController",E=y=S([g(1,i.p)],E);class A extends w.R6{constructor(Y,R){super(R),this._forward=Y}run(Y,R){return tn(this,null,function*(){const L=E.get(R);L&&(yield L.run(this._forward))})}}class N extends A{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:u.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"1_basic",title:u.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}n.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class B extends A{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:u.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"1_basic",title:u.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,w._K)(E.ID,E,4),(0,w.Qr)(N),(0,w.Qr)(B);function W($,Y,R,L,z){return tn(this,null,function*(){const O=$.all(Y).concat(new o(L.selectSubwords));O.length===1&&O.unshift(new D.x);const P=[],H=[];for(const V of O)P.push(Promise.resolve(V.provideSelectionRanges(Y,R,z)).then(G=>{if(b.Of(G)&&G.length===R.length)for(let j=0;j<R.length;j++){H[j]||(H[j]=[]);for(const F of G[j])_.e.isIRange(F.range)&&_.e.containsPosition(F.range,R[j])&&H[j].push(_.e.lift(F.range))}},r.Cp));return yield Promise.all(P),H.map(V=>{if(V.length===0)return[];V.sort((K,m)=>c.L.isBefore(K.getStartPosition(),m.getStartPosition())?1:c.L.isBefore(m.getStartPosition(),K.getStartPosition())||c.L.isBefore(K.getEndPosition(),m.getEndPosition())?-1:c.L.isBefore(m.getEndPosition(),K.getEndPosition())?1:0);const G=[];let j;for(const K of V)(!j||_.e.containsRange(K,j)&&!_.e.equalsRange(K,j))&&(G.push(K),j=K);if(!L.selectLeadingAndTrailingWhitespace)return G;const F=[G[0]];for(let K=1;K<G.length;K++){const m=G[K-1],J=G[K];if(J.startLineNumber!==m.startLineNumber||J.endLineNumber!==m.endLineNumber){const X=new _.e(m.startLineNumber,Y.getLineFirstNonWhitespaceColumn(m.startLineNumber),m.endLineNumber,Y.getLineLastNonWhitespaceColumn(m.endLineNumber));X.containsRange(m)&&!X.equalsRange(m)&&J.containsRange(X)&&!J.equalsRange(X)&&F.push(X);const te=new _.e(m.startLineNumber,1,m.endLineNumber,Y.getLineMaxColumn(m.endLineNumber));te.containsRange(m)&&!te.equalsRange(X)&&J.containsRange(te)&&!J.equalsRange(te)&&F.push(te)}F.push(J)}return F})})}n.P.registerCommand("_executeSelectionRangeProvider",function($,...Y){return tn(this,null,function*(){const[R,L]=Y;(0,v.p_)(a.o.isUri(R));const z=$.get(i.p).selectionRangeProvider,O=yield $.get(f.S).createModelReference(R);try{return W(z,O.object.textEditorModel,L,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},U.T.None)}finally{O.dispose()}})})},98762:function(Ot,Ke,e){"use strict";e.d(Ke,{f:function(){return v}});var b=e(5976),U=e(98401),r=e(16830),w=e(50187),c=e(29102),_=e(4256),I=e(71922),M=e(55621),D=e(63580),p=e(32064),o=e(43557),u=e(3461),d=function(S,g,y,C){var E=arguments.length,A=E<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(S,g,y,C);else for(var B=S.length-1;B>=0;B--)(N=S[B])&&(A=(E<3?N(A):E>3?N(g,y,A):N(g,y))||A);return E>3&&A&&Object.defineProperty(g,y,A),A},n=function(S,g){return function(y,C){g(y,C,S)}},i;const f={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let v=i=class{static get(g){return g.getContribution(i.ID)}constructor(g,y,C,E,A){this._editor=g,this._logService=y,this._languageFeaturesService=C,this._languageConfigurationService=A,this._snippetListener=new b.SL,this._modelVersionId=-1,this._inSnippet=i.InSnippetMode.bindTo(E),this._hasNextTabstop=i.HasNextTabstop.bindTo(E),this._hasPrevTabstop=i.HasPrevTabstop.bindTo(E)}dispose(){var g;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(g=this._session)===null||g===void 0||g.dispose(),this._snippetListener.dispose()}insert(g,y){try{this._doInsert(g,typeof y=="undefined"?f:Xn(Xn({},f),y))}catch(C){this.cancel(),this._logService.error(C),this._logService.error("snippet_error"),this._logService.error("insert_template=",g),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(g,y){var C;if(this._editor.hasModel()){if(this._snippetListener.clear(),y.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof g!="string"&&this.cancel(),this._session?((0,U.p_)(typeof g=="string"),this._session.merge(g,y)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new u.l(this._editor,g,y,this._languageConfigurationService),this._session.insert()),y.undoStopAfter&&this._editor.getModel().pushStackElement(),!((C=this._session)===null||C===void 0)&&C.hasChoice){const E={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(Y,R)=>{if(!this._session||Y!==this._editor.getModel()||!w.L.equals(this._editor.getPosition(),R))return;const{activeChoice:L}=this._session;if(!L||L.choice.options.length===0)return;const z=Y.getValueInRange(L.range),O=!!L.choice.options.find(H=>H.value===z),P=[];for(let H=0;H<L.choice.options.length;H++){const V=L.choice.options[H];P.push({kind:13,label:V.value,insertText:V.value,sortText:"a".repeat(H+1),range:L.range,filterText:O?`${z}_${V.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,D.NC)("next","Go to next placeholder...")}})}return{suggestions:P}}},A=this._editor.getModel();let N,B=!1;const W=()=>{N==null||N.dispose(),B=!1},$=()=>{B||(N=this._languageFeaturesService.completionProvider.register({language:A.getLanguageId(),pattern:A.uri.fsPath,scheme:A.uri.scheme,exclusive:!0},E),this._snippetListener.add(N),B=!0)};this._choiceCompletions={provider:E,enable:$,disable:W}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(E=>E.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var g;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:y}=this._session;if(!y||!this._choiceCompletions){(g=this._choiceCompletions)===null||g===void 0||g.disable(),this._currentChoice=void 0;return}this._currentChoice!==y.choice&&(this._currentChoice=y.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,M.i5)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(g=!1){var y;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(y=this._session)===null||y===void 0||y.dispose(),this._session=void 0,this._modelVersionId=-1,g&&this._editor.setSelections([this._editor.getSelection()])}prev(){var g;(g=this._session)===null||g===void 0||g.prev(),this._updateState()}next(){var g;(g=this._session)===null||g===void 0||g.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};v.ID="snippetController2",v.InSnippetMode=new p.uy("inSnippetMode",!1,(0,D.NC)("inSnippetMode","Whether the editor in current in snippet mode")),v.HasNextTabstop=new p.uy("hasNextTabstop",!1,(0,D.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),v.HasPrevTabstop=new p.uy("hasPrevTabstop",!1,(0,D.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),v=i=d([n(1,o.VZ),n(2,I.p),n(3,p.i6),n(4,_.c_)],v),(0,r._K)(v.ID,v,4);const a=r._l.bindToContribution(v.get);(0,r.fK)(new a({id:"jumpToNextSnippetPlaceholder",precondition:p.Ao.and(v.InSnippetMode,v.HasNextTabstop),handler:S=>S.next(),kbOpts:{weight:100+30,kbExpr:c.u.editorTextFocus,primary:2}})),(0,r.fK)(new a({id:"jumpToPrevSnippetPlaceholder",precondition:p.Ao.and(v.InSnippetMode,v.HasPrevTabstop),handler:S=>S.prev(),kbOpts:{weight:100+30,kbExpr:c.u.editorTextFocus,primary:1026}})),(0,r.fK)(new a({id:"leaveSnippet",precondition:v.InSnippetMode,handler:S=>S.cancel(!0),kbOpts:{weight:100+30,kbExpr:c.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,r.fK)(new a({id:"acceptSnippet",precondition:v.InSnippetMode,handler:S=>S.finish()}))},35084:function(Ot,Ke,e){"use strict";e.d(Ke,{Lv:function(){return _},Vm:function(){return c},Yj:function(){return u},xv:function(){return r},y1:function(){return o}});class b{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let i=0,f=this.value.charCodeAt(n),v;if(v=b._table[f],typeof v=="number")return this.pos+=1,{type:v,pos:n,len:1};if(b.isDigitCharacter(f)){v=8;do i+=1,f=this.value.charCodeAt(n+i);while(b.isDigitCharacter(f));return this.pos+=i,{type:v,pos:n,len:i}}if(b.isVariableCharacter(f)){v=9;do f=this.value.charCodeAt(n+ ++i);while(b.isVariableCharacter(f)||b.isDigitCharacter(f));return this.pos+=i,{type:v,pos:n,len:i}}v=10;do i+=1,f=this.value.charCodeAt(n+i);while(!isNaN(f)&&typeof b._table[f]=="undefined"&&!b.isDigitCharacter(f)&&!b.isVariableCharacter(f));return this.pos+=i,{type:v,pos:n,len:i}}}b._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class U{constructor(){this._children=[]}appendChild(n){return n instanceof r&&this._children[this._children.length-1]instanceof r?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,i){const{parent:f}=n,v=f.children.indexOf(n),a=f.children.slice(0);a.splice(v,1,...i),f._children=a,function S(g,y){for(const C of g)C.parent=y,S(C.children,C)}(i,f)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof o)return n;n=n.parent}}toString(){return this.children.reduce((n,i)=>n+i.toString(),"")}len(){return 0}}class r extends U{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new r(this.value)}}class w extends U{}class c extends w{static compareByIndex(n,i){return n.index===i.index?0:n.isFinalTabstop?1:i.isFinalTabstop||n.index<i.index?-1:n.index>i.index?1:0}constructor(n){super(),this.index=n}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof _?this._children[0]:void 0}clone(){const n=new c(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(i=>i.clone()),n}}class _ extends U{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof r&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new _;return this.options.forEach(n.appendChild,n),n}}class I extends U{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const i=this;let f=!1,v=n.replace(this.regexp,function(){return f=!0,i._replace(Array.prototype.slice.call(arguments,0,-2))});return!f&&this._children.some(a=>a instanceof M&&!!a.elseValue)&&(v=this._replace([])),v}_replace(n){let i="";for(const f of this._children)if(f instanceof M){let v=n[f.index]||"";v=f.resolve(v),i+=v}else i+=f.toString();return i}toString(){return""}clone(){const n=new I;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(i=>i.clone()),n}}class M extends U{constructor(n,i,f,v){super(),this.index=n,this.shorthandName=i,this.ifValue=f,this.elseValue=v}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":n&&typeof this.ifValue=="string"?this.ifValue:!n&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const i=n.match(/[a-z0-9]+/gi);return i?i.map(f=>f.charAt(0).toUpperCase()+f.substr(1)).join(""):n}_toCamelCase(n){const i=n.match(/[a-z0-9]+/gi);return i?i.map((f,v)=>v===0?f.charAt(0).toLowerCase()+f.substr(1):f.charAt(0).toUpperCase()+f.substr(1)).join(""):n}clone(){return new M(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class D extends w{constructor(n){super(),this.name=n}resolve(n){let i=n.resolve(this);return this.transform&&(i=this.transform.resolve(i||"")),i!==void 0?(this._children=[new r(i)],!0):!1}clone(){const n=new D(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(i=>i.clone()),n}}function p(d,n){const i=[...d];for(;i.length>0;){const f=i.shift();if(!n(f))break;i.unshift(...f.children)}}class o extends U{get placeholderInfo(){if(!this._placeholders){const n=[];let i;this.walk(function(f){return f instanceof c&&(n.push(f),i=!i||i.index<f.index?f:i),!0}),this._placeholders={all:n,last:i}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let i=0,f=!1;return this.walk(v=>v===n?(f=!0,!1):(i+=v.len(),!0)),f?i:-1}fullLen(n){let i=0;return p([n],f=>(i+=f.len(),!0)),i}enclosingPlaceholders(n){const i=[];let{parent:f}=n;for(;f;)f instanceof c&&i.push(f),f=f.parent;return i}resolveVariables(n){return this.walk(i=>(i instanceof D&&i.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,i){return this._placeholders=void 0,super.replace(n,i)}clone(){const n=new o;return this._children=this.children.map(i=>i.clone()),n}walk(n){p(this.children,n)}}class u{constructor(){this._scanner=new b,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,i,f){const v=new o;return this.parseFragment(n,v),this.ensureFinalTabstop(v,f!=null?f:!1,i!=null?i:!1),v}parseFragment(n,i){const f=i.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(i););const v=new Map,a=[];i.walk(y=>(y instanceof c&&(y.isFinalTabstop?v.set(0,void 0):!v.has(y.index)&&y.children.length>0?v.set(y.index,y.children):a.push(y)),!0));const S=(y,C)=>{const E=v.get(y.index);if(!E)return;const A=new c(y.index);A.transform=y.transform;for(const N of E){const B=N.clone();A.appendChild(B),B instanceof c&&v.has(B.index)&&!C.has(B.index)&&(C.add(B.index),S(B,C),C.delete(B.index))}i.replace(y,[A])},g=new Set;for(const y of a)S(y,g);return i.children.slice(f)}ensureFinalTabstop(n,i,f){(i||f&&n.placeholders.length>0)&&(n.placeholders.find(a=>a.index===0)||n.appendChild(new c(0)))}_accept(n,i){if(n===void 0||this._token.type===n){const f=i?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),f}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const i=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const v=this._scanner.next();if(v.type!==0&&v.type!==4&&v.type!==5)return!1}this._token=this._scanner.next()}const f=this._scanner.value.substring(i.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),f}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let i;return(i=this._accept(5,!0))?(i=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||i,n.appendChild(new r(i)),!0):!1}_parseTabstopOrVariableName(n){let i;const f=this._token;return this._accept(0)&&(i=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(i)?new c(Number(i)):new D(i)),!0):this._backTo(f)}_parseComplexPlaceholder(n){let i;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(i=this._accept(8,!0))))return this._backTo(f);const a=new c(Number(i));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(a),!0;if(!this._parse(a))return n.appendChild(new r("${"+i+":")),a.children.forEach(n.appendChild,n),!0}else if(a.index>0&&this._accept(7)){const S=new _;for(;;){if(this._parseChoiceElement(S)){if(this._accept(2))continue;if(this._accept(7)&&(a.appendChild(S),this._accept(4)))return n.appendChild(a),!0}return this._backTo(f),!1}}else return this._accept(6)?this._parseTransform(a)?(n.appendChild(a),!0):(this._backTo(f),!1):this._accept(4)?(n.appendChild(a),!0):this._backTo(f)}_parseChoiceElement(n){const i=this._token,f=[];for(;!(this._token.type===2||this._token.type===7);){let v;if((v=this._accept(5,!0))?v=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||v:v=this._accept(void 0,!0),!v)return this._backTo(i),!1;f.push(v)}return f.length===0?(this._backTo(i),!1):(n.appendChild(new r(f.join(""))),!0)}_parseComplexVariable(n){let i;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(i=this._accept(9,!0))))return this._backTo(f);const a=new D(i);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(a),!0;if(!this._parse(a))return n.appendChild(new r("${"+i+":")),a.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(a)?(n.appendChild(a),!0):(this._backTo(f),!1):this._accept(4)?(n.appendChild(a),!0):this._backTo(f)}_parseTransform(n){const i=new I;let f="",v="";for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(6,!0)||a,f+=a;continue}if(this._token.type!==14){f+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(5,!0)||this._accept(6,!0)||a,i.appendChild(new r(a));continue}if(!(this._parseFormatString(i)||this._parseAnything(i)))return!1}for(;!this._accept(4);){if(this._token.type!==14){v+=this._accept(void 0,!0);continue}return!1}try{i.regexp=new RegExp(f,v)}catch(a){return!1}return n.transform=i,!0}_parseFormatString(n){const i=this._token;if(!this._accept(0))return!1;let f=!1;this._accept(3)&&(f=!0);const v=this._accept(8,!0);if(v)if(f){if(this._accept(4))return n.appendChild(new M(Number(v))),!0;if(!this._accept(1))return this._backTo(i),!1}else return n.appendChild(new M(Number(v))),!0;else return this._backTo(i),!1;if(this._accept(6)){const a=this._accept(9,!0);return!a||!this._accept(4)?(this._backTo(i),!1):(n.appendChild(new M(Number(v),a)),!0)}else if(this._accept(11)){const a=this._until(4);if(a)return n.appendChild(new M(Number(v),void 0,a,void 0)),!0}else if(this._accept(12)){const a=this._until(4);if(a)return n.appendChild(new M(Number(v),void 0,void 0,a)),!0}else if(this._accept(13)){const a=this._until(1);if(a){const S=this._until(4);if(S)return n.appendChild(new M(Number(v),void 0,a,S)),!0}}else{const a=this._until(4);if(a)return n.appendChild(new M(Number(v),void 0,void 0,a)),!0}return this._backTo(i),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new r(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},3461:function(Ot,Ke,e){"use strict";e.d(Ke,{l:function(){return V}});var b=e(9488),U=e(5976),r=e(97295),w=e(69386),c=e(24314),_=e(3860),I=e(4256),M=e(84901),D=e(44349),p=e(40382),o=e(35084),u=e(15527),d=e(1432);function n(G,j=d.ED){return(0,u.oP)(G,j)?G.charAt(0).toUpperCase()+G.slice(1):G}let i=Object.create(null);var f=e(82663),v=e(95935),a=e(98e3),S=e(63580),g=function(G,j,F,K){var m=arguments.length,J=m<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,F):K,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(G,j,F,K);else for(var te=G.length-1;te>=0;te--)(X=G[te])&&(J=(m<3?X(J):m>3?X(j,F,J):X(j,F))||J);return m>3&&J&&Object.defineProperty(j,F,J),J},y=function(G,j){return function(F,K){j(F,K,G)}};const C=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class E{constructor(j){this._delegates=j}resolve(j){for(const F of this._delegates){const K=F.resolve(j);if(K!==void 0)return K}}}class A{constructor(j,F,K,m){this._model=j,this._selection=F,this._selectionIdx=K,this._overtypingCapturer=m}resolve(j){const{name:F}=j;if(F==="SELECTION"||F==="TM_SELECTED_TEXT"){let K=this._model.getValueInRange(this._selection)||void 0,m=this._selection.startLineNumber!==this._selection.endLineNumber;if(!K&&this._overtypingCapturer){const J=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);J&&(K=J.value,m=J.multiline)}if(K&&m&&j.snippet){const J=this._model.getLineContent(this._selection.startLineNumber),X=(0,r.V8)(J,0,this._selection.startColumn-1);let te=X;j.snippet.walk(ge=>ge===j?!1:(ge instanceof o.xv&&(te=(0,r.V8)((0,r.uq)(ge.value).pop())),!0));const le=(0,r.Mh)(te,X);K=K.replace(/(\r\n|\r|\n)(.*)/g,(ge,we,pe)=>`${we}${te.substr(le)}${pe}`)}return K}else{if(F==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(F==="TM_CURRENT_WORD"){const K=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return K&&K.word||void 0}else{if(F==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(F==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(F==="CURSOR_INDEX")return String(this._selectionIdx);if(F==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class N{constructor(j,F){this._labelService=j,this._model=F}resolve(j){const{name:F}=j;if(F==="TM_FILENAME")return f.EZ(this._model.uri.fsPath);if(F==="TM_FILENAME_BASE"){const K=f.EZ(this._model.uri.fsPath),m=K.lastIndexOf(".");return m<=0?K:K.slice(0,m)}else{if(F==="TM_DIRECTORY")return f.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,v.XX)(this._model.uri));if(F==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(F==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class B{constructor(j,F,K,m){this._readClipboardText=j,this._selectionIdx=F,this._selectionCount=K,this._spread=m}resolve(j){if(j.name!=="CLIPBOARD")return;const F=this._readClipboardText();if(F){if(this._spread){const K=F.split(/\r\n|\n|\r/).filter(m=>!(0,r.m5)(m));if(K.length===this._selectionCount)return K[this._selectionIdx]}return F}}}let W=class{constructor(j,F,K){this._model=j,this._selection=F,this._languageConfigurationService=K}resolve(j){const{name:F}=j,K=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),m=this._languageConfigurationService.getLanguageConfiguration(K).comments;if(m){if(F==="LINE_COMMENT")return m.lineCommentToken||void 0;if(F==="BLOCK_COMMENT_START")return m.blockCommentStartToken||void 0;if(F==="BLOCK_COMMENT_END")return m.blockCommentEndToken||void 0}}};W=g([y(2,I.c_)],W);class ${constructor(){this._date=new Date}resolve(j){const{name:F}=j;if(F==="CURRENT_YEAR")return String(this._date.getFullYear());if(F==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(F==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(F==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(F==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(F==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(F==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(F==="CURRENT_DAY_NAME")return $.dayNames[this._date.getDay()];if(F==="CURRENT_DAY_NAME_SHORT")return $.dayNamesShort[this._date.getDay()];if(F==="CURRENT_MONTH_NAME")return $.monthNames[this._date.getMonth()];if(F==="CURRENT_MONTH_NAME_SHORT")return $.monthNamesShort[this._date.getMonth()];if(F==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(F==="CURRENT_TIMEZONE_OFFSET"){const K=this._date.getTimezoneOffset(),m=K>0?"-":"+",J=Math.trunc(Math.abs(K/60)),X=J<10?"0"+J:J,te=Math.abs(K)-J*60,le=te<10?"0"+te:te;return m+X+":"+le}}}$.dayNames=[S.NC("Sunday","Sunday"),S.NC("Monday","Monday"),S.NC("Tuesday","Tuesday"),S.NC("Wednesday","Wednesday"),S.NC("Thursday","Thursday"),S.NC("Friday","Friday"),S.NC("Saturday","Saturday")],$.dayNamesShort=[S.NC("SundayShort","Sun"),S.NC("MondayShort","Mon"),S.NC("TuesdayShort","Tue"),S.NC("WednesdayShort","Wed"),S.NC("ThursdayShort","Thu"),S.NC("FridayShort","Fri"),S.NC("SaturdayShort","Sat")],$.monthNames=[S.NC("January","January"),S.NC("February","February"),S.NC("March","March"),S.NC("April","April"),S.NC("May","May"),S.NC("June","June"),S.NC("July","July"),S.NC("August","August"),S.NC("September","September"),S.NC("October","October"),S.NC("November","November"),S.NC("December","December")],$.monthNamesShort=[S.NC("JanuaryShort","Jan"),S.NC("FebruaryShort","Feb"),S.NC("MarchShort","Mar"),S.NC("AprilShort","Apr"),S.NC("MayShort","May"),S.NC("JuneShort","Jun"),S.NC("JulyShort","Jul"),S.NC("AugustShort","Aug"),S.NC("SeptemberShort","Sep"),S.NC("OctoberShort","Oct"),S.NC("NovemberShort","Nov"),S.NC("DecemberShort","Dec")];class Y{constructor(j){this._workspaceService=j}resolve(j){if(!this._workspaceService)return;const F=(0,p.uT)(this._workspaceService.getWorkspace());if(!(0,p.c$)(F)){if(j.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(F);if(j.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(F)}}_resolveWorkspaceName(j){if((0,p.eb)(j))return f.EZ(j.uri.path);let F=f.EZ(j.configPath.path);return F.endsWith(p.A6)&&(F=F.substr(0,F.length-p.A6.length-1)),F}_resoveWorkspacePath(j){if((0,p.eb)(j))return n(j.uri.fsPath);const F=f.EZ(j.configPath.path);let K=j.configPath.fsPath;return K.endsWith(F)&&(K=K.substr(0,K.length-F.length-1)),K?n(K):"/"}}class R{resolve(j){const{name:F}=j;if(F==="RANDOM")return Math.random().toString().slice(-6);if(F==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(F==="UUID")return(0,a.R)()}}var L=function(G,j,F,K){var m=arguments.length,J=m<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,F):K,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(G,j,F,K);else for(var te=G.length-1;te>=0;te--)(X=G[te])&&(J=(m<3?X(J):m>3?X(j,F,J):X(j,F))||J);return m>3&&J&&Object.defineProperty(j,F,J),J},z=function(G,j){return function(F,K){j(F,K,G)}},O;class P{constructor(j,F,K){this._editor=j,this._snippet=F,this._snippetLineLeadingWhitespace=K,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,b.vM)(F.placeholders,o.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(j){this._offset=j.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const j=this._editor.getModel();this._editor.changeDecorations(F=>{for(const K of this._snippet.placeholders){const m=this._snippet.offset(K),J=this._snippet.fullLen(K),X=c.e.fromPositions(j.getPositionAt(this._offset+m),j.getPositionAt(this._offset+m+J)),te=K.isFinalTabstop?P._decor.inactiveFinal:P._decor.inactive,le=F.addDecoration(X,te);this._placeholderDecorations.set(K,le)}})}move(j){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const m=[];for(const J of this._placeholderGroups[this._placeholderGroupsIdx])if(J.transform){const X=this._placeholderDecorations.get(J),te=this._editor.getModel().getDecorationRange(X),le=this._editor.getModel().getValueInRange(te),ge=J.transform.resolve(le).split(/\r\n|\r|\n/);for(let we=1;we<ge.length;we++)ge[we]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ge[we]);m.push(w.h.replace(te,ge.join(this._editor.getModel().getEOL())))}m.length>0&&this._editor.executeEdits("snippet.placeholderTransform",m)}let F=!1;j===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,F=!0):j===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,F=!0);const K=this._editor.getModel().changeDecorations(m=>{const J=new Set,X=[];for(const te of this._placeholderGroups[this._placeholderGroupsIdx]){const le=this._placeholderDecorations.get(te),ge=this._editor.getModel().getDecorationRange(le);X.push(new _.Y(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn)),F=F&&this._hasPlaceholderBeenCollapsed(te),m.changeDecorationOptions(le,te.isFinalTabstop?P._decor.activeFinal:P._decor.active),J.add(te);for(const we of this._snippet.enclosingPlaceholders(te)){const pe=this._placeholderDecorations.get(we);m.changeDecorationOptions(pe,we.isFinalTabstop?P._decor.activeFinal:P._decor.active),J.add(we)}}for(const[te,le]of this._placeholderDecorations)J.has(te)||m.changeDecorationOptions(le,te.isFinalTabstop?P._decor.inactiveFinal:P._decor.inactive);return X});return F?this.move(j):K!=null?K:[]}_hasPlaceholderBeenCollapsed(j){let F=j;for(;F;){if(F instanceof o.Vm){const K=this._placeholderDecorations.get(F);if(this._editor.getModel().getDecorationRange(K).isEmpty()&&F.toString().length>0)return!0}F=F.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[j]=this._snippet.placeholders;if(j.isFinalTabstop&&this._snippet.rightMostDescendant===j)return!0}return!1}computePossibleSelections(){const j=new Map;for(const F of this._placeholderGroups){let K;for(const m of F){if(m.isFinalTabstop)break;K||(K=[],j.set(m.index,K));const J=this._placeholderDecorations.get(m),X=this._editor.getModel().getDecorationRange(J);if(!X){j.delete(m.index);break}K.push(X)}}return j}get activeChoice(){if(!this._placeholderDecorations)return;const j=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(j!=null&&j.choice))return;const F=this._placeholderDecorations.get(j);if(!F)return;const K=this._editor.getModel().getDecorationRange(F);if(K)return{range:K,choice:j.choice}}get hasChoice(){let j=!1;return this._snippet.walk(F=>(j=F instanceof o.Lv,!j)),j}merge(j){const F=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(K=>{for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const J=j.shift();console.assert(J._offset!==-1),console.assert(!J._placeholderDecorations);const X=J._snippet.placeholderInfo.last.index;for(const le of J._snippet.placeholderInfo.all)le.isFinalTabstop?le.index=m.index+(X+1)/this._nestingLevel:le.index=m.index+le.index/this._nestingLevel;this._snippet.replace(m,J._snippet.children);const te=this._placeholderDecorations.get(m);K.removeDecoration(te),this._placeholderDecorations.delete(m);for(const le of J._snippet.placeholders){const ge=J._snippet.offset(le),we=J._snippet.fullLen(le),pe=c.e.fromPositions(F.getPositionAt(J._offset+ge),F.getPositionAt(J._offset+ge+we)),Pe=K.addDecoration(pe,P._decor.inactive);this._placeholderDecorations.set(le,Pe)}}this._placeholderGroups=(0,b.vM)(this._snippet.placeholders,o.Vm.compareByIndex)})}}P._decor={active:M.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:M.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:M.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:M.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const H={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let V=O=class{static adjustWhitespace(j,F,K,m,J){const X=j.getLineContent(F.lineNumber),te=(0,r.V8)(X,0,F.column-1);let le;return m.walk(ge=>{if(!(ge instanceof o.xv)||ge.parent instanceof o.Lv||J&&!J.has(ge))return!0;const we=ge.value.split(/\r\n|\r|\n/);if(K){const Pe=m.offset(ge);if(Pe===0)we[0]=j.normalizeIndentation(we[0]);else{le=le!=null?le:m.toString();const Ne=le.charCodeAt(Pe-1);(Ne===10||Ne===13)&&(we[0]=j.normalizeIndentation(te+we[0]))}for(let Ne=1;Ne<we.length;Ne++)we[Ne]=j.normalizeIndentation(te+we[Ne])}const pe=we.join(j.getEOL());return pe!==ge.value&&(ge.parent.replace(ge,[new o.xv(pe)]),le=void 0),!0}),te}static adjustSelection(j,F,K,m){if(K!==0||m!==0){const{positionLineNumber:J,positionColumn:X}=F,te=X-K,le=X+m,ge=j.validateRange({startLineNumber:J,startColumn:te,endLineNumber:J,endColumn:le});F=_.Y.createWithDirection(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn,F.getDirection())}return F}static createEditsAndSnippetsFromSelections(j,F,K,m,J,X,te,le,ge){const we=[],pe=[];if(!j.hasModel())return{edits:we,snippets:pe};const Pe=j.getModel(),Ne=j.invokeWithinContext(ce=>ce.get(p.ec)),ae=j.invokeWithinContext(ce=>new N(ce.get(D.e),Pe)),Me=()=>te,ke=Pe.getValueInRange(O.adjustSelection(Pe,j.getSelection(),K,0)),Ue=Pe.getValueInRange(O.adjustSelection(Pe,j.getSelection(),0,m)),Le=Pe.getLineFirstNonWhitespaceColumn(j.getSelection().positionLineNumber),ie=j.getSelections().map((ce,Re)=>({selection:ce,idx:Re})).sort((ce,Re)=>c.e.compareRangesUsingStarts(ce.selection,Re.selection));for(const{selection:ce,idx:Re}of ie){let ye=O.adjustSelection(Pe,ce,K,0),Se=O.adjustSelection(Pe,ce,0,m);ke!==Pe.getValueInRange(ye)&&(ye=ce),Ue!==Pe.getValueInRange(Se)&&(Se=ce);const me=ce.setStartPosition(ye.startLineNumber,ye.startColumn).setEndPosition(Se.endLineNumber,Se.endColumn),he=new o.Yj().parse(F,!0,J),se=me.getStartPosition(),ve=O.adjustWhitespace(Pe,se,X||Re>0&&Le!==Pe.getLineFirstNonWhitespaceColumn(ce.positionLineNumber),he);he.resolveVariables(new E([ae,new B(Me,Re,ie.length,j.getOption(78)==="spread"),new A(Pe,ce,Re,le),new W(Pe,ce,ge),new $,new Y(Ne),new R])),we[Re]=w.h.replace(me,he.toString()),we[Re].identifier={major:Re,minor:0},we[Re]._isTracked=!0,pe[Re]=new P(j,he,ve)}return{edits:we,snippets:pe}}static createEditsAndSnippetsFromEdits(j,F,K,m,J,X,te){if(!j.hasModel()||F.length===0)return{edits:[],snippets:[]};const le=[],ge=j.getModel(),we=new o.Yj,pe=new o.y1,Pe=new E([j.invokeWithinContext(ae=>new N(ae.get(D.e),ge)),new B(()=>J,0,j.getSelections().length,j.getOption(78)==="spread"),new A(ge,j.getSelection(),0,X),new W(ge,j.getSelection(),te),new $,new Y(j.invokeWithinContext(ae=>ae.get(p.ec))),new R]);F=F.sort((ae,Me)=>c.e.compareRangesUsingStarts(ae.range,Me.range));let Ne=0;for(let ae=0;ae<F.length;ae++){const{range:Me,template:ke}=F[ae];if(ae>0){const Re=F[ae-1].range,ye=c.e.fromPositions(Re.getEndPosition(),Me.getStartPosition()),Se=new o.xv(ge.getValueInRange(ye));pe.appendChild(Se),Ne+=Se.value.length}const Ue=we.parseFragment(ke,pe);O.adjustWhitespace(ge,Me.getStartPosition(),!0,pe,new Set(Ue)),pe.resolveVariables(Pe);const Le=pe.toString(),ie=Le.slice(Ne);Ne=Le.length;const ce=w.h.replace(Me,ie);ce.identifier={major:ae,minor:0},ce._isTracked=!0,le.push(ce)}return we.ensureFinalTabstop(pe,K,!0),{edits:le,snippets:[new P(j,pe,"")]}}constructor(j,F,K=H,m){this._editor=j,this._template=F,this._options=K,this._languageConfigurationService=m,this._templateMerges=[],this._snippets=[]}dispose(){(0,U.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:j,snippets:F}=typeof this._template=="string"?O.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):O.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=F,this._editor.executeEdits("snippet",j,K=>{const m=K.filter(J=>!!J.identifier);for(let J=0;J<F.length;J++)F[J].initialize(m[J].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):m.map(J=>_.Y.fromPositions(J.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(j,F=H){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,j]);const{edits:K,snippets:m}=O.createEditsAndSnippetsFromSelections(this._editor,j,F.overwriteBefore,F.overwriteAfter,!0,F.adjustWhitespace,F.clipboardText,F.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",K,J=>{const X=J.filter(le=>!!le.identifier);for(let le=0;le<m.length;le++)m[le].initialize(X[le].textChange);const te=m[0].isTrivialSnippet;if(!te){for(const le of this._snippets)le.merge(m);console.assert(m.length===0)}return this._snippets[0].hasPlaceholder&&!te?this._move(void 0):X.map(le=>_.Y.fromPositions(le.range.getEndPosition()))})}next(){const j=this._move(!0);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}prev(){const j=this._move(!1);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}_move(j){const F=[];for(const K of this._snippets){const m=K.move(j);F.push(...m)}return F}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const j=this._editor.getSelections();if(j.length<this._snippets.length)return!1;const F=new Map;for(const K of this._snippets){const m=K.computePossibleSelections();if(F.size===0)for(const[J,X]of m){X.sort(c.e.compareRangesUsingStarts);for(const te of j)if(X[0].containsRange(te)){F.set(J,[]);break}}if(F.size===0)return!1;F.forEach((J,X)=>{J.push(...m.get(X))})}j.sort(c.e.compareRangesUsingStarts);for(const[K,m]of F){if(m.length!==j.length){F.delete(K);continue}m.sort(c.e.compareRangesUsingStarts);for(let J=0;J<m.length;J++)if(!m[J].containsRange(j[J])){F.delete(K);continue}}return F.size>0}};V=O=L([z(3,I.c_)],V)},62329:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(63580);const r=Object.freeze({View:{value:(0,U.NC)("view","View"),original:"View"},Help:{value:(0,U.NC)("help","Help"),original:"Help"},Test:{value:(0,U.NC)("test","Test"),original:"Test"},File:{value:(0,U.NC)("file","File"),original:"File"},Preferences:{value:(0,U.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,U.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var w=e(84144),c=e(33108),_=e(32064),I=e(29102),M=e(5976),D=e(71922),p=e(65321),o=e(77514),u=e(9488),d=e(25670),n=e(95939),i=e(84527),f=e(50187),v=e(50072),a=e(92550),S=e(72202),g=e(83973);class y{constructor(nt,tt,xt,Lt=null){this.startLineNumbers=nt,this.endLineNumbers=tt,this.lastLineRelativePosition=xt,this.showEndForLine=Lt}equals(nt){return!!nt&&this.lastLineRelativePosition===nt.lastLineRelativePosition&&this.showEndForLine===nt.showEndForLine&&(0,u.fS)(this.startLineNumbers,nt.startLineNumbers)&&(0,u.fS)(this.endLineNumbers,nt.endLineNumbers)}}const C=(0,o.Z)("stickyScrollViewLayer",{createHTML:_t=>_t}),E="data-sticky-line-index",A="data-sticky-is-line",N="data-sticky-is-line-number",B="data-sticky-is-folding-icon";class W extends M.JT{constructor(nt){super(),this._editor=nt,this._foldingIconStore=new M.SL,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(66),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",nt instanceof i.H),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const tt=()=>{this._linesDomNode.style.left=this._editor.getOption(114).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(xt=>{xt.hasChanged(114)&&tt(),xt.hasChanged(66)&&(this._lineHeight=this._editor.getOption(66))})),this._register(this._editor.onDidScrollChange(xt=>{xt.scrollLeftChanged&&tt(),xt.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{tt(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),tt(),this._register(this._editor.onDidLayoutChange(xt=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getStickyLineForLine(nt){return this._stickyLines.find(tt=>tt.lineNumber===nt)}getCurrentLines(){return this._lineNumbers}setState(nt,tt,xt=1/0){if((!this._previousState&&!nt||this._previousState&&this._previousState.equals(nt))&&xt===1/0)return;this._previousState=nt;const Lt=this._stickyLines;if(this._clearStickyWidget(),!nt||!this._editor._getViewModel())return;if(nt.startLineNumbers.length*this._lineHeight+nt.lastLineRelativePosition>0){this._lastLineRelativePosition=nt.lastLineRelativePosition;const yt=[...nt.startLineNumbers];nt.showEndForLine!==null&&(yt[nt.showEndForLine]=nt.endLineNumbers[nt.showEndForLine]),this._lineNumbers=yt}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode(Lt,tt,xt)}_updateWidgetWidth(){const nt=this._editor.getLayoutInfo(),tt=nt.contentLeft;this._lineNumbersDomNode.style.width=`${tt}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-nt.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${nt.width-nt.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),p.PO(this._lineNumbersDomNode),p.PO(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(nt){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${nt?.5:0}s`)}_setFoldingIconsVisibility(nt){for(const tt of this._stickyLines){const xt=tt.foldingIcon;xt&&xt.setVisible(nt?!0:xt.isCollapsed)}}_renderRootNode(nt,tt,xt=1/0){return tn(this,null,function*(){const Lt=this._editor.getLayoutInfo();for(const[yt,un]of this._lineNumbers.entries()){const In=nt[yt],bn=un>=xt||(In==null?void 0:In.lineNumber)!==un?this._renderChildNode(yt,un,tt,Lt):this._updateTopAndZIndexOfStickyLine(In);bn&&(this._linesDomNode.appendChild(bn.lineDomNode),this._lineNumbersDomNode.appendChild(bn.lineNumberDomNode),this._stickyLines.push(bn))}tt&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const Be=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(Be===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${Be}px`,this._linesDomNodeScrollable.style.height=`${Be}px`,this._rootDomNode.style.height=`${Be}px`,this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(109)==="mouseover"&&(this._foldingIconStore.add(p.nm(this._lineNumbersDomNode,p.tw.MOUSE_ENTER,tt=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(p.nm(this._lineNumbersDomNode,p.tw.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(nt,tt,xt,Lt){const Be=this._editor._getViewModel();if(!Be)return;const yt=Be.coordinatesConverter.convertModelPositionToViewPosition(new f.L(tt,1)).lineNumber,un=Be.getViewLineRenderingData(yt),In=this._editor.getOption(67);let bn;try{bn=a.Kp.filter(un.inlineDecorations,yt,un.minColumn,un.maxColumn)}catch(ts){bn=[]}const Hn=new S.IJ(!0,!0,un.content,un.continuesWithWrappedLine,un.isBasicASCII,un.containsRTL,0,un.tokens,bn,un.tabSize,un.startVisibleColumn,1,1,1,500,"none",!0,!0,null),si=new v.HT(2e3),Yn=(0,S.d1)(Hn,si);let mi;C?mi=C.createHTML(si.build()):mi=si.build();const _i=document.createElement("span");_i.setAttribute(E,String(nt)),_i.setAttribute(A,""),_i.setAttribute("role","listitem"),_i.tabIndex=0,_i.className="sticky-line-content",_i.classList.add(`stickyLine${tt}`),_i.style.lineHeight=`${this._lineHeight}px`,_i.innerHTML=mi;const Wi=document.createElement("span");Wi.setAttribute(E,String(nt)),Wi.setAttribute(N,""),Wi.className="sticky-line-number",Wi.style.lineHeight=`${this._lineHeight}px`;const Si=Lt.contentLeft;Wi.style.width=`${Si}px`;const Ki=document.createElement("span");In.renderType===1||In.renderType===3&&tt%10===0?Ki.innerText=tt.toString():In.renderType===2&&(Ki.innerText=Math.abs(tt-this._editor.getPosition().lineNumber).toString()),Ki.className="sticky-line-number-inner",Ki.style.lineHeight=`${this._lineHeight}px`,Ki.style.width=`${Lt.lineNumbersWidth}px`,Ki.style.paddingLeft=`${Lt.lineNumbersLeft}px`,Wi.appendChild(Ki);const bi=this._renderFoldingIconForLine(xt,tt);bi&&Wi.appendChild(bi.domNode),this._editor.applyFontInfo(_i),this._editor.applyFontInfo(Ki),Wi.style.lineHeight=`${this._lineHeight}px`,_i.style.lineHeight=`${this._lineHeight}px`,Wi.style.height=`${this._lineHeight}px`,_i.style.height=`${this._lineHeight}px`;const Fi=new $(nt,tt,_i,Wi,bi,Yn.characterMapping);return this._updateTopAndZIndexOfStickyLine(Fi)}_updateTopAndZIndexOfStickyLine(nt){var tt;const xt=nt.index,Lt=nt.lineDomNode,Be=nt.lineNumberDomNode,yt=xt===this._lineNumbers.length-1,un="0",In="1";Lt.style.zIndex=yt?un:In,Be.style.zIndex=yt?un:In;const bn=`${xt*this._lineHeight+this._lastLineRelativePosition+(!((tt=nt.foldingIcon)===null||tt===void 0)&&tt.isCollapsed?1:0)}px`,Hn=`${xt*this._lineHeight}px`;return Lt.style.top=yt?bn:Hn,Be.style.top=yt?bn:Hn,nt}_renderFoldingIconForLine(nt,tt){const xt=this._editor.getOption(109);if(!nt||xt==="never")return;const Lt=nt.regions,Be=Lt.findRange(tt),yt=Lt.getStartLineNumber(Be);if(!(tt===yt))return;const In=Lt.isCollapsed(Be),bn=new Y(In,yt,Lt.getEndLineNumber(Be),this._lineHeight);return bn.setVisible(this._isOnGlyphMargin?!0:In||xt==="always"),bn.domNode.setAttribute(B,""),bn}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const nt of this._stickyLines)nt.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=nt.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(nt){0<=nt&&nt<this._stickyLines.length&&this._stickyLines[nt].lineDomNode.focus()}getEditorPositionFromNode(nt){if(!nt||nt.children.length>0)return null;const tt=this._getRenderedStickyLineFromChildDomNode(nt);if(!tt)return null;const xt=(0,n.dL)(tt.characterMapping,nt,0);return new f.L(tt.lineNumber,xt)}getLineNumberFromChildDomNode(nt){var tt,xt;return(xt=(tt=this._getRenderedStickyLineFromChildDomNode(nt))===null||tt===void 0?void 0:tt.lineNumber)!==null&&xt!==void 0?xt:null}_getRenderedStickyLineFromChildDomNode(nt){const tt=this.getLineIndexFromChildDomNode(nt);return tt===null||tt<0||tt>=this._stickyLines.length?null:this._stickyLines[tt]}getLineIndexFromChildDomNode(nt){const tt=this._getAttributeValue(nt,E);return tt?parseInt(tt,10):null}isInStickyLine(nt){return this._getAttributeValue(nt,A)!==void 0}isInFoldingIconDomNode(nt){return this._getAttributeValue(nt,B)!==void 0}_getAttributeValue(nt,tt){for(;nt&&nt!==this._rootDomNode;){const xt=nt.getAttribute(tt);if(xt!==null)return xt;nt=nt.parentElement}}}class ${constructor(nt,tt,xt,Lt,Be,yt){this.index=nt,this.lineNumber=tt,this.lineDomNode=xt,this.lineNumberDomNode=Lt,this.foldingIcon=Be,this.characterMapping=yt}}class Y{constructor(nt,tt,xt,Lt){this.isCollapsed=nt,this.foldingStartLine=tt,this.foldingEndLine=xt,this.dimension=Lt,this.domNode=document.createElement("div"),this.domNode.style.width=`${Lt}px`,this.domNode.style.height=`${Lt}px`,this.domNode.className=d.k.asClassName(nt?g.f5:g.Iy)}setVisible(nt){this.domNode.style.cursor=nt?"pointer":"default",this.domNode.style.opacity=nt?"1":"0"}}var R=e(71050),L=e(15393),z=e(4669),O=e(4256),P=e(30335),H=e(23369),V=e(99155),G=e(84990),j=e(17301);class F{constructor(nt,tt){this.startLineNumber=nt,this.endLineNumber=tt}}class K{constructor(nt,tt,xt){this.range=nt,this.children=tt,this.parent=xt}}class m{constructor(nt,tt,xt,Lt){this.uri=nt,this.version=tt,this.element=xt,this.outlineProviderId=Lt}}var J=e(53725),X=function(_t,nt,tt,xt){var Lt=arguments.length,Be=Lt<3?nt:xt===null?xt=Object.getOwnPropertyDescriptor(nt,tt):xt,yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(_t,nt,tt,xt);else for(var un=_t.length-1;un>=0;un--)(yt=_t[un])&&(Be=(Lt<3?yt(Be):Lt>3?yt(nt,tt,Be):yt(nt,tt))||Be);return Lt>3&&Be&&Object.defineProperty(nt,tt,Be),Be},te=function(_t,nt){return function(tt,xt){nt(tt,xt,_t)}},le;(function(_t){_t.OUTLINE_MODEL="outlineModel",_t.FOLDING_PROVIDER_MODEL="foldingProviderModel",_t.INDENTATION_MODEL="indentationModel"})(le||(le={}));var ge;(function(_t){_t[_t.VALID=0]="VALID",_t[_t.INVALID=1]="INVALID",_t[_t.CANCELED=2]="CANCELED"})(ge||(ge={}));let we=class extends M.JT{constructor(nt,tt,xt,Lt){super(),this._editor=nt,this._languageConfigurationService=tt,this._languageFeaturesService=xt,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new L.vp(300)),this._updateOperation=this._register(new M.SL);const Be=new Pe(xt),yt=new Me(this._editor,xt),un=new ae(this._editor,tt);switch(Lt){case le.OUTLINE_MODEL:this._modelProviders.push(Be),this._modelProviders.push(yt),this._modelProviders.push(un);break;case le.FOLDING_PROVIDER_MODEL:this._modelProviders.push(yt),this._modelProviders.push(un);break;case le.INDENTATION_MODEL:this._modelProviders.push(un);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(nt,tt,xt){return tn(this,null,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>tn(this,null,function*(){for(const Lt of this._modelProviders){const{statusPromise:Be,modelPromise:yt}=Lt.computeStickyModel(nt,tt,xt);this._modelPromise=yt;const un=yield Be;if(this._modelPromise!==yt)return null;switch(un){case ge.CANCELED:return this._updateOperation.clear(),null;case ge.VALID:return Lt.stickyModel}}return null})).catch(Lt=>((0,j.dL)(Lt),null))})}};we=X([te(1,O.c_),te(2,D.p)],we);class pe{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,ge.INVALID}computeStickyModel(nt,tt,xt){if(xt.isCancellationRequested||!this.isProviderValid(nt))return{statusPromise:this._invalid(),modelPromise:null};const Lt=(0,L.PG)(Be=>this.createModelFromProvider(nt,tt,Be));return{statusPromise:Lt.then(Be=>this.isModelValid(Be)?xt.isCancellationRequested?ge.CANCELED:(this._stickyModel=this.createStickyModel(nt,tt,xt,Be),ge.VALID):this._invalid()).then(void 0,Be=>((0,j.dL)(Be),ge.CANCELED)),modelPromise:Lt}}isModelValid(nt){return!0}isProviderValid(nt){return!0}}let Pe=class extends pe{constructor(nt){super(),this._languageFeaturesService=nt}createModelFromProvider(nt,tt,xt){return P.C3.create(this._languageFeaturesService.documentSymbolProvider,nt,xt)}createStickyModel(nt,tt,xt,Lt){var Be;const{stickyOutlineElement:yt,providerID:un}=this._stickyModelFromOutlineModel(Lt,(Be=this._stickyModel)===null||Be===void 0?void 0:Be.outlineProviderId);return new m(nt.uri,tt,yt,un)}isModelValid(nt){return nt&&nt.children.size>0}_stickyModelFromOutlineModel(nt,tt){let xt;if(J.$.first(nt.children.values())instanceof P.H3){const un=J.$.find(nt.children.values(),In=>In.id===tt);if(un)xt=un.children;else{let In="",bn=-1,Hn;for(const[si,Yn]of nt.children.entries()){const mi=this._findSumOfRangesOfGroup(Yn);mi>bn&&(Hn=Yn,bn=mi,In=Yn.id)}tt=In,xt=Hn.children}}else xt=nt.children;const Lt=[],Be=Array.from(xt.values()).sort((un,In)=>{const bn=new F(un.symbol.range.startLineNumber,un.symbol.range.endLineNumber),Hn=new F(In.symbol.range.startLineNumber,In.symbol.range.endLineNumber);return this._comparator(bn,Hn)});for(const un of Be)Lt.push(this._stickyModelFromOutlineElement(un,un.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new K(void 0,Lt,void 0),providerID:tt}}_stickyModelFromOutlineElement(nt,tt){const xt=[];for(const Be of nt.children.values())if(Be.symbol.selectionRange.startLineNumber!==Be.symbol.range.endLineNumber)if(Be.symbol.selectionRange.startLineNumber!==tt)xt.push(this._stickyModelFromOutlineElement(Be,Be.symbol.selectionRange.startLineNumber));else for(const yt of Be.children.values())xt.push(this._stickyModelFromOutlineElement(yt,Be.symbol.selectionRange.startLineNumber));xt.sort((Be,yt)=>this._comparator(Be.range,yt.range));const Lt=new F(nt.symbol.selectionRange.startLineNumber,nt.symbol.range.endLineNumber);return new K(Lt,xt,void 0)}_comparator(nt,tt){return nt.startLineNumber!==tt.startLineNumber?nt.startLineNumber-tt.startLineNumber:tt.endLineNumber-nt.endLineNumber}_findSumOfRangesOfGroup(nt){let tt=0;for(const xt of nt.children.values())tt+=this._findSumOfRangesOfGroup(xt);return nt instanceof P.sT?tt+nt.symbol.range.endLineNumber-nt.symbol.selectionRange.startLineNumber:tt}};Pe=X([te(0,D.p)],Pe);class Ne extends pe{constructor(nt){super(),this._foldingLimitReporter=new H.n(nt)}createStickyModel(nt,tt,xt,Lt){const Be=this._fromFoldingRegions(Lt);return new m(nt.uri,tt,Be,void 0)}isModelValid(nt){return nt!==null}_fromFoldingRegions(nt){const tt=nt.length,xt=[],Lt=new K(void 0,[],void 0);for(let Be=0;Be<tt;Be++){const yt=nt.getParentIndex(Be);let un;yt!==-1?un=xt[yt]:un=Lt;const In=new K(new F(nt.getStartLineNumber(Be),nt.getEndLineNumber(Be)+1),[],un);un.children.push(In),xt.push(In)}return Lt}}let ae=class extends Ne{constructor(nt,tt){super(nt),this._languageConfigurationService=tt}createModelFromProvider(nt,tt,xt){return new G.aI(nt,this._languageConfigurationService,this._foldingLimitReporter).compute(xt)}};ae=X([te(1,O.c_)],ae);let Me=class extends Ne{constructor(nt,tt){super(nt),this._languageFeaturesService=tt}isProviderValid(nt){return H.f.getFoldingRangeProviders(this._languageFeaturesService,nt).length>0}createModelFromProvider(nt,tt,xt){const Lt=H.f.getFoldingRangeProviders(this._languageFeaturesService,nt);return new V.e(nt,Lt,()=>this.createModelFromProvider(nt,tt,xt),this._foldingLimitReporter,void 0).compute(xt)}};Me=X([te(1,D.p)],Me);var ke=function(_t,nt,tt,xt){var Lt=arguments.length,Be=Lt<3?nt:xt===null?xt=Object.getOwnPropertyDescriptor(nt,tt):xt,yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(_t,nt,tt,xt);else for(var un=_t.length-1;un>=0;un--)(yt=_t[un])&&(Be=(Lt<3?yt(Be):Lt>3?yt(nt,tt,Be):yt(nt,tt))||Be);return Lt>3&&Be&&Object.defineProperty(nt,tt,Be),Be},Ue=function(_t,nt){return function(tt,xt){nt(tt,xt,_t)}};class Le{constructor(nt,tt,xt){this.startLineNumber=nt,this.endLineNumber=tt,this.nestingDepth=xt}}let ie=class extends M.JT{constructor(nt,tt,xt){super(),this._languageFeaturesService=tt,this._languageConfigurationService=xt,this._onDidChangeStickyScroll=this._register(new z.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=nt,this._sessionStore=this._register(new M.SL),this._updateSoon=this._register(new L.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(Lt=>{Lt.hasChanged(114)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(114),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new we(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var nt;return(nt=this._model)===null||nt===void 0?void 0:nt.version}update(){return tn(this,null,function*(){var nt;(nt=this._cts)===null||nt===void 0||nt.dispose(!0),this._cts=new R.A,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(nt){return tn(this,null,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const tt=this._editor.getModel(),xt=tt.getVersionId(),Lt=yield this._stickyModelProvider.update(tt,xt,nt);nt.isCancellationRequested||(this._model=Lt)})}updateIndex(nt){return nt===-1?nt=0:nt<0&&(nt=-nt-2),nt}getCandidateStickyLinesIntersectingFromStickyModel(nt,tt,xt,Lt,Be){if(tt.children.length===0)return;let yt=Be;const un=[];for(let Hn=0;Hn<tt.children.length;Hn++){const si=tt.children[Hn];si.range&&un.push(si.range.startLineNumber)}const In=this.updateIndex((0,u.ry)(un,nt.startLineNumber,(Hn,si)=>Hn-si)),bn=this.updateIndex((0,u.ry)(un,nt.startLineNumber+Lt,(Hn,si)=>Hn-si));for(let Hn=In;Hn<=bn;Hn++){const si=tt.children[Hn];if(!si)return;if(si.range){const Yn=si.range.startLineNumber,mi=si.range.endLineNumber;nt.startLineNumber<=mi+1&&Yn-1<=nt.endLineNumber&&Yn!==yt&&(yt=Yn,xt.push(new Le(Yn,mi-1,Lt+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(nt,si,xt,Lt+1,Yn))}else this.getCandidateStickyLinesIntersectingFromStickyModel(nt,si,xt,Lt,Be)}}getCandidateStickyLinesIntersecting(nt){var tt,xt;if(!(!((tt=this._model)===null||tt===void 0)&&tt.element))return[];let Lt=[];this.getCandidateStickyLinesIntersectingFromStickyModel(nt,this._model.element,Lt,0,-1);const Be=(xt=this._editor._getViewModel())===null||xt===void 0?void 0:xt.getHiddenAreas();if(Be)for(const yt of Be)Lt=Lt.filter(un=>!(un.startLineNumber>=yt.startLineNumber&&un.endLineNumber<=yt.endLineNumber+1));return Lt}};ie=ke([Ue(1,D.p),Ue(2,O.c_)],ie);var ce=e(72065),Re=e(5606),ye=e(82005),Se=e(24314),me=e(40184),he=e(58722),se=e(88191),ve=e(7317),xe=e(71705),je=function(_t,nt,tt,xt){var Lt=arguments.length,Be=Lt<3?nt:xt===null?xt=Object.getOwnPropertyDescriptor(nt,tt):xt,yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(_t,nt,tt,xt);else for(var un=_t.length-1;un>=0;un--)(yt=_t[un])&&(Be=(Lt<3?yt(Be):Lt>3?yt(nt,tt,Be):yt(nt,tt))||Be);return Lt>3&&Be&&Object.defineProperty(nt,tt,Be),Be},Oe=function(_t,nt){return function(tt,xt){nt(tt,xt,_t)}},Ze;let it=Ze=class extends M.JT{constructor(nt,tt,xt,Lt,Be,yt,un){super(),this._editor=nt,this._contextMenuService=tt,this._languageFeaturesService=xt,this._instaService=Lt,this._contextKeyService=un,this._sessionStore=new M.SL,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new W(this._editor),this._stickyLineCandidateProvider=new ie(this._editor,xt,Be),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y([],[],0),this._readConfiguration();const In=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(Hn=>{(Hn.hasChanged(114)||Hn.hasChanged(72)||Hn.hasChanged(66)||Hn.hasChanged(109))&&this._readConfiguration()})),this._register(p.nm(In,p.tw.CONTEXT_MENU,Hn=>tn(this,null,function*(){this._onContextMenu(p.Jj(In),Hn)}))),this._stickyScrollFocusedContextKey=I.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=I.u.stickyScrollVisible.bindTo(this._contextKeyService);const bn=this._register(p.go(In));this._register(bn.onDidBlur(Hn=>{this._positionRevealed===!1&&In.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(bn.onDidFocus(Hn=>{this.focus()})),this._registerMouseListeners(),this._register(p.nm(In,p.tw.MOUSE_DOWN,Hn=>{this._onMouseDown=!0}))}static get(nt){return nt.getContribution(Ze.ID)}_disposeFocusStickyScrollStore(){var nt;this._stickyScrollFocusedContextKey.set(!1),(nt=this._focusDisposableStore)===null||nt===void 0||nt.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new M.SL,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(nt){this._focusedStickyElementIndex=nt?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const nt=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:nt[this._focusedStickyElementIndex],column:1})}_revealPosition(nt){this._reveaInEditor(nt,()=>this._editor.revealPosition(nt))}_revealLineInCenterIfOutsideViewport(nt){this._reveaInEditor(nt,()=>this._editor.revealLineInCenterIfOutsideViewport(nt.lineNumber,0))}_reveaInEditor(nt,tt){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,tt(),this._editor.setSelection(Se.e.fromPositions(nt)),this._editor.focus()}_registerMouseListeners(){const nt=this._register(new M.SL),tt=this._register(new ye.yN(this._editor,{extractLineNumberFromMouseEvent:Be=>{const yt=this._stickyScrollWidget.getEditorPositionFromNode(Be.target.element);return yt?yt.lineNumber:0}})),xt=Be=>{if(!this._editor.hasModel()||Be.target.type!==12||Be.target.detail!==this._stickyScrollWidget.getId())return null;const yt=Be.target.element;if(!yt||yt.innerText!==yt.innerHTML)return null;const un=this._stickyScrollWidget.getEditorPositionFromNode(yt);return un?{range:new Se.e(un.lineNumber,un.column,un.lineNumber,un.column+yt.innerText.length),textElement:yt}:null},Lt=this._stickyScrollWidget.getDomNode();this._register(p.mu(Lt,p.tw.CLICK,Be=>{if(Be.ctrlKey||Be.altKey||Be.metaKey||!Be.leftButton)return;if(Be.shiftKey){const bn=this._stickyScrollWidget.getLineIndexFromChildDomNode(Be.target);if(bn===null)return;const Hn=new f.L(this._endLineNumbers[bn],1);this._revealLineInCenterIfOutsideViewport(Hn);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(Be.target)){const bn=this._stickyScrollWidget.getLineNumberFromChildDomNode(Be.target);this._toggleFoldingRegionForLine(bn);return}if(!this._stickyScrollWidget.isInStickyLine(Be.target))return;let In=this._stickyScrollWidget.getEditorPositionFromNode(Be.target);if(!In){const bn=this._stickyScrollWidget.getLineNumberFromChildDomNode(Be.target);if(bn===null)return;In=new f.L(bn,1)}this._revealPosition(In)})),this._register(p.mu(Lt,p.tw.MOUSE_MOVE,Be=>{if(Be.shiftKey){const yt=this._stickyScrollWidget.getLineIndexFromChildDomNode(Be.target);if(yt===null||this._showEndForLine!==null&&this._showEndForLine===yt)return;this._showEndForLine=yt,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(p.nm(Lt,p.tw.MOUSE_LEAVE,Be=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(tt.onMouseMoveOrRelevantKeyDown(([Be,yt])=>{const un=xt(Be);if(!un||!Be.hasTriggerModifier||!this._editor.hasModel()){nt.clear();return}const{range:In,textElement:bn}=un;if(!In.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=In,nt.clear();else if(bn.style.textDecoration==="underline")return;const Hn=new R.A;nt.add((0,M.OF)(()=>Hn.dispose(!0)));let si;(0,me.nD)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new f.L(In.startLineNumber,In.startColumn+1),Hn.token).then(Yn=>{if(!Hn.token.isCancellationRequested)if(Yn.length!==0){this._candidateDefinitionsLength=Yn.length;const mi=bn;si!==mi?(nt.clear(),si=mi,si.style.textDecoration="underline",nt.add((0,M.OF)(()=>{si.style.textDecoration="none"}))):si||(si=mi,si.style.textDecoration="underline",nt.add((0,M.OF)(()=>{si.style.textDecoration="none"})))}else nt.clear()})})),this._register(tt.onCancel(()=>{nt.clear()})),this._register(tt.onExecute(Be=>tn(this,null,function*(){if(Be.target.type!==12||Be.target.detail!==this._stickyScrollWidget.getId())return;const yt=this._stickyScrollWidget.getEditorPositionFromNode(Be.target.element);yt&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:yt.lineNumber,column:1})),this._instaService.invokeFunction(he.K,Be,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(nt,tt){const xt=new ve.n(nt,tt);this._contextMenuService.showContextMenu({menuId:w.eH.StickyScrollContext,getAnchor:()=>xt})}_toggleFoldingRegionForLine(nt){if(!this._foldingModel||nt===null)return;const tt=this._stickyScrollWidget.getStickyLineForLine(nt),xt=tt==null?void 0:tt.foldingIcon;if(!xt)return;(0,xe.d8)(this._foldingModel,Number.MAX_VALUE,[nt]),xt.isCollapsed=!xt.isCollapsed;const Lt=(xt.isCollapsed?this._editor.getTopForLineNumber(xt.foldingEndLine):this._editor.getTopForLineNumber(xt.foldingStartLine))-this._editor.getOption(66)*tt.index+1;this._editor.setScrollTop(Lt),this._renderStickyScroll(nt)}_readConfiguration(){const nt=this._editor.getOption(114);if(nt.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else nt.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(xt=>{xt.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(xt=>this._onTokensChange(xt))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(67).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(-1)}))}_needsUpdate(nt){const tt=this._stickyScrollWidget.getCurrentLines();for(const xt of tt)for(const Lt of nt.ranges)if(xt>=Lt.fromLineNumber&&xt<=Lt.toLineNumber)return!0;return!1}_onTokensChange(nt){this._needsUpdate(nt)&&this._renderStickyScroll(-1)}_onDidResize(){const tt=this._editor.getLayoutInfo().height/this._editor.getOption(66);this._maxStickyLines=Math.round(tt*.25)}_renderStickyScroll(nt=1/0){return tn(this,null,function*(){var tt,xt;const Lt=this._editor.getModel();if(!Lt||Lt.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null,nt);return}const Be=this._stickyLineCandidateProvider.getVersionId();if(Be===void 0||Be===Lt.getVersionId())if(this._foldingModel=(xt=yield(tt=H.f.get(this._editor))===null||tt===void 0?void 0:tt.getFoldingModel())!==null&&xt!==void 0?xt:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,nt);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,nt),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const yt=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,nt),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(yt)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}findScrollWidgetState(){const nt=this._editor.getOption(66),tt=Math.min(this._maxStickyLines,this._editor.getOption(114).maxLineCount),xt=this._editor.getScrollTop();let Lt=0;const Be=[],yt=[],un=this._editor.getVisibleRanges();if(un.length!==0){const In=new F(un[0].startLineNumber,un[un.length-1].endLineNumber),bn=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(In);for(const Hn of bn){const si=Hn.startLineNumber,Yn=Hn.endLineNumber,mi=Hn.nestingDepth;if(Yn-si>0){const _i=(mi-1)*nt,Wi=mi*nt,Si=this._editor.getBottomForLineNumber(si)-xt,Ki=this._editor.getTopForLineNumber(Yn)-xt,bi=this._editor.getBottomForLineNumber(Yn)-xt;if(_i>Ki&&_i<=bi){Be.push(si),yt.push(Yn+1),Lt=bi-Wi;break}else Wi>Si&&Wi<=bi&&(Be.push(si),yt.push(Yn+1));if(Be.length===tt)break}}}return this._endLineNumbers=yt,new y(Be,yt,Lt,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};it.ID="store.contrib.stickyScrollController",it=Ze=je([Oe(1,Re.i),Oe(2,D.p),Oe(3,ce.TG),Oe(4,O.c_),Oe(5,se.A),Oe(6,_.i6)],it);class Et extends w.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,U.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,U.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:r.View,toggled:{condition:_.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,U.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,U.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:w.eH.CommandPalette},{id:w.eH.MenubarAppearanceMenu,group:"4_editor",order:3},{id:w.eH.StickyScrollContext}]})}run(nt){return tn(this,null,function*(){const tt=nt.get(c.Ui),xt=!tt.getValue("editor.stickyScroll.enabled");return tt.updateValue("editor.stickyScroll.enabled",xt)})}}const st=100;class pt extends b.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,U.NC)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:(0,U.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:_.Ao.and(_.Ao.has("config.editor.stickyScroll.enabled"),I.u.stickyScrollVisible),menu:[{id:w.eH.CommandPalette}]})}runEditorCommand(nt,tt){var xt;(xt=it.get(tt))===null||xt===void 0||xt.focus()}}class Mt extends b.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,U.NC)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:st,primary:18}})}runEditorCommand(nt,tt){var xt;(xt=it.get(tt))===null||xt===void 0||xt.focusNext()}}class qt extends b.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,U.NC)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:st,primary:16}})}runEditorCommand(nt,tt){var xt;(xt=it.get(tt))===null||xt===void 0||xt.focusPrevious()}}class Ft extends b.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,U.NC)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:st,primary:3}})}runEditorCommand(nt,tt){var xt;(xt=it.get(tt))===null||xt===void 0||xt.goToFocused()}}class Xt extends b.x1{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,U.NC)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:st,primary:9}})}runEditorCommand(nt,tt){var xt;(xt=it.get(tt))===null||xt===void 0||xt.selectEditor()}}(0,b._K)(it.ID,it,1),(0,w.r1)(Et),(0,w.r1)(pt),(0,w.r1)(qt),(0,w.r1)(Mt),(0,w.r1)(Ft),(0,w.r1)(Xt)},74961:function(Ot,Ke,e){"use strict";e.d(Ke,{_:function(){return c},t:function(){return w}});var b=e(9488),U=e(60075),r=e(97295);class w{constructor(I,M){this.leadingLineContent=I,this.characterCountDelta=M}}class c{constructor(I,M,D,p,o,u,d=U.mX.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=c._compareCompletionItems,this._items=I,this._column=M,this._wordDistance=p,this._options=o,this._refilterKind=1,this._lineContext=D,this._fuzzyScoreOptions=d,u==="top"?this._snippetCompareFn=c._compareCompletionItemsSnippetsUp:u==="bottom"&&(this._snippetCompareFn=c._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(I){(this._lineContext.leadingLineContent!==I.leadingLineContent||this._lineContext.characterCountDelta!==I.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<I.characterCountDelta&&this._filteredItems?2:1,this._lineContext=I)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const I=new Set;for(const[M,D]of this.getItemsByProvider())D.length>0&&D[0].container.incomplete&&I.add(M);return I}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const I=[],{leadingLineContent:M,characterCountDelta:D}=this._lineContext;let p="",o="";const u=this._refilterKind===1?this._items:this._filteredItems,d=[],n=!this._options.filterGraceful||u.length>2e3?U.EW:U.l7;for(let i=0;i<u.length;i++){const f=u[i];if(f.isInvalid)continue;const v=this._itemsByProvider.get(f.provider);v?v.push(f):this._itemsByProvider.set(f.provider,[f]);const a=f.position.column-f.editStart.column,S=a+D-(f.position.column-this._column);if(p.length!==S&&(p=S===0?"":M.slice(-S),o=p.toLowerCase()),f.word=p,S===0)f.score=U.CL.Default;else{let g=0;for(;g<a;){const y=p.charCodeAt(g);if(y===32||y===9)g+=1;else break}if(g>=S)f.score=U.CL.Default;else if(typeof f.completion.filterText=="string"){const y=n(p,o,g,f.completion.filterText,f.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;(0,r.zY)(f.completion.filterText,f.textLabel)===0?f.score=y:(f.score=(0,U.jB)(p,o,g,f.textLabel,f.labelLow,0),f.score[0]=y[0])}else{const y=n(p,o,g,f.textLabel,f.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;f.score=y}}f.idx=i,f.distance=this._wordDistance.distance(f.position,f.completion),d.push(f),I.push(f.textLabel.length)}this._filteredItems=d.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:I.length?(0,b.HW)(I.length-.85,I,(i,f)=>i-f):0}}static _compareCompletionItems(I,M){return I.score[0]>M.score[0]?-1:I.score[0]<M.score[0]?1:I.distance<M.distance?-1:I.distance>M.distance?1:I.idx<M.idx?-1:I.idx>M.idx?1:0}static _compareCompletionItemsSnippetsDown(I,M){if(I.completion.kind!==M.completion.kind){if(I.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return c._compareCompletionItems(I,M)}static _compareCompletionItemsSnippetsUp(I,M){if(I.completion.kind!==M.completion.kind){if(I.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return c._compareCompletionItems(I,M)}}},55621:function(Ot,Ke,e){"use strict";e.d(Ke,{A9:function(){return y},GI:function(){return S},ZJ:function(){return E},_y:function(){return a},i5:function(){return L},kL:function(){return N},tG:function(){return z}});var b=e(71050),U=e(17301),r=e(60075),w=e(5976),c=e(84013),_=e(98401),I=e(70666),M=e(50187),D=e(24314),p=e(88216),o=e(35084),u=e(63580),d=e(84144),n=e(94565),i=e(32064),f=e(71922),v=e(37726);const a={Visible:v.iX,HasFocusedSuggestion:new i.uy("suggestWidgetHasFocusedSuggestion",!1,(0,u.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new i.uy("suggestWidgetDetailsVisible",!1,(0,u.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new i.uy("suggestWidgetMultipleSuggestions",!1,(0,u.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new i.uy("suggestionMakesTextEdit",!0,(0,u.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new i.uy("acceptSuggestionOnEnter",!0,(0,u.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new i.uy("suggestionHasInsertAndReplaceRange",!1,(0,u.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new i.uy("suggestionInsertMode",void 0,{type:"string",description:(0,u.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new i.uy("suggestionCanResolve",!1,(0,u.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},S=new d.eH("suggestWidgetStatusBar");class g{constructor(P,H,V,G){var j;this.position=P,this.completion=H,this.container=V,this.provider=G,this.isInvalid=!1,this.score=r.CL.Default,this.distance=0,this.textLabel=typeof H.label=="string"?H.label:(j=H.label)===null||j===void 0?void 0:j.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=H.sortText&&H.sortText.toLowerCase(),this.filterTextLow=H.filterText&&H.filterText.toLowerCase(),this.extensionId=H.extensionId,D.e.isIRange(H.range)?(this.editStart=new M.L(H.range.startLineNumber,H.range.startColumn),this.editInsertEnd=new M.L(H.range.endLineNumber,H.range.endColumn),this.editReplaceEnd=new M.L(H.range.endLineNumber,H.range.endColumn),this.isInvalid=this.isInvalid||D.e.spansMultipleLines(H.range)||H.range.startLineNumber!==P.lineNumber):(this.editStart=new M.L(H.range.insert.startLineNumber,H.range.insert.startColumn),this.editInsertEnd=new M.L(H.range.insert.endLineNumber,H.range.insert.endColumn),this.editReplaceEnd=new M.L(H.range.replace.endLineNumber,H.range.replace.endColumn),this.isInvalid=this.isInvalid||D.e.spansMultipleLines(H.range.insert)||D.e.spansMultipleLines(H.range.replace)||H.range.insert.startLineNumber!==P.lineNumber||H.range.replace.startLineNumber!==P.lineNumber||H.range.insert.startColumn!==H.range.replace.startColumn),typeof G.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(P){return tn(this,null,function*(){if(!this._resolveCache){const H=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),V=new c.G(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(G=>{Object.assign(this.completion,G),this._resolveDuration=V.elapsed()},G=>{(0,U.n2)(G)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{H.dispose()})}return this._resolveCache})}}class y{constructor(P=2,H=new Set,V=new Set,G=new Map,j=!0){this.snippetSortOrder=P,this.kindFilter=H,this.providerFilter=V,this.providerItemsToReuse=G,this.showDeprecated=j}}y.default=new y;let C;function E(){return C}class A{constructor(P,H,V,G){this.items=P,this.needsClipboard=H,this.durations=V,this.disposable=G}}function N(F,K,m){return tn(this,arguments,function*(O,P,H,V=y.default,G={triggerKind:0},j=b.T.None){const J=new c.G;H=H.clone();const X=P.getWordAtPosition(H),te=X?new D.e(H.lineNumber,X.startColumn,H.lineNumber,X.endColumn):D.e.fromPositions(H),le={replace:te,insert:te.setEndPosition(H.lineNumber,H.column)},ge=[],we=new w.SL,pe=[];let Pe=!1;const Ne=(Me,ke,Ue)=>{var Le,ie,ce;let Re=!1;if(!ke)return Re;for(const ye of ke.suggestions)if(!V.kindFilter.has(ye.kind)){if(!V.showDeprecated&&(!((Le=ye==null?void 0:ye.tags)===null||Le===void 0)&&Le.includes(1)))continue;ye.range||(ye.range=le),ye.sortText||(ye.sortText=typeof ye.label=="string"?ye.label:ye.label.label),!Pe&&ye.insertTextRules&&ye.insertTextRules&4&&(Pe=o.Yj.guessNeedsClipboard(ye.insertText)),ge.push(new g(H,ye,ke,Me)),Re=!0}return(0,w.Wf)(ke)&&we.add(ke),pe.push({providerName:(ie=Me._debugDisplayName)!==null&&ie!==void 0?ie:"unknown_provider",elapsedProvider:(ce=ke.duration)!==null&&ce!==void 0?ce:-1,elapsedOverall:Ue.elapsed()}),Re},ae=(()=>tn(this,null,function*(){if(!C||V.kindFilter.has(27))return;const Me=V.providerItemsToReuse.get(C);if(Me){Me.forEach(Le=>ge.push(Le));return}if(V.providerFilter.size>0&&!V.providerFilter.has(C))return;const ke=new c.G,Ue=yield C.provideCompletionItems(P,H,G,j);Ne(C,Ue,ke)}))();for(const Me of O.orderedGroups(P)){let ke=!1;if(yield Promise.all(Me.map(Ue=>tn(this,null,function*(){if(V.providerItemsToReuse.has(Ue)){const Le=V.providerItemsToReuse.get(Ue);Le.forEach(ie=>ge.push(ie)),ke=ke||Le.length>0;return}if(!(V.providerFilter.size>0&&!V.providerFilter.has(Ue)))try{const Le=new c.G,ie=yield Ue.provideCompletionItems(P,H,G,j);ke=Ne(Ue,ie,Le)||ke}catch(Le){(0,U.Cp)(Le)}}))),ke||j.isCancellationRequested)break}return yield ae,j.isCancellationRequested?(we.dispose(),Promise.reject(new U.FU)):new A(ge.sort(R(V.snippetSortOrder)),Pe,{entries:pe,elapsed:J.elapsed()},we)})}function B(O,P){if(O.sortTextLow&&P.sortTextLow){if(O.sortTextLow<P.sortTextLow)return-1;if(O.sortTextLow>P.sortTextLow)return 1}return O.textLabel<P.textLabel?-1:O.textLabel>P.textLabel?1:O.completion.kind-P.completion.kind}function W(O,P){if(O.completion.kind!==P.completion.kind){if(O.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return B(O,P)}function $(O,P){if(O.completion.kind!==P.completion.kind){if(O.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return B(O,P)}const Y=new Map;Y.set(0,W),Y.set(2,$),Y.set(1,B);function R(O){return Y.get(O)}n.P.registerCommand("_executeCompletionItemProvider",(O,...P)=>tn(this,null,function*(){const[H,V,G,j]=P;(0,_.p_)(I.o.isUri(H)),(0,_.p_)(M.L.isIPosition(V)),(0,_.p_)(typeof G=="string"||!G),(0,_.p_)(typeof j=="number"||!j);const{completionProvider:F}=O.get(f.p),K=yield O.get(p.S).createModelReference(H);try{const m={incomplete:!1,suggestions:[]},J=[],X=K.object.textEditorModel.validatePosition(V),te=yield N(F,K.object.textEditorModel,X,void 0,{triggerCharacter:G!=null?G:void 0,triggerKind:G?1:0});for(const le of te.items)J.length<(j!=null?j:0)&&J.push(le.resolve(b.T.None)),m.incomplete=m.incomplete||le.container.incomplete,m.suggestions.push(le.completion);try{return yield Promise.all(J),m}finally{setTimeout(()=>te.disposable.dispose(),100)}}finally{K.dispose()}}));function L(O,P){var H;(H=O.getContribution("editor.contrib.suggestController"))===null||H===void 0||H.triggerSuggest(new Set().add(P),void 0,!0)}class z{static isAllOff(P){return P.other==="off"&&P.comments==="off"&&P.strings==="off"}static isAllOn(P){return P.other==="on"&&P.comments==="on"&&P.strings==="on"}static valueFor(P,H){switch(H){case 1:return P.comments;case 2:return P.strings;default:return P.other}}}},22704:function(Ot,Ke,e){"use strict";e.d(Ke,{n:function(){return Yt}});var b=e(35996),U=e(9488),r=e(71050),w=e(17301),c=e(4669),_=e(8313),I=e(5976),M=e(1432),D=e(84013),p=e(98401),o=e(43407),u=e(16830),d=e(69386),n=e(50187),i=e(24314),f=e(29102),v=e(98762),a=e(35084),S=e(80378),g=e(32064),y=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},C=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}},E;let A=E=class{constructor(oe,Ce){this._editor=oe,this._enabled=!1,this._ckAtEnd=E.AtEnd.bindTo(Ce),this._configListener=this._editor.onDidChangeConfiguration(Ee=>Ee.hasChanged(122)&&this._update()),this._update()}dispose(){var oe;this._configListener.dispose(),(oe=this._selectionListener)===null||oe===void 0||oe.dispose(),this._ckAtEnd.reset()}_update(){const oe=this._editor.getOption(122)==="on";if(this._enabled!==oe)if(this._enabled=oe,this._enabled){const Ce=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Ee=this._editor.getModel(),be=this._editor.getSelection(),Ae=Ee.getWordAtPosition(be.getStartPosition());if(!Ae){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Ae.endColumn===be.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Ce),Ce()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};A.AtEnd=new g.uy("atEndOfWord",!1),A=E=y([C(1,g.i6)],A);var N=e(63580),B=e(94565),W=e(72065),$=e(43557),Y=e(55621),R=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},L=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}},z;let O=z=class{constructor(oe,Ce){this._editor=oe,this._index=0,this._ckOtherSuggestions=z.OtherSuggestions.bindTo(Ce)}dispose(){this.reset()}reset(){var oe;this._ckOtherSuggestions.reset(),(oe=this._listener)===null||oe===void 0||oe.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:oe,index:Ce},Ee){if(oe.items.length===0){this.reset();return}if(z._moveIndex(!0,oe,Ce)===Ce){this.reset();return}this._acceptNext=Ee,this._model=oe,this._index=Ce,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(oe,Ce,Ee){let be=Ee;for(let Ae=Ce.items.length;Ae>0&&(be=(be+Ce.items.length+(oe?1:-1))%Ce.items.length,!(be===Ee||!Ce.items[be].completion.additionalTextEdits));Ae--);return be}next(){this._move(!0)}prev(){this._move(!1)}_move(oe){if(this._model)try{this._ignore=!0,this._index=z._moveIndex(oe,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};O.OtherSuggestions=new g.uy("hasOtherSuggestions",!1),O=z=R([L(1,g.i6)],O);var P=e(44906);class H{constructor(oe,Ce,Ee,be){this._disposables=new I.SL,this._disposables.add(Ee.onDidSuggest(Ae=>{Ae.completionModel.items.length===0&&this.reset()})),this._disposables.add(Ee.onDidCancel(Ae=>{this.reset()})),this._disposables.add(Ce.onDidShow(()=>this._onItem(Ce.getFocusedItem()))),this._disposables.add(Ce.onDidFocus(this._onItem,this)),this._disposables.add(Ce.onDidHide(this.reset,this)),this._disposables.add(oe.onWillType(Ae=>{if(this._active&&!Ce.isFrozen()&&Ee.state!==0){const He=Ae.charCodeAt(Ae.length-1);this._active.acceptCharacters.has(He)&&oe.getOption(0)&&be(this._active.item)}}))}_onItem(oe){if(!oe||!(0,U.Of)(oe.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===oe.item)return;const Ce=new P.q;for(const Ee of oe.item.completion.commitCharacters)Ee.length>0&&Ce.add(Ee.charCodeAt(0));this._active={acceptCharacters:Ce,item:oe}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var V=e(15393),G=e(97295),j=e(3860),F=e(85215),K=e(24477),m=e(84972),J=e(33108),X=e(10829),te=e(74961),le=e(71922),ge=e(60075),we=e(78573),pe=e(48814),Pe=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},Ne=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}},ae;class Me{static shouldAutoTrigger(oe){if(!oe.hasModel())return!1;const Ce=oe.getModel(),Ee=oe.getPosition();Ce.tokenization.tokenizeIfCheap(Ee.lineNumber);const be=Ce.getWordAtPosition(Ee);return!(!be||be.endColumn!==Ee.column&&be.startColumn+1!==Ee.column||!isNaN(Number(be.word)))}constructor(oe,Ce,Ee){this.leadingLineContent=oe.getLineContent(Ce.lineNumber).substr(0,Ce.column-1),this.leadingWord=oe.getWordUntilPosition(Ce),this.lineNumber=Ce.lineNumber,this.column=Ce.column,this.triggerOptions=Ee}}function ke(de,oe,Ce){if(!oe.getContextKeyValue(we.f.inlineSuggestionVisible.key))return!0;const Ee=oe.getContextKeyValue(we.f.suppressSuggestions.key);return Ee!==void 0?!Ee:!de.getOption(62).suppressSuggestions}function Ue(de,oe,Ce){if(!oe.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ee=oe.getContextKeyValue(we.f.suppressSuggestions.key);return Ee!==void 0?!Ee:!de.getOption(62).suppressSuggestions}let Le=ae=class{constructor(oe,Ce,Ee,be,Ae,He,Ye,ht,$t){this._editor=oe,this._editorWorkerService=Ce,this._clipboardService=Ee,this._telemetryService=be,this._logService=Ae,this._contextKeyService=He,this._configurationService=Ye,this._languageFeaturesService=ht,this._envService=$t,this._toDispose=new I.SL,this._triggerCharacterListener=new I.SL,this._triggerQuickSuggest=new V._F,this._triggerState=void 0,this._completionDisposables=new I.SL,this._onDidCancel=new c.Q5,this._onDidTrigger=new c.Q5,this._onDidSuggest=new c.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new j.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let gn=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{gn=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{gn=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(dn=>{gn||this._onCursorChange(dn)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!gn&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,I.B9)(this._triggerCharacterListener),(0,I.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const oe=new Map;for(const Ee of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const be of Ee.triggerCharacters||[]){let Ae=oe.get(be);Ae||(Ae=new Set,Ae.add((0,Y.ZJ)()),oe.set(be,Ae)),Ae.add(Ee)}const Ce=Ee=>{var be;if(!Ue(this._editor,this._contextKeyService,this._configurationService)||Me.shouldAutoTrigger(this._editor))return;if(!Ee){const Ye=this._editor.getPosition();Ee=this._editor.getModel().getLineContent(Ye.lineNumber).substr(0,Ye.column-1)}let Ae="";(0,G.YK)(Ee.charCodeAt(Ee.length-1))?(0,G.ZG)(Ee.charCodeAt(Ee.length-2))&&(Ae=Ee.substr(Ee.length-2)):Ae=Ee.charAt(Ee.length-1);const He=oe.get(Ae);if(He){const Ye=new Map;if(this._completionModel)for(const[ht,$t]of this._completionModel.getItemsByProvider())He.has(ht)||Ye.set(ht,$t);this.trigger({auto:!0,triggerKind:1,triggerCharacter:Ae,retrigger:!!this._completionModel,clipboardText:(be=this._completionModel)===null||be===void 0?void 0:be.clipboardText,completionOptions:{providerFilter:He,providerItemsToReuse:Ye}})}};this._triggerCharacterListener.add(this._editor.onDidType(Ce)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Ce()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(oe=!1){var Ce;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(Ce=this._requestToken)===null||Ce===void 0||Ce.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:oe}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(oe){if(!this._editor.hasModel())return;const Ce=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!oe.selection.isEmpty()||oe.reason!==0&&oe.reason!==3||oe.source!=="keyboard"&&oe.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&oe.reason===0?(Ce.containsRange(this._currentSelection)||Ce.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&oe.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var oe;Y.tG.isAllOff(this._editor.getOption(88))||this._editor.getOption(117).snippetsPreventQuickSuggestions&&(!((oe=v.f.get(this._editor))===null||oe===void 0)&&oe.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Me.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Ce=this._editor.getModel(),Ee=this._editor.getPosition(),be=this._editor.getOption(88);if(!Y.tG.isAllOff(be)){if(!Y.tG.isAllOn(be)){Ce.tokenization.tokenizeIfCheap(Ee.lineNumber);const Ae=Ce.tokenization.getLineTokens(Ee.lineNumber),He=Ae.getStandardTokenType(Ae.findTokenIndexAtOffset(Math.max(Ee.column-1-1,0)));if(Y.tG.valueFor(be,He)!=="on")return}ke(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(Ce)&&this.trigger({auto:!0})}},this._editor.getOption(89)))}_refilterCompletionItems(){(0,p.p_)(this._editor.hasModel()),(0,p.p_)(this._triggerState!==void 0);const oe=this._editor.getModel(),Ce=this._editor.getPosition(),Ee=new Me(oe,Ce,Ni(Xn({},this._triggerState),{refilter:!0}));this._onNewContext(Ee)}trigger(oe){var Ce,Ee,be,Ae,He,Ye;if(!this._editor.hasModel())return;const ht=this._editor.getModel(),$t=new Me(ht,this._editor.getPosition(),oe);this.cancel(oe.retrigger),this._triggerState=oe,this._onDidTrigger.fire({auto:oe.auto,shy:(Ce=oe.shy)!==null&&Ce!==void 0?Ce:!1,position:this._editor.getPosition()}),this._context=$t;let gn={triggerKind:(Ee=oe.triggerKind)!==null&&Ee!==void 0?Ee:0};oe.triggerCharacter&&(gn={triggerKind:1,triggerCharacter:oe.triggerCharacter}),this._requestToken=new r.A;const dn=this._editor.getOption(111);let ln=1;switch(dn){case"top":ln=0;break;case"bottom":ln=2;break}const{itemKind:ct,showDeprecated:Pt}=ae._createSuggestFilter(this._editor),Nt=new Y.A9(ln,(Ae=(be=oe.completionOptions)===null||be===void 0?void 0:be.kindFilter)!==null&&Ae!==void 0?Ae:ct,(He=oe.completionOptions)===null||He===void 0?void 0:He.providerFilter,(Ye=oe.completionOptions)===null||Ye===void 0?void 0:Ye.providerItemsToReuse,Pt),Tt=K.K.create(this._editorWorkerService,this._editor),Zt=(0,Y.kL)(this._languageFeaturesService.completionProvider,ht,this._editor.getPosition(),Nt,gn,this._requestToken.token);Promise.all([Zt,Tt]).then(hn=>tn(this,[hn],function*([zt,_n]){var Mn;if((Mn=this._requestToken)===null||Mn===void 0||Mn.dispose(),!this._editor.hasModel())return;let Rn=oe==null?void 0:oe.clipboardText;if(!Rn&&zt.needsClipboard&&(Rn=yield this._clipboardService.readText()),this._triggerState===void 0)return;const ni=this._editor.getModel(),gi=new Me(ni,this._editor.getPosition(),oe),Ii=Ni(Xn({},ge.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly});if(this._completionModel=new te._(zt.items,this._context.column,{leadingLineContent:gi.leadingLineContent,characterCountDelta:gi.column-this._context.column},_n,this._editor.getOption(117),this._editor.getOption(111),Ii,Rn),this._completionDisposables.add(zt.disposable),this._onNewContext(gi),this._reportDurationsTelemetry(zt.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const Bi of zt.items)Bi.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${Bi.provider._debugDisplayName}`,Bi.completion)})).catch(w.dL)}_reportDurationsTelemetry(oe){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(oe)}),this._logService.debug("suggest.durations.json",oe)})}static _createSuggestFilter(oe){const Ce=new Set;oe.getOption(111)==="none"&&Ce.add(27);const be=oe.getOption(117);return be.showMethods||Ce.add(0),be.showFunctions||Ce.add(1),be.showConstructors||Ce.add(2),be.showFields||Ce.add(3),be.showVariables||Ce.add(4),be.showClasses||Ce.add(5),be.showStructs||Ce.add(6),be.showInterfaces||Ce.add(7),be.showModules||Ce.add(8),be.showProperties||Ce.add(9),be.showEvents||Ce.add(10),be.showOperators||Ce.add(11),be.showUnits||Ce.add(12),be.showValues||Ce.add(13),be.showConstants||Ce.add(14),be.showEnums||Ce.add(15),be.showEnumMembers||Ce.add(16),be.showKeywords||Ce.add(17),be.showWords||Ce.add(18),be.showColors||Ce.add(19),be.showFiles||Ce.add(20),be.showReferences||Ce.add(21),be.showColors||Ce.add(22),be.showFolders||Ce.add(23),be.showTypeParameters||Ce.add(24),be.showSnippets||Ce.add(27),be.showUsers||Ce.add(25),be.showIssues||Ce.add(26),{itemKind:Ce,showDeprecated:be.showDeprecated}}_onNewContext(oe){if(this._context){if(oe.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,G.V8)(oe.leadingLineContent)!==(0,G.V8)(this._context.leadingLineContent)){this.cancel();return}if(oe.column<this._context.column){oe.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(oe.leadingWord.word.length!==0&&oe.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Me.shouldAutoTrigger(this._editor)&&this._context){const Ee=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:Ee}})}return}if(oe.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&oe.leadingWord.word.length!==0){const Ce=new Map,Ee=new Set;for(const[be,Ae]of this._completionModel.getItemsByProvider())Ae.length>0&&Ae[0].container.incomplete?Ee.add(be):Ce.set(be,Ae);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:Ee,providerItemsToReuse:Ce}})}else{const Ce=this._completionModel.lineContext;let Ee=!1;if(this._completionModel.lineContext={leadingLineContent:oe.leadingLineContent,characterCountDelta:oe.column-this._context.column},this._completionModel.items.length===0){const be=Me.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(be&&this._context.leadingWord.endColumn<oe.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=Ce,Ee=this._completionModel.items.length>0,Ee&&oe.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:oe.triggerOptions,isFrozen:Ee})}}}}};Le=ae=Pe([Ne(1,F.p),Ne(2,m.p),Ne(3,X.b),Ne(4,$.VZ),Ne(5,g.i6),Ne(6,J.Ui),Ne(7,le.p),Ne(8,pe.Y)],Le);class ie{constructor(oe,Ce){this._disposables=new I.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(oe.onWillType(()=>{if(this._locked||!oe.hasModel())return;const Ee=oe.getSelections(),be=Ee.length;let Ae=!1;for(let Ye=0;Ye<be;Ye++)if(!Ee[Ye].isEmpty()){Ae=!0;break}if(!Ae){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const He=oe.getModel();for(let Ye=0;Ye<be;Ye++){const ht=Ee[Ye];if(He.getValueLengthInRange(ht)>ie._maxSelectionLength)return;this._lastOvertyped[Ye]={value:He.getValueInRange(ht),multiline:ht.startLineNumber!==ht.endLineNumber}}})),this._disposables.add(Ce.onDidTrigger(Ee=>{this._locked=!0})),this._disposables.add(Ce.onDidCancel(Ee=>{this._locked=!1}))}getLastOvertypedInfo(oe){if(oe>=0&&oe<this._lastOvertyped.length)return this._lastOvertyped[oe]}dispose(){this._disposables.dispose()}}ie._maxSelectionLength=51200;var ce=e(65321),Re=e(15375),ye=e(69047),Se=e(59870),me=e(84527),he=e(90317),se=e(80677),ve=e(84144),xe=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},je=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}};class Oe extends se.Mm{updateLabel(){const oe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!oe)return super.updateLabel();this.label&&(this.label.textContent=(0,N.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Oe.symbolPrintEnter(oe)))}static symbolPrintEnter(oe){var Ce;return(Ce=oe.getLabel())===null||Ce===void 0?void 0:Ce.replace(/\benter\b/gi,"\u23CE")}}let Ze=class{constructor(oe,Ce,Ee,be,Ae){this._menuId=Ce,this._menuService=be,this._contextKeyService=Ae,this._menuDisposables=new I.SL,this.element=ce.R3(oe,ce.$(".suggest-status-bar"));const He=Ye=>Ye instanceof ve.U8?Ee.createInstance(Oe,Ye,void 0):void 0;this._leftActions=new he.o(this.element,{actionViewItemProvider:He}),this._rightActions=new he.o(this.element,{actionViewItemProvider:He}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const oe=this._menuService.createMenu(this._menuId,this._contextKeyService),Ce=()=>{const Ee=[],be=[];for(const[Ae,He]of oe.getActions())Ae==="left"?Ee.push(...He):be.push(...He);this._leftActions.clear(),this._leftActions.push(Ee),this._rightActions.clear(),this._rightActions.push(be)};this._menuDisposables.add(oe.onDidChange(()=>Ce())),this._menuDisposables.add(oe)}hide(){this._menuDisposables.clear()}};Ze=xe([je(2,W.TG),je(3,ve.co),je(4,g.i6)],Ze);var it=e(34066),Et=e(87060),st=e(73910),pt=e(92321),Mt=e(97781),qt=e(17735),Ft=e(59740),Xt=e(73046),_t=e(25670),nt=e(59365),tt=e(33772),xt=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},Lt=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}};function Be(de){return!!de&&!!(de.completion.documentation||de.completion.detail&&de.completion.detail!==de.completion.label)}let yt=class{constructor(oe,Ce){this._editor=oe,this._onDidClose=new c.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new c.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new I.SL,this._renderDisposeable=new I.SL,this._borderWidth=1,this._size=new ce.Ro(330,0),this.domNode=ce.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Ce.createInstance(tt.$,{editor:oe}),this._body=ce.$(".body"),this._scrollbar=new Ft.s$(this._body,{alwaysConsumeMouseWheel:!0}),ce.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ce.R3(this._body,ce.$(".header")),this._close=ce.R3(this._header,ce.$("span"+_t.k.asCSSSelector(Xt.l.close))),this._close.title=N.NC("details.close","Close"),this._type=ce.R3(this._header,ce.$("p.type")),this._docs=ce.R3(this._body,ce.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Ee=>{Ee.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const oe=this._editor.getOptions(),Ce=oe.get(50),Ee=Ce.getMassagedFontFamily(),be=oe.get(118)||Ce.fontSize,Ae=oe.get(119)||Ce.lineHeight,He=Ce.fontWeight,Ye=`${be}px`,ht=`${Ae}px`;this.domNode.style.fontSize=Ye,this.domNode.style.lineHeight=`${Ae/be}`,this.domNode.style.fontWeight=He,this.domNode.style.fontFeatureSettings=Ce.fontFeatureSettings,this._type.style.fontFamily=Ee,this._close.style.height=ht,this._close.style.width=ht}getLayoutInfo(){const oe=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,Ce=this._borderWidth,Ee=Ce*2;return{lineHeight:oe,borderWidth:Ce,borderHeight:Ee,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=N.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(oe,Ce){var Ee,be;this._renderDisposeable.clear();let{detail:Ae,documentation:He}=oe.completion;if(Ce){let Ye="";Ye+=`score: ${oe.score[0]}
`,Ye+=`prefix: ${(Ee=oe.word)!==null&&Ee!==void 0?Ee:"(no prefix)"}
`,Ye+=`word: ${oe.completion.filterText?oe.completion.filterText+" (filterText)":oe.textLabel}
`,Ye+=`distance: ${oe.distance} (localityBonus-setting)
`,Ye+=`index: ${oe.idx}, based on ${oe.completion.sortText&&`sortText: "${oe.completion.sortText}"`||"label"}
`,Ye+=`commit_chars: ${(be=oe.completion.commitCharacters)===null||be===void 0?void 0:be.join("")}
`,He=new nt.W5().appendCodeblock("empty",Ye),Ae=`Provider: ${oe.provider._debugDisplayName}`}if(!Ce&&!Be(oe)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Ae){const Ye=Ae.length>1e5?`${Ae.substr(0,1e5)}\u2026`:Ae;this._type.textContent=Ye,this._type.title=Ye,ce.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(Ye))}else ce.PO(this._type),this._type.title="",ce.Cp(this._type),this.domNode.classList.add("no-type");if(ce.PO(this._docs),typeof He=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=He;else if(He){this._docs.classList.add("markdown-docs"),ce.PO(this._docs);const Ye=this._markdownRenderer.render(He);this._docs.appendChild(Ye.element),this._renderDisposeable.add(Ye),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Ye=>{Ye.preventDefault(),Ye.stopPropagation()},this._close.onclick=Ye=>{Ye.preventDefault(),Ye.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(oe,Ce){const Ee=new ce.Ro(oe,Ce);ce.Ro.equals(Ee,this._size)||(this._size=Ee,ce.dp(this.domNode,oe,Ce)),this._scrollbar.scanDomNode()}scrollDown(oe=8){this._body.scrollTop+=oe}scrollUp(oe=8){this._body.scrollTop-=oe}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(oe){this._borderWidth=oe}get borderWidth(){return this._borderWidth}};yt=xt([Lt(1,W.TG)],yt);class un{constructor(oe,Ce){this.widget=oe,this._editor=Ce,this._disposables=new I.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new qt.f,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(oe.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Ee,be,Ae=0,He=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Ee=this._topLeft,be=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Ye=>{if(Ee&&be){this.widget.layout(Ye.dimension.width,Ye.dimension.height);let ht=!1;Ye.west&&(He=be.width-Ye.dimension.width,ht=!0),Ye.north&&(Ae=be.height-Ye.dimension.height,ht=!0),ht&&this._applyTopLeft({top:Ee.top+Ae,left:Ee.left+He})}Ye.done&&(Ee=void 0,be=void 0,Ae=0,He=0,this._userSize=Ye.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Ye;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(Ye=this._userSize)!==null&&Ye!==void 0?Ye:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(oe=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),oe&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(oe,Ce){var Ee;const be=oe.getBoundingClientRect();this._anchorBox=be,this._preferAlignAtTop=Ce,this._placeAtAnchor(this._anchorBox,(Ee=this._userSize)!==null&&Ee!==void 0?Ee:this.widget.size,Ce)}_placeAtAnchor(oe,Ce,Ee){var be;const Ae=ce.D6(this.getDomNode().ownerDocument.body),He=this.widget.getLayoutInfo(),Ye=new ce.Ro(220,2*He.lineHeight),ht=oe.top,$t=function(){const _n=Ae.width-(oe.left+oe.width+He.borderWidth+He.horizontalPadding),hn=-He.borderWidth+oe.left+oe.width,Mn=new ce.Ro(_n,Ae.height-oe.top-He.borderHeight-He.verticalPadding),Rn=Mn.with(void 0,oe.top+oe.height-He.borderHeight-He.verticalPadding);return{top:ht,left:hn,fit:_n-Ce.width,maxSizeTop:Mn,maxSizeBottom:Rn,minSize:Ye.with(Math.min(_n,Ye.width))}}(),gn=function(){const _n=oe.left-He.borderWidth-He.horizontalPadding,hn=Math.max(He.horizontalPadding,oe.left-Ce.width-He.borderWidth),Mn=new ce.Ro(_n,Ae.height-oe.top-He.borderHeight-He.verticalPadding),Rn=Mn.with(void 0,oe.top+oe.height-He.borderHeight-He.verticalPadding);return{top:ht,left:hn,fit:_n-Ce.width,maxSizeTop:Mn,maxSizeBottom:Rn,minSize:Ye.with(Math.min(_n,Ye.width))}}(),dn=function(){const _n=oe.left,hn=-He.borderWidth+oe.top+oe.height,Mn=new ce.Ro(oe.width-He.borderHeight,Ae.height-oe.top-oe.height-He.verticalPadding);return{top:hn,left:_n,fit:Mn.height-Ce.height,maxSizeBottom:Mn,maxSizeTop:Mn,minSize:Ye.with(Mn.width)}}(),ln=[$t,gn,dn],ct=(be=ln.find(_n=>_n.fit>=0))!==null&&be!==void 0?be:ln.sort((_n,hn)=>hn.fit-_n.fit)[0],Pt=oe.top+oe.height-He.borderHeight;let Nt,Tt=Ce.height;const Zt=Math.max(ct.maxSizeTop.height,ct.maxSizeBottom.height);Tt>Zt&&(Tt=Zt);let zt;Ee?Tt<=ct.maxSizeTop.height?(Nt=!0,zt=ct.maxSizeTop):(Nt=!1,zt=ct.maxSizeBottom):Tt<=ct.maxSizeBottom.height?(Nt=!1,zt=ct.maxSizeBottom):(Nt=!0,zt=ct.maxSizeTop),this._applyTopLeft({left:ct.left,top:Nt?ct.top:Pt-Tt}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Nt,ct===$t,Nt,ct!==$t),this._resizable.minSize=ct.minSize,this._resizable.maxSize=zt,this._resizable.layout(Tt,Math.min(zt.width,Ce.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(oe){this._topLeft=oe,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var In=e(93923),bn=e(70666),Hn=e(43155),si=e(66663),Yn=e(95935),mi=e(68801),_i;(function(de){de[de.FILE=0]="FILE",de[de.FOLDER=1]="FOLDER",de[de.ROOT_FOLDER=2]="ROOT_FOLDER"})(_i||(_i={}));const Wi=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Si(de,oe,Ce,Ee){const be=Ee===_i.ROOT_FOLDER?["rootfolder-icon"]:Ee===_i.FOLDER?["folder-icon"]:["file-icon"];if(Ce){let Ae;if(Ce.scheme===si.lg.data)Ae=Yn.Vb.parseMetaData(Ce).get(Yn.Vb.META_DATA_LABEL);else{const He=Ce.path.match(Wi);He?(Ae=bi(He[2].toLowerCase()),He[1]&&be.push(`${bi(He[1].toLowerCase())}-name-dir-icon`)):Ae=bi(Ce.authority.toLowerCase())}if(Ee===_i.ROOT_FOLDER)be.push(`${Ae}-root-name-folder-icon`);else if(Ee===_i.FOLDER)be.push(`${Ae}-name-folder-icon`);else{if(Ae){if(be.push(`${Ae}-name-file-icon`),be.push("name-file-icon"),Ae.length<=255){const Ye=Ae.split(".");for(let ht=1;ht<Ye.length;ht++)be.push(`${Ye.slice(ht).join(".")}-ext-file-icon`)}be.push("ext-file-icon")}const He=Ki(de,oe,Ce);He&&be.push(`${bi(He)}-lang-file-icon`)}}return be}function Ki(de,oe,Ce){if(!Ce)return null;let Ee=null;if(Ce.scheme===si.lg.data){const Ae=Yn.Vb.parseMetaData(Ce).get(Yn.Vb.META_DATA_MIME);Ae&&(Ee=oe.getLanguageIdByMimeType(Ae))}else{const be=de.getModel(Ce);be&&(Ee=be.getLanguageId())}return Ee&&Ee!==mi.bd?Ee:oe.guessLanguageIdByFilepathOrFirstLine(Ce)}function bi(de){return de.replace(/[\11\12\14\15\40]/g,"/")}var Fi=e(73733),ts=e(72042),wi=e(59554),ns=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},wn=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}},qe;function Dt(de){return`suggest-aria-id:${de}`}const Qt=(0,wi.q5)("suggest-more-info",Xt.l.chevronRight,N.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),on=new(qe=class{extract(oe,Ce){if(oe.textLabel.match(qe._regexStrict))return Ce[0]=oe.textLabel,!0;if(oe.completion.detail&&oe.completion.detail.match(qe._regexStrict))return Ce[0]=oe.completion.detail,!0;if(typeof oe.completion.documentation=="string"){const Ee=qe._regexRelaxed.exec(oe.completion.documentation);if(Ee&&(Ee.index===0||Ee.index+Ee[0].length===oe.completion.documentation.length))return Ce[0]=Ee[0],!0}return!1}},qe._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,qe._regexStrict=new RegExp(`^${qe._regexRelaxed.source}$`,"i"),qe);let Cn=class{constructor(oe,Ce,Ee,be){this._editor=oe,this._modelService=Ce,this._languageService=Ee,this._themeService=be,this._onDidToggleDetails=new c.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(oe){const Ce=new I.SL,Ee=oe;Ee.classList.add("show-file-icons");const be=(0,ce.R3)(oe,(0,ce.$)(".icon")),Ae=(0,ce.R3)(be,(0,ce.$)("span.colorspan")),He=(0,ce.R3)(oe,(0,ce.$)(".contents")),Ye=(0,ce.R3)(He,(0,ce.$)(".main")),ht=(0,ce.R3)(Ye,(0,ce.$)(".icon-label.codicon")),$t=(0,ce.R3)(Ye,(0,ce.$)("span.left")),gn=(0,ce.R3)(Ye,(0,ce.$)("span.right")),dn=new In.g($t,{supportHighlights:!0,supportIcons:!0});Ce.add(dn);const ln=(0,ce.R3)($t,(0,ce.$)("span.signature-label")),ct=(0,ce.R3)($t,(0,ce.$)("span.qualifier-label")),Pt=(0,ce.R3)(gn,(0,ce.$)("span.details-label")),Nt=(0,ce.R3)(gn,(0,ce.$)("span.readMore"+_t.k.asCSSSelector(Qt)));Nt.title=N.NC("readMore","Read More");const Tt=()=>{const Zt=this._editor.getOptions(),zt=Zt.get(50),_n=zt.getMassagedFontFamily(),hn=zt.fontFeatureSettings,Mn=Zt.get(118)||zt.fontSize,Rn=Zt.get(119)||zt.lineHeight,ni=zt.fontWeight,gi=zt.letterSpacing,Ii=`${Mn}px`,Bi=`${Rn}px`,Hi=`${gi}px`;Ee.style.fontSize=Ii,Ee.style.fontWeight=ni,Ee.style.letterSpacing=Hi,Ye.style.fontFamily=_n,Ye.style.fontFeatureSettings=hn,Ye.style.lineHeight=Bi,be.style.height=Bi,be.style.width=Bi,Nt.style.height=Bi,Nt.style.width=Bi};return Tt(),Ce.add(this._editor.onDidChangeConfiguration(Zt=>{(Zt.hasChanged(50)||Zt.hasChanged(118)||Zt.hasChanged(119))&&Tt()})),{root:Ee,left:$t,right:gn,icon:be,colorspan:Ae,iconLabel:dn,iconContainer:ht,parametersLabel:ln,qualifierLabel:ct,detailsLabel:Pt,readMore:Nt,disposables:Ce}}renderElement(oe,Ce,Ee){const{completion:be}=oe;Ee.root.id=Dt(Ce),Ee.colorspan.style.backgroundColor="";const Ae={labelEscapeNewLines:!0,matches:(0,ge.mB)(oe.score)},He=[];if(be.kind===19&&on.extract(oe,He))Ee.icon.className="icon customcolor",Ee.iconContainer.className="icon hide",Ee.colorspan.style.backgroundColor=He[0];else if(be.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Ee.icon.className="icon hide",Ee.iconContainer.className="icon hide";const Ye=Si(this._modelService,this._languageService,bn.o.from({scheme:"fake",path:oe.textLabel}),_i.FILE),ht=Si(this._modelService,this._languageService,bn.o.from({scheme:"fake",path:be.detail}),_i.FILE);Ae.extraClasses=Ye.length>ht.length?Ye:ht}else be.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Ee.icon.className="icon hide",Ee.iconContainer.className="icon hide",Ae.extraClasses=[Si(this._modelService,this._languageService,bn.o.from({scheme:"fake",path:oe.textLabel}),_i.FOLDER),Si(this._modelService,this._languageService,bn.o.from({scheme:"fake",path:be.detail}),_i.FOLDER)].flat()):(Ee.icon.className="icon hide",Ee.iconContainer.className="",Ee.iconContainer.classList.add("suggest-icon",..._t.k.asClassNameArray(Hn.gX.toIcon(be.kind))));be.tags&&be.tags.indexOf(1)>=0&&(Ae.extraClasses=(Ae.extraClasses||[]).concat(["deprecated"]),Ae.matches=[]),Ee.iconLabel.setLabel(oe.textLabel,void 0,Ae),typeof be.label=="string"?(Ee.parametersLabel.textContent="",Ee.detailsLabel.textContent=Bn(be.detail||""),Ee.root.classList.add("string-label")):(Ee.parametersLabel.textContent=Bn(be.label.detail||""),Ee.detailsLabel.textContent=Bn(be.label.description||""),Ee.root.classList.remove("string-label")),this._editor.getOption(117).showInlineDetails?(0,ce.$Z)(Ee.detailsLabel):(0,ce.Cp)(Ee.detailsLabel),Be(oe)?(Ee.right.classList.add("can-expand-details"),(0,ce.$Z)(Ee.readMore),Ee.readMore.onmousedown=Ye=>{Ye.stopPropagation(),Ye.preventDefault()},Ee.readMore.onclick=Ye=>{Ye.stopPropagation(),Ye.preventDefault(),this._onDidToggleDetails.fire()}):(Ee.right.classList.remove("can-expand-details"),(0,ce.Cp)(Ee.readMore),Ee.readMore.onmousedown=null,Ee.readMore.onclick=null)}disposeTemplate(oe){oe.disposables.dispose()}};Cn=ns([wn(1,Fi.q),wn(2,ts.O),wn(3,Mt.XE)],Cn);function Bn(de){return de.replace(/\r\n|\r|\n/g,"")}var jn=e(86253),kt=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},wt=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}},sn;(0,st.P6G)("editorSuggestWidget.background",{dark:st.D0T,light:st.D0T,hcDark:st.D0T,hcLight:st.D0T},N.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,st.P6G)("editorSuggestWidget.border",{dark:st.D1_,light:st.D1_,hcDark:st.D1_,hcLight:st.D1_},N.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const en=(0,st.P6G)("editorSuggestWidget.foreground",{dark:st.NOs,light:st.NOs,hcDark:st.NOs,hcLight:st.NOs},N.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,st.P6G)("editorSuggestWidget.selectedForeground",{dark:st.NPS,light:st.NPS,hcDark:st.NPS,hcLight:st.NPS},N.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,st.P6G)("editorSuggestWidget.selectedIconForeground",{dark:st.cbQ,light:st.cbQ,hcDark:st.cbQ,hcLight:st.cbQ},N.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Un=(0,st.P6G)("editorSuggestWidget.selectedBackground",{dark:st.Vqd,light:st.Vqd,hcDark:st.Vqd,hcLight:st.Vqd},N.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,st.P6G)("editorSuggestWidget.highlightForeground",{dark:st.Gwp,light:st.Gwp,hcDark:st.Gwp,hcLight:st.Gwp},N.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,st.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:st.PX0,light:st.PX0,hcDark:st.PX0,hcLight:st.PX0},N.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,st.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,st.ZnX)(en,.5),light:(0,st.ZnX)(en,.5),hcDark:(0,st.ZnX)(en,.5),hcLight:(0,st.ZnX)(en,.5)},N.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class ri{constructor(oe,Ce){this._service=oe,this._key=`suggestWidget.size/${Ce.getEditorType()}/${Ce instanceof me.H}`}restore(){var oe;const Ce=(oe=this._service.get(this._key,0))!==null&&oe!==void 0?oe:"";try{const Ee=JSON.parse(Ce);if(ce.Ro.is(Ee))return ce.Ro.lift(Ee)}catch(Ee){}}store(oe){this._service.store(this._key,JSON.stringify(oe),0,1)}reset(){this._service.remove(this._key,0)}}let Jn=sn=class{constructor(oe,Ce,Ee,be,Ae){this.editor=oe,this._storageService=Ce,this._state=0,this._isAuto=!1,this._pendingLayout=new I.XK,this._pendingShowDetails=new I.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new V._F,this._disposables=new I.SL,this._onDidSelect=new c.K3,this._onDidFocus=new c.K3,this._onDidHide=new c.Q5,this._onDidShow=new c.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new c.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new qt.f,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Di(this,oe),this._persistedSize=new ri(Ce,oe);class He{constructor(ct,Pt,Nt=!1,Tt=!1){this.persistedSize=ct,this.currentSize=Pt,this.persistHeight=Nt,this.persistWidth=Tt}}let Ye;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Ye=new He(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ln=>{var ct,Pt,Nt,Tt;if(this._resize(ln.dimension.width,ln.dimension.height),Ye&&(Ye.persistHeight=Ye.persistHeight||!!ln.north||!!ln.south,Ye.persistWidth=Ye.persistWidth||!!ln.east||!!ln.west),!!ln.done){if(Ye){const{itemHeight:Zt,defaultSize:zt}=this.getLayoutInfo(),_n=Math.round(Zt/2);let{width:hn,height:Mn}=this.element.size;(!Ye.persistHeight||Math.abs(Ye.currentSize.height-Mn)<=_n)&&(Mn=(Pt=(ct=Ye.persistedSize)===null||ct===void 0?void 0:ct.height)!==null&&Pt!==void 0?Pt:zt.height),(!Ye.persistWidth||Math.abs(Ye.currentSize.width-hn)<=_n)&&(hn=(Tt=(Nt=Ye.persistedSize)===null||Nt===void 0?void 0:Nt.width)!==null&&Tt!==void 0?Tt:zt.width),this._persistedSize.store(new ce.Ro(hn,Mn))}this._contentWidget.unlockPreference(),Ye=void 0}})),this._messageElement=ce.R3(this.element.domNode,ce.$(".message")),this._listElement=ce.R3(this.element.domNode,ce.$(".tree"));const ht=this._disposables.add(Ae.createInstance(yt,this.editor));ht.onDidClose(this.toggleDetails,this,this._disposables),this._details=new un(ht,this.editor);const $t=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);$t();const gn=Ae.createInstance(Cn,this.editor);this._disposables.add(gn),this._disposables.add(gn.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ye.aV("SuggestWidget",this._listElement,{getHeight:ln=>this.getLayoutInfo().itemHeight,getTemplateId:ln=>"suggestion"},[gn],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>N.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ln=>{let ct=ln.textLabel;if(typeof ln.completion.label!="string"){const{detail:Zt,description:zt}=ln.completion.label;Zt&&zt?ct=N.NC("label.full","{0} {1}, {2}",ct,Zt,zt):Zt?ct=N.NC("label.detail","{0} {1}",ct,Zt):zt&&(ct=N.NC("label.desc","{0}, {1}",ct,zt))}if(!ln.isResolved||!this._isDetailsVisible())return ct;const{documentation:Pt,detail:Nt}=ln.completion,Tt=G.WU("{0}{1}",Nt||"",Pt?typeof Pt=="string"?Pt:Pt.value:"");return N.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",ct,Tt)}}}),this._list.style((0,jn.TU)({listInactiveFocusBackground:Un,listInactiveFocusOutline:st.xL1})),this._status=Ae.createInstance(Ze,this.element.domNode,Y.GI);const dn=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);dn(),this._disposables.add(be.onDidColorThemeChange(ln=>this._onThemeChange(ln))),this._onThemeChange(be.getColorTheme()),this._disposables.add(this._list.onMouseDown(ln=>this._onListMouseDownOrTap(ln))),this._disposables.add(this._list.onTap(ln=>this._onListMouseDownOrTap(ln))),this._disposables.add(this._list.onDidChangeSelection(ln=>this._onListSelection(ln))),this._disposables.add(this._list.onDidChangeFocus(ln=>this._onListFocus(ln))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ln=>{ln.hasChanged(117)&&(dn(),$t())})),this._ctxSuggestWidgetVisible=Y._y.Visible.bindTo(Ee),this._ctxSuggestWidgetDetailsVisible=Y._y.DetailsVisible.bindTo(Ee),this._ctxSuggestWidgetMultipleSuggestions=Y._y.MultipleSuggestions.bindTo(Ee),this._ctxSuggestWidgetHasFocusedSuggestion=Y._y.HasFocusedSuggestion.bindTo(Ee),this._disposables.add(ce.mu(this._details.widget.domNode,"keydown",ln=>{this._onDetailsKeydown.fire(ln)})),this._disposables.add(this.editor.onMouseDown(ln=>this._onEditorMouseDown(ln)))}dispose(){var oe;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(oe=this._loadingTimeout)===null||oe===void 0||oe.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(oe){this._details.widget.domNode.contains(oe.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(oe.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(oe){typeof oe.element=="undefined"||typeof oe.index=="undefined"||(oe.browserEvent.preventDefault(),oe.browserEvent.stopPropagation(),this._select(oe.element,oe.index))}_onListSelection(oe){oe.elements.length&&this._select(oe.elements[0],oe.indexes[0])}_select(oe,Ce){const Ee=this._completionModel;Ee&&(this._onDidSelect.fire({item:oe,index:Ce,model:Ee}),this.editor.focus())}_onThemeChange(oe){this._details.widget.borderWidth=(0,pt.c3)(oe.type)?2:1}_onListFocus(oe){var Ce;if(this._ignoreFocusEvents)return;if(!oe.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Ee=oe.elements[0],be=oe.indexes[0];Ee!==this._focusedItem&&((Ce=this._currentSuggestionDetails)===null||Ce===void 0||Ce.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Ee,this._list.reveal(be),this._currentSuggestionDetails=(0,V.PG)(Ae=>tn(this,null,function*(){const He=(0,V.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),Ye=Ae.onCancellationRequested(()=>He.dispose());try{return yield Ee.resolve(Ae)}finally{He.dispose(),Ye.dispose()}})),this._currentSuggestionDetails.then(()=>{be>=this._list.length||Ee!==this._list.element(be)||(this._ignoreFocusEvents=!0,this._list.splice(be,1,[Ee]),this._list.setFocus([be]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Dt(be)}))}).catch(w.dL)),this._onDidFocus.fire({item:Ee,index:be,model:this._completionModel})}_setState(oe){if(this._state!==oe)switch(this._state=oe,this.element.domNode.classList.toggle("frozen",oe===4),this.element.domNode.classList.remove("message"),oe){case 0:ce.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=sn.LOADING_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,b.i7)(sn.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=sn.NO_SUGGESTIONS_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,b.i7)(sn.NO_SUGGESTIONS_MESSAGE);break;case 3:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._show();break;case 4:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._show();break;case 5:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(oe,Ce){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!oe,this._isAuto||(this._loadingTimeout=(0,V.Vg)(()=>this._setState(1),Ce)))}showSuggestions(oe,Ce,Ee,be,Ae){var He,Ye;if(this._contentWidget.setPosition(this.editor.getPosition()),(He=this._loadingTimeout)===null||He===void 0||He.dispose(),(Ye=this._currentSuggestionDetails)===null||Ye===void 0||Ye.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==oe&&(this._completionModel=oe),Ee&&this._state!==2&&this._state!==0){this._setState(4);return}const ht=this._completionModel.items.length,$t=ht===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(ht>1),$t){this._setState(be?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Ee?4:3),this._list.reveal(Ce,0),this._list.setFocus(Ae?[]:[Ce])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=ce.lI(ce.Jj(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Be(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(oe){this._pendingShowDetails.value=ce.lI(ce.Jj(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),oe?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var oe;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(oe=this._loadingTimeout)===null||oe===void 0||oe.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Ce=this._persistedSize.restore(),Ee=Math.ceil(this.getLayoutInfo().itemHeight*4.3);Ce&&Ce.height<Ee&&this._persistedSize.store(Ce.with(void 0,Ee))}isFrozen(){return this._state===4}_afterRender(oe){if(oe===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(oe){var Ce,Ee,be;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Ae=ce.D6(this.element.domNode.ownerDocument.body),He=this.getLayoutInfo();oe||(oe=He.defaultSize);let Ye=oe.height,ht=oe.width;if(this._status.element.style.height=`${He.itemHeight}px`,this._state===2||this._state===1)Ye=He.itemHeight+He.borderHeight,ht=He.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ce.Ro(ht,Ye),this._contentWidget.setPreference(2);else{const $t=Ae.width-He.borderHeight-2*He.horizontalPadding;ht>$t&&(ht=$t);const gn=this._completionModel?this._completionModel.stats.pLabelLen*He.typicalHalfwidthCharacterWidth:ht,dn=He.statusBarHeight+this._list.contentHeight+He.borderHeight,ln=He.itemHeight+He.statusBarHeight,ct=ce.i(this.editor.getDomNode()),Pt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Nt=ct.top+Pt.top+Pt.height,Tt=Math.min(Ae.height-Nt-He.verticalPadding,dn),Zt=ct.top+Pt.top-He.verticalPadding,zt=Math.min(Zt,dn);let _n=Math.min(Math.max(zt,Tt)+He.borderHeight,dn);Ye===((Ce=this._cappedHeight)===null||Ce===void 0?void 0:Ce.capped)&&(Ye=this._cappedHeight.wanted),Ye<ln&&(Ye=ln),Ye>_n&&(Ye=_n);const hn=150;Ye>Tt||this._forceRenderingAbove&&Zt>hn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),_n=zt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),_n=Tt),this.element.preferredSize=new ce.Ro(gn,He.defaultSize.height),this.element.maxSize=new ce.Ro($t,_n),this.element.minSize=new ce.Ro(220,ln),this._cappedHeight=Ye===dn?{wanted:(be=(Ee=this._cappedHeight)===null||Ee===void 0?void 0:Ee.wanted)!==null&&be!==void 0?be:oe.height,capped:Ye}:void 0}this._resize(ht,Ye)}_resize(oe,Ce){const{width:Ee,height:be}=this.element.maxSize;oe=Math.min(Ee,oe),Ce=Math.min(be,Ce);const{statusBarHeight:Ae}=this.getLayoutInfo();this._list.layout(Ce-Ae,oe),this._listElement.style.height=`${Ce-Ae}px`,this.element.layout(Ce,oe),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var oe;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((oe=this._contentWidget.getPosition())===null||oe===void 0?void 0:oe.preference[0])===2)}getLayoutInfo(){const oe=this.editor.getOption(50),Ce=(0,Se.uZ)(this.editor.getOption(119)||oe.lineHeight,8,1e3),Ee=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:Ce,be=this._details.widget.borderWidth,Ae=2*be;return{itemHeight:Ce,statusBarHeight:Ee,borderWidth:be,borderHeight:Ae,typicalHalfwidthCharacterWidth:oe.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ce.Ro(430,Ee+12*Ce+Ae)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(oe){this._storageService.store("expandSuggestionDocs",oe,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Jn.LOADING_MESSAGE=N.NC("suggestWidget.loading","Loading..."),Jn.NO_SUGGESTIONS_MESSAGE=N.NC("suggestWidget.noSuggestions","No suggestions."),Jn=sn=kt([wt(1,Et.Uy),wt(2,g.i6),wt(3,Mt.XE),wt(4,W.TG)],Jn);class Di{constructor(oe,Ce){this._widget=oe,this._editor=Ce,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:oe,width:Ce}=this._widget.element.size,{borderWidth:Ee,horizontalPadding:be}=this._widget.getLayoutInfo();return new ce.Ro(Ce+2*Ee+be,oe+2*Ee)}afterRender(oe){this._widget._afterRender(oe)}setPreference(oe){this._preferenceLocked||(this._preference=oe)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(oe){this._position=oe}}var Ai=e(89954),Ri=function(de,oe,Ce,Ee){var be=arguments.length,Ae=be<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Ce):Ee,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(de,oe,Ce,Ee);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(Ae=(be<3?He(Ae):be>3?He(oe,Ce,Ae):He(oe,Ce))||Ae);return be>3&&Ae&&Object.defineProperty(oe,Ce,Ae),Ae},Tn=function(de,oe){return function(Ce,Ee){oe(Ce,Ee,de)}},yn;const Nn=!1;class Bt{constructor(oe,Ce){if(this._model=oe,this._position=Ce,oe.getLineMaxColumn(Ce.lineNumber)!==Ce.column){const be=oe.getOffsetAt(Ce),Ae=oe.getPositionAt(be+1);this._marker=oe.deltaDecorations([],[{range:i.e.fromPositions(Ce,Ae),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(oe){if(this._model.isDisposed()||this._position.lineNumber!==oe.lineNumber)return 0;if(this._marker){const Ce=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Ce.getStartPosition())-this._model.getOffsetAt(oe)}else return this._model.getLineMaxColumn(oe.lineNumber)-oe.column}}let Yt=yn=class{static get(oe){return oe.getContribution(yn.ID)}constructor(oe,Ce,Ee,be,Ae,He,Ye){this._memoryService=Ce,this._commandService=Ee,this._contextKeyService=be,this._instantiationService=Ae,this._logService=He,this._telemetryService=Ye,this._lineSuffix=new I.XK,this._toDispose=new I.SL,this._selectors=new fn(dn=>dn.priority),this._onWillInsertSuggestItem=new c.Q5,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=oe,this.model=Ae.createInstance(Le,this.editor),this._selectors.register({priority:0,select:(dn,ln,ct)=>this._memoryService.select(dn,ln,ct)});const ht=Y._y.InsertMode.bindTo(be);ht.set(oe.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ht.set(oe.getOption(117).insertMode))),this.widget=this._toDispose.add(new ce.vx((0,ce.Jj)(oe.getDomNode()),()=>{const dn=this._instantiationService.createInstance(Jn,this.editor);this._toDispose.add(dn),this._toDispose.add(dn.onDidSelect(Tt=>this._insertSuggestion(Tt,0),this));const ln=new H(this.editor,dn,this.model,Tt=>this._insertSuggestion(Tt,2));this._toDispose.add(ln);const ct=Y._y.MakesTextEdit.bindTo(this._contextKeyService),Pt=Y._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Nt=Y._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,I.OF)(()=>{ct.reset(),Pt.reset(),Nt.reset()})),this._toDispose.add(dn.onDidFocus(({item:Tt})=>{const Zt=this.editor.getPosition(),zt=Tt.editStart.column,_n=Zt.column;let hn=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Tt.completion.additionalTextEdits&&!(Tt.completion.insertTextRules&4)&&_n-zt===Tt.completion.insertText.length&&(hn=this.editor.getModel().getValueInRange({startLineNumber:Zt.lineNumber,startColumn:zt,endLineNumber:Zt.lineNumber,endColumn:_n})!==Tt.completion.insertText),ct.set(hn),Pt.set(!n.L.equals(Tt.editInsertEnd,Tt.editReplaceEnd)),Nt.set(!!Tt.provider.resolveCompletionItem||!!Tt.completion.documentation||Tt.completion.detail!==Tt.completion.label)})),this._toDispose.add(dn.onDetailsKeyDown(Tt=>{if(Tt.toKeyCodeChord().equals(new _.$M(!0,!1,!1,!1,33))||M.dz&&Tt.toKeyCodeChord().equals(new _.$M(!1,!1,!1,!0,33))){Tt.stopPropagation();return}Tt.toKeyCodeChord().isModifierKey()||this.editor.focus()})),dn})),this._overtypingCapturer=this._toDispose.add(new ce.vx((0,ce.Jj)(oe.getDomNode()),()=>this._toDispose.add(new ie(this.editor,this.model)))),this._alternatives=this._toDispose.add(new ce.vx((0,ce.Jj)(oe.getDomNode()),()=>this._toDispose.add(new O(this.editor,this._contextKeyService)))),this._toDispose.add(Ae.createInstance(A,oe)),this._toDispose.add(this.model.onDidTrigger(dn=>{this.widget.value.showTriggered(dn.auto,dn.shy?250:50),this._lineSuffix.value=new Bt(this.editor.getModel(),dn.position)})),this._toDispose.add(this.model.onDidSuggest(dn=>{if(dn.triggerOptions.shy)return;let ln=-1;for(const Pt of this._selectors.itemsOrderedByPriorityDesc)if(ln=Pt.select(this.editor.getModel(),this.editor.getPosition(),dn.completionModel.items),ln!==-1)break;ln===-1&&(ln=0);let ct=!1;if(dn.triggerOptions.auto){const Pt=this.editor.getOption(117);Pt.selectionMode==="never"||Pt.selectionMode==="always"?ct=Pt.selectionMode==="never":Pt.selectionMode==="whenTriggerCharacter"?ct=dn.triggerOptions.triggerKind!==1:Pt.selectionMode==="whenQuickSuggestion"&&(ct=dn.triggerOptions.triggerKind===1&&!dn.triggerOptions.refilter)}this.widget.value.showSuggestions(dn.completionModel,ln,dn.isFrozen,dn.triggerOptions.auto,ct)})),this._toDispose.add(this.model.onDidCancel(dn=>{dn.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Nn||(this.model.cancel(),this.model.clear())}));const $t=Y._y.AcceptSuggestionsOnEnter.bindTo(be),gn=()=>{const dn=this.editor.getOption(1);$t.set(dn==="on"||dn==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>gn())),gn()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(oe,Ce){if(!oe||!oe.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Ee=v.f.get(this.editor);if(!Ee)return;this._onWillInsertSuggestItem.fire({item:oe.item});const be=this.editor.getModel(),Ae=be.getAlternativeVersionId(),{item:He}=oe,Ye=[],ht=new r.A;Ce&1||this.editor.pushUndoStop();const $t=this.getOverwriteInfo(He,!!(Ce&8));this._memoryService.memorize(be,this.editor.getPosition(),He);const gn=He.isResolved;let dn=-1,ln=-1;if(Array.isArray(He.completion.additionalTextEdits)){this.model.cancel();const Pt=o.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",He.completion.additionalTextEdits.map(Nt=>d.h.replaceMove(i.e.lift(Nt.range),Nt.text))),Pt.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!gn){const Pt=new D.G;let Nt;const Tt=be.onDidChangeContent(hn=>{if(hn.isFlush){ht.cancel(),Tt.dispose();return}for(const Mn of hn.changes){const Rn=i.e.getEndPosition(Mn.range);(!Nt||n.L.isBefore(Rn,Nt))&&(Nt=Rn)}}),Zt=Ce;Ce|=2;let zt=!1;const _n=this.editor.onWillType(()=>{_n.dispose(),zt=!0,Zt&2||this.editor.pushUndoStop()});Ye.push(He.resolve(ht.token).then(()=>{if(!He.completion.additionalTextEdits||ht.token.isCancellationRequested)return;if(Nt&&He.completion.additionalTextEdits.some(Mn=>n.L.isBefore(Nt,i.e.getStartPosition(Mn.range))))return!1;zt&&this.editor.pushUndoStop();const hn=o.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",He.completion.additionalTextEdits.map(Mn=>d.h.replaceMove(i.e.lift(Mn.range),Mn.text))),hn.restoreRelativeVerticalPositionOfCursor(this.editor),(zt||!(Zt&2))&&this.editor.pushUndoStop(),!0}).then(hn=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Pt.elapsed(),hn),ln=hn===!0?1:hn===!1?0:-2}).finally(()=>{Tt.dispose(),_n.dispose()}))}let{insertText:ct}=He.completion;if(He.completion.insertTextRules&4||(ct=a.Yj.escape(ct)),this.model.cancel(),Ee.insert(ct,{overwriteBefore:$t.overwriteBefore,overwriteAfter:$t.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(He.completion.insertTextRules&1),clipboardText:oe.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Ce&2||this.editor.pushUndoStop(),He.completion.command)if(He.completion.command.id===Ht.id)this.model.trigger({auto:!0,retrigger:!0});else{const Pt=new D.G;Ye.push(this._commandService.executeCommand(He.completion.command.id,...He.completion.command.arguments?[...He.completion.command.arguments]:[]).catch(Nt=>{He.completion.extensionId?(0,w.Cp)(Nt):(0,w.dL)(Nt)}).finally(()=>{dn=Pt.elapsed()}))}Ce&4&&this._alternatives.value.set(oe,Pt=>{for(ht.cancel();be.canUndo();){Ae!==be.getAlternativeVersionId()&&be.undo(),this._insertSuggestion(Pt,3|(Ce&8?8:0));break}}),this._alertCompletionItem(He),Promise.all(Ye).finally(()=>{this._reportSuggestionAcceptedTelemetry(He,be,gn,dn,ln),this.model.clear(),ht.dispose()})}_reportSuggestionAcceptedTelemetry(oe,Ce,Ee,be,Ae){var He,Ye,ht;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(Ye=(He=oe.extensionId)===null||He===void 0?void 0:He.value)!==null&&Ye!==void 0?Ye:"unknown",providerId:(ht=oe.provider._debugDisplayName)!==null&&ht!==void 0?ht:"unknown",kind:oe.completion.kind,basenameHash:(0,Ai.vp)((0,Yn.EZ)(Ce.uri)).toString(16),languageId:Ce.getLanguageId(),fileExtension:(0,Yn.DZ)(Ce.uri),resolveInfo:oe.provider.resolveCompletionItem?Ee?1:0:-1,resolveDuration:oe.resolveDuration,commandDuration:be,additionalEditsAsync:Ae})}getOverwriteInfo(oe,Ce){(0,p.p_)(this.editor.hasModel());let Ee=this.editor.getOption(117).insertMode==="replace";Ce&&(Ee=!Ee);const be=oe.position.column-oe.editStart.column,Ae=(Ee?oe.editReplaceEnd.column:oe.editInsertEnd.column)-oe.position.column,He=this.editor.getPosition().column-oe.position.column,Ye=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:be+He,overwriteAfter:Ae+Ye}}_alertCompletionItem(oe){if((0,U.Of)(oe.completion.additionalTextEdits)){const Ce=N.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",oe.textLabel,oe.completion.additionalTextEdits.length);(0,b.Z9)(Ce)}}triggerSuggest(oe,Ce,Ee){this.editor.hasModel()&&(this.model.trigger({auto:Ce!=null?Ce:!1,completionOptions:{providerFilter:oe,kindFilter:Ee?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(oe){if(!this.editor.hasModel())return;const Ce=this.editor.getPosition(),Ee=()=>{Ce.equals(this.editor.getPosition())&&this._commandService.executeCommand(oe.fallback)},be=Ae=>{if(Ae.completion.insertTextRules&4||Ae.completion.additionalTextEdits)return!0;const He=this.editor.getPosition(),Ye=Ae.editStart.column,ht=He.column;return ht-Ye!==Ae.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:He.lineNumber,startColumn:Ye,endLineNumber:He.lineNumber,endColumn:ht})!==Ae.completion.insertText};c.ju.once(this.model.onDidTrigger)(Ae=>{const He=[];c.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,I.B9)(He),Ee()},void 0,He),this.model.onDidSuggest(({completionModel:Ye})=>{if((0,I.B9)(He),Ye.items.length===0){Ee();return}const ht=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Ye.items),$t=Ye.items[ht];if(!be($t)){Ee();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ht,item:$t,model:Ye},7)},void 0,He)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Ce,0),this.editor.focus()}acceptSelectedSuggestion(oe,Ce){const Ee=this.widget.value.getFocusedItem();let be=0;oe&&(be|=4),Ce&&(be|=8),this._insertSuggestion(Ee,be)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(oe){return this._selectors.register(oe)}};Yt.ID="editor.contrib.suggestController",Yt=yn=Ri([Tn(1,S.Fh),Tn(2,B.H),Tn(3,g.i6),Tn(4,W.TG),Tn(5,$.VZ),Tn(6,X.b)],Yt);class fn{constructor(oe){this.prioritySelector=oe,this._items=new Array}register(oe){if(this._items.indexOf(oe)!==-1)throw new Error("Value is already registered");return this._items.push(oe),this._items.sort((Ce,Ee)=>this.prioritySelector(Ee)-this.prioritySelector(Ce)),{dispose:()=>{const Ce=this._items.indexOf(oe);Ce>=0&&this._items.splice(Ce,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Ht extends u.R6{constructor(){super({id:Ht.id,label:N.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:g.Ao.and(f.u.writable,f.u.hasCompletionItemProvider,Y._y.Visible.toNegated()),kbOpts:{kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(oe,Ce,Ee){const be=Yt.get(Ce);if(!be)return;let Ae;Ee&&typeof Ee=="object"&&Ee.auto===!0&&(Ae=!0),be.triggerSuggest(void 0,Ae,void 0)}}Ht.id="editor.action.triggerSuggest",(0,u._K)(Yt.ID,Yt,2),(0,u.Qr)(Ht);const et=100+90,ee=u._l.bindToContribution(Yt.get);(0,u.fK)(new ee({id:"acceptSelectedSuggestion",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion),handler(de){de.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:g.Ao.and(Y._y.Visible,f.u.textInputFocus),weight:et},{primary:3,kbExpr:g.Ao.and(Y._y.Visible,f.u.textInputFocus,Y._y.AcceptSuggestionsOnEnter,Y._y.MakesTextEdit),weight:et}],menuOpts:[{menuId:Y.GI,title:N.NC("accept.insert","Insert"),group:"left",order:1,when:Y._y.HasInsertAndReplaceRange.toNegated()},{menuId:Y.GI,title:N.NC("accept.insert","Insert"),group:"left",order:1,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("insert"))},{menuId:Y.GI,title:N.NC("accept.replace","Replace"),group:"left",order:1,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("replace"))}]})),(0,u.fK)(new ee({id:"acceptAlternativeSelectedSuggestion",precondition:g.Ao.and(Y._y.Visible,f.u.textInputFocus,Y._y.HasFocusedSuggestion),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:1027,secondary:[1026]},handler(de){de.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Y.GI,group:"left",order:2,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("insert")),title:N.NC("accept.replace","Replace")},{menuId:Y.GI,group:"left",order:2,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("replace")),title:N.NC("accept.insert","Insert")}]})),B.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,u.fK)(new ee({id:"hideSuggestWidget",precondition:Y._y.Visible,handler:de=>de.cancelSuggestWidget(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})),(0,u.fK)(new ee({id:"selectNextSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectNextSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,u.fK)(new ee({id:"selectNextPageSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectNextPageSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:12,secondary:[2060]}})),(0,u.fK)(new ee({id:"selectLastSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectLastSuggestion()})),(0,u.fK)(new ee({id:"selectPrevSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectPrevSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,u.fK)(new ee({id:"selectPrevPageSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectPrevPageSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:11,secondary:[2059]}})),(0,u.fK)(new ee({id:"selectFirstSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectFirstSuggestion()})),(0,u.fK)(new ee({id:"focusSuggestion",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion.negate()),handler:de=>de.focusSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,u.fK)(new ee({id:"focusAndAcceptSuggestion",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion.negate()),handler:de=>{de.focusSuggestion(),de.acceptSelectedSuggestion(!0,!1)}})),(0,u.fK)(new ee({id:"toggleSuggestionDetails",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion),handler:de=>de.toggleSuggestionDetails(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Y.GI,group:"right",order:1,when:g.Ao.and(Y._y.DetailsVisible,Y._y.CanResolve),title:N.NC("detail.more","show less")},{menuId:Y.GI,group:"right",order:1,when:g.Ao.and(Y._y.DetailsVisible.toNegated(),Y._y.CanResolve),title:N.NC("detail.less","show more")}]})),(0,u.fK)(new ee({id:"toggleExplainMode",precondition:Y._y.Visible,handler:de=>de.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,u.fK)(new ee({id:"toggleSuggestionFocus",precondition:Y._y.Visible,handler:de=>de.toggleSuggestionFocus(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,u.fK)(new ee({id:"insertBestCompletion",precondition:g.Ao.and(f.u.textInputFocus,g.Ao.equals("config.editor.tabCompletion","on"),A.AtEnd,Y._y.Visible.toNegated(),O.OtherSuggestions.toNegated(),v.f.InSnippetMode.toNegated()),handler:(de,oe)=>{de.triggerSuggestAndAcceptBest((0,p.Kn)(oe)?Xn({fallback:"tab"},oe):{fallback:"tab"})},kbOpts:{weight:et,primary:2}})),(0,u.fK)(new ee({id:"insertNextSuggestion",precondition:g.Ao.and(f.u.textInputFocus,g.Ao.equals("config.editor.tabCompletion","on"),O.OtherSuggestions,Y._y.Visible.toNegated(),v.f.InSnippetMode.toNegated()),handler:de=>de.acceptNextSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:2}})),(0,u.fK)(new ee({id:"insertPrevSuggestion",precondition:g.Ao.and(f.u.textInputFocus,g.Ao.equals("config.editor.tabCompletion","on"),O.OtherSuggestions,Y._y.Visible.toNegated(),v.f.InSnippetMode.toNegated()),handler:de=>de.acceptPrevSuggestion(),kbOpts:{weight:et,kbExpr:f.u.textInputFocus,primary:1026}})),(0,u.Qr)(class extends u.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:N.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(de,oe){var Ce;(Ce=Yt.get(oe))===null||Ce===void 0||Ce.resetWidgetSize()}})},88088:function(Ot,Ke,e){"use strict";var b=e(71050),U=e(60075),r=e(53725),w=e(5976),c=e(16830),_=e(11640),I=e(24314),M=e(71922),D=e(74961),p=e(55621),o=e(80378),u=e(24477),d=e(84972),n=e(72065),i=function(C,E,A,N){var B=arguments.length,W=B<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,A):N,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(C,E,A,N);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(W=(B<3?$(W):B>3?$(E,A,W):$(E,A))||W);return B>3&&W&&Object.defineProperty(E,A,W),W},f=function(C,E){return function(A,N){E(A,N,C)}},v;class a{constructor(E,A,N,B,W,$){this.range=E,this.insertText=A,this.filterText=N,this.additionalTextEdits=B,this.command=W,this.completion=$}}let S=class extends w.L6{constructor(E,A,N,B,W,$){super(W.disposable),this.model=E,this.line=A,this.word=N,this.completionModel=B,this._suggestMemoryService=$}canBeReused(E,A,N){return this.model===E&&this.line===A&&this.word.word.length>0&&this.word.startColumn===N.startColumn&&this.word.endColumn<N.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var E;const A=[],{items:N}=this.completionModel,B=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},N),W=r.$.slice(N,B),$=r.$.slice(N,0,B);let Y=5;for(const R of r.$.concat(W,$)){if(R.score===U.CL.Default)continue;const L=new I.e(R.editStart.lineNumber,R.editStart.column,R.editInsertEnd.lineNumber,R.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),z=R.completion.insertTextRules&&R.completion.insertTextRules&4?{snippet:R.completion.insertText}:R.completion.insertText;A.push(new a(L,z,(E=R.filterTextLow)!==null&&E!==void 0?E:R.labelLow,R.completion.additionalTextEdits,R.completion.command,R)),Y-->=0&&R.resolve(b.T.None)}return A}};S=i([f(5,o.Fh)],S);let g=class{constructor(E,A,N,B){this._getEditorOption=E,this._languageFeatureService=A,this._clipboardService=N,this._suggestMemoryService=B}provideInlineCompletions(E,A,N,B){return tn(this,null,function*(){var W;if(N.selectedSuggestionInfo)return;const $=this._getEditorOption(88,E);if(p.tG.isAllOff($))return;E.tokenization.tokenizeIfCheap(A.lineNumber);const Y=E.tokenization.getLineTokens(A.lineNumber),R=Y.getStandardTokenType(Y.findTokenIndexAtOffset(Math.max(A.column-1-1,0)));if(p.tG.valueFor($,R)!=="inline")return;let L=E.getWordAtPosition(A),z;if(L!=null&&L.word||(z=this._getTriggerCharacterInfo(E,A)),!(L!=null&&L.word)&&!z||(L||(L=E.getWordUntilPosition(A)),L.endColumn!==A.column))return;let O;const P=E.getValueInRange(new I.e(A.lineNumber,1,A.lineNumber,A.column));if(!z&&(!((W=this._lastResult)===null||W===void 0)&&W.canBeReused(E,A.lineNumber,L))){const H=new D.t(P,A.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=H,this._lastResult.acquire(),O=this._lastResult}else{const H=yield(0,p.kL)(this._languageFeatureService.completionProvider,E,A,new p.A9(void 0,void 0,z==null?void 0:z.providers),z&&{triggerKind:1,triggerCharacter:z.ch},B);let V;H.needsClipboard&&(V=yield this._clipboardService.readText());const G=new D._(H.items,A.column,new D.t(P,0),u.K.None,this._getEditorOption(117,E),this._getEditorOption(111,E),{boostFullMatch:!1,firstMatchCanBeWeak:!1},V);O=new S(E,A.lineNumber,L,G,H,this._suggestMemoryService)}return this._lastResult=O,O})}handleItemDidShow(E,A){A.completion.resolve(b.T.None)}freeInlineCompletions(E){E.release()}_getTriggerCharacterInfo(E,A){var N;const B=E.getValueInRange(I.e.fromPositions({lineNumber:A.lineNumber,column:A.column-1},A)),W=new Set;for(const $ of this._languageFeatureService.completionProvider.all(E))!((N=$.triggerCharacters)===null||N===void 0)&&N.includes(B)&&W.add($);if(W.size!==0)return{providers:W,ch:B}}};g=i([f(1,M.p),f(2,d.p),f(3,o.Fh)],g);let y=v=class{constructor(E,A,N,B){if(++v._counter===1){const W=B.createInstance(g,($,Y)=>{var R;return((R=N.listCodeEditors().find(z=>z.getModel()===Y))!==null&&R!==void 0?R:E).getOption($)});v._disposable=A.inlineCompletionsProvider.register("*",W)}}dispose(){var E;--v._counter===0&&((E=v._disposable)===null||E===void 0||E.dispose(),v._disposable=void 0)}};y._counter=0,y=v=i([f(1,M.p),f(2,_.$),f(3,n.TG)],y),(0,c._K)("suggest.inlineCompletionsProvider",y,0)},80378:function(Ot,Ke,e){"use strict";e.d(Ke,{Fh:function(){return a}});var b=e(15393),U=e(5976),r=e(43702),w=e(4767),c=e(43155),_=e(33108),I=e(65026),M=e(72065),D=e(87060),p=function(S,g,y,C){var E=arguments.length,A=E<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(S,g,y,C);else for(var B=S.length-1;B>=0;B--)(N=S[B])&&(A=(E<3?N(A):E>3?N(g,y,A):N(g,y))||A);return E>3&&A&&Object.defineProperty(g,y,A),A},o=function(S,g){return function(y,C){g(y,C,S)}},u;class d{constructor(g){this.name=g}select(g,y,C){if(C.length===0)return 0;const E=C[0].score[0];for(let A=0;A<C.length;A++){const{score:N,completion:B}=C[A];if(N[0]!==E)break;if(B.preselect)return A}return 0}}class n extends d{constructor(){super("first")}memorize(g,y,C){}toJSON(){}fromJSON(){}}class i extends d{constructor(){super("recentlyUsed"),this._cache=new r.z6(300,.66),this._seq=0}memorize(g,y,C){const E=`${g.getLanguageId()}/${C.textLabel}`;this._cache.set(E,{touch:this._seq++,type:C.completion.kind,insertText:C.completion.insertText})}select(g,y,C){if(C.length===0)return 0;const E=g.getLineContent(y.lineNumber).substr(y.column-10,y.column-1);if(/\s$/.test(E))return super.select(g,y,C);const A=C[0].score[0];let N=-1,B=-1,W=-1;for(let $=0;$<C.length&&C[$].score[0]===A;$++){const Y=`${g.getLanguageId()}/${C[$].textLabel}`,R=this._cache.peek(Y);if(R&&R.touch>W&&R.type===C[$].completion.kind&&R.insertText===C[$].completion.insertText&&(W=R.touch,B=$),C[$].completion.preselect&&N===-1)return N=$}return B!==-1?B:N!==-1?N:0}toJSON(){return this._cache.toJSON()}fromJSON(g){this._cache.clear();const y=0;for(const[C,E]of g)E.touch=y,E.type=typeof E.type=="number"?E.type:c.gX.fromString(E.type),this._cache.set(C,E);this._seq=this._cache.size}}class f extends d{constructor(){super("recentlyUsedByPrefix"),this._trie=w.Id.forStrings(),this._seq=0}memorize(g,y,C){const{word:E}=g.getWordUntilPosition(y),A=`${g.getLanguageId()}/${E}`;this._trie.set(A,{type:C.completion.kind,insertText:C.completion.insertText,touch:this._seq++})}select(g,y,C){const{word:E}=g.getWordUntilPosition(y);if(!E)return super.select(g,y,C);const A=`${g.getLanguageId()}/${E}`;let N=this._trie.get(A);if(N||(N=this._trie.findSubstr(A)),N)for(let B=0;B<C.length;B++){const{kind:W,insertText:$}=C[B].completion;if(W===N.type&&$===N.insertText)return B}return super.select(g,y,C)}toJSON(){const g=[];return this._trie.forEach((y,C)=>g.push([C,y])),g.sort((y,C)=>-(y[1].touch-C[1].touch)).forEach((y,C)=>y[1].touch=C),g.slice(0,200)}fromJSON(g){if(this._trie.clear(),g.length>0){this._seq=g[0][1].touch+1;for(const[y,C]of g)C.type=typeof C.type=="number"?C.type:c.gX.fromString(C.type),this._trie.set(y,C)}}}let v=u=class{constructor(g,y){this._storageService=g,this._configService=y,this._disposables=new U.SL,this._persistSoon=new b.pY(()=>this._saveState(),500),this._disposables.add(g.onWillSaveState(C=>{C.reason===D.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(g,y,C){this._withStrategy(g,y).memorize(g,y,C),this._persistSoon.schedule()}select(g,y,C){return this._withStrategy(g,y).select(g,y,C)}_withStrategy(g,y){var C;const E=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:g.getLanguageIdAtPosition(y.lineNumber,y.column),resource:g.uri});if(((C=this._strategy)===null||C===void 0?void 0:C.name)!==E){this._saveState();const A=u._strategyCtors.get(E)||n;this._strategy=new A;try{const B=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,W=this._storageService.get(`${u._storagePrefix}/${E}`,B);W&&this._strategy.fromJSON(JSON.parse(W))}catch(N){}}return this._strategy}_saveState(){if(this._strategy){const y=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,C=JSON.stringify(this._strategy);this._storageService.store(`${u._storagePrefix}/${this._strategy.name}`,C,y,1)}}};v._strategyCtors=new Map([["recentlyUsedByPrefix",f],["recentlyUsed",i],["first",n]]),v._storagePrefix="suggest/memories",v=u=p([o(0,D.Uy),o(1,_.Ui)],v);const a=(0,M.yh)("ISuggestMemories");(0,I.z)(a,v,1)},24477:function(Ot,Ke,e){"use strict";e.d(Ke,{K:function(){return w}});var b=e(9488),U=e(24314),r=e(79694);class w{static create(_,I){return tn(this,null,function*(){if(!I.getOption(117).localityBonus||!I.hasModel())return w.None;const M=I.getModel(),D=I.getPosition();if(!_.canComputeWordRanges(M.uri))return w.None;const[p]=yield new r.x().provideSelectionRanges(M,[D]);if(p.length===0)return w.None;const o=yield _.computeWordRanges(M.uri,p[0].range);if(!o)return w.None;const u=M.getWordUntilPosition(D);return delete o[u.word],new class extends w{distance(d,n){if(!D.equals(I.getPosition()))return 0;if(n.kind===17)return 2<<20;const i=typeof n.label=="string"?n.label:n.label.label,f=o[i];if((0,b.XY)(f))return 2<<20;const v=(0,b.ry)(f,U.e.fromPositions(d),U.e.compareRangesUsingStarts),a=v>=0?f[v]:f[Math.max(0,~v-1)];let S=p.length;for(const g of p){if(!U.e.containsRange(g.range,a))break;S-=1}return S}}})}}w.None=new class extends w{distance(){return 0}}},34066:function(Ot,Ke,e){"use strict";var b=e(63580),U=e(73910);const r=(0,U.P6G)("symbolIcon.arrayForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,U.P6G)("symbolIcon.booleanForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,U.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,b.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,U.P6G)("symbolIcon.colorForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,U.P6G)("symbolIcon.constantForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,U.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,b.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,U.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,b.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,U.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o=(0,U.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,b.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,U.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,U.P6G)("symbolIcon.fileForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,U.P6G)("symbolIcon.folderForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i=(0,U.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,b.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,U.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,U.P6G)("symbolIcon.keyForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,U.P6G)("symbolIcon.keywordForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,U.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,b.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,U.P6G)("symbolIcon.moduleForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,U.P6G)("symbolIcon.namespaceForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,U.P6G)("symbolIcon.nullForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,U.P6G)("symbolIcon.numberForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,U.P6G)("symbolIcon.objectForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,U.P6G)("symbolIcon.operatorForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,U.P6G)("symbolIcon.packageForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,U.P6G)("symbolIcon.propertyForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,U.P6G)("symbolIcon.referenceForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y=(0,U.P6G)("symbolIcon.snippetForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,U.P6G)("symbolIcon.stringForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,U.P6G)("symbolIcon.structForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,U.P6G)("symbolIcon.textForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,U.P6G)("symbolIcon.typeParameterForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,U.P6G)("symbolIcon.unitForeground",{dark:U.dRz,light:U.dRz,hcDark:U.dRz,hcLight:U.dRz},(0,b.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,U.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},64662:function(Ot,Ke,e){"use strict";var b=e(35996),U=e(37940),r=e(63580),w=e(84144);class c extends w.Ke{constructor(){super({id:c.ID,title:{value:r.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const M=!U.n.getTabFocusMode();U.n.setTabFocusMode(M),M?(0,b.Z9)(r.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,b.Z9)(r.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}c.ID="editor.action.toggleTabFocusMode",(0,w.r1)(c)},52614:function(Ot,Ke,e){"use strict";var b=e(84013),U=e(16830),r=e(63580);class w extends U.R6{constructor(){super({id:"editor.action.forceRetokenize",label:r.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(_,I){if(!I.hasModel())return;const M=I.getModel();M.tokenization.resetTokenization();const D=new b.G;M.tokenization.forceTokenization(M.getLineCount()),D.stop(),console.log(`tokenization took ${D.elapsed()}`)}}(0,U.Qr)(w)},97066:function(Ot,Ke,e){"use strict";var b=e(15393),U=e(73046),r=e(59365),w=e(5976),c=e(1432),_=e(97295),I=e(16830),M=e(64141),D=e(84901),p=e(31446),o=e(85215),u=e(72042),d=e(30168),n=e(66520),i=e(22374),f=e(65321),v=e(90317),a=e(74741),S=e(33772),g=e(72065),y=e(4850),C=e(59069),E=e(10553),A=e(4669),N=e(50988),B=function(he,se,ve,xe){var je=arguments.length,Oe=je<3?se:xe===null?xe=Object.getOwnPropertyDescriptor(se,ve):xe,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(he,se,ve,xe);else for(var it=he.length-1;it>=0;it--)(Ze=he[it])&&(Oe=(je<3?Ze(Oe):je>3?Ze(se,ve,Oe):Ze(se,ve))||Oe);return je>3&&Oe&&Object.defineProperty(se,ve,Oe),Oe},W=function(he,se){return function(ve,xe){se(ve,xe,he)}};let $=class extends w.JT{get enabled(){return this._enabled}set enabled(se){se?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=se}constructor(se,ve,xe={},je){var Oe;super(),this._link=ve,this._enabled=!0,this.el=(0,f.R3)(se,(0,f.$)("a.monaco-link",{tabIndex:(Oe=ve.tabIndex)!==null&&Oe!==void 0?Oe:0,href:ve.href,title:ve.title},ve.label)),this.el.setAttribute("role","button");const Ze=this._register(new y.Y(this.el,"click")),it=this._register(new y.Y(this.el,"keypress")),Et=A.ju.chain(it.event,Mt=>Mt.map(qt=>new C.y(qt)).filter(qt=>qt.keyCode===3)),st=this._register(new y.Y(this.el,E.t.Tap)).event;this._register(E.o.addTarget(this.el));const pt=A.ju.any(Ze.event,Et,st);this._register(pt(Mt=>{this.enabled&&(f.zB.stop(Mt,!0),xe!=null&&xe.opener?xe.opener(this._link.href):je.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};$=B([W(3,N.v)],$);var Y=e(59554),R=e(25670),L=function(he,se,ve,xe){var je=arguments.length,Oe=je<3?se:xe===null?xe=Object.getOwnPropertyDescriptor(se,ve):xe,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(he,se,ve,xe);else for(var it=he.length-1;it>=0;it--)(Ze=he[it])&&(Oe=(je<3?Ze(Oe):je>3?Ze(se,ve,Oe):Ze(se,ve))||Oe);return je>3&&Oe&&Object.defineProperty(se,ve,Oe),Oe},z=function(he,se){return function(ve,xe){se(ve,xe,he)}};const O=26;let P=class extends w.JT{constructor(se,ve){super(),this._editor=se,this.instantiationService=ve,this.banner=this._register(this.instantiationService.createInstance(H))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(se){this.banner.show(Ni(Xn({},se),{onClose:()=>{var ve;this.hide(),(ve=se.onClose)===null||ve===void 0||ve.call(se)}})),this._editor.setBanner(this.banner.element,O)}};P=L([z(1,g.TG)],P);let H=class extends w.JT{constructor(se){super(),this.instantiationService=se,this.markdownRenderer=this.instantiationService.createInstance(S.$,{}),this.element=(0,f.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(se){if(se.ariaLabel)return se.ariaLabel;if(typeof se.message=="string")return se.message}getBannerMessage(se){if(typeof se=="string"){const ve=(0,f.$)("span");return ve.innerText=se,ve}return this.markdownRenderer.render(se).element}clear(){(0,f.PO)(this.element)}show(se){(0,f.PO)(this.element);const ve=this.getAriaLabel(se);ve&&this.element.setAttribute("aria-label",ve);const xe=(0,f.R3)(this.element,(0,f.$)("div.icon-container"));xe.setAttribute("aria-hidden","true"),se.icon&&xe.appendChild((0,f.$)(`div${R.k.asCSSSelector(se.icon)}`));const je=(0,f.R3)(this.element,(0,f.$)("div.message-container"));if(je.setAttribute("aria-hidden","true"),je.appendChild(this.getBannerMessage(se.message)),this.messageActionsContainer=(0,f.R3)(this.element,(0,f.$)("div.message-actions-container")),se.actions)for(const Ze of se.actions)this._register(this.instantiationService.createInstance($,this.messageActionsContainer,Ni(Xn({},Ze),{tabIndex:-1}),{}));const Oe=(0,f.R3)(this.element,(0,f.$)("div.action-container"));this.actionBar=this._register(new v.o(Oe)),this.actionBar.push(this._register(new a.aU("banner.close","Close Banner",R.k.asClassName(Y.s_),!0,()=>{typeof se.onClose=="function"&&se.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};H=L([z(0,g.TG)],H);var V=e(63580),G=e(33108),j=e(41157),F=e(33425),K=function(he,se,ve,xe){var je=arguments.length,Oe=je<3?se:xe===null?xe=Object.getOwnPropertyDescriptor(se,ve):xe,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(he,se,ve,xe);else for(var it=he.length-1;it>=0;it--)(Ze=he[it])&&(Oe=(je<3?Ze(Oe):je>3?Ze(se,ve,Oe):Ze(se,ve))||Oe);return je>3&&Oe&&Object.defineProperty(se,ve,Oe),Oe},m=function(he,se){return function(ve,xe){se(ve,xe,he)}};const J=(0,Y.q5)("extensions-warning-message",U.l.warning,V.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let X=class extends w.JT{constructor(se,ve,xe,je){super(),this._editor=se,this._editorWorkerService=ve,this._workspaceTrustService=xe,this._highlighter=null,this._bannerClosed=!1,this._updateState=Oe=>{if(Oe&&Oe.hasMore){if(this._bannerClosed)return;const Ze=Math.max(Oe.ambiguousCharacterCount,Oe.nonBasicAsciiCharacterCount,Oe.invisibleCharacterCount);let it;if(Oe.nonBasicAsciiCharacterCount>=Ze)it={message:V.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new ce};else if(Oe.ambiguousCharacterCount>=Ze)it={message:V.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Le};else if(Oe.invisibleCharacterCount>=Ze)it={message:V.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new ie};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:it.message,icon:J,actions:[{label:it.command.shortLabel,href:`command:${it.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(je.createInstance(P,se)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=se.getOption(124),this._register(xe.onDidChangeTrust(Oe=>{this._updateHighlighter()})),this._register(se.onDidChangeConfiguration(Oe=>{Oe.hasChanged(124)&&(this._options=se.getOption(124),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const se=te(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([se.nonBasicASCII,se.ambiguousCharacters,se.invisibleCharacters].every(xe=>xe===!1))return;const ve={nonBasicASCII:se.nonBasicASCII,ambiguousCharacters:se.ambiguousCharacters,invisibleCharacters:se.invisibleCharacters,includeComments:se.includeComments,includeStrings:se.includeStrings,allowedCodePoints:Object.keys(se.allowedCharacters).map(xe=>xe.codePointAt(0)),allowedLocales:Object.keys(se.allowedLocales).map(xe=>xe==="_os"?new Intl.NumberFormat().resolvedOptions().locale:xe==="_vscode"?c.dK:xe)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new le(this._editor,ve,this._updateState,this._editorWorkerService):this._highlighter=new ge(this._editor,ve,this._updateState)}getDecorationInfo(se){return this._highlighter?this._highlighter.getDecorationInfo(se):null}};X.ID="editor.contrib.unicodeHighlighter",X=K([m(1,o.p),m(2,F.Y),m(3,g.TG)],X);function te(he,se){return{nonBasicASCII:se.nonBasicASCII===M.Av?!he:se.nonBasicASCII,ambiguousCharacters:se.ambiguousCharacters,invisibleCharacters:se.invisibleCharacters,includeComments:se.includeComments===M.Av?!he:se.includeComments,includeStrings:se.includeStrings===M.Av?!he:se.includeStrings,allowedCharacters:se.allowedCharacters,allowedLocales:se.allowedLocales}}let le=class extends w.JT{constructor(se,ve,xe,je){super(),this._editor=se,this._options=ve,this._updateState=xe,this._editorWorkerService=je,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new b.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const se=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ve=>{if(this._model.isDisposed()||this._model.getVersionId()!==se)return;this._updateState(ve);const xe=[];if(!ve.hasMore)for(const je of ve.ranges)xe.push({range:je,options:Me.instance.getDecorationFromOptions(this._options)});this._decorations.set(xe)})}getDecorationInfo(se){if(!this._decorations.has(se))return null;const ve=this._editor.getModel();if(!(0,d.Fd)(ve,se))return null;const xe=ve.getValueInRange(se.range);return{reason:ae(xe,this._options),inComment:(0,d.$t)(ve,se),inString:(0,d.zg)(ve,se)}}};le=K([m(3,o.p)],le);class ge extends w.JT{constructor(se,ve,xe){super(),this._editor=se,this._options=ve,this._updateState=xe,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new b.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const se=this._editor.getVisibleRanges(),ve=[],xe={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const je of se){const Oe=p.a.computeUnicodeHighlights(this._model,this._options,je);for(const Ze of Oe.ranges)xe.ranges.push(Ze);xe.ambiguousCharacterCount+=xe.ambiguousCharacterCount,xe.invisibleCharacterCount+=xe.invisibleCharacterCount,xe.nonBasicAsciiCharacterCount+=xe.nonBasicAsciiCharacterCount,xe.hasMore=xe.hasMore||Oe.hasMore}if(!xe.hasMore)for(const je of xe.ranges)ve.push({range:je,options:Me.instance.getDecorationFromOptions(this._options)});this._updateState(xe),this._decorations.set(ve)}getDecorationInfo(se){if(!this._decorations.has(se))return null;const ve=this._editor.getModel(),xe=ve.getValueInRange(se.range);return(0,d.Fd)(ve,se)?{reason:ae(xe,this._options),inComment:(0,d.$t)(ve,se),inString:(0,d.zg)(ve,se)}:null}}let we=class{constructor(se,ve,xe){this._editor=se,this._languageService=ve,this._openerService=xe,this.hoverOrdinal=5}computeSync(se,ve){if(!this._editor.hasModel()||se.type!==1)return[];const xe=this._editor.getModel(),je=this._editor.getContribution(X.ID);if(!je)return[];const Oe=[],Ze=new Set;let it=300;for(const Et of ve){const st=je.getDecorationInfo(Et);if(!st)continue;const Mt=xe.getValueInRange(Et.range).codePointAt(0),qt=Pe(Mt);let Ft;switch(st.reason.kind){case 0:{(0,_.$i)(st.reason.confusableWith)?Ft=V.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",qt,Pe(st.reason.confusableWith.codePointAt(0))):Ft=V.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",qt,Pe(st.reason.confusableWith.codePointAt(0)));break}case 1:Ft=V.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",qt);break;case 2:Ft=V.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",qt);break}if(Ze.has(Ft))continue;Ze.add(Ft);const Xt={codePoint:Mt,reason:st.reason,inComment:st.inComment,inString:st.inString},_t=V.NC("unicodeHighlight.adjustSettings","Adjust settings"),nt=`command:${Re.ID}?${encodeURIComponent(JSON.stringify(Xt))}`,tt=new r.W5("",!0).appendMarkdown(Ft).appendText(" ").appendLink(nt,_t);Oe.push(new i.hU(this,Et.range,[tt],!1,it++))}return Oe}renderHoverParts(se,ve){return(0,i.c)(se,ve,this._editor,this._languageService,this._openerService)}};we=K([m(1,u.O),m(2,N.v)],we);function pe(he){return`U+${he.toString(16).padStart(4,"0")}`}function Pe(he){let se=`\`${pe(he)}\``;return _.vU.isInvisibleCharacter(he)||(se+=` "${`${Ne(he)}`}"`),se}function Ne(he){return he===96?"`` ` ``":"`"+String.fromCodePoint(he)+"`"}function ae(he,se){return p.a.computeUnicodeHighlightReason(he,se)}class Me{constructor(){this.map=new Map}getDecorationFromOptions(se){return this.getDecoration(!se.includeComments,!se.includeStrings)}getDecoration(se,ve){const xe=`${se}${ve}`;let je=this.map.get(xe);return je||(je=D.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:se,hideInStringTokens:ve}),this.map.set(xe,je)),je}}Me.instance=new Me;class ke extends I.R6{constructor(){super({id:Le.ID,label:V.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=V.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(se,ve,xe){return tn(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return tn(this,null,function*(){yield se.updateValue(M.qt.includeComments,!1,2)})}}class Ue extends I.R6{constructor(){super({id:Le.ID,label:V.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=V.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(se,ve,xe){return tn(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return tn(this,null,function*(){yield se.updateValue(M.qt.includeStrings,!1,2)})}}class Le extends I.R6{constructor(){super({id:Le.ID,label:V.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=V.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(se,ve,xe){return tn(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return tn(this,null,function*(){yield se.updateValue(M.qt.ambiguousCharacters,!1,2)})}}Le.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class ie extends I.R6{constructor(){super({id:ie.ID,label:V.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=V.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(se,ve,xe){return tn(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return tn(this,null,function*(){yield se.updateValue(M.qt.invisibleCharacters,!1,2)})}}ie.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class ce extends I.R6{constructor(){super({id:ce.ID,label:V.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=V.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(se,ve,xe){return tn(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return tn(this,null,function*(){yield se.updateValue(M.qt.nonBasicASCII,!1,2)})}}ce.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class Re extends I.R6{constructor(){super({id:Re.ID,label:V.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(se,ve,xe){return tn(this,null,function*(){const{codePoint:je,reason:Oe,inString:Ze,inComment:it}=xe,Et=String.fromCodePoint(je),st=se.get(j.eJ),pt=se.get(G.Ui);function Mt(Xt){return _.vU.isInvisibleCharacter(Xt)?V.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",pe(Xt)):V.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${pe(Xt)} "${Et}"`)}const qt=[];if(Oe.kind===0)for(const Xt of Oe.notAmbiguousInLocales)qt.push({label:V.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Xt),run:()=>tn(this,null,function*(){Se(pt,[Xt])})});if(qt.push({label:Mt(je),run:()=>ye(pt,[je])}),it){const Xt=new ke;qt.push({label:Xt.label,run:()=>tn(this,null,function*(){return Xt.runAction(pt)})})}else if(Ze){const Xt=new Ue;qt.push({label:Xt.label,run:()=>tn(this,null,function*(){return Xt.runAction(pt)})})}if(Oe.kind===0){const Xt=new Le;qt.push({label:Xt.label,run:()=>tn(this,null,function*(){return Xt.runAction(pt)})})}else if(Oe.kind===1){const Xt=new ie;qt.push({label:Xt.label,run:()=>tn(this,null,function*(){return Xt.runAction(pt)})})}else if(Oe.kind===2){const Xt=new ce;qt.push({label:Xt.label,run:()=>tn(this,null,function*(){return Xt.runAction(pt)})})}else me(Oe);const Ft=yield st.pick(qt,{title:V.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Ft&&(yield Ft.run())})}}Re.ID="editor.action.unicodeHighlight.showExcludeOptions";function ye(he,se){return tn(this,null,function*(){const ve=he.getValue(M.qt.allowedCharacters);let xe;typeof ve=="object"&&ve?xe=ve:xe={};for(const je of se)xe[String.fromCodePoint(je)]=!0;yield he.updateValue(M.qt.allowedCharacters,xe,2)})}function Se(he,se){return tn(this,null,function*(){var ve;const xe=(ve=he.inspect(M.qt.allowedLocales).user)===null||ve===void 0?void 0:ve.value;let je;typeof xe=="object"&&xe?je=Object.assign({},xe):je={};for(const Oe of se)je[Oe]=!0;yield he.updateValue(M.qt.allowedLocales,je,2)})}function me(he){throw new Error(`Unexpected value: ${he}`)}(0,I.Qr)(Le),(0,I.Qr)(ie),(0,I.Qr)(ce),(0,I.Qr)(Re),(0,I._K)(X.ID,X,1),n.Ae.register(we)},79607:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(95935),r=e(16830),w=e(11640),c=e(63580),_=e(28820),I=function(d,n,i,f){var v=arguments.length,a=v<3?n:f===null?f=Object.getOwnPropertyDescriptor(n,i):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(d,n,i,f);else for(var g=d.length-1;g>=0;g--)(S=d[g])&&(a=(v<3?S(a):v>3?S(n,i,a):S(n,i))||a);return v>3&&a&&Object.defineProperty(n,i,a),a},M=function(d,n){return function(i,f){n(i,f,d)}};const D="ignoreUnusualLineTerminators";function p(d,n,i){d.setModelProperty(n.uri,D,i)}function o(d,n){return d.getModelProperty(n.uri,D)}let u=class extends b.JT{constructor(n,i,f){super(),this._editor=n,this._dialogService=i,this._codeEditorService=f,this._isPresentingDialog=!1,this._config=this._editor.getOption(125),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(125)&&(this._config=this._editor.getOption(125),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(v=>{v.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return tn(this,null,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||o(this._codeEditorService,n)===!0||this._editor.getOption(90))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let f;try{this._isPresentingDialog=!0,f=yield this._dialogService.confirm({title:c.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:c.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:c.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,U.EZ)(n.uri)),primaryButton:c.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:c.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!f.confirmed){p(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};u.ID="editor.contrib.unusualLineTerminatorsDetector",u=I([M(1,_.S),M(2,w.$)],u),(0,r._K)(u.ID,u,1)},71828:function(Ot,Ke,e){"use strict";e.d(Ke,{G:function(){return v},w:function(){return a}});var b=e(84973),U=e(84901),r=e(43155),w=e(63580),c=e(73910),_=e(97781);const I=(0,c.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},w.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,c.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},w.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,c.P6G)("editor.wordHighlightTextBackground",{light:I,dark:I,hcDark:I,hcLight:I},w.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const M=(0,c.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:c.xL1,hcLight:c.xL1},w.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,c.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:c.xL1,hcLight:c.xL1},w.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,c.P6G)("editor.wordHighlightTextBorder",{light:M,dark:M,hcDark:M,hcLight:M},w.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const D=(0,c.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},w.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,c.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},w.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),o=(0,c.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:c.SPM,light:c.SPM,hcDark:c.SPM,hcLight:c.SPM},w.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),u=U.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,_.EN)(p),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}}),d=U.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,_.EN)(o),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}}),n=U.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,_.EN)(c.SPM),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}}),i=U.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),f=U.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,_.EN)(D),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}});function v(S){return S===r.MY.Write?u:S===r.MY.Text?d:f}function a(S){return S?i:n}(0,_.Ic)((S,g)=>{const y=S.getColor(c.Rzx);y&&g.addRule(`.monaco-editor .selectionHighlight { background-color: ${y.transparent(.5)}; }`)})},70943:function(Ot,Ke,e){"use strict";var b=e(63580),U=e(9488),r=e(35996),w=e(15393),c=e(71050),_=e(17301),I=e(5976),M=e(65520),D=e(16830),p=e(11640),o=e(24314),u=e(29102),d=e(43155),n=e(71922),i=e(71828),f=e(32064),v=e(66663),a=e(43702),S=e(22970),g=function(F,K,m,J){var X=arguments.length,te=X<3?K:J===null?J=Object.getOwnPropertyDescriptor(K,m):J,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(F,K,m,J);else for(var ge=F.length-1;ge>=0;ge--)(le=F[ge])&&(te=(X<3?le(te):X>3?le(K,m,te):le(K,m))||te);return X>3&&te&&Object.defineProperty(K,m,te),te},y=function(F,K){return function(m,J){K(m,J,F)}},C,E;const A=new f.uy("hasWordHighlights",!1);function N(F,K,m,J){const X=F.ordered(K);return(0,w.Ps)(X.map(te=>()=>Promise.resolve(te.provideDocumentHighlights(K,m,J)).then(void 0,_.Cp)),U.Of).then(te=>{if(te){const le=new a.Y9;return le.set(K.uri,te),le}return new a.Y9})}function B(F,K,m,J,X,te){const le=F.ordered(K);return(0,w.Ps)(le.map(ge=>()=>{const we=te.filter(pe=>(0,S.G)(ge.selector,pe.uri,pe.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(ge.provideMultiDocumentHighlights(K,m,we,X)).then(void 0,_.Cp)}),ge=>ge instanceof a.Y9&&ge.size>0)}class W{constructor(K,m,J){this._model=K,this._selection=m,this._wordSeparators=J,this._wordRange=this._getCurrentWordRange(K,m),this._result=null}get result(){return this._result||(this._result=(0,w.PG)(K=>this._compute(this._model,this._selection,this._wordSeparators,K))),this._result}_getCurrentWordRange(K,m){const J=K.getWordAtPosition(m.getPosition());return J?new o.e(m.startLineNumber,J.startColumn,m.startLineNumber,J.endColumn):null}isValid(K,m,J){const X=m.startLineNumber,te=m.startColumn,le=m.endColumn,ge=this._getCurrentWordRange(K,m);let we=!!(this._wordRange&&this._wordRange.equalsRange(ge));for(let pe=0,Pe=J.length;!we&&pe<Pe;pe++){const Ne=J.getRange(pe);Ne&&Ne.startLineNumber===X&&Ne.startColumn<=te&&Ne.endColumn>=le&&(we=!0)}return we}cancel(){this.result.cancel()}}class $ extends W{constructor(K,m,J,X){super(K,m,J),this._providers=X}_compute(K,m,J,X){return N(this._providers,K,m.getPosition(),X).then(te=>te||new a.Y9)}}class Y extends W{constructor(K,m,J,X,te){super(K,m,J),this._providers=X,this._otherModels=te}_compute(K,m,J,X){return B(this._providers,K,m.getPosition(),J,X,this._otherModels).then(te=>te||new a.Y9)}}class R extends W{constructor(K,m,J,X,te){super(K,m,X),this._otherModels=te,this._selectionIsEmpty=m.isEmpty(),this._word=J}_compute(K,m,J,X){return(0,w.Vs)(250,X).then(()=>{const te=new a.Y9;let le;if(this._word?le=this._word:le=K.getWordAtPosition(m.getPosition()),!le)return new a.Y9;const ge=[K,...this._otherModels];for(const we of ge){if(we.isDisposed())continue;const Pe=we.findMatches(le.word,!0,!1,!0,J,!1).map(Ne=>({range:Ne.range,kind:d.MY.Text}));Pe&&te.set(we.uri,Pe)}return te})}isValid(K,m,J){const X=m.isEmpty();return this._selectionIsEmpty!==X?!1:super.isValid(K,m,J)}}function L(F,K,m,J,X){return F.has(K)?new $(K,m,X,F):new R(K,m,J,X,[])}function z(F,K,m,J,X,te){return F.has(K)?new Y(K,m,X,F,te):new R(K,m,J,X,te)}(0,D.sb)("_executeDocumentHighlights",(F,K,m)=>tn(this,null,function*(){const J=F.get(n.p),X=yield N(J.documentHighlightProvider,K,m,c.T.None);return X==null?void 0:X.get(K.uri)}));let O=C=class{constructor(K,m,J,X,te){this.toUnhook=new I.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new a.Y9,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=K,this.providers=m,this.multiDocumentProviders=J,this.codeEditorService=te,this._hasWordHighlights=A.bindTo(X),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(80),this.model=this.editor.getModel(),this.toUnhook.add(K.onDidChangeCursorPosition(le=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(le)})),this.toUnhook.add(K.onDidChangeModelContent(le=>{this._stopAll()})),this.toUnhook.add(K.onDidChangeModel(le=>{!le.newModelUrl&&le.oldModelUrl?this._stopSingular():C.query&&this._run()})),this.toUnhook.add(K.onDidChangeConfiguration(le=>{const ge=this.editor.getOption(80);this.occurrencesHighlight!==ge&&(this.occurrencesHighlight=ge,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,C.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(o.e.compareRangesUsingStarts)}moveNext(){const K=this._getSortedHighlights(),J=(K.findIndex(te=>te.containsPosition(this.editor.getPosition()))+1)%K.length,X=K[J];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(X.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(X);const te=this._getWord();if(te){const le=this.editor.getModel().getLineContent(X.startLineNumber);(0,r.Z9)(`${le}, ${J+1} of ${K.length} for '${te.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const K=this._getSortedHighlights(),J=(K.findIndex(te=>te.containsPosition(this.editor.getPosition()))-1+K.length)%K.length,X=K[J];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(X.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(X);const te=this._getWord();if(te){const le=this.editor.getModel().getLineContent(X.startLineNumber);(0,r.Z9)(`${le}, ${J+1} of ${K.length} for '${te.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const K=C.storedDecorations.get(this.editor.getModel().uri);K&&(this.editor.removeDecorations(K),C.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const K=this.codeEditorService.listCodeEditors();for(const m of K){if(!m.hasModel())continue;const J=C.storedDecorations.get(m.getModel().uri);if(!J)continue;m.removeDecorations(J),C.storedDecorations.delete(m.getModel().uri);const X=P.get(m);X!=null&&X.wordHighlighter&&X.wordHighlighter.decorations.length>0&&(X.wordHighlighter.decorations.clear(),X.wordHighlighter._hasWordHighlights.set(!1))}}_stopSingular(){var K,m,J,X;this._removeSingleDecorations(),this.editor.hasWidgetFocus()&&(((K=this.editor.getModel())===null||K===void 0?void 0:K.uri.scheme)!==v.lg.vscodeNotebookCell&&((J=(m=C.query)===null||m===void 0?void 0:m.modelInfo)===null||J===void 0?void 0:J.model.uri.scheme)!==v.lg.vscodeNotebookCell?(C.query=null,this._run()):!((X=C.query)===null||X===void 0)&&X.modelInfo&&(C.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(K){var m;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(K.reason!==3&&((m=this.editor.getModel())===null||m===void 0?void 0:m.uri.scheme)!==v.lg.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const K=this.editor.getSelection(),m=K.startLineNumber,J=K.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:m,column:J})}getOtherModelsToHighlight(K){if(!K)return[];if(K.uri.scheme===v.lg.vscodeNotebookCell){const te=[],le=this.codeEditorService.listCodeEditors();for(const ge of le){const we=ge.getModel();we&&we!==K&&we.uri.scheme===v.lg.vscodeNotebookCell&&te.push(we)}return te}const J=[],X=this.codeEditorService.listCodeEditors();for(const te of X){if(!(0,M.QI)(te))continue;const le=te.getModel();le&&K===le.modified&&J.push(le.modified)}if(J.length)return J;if(this.occurrencesHighlight==="singleFile")return[];for(const te of X){const le=te.getModel();le&&le!==K&&J.push(le)}return J}_run(){var K,m;let J;if(this.editor.hasWidgetFocus()){const X=this.editor.getSelection();if(!X||X.startLineNumber!==X.endLineNumber){this._stopAll();return}const te=X.startColumn,le=X.endColumn,ge=this._getWord();if(!ge||ge.startColumn>te||ge.endColumn<le){C.query=null,this._stopAll();return}J=this.workerRequest&&this.workerRequest.isValid(this.model,X,this.decorations),C.query={modelInfo:{model:this.model,selection:X},word:ge}}else if(C.query===null)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),J)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const X=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const te=this.getOtherModelsToHighlight(this.editor.getModel()),le=!!(!C.query.modelInfo&&C.query.word||((K=C.query.modelInfo)===null||K===void 0?void 0:K.model.uri)!==this.model.uri);!C.query.modelInfo||C.query.modelInfo.model.uri!==this.model.uri?this.workerRequest=this.computeWithModel(this.model,this.editor.getSelection(),le?C.query.word:null,te):this.workerRequest=this.computeWithModel(C.query.modelInfo.model,C.query.modelInfo.selection,C.query.word,te),(m=this.workerRequest)===null||m===void 0||m.result.then(ge=>{X===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ge||[],this._beginRenderDecorations())},_.dL)}}computeWithModel(K,m,J,X){return X.length?z(this.multiDocumentProviders,K,m,J,this.editor.getOption(129),X):L(this.providers,K,m,J,this.editor.getOption(129))}_beginRenderDecorations(){const K=new Date().getTime(),m=this.lastCursorPositionChangeTime+250;K>=m?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},m-K)}renderDecorations(){var K,m,J;this.renderDecorationsTimer=-1;const X=this.codeEditorService.listCodeEditors();for(const te of X){const le=P.get(te);if(!le)continue;const ge=[],we=(K=te.getModel())===null||K===void 0?void 0:K.uri;if(we&&this.workerRequestValue.has(we)){const pe=C.storedDecorations.get(we),Pe=this.workerRequestValue.get(we);if(Pe)for(const ae of Pe)ge.push({range:ae.range,options:(0,i.G)(ae.kind)});let Ne=[];te.changeDecorations(ae=>{Ne=ae.deltaDecorations(pe!=null?pe:[],ge)}),C.storedDecorations=C.storedDecorations.set(we,Ne),ge.length>0&&((m=le.wordHighlighter)===null||m===void 0||m.decorations.set(ge),(J=le.wordHighlighter)===null||J===void 0||J._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};O.storedDecorations=new a.Y9,O.query=null,O=C=g([y(4,p.$)],O);let P=E=class extends I.JT{static get(K){return K.getContribution(E.ID)}constructor(K,m,J,X){super(),this._wordHighlighter=null;const te=()=>{K.hasModel()&&!K.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new O(K,J.documentHighlightProvider,J.multiDocumentHighlightProvider,m,X))};this._register(K.onDidChangeModel(le=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),te()})),te()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveNext()}moveBack(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveBack()}restoreViewState(K){this._wordHighlighter&&K&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};P.ID="editor.contrib.wordHighlighter",P=E=g([y(1,f.i6),y(2,n.p),y(3,p.$)],P);class H extends D.R6{constructor(K,m){super(m),this._isNext=K}run(K,m){const J=P.get(m);J&&(this._isNext?J.moveNext():J.moveBack())}}class V extends H{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:b.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:A,kbOpts:{kbExpr:u.u.editorTextFocus,primary:65,weight:100}})}}class G extends H{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:b.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:A,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1089,weight:100}})}}class j extends D.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:b.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:A.toNegated(),kbOpts:{kbExpr:u.u.editorTextFocus,primary:0,weight:100}})}run(K,m,J){const X=P.get(m);X&&X.restoreViewState(!0)}}(0,D._K)(P.ID,P,0),(0,D.Qr)(V),(0,D.Qr)(G),(0,D.Qr)(j)},37181:function(Ot,Ke,e){"use strict";e.d(Ke,{IA:function(){return f},t8:function(){return H}});var b=e(16830),U=e(61329),r=e(64141),w=e(55343),c=e(92896),_=e(24929),I=e(50187),M=e(24314),D=e(3860),p=e(29102),o=e(4256),u=e(63580),d=e(31106),n=e(32064),i=e(39282);class f extends b._l{constructor(ge){super(ge),this._inSelectionMode=ge.inSelectionMode,this._wordNavigationType=ge.wordNavigationType}runEditorCommand(ge,we,pe){if(!we.hasModel())return;const Pe=(0,_.u)(we.getOption(129)),Ne=we.getModel(),Me=we.getSelections().map(ke=>{const Ue=new I.L(ke.positionLineNumber,ke.positionColumn),Le=this._move(Pe,Ne,Ue,this._wordNavigationType);return this._moveTo(ke,Le,this._inSelectionMode)});if(Ne.pushStackElement(),we._getViewModel().setCursorStates("moveWordCommand",3,Me.map(ke=>w.Vi.fromModelSelection(ke))),Me.length===1){const ke=new I.L(Me[0].positionLineNumber,Me[0].positionColumn);we.revealPosition(ke,0)}}_moveTo(ge,we,pe){return pe?new D.Y(ge.selectionStartLineNumber,ge.selectionStartColumn,we.lineNumber,we.column):new D.Y(we.lineNumber,we.column,we.lineNumber,we.column)}}class v extends f{_move(ge,we,pe,Pe){return c.w.moveWordLeft(ge,we,pe,Pe)}}class a extends f{_move(ge,we,pe,Pe){return c.w.moveWordRight(ge,we,pe,Pe)}}class S extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class g extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class y extends v{constructor(){var ge;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(ge=n.Ao.and(d.UA,i.cv))===null||ge===void 0?void 0:ge.negate()),primary:2063,mac:{primary:527},weight:100}})}}class C extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class E extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class A extends v{constructor(){var ge;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(ge=n.Ao.and(d.UA,i.cv))===null||ge===void 0?void 0:ge.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class N extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(ge,we,pe,Pe){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),we,pe,Pe)}}class B extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(ge,we,pe,Pe){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),we,pe,Pe)}}class W extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class $ extends a{constructor(){var ge;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(ge=n.Ao.and(d.UA,i.cv))===null||ge===void 0?void 0:ge.negate()),primary:2065,mac:{primary:529},weight:100}})}}class Y extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class R extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class L extends a{constructor(){var ge;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(ge=n.Ao.and(d.UA,i.cv))===null||ge===void 0?void 0:ge.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class z extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class O extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(ge,we,pe,Pe){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),we,pe,Pe)}}class P extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(ge,we,pe,Pe){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),we,pe,Pe)}}class H extends b._l{constructor(ge){super(ge),this._whitespaceHeuristics=ge.whitespaceHeuristics,this._wordNavigationType=ge.wordNavigationType}runEditorCommand(ge,we,pe){const Pe=ge.get(o.c_);if(!we.hasModel())return;const Ne=(0,_.u)(we.getOption(129)),ae=we.getModel(),Me=we.getSelections(),ke=we.getOption(6),Ue=we.getOption(11),Le=Pe.getLanguageConfiguration(ae.getLanguageId()).getAutoClosingPairs(),ie=we._getViewModel(),ce=Me.map(Re=>{const ye=this._delete({wordSeparators:Ne,model:ae,selection:Re,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:we.getOption(9),autoClosingBrackets:ke,autoClosingQuotes:Ue,autoClosingPairs:Le,autoClosedCharacters:ie.getCursorAutoClosedCharacters()},this._wordNavigationType);return new U.T4(ye,"")});we.pushUndoStop(),we.executeCommands(this.id,ce),we.pushUndoStop()}}class V extends H{_delete(ge,we){const pe=c.w.deleteWordLeft(ge,we);return pe||new M.e(1,1,1,1)}}class G extends H{_delete(ge,we){const pe=c.w.deleteWordRight(ge,we);if(pe)return pe;const Pe=ge.model.getLineCount(),Ne=ge.model.getLineMaxColumn(Pe);return new M.e(Pe,Ne,Pe,Ne)}}class j extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:p.u.writable})}}class F extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:p.u.writable})}}class K extends V{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class m extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:p.u.writable})}}class J extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:p.u.writable})}}class X extends G{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class te extends b.R6{constructor(){super({id:"deleteInsideWord",precondition:p.u.writable,label:u.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(ge,we,pe){if(!we.hasModel())return;const Pe=(0,_.u)(we.getOption(129)),Ne=we.getModel(),Me=we.getSelections().map(ke=>{const Ue=c.w.deleteInsideWord(Pe,Ne,ke);return new U.T4(Ue,"")});we.pushUndoStop(),we.executeCommands(this.id,Me),we.pushUndoStop()}}(0,b.fK)(new S),(0,b.fK)(new g),(0,b.fK)(new y),(0,b.fK)(new C),(0,b.fK)(new E),(0,b.fK)(new A),(0,b.fK)(new W),(0,b.fK)(new $),(0,b.fK)(new Y),(0,b.fK)(new R),(0,b.fK)(new L),(0,b.fK)(new z),(0,b.fK)(new N),(0,b.fK)(new B),(0,b.fK)(new O),(0,b.fK)(new P),(0,b.fK)(new j),(0,b.fK)(new F),(0,b.fK)(new K),(0,b.fK)(new m),(0,b.fK)(new J),(0,b.fK)(new X),(0,b.Qr)(te)},86709:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(92896),r=e(24314),w=e(29102),c=e(37181),_=e(94565);class I extends c.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:w.u.writable,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(f,v){const a=U.L.deleteWordPartLeft(f);return a||new r.e(1,1,1,1)}}class M extends c.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:w.u.writable,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(f,v){const a=U.L.deleteWordPartRight(f);if(a)return a;const S=f.model.getLineCount(),g=f.model.getLineMaxColumn(S);return new r.e(S,g,S,g)}}class D extends c.IA{_move(f,v,a,S){return U.L.moveWordPartLeft(f,v,a)}}class p extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}_.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class o extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}_.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class u extends c.IA{_move(f,v,a,S){return U.L.moveWordPartRight(f,v,a)}}class d extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,b.fK)(new I),(0,b.fK)(new M),(0,b.fK)(new p),(0,b.fK)(new o),(0,b.fK)(new d),(0,b.fK)(new n)},24719:function(Ot,Ke,e){"use strict";var b=e(65321),U=e(5976),r=e(16830),w=e(1432);class c extends U.JT{constructor(M){super(),this.editor=M,this.widget=null,w.gn&&(this._register(M.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const M=!this.editor.getOption(90);!this.widget&&M?this.widget=new _(this.editor):this.widget&&!M&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}c.ID="editor.contrib.iPadShowKeyboard";class _ extends U.JT{constructor(M){super(),this.editor=M,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(b.nm(this._domNode,"touchstart",D=>{this.editor.focus()})),this._register(b.nm(this._domNode,"focus",D=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}_.ID="editor.contrib.ShowKeyboardWidget",(0,r._K)(c.ID,c,3)},59089:function(Ot,Ke,e){"use strict";var b=e(65321),U=e(41264),r=e(5976),w=e(16830),c=e(43155),_=e(45797),I=e(276),M=e(72042),D=e(44156),p=e(20913),o=function(S,g,y,C){var E=arguments.length,A=E<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(S,g,y,C);else for(var B=S.length-1;B>=0;B--)(N=S[B])&&(A=(E<3?N(A):E>3?N(g,y,A):N(g,y))||A);return E>3&&A&&Object.defineProperty(g,y,A),A},u=function(S,g){return function(y,C){g(y,C,S)}},d;let n=d=class extends r.JT{static get(g){return g.getContribution(d.ID)}constructor(g,y,C){super(),this._editor=g,this._languageService=C,this._widget=null,this._register(this._editor.onDidChangeModel(E=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(E=>this.stop())),this._register(c.RW.onDidChange(E=>this.stop())),this._register(this._editor.onKeyUp(E=>E.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new a(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};n.ID="editor.contrib.inspectTokens",n=d=o([u(1,D.Z),u(2,M.O)],n);class i extends w.R6{constructor(){super({id:"editor.action.inspectTokens",label:p.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(g,y){const C=n.get(y);C==null||C.launch()}}function f(S){let g="";for(let y=0,C=S.length;y<C;y++){const E=S.charCodeAt(y);switch(E){case 9:g+="\u2192";break;case 32:g+="\xB7";break;default:g+=String.fromCharCode(E)}}return g}function v(S,g){const y=c.RW.get(g);if(y)return y;const C=S.encodeLanguageId(g);return{getInitialState:()=>I.TJ,tokenize:(E,A,N)=>(0,I.Ri)(g,N),tokenizeEncoded:(E,A,N)=>(0,I.Dy)(C,N)}}class a extends r.JT{constructor(g,y){super(),this.allowEditorOverflow=!0,this._editor=g,this._languageService=y,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=v(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(C=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(g){const y=this._getTokensAtLine(g.lineNumber);let C=0;for(let W=y.tokens1.length-1;W>=0;W--){const $=y.tokens1[W];if(g.column-1>=$.offset){C=W;break}}let E=0;for(let W=y.tokens2.length>>>1;W>=0;W--)if(g.column-1>=y.tokens2[W<<1]){E=W;break}const A=this._model.getLineContent(g.lineNumber);let N="";if(C<y.tokens1.length){const W=y.tokens1[C].offset,$=C+1<y.tokens1.length?y.tokens1[C+1].offset:A.length;N=A.substring(W,$)}(0,b.mc)(this._domNode,(0,b.$)("h2.tm-token",void 0,f(N),(0,b.$)("span.tm-token-length",void 0,`${N.length} ${N.length===1?"char":"chars"}`))),(0,b.R3)(this._domNode,(0,b.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const B=(E<<1)+1<y.tokens2.length?this._decodeMetadata(y.tokens2[(E<<1)+1]):null;(0,b.R3)(this._domNode,(0,b.$)("table.tm-metadata-table",void 0,(0,b.$)("tbody",void 0,(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"language"),(0,b.$)("td.tm-metadata-value",void 0,`${B?B.languageId:"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"token type"),(0,b.$)("td.tm-metadata-value",void 0,`${B?this._tokenTypeToString(B.tokenType):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"font style"),(0,b.$)("td.tm-metadata-value",void 0,`${B?this._fontStyleToString(B.fontStyle):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"foreground"),(0,b.$)("td.tm-metadata-value",void 0,`${B?U.Il.Format.CSS.formatHex(B.foreground):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"background"),(0,b.$)("td.tm-metadata-value",void 0,`${B?U.Il.Format.CSS.formatHex(B.background):"-?-"}`))))),(0,b.R3)(this._domNode,(0,b.$)("hr.tokens-inspect-separator")),C<y.tokens1.length&&(0,b.R3)(this._domNode,(0,b.$)("span.tm-token-type",void 0,y.tokens1[C].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(g){const y=c.RW.getColorMap(),C=_.N.getLanguageId(g),E=_.N.getTokenType(g),A=_.N.getFontStyle(g),N=_.N.getForeground(g),B=_.N.getBackground(g);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(C),tokenType:E,fontStyle:A,foreground:y[N],background:y[B]}}_tokenTypeToString(g){switch(g){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(g){let y="";return g&1&&(y+="italic "),g&2&&(y+="bold "),g&4&&(y+="underline "),g&8&&(y+="strikethrough "),y.length===0&&(y="---"),y}_getTokensAtLine(g){const y=this._getStateBeforeLine(g),C=this._tokenizationSupport.tokenize(this._model.getLineContent(g),!0,y),E=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(g),!0,y);return{startState:y,tokens1:C.tokens,tokens2:E.tokens,endState:C.endState}}_getStateBeforeLine(g){let y=this._tokenizationSupport.getInitialState();for(let C=1;C<g;C++)y=this._tokenizationSupport.tokenize(this._model.getLineContent(C),!0,y).endState;return y}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}a._ID="editor.contrib.inspectTokensWidget",(0,w._K)(n.ID,n,4),(0,w.Qr)(i)},94347:function(Ot,Ke,e){"use strict";var b=e(89872),U=e(90725),r=e(20913),w=e(11640),c=e(21212),_=e(9488),I=e(98401),M=e(63580);function D(pe,Pe){return Pe&&(pe.stack||pe.stacktrace)?M.NC("stackTrace.format","{0}: {1}",o(pe),p(pe.stack)||p(pe.stacktrace)):o(pe)}function p(pe){return Array.isArray(pe)?pe.join(`
`):pe}function o(pe){return pe.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${pe.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof pe.code=="string"&&typeof pe.errno=="number"&&typeof pe.syscall=="string"?M.NC("nodeExceptionMessage","A system error occurred ({0})",pe.message):pe.message||M.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function u(pe=null,Pe=!1){if(!pe)return M.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(pe)){const Ne=_.kX(pe),ae=u(Ne[0],Pe);return Ne.length>1?M.NC("error.moreErrors","{0} ({1} errors in total)",ae,Ne.length):ae}if(I.HD(pe))return pe;if(pe.detail){const Ne=pe.detail;if(Ne.error)return D(Ne.error,Pe);if(Ne.exception)return D(Ne.exception,Pe)}return pe.stack?D(pe,Pe):pe.message?pe.message:M.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var d=e(17301),n=e(60075),i=e(88289),f=e(5976),v=e(43702);function a(pe){var Pe;const Ne=new Map;for(const ae of pe)Ne.set(ae,((Pe=Ne.get(ae))!==null&&Pe!==void 0?Pe:0)+1);return Ne}class S{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(Pe,Ne){const ae=this.computeEmbedding(Pe),Me=new Map,ke=[];for(const[Ue,Le]of this.documents){if(Ne.isCancellationRequested)return[];for(const ie of Le.chunks){const ce=this.computeSimilarityScore(ie,ae,Me);ce>0&&ke.push({key:Ue,score:ce})}}return ke}static termFrequencies(Pe){return a(S.splitTerms(Pe))}static*splitTerms(Pe){const Ne=ae=>ae.toLowerCase();for(const[ae]of Pe.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield Ne(ae);const Me=ae.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(Me.length>1)for(const ke of Me)ke.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(ke)&&(yield Ne(ke))}}updateDocuments(Pe){var Ne;for(const{key:ae}of Pe)this.deleteDocument(ae);for(const ae of Pe){const Me=[];for(const ke of ae.textChunks){const Ue=S.termFrequencies(ke);for(const Le of Ue.keys())this.chunkOccurrences.set(Le,((Ne=this.chunkOccurrences.get(Le))!==null&&Ne!==void 0?Ne:0)+1);Me.push({text:ke,tf:Ue})}this.chunkCount+=Me.length,this.documents.set(ae.key,{chunks:Me})}return this}deleteDocument(Pe){const Ne=this.documents.get(Pe);if(Ne){this.documents.delete(Pe),this.chunkCount-=Ne.chunks.length;for(const ae of Ne.chunks)for(const Me of ae.tf.keys()){const ke=this.chunkOccurrences.get(Me);if(typeof ke=="number"){const Ue=ke-1;Ue<=0?this.chunkOccurrences.delete(Me):this.chunkOccurrences.set(Me,Ue)}}}}computeSimilarityScore(Pe,Ne,ae){let Me=0;for(const[ke,Ue]of Object.entries(Ne)){const Le=Pe.tf.get(ke);if(!Le)continue;let ie=ae.get(ke);typeof ie!="number"&&(ie=this.computeIdf(ke),ae.set(ke,ie));const ce=Le*ie;Me+=ce*Ue}return Me}computeEmbedding(Pe){const Ne=S.termFrequencies(Pe);return this.computeTfidf(Ne)}computeIdf(Pe){var Ne;const ae=(Ne=this.chunkOccurrences.get(Pe))!==null&&Ne!==void 0?Ne:0;return ae>0?Math.log((this.chunkCount+1)/ae):0}computeTfidf(Pe){const Ne=Object.create(null);for(const[ae,Me]of Pe){const ke=this.computeIdf(ae);ke>0&&(Ne[ae]=Me*ke)}return Ne}}function g(pe){var Pe,Ne;const ae=pe.slice(0);ae.sort((ke,Ue)=>Ue.score-ke.score);const Me=(Ne=(Pe=ae[0])===null||Pe===void 0?void 0:Pe.score)!==null&&Ne!==void 0?Ne:0;if(Me>0)for(const ke of ae)ke.score/=Me;return ae}var y=e(94565),C=e(33108),E=e(28820),A=e(72065),N=e(91847),B=e(15393),W=e(71050),$;(function(pe){pe[pe.NO_ACTION=0]="NO_ACTION",pe[pe.CLOSE_PICKER=1]="CLOSE_PICKER",pe[pe.REFRESH_PICKER=2]="REFRESH_PICKER",pe[pe.REMOVE_ITEM=3]="REMOVE_ITEM"})($||($={}));function Y(pe){const Pe=pe;return Array.isArray(Pe.items)}function R(pe){const Pe=pe;return!!Pe.picks&&Pe.additionalPicks instanceof Promise}class L extends f.JT{constructor(Pe,Ne){super(),this.prefix=Pe,this.options=Ne}provide(Pe,Ne,ae){var Me;const ke=new f.SL;Pe.canAcceptInBackground=!!(!((Me=this.options)===null||Me===void 0)&&Me.canAcceptInBackground),Pe.matchOnLabel=Pe.matchOnDescription=Pe.matchOnDetail=Pe.sortByLabel=!1;let Ue;const Le=ke.add(new f.XK),ie=()=>tn(this,null,function*(){const ce=Le.value=new f.SL;Ue==null||Ue.dispose(!0),Pe.busy=!1,Ue=new W.A(Ne);const Re=Ue.token,ye=Pe.value.substr(this.prefix.length).trim(),Se=this._getPicks(ye,ce,Re,ae),me=(se,ve)=>{var xe;let je,Oe;if(Y(se)?(je=se.items,Oe=se.active):je=se,je.length===0){if(ve)return!1;(ye.length>0||Pe.hideInput)&&(!((xe=this.options)===null||xe===void 0)&&xe.noResultsPick)&&((0,I.mf)(this.options.noResultsPick)?je=[this.options.noResultsPick(ye)]:je=[this.options.noResultsPick])}return Pe.items=je,Oe&&(Pe.activeItems=[Oe]),!0},he=se=>tn(this,null,function*(){let ve=!1,xe=!1;yield Promise.all([(()=>tn(this,null,function*(){typeof se.mergeDelay=="number"&&(yield(0,B.Vs)(se.mergeDelay),Re.isCancellationRequested)||xe||(ve=me(se.picks,!0))}))(),(()=>tn(this,null,function*(){Pe.busy=!0;try{const je=yield se.additionalPicks;if(Re.isCancellationRequested)return;let Oe,Ze;Y(se.picks)?(Oe=se.picks.items,Ze=se.picks.active):Oe=se.picks;let it,Et;if(Y(je)?(it=je.items,Et=je.active):it=je,it.length>0||!ve){let st;if(!Ze&&!Et){const pt=Pe.activeItems[0];pt&&Oe.indexOf(pt)!==-1&&(st=pt)}me({items:[...Oe,...it],active:Ze||Et||st})}}finally{Re.isCancellationRequested||(Pe.busy=!1),xe=!0}}))()])});if(Se!==null)if(R(Se))yield he(Se);else if(!(Se instanceof Promise))me(Se);else{Pe.busy=!0;try{const se=yield Se;if(Re.isCancellationRequested)return;R(se)?yield he(se):me(se)}finally{Re.isCancellationRequested||(Pe.busy=!1)}}});return ke.add(Pe.onDidChangeValue(()=>ie())),ie(),ke.add(Pe.onDidAccept(ce=>{const[Re]=Pe.selectedItems;typeof(Re==null?void 0:Re.accept)=="function"&&(ce.inBackground||Pe.hide(),Re.accept(Pe.keyMods,ce))})),ke.add(Pe.onDidTriggerItemButton(ye=>tn(this,[ye],function*({button:ce,item:Re}){var Se,me;if(typeof Re.trigger=="function"){const he=(me=(Se=Re.buttons)===null||Se===void 0?void 0:Se.indexOf(ce))!==null&&me!==void 0?me:-1;if(he>=0){const se=Re.trigger(he,Pe.keyMods),ve=typeof se=="number"?se:yield se;if(Ne.isCancellationRequested)return;switch(ve){case $.NO_ACTION:break;case $.CLOSE_PICKER:Pe.hide();break;case $.REFRESH_PICKER:ie();break;case $.REMOVE_ITEM:{const xe=Pe.items.indexOf(Re);if(xe!==-1){const je=Pe.items.slice(),Oe=je.splice(xe,1),Ze=Pe.activeItems.filter(Et=>Et!==Oe[0]),it=Pe.keepScrollPosition;Pe.keepScrollPosition=!0,Pe.items=je,Ze&&(Pe.activeItems=Ze),Pe.keepScrollPosition=it}break}}}}}))),ke}}var z=e(87060),O=e(10829),P=function(pe,Pe,Ne,ae){var Me=arguments.length,ke=Me<3?Pe:ae===null?ae=Object.getOwnPropertyDescriptor(Pe,Ne):ae,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(pe,Pe,Ne,ae);else for(var Le=pe.length-1;Le>=0;Le--)(Ue=pe[Le])&&(ke=(Me<3?Ue(ke):Me>3?Ue(Pe,Ne,ke):Ue(Pe,Ne))||ke);return Me>3&&ke&&Object.defineProperty(Pe,Ne,ke),ke},H=function(pe,Pe){return function(Ne,ae){Pe(Ne,ae,pe)}},V,G;let j=V=class extends L{constructor(Pe,Ne,ae,Me,ke,Ue){super(V.PREFIX,Pe),this.instantiationService=Ne,this.keybindingService=ae,this.commandService=Me,this.telemetryService=ke,this.dialogService=Ue,this.commandsHistory=this._register(this.instantiationService.createInstance(F)),this.options=Pe}_getPicks(Pe,Ne,ae,Me){return tn(this,null,function*(){var ke,Ue,Le,ie;const ce=yield this.getCommandPicks(ae);if(ae.isCancellationRequested)return[];const Re=(0,i.M)(()=>{const xe=new S;xe.updateDocuments(ce.map(Oe=>({key:Oe.commandId,textChunks:[this.getTfIdfChunk(Oe)]})));const je=xe.calculateScores(Pe,ae);return g(je).filter(Oe=>Oe.score>V.TFIDF_THRESHOLD).slice(0,V.TFIDF_MAX_RESULTS)}),ye=[];for(const xe of ce){const je=(ke=V.WORD_FILTER(Pe,xe.label))!==null&&ke!==void 0?ke:void 0,Oe=xe.commandAlias&&(Ue=V.WORD_FILTER(Pe,xe.commandAlias))!==null&&Ue!==void 0?Ue:void 0;if(je||Oe)xe.highlights={label:je,detail:this.options.showAlias?Oe:void 0},ye.push(xe);else if(Pe===xe.commandId)ye.push(xe);else if(Pe.length>=3){const Ze=Re();if(ae.isCancellationRequested)return[];const it=Ze.find(Et=>Et.key===xe.commandId);it&&(xe.tfIdfScore=it.score,ye.push(xe))}}const Se=new Map;for(const xe of ye){const je=Se.get(xe.label);je?(xe.description=xe.commandId,je.description=je.commandId):Se.set(xe.label,xe)}ye.sort((xe,je)=>{if(xe.tfIdfScore&&je.tfIdfScore)return xe.tfIdfScore===je.tfIdfScore?xe.label.localeCompare(je.label):je.tfIdfScore-xe.tfIdfScore;if(xe.tfIdfScore)return 1;if(je.tfIdfScore)return-1;const Oe=this.commandsHistory.peek(xe.commandId),Ze=this.commandsHistory.peek(je.commandId);if(Oe&&Ze)return Oe>Ze?-1:1;if(Oe)return-1;if(Ze)return 1;if(this.options.suggestedCommandIds){const it=this.options.suggestedCommandIds.has(xe.commandId),Et=this.options.suggestedCommandIds.has(je.commandId);if(it&&Et)return 0;if(it)return-1;if(Et)return 1}return xe.label.localeCompare(je.label)});const me=[];let he=!1,se=!0,ve=!!this.options.suggestedCommandIds;for(let xe=0;xe<ye.length;xe++){const je=ye[xe];xe===0&&this.commandsHistory.peek(je.commandId)&&(me.push({type:"separator",label:(0,M.NC)("recentlyUsed","recently used")}),he=!0),se&&je.tfIdfScore!==void 0&&(me.push({type:"separator",label:(0,M.NC)("suggested","similar commands")}),se=!1),ve&&je.tfIdfScore===void 0&&!this.commandsHistory.peek(je.commandId)&&(!((Le=this.options.suggestedCommandIds)===null||Le===void 0)&&Le.has(je.commandId))&&(me.push({type:"separator",label:(0,M.NC)("commonlyUsed","commonly used")}),he=!0,ve=!1),he&&je.tfIdfScore===void 0&&!this.commandsHistory.peek(je.commandId)&&!(!((ie=this.options.suggestedCommandIds)===null||ie===void 0)&&ie.has(je.commandId))&&(me.push({type:"separator",label:(0,M.NC)("morecCommands","other commands")}),he=!1),me.push(this.toCommandPick(je,Me))}return this.hasAdditionalCommandPicks(Pe,ae)?{picks:me,additionalPicks:(()=>tn(this,null,function*(){var xe;const je=yield this.getAdditionalCommandPicks(ce,ye,Pe,ae);if(ae.isCancellationRequested)return[];const Oe=je.map(Ze=>this.toCommandPick(Ze,Me));return se&&((xe=Oe[0])===null||xe===void 0?void 0:xe.type)!=="separator"&&Oe.unshift({type:"separator",label:(0,M.NC)("suggested","similar commands")}),Oe}))()}:me})}toCommandPick(Pe,Ne){if(Pe.type==="separator")return Pe;const ae=this.keybindingService.lookupKeybinding(Pe.commandId),Me=ae?(0,M.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",Pe.label,ae.getAriaLabel()):Pe.label;return Ni(Xn({},Pe),{ariaLabel:Me,detail:this.options.showAlias&&Pe.commandAlias!==Pe.label?Pe.commandAlias:void 0,keybinding:ae,accept:()=>tn(this,null,function*(){var ke,Ue;this.commandsHistory.push(Pe.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Pe.commandId,from:(ke=Ne==null?void 0:Ne.from)!==null&&ke!==void 0?ke:"quick open"});try{!((Ue=Pe.args)===null||Ue===void 0)&&Ue.length?yield this.commandService.executeCommand(Pe.commandId,...Pe.args):yield this.commandService.executeCommand(Pe.commandId)}catch(Le){(0,d.n2)(Le)||this.dialogService.error((0,M.NC)("canNotRun","Command '{0}' resulted in an error",Pe.label),u(Le))}})})}getTfIdfChunk({label:Pe,commandAlias:Ne,commandDescription:ae}){let Me=Pe;return Ne&&Ne!==Pe&&(Me+=` - ${Ne}`),ae&&ae.value!==Pe&&(Me+=` - ${ae.value===ae.original?ae.value:`${ae.value} (${ae.original})`}`),Me}};j.PREFIX=">",j.TFIDF_THRESHOLD=.5,j.TFIDF_MAX_RESULTS=5,j.WORD_FILTER=(0,n.or)(n.Ji,n.KZ,n.ir),j=V=P([H(1,A.TG),H(2,N.d),H(3,y.H),H(4,O.b),H(5,E.S)],j);let F=G=class extends f.JT{constructor(Pe,Ne){super(),this.storageService=Pe,this.configurationService=Ne,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Pe=>this.updateConfiguration(Pe))),this._register(this.storageService.onWillSaveState(Pe=>{Pe.reason===z.fk.SHUTDOWN&&this.saveState()}))}updateConfiguration(Pe){Pe&&!Pe.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=G.getConfiguredCommandHistoryLength(this.configurationService),G.cache&&G.cache.limit!==this.configuredCommandsHistoryLength&&(G.cache.limit=this.configuredCommandsHistoryLength,G.hasChanges=!0))}load(){const Pe=this.storageService.get(G.PREF_KEY_CACHE,0);let Ne;if(Pe)try{Ne=JSON.parse(Pe)}catch(Me){}const ae=G.cache=new v.z6(this.configuredCommandsHistoryLength,1);if(Ne){let Me;Ne.usesLRU?Me=Ne.entries:Me=Ne.entries.sort((ke,Ue)=>ke.value-Ue.value),Me.forEach(ke=>ae.set(ke.key,ke.value))}G.counter=this.storageService.getNumber(G.PREF_KEY_COUNTER,0,G.counter)}push(Pe){G.cache&&(G.cache.set(Pe,G.counter++),G.hasChanges=!0)}peek(Pe){var Ne;return(Ne=G.cache)===null||Ne===void 0?void 0:Ne.peek(Pe)}saveState(){if(!G.cache||!G.hasChanges)return;const Pe={usesLRU:!0,entries:[]};G.cache.forEach((Ne,ae)=>Pe.entries.push({key:ae,value:Ne})),this.storageService.store(G.PREF_KEY_CACHE,JSON.stringify(Pe),0,0),this.storageService.store(G.PREF_KEY_COUNTER,G.counter,0,0),G.hasChanges=!1}static getConfiguredCommandHistoryLength(Pe){var Ne,ae;const ke=(ae=(Ne=Pe.getValue().workbench)===null||Ne===void 0?void 0:Ne.commandPalette)===null||ae===void 0?void 0:ae.history;return typeof ke=="number"?ke:G.DEFAULT_COMMANDS_HISTORY_LENGTH}};F.DEFAULT_COMMANDS_HISTORY_LENGTH=50,F.PREF_KEY_CACHE="commandPalette.mru.cache",F.PREF_KEY_COUNTER="commandPalette.mru.counter",F.counter=1,F.hasChanges=!1,F=G=P([H(0,z.Uy),H(1,C.Ui)],F);class K extends j{constructor(Pe,Ne,ae,Me,ke,Ue){super(Pe,Ne,ae,Me,ke,Ue)}getCodeEditorCommandPicks(){const Pe=this.activeTextEditorControl;if(!Pe)return[];const Ne=[];for(const ae of Pe.getSupportedActions())Ne.push({commandId:ae.id,commandAlias:ae.alias,label:(0,c.x$)(ae.label)||ae.id});return Ne}}var m=e(16830),J=e(29102),X=e(41157),te=function(pe,Pe,Ne,ae){var Me=arguments.length,ke=Me<3?Pe:ae===null?ae=Object.getOwnPropertyDescriptor(Pe,Ne):ae,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(pe,Pe,Ne,ae);else for(var Le=pe.length-1;Le>=0;Le--)(Ue=pe[Le])&&(ke=(Me<3?Ue(ke):Me>3?Ue(Pe,Ne,ke):Ue(Pe,Ne))||ke);return Me>3&&ke&&Object.defineProperty(Pe,Ne,ke),ke},le=function(pe,Pe){return function(Ne,ae){Pe(Ne,ae,pe)}};let ge=class extends K{get activeTextEditorControl(){var Pe;return(Pe=this.codeEditorService.getFocusedCodeEditor())!==null&&Pe!==void 0?Pe:void 0}constructor(Pe,Ne,ae,Me,ke,Ue){super({showAlias:!1},Pe,ae,Me,ke,Ue),this.codeEditorService=Ne}getCommandPicks(){return tn(this,null,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return tn(this,null,function*(){return[]})}};ge=te([le(0,A.TG),le(1,w.$),le(2,N.d),le(3,y.H),le(4,O.b),le(5,E.S)],ge);class we extends m.R6{constructor(){super({id:we.ID,label:r.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:J.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(Pe){Pe.get(X.eJ).quickAccess.show(ge.PREFIX)}}we.ID="editor.action.quickCommand",(0,m.Qr)(we),b.B.as(U.IP.Quickaccess).registerQuickAccessProvider({ctor:ge,prefix:ge.PREFIX,helpEntries:[{description:r.UX.quickCommandHelp,commandId:we.ID}]})},62078:function(Ot,Ke,e){"use strict";var b=e(5976),U=e(65520),r=e(83943),w=e(63580);class c extends r.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(S){const g=(0,w.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return S.items=[{label:g}],S.ariaLabel=g,b.JT.None}provideWithTextEditor(S,g,y){const C=S.editor,E=new b.SL;E.add(g.onDidAccept(B=>{const[W]=g.selectedItems;if(W){if(!this.isValidLineNumber(C,W.lineNumber))return;this.gotoLocation(S,{range:this.toRange(W.lineNumber,W.column),keyMods:g.keyMods,preserveFocus:B.inBackground}),B.inBackground||g.hide()}}));const A=()=>{const B=this.parsePosition(C,g.value.trim().substr(c.PREFIX.length)),W=this.getPickLabel(C,B.lineNumber,B.column);if(g.items=[{lineNumber:B.lineNumber,column:B.column,label:W}],g.ariaLabel=W,!this.isValidLineNumber(C,B.lineNumber)){this.clearDecorations(C);return}const $=this.toRange(B.lineNumber,B.column);C.revealRangeInCenter($,0),this.addDecorations(C,$)};A(),E.add(g.onDidChangeValue(()=>A()));const N=(0,U.Pi)(C);return N&&N.getOptions().get(67).renderType===2&&(N.updateOptions({lineNumbers:"on"}),E.add((0,b.OF)(()=>N.updateOptions({lineNumbers:"relative"})))),E}toRange(S=1,g=1){return{startLineNumber:S,startColumn:g,endLineNumber:S,endColumn:g}}parsePosition(S,g){const y=g.split(/,|:|#/).map(E=>parseInt(E,10)).filter(E=>!isNaN(E)),C=this.lineCount(S)+1;return{lineNumber:y[0]>0?y[0]:C+y[0],column:y[1]}}getPickLabel(S,g,y){if(this.isValidLineNumber(S,g))return this.isValidColumn(S,g,y)?(0,w.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",g,y):(0,w.NC)("gotoLineLabel","Go to line {0}.",g);const C=S.getPosition()||{lineNumber:1,column:1},E=this.lineCount(S);return E>1?(0,w.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",C.lineNumber,C.column,E):(0,w.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",C.lineNumber,C.column)}isValidLineNumber(S,g){return!g||typeof g!="number"?!1:g>0&&g<=this.lineCount(S)}isValidColumn(S,g,y){if(!y||typeof y!="number")return!1;const C=this.getModel(S);if(!C)return!1;const E={lineNumber:g,column:y};return C.validatePosition(E).equals(E)}lineCount(S){var g,y;return(y=(g=this.getModel(S))===null||g===void 0?void 0:g.getLineCount())!==null&&y!==void 0?y:0}}c.PREFIX=":";var _=e(89872),I=e(90725),M=e(11640),D=e(20913),p=e(4669),o=e(16830),u=e(29102),d=e(41157),n=function(a,S,g,y){var C=arguments.length,E=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,S,g,y);else for(var N=a.length-1;N>=0;N--)(A=a[N])&&(E=(C<3?A(E):C>3?A(S,g,E):A(S,g))||E);return C>3&&E&&Object.defineProperty(S,g,E),E},i=function(a,S){return function(g,y){S(g,y,a)}};let f=class extends c{constructor(S){super(),this.editorService=S,this.onDidActiveTextEditorControlChange=p.ju.None}get activeTextEditorControl(){var S;return(S=this.editorService.getFocusedCodeEditor())!==null&&S!==void 0?S:void 0}};f=n([i(0,M.$)],f);class v extends o.R6{constructor(){super({id:v.ID,label:D.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(S){S.get(d.eJ).quickAccess.show(f.PREFIX)}}v.ID="editor.action.gotoLine",(0,o.Qr)(v),_.B.as(I.IP.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:f.PREFIX,helpEntries:[{description:D.qq.gotoLineActionLabel,commandId:v.ID}]})},96816:function(Ot,Ke,e){"use strict";var b=e(15375),U=e(34066),r=e(15393),w=e(71050),c=e(73046),_=e(25670),I=e(60075),M=e(82663),D=e(1432),p=e(97295);const o=[void 0,[]];function u(Pe,Ne,ae=0,Me=0){const ke=Ne;return ke.values&&ke.values.length>1?d(Pe,ke.values,ae,Me):n(Pe,Ne,ae,Me)}function d(Pe,Ne,ae,Me){let ke=0;const Ue=[];for(const Le of Ne){const[ie,ce]=n(Pe,Le,ae,Me);if(typeof ie!="number")return o;ke+=ie,Ue.push(...ce)}return[ke,f(Ue)]}function n(Pe,Ne,ae,Me){const ke=(0,I.EW)(Ne.original,Ne.originalLowercase,ae,Pe,Pe.toLowerCase(),Me,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ke?[ke[0],(0,I.mB)(ke)]:o}const i=Object.freeze({score:0});function f(Pe){const Ne=Pe.sort((ke,Ue)=>ke.start-Ue.start),ae=[];let Me;for(const ke of Ne)!Me||!v(Me,ke)?(Me=ke,ae.push(ke)):(Me.start=Math.min(Me.start,ke.start),Me.end=Math.max(Me.end,ke.end));return ae}function v(Pe,Ne){return!(Pe.end<Ne.start||Ne.end<Pe.start)}function a(Pe){return Pe.startsWith('"')&&Pe.endsWith('"')}const S=" ";function g(Pe){typeof Pe!="string"&&(Pe="");const Ne=Pe.toLowerCase(),{pathNormalized:ae,normalized:Me,normalizedLowercase:ke}=y(Pe),Ue=ae.indexOf(M.ir)>=0,Le=a(Pe);let ie;const ce=Pe.split(S);if(ce.length>1)for(const Re of ce){const ye=a(Re),{pathNormalized:Se,normalized:me,normalizedLowercase:he}=y(Re);me&&(ie||(ie=[]),ie.push({original:Re,originalLowercase:Re.toLowerCase(),pathNormalized:Se,normalized:me,normalizedLowercase:he,expectContiguousMatch:ye}))}return{original:Pe,originalLowercase:Ne,pathNormalized:ae,normalized:Me,normalizedLowercase:ke,values:ie,containsPathSeparator:Ue,expectContiguousMatch:Le}}function y(Pe){let Ne;D.ED?Ne=Pe.replace(/\//g,M.ir):Ne=Pe.replace(/\\/g,M.ir);const ae=(0,p.R1)(Ne).replace(/\s|"/g,"");return{pathNormalized:Ne,normalized:ae,normalizedLowercase:ae.toLowerCase()}}function C(Pe){return Array.isArray(Pe)?g(Pe.map(Ne=>Ne.original).join(S)):g(Pe.original)}var E=e(5976),A=e(24314),N=e(43155),B=e(30335),W=e(83943),$=e(63580),Y=e(71922),R=e(35534),L=function(Pe,Ne,ae,Me){var ke=arguments.length,Ue=ke<3?Ne:Me===null?Me=Object.getOwnPropertyDescriptor(Ne,ae):Me,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ue=Reflect.decorate(Pe,Ne,ae,Me);else for(var ie=Pe.length-1;ie>=0;ie--)(Le=Pe[ie])&&(Ue=(ke<3?Le(Ue):ke>3?Le(Ne,ae,Ue):Le(Ne,ae))||Ue);return ke>3&&Ue&&Object.defineProperty(Ne,ae,Ue),Ue},z=function(Pe,Ne){return function(ae,Me){Ne(ae,Me,Pe)}},O;let P=O=class extends W.X{constructor(Ne,ae,Me=Object.create(null)){super(Me),this._languageFeaturesService=Ne,this._outlineModelService=ae,this.options=Me,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(Ne){return this.provideLabelPick(Ne,(0,$.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),E.JT.None}provideWithTextEditor(Ne,ae,Me){const ke=Ne.editor,Ue=this.getModel(ke);return Ue?this._languageFeaturesService.documentSymbolProvider.has(Ue)?this.doProvideWithEditorSymbols(Ne,Ue,ae,Me):this.doProvideWithoutEditorSymbols(Ne,Ue,ae,Me):E.JT.None}doProvideWithoutEditorSymbols(Ne,ae,Me,ke){const Ue=new E.SL;return this.provideLabelPick(Me,(0,$.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),tn(this,null,function*(){!(yield this.waitForLanguageSymbolRegistry(ae,Ue))||ke.isCancellationRequested||Ue.add(this.doProvideWithEditorSymbols(Ne,ae,Me,ke))}),Ue}provideLabelPick(Ne,ae){Ne.items=[{label:ae,index:0,kind:14}],Ne.ariaLabel=ae}waitForLanguageSymbolRegistry(Ne,ae){return tn(this,null,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(Ne))return!0;const Me=new r.CR,ke=ae.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(Ne)&&(ke.dispose(),Me.complete(!0))}));return ae.add((0,E.OF)(()=>Me.complete(!1))),Me.p})}doProvideWithEditorSymbols(Ne,ae,Me,ke){var Ue;const Le=Ne.editor,ie=new E.SL;ie.add(Me.onDidAccept(Se=>{const[me]=Me.selectedItems;me&&me.range&&(this.gotoLocation(Ne,{range:me.range.selection,keyMods:Me.keyMods,preserveFocus:Se.inBackground}),Se.inBackground||Me.hide())})),ie.add(Me.onDidTriggerItemButton(({item:Se})=>{Se&&Se.range&&(this.gotoLocation(Ne,{range:Se.range.selection,keyMods:Me.keyMods,forceSideBySide:!0}),Me.hide())}));const ce=this.getDocumentSymbols(ae,ke);let Re;const ye=Se=>tn(this,null,function*(){Re==null||Re.dispose(!0),Me.busy=!1,Re=new w.A(ke),Me.busy=!0;try{const me=g(Me.value.substr(O.PREFIX.length).trim()),he=yield this.doGetSymbolPicks(ce,me,void 0,Re.token);if(ke.isCancellationRequested)return;if(he.length>0){if(Me.items=he,Se&&me.original.length===0){const se=(0,R.dF)(he,ve=>!!(ve.type!=="separator"&&ve.range&&A.e.containsPosition(ve.range.decoration,Se)));se&&(Me.activeItems=[se])}}else me.original.length>0?this.provideLabelPick(Me,(0,$.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(Me,(0,$.NC)("noSymbolResults","No editor symbols"))}finally{ke.isCancellationRequested||(Me.busy=!1)}});return ie.add(Me.onDidChangeValue(()=>ye(void 0))),ye((Ue=Le.getSelection())===null||Ue===void 0?void 0:Ue.getPosition()),ie.add(Me.onDidChangeActive(()=>{const[Se]=Me.activeItems;Se&&Se.range&&(Le.revealRangeInCenter(Se.range.selection,0),this.addDecorations(Le,Se.range.decoration))})),ie}doGetSymbolPicks(Ne,ae,Me,ke){return tn(this,null,function*(){var Ue,Le;const ie=yield Ne;if(ke.isCancellationRequested)return[];const ce=ae.original.indexOf(O.SCOPE_PREFIX)===0,Re=ce?1:0;let ye,Se;ae.values&&ae.values.length>1?(ye=C(ae.values[0]),Se=C(ae.values.slice(1))):ye=ae;let me;const he=(Le=(Ue=this.options)===null||Ue===void 0?void 0:Ue.openSideBySideDirection)===null||Le===void 0?void 0:Le.call(Ue);he&&(me=[{iconClass:he==="right"?_.k.asClassName(c.l.splitHorizontal):_.k.asClassName(c.l.splitVertical),tooltip:he==="right"?(0,$.NC)("openToSide","Open to the Side"):(0,$.NC)("openToBottom","Open to the Bottom")}]);const se=[];for(let je=0;je<ie.length;je++){const Oe=ie[je],Ze=(0,p.fy)(Oe.name),it=`$(${N.uZ.toIcon(Oe.kind).id}) ${Ze}`,Et=it.length-Ze.length;let st=Oe.containerName;Me!=null&&Me.extraContainerLabel&&(st?st=`${Me.extraContainerLabel} \u2022 ${st}`:st=Me.extraContainerLabel);let pt,Mt,qt,Ft;if(ae.original.length>Re){let _t=!1;if(ye!==ae&&([pt,Mt]=u(it,Ni(Xn({},ae),{values:void 0}),Re,Et),typeof pt=="number"&&(_t=!0)),typeof pt!="number"&&([pt,Mt]=u(it,ye,Re,Et),typeof pt!="number"))continue;if(!_t&&Se){if(st&&Se.original.length>0&&([qt,Ft]=u(st,Se)),typeof qt!="number")continue;typeof pt=="number"&&(pt+=qt)}}const Xt=Oe.tags&&Oe.tags.indexOf(1)>=0;se.push({index:je,kind:Oe.kind,score:pt,label:it,ariaLabel:(0,N.R4)(Oe.name,Oe.kind),description:st,highlights:Xt?void 0:{label:Mt,description:Ft},range:{selection:A.e.collapseToStart(Oe.selectionRange),decoration:Oe.range},strikethrough:Xt,buttons:me})}const ve=se.sort((je,Oe)=>ce?this.compareByKindAndScore(je,Oe):this.compareByScore(je,Oe));let xe=[];if(ce){let it=function(){Oe&&typeof je=="number"&&Ze>0&&(Oe.label=(0,p.WU)(V[je]||H,Ze))},je,Oe,Ze=0;for(const Et of ve)je!==Et.kind?(it(),je=Et.kind,Ze=1,Oe={type:"separator"},xe.push(Oe)):Ze++,xe.push(Et);it()}else ve.length>0&&(xe=[{label:(0,$.NC)("symbols","symbols ({0})",se.length),type:"separator"},...ve]);return xe})}compareByScore(Ne,ae){if(typeof Ne.score!="number"&&typeof ae.score=="number")return 1;if(typeof Ne.score=="number"&&typeof ae.score!="number")return-1;if(typeof Ne.score=="number"&&typeof ae.score=="number"){if(Ne.score>ae.score)return-1;if(Ne.score<ae.score)return 1}return Ne.index<ae.index?-1:Ne.index>ae.index?1:0}compareByKindAndScore(Ne,ae){const Me=V[Ne.kind]||H,ke=V[ae.kind]||H,Ue=Me.localeCompare(ke);return Ue===0?this.compareByScore(Ne,ae):Ue}getDocumentSymbols(Ne,ae){return tn(this,null,function*(){const Me=yield this._outlineModelService.getOrCreate(Ne,ae);return ae.isCancellationRequested?[]:Me.asListOfDocumentSymbols()})}};P.PREFIX="@",P.SCOPE_PREFIX=":",P.PREFIX_BY_CATEGORY=`${O.PREFIX}${O.SCOPE_PREFIX}`,P=O=L([z(0,Y.p),z(1,B.Je)],P);const H=(0,$.NC)("property","properties ({0})"),V={[5]:(0,$.NC)("method","methods ({0})"),[11]:(0,$.NC)("function","functions ({0})"),[8]:(0,$.NC)("_constructor","constructors ({0})"),[12]:(0,$.NC)("variable","variables ({0})"),[4]:(0,$.NC)("class","classes ({0})"),[22]:(0,$.NC)("struct","structs ({0})"),[23]:(0,$.NC)("event","events ({0})"),[24]:(0,$.NC)("operator","operators ({0})"),[10]:(0,$.NC)("interface","interfaces ({0})"),[2]:(0,$.NC)("namespace","namespaces ({0})"),[3]:(0,$.NC)("package","packages ({0})"),[25]:(0,$.NC)("typeParameter","type parameters ({0})"),[1]:(0,$.NC)("modules","modules ({0})"),[6]:(0,$.NC)("property","properties ({0})"),[9]:(0,$.NC)("enum","enumerations ({0})"),[21]:(0,$.NC)("enumMember","enumeration members ({0})"),[14]:(0,$.NC)("string","strings ({0})"),[0]:(0,$.NC)("file","files ({0})"),[17]:(0,$.NC)("array","arrays ({0})"),[15]:(0,$.NC)("number","numbers ({0})"),[16]:(0,$.NC)("boolean","booleans ({0})"),[18]:(0,$.NC)("object","objects ({0})"),[19]:(0,$.NC)("key","keys ({0})"),[7]:(0,$.NC)("field","fields ({0})"),[13]:(0,$.NC)("constant","constants ({0})")};var G=e(89872),j=e(90725),F=e(11640),K=e(20913),m=e(4669),J=e(16830),X=e(29102),te=e(41157),le=function(Pe,Ne,ae,Me){var ke=arguments.length,Ue=ke<3?Ne:Me===null?Me=Object.getOwnPropertyDescriptor(Ne,ae):Me,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ue=Reflect.decorate(Pe,Ne,ae,Me);else for(var ie=Pe.length-1;ie>=0;ie--)(Le=Pe[ie])&&(Ue=(ke<3?Le(Ue):ke>3?Le(Ne,ae,Ue):Le(Ne,ae))||Ue);return ke>3&&Ue&&Object.defineProperty(Ne,ae,Ue),Ue},ge=function(Pe,Ne){return function(ae,Me){Ne(ae,Me,Pe)}};let we=class extends P{constructor(Ne,ae,Me){super(ae,Me),this.editorService=Ne,this.onDidActiveTextEditorControlChange=m.ju.None}get activeTextEditorControl(){var Ne;return(Ne=this.editorService.getFocusedCodeEditor())!==null&&Ne!==void 0?Ne:void 0}};we=le([ge(0,F.$),ge(1,Y.p),ge(2,B.Je)],we);class pe extends J.R6{constructor(){super({id:pe.ID,label:K.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:X.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:X.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Ne){Ne.get(te.eJ).quickAccess.show(P.PREFIX,{itemActivation:te.jG.NONE})}}pe.ID="editor.action.quickOutline",(0,J.Qr)(pe),G.B.as(j.IP.Quickaccess).registerQuickAccessProvider({ctor:we,prefix:P.PREFIX,helpEntries:[{description:K.aq.quickOutlineActionLabel,prefix:P.PREFIX,commandId:pe.ID},{description:K.aq.quickOutlineByCategoryActionLabel,prefix:P.PREFIX_BY_CATEGORY}]})},60669:function(Ot,Ke,e){"use strict";var b=e(89872),U=e(90725),r=e(20913),w=e(63580),c=e(5976),_=e(91847),I=e(41157),M=function(u,d,n,i){var f=arguments.length,v=f<3?d:i===null?i=Object.getOwnPropertyDescriptor(d,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(u,d,n,i);else for(var S=u.length-1;S>=0;S--)(a=u[S])&&(v=(f<3?a(v):f>3?a(d,n,v):a(d,n))||v);return f>3&&v&&Object.defineProperty(d,n,v),v},D=function(u,d){return function(n,i){d(n,i,u)}},p;let o=p=class{constructor(d,n){this.quickInputService=d,this.keybindingService=n,this.registry=b.B.as(U.IP.Quickaccess)}provide(d){const n=new c.SL;return n.add(d.onDidAccept(()=>{const[i]=d.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),n.add(d.onDidChangeValue(i=>{const f=this.registry.getQuickAccessProvider(i.substr(p.PREFIX.length));f&&f.prefix&&f.prefix!==p.PREFIX&&this.quickInputService.quickAccess.show(f.prefix,{preserveValue:!0})})),d.items=this.getQuickAccessProviders().filter(i=>i.prefix!==p.PREFIX),n}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((n,i)=>n.prefix.localeCompare(i.prefix)).flatMap(n=>this.createPicks(n))}createPicks(d){return d.helpEntries.map(n=>{const i=n.prefix||d.prefix,f=i||"\u2026";return{prefix:i,label:f,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,w.NC)("helpPickAriaLabel","{0}, {1}",f,n.description),description:n.description}})}};o.PREFIX="?",o=p=M([D(0,I.eJ),D(1,_.d)],o),b.B.as(U.IP.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:"",helpEntries:[{description:r.ld.helpQuickAccessActionLabel}]})},45048:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(11640),r=e(2444),w=e(33108),c=e(32064),_=e(72065),I=e(48894),M=e(87060),D=function(u,d,n,i){var f=arguments.length,v=f<3?d:i===null?i=Object.getOwnPropertyDescriptor(d,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(u,d,n,i);else for(var S=u.length-1;S>=0;S--)(a=u[S])&&(v=(f<3?a(v):f>3?a(d,n,v):a(d,n))||v);return f>3&&v&&Object.defineProperty(d,n,v),v},p=function(u,d){return function(n,i){d(n,i,u)}};let o=class extends r.J{constructor(d,n,i,f,v,a,S){super(!0,d,n,i,f,v,a,S)}};o=D([p(1,c.i6),p(2,U.$),p(3,I.lT),p(4,_.TG),p(5,M.Uy),p(6,w.Ui)],o),(0,b._K)(r.J.ID,o,4)},88542:function(Ot,Ke,e){"use strict";e.d(Ke,{kR:function(){return V},MU:function(){return G},nI:function(){return te},rW:function(){return H},TG:function(){return P}});var b=e(65321),U=e(16268),r=e(41264),w=e(4669),c=e(43155),_=e(45797);class I{constructor(ge,we,pe,Pe,Ne){this._parsedThemeRuleBrand=void 0,this.token=ge,this.index=we,this.fontStyle=pe,this.foreground=Pe,this.background=Ne}}function M(le){if(!le||!Array.isArray(le))return[];const ge=[];let we=0;for(let pe=0,Pe=le.length;pe<Pe;pe++){const Ne=le[pe];let ae=-1;if(typeof Ne.fontStyle=="string"){ae=0;const Ue=Ne.fontStyle.split(" ");for(let Le=0,ie=Ue.length;Le<ie;Le++)switch(Ue[Le]){case"italic":ae=ae|1;break;case"bold":ae=ae|2;break;case"underline":ae=ae|4;break;case"strikethrough":ae=ae|8;break}}let Me=null;typeof Ne.foreground=="string"&&(Me=Ne.foreground);let ke=null;typeof Ne.background=="string"&&(ke=Ne.background),ge[we++]=new I(Ne.token||"",pe,ae,Me,ke)}return ge}function D(le,ge){le.sort((Le,ie)=>{const ce=i(Le.token,ie.token);return ce!==0?ce:Le.index-ie.index});let we=0,pe="000000",Pe="ffffff";for(;le.length>=1&&le[0].token==="";){const Le=le.shift();Le.fontStyle!==-1&&(we=Le.fontStyle),Le.foreground!==null&&(pe=Le.foreground),Le.background!==null&&(Pe=Le.background)}const Ne=new o;for(const Le of ge)Ne.getId(Le);const ae=Ne.getId(pe),Me=Ne.getId(Pe),ke=new f(we,ae,Me),Ue=new v(ke);for(let Le=0,ie=le.length;Le<ie;Le++){const ce=le[Le];Ue.insert(ce.token,ce.fontStyle,Ne.getId(ce.foreground),Ne.getId(ce.background))}return new u(Ne,Ue)}const p=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class o{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ge){if(ge===null)return 0;const we=ge.match(p);if(!we)throw new Error("Illegal value for token color: "+ge);ge=we[1].toUpperCase();let pe=this._color2id.get(ge);return pe||(pe=++this._lastColorId,this._color2id.set(ge,pe),this._id2color[pe]=r.Il.fromHex("#"+ge),pe)}getColorMap(){return this._id2color.slice(0)}}class u{static createFromRawTokenTheme(ge,we){return this.createFromParsedTokenTheme(M(ge),we)}static createFromParsedTokenTheme(ge,we){return D(ge,we)}constructor(ge,we){this._colorMap=ge,this._root=we,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(ge){return this._root.match(ge)}match(ge,we){let pe=this._cache.get(we);if(typeof pe=="undefined"){const Pe=this._match(we),Ne=n(we);pe=(Pe.metadata|Ne<<8)>>>0,this._cache.set(we,pe)}return(pe|ge<<0)>>>0}}const d=/\b(comment|string|regex|regexp)\b/;function n(le){const ge=le.match(d);if(!ge)return 0;switch(ge[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function i(le,ge){return le<ge?-1:le>ge?1:0}class f{constructor(ge,we,pe){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ge,this._foreground=we,this._background=pe,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new f(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ge,we,pe){ge!==-1&&(this._fontStyle=ge),we!==0&&(this._foreground=we),pe!==0&&(this._background=pe),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class v{constructor(ge){this._themeTrieElementBrand=void 0,this._mainRule=ge,this._children=new Map}match(ge){if(ge==="")return this._mainRule;const we=ge.indexOf(".");let pe,Pe;we===-1?(pe=ge,Pe=""):(pe=ge.substring(0,we),Pe=ge.substring(we+1));const Ne=this._children.get(pe);return typeof Ne!="undefined"?Ne.match(Pe):this._mainRule}insert(ge,we,pe,Pe){if(ge===""){this._mainRule.acceptOverwrite(we,pe,Pe);return}const Ne=ge.indexOf(".");let ae,Me;Ne===-1?(ae=ge,Me=""):(ae=ge.substring(0,Ne),Me=ge.substring(Ne+1));let ke=this._children.get(ae);typeof ke=="undefined"&&(ke=new v(this._mainRule.clone()),this._children.set(ae,ke)),ke.insert(Me,we,pe,Pe)}}function a(le){const ge=[];for(let we=1,pe=le.length;we<pe;we++){const Pe=le[we];ge[we]=`.mtk${we} { color: ${Pe}; }`}return ge.push(".mtki { font-style: italic; }"),ge.push(".mtkb { font-weight: bold; }"),ge.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ge.push(".mtks { text-decoration: line-through; }"),ge.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ge.join(`
`)}var S=e(8625),g=e(73910);const y={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[g.cvW]:"#FFFFFE",[g.NOs]:"#000000",[g.ES4]:"#E5EBF1",[S.gS]:"#D3D3D3",[S.qe]:"#939393",[g.Rzx]:"#ADD6FF4D"}},C={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[g.cvW]:"#1E1E1E",[g.NOs]:"#D4D4D4",[g.ES4]:"#3A3D41",[S.gS]:"#404040",[S.qe]:"#707070",[g.Rzx]:"#ADD6FF26"}},E={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[g.cvW]:"#000000",[g.NOs]:"#FFFFFF",[S.gS]:"#FFFFFF",[S.qe]:"#FFFFFF"}},A={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[g.cvW]:"#FFFFFF",[g.NOs]:"#292929",[S.gS]:"#292929",[S.qe]:"#292929"}};var N=e(89872),B=e(97781),W=e(5976),$=e(92321),Y=e(25670),R=e(59554);function L(le){const ge=new W.SL,we=ge.add(new w.Q5),pe=(0,R.Ks)();return ge.add(pe.onDidChange(()=>we.fire())),le&&ge.add(le.onDidProductIconThemeChange(()=>we.fire())),{dispose:()=>ge.dispose(),onDidChange:we.event,getCSS(){const Pe=le?le.getProductIconTheme():new z,Ne={},ae=ke=>{const Ue=Pe.getIcon(ke);if(!Ue)return;const Le=Ue.font;return Le?(Ne[Le.id]=Le.definition,`.codicon-${ke.id}:before { content: '${Ue.fontCharacter}'; font-family: ${(0,b._h)(Le.id)}; }`):`.codicon-${ke.id}:before { content: '${Ue.fontCharacter}'; }`},Me=[];for(const ke of pe.getIcons()){const Ue=ae(ke);Ue&&Me.push(Ue)}for(const ke in Ne){const Ue=Ne[ke],Le=Ue.weight?`font-weight: ${Ue.weight};`:"",ie=Ue.style?`font-style: ${Ue.style};`:"",ce=Ue.src.map(Re=>`${(0,b.wY)(Re.location)} format('${Re.format}')`).join(", ");Me.push(`@font-face { src: ${ce}; font-family: ${(0,b._h)(ke)};${Le}${ie} font-display: block; }`)}return Me.join(`
`)}}}class z{getIcon(ge){const we=(0,R.Ks)();let pe=ge.defaults;for(;Y.k.isThemeIcon(pe);){const Pe=we.getIcon(pe.id);if(!Pe)return;pe=Pe.defaults}return pe}}var O=e(48906);const P="vs",H="vs-dark",V="hc-black",G="hc-light",j=N.B.as(g.IPX.ColorContribution),F=N.B.as(B.IP.ThemingContribution);class K{constructor(ge,we){this.semanticHighlighting=!1,this.themeData=we;const pe=we.base;ge.length>0?(m(ge)?this.id=ge:this.id=pe+" "+ge,this.themeName=ge):(this.id=pe,this.themeName=pe),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ge=new Map;for(const we in this.themeData.colors)ge.set(we,r.Il.fromHex(this.themeData.colors[we]));if(this.themeData.inherit){const we=J(this.themeData.base);for(const pe in we.colors)ge.has(pe)||ge.set(pe,r.Il.fromHex(we.colors[pe]))}this.colors=ge}return this.colors}getColor(ge,we){const pe=this.getColors().get(ge);if(pe)return pe;if(we!==!1)return this.getDefault(ge)}getDefault(ge){let we=this.defaultColors[ge];return we||(we=j.resolveDefaultColor(ge,this),this.defaultColors[ge]=we,we)}defines(ge){return this.getColors().has(ge)}get type(){switch(this.base){case P:return $.eL.LIGHT;case V:return $.eL.HIGH_CONTRAST_DARK;case G:return $.eL.HIGH_CONTRAST_LIGHT;default:return $.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let ge=[],we=[];if(this.themeData.inherit){const Ne=J(this.themeData.base);ge=Ne.rules,Ne.encodedTokensColors&&(we=Ne.encodedTokensColors)}const pe=this.themeData.colors["editor.foreground"],Pe=this.themeData.colors["editor.background"];if(pe||Pe){const Ne={token:""};pe&&(Ne.foreground=pe),Pe&&(Ne.background=Pe),ge.push(Ne)}ge=ge.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(we=this.themeData.encodedTokensColors),this._tokenTheme=u.createFromRawTokenTheme(ge,we)}return this._tokenTheme}getTokenStyleMetadata(ge,we,pe){const Ne=this.tokenTheme._match([ge].concat(we).join(".")).metadata,ae=_.N.getForeground(Ne),Me=_.N.getFontStyle(Ne);return{foreground:ae,italic:!!(Me&1),bold:!!(Me&2),underline:!!(Me&4),strikethrough:!!(Me&8)}}}function m(le){return le===P||le===H||le===V||le===G}function J(le){switch(le){case P:return y;case H:return C;case V:return E;case G:return A}}function X(le){const ge=J(le);return new K(le,ge)}class te extends W.JT{constructor(){super(),this._onColorThemeChange=this._register(new w.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new w.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new z,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(P,X(P)),this._knownThemes.set(H,X(H)),this._knownThemes.set(V,X(V)),this._knownThemes.set(G,X(G));const ge=this._register(L(this));this._codiconCSS=ge.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(P),this._onOSSchemeChanged(),this._register(ge.onDidChange(()=>{this._codiconCSS=ge.getCSS(),this._updateCSS()})),(0,U.uB)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ge){return b.OO(ge)?this._registerShadowDomContainer(ge):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=b.dS(void 0,ge=>{ge.className="monaco-colors",ge.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),W.JT.None}_registerShadowDomContainer(ge){const we=b.dS(ge,pe=>{pe.className="monaco-colors",pe.textContent=this._allCSS});return this._styleElements.push(we),{dispose:()=>{for(let pe=0;pe<this._styleElements.length;pe++)if(this._styleElements[pe]===we){this._styleElements.splice(pe,1);return}}}}defineTheme(ge,we){if(!/^[a-z0-9\-]+$/i.test(ge))throw new Error("Illegal theme name!");if(!m(we.base)&&!m(ge))throw new Error("Illegal theme base!");this._knownThemes.set(ge,new K(ge,we)),m(ge)&&this._knownThemes.forEach(pe=>{pe.base===ge&&pe.notifyBaseUpdated()}),this._theme.themeName===ge&&this.setTheme(ge)}getColorTheme(){return this._theme}setColorMapOverride(ge){this._colorMapOverride=ge,this._updateThemeOrColorMap()}setTheme(ge){let we;this._knownThemes.has(ge)?we=this._knownThemes.get(ge):we=this._knownThemes.get(P),this._updateActualTheme(we)}_updateActualTheme(ge){!ge||this._theme===ge||(this._theme=ge,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ge=O.Ex.matchMedia("(forced-colors: active)").matches;if(ge!==(0,$.c3)(this._theme.type)){let we;(0,$._T)(this._theme.type)?we=ge?V:H:we=ge?G:P,this._updateActualTheme(this._knownThemes.get(we))}}}setAutoDetectHighContrast(ge){this._autoDetectHighContrast=ge,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ge=[],we={},pe={addRule:ae=>{we[ae]||(ge.push(ae),we[ae]=!0)}};F.getThemingParticipants().forEach(ae=>ae(this._theme,pe,this._environment));const Pe=[];for(const ae of j.getColors()){const Me=this._theme.getColor(ae.id,!0);Me&&Pe.push(`${(0,g.QO2)(ae.id)}: ${Me.toString()};`)}pe.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${Pe.join(`
`)} }`);const Ne=this._colorMapOverride||this._theme.tokenTheme.getColorMap();pe.addRule(a(Ne)),this._themeCSS=ge.join(`
`),this._updateCSS(),c.RW.setColorMap(Ne),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(ge=>ge.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},15662:function(Ot,Ke,e){"use strict";var b=e(16830),U=e(44156),r=e(20913),w=e(92321),c=e(88542);class _ extends b.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:r.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(M,D){const p=M.get(U.Z),o=p.getColorTheme();(0,w.c3)(o.type)?(p.setTheme(this._originalThemeName||((0,w._T)(o.type)?c.rW:c.TG)),this._originalThemeName=null):(p.setTheme((0,w._T)(o.type)?c.kR:c.MU),this._originalThemeName=o.themeName)}}(0,b.Qr)(_)},44156:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return U}});var b=e(72065);const U=(0,b.yh)("themeService")},40605:function(Ot,Ke,e){"use strict";var b=e(366);var U=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(f,v,a,S)=>{if(v&&typeof v=="object"||typeof v=="function")for(let g of w(v))!c.call(f,g)&&g!==a&&U(f,g,{get:()=>v[g],enumerable:!(S=r(v,g))||S.enumerable});return f},I=(f,v,a)=>(_(f,v,"default"),a&&_(a,v,"default")),M={};I(M,b);var D=class{constructor(f,v,a){As(this,"_onDidChange",new M.Emitter);As(this,"_options");As(this,"_modeConfiguration");As(this,"_languageId");this._languageId=f,this.setOptions(v),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(f){this._options=f||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(f){this.setOptions(f)}setModeConfiguration(f){this._modeConfiguration=f||Object.create(null),this._onDidChange.fire(this)}},p={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},o={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},u=new D("css",p,o),d=new D("scss",p,o),n=new D("less",p,o);M.languages.css={cssDefaults:u,lessDefaults:n,scssDefaults:d};function i(){return e.e(5288).then(e.bind(e,45288))}M.languages.onLanguage("less",()=>{i().then(f=>f.setupMode(n))}),M.languages.onLanguage("scss",()=>{i().then(f=>f.setupMode(d))}),M.languages.onLanguage("css",()=>{i().then(f=>f.setupMode(u))})},68423:function(Ot,Ke,e){"use strict";var b=e(366);var U=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(A,N,B,W)=>{if(N&&typeof N=="object"||typeof N=="function")for(let $ of w(N))!c.call(A,$)&&$!==B&&U(A,$,{get:()=>N[$],enumerable:!(W=r(N,$))||W.enumerable});return A},I=(A,N,B)=>(_(A,N,"default"),B&&_(B,N,"default")),M={};I(M,b);var D=class{constructor(A,N,B){As(this,"_onDidChange",new M.Emitter);As(this,"_options");As(this,"_modeConfiguration");As(this,"_languageId");this._languageId=A,this.setOptions(N),this.setModeConfiguration(B)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(A){this._options=A||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(A){this._modeConfiguration=A||Object.create(null),this._onDidChange.fire(this)}},p={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},o={format:p,suggest:{},data:{useDefaultDataProvider:!0}};function u(A){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:A===d,documentFormattingEdits:A===d,documentRangeFormattingEdits:A===d}}var d="html",n="handlebars",i="razor",f=E(d,o,u(d)),v=f.defaults,a=E(n,o,u(n)),S=a.defaults,g=E(i,o,u(i)),y=g.defaults;M.languages.html={htmlDefaults:v,razorDefaults:y,handlebarDefaults:S,htmlLanguageService:f,handlebarLanguageService:a,razorLanguageService:g,registerHTMLLanguageService:E};function C(){return e.e(5377).then(e.bind(e,15377))}function E(A,N=o,B=u(A)){const W=new D(A,N,B);let $;const Y=M.languages.onLanguage(A,()=>tn(this,null,function*(){$=(yield C()).setupMode(W)}));return{defaults:W,dispose(){Y.dispose(),$==null||$.dispose(),$=void 0}}}},39585:function(Ot,Ke,e){"use strict";e.d(Ke,{TG:function(){return a}});var b=e(366);var U=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(E,A,N,B)=>{if(A&&typeof A=="object"||typeof A=="function")for(let W of w(A))!c.call(E,W)&&W!==N&&U(E,W,{get:()=>A[W],enumerable:!(B=r(A,W))||B.enumerable});return E},I=(E,A,N)=>(_(E,A,"default"),N&&_(N,A,"default")),M="5.0.2",D={};I(D,b);var p=(E=>(E[E.None=0]="None",E[E.CommonJS=1]="CommonJS",E[E.AMD=2]="AMD",E[E.UMD=3]="UMD",E[E.System=4]="System",E[E.ES2015=5]="ES2015",E[E.ESNext=99]="ESNext",E))(p||{}),o=(E=>(E[E.None=0]="None",E[E.Preserve=1]="Preserve",E[E.React=2]="React",E[E.ReactNative=3]="ReactNative",E[E.ReactJSX=4]="ReactJSX",E[E.ReactJSXDev=5]="ReactJSXDev",E))(o||{}),u=(E=>(E[E.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",E[E.LineFeed=1]="LineFeed",E))(u||{}),d=(E=>(E[E.ES3=0]="ES3",E[E.ES5=1]="ES5",E[E.ES2015=2]="ES2015",E[E.ES2016=3]="ES2016",E[E.ES2017=4]="ES2017",E[E.ES2018=5]="ES2018",E[E.ES2019=6]="ES2019",E[E.ES2020=7]="ES2020",E[E.ESNext=99]="ESNext",E[E.JSON=100]="JSON",E[E.Latest=99]="Latest",E))(d||{}),n=(E=>(E[E.Classic=1]="Classic",E[E.NodeJs=2]="NodeJs",E))(n||{}),i=class{constructor(E,A,N,B,W){As(this,"_onDidChange",new D.Emitter);As(this,"_onDidExtraLibsChange",new D.Emitter);As(this,"_extraLibs");As(this,"_removedExtraLibs");As(this,"_eagerModelSync");As(this,"_compilerOptions");As(this,"_diagnosticsOptions");As(this,"_workerOptions");As(this,"_onDidExtraLibsChangeTimeout");As(this,"_inlayHintsOptions");As(this,"_modeConfiguration");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(E),this.setDiagnosticsOptions(A),this.setWorkerOptions(N),this.setInlayHintsOptions(B),this.setModeConfiguration(W),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(E,A){let N;if(typeof A=="undefined"?N=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:N=A,this._extraLibs[N]&&this._extraLibs[N].content===E)return{dispose:()=>{}};let B=1;return this._removedExtraLibs[N]&&(B=this._removedExtraLibs[N]+1),this._extraLibs[N]&&(B=this._extraLibs[N].version+1),this._extraLibs[N]={content:E,version:B},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let W=this._extraLibs[N];W&&W.version===B&&(delete this._extraLibs[N],this._removedExtraLibs[N]=B,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(E){for(const A in this._extraLibs)this._removedExtraLibs[A]=this._extraLibs[A].version;if(this._extraLibs=Object.create(null),E&&E.length>0)for(const A of E){const N=A.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,B=A.content;let W=1;this._removedExtraLibs[N]&&(W=this._removedExtraLibs[N]+1),this._extraLibs[N]={content:B,version:W}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(E){this._compilerOptions=E||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(E){this._diagnosticsOptions=E||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(E){this._workerOptions=E||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(E){this._inlayHintsOptions=E||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(E){}setEagerModelSync(E){this._eagerModelSync=E}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(E){this._modeConfiguration=E||Object.create(null),this._onDidChange.fire(void 0)}},f=M,v={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},a=new i({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},v),S=new i({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},v),g=()=>C().then(E=>E.getTypeScriptWorker()),y=()=>C().then(E=>E.getJavaScriptWorker());D.languages.typescript={ModuleKind:p,JsxEmit:o,NewLineKind:u,ScriptTarget:d,ModuleResolutionKind:n,typescriptVersion:f,typescriptDefaults:a,javascriptDefaults:S,getTypeScriptWorker:g,getJavaScriptWorker:y};function C(){return e.e(1653).then(e.bind(e,78401))}D.languages.onLanguage("typescript",()=>C().then(E=>E.setupTypeScript(a))),D.languages.onLanguage("javascript",()=>C().then(E=>E.setupJavaScript(S)))},63580:function(Ot,Ke,e){"use strict";e.d(Ke,{NC:function(){return D},aj:function(){return o},vv:function(){return p}});let b=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const U="i-default";function r(i,f){let v;return f.length===0?v=i:v=i.replace(/\{(\d+)\}/g,(a,S)=>{const g=S[0],y=f[g];let C=a;return typeof y=="string"?C=y:(typeof y=="number"||typeof y=="boolean"||y===void 0||y===null)&&(C=String(y)),C}),b&&(v="\uFF3B"+v.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v}function w(i,f){let v=i[f];return v||(v=i["*"],v)?v:null}function c(i){return i.charAt(i.length-1)==="/"?i:i+"/"}function _(i,f,v){return tn(this,null,function*(){const a=c(i)+c(f)+"vscode/"+c(v),S=yield fetch(a);if(S.ok)return yield S.json();throw new Error(`${S.status} - ${S.statusText}`)})}function I(i){return function(f,v){const a=Array.prototype.slice.call(arguments,2);return r(i[f],a)}}function M(i){return(f,v,...a)=>({value:r(i[f],a),original:r(v,a)})}function D(i,f,...v){return r(f,v)}function p(i,f,...v){const a=r(f,v);return{value:a,original:a}}function o(i){}function u(i){b=i}function d(i,f){var v;return{localize:I(f[i]),localize2:M(f[i]),getConfiguredDefaultLocale:(v=f.getConfiguredDefaultLocale)!==null&&v!==void 0?v:a=>{}}}function n(i,f,v,a){var S;const g=(S=a["vs/nls"])!==null&&S!==void 0?S:{};if(!i||i.length===0)return v({localize:D,localize2:p,getConfiguredDefaultLocale:()=>{var N;return(N=g.availableLanguages)===null||N===void 0?void 0:N["*"]}});const y=g.availableLanguages?w(g.availableLanguages,i):null,C=y===null||y===U;let E=".nls";C||(E=E+"."+y);const A=N=>{Array.isArray(N)?(N.localize=I(N),N.localize2=M(N)):(N.localize=I(N[i]),N.localize2=M(N[i])),N.getConfiguredDefaultLocale=()=>{var B;return(B=g.availableLanguages)===null||B===void 0?void 0:B["*"]},v(N)};typeof g.loadBundle=="function"?g.loadBundle(i,y,(N,B)=>{N?f([i+".nls"],A):A(B)}):g.translationServiceUrl&&!C?tn(this,null,function*(){var N;try{const B=yield _(g.translationServiceUrl,y,i);return A(B)}catch(B){if(!y.includes("-"))return console.error(B),f([i+".nls"],A);try{const W=y.split("-")[0],$=yield _(g.translationServiceUrl,W,i);return(N=g.availableLanguages)!==null&&N!==void 0||(g.availableLanguages={}),g.availableLanguages["*"]=W,A($)}catch(W){return console.error(W),f([i+".nls"],A)}}}):f([i+E],A,N=>{if(E===".nls"){console.error("Failed trying to load default language strings",N);return}console.error(`Failed to load message bundle for language ${y}. Falling back to the default language:`,N),f([i+".nls"],A)})}},31106:function(Ot,Ke,e){"use strict";e.d(Ke,{F7:function(){return r},UA:function(){return w},VX:function(){return c}});var b=e(32064),U=e(72065);const r=(0,U.yh)("accessibilityService"),w=new b.uy("accessibilityModeEnabled",!1),c=(0,U.yh)("accessibleNotificationService")},80677:function(Ot,Ke,e){"use strict";e.d(Ke,{Mm:function(){return R},Id:function(){return P},vr:function(){return $},LJ:function(){return W}});var b=e(65321),U=e(59069),r=e(41923),w=e(81094),c=e(74741),_=e(8030),I=e(5976),M=e(1432),D=e(63580),p=e(84144);function o(H){return H?H.condition!==void 0:!1}var u=e(32064),d=e(5606),n=e(72065),i=e(91847),f=e(48894),v=e(87060),a=e(97781),S=e(25670),g=e(92321),y=e(98401),C=e(73910),E=e(86253),A=e(31106),N=function(H,V,G,j){var F=arguments.length,K=F<3?V:j===null?j=Object.getOwnPropertyDescriptor(V,G):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,V,G,j);else for(var J=H.length-1;J>=0;J--)(m=H[J])&&(K=(F<3?m(K):F>3?m(V,G,K):m(V,G))||K);return F>3&&K&&Object.defineProperty(V,G,K),K},B=function(H,V){return function(G,j){V(G,j,H)}};function W(H,V,G,j){const F=H.getActions(V),K=b._q.getInstance(),m=K.keyStatus.altKey||(M.ED||M.IJ)&&K.keyStatus.shiftKey;Y(F,G,m,j?J=>J===j:J=>J==="navigation")}function $(H,V,G,j,F,K){const m=H.getActions(V);Y(m,G,!1,typeof j=="string"?X=>X===j:j,F,K)}function Y(H,V,G,j=m=>m==="navigation",F=()=>!1,K=!1){let m,J;Array.isArray(V)?(m=V,J=V):(m=V.primary,J=V.secondary);const X=new Set;for(const[te,le]of H){let ge;j(te)?(ge=m,ge.length>0&&K&&ge.push(new c.Z0)):(ge=J,ge.length>0&&ge.push(new c.Z0));for(let we of le){G&&(we=we instanceof p.U8&&we.alt?we.alt:we);const pe=ge.push(we);we instanceof c.wY&&X.add({group:te,action:we,index:pe-1})}}for(const{group:te,action:le,index:ge}of X){const we=j(te)?m:J,pe=le.actions;F(le,te,we.length)&&we.splice(ge,1,...pe)}}let R=class extends r.gU{constructor(V,G,j,F,K,m,J,X){super(void 0,V,{icon:!!(V.class||V.item.icon),label:!V.class&&!V.item.icon,draggable:G==null?void 0:G.draggable,keybinding:G==null?void 0:G.keybinding,hoverDelegate:G==null?void 0:G.hoverDelegate}),this._keybindingService=j,this._notificationService=F,this._contextKeyService=K,this._themeService=m,this._contextMenuService=J,this._accessibilityService=X,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new I.XK),this._altKey=b._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(V){return tn(this,null,function*(){V.preventDefault(),V.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(G){this._notificationService.error(G)}})}render(V){if(super.render(V),V.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let G=!1;const j=()=>{var F;const K=!!(!((F=this._menuItemAction.alt)===null||F===void 0)&&F.enabled)&&(!this._accessibilityService.isMotionReduced()||G)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&G);K!==this._wantsAltCommand&&(this._wantsAltCommand=K,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(j)),this._register((0,b.nm)(V,"mouseleave",F=>{G=!1,j()})),this._register((0,b.nm)(V,"mouseenter",F=>{G=!0,j()})),j()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var V;const G=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),j=G&&G.getLabel(),F=this._commandAction.tooltip||this._commandAction.label;let K=j?(0,D.NC)("titleAndKb","{0} ({1})",F,j):F;if(!this._wantsAltCommand&&(!((V=this._menuItemAction.alt)===null||V===void 0)&&V.enabled)){const m=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,J=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),X=J&&J.getLabel(),te=X?(0,D.NC)("titleAndKb","{0} ({1})",m,X):m;K=(0,D.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,K,_.xo.modifierLabels[M.OS].altKey,te)}return K}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(V){this._itemClassDispose.value=void 0;const{element:G,label:j}=this;if(!G||!j)return;const F=this._commandAction.checked&&o(V.toggled)&&V.toggled.icon?V.toggled.icon:V.icon;if(F)if(S.k.isThemeIcon(F)){const K=S.k.asClassNameArray(F);j.classList.add(...K),this._itemClassDispose.value=(0,I.OF)(()=>{j.classList.remove(...K)})}else j.style.backgroundImage=(0,g._T)(this._themeService.getColorTheme().type)?(0,b.wY)(F.dark):(0,b.wY)(F.light),j.classList.add("icon"),this._itemClassDispose.value=(0,I.F8)((0,I.OF)(()=>{j.style.backgroundImage="",j.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};R=N([B(2,i.d),B(3,f.lT),B(4,u.i6),B(5,a.XE),B(6,d.i),B(7,A.F7)],R);let L=class extends w.C{constructor(V,G,j,F,K){var m,J,X;const te=Ni(Xn({},G),{menuAsChild:(m=G==null?void 0:G.menuAsChild)!==null&&m!==void 0?m:!1,classNames:(J=G==null?void 0:G.classNames)!==null&&J!==void 0?J:S.k.isThemeIcon(V.item.icon)?S.k.asClassName(V.item.icon):void 0,keybindingProvider:(X=G==null?void 0:G.keybindingProvider)!==null&&X!==void 0?X:le=>j.lookupKeybinding(le.id)});super(V,{getActions:()=>V.actions},F,te),this._keybindingService=j,this._contextMenuService=F,this._themeService=K}render(V){super.render(V),(0,y.p_)(this.element),V.classList.add("menu-entry");const G=this._action,{icon:j}=G.item;if(j&&!S.k.isThemeIcon(j)){this.element.classList.add("icon");const F=()=>{this.element&&(this.element.style.backgroundImage=(0,g._T)(this._themeService.getColorTheme().type)?(0,b.wY)(j.dark):(0,b.wY)(j.light))};F(),this._register(this._themeService.onDidColorThemeChange(()=>{F()}))}}};L=N([B(2,i.d),B(3,d.i),B(4,a.XE)],L);let z=class extends r.YH{constructor(V,G,j,F,K,m,J,X){var te,le,ge;super(null,V),this._keybindingService=j,this._notificationService=F,this._contextMenuService=K,this._menuService=m,this._instaService=J,this._storageService=X,this._container=null,this._options=G,this._storageKey=`${V.item.submenu.id}_lastActionId`;let we;const pe=G!=null&&G.persistLastActionId?X.get(this._storageKey,1):void 0;pe&&(we=V.actions.find(Ne=>pe===Ne.id)),we||(we=V.actions[0]),this._defaultAction=this._instaService.createInstance(R,we,{keybinding:this._getDefaultActionKeybindingLabel(we)});const Pe=Ni(Xn({keybindingProvider:Ne=>this._keybindingService.lookupKeybinding(Ne.id)},G),{menuAsChild:(te=G==null?void 0:G.menuAsChild)!==null&&te!==void 0?te:!0,classNames:(le=G==null?void 0:G.classNames)!==null&&le!==void 0?le:["codicon","codicon-chevron-down"],actionRunner:(ge=G==null?void 0:G.actionRunner)!==null&&ge!==void 0?ge:new c.Wi});this._dropdown=new w.C(V,V.actions,this._contextMenuService,Pe),this._dropdown.actionRunner.onDidRun(Ne=>{Ne.action instanceof p.U8&&this.update(Ne.action)})}update(V){var G;!((G=this._options)===null||G===void 0)&&G.persistLastActionId&&this._storageService.store(this._storageKey,V.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(R,V,{keybinding:this._getDefaultActionKeybindingLabel(V)}),this._defaultAction.actionRunner=new class extends c.Wi{runAction(j,F){return tn(this,null,function*(){yield j.run(void 0)})}},this._container&&this._defaultAction.render((0,b.Ce)(this._container,(0,b.$)(".action-container")))}_getDefaultActionKeybindingLabel(V){var G;let j;if(!((G=this._options)===null||G===void 0)&&G.renderKeybindingWithDefaultActionLabel){const F=this._keybindingService.lookupKeybinding(V.id);F&&(j=`(${F.getLabel()})`)}return j}setActionContext(V){super.setActionContext(V),this._defaultAction.setActionContext(V),this._dropdown.setActionContext(V)}render(V){this._container=V,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const G=(0,b.$)(".action-container");this._defaultAction.render((0,b.R3)(this._container,G)),this._register((0,b.nm)(G,b.tw.KEY_DOWN,F=>{const K=new U.y(F);K.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),K.stopPropagation())}));const j=(0,b.$)(".dropdown-action-container");this._dropdown.render((0,b.R3)(this._container,j)),this._register((0,b.nm)(j,b.tw.KEY_DOWN,F=>{var K;const m=new U.y(F);m.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(K=this._defaultAction.element)===null||K===void 0||K.focus(),m.stopPropagation())}))}focus(V){V?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(V){V?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};z=N([B(2,i.d),B(3,f.lT),B(4,d.i),B(5,p.co),B(6,n.TG),B(7,v.Uy)],z);let O=class extends r.Lc{constructor(V,G){super(null,V,V.actions.map(j=>({text:j.id===c.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":j.label,isDisabled:!j.enabled})),0,G,E.BM,{ariaLabel:V.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,V.actions.findIndex(j=>j.checked)))}render(V){super.render(V),V.style.borderColor=(0,C.n_1)(C.a9O)}runAction(V,G){const j=this.action.actions[G];j&&this.actionRunner.run(j)}};O=N([B(1,d.u)],O);function P(H,V,G){return V instanceof p.U8?H.createInstance(R,V,G):V instanceof p.NZ?V.item.isSelection?H.createInstance(O,V):V.item.rememberDefaultAction?H.createInstance(z,V,Ni(Xn({},G),{persistLastActionId:!0})):H.createInstance(L,V,G):void 0}},98190:function(Ot,Ke,e){"use strict";e.d(Ke,{r:function(){return B},T:function(){return N}});var b=e(65321),U=e(7317),r=e(90317),w=e(81094),c=e(74741),_=e(73046),I=e(25670),M=e(4669),D=e(5976),p=e(63580);class o extends D.JT{constructor($,Y,R={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new M.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new D.SL),this.options=R,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new u(()=>{var L;return(L=this.toggleMenuActionViewItem)===null||L===void 0?void 0:L.show()},R.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",$.appendChild(this.element),this.actionBar=this._register(new r.o(this.element,{orientation:R.orientation,ariaLabel:R.ariaLabel,actionRunner:R.actionRunner,allowContextMenu:R.allowContextMenu,highlightToggledItems:R.highlightToggledItems,actionViewItemProvider:(L,z)=>{var O;if(L.id===u.ID)return this.toggleMenuActionViewItem=new w.C(L,L.menuActions,Y,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:I.k.asClassNameArray((O=R.moreIcon)!==null&&O!==void 0?O:_.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(R.actionViewItemProvider){const P=R.actionViewItemProvider(L,z);if(P)return P}if(L instanceof c.wY){const P=new w.C(L,L.actions,Y,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:L.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return P.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(P),this.disposables.add(this._onDidChangeDropdownVisibility.add(P.onDidChangeVisibility)),P}}}))}set actionRunner($){this.actionBar.actionRunner=$}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction($){return this.actionBar.getAction($)}setActions($,Y){this.clear();const R=$?$.slice(0):[];this.hasSecondaryActions=!!(Y&&Y.length>0),this.hasSecondaryActions&&Y&&(this.toggleMenuAction.menuActions=Y.slice(0),R.push(this.toggleMenuAction)),R.forEach(L=>{this.actionBar.push(L,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(L)})})}getKeybindingLabel($){var Y,R,L;const z=this.lookupKeybindings?(R=(Y=this.options).getKeyBinding)===null||R===void 0?void 0:R.call(Y,$):void 0;return(L=z==null?void 0:z.getLabel())!==null&&L!==void 0?L:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class u extends c.aU{constructor($,Y){Y=Y||p.NC("moreActions","More Actions..."),super(u.ID,Y,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=$}run(){return tn(this,null,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions($){this._menuActions=$}}u.ID="toolbar.toggle.more";var d=e(9488),n=e(6626),i=e(17301),f=e(53725),v=e(80677),a=e(84144),S=e(32064),g=e(5606),y=e(91847),C=e(10829),E=function(W,$,Y,R){var L=arguments.length,z=L<3?$:R===null?R=Object.getOwnPropertyDescriptor($,Y):R,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(W,$,Y,R);else for(var P=W.length-1;P>=0;P--)(O=W[P])&&(z=(L<3?O(z):L>3?O($,Y,z):O($,Y))||z);return L>3&&z&&Object.defineProperty($,Y,z),z},A=function(W,$){return function(Y,R){$(Y,R,W)}};let N=class extends o{constructor($,Y,R,L,z,O,P){super($,z,Ni(Xn({getKeyBinding:V=>{var G;return(G=O.lookupKeybinding(V.id))!==null&&G!==void 0?G:void 0}},Y),{allowContextMenu:!0,skipTelemetry:typeof(Y==null?void 0:Y.telemetrySource)=="string"})),this._options=Y,this._menuService=R,this._contextKeyService=L,this._contextMenuService=z,this._sessionDisposables=this._store.add(new D.SL);const H=Y==null?void 0:Y.telemetrySource;H&&this._store.add(this.actionBar.onDidRun(V=>P.publicLog2("workbenchActionExecuted",{id:V.action.id,from:H})))}setActions($,Y=[],R){var L,z,O;this._sessionDisposables.clear();const P=$.slice(),H=Y.slice(),V=[];let G=0;const j=[];let F=!1;if(((L=this._options)===null||L===void 0?void 0:L.hiddenItemStrategy)!==-1)for(let K=0;K<P.length;K++){const m=P[K];!(m instanceof a.U8)&&!(m instanceof a.NZ)||m.hideActions&&(V.push(m.hideActions.toggle),m.hideActions.toggle.checked&&G++,m.hideActions.isHidden&&(F=!0,P[K]=void 0,((z=this._options)===null||z===void 0?void 0:z.hiddenItemStrategy)!==0&&(j[K]=m)))}if(((O=this._options)===null||O===void 0?void 0:O.overflowBehavior)!==void 0){const K=(0,n.j)(new Set(this._options.overflowBehavior.exempted),f.$.map(P,X=>X==null?void 0:X.id)),m=this._options.overflowBehavior.maxItems-K.size;let J=0;for(let X=0;X<P.length;X++){const te=P[X];te&&(J++,!K.has(te.id)&&J>=m&&(P[X]=void 0,j[X]=te))}}(0,d.Rs)(P),(0,d.Rs)(j),super.setActions(P,c.Z0.join(j,H)),V.length>0&&this._sessionDisposables.add((0,b.nm)(this.getElement(),"contextmenu",K=>{var m,J,X,te,le;const ge=new U.n((0,b.Jj)(this.getElement()),K),we=this.getItemAction(ge.target);if(!we)return;ge.preventDefault(),ge.stopPropagation();let pe=!1;if(G===1&&((m=this._options)===null||m===void 0?void 0:m.hiddenItemStrategy)===0){pe=!0;for(let ae=0;ae<V.length;ae++)if(V[ae].checked){V[ae]=(0,c.xw)({id:we.id,label:we.label,checked:!0,enabled:!1,run(){}});break}}let Pe;if(!pe&&(we instanceof a.U8||we instanceof a.NZ)){if(!we.hideActions)return;Pe=we.hideActions.hide}else Pe=(0,c.xw)({id:"label",label:(0,p.NC)("hide","Hide"),enabled:!1,run(){}});const Ne=c.Z0.join([Pe],V);!((J=this._options)===null||J===void 0)&&J.resetMenu&&!R&&(R=[this._options.resetMenu]),F&&R&&(Ne.push(new c.Z0),Ne.push((0,c.xw)({id:"resetThisMenu",label:(0,p.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(R)}))),this._contextMenuService.showContextMenu({getAnchor:()=>ge,getActions:()=>Ne,menuId:(X=this._options)===null||X===void 0?void 0:X.contextMenu,menuActionOptions:Xn({renderShortTitle:!0},(te=this._options)===null||te===void 0?void 0:te.menuOptions),skipTelemetry:typeof((le=this._options)===null||le===void 0?void 0:le.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};N=E([A(2,a.co),A(3,S.i6),A(4,g.i),A(5,y.d),A(6,C.b)],N);let B=class extends N{constructor($,Y,R,L,z,O,P,H){super($,Xn({resetMenu:Y},R),L,z,O,P,H),this._onDidChangeMenuItems=this._store.add(new M.Q5);const V=this._store.add(L.createMenu(Y,z,{emitEventsForSubmenuChanges:!0})),G=()=>{var j,F,K;const m=[],J=[];(0,v.vr)(V,R==null?void 0:R.menuOptions,{primary:m,secondary:J},(j=R==null?void 0:R.toolbarOptions)===null||j===void 0?void 0:j.primaryGroup,(F=R==null?void 0:R.toolbarOptions)===null||F===void 0?void 0:F.shouldInlineSubmenu,(K=R==null?void 0:R.toolbarOptions)===null||K===void 0?void 0:K.useSeparatorsInPrimaryActions),$.classList.toggle("has-no-actions",m.length===0&&J.length===0),super.setActions(m,J)};this._store.add(V.onDidChange(()=>{G(),this._onDidChangeMenuItems.fire(this)})),G()}setActions(){throw new i.he("This toolbar is populated from a menu.")}};B=E([A(3,a.co),A(4,S.i6),A(5,g.i),A(6,y.d),A(7,C.b)],B)},84144:function(Ot,Ke,e){"use strict";e.d(Ke,{BH:function(){return a},Ke:function(){return y},NZ:function(){return S},U8:function(){return g},co:function(){return f},eH:function(){return i},f6:function(){return n},r1:function(){return C},vr:function(){return d}});var b=e(74741),U=e(25670),r=e(4669),w=e(5976),c=e(91741),_=e(94565),I=e(32064),M=e(72065),D=e(49989),p=function(E,A,N,B){var W=arguments.length,$=W<3?A:B===null?B=Object.getOwnPropertyDescriptor(A,N):B,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(E,A,N,B);else for(var R=E.length-1;R>=0;R--)(Y=E[R])&&($=(W<3?Y($):W>3?Y(A,N,$):Y(A,N))||$);return W>3&&$&&Object.defineProperty(A,N,$),$},o=function(E,A){return function(N,B){A(N,B,E)}},u;function d(E){return E.command!==void 0}function n(E){return E.submenu!==void 0}class i{constructor(A){if(i._instances.has(A))throw new TypeError(`MenuId with identifier '${A}' already exists. Use MenuId.for(ident) or a unique identifier`);i._instances.set(A,this),this.id=A}}i._instances=new Map,i.CommandPalette=new i("CommandPalette"),i.DebugBreakpointsContext=new i("DebugBreakpointsContext"),i.DebugCallStackContext=new i("DebugCallStackContext"),i.DebugConsoleContext=new i("DebugConsoleContext"),i.DebugVariablesContext=new i("DebugVariablesContext"),i.DebugWatchContext=new i("DebugWatchContext"),i.DebugToolBar=new i("DebugToolBar"),i.DebugToolBarStop=new i("DebugToolBarStop"),i.EditorContext=new i("EditorContext"),i.SimpleEditorContext=new i("SimpleEditorContext"),i.EditorContent=new i("EditorContent"),i.EditorLineNumberContext=new i("EditorLineNumberContext"),i.EditorContextCopy=new i("EditorContextCopy"),i.EditorContextPeek=new i("EditorContextPeek"),i.EditorContextShare=new i("EditorContextShare"),i.EditorTitle=new i("EditorTitle"),i.EditorTitleRun=new i("EditorTitleRun"),i.EditorTitleContext=new i("EditorTitleContext"),i.EditorTitleContextShare=new i("EditorTitleContextShare"),i.EmptyEditorGroup=new i("EmptyEditorGroup"),i.EmptyEditorGroupContext=new i("EmptyEditorGroupContext"),i.EditorTabsBarContext=new i("EditorTabsBarContext"),i.EditorTabsBarShowTabsSubmenu=new i("EditorTabsBarShowTabsSubmenu"),i.EditorActionsPositionSubmenu=new i("EditorActionsPositionSubmenu"),i.ExplorerContext=new i("ExplorerContext"),i.ExplorerContextShare=new i("ExplorerContextShare"),i.ExtensionContext=new i("ExtensionContext"),i.GlobalActivity=new i("GlobalActivity"),i.CommandCenter=new i("CommandCenter"),i.CommandCenterCenter=new i("CommandCenterCenter"),i.LayoutControlMenuSubmenu=new i("LayoutControlMenuSubmenu"),i.LayoutControlMenu=new i("LayoutControlMenu"),i.MenubarMainMenu=new i("MenubarMainMenu"),i.MenubarAppearanceMenu=new i("MenubarAppearanceMenu"),i.MenubarDebugMenu=new i("MenubarDebugMenu"),i.MenubarEditMenu=new i("MenubarEditMenu"),i.MenubarCopy=new i("MenubarCopy"),i.MenubarFileMenu=new i("MenubarFileMenu"),i.MenubarGoMenu=new i("MenubarGoMenu"),i.MenubarHelpMenu=new i("MenubarHelpMenu"),i.MenubarLayoutMenu=new i("MenubarLayoutMenu"),i.MenubarNewBreakpointMenu=new i("MenubarNewBreakpointMenu"),i.PanelAlignmentMenu=new i("PanelAlignmentMenu"),i.PanelPositionMenu=new i("PanelPositionMenu"),i.ActivityBarPositionMenu=new i("ActivityBarPositionMenu"),i.MenubarPreferencesMenu=new i("MenubarPreferencesMenu"),i.MenubarRecentMenu=new i("MenubarRecentMenu"),i.MenubarSelectionMenu=new i("MenubarSelectionMenu"),i.MenubarShare=new i("MenubarShare"),i.MenubarSwitchEditorMenu=new i("MenubarSwitchEditorMenu"),i.MenubarSwitchGroupMenu=new i("MenubarSwitchGroupMenu"),i.MenubarTerminalMenu=new i("MenubarTerminalMenu"),i.MenubarViewMenu=new i("MenubarViewMenu"),i.MenubarHomeMenu=new i("MenubarHomeMenu"),i.OpenEditorsContext=new i("OpenEditorsContext"),i.OpenEditorsContextShare=new i("OpenEditorsContextShare"),i.ProblemsPanelContext=new i("ProblemsPanelContext"),i.SCMInputBox=new i("SCMInputBox"),i.SCMHistoryItem=new i("SCMHistoryItem"),i.SCMChangeContext=new i("SCMChangeContext"),i.SCMResourceContext=new i("SCMResourceContext"),i.SCMResourceContextShare=new i("SCMResourceContextShare"),i.SCMResourceFolderContext=new i("SCMResourceFolderContext"),i.SCMResourceGroupContext=new i("SCMResourceGroupContext"),i.SCMSourceControl=new i("SCMSourceControl"),i.SCMTitle=new i("SCMTitle"),i.SearchContext=new i("SearchContext"),i.SearchActionMenu=new i("SearchActionContext"),i.StatusBarWindowIndicatorMenu=new i("StatusBarWindowIndicatorMenu"),i.StatusBarRemoteIndicatorMenu=new i("StatusBarRemoteIndicatorMenu"),i.StickyScrollContext=new i("StickyScrollContext"),i.TestItem=new i("TestItem"),i.TestItemGutter=new i("TestItemGutter"),i.TestMessageContext=new i("TestMessageContext"),i.TestMessageContent=new i("TestMessageContent"),i.TestPeekElement=new i("TestPeekElement"),i.TestPeekTitle=new i("TestPeekTitle"),i.TouchBarContext=new i("TouchBarContext"),i.TitleBarContext=new i("TitleBarContext"),i.TitleBarTitleContext=new i("TitleBarTitleContext"),i.TunnelContext=new i("TunnelContext"),i.TunnelPrivacy=new i("TunnelPrivacy"),i.TunnelProtocol=new i("TunnelProtocol"),i.TunnelPortInline=new i("TunnelInline"),i.TunnelTitle=new i("TunnelTitle"),i.TunnelLocalAddressInline=new i("TunnelLocalAddressInline"),i.TunnelOriginInline=new i("TunnelOriginInline"),i.ViewItemContext=new i("ViewItemContext"),i.ViewContainerTitle=new i("ViewContainerTitle"),i.ViewContainerTitleContext=new i("ViewContainerTitleContext"),i.ViewTitle=new i("ViewTitle"),i.ViewTitleContext=new i("ViewTitleContext"),i.CommentEditorActions=new i("CommentEditorActions"),i.CommentThreadTitle=new i("CommentThreadTitle"),i.CommentThreadActions=new i("CommentThreadActions"),i.CommentThreadAdditionalActions=new i("CommentThreadAdditionalActions"),i.CommentThreadTitleContext=new i("CommentThreadTitleContext"),i.CommentThreadCommentContext=new i("CommentThreadCommentContext"),i.CommentTitle=new i("CommentTitle"),i.CommentActions=new i("CommentActions"),i.InteractiveToolbar=new i("InteractiveToolbar"),i.InteractiveCellTitle=new i("InteractiveCellTitle"),i.InteractiveCellDelete=new i("InteractiveCellDelete"),i.InteractiveCellExecute=new i("InteractiveCellExecute"),i.InteractiveInputExecute=new i("InteractiveInputExecute"),i.NotebookToolbar=new i("NotebookToolbar"),i.NotebookStickyScrollContext=new i("NotebookStickyScrollContext"),i.NotebookCellTitle=new i("NotebookCellTitle"),i.NotebookCellDelete=new i("NotebookCellDelete"),i.NotebookCellInsert=new i("NotebookCellInsert"),i.NotebookCellBetween=new i("NotebookCellBetween"),i.NotebookCellListTop=new i("NotebookCellTop"),i.NotebookCellExecute=new i("NotebookCellExecute"),i.NotebookCellExecutePrimary=new i("NotebookCellExecutePrimary"),i.NotebookDiffCellInputTitle=new i("NotebookDiffCellInputTitle"),i.NotebookDiffCellMetadataTitle=new i("NotebookDiffCellMetadataTitle"),i.NotebookDiffCellOutputsTitle=new i("NotebookDiffCellOutputsTitle"),i.NotebookOutputToolbar=new i("NotebookOutputToolbar"),i.NotebookEditorLayoutConfigure=new i("NotebookEditorLayoutConfigure"),i.NotebookKernelSource=new i("NotebookKernelSource"),i.BulkEditTitle=new i("BulkEditTitle"),i.BulkEditContext=new i("BulkEditContext"),i.TimelineItemContext=new i("TimelineItemContext"),i.TimelineTitle=new i("TimelineTitle"),i.TimelineTitleContext=new i("TimelineTitleContext"),i.TimelineFilterSubMenu=new i("TimelineFilterSubMenu"),i.AccountsContext=new i("AccountsContext"),i.SidebarTitle=new i("SidebarTitle"),i.PanelTitle=new i("PanelTitle"),i.AuxiliaryBarTitle=new i("AuxiliaryBarTitle"),i.TerminalInstanceContext=new i("TerminalInstanceContext"),i.TerminalEditorInstanceContext=new i("TerminalEditorInstanceContext"),i.TerminalNewDropdownContext=new i("TerminalNewDropdownContext"),i.TerminalTabContext=new i("TerminalTabContext"),i.TerminalTabEmptyAreaContext=new i("TerminalTabEmptyAreaContext"),i.TerminalStickyScrollContext=new i("TerminalStickyScrollContext"),i.WebviewContext=new i("WebviewContext"),i.InlineCompletionsActions=new i("InlineCompletionsActions"),i.NewFile=new i("NewFile"),i.MergeInput1Toolbar=new i("MergeToolbar1Toolbar"),i.MergeInput2Toolbar=new i("MergeToolbar2Toolbar"),i.MergeBaseToolbar=new i("MergeBaseToolbar"),i.MergeInputResultToolbar=new i("MergeToolbarResultToolbar"),i.InlineSuggestionToolbar=new i("InlineSuggestionToolbar"),i.ChatContext=new i("ChatContext"),i.ChatCodeBlock=new i("ChatCodeblock"),i.ChatMessageTitle=new i("ChatMessageTitle"),i.ChatExecute=new i("ChatExecute"),i.ChatInputSide=new i("ChatInputSide"),i.AccessibleView=new i("AccessibleView"),i.MultiDiffEditorFileToolbar=new i("MultiDiffEditorFileToolbar");const f=(0,M.yh)("menuService");class v{static for(A){let N=this._all.get(A);return N||(N=new v(A),this._all.set(A,N)),N}static merge(A){const N=new Set;for(const B of A)B instanceof v&&N.add(B.id);return N}constructor(A){this.id=A,this.has=N=>N===A}}v._all=new Map;const a=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new r.SZ({merge:v.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(E){return this._commands.set(E.id,E),this._onDidChangeMenu.fire(v.for(i.CommandPalette)),(0,w.OF)(()=>{this._commands.delete(E.id)&&this._onDidChangeMenu.fire(v.for(i.CommandPalette))})}getCommand(E){return this._commands.get(E)}getCommands(){const E=new Map;return this._commands.forEach((A,N)=>E.set(N,A)),E}appendMenuItem(E,A){let N=this._menuItems.get(E);N||(N=new c.S,this._menuItems.set(E,N));const B=N.push(A);return this._onDidChangeMenu.fire(v.for(E)),(0,w.OF)(()=>{B(),this._onDidChangeMenu.fire(v.for(E))})}appendMenuItems(E){const A=new w.SL;for(const{id:N,item:B}of E)A.add(this.appendMenuItem(N,B));return A}getMenuItems(E){let A;return this._menuItems.has(E)?A=[...this._menuItems.get(E)]:A=[],E===i.CommandPalette&&this._appendImplicitItems(A),A}_appendImplicitItems(E){const A=new Set;for(const N of E)d(N)&&(A.add(N.command.id),N.alt&&A.add(N.alt.id));this._commands.forEach((N,B)=>{A.has(B)||E.push({command:N})})}};class S extends b.wY{constructor(A,N,B){super(`submenuitem.${A.submenu.id}`,typeof A.title=="string"?A.title:A.title.value,B,"submenu"),this.item=A,this.hideActions=N}}let g=u=class{static label(A,N){return N!=null&&N.renderShortTitle&&A.shortTitle?typeof A.shortTitle=="string"?A.shortTitle:A.shortTitle.value:typeof A.title=="string"?A.title:A.title.value}constructor(A,N,B,W,$,Y){var R,L;this.hideActions=W,this._commandService=Y,this.id=A.id,this.label=u.label(A,B),this.tooltip=(L=typeof A.tooltip=="string"?A.tooltip:(R=A.tooltip)===null||R===void 0?void 0:R.value)!==null&&L!==void 0?L:"",this.enabled=!A.precondition||$.contextMatchesRules(A.precondition),this.checked=void 0;let z;if(A.toggled){const O=A.toggled.condition?A.toggled:{condition:A.toggled};this.checked=$.contextMatchesRules(O.condition),this.checked&&O.tooltip&&(this.tooltip=typeof O.tooltip=="string"?O.tooltip:O.tooltip.value),this.checked&&U.k.isThemeIcon(O.icon)&&(z=O.icon),this.checked&&O.title&&(this.label=typeof O.title=="string"?O.title:O.title.value)}z||(z=U.k.isThemeIcon(A.icon)?A.icon:void 0),this.item=A,this.alt=N?new u(N,void 0,B,W,$,Y):void 0,this._options=B,this.class=z&&U.k.asClassName(z)}run(...A){var N,B;let W=[];return!((N=this._options)===null||N===void 0)&&N.arg&&(W=[...W,this._options.arg]),!((B=this._options)===null||B===void 0)&&B.shouldForwardArgs&&(W=[...W,...A]),this._commandService.executeCommand(this.id,...W)}};g=u=p([o(4,I.i6),o(5,_.H)],g);class y{constructor(A){this.desc=A}}function C(E){const A=new w.SL,N=new E,R=N.desc,{f1:B,menu:W,keybinding:$}=R,Y=Vc(R,["f1","menu","keybinding"]);if(A.add(_.P.registerCommand({id:Y.id,handler:(L,...z)=>N.run(L,...z),metadata:Y.metadata})),Array.isArray(W))for(const L of W)A.add(a.appendMenuItem(L.id,Xn({command:Ni(Xn({},Y),{precondition:L.precondition===null?void 0:Y.precondition})},L)));else W&&A.add(a.appendMenuItem(W.id,Xn({command:Ni(Xn({},Y),{precondition:W.precondition===null?void 0:Y.precondition})},W)));if(B&&(A.add(a.appendMenuItem(i.CommandPalette,{command:Y,when:Y.precondition})),A.add(a.addCommand(Y))),Array.isArray($))for(const L of $)A.add(D.W.registerKeybindingRule(Ni(Xn({},L),{id:Y.id,when:Y.precondition?I.Ao.and(Y.precondition,L.when):L.when})));else $&&A.add(D.W.registerKeybindingRule(Ni(Xn({},$),{id:Y.id,when:Y.precondition?I.Ao.and(Y.precondition,$.when):$.when})));return A}},69149:function(Ot,Ke,e){"use strict";e.d(Ke,{e7:function(){return r},y$:function(){return _}});var b=e(72065),U=e(63580);const r=(0,b.yh)("audioCue");class w{static register(M){return new w(M.fileName)}constructor(M){this.fileName=M}}w.error=w.register({fileName:"error.mp3"}),w.warning=w.register({fileName:"warning.mp3"}),w.foldedArea=w.register({fileName:"foldedAreas.mp3"}),w.break=w.register({fileName:"break.mp3"}),w.quickFixes=w.register({fileName:"quickFixes.mp3"}),w.taskCompleted=w.register({fileName:"taskCompleted.mp3"}),w.taskFailed=w.register({fileName:"taskFailed.mp3"}),w.terminalBell=w.register({fileName:"terminalBell.mp3"}),w.diffLineInserted=w.register({fileName:"diffLineInserted.mp3"}),w.diffLineDeleted=w.register({fileName:"diffLineDeleted.mp3"}),w.diffLineModified=w.register({fileName:"diffLineModified.mp3"}),w.chatRequestSent=w.register({fileName:"chatRequestSent.mp3"}),w.chatResponsePending=w.register({fileName:"chatResponsePending.mp3"}),w.chatResponseReceived1=w.register({fileName:"chatResponseReceived1.mp3"}),w.chatResponseReceived2=w.register({fileName:"chatResponseReceived2.mp3"}),w.chatResponseReceived3=w.register({fileName:"chatResponseReceived3.mp3"}),w.chatResponseReceived4=w.register({fileName:"chatResponseReceived4.mp3"}),w.clear=w.register({fileName:"clear.mp3"}),w.save=w.register({fileName:"save.mp3"}),w.format=w.register({fileName:"format.mp3"});class c{constructor(M){this.randomOneOf=M}}class _{static register(M){const D=new c("randomOneOf"in M.sound?M.sound.randomOneOf:[M.sound]),p=new _(D,M.name,M.settingsKey);return _._audioCues.add(p),p}constructor(M,D,p){this.sound=M,this.name=D,this.settingsKey=p}}_._audioCues=new Set,_.error=_.register({name:(0,U.NC)("audioCues.lineHasError.name","Error on Line"),sound:w.error,settingsKey:"audioCues.lineHasError"}),_.warning=_.register({name:(0,U.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:w.warning,settingsKey:"audioCues.lineHasWarning"}),_.foldedArea=_.register({name:(0,U.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:w.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),_.break=_.register({name:(0,U.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:w.break,settingsKey:"audioCues.lineHasBreakpoint"}),_.inlineSuggestion=_.register({name:(0,U.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:w.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),_.terminalQuickFix=_.register({name:(0,U.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:w.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),_.onDebugBreak=_.register({name:(0,U.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:w.break,settingsKey:"audioCues.onDebugBreak"}),_.noInlayHints=_.register({name:(0,U.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:w.error,settingsKey:"audioCues.noInlayHints"}),_.taskCompleted=_.register({name:(0,U.NC)("audioCues.taskCompleted","Task Completed"),sound:w.taskCompleted,settingsKey:"audioCues.taskCompleted"}),_.taskFailed=_.register({name:(0,U.NC)("audioCues.taskFailed","Task Failed"),sound:w.taskFailed,settingsKey:"audioCues.taskFailed"}),_.terminalCommandFailed=_.register({name:(0,U.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:w.error,settingsKey:"audioCues.terminalCommandFailed"}),_.terminalBell=_.register({name:(0,U.NC)("audioCues.terminalBell","Terminal Bell"),sound:w.terminalBell,settingsKey:"audioCues.terminalBell"}),_.notebookCellCompleted=_.register({name:(0,U.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:w.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),_.notebookCellFailed=_.register({name:(0,U.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:w.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),_.diffLineInserted=_.register({name:(0,U.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:w.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),_.diffLineDeleted=_.register({name:(0,U.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:w.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),_.diffLineModified=_.register({name:(0,U.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:w.diffLineModified,settingsKey:"audioCues.diffLineModified"}),_.chatRequestSent=_.register({name:(0,U.NC)("audioCues.chatRequestSent","Chat Request Sent"),sound:w.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),_.chatResponseReceived=_.register({name:(0,U.NC)("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[w.chatResponseReceived1,w.chatResponseReceived2,w.chatResponseReceived3,w.chatResponseReceived4]}}),_.chatResponsePending=_.register({name:(0,U.NC)("audioCues.chatResponsePending","Chat Response Pending"),sound:w.chatResponsePending,settingsKey:"audioCues.chatResponsePending"}),_.clear=_.register({name:(0,U.NC)("audioCues.clear","Clear"),sound:w.clear,settingsKey:"audioCues.clear"}),_.save=_.register({name:(0,U.NC)("audioCues.save","Save"),sound:w.save,settingsKey:"audioCues.save"}),_.format=_.register({name:(0,U.NC)("audioCues.format","Format"),sound:w.format,settingsKey:"audioCues.format"})},84972:function(Ot,Ke,e){"use strict";e.d(Ke,{p:function(){return U}});var b=e(72065);const U=(0,b.yh)("clipboardService")},94565:function(Ot,Ke,e){"use strict";e.d(Ke,{H:function(){return I},P:function(){return M}});var b=e(4669),U=e(53725),r=e(5976),w=e(91741),c=e(98401),_=e(72065);const I=(0,_.yh)("commandService"),M=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new b.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(D,p){if(!D)throw new Error("invalid command");if(typeof D=="string"){if(!p)throw new Error("invalid command");return this.registerCommand({id:D,handler:p})}if(D.metadata&&Array.isArray(D.metadata.args)){const i=[];for(const v of D.metadata.args)i.push(v.constraint);const f=D.handler;D.handler=function(v,...a){return(0,c.D8)(a,i),f(v,...a)}}const{id:o}=D;let u=this._commands.get(o);u||(u=new w.S,this._commands.set(o,u));const d=u.unshift(D),n=(0,r.OF)(()=>{d();const i=this._commands.get(o);i!=null&&i.isEmpty()&&this._commands.delete(o)});return this._onDidRegisterCommand.fire(o),n}registerCommandAlias(D,p){return M.registerCommand(D,(o,...u)=>o.get(I).executeCommand(p,...u))}getCommand(D){const p=this._commands.get(D);if(!(!p||p.isEmpty()))return U.$.first(p)}getCommands(){const D=new Map;for(const p of this._commands.keys()){const o=this.getCommand(p);o&&D.set(p,o)}return D}};M.registerCommand("noop",()=>{})},33108:function(Ot,Ke,e){"use strict";e.d(Ke,{KV:function(){return w},Mt:function(){return I},Od:function(){return r},UI:function(){return M},Ui:function(){return U},xL:function(){return c}});var b=e(72065);const U=(0,b.yh)("configurationService");function r(D,p){const o=Object.create(null);for(const u in D)w(o,u,D[u],p);return o}function w(D,p,o,u){const d=p.split("."),n=d.pop();let i=D;for(let f=0;f<d.length;f++){const v=d[f];let a=i[v];switch(typeof a){case"undefined":a=i[v]=Object.create(null);break;case"object":break;default:u(`Ignoring ${p} as ${d.slice(0,f+1).join(".")} is ${JSON.stringify(a)}`);return}i=a}if(typeof i=="object"&&i!==null)try{i[n]=o}catch(f){u(`Ignoring ${p} as ${d.join(".")} is ${JSON.stringify(i)}`)}else u(`Ignoring ${p} as ${d.join(".")} is ${JSON.stringify(i)}`)}function c(D,p){const o=p.split(".");_(D,o)}function _(D,p){const o=p.shift();if(p.length===0){delete D[o];return}if(Object.keys(D).indexOf(o)!==-1){const u=D[o];typeof u=="object"&&!Array.isArray(u)&&(_(u,p),Object.keys(u).length===0&&delete D[o])}}function I(D,p,o){function u(i,f){let v=i;for(const a of f){if(typeof v!="object"||v===null)return;v=v[a]}return v}const d=p.split("."),n=u(D,d);return typeof n=="undefined"?o:n}function M(D){return D.replace(/[\[\]]/g,"")}},23193:function(Ot,Ke,e){"use strict";e.d(Ke,{IP:function(){return M},eU:function(){return y},ny:function(){return C}});var b=e(9488),U=e(4669),r=e(98401),w=e(63580),c=e(33108),_=e(81294),I=e(89872);const M={Configuration:"base.contributions.configuration"},D={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},o={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},n={properties:{},patternProperties:{}},i="vscode://schemas/settings/resourceLanguage",f=I.B.as(_.I.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new U.Q5,this._onDidUpdateConfiguration=new U.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:w.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},f.registerSchema(i,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(W,$=!0){this.registerConfigurations([W],$)}registerConfigurations(W,$=!0){const Y=new Set;this.doRegisterConfigurations(W,$,Y),f.registerSchema(i,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Y})}registerDefaultConfigurations(W){const $=new Set;this.doRegisterDefaultConfigurations(W,$),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$,defaultsOverrides:!0})}doRegisterDefaultConfigurations(W,$){var Y;const R=[];for(const{overrides:L,source:z}of W)for(const O in L)if($.add(O),y.test(O)){const P=this.configurationDefaultsOverrides.get(O),H=(Y=P==null?void 0:P.valuesSources)!==null&&Y!==void 0?Y:new Map;if(z)for(const F of Object.keys(L[O]))H.set(F,z);const V=Xn(Xn({},(P==null?void 0:P.value)||{}),L[O]);this.configurationDefaultsOverrides.set(O,{source:z,value:V,valuesSources:H});const G=(0,c.UI)(O),j={type:"object",default:V,description:w.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",G),$ref:i,defaultDefaultValue:V,source:r.HD(z)?void 0:z,defaultValueSource:z};R.push(...C(O)),this.configurationProperties[O]=j,this.defaultLanguageConfigurationOverridesNode.properties[O]=j}else{this.configurationDefaultsOverrides.set(O,{value:L[O],source:z});const P=this.configurationProperties[O];P&&(this.updatePropertyDefaultValue(O,P),this.updateSchema(O,P))}this.doRegisterOverrideIdentifiers(R)}registerOverrideIdentifiers(W){this.doRegisterOverrideIdentifiers(W),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(W){for(const $ of W)this.overrideIdentifiers.add($);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(W,$,Y){W.forEach(R=>{this.validateAndRegisterProperties(R,$,R.extensionInfo,R.restrictedProperties,void 0,Y),this.configurationContributors.push(R),this.registerJSONConfiguration(R)})}validateAndRegisterProperties(W,$=!0,Y,R,L=3,z){var O;L=r.Jp(W.scope)?L:W.scope;const P=W.properties;if(P)for(const V in P){const G=P[V];if($&&N(V,G)){delete P[V];continue}if(G.source=Y,G.defaultDefaultValue=P[V].default,this.updatePropertyDefaultValue(V,G),y.test(V)?G.scope=void 0:(G.scope=r.Jp(G.scope)?L:G.scope,G.restricted=r.Jp(G.restricted)?!!(R!=null&&R.includes(V)):G.restricted),P[V].hasOwnProperty("included")&&!P[V].included){this.excludedConfigurationProperties[V]=P[V],delete P[V];continue}else this.configurationProperties[V]=P[V],!((O=P[V].policy)===null||O===void 0)&&O.name&&this.policyConfigurations.set(P[V].policy.name,V);!P[V].deprecationMessage&&P[V].markdownDeprecationMessage&&(P[V].deprecationMessage=P[V].markdownDeprecationMessage),z.add(V)}const H=W.allOf;if(H)for(const V of H)this.validateAndRegisterProperties(V,$,Y,R,L,z)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(W){const $=Y=>{const R=Y.properties;if(R)for(const z in R)this.updateSchema(z,R[z]);const L=Y.allOf;L==null||L.forEach($)};$(W)}updateSchema(W,$){switch(D.properties[W]=$,$.scope){case 1:p.properties[W]=$;break;case 2:o.properties[W]=$;break;case 6:u.properties[W]=$;break;case 3:d.properties[W]=$;break;case 4:n.properties[W]=$;break;case 5:n.properties[W]=$,this.resourceLanguageSettingsSchema.properties[W]=$;break}}updateOverridePropertyPatternKey(){for(const W of this.overrideIdentifiers.values()){const $=`[${W}]`,Y={type:"object",description:w.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:w.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:i};this.updatePropertyDefaultValue($,Y),D.properties[$]=Y,p.properties[$]=Y,o.properties[$]=Y,u.properties[$]=Y,d.properties[$]=Y,n.properties[$]=Y}}registerOverridePropertyPatternKey(){const W={type:"object",description:w.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:w.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:i};D.patternProperties[g]=W,p.patternProperties[g]=W,o.patternProperties[g]=W,u.patternProperties[g]=W,d.patternProperties[g]=W,n.patternProperties[g]=W,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(W,$){const Y=this.configurationDefaultsOverrides.get(W);let R=Y==null?void 0:Y.value,L=Y==null?void 0:Y.source;r.o8(R)&&(R=$.defaultDefaultValue,L=void 0),r.o8(R)&&(R=E($.type)),$.default=R,$.defaultValueSource=L}}const a="\\[([^\\]]+)\\]",S=new RegExp(a,"g"),g=`^(${a})+$`,y=new RegExp(g);function C(B){const W=[];if(y.test(B)){let $=S.exec(B);for(;$!=null&&$.length;){const Y=$[1].trim();Y&&W.push(Y),$=S.exec(B)}}return(0,b.EB)(W)}function E(B){switch(Array.isArray(B)?B[0]:B){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const A=new v;I.B.add(M.Configuration,A);function N(B,W){var $,Y,R,L;return B.trim()?y.test(B)?w.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",B):A.getConfigurationProperties()[B]!==void 0?w.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",B):!(($=W.policy)===null||$===void 0)&&$.name&&A.getPolicyConfigurations().get((Y=W.policy)===null||Y===void 0?void 0:Y.name)!==void 0?w.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",B,(R=W.policy)===null||R===void 0?void 0:R.name,A.getPolicyConfigurations().get((L=W.policy)===null||L===void 0?void 0:L.name)):null:w.NC("config.property.empty","Cannot register an empty property")}},32064:function(Ot,Ke,e){"use strict";e.d(Ke,{cP:function(){return $},Ao:function(){return C},i6:function(){return te},uy:function(){return X},Fb:function(){return E},K8:function(){return we}});var b=e(1432),U=e(97295),r=e(17301),w=e(63580);function c(...Ne){switch(Ne.length){case 1:return(0,w.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Ne[0]);case 2:return(0,w.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Ne[0],Ne[1]);case 3:return(0,w.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Ne[0],Ne[1],Ne[2]);default:return}}const _=(0,w.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),I=(0,w.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class M{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(ae){switch(ae.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return ae.isTripleEq?"===":"==";case 4:return ae.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return ae.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return ae.lexeme;case 18:return ae.lexeme;case 19:return ae.lexeme;case 20:return"EOF";default:throw(0,r.L6)(`unhandled token type: ${JSON.stringify(ae)}; have you forgotten to add a case?`)}}reset(ae){return this._input=ae,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const Me=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Me})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const Me=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:Me})}else this._match(126)?this._addToken(9):this._error(c("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(c("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(c("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(ae){return this._isAtEnd()||this._input.charCodeAt(this._current)!==ae?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(ae){this._tokens.push({type:ae,offset:this._start})}_error(ae){const Me=this._start,ke=this._input.substring(this._start,this._current),Ue={type:19,offset:this._start,lexeme:ke};this._errors.push({offset:Me,lexeme:ke,additionalInfo:ae}),this._tokens.push(Ue)}_string(){this.stringRe.lastIndex=this._start;const ae=this.stringRe.exec(this._input);if(ae){this._current=this._start+ae[0].length;const Me=this._input.substring(this._start,this._current),ke=M._keywords.get(Me);ke?this._addToken(ke):this._tokens.push({type:17,lexeme:Me,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(_);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let ae=this._current,Me=!1,ke=!1;for(;;){if(ae>=this._input.length){this._current=ae,this._error(I);return}const Le=this._input.charCodeAt(ae);if(Me)Me=!1;else if(Le===47&&!ke){ae++;break}else Le===91?ke=!0:Le===92?Me=!0:Le===93&&(ke=!1);ae++}for(;ae<this._input.length&&M._regexFlags.has(this._input.charCodeAt(ae));)ae++;this._current=ae;const Ue=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Ue,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}M._regexFlags=new Set(["i","g","s","m","y","u"].map(Ne=>Ne.charCodeAt(0))),M._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var D=e(72065);const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",b.dz),p.set("isLinux",b.IJ),p.set("isWindows",b.ED),p.set("isWeb",b.$L),p.set("isMacNative",b.dz&&!b.$L),p.set("isEdge",b.un),p.set("isFirefox",b.vU),p.set("isChrome",b.i7),p.set("isSafari",b.G6);const o=Object.prototype.hasOwnProperty,u={regexParsingWithErrorRecovery:!0},d=(0,w.NC)("contextkey.parser.error.emptyString","Empty context key expression"),n=(0,w.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),i=(0,w.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),f=(0,w.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),v=(0,w.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),a=(0,w.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),S=(0,w.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),g=(0,w.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class y{constructor(ae=u){this._config=ae,this._scanner=new M,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(ae){if(ae===""){this._parsingErrors.push({message:d,offset:0,lexeme:"",additionalInfo:n});return}this._tokens=this._scanner.reset(ae).scan(),this._current=0,this._parsingErrors=[];try{const Me=this._expr();if(!this._isAtEnd()){const ke=this._peek(),Ue=ke.type===17?a:void 0;throw this._parsingErrors.push({message:v,offset:ke.offset,lexeme:M.getLexeme(ke),additionalInfo:Ue}),y._parseError}return Me}catch(Me){if(Me!==y._parseError)throw Me;return}}_expr(){return this._or()}_or(){const ae=[this._and()];for(;this._matchOne(16);){const Me=this._and();ae.push(Me)}return ae.length===1?ae[0]:C.or(...ae)}_and(){const ae=[this._term()];for(;this._matchOne(15);){const Me=this._term();ae.push(Me)}return ae.length===1?ae[0]:C.and(...ae)}_term(){if(this._matchOne(2)){const ae=this._peek();switch(ae.type){case 11:return this._advance(),N.INSTANCE;case 12:return this._advance(),B.INSTANCE;case 0:{this._advance();const Me=this._expr();return this._consume(1,f),Me==null?void 0:Me.negate()}case 17:return this._advance(),z.create(ae.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",ae)}}return this._primary()}_primary(){const ae=this._peek();switch(ae.type){case 11:return this._advance(),C.true();case 12:return this._advance(),C.false();case 0:{this._advance();const Me=this._expr();return this._consume(1,f),Me}case 17:{const Me=ae.lexeme;if(this._advance(),this._matchOne(9)){const Ue=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Ue.type!==10)throw this._errExpectedButGot("REGEX",Ue);const Le=Ue.lexeme,ie=Le.lastIndexOf("/"),ce=ie===Le.length-1?void 0:this._removeFlagsGY(Le.substring(ie+1));let Re;try{Re=new RegExp(Le.substring(1,ie),ce)}catch(ye){throw this._errExpectedButGot("REGEX",Ue)}return j.create(Me,Re)}switch(Ue.type){case 10:case 19:{const Le=[Ue.lexeme];this._advance();let ie=this._peek(),ce=0;for(let he=0;he<Ue.lexeme.length;he++)Ue.lexeme.charCodeAt(he)===40?ce++:Ue.lexeme.charCodeAt(he)===41&&ce--;for(;!this._isAtEnd()&&ie.type!==15&&ie.type!==16;){switch(ie.type){case 0:ce++;break;case 1:ce--;break;case 10:case 18:for(let he=0;he<ie.lexeme.length;he++)ie.lexeme.charCodeAt(he)===40?ce++:Ue.lexeme.charCodeAt(he)===41&&ce--}if(ce<0)break;Le.push(M.getLexeme(ie)),this._advance(),ie=this._peek()}const Re=Le.join(""),ye=Re.lastIndexOf("/"),Se=ye===Re.length-1?void 0:this._removeFlagsGY(Re.substring(ye+1));let me;try{me=new RegExp(Re.substring(1,ye),Se)}catch(he){throw this._errExpectedButGot("REGEX",Ue)}return C.regex(Me,me)}case 18:{const Le=Ue.lexeme;this._advance();let ie=null;if(!(0,U.m5)(Le)){const ce=Le.indexOf("/"),Re=Le.lastIndexOf("/");if(ce!==Re&&ce>=0){const ye=Le.slice(ce+1,Re),Se=Le[Re+1]==="i"?"i":"";try{ie=new RegExp(ye,Se)}catch(me){throw this._errExpectedButGot("REGEX",Ue)}}}if(ie===null)throw this._errExpectedButGot("REGEX",Ue);return j.create(Me,ie)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,i);const Ue=this._value();return C.notIn(Me,Ue)}switch(this._peek().type){case 3:{this._advance();const Ue=this._value();if(this._previous().type===18)return C.equals(Me,Ue);switch(Ue){case"true":return C.has(Me);case"false":return C.not(Me);default:return C.equals(Me,Ue)}}case 4:{this._advance();const Ue=this._value();if(this._previous().type===18)return C.notEquals(Me,Ue);switch(Ue){case"true":return C.not(Me);case"false":return C.has(Me);default:return C.notEquals(Me,Ue)}}case 5:return this._advance(),V.create(Me,this._value());case 6:return this._advance(),G.create(Me,this._value());case 7:return this._advance(),P.create(Me,this._value());case 8:return this._advance(),H.create(Me,this._value());case 13:return this._advance(),C.in(Me,this._value());default:return C.has(Me)}}case 20:throw this._parsingErrors.push({message:S,offset:ae.offset,lexeme:"",additionalInfo:g}),y._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const ae=this._peek();switch(ae.type){case 17:case 18:return this._advance(),ae.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(ae){return ae.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(ae){return this._check(ae)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(ae,Me){if(this._check(ae))return this._advance();throw this._errExpectedButGot(Me,this._peek())}_errExpectedButGot(ae,Me,ke){const Ue=(0,w.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,ae,M.getLexeme(Me)),Le=Me.offset,ie=M.getLexeme(Me);return this._parsingErrors.push({message:Ue,offset:Le,lexeme:ie,additionalInfo:ke}),y._parseError}_check(ae){return this._peek().type===ae}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}y._parseError=new Error;class C{static false(){return N.INSTANCE}static true(){return B.INSTANCE}static has(ae){return W.create(ae)}static equals(ae,Me){return $.create(ae,Me)}static notEquals(ae,Me){return L.create(ae,Me)}static regex(ae,Me){return j.create(ae,Me)}static in(ae,Me){return Y.create(ae,Me)}static notIn(ae,Me){return R.create(ae,Me)}static not(ae){return z.create(ae)}static and(...ae){return m.create(ae,null,!0)}static or(...ae){return J.create(ae,null,!0)}static deserialize(ae){return ae==null?void 0:this._parser.parse(ae)}}C._parser=new y({regexParsingWithErrorRecovery:!1});function E(Ne,ae){const Me=Ne?Ne.substituteConstants():void 0,ke=ae?ae.substituteConstants():void 0;return!Me&&!ke?!0:!Me||!ke?!1:Me.equals(ke)}function A(Ne,ae){return Ne.cmp(ae)}class N{constructor(){this.type=0}cmp(ae){return this.type-ae.type}equals(ae){return ae.type===this.type}substituteConstants(){return this}evaluate(ae){return!1}serialize(){return"false"}keys(){return[]}negate(){return B.INSTANCE}}N.INSTANCE=new N;class B{constructor(){this.type=1}cmp(ae){return this.type-ae.type}equals(ae){return ae.type===this.type}substituteConstants(){return this}evaluate(ae){return!0}serialize(){return"true"}keys(){return[]}negate(){return N.INSTANCE}}B.INSTANCE=new B;class W{static create(ae,Me=null){const ke=p.get(ae);return typeof ke=="boolean"?ke?B.INSTANCE:N.INSTANCE:new W(ae,Me)}constructor(ae,Me){this.key=ae,this.negated=Me,this.type=2}cmp(ae){return ae.type!==this.type?this.type-ae.type:le(this.key,ae.key)}equals(ae){return ae.type===this.type?this.key===ae.key:!1}substituteConstants(){const ae=p.get(this.key);return typeof ae=="boolean"?ae?B.INSTANCE:N.INSTANCE:this}evaluate(ae){return!!ae.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this)),this.negated}}class ${static create(ae,Me,ke=null){if(typeof Me=="boolean")return Me?W.create(ae,ke):z.create(ae,ke);const Ue=p.get(ae);return typeof Ue=="boolean"?Me===(Ue?"true":"false")?B.INSTANCE:N.INSTANCE:new $(ae,Me,ke)}constructor(ae,Me,ke){this.key=ae,this.value=Me,this.negated=ke,this.type=4}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){const ae=p.get(this.key);if(typeof ae=="boolean"){const Me=ae?"true":"false";return this.value===Me?B.INSTANCE:N.INSTANCE}return this}evaluate(ae){return ae.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}class Y{static create(ae,Me){return new Y(ae,Me)}constructor(ae,Me){this.key=ae,this.valueKey=Me,this.type=10,this.negated=null}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.valueKey,ae.key,ae.valueKey)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.valueKey===ae.valueKey:!1}substituteConstants(){return this}evaluate(ae){const Me=ae.getValue(this.valueKey),ke=ae.getValue(this.key);return Array.isArray(Me)?Me.includes(ke):typeof ke=="string"&&typeof Me=="object"&&Me!==null?o.call(Me,ke):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=R.create(this.key,this.valueKey)),this.negated}}class R{static create(ae,Me){return new R(ae,Me)}constructor(ae,Me){this.key=ae,this.valueKey=Me,this.type=11,this._negated=Y.create(ae,Me)}cmp(ae){return ae.type!==this.type?this.type-ae.type:this._negated.cmp(ae._negated)}equals(ae){return ae.type===this.type?this._negated.equals(ae._negated):!1}substituteConstants(){return this}evaluate(ae){return!this._negated.evaluate(ae)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class L{static create(ae,Me,ke=null){if(typeof Me=="boolean")return Me?z.create(ae,ke):W.create(ae,ke);const Ue=p.get(ae);return typeof Ue=="boolean"?Me===(Ue?"true":"false")?N.INSTANCE:B.INSTANCE:new L(ae,Me,ke)}constructor(ae,Me,ke){this.key=ae,this.value=Me,this.negated=ke,this.type=5}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){const ae=p.get(this.key);if(typeof ae=="boolean"){const Me=ae?"true":"false";return this.value===Me?N.INSTANCE:B.INSTANCE}return this}evaluate(ae){return ae.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=$.create(this.key,this.value,this)),this.negated}}class z{static create(ae,Me=null){const ke=p.get(ae);return typeof ke=="boolean"?ke?N.INSTANCE:B.INSTANCE:new z(ae,Me)}constructor(ae,Me){this.key=ae,this.negated=Me,this.type=3}cmp(ae){return ae.type!==this.type?this.type-ae.type:le(this.key,ae.key)}equals(ae){return ae.type===this.type?this.key===ae.key:!1}substituteConstants(){const ae=p.get(this.key);return typeof ae=="boolean"?ae?N.INSTANCE:B.INSTANCE:this}evaluate(ae){return!ae.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=W.create(this.key,this)),this.negated}}function O(Ne,ae){if(typeof Ne=="string"){const Me=parseFloat(Ne);isNaN(Me)||(Ne=Me)}return typeof Ne=="string"||typeof Ne=="number"?ae(Ne):N.INSTANCE}class P{static create(ae,Me,ke=null){return O(Me,Ue=>new P(ae,Ue,ke))}constructor(ae,Me,ke){this.key=ae,this.value=Me,this.negated=ke,this.type=12}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this.value,this)),this.negated}}class H{static create(ae,Me,ke=null){return O(Me,Ue=>new H(ae,Ue,ke))}constructor(ae,Me,ke){this.key=ae,this.value=Me,this.negated=ke,this.type=13}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this.value,this)),this.negated}}class V{static create(ae,Me,ke=null){return O(Me,Ue=>new V(ae,Ue,ke))}constructor(ae,Me,ke){this.key=ae,this.value=Me,this.negated=ke,this.type=14}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class G{static create(ae,Me,ke=null){return O(Me,Ue=>new G(ae,Ue,ke))}constructor(ae,Me,ke){this.key=ae,this.value=Me,this.negated=ke,this.type=15}cmp(ae){return ae.type!==this.type?this.type-ae.type:ge(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class j{static create(ae,Me){return new j(ae,Me)}constructor(ae,Me){this.key=ae,this.regexp=Me,this.type=7,this.negated=null}cmp(ae){if(ae.type!==this.type)return this.type-ae.type;if(this.key<ae.key)return-1;if(this.key>ae.key)return 1;const Me=this.regexp?this.regexp.source:"",ke=ae.regexp?ae.regexp.source:"";return Me<ke?-1:Me>ke?1:0}equals(ae){if(ae.type===this.type){const Me=this.regexp?this.regexp.source:"",ke=ae.regexp?ae.regexp.source:"";return this.key===ae.key&&Me===ke}return!1}substituteConstants(){return this}evaluate(ae){const Me=ae.getValue(this.key);return this.regexp?this.regexp.test(Me):!1}serialize(){const ae=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${ae}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this)),this.negated}}class F{static create(ae){return new F(ae)}constructor(ae){this._actual=ae,this.type=8}cmp(ae){return ae.type!==this.type?this.type-ae.type:this._actual.cmp(ae._actual)}equals(ae){return ae.type===this.type?this._actual.equals(ae._actual):!1}substituteConstants(){return this}evaluate(ae){return!this._actual.evaluate(ae)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function K(Ne){let ae=null;for(let Me=0,ke=Ne.length;Me<ke;Me++){const Ue=Ne[Me].substituteConstants();if(Ne[Me]!==Ue&&ae===null){ae=[];for(let Le=0;Le<Me;Le++)ae[Le]=Ne[Le]}ae!==null&&(ae[Me]=Ue)}return ae===null?Ne:ae}class m{static create(ae,Me,ke){return m._normalizeArr(ae,Me,ke)}constructor(ae,Me){this.expr=ae,this.negated=Me,this.type=6}cmp(ae){if(ae.type!==this.type)return this.type-ae.type;if(this.expr.length<ae.expr.length)return-1;if(this.expr.length>ae.expr.length)return 1;for(let Me=0,ke=this.expr.length;Me<ke;Me++){const Ue=A(this.expr[Me],ae.expr[Me]);if(Ue!==0)return Ue}return 0}equals(ae){if(ae.type===this.type){if(this.expr.length!==ae.expr.length)return!1;for(let Me=0,ke=this.expr.length;Me<ke;Me++)if(!this.expr[Me].equals(ae.expr[Me]))return!1;return!0}return!1}substituteConstants(){const ae=K(this.expr);return ae===this.expr?this:m.create(ae,this.negated,!1)}evaluate(ae){for(let Me=0,ke=this.expr.length;Me<ke;Me++)if(!this.expr[Me].evaluate(ae))return!1;return!0}static _normalizeArr(ae,Me,ke){const Ue=[];let Le=!1;for(const ie of ae)if(ie){if(ie.type===1){Le=!0;continue}if(ie.type===0)return N.INSTANCE;if(ie.type===6){Ue.push(...ie.expr);continue}Ue.push(ie)}if(Ue.length===0&&Le)return B.INSTANCE;if(Ue.length!==0){if(Ue.length===1)return Ue[0];Ue.sort(A);for(let ie=1;ie<Ue.length;ie++)Ue[ie-1].equals(Ue[ie])&&(Ue.splice(ie,1),ie--);if(Ue.length===1)return Ue[0];for(;Ue.length>1;){const ie=Ue[Ue.length-1];if(ie.type!==9)break;Ue.pop();const ce=Ue.pop(),Re=Ue.length===0,ye=J.create(ie.expr.map(Se=>m.create([Se,ce],null,ke)),null,Re);ye&&(Ue.push(ye),Ue.sort(A))}if(Ue.length===1)return Ue[0];if(ke){for(let ie=0;ie<Ue.length;ie++)for(let ce=ie+1;ce<Ue.length;ce++)if(Ue[ie].negate().equals(Ue[ce]))return N.INSTANCE;if(Ue.length===1)return Ue[0]}return new m(Ue,Me)}}serialize(){return this.expr.map(ae=>ae.serialize()).join(" && ")}keys(){const ae=[];for(const Me of this.expr)ae.push(...Me.keys());return ae}negate(){if(!this.negated){const ae=[];for(const Me of this.expr)ae.push(Me.negate());this.negated=J.create(ae,this,!0)}return this.negated}}class J{static create(ae,Me,ke){return J._normalizeArr(ae,Me,ke)}constructor(ae,Me){this.expr=ae,this.negated=Me,this.type=9}cmp(ae){if(ae.type!==this.type)return this.type-ae.type;if(this.expr.length<ae.expr.length)return-1;if(this.expr.length>ae.expr.length)return 1;for(let Me=0,ke=this.expr.length;Me<ke;Me++){const Ue=A(this.expr[Me],ae.expr[Me]);if(Ue!==0)return Ue}return 0}equals(ae){if(ae.type===this.type){if(this.expr.length!==ae.expr.length)return!1;for(let Me=0,ke=this.expr.length;Me<ke;Me++)if(!this.expr[Me].equals(ae.expr[Me]))return!1;return!0}return!1}substituteConstants(){const ae=K(this.expr);return ae===this.expr?this:J.create(ae,this.negated,!1)}evaluate(ae){for(let Me=0,ke=this.expr.length;Me<ke;Me++)if(this.expr[Me].evaluate(ae))return!0;return!1}static _normalizeArr(ae,Me,ke){let Ue=[],Le=!1;if(ae){for(let ie=0,ce=ae.length;ie<ce;ie++){const Re=ae[ie];if(Re){if(Re.type===0){Le=!0;continue}if(Re.type===1)return B.INSTANCE;if(Re.type===9){Ue=Ue.concat(Re.expr);continue}Ue.push(Re)}}if(Ue.length===0&&Le)return N.INSTANCE;Ue.sort(A)}if(Ue.length!==0){if(Ue.length===1)return Ue[0];for(let ie=1;ie<Ue.length;ie++)Ue[ie-1].equals(Ue[ie])&&(Ue.splice(ie,1),ie--);if(Ue.length===1)return Ue[0];if(ke){for(let ie=0;ie<Ue.length;ie++)for(let ce=ie+1;ce<Ue.length;ce++)if(Ue[ie].negate().equals(Ue[ce]))return B.INSTANCE;if(Ue.length===1)return Ue[0]}return new J(Ue,Me)}}serialize(){return this.expr.map(ae=>ae.serialize()).join(" || ")}keys(){const ae=[];for(const Me of this.expr)ae.push(...Me.keys());return ae}negate(){if(!this.negated){const ae=[];for(const Me of this.expr)ae.push(Me.negate());for(;ae.length>1;){const Me=ae.shift(),ke=ae.shift(),Ue=[];for(const Le of Pe(Me))for(const ie of Pe(ke))Ue.push(m.create([Le,ie],null,!1));ae.unshift(J.create(Ue,null,!1))}this.negated=J.create(ae,this,!0)}return this.negated}}class X extends W{static all(){return X._info.values()}constructor(ae,Me,ke){super(ae,null),this._defaultValue=Me,typeof ke=="object"?X._info.push(Ni(Xn({},ke),{key:ae})):ke!==!0&&X._info.push({key:ae,description:ke,type:Me!=null?typeof Me:void 0})}bindTo(ae){return ae.createKey(this.key,this._defaultValue)}getValue(ae){return ae.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(ae){return $.create(this.key,ae)}}X._info=[];const te=(0,D.yh)("contextKeyService");function le(Ne,ae){return Ne<ae?-1:Ne>ae?1:0}function ge(Ne,ae,Me,ke){return Ne<Me?-1:Ne>Me?1:ae<ke?-1:ae>ke?1:0}function we(Ne,ae){if(Ne.type===0||ae.type===1)return!0;if(Ne.type===9)return ae.type===9?pe(Ne.expr,ae.expr):!1;if(ae.type===9){for(const Me of ae.expr)if(we(Ne,Me))return!0;return!1}if(Ne.type===6){if(ae.type===6)return pe(ae.expr,Ne.expr);for(const Me of Ne.expr)if(we(Me,ae))return!0;return!1}return Ne.equals(ae)}function pe(Ne,ae){let Me=0,ke=0;for(;Me<Ne.length&&ke<ae.length;){const Ue=Ne[Me].cmp(ae[ke]);if(Ue<0)return!1;Ue===0&&Me++,ke++}return Me===Ne.length}function Pe(Ne){return Ne.type===9?Ne.expr:[Ne]}},39282:function(Ot,Ke,e){"use strict";e.d(Ke,{Pf:function(){return I},cv:function(){return _},d0:function(){return d}});var b=e(1432),U=e(63580),r=e(32064);const w=new r.uy("isMac",b.dz,(0,U.NC)("isMac","Whether the operating system is macOS")),c=new r.uy("isLinux",b.IJ,(0,U.NC)("isLinux","Whether the operating system is Linux")),_=new r.uy("isWindows",b.ED,(0,U.NC)("isWindows","Whether the operating system is Windows")),I=new r.uy("isWeb",b.$L,(0,U.NC)("isWeb","Whether the platform is a web browser")),M=new r.uy("isMacNative",b.dz&&!b.$L,(0,U.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),D=new r.uy("isIOS",b.gn,(0,U.NC)("isIOS","Whether the operating system is iOS")),p=new r.uy("isMobile",b.tq,(0,U.NC)("isMobile","Whether the platform is a mobile web browser")),o=new r.uy("isDevelopment",!1,!0),u=new r.uy("productQualityType","",(0,U.NC)("productQualityType","Quality type of VS Code")),d="inputFocus",n=new r.uy(d,!1,(0,U.NC)("inputFocus","Whether keyboard focus is inside an input box"))},5606:function(Ot,Ke,e){"use strict";e.d(Ke,{i:function(){return r},u:function(){return U}});var b=e(72065);const U=(0,b.yh)("contextViewService"),r=(0,b.yh)("contextMenuService")},28820:function(Ot,Ke,e){"use strict";e.d(Ke,{S:function(){return U}});var b=e(72065);const U=(0,b.yh)("dialogService")},16021:function(Ot,Ke,e){"use strict";e.d(Ke,{Ej:function(){return c},Km:function(){return U}});var b=e(89872);const U={EDITORS:"CodeEditors",FILES:"CodeFiles"};class r{}const w={DragAndDropContribution:"workbench.contributions.dragAndDrop"};b.B.add(w.DragAndDropContribution,new r);class c{constructor(){}static getInstance(){return c.INSTANCE}hasData(I){return I&&I===this.proto}getData(I){if(this.hasData(I))return this.data}}c.INSTANCE=new c},48814:function(Ot,Ke,e){"use strict";e.d(Ke,{Y:function(){return U}});var b=e(72065);const U=(0,b.yh)("environmentService")},37726:function(Ot,Ke,e){"use strict";e.d(Ke,{Yb:function(){return B},Nq:function(){return W},iX:function(){return S}});var b=e(50153),U=e(65321),r=e(40032),w=e(97862),c=e(93794),_=e(73046),I=e(4669),M=e(60812),D=e(63580);const p=D.NC("defaultLabel","input"),o=D.NC("label.preserveCaseToggle","Preserve Case");class u extends r.Z{constructor(Y){super({icon:_.l.preserveCase,title:o+Y.appendTitle,isChecked:Y.isChecked,inputActiveOptionBorder:Y.inputActiveOptionBorder,inputActiveOptionForeground:Y.inputActiveOptionForeground,inputActiveOptionBackground:Y.inputActiveOptionBackground})}}class d extends c.${constructor(Y,R,L,z){super(),this._showOptionButtons=L,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new I.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new I.Q5),this._onInput=this._register(new I.Q5),this._onKeyUp=this._register(new I.Q5),this._onPreserveCaseKeyDown=this._register(new I.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=R,this.placeholder=z.placeholder||"",this.validation=z.validation,this.label=z.label||p;const O=z.appendPreserveCaseLabel||"",P=z.history||[],H=!!z.flexibleHeight,V=!!z.flexibleWidth,G=z.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new w.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:P,showHistoryHint:z.showHistoryHint,flexibleHeight:H,flexibleWidth:V,flexibleMaxHeight:G,inputBoxStyles:z.inputBoxStyles})),this.preserveCase=this._register(new u(Xn({appendTitle:O,isChecked:!1},z.toggleStyles))),this._register(this.preserveCase.onChange(K=>{this._onDidOptionChange.fire(K),!K&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(K=>{this._onPreserveCaseKeyDown.fire(K)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const j=[this.preserveCase.domNode];this.onkeydown(this.domNode,K=>{if(K.equals(15)||K.equals(17)||K.equals(9)){const m=j.indexOf(this.domNode.ownerDocument.activeElement);if(m>=0){let J=-1;K.equals(17)?J=(m+1)%j.length:K.equals(15)&&(m===0?J=j.length-1:J=m-1),K.equals(9)?(j[m].blur(),this.inputBox.focus()):J>=0&&j[J].focus(),U.zB.stop(K,!0)}}});const F=document.createElement("div");F.className="controls",F.style.display=this._showOptionButtons?"block":"none",F.appendChild(this.preserveCase.domNode),this.domNode.appendChild(F),Y==null||Y.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,K=>this._onKeyDown.fire(K)),this.onkeyup(this.inputBox.inputElement,K=>this._onKeyUp.fire(K)),this.oninput(this.inputBox.inputElement,K=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,K=>this._onMouseDown.fire(K))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(Y){Y?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(Y){this.preserveCase.checked=Y}focusOnPreserve(){this.preserveCase.focus()}validate(){var Y;(Y=this.inputBox)===null||Y===void 0||Y.validate()}set width(Y){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=Y+"px"}dispose(){super.dispose()}}var n=e(32064),i=e(49989),f=e(5976),v=function($,Y,R,L){var z=arguments.length,O=z<3?Y:L===null?L=Object.getOwnPropertyDescriptor(Y,R):L,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate($,Y,R,L);else for(var H=$.length-1;H>=0;H--)(P=$[H])&&(O=(z<3?P(O):z>3?P(Y,R,O):P(Y,R))||O);return z>3&&O&&Object.defineProperty(Y,R,O),O},a=function($,Y){return function(R,L){Y(R,L,$)}};const S=new n.uy("suggestWidgetVisible",!1,(0,D.NC)("suggestWidgetVisible","Whether suggestion are visible")),g="historyNavigationWidgetFocus",y="historyNavigationForwardsEnabled",C="historyNavigationBackwardsEnabled";let E;const A=[];function N($,Y){if(A.includes(Y))throw new Error("Cannot register the same widget multiple times");A.push(Y);const R=new f.SL,L=new n.uy(g,!1).bindTo($),z=new n.uy(y,!0).bindTo($),O=new n.uy(C,!0).bindTo($),P=()=>{L.set(!0),E=Y},H=()=>{L.set(!1),E===Y&&(E=void 0)};return(0,U.H9)(Y.element)&&P(),R.add(Y.onDidFocus(()=>P())),R.add(Y.onDidBlur(()=>H())),R.add((0,f.OF)(()=>{A.splice(A.indexOf(Y),1),H()})),{historyNavigationForwardsEnablement:z,historyNavigationBackwardsEnablement:O,dispose(){R.dispose()}}}let B=class extends b.V{constructor(Y,R,L,z){super(Y,R,L);const O=this._register(z.createScoped(this.inputBox.element));this._register(N(O,this.inputBox))}};B=v([a(3,n.i6)],B);let W=class extends d{constructor(Y,R,L,z,O=!1){super(Y,R,O,L);const P=this._register(z.createScoped(this.inputBox.element));this._register(N(P,this.inputBox))}};W=v([a(3,n.i6)],W),i.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(g),n.Ao.equals(C,!0),n.Ao.not("isComposing"),S.isEqualTo(!1)),primary:16,secondary:[528],handler:$=>{E==null||E.showPreviousValue()}}),i.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(g),n.Ao.equals(y,!0),n.Ao.not("isComposing"),S.isEqualTo(!1)),primary:18,secondary:[530],handler:$=>{E==null||E.showNextValue()}})},97108:function(Ot,Ke,e){"use strict";e.d(Ke,{M:function(){return b}});class b{constructor(r,w=[],c=!1){this.ctor=r,this.staticArguments=w,this.supportsDelayedInstantiation=c}}},65026:function(Ot,Ke,e){"use strict";e.d(Ke,{d:function(){return w},z:function(){return r}});var b=e(97108);const U=[];function r(c,_,I){_ instanceof b.M||(_=new b.M(_,[],!!I)),U.push([c,_])}function w(){return U}},72065:function(Ot,Ke,e){"use strict";e.d(Ke,{I8:function(){return b},TG:function(){return U},yh:function(){return w}});var b;(function(c){c.serviceIds=new Map,c.DI_TARGET="$di$target",c.DI_DEPENDENCIES="$di$dependencies";function _(I){return I[c.DI_DEPENDENCIES]||[]}c.getServiceDependencies=_})(b||(b={}));const U=w("instantiationService");function r(c,_,I){_[b.DI_TARGET]===_?_[b.DI_DEPENDENCIES].push({id:c,index:I}):(_[b.DI_DEPENDENCIES]=[{id:c,index:I}],_[b.DI_TARGET]=_)}function w(c){if(b.serviceIds.has(c))return b.serviceIds.get(c);const _=function(I,M,D){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(_,I,D)};return _.toString=()=>c,b.serviceIds.set(c,_),_}},60972:function(Ot,Ke,e){"use strict";e.d(Ke,{y:function(){return b}});class b{constructor(...r){this._entries=new Map;for(const[w,c]of r)this.set(w,c)}set(r,w){const c=this._entries.get(r);return this._entries.set(r,w),c}get(r){return this._entries.get(r)}}},81294:function(Ot,Ke,e){"use strict";e.d(Ke,{I:function(){return r}});var b=e(4669),U=e(89872);const r={JSONContribution:"base.contributions.json"};function w(I){return I.length>0&&I.charAt(I.length-1)==="#"?I.substring(0,I.length-1):I}class c{constructor(){this._onDidChangeSchema=new b.Q5,this.schemasById={}}registerSchema(M,D){this.schemasById[w(M)]=D,this._onDidChangeSchema.fire(M)}notifySchemaChanged(M){this._onDidChangeSchema.fire(M)}}const _=new c;U.B.add(r.JSONContribution,_)},91847:function(Ot,Ke,e){"use strict";e.d(Ke,{d:function(){return U}});var b=e(72065);const U=(0,b.yh)("keybindingService")},49989:function(Ot,Ke,e){"use strict";e.d(Ke,{W:function(){return M}});var b=e(8313),U=e(1432),r=e(94565),w=e(89872),c=e(5976),_=e(91741);class I{constructor(){this._coreKeybindings=new _.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(U.OS===1){if(u&&u.win)return u.win}else if(U.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const d=I.bindToCurrentPlatform(u),n=new c.SL;if(d&&d.primary){const i=(0,b.Z9)(d.primary,U.OS);i&&n.add(this._registerDefaultKeybinding(i,u.id,u.args,u.weight,0,u.when))}if(d&&Array.isArray(d.secondary))for(let i=0,f=d.secondary.length;i<f;i++){const v=d.secondary[i],a=(0,b.Z9)(v,U.OS);a&&n.add(this._registerDefaultKeybinding(a,u.id,u.args,u.weight,-i-1,u.when))}return n}registerCommandAndKeybindingRule(u){return(0,c.F8)(this.registerKeybindingRule(u),r.P.registerCommand(u))}_registerDefaultKeybinding(u,d,n,i,f,v){const a=this._coreKeybindings.push({keybinding:u,command:d,commandArgs:n,when:v,weight1:i,weight2:f,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,c.OF)(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}const M=new I,D={EditorModes:"platform.keybindingsRegistry"};w.B.add(D.EditorModes,M);function p(o,u){if(o.weight1!==u.weight1)return o.weight1-u.weight1;if(o.command&&u.command){if(o.command<u.command)return-1;if(o.command>u.command)return 1}return o.weight2-u.weight2}},44349:function(Ot,Ke,e){"use strict";e.d(Ke,{e:function(){return U}});var b=e(72065);const U=(0,b.yh)("labelService")},14107:function(Ot,Ke,e){"use strict";e.d(Ke,{Lw:function(){return Ht},XN:function(){return et},ls:function(){return ne},ev:function(){return cn},CQ:function(){return be},PS:function(){return gn},uJ:function(){return ln}});var b=e(65321),U=e(9488),r=e(71050),w=e(4669),c=e(5976),_=e(5520),I=e(69047);class M{get templateId(){return this.renderer.templateId}constructor(Q,fe){this.renderer=Q,this.modelProvider=fe}renderTemplate(Q){return{data:this.renderer.renderTemplate(Q),disposable:c.JT.None}}renderElement(Q,fe,We,at){var Ct;if((Ct=We.disposable)===null||Ct===void 0||Ct.dispose(),!We.data)return;const Rt=this.modelProvider();if(Rt.isResolved(Q))return this.renderer.renderElement(Rt.get(Q),Q,We.data,at);const Vt=new r.A,an=Rt.resolve(Q,Vt.token);We.disposable={dispose:()=>Vt.cancel()},this.renderer.renderPlaceholder(Q,We.data),an.then(An=>this.renderer.renderElement(An,Q,We.data,at))}disposeTemplate(Q){Q.disposable&&(Q.disposable.dispose(),Q.disposable=void 0),Q.data&&(this.renderer.disposeTemplate(Q.data),Q.data=void 0)}}class D{constructor(Q,fe){this.modelProvider=Q,this.accessibilityProvider=fe}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(Q){const fe=this.modelProvider();return fe.isResolved(Q)?this.accessibilityProvider.getAriaLabel(fe.get(Q)):null}}function p(lt,Q){return Ni(Xn({},Q),{accessibilityProvider:Q.accessibilityProvider&&new D(lt,Q.accessibilityProvider)})}class o{constructor(Q,fe,We,at,Ct={}){const Rt=()=>this.model,Vt=at.map(an=>new M(an,Rt));this.list=new I.aV(Q,fe,We,Vt,p(Rt,Ct))}updateOptions(Q){this.list.updateOptions(Q)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return w.ju.map(this.list.onMouseDblClick,({element:Q,index:fe,browserEvent:We})=>({element:Q===void 0?void 0:this._model.get(Q),index:fe,browserEvent:We}))}get onPointer(){return w.ju.map(this.list.onPointer,({element:Q,index:fe,browserEvent:We})=>({element:Q===void 0?void 0:this._model.get(Q),index:fe,browserEvent:We}))}get onDidChangeSelection(){return w.ju.map(this.list.onDidChangeSelection,({elements:Q,indexes:fe,browserEvent:We})=>({elements:Q.map(at=>this._model.get(at)),indexes:fe,browserEvent:We}))}get model(){return this._model}set model(Q){this._model=Q,this.list.splice(0,this.list.length,(0,U.w6)(Q.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(Q=>this.model.get(Q))}style(Q){this.list.style(Q)}dispose(){this.list.dispose()}}var u=e(33225);class d{constructor(Q,fe,We){this.columns=Q,this.getColumnSize=We,this.templateId=d.TemplateId,this.renderedTemplates=new Set;const at=new Map(fe.map(Ct=>[Ct.templateId,Ct]));this.renderers=[];for(const Ct of Q){const Rt=at.get(Ct.templateId);if(!Rt)throw new Error(`Table cell renderer for template id ${Ct.templateId} not found.`);this.renderers.push(Rt)}}renderTemplate(Q){const fe=(0,b.R3)(Q,(0,b.$)(".monaco-table-tr")),We=[],at=[];for(let Rt=0;Rt<this.columns.length;Rt++){const Vt=this.renderers[Rt],an=(0,b.R3)(fe,(0,b.$)(".monaco-table-td",{"data-col-index":Rt}));an.style.width=`${this.getColumnSize(Rt)}px`,We.push(an),at.push(Vt.renderTemplate(an))}const Ct={container:Q,cellContainers:We,cellTemplateData:at};return this.renderedTemplates.add(Ct),Ct}renderElement(Q,fe,We,at){for(let Ct=0;Ct<this.columns.length;Ct++){const Vt=this.columns[Ct].project(Q);this.renderers[Ct].renderElement(Vt,fe,We.cellTemplateData[Ct],at)}}disposeElement(Q,fe,We,at){for(let Ct=0;Ct<this.columns.length;Ct++){const Rt=this.renderers[Ct];if(Rt.disposeElement){const an=this.columns[Ct].project(Q);Rt.disposeElement(an,fe,We.cellTemplateData[Ct],at)}}}disposeTemplate(Q){for(let fe=0;fe<this.columns.length;fe++)this.renderers[fe].disposeTemplate(Q.cellTemplateData[fe]);(0,b.PO)(Q.container),this.renderedTemplates.delete(Q)}layoutColumn(Q,fe){for(const{cellContainers:We}of this.renderedTemplates)We[Q].style.width=`${fe}px`}}d.TemplateId="row";function n(lt){return{getHeight(Q){return lt.getHeight(Q)},getTemplateId(){return d.TemplateId}}}class i{get minimumSize(){var Q;return(Q=this.column.minimumWidth)!==null&&Q!==void 0?Q:120}get maximumSize(){var Q;return(Q=this.column.maximumWidth)!==null&&Q!==void 0?Q:Number.POSITIVE_INFINITY}get onDidChange(){var Q;return(Q=this.column.onDidChangeWidthConstraints)!==null&&Q!==void 0?Q:w.ju.None}constructor(Q,fe){this.column=Q,this.index=fe,this._onDidLayout=new w.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,b.$)(".monaco-table-th",{"data-col-index":fe,title:Q.tooltip},Q.label)}layout(Q){this._onDidLayout.fire([this.index,Q])}}class f{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(Q){this.list.scrollTop=Q}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(Q,fe,We,at,Ct,Rt){this.virtualDelegate=We,this.domId=`table_id_${++f.InstanceCount}`,this.disposables=new c.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,b.R3)(fe,(0,b.$)(`.monaco-table.${this.domId}`));const Vt=at.map((zn,ui)=>new i(zn,ui)),an={size:Vt.reduce((zn,ui)=>zn+ui.column.weight,0),views:Vt.map(zn=>({size:zn.column.weight,view:zn}))};this.splitview=this.disposables.add(new u.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:an})),this.splitview.el.style.height=`${We.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${We.headerRowHeight}px`;const An=new d(at,Ct,zn=>this.splitview.getViewSize(zn));this.list=this.disposables.add(new I.aV(Q,this.domNode,n(We),[An],Rt)),w.ju.any(...Vt.map(zn=>zn.onDidLayout))(([zn,ui])=>An.layoutColumn(zn,ui),null,this.disposables),this.splitview.onDidSashReset(zn=>{const ui=at.reduce((oi,Kn)=>oi+Kn.weight,0),hi=at[zn].weight/ui*this.cachedWidth;this.splitview.resizeView(zn,hi)},null,this.disposables),this.styleElement=(0,b.dS)(this.domNode),this.style(I.uZ)}updateOptions(Q){this.list.updateOptions(Q)}splice(Q,fe,We=[]){this.list.splice(Q,fe,We)}getHTMLElement(){return this.domNode}style(Q){const fe=[];fe.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=fe.join(`
`),this.list.style(Q)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}f.InstanceCount=0;var v=e(4850),a=e(59069),S=e(90317),g=e(50153),y=e(97862),C=e(72010),E=e(40032),A;(function(lt){lt[lt.Expanded=0]="Expanded",lt[lt.Collapsed=1]="Collapsed",lt[lt.PreserveOrExpanded=2]="PreserveOrExpanded",lt[lt.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(A||(A={}));var N;(function(lt){lt[lt.Unknown=0]="Unknown",lt[lt.Twistie=1]="Twistie",lt[lt.Element=2]="Element",lt[lt.Filter=3]="Filter"})(N||(N={}));class B extends Error{constructor(Q,fe){super(`TreeError [${Q}] ${fe}`)}}class W{constructor(Q){this.fn=Q,this._map=new WeakMap}map(Q){let fe=this._map.get(Q);return fe||(fe=this.fn(Q),this._map.set(Q,fe)),fe}}var $=e(15393),Y=e(5635),R=e(22571),L=e(53725);function z(lt){return typeof lt=="object"&&"visibility"in lt&&"data"in lt}function O(lt){switch(lt){case!0:return 1;case!1:return 0;default:return lt}}function P(lt){return typeof lt.collapsible=="boolean"}class H{constructor(Q,fe,We,at={}){this.user=Q,this.list=fe,this.rootRef=[],this.eventBufferer=new w.E7,this._onDidChangeCollapseState=new w.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new w.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new w.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new $.vp(Y.n),this.collapseByDefault=typeof at.collapseByDefault=="undefined"?!1:at.collapseByDefault,this.filter=at.filter,this.autoExpandSingleChildren=typeof at.autoExpandSingleChildren=="undefined"?!1:at.autoExpandSingleChildren,this.root={parent:void 0,element:We,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(Q,fe,We=L.$.empty(),at={}){if(Q.length===0)throw new B(this.user,"Invalid tree location");at.diffIdentityProvider?this.spliceSmart(at.diffIdentityProvider,Q,fe,We,at):this.spliceSimple(Q,fe,We,at)}spliceSmart(Q,fe,We,at,Ct,Rt){var Vt;at===void 0&&(at=L.$.empty()),Rt===void 0&&(Rt=(Vt=Ct.diffDepth)!==null&&Vt!==void 0?Vt:0);const{parentNode:an}=this.getParentNodeWithListIndex(fe);if(!an.lastDiffIds)return this.spliceSimple(fe,We,at,Ct);const An=[...at],zn=fe[fe.length-1],ui=new R.Hs({getElements:()=>an.lastDiffIds},{getElements:()=>[...an.children.slice(0,zn),...An,...an.children.slice(zn+We)].map(pi=>Q.getId(pi.element).toString())}).ComputeDiff(!1);if(ui.quitEarly)return an.lastDiffIds=void 0,this.spliceSimple(fe,We,An,Ct);const hi=fe.slice(0,-1),oi=(pi,qi,Es)=>{if(Rt>0)for(let rs=0;rs<Es;rs++)pi--,qi--,this.spliceSmart(Q,[...hi,pi,0],Number.MAX_SAFE_INTEGER,An[qi].children,Ct,Rt-1)};let Kn=Math.min(an.children.length,zn+We),di=An.length;for(const pi of ui.changes.sort((qi,Es)=>Es.originalStart-qi.originalStart))oi(Kn,di,Kn-(pi.originalStart+pi.originalLength)),Kn=pi.originalStart,di=pi.modifiedStart-zn,this.spliceSimple([...hi,Kn],pi.originalLength,L.$.slice(An,di,di+pi.modifiedLength),Ct);oi(Kn,di,Kn)}spliceSimple(Q,fe,We=L.$.empty(),{onDidCreateNode:at,onDidDeleteNode:Ct,diffIdentityProvider:Rt}){const{parentNode:Vt,listIndex:an,revealed:An,visible:zn}=this.getParentNodeWithListIndex(Q),ui=[],hi=L.$.map(We,us=>this.createTreeNode(us,Vt,Vt.visible?1:0,An,ui,at)),oi=Q[Q.length-1],Kn=Vt.children.length>0;let di=0;for(let us=oi;us>=0&&us<Vt.children.length;us--){const is=Vt.children[us];if(is.visible){di=is.visibleChildIndex;break}}const pi=[];let qi=0,Es=0;for(const us of hi)pi.push(us),Es+=us.renderNodeCount,us.visible&&(us.visibleChildIndex=di+qi++);const rs=(0,U.db)(Vt.children,oi,fe,pi);Rt?Vt.lastDiffIds?(0,U.db)(Vt.lastDiffIds,oi,fe,pi.map(us=>Rt.getId(us.element).toString())):Vt.lastDiffIds=Vt.children.map(us=>Rt.getId(us.element).toString()):Vt.lastDiffIds=void 0;let Us=0;for(const us of rs)us.visible&&Us++;if(Us!==0)for(let us=oi+pi.length;us<Vt.children.length;us++){const is=Vt.children[us];is.visible&&(is.visibleChildIndex-=Us)}if(Vt.visibleChildrenCount+=qi-Us,An&&zn){const us=rs.reduce((is,Ss)=>is+(Ss.visible?Ss.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Vt,Es-us),this.list.splice(an,us,ui)}if(rs.length>0&&Ct){const us=is=>{Ct(is),is.children.forEach(us)};rs.forEach(us)}this._onDidSplice.fire({insertedNodes:pi,deletedNodes:rs});const Gi=Vt.children.length>0;Kn!==Gi&&this.setCollapsible(Q.slice(0,-1),Gi);let ys=Vt;for(;ys;){if(ys.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}ys=ys.parent}}rerender(Q){if(Q.length===0)throw new B(this.user,"Invalid tree location");const{node:fe,listIndex:We,revealed:at}=this.getTreeNodeWithListIndex(Q);fe.visible&&at&&this.list.splice(We,1,[fe])}has(Q){return this.hasTreeNode(Q)}getListIndex(Q){const{listIndex:fe,visible:We,revealed:at}=this.getTreeNodeWithListIndex(Q);return We&&at?fe:-1}getListRenderCount(Q){return this.getTreeNode(Q).renderNodeCount}isCollapsible(Q){return this.getTreeNode(Q).collapsible}setCollapsible(Q,fe){const We=this.getTreeNode(Q);typeof fe=="undefined"&&(fe=!We.collapsible);const at={collapsible:fe};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(Q,at))}isCollapsed(Q){return this.getTreeNode(Q).collapsed}setCollapsed(Q,fe,We){const at=this.getTreeNode(Q);typeof fe=="undefined"&&(fe=!at.collapsed);const Ct={collapsed:fe,recursive:We||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(Q,Ct))}_setCollapseState(Q,fe){const{node:We,listIndex:at,revealed:Ct}=this.getTreeNodeWithListIndex(Q),Rt=this._setListNodeCollapseState(We,at,Ct,fe);if(We!==this.root&&this.autoExpandSingleChildren&&Rt&&!P(fe)&&We.collapsible&&!We.collapsed&&!fe.recursive){let Vt=-1;for(let an=0;an<We.children.length;an++)if(We.children[an].visible)if(Vt>-1){Vt=-1;break}else Vt=an;Vt>-1&&this._setCollapseState([...Q,Vt],fe)}return Rt}_setListNodeCollapseState(Q,fe,We,at){const Ct=this._setNodeCollapseState(Q,at,!1);if(!We||!Q.visible||!Ct)return Ct;const Rt=Q.renderNodeCount,Vt=this.updateNodeAfterCollapseChange(Q),an=Rt-(fe===-1?0:1);return this.list.splice(fe+1,an,Vt.slice(1)),Ct}_setNodeCollapseState(Q,fe,We){let at;if(Q===this.root?at=!1:(P(fe)?(at=Q.collapsible!==fe.collapsible,Q.collapsible=fe.collapsible):Q.collapsible?(at=Q.collapsed!==fe.collapsed,Q.collapsed=fe.collapsed):at=!1,at&&this._onDidChangeCollapseState.fire({node:Q,deep:We})),!P(fe)&&fe.recursive)for(const Ct of Q.children)at=this._setNodeCollapseState(Ct,fe,!0)||at;return at}expandTo(Q){this.eventBufferer.bufferEvents(()=>{let fe=this.getTreeNode(Q);for(;fe.parent;)fe=fe.parent,Q=Q.slice(0,Q.length-1),fe.collapsed&&this._setCollapseState(Q,{collapsed:!1,recursive:!1})})}refilter(){const Q=this.root.renderNodeCount,fe=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,Q,fe),this.refilterDelayer.cancel()}createTreeNode(Q,fe,We,at,Ct,Rt){const Vt={parent:fe,element:Q.element,children:[],depth:fe.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof Q.collapsible=="boolean"?Q.collapsible:typeof Q.collapsed!="undefined",collapsed:typeof Q.collapsed=="undefined"?this.collapseByDefault:Q.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},an=this._filterNode(Vt,We);Vt.visibility=an,at&&Ct.push(Vt);const An=Q.children||L.$.empty(),zn=at&&an!==0&&!Vt.collapsed;let ui=0,hi=1;for(const oi of An){const Kn=this.createTreeNode(oi,Vt,an,zn,Ct,Rt);Vt.children.push(Kn),hi+=Kn.renderNodeCount,Kn.visible&&(Kn.visibleChildIndex=ui++)}return Vt.collapsible=Vt.collapsible||Vt.children.length>0,Vt.visibleChildrenCount=ui,Vt.visible=an===2?ui>0:an===1,Vt.visible?Vt.collapsed||(Vt.renderNodeCount=hi):(Vt.renderNodeCount=0,at&&Ct.pop()),Rt==null||Rt(Vt),Vt}updateNodeAfterCollapseChange(Q){const fe=Q.renderNodeCount,We=[];return this._updateNodeAfterCollapseChange(Q,We),this._updateAncestorsRenderNodeCount(Q.parent,We.length-fe),We}_updateNodeAfterCollapseChange(Q,fe){if(Q.visible===!1)return 0;if(fe.push(Q),Q.renderNodeCount=1,!Q.collapsed)for(const We of Q.children)Q.renderNodeCount+=this._updateNodeAfterCollapseChange(We,fe);return this._onDidChangeRenderNodeCount.fire(Q),Q.renderNodeCount}updateNodeAfterFilterChange(Q){const fe=Q.renderNodeCount,We=[];return this._updateNodeAfterFilterChange(Q,Q.visible?1:0,We),this._updateAncestorsRenderNodeCount(Q.parent,We.length-fe),We}_updateNodeAfterFilterChange(Q,fe,We,at=!0){let Ct;if(Q!==this.root){if(Ct=this._filterNode(Q,fe),Ct===0)return Q.visible=!1,Q.renderNodeCount=0,!1;at&&We.push(Q)}const Rt=We.length;Q.renderNodeCount=Q===this.root?0:1;let Vt=!1;if(!Q.collapsed||Ct!==0){let an=0;for(const An of Q.children)Vt=this._updateNodeAfterFilterChange(An,Ct,We,at&&!Q.collapsed)||Vt,An.visible&&(An.visibleChildIndex=an++);Q.visibleChildrenCount=an}else Q.visibleChildrenCount=0;return Q!==this.root&&(Q.visible=Ct===2?Vt:Ct===1,Q.visibility=Ct),Q.visible?Q.collapsed||(Q.renderNodeCount+=We.length-Rt):(Q.renderNodeCount=0,at&&We.pop()),this._onDidChangeRenderNodeCount.fire(Q),Q.visible}_updateAncestorsRenderNodeCount(Q,fe){if(fe!==0)for(;Q;)Q.renderNodeCount+=fe,this._onDidChangeRenderNodeCount.fire(Q),Q=Q.parent}_filterNode(Q,fe){const We=this.filter?this.filter.filter(Q.element,fe):1;return typeof We=="boolean"?(Q.filterData=void 0,We?1:0):z(We)?(Q.filterData=We.data,O(We.visibility)):(Q.filterData=void 0,O(We))}hasTreeNode(Q,fe=this.root){if(!Q||Q.length===0)return!0;const[We,...at]=Q;return We<0||We>fe.children.length?!1:this.hasTreeNode(at,fe.children[We])}getTreeNode(Q,fe=this.root){if(!Q||Q.length===0)return fe;const[We,...at]=Q;if(We<0||We>fe.children.length)throw new B(this.user,"Invalid tree location");return this.getTreeNode(at,fe.children[We])}getTreeNodeWithListIndex(Q){if(Q.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:fe,listIndex:We,revealed:at,visible:Ct}=this.getParentNodeWithListIndex(Q),Rt=Q[Q.length-1];if(Rt<0||Rt>fe.children.length)throw new B(this.user,"Invalid tree location");const Vt=fe.children[Rt];return{node:Vt,listIndex:We,revealed:at,visible:Ct&&Vt.visible}}getParentNodeWithListIndex(Q,fe=this.root,We=0,at=!0,Ct=!0){const[Rt,...Vt]=Q;if(Rt<0||Rt>fe.children.length)throw new B(this.user,"Invalid tree location");for(let an=0;an<Rt;an++)We+=fe.children[an].renderNodeCount;return at=at&&!fe.collapsed,Ct=Ct&&fe.visible,Vt.length===0?{parentNode:fe,listIndex:We,revealed:at,visible:Ct}:this.getParentNodeWithListIndex(Vt,fe.children[Rt],We+1,at,Ct)}getNode(Q=[]){return this.getTreeNode(Q)}getNodeLocation(Q){const fe=[];let We=Q;for(;We.parent;)fe.push(We.parent.children.indexOf(We)),We=We.parent;return fe.reverse()}getParentNodeLocation(Q){if(Q.length!==0)return Q.length===1?[]:(0,U.JH)(Q)[0]}getFirstElementChild(Q){const fe=this.getTreeNode(Q);if(fe.children.length!==0)return fe.children[0].element}}var V=e(74741),G=e(73046),j=e(25670),F=e(43702),K=e(60075),m=e(59870),J=e(98401),X=e(63580);class te extends C.kX{constructor(Q){super(Q.elements.map(fe=>fe.element)),this.data=Q}}function le(lt){return lt instanceof C.kX?new te(lt):lt}class ge{constructor(Q,fe){this.modelProvider=Q,this.dnd=fe,this.autoExpandDisposable=c.JT.None,this.disposables=new c.SL}getDragURI(Q){return this.dnd.getDragURI(Q.element)}getDragLabel(Q,fe){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Q.map(We=>We.element),fe)}onDragStart(Q,fe){var We,at;(at=(We=this.dnd).onDragStart)===null||at===void 0||at.call(We,le(Q),fe)}onDragOver(Q,fe,We,at,Ct=!0){const Rt=this.dnd.onDragOver(le(Q),fe&&fe.element,We,at),Vt=this.autoExpandNode!==fe;if(Vt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=fe),typeof fe=="undefined")return Rt;if(Vt&&typeof Rt!="boolean"&&Rt.autoExpand&&(this.autoExpandDisposable=(0,$.Vg)(()=>{const hi=this.modelProvider(),oi=hi.getNodeLocation(fe);hi.isCollapsed(oi)&&hi.setCollapsed(oi,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof Rt=="boolean"||!Rt.accept||typeof Rt.bubble=="undefined"||Rt.feedback){if(!Ct){const hi=typeof Rt=="boolean"?Rt:Rt.accept,oi=typeof Rt=="boolean"?void 0:Rt.effect;return{accept:hi,effect:oi,feedback:[We]}}return Rt}if(Rt.bubble===1){const hi=this.modelProvider(),oi=hi.getNodeLocation(fe),Kn=hi.getParentNodeLocation(oi),di=hi.getNode(Kn),pi=Kn&&hi.getListIndex(Kn);return this.onDragOver(Q,di,pi,at,!1)}const an=this.modelProvider(),An=an.getNodeLocation(fe),zn=an.getListIndex(An),ui=an.getListRenderCount(An);return Ni(Xn({},Rt),{feedback:(0,U.w6)(zn,zn+ui)})}drop(Q,fe,We,at){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(le(Q),fe&&fe.element,We,at)}onDragEnd(Q){var fe,We;(We=(fe=this.dnd).onDragEnd)===null||We===void 0||We.call(fe,Q)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function we(lt,Q){return Q&&Ni(Xn({},Q),{identityProvider:Q.identityProvider&&{getId(fe){return Q.identityProvider.getId(fe.element)}},dnd:Q.dnd&&new ge(lt,Q.dnd),multipleSelectionController:Q.multipleSelectionController&&{isSelectionSingleChangeEvent(fe){return Q.multipleSelectionController.isSelectionSingleChangeEvent(Ni(Xn({},fe),{element:fe.element}))},isSelectionRangeChangeEvent(fe){return Q.multipleSelectionController.isSelectionRangeChangeEvent(Ni(Xn({},fe),{element:fe.element}))}},accessibilityProvider:Q.accessibilityProvider&&Ni(Xn({},Q.accessibilityProvider),{getSetSize(fe){const We=lt(),at=We.getNodeLocation(fe),Ct=We.getParentNodeLocation(at);return We.getNode(Ct).visibleChildrenCount},getPosInSet(fe){return fe.visibleChildIndex+1},isChecked:Q.accessibilityProvider&&Q.accessibilityProvider.isChecked?fe=>Q.accessibilityProvider.isChecked(fe.element):void 0,getRole:Q.accessibilityProvider&&Q.accessibilityProvider.getRole?fe=>Q.accessibilityProvider.getRole(fe.element):()=>"treeitem",getAriaLabel(fe){return Q.accessibilityProvider.getAriaLabel(fe.element)},getWidgetAriaLabel(){return Q.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Q.accessibilityProvider&&Q.accessibilityProvider.getWidgetRole?()=>Q.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Q.accessibilityProvider&&Q.accessibilityProvider.getAriaLevel?fe=>Q.accessibilityProvider.getAriaLevel(fe.element):fe=>fe.depth,getActiveDescendantId:Q.accessibilityProvider.getActiveDescendantId&&(fe=>Q.accessibilityProvider.getActiveDescendantId(fe.element))}),keyboardNavigationLabelProvider:Q.keyboardNavigationLabelProvider&&Ni(Xn({},Q.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(fe){return Q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(fe.element)}})})}class pe{constructor(Q){this.delegate=Q}getHeight(Q){return this.delegate.getHeight(Q.element)}getTemplateId(Q){return this.delegate.getTemplateId(Q.element)}hasDynamicHeight(Q){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(Q.element)}setDynamicHeight(Q,fe){var We,at;(at=(We=this.delegate).setDynamicHeight)===null||at===void 0||at.call(We,Q.element,fe)}}var Pe;(function(lt){lt.None="none",lt.OnHover="onHover",lt.Always="always"})(Pe||(Pe={}));class Ne{get elements(){return this._elements}constructor(Q,fe=[]){this._elements=fe,this.disposables=new c.SL,this.onDidChange=w.ju.forEach(Q,We=>this._elements=We,this.disposables)}dispose(){this.disposables.dispose()}}class ae{constructor(Q,fe,We,at,Ct,Rt={}){var Vt;this.renderer=Q,this.modelProvider=fe,this.activeNodes=at,this.renderedIndentGuides=Ct,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ae.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=c.JT.None,this.disposables=new c.SL,this.templateId=Q.templateId,this.updateOptions(Rt),w.ju.map(We,an=>an.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(Vt=Q.onDidChangeTwistieState)===null||Vt===void 0||Vt.call(Q,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Q={}){if(typeof Q.indent!="undefined"){const fe=(0,m.uZ)(Q.indent,0,40);if(fe!==this.indent){this.indent=fe;for(const[We,at]of this.renderedNodes)this.renderTreeElement(We,at)}}if(typeof Q.renderIndentGuides!="undefined"){const fe=Q.renderIndentGuides!==Pe.None;if(fe!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=fe;for(const[We,at]of this.renderedNodes)this._renderIndentGuides(We,at);if(this.indentGuidesDisposable.dispose(),fe){const We=new c.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,We),this.indentGuidesDisposable=We,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof Q.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=Q.hideTwistiesOfChildlessElements)}renderTemplate(Q){const fe=(0,b.R3)(Q,(0,b.$)(".monaco-tl-row")),We=(0,b.R3)(fe,(0,b.$)(".monaco-tl-indent")),at=(0,b.R3)(fe,(0,b.$)(".monaco-tl-twistie")),Ct=(0,b.R3)(fe,(0,b.$)(".monaco-tl-contents")),Rt=this.renderer.renderTemplate(Ct);return{container:Q,indent:We,twistie:at,indentGuidesDisposable:c.JT.None,templateData:Rt}}renderElement(Q,fe,We,at){this.renderedNodes.set(Q,We),this.renderedElements.set(Q.element,Q),this.renderTreeElement(Q,We),this.renderer.renderElement(Q,fe,We.templateData,at)}disposeElement(Q,fe,We,at){var Ct,Rt;We.indentGuidesDisposable.dispose(),(Rt=(Ct=this.renderer).disposeElement)===null||Rt===void 0||Rt.call(Ct,Q,fe,We.templateData,at),typeof at=="number"&&(this.renderedNodes.delete(Q),this.renderedElements.delete(Q.element))}disposeTemplate(Q){this.renderer.disposeTemplate(Q.templateData)}onDidChangeTwistieState(Q){const fe=this.renderedElements.get(Q);fe&&this.onDidChangeNodeTwistieState(fe)}onDidChangeNodeTwistieState(Q){const fe=this.renderedNodes.get(Q);fe&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(Q,fe))}renderTreeElement(Q,fe){const We=ae.DefaultIndent+(Q.depth-1)*this.indent;fe.twistie.style.paddingLeft=`${We}px`,fe.indent.style.width=`${We+this.indent-16}px`,Q.collapsible?fe.container.setAttribute("aria-expanded",String(!Q.collapsed)):fe.container.removeAttribute("aria-expanded"),fe.twistie.classList.remove(...j.k.asClassNameArray(G.l.treeItemExpanded));let at=!1;this.renderer.renderTwistie&&(at=this.renderer.renderTwistie(Q.element,fe.twistie)),Q.collapsible&&(!this.hideTwistiesOfChildlessElements||Q.visibleChildrenCount>0)?(at||fe.twistie.classList.add(...j.k.asClassNameArray(G.l.treeItemExpanded)),fe.twistie.classList.add("collapsible"),fe.twistie.classList.toggle("collapsed",Q.collapsed)):fe.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(Q,fe)}_renderIndentGuides(Q,fe){if((0,b.PO)(fe.indent),fe.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const We=new c.SL,at=this.modelProvider();for(;;){const Ct=at.getNodeLocation(Q),Rt=at.getParentNodeLocation(Ct);if(!Rt)break;const Vt=at.getNode(Rt),an=(0,b.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Vt)&&an.classList.add("active"),fe.indent.childElementCount===0?fe.indent.appendChild(an):fe.indent.insertBefore(an,fe.indent.firstElementChild),this.renderedIndentGuides.add(Vt,an),We.add((0,c.OF)(()=>this.renderedIndentGuides.delete(Vt,an))),Q=Vt}fe.indentGuidesDisposable=We}_onDidChangeActiveNodes(Q){if(!this.shouldRenderIndentGuides)return;const fe=new Set,We=this.modelProvider();Q.forEach(at=>{const Ct=We.getNodeLocation(at);try{const Rt=We.getParentNodeLocation(Ct);at.collapsible&&at.children.length>0&&!at.collapsed?fe.add(at):Rt&&fe.add(We.getNode(Rt))}catch(Rt){}}),this.activeIndentNodes.forEach(at=>{fe.has(at)||this.renderedIndentGuides.forEach(at,Ct=>Ct.classList.remove("active"))}),fe.forEach(at=>{this.activeIndentNodes.has(at)||this.renderedIndentGuides.forEach(at,Ct=>Ct.classList.add("active"))}),this.activeIndentNodes=fe}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,c.B9)(this.disposables)}}ae.DefaultIndent=8;class Me{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(Q,fe,We){this.tree=Q,this.keyboardNavigationLabelProvider=fe,this._filter=We,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new c.SL,Q.onWillRefilter(this.reset,this,this.disposables)}filter(Q,fe){let We=1;if(this._filter){const Rt=this._filter.filter(Q,fe);if(typeof Rt=="boolean"?We=Rt?1:0:z(Rt)?We=O(Rt.visibility):We=Rt,We===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:K.CL.Default,visibility:We};const at=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q),Ct=Array.isArray(at)?at:[at];for(const Rt of Ct){const Vt=Rt&&Rt.toString();if(typeof Vt=="undefined")return{data:K.CL.Default,visibility:We};let an;if(this.tree.findMatchType===ce.Contiguous){const An=Vt.toLowerCase().indexOf(this._lowercasePattern);if(An>-1){an=[Number.MAX_SAFE_INTEGER,0];for(let zn=this._lowercasePattern.length;zn>0;zn--)an.push(An+zn-1)}}else an=(0,K.EW)(this._pattern,this._lowercasePattern,0,Vt,Vt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(an)return this._matchCount++,Ct.length===1?{data:an,visibility:We}:{data:{label:Vt,score:an},visibility:We}}return this.tree.findMode===ie.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(Q):2:{data:K.CL.Default,visibility:We}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,c.B9)(this.disposables)}}class ke extends null{constructor(Q){var fe;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:(fe=Q.isChecked)!==null&&fe!==void 0?fe:!1,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}class Ue extends null{constructor(Q){var fe;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:(fe=Q.isChecked)!==null&&fe!==void 0?fe:!1,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}const Le={inputBoxStyles:y.g4,toggleStyles:E.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var ie;(function(lt){lt[lt.Highlight=0]="Highlight",lt[lt.Filter=1]="Filter"})(ie||(ie={}));var ce;(function(lt){lt[lt.Fuzzy=0]="Fuzzy",lt[lt.Contiguous=1]="Contiguous"})(ce||(ce={}));class Re extends null{set mode(Q){this.modeToggle.checked=Q===ie.Filter,this.findInput.inputBox.setPlaceHolder(Q===ie.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(Q){this.matchTypeToggle.checked=Q===ce.Fuzzy}constructor(Q,fe,We,at,Ct,Rt){var Vt;super(),this.tree=fe,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,Q.appendChild(this.elements.root),this._register(toDisposable(()=>Q.removeChild(this.elements.root)));const an=(Vt=Rt==null?void 0:Rt.styles)!==null&&Vt!==void 0?Vt:Le;an.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=an.listFilterWidgetBackground),an.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${an.listFilterWidgetShadow}`),this.modeToggle=this._register(new ke(Ni(Xn({},an.toggleStyles),{isChecked:at===ie.Filter}))),this.matchTypeToggle=this._register(new Ue(Ni(Xn({},an.toggleStyles),{isChecked:Ct===ce.Fuzzy}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?ie.Filter:ie.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?ce.Fuzzy:ce.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,We,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:an.inputBoxStyles,toggleStyles:an.toggleStyles,history:Rt==null?void 0:Rt.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=at;const An=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),zn=Event.chain(An.event,Kn=>Kn.map(di=>new StandardKeyboardEvent(di)));this._register(zn(Kn=>{if(Kn.equals(3)){Kn.preventDefault(),Kn.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Kn.equals(18)){Kn.preventDefault(),Kn.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Kn.equals(16)){Kn.preventDefault(),Kn.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const ui=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(ui,{icon:!0,label:!1});const hi=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(hi.event(Kn=>{const di=new DisposableStore,pi=di.add(new DomEmitter(getWindow(Kn),"mousemove")),qi=di.add(new DomEmitter(getWindow(Kn),"mouseup")),Es=this.right,rs=Kn.pageX,Us=this.top,Gi=Kn.pageY;this.elements.grab.classList.add("grabbing");const ys=this.elements.root.style.transition;this.elements.root.style.transition="unset";const us=is=>{const Ss=is.pageX-rs;this.right=Es-Ss;const Ps=is.pageY-Gi;this.top=Us+Ps,this.layout()};di.add(pi.event(us)),di.add(qi.event(is=>{us(is),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=ys,di.dispose()}))}));const oi=Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event,Kn=>Kn.map(di=>new StandardKeyboardEvent(di)));this._register(oi(Kn=>{let di,pi;if(Kn.keyCode===15?di=Number.POSITIVE_INFINITY:Kn.keyCode===17?di=0:Kn.keyCode===10&&(di=this.right===0?Number.POSITIVE_INFINITY:0),Kn.keyCode===16?pi=0:Kn.keyCode===18&&(pi=Number.POSITIVE_INFINITY),di!==void 0&&(Kn.preventDefault(),Kn.stopPropagation(),this.right=di,this.layout()),pi!==void 0){Kn.preventDefault(),Kn.stopPropagation(),this.top=pi;const qi=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=qi},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(Q=this.width){this.width=Q,this.right=clamp(this.right,0,Math.max(0,Q-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(Q){this.findInput.showMessage(Q)}clearMessage(){this.findInput.clearMessage()}dispose(){return tn(this,null,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),hc(Re.prototype,this,"dispose").call(this)})}}class ye{get pattern(){return this._pattern}get mode(){return this._mode}set mode(Q){Q!==this._mode&&(this._mode=Q,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(Q))}get matchType(){return this._matchType}set matchType(Q){Q!==this._matchType&&(this._matchType=Q,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(Q))}constructor(Q,fe,We,at,Ct,Rt={}){var Vt,an;this.tree=Q,this.view=We,this.filter=at,this.contextViewProvider=Ct,this.options=Rt,this._pattern="",this.width=0,this._onDidChangeMode=new w.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new w.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new w.Q5,this._onDidChangeOpenState=new w.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new c.SL,this.disposables=new c.SL,this._mode=(Vt=Q.options.defaultFindMode)!==null&&Vt!==void 0?Vt:ie.Highlight,this._matchType=(an=Q.options.defaultFindMatchType)!==null&&an!==void 0?an:ce.Fuzzy,fe.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(Q={}){Q.defaultFindMode!==void 0&&(this.mode=Q.defaultFindMode),Q.defaultFindMatchType!==void 0&&(this.matchType=Q.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var Q,fe,We,at;const Ct=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Ct?!((Q=this.tree.options.showNotFoundMessage)!==null&&Q!==void 0)||Q?(fe=this.widget)===null||fe===void 0||fe.showMessage({type:2,content:(0,X.NC)("not found","No elements found.")}):(We=this.widget)===null||We===void 0||We.showMessage({type:2}):(at=this.widget)===null||at===void 0||at.clearMessage()}shouldAllowFocus(Q){return!this.widget||!this.pattern||this._mode===ie.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!K.CL.isDefault(Q.filterData)}layout(Q){var fe;this.width=Q,(fe=this.widget)===null||fe===void 0||fe.layout(Q)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Se(lt,Q){return lt.position===Q.position&&lt.node.element===Q.node.element&&lt.startIndex===Q.startIndex&&lt.height===Q.height&&lt.endIndex===Q.endIndex}class me extends c.JT{constructor(Q=[]){super(),this.stickyNodes=Q}get count(){return this.stickyNodes.length}equal(Q){return(0,U.fS)(this.stickyNodes,Q.stickyNodes,Se)}addDisposable(Q){this._register(Q)}}class he extends c.JT{get firstVisibleNode(){const Q=this.view.firstVisibleIndex;if(!(Q<0||Q>=this.view.length))return this.view.element(Q)}constructor(Q,fe,We,at,Ct,Rt={}){super(),this.tree=Q,this.model=fe,this.view=We,this.treeDelegate=Ct,this.maxWidgetViewRatio=.4;const Vt=this.validateStickySettings(Rt);this.stickyScrollMaxItemCount=Vt.stickyScrollMaxItemCount,this._widget=this._register(new se(We.getScrollableElement(),We,fe,at,Ct)),this._register(We.onDidScroll(()=>this.update())),this._register(We.onDidChangeContentHeight(()=>this.update())),this._register(Q.onDidChangeCollapseState(()=>this.update())),this.update()}update(){const Q=this.firstVisibleNode;if(!Q||this.tree.scrollTop===0){this._widget.setState(void 0);return}const fe=this.findStickyState(Q);this._widget.setState(fe)}findStickyState(Q){const fe=[],We=this.view.renderHeight*this.maxWidgetViewRatio;let at=Q,Ct=0,Rt=this.getNextStickyNode(at,void 0,Ct);for(;Rt&&Ct+Rt.height<We&&(fe.push(Rt),Ct+=Rt.height,!(fe.length>=this.stickyScrollMaxItemCount||(at=this.getNextVisibleNode(at),!at)));)Rt=this.getNextStickyNode(at,Rt.node,Ct);return fe.length?new me(fe):void 0}getNextVisibleNode(Q){const fe=this.getNodeIndex(Q);return fe===-1||fe===this.view.length-1?void 0:this.view.element(fe+1)}getNextStickyNode(Q,fe,We){const at=this.getAncestorUnderPrevious(Q,fe);if(at&&!(at===Q&&(!this.nodeIsUncollapsedParent(Q)||this.nodeTopAlignsWithStickyNodesBottom(Q,We))))return this.createStickyScrollNode(at,We)}nodeTopAlignsWithStickyNodesBottom(Q,fe){const We=this.getNodeIndex(Q),at=this.view.getElementTop(We),Ct=fe;return this.view.scrollTop===at-Ct}createStickyScrollNode(Q,fe){const We=this.treeDelegate.getHeight(Q),{startIndex:at,endIndex:Ct}=this.getNodeRange(Q),Rt=this.calculateStickyNodePosition(Ct,fe);return{node:Q,position:Rt,height:We,startIndex:at,endIndex:Ct}}getAncestorUnderPrevious(Q,fe=void 0){let We=Q,at=this.getParentNode(We);for(;at;){if(at===fe)return We;We=at,at=this.getParentNode(We)}if(fe===void 0)return We}calculateStickyNodePosition(Q,fe){let We=this.view.getRelativeTop(Q);if(We===null&&this.view.firstVisibleIndex===Q&&Q+1<this.view.length){const an=this.treeDelegate.getHeight(this.view.element(Q)),An=this.view.getRelativeTop(Q+1);We=An?An-an/this.view.renderHeight:null}if(We===null)return fe;const at=this.view.element(Q),Ct=this.treeDelegate.getHeight(at),Rt=We*this.view.renderHeight,Vt=Rt+Ct;return fe>Rt&&fe<=Vt?Rt:fe}getParentNode(Q){const fe=this.model.getNodeLocation(Q),We=this.model.getParentNodeLocation(fe);return We?this.model.getNode(We):void 0}nodeIsUncollapsedParent(Q){const fe=this.model.getNodeLocation(Q);return this.model.getListRenderCount(fe)>1}getNodeIndex(Q,fe){return fe===void 0&&(fe=this.model.getNodeLocation(Q)),this.model.getListIndex(fe)}getNodeRange(Q){const fe=this.model.getNodeLocation(Q),We=this.model.getListIndex(fe);if(We<0)throw new Error("Node not found in tree");const at=this.model.getListRenderCount(fe),Ct=We+at-1;return{startIndex:We,endIndex:Ct}}nodePositionTopBelowWidget(Q){const fe=[];let We=this.getParentNode(Q);for(;We;)fe.push(We),We=this.getParentNode(We);let at=0;for(let Ct=0;Ct<fe.length&&Ct<this.stickyScrollMaxItemCount;Ct++)at+=this.treeDelegate.getHeight(fe[Ct]);return at}updateOptions(Q={}){const fe=this.validateStickySettings(Q);this.stickyScrollMaxItemCount!==fe.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=fe.stickyScrollMaxItemCount,this.update())}validateStickySettings(Q){let fe=5;return typeof Q.stickyScrollMaxItemCount=="number"&&(fe=Math.max(Q.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:fe}}}class se{constructor(Q,fe,We,at,Ct){this.view=fe,this.model=We,this.treeRenderers=at,this.treeDelegate=Ct,this._rootDomNode=document.createElement("div"),this._rootDomNode.classList.add("monaco-tree-sticky-container"),Q.appendChild(this._rootDomNode)}setState(Q){var fe;const We=!!this._previousState&&this._previousState.count>0,at=!!Q&&Q.count>0;if(!We&&!at||We&&at&&this._previousState.equal(Q)||(We!==at&&this.setVisible(at),(fe=this._previousState)===null||fe===void 0||fe.dispose(),this._previousState=Q,!at))return;for(let Vt=Q.count-1;Vt>=0;Vt--){const an=Q.stickyNodes[Vt],An=Vt?Q.stickyNodes[Vt-1]:void 0,zn=An?An.position+An.height:0,{element:ui,disposable:hi}=this.createElement(an,zn);this._rootDomNode.appendChild(ui),Q.addDisposable(hi)}const Ct=(0,b.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(Ct),Q.addDisposable((0,c.OF)(()=>Ct.remove()));const Rt=Q.stickyNodes[Q.count-1];this._rootDomNode.style.height=`${Rt.position+Rt.height}px`}createElement(Q,fe){const We=this.model.getNodeLocation(Q.node),at=this.model.getListIndex(We),Ct=document.createElement("div");Ct.style.top=`${Q.position}px`,Ct.style.height=`${Q.height}px`,Ct.style.lineHeight=`${Q.height}px`,Ct.classList.add("monaco-tree-sticky-row"),Ct.classList.add("monaco-list-row"),Ct.setAttribute("data-index",`${at}`),Ct.setAttribute("data-parity",at%2===0?"even":"odd"),Ct.setAttribute("id",this.view.getElementID(at));const Rt=this.treeDelegate.getTemplateId(Q.node),Vt=this.treeRenderers.find(ui=>ui.templateId===Rt);if(!Vt)throw new Error(`No renderer found for template id ${Rt}`);const an=new Proxy(Q.node,{}),An=Vt.renderTemplate(Ct);Vt.renderElement(an,Q.startIndex,An,Q.height);const zn=(0,c.OF)(()=>{Vt.disposeElement(an,Q.startIndex,An,Q.height),Vt.disposeTemplate(An),Ct.remove()});return{element:Ct,disposable:zn}}setVisible(Q){this._rootDomNode.style.display=Q?"block":"none"}dispose(){var Q;(Q=this._previousState)===null||Q===void 0||Q.dispose(),this._rootDomNode.remove()}}function ve(lt){let Q=N.Unknown;return(0,b.uU)(lt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?Q=N.Twistie:(0,b.uU)(lt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?Q=N.Element:(0,b.uU)(lt.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(Q=N.Filter),{browserEvent:lt.browserEvent,element:lt.element?lt.element.element:null,target:Q}}function xe(lt,Q){Q(lt),lt.children.forEach(fe=>xe(fe,Q))}class je{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(Q,fe){this.getFirstViewElementWithTrait=Q,this.identityProvider=fe,this.nodes=[],this._onDidChange=new w.Q5,this.onDidChange=this._onDidChange.event}set(Q,fe){!(fe!=null&&fe.__forceEvent)&&(0,U.fS)(this.nodes,Q)||this._set(Q,!1,fe)}_set(Q,fe,We){if(this.nodes=[...Q],this.elements=void 0,this._nodeSet=void 0,!fe){const at=this;this._onDidChange.fire({get elements(){return at.get()},browserEvent:We})}}get(){return this.elements||(this.elements=this.nodes.map(Q=>Q.element)),[...this.elements]}getNodes(){return this.nodes}has(Q){return this.nodeSet.has(Q)}onDidModelSplice({insertedNodes:Q,deletedNodes:fe}){if(!this.identityProvider){const an=this.createNodeSet(),An=zn=>an.delete(zn);fe.forEach(zn=>xe(zn,An)),this.set([...an.values()]);return}const We=new Set,at=an=>We.add(this.identityProvider.getId(an.element).toString());fe.forEach(an=>xe(an,at));const Ct=new Map,Rt=an=>Ct.set(this.identityProvider.getId(an.element).toString(),an);Q.forEach(an=>xe(an,Rt));const Vt=[];for(const an of this.nodes){const An=this.identityProvider.getId(an.element).toString();if(!We.has(An))Vt.push(an);else{const ui=Ct.get(An);ui&&ui.visible&&Vt.push(ui)}}if(this.nodes.length>0&&Vt.length===0){const an=this.getFirstViewElementWithTrait();an&&Vt.push(an)}this._set(Vt,!0)}createNodeSet(){const Q=new Set;for(const fe of this.nodes)Q.add(fe);return Q}}class Oe extends I.sx{constructor(Q,fe,We){super(Q),this.tree=fe,this.stickyScrollProvider=We}onViewPointer(Q){if((0,I.iK)(Q.browserEvent.target)||(0,I.cK)(Q.browserEvent.target)||(0,I.hD)(Q.browserEvent.target)||Q.browserEvent.isHandledByList)return;const fe=Q.element;if(!fe)return super.onViewPointer(Q);if(this.isSelectionRangeChangeEvent(Q)||this.isSelectionSingleChangeEvent(Q))return super.onViewPointer(Q);const We=Q.browserEvent.target,at=We.classList.contains("monaco-tl-twistie")||We.classList.contains("monaco-icon-label")&&We.classList.contains("folder-icon")&&Q.browserEvent.offsetX<16,Ct=(0,I.Et)(Q.browserEvent.target);let Rt=!1;if(Ct?Rt=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?Rt=this.tree.expandOnlyOnTwistieClick(fe.element):Rt=!!this.tree.expandOnlyOnTwistieClick,Ct)this.handleStickyScrollMouseEvent(Q,fe);else{if(Rt&&!at&&Q.browserEvent.detail!==2)return super.onViewPointer(Q);if(!this.tree.expandOnDoubleClick&&Q.browserEvent.detail===2)return super.onViewPointer(Q)}if(fe.collapsible&&(!Ct||at)){const Vt=this.tree.getNodeLocation(fe),an=Q.browserEvent.altKey;if(this.tree.setFocus([Vt]),this.tree.toggleCollapsed(Vt,an),Rt&&at){Q.browserEvent.isHandledByList=!0;return}}Ct||super.onViewPointer(Q)}handleStickyScrollMouseEvent(Q,fe){if((0,I.$B)(Q.browserEvent.target)||(0,I.dk)(Q.browserEvent.target))return;const We=this.stickyScrollProvider();if(!We)throw new Error("Sticky scroll controller not found");const at=this.list.indexOf(fe),Ct=this.list.getElementTop(at),Rt=We.nodePositionTopBelowWidget(fe);this.tree.scrollTop=Ct-Rt,this.list.setFocus([at]),this.list.setSelection([at])}onDoubleClick(Q){Q.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||Q.browserEvent.isHandledByList||super.onDoubleClick(Q)}}class Ze extends I.aV{constructor(Q,fe,We,at,Ct,Rt,Vt,an){super(Q,fe,We,at,an),this.focusTrait=Ct,this.selectionTrait=Rt,this.anchorTrait=Vt}createMouseController(Q){return new Oe(this,Q.tree,Q.stickyScrollProvider)}splice(Q,fe,We=[]){if(super.splice(Q,fe,We),We.length===0)return;const at=[],Ct=[];let Rt;We.forEach((Vt,an)=>{this.focusTrait.has(Vt)&&at.push(Q+an),this.selectionTrait.has(Vt)&&Ct.push(Q+an),this.anchorTrait.has(Vt)&&(Rt=Q+an)}),at.length>0&&super.setFocus((0,U.EB)([...super.getFocus(),...at])),Ct.length>0&&super.setSelection((0,U.EB)([...super.getSelection(),...Ct])),typeof Rt=="number"&&super.setAnchor(Rt)}setFocus(Q,fe,We=!1){super.setFocus(Q,fe),We||this.focusTrait.set(Q.map(at=>this.element(at)),fe)}setSelection(Q,fe,We=!1){super.setSelection(Q,fe),We||this.selectionTrait.set(Q.map(at=>this.element(at)),fe)}setAnchor(Q,fe=!1){super.setAnchor(Q),fe||(typeof Q=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(Q)]))}}class it{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return w.ju.filter(w.ju.map(this.view.onMouseDblClick,ve),Q=>Q.target!==N.Filter)}get onPointer(){return w.ju.map(this.view.onPointer,ve)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return w.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var Q,fe;return(fe=(Q=this.findController)===null||Q===void 0?void 0:Q.mode)!==null&&fe!==void 0?fe:ie.Highlight}set findMode(Q){this.findController&&(this.findController.mode=Q)}get findMatchType(){var Q,fe;return(fe=(Q=this.findController)===null||Q===void 0?void 0:Q.matchType)!==null&&fe!==void 0?fe:ce.Fuzzy}set findMatchType(Q){this.findController&&(this.findController.matchType=Q)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(Q,fe,We,at,Ct={}){var Rt;this._user=Q,this._options=Ct,this.eventBufferer=new w.E7,this.onDidChangeFindOpenState=w.ju.None,this.disposables=new c.SL,this._onWillRefilter=new w.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new w.Q5,this.treeDelegate=new pe(We);const Vt=new w.ZD,an=new w.ZD,An=this.disposables.add(new Ne(an.event)),zn=new F.ri;this.renderers=at.map(di=>new ae(di,()=>this.model,Vt.event,An,zn,Ct));for(const di of this.renderers)this.disposables.add(di);let ui;Ct.keyboardNavigationLabelProvider&&(ui=new Me(this,Ct.keyboardNavigationLabelProvider,Ct.filter),Ct=Ni(Xn({},Ct),{filter:ui}),this.disposables.add(ui)),this.focus=new je(()=>this.view.getFocusedElements()[0],Ct.identityProvider),this.selection=new je(()=>this.view.getSelectedElements()[0],Ct.identityProvider),this.anchor=new je(()=>this.view.getAnchorElement(),Ct.identityProvider),this.view=new Ze(Q,fe,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,Ni(Xn({},we(()=>this.model,Ct)),{tree:this,stickyScrollProvider:()=>this.stickyScrollController})),this.model=this.createModel(Q,this.view,Ct),Vt.input=this.model.onDidChangeCollapseState;const hi=w.ju.forEach(this.model.onDidSplice,di=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(di),this.selection.onDidModelSplice(di)})},this.disposables);hi(()=>null,null,this.disposables);const oi=this.disposables.add(new w.Q5),Kn=this.disposables.add(new $.vp(0));if(this.disposables.add(w.ju.any(hi,this.focus.onDidChange,this.selection.onDidChange)(()=>{Kn.trigger(()=>{const di=new Set;for(const pi of this.focus.getNodes())di.add(pi);for(const pi of this.selection.getNodes())di.add(pi);oi.fire([...di.values()])})})),an.input=oi.event,Ct.keyboardSupport!==!1){const di=w.ju.chain(this.view.onKeyDown,pi=>pi.filter(qi=>!(0,I.cK)(qi.target)).map(qi=>new a.y(qi)));w.ju.chain(di,pi=>pi.filter(qi=>qi.keyCode===15))(this.onLeftArrow,this,this.disposables),w.ju.chain(di,pi=>pi.filter(qi=>qi.keyCode===17))(this.onRightArrow,this,this.disposables),w.ju.chain(di,pi=>pi.filter(qi=>qi.keyCode===10))(this.onSpace,this,this.disposables)}if((!((Rt=Ct.findWidgetEnabled)!==null&&Rt!==void 0)||Rt)&&Ct.keyboardNavigationLabelProvider&&Ct.contextViewProvider){const di=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new ye(this,this.model,this.view,ui,Ct.contextViewProvider,di),this.focusNavigationFilter=pi=>this.findController.shouldAllowFocus(pi),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=w.ju.None,this.onDidChangeFindMatchType=w.ju.None;Ct.enableStickyScroll&&(this.stickyScrollController=new he(this,this.model,this.view,this.renderers,this.treeDelegate,Ct)),this.styleElement=(0,b.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Pe.Always)}updateOptions(Q={}){var fe;this._options=Xn(Xn({},this._options),Q);for(const We of this.renderers)We.updateOptions(Q);this.view.updateOptions(this._options),(fe=this.findController)===null||fe===void 0||fe.updateOptions(Q),this.updateStickyScroll(Q),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Pe.Always)}get options(){return this._options}updateStickyScroll(Q){var fe;!this.stickyScrollController&&this._options.enableStickyScroll?this.stickyScrollController=new he(this,this.model,this.view,this.renderers,this.treeDelegate,this._options):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(fe=this.stickyScrollController)===null||fe===void 0||fe.updateOptions(Q)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(Q){this.view.scrollTop=Q}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(Q,fe){var We;this.view.layout(Q,fe),(0,J.hj)(fe)&&((We=this.findController)===null||We===void 0||We.layout(fe))}style(Q){const fe=`.${this.view.domId}`,We=[];Q.treeIndentGuidesStroke&&(We.push(`.monaco-list${fe}:hover .monaco-tl-indent > .indent-guide, .monaco-list${fe}.always .monaco-tl-indent > .indent-guide  { border-color: ${Q.treeInactiveIndentGuidesStroke}; }`),We.push(`.monaco-list${fe} .monaco-tl-indent > .indent-guide.active { border-color: ${Q.treeIndentGuidesStroke}; }`)),Q.listBackground&&(We.push(`.monaco-list${fe} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${Q.listBackground}; }`),We.push(`.monaco-list${fe} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${Q.listBackground}; }`)),this.styleElement.textContent=We.join(`
`),this.view.style(Q)}getParentElement(Q){const fe=this.model.getParentNodeLocation(Q);return this.model.getNode(fe).element}getFirstElementChild(Q){return this.model.getFirstElementChild(Q)}getNode(Q){return this.model.getNode(Q)}getNodeLocation(Q){return this.model.getNodeLocation(Q)}collapse(Q,fe=!1){return this.model.setCollapsed(Q,!0,fe)}expand(Q,fe=!1){return this.model.setCollapsed(Q,!1,fe)}toggleCollapsed(Q,fe=!1){return this.model.setCollapsed(Q,void 0,fe)}isCollapsible(Q){return this.model.isCollapsible(Q)}setCollapsible(Q,fe){return this.model.setCollapsible(Q,fe)}isCollapsed(Q){return this.model.isCollapsed(Q)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(Q,fe){const We=Q.map(Ct=>this.model.getNode(Ct));this.selection.set(We,fe);const at=Q.map(Ct=>this.model.getListIndex(Ct)).filter(Ct=>Ct>-1);this.view.setSelection(at,fe,!0)}getSelection(){return this.selection.get()}setFocus(Q,fe){const We=Q.map(Ct=>this.model.getNode(Ct));this.focus.set(We,fe);const at=Q.map(Ct=>this.model.getListIndex(Ct)).filter(Ct=>Ct>-1);this.view.setFocus(at,fe,!0)}getFocus(){return this.focus.get()}reveal(Q,fe){this.model.expandTo(Q);const We=this.model.getListIndex(Q);if(We!==-1)if(!this.stickyScrollController)this.view.reveal(We,fe);else{const at=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(Q));this.view.reveal(We,fe,at)}}onLeftArrow(Q){Q.preventDefault(),Q.stopPropagation();const fe=this.view.getFocusedElements();if(fe.length===0)return;const We=fe[0],at=this.model.getNodeLocation(We);if(!this.model.setCollapsed(at,!0)){const Rt=this.model.getParentNodeLocation(at);if(!Rt)return;const Vt=this.model.getListIndex(Rt);this.view.reveal(Vt),this.view.setFocus([Vt])}}onRightArrow(Q){Q.preventDefault(),Q.stopPropagation();const fe=this.view.getFocusedElements();if(fe.length===0)return;const We=fe[0],at=this.model.getNodeLocation(We);if(!this.model.setCollapsed(at,!1)){if(!We.children.some(an=>an.visible))return;const[Rt]=this.view.getFocus(),Vt=Rt+1;this.view.reveal(Vt),this.view.setFocus([Vt])}}onSpace(Q){Q.preventDefault(),Q.stopPropagation();const fe=this.view.getFocusedElements();if(fe.length===0)return;const We=fe[0],at=this.model.getNodeLocation(We),Ct=Q.browserEvent.altKey;this.model.setCollapsed(at,void 0,Ct)}dispose(){var Q;(0,c.B9)(this.disposables),(Q=this.stickyScrollController)===null||Q===void 0||Q.dispose(),this.view.dispose()}}class Et{constructor(Q,fe,We={}){this.user=Q,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new H(Q,fe,null,We),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,We.sorter&&(this.sorter={compare(at,Ct){return We.sorter.compare(at.element,Ct.element)}}),this.identityProvider=We.identityProvider}setChildren(Q,fe=L.$.empty(),We={}){const at=this.getElementLocation(Q);this._setChildren(at,this.preserveCollapseState(fe),We)}_setChildren(Q,fe=L.$.empty(),We){const at=new Set,Ct=new Set,Rt=an=>{var An;if(an.element===null)return;const zn=an;if(at.add(zn.element),this.nodes.set(zn.element,zn),this.identityProvider){const ui=this.identityProvider.getId(zn.element).toString();Ct.add(ui),this.nodesByIdentity.set(ui,zn)}(An=We.onDidCreateNode)===null||An===void 0||An.call(We,zn)},Vt=an=>{var An;if(an.element===null)return;const zn=an;if(at.has(zn.element)||this.nodes.delete(zn.element),this.identityProvider){const ui=this.identityProvider.getId(zn.element).toString();Ct.has(ui)||this.nodesByIdentity.delete(ui)}(An=We.onDidDeleteNode)===null||An===void 0||An.call(We,zn)};this.model.splice([...Q,0],Number.MAX_VALUE,fe,Ni(Xn({},We),{onDidCreateNode:Rt,onDidDeleteNode:Vt}))}preserveCollapseState(Q=L.$.empty()){return this.sorter&&(Q=[...Q].sort(this.sorter.compare.bind(this.sorter))),L.$.map(Q,fe=>{let We=this.nodes.get(fe.element);if(!We&&this.identityProvider){const Rt=this.identityProvider.getId(fe.element).toString();We=this.nodesByIdentity.get(Rt)}if(!We){let Rt;return typeof fe.collapsed=="undefined"?Rt=void 0:fe.collapsed===A.Collapsed||fe.collapsed===A.PreserveOrCollapsed?Rt=!0:fe.collapsed===A.Expanded||fe.collapsed===A.PreserveOrExpanded?Rt=!1:Rt=!!fe.collapsed,Ni(Xn({},fe),{children:this.preserveCollapseState(fe.children),collapsed:Rt})}const at=typeof fe.collapsible=="boolean"?fe.collapsible:We.collapsible;let Ct;return typeof fe.collapsed=="undefined"||fe.collapsed===A.PreserveOrCollapsed||fe.collapsed===A.PreserveOrExpanded?Ct=We.collapsed:fe.collapsed===A.Collapsed?Ct=!0:fe.collapsed===A.Expanded?Ct=!1:Ct=!!fe.collapsed,Ni(Xn({},fe),{collapsible:at,collapsed:Ct,children:this.preserveCollapseState(fe.children)})})}rerender(Q){const fe=this.getElementLocation(Q);this.model.rerender(fe)}getFirstElementChild(Q=null){const fe=this.getElementLocation(Q);return this.model.getFirstElementChild(fe)}has(Q){return this.nodes.has(Q)}getListIndex(Q){const fe=this.getElementLocation(Q);return this.model.getListIndex(fe)}getListRenderCount(Q){const fe=this.getElementLocation(Q);return this.model.getListRenderCount(fe)}isCollapsible(Q){const fe=this.getElementLocation(Q);return this.model.isCollapsible(fe)}setCollapsible(Q,fe){const We=this.getElementLocation(Q);return this.model.setCollapsible(We,fe)}isCollapsed(Q){const fe=this.getElementLocation(Q);return this.model.isCollapsed(fe)}setCollapsed(Q,fe,We){const at=this.getElementLocation(Q);return this.model.setCollapsed(at,fe,We)}expandTo(Q){const fe=this.getElementLocation(Q);this.model.expandTo(fe)}refilter(){this.model.refilter()}getNode(Q=null){if(Q===null)return this.model.getNode(this.model.rootRef);const fe=this.nodes.get(Q);if(!fe)throw new B(this.user,`Tree element not found: ${Q}`);return fe}getNodeLocation(Q){return Q.element}getParentNodeLocation(Q){if(Q===null)throw new B(this.user,"Invalid getParentNodeLocation call");const fe=this.nodes.get(Q);if(!fe)throw new B(this.user,`Tree element not found: ${Q}`);const We=this.model.getNodeLocation(fe),at=this.model.getParentNodeLocation(We);return this.model.getNode(at).element}getElementLocation(Q){if(Q===null)return[];const fe=this.nodes.get(Q);if(!fe)throw new B(this.user,`Tree element not found: ${Q}`);return this.model.getNodeLocation(fe)}}function st(lt){const Q=[lt.element],fe=lt.incompressible||!1;return{element:{elements:Q,incompressible:fe},children:L.$.map(L.$.from(lt.children),st),collapsible:lt.collapsible,collapsed:lt.collapsed}}function pt(lt){const Q=[lt.element],fe=lt.incompressible||!1;let We,at;for(;[at,We]=L.$.consume(L.$.from(lt.children),2),!(at.length!==1||at[0].incompressible);)lt=at[0],Q.push(lt.element);return{element:{elements:Q,incompressible:fe},children:L.$.map(L.$.concat(at,We),pt),collapsible:lt.collapsible,collapsed:lt.collapsed}}function Mt(lt,Q=0){let fe;return Q<lt.element.elements.length-1?fe=[Mt(lt,Q+1)]:fe=L.$.map(L.$.from(lt.children),We=>Mt(We,0)),Q===0&&lt.element.incompressible?{element:lt.element.elements[Q],children:fe,incompressible:!0,collapsible:lt.collapsible,collapsed:lt.collapsed}:{element:lt.element.elements[Q],children:fe,collapsible:lt.collapsible,collapsed:lt.collapsed}}function qt(lt){return Mt(lt,0)}function Ft(lt,Q,fe){return lt.element===Q?Ni(Xn({},lt),{children:fe}):Ni(Xn({},lt),{children:L.$.map(L.$.from(lt.children),We=>Ft(We,Q,fe))})}const Xt=lt=>({getId(Q){return Q.elements.map(fe=>lt.getId(fe).toString()).join("\0")}});class _t{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(Q,fe,We={}){this.user=Q,this.rootRef=null,this.nodes=new Map,this.model=new Et(Q,fe,We),this.enabled=typeof We.compressionEnabled=="undefined"?!0:We.compressionEnabled,this.identityProvider=We.identityProvider}setChildren(Q,fe=L.$.empty(),We){const at=We.diffIdentityProvider&&Xt(We.diffIdentityProvider);if(Q===null){const Kn=L.$.map(fe,this.enabled?pt:st);this._setChildren(null,Kn,{diffIdentityProvider:at,diffDepth:1/0});return}const Ct=this.nodes.get(Q);if(!Ct)throw new B(this.user,"Unknown compressed tree node");const Rt=this.model.getNode(Ct),Vt=this.model.getParentNodeLocation(Ct),an=this.model.getNode(Vt),An=qt(Rt),zn=Ft(An,Q,fe),ui=(this.enabled?pt:st)(zn),hi=We.diffIdentityProvider?(Kn,di)=>We.diffIdentityProvider.getId(Kn)===We.diffIdentityProvider.getId(di):void 0;if((0,U.fS)(ui.element.elements,Rt.element.elements,hi)){this._setChildren(Ct,ui.children||L.$.empty(),{diffIdentityProvider:at,diffDepth:1});return}const oi=an.children.map(Kn=>Kn===Rt?ui:Kn);this._setChildren(an.element,oi,{diffIdentityProvider:at,diffDepth:Rt.depth-an.depth})}setCompressionEnabled(Q){if(Q===this.enabled)return;this.enabled=Q;const We=this.model.getNode().children,at=L.$.map(We,qt),Ct=L.$.map(at,Q?pt:st);this._setChildren(null,Ct,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(Q,fe,We){const at=new Set,Ct=Vt=>{for(const an of Vt.element.elements)at.add(an),this.nodes.set(an,Vt.element)},Rt=Vt=>{for(const an of Vt.element.elements)at.has(an)||this.nodes.delete(an)};this.model.setChildren(Q,fe,Ni(Xn({},We),{onDidCreateNode:Ct,onDidDeleteNode:Rt}))}has(Q){return this.nodes.has(Q)}getListIndex(Q){const fe=this.getCompressedNode(Q);return this.model.getListIndex(fe)}getListRenderCount(Q){const fe=this.getCompressedNode(Q);return this.model.getListRenderCount(fe)}getNode(Q){if(typeof Q=="undefined")return this.model.getNode();const fe=this.getCompressedNode(Q);return this.model.getNode(fe)}getNodeLocation(Q){const fe=this.model.getNodeLocation(Q);return fe===null?null:fe.elements[fe.elements.length-1]}getParentNodeLocation(Q){const fe=this.getCompressedNode(Q),We=this.model.getParentNodeLocation(fe);return We===null?null:We.elements[We.elements.length-1]}getFirstElementChild(Q){const fe=this.getCompressedNode(Q);return this.model.getFirstElementChild(fe)}isCollapsible(Q){const fe=this.getCompressedNode(Q);return this.model.isCollapsible(fe)}setCollapsible(Q,fe){const We=this.getCompressedNode(Q);return this.model.setCollapsible(We,fe)}isCollapsed(Q){const fe=this.getCompressedNode(Q);return this.model.isCollapsed(fe)}setCollapsed(Q,fe,We){const at=this.getCompressedNode(Q);return this.model.setCollapsed(at,fe,We)}expandTo(Q){const fe=this.getCompressedNode(Q);this.model.expandTo(fe)}rerender(Q){const fe=this.getCompressedNode(Q);this.model.rerender(fe)}refilter(){this.model.refilter()}getCompressedNode(Q){if(Q===null)return null;const fe=this.nodes.get(Q);if(!fe)throw new B(this.user,`Tree element not found: ${Q}`);return fe}}const nt=lt=>lt[lt.length-1];class tt{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(Q=>new tt(this.unwrapper,Q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Q,fe){this.unwrapper=Q,this.node=fe}}function xt(lt,Q){return{splice(fe,We,at){Q.splice(fe,We,at.map(Ct=>lt.map(Ct)))},updateElementHeight(fe,We){Q.updateElementHeight(fe,We)}}}function Lt(lt,Q){return Ni(Xn({},Q),{identityProvider:Q.identityProvider&&{getId(fe){return Q.identityProvider.getId(lt(fe))}},sorter:Q.sorter&&{compare(fe,We){return Q.sorter.compare(fe.elements[0],We.elements[0])}},filter:Q.filter&&{filter(fe,We){return Q.filter.filter(lt(fe),We)}}})}class Be{get onDidSplice(){return w.ju.map(this.model.onDidSplice,({insertedNodes:Q,deletedNodes:fe})=>({insertedNodes:Q.map(We=>this.nodeMapper.map(We)),deletedNodes:fe.map(We=>this.nodeMapper.map(We))}))}get onDidChangeCollapseState(){return w.ju.map(this.model.onDidChangeCollapseState,({node:Q,deep:fe})=>({node:this.nodeMapper.map(Q),deep:fe}))}get onDidChangeRenderNodeCount(){return w.ju.map(this.model.onDidChangeRenderNodeCount,Q=>this.nodeMapper.map(Q))}constructor(Q,fe,We={}){this.rootRef=null,this.elementMapper=We.elementMapper||nt;const at=Ct=>this.elementMapper(Ct.elements);this.nodeMapper=new W(Ct=>new tt(at,Ct)),this.model=new _t(Q,xt(this.nodeMapper,fe),Lt(at,We))}setChildren(Q,fe=L.$.empty(),We={}){this.model.setChildren(Q,fe,We)}setCompressionEnabled(Q){this.model.setCompressionEnabled(Q)}has(Q){return this.model.has(Q)}getListIndex(Q){return this.model.getListIndex(Q)}getListRenderCount(Q){return this.model.getListRenderCount(Q)}getNode(Q){return this.nodeMapper.map(this.model.getNode(Q))}getNodeLocation(Q){return Q.element}getParentNodeLocation(Q){return this.model.getParentNodeLocation(Q)}getFirstElementChild(Q){const fe=this.model.getFirstElementChild(Q);return fe===null||typeof fe=="undefined"?fe:this.elementMapper(fe.elements)}isCollapsible(Q){return this.model.isCollapsible(Q)}setCollapsible(Q,fe){return this.model.setCollapsible(Q,fe)}isCollapsed(Q){return this.model.isCollapsed(Q)}setCollapsed(Q,fe,We){return this.model.setCollapsed(Q,fe,We)}expandTo(Q){return this.model.expandTo(Q)}rerender(Q){return this.model.rerender(Q)}refilter(){return this.model.refilter()}getCompressedTreeNode(Q=null){return this.model.getNode(Q)}}var yt=e(49898),un=function(lt,Q,fe,We){var at=arguments.length,Ct=at<3?Q:We===null?We=Object.getOwnPropertyDescriptor(Q,fe):We,Rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ct=Reflect.decorate(lt,Q,fe,We);else for(var Vt=lt.length-1;Vt>=0;Vt--)(Rt=lt[Vt])&&(Ct=(at<3?Rt(Ct):at>3?Rt(Q,fe,Ct):Rt(Q,fe))||Ct);return at>3&&Ct&&Object.defineProperty(Q,fe,Ct),Ct};class In extends it{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(Q,fe,We,at,Ct={}){super(Q,fe,We,at,Ct),this.user=Q}setChildren(Q,fe=L.$.empty(),We){this.model.setChildren(Q,fe,We)}rerender(Q){if(Q===void 0){this.view.rerender();return}this.model.rerender(Q)}hasElement(Q){return this.model.has(Q)}createModel(Q,fe,We){return new Et(Q,fe,We)}}class bn{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(Q,fe){this._compressedTreeNodeProvider=Q,this.renderer=fe,this.templateId=fe.templateId,fe.onDidChangeTwistieState&&(this.onDidChangeTwistieState=fe.onDidChangeTwistieState)}renderTemplate(Q){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(Q)}}renderElement(Q,fe,We,at){const Ct=this.compressedTreeNodeProvider.getCompressedTreeNode(Q.element);Ct.element.elements.length===1?(We.compressedTreeNode=void 0,this.renderer.renderElement(Q,fe,We.data,at)):(We.compressedTreeNode=Ct,this.renderer.renderCompressedElements(Ct,fe,We.data,at))}disposeElement(Q,fe,We,at){var Ct,Rt,Vt,an;We.compressedTreeNode?(Rt=(Ct=this.renderer).disposeCompressedElements)===null||Rt===void 0||Rt.call(Ct,We.compressedTreeNode,fe,We.data,at):(an=(Vt=this.renderer).disposeElement)===null||an===void 0||an.call(Vt,Q,fe,We.data,at)}disposeTemplate(Q){this.renderer.disposeTemplate(Q.data)}renderTwistie(Q,fe){return this.renderer.renderTwistie?this.renderer.renderTwistie(Q,fe):!1}}un([yt.H],bn.prototype,"compressedTreeNodeProvider",null);function Hn(lt,Q){return Q&&Ni(Xn({},Q),{keyboardNavigationLabelProvider:Q.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(fe){let We;try{We=lt().getCompressedTreeNode(fe)}catch(at){return Q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(fe)}return We.element.elements.length===1?Q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(fe):Q.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(We.element.elements)}}})}class si extends In{constructor(Q,fe,We,at,Ct={}){const Rt=()=>this,Vt=at.map(an=>new bn(Rt,an));super(Q,fe,We,Vt,Hn(Rt,Ct))}setChildren(Q,fe=L.$.empty(),We){this.model.setChildren(Q,fe,We)}createModel(Q,fe,We){return new Be(Q,fe,We)}updateOptions(Q={}){super.updateOptions(Q),typeof Q.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(Q.compressionEnabled)}getCompressedTreeNode(Q=null){return this.model.getCompressedTreeNode(Q)}}var Yn=e(17301);function mi(lt){return Ni(Xn({},lt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1})}function _i(lt,Q){return Q.parent?Q.parent===lt?!0:_i(lt,Q.parent):!1}function Wi(lt,Q){return lt===Q||_i(lt,Q)||_i(Q,lt)}class Si{get element(){return this.node.element.element}get children(){return this.node.children.map(Q=>new Si(Q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Q){this.node=Q}}class Ki{constructor(Q,fe,We){this.renderer=Q,this.nodeMapper=fe,this.onDidChangeTwistieState=We,this.renderedNodes=new Map,this.templateId=Q.templateId}renderTemplate(Q){return{templateData:this.renderer.renderTemplate(Q)}}renderElement(Q,fe,We,at){this.renderer.renderElement(this.nodeMapper.map(Q),fe,We.templateData,at)}renderTwistie(Q,fe){return Q.slow?(fe.classList.add(...j.k.asClassNameArray(G.l.treeItemLoading)),!0):(fe.classList.remove(...j.k.asClassNameArray(G.l.treeItemLoading)),!1)}disposeElement(Q,fe,We,at){var Ct,Rt;(Rt=(Ct=this.renderer).disposeElement)===null||Rt===void 0||Rt.call(Ct,this.nodeMapper.map(Q),fe,We.templateData,at)}disposeTemplate(Q){this.renderer.disposeTemplate(Q.templateData)}dispose(){this.renderedNodes.clear()}}function bi(lt){return{browserEvent:lt.browserEvent,elements:lt.elements.map(Q=>Q.element)}}function Fi(lt){return{browserEvent:lt.browserEvent,element:lt.element&&lt.element.element,target:lt.target}}class ts extends C.kX{constructor(Q){super(Q.elements.map(fe=>fe.element)),this.data=Q}}function wi(lt){return lt instanceof C.kX?new ts(lt):lt}class ns{constructor(Q){this.dnd=Q}getDragURI(Q){return this.dnd.getDragURI(Q.element)}getDragLabel(Q,fe){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Q.map(We=>We.element),fe)}onDragStart(Q,fe){var We,at;(at=(We=this.dnd).onDragStart)===null||at===void 0||at.call(We,wi(Q),fe)}onDragOver(Q,fe,We,at,Ct=!0){return this.dnd.onDragOver(wi(Q),fe&&fe.element,We,at)}drop(Q,fe,We,at){this.dnd.drop(wi(Q),fe&&fe.element,We,at)}onDragEnd(Q){var fe,We;(We=(fe=this.dnd).onDragEnd)===null||We===void 0||We.call(fe,Q)}dispose(){this.dnd.dispose()}}function wn(lt){return lt&&Ni(Xn({},lt),{collapseByDefault:!0,identityProvider:lt.identityProvider&&{getId(Q){return lt.identityProvider.getId(Q.element)}},dnd:lt.dnd&&new ns(lt.dnd),multipleSelectionController:lt.multipleSelectionController&&{isSelectionSingleChangeEvent(Q){return lt.multipleSelectionController.isSelectionSingleChangeEvent(Ni(Xn({},Q),{element:Q.element}))},isSelectionRangeChangeEvent(Q){return lt.multipleSelectionController.isSelectionRangeChangeEvent(Ni(Xn({},Q),{element:Q.element}))}},accessibilityProvider:lt.accessibilityProvider&&Ni(Xn({},lt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:lt.accessibilityProvider.getRole?Q=>lt.accessibilityProvider.getRole(Q.element):()=>"treeitem",isChecked:lt.accessibilityProvider.isChecked?Q=>{var fe;return!!(!((fe=lt.accessibilityProvider)===null||fe===void 0)&&fe.isChecked(Q.element))}:void 0,getAriaLabel(Q){return lt.accessibilityProvider.getAriaLabel(Q.element)},getWidgetAriaLabel(){return lt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:lt.accessibilityProvider.getWidgetRole?()=>lt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:lt.accessibilityProvider.getAriaLevel&&(Q=>lt.accessibilityProvider.getAriaLevel(Q.element)),getActiveDescendantId:lt.accessibilityProvider.getActiveDescendantId&&(Q=>lt.accessibilityProvider.getActiveDescendantId(Q.element))}),filter:lt.filter&&{filter(Q,fe){return lt.filter.filter(Q.element,fe)}},keyboardNavigationLabelProvider:lt.keyboardNavigationLabelProvider&&Ni(Xn({},lt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(Q){return lt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof lt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof lt.expandOnlyOnTwistieClick!="function"?lt.expandOnlyOnTwistieClick:Q=>lt.expandOnlyOnTwistieClick(Q.element),defaultFindVisibility:Q=>Q.hasChildren&&Q.stale?1:typeof lt.defaultFindVisibility=="number"?lt.defaultFindVisibility:typeof lt.defaultFindVisibility=="undefined"?2:lt.defaultFindVisibility(Q.element)})}function qe(lt,Q){Q(lt),lt.children.forEach(fe=>qe(fe,Q))}class Dt{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return w.ju.map(this.tree.onDidChangeFocus,bi)}get onDidChangeSelection(){return w.ju.map(this.tree.onDidChangeSelection,bi)}get onMouseDblClick(){return w.ju.map(this.tree.onMouseDblClick,Fi)}get onPointer(){return w.ju.map(this.tree.onPointer,Fi)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(Q,fe,We,at,Ct,Rt={}){this.user=Q,this.dataSource=Ct,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new w.Q5,this._onDidChangeNodeSlowState=new w.Q5,this.nodeMapper=new W(Vt=>new Si(Vt)),this.disposables=new c.SL,this.identityProvider=Rt.identityProvider,this.autoExpandSingleChildren=typeof Rt.autoExpandSingleChildren=="undefined"?!1:Rt.autoExpandSingleChildren,this.sorter=Rt.sorter,this.getDefaultCollapseState=Vt=>Rt.collapseByDefault?Rt.collapseByDefault(Vt)?A.PreserveOrCollapsed:A.PreserveOrExpanded:void 0,this.tree=this.createTree(Q,fe,We,at,Rt),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=mi({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root=Ni(Xn({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(Q,fe,We,at,Ct){const Rt=new pe(We),Vt=at.map(An=>new Ki(An,this.nodeMapper,this._onDidChangeNodeSlowState.event)),an=wn(Ct)||{};return new In(Q,fe,Rt,Vt,an)}updateOptions(Q={}){this.tree.updateOptions(Q)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(Q){this.tree.scrollTop=Q}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(Q,fe){this.tree.layout(Q,fe)}style(Q){this.tree.style(Q)}getInput(){return this.root.element}setInput(Q,fe){return tn(this,null,function*(){this.refreshPromises.forEach(at=>at.cancel()),this.refreshPromises.clear(),this.root.element=Q;const We=fe&&{viewState:fe,focus:[],selection:[]};yield this._updateChildren(Q,!0,!1,We),We&&(this.tree.setFocus(We.focus),this.tree.setSelection(We.selection)),fe&&typeof fe.scrollTop=="number"&&(this.scrollTop=fe.scrollTop)})}_updateChildren(){return tn(this,arguments,function*(Q=this.root.element,fe=!0,We=!1,at,Ct){if(typeof this.root.element=="undefined")throw new B(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield w.ju.toPromise(this._onDidRender.event));const Rt=this.getDataNode(Q);if(yield this.refreshAndRenderNode(Rt,fe,at,Ct),We)try{this.tree.rerender(Rt)}catch(Vt){}})}rerender(Q){if(Q===void 0||Q===this.root.element){this.tree.rerender();return}const fe=this.getDataNode(Q);this.tree.rerender(fe)}getNode(Q=this.root.element){const fe=this.getDataNode(Q),We=this.tree.getNode(fe===this.root?null:fe);return this.nodeMapper.map(We)}collapse(Q,fe=!1){const We=this.getDataNode(Q);return this.tree.collapse(We===this.root?null:We,fe)}expand(Q,fe=!1){return tn(this,null,function*(){if(typeof this.root.element=="undefined")throw new B(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield w.ju.toPromise(this._onDidRender.event));const We=this.getDataNode(Q);if(this.tree.hasElement(We)&&!this.tree.isCollapsible(We)||(We.refreshPromise&&(yield this.root.refreshPromise,yield w.ju.toPromise(this._onDidRender.event)),We!==this.root&&!We.refreshPromise&&!this.tree.isCollapsed(We)))return!1;const at=this.tree.expand(We===this.root?null:We,fe);return We.refreshPromise&&(yield this.root.refreshPromise,yield w.ju.toPromise(this._onDidRender.event)),at})}setSelection(Q,fe){const We=Q.map(at=>this.getDataNode(at));this.tree.setSelection(We,fe)}getSelection(){return this.tree.getSelection().map(fe=>fe.element)}setFocus(Q,fe){const We=Q.map(at=>this.getDataNode(at));this.tree.setFocus(We,fe)}getFocus(){return this.tree.getFocus().map(fe=>fe.element)}reveal(Q,fe){this.tree.reveal(this.getDataNode(Q),fe)}getParentElement(Q){const fe=this.tree.getParentElement(this.getDataNode(Q));return fe&&fe.element}getFirstElementChild(Q=this.root.element){const fe=this.getDataNode(Q),We=this.tree.getFirstElementChild(fe===this.root?null:fe);return We&&We.element}getDataNode(Q){const fe=this.nodes.get(Q===this.root.element?null:Q);if(!fe)throw new B(this.user,`Data tree node not found: ${Q}`);return fe}refreshAndRenderNode(Q,fe,We,at){return tn(this,null,function*(){yield this.refreshNode(Q,fe,We),this.render(Q,We,at)})}refreshNode(Q,fe,We){return tn(this,null,function*(){let at;if(this.subTreeRefreshPromises.forEach((Ct,Rt)=>{!at&&Wi(Rt,Q)&&(at=Ct.then(()=>this.refreshNode(Q,fe,We)))}),at)return at;if(Q!==this.root&&this.tree.getNode(Q).collapsed){Q.hasChildren=!!this.dataSource.hasChildren(Q.element),Q.stale=!0;return}return this.doRefreshSubTree(Q,fe,We)})}doRefreshSubTree(Q,fe,We){return tn(this,null,function*(){let at;Q.refreshPromise=new Promise(Ct=>at=Ct),this.subTreeRefreshPromises.set(Q,Q.refreshPromise),Q.refreshPromise.finally(()=>{Q.refreshPromise=void 0,this.subTreeRefreshPromises.delete(Q)});try{const Ct=yield this.doRefreshNode(Q,fe,We);Q.stale=!1,yield $.jT.settled(Ct.map(Rt=>this.doRefreshSubTree(Rt,fe,We)))}finally{at()}})}doRefreshNode(Q,fe,We){return tn(this,null,function*(){Q.hasChildren=!!this.dataSource.hasChildren(Q.element);let at;if(!Q.hasChildren)at=Promise.resolve(L.$.empty());else{const Ct=this.doGetChildren(Q);if((0,J.TW)(Ct))at=Promise.resolve(Ct);else{const Rt=(0,$.Vs)(800);Rt.then(()=>{Q.slow=!0,this._onDidChangeNodeSlowState.fire(Q)},Vt=>null),at=Ct.finally(()=>Rt.cancel())}}try{const Ct=yield at;return this.setChildren(Q,Ct,fe,We)}catch(Ct){if(Q!==this.root&&this.tree.hasElement(Q)&&this.tree.collapse(Q),(0,Yn.n2)(Ct))return[];throw Ct}finally{Q.slow&&(Q.slow=!1,this._onDidChangeNodeSlowState.fire(Q))}})}doGetChildren(Q){let fe=this.refreshPromises.get(Q);if(fe)return fe;const We=this.dataSource.getChildren(Q.element);return(0,J.TW)(We)?this.processChildren(We):(fe=(0,$.PG)(()=>tn(this,null,function*(){return this.processChildren(yield We)})),this.refreshPromises.set(Q,fe),fe.finally(()=>{this.refreshPromises.delete(Q)}))}_onDidChangeCollapseState({node:Q,deep:fe}){Q.element!==null&&!Q.collapsed&&Q.element.stale&&(fe?this.collapse(Q.element.element):this.refreshAndRenderNode(Q.element,!1).catch(Yn.dL))}setChildren(Q,fe,We,at){const Ct=[...fe];if(Q.children.length===0&&Ct.length===0)return[];const Rt=new Map,Vt=new Map;for(const zn of Q.children)Rt.set(zn.element,zn),this.identityProvider&&Vt.set(zn.id,{node:zn,collapsed:this.tree.hasElement(zn)&&this.tree.isCollapsed(zn)});const an=[],An=Ct.map(zn=>{const ui=!!this.dataSource.hasChildren(zn);if(!this.identityProvider){const di=mi({element:zn,parent:Q,hasChildren:ui,defaultCollapseState:this.getDefaultCollapseState(zn)});return ui&&di.defaultCollapseState===A.PreserveOrExpanded&&an.push(di),di}const hi=this.identityProvider.getId(zn).toString(),oi=Vt.get(hi);if(oi){const di=oi.node;return Rt.delete(di.element),this.nodes.delete(di.element),this.nodes.set(zn,di),di.element=zn,di.hasChildren=ui,We?oi.collapsed?(di.children.forEach(pi=>qe(pi,qi=>this.nodes.delete(qi.element))),di.children.splice(0,di.children.length),di.stale=!0):an.push(di):ui&&!oi.collapsed&&an.push(di),di}const Kn=mi({element:zn,parent:Q,id:hi,hasChildren:ui,defaultCollapseState:this.getDefaultCollapseState(zn)});return at&&at.viewState.focus&&at.viewState.focus.indexOf(hi)>-1&&at.focus.push(Kn),at&&at.viewState.selection&&at.viewState.selection.indexOf(hi)>-1&&at.selection.push(Kn),(at&&at.viewState.expanded&&at.viewState.expanded.indexOf(hi)>-1||ui&&Kn.defaultCollapseState===A.PreserveOrExpanded)&&an.push(Kn),Kn});for(const zn of Rt.values())qe(zn,ui=>this.nodes.delete(ui.element));for(const zn of An)this.nodes.set(zn.element,zn);return Q.children.splice(0,Q.children.length,...An),Q!==this.root&&this.autoExpandSingleChildren&&An.length===1&&an.length===0&&(An[0].forceExpanded=!0,an.push(An[0])),an}render(Q,fe,We){const at=Q.children.map(Rt=>this.asTreeElement(Rt,fe)),Ct=We&&Ni(Xn({},We),{diffIdentityProvider:We.diffIdentityProvider&&{getId(Rt){return We.diffIdentityProvider.getId(Rt.element)}}});this.tree.setChildren(Q===this.root?null:Q,at,Ct),Q!==this.root&&this.tree.setCollapsible(Q,Q.hasChildren),this._onDidRender.fire()}asTreeElement(Q,fe){if(Q.stale)return{element:Q,collapsible:Q.hasChildren,collapsed:!0};let We;return fe&&fe.viewState.expanded&&Q.id&&fe.viewState.expanded.indexOf(Q.id)>-1?We=!1:Q.forceExpanded?(We=!1,Q.forceExpanded=!1):We=Q.defaultCollapseState,{element:Q,children:Q.hasChildren?L.$.map(Q.children,at=>this.asTreeElement(at,fe)):[],collapsible:Q.hasChildren,collapsed:We}}processChildren(Q){return this.sorter&&(Q=[...Q].sort(this.sorter.compare.bind(this.sorter))),Q}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Qt{get element(){return{elements:this.node.element.elements.map(Q=>Q.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(Q=>new Qt(Q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Q){this.node=Q}}class on{constructor(Q,fe,We,at){this.renderer=Q,this.nodeMapper=fe,this.compressibleNodeMapperProvider=We,this.onDidChangeTwistieState=at,this.renderedNodes=new Map,this.disposables=[],this.templateId=Q.templateId}renderTemplate(Q){return{templateData:this.renderer.renderTemplate(Q)}}renderElement(Q,fe,We,at){this.renderer.renderElement(this.nodeMapper.map(Q),fe,We.templateData,at)}renderCompressedElements(Q,fe,We,at){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(Q),fe,We.templateData,at)}renderTwistie(Q,fe){return Q.slow?(fe.classList.add(...j.k.asClassNameArray(G.l.treeItemLoading)),!0):(fe.classList.remove(...j.k.asClassNameArray(G.l.treeItemLoading)),!1)}disposeElement(Q,fe,We,at){var Ct,Rt;(Rt=(Ct=this.renderer).disposeElement)===null||Rt===void 0||Rt.call(Ct,this.nodeMapper.map(Q),fe,We.templateData,at)}disposeCompressedElements(Q,fe,We,at){var Ct,Rt;(Rt=(Ct=this.renderer).disposeCompressedElements)===null||Rt===void 0||Rt.call(Ct,this.compressibleNodeMapperProvider().map(Q),fe,We.templateData,at)}disposeTemplate(Q){this.renderer.disposeTemplate(Q.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,c.B9)(this.disposables)}}function Cn(lt){const Q=lt&&wn(lt);return Q&&Ni(Xn({},Q),{keyboardNavigationLabelProvider:Q.keyboardNavigationLabelProvider&&Ni(Xn({},Q.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(fe){return lt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(fe.map(We=>We.element))}})})}class Bn extends Dt{constructor(Q,fe,We,at,Ct,Rt,Vt={}){super(Q,fe,We,Ct,Rt,Vt),this.compressionDelegate=at,this.compressibleNodeMapper=new W(an=>new Qt(an)),this.filter=Vt.filter}createTree(Q,fe,We,at,Ct){const Rt=new pe(We),Vt=at.map(An=>new on(An,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),an=Cn(Ct)||{};return new si(Q,fe,Rt,Vt,an)}asTreeElement(Q,fe){return Xn({incompressible:this.compressionDelegate.isIncompressible(Q.element)},super.asTreeElement(Q,fe))}updateOptions(Q={}){this.tree.updateOptions(Q)}render(Q,fe){if(!this.identityProvider)return super.render(Q,fe);const We=hi=>this.identityProvider.getId(hi).toString(),at=hi=>{const oi=new Set;for(const Kn of hi){const di=this.tree.getCompressedTreeNode(Kn===this.root?null:Kn);if(di.element)for(const pi of di.element.elements)oi.add(We(pi.element))}return oi},Ct=at(this.tree.getSelection()),Rt=at(this.tree.getFocus());super.render(Q,fe);const Vt=this.getSelection();let an=!1;const An=this.getFocus();let zn=!1;const ui=hi=>{const oi=hi.element;if(oi)for(let Kn=0;Kn<oi.elements.length;Kn++){const di=We(oi.elements[Kn].element),pi=oi.elements[oi.elements.length-1].element;Ct.has(di)&&Vt.indexOf(pi)===-1&&(Vt.push(pi),an=!0),Rt.has(di)&&An.indexOf(pi)===-1&&(An.push(pi),zn=!0)}hi.children.forEach(ui)};ui(this.tree.getCompressedTreeNode(Q===this.root?null:Q)),an&&this.setSelection(Vt),zn&&this.setFocus(An)}processChildren(Q){return this.filter&&(Q=L.$.filter(Q,fe=>{const We=this.filter.filter(fe,1),at=jn(We);if(at===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return at===1})),super.processChildren(Q)}}function jn(lt){return typeof lt=="boolean"?lt?1:0:z(lt)?O(lt.visibility):O(lt)}class kt extends it{constructor(Q,fe,We,at,Ct,Rt={}){super(Q,fe,We,at,Rt),this.user=Q,this.dataSource=Ct,this.identityProvider=Rt.identityProvider}createModel(Q,fe,We){return new Et(Q,fe,We)}}var wt=e(33108),sn=e(23193),en=e(32064),Un=e(39282),ri=e(5606),Jn=e(72065),Di=e(91847),Ai=e(76648);let Ri;const Tn=globalThis.vscode;if(typeof Tn!="undefined"&&typeof Tn.context!="undefined"){const lt=Tn.context.configuration();if(lt)Ri=lt.product;else throw new Error("Sandbox: unable to resolve product configuration from preload script.")}else if(globalThis._VSCODE_PRODUCT_JSON&&globalThis._VSCODE_PACKAGE_JSON){if(Ri=globalThis._VSCODE_PRODUCT_JSON,Ai.OB.VSCODE_DEV&&Object.assign(Ri,{nameShort:`${Ri.nameShort} Dev`,nameLong:`${Ri.nameLong} Dev`,dataFolderName:`${Ri.dataFolderName}-dev`,serverDataFolderName:Ri.serverDataFolderName?`${Ri.serverDataFolderName}-dev`:void 0}),!Ri.version){const lt=globalThis._VSCODE_PACKAGE_JSON;Object.assign(Ri,{version:lt.version})}}else Ri={},Object.keys(Ri).length===0&&Object.assign(Ri,{version:"1.82.0-dev",nameShort:"Code - OSS Dev",nameLong:"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",serverLicenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt"});var yn=Ri,Nn=e(89872),Bt=e(86253),Yt=function(lt,Q,fe,We){var at=arguments.length,Ct=at<3?Q:We===null?We=Object.getOwnPropertyDescriptor(Q,fe):We,Rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ct=Reflect.decorate(lt,Q,fe,We);else for(var Vt=lt.length-1;Vt>=0;Vt--)(Rt=lt[Vt])&&(Ct=(at<3?Rt(Ct):at>3?Rt(Q,fe,Ct):Rt(Q,fe))||Ct);return at>3&&Ct&&Object.defineProperty(Q,fe,Ct),Ct},fn=function(lt,Q){return function(fe,We){Q(fe,We,lt)}};const Ht=(0,Jn.yh)("listService");class et{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new c.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(Q){var fe,We;Q!==this._lastFocusedWidget&&((fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=Q,(We=this._lastFocusedWidget)===null||We===void 0||We.getHTMLElement().classList.add("last-focused"))}register(Q,fe){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new I.wD((0,b.dS)(),"").style(Bt.O2)),this.lists.some(at=>at.widget===Q))throw new Error("Cannot register the same widget multiple times");const We={widget:Q,extraContextKeys:fe};return this.lists.push(We),(0,b.H9)(Q.getHTMLElement())&&this.setLastFocusedList(Q),(0,c.F8)(Q.onDidFocus(()=>this.setLastFocusedList(Q)),(0,c.OF)(()=>this.lists.splice(this.lists.indexOf(We),1)),Q.onDidDispose(()=>{this.lists=this.lists.filter(at=>at!==We),this._lastFocusedWidget===Q&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const ee=new en.uy("listScrollAtBoundary","none"),de=en.Ao.or(ee.isEqualTo("top"),ee.isEqualTo("both")),oe=en.Ao.or(ee.isEqualTo("bottom"),ee.isEqualTo("both")),Ce=new en.uy("listFocus",!0),Ee=new en.uy("listSupportsMultiselect",!0),be=en.Ao.and(Ce,en.Ao.not(Un.d0)),Ae=new en.uy("listHasSelectionOrFocus",!1),He=new en.uy("listDoubleSelection",!1),Ye=new en.uy("listMultiSelection",!1),ht=new en.uy("listSelectionNavigation",!1),$t=new en.uy("listSupportsFind",!0),gn=new en.uy("treeElementCanCollapse",!1),dn=new en.uy("treeElementHasParent",!1),ln=new en.uy("treeElementCanExpand",!1),ct=new en.uy("treeElementHasChild",!1),Pt=new en.uy("treeFindOpen",!1),Nt="listTypeNavigationMode",Tt="listAutomaticKeyboardNavigation";function Zt(lt,Q){const fe=lt.createScoped(Q.getHTMLElement());return Ce.bindTo(fe),fe}function zt(lt,Q){const fe=ee.bindTo(lt),We=()=>{const at=Q.scrollTop===0,Ct=Q.scrollHeight-Q.renderHeight-Q.scrollTop<1;at&&Ct?fe.set("both"):at?fe.set("top"):Ct?fe.set("bottom"):fe.set("none")};return We(),Q.onDidScroll(We)}const _n="workbench.list.multiSelectModifier",hn="workbench.list.openMode",Mn="workbench.list.horizontalScrolling",Rn="workbench.list.defaultFindMode",ni="workbench.list.typeNavigationMode",gi="workbench.list.keyboardNavigation",Ii="workbench.list.scrollByPage",Bi="workbench.list.defaultFindMatchType",Hi="workbench.tree.indent",fi="workbench.tree.renderIndentGuides",Ci="workbench.list.smoothScrolling",Li="workbench.list.mouseWheelScrollSensitivity",ci="workbench.list.fastScrollSensitivity",Zi="workbench.tree.expandMode",Ji="workbench.tree.enableStickyScroll",vn="workbench.tree.stickyScrollMaxItemCount";function $e(lt){return lt.getValue(_n)==="alt"}class ft extends c.JT{constructor(Q){super(),this.configurationService=Q,this.useAltAsMultipleSelectionModifier=$e(Q),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Q=>{Q.affectsConfiguration(_n)&&(this.useAltAsMultipleSelectionModifier=$e(this.configurationService))}))}isSelectionSingleChangeEvent(Q){return this.useAltAsMultipleSelectionModifier?Q.browserEvent.altKey:(0,I.Zo)(Q)}isSelectionRangeChangeEvent(Q){return(0,I.wn)(Q)}}function gt(lt,Q){var fe;const We=lt.get(wt.Ui),at=lt.get(Di.d),Ct=new c.SL;return[Ni(Xn({},Q),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Vt){return at.mightProducePrintableCharacter(Vt)}},smoothScrolling:!!We.getValue(Ci),mouseWheelScrollSensitivity:We.getValue(Li),fastScrollSensitivity:We.getValue(ci),multipleSelectionController:(fe=Q.multipleSelectionController)!==null&&fe!==void 0?fe:Ct.add(new ft(We)),keyboardNavigationEventFilter:Vn(at),scrollByPage:!!We.getValue(Ii)}),Ct]}let cn=class extends I.aV{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An){const zn=typeof Ct.horizontalScrolling!="undefined"?Ct.horizontalScrolling:!!an.getValue(Mn),[ui,hi]=An.invokeFunction(gt,Ct);super(Q,fe,We,at,Ni(Xn({keyboardSupport:!1},ui),{horizontalScrolling:zn})),this.disposables.add(hi),this.contextKeyService=Zt(Rt,this),this.disposables.add(zt(this.contextKeyService,this)),this.listSupportsMultiSelect=Ee.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ct.multipleSelectionSupport!==!1),ht.bindTo(this.contextKeyService).set(!!Ct.selectionNavigation),this.listHasSelectionOrFocus=Ae.bindTo(this.contextKeyService),this.listDoubleSelection=He.bindTo(this.contextKeyService),this.listMultiSelection=Ye.bindTo(this.contextKeyService),this.horizontalScrolling=Ct.horizontalScrolling,this._useAltAsMultipleSelectionModifier=$e(an),this.disposables.add(this.contextKeyService),this.disposables.add(Vt.register(this)),this.updateStyles(Ct.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Kn=this.getSelection(),di=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Kn.length>0||di.length>0),this.listMultiSelection.set(Kn.length>1),this.listDoubleSelection.set(Kn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Kn=this.getSelection(),di=this.getFocus();this.listHasSelectionOrFocus.set(Kn.length>0||di.length>0)})),this.disposables.add(an.onDidChangeConfiguration(Kn=>{Kn.affectsConfiguration(_n)&&(this._useAltAsMultipleSelectionModifier=$e(an));let di={};if(Kn.affectsConfiguration(Mn)&&this.horizontalScrolling===void 0){const pi=!!an.getValue(Mn);di=Ni(Xn({},di),{horizontalScrolling:pi})}if(Kn.affectsConfiguration(Ii)){const pi=!!an.getValue(Ii);di=Ni(Xn({},di),{scrollByPage:pi})}if(Kn.affectsConfiguration(Ci)){const pi=!!an.getValue(Ci);di=Ni(Xn({},di),{smoothScrolling:pi})}if(Kn.affectsConfiguration(Li)){const pi=an.getValue(Li);di=Ni(Xn({},di),{mouseWheelScrollSensitivity:pi})}if(Kn.affectsConfiguration(ci)){const pi=an.getValue(ci);di=Ni(Xn({},di),{fastScrollSensitivity:pi})}Object.keys(di).length>0&&this.updateOptions(di)})),this.navigator=new Ln(this,Xn({configurationService:an},Ct)),this.disposables.add(this.navigator)}updateOptions(Q){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.updateStyles(Q.overrideStyles),Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyles(Q){this.style(Q?(0,Bt.TU)(Q):Bt.O2)}};cn=Yt([fn(5,en.i6),fn(6,Ht),fn(7,wt.Ui),fn(8,Jn.TG)],cn);let rn=class extends o{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An){const zn=typeof Ct.horizontalScrolling!="undefined"?Ct.horizontalScrolling:!!an.getValue(Mn),[ui,hi]=An.invokeFunction(gt,Ct);super(Q,fe,We,at,Ni(Xn({keyboardSupport:!1},ui),{horizontalScrolling:zn})),this.disposables=new c.SL,this.disposables.add(hi),this.contextKeyService=Zt(Rt,this),this.disposables.add(zt(this.contextKeyService,this.widget)),this.horizontalScrolling=Ct.horizontalScrolling,this.listSupportsMultiSelect=Ee.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ct.multipleSelectionSupport!==!1),ht.bindTo(this.contextKeyService).set(!!Ct.selectionNavigation),this._useAltAsMultipleSelectionModifier=$e(an),this.disposables.add(this.contextKeyService),this.disposables.add(Vt.register(this)),this.updateStyles(Ct.overrideStyles),this.disposables.add(an.onDidChangeConfiguration(Kn=>{Kn.affectsConfiguration(_n)&&(this._useAltAsMultipleSelectionModifier=$e(an));let di={};if(Kn.affectsConfiguration(Mn)&&this.horizontalScrolling===void 0){const pi=!!an.getValue(Mn);di=Ni(Xn({},di),{horizontalScrolling:pi})}if(Kn.affectsConfiguration(Ii)){const pi=!!an.getValue(Ii);di=Ni(Xn({},di),{scrollByPage:pi})}if(Kn.affectsConfiguration(Ci)){const pi=!!an.getValue(Ci);di=Ni(Xn({},di),{smoothScrolling:pi})}if(Kn.affectsConfiguration(Li)){const pi=an.getValue(Li);di=Ni(Xn({},di),{mouseWheelScrollSensitivity:pi})}if(Kn.affectsConfiguration(ci)){const pi=an.getValue(ci);di=Ni(Xn({},di),{fastScrollSensitivity:pi})}Object.keys(di).length>0&&this.updateOptions(di)})),this.navigator=new Ln(this,Xn({configurationService:an},Ct)),this.disposables.add(this.navigator)}updateOptions(Q){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.updateStyles(Q.overrideStyles),Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyles(Q){this.style(Q?(0,Bt.TU)(Q):Bt.O2)}dispose(){this.disposables.dispose(),super.dispose()}};rn=Yt([fn(5,en.i6),fn(6,Ht),fn(7,wt.Ui),fn(8,Jn.TG)],rn);let Sn=class extends f{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An,zn){const ui=typeof Rt.horizontalScrolling!="undefined"?Rt.horizontalScrolling:!!An.getValue(Mn),[hi,oi]=zn.invokeFunction(gt,Rt);super(Q,fe,We,at,Ct,Ni(Xn({keyboardSupport:!1},hi),{horizontalScrolling:ui})),this.disposables.add(oi),this.contextKeyService=Zt(Vt,this),this.disposables.add(zt(this.contextKeyService,this)),this.listSupportsMultiSelect=Ee.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Rt.multipleSelectionSupport!==!1),ht.bindTo(this.contextKeyService).set(!!Rt.selectionNavigation),this.listHasSelectionOrFocus=Ae.bindTo(this.contextKeyService),this.listDoubleSelection=He.bindTo(this.contextKeyService),this.listMultiSelection=Ye.bindTo(this.contextKeyService),this.horizontalScrolling=Rt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=$e(An),this.disposables.add(this.contextKeyService),this.disposables.add(an.register(this)),this.updateStyles(Rt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const di=this.getSelection(),pi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(di.length>0||pi.length>0),this.listMultiSelection.set(di.length>1),this.listDoubleSelection.set(di.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const di=this.getSelection(),pi=this.getFocus();this.listHasSelectionOrFocus.set(di.length>0||pi.length>0)})),this.disposables.add(An.onDidChangeConfiguration(di=>{di.affectsConfiguration(_n)&&(this._useAltAsMultipleSelectionModifier=$e(An));let pi={};if(di.affectsConfiguration(Mn)&&this.horizontalScrolling===void 0){const qi=!!An.getValue(Mn);pi=Ni(Xn({},pi),{horizontalScrolling:qi})}if(di.affectsConfiguration(Ii)){const qi=!!An.getValue(Ii);pi=Ni(Xn({},pi),{scrollByPage:qi})}if(di.affectsConfiguration(Ci)){const qi=!!An.getValue(Ci);pi=Ni(Xn({},pi),{smoothScrolling:qi})}if(di.affectsConfiguration(Li)){const qi=An.getValue(Li);pi=Ni(Xn({},pi),{mouseWheelScrollSensitivity:qi})}if(di.affectsConfiguration(ci)){const qi=An.getValue(ci);pi=Ni(Xn({},pi),{fastScrollSensitivity:qi})}Object.keys(pi).length>0&&this.updateOptions(pi)})),this.navigator=new On(this,Xn({configurationService:An},Rt)),this.disposables.add(this.navigator)}updateOptions(Q){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.updateStyles(Q.overrideStyles),Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyles(Q){this.style(Q?(0,Bt.TU)(Q):Bt.O2)}dispose(){this.disposables.dispose(),super.dispose()}};Sn=Yt([fn(6,en.i6),fn(7,Ht),fn(8,wt.Ui),fn(9,Jn.TG)],Sn);class En extends c.JT{constructor(Q,fe){var We;super(),this.widget=Q,this._onDidOpen=this._register(new w.Q5),this.onDidOpen=this._onDidOpen.event,this._register(w.ju.filter(this.widget.onDidChangeSelection,at=>(0,b.vd)(at.browserEvent))(at=>this.onSelectionFromKeyboard(at))),this._register(this.widget.onPointer(at=>this.onPointer(at.element,at.browserEvent))),this._register(this.widget.onMouseDblClick(at=>this.onMouseDblClick(at.element,at.browserEvent))),typeof(fe==null?void 0:fe.openOnSingleClick)!="boolean"&&(fe!=null&&fe.configurationService)?(this.openOnSingleClick=(fe==null?void 0:fe.configurationService.getValue(hn))!=="doubleClick",this._register(fe==null?void 0:fe.configurationService.onDidChangeConfiguration(at=>{at.affectsConfiguration(hn)&&(this.openOnSingleClick=(fe==null?void 0:fe.configurationService.getValue(hn))!=="doubleClick")}))):this.openOnSingleClick=(We=fe==null?void 0:fe.openOnSingleClick)!==null&&We!==void 0?We:!0}onSelectionFromKeyboard(Q){if(Q.elements.length!==1)return;const fe=Q.browserEvent,We=typeof fe.preserveFocus=="boolean"?fe.preserveFocus:!0,at=typeof fe.pinned=="boolean"?fe.pinned:!We,Ct=!1;this._open(this.getSelectedElement(),We,at,Ct,Q.browserEvent)}onPointer(Q,fe){if(!this.openOnSingleClick||fe.detail===2)return;const at=fe.button===1,Ct=!0,Rt=at,Vt=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(Q,Ct,Rt,Vt,fe)}onMouseDblClick(Q,fe){if(!fe)return;const We=fe.target;if(We.classList.contains("monaco-tl-twistie")||We.classList.contains("monaco-icon-label")&&We.classList.contains("folder-icon")&&fe.offsetX<16)return;const Ct=!1,Rt=!0,Vt=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(Q,Ct,Rt,Vt,fe)}_open(Q,fe,We,at,Ct){Q&&this._onDidOpen.fire({editorOptions:{preserveFocus:fe,pinned:We,revealIfVisible:!0},sideBySide:at,element:Q,browserEvent:Ct})}}class Ln extends En{constructor(Q,fe){super(Q,fe),this.widget=Q}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class On extends En{constructor(Q,fe){super(Q,fe)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Qn extends En{constructor(Q,fe){super(Q,fe)}getSelectedElement(){var Q;return(Q=this.widget.getSelection()[0])!==null&&Q!==void 0?Q:void 0}}function Vn(lt){let Q=!1;return fe=>{if(fe.toKeyCodeChord().isModifierKey())return!1;if(Q)return Q=!1,!1;const We=lt.softDispatch(fe,fe.target);return We.kind===1?(Q=!0,!1):(Q=!1,We.kind===0)}}let Wn=class extends In{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An){const{options:zn,getTypeNavigationMode:ui,disposable:hi}=Rt.invokeFunction(ot,Ct);super(Q,fe,We,at,zn),this.disposables.add(hi),this.internals=new dt(this,Ct,ui,Ct.overrideStyles,Vt,an,An),this.disposables.add(this.internals)}updateOptions(Q){super.updateOptions(Q),this.internals.updateOptions(Q)}};Wn=Yt([fn(5,Jn.TG),fn(6,en.i6),fn(7,Ht),fn(8,wt.Ui)],Wn);let St=class extends si{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An){const{options:zn,getTypeNavigationMode:ui,disposable:hi}=Rt.invokeFunction(ot,Ct);super(Q,fe,We,at,zn),this.disposables.add(hi),this.internals=new dt(this,Ct,ui,Ct.overrideStyles,Vt,an,An),this.disposables.add(this.internals)}updateOptions(Q={}){super.updateOptions(Q),Q.overrideStyles&&this.internals.updateStyleOverrides(Q.overrideStyles),this.internals.updateOptions(Q)}};St=Yt([fn(5,Jn.TG),fn(6,en.i6),fn(7,Ht),fn(8,wt.Ui)],St);let k=class extends kt{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An,zn){const{options:ui,getTypeNavigationMode:hi,disposable:oi}=Vt.invokeFunction(ot,Rt);super(Q,fe,We,at,Ct,ui),this.disposables.add(oi),this.internals=new dt(this,Rt,hi,Rt.overrideStyles,an,An,zn),this.disposables.add(this.internals)}updateOptions(Q={}){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.internals.updateStyleOverrides(Q.overrideStyles),this.internals.updateOptions(Q)}};k=Yt([fn(6,Jn.TG),fn(7,en.i6),fn(8,Ht),fn(9,wt.Ui)],k);let ne=class extends Dt{get onDidOpen(){return this.internals.onDidOpen}constructor(Q,fe,We,at,Ct,Rt,Vt,an,An,zn){const{options:ui,getTypeNavigationMode:hi,disposable:oi}=Vt.invokeFunction(ot,Rt);super(Q,fe,We,at,Ct,ui),this.disposables.add(oi),this.internals=new dt(this,Rt,hi,Rt.overrideStyles,an,An,zn),this.disposables.add(this.internals)}updateOptions(Q={}){super.updateOptions(Q),Q.overrideStyles&&this.internals.updateStyleOverrides(Q.overrideStyles),this.internals.updateOptions(Q)}};ne=Yt([fn(6,Jn.TG),fn(7,en.i6),fn(8,Ht),fn(9,wt.Ui)],ne);let ue=class extends Bn{constructor(Q,fe,We,at,Ct,Rt,Vt,an,An,zn,ui){const{options:hi,getTypeNavigationMode:oi,disposable:Kn}=an.invokeFunction(ot,Vt);super(Q,fe,We,at,Ct,Rt,hi),this.disposables.add(Kn),this.internals=new dt(this,Vt,oi,Vt.overrideStyles,An,zn,ui),this.disposables.add(this.internals)}updateOptions(Q){super.updateOptions(Q),this.internals.updateOptions(Q)}};ue=Yt([fn(7,Jn.TG),fn(8,en.i6),fn(9,Ht),fn(10,wt.Ui)],ue);function Fe(lt){const Q=lt.getValue(Rn);if(Q==="highlight")return ie.Highlight;if(Q==="filter")return ie.Filter;const fe=lt.getValue(gi);if(fe==="simple"||fe==="highlight")return ie.Highlight;if(fe==="filter")return ie.Filter}function Qe(lt){const Q=lt.getValue(Bi);if(Q==="fuzzy")return ce.Fuzzy;if(Q==="contiguous")return ce.Contiguous}function ot(lt,Q){var fe;const We=lt.get(wt.Ui),at=lt.get(ri.u),Ct=lt.get(en.i6),Rt=lt.get(Jn.TG),Vt=()=>{const oi=Ct.getContextKeyValue(Nt);if(oi==="automatic")return I.AA.Automatic;if(oi==="trigger"||Ct.getContextKeyValue(Tt)===!1)return I.AA.Trigger;const di=We.getValue(ni);if(di==="automatic")return I.AA.Automatic;if(di==="trigger")return I.AA.Trigger},an=Q.horizontalScrolling!==void 0?Q.horizontalScrolling:!!We.getValue(Mn),[An,zn]=Rt.invokeFunction(gt,Q),ui=Q.paddingBottom,hi=Q.renderIndentGuides!==void 0?Q.renderIndentGuides:We.getValue(fi);return{getTypeNavigationMode:Vt,disposable:zn,options:Ni(Xn({keyboardSupport:!1},An),{indent:typeof We.getValue(Hi)=="number"?We.getValue(Hi):void 0,renderIndentGuides:hi,smoothScrolling:!!We.getValue(Ci),defaultFindMode:Fe(We),defaultFindMatchType:Qe(We),horizontalScrolling:an,scrollByPage:!!We.getValue(Ii),paddingBottom:ui,hideTwistiesOfChildlessElements:Q.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(fe=Q.expandOnlyOnTwistieClick)!==null&&fe!==void 0?fe:We.getValue(Zi)==="doubleClick",contextViewProvider:at,findWidgetStyles:Bt.uX,enableStickyScroll:!!We.getValue(Ji),stickyScrollMaxItemCount:Number(We.getValue(vn))})}}let dt=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(Q,fe,We,at,Ct,Rt,Vt){var an;this.tree=Q,this.disposables=[],this.contextKeyService=Zt(Ct,Q),this.disposables.push(zt(this.contextKeyService,Q)),this.listSupportsMultiSelect=Ee.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),ht.bindTo(this.contextKeyService).set(!!fe.selectionNavigation),this.listSupportFindWidget=$t.bindTo(this.contextKeyService),this.listSupportFindWidget.set((an=fe.findWidgetEnabled)!==null&&an!==void 0?an:!0),this.hasSelectionOrFocus=Ae.bindTo(this.contextKeyService),this.hasDoubleSelection=He.bindTo(this.contextKeyService),this.hasMultiSelection=Ye.bindTo(this.contextKeyService),this.treeElementCanCollapse=gn.bindTo(this.contextKeyService),this.treeElementHasParent=dn.bindTo(this.contextKeyService),this.treeElementCanExpand=ln.bindTo(this.contextKeyService),this.treeElementHasChild=ct.bindTo(this.contextKeyService),this.treeFindOpen=Pt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=$e(Vt),this.updateStyleOverrides(at);const zn=()=>{const hi=Q.getFocus()[0];if(!hi)return;const oi=Q.getNode(hi);this.treeElementCanCollapse.set(oi.collapsible&&!oi.collapsed),this.treeElementHasParent.set(!!Q.getParentElement(hi)),this.treeElementCanExpand.set(oi.collapsible&&oi.collapsed),this.treeElementHasChild.set(!!Q.getFirstElementChild(hi))},ui=new Set;ui.add(Nt),ui.add(Tt),this.disposables.push(this.contextKeyService,Rt.register(Q),Q.onDidChangeSelection(()=>{const hi=Q.getSelection(),oi=Q.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(hi.length>0||oi.length>0),this.hasMultiSelection.set(hi.length>1),this.hasDoubleSelection.set(hi.length===2)})}),Q.onDidChangeFocus(()=>{const hi=Q.getSelection(),oi=Q.getFocus();this.hasSelectionOrFocus.set(hi.length>0||oi.length>0),zn()}),Q.onDidChangeCollapseState(zn),Q.onDidChangeModel(zn),Q.onDidChangeFindOpenState(hi=>this.treeFindOpen.set(hi)),Vt.onDidChangeConfiguration(hi=>{let oi={};if(hi.affectsConfiguration(_n)&&(this._useAltAsMultipleSelectionModifier=$e(Vt)),hi.affectsConfiguration(Hi)){const Kn=Vt.getValue(Hi);oi=Ni(Xn({},oi),{indent:Kn})}if(hi.affectsConfiguration(fi)&&fe.renderIndentGuides===void 0){const Kn=Vt.getValue(fi);oi=Ni(Xn({},oi),{renderIndentGuides:Kn})}if(hi.affectsConfiguration(Ci)){const Kn=!!Vt.getValue(Ci);oi=Ni(Xn({},oi),{smoothScrolling:Kn})}if(hi.affectsConfiguration(Rn)||hi.affectsConfiguration(gi)){const Kn=Fe(Vt);oi=Ni(Xn({},oi),{defaultFindMode:Kn})}if(hi.affectsConfiguration(ni)||hi.affectsConfiguration(gi)){const Kn=We();oi=Ni(Xn({},oi),{typeNavigationMode:Kn})}if(hi.affectsConfiguration(Bi)){const Kn=Qe(Vt);oi=Ni(Xn({},oi),{defaultFindMatchType:Kn})}if(hi.affectsConfiguration(Mn)&&fe.horizontalScrolling===void 0){const Kn=!!Vt.getValue(Mn);oi=Ni(Xn({},oi),{horizontalScrolling:Kn})}if(hi.affectsConfiguration(Ii)){const Kn=!!Vt.getValue(Ii);oi=Ni(Xn({},oi),{scrollByPage:Kn})}if(hi.affectsConfiguration(Zi)&&fe.expandOnlyOnTwistieClick===void 0&&(oi=Ni(Xn({},oi),{expandOnlyOnTwistieClick:Vt.getValue(Zi)==="doubleClick"})),hi.affectsConfiguration(Ji)){const Kn=Vt.getValue(Ji);oi=Ni(Xn({},oi),{enableStickyScroll:Kn})}if(hi.affectsConfiguration(vn)){const Kn=Math.max(1,Vt.getValue(vn));oi=Ni(Xn({},oi),{stickyScrollMaxItemCount:Kn})}if(hi.affectsConfiguration(Li)){const Kn=Vt.getValue(Li);oi=Ni(Xn({},oi),{mouseWheelScrollSensitivity:Kn})}if(hi.affectsConfiguration(ci)){const Kn=Vt.getValue(ci);oi=Ni(Xn({},oi),{fastScrollSensitivity:Kn})}Object.keys(oi).length>0&&Q.updateOptions(oi)}),this.contextKeyService.onDidChangeContext(hi=>{hi.affectsSome(ui)&&Q.updateOptions({typeNavigationMode:We()})})),this.navigator=new Qn(Q,Xn({configurationService:Vt},fe)),this.disposables.push(this.navigator)}updateOptions(Q){Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyleOverrides(Q){this.tree.style(Q?(0,Bt.TU)(Q):Bt.O2)}dispose(){this.disposables=(0,c.B9)(this.disposables)}};dt=Yt([fn(4,en.i6),fn(5,Ht),fn(6,wt.Ui)],dt),Nn.B.as(sn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,X.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[_n]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,X.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,X.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,X.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[hn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,X.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Mn]:{type:"boolean",default:!1,description:(0,X.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Ii]:{type:"boolean",default:!1,description:(0,X.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Hi]:{type:"number",default:8,minimum:4,maximum:40,description:(0,X.NC)("tree indent setting","Controls tree indentation in pixels.")},[fi]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,X.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Ci]:{type:"boolean",default:!1,description:(0,X.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Li]:{type:"number",default:1,markdownDescription:(0,X.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ci]:{type:"number",default:5,markdownDescription:(0,X.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Rn]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,X.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,X.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,X.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[gi]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,X.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,X.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,X.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,X.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,X.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Bi]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,X.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,X.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,X.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Zi]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,X.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ji]:{type:"boolean",default:typeof yn.quality=="string"&&yn.quality!=="stable",description:(0,X.NC)("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[vn]:{type:"number",minimum:1,default:7,markdownDescription:(0,X.NC)("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[ni]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,X.NC)("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})},43557:function(Ot,Ke,e){"use strict";e.d(Ke,{VZ:function(){return c},in:function(){return _},kw:function(){return D},qA:function(){return p}});var b=e(4669),U=e(5976),r=e(32064),w=e(72065);const c=(0,w.yh)("logService");var _;(function(d){d[d.Off=0]="Off",d[d.Trace=1]="Trace",d[d.Debug=2]="Debug",d[d.Info=3]="Info",d[d.Warning=4]="Warning",d[d.Error=5]="Error"})(_||(_={}));const I=_.Info;class M extends U.JT{constructor(){super(...arguments),this.level=I,this._onDidChangeLogLevel=this._register(new b.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(n){this.level!==n&&(this.level=n,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(n){return this.level!==_.Off&&this.level<=n}}class D extends M{constructor(n=I,i=!0){super(),this.useColors=i,this.setLevel(n)}trace(n,...i){this.checkLogLevel(_.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",n,...i):console.log(n,...i))}debug(n,...i){this.checkLogLevel(_.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",n,...i):console.log(n,...i))}info(n,...i){this.checkLogLevel(_.Info)&&(this.useColors?console.log("%c INFO","color: #33f",n,...i):console.log(n,...i))}warn(n,...i){this.checkLogLevel(_.Warning)&&(this.useColors?console.log("%c WARN","color: #993",n,...i):console.log(n,...i))}error(n,...i){this.checkLogLevel(_.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",n,...i):console.error(n,...i))}dispose(){}}class p extends M{constructor(n){super(),this.loggers=n,n.length&&this.setLevel(n[0].getLevel())}setLevel(n){for(const i of this.loggers)i.setLevel(n);super.setLevel(n)}trace(n,...i){for(const f of this.loggers)f.trace(n,...i)}debug(n,...i){for(const f of this.loggers)f.debug(n,...i)}info(n,...i){for(const f of this.loggers)f.info(n,...i)}warn(n,...i){for(const f of this.loggers)f.warn(n,...i)}error(n,...i){for(const f of this.loggers)f.error(n,...i)}dispose(){for(const n of this.loggers)n.dispose()}}function o(d){switch(d){case _.Trace:return"trace";case _.Debug:return"debug";case _.Info:return"info";case _.Warning:return"warn";case _.Error:return"error";case _.Off:return"off"}}const u=new r.uy("logLevel",o(_.Info))},98674:function(Ot,Ke,e){"use strict";e.d(Ke,{H0:function(){return c},ZL:function(){return w},lT:function(){return _}});var b=e(14603),U=e(63580),r=e(72065),w;(function(I){I[I.Hint=1]="Hint",I[I.Info=2]="Info",I[I.Warning=4]="Warning",I[I.Error=8]="Error"})(w||(w={})),function(I){function M(d,n){return n-d}I.compare=M;const D=Object.create(null);D[I.Error]=(0,U.NC)("sev.error","Error"),D[I.Warning]=(0,U.NC)("sev.warning","Warning"),D[I.Info]=(0,U.NC)("sev.info","Info");function p(d){return D[d]||""}I.toString=p;function o(d){switch(d){case b.Z.Error:return I.Error;case b.Z.Warning:return I.Warning;case b.Z.Info:return I.Info;case b.Z.Ignore:return I.Hint}}I.fromSeverity=o;function u(d){switch(d){case I.Error:return b.Z.Error;case I.Warning:return b.Z.Warning;case I.Info:return b.Z.Info;case I.Hint:return b.Z.Ignore}}I.toSeverity=u}(w||(w={}));var c;(function(I){const M="";function D(o){return p(o,!0)}I.makeKey=D;function p(o,u){const d=[M];return o.source?d.push(o.source.replace("\xA6","\\\xA6")):d.push(M),o.code?typeof o.code=="string"?d.push(o.code.replace("\xA6","\\\xA6")):d.push(o.code.value.replace("\xA6","\\\xA6")):d.push(M),o.severity!==void 0&&o.severity!==null?d.push(w.toString(o.severity)):d.push(M),o.message&&u?d.push(o.message.replace("\xA6","\\\xA6")):d.push(M),o.startLineNumber!==void 0&&o.startLineNumber!==null?d.push(o.startLineNumber.toString()):d.push(M),o.startColumn!==void 0&&o.startColumn!==null?d.push(o.startColumn.toString()):d.push(M),o.endLineNumber!==void 0&&o.endLineNumber!==null?d.push(o.endLineNumber.toString()):d.push(M),o.endColumn!==void 0&&o.endColumn!==null?d.push(o.endColumn.toString()):d.push(M),d.push(M),d.join("\xA6")}I.makeKeyOptionalMessage=p})(c||(c={}));const _=(0,r.yh)("markerService")},48894:function(Ot,Ke,e){"use strict";e.d(Ke,{EO:function(){return c},lT:function(){return w},zb:function(){return r}});var b=e(14603),U=e(72065),r=b.Z;const w=(0,U.yh)("notificationService");class c{}},50988:function(Ot,Ke,e){"use strict";e.d(Ke,{v:function(){return U},x:function(){return r}});var b=e(72065);const U=(0,b.yh)("openerService");function r(w){let c;const _=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(w.fragment);return _&&(c={startLineNumber:parseInt(_[1]),startColumn:_[2]?parseInt(_[2]):1,endLineNumber:_[4]?parseInt(_[4]):void 0,endColumn:_[4]?_[5]?parseInt(_[5]):1:void 0},w=w.with({fragment:""})),{selection:c,uri:w}}},90535:function(Ot,Ke,e){"use strict";e.d(Ke,{Ex:function(){return w},R9:function(){return U},ek:function(){return c}});var b=e(72065);const U=(0,b.yh)("progressService"),r=Object.freeze({total(){},worked(){},done(){}});class w{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}w.None=Object.freeze({report(){}});const c=(0,b.yh)("editorProgressService")},90725:function(Ot,Ke,e){"use strict";e.d(Ke,{IP:function(){return c},Ry:function(){return w}});var b=e(9488),U=e(5976),r=e(89872),w;(function(I){I[I.PRESERVE=0]="PRESERVE",I[I.LAST=1]="LAST"})(w||(w={}));const c={Quickaccess:"workbench.contributions.quickaccess"};class _{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(M){return M.prefix.length===0?this.defaultProvider=M:this.providers.push(M),this.providers.sort((D,p)=>p.prefix.length-D.prefix.length),(0,U.OF)(()=>{this.providers.splice(this.providers.indexOf(M),1),this.defaultProvider===M&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,b.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(M){return M&&this.providers.find(p=>M.startsWith(p.prefix))||void 0||this.defaultProvider}}r.B.add(c.Quickaccess,new _)},41157:function(Ot,Ke,e){"use strict";e.d(Ke,{Jq:function(){return r},X5:function(){return U},eJ:function(){return I},jG:function(){return w}});var b=e(72065);const U={ctrlCmd:!1,alt:!1};var r;(function(M){M[M.Blur=1]="Blur",M[M.Gesture=2]="Gesture",M[M.Other=3]="Other"})(r||(r={}));var w;(function(M){M[M.NONE=0]="NONE",M[M.FIRST=1]="FIRST",M[M.SECOND=2]="SECOND",M[M.LAST=3]="LAST"})(w||(w={}));class c{constructor(D){this.options=D}}const _=new c,I=(0,b.yh)("quickInputService")},89872:function(Ot,Ke,e){"use strict";e.d(Ke,{B:function(){return w}});var b=e(35146),U=e(98401);class r{constructor(){this.data=new Map}add(_,I){b.ok(U.HD(_)),b.ok(U.Kn(I)),b.ok(!this.data.has(_),"There is already an extension with this id"),this.data.set(_,I)}as(_){return this.data.get(_)||null}}const w=new r},87060:function(Ot,Ke,e){"use strict";e.d(Ke,{Uy:function(){return u},vm:function(){return f},fk:function(){return d}});var b=e(4669),U=e(5976),r=e(98401),w=e(15393),c=e(23897),_;(function(v){v[v.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",v[v.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(_||(_={}));var I;(function(v){v[v.None=0]="None",v[v.Initialized=1]="Initialized",v[v.Closed=2]="Closed"})(I||(I={}));class M extends U.JT{constructor(a,S=Object.create(null)){super(),this.database=a,this.options=S,this._onDidChangeStorage=this._register(new b.K3),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=I.None,this.cache=new Map,this.flushDelayer=this._register(new w.rH(M.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(a=>this.onDidChangeItemsExternal(a)))}onDidChangeItemsExternal(a){var S,g;this._onDidChangeStorage.pause();try{(S=a.changed)===null||S===void 0||S.forEach((y,C)=>this.acceptExternal(C,y)),(g=a.deleted)===null||g===void 0||g.forEach(y=>this.acceptExternal(y,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(a,S){if(this.state===I.Closed)return;let g=!1;(0,r.Jp)(S)?g=this.cache.delete(a):this.cache.get(a)!==S&&(this.cache.set(a,S),g=!0),g&&this._onDidChangeStorage.fire({key:a,external:!0})}get(a,S){const g=this.cache.get(a);return(0,r.Jp)(g)?S:g}getBoolean(a,S){const g=this.get(a);return(0,r.Jp)(g)?S:g==="true"}getNumber(a,S){const g=this.get(a);return(0,r.Jp)(g)?S:parseInt(g,10)}set(a,S,g=!1){return tn(this,null,function*(){if(this.state===I.Closed)return;if((0,r.Jp)(S))return this.delete(a,g);const y=(0,r.Kn)(S)||Array.isArray(S)?(0,c.Pz)(S):String(S);if(this.cache.get(a)!==y)return this.cache.set(a,y),this.pendingInserts.set(a,y),this.pendingDeletes.delete(a),this._onDidChangeStorage.fire({key:a,external:g}),this.doFlush()})}delete(a,S=!1){return tn(this,null,function*(){if(!(this.state===I.Closed||!this.cache.delete(a)))return this.pendingDeletes.has(a)||this.pendingDeletes.add(a),this.pendingInserts.delete(a),this._onDidChangeStorage.fire({key:a,external:S}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return tn(this,null,function*(){if(!this.hasPending)return;const a={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(a).finally(()=>{var S;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(S=this.whenFlushedCallbacks.pop())===null||S===void 0||S()})})}doFlush(a){return tn(this,null,function*(){return this.options.hint===_.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),a)})}}M.DEFAULT_FLUSH_DELAY=100;class D{constructor(){this.onDidChangeItemsExternal=b.ju.None,this.items=new Map}updateItems(a){return tn(this,null,function*(){var S,g;(S=a.insert)===null||S===void 0||S.forEach((y,C)=>this.items.set(C,y)),(g=a.delete)===null||g===void 0||g.forEach(y=>this.items.delete(y))})}}var p=e(72065);const o="__$__targetStorageMarker",u=(0,p.yh)("storageService");var d;(function(v){v[v.NONE=0]="NONE",v[v.SHUTDOWN=1]="SHUTDOWN"})(d||(d={}));function n(v){const a=v.get(o);if(a)try{return JSON.parse(a)}catch(S){}return Object.create(null)}class i extends U.JT{constructor(a={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super(),this.options=a,this._onDidChangeValue=this._register(new b.K3),this._onDidChangeTarget=this._register(new b.K3),this._onWillSaveState=this._register(new b.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(a,S,g){return b.ju.filter(this._onDidChangeValue.event,y=>y.scope===a&&(S===void 0||y.key===S),g)}emitDidChangeValue(a,S){const{key:g,external:y}=S;if(g===o){switch(a){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:a})}else this._onDidChangeValue.fire({scope:a,key:g,target:this.getKeyTargets(a)[g],external:y})}get(a,S,g){var y;return(y=this.getStorage(S))===null||y===void 0?void 0:y.get(a,g)}getBoolean(a,S,g){var y;return(y=this.getStorage(S))===null||y===void 0?void 0:y.getBoolean(a,g)}getNumber(a,S,g){var y;return(y=this.getStorage(S))===null||y===void 0?void 0:y.getNumber(a,g)}store(a,S,g,y,C=!1){if((0,r.Jp)(S)){this.remove(a,g,C);return}this.withPausedEmitters(()=>{var E;this.updateKeyTarget(a,g,y),(E=this.getStorage(g))===null||E===void 0||E.set(a,S,C)})}remove(a,S,g=!1){this.withPausedEmitters(()=>{var y;this.updateKeyTarget(a,S,void 0),(y=this.getStorage(S))===null||y===void 0||y.delete(a,g)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,S,g,y=!1){var C,E;const A=this.getKeyTargets(S);typeof g=="number"?A[a]!==g&&(A[a]=g,(C=this.getStorage(S))===null||C===void 0||C.set(o,JSON.stringify(A),y)):typeof A[a]=="number"&&(delete A[a],(E=this.getStorage(S))===null||E===void 0||E.set(o,JSON.stringify(A),y))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(a){switch(a){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(a){const S=this.getStorage(a);return S?n(S):Object.create(null)}}i.DEFAULT_FLUSH_INTERVAL=60*1e3;class f extends i{constructor(){super(),this.applicationStorage=this._register(new M(new D,{hint:_.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new M(new D,{hint:_.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new M(new D,{hint:_.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.profileStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a))),this._register(this.applicationStorage.onDidChangeStorage(a=>this.emitDidChangeValue(-1,a)))}getStorage(a){switch(a){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},10829:function(Ot,Ke,e){"use strict";e.d(Ke,{b:function(){return U}});var b=e(72065);const U=(0,b.yh)("telemetryService")},86253:function(Ot,Ke,e){"use strict";e.d(Ke,{BM:function(){return f},Hc:function(){return p},O2:function(){return n},TU:function(){return i},ZR:function(){return v},b5:function(){return _},eO:function(){return w},ku:function(){return u},pl:function(){return I},uX:function(){return o},wG:function(){return c}});var b=e(73910),U=e(41264);function r(a,S){const g=Xn({},S);for(const y in a){const C=a[y];g[y]=C!==void 0?(0,b.n_1)(C):void 0}return g}const w={keybindingLabelBackground:(0,b.n_1)(b.oQ$),keybindingLabelForeground:(0,b.n_1)(b.lWp),keybindingLabelBorder:(0,b.n_1)(b.AWI),keybindingLabelBottomBorder:(0,b.n_1)(b.K19),keybindingLabelShadow:(0,b.n_1)(b.rh)},c={buttonForeground:(0,b.n_1)(b.j5u),buttonSeparator:(0,b.n_1)(b.iFQ),buttonBackground:(0,b.n_1)(b.b7$),buttonHoverBackground:(0,b.n_1)(b.GO4),buttonSecondaryForeground:(0,b.n_1)(b.qBU),buttonSecondaryBackground:(0,b.n_1)(b.ESD),buttonSecondaryHoverBackground:(0,b.n_1)(b.xEn),buttonBorder:(0,b.n_1)(b.GYc)},_={progressBarBackground:(0,b.n_1)(b.zRJ)},I={inputActiveOptionBorder:(0,b.n_1)(b.PRb),inputActiveOptionForeground:(0,b.n_1)(b.Pvw),inputActiveOptionBackground:(0,b.n_1)(b.XEs)},M={checkboxBackground:(0,b.n_1)(b.SUp),checkboxBorder:(0,b.n_1)(b.nd),checkboxForeground:(0,b.n_1)(b.BQ0)},D={dialogBackground:(0,b.n_1)(b.D0T),dialogForeground:(0,b.n_1)(b.Hfx),dialogShadow:(0,b.n_1)(b.rh),dialogBorder:(0,b.n_1)(b.lRK),errorIconForeground:(0,b.n_1)(b.JpG),warningIconForeground:(0,b.n_1)(b.BOY),infoIconForeground:(0,b.n_1)(b.OLZ),textLinkForeground:(0,b.n_1)(b.url)},p={inputBackground:(0,b.n_1)(b.sEe),inputForeground:(0,b.n_1)(b.zJb),inputBorder:(0,b.n_1)(b.dt_),inputValidationInfoBorder:(0,b.n_1)(b.EPQ),inputValidationInfoBackground:(0,b.n_1)(b._lC),inputValidationInfoForeground:(0,b.n_1)(b.YI3),inputValidationWarningBorder:(0,b.n_1)(b.C3g),inputValidationWarningBackground:(0,b.n_1)(b.RV_),inputValidationWarningForeground:(0,b.n_1)(b.SUG),inputValidationErrorBorder:(0,b.n_1)(b.OZR),inputValidationErrorBackground:(0,b.n_1)(b.paE),inputValidationErrorForeground:(0,b.n_1)(b._t9)},o={listFilterWidgetBackground:(0,b.n_1)(b.vGG),listFilterWidgetOutline:(0,b.n_1)(b.oSI),listFilterWidgetNoMatchesOutline:(0,b.n_1)(b.Saq),listFilterWidgetShadow:(0,b.n_1)(b.y65),inputBoxStyles:p,toggleStyles:I},u={badgeBackground:(0,b.n_1)(b.g8u),badgeForeground:(0,b.n_1)(b.qeD),badgeBorder:(0,b.n_1)(b.lRK)},d={breadcrumbsBackground:(0,b.n_1)(b.ixd),breadcrumbsForeground:(0,b.n_1)(b.l80),breadcrumbsHoverForeground:(0,b.n_1)(b.H6q),breadcrumbsFocusForeground:(0,b.n_1)(b.H6q),breadcrumbsFocusAndSelectionForeground:(0,b.n_1)(b.fSI)},n={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,b.n_1)(b._bK),listFocusForeground:(0,b.n_1)(b._2n),listFocusOutline:(0,b.n_1)(b.Oop),listActiveSelectionBackground:(0,b.n_1)(b.dCr),listActiveSelectionForeground:(0,b.n_1)(b.M6C),listActiveSelectionIconForeground:(0,b.n_1)(b.Tnx),listFocusAndSelectionOutline:(0,b.n_1)(b.Bqu),listFocusAndSelectionBackground:(0,b.n_1)(b.dCr),listFocusAndSelectionForeground:(0,b.n_1)(b.M6C),listInactiveSelectionBackground:(0,b.n_1)(b.rg2),listInactiveSelectionIconForeground:(0,b.n_1)(b.kvU),listInactiveSelectionForeground:(0,b.n_1)(b.ytC),listInactiveFocusBackground:(0,b.n_1)(b.s$),listInactiveFocusOutline:(0,b.n_1)(b.F3d),listHoverBackground:(0,b.n_1)(b.mV1),listHoverForeground:(0,b.n_1)(b.$d5),listDropBackground:(0,b.n_1)(b.AS1),listSelectionOutline:(0,b.n_1)(b.xL1),listHoverOutline:(0,b.n_1)(b.xL1),treeIndentGuidesStroke:(0,b.n_1)(b.UnT),treeInactiveIndentGuidesStroke:(0,b.n_1)(b.KjV),tableColumnsBorder:(0,b.n_1)(b.uxu),tableOddRowsBackgroundColor:(0,b.n_1)(b.EQn)};function i(a){return r(a,n)}const f={selectBackground:(0,b.n_1)(b.XV0),selectListBackground:(0,b.n_1)(b.Fgs),selectForeground:(0,b.n_1)(b._g0),decoratorRightForeground:(0,b.n_1)(b.kJk),selectBorder:(0,b.n_1)(b.a9O),focusBorder:(0,b.n_1)(b.R80),listFocusBackground:(0,b.n_1)(b.Vqd),listInactiveSelectionIconForeground:(0,b.n_1)(b.cbQ),listFocusForeground:(0,b.n_1)(b.NPS),listFocusOutline:(0,b.BtC)(b.xL1,U.Il.transparent.toString()),listHoverBackground:(0,b.n_1)(b.mV1),listHoverForeground:(0,b.n_1)(b.$d5),listHoverOutline:(0,b.n_1)(b.xL1),selectListBorder:(0,b.n_1)(b.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},v={shadowColor:(0,b.n_1)(b.rh),borderColor:(0,b.n_1)(b.Cdg),foregroundColor:(0,b.n_1)(b.DEr),backgroundColor:(0,b.n_1)(b.Hz8),selectionForegroundColor:(0,b.n_1)(b.jbW),selectionBackgroundColor:(0,b.n_1)(b.$DX),selectionBorderColor:(0,b.n_1)(b.E3h),separatorColor:(0,b.n_1)(b.ZGJ),scrollbarShadow:(0,b.n_1)(b._wn),scrollbarSliderBackground:(0,b.n_1)(b.etL),scrollbarSliderHoverBackground:(0,b.n_1)(b.ABB),scrollbarSliderActiveBackground:(0,b.n_1)(b.ynu)}},73910:function(Ot,Ke,e){"use strict";e.d(Ke,{$DX:function(){return Rt},$d5:function(){return ci},A42:function(){return O},ABB:function(){return Oe},AS1:function(){return Zi},AWI:function(){return ts},BOY:function(){return yo},BQ0:function(){return Fe},Bqu:function(){return Mn},BtC:function(){return p},C3g:function(){return we},CNo:function(){return Ai},Cdg:function(){return fe},CzK:function(){return oe},D0T:function(){return bn},D1_:function(){return si},DEr:function(){return We},Dut:function(){return tt},E3h:function(){return Vt},EPQ:function(){return te},EQn:function(){return St},ES4:function(){return qe},ESD:function(){return me},EiJ:function(){return kt},F3d:function(){return Ci},F9q:function(){return gn},Fgs:function(){return Me},Fm_:function(){return lr},GO4:function(){return Re},GYc:function(){return ye},Gj_:function(){return yr},Gvr:function(){return go},Gwp:function(){return Ji},H6q:function(){return Es},HCL:function(){return fn},Hfx:function(){return Hn},Hz8:function(){return at},IPX:function(){return o},IYc:function(){return Xo},Ido:function(){return v},Itd:function(){return Sr},Ivo:function(){return wo},JpG:function(){return Is},K19:function(){return wi},KjV:function(){return Vn},M6C:function(){return ni},MUv:function(){return Cn},NOs:function(){return yt},NPS:function(){return bt},Ng6:function(){return Yn},OLZ:function(){return Po},OZR:function(){return Ne},Oop:function(){return hn},P4M:function(){return be},P6G:function(){return n},P6Y:function(){return $t},PRb:function(){return G},PX0:function(){return vn},PpC:function(){return Nn},Pvw:function(){return K},QO2:function(){return M},R80:function(){return g},RV_:function(){return le},Rzx:function(){return Dt},SPM:function(){return Vr},SUG:function(){return ge},SUY:function(){return Gs},SUp:function(){return ne},Saq:function(){return Sn},T83:function(){return nt},Tnx:function(){return gi},UnT:function(){return Qn},VVv:function(){return yn},Vqd:function(){return Q},XEs:function(){return F},XV0:function(){return ae},XZx:function(){return S},YI3:function(){return X},ZGJ:function(){return an},ZnX:function(){return ji},_2n:function(){return _n},_Yy:function(){return Tn},_bK:function(){return zt},_g0:function(){return ke},_lC:function(){return J},_t9:function(){return Pe},_wn:function(){return xe},a9O:function(){return Ue},b6y:function(){return pt},b7$:function(){return ce},bKB:function(){return Yt},c63:function(){return _t},cbQ:function(){return lt},cvW:function(){return Be},dCr:function(){return Rn},dRz:function(){return i},dt_:function(){return V},etL:function(){return je},fSI:function(){return rs},g8u:function(){return se},gkn:function(){return wt},hEj:function(){return ns},hX8:function(){return Bt},iFQ:function(){return ie},ixd:function(){return qi},j5u:function(){return Le},jUe:function(){return Bn},jbW:function(){return Ct},kJk:function(){return Si},kVY:function(){return Io},keg:function(){return Ce},kvU:function(){return Hi},kwl:function(){return Uo},l80:function(){return pi},lRK:function(){return y},lUq:function(){return An},lWp:function(){return Fi},lXJ:function(){return st},loF:function(){return Wi},mV1:function(){return Li},n_1:function(){return D},nd:function(){return Qe},nyM:function(){return on},oQ$:function(){return bi},oSI:function(){return rn},opG:function(){return Ki},ov3:function(){return To},pW3:function(){return Ft},paE:function(){return pe},phM:function(){return Ht},pnM:function(){return jn},qBU:function(){return Se},qeD:function(){return ve},rg2:function(){return Ii},rh:function(){return z},s$:function(){return fi},sEe:function(){return P},tZ6:function(){return _i},uoC:function(){return qt},url:function(){return N},uxu:function(){return Wn},vGG:function(){return cn},xEn:function(){return he},xL1:function(){return C},y65:function(){return En},yJx:function(){return Jn},yb5:function(){return wn},ynu:function(){return Ze},ypS:function(){return Ee},ytC:function(){return Bi},zJb:function(){return H},zKr:function(){return mi},zRJ:function(){return it}});var b=e(15393),U=e(41264),r=e(4669),w=e(35146),c=e(63580),_=e(81294),I=e(89872);function M(cs){return`--vscode-${cs.replace(/\./g,"-")}`}function D(cs){return`var(${M(cs)})`}function p(cs,hs){return`var(${M(cs)}, ${hs})`}const o={ColorContribution:"base.contributions.colors"};class u{constructor(){this._onDidChangeSchema=new r.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(hs,Rs,Ts,Os=!1,Js){const xs={id:hs,description:Ts,defaults:Rs,needsTransparency:Os,deprecationMessage:Js};this.colorsById[hs]=xs;const po={type:"string",description:Ts,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Js&&(po.deprecationMessage=Js),this.colorSchema.properties[hs]=po,this.colorReferenceSchema.enum.push(hs),this.colorReferenceSchema.enumDescriptions.push(Ts),this._onDidChangeSchema.fire(),hs}getColors(){return Object.keys(this.colorsById).map(hs=>this.colorsById[hs])}resolveDefaultColor(hs,Rs){const Ts=this.colorsById[hs];if(Ts&&Ts.defaults){const Os=Ts.defaults[Rs.type];return co(Os,Rs)}}getColorSchema(){return this.colorSchema}toString(){const hs=(Rs,Ts)=>{const Os=Rs.indexOf(".")===-1?0:1,Js=Ts.indexOf(".")===-1?0:1;return Os!==Js?Os-Js:Rs.localeCompare(Ts)};return Object.keys(this.colorsById).sort(hs).map(Rs=>`- \`${Rs}\`: ${this.colorsById[Rs].description}`).join(`
`)}}const d=new u;I.B.add(o.ColorContribution,d);function n(cs,hs,Rs,Ts,Os){return d.registerColor(cs,hs,Rs,Ts,Os)}const i=n("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},c.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=n("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},c.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),v=n("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},c.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),a=n("descriptionForeground",{light:"#717171",dark:ji(i,.7),hcDark:ji(i,.7),hcLight:ji(i,.7)},c.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),S=n("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},c.NC("iconForeground","The default color for icons in the workbench.")),g=n("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},c.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y=n("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},c.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),C=n("contrastActiveBorder",{light:null,dark:null,hcDark:g,hcLight:g},c.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),E=n("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},c.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),A=n("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:U.Il.black,hcLight:"#292929"},c.NC("textSeparatorForeground","Color for text separators.")),N=n("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},c.NC("textLinkForeground","Foreground color for links in text.")),B=n("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},c.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),W=n("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},c.NC("textPreformatForeground","Foreground color for preformatted text segments.")),$=n("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},c.NC("textPreformatBackground","Background color for preformatted text segments.")),Y=n("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},c.NC("textBlockQuoteBackground","Background color for block quotes in text.")),R=n("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:U.Il.white,hcLight:"#292929"},c.NC("textBlockQuoteBorder","Border color for block quotes in text.")),L=n("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:U.Il.black,hcLight:"#F2F2F2"},c.NC("textCodeBlockBackground","Background color for code blocks in text.")),z=n("widget.shadow",{dark:ji(U.Il.black,.36),light:ji(U.Il.black,.16),hcDark:null,hcLight:null},c.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),O=n("widget.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),P=n("input.background",{dark:"#3C3C3C",light:U.Il.white,hcDark:U.Il.black,hcLight:U.Il.white},c.NC("inputBoxBackground","Input box background.")),H=n("input.foreground",{dark:i,light:i,hcDark:i,hcLight:i},c.NC("inputBoxForeground","Input box foreground.")),V=n("input.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("inputBoxBorder","Input box border.")),G=n("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:y,hcLight:y},c.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),j=n("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},c.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),F=n("inputOption.activeBackground",{dark:ji(g,.4),light:ji(g,.2),hcDark:U.Il.transparent,hcLight:U.Il.transparent},c.NC("inputOption.activeBackground","Background hover color of options in input fields.")),K=n("inputOption.activeForeground",{dark:U.Il.white,light:U.Il.black,hcDark:i,hcLight:i},c.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),m=n("input.placeholderForeground",{light:ji(i,.5),dark:ji(i,.5),hcDark:ji(i,.7),hcLight:ji(i,.7)},c.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),J=n("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:U.Il.black,hcLight:U.Il.white},c.NC("inputValidationInfoBackground","Input validation background color for information severity.")),X=n("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:i},c.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),te=n("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y,hcLight:y},c.NC("inputValidationInfoBorder","Input validation border color for information severity.")),le=n("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:U.Il.black,hcLight:U.Il.white},c.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),ge=n("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:i},c.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),we=n("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y,hcLight:y},c.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),pe=n("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:U.Il.black,hcLight:U.Il.white},c.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Pe=n("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:i},c.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),Ne=n("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},c.NC("inputValidationErrorBorder","Input validation border color for error severity.")),ae=n("dropdown.background",{dark:"#3C3C3C",light:U.Il.white,hcDark:U.Il.black,hcLight:U.Il.white},c.NC("dropdownBackground","Dropdown background.")),Me=n("dropdown.listBackground",{dark:null,light:null,hcDark:U.Il.black,hcLight:U.Il.white},c.NC("dropdownListBackground","Dropdown list background.")),ke=n("dropdown.foreground",{dark:"#F0F0F0",light:i,hcDark:U.Il.white,hcLight:i},c.NC("dropdownForeground","Dropdown foreground.")),Ue=n("dropdown.border",{dark:ae,light:"#CECECE",hcDark:y,hcLight:y},c.NC("dropdownBorder","Dropdown border.")),Le=n("button.foreground",{dark:U.Il.white,light:U.Il.white,hcDark:U.Il.white,hcLight:U.Il.white},c.NC("buttonForeground","Button foreground color.")),ie=n("button.separator",{dark:ji(Le,.4),light:ji(Le,.4),hcDark:ji(Le,.4),hcLight:ji(Le,.4)},c.NC("buttonSeparator","Button separator color.")),ce=n("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},c.NC("buttonBackground","Button background color.")),Re=n("button.hoverBackground",{dark:lo(ce,.2),light:mo(ce,.2),hcDark:ce,hcLight:ce},c.NC("buttonHoverBackground","Button background color when hovering.")),ye=n("button.border",{dark:y,light:y,hcDark:y,hcLight:y},c.NC("buttonBorder","Button border color.")),Se=n("button.secondaryForeground",{dark:U.Il.white,light:U.Il.white,hcDark:U.Il.white,hcLight:i},c.NC("buttonSecondaryForeground","Secondary button foreground color.")),me=n("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:U.Il.white},c.NC("buttonSecondaryBackground","Secondary button background color.")),he=n("button.secondaryHoverBackground",{dark:lo(me,.2),light:mo(me,.2),hcDark:null,hcLight:null},c.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),se=n("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:U.Il.black,hcLight:"#0F4A85"},c.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ve=n("badge.foreground",{dark:U.Il.white,light:"#333",hcDark:U.Il.white,hcLight:U.Il.white},c.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),xe=n("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},c.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),je=n("scrollbarSlider.background",{dark:U.Il.fromHex("#797979").transparent(.4),light:U.Il.fromHex("#646464").transparent(.4),hcDark:ji(y,.6),hcLight:ji(y,.4)},c.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Oe=n("scrollbarSlider.hoverBackground",{dark:U.Il.fromHex("#646464").transparent(.7),light:U.Il.fromHex("#646464").transparent(.7),hcDark:ji(y,.8),hcLight:ji(y,.8)},c.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Ze=n("scrollbarSlider.activeBackground",{dark:U.Il.fromHex("#BFBFBF").transparent(.4),light:U.Il.fromHex("#000000").transparent(.6),hcDark:y,hcLight:y},c.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),it=n("progressBar.background",{dark:U.Il.fromHex("#0E70C0"),light:U.Il.fromHex("#0E70C0"),hcDark:y,hcLight:y},c.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Et=n("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),st=n("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},c.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),pt=n("editorError.border",{dark:null,light:null,hcDark:U.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},c.NC("errorBorder","If set, color of double underlines for errors in the editor.")),Mt=n("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),qt=n("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},c.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Ft=n("editorWarning.border",{dark:null,light:null,hcDark:U.Il.fromHex("#FFCC00").transparent(.8),hcLight:U.Il.fromHex("#FFCC00").transparent(.8)},c.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),Xt=n("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),_t=n("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},c.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),nt=n("editorInfo.border",{dark:null,light:null,hcDark:U.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},c.NC("infoBorder","If set, color of double underlines for infos in the editor.")),tt=n("editorHint.foreground",{dark:U.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},c.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),xt=n("editorHint.border",{dark:null,light:null,hcDark:U.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},c.NC("hintBorder","If set, color of double underlines for hints in the editor.")),Lt=n("sash.hoverBorder",{dark:g,light:g,hcDark:g,hcLight:g},c.NC("sashActiveBorder","Border color of active sashes.")),Be=n("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:U.Il.black,hcLight:U.Il.white},c.NC("editorBackground","Editor background color.")),yt=n("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:U.Il.white,hcLight:i},c.NC("editorForeground","Editor default foreground color.")),un=n("editorStickyScroll.background",{light:Be,dark:Be,hcDark:Be,hcLight:Be},c.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),In=n("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:U.Il.fromHex("#0F4A85").transparent(.1)},c.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),bn=n("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:U.Il.white},c.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Hn=n("editorWidget.foreground",{dark:i,light:i,hcDark:i,hcLight:i},c.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),si=n("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y,hcLight:y},c.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Yn=n("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},c.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),mi=n("quickInput.background",{dark:bn,light:bn,hcDark:bn,hcLight:bn},c.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),_i=n("quickInput.foreground",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},c.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Wi=n("quickInputTitle.background",{dark:new U.Il(new U.VS(255,255,255,.105)),light:new U.Il(new U.VS(0,0,0,.06)),hcDark:"#000000",hcLight:U.Il.white},c.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Si=n("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:U.Il.white,hcLight:"#0F4A85"},c.NC("pickerGroupForeground","Quick picker color for grouping labels.")),Ki=n("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:U.Il.white,hcLight:"#0F4A85"},c.NC("pickerGroupBorder","Quick picker color for grouping borders.")),bi=n("keybindingLabel.background",{dark:new U.Il(new U.VS(128,128,128,.17)),light:new U.Il(new U.VS(221,221,221,.4)),hcDark:U.Il.transparent,hcLight:U.Il.transparent},c.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Fi=n("keybindingLabel.foreground",{dark:U.Il.fromHex("#CCCCCC"),light:U.Il.fromHex("#555555"),hcDark:U.Il.white,hcLight:i},c.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),ts=n("keybindingLabel.border",{dark:new U.Il(new U.VS(51,51,51,.6)),light:new U.Il(new U.VS(204,204,204,.4)),hcDark:new U.Il(new U.VS(111,195,223)),hcLight:y},c.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),wi=n("keybindingLabel.bottomBorder",{dark:new U.Il(new U.VS(68,68,68,.6)),light:new U.Il(new U.VS(187,187,187,.4)),hcDark:new U.Il(new U.VS(111,195,223)),hcLight:i},c.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ns=n("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},c.NC("editorSelectionBackground","Color of the editor selection.")),wn=n("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:U.Il.white},c.NC("editorSelectionForeground","Color of the selected text for high contrast.")),qe=n("editor.inactiveSelectionBackground",{light:ji(ns,.5),dark:ji(ns,.5),hcDark:ji(ns,.7),hcLight:ji(ns,.5)},c.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Dt=n("editor.selectionHighlightBackground",{light:Lr(ns,Be,.3,.6),dark:Lr(ns,Be,.3,.6),hcDark:null,hcLight:null},c.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Qt=n("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:C,hcLight:C},c.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),on=n("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},c.NC("editorFindMatch","Color of the current search match.")),Cn=n("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},c.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Bn=n("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},c.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),jn=n("editor.findMatchBorder",{light:null,dark:null,hcDark:C,hcLight:C},c.NC("editorFindMatchBorder","Border color of the current search match.")),kt=n("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:C,hcLight:C},c.NC("findMatchHighlightBorder","Border color of the other search matches.")),wt=n("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ji(C,.4),hcLight:ji(C,.4)},c.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),sn=n("searchEditor.findMatchBackground",{light:ji(Cn,.66),dark:ji(Cn,.66),hcDark:Cn,hcLight:Cn},c.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),en=n("searchEditor.findMatchBorder",{light:ji(kt,.66),dark:ji(kt,.66),hcDark:kt,hcLight:kt},c.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Un=n("search.resultsInfoForeground",{light:i,dark:ji(i,.65),hcDark:i,hcLight:i},c.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),ri=n("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},c.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Jn=n("editorHoverWidget.background",{light:bn,dark:bn,hcDark:bn,hcLight:bn},c.NC("hoverBackground","Background color of the editor hover.")),Di=n("editorHoverWidget.foreground",{light:Hn,dark:Hn,hcDark:Hn,hcLight:Hn},c.NC("hoverForeground","Foreground color of the editor hover.")),Ai=n("editorHoverWidget.border",{light:si,dark:si,hcDark:si,hcLight:si},c.NC("hoverBorder","Border color of the editor hover.")),Ri=n("editorHoverWidget.statusBarBackground",{dark:lo(Jn,.2),light:mo(Jn,.05),hcDark:bn,hcLight:bn},c.NC("statusBarBackground","Background color of the editor hover status bar.")),Tn=n("editorLink.activeForeground",{dark:"#4E94CE",light:U.Il.blue,hcDark:U.Il.cyan,hcLight:"#292929"},c.NC("activeLinkForeground","Color of active links.")),yn=n("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:U.Il.white,hcLight:U.Il.black},c.NC("editorInlayHintForeground","Foreground color of inline hints")),Nn=n("editorInlayHint.background",{dark:ji(se,.1),light:ji(se,.1),hcDark:ji(U.Il.white,.1),hcLight:ji(se,.1)},c.NC("editorInlayHintBackground","Background color of inline hints")),Bt=n("editorInlayHint.typeForeground",{dark:yn,light:yn,hcDark:yn,hcLight:yn},c.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Yt=n("editorInlayHint.typeBackground",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},c.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),fn=n("editorInlayHint.parameterForeground",{dark:yn,light:yn,hcDark:yn,hcLight:yn},c.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Ht=n("editorInlayHint.parameterBackground",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},c.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),et=n("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},c.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),ee=n("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},c.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),de=n("editorLightBulbAi.foreground",{dark:mo(S,.4),light:lo(S,1.7),hcDark:S,hcLight:S},c.NC("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),oe=new U.Il(new U.VS(155,185,85,.2)),Ce=new U.Il(new U.VS(255,0,0,.2)),Ee=n("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},c.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),be=n("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},c.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=n("diffEditor.insertedLineBackground",{dark:oe,light:oe,hcDark:null,hcLight:null},c.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),He=n("diffEditor.removedLineBackground",{dark:Ce,light:Ce,hcDark:null,hcLight:null},c.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ye=n("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),ht=n("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),$t=n("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),gn=n("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),dn=n("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},c.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ln=n("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},c.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),ct=n("diffEditor.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("diffEditorBorder","Border color between the two text editors.")),Pt=n("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},c.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Nt=n("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},c.NC("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),Tt=n("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},c.NC("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),Zt=n("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},c.NC("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),zt=n("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_n=n("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hn=n("list.focusOutline",{dark:g,light:g,hcDark:C,hcLight:C},c.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mn=n("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Rn=n("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:U.Il.fromHex("#0F4A85").transparent(.1)},c.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ni=n("list.activeSelectionForeground",{dark:U.Il.white,light:U.Il.white,hcDark:null,hcLight:null},c.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gi=n("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ii=n("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:U.Il.fromHex("#0F4A85").transparent(.1)},c.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Bi=n("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Hi=n("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),fi=n("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ci=n("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Li=n("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:U.Il.white.transparent(.1),hcLight:U.Il.fromHex("#0F4A85").transparent(.1)},c.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ci=n("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Zi=n("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},c.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ji=n("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:g,hcLight:g},c.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),vn=n("list.focusHighlightForeground",{dark:Ji,light:Kr(Rn,Ji,"#BBE7FF"),hcDark:Ji,hcLight:Ji},c.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),$e=n("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},c.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),ft=n("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},c.NC("listErrorForeground","Foreground color of list items containing errors.")),gt=n("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},c.NC("listWarningForeground","Foreground color of list items containing warnings.")),cn=n("listFilterWidget.background",{light:mo(bn,0),dark:lo(bn,0),hcDark:bn,hcLight:bn},c.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),rn=n("listFilterWidget.outline",{dark:U.Il.transparent,light:U.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},c.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Sn=n("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},c.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),En=n("listFilterWidget.shadow",{dark:z,light:z,hcDark:z,hcLight:z},c.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Ln=n("list.filterMatchBackground",{dark:Cn,light:Cn,hcDark:null,hcLight:null},c.NC("listFilterMatchHighlight","Background color of the filtered match.")),On=n("list.filterMatchBorder",{dark:kt,light:kt,hcDark:y,hcLight:C},c.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Qn=n("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},c.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Vn=n("tree.inactiveIndentGuidesStroke",{dark:ji(Qn,.4),light:ji(Qn,.4),hcDark:ji(Qn,.4),hcLight:ji(Qn,.4)},c.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Wn=n("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},c.NC("tableColumnsBorder","Table border color between columns.")),St=n("tree.tableOddRowsBackground",{dark:ji(i,.04),light:ji(i,.04),hcDark:null,hcLight:null},c.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),k=n("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},c.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),ne=n("checkbox.background",{dark:ae,light:ae,hcDark:ae,hcLight:ae},c.NC("checkbox.background","Background color of checkbox widget.")),ue=n("checkbox.selectBackground",{dark:bn,light:bn,hcDark:bn,hcLight:bn},c.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Fe=n("checkbox.foreground",{dark:ke,light:ke,hcDark:ke,hcLight:ke},c.NC("checkbox.foreground","Foreground color of checkbox widget.")),Qe=n("checkbox.border",{dark:Ue,light:Ue,hcDark:Ue,hcLight:Ue},c.NC("checkbox.border","Border color of checkbox widget.")),ot=n("checkbox.selectBorder",{dark:S,light:S,hcDark:S,hcLight:S},c.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),dt=n("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,c.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),bt=n("quickInputList.focusForeground",{dark:ni,light:ni,hcDark:ni,hcLight:ni},c.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),lt=n("quickInputList.focusIconForeground",{dark:gi,light:gi,hcDark:gi,hcLight:gi},c.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Q=n("quickInputList.focusBackground",{dark:Uo(dt,Rn),light:Uo(dt,Rn),hcDark:null,hcLight:null},c.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),fe=n("menu.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("menuBorder","Border color of menus.")),We=n("menu.foreground",{dark:ke,light:ke,hcDark:ke,hcLight:ke},c.NC("menuForeground","Foreground color of menu items.")),at=n("menu.background",{dark:ae,light:ae,hcDark:ae,hcLight:ae},c.NC("menuBackground","Background color of menu items.")),Ct=n("menu.selectionForeground",{dark:ni,light:ni,hcDark:ni,hcLight:ni},c.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Rt=n("menu.selectionBackground",{dark:Rn,light:Rn,hcDark:Rn,hcLight:Rn},c.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Vt=n("menu.selectionBorder",{dark:null,light:null,hcDark:C,hcLight:C},c.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),an=n("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y,hcLight:y},c.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),An=n("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},c.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),zn=n("toolbar.hoverOutline",{dark:null,light:null,hcDark:C,hcLight:C},c.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),ui=n("toolbar.activeBackground",{dark:lo(An,.1),light:mo(An,.1),hcDark:null,hcLight:null},c.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),hi=n("editor.snippetTabstopHighlightBackground",{dark:new U.Il(new U.VS(124,124,124,.3)),light:new U.Il(new U.VS(10,50,100,.2)),hcDark:new U.Il(new U.VS(124,124,124,.3)),hcLight:new U.Il(new U.VS(10,50,100,.2))},c.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),oi=n("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Kn=n("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),di=n("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new U.Il(new U.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},c.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),pi=n("breadcrumb.foreground",{light:ji(i,.8),dark:ji(i,.8),hcDark:ji(i,.8),hcLight:ji(i,.8)},c.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),qi=n("breadcrumb.background",{light:Be,dark:Be,hcDark:Be,hcLight:Be},c.NC("breadcrumbsBackground","Background color of breadcrumb items.")),Es=n("breadcrumb.focusForeground",{light:mo(i,.2),dark:lo(i,.1),hcDark:lo(i,.1),hcLight:lo(i,.1)},c.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),rs=n("breadcrumb.activeSelectionForeground",{light:mo(i,.2),dark:lo(i,.1),hcDark:lo(i,.1),hcLight:lo(i,.1)},c.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Us=n("breadcrumbPicker.background",{light:bn,dark:bn,hcDark:bn,hcLight:bn},c.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Gi=.5,ys=U.Il.fromHex("#40C8AE").transparent(Gi),us=U.Il.fromHex("#40A6FF").transparent(Gi),is=U.Il.fromHex("#606060").transparent(.4),Ss=.4,Ps=1,no=n("merge.currentHeaderBackground",{dark:ys,light:ys,hcDark:null,hcLight:null},c.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ar=n("merge.currentContentBackground",{dark:ji(no,Ss),light:ji(no,Ss),hcDark:ji(no,Ss),hcLight:ji(no,Ss)},c.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),_s=n("merge.incomingHeaderBackground",{dark:us,light:us,hcDark:null,hcLight:null},c.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ks=n("merge.incomingContentBackground",{dark:ji(_s,Ss),light:ji(_s,Ss),hcDark:ji(_s,Ss),hcLight:ji(_s,Ss)},c.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Vo=n("merge.commonHeaderBackground",{dark:is,light:is,hcDark:null,hcLight:null},c.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ca=n("merge.commonContentBackground",{dark:ji(Vo,Ss),light:ji(Vo,Ss),hcDark:ji(Vo,Ss),hcLight:ji(Vo,Ss)},c.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Do=n("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},c.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Qo=n("editorOverviewRuler.currentContentForeground",{dark:ji(no,Ps),light:ji(no,Ps),hcDark:Do,hcLight:Do},c.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),bo=n("editorOverviewRuler.incomingContentForeground",{dark:ji(_s,Ps),light:ji(_s,Ps),hcDark:Do,hcLight:Do},c.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Yo=n("editorOverviewRuler.commonContentForeground",{dark:ji(Vo,Ps),light:ji(Vo,Ps),hcDark:Do,hcLight:Do},c.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),lr=n("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},c.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Vr=n("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},c.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Gs=n("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},c.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Xo=n("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},c.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),To=n("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},c.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),go=n("minimap.infoHighlight",{dark:_t,light:_t,hcDark:nt,hcLight:nt},c.NC("minimapInfo","Minimap marker color for infos.")),wo=n("minimap.warningHighlight",{dark:qt,light:qt,hcDark:Ft,hcLight:Ft},c.NC("overviewRuleWarning","Minimap marker color for warnings.")),yr=n("minimap.errorHighlight",{dark:new U.Il(new U.VS(255,18,18,.7)),light:new U.Il(new U.VS(255,18,18,.7)),hcDark:new U.Il(new U.VS(255,50,50,1)),hcLight:"#B5200D"},c.NC("minimapError","Minimap marker color for errors.")),Io=n("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("minimapBackground","Minimap background color.")),Sr=n("minimap.foregroundOpacity",{dark:U.Il.fromHex("#000f"),light:U.Il.fromHex("#000f"),hcDark:U.Il.fromHex("#000f"),hcLight:U.Il.fromHex("#000f")},c.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),wr=n("minimapSlider.background",{light:ji(je,.5),dark:ji(je,.5),hcDark:ji(je,.5),hcLight:ji(je,.5)},c.NC("minimapSliderBackground","Minimap slider background color.")),ka=n("minimapSlider.hoverBackground",{light:ji(Oe,.5),dark:ji(Oe,.5),hcDark:ji(Oe,.5),hcLight:ji(Oe,.5)},c.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Mo=n("minimapSlider.activeBackground",{light:ji(Ze,.5),dark:ji(Ze,.5),hcDark:ji(Ze,.5),hcLight:ji(Ze,.5)},c.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Is=n("problemsErrorIcon.foreground",{dark:st,light:st,hcDark:st,hcLight:st},c.NC("problemsErrorIconForeground","The color used for the problems error icon.")),yo=n("problemsWarningIcon.foreground",{dark:qt,light:qt,hcDark:qt,hcLight:qt},c.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Po=n("problemsInfoIcon.foreground",{dark:_t,light:_t,hcDark:_t,hcLight:_t},c.NC("problemsInfoIconForeground","The color used for the problems info icon.")),cr=n("charts.foreground",{dark:i,light:i,hcDark:i,hcLight:i},c.NC("chartsForeground","The foreground color used in charts.")),Ur=n("charts.lines",{dark:ji(i,.5),light:ji(i,.5),hcDark:ji(i,.5),hcLight:ji(i,.5)},c.NC("chartsLines","The color used for horizontal lines in charts.")),Jo=n("charts.red",{dark:st,light:st,hcDark:st,hcLight:st},c.NC("chartsRed","The red color used in chart visualizations.")),dr=n("charts.blue",{dark:_t,light:_t,hcDark:_t,hcLight:_t},c.NC("chartsBlue","The blue color used in chart visualizations.")),Ro=n("charts.yellow",{dark:qt,light:qt,hcDark:qt,hcLight:qt},c.NC("chartsYellow","The yellow color used in chart visualizations.")),Fa=n("charts.orange",{dark:Gs,light:Gs,hcDark:Gs,hcLight:Gs},c.NC("chartsOrange","The orange color used in chart visualizations.")),qo=n("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},c.NC("chartsGreen","The green color used in chart visualizations.")),zr=n("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},c.NC("chartsPurple","The purple color used in chart visualizations."));function jr(cs,hs){var Rs,Ts,Os,Js;switch(cs.op){case 0:return(Rs=co(cs.value,hs))===null||Rs===void 0?void 0:Rs.darken(cs.factor);case 1:return(Ts=co(cs.value,hs))===null||Ts===void 0?void 0:Ts.lighten(cs.factor);case 2:return(Os=co(cs.value,hs))===null||Os===void 0?void 0:Os.transparent(cs.factor);case 3:{const xs=co(cs.background,hs);return xs?(Js=co(cs.value,hs))===null||Js===void 0?void 0:Js.makeOpaque(xs):co(cs.value,hs)}case 4:for(const xs of cs.values){const po=co(xs,hs);if(po)return po}return;case 6:return co(hs.defines(cs.if)?cs.then:cs.else,hs);case 5:{const xs=co(cs.value,hs);if(!xs)return;const po=co(cs.background,hs);return po?xs.isDarkerThan(po)?U.Il.getLighterColor(xs,po,cs.factor).transparent(cs.transparency):U.Il.getDarkerColor(xs,po,cs.factor).transparent(cs.transparency):xs.transparent(cs.factor*cs.transparency)}default:throw(0,w.vE)(cs)}}function mo(cs,hs){return{op:0,value:cs,factor:hs}}function lo(cs,hs){return{op:1,value:cs,factor:hs}}function ji(cs,hs){return{op:2,value:cs,factor:hs}}function Uo(...cs){return{op:4,values:cs}}function Kr(cs,hs,Rs){return{op:6,if:cs,then:hs,else:Rs}}function Lr(cs,hs,Rs,Ts){return{op:5,value:cs,background:hs,factor:Rs,transparency:Ts}}function co(cs,hs){if(cs!==null){if(typeof cs=="string")return cs[0]==="#"?U.Il.fromHex(cs):hs.getColor(cs);if(cs instanceof U.Il)return cs;if(typeof cs=="object")return jr(cs,hs)}}const Oo="vscode://schemas/workbench-colors",zo=I.B.as(_.I.JSONContribution);zo.registerSchema(Oo,d.getColorSchema());const ur=new b.pY(()=>zo.notifySchemaChanged(Oo),200);d.onDidChangeSchema(()=>{ur.isScheduled()||ur.schedule()})},59554:function(Ot,Ke,e){"use strict";e.d(Ke,{Ks:function(){return f},q5:function(){return i},s_:function(){return y}});var b=e(15393),U=e(73046),r=e(25670),w=e(4669),c=e(98401),_=e(70666),I=e(63580),M=e(81294),D=e(89872);const p={IconContribution:"base.contributions.icons"};var o;(function(B){function W($,Y){let R=$.defaults;for(;r.k.isThemeIcon(R);){const L=n.getIcon(R.id);if(!L)return;R=L.defaults}return R}B.getDefinition=W})(o||(o={}));var u;(function(B){function W(Y){return{weight:Y.weight,style:Y.style,src:Y.src.map(R=>({format:R.format,location:R.location.toString()}))}}B.toJSONObject=W;function $(Y){const R=L=>(0,c.HD)(L)?L:void 0;if(Y&&Array.isArray(Y.src)&&Y.src.every(L=>(0,c.HD)(L.format)&&(0,c.HD)(L.location)))return{weight:R(Y.weight),style:R(Y.style),src:Y.src.map(L=>({format:L.format,location:_.o.parse(L.location)}))}}B.fromJSONObject=$})(u||(u={}));class d{constructor(){this._onDidChange=new w.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,I.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${r.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(W,$,Y,R){const L=this.iconsById[W];if(L){if(Y&&!L.description){L.description=Y,this.iconSchema.properties[W].markdownDescription=`${Y} $(${W})`;const P=this.iconReferenceSchema.enum.indexOf(W);P!==-1&&(this.iconReferenceSchema.enumDescriptions[P]=Y),this._onDidChange.fire()}return L}const z={id:W,description:Y,defaults:$,deprecationMessage:R};this.iconsById[W]=z;const O={$ref:"#/definitions/icons"};return R&&(O.deprecationMessage=R),Y&&(O.markdownDescription=`${Y}: $(${W})`),this.iconSchema.properties[W]=O,this.iconReferenceSchema.enum.push(W),this.iconReferenceSchema.enumDescriptions.push(Y||""),this._onDidChange.fire(),{id:W}}getIcons(){return Object.keys(this.iconsById).map(W=>this.iconsById[W])}getIcon(W){return this.iconsById[W]}getIconSchema(){return this.iconSchema}toString(){const W=(L,z)=>L.id.localeCompare(z.id),$=L=>{for(;r.k.isThemeIcon(L.defaults);)L=this.iconsById[L.defaults.id];return`codicon codicon-${L?L.id:""}`},Y=[];Y.push("| preview     | identifier                        | default codicon ID                | description"),Y.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const R=Object.keys(this.iconsById).map(L=>this.iconsById[L]);for(const L of R.filter(z=>!!z.description).sort(W))Y.push(`|<i class="${$(L)}"></i>|${L.id}|${r.k.isThemeIcon(L.defaults)?L.defaults.id:L.id}|${L.description||""}|`);Y.push("| preview     | identifier                        "),Y.push("| ----------- | --------------------------------- |");for(const L of R.filter(z=>!r.k.isThemeIcon(z.defaults)).sort(W))Y.push(`|<i class="${$(L)}"></i>|${L.id}|`);return Y.join(`
`)}}const n=new d;D.B.add(p.IconContribution,n);function i(B,W,$,Y){return n.registerIcon(B,W,$,Y)}function f(){return n}function v(){const B=(0,U.u)();for(const W in B){const $="\\"+B[W].toString(16);n.registerIcon(W,{fontCharacter:$})}}v();const a="vscode://schemas/icons",S=D.B.as(M.I.JSONContribution);S.registerSchema(a,n.getIconSchema());const g=new b.pY(()=>S.notifySchemaChanged(a),200);n.onDidChange(()=>{g.isScheduled()||g.schedule()});const y=i("widget-close",U.l.close,(0,I.NC)("widgetClose","Icon for the close action in widgets.")),C=i("goto-previous-location",U.l.arrowUp,(0,I.NC)("previousChangeIcon","Icon for goto previous editor location.")),E=i("goto-next-location",U.l.arrowDown,(0,I.NC)("nextChangeIcon","Icon for goto next editor location.")),A=r.k.modify(U.l.sync,"spin"),N=r.k.modify(U.l.loading,"spin")},92321:function(Ot,Ke,e){"use strict";e.d(Ke,{_T:function(){return r},c3:function(){return U},eL:function(){return b}});var b;(function(w){w.DARK="dark",w.LIGHT="light",w.HIGH_CONTRAST_DARK="hcDark",w.HIGH_CONTRAST_LIGHT="hcLight"})(b||(b={}));function U(w){return w===b.HIGH_CONTRAST_DARK||w===b.HIGH_CONTRAST_LIGHT}function r(w){return w===b.DARK||w===b.HIGH_CONTRAST_DARK}},97781:function(Ot,Ke,e){"use strict";e.d(Ke,{EN:function(){return I},IP:function(){return D},Ic:function(){return u},XE:function(){return _},bB:function(){return d},m6:function(){return M}});var b=e(4669),U=e(5976),r=e(72065),w=e(89872),c=e(92321);const _=(0,r.yh)("themeService");function I(n){return{id:n}}function M(n){switch(n){case c.eL.DARK:return"vs-dark";case c.eL.HIGH_CONTRAST_DARK:return"hc-black";case c.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const D={ThemingContribution:"base.contributions.theming"};class p{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new b.Q5}onColorThemeChange(i){return this.themingParticipants.push(i),this.onThemingParticipantAddedEmitter.fire(i),(0,U.OF)(()=>{const f=this.themingParticipants.indexOf(i);this.themingParticipants.splice(f,1)})}getThemingParticipants(){return this.themingParticipants}}const o=new p;w.B.add(D.ThemingContribution,o);function u(n){return o.onColorThemeChange(n)}class d extends U.JT{constructor(i){super(),this.themeService=i,this.theme=i.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(f=>this.onThemeChange(f)))}onThemeChange(i){this.theme=i,this.updateStyles()}updateStyles(){}}},64862:function(Ot,Ke,e){"use strict";e.d(Ke,{Xt:function(){return w},YO:function(){return r},gJ:function(){return c},tJ:function(){return U}});var b=e(72065);const U=(0,b.yh)("undoRedoService");class r{constructor(I,M){this.resource=I,this.elements=M}}class w{constructor(){this.id=w._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}w._ID=0,w.None=new w;class c{constructor(){this.id=c._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}c._ID=0,c.None=new c},40382:function(Ot,Ke,e){"use strict";e.d(Ke,{A6:function(){return i},c$:function(){return M},eb:function(){return I},ec:function(){return _},md:function(){return n},p$:function(){return v},uT:function(){return o},x:function(){return a}});var b=e(63580),U=e(82663),r=e(4767),w=e(70666),c=e(72065);const _=(0,c.yh)("contextService");function I(S){const g=S;return typeof(g==null?void 0:g.id)=="string"&&w.o.isUri(g.uri)}function M(S){const g=S;return typeof(g==null?void 0:g.id)=="string"&&!I(S)&&!u(S)}const D={id:"ext-dev"},p={id:"empty-window"};function o(S,g){if(typeof S=="string"||typeof S=="undefined")return typeof S=="string"?{id:(0,U.EZ)(S)}:g?D:p;const y=S;return y.configuration?{id:y.id,configPath:y.configuration}:y.folders.length===1?{id:y.id,uri:y.folders[0].uri}:{id:y.id}}function u(S){const g=S;return typeof(g==null?void 0:g.id)=="string"&&w.o.isUri(g.configPath)}class d{constructor(g,y,C,E,A){this._id=g,this._transient=C,this._configuration=E,this._ignorePathCasing=A,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=y}get folders(){return this._folders}set folders(g){this._folders=g,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(g){this._configuration=g}getFolder(g){return g&&this._foldersMap.findSubstr(g)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const g of this.folders)this._foldersMap.set(g.uri,g)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class n{constructor(g,y){this.raw=y,this.uri=g.uri,this.index=g.index,this.name=g.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const i="code-workspace",f=[{name:(0,b.NC)("codeWorkspace","Code Workspace"),extensions:[i]}],v="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function a(S){return S.id===v}},33425:function(Ot,Ke,e){"use strict";e.d(Ke,{Y:function(){return U}});var b=e(72065);const U=(0,b.yh)("workspaceTrustManagementService")},42999:function(Ot,Ke,e){"use strict";e.d(Ke,{qX:function(){return n},JB:function(){return v},lm:function(){return O}});var b=e(74902),U=e(97685),r=e(91),w=e(67294),c=e(1413),_=e(73935),I=e(87462),M=e(4942),D=e(94184),p=e.n(D),o=e(82225),u=e(15105),d=w.forwardRef(function(P,H){var V=P.prefixCls,G=P.style,j=P.className,F=P.duration,K=F===void 0?4.5:F,m=P.eventKey,J=P.content,X=P.closable,te=P.closeIcon,le=te===void 0?"x":te,ge=P.props,we=P.onClick,pe=P.onNoticeClose,Pe=P.times,Ne=P.hovering,ae=w.useState(!1),Me=(0,U.Z)(ae,2),ke=Me[0],Ue=Me[1],Le=Ne||ke,ie=function(){pe(m)},ce=function(Se){(Se.key==="Enter"||Se.code==="Enter"||Se.keyCode===u.Z.ENTER)&&ie()};w.useEffect(function(){if(!Le&&K>0){var ye=setTimeout(function(){ie()},K*1e3);return function(){clearTimeout(ye)}}},[K,Le,Pe]);var Re="".concat(V,"-notice");return w.createElement("div",(0,I.Z)({},ge,{ref:H,className:p()(Re,j,(0,M.Z)({},"".concat(Re,"-closable"),X)),style:G,onMouseEnter:function(Se){var me;Ue(!0),ge==null||(me=ge.onMouseEnter)===null||me===void 0||me.call(ge,Se)},onMouseLeave:function(Se){var me;Ue(!1),ge==null||(me=ge.onMouseLeave)===null||me===void 0||me.call(ge,Se)},onClick:we}),w.createElement("div",{className:"".concat(Re,"-content")},J),X&&w.createElement("a",{tabIndex:0,className:"".concat(Re,"-close"),onKeyDown:ce,onClick:function(Se){Se.preventDefault(),Se.stopPropagation(),ie()}},le))}),n=d,i=w.createContext({}),f=function(H){var V=H.children,G=H.classNames;return w.createElement(i.Provider,{value:{classNames:G}},V)},v=f,a=e(71002),S=8,g=3,y=16,C=function(H){var V={offset:S,threshold:g,gap:y};if(H&&(0,a.Z)(H)==="object"){var G,j,F;V.offset=(G=H.offset)!==null&&G!==void 0?G:S,V.threshold=(j=H.threshold)!==null&&j!==void 0?j:g,V.gap=(F=H.gap)!==null&&F!==void 0?F:y}return[!!H,V]},E=C,A=["className","style","classNames","styles"],N=function(H){var V,G=H.configList,j=H.placement,F=H.prefixCls,K=H.className,m=H.style,J=H.motion,X=H.onAllNoticeRemoved,te=H.onNoticeClose,le=H.stack,ge=(0,w.useContext)(i),we=ge.classNames,pe=(0,w.useRef)({}),Pe=(0,w.useState)(null),Ne=(0,U.Z)(Pe,2),ae=Ne[0],Me=Ne[1],ke=(0,w.useState)([]),Ue=(0,U.Z)(ke,2),Le=Ue[0],ie=Ue[1],ce=G.map(function(Oe){return{config:Oe,key:String(Oe.key)}}),Re=E(le),ye=(0,U.Z)(Re,2),Se=ye[0],me=ye[1],he=me.offset,se=me.threshold,ve=me.gap,xe=Se&&(Le.length>0||ce.length<=se),je=typeof J=="function"?J(j):J;return(0,w.useEffect)(function(){Se&&Le.length>1&&ie(function(Oe){return Oe.filter(function(Ze){return ce.some(function(it){var Et=it.key;return Ze===Et})})})},[Le,ce,Se]),(0,w.useEffect)(function(){var Oe;if(Se&&pe.current[(Oe=ce[ce.length-1])===null||Oe===void 0?void 0:Oe.key]){var Ze;Me(pe.current[(Ze=ce[ce.length-1])===null||Ze===void 0?void 0:Ze.key])}},[ce,Se]),w.createElement(o.V4,(0,I.Z)({key:j,className:p()(F,"".concat(F,"-").concat(j),we==null?void 0:we.list,K,(V={},(0,M.Z)(V,"".concat(F,"-stack"),!!Se),(0,M.Z)(V,"".concat(F,"-stack-expanded"),xe),V)),style:m,keys:ce,motionAppear:!0},je,{onAllRemoved:function(){X(j)}}),function(Oe,Ze){var it=Oe.config,Et=Oe.className,st=Oe.style,pt=Oe.index,Mt=it,qt=Mt.key,Ft=Mt.times,Xt=String(qt),_t=it,nt=_t.className,tt=_t.style,xt=_t.classNames,Lt=_t.styles,Be=(0,r.Z)(_t,A),yt=ce.findIndex(function(bi){return bi.key===Xt}),un={};if(Se){var In=ce.length-1-(yt>-1?yt:pt-1),bn=j==="top"||j==="bottom"?"-50%":"0";if(In>0){var Hn,si,Yn;un.height=xe?(Hn=pe.current[Xt])===null||Hn===void 0?void 0:Hn.offsetHeight:ae==null?void 0:ae.offsetHeight;for(var mi=0,_i=0;_i<In;_i++){var Wi;mi+=((Wi=pe.current[ce[ce.length-1-_i].key])===null||Wi===void 0?void 0:Wi.offsetHeight)+ve}var Si=(xe?mi:In*he)*(j.startsWith("top")?1:-1),Ki=!xe&&ae!==null&&ae!==void 0&&ae.offsetWidth&&(si=pe.current[Xt])!==null&&si!==void 0&&si.offsetWidth?((ae==null?void 0:ae.offsetWidth)-he*2*(In<3?In:3))/((Yn=pe.current[Xt])===null||Yn===void 0?void 0:Yn.offsetWidth):1;un.transform="translate3d(".concat(bn,", ").concat(Si,"px, 0) scaleX(").concat(Ki,")")}else un.transform="translate3d(".concat(bn,", 0, 0)")}return w.createElement("div",{ref:Ze,className:p()("".concat(F,"-notice-wrapper"),Et,xt==null?void 0:xt.wrapper),style:(0,c.Z)((0,c.Z)((0,c.Z)({},st),un),Lt==null?void 0:Lt.wrapper),onMouseEnter:function(){return ie(function(Fi){return Fi.includes(Xt)?Fi:[].concat((0,b.Z)(Fi),[Xt])})},onMouseLeave:function(){return ie(function(Fi){return Fi.filter(function(ts){return ts!==Xt})})}},w.createElement(n,(0,I.Z)({},Be,{ref:function(Fi){yt>-1?pe.current[Xt]=Fi:delete pe.current[Xt]},prefixCls:F,classNames:xt,styles:Lt,className:p()(nt,we==null?void 0:we.notice),style:tt,times:Ft,key:qt,eventKey:qt,onNoticeClose:te,hovering:Se&&Le.length>0})))})},B=N,W=w.forwardRef(function(P,H){var V=P.prefixCls,G=V===void 0?"rc-notification":V,j=P.container,F=P.motion,K=P.maxCount,m=P.className,J=P.style,X=P.onAllRemoved,te=P.stack,le=P.renderNotifications,ge=w.useState([]),we=(0,U.Z)(ge,2),pe=we[0],Pe=we[1],Ne=function(ye){var Se,me=pe.find(function(he){return he.key===ye});me==null||(Se=me.onClose)===null||Se===void 0||Se.call(me),Pe(function(he){return he.filter(function(se){return se.key!==ye})})};w.useImperativeHandle(H,function(){return{open:function(ye){Pe(function(Se){var me=(0,b.Z)(Se),he=me.findIndex(function(xe){return xe.key===ye.key}),se=(0,c.Z)({},ye);if(he>=0){var ve;se.times=(((ve=Se[he])===null||ve===void 0?void 0:ve.times)||0)+1,me[he]=se}else se.times=0,me.push(se);return K>0&&me.length>K&&(me=me.slice(-K)),me})},close:function(ye){Ne(ye)},destroy:function(){Pe([])}}});var ae=w.useState({}),Me=(0,U.Z)(ae,2),ke=Me[0],Ue=Me[1];w.useEffect(function(){var Re={};pe.forEach(function(ye){var Se=ye.placement,me=Se===void 0?"topRight":Se;me&&(Re[me]=Re[me]||[],Re[me].push(ye))}),Object.keys(ke).forEach(function(ye){Re[ye]=Re[ye]||[]}),Ue(Re)},[pe]);var Le=function(ye){Ue(function(Se){var me=(0,c.Z)({},Se),he=me[ye]||[];return he.length||delete me[ye],me})},ie=w.useRef(!1);if(w.useEffect(function(){Object.keys(ke).length>0?ie.current=!0:ie.current&&(X==null||X(),ie.current=!1)},[ke]),!j)return null;var ce=Object.keys(ke);return(0,_.createPortal)(w.createElement(w.Fragment,null,ce.map(function(Re){var ye=ke[Re],Se=w.createElement(B,{key:Re,configList:ye,placement:Re,prefixCls:G,className:m==null?void 0:m(Re),style:J==null?void 0:J(Re),motion:F,onNoticeClose:Ne,onAllNoticeRemoved:Le,stack:te});return le?le(Se,{prefixCls:G,key:Re}):Se})),j)}),$=W,Y=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],R=function(){return document.body},L=0;function z(){for(var P={},H=arguments.length,V=new Array(H),G=0;G<H;G++)V[G]=arguments[G];return V.forEach(function(j){j&&Object.keys(j).forEach(function(F){var K=j[F];K!==void 0&&(P[F]=K)})}),P}function O(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=P.getContainer,V=H===void 0?R:H,G=P.motion,j=P.prefixCls,F=P.maxCount,K=P.className,m=P.style,J=P.onAllRemoved,X=P.stack,te=P.renderNotifications,le=(0,r.Z)(P,Y),ge=w.useState(),we=(0,U.Z)(ge,2),pe=we[0],Pe=we[1],Ne=w.useRef(),ae=w.createElement($,{container:pe,ref:Ne,prefixCls:j,motion:G,maxCount:F,className:K,style:m,onAllRemoved:J,stack:X,renderNotifications:te}),Me=w.useState([]),ke=(0,U.Z)(Me,2),Ue=ke[0],Le=ke[1],ie=w.useMemo(function(){return{open:function(Re){var ye=z(le,Re);(ye.key===null||ye.key===void 0)&&(ye.key="rc-notification-".concat(L),L+=1),Le(function(Se){return[].concat((0,b.Z)(Se),[{type:"open",config:ye}])})},close:function(Re){Le(function(ye){return[].concat((0,b.Z)(ye),[{type:"close",key:Re}])})},destroy:function(){Le(function(Re){return[].concat((0,b.Z)(Re),[{type:"destroy"}])})}}},[]);return w.useEffect(function(){Pe(V())}),w.useEffect(function(){Ne.current&&Ue.length&&(Ue.forEach(function(ce){switch(ce.type){case"open":Ne.current.open(ce.config);break;case"close":Ne.current.close(ce.key);break;case"destroy":Ne.current.destroy();break}}),Le(function(ce){return ce.filter(function(Re){return!Ue.includes(Re)})}))},[Ue]),[ie,ae]}},56790:function(Ot,Ke,e){"use strict";e.d(Ke,{zX:function(){return b.Z}});var b=e(66680),U=e(21770),r=e(42550),w=e(8880),c=e(80334)},64217:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return M}});var b=e(1413),U=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,r=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,w="".concat(U," ").concat(r).split(/[\s\n]+/),c="aria-",_="data-";function I(D,p){return D.indexOf(p)===0}function M(D){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o;p===!1?o={aria:!0,data:!0,attr:!0}:p===!0?o={aria:!0}:o=(0,b.Z)({},p);var u={};return Object.keys(D).forEach(function(d){(o.aria&&(d==="role"||I(d,c))||o.data&&I(d,_)||o.attr&&w.includes(d))&&(u[d]=D[d])}),u}},88306:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return b}});function b(U,r){for(var w=U,c=0;c<r.length;c+=1){if(w==null)return;w=w[r[c]]}return w}},8880:function(Ot,Ke,e){"use strict";e.d(Ke,{T:function(){return o},Z:function(){return I}});var b=e(71002),U=e(1413),r=e(74902),w=e(84506),c=e(88306);function _(u,d,n,i){if(!d.length)return n;var f=(0,w.Z)(d),v=f[0],a=f.slice(1),S;return!u&&typeof v=="number"?S=[]:Array.isArray(u)?S=(0,r.Z)(u):S=(0,U.Z)({},u),i&&n===void 0&&a.length===1?delete S[v][a[0]]:S[v]=_(S[v],a,n,i),S}function I(u,d,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return d.length&&i&&n===void 0&&!(0,c.Z)(u,d.slice(0,-1))?u:_(u,d,n,i)}function M(u){return(0,b.Z)(u)==="object"&&u!==null&&Object.getPrototypeOf(u)===Object.prototype}function D(u){return Array.isArray(u)?[]:{}}var p=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function o(){for(var u=arguments.length,d=new Array(u),n=0;n<u;n++)d[n]=arguments[n];var i=D(d[0]);return d.forEach(function(f){function v(a,S){var g=new Set(S),y=(0,c.Z)(f,a),C=Array.isArray(y);if(C||M(y)){if(!g.has(y)){g.add(y);var E=(0,c.Z)(i,a);C?i=I(i,a,[]):(!E||(0,b.Z)(E)!=="object")&&(i=I(i,a,D(y))),p(y).forEach(function(A){v([].concat((0,r.Z)(a),[A]),g)})}}else i=I(i,a,y)}v([])}),i}},61562:function(Ot,Ke,e){const b=e(2041),U=e(56061),r=e(49487),w=e(83714),c=e(90101),_=e(75179);Ot.exports={Kit:b,NFA:U,RegExp:r,parse:w,visualize:c,Raphael:_}},2041:function(Ot){var Ke=Array.prototype,e=Ke.slice,b=this||window,U=b.toString()==="[object Window]";function r(W,$){return W._Set||($||(W=D(W)),W.contains=function(Y,R){return!!~M(W,Y,R)},W.indexOf=function(Y,R){return M(W,Y,R)},W.toArray=function(){return p(W)},W.union=function(Y){Y=r(Y);for(var R=W.length+Y.length,L=new W.constructor(R),z=0,O=0,P=0;P<R;P++)W[z]===Y[O]?(L[P]=W[z++],O++,R--):W[z]<Y[O]?L[P]=W[z++]:L[P]=Y[O++];return L.length=R,r(L.length===R?L:p(L,R),!0)},W.inspect=W.toArray,W._Set=!0),W}var w=-1,c=0,_=1;function I(W,$){return W<$?w:W===$?c:_}function M(W,$,Y){var R=0,L=W.length,z=L-1,O,P;if(L<1)return-1;if(Y=Y||I,L===1)return Y($,W[R])===c?R:-1;if(Y($,W[R])===w||Y($,W[z])===_)return-1;do{if(O=R+(z-R+1>>1),P=Y($,W[O]),P===c)return O;P===w?z=O-1:R=O+1}while(R<=z);return-1}function D(W){var $=W.length;if($<=1)return W;for(var Y=1,R=$/3|0,L,z,O;Y<R;)Y=Y*3+1;for(;Y>0;){for(L=Y;L<$;L++)for(z=L;z>=Y&&W[z]<W[z-Y];z-=Y)O=W[z],W[z]=W[z-Y],W[z-Y]=O;Y=Y/3|0}var P=W[0],H;for(L=1,z=1;L<$;L++)H=W[L],H!==P&&(P=W[z++]=W[L]);return W.length=z,W.length===z?W:p(W,z)}function p(W,$){$=typeof $=="undefined"?W.length:$;for(var Y=new W.constructor($),R=$;R--;)Y[R]=W[R];return Y}function o(W){for(var $={},Y=0,R=0,L=W.length,z;Y<L;Y++)z=W[Y],!$.hasOwnProperty(z)&&($[z]=1,W[R++]=z);return W.length=R,W}function u(W){var $,Y,R=W.length,L,z=(Math.random()*1e10).toString(32)+(+new Date).toString(32);for($=Y=0;$<R;$++)L=W[$],L!=null&&(L.hasOwnProperty(z)||(Object.defineProperty(L,z,{value:1,enumerable:!1}),W[Y++]=L));for($=Y;$--;)W[$][z]=void 0;return W.length=Y,W}function d(W){W=W.map(function(te){return te[1]?te:te+te});var $,Y,R,L,z,O;W=D(W),O=W.length;var P=Object.create(null),H=Object.create(null),V=Object.create(null),G,j;for($=0;$<O;$++)for(z=W[$],j=z[1],H[z[0]]=!0,V[j]=!0,Y=$;Y<O;Y++)if(G=W[Y][0],G>=j){G===j&&(P[j]=!0);break}var F=D(W.join("").split("")),K=Object.keys(P),m=F[0],J=Object.create(null),X=Object.create(null);for($=0;$<O;$++)J[W[$]]=[];if(P[m]){for($=0;$<O;$++)if(z=W[$],z[0]===m)J[z].push(m);else if(z[0]>m)break}for($=0,L=F.length-1;$<L;$++){if(G=F[$],j=F[$+1],V[G]&&(G=g(G)),H[j]&&(j=S(j)),G<=j)for(m=G===j?G:G+j,Y=0;Y<O&&(z=W[Y],!(z[0]>j));Y++)z[0]<=G&&j<=z[1]&&(J[z].push(m),K.push(m));if(G=F[$],j=F[$+1],P[j])for(Y=0;Y<O&&(z=W[Y],!(z[0]>j));Y++)z[0]<=j&&j<=z[1]&&J[z].push(j)}K=D(K);for(R in J)X[R[0]===R[1]?R[0]:R]=J[R];return{ranges:K,map:X}}function n(W){var $="\0",Y=String.fromCharCode(65535);W=d(W).ranges;var R=[];if(!W.length)return R;W[0][0]!==$&&W.unshift(Y);var L=W.length-1;return(W[L][1]||W[L][0])!==Y&&W.push($),W.reduce(function(z,O){var P=g(z[1]||z[0]),H=S(O[0]);return P<H&&R.push(P+H),P===H&&R.push(P),O}),R}function i(W){W=W.split("");var $=[],Y=[],R=W[0]==="^"&&W.length>1&&W.shift();return W.forEach(function(L){if($[0]=="-"&&$.length>1){if($[1]>L)throw new Error("Charset range out of order:"+$[1]+"-"+L+"!");Y.push($[1]+L),$.splice(0,2)}else $.unshift(L)}),Y=Y.concat($),R?n(Y):d(Y).ranges}function f(W){if(!W.length)return[];var $=[W[0]];return W.reduce(function(Y,R){var L=$.length-1;return Y[Y.length-1]===S(R[0])?$[L]=$[L][0]+R[R.length-1]:($.push(R),R)}),$.reduce(function(Y,R){return R.length===2&&R[0]===S(R[1])?(Y.push(R[0]),Y.push(R[1])):Y.push(R),Y},[])}function v(W){return String.fromCharCode(W)}function a(W){return W.charCodeAt(0)}function S(W){return String.fromCharCode(W.charCodeAt(0)-1)}function g(W){return String.fromCharCode(W.charCodeAt(0)+1)}var y={"\n":"\\n","	":"\\t","\f":"\\f","\r":"\\r"," ":" ","\\":"\\\\","\0":"\\0"};function C(W,$){var Y=/[\x00-\x1F\x7F-\x9F]/,R=/[\u009F-\uFFFF]/;return W=W.split("").map(function(L){return!$&&y.hasOwnProperty(L)?y[L]:R.test(L)?"\\u"+("00"+a(L).toString(16).toUpperCase()).slice(-4):Y.test(L)?"\\x"+("0"+a(L).toString(16).toUpperCase()).slice(-2):L}).join(""),W}function E(W){return[].concat.apply([],W)}function A(W,$){return new Array($+1).join(W)}function N(){var W=e.call(arguments);U?Function.prototype.apply.apply(console.log,[console,W]):W.forEach($=>console.log($))}function B(O){for(var $=O.toString(),Y=/^\s+function\s+([a-zA-Z]\w+)\s*\(/mg,R=[],L;L=Y.exec($);)R.push(L[1]);for(var z=[],O;O=R.pop();)z.push(O+":"+O);return`{
`+z.join(`,
`)+`
}`}Ot.exports={sortUnique:D,idUnique:u,hashUnique:o,Set:r,repeats:A,negate:n,coalesce:f,classify:d,parseCharset:i,chr:v,ord:a,pred:S,succ:g,toPrint:C,flatten2:E,log:N,isBrowser:U,locals:B}},56061:function(Ot,Ke,e){const b=e(2041);function U(p){p=p.compact?D(p):p;var o={},u,d,n=p.trans,i={};for(u=0,d=p.accepts.length;u<d;u++)o[p.accepts[u]]=!0;var f;for(u=0,d=n.length;u<d;u++)f=n[u],f.charset?f.ranges=typeof f.charset=="string"?b.parseCharset(f.charset):f.charset:f.eMove=!0,f.from.forEach(function(a){var S=i[a]=i[a]||{eMoveStates:[],eMove:[],charMove:{},trans:[],ranges:[]};f.eMove?S.eMoveStates=S.eMoveStates.concat(f.to):S.ranges=S.ranges.concat(f.ranges),S.trans.push(f)});var v=Object.keys(i);return v.forEach(function(a){var S=i[a],g=S.trans,y=S.charMove,C=S.eMove,E=S.ranges,A=b.classify(E),N=A.map;g.forEach(function(B){B.eMove?B.to.forEach(function(W){C.push({to:W,action:B.action,assert:B.assert,eMove:!0})}):b.flatten2(B.ranges.map(function(W){return N[W]})).forEach(function(W){(y[W]=y[W]||[]).push(B)})}),E=b.Set(A.ranges.filter(function(B){return!!B[1]})),S.ranges=E,Object.keys(y).forEach(function(B){var W=y[B],$=[];g.forEach(function(Y){Y.to.forEach(function(R){(Y.eMove||~W.indexOf(Y))&&$.push({to:R,action:Y.action,assert:Y.assert,eMove:Y.eMove})})}),y[B]=$}),delete S.trans,delete S.eMoveStates}),{accepts:o,router:i,input:c,assertDFA:w,accept:r}}function r(p){return this.accepts.hasOwnProperty(p)}function w(){for(var p=this.router,o=Object.keys(p),u,d=0,n=o.length;d<n;d++){if(u=p[o[d]],u.eMove.length>1)throw new Error("DFA Assertion Fail!\nFrom state `"+o[d]+"` can goto to multi \u03B5-move states!");for(var i=u.charMove,f=Object.keys(i),v=0,a=f.length;v<a;v++){var S=i[f[v]];if(S.length!==1)throw b.log(i),new Error("DFA Assertion Fail!\nFrom state `"+o[d]+"` via charset `"+f[v]+"` can goto to multi states!")}if(f.length&&u.eMove.length)throw new Error("DFA Assertion Fail!\nFrom state `"+o[d]+"` can goto extra \u03B5-move state!")}return!0}function c(p,o,u){o=o||0;var d=this;return n(p,o,"start",[],o-1);function n(i,f,v,a,S){e:do{var g,y,C,E,A=d.router[v];if(!A)break;var N=A.eMove,B=A.charMove,W;f<i.length?(g=i[f],B.hasOwnProperty(g)?W=B[g]:(y=I(A.ranges,g))?W=B[y]:W=N):W=N;for(var $=a.length,Y,R,L,z=S,O=0,P=W.length;O<P;O++){if(Y=W[O],C=Y.eMove?0:1,S=z,a.splice(0,a.length-$),$=a.length,Y.assert){if((R=Y.assert(a,g,f,v,i))===!1)continue;typeof R=="number"&&(f+=R,S+=R)}if(Y.action&&(a=Y.action(a,g,f,v,i)||a),S=Y.eMove?S:f,u&&b.log(g+":"+v+">"+Y.to),O===P-1){f+=C,v=Y.to;continue e}else L=n(i,f+C,Y.to,a,S);if(L.acceptable)return L;E=L}if(E)return E;break}while(!0);return{stack:a,lastIndex:S,lastState:v,acceptable:d.accept(v)}}}function _(p,o){var u={};return p.forEach(function(n){d(n)}),u;function d(n,i){if(u.hasOwnProperty(n))return u[n];if(!o.hasOwnProperty(n))return!1;i=i||[n];for(var f=o[n],v=f.to.slice(),a=[n],S,g;v.length;){if(S=v.shift(),~i.indexOf(S))throw new Error("Recursive \u03B5-move:"+i.join(">")+">"+S+"!");g=d(S,i),g&&(v=g.slice(1).concat(v)),a.push(S)}return u[n]=a}}function I(p,o){var u=p.indexOf(o,M);return~u?p[u]:!1}function M(p,o){var u=o[0],d=o[1];return p>d?1:p<u?-1:0}function D(p){p.accepts=p.accepts.split(",");for(var o=p.trans,u=o.length,d,n,i,f;u--;)d=o[u],n=d[0].split(">"),i=n[0].split(","),f=n[1].split(","),o[u]={from:i,to:f,charset:d[1],action:d[2],assert:d[3]};return p.compact=!1,p}Ot.exports=U},49487:function(Ot,Ke,e){const b=e(83714),U=e(2041),r=e(56061);b.exportConstants(),w.DEBUG=w.D=1,w.MULTILINE=w.M=2,w.GLOBAL=w.G=4,w.IGNORECASE=w.I=8;function w(y,C){if(!(this instanceof w))return new w(y,C);y=y+"";var E={};typeof C=="string"?(C=C.toLowerCase(),~C.indexOf("i")&&(E.ignoreCase=!0),~C.indexOf("m")&&(E.multiline=!0),~C.indexOf("g")&&(E.global=!0),~C.indexOf("d")&&(E.debug=!0)):E=C;var A=this.ast=b(y);this.source=y,this.multiline=!!E.multiline,this.global=!!E.global,this.ignoreCase=!!E.ignoreCase,this.debug=!!E.debug,this.flags="",this.multiline&&(this.flags+="m"),this.ignoreCase&&(this.flags+="i"),this.global&&(this.flags+="g"),g(this,["source","options","multiline","global","ignoreCase","flags","debug"]);var N=this.ignoreCase;A.traverse(function(B){D(B,N)},CHARSET_NODE),A.traverse(function(B){c(B,N)},EXACT_NODE),this.multiline&&A.traverse(_,ASSERT_NODE)}w.prototype={toString:function(){return"/"+this.source+"/"+this.flags},test:function(y){return this.exec(y)!==null},exec:function(y){for(var C=this.getNFA(),E,A=this.global&&this.lastIndex||0,N=y.length;A<N&&(E=C.input(y,A),!E.acceptable);A++);if(!E||!E.acceptable)return this.lastIndex=0,null;var B=new Array(this.ast.groupCount+1);B[0]=y.slice(A,E.lastIndex+1);for(var W=E.stack,$=1,Y=B.length;$<Y;$++)B[$]=d(W,$,y);return this.lastIndex=E.lastIndex+1,B.index=A,B.input=y,B},getNFA:function(){if(this._nfa)return this._nfa;var y,C=this.ast;return n=1,y=o(C.tree),y=r(y,this.debug),this._nfa=y,y}};function c(y,C){var E;E=y.chars.split(""),C?E=E.map(function(A){return/[a-z]/.test(A)?[A,A.toUpperCase()]:/[A-Z]/.test(A)?[A,A.toLowerCase()]:[A]}):E=E.map(function(A){return[A]}),y.explained=E}function _(y){var C=y.assertionType;(C===AssertBegin||C===AssertEnd)&&(y.multiline=!0)}var I=U.parseCharset(`^
\r\u2028\u2029`),M={d:["09"],w:["AZ","az","09","_"],s:` \f
\r	\v\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000`.split("")};["d","w","s"].forEach(function(y){M[y.toUpperCase()]=U.negate(M[y])});function D(y,C){var E=y.chars.split("");E=E.concat(U.flatten2(y.classes.map(function(A){return M[A]}))),E=E.concat(y.ranges),C&&(E=p(E)),E=U.classify(E).ranges,y.exclude&&(E=U.negate(E)),E=U.coalesce(E),y.explained=E}function p(y){return U.flatten2(y.map(function(C){var E=U.classify([C,"az","AZ"]).map[C];return U.flatten2(E.map(function(A){return/[a-z]/.test(A)?[A,A.toUpperCase()]:/[A-Z]/.test(A)?[A,A.toLowerCase()]:[A]}))}))}function o(y,C){var E=[],A;return C=C||["start"],A=y.reduce(function(N,B){var W=u(B,N);return E=E.concat(W.trans),W.accepts},C),{accepts:A,trans:E}}function u(y,C){return y.repeat?S(y,C):a[y.type](y,C)}function d(y,C,E){for(var A,N,B,W=0,$=y.length,Y;W<$;W++)if(Y=y[W],Y.num===C){if(Y.type===v)N=Y.index;else if(Y.type===f){A=Y.index;break}}if(!(A===void 0||N===void 0))return E.slice(A,N)}var n=0;function i(){return"q"+n++}var f="GroupCaptureStart",v="GroupCaptureEnd",a=function(){function C(R,L){var z=[],O,P=R.explained;return P.forEach(function(H){z.push({from:L,to:O=[i()],charset:H}),L=O}),{accepts:O,trans:z}}function E(R,L){var z=[i()];return{accepts:z,trans:[{from:L,to:z,charset:R.explained}]}}function A(R,L){var z=[i()];return{accepts:z,trans:[{from:L,to:z,charset:I}]}}function N(R,L){var z=[i()];return{accepts:z,trans:[{from:L,to:z,charset:!1}]}}function B(R,L){var z=[i()],O=[{from:L,to:z,charset:!1,action:!R.nonCapture&&function(G,j,F){G.unshift({type:f,num:R.num,index:F})}}];L=z;var P=o(R.sub,L);O=O.concat(P.trans);var H=[i()];return O.push({from:P.accepts,to:H,charset:!1,action:!R.nonCapture&&function(G,j,F){G.unshift({type:v,num:R.num,index:F})}}),{accepts:H,trans:O}}function W(R,L){var z=[i()],O=R.num;return{accepts:z,trans:[{from:L,to:z,charset:!1,assert:function(H,V,G,j,F){var K=d(H,O,F);return K===void 0&&(K=""),F.slice(G,G+K.length)===K?K.length:!1}}]}}function $(R,L){var z=[],O=[];return R.branches.forEach(function(P){var H=o(P,L);z=z.concat(H.trans),O=O.concat(H.accepts)}),{trans:z,accepts:O}}function Y(R,L){var z;switch(R.assertionType){case AssertBegin:z=R.multiline?j:F;break;case AssertEnd:z=R.multiline?K:m;break;case AssertWordBoundary:z=function(X,te,le,ge,we){return V(le,we)};break;case AssertNonWordBoundary:z=function(X,te,le,ge,we){return!V(le,we)};break;case AssertLookahead:z=P(R);break;case AssertNegativeLookahead:z=H(R);break}return O(R,L,z);function O(J,X,te){var le=[i()];return{accepts:le,trans:[{from:X,to:le,charset:!1,assert:te}]}}function P(J){var X=r(o(J.sub,["start"]));return function(le,ge,we,pe,Pe){var Ne=X.input(Pe,we,null,le);return Ne.acceptable}}function H(J){var X=P(J);return function(){return!X.apply(this,arguments)}}function V(J,X){return!!(G(J-1,X)^G(J,X))}function G(J,X){return J!==-1&&J!==X.length&&/\w/.test(X[J])}function j(J,X,te,le,ge){return te===0||ge[te-1]===`
`}function F(J,X,te,le,ge){return te===0}function K(J,X,te,le,ge){return te===ge.length||X===`
`}function m(J,X,te,le,ge){return te===ge.length}}return{assert:Y,choice:$,backref:W,group:B,empty:N,charset:E,dot:A,exact:C}}();function S(y,C){var E=a[y.type],A,N,B=[],W=y.repeat,$=W.min,Y=W.max;for(N=$;N--;)A=E(y,C),B=B.concat(A.trans),C=A.accepts;var R=[],L=[].concat(C);if(isFinite(Y))for(;Y>$;Y--)A=E(y,C),R=R.concat(A.trans),C=A.accepts,L=L.concat(A.accepts);else{var z=C.slice();A=E(y,C),R=R.concat(A.trans),L=L.concat(A.accepts),R.push({from:A.accepts,to:z,charset:!1})}var O=[i()];return W.nonGreedy?(B.push({from:L,to:O,charset:!1}),B=B.concat(R)):(B=B.concat(R),B.push({from:L,to:O,charset:!1})),{accepts:O,trans:B}}function g(y,C){C.forEach(function(E){Object.defineProperty(y,E,{writable:!1,enumerable:!0})})}Ot.exports=w},75179:function(Ot){(function(Ke,e){Ot.exports=e()})(window,function(){return function(Ke){var e={};function b(U){if(e[U])return e[U].exports;var r=e[U]={i:U,l:!1,exports:{}};return Ke[U].call(r.exports,r,r.exports,b),r.l=!0,r.exports}return b.m=Ke,b.c=e,b.d=function(U,r,w){b.o(U,r)||Object.defineProperty(U,r,{enumerable:!0,get:w})},b.r=function(U){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},b.t=function(U,r){if(1&r&&(U=b(U)),8&r||4&r&&typeof U=="object"&&U&&U.__esModule)return U;var w=Object.create(null);if(b.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:U}),2&r&&typeof U!="string")for(var c in U)b.d(w,c,function(_){return U[_]}.bind(null,c));return w},b.n=function(U){var r=U&&U.__esModule?function(){return U.default}:function(){return U};return b.d(r,"a",r),r},b.o=function(U,r){return Object.prototype.hasOwnProperty.call(U,r)},b.p="",b(b.s=1)}([function(Ke,e,b){var U,r;U=[b(2)],(r=function(w){function c(ee){if(c.is(ee,"function"))return _?ee():w.on("raphael.DOMload",ee);if(c.is(ee,z))return c._engine.create[i](c,ee.splice(0,3+c.is(ee[0],L))).add(ee);var de=Array.prototype.slice.call(arguments,0);if(c.is(de[de.length-1],"function")){var oe=de.pop();return _?oe.call(c._engine.create[i](c,de)):w.on("raphael.DOMload",function(){oe.call(c._engine.create[i](c,de))})}return c._engine.create[i](c,arguments)}c.version="2.3.0",c.eve=w;var _,I,M=/[, ]+/,D={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},p=/\{(\d+)\}/g,o="hasOwnProperty",u={doc:document,win:window},d={was:Object.prototype[o].call(u.win,"Raphael"),is:u.win.Raphael},n=function(){this.ca=this.customAttributes={}},i="apply",f="concat",v="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,a="",S=" ",g=String,y="split",C="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[y](S),E={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},A=g.prototype.toLowerCase,N=Math,B=N.max,W=N.min,$=N.abs,Y=N.pow,R=N.PI,L="number",z="array",O=Object.prototype.toString,P=(c._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),H={NaN:1,Infinity:1,"-Infinity":1},V=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,G=N.round,j=parseFloat,F=parseInt,K=g.prototype.toUpperCase,m=c._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},J=c._availableAnimAttrs={blur:L,"clip-rect":"csv",cx:L,cy:L,fill:"colour","fill-opacity":L,"font-size":L,height:L,opacity:L,path:"path",r:L,rx:L,ry:L,stroke:"colour","stroke-opacity":L,"stroke-width":L,transform:"transform",width:L,x:L,y:L},X=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,te={hs:1,rg:1},le=/,?([achlmqrstvxz]),?/gi,ge=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,we=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pe=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Pe=(c._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Ne=function(ee,de){return j(ee)-j(de)},ae=function(ee){return ee},Me=c._rectPath=function(ee,de,oe,Ce,Ee){return Ee?[["M",ee+Ee,de],["l",oe-2*Ee,0],["a",Ee,Ee,0,0,1,Ee,Ee],["l",0,Ce-2*Ee],["a",Ee,Ee,0,0,1,-Ee,Ee],["l",2*Ee-oe,0],["a",Ee,Ee,0,0,1,-Ee,-Ee],["l",0,2*Ee-Ce],["a",Ee,Ee,0,0,1,Ee,-Ee],["z"]]:[["M",ee,de],["l",oe,0],["l",0,Ce],["l",-oe,0],["z"]]},ke=function(ee,de,oe,Ce){return Ce==null&&(Ce=oe),[["M",ee,de],["m",0,-Ce],["a",oe,Ce,0,1,1,0,2*Ce],["a",oe,Ce,0,1,1,0,-2*Ce],["z"]]},Ue=c._getPath={path:function(ee){return ee.attr("path")},circle:function(ee){var de=ee.attrs;return ke(de.cx,de.cy,de.r)},ellipse:function(ee){var de=ee.attrs;return ke(de.cx,de.cy,de.rx,de.ry)},rect:function(ee){var de=ee.attrs;return Me(de.x,de.y,de.width,de.height,de.r)},image:function(ee){var de=ee.attrs;return Me(de.x,de.y,de.width,de.height)},text:function(ee){var de=ee._getBBox();return Me(de.x,de.y,de.width,de.height)},set:function(ee){var de=ee._getBBox();return Me(de.x,de.y,de.width,de.height)}},Le=c.mapPath=function(ee,de){if(!de)return ee;var oe,Ce,Ee,be,Ae,He,Ye;for(Ee=0,Ae=(ee=In(ee)).length;Ee<Ae;Ee++)for(be=1,He=(Ye=ee[Ee]).length;be<He;be+=2)oe=de.x(Ye[be],Ye[be+1]),Ce=de.y(Ye[be],Ye[be+1]),Ye[be]=oe,Ye[be+1]=Ce;return ee};if(c._g=u,c.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",c.type=="VML"){var ie,ce=u.doc.createElement("div");if(ce.innerHTML='<v:shape adj="1"/>',(ie=ce.firstChild).style.behavior="url(#default#VML)",!ie||typeof ie.adj!="object")return c.type=a;ce=null}function Re(ee){if(typeof ee=="function"||Object(ee)!==ee)return ee;var de=new ee.constructor;for(var oe in ee)ee[o](oe)&&(de[oe]=Re(ee[oe]));return de}c.svg=!(c.vml=c.type=="VML"),c._Paper=n,c.fn=I=n.prototype=c.prototype,c._id=0,c.is=function(ee,de){return(de=A.call(de))=="finite"?!H[o](+ee):de=="array"?ee instanceof Array:de=="null"&&ee===null||de==typeof ee&&ee!==null||de=="object"&&ee===Object(ee)||de=="array"&&Array.isArray&&Array.isArray(ee)||O.call(ee).slice(8,-1).toLowerCase()==de},c.angle=function(ee,de,oe,Ce,Ee,be){if(Ee==null){var Ae=ee-oe,He=de-Ce;return Ae||He?(180+180*N.atan2(-He,-Ae)/R+360)%360:0}return c.angle(ee,de,Ee,be)-c.angle(oe,Ce,Ee,be)},c.rad=function(ee){return ee%360*R/180},c.deg=function(ee){return Math.round(180*ee/R%360*1e3)/1e3},c.snapTo=function(ee,de,oe){if(oe=c.is(oe,"finite")?oe:10,c.is(ee,z)){for(var Ce=ee.length;Ce--;)if($(ee[Ce]-de)<=oe)return ee[Ce]}else{var Ee=de%(ee=+ee);if(Ee<oe)return de-Ee;if(Ee>ee-oe)return de-Ee+ee}return de};var ye,Se;c.createUUID=(ye=/[xy]/g,Se=function(ee){var de=16*N.random()|0;return(ee=="x"?de:3&de|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ye,Se).toUpperCase()}),c.setWindow=function(ee){w("raphael.setWindow",c,u.win,ee),u.win=ee,u.doc=u.win.document,c._engine.initWin&&c._engine.initWin(u.win)};var me=function(ee){if(c.vml){var de,oe=/^\s+|\s+$/g;try{var Ce=new ActiveXObject("htmlfile");Ce.write("<body>"),Ce.close(),de=Ce.body}catch(Ae){de=createPopup().document.body}var Ee=de.createTextRange();me=Oe(function(Ae){try{de.style.color=g(Ae).replace(oe,a);var He=Ee.queryCommandValue("ForeColor");return"#"+("000000"+(He=(255&He)<<16|65280&He|(16711680&He)>>>16).toString(16)).slice(-6)}catch(Ye){return"none"}})}else{var be=u.doc.createElement("i");be.title="Rapha\xEBl Colour Picker",be.style.display="none",u.doc.body.appendChild(be),me=Oe(function(Ae){return be.style.color=Ae,u.doc.defaultView.getComputedStyle(be,a).getPropertyValue("color")})}return me(ee)},he=function(){return"hsb("+[this.h,this.s,this.b]+")"},se=function(){return"hsl("+[this.h,this.s,this.l]+")"},ve=function(){return this.hex},xe=function(ee,de,oe){if(de==null&&c.is(ee,"object")&&"r"in ee&&"g"in ee&&"b"in ee&&(oe=ee.b,de=ee.g,ee=ee.r),de==null&&c.is(ee,"string")){var Ce=c.getRGB(ee);ee=Ce.r,de=Ce.g,oe=Ce.b}return(ee>1||de>1||oe>1)&&(ee/=255,de/=255,oe/=255),[ee,de,oe]},je=function(ee,de,oe,Ce){var Ee={r:ee*=255,g:de*=255,b:oe*=255,hex:c.rgb(ee,de,oe),toString:ve};return c.is(Ce,"finite")&&(Ee.opacity=Ce),Ee};function Oe(ee,de,oe){return function Ce(){var Ee=Array.prototype.slice.call(arguments,0),be=Ee.join("\u2400"),Ae=Ce.cache=Ce.cache||{},He=Ce.count=Ce.count||[];return Ae[o](be)?(function(Ye,ht){for(var $t=0,gn=Ye.length;$t<gn;$t++)if(Ye[$t]===ht)return Ye.push(Ye.splice($t,1)[0])}(He,be),oe?oe(Ae[be]):Ae[be]):(He.length>=1e3&&delete Ae[He.shift()],He.push(be),Ae[be]=ee[i](de,Ee),oe?oe(Ae[be]):Ae[be])}}c.color=function(ee){var de;return c.is(ee,"object")&&"h"in ee&&"s"in ee&&"b"in ee?(de=c.hsb2rgb(ee),ee.r=de.r,ee.g=de.g,ee.b=de.b,ee.hex=de.hex):c.is(ee,"object")&&"h"in ee&&"s"in ee&&"l"in ee?(de=c.hsl2rgb(ee),ee.r=de.r,ee.g=de.g,ee.b=de.b,ee.hex=de.hex):(c.is(ee,"string")&&(ee=c.getRGB(ee)),c.is(ee,"object")&&"r"in ee&&"g"in ee&&"b"in ee?(de=c.rgb2hsl(ee),ee.h=de.h,ee.s=de.s,ee.l=de.l,de=c.rgb2hsb(ee),ee.v=de.b):(ee={hex:"none"}).r=ee.g=ee.b=ee.h=ee.s=ee.v=ee.l=-1),ee.toString=ve,ee},c.hsb2rgb=function(ee,de,oe,Ce){var Ee,be,Ae,He,Ye;return this.is(ee,"object")&&"h"in ee&&"s"in ee&&"b"in ee&&(oe=ee.b,de=ee.s,Ce=ee.o,ee=ee.h),He=(Ye=oe*de)*(1-$((ee=(ee*=360)%360/60)%2-1)),Ee=be=Ae=oe-Ye,je(Ee+=[Ye,He,0,0,He,Ye][ee=~~ee],be+=[He,Ye,Ye,He,0,0][ee],Ae+=[0,0,He,Ye,Ye,He][ee],Ce)},c.hsl2rgb=function(ee,de,oe,Ce){var Ee,be,Ae,He,Ye;return this.is(ee,"object")&&"h"in ee&&"s"in ee&&"l"in ee&&(oe=ee.l,de=ee.s,ee=ee.h),(ee>1||de>1||oe>1)&&(ee/=360,de/=100,oe/=100),He=(Ye=2*de*(oe<.5?oe:1-oe))*(1-$((ee=(ee*=360)%360/60)%2-1)),Ee=be=Ae=oe-Ye/2,je(Ee+=[Ye,He,0,0,He,Ye][ee=~~ee],be+=[He,Ye,Ye,He,0,0][ee],Ae+=[0,0,He,Ye,Ye,He][ee],Ce)},c.rgb2hsb=function(ee,de,oe){var Ce,Ee;return ee=(oe=xe(ee,de,oe))[0],de=oe[1],oe=oe[2],{h:(((Ee=(Ce=B(ee,de,oe))-W(ee,de,oe))==0?null:Ce==ee?(de-oe)/Ee:Ce==de?(oe-ee)/Ee+2:(ee-de)/Ee+4)+360)%6*60/360,s:Ee==0?0:Ee/Ce,b:Ce,toString:he}},c.rgb2hsl=function(ee,de,oe){var Ce,Ee,be,Ae;return ee=(oe=xe(ee,de,oe))[0],de=oe[1],oe=oe[2],Ce=((Ee=B(ee,de,oe))+(be=W(ee,de,oe)))/2,{h:(((Ae=Ee-be)==0?null:Ee==ee?(de-oe)/Ae:Ee==de?(oe-ee)/Ae+2:(ee-de)/Ae+4)+360)%6*60/360,s:Ae==0?0:Ce<.5?Ae/(2*Ce):Ae/(2-2*Ce),l:Ce,toString:se}},c._path2string=function(){return this.join(",").replace(le,"$1")},c._preload=function(ee,de){var oe=u.doc.createElement("img");oe.style.cssText="position:absolute;left:-9999em;top:-9999em",oe.onload=function(){de.call(this),this.onload=null,u.doc.body.removeChild(this)},oe.onerror=function(){u.doc.body.removeChild(this)},u.doc.body.appendChild(oe),oe.src=ee};function Ze(){return this.hex}function it(ee,de){for(var oe=[],Ce=0,Ee=ee.length;Ee-2*!de>Ce;Ce+=2){var be=[{x:+ee[Ce-2],y:+ee[Ce-1]},{x:+ee[Ce],y:+ee[Ce+1]},{x:+ee[Ce+2],y:+ee[Ce+3]},{x:+ee[Ce+4],y:+ee[Ce+5]}];de?Ce?Ee-4==Ce?be[3]={x:+ee[0],y:+ee[1]}:Ee-2==Ce&&(be[2]={x:+ee[0],y:+ee[1]},be[3]={x:+ee[2],y:+ee[3]}):be[0]={x:+ee[Ee-2],y:+ee[Ee-1]}:Ee-4==Ce?be[3]=be[2]:Ce||(be[0]={x:+ee[Ce],y:+ee[Ce+1]}),oe.push(["C",(-be[0].x+6*be[1].x+be[2].x)/6,(-be[0].y+6*be[1].y+be[2].y)/6,(be[1].x+6*be[2].x-be[3].x)/6,(be[1].y+6*be[2].y-be[3].y)/6,be[2].x,be[2].y])}return oe}c.getRGB=Oe(function(ee){if(!ee||(ee=g(ee)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Ze};if(ee=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:Ze};!te[o](ee.toLowerCase().substring(0,2))&&ee.charAt()!="#"&&(ee=me(ee));var de,oe,Ce,Ee,be,Ae,He=ee.match(P);return He?(He[2]&&(Ce=F(He[2].substring(5),16),oe=F(He[2].substring(3,5),16),de=F(He[2].substring(1,3),16)),He[3]&&(Ce=F((be=He[3].charAt(3))+be,16),oe=F((be=He[3].charAt(2))+be,16),de=F((be=He[3].charAt(1))+be,16)),He[4]&&(Ae=He[4][y](X),de=j(Ae[0]),Ae[0].slice(-1)=="%"&&(de*=2.55),oe=j(Ae[1]),Ae[1].slice(-1)=="%"&&(oe*=2.55),Ce=j(Ae[2]),Ae[2].slice(-1)=="%"&&(Ce*=2.55),He[1].toLowerCase().slice(0,4)=="rgba"&&(Ee=j(Ae[3])),Ae[3]&&Ae[3].slice(-1)=="%"&&(Ee/=100)),He[5]?(Ae=He[5][y](X),de=j(Ae[0]),Ae[0].slice(-1)=="%"&&(de*=2.55),oe=j(Ae[1]),Ae[1].slice(-1)=="%"&&(oe*=2.55),Ce=j(Ae[2]),Ae[2].slice(-1)=="%"&&(Ce*=2.55),(Ae[0].slice(-3)=="deg"||Ae[0].slice(-1)=="\xB0")&&(de/=360),He[1].toLowerCase().slice(0,4)=="hsba"&&(Ee=j(Ae[3])),Ae[3]&&Ae[3].slice(-1)=="%"&&(Ee/=100),c.hsb2rgb(de,oe,Ce,Ee)):He[6]?(Ae=He[6][y](X),de=j(Ae[0]),Ae[0].slice(-1)=="%"&&(de*=2.55),oe=j(Ae[1]),Ae[1].slice(-1)=="%"&&(oe*=2.55),Ce=j(Ae[2]),Ae[2].slice(-1)=="%"&&(Ce*=2.55),(Ae[0].slice(-3)=="deg"||Ae[0].slice(-1)=="\xB0")&&(de/=360),He[1].toLowerCase().slice(0,4)=="hsla"&&(Ee=j(Ae[3])),Ae[3]&&Ae[3].slice(-1)=="%"&&(Ee/=100),c.hsl2rgb(de,oe,Ce,Ee)):((He={r:de,g:oe,b:Ce,toString:Ze}).hex="#"+(16777216|Ce|oe<<8|de<<16).toString(16).slice(1),c.is(Ee,"finite")&&(He.opacity=Ee),He)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Ze}},c),c.hsb=Oe(function(ee,de,oe){return c.hsb2rgb(ee,de,oe).hex}),c.hsl=Oe(function(ee,de,oe){return c.hsl2rgb(ee,de,oe).hex}),c.rgb=Oe(function(ee,de,oe){function Ce(Ee){return Ee+.5|0}return"#"+(16777216|Ce(oe)|Ce(de)<<8|Ce(ee)<<16).toString(16).slice(1)}),c.getColor=function(ee){var de=this.getColor.start=this.getColor.start||{h:0,s:1,b:ee||.75},oe=this.hsb2rgb(de.h,de.s,de.b);return de.h+=.075,de.h>1&&(de.h=0,de.s-=.2,de.s<=0&&(this.getColor.start={h:0,s:1,b:de.b})),oe.hex},c.getColor.reset=function(){delete this.start},c.parsePathString=function(ee){if(!ee)return null;var de=Et(ee);if(de.arr)return _t(de.arr);var oe={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Ce=[];return c.is(ee,z)&&c.is(ee[0],z)&&(Ce=_t(ee)),Ce.length||g(ee).replace(ge,function(Ee,be,Ae){var He=[],Ye=be.toLowerCase();if(Ae.replace(pe,function(ht,$t){$t&&He.push(+$t)}),Ye=="m"&&He.length>2&&(Ce.push([be][f](He.splice(0,2))),Ye="l",be=be=="m"?"l":"L"),Ye=="r")Ce.push([be][f](He));else for(;He.length>=oe[Ye]&&(Ce.push([be][f](He.splice(0,oe[Ye]))),oe[Ye]););}),Ce.toString=c._path2string,de.arr=_t(Ce),Ce},c.parseTransformString=Oe(function(ee){if(!ee)return null;var de=[];return c.is(ee,z)&&c.is(ee[0],z)&&(de=_t(ee)),de.length||g(ee).replace(we,function(oe,Ce,Ee){var be=[];A.call(Ce),Ee.replace(pe,function(Ae,He){He&&be.push(+He)}),de.push([Ce][f](be))}),de.toString=c._path2string,de},this,function(ee){if(!ee)return ee;for(var de=[],oe=0;oe<ee.length;oe++){for(var Ce=[],Ee=0;Ee<ee[oe].length;Ee++)Ce.push(ee[oe][Ee]);de.push(Ce)}return de});var Et=function(ee){var de=Et.ps=Et.ps||{};return de[ee]?de[ee].sleep=100:de[ee]={sleep:100},setTimeout(function(){for(var oe in de)de[o](oe)&&oe!=ee&&(de[oe].sleep--,!de[oe].sleep&&delete de[oe])}),de[ee]};function st(ee,de,oe,Ce,Ee){return ee*(ee*(-3*de+9*oe-9*Ce+3*Ee)+6*de-12*oe+6*Ce)-3*de+3*oe}function pt(ee,de,oe,Ce,Ee,be,Ae,He,Ye){Ye==null&&(Ye=1);for(var ht=(Ye=Ye>1?1:Ye<0?0:Ye)/2,$t=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],gn=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],dn=0,ln=0;ln<12;ln++){var ct=ht*$t[ln]+ht,Pt=st(ct,ee,oe,Ee,Ae),Nt=st(ct,de,Ce,be,He),Tt=Pt*Pt+Nt*Nt;dn+=gn[ln]*N.sqrt(Tt)}return ht*dn}function Mt(ee,de,oe,Ce,Ee,be,Ae,He){if(!(B(ee,oe)<W(Ee,Ae)||W(ee,oe)>B(Ee,Ae)||B(de,Ce)<W(be,He)||W(de,Ce)>B(be,He))){var Ye=(ee-oe)*(be-He)-(de-Ce)*(Ee-Ae);if(Ye){var ht=((ee*Ce-de*oe)*(Ee-Ae)-(ee-oe)*(Ee*He-be*Ae))/Ye,$t=((ee*Ce-de*oe)*(be-He)-(de-Ce)*(Ee*He-be*Ae))/Ye,gn=+ht.toFixed(2),dn=+$t.toFixed(2);if(!(gn<+W(ee,oe).toFixed(2)||gn>+B(ee,oe).toFixed(2)||gn<+W(Ee,Ae).toFixed(2)||gn>+B(Ee,Ae).toFixed(2)||dn<+W(de,Ce).toFixed(2)||dn>+B(de,Ce).toFixed(2)||dn<+W(be,He).toFixed(2)||dn>+B(be,He).toFixed(2)))return{x:ht,y:$t}}}}function qt(ee,de,oe){var Ce=c.bezierBBox(ee),Ee=c.bezierBBox(de);if(!c.isBBoxIntersect(Ce,Ee))return oe?0:[];for(var be=pt.apply(0,ee),Ae=pt.apply(0,de),He=B(~~(be/5),1),Ye=B(~~(Ae/5),1),ht=[],$t=[],gn={},dn=oe?0:[],ln=0;ln<He+1;ln++){var ct=c.findDotsAtSegment.apply(c,ee.concat(ln/He));ht.push({x:ct.x,y:ct.y,t:ln/He})}for(ln=0;ln<Ye+1;ln++)ct=c.findDotsAtSegment.apply(c,de.concat(ln/Ye)),$t.push({x:ct.x,y:ct.y,t:ln/Ye});for(ln=0;ln<He;ln++)for(var Pt=0;Pt<Ye;Pt++){var Nt=ht[ln],Tt=ht[ln+1],Zt=$t[Pt],zt=$t[Pt+1],_n=$(Tt.x-Nt.x)<.001?"y":"x",hn=$(zt.x-Zt.x)<.001?"y":"x",Mn=Mt(Nt.x,Nt.y,Tt.x,Tt.y,Zt.x,Zt.y,zt.x,zt.y);if(Mn){if(gn[Mn.x.toFixed(4)]==Mn.y.toFixed(4))continue;gn[Mn.x.toFixed(4)]=Mn.y.toFixed(4);var Rn=Nt.t+$((Mn[_n]-Nt[_n])/(Tt[_n]-Nt[_n]))*(Tt.t-Nt.t),ni=Zt.t+$((Mn[hn]-Zt[hn])/(zt[hn]-Zt[hn]))*(zt.t-Zt.t);Rn>=0&&Rn<=1.001&&ni>=0&&ni<=1.001&&(oe?dn++:dn.push({x:Mn.x,y:Mn.y,t1:W(Rn,1),t2:W(ni,1)}))}}return dn}function Ft(ee,de,oe){ee=c._path2curve(ee),de=c._path2curve(de);for(var Ce,Ee,be,Ae,He,Ye,ht,$t,gn,dn,ln=oe?0:[],ct=0,Pt=ee.length;ct<Pt;ct++){var Nt=ee[ct];if(Nt[0]=="M")Ce=He=Nt[1],Ee=Ye=Nt[2];else{Nt[0]=="C"?(gn=[Ce,Ee].concat(Nt.slice(1)),Ce=gn[6],Ee=gn[7]):(gn=[Ce,Ee,Ce,Ee,He,Ye,He,Ye],Ce=He,Ee=Ye);for(var Tt=0,Zt=de.length;Tt<Zt;Tt++){var zt=de[Tt];if(zt[0]=="M")be=ht=zt[1],Ae=$t=zt[2];else{zt[0]=="C"?(dn=[be,Ae].concat(zt.slice(1)),be=dn[6],Ae=dn[7]):(dn=[be,Ae,be,Ae,ht,$t,ht,$t],be=ht,Ae=$t);var _n=qt(gn,dn,oe);if(oe)ln+=_n;else{for(var hn=0,Mn=_n.length;hn<Mn;hn++)_n[hn].segment1=ct,_n[hn].segment2=Tt,_n[hn].bez1=gn,_n[hn].bez2=dn;ln=ln.concat(_n)}}}}}return ln}c.findDotsAtSegment=function(ee,de,oe,Ce,Ee,be,Ae,He,Ye){var ht=1-Ye,$t=Y(ht,3),gn=Y(ht,2),dn=Ye*Ye,ln=dn*Ye,ct=$t*ee+3*gn*Ye*oe+3*ht*Ye*Ye*Ee+ln*Ae,Pt=$t*de+3*gn*Ye*Ce+3*ht*Ye*Ye*be+ln*He,Nt=ee+2*Ye*(oe-ee)+dn*(Ee-2*oe+ee),Tt=de+2*Ye*(Ce-de)+dn*(be-2*Ce+de),Zt=oe+2*Ye*(Ee-oe)+dn*(Ae-2*Ee+oe),zt=Ce+2*Ye*(be-Ce)+dn*(He-2*be+Ce),_n=ht*ee+Ye*oe,hn=ht*de+Ye*Ce,Mn=ht*Ee+Ye*Ae,Rn=ht*be+Ye*He,ni=90-180*N.atan2(Nt-Zt,Tt-zt)/R;return(Nt>Zt||Tt<zt)&&(ni+=180),{x:ct,y:Pt,m:{x:Nt,y:Tt},n:{x:Zt,y:zt},start:{x:_n,y:hn},end:{x:Mn,y:Rn},alpha:ni}},c.bezierBBox=function(ee,de,oe,Ce,Ee,be,Ae,He){c.is(ee,"array")||(ee=[ee,de,oe,Ce,Ee,be,Ae,He]);var Ye=un.apply(null,ee);return{x:Ye.min.x,y:Ye.min.y,x2:Ye.max.x,y2:Ye.max.y,width:Ye.max.x-Ye.min.x,height:Ye.max.y-Ye.min.y}},c.isPointInsideBBox=function(ee,de,oe){return de>=ee.x&&de<=ee.x2&&oe>=ee.y&&oe<=ee.y2},c.isBBoxIntersect=function(ee,de){var oe=c.isPointInsideBBox;return oe(de,ee.x,ee.y)||oe(de,ee.x2,ee.y)||oe(de,ee.x,ee.y2)||oe(de,ee.x2,ee.y2)||oe(ee,de.x,de.y)||oe(ee,de.x2,de.y)||oe(ee,de.x,de.y2)||oe(ee,de.x2,de.y2)||(ee.x<de.x2&&ee.x>de.x||de.x<ee.x2&&de.x>ee.x)&&(ee.y<de.y2&&ee.y>de.y||de.y<ee.y2&&de.y>ee.y)},c.pathIntersection=function(ee,de){return Ft(ee,de)},c.pathIntersectionNumber=function(ee,de){return Ft(ee,de,1)},c.isPointInsidePath=function(ee,de,oe){var Ce=c.pathBBox(ee);return c.isPointInsideBBox(Ce,de,oe)&&Ft(ee,[["M",de,oe],["H",Ce.x2+10]],1)%2==1},c._removedFactory=function(ee){return function(){w("raphael.log",null,"Rapha\xEBl: you are calling to method \u201C"+ee+"\u201D of removed object",ee)}};var Xt=c.pathBBox=function(ee){var de=Et(ee);if(de.bbox)return Re(de.bbox);if(!ee)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var oe,Ce=0,Ee=0,be=[],Ae=[],He=0,Ye=(ee=In(ee)).length;He<Ye;He++)if((oe=ee[He])[0]=="M")Ce=oe[1],Ee=oe[2],be.push(Ce),Ae.push(Ee);else{var ht=un(Ce,Ee,oe[1],oe[2],oe[3],oe[4],oe[5],oe[6]);be=be[f](ht.min.x,ht.max.x),Ae=Ae[f](ht.min.y,ht.max.y),Ce=oe[5],Ee=oe[6]}var $t=W[i](0,be),gn=W[i](0,Ae),dn=B[i](0,be),ln=B[i](0,Ae),ct=dn-$t,Pt=ln-gn,Nt={x:$t,y:gn,x2:dn,y2:ln,width:ct,height:Pt,cx:$t+ct/2,cy:gn+Pt/2};return de.bbox=Re(Nt),Nt},_t=function(ee){var de=Re(ee);return de.toString=c._path2string,de},nt=c._pathToRelative=function(ee){var de=Et(ee);if(de.rel)return _t(de.rel);c.is(ee,z)&&c.is(ee&&ee[0],z)||(ee=c.parsePathString(ee));var oe=[],Ce=0,Ee=0,be=0,Ae=0,He=0;ee[0][0]=="M"&&(be=Ce=ee[0][1],Ae=Ee=ee[0][2],He++,oe.push(["M",Ce,Ee]));for(var Ye=He,ht=ee.length;Ye<ht;Ye++){var $t=oe[Ye]=[],gn=ee[Ye];if(gn[0]!=A.call(gn[0]))switch($t[0]=A.call(gn[0]),$t[0]){case"a":$t[1]=gn[1],$t[2]=gn[2],$t[3]=gn[3],$t[4]=gn[4],$t[5]=gn[5],$t[6]=+(gn[6]-Ce).toFixed(3),$t[7]=+(gn[7]-Ee).toFixed(3);break;case"v":$t[1]=+(gn[1]-Ee).toFixed(3);break;case"m":be=gn[1],Ae=gn[2];default:for(var dn=1,ln=gn.length;dn<ln;dn++)$t[dn]=+(gn[dn]-(dn%2?Ce:Ee)).toFixed(3)}else{$t=oe[Ye]=[],gn[0]=="m"&&(be=gn[1]+Ce,Ae=gn[2]+Ee);for(var ct=0,Pt=gn.length;ct<Pt;ct++)oe[Ye][ct]=gn[ct]}var Nt=oe[Ye].length;switch(oe[Ye][0]){case"z":Ce=be,Ee=Ae;break;case"h":Ce+=+oe[Ye][Nt-1];break;case"v":Ee+=+oe[Ye][Nt-1];break;default:Ce+=+oe[Ye][Nt-2],Ee+=+oe[Ye][Nt-1]}}return oe.toString=c._path2string,de.rel=_t(oe),oe},tt=c._pathToAbsolute=function(ee){var de=Et(ee);if(de.abs)return _t(de.abs);if(c.is(ee,z)&&c.is(ee&&ee[0],z)||(ee=c.parsePathString(ee)),!ee||!ee.length)return[["M",0,0]];var oe=[],Ce=0,Ee=0,be=0,Ae=0,He=0;ee[0][0]=="M"&&(be=Ce=+ee[0][1],Ae=Ee=+ee[0][2],He++,oe[0]=["M",Ce,Ee]);for(var Ye,ht,$t=ee.length==3&&ee[0][0]=="M"&&ee[1][0].toUpperCase()=="R"&&ee[2][0].toUpperCase()=="Z",gn=He,dn=ee.length;gn<dn;gn++){if(oe.push(Ye=[]),(ht=ee[gn])[0]!=K.call(ht[0]))switch(Ye[0]=K.call(ht[0]),Ye[0]){case"A":Ye[1]=ht[1],Ye[2]=ht[2],Ye[3]=ht[3],Ye[4]=ht[4],Ye[5]=ht[5],Ye[6]=+(ht[6]+Ce),Ye[7]=+(ht[7]+Ee);break;case"V":Ye[1]=+ht[1]+Ee;break;case"H":Ye[1]=+ht[1]+Ce;break;case"R":for(var ln=[Ce,Ee][f](ht.slice(1)),ct=2,Pt=ln.length;ct<Pt;ct++)ln[ct]=+ln[ct]+Ce,ln[++ct]=+ln[ct]+Ee;oe.pop(),oe=oe[f](it(ln,$t));break;case"M":be=+ht[1]+Ce,Ae=+ht[2]+Ee;default:for(ct=1,Pt=ht.length;ct<Pt;ct++)Ye[ct]=+ht[ct]+(ct%2?Ce:Ee)}else if(ht[0]=="R")ln=[Ce,Ee][f](ht.slice(1)),oe.pop(),oe=oe[f](it(ln,$t)),Ye=["R"][f](ht.slice(-2));else for(var Nt=0,Tt=ht.length;Nt<Tt;Nt++)Ye[Nt]=ht[Nt];switch(Ye[0]){case"Z":Ce=be,Ee=Ae;break;case"H":Ce=Ye[1];break;case"V":Ee=Ye[1];break;case"M":be=Ye[Ye.length-2],Ae=Ye[Ye.length-1];default:Ce=Ye[Ye.length-2],Ee=Ye[Ye.length-1]}}return oe.toString=c._path2string,de.abs=_t(oe),oe},xt=function(ee,de,oe,Ce){return[ee,de,oe,Ce,oe,Ce]},Lt=function(ee,de,oe,Ce,Ee,be){return[1/3*ee+2/3*oe,1/3*de+2/3*Ce,1/3*Ee+2/3*oe,1/3*be+2/3*Ce,Ee,be]},Be=function(ee,de,oe,Ce,Ee,be,Ae,He,Ye,ht){var $t,gn=120*R/180,dn=R/180*(+Ee||0),ln=[],ct=Oe(function(Ln,On,Qn){return{x:Ln*N.cos(Qn)-On*N.sin(Qn),y:Ln*N.sin(Qn)+On*N.cos(Qn)}});if(ht)Rn=ht[0],ni=ht[1],hn=ht[2],Mn=ht[3];else{ee=($t=ct(ee,de,-dn)).x,de=$t.y,He=($t=ct(He,Ye,-dn)).x,Ye=$t.y,N.cos(R/180*Ee),N.sin(R/180*Ee);var Pt=(ee-He)/2,Nt=(de-Ye)/2,Tt=Pt*Pt/(oe*oe)+Nt*Nt/(Ce*Ce);Tt>1&&(oe*=Tt=N.sqrt(Tt),Ce*=Tt);var Zt=oe*oe,zt=Ce*Ce,_n=(be==Ae?-1:1)*N.sqrt($((Zt*zt-Zt*Nt*Nt-zt*Pt*Pt)/(Zt*Nt*Nt+zt*Pt*Pt))),hn=_n*oe*Nt/Ce+(ee+He)/2,Mn=_n*-Ce*Pt/oe+(de+Ye)/2,Rn=N.asin(((de-Mn)/Ce).toFixed(9)),ni=N.asin(((Ye-Mn)/Ce).toFixed(9));(Rn=ee<hn?R-Rn:Rn)<0&&(Rn=2*R+Rn),(ni=He<hn?R-ni:ni)<0&&(ni=2*R+ni),Ae&&Rn>ni&&(Rn-=2*R),!Ae&&ni>Rn&&(ni-=2*R)}var gi=ni-Rn;if($(gi)>gn){var Ii=ni,Bi=He,Hi=Ye;ni=Rn+gn*(Ae&&ni>Rn?1:-1),He=hn+oe*N.cos(ni),Ye=Mn+Ce*N.sin(ni),ln=Be(He,Ye,oe,Ce,Ee,0,Ae,Bi,Hi,[ni,Ii,hn,Mn])}gi=ni-Rn;var fi=N.cos(Rn),Ci=N.sin(Rn),Li=N.cos(ni),ci=N.sin(ni),Zi=N.tan(gi/4),Ji=4/3*oe*Zi,vn=4/3*Ce*Zi,$e=[ee,de],ft=[ee+Ji*Ci,de-vn*fi],gt=[He+Ji*ci,Ye-vn*Li],cn=[He,Ye];if(ft[0]=2*$e[0]-ft[0],ft[1]=2*$e[1]-ft[1],ht)return[ft,gt,cn][f](ln);for(var rn=[],Sn=0,En=(ln=[ft,gt,cn][f](ln).join()[y](",")).length;Sn<En;Sn++)rn[Sn]=Sn%2?ct(ln[Sn-1],ln[Sn],dn).y:ct(ln[Sn],ln[Sn+1],dn).x;return rn},yt=function(ee,de,oe,Ce,Ee,be,Ae,He,Ye){var ht=1-Ye;return{x:Y(ht,3)*ee+3*Y(ht,2)*Ye*oe+3*ht*Ye*Ye*Ee+Y(Ye,3)*Ae,y:Y(ht,3)*de+3*Y(ht,2)*Ye*Ce+3*ht*Ye*Ye*be+Y(Ye,3)*He}},un=Oe(function(ee,de,oe,Ce,Ee,be,Ae,He){var Ye,ht=Ee-2*oe+ee-(Ae-2*Ee+oe),$t=2*(oe-ee)-2*(Ee-oe),gn=ee-oe,dn=(-$t+N.sqrt($t*$t-4*ht*gn))/2/ht,ln=(-$t-N.sqrt($t*$t-4*ht*gn))/2/ht,ct=[de,He],Pt=[ee,Ae];return $(dn)>"1e12"&&(dn=.5),$(ln)>"1e12"&&(ln=.5),dn>0&&dn<1&&(Ye=yt(ee,de,oe,Ce,Ee,be,Ae,He,dn),Pt.push(Ye.x),ct.push(Ye.y)),ln>0&&ln<1&&(Ye=yt(ee,de,oe,Ce,Ee,be,Ae,He,ln),Pt.push(Ye.x),ct.push(Ye.y)),ht=be-2*Ce+de-(He-2*be+Ce),gn=de-Ce,dn=(-($t=2*(Ce-de)-2*(be-Ce))+N.sqrt($t*$t-4*ht*gn))/2/ht,ln=(-$t-N.sqrt($t*$t-4*ht*gn))/2/ht,$(dn)>"1e12"&&(dn=.5),$(ln)>"1e12"&&(ln=.5),dn>0&&dn<1&&(Ye=yt(ee,de,oe,Ce,Ee,be,Ae,He,dn),Pt.push(Ye.x),ct.push(Ye.y)),ln>0&&ln<1&&(Ye=yt(ee,de,oe,Ce,Ee,be,Ae,He,ln),Pt.push(Ye.x),ct.push(Ye.y)),{min:{x:W[i](0,Pt),y:W[i](0,ct)},max:{x:B[i](0,Pt),y:B[i](0,ct)}}}),In=c._path2curve=Oe(function(ee,de){var oe=!de&&Et(ee);if(!de&&oe.curve)return _t(oe.curve);for(var Ce=tt(ee),Ee=de&&tt(de),be={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},He=function(_n,hn,Mn){var Rn,ni;if(!_n)return["C",hn.x,hn.y,hn.x,hn.y,hn.x,hn.y];switch(!(_n[0]in{T:1,Q:1})&&(hn.qx=hn.qy=null),_n[0]){case"M":hn.X=_n[1],hn.Y=_n[2];break;case"A":_n=["C"][f](Be[i](0,[hn.x,hn.y][f](_n.slice(1))));break;case"S":Mn=="C"||Mn=="S"?(Rn=2*hn.x-hn.bx,ni=2*hn.y-hn.by):(Rn=hn.x,ni=hn.y),_n=["C",Rn,ni][f](_n.slice(1));break;case"T":Mn=="Q"||Mn=="T"?(hn.qx=2*hn.x-hn.qx,hn.qy=2*hn.y-hn.qy):(hn.qx=hn.x,hn.qy=hn.y),_n=["C"][f](Lt(hn.x,hn.y,hn.qx,hn.qy,_n[1],_n[2]));break;case"Q":hn.qx=_n[1],hn.qy=_n[2],_n=["C"][f](Lt(hn.x,hn.y,_n[1],_n[2],_n[3],_n[4]));break;case"L":_n=["C"][f](xt(hn.x,hn.y,_n[1],_n[2]));break;case"H":_n=["C"][f](xt(hn.x,hn.y,_n[1],hn.y));break;case"V":_n=["C"][f](xt(hn.x,hn.y,hn.x,_n[1]));break;case"Z":_n=["C"][f](xt(hn.x,hn.y,hn.X,hn.Y))}return _n},Ye=function(_n,hn){if(_n[hn].length>7){_n[hn].shift();for(var Mn=_n[hn];Mn.length;)$t[hn]="A",Ee&&(gn[hn]="A"),_n.splice(hn++,0,["C"][f](Mn.splice(0,6)));_n.splice(hn,1),Pt=B(Ce.length,Ee&&Ee.length||0)}},ht=function(_n,hn,Mn,Rn,ni){_n&&hn&&_n[ni][0]=="M"&&hn[ni][0]!="M"&&(hn.splice(ni,0,["M",Rn.x,Rn.y]),Mn.bx=0,Mn.by=0,Mn.x=_n[ni][1],Mn.y=_n[ni][2],Pt=B(Ce.length,Ee&&Ee.length||0))},$t=[],gn=[],dn="",ln="",ct=0,Pt=B(Ce.length,Ee&&Ee.length||0);ct<Pt;ct++){Ce[ct]&&(dn=Ce[ct][0]),dn!="C"&&($t[ct]=dn,ct&&(ln=$t[ct-1])),Ce[ct]=He(Ce[ct],be,ln),$t[ct]!="A"&&dn=="C"&&($t[ct]="C"),Ye(Ce,ct),Ee&&(Ee[ct]&&(dn=Ee[ct][0]),dn!="C"&&(gn[ct]=dn,ct&&(ln=gn[ct-1])),Ee[ct]=He(Ee[ct],Ae,ln),gn[ct]!="A"&&dn=="C"&&(gn[ct]="C"),Ye(Ee,ct)),ht(Ce,Ee,be,Ae,ct),ht(Ee,Ce,Ae,be,ct);var Nt=Ce[ct],Tt=Ee&&Ee[ct],Zt=Nt.length,zt=Ee&&Tt.length;be.x=Nt[Zt-2],be.y=Nt[Zt-1],be.bx=j(Nt[Zt-4])||be.x,be.by=j(Nt[Zt-3])||be.y,Ae.bx=Ee&&(j(Tt[zt-4])||Ae.x),Ae.by=Ee&&(j(Tt[zt-3])||Ae.y),Ae.x=Ee&&Tt[zt-2],Ae.y=Ee&&Tt[zt-1]}return Ee||(oe.curve=_t(Ce)),Ee?[Ce,Ee]:Ce},null,_t),bn=(c._parseDots=Oe(function(ee){for(var de=[],oe=0,Ce=ee.length;oe<Ce;oe++){var Ee={},be=ee[oe].match(/^([^:]*):?([\d\.]*)/);if(Ee.color=c.getRGB(be[1]),Ee.color.error)return null;Ee.opacity=Ee.color.opacity,Ee.color=Ee.color.hex,be[2]&&(Ee.offset=be[2]+"%"),de.push(Ee)}for(oe=1,Ce=de.length-1;oe<Ce;oe++)if(!de[oe].offset){for(var Ae=j(de[oe-1].offset||0),He=0,Ye=oe+1;Ye<Ce;Ye++)if(de[Ye].offset){He=de[Ye].offset;break}He||(He=100,Ye=Ce);for(var ht=((He=j(He))-Ae)/(Ye-oe+1);oe<Ye;oe++)Ae+=ht,de[oe].offset=Ae+"%"}return de}),c._tear=function(ee,de){ee==de.top&&(de.top=ee.prev),ee==de.bottom&&(de.bottom=ee.next),ee.next&&(ee.next.prev=ee.prev),ee.prev&&(ee.prev.next=ee.next)}),Hn=(c._tofront=function(ee,de){de.top!==ee&&(bn(ee,de),ee.next=null,ee.prev=de.top,de.top.next=ee,de.top=ee)},c._toback=function(ee,de){de.bottom!==ee&&(bn(ee,de),ee.next=de.bottom,ee.prev=null,de.bottom.prev=ee,de.bottom=ee)},c._insertafter=function(ee,de,oe){bn(ee,oe),de==oe.top&&(oe.top=ee),de.next&&(de.next.prev=ee),ee.next=de.next,ee.prev=de,de.next=ee},c._insertbefore=function(ee,de,oe){bn(ee,oe),de==oe.bottom&&(oe.bottom=ee),de.prev&&(de.prev.next=ee),ee.prev=de.prev,de.prev=ee,ee.next=de},c.toMatrix=function(ee,de){var oe=Xt(ee),Ce={_:{transform:a},getBBox:function(){return oe}};return si(Ce,de),Ce.matrix}),si=(c.transformPath=function(ee,de){return Le(ee,Hn(ee,de))},c._extractTransform=function(ee,de){if(de==null)return ee._.transform;de=g(de).replace(/\.{3}|\u2026/g,ee._.transform||a);var oe,Ce,Ee=c.parseTransformString(de),be=0,Ae=1,He=1,Ye=ee._,ht=new _i;if(Ye.transform=Ee||[],Ee)for(var $t=0,gn=Ee.length;$t<gn;$t++){var dn,ln,ct,Pt,Nt,Tt=Ee[$t],Zt=Tt.length,zt=g(Tt[0]).toLowerCase(),_n=Tt[0]!=zt,hn=_n?ht.invert():0;zt=="t"&&Zt==3?_n?(dn=hn.x(0,0),ln=hn.y(0,0),ct=hn.x(Tt[1],Tt[2]),Pt=hn.y(Tt[1],Tt[2]),ht.translate(ct-dn,Pt-ln)):ht.translate(Tt[1],Tt[2]):zt=="r"?Zt==2?(Nt=Nt||ee.getBBox(1),ht.rotate(Tt[1],Nt.x+Nt.width/2,Nt.y+Nt.height/2),be+=Tt[1]):Zt==4&&(_n?(ct=hn.x(Tt[2],Tt[3]),Pt=hn.y(Tt[2],Tt[3]),ht.rotate(Tt[1],ct,Pt)):ht.rotate(Tt[1],Tt[2],Tt[3]),be+=Tt[1]):zt=="s"?Zt==2||Zt==3?(Nt=Nt||ee.getBBox(1),ht.scale(Tt[1],Tt[Zt-1],Nt.x+Nt.width/2,Nt.y+Nt.height/2),Ae*=Tt[1],He*=Tt[Zt-1]):Zt==5&&(_n?(ct=hn.x(Tt[3],Tt[4]),Pt=hn.y(Tt[3],Tt[4]),ht.scale(Tt[1],Tt[2],ct,Pt)):ht.scale(Tt[1],Tt[2],Tt[3],Tt[4]),Ae*=Tt[1],He*=Tt[2]):zt=="m"&&Zt==7&&ht.add(Tt[1],Tt[2],Tt[3],Tt[4],Tt[5],Tt[6]),Ye.dirtyT=1,ee.matrix=ht}ee.matrix=ht,Ye.sx=Ae,Ye.sy=He,Ye.deg=be,Ye.dx=oe=ht.e,Ye.dy=Ce=ht.f,Ae==1&&He==1&&!be&&Ye.bbox?(Ye.bbox.x+=+oe,Ye.bbox.y+=+Ce):Ye.dirtyT=1}),Yn=function(ee){var de=ee[0];switch(de.toLowerCase()){case"t":return[de,0,0];case"m":return[de,1,0,0,1,0,0];case"r":return ee.length==4?[de,0,ee[2],ee[3]]:[de,0];case"s":return ee.length==5?[de,1,1,ee[3],ee[4]]:ee.length==3?[de,1,1]:[de,1]}},mi=c._equaliseTransform=function(ee,de){de=g(de).replace(/\.{3}|\u2026/g,ee),ee=c.parseTransformString(ee)||[],de=c.parseTransformString(de)||[];for(var oe,Ce,Ee,be,Ae=B(ee.length,de.length),He=[],Ye=[],ht=0;ht<Ae;ht++){if(Ee=ee[ht]||Yn(de[ht]),be=de[ht]||Yn(Ee),Ee[0]!=be[0]||Ee[0].toLowerCase()=="r"&&(Ee[2]!=be[2]||Ee[3]!=be[3])||Ee[0].toLowerCase()=="s"&&(Ee[3]!=be[3]||Ee[4]!=be[4]))return;for(He[ht]=[],Ye[ht]=[],oe=0,Ce=B(Ee.length,be.length);oe<Ce;oe++)oe in Ee&&(He[ht][oe]=Ee[oe]),oe in be&&(Ye[ht][oe]=be[oe])}return{from:He,to:Ye}};function _i(ee,de,oe,Ce,Ee,be){ee!=null?(this.a=+ee,this.b=+de,this.c=+oe,this.d=+Ce,this.e=+Ee,this.f=+be):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}c._getContainer=function(ee,de,oe,Ce){var Ee;if((Ee=Ce!=null||c.is(ee,"object")?ee:u.doc.getElementById(ee))!=null)return Ee.tagName?de==null?{container:Ee,width:Ee.style.pixelWidth||Ee.offsetWidth,height:Ee.style.pixelHeight||Ee.offsetHeight}:{container:Ee,width:de,height:oe}:{container:1,x:ee,y:de,width:oe,height:Ce}},c.pathToRelative=nt,c._engine={},c.path2curve=In,c.matrix=function(ee,de,oe,Ce,Ee,be){return new _i(ee,de,oe,Ce,Ee,be)},function(ee){function de(Ce){return Ce[0]*Ce[0]+Ce[1]*Ce[1]}function oe(Ce){var Ee=N.sqrt(de(Ce));Ce[0]&&(Ce[0]/=Ee),Ce[1]&&(Ce[1]/=Ee)}ee.add=function(Ce,Ee,be,Ae,He,Ye){var ht,$t,gn,dn,ln=[[],[],[]],ct=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],Pt=[[Ce,be,He],[Ee,Ae,Ye],[0,0,1]];for(Ce&&Ce instanceof _i&&(Pt=[[Ce.a,Ce.c,Ce.e],[Ce.b,Ce.d,Ce.f],[0,0,1]]),ht=0;ht<3;ht++)for($t=0;$t<3;$t++){for(dn=0,gn=0;gn<3;gn++)dn+=ct[ht][gn]*Pt[gn][$t];ln[ht][$t]=dn}this.a=ln[0][0],this.b=ln[1][0],this.c=ln[0][1],this.d=ln[1][1],this.e=ln[0][2],this.f=ln[1][2]},ee.invert=function(){var Ce=this,Ee=Ce.a*Ce.d-Ce.b*Ce.c;return new _i(Ce.d/Ee,-Ce.b/Ee,-Ce.c/Ee,Ce.a/Ee,(Ce.c*Ce.f-Ce.d*Ce.e)/Ee,(Ce.b*Ce.e-Ce.a*Ce.f)/Ee)},ee.clone=function(){return new _i(this.a,this.b,this.c,this.d,this.e,this.f)},ee.translate=function(Ce,Ee){this.add(1,0,0,1,Ce,Ee)},ee.scale=function(Ce,Ee,be,Ae){Ee==null&&(Ee=Ce),(be||Ae)&&this.add(1,0,0,1,be,Ae),this.add(Ce,0,0,Ee,0,0),(be||Ae)&&this.add(1,0,0,1,-be,-Ae)},ee.rotate=function(Ce,Ee,be){Ce=c.rad(Ce),Ee=Ee||0,be=be||0;var Ae=+N.cos(Ce).toFixed(9),He=+N.sin(Ce).toFixed(9);this.add(Ae,He,-He,Ae,Ee,be),this.add(1,0,0,1,-Ee,-be)},ee.x=function(Ce,Ee){return Ce*this.a+Ee*this.c+this.e},ee.y=function(Ce,Ee){return Ce*this.b+Ee*this.d+this.f},ee.get=function(Ce){return+this[g.fromCharCode(97+Ce)].toFixed(4)},ee.toString=function(){return c.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},ee.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},ee.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},ee.split=function(){var Ce={};Ce.dx=this.e,Ce.dy=this.f;var Ee=[[this.a,this.c],[this.b,this.d]];Ce.scalex=N.sqrt(de(Ee[0])),oe(Ee[0]),Ce.shear=Ee[0][0]*Ee[1][0]+Ee[0][1]*Ee[1][1],Ee[1]=[Ee[1][0]-Ee[0][0]*Ce.shear,Ee[1][1]-Ee[0][1]*Ce.shear],Ce.scaley=N.sqrt(de(Ee[1])),oe(Ee[1]),Ce.shear/=Ce.scaley;var be=-Ee[0][1],Ae=Ee[1][1];return Ae<0?(Ce.rotate=c.deg(N.acos(Ae)),be<0&&(Ce.rotate=360-Ce.rotate)):Ce.rotate=c.deg(N.asin(be)),Ce.isSimple=!(+Ce.shear.toFixed(9)||Ce.scalex.toFixed(9)!=Ce.scaley.toFixed(9)&&Ce.rotate),Ce.isSuperSimple=!+Ce.shear.toFixed(9)&&Ce.scalex.toFixed(9)==Ce.scaley.toFixed(9)&&!Ce.rotate,Ce.noRotation=!+Ce.shear.toFixed(9)&&!Ce.rotate,Ce},ee.toTransformString=function(Ce){var Ee=Ce||this[y]();return Ee.isSimple?(Ee.scalex=+Ee.scalex.toFixed(4),Ee.scaley=+Ee.scaley.toFixed(4),Ee.rotate=+Ee.rotate.toFixed(4),(Ee.dx||Ee.dy?"t"+[Ee.dx,Ee.dy]:a)+(Ee.scalex!=1||Ee.scaley!=1?"s"+[Ee.scalex,Ee.scaley,0,0]:a)+(Ee.rotate?"r"+[Ee.rotate,0,0]:a)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(_i.prototype);for(var Wi=function(){this.returnValue=!1},Si=function(){return this.originalEvent.preventDefault()},Ki=function(){this.cancelBubble=!0},bi=function(){return this.originalEvent.stopPropagation()},Fi=function(ee){var de=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,oe=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;return{x:ee.clientX+oe,y:ee.clientY+de}},ts=u.doc.addEventListener?function(ee,de,oe,Ce){var Ee=function(Ae){var He=Fi(Ae);return oe.call(Ce,Ae,He.x,He.y)};if(ee.addEventListener(de,Ee,!1),v&&E[de]){var be=function(Ae){for(var He=Fi(Ae),Ye=Ae,ht=0,$t=Ae.targetTouches&&Ae.targetTouches.length;ht<$t;ht++)if(Ae.targetTouches[ht].target==ee){(Ae=Ae.targetTouches[ht]).originalEvent=Ye,Ae.preventDefault=Si,Ae.stopPropagation=bi;break}return oe.call(Ce,Ae,He.x,He.y)};ee.addEventListener(E[de],be,!1)}return function(){return ee.removeEventListener(de,Ee,!1),v&&E[de]&&ee.removeEventListener(E[de],be,!1),!0}}:u.doc.attachEvent?function(ee,de,oe,Ce){var Ee=function(be){be=be||u.win.event;var Ae=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,He=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,Ye=be.clientX+He,ht=be.clientY+Ae;return be.preventDefault=be.preventDefault||Wi,be.stopPropagation=be.stopPropagation||Ki,oe.call(Ce,be,Ye,ht)};return ee.attachEvent("on"+de,Ee),function(){return ee.detachEvent("on"+de,Ee),!0}}:void 0,wi=[],ns=function(ee){for(var de,oe=ee.clientX,Ce=ee.clientY,Ee=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,be=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,Ae=wi.length;Ae--;){if(de=wi[Ae],v&&ee.touches){for(var He,Ye=ee.touches.length;Ye--;)if((He=ee.touches[Ye]).identifier==de.el._drag.id){oe=He.clientX,Ce=He.clientY,(ee.originalEvent?ee.originalEvent:ee).preventDefault();break}}else ee.preventDefault();var ht,$t=de.el.node,gn=$t.nextSibling,dn=$t.parentNode,ln=$t.style.display;u.win.opera&&dn.removeChild($t),$t.style.display="none",ht=de.el.paper.getElementByPoint(oe,Ce),$t.style.display=ln,u.win.opera&&(gn?dn.insertBefore($t,gn):dn.appendChild($t)),ht&&w("raphael.drag.over."+de.el.id,de.el,ht),oe+=be,Ce+=Ee,w("raphael.drag.move."+de.el.id,de.move_scope||de.el,oe-de.el._drag.x,Ce-de.el._drag.y,oe,Ce,ee)}},wn=function(ee){c.unmousemove(ns).unmouseup(wn);for(var de,oe=wi.length;oe--;)(de=wi[oe]).el._drag={},w("raphael.drag.end."+de.el.id,de.end_scope||de.start_scope||de.move_scope||de.el,ee);wi=[]},qe=c.el={},Dt=C.length;Dt--;)(function(ee){c[ee]=qe[ee]=function(de,oe){return c.is(de,"function")&&(this.events=this.events||[],this.events.push({name:ee,f:de,unbind:ts(this.shape||this.node||u.doc,ee,de,oe||this)})),this},c["un"+ee]=qe["un"+ee]=function(de){for(var oe=this.events||[],Ce=oe.length;Ce--;)oe[Ce].name!=ee||!c.is(de,"undefined")&&oe[Ce].f!=de||(oe[Ce].unbind(),oe.splice(Ce,1),!oe.length&&delete this.events);return this}})(C[Dt]);qe.data=function(ee,de){var oe=Pe[this.id]=Pe[this.id]||{};if(arguments.length==0)return oe;if(arguments.length==1){if(c.is(ee,"object")){for(var Ce in ee)ee[o](Ce)&&this.data(Ce,ee[Ce]);return this}return w("raphael.data.get."+this.id,this,oe[ee],ee),oe[ee]}return oe[ee]=de,w("raphael.data.set."+this.id,this,de,ee),this},qe.removeData=function(ee){return ee==null?delete Pe[this.id]:Pe[this.id]&&delete Pe[this.id][ee],this},qe.getData=function(){return Re(Pe[this.id]||{})},qe.hover=function(ee,de,oe,Ce){return this.mouseover(ee,oe).mouseout(de,Ce||oe)},qe.unhover=function(ee,de){return this.unmouseover(ee).unmouseout(de)};var Qt=[];qe.drag=function(ee,de,oe,Ce,Ee,be){function Ae(He){(He.originalEvent||He).preventDefault();var Ye=He.clientX,ht=He.clientY,$t=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,gn=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;if(this._drag.id=He.identifier,v&&He.touches){for(var dn,ln=He.touches.length;ln--;)if(dn=He.touches[ln],this._drag.id=dn.identifier,dn.identifier==this._drag.id){Ye=dn.clientX,ht=dn.clientY;break}}this._drag.x=Ye+gn,this._drag.y=ht+$t,!wi.length&&c.mousemove(ns).mouseup(wn),wi.push({el:this,move_scope:Ce,start_scope:Ee,end_scope:be}),de&&w.on("raphael.drag.start."+this.id,de),ee&&w.on("raphael.drag.move."+this.id,ee),oe&&w.on("raphael.drag.end."+this.id,oe),w("raphael.drag.start."+this.id,Ee||Ce||this,this._drag.x,this._drag.y,He)}return this._drag={},Qt.push({el:this,start:Ae}),this.mousedown(Ae),this},qe.onDragOver=function(ee){ee?w.on("raphael.drag.over."+this.id,ee):w.unbind("raphael.drag.over."+this.id)},qe.undrag=function(){for(var ee=Qt.length;ee--;)Qt[ee].el==this&&(this.unmousedown(Qt[ee].start),Qt.splice(ee,1),w.unbind("raphael.drag.*."+this.id));!Qt.length&&c.unmousemove(ns).unmouseup(wn),wi=[]},I.circle=function(ee,de,oe){var Ce=c._engine.circle(this,ee||0,de||0,oe||0);return this.__set__&&this.__set__.push(Ce),Ce},I.rect=function(ee,de,oe,Ce,Ee){var be=c._engine.rect(this,ee||0,de||0,oe||0,Ce||0,Ee||0);return this.__set__&&this.__set__.push(be),be},I.ellipse=function(ee,de,oe,Ce){var Ee=c._engine.ellipse(this,ee||0,de||0,oe||0,Ce||0);return this.__set__&&this.__set__.push(Ee),Ee},I.path=function(ee){ee&&!c.is(ee,"string")&&!c.is(ee[0],z)&&(ee+=a);var de=c._engine.path(c.format[i](c,arguments),this);return this.__set__&&this.__set__.push(de),de},I.image=function(ee,de,oe,Ce,Ee){var be=c._engine.image(this,ee||"about:blank",de||0,oe||0,Ce||0,Ee||0);return this.__set__&&this.__set__.push(be),be},I.text=function(ee,de,oe){var Ce=c._engine.text(this,ee||0,de||0,g(oe));return this.__set__&&this.__set__.push(Ce),Ce},I.set=function(ee){!c.is(ee,"array")&&(ee=Array.prototype.splice.call(arguments,0,arguments.length));var de=new fn(ee);return this.__set__&&this.__set__.push(de),de.paper=this,de.type="set",de},I.setStart=function(ee){this.__set__=ee||this.set()},I.setFinish=function(ee){var de=this.__set__;return delete this.__set__,de},I.getSize=function(){var ee=this.canvas.parentNode;return{width:ee.offsetWidth,height:ee.offsetHeight}},I.setSize=function(ee,de){return c._engine.setSize.call(this,ee,de)},I.setViewBox=function(ee,de,oe,Ce,Ee){return c._engine.setViewBox.call(this,ee,de,oe,Ce,Ee)},I.top=I.bottom=null,I.raphael=c;function on(){return this.x+S+this.y+S+this.width+" \xD7 "+this.height}I.getElementByPoint=function(ee,de){var oe,Ce,Ee,be,Ae,He,Ye,ht=this.canvas,$t=u.doc.elementFromPoint(ee,de);if(u.win.opera&&$t.tagName=="svg"){var gn=(Ce=(oe=ht).getBoundingClientRect(),Ee=oe.ownerDocument,be=Ee.body,Ae=Ee.documentElement,He=Ae.clientTop||be.clientTop||0,Ye=Ae.clientLeft||be.clientLeft||0,{y:Ce.top+(u.win.pageYOffset||Ae.scrollTop||be.scrollTop)-He,x:Ce.left+(u.win.pageXOffset||Ae.scrollLeft||be.scrollLeft)-Ye}),dn=ht.createSVGRect();dn.x=ee-gn.x,dn.y=de-gn.y,dn.width=dn.height=1;var ln=ht.getIntersectionList(dn,null);ln.length&&($t=ln[ln.length-1])}if(!$t)return null;for(;$t.parentNode&&$t!=ht.parentNode&&!$t.raphael;)$t=$t.parentNode;return $t==this.canvas.parentNode&&($t=ht),$t=$t&&$t.raphael?this.getById($t.raphaelid):null},I.getElementsByBBox=function(ee){var de=this.set();return this.forEach(function(oe){c.isBBoxIntersect(oe.getBBox(),ee)&&de.push(oe)}),de},I.getById=function(ee){for(var de=this.bottom;de;){if(de.id==ee)return de;de=de.next}return null},I.forEach=function(ee,de){for(var oe=this.bottom;oe;){if(ee.call(de,oe)===!1)return this;oe=oe.next}return this},I.getElementsByPoint=function(ee,de){var oe=this.set();return this.forEach(function(Ce){Ce.isPointInside(ee,de)&&oe.push(Ce)}),oe},qe.isPointInside=function(ee,de){var oe=this.realPath=Ue[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(oe=c.transformPath(oe,this.attr("transform"))),c.isPointInsidePath(oe,ee,de)},qe.getBBox=function(ee){if(this.removed)return{};var de=this._;return ee?(!de.dirty&&de.bboxwt||(this.realPath=Ue[this.type](this),de.bboxwt=Xt(this.realPath),de.bboxwt.toString=on,de.dirty=0),de.bboxwt):((de.dirty||de.dirtyT||!de.bbox)&&(!de.dirty&&this.realPath||(de.bboxwt=0,this.realPath=Ue[this.type](this)),de.bbox=Xt(Le(this.realPath,this.matrix)),de.bbox.toString=on,de.dirty=de.dirtyT=0),de.bbox)},qe.clone=function(){if(this.removed)return null;var ee=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(ee),ee},qe.glow=function(ee){if(this.type=="text")return null;var de={width:((ee=ee||{}).width||10)+(+this.attr("stroke-width")||1),fill:ee.fill||!1,opacity:ee.opacity==null?.5:ee.opacity,offsetx:ee.offsetx||0,offsety:ee.offsety||0,color:ee.color||"#000"},oe=de.width/2,Ce=this.paper,Ee=Ce.set(),be=this.realPath||Ue[this.type](this);be=this.matrix?Le(be,this.matrix):be;for(var Ae=1;Ae<oe+1;Ae++)Ee.push(Ce.path(be).attr({stroke:de.color,fill:de.fill?de.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(de.width/oe*Ae).toFixed(3),opacity:+(de.opacity/oe).toFixed(3)}));return Ee.insertBefore(this).translate(de.offsetx,de.offsety)};var Cn=function(ee,de,oe,Ce,Ee,be,Ae,He,Ye){return Ye==null?pt(ee,de,oe,Ce,Ee,be,Ae,He):c.findDotsAtSegment(ee,de,oe,Ce,Ee,be,Ae,He,function(ht,$t,gn,dn,ln,ct,Pt,Nt,Tt){if(!(Tt<0||pt(ht,$t,gn,dn,ln,ct,Pt,Nt)<Tt)){var Zt,zt=.5,_n=1-zt;for(Zt=pt(ht,$t,gn,dn,ln,ct,Pt,Nt,_n);$(Zt-Tt)>.01;)Zt=pt(ht,$t,gn,dn,ln,ct,Pt,Nt,_n+=(Zt<Tt?1:-1)*(zt/=2));return _n}}(ee,de,oe,Ce,Ee,be,Ae,He,Ye))},Bn=function(ee,de){return function(oe,Ce,Ee){for(var be,Ae,He,Ye,ht,$t="",gn={},dn=0,ln=0,ct=(oe=In(oe)).length;ln<ct;ln++){if((He=oe[ln])[0]=="M")be=+He[1],Ae=+He[2];else{if(dn+(Ye=Cn(be,Ae,He[1],He[2],He[3],He[4],He[5],He[6]))>Ce){if(de&&!gn.start){if($t+=["C"+(ht=Cn(be,Ae,He[1],He[2],He[3],He[4],He[5],He[6],Ce-dn)).start.x,ht.start.y,ht.m.x,ht.m.y,ht.x,ht.y],Ee)return $t;gn.start=$t,$t=["M"+ht.x,ht.y+"C"+ht.n.x,ht.n.y,ht.end.x,ht.end.y,He[5],He[6]].join(),dn+=Ye,be=+He[5],Ae=+He[6];continue}if(!ee&&!de)return{x:(ht=Cn(be,Ae,He[1],He[2],He[3],He[4],He[5],He[6],Ce-dn)).x,y:ht.y,alpha:ht.alpha}}dn+=Ye,be=+He[5],Ae=+He[6]}$t+=He.shift()+He}return gn.end=$t,(ht=ee?dn:de?gn:c.findDotsAtSegment(be,Ae,He[0],He[1],He[2],He[3],He[4],He[5],1)).alpha&&(ht={x:ht.x,y:ht.y,alpha:ht.alpha}),ht}},jn=Bn(1),kt=Bn(),wt=Bn(0,1);c.getTotalLength=jn,c.getPointAtLength=kt,c.getSubpath=function(ee,de,oe){if(this.getTotalLength(ee)-oe<1e-6)return wt(ee,de).end;var Ce=wt(ee,oe,1);return de?wt(Ce,de).end:Ce},qe.getTotalLength=function(){var ee=this.getPath();if(ee)return this.node.getTotalLength?this.node.getTotalLength():jn(ee)},qe.getPointAtLength=function(ee){var de=this.getPath();if(de)return kt(de,ee)},qe.getPath=function(){var ee,de=c._getPath[this.type];if(this.type!="text"&&this.type!="set")return de&&(ee=de(this)),ee},qe.getSubpath=function(ee,de){var oe=this.getPath();if(oe)return c.getSubpath(oe,ee,de)};var sn=c.easing_formulas={linear:function(ee){return ee},"<":function(ee){return Y(ee,1.7)},">":function(ee){return Y(ee,.48)},"<>":function(ee){var de=.48-ee/1.04,oe=N.sqrt(.1734+de*de),Ce=oe-de,Ee=-oe-de,be=Y($(Ce),1/3)*(Ce<0?-1:1)+Y($(Ee),1/3)*(Ee<0?-1:1)+.5;return 3*(1-be)*be*be+be*be*be},backIn:function(ee){var de=1.70158;return ee*ee*((de+1)*ee-de)},backOut:function(ee){var de=1.70158;return(ee-=1)*ee*((de+1)*ee+de)+1},elastic:function(ee){return ee==!!ee?ee:Y(2,-10*ee)*N.sin(2*R*(ee-.075)/.3)+1},bounce:function(ee){var de=7.5625,oe=2.75;return ee<1/oe?de*ee*ee:ee<2/oe?de*(ee-=1.5/oe)*ee+.75:ee<2.5/oe?de*(ee-=2.25/oe)*ee+.9375:de*(ee-=2.625/oe)*ee+.984375}};sn.easeIn=sn["ease-in"]=sn["<"],sn.easeOut=sn["ease-out"]=sn[">"],sn.easeInOut=sn["ease-in-out"]=sn["<>"],sn["back-in"]=sn.backIn,sn["back-out"]=sn.backOut;var en=[],Un=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(ee){setTimeout(ee,16)},ri=function(){for(var ee=+new Date,de=0;de<en.length;de++){var oe=en[de];if(!oe.el.removed&&!oe.paused){var Ce,Ee,be=ee-oe.start,Ae=oe.ms,He=oe.easing,Ye=oe.from,ht=oe.diff,$t=oe.to,gn=(oe.t,oe.el),dn={},ln={};if(oe.initstatus?(be=(oe.initstatus*oe.anim.top-oe.prev)/(oe.percent-oe.prev)*Ae,oe.status=oe.initstatus,delete oe.initstatus,oe.stop&&en.splice(de--,1)):oe.status=(oe.prev+(oe.percent-oe.prev)*(be/Ae))/oe.anim.top,!(be<0))if(be<Ae){var ct=He(be/Ae);for(var Pt in Ye)if(Ye[o](Pt)){switch(J[Pt]){case L:Ce=+Ye[Pt]+ct*Ae*ht[Pt];break;case"colour":Ce="rgb("+[Jn(G(Ye[Pt].r+ct*Ae*ht[Pt].r)),Jn(G(Ye[Pt].g+ct*Ae*ht[Pt].g)),Jn(G(Ye[Pt].b+ct*Ae*ht[Pt].b))].join(",")+")";break;case"path":Ce=[];for(var Nt=0,Tt=Ye[Pt].length;Nt<Tt;Nt++){Ce[Nt]=[Ye[Pt][Nt][0]];for(var Zt=1,zt=Ye[Pt][Nt].length;Zt<zt;Zt++)Ce[Nt][Zt]=+Ye[Pt][Nt][Zt]+ct*Ae*ht[Pt][Nt][Zt];Ce[Nt]=Ce[Nt].join(S)}Ce=Ce.join(S);break;case"transform":if(ht[Pt].real)for(Ce=[],Nt=0,Tt=Ye[Pt].length;Nt<Tt;Nt++)for(Ce[Nt]=[Ye[Pt][Nt][0]],Zt=1,zt=Ye[Pt][Nt].length;Zt<zt;Zt++)Ce[Nt][Zt]=Ye[Pt][Nt][Zt]+ct*Ae*ht[Pt][Nt][Zt];else{var _n=function(Mn){return+Ye[Pt][Mn]+ct*Ae*ht[Pt][Mn]};Ce=[["m",_n(0),_n(1),_n(2),_n(3),_n(4),_n(5)]]}break;case"csv":if(Pt=="clip-rect")for(Ce=[],Nt=4;Nt--;)Ce[Nt]=+Ye[Pt][Nt]+ct*Ae*ht[Pt][Nt];break;default:var hn=[][f](Ye[Pt]);for(Ce=[],Nt=gn.paper.customAttributes[Pt].length;Nt--;)Ce[Nt]=+hn[Nt]+ct*Ae*ht[Pt][Nt]}dn[Pt]=Ce}gn.attr(dn),function(Mn,Rn,ni){setTimeout(function(){w("raphael.anim.frame."+Mn,Rn,ni)})}(gn.id,gn,oe.anim)}else{if(function(Mn,Rn,ni){setTimeout(function(){w("raphael.anim.frame."+Rn.id,Rn,ni),w("raphael.anim.finish."+Rn.id,Rn,ni),c.is(Mn,"function")&&Mn.call(Rn)})}(oe.callback,gn,oe.anim),gn.attr($t),en.splice(de--,1),oe.repeat>1&&!oe.next){for(Ee in $t)$t[o](Ee)&&(ln[Ee]=oe.totalOrigin[Ee]);oe.el.attr(ln),Ri(oe.anim,oe.el,oe.anim.percents[0],null,oe.totalOrigin,oe.repeat-1)}oe.next&&!oe.stop&&Ri(oe.anim,oe.el,oe.next,null,oe.totalOrigin,oe.repeat)}}}en.length&&Un(ri)},Jn=function(ee){return ee>255?255:ee<0?0:ee};function Di(ee,de,oe,Ce,Ee,be){var Ae=3*de,He=3*(Ce-de)-Ae,Ye=1-Ae-He,ht=3*oe,$t=3*(Ee-oe)-ht,gn=1-ht-$t;function dn(ln){return((Ye*ln+He)*ln+Ae)*ln}return function(ln,ct){var Pt=function(Nt,Tt){var Zt,zt,_n,hn,Mn,Rn;for(_n=Nt,Rn=0;Rn<8;Rn++){if(hn=dn(_n)-Nt,$(hn)<Tt)return _n;if($(Mn=(3*Ye*_n+2*He)*_n+Ae)<1e-6)break;_n-=hn/Mn}if(zt=1,(_n=Nt)<(Zt=0))return Zt;if(_n>zt)return zt;for(;Zt<zt;){if(hn=dn(_n),$(hn-Nt)<Tt)return _n;Nt>hn?Zt=_n:zt=_n,_n=(zt-Zt)/2+Zt}return _n}(ln,ct);return((gn*Pt+$t)*Pt+ht)*Pt}(ee,1/(200*be))}function Ai(ee,de){var oe=[],Ce={};if(this.ms=de,this.times=1,ee){for(var Ee in ee)ee[o](Ee)&&(Ce[j(Ee)]=ee[Ee],oe.push(j(Ee)));oe.sort(Ne)}this.anim=Ce,this.top=oe[oe.length-1],this.percents=oe}function Ri(ee,de,oe,Ce,Ee,be){oe=j(oe);var Ae,He,Ye,ht,$t,gn,dn=ee.ms,ln={},ct={},Pt={};if(Ce)for(Tt=0,Zt=en.length;Tt<Zt;Tt++){var Nt=en[Tt];if(Nt.el.id==de.id&&Nt.anim==ee){Nt.percent!=oe?(en.splice(Tt,1),Ye=1):He=Nt,de.attr(Nt.totalOrigin);break}}else Ce=+ct;for(var Tt=0,Zt=ee.percents.length;Tt<Zt;Tt++){if(ee.percents[Tt]==oe||ee.percents[Tt]>Ce*ee.top){oe=ee.percents[Tt],$t=ee.percents[Tt-1]||0,dn=dn/ee.top*(oe-$t),ht=ee.percents[Tt+1],Ae=ee.anim[oe];break}Ce&&de.attr(ee.anim[ee.percents[Tt]])}if(Ae){if(He)He.initstatus=Ce,He.start=new Date-He.ms*Ce;else{for(var zt in Ae)if(Ae[o](zt)&&(J[o](zt)||de.paper.customAttributes[o](zt)))switch(ln[zt]=de.attr(zt),ln[zt]==null&&(ln[zt]=m[zt]),ct[zt]=Ae[zt],J[zt]){case L:Pt[zt]=(ct[zt]-ln[zt])/dn;break;case"colour":ln[zt]=c.getRGB(ln[zt]);var _n=c.getRGB(ct[zt]);Pt[zt]={r:(_n.r-ln[zt].r)/dn,g:(_n.g-ln[zt].g)/dn,b:(_n.b-ln[zt].b)/dn};break;case"path":var hn=In(ln[zt],ct[zt]),Mn=hn[1];for(ln[zt]=hn[0],Pt[zt]=[],Tt=0,Zt=ln[zt].length;Tt<Zt;Tt++){Pt[zt][Tt]=[0];for(var Rn=1,ni=ln[zt][Tt].length;Rn<ni;Rn++)Pt[zt][Tt][Rn]=(Mn[Tt][Rn]-ln[zt][Tt][Rn])/dn}break;case"transform":var gi=de._,Ii=mi(gi[zt],ct[zt]);if(Ii)for(ln[zt]=Ii.from,ct[zt]=Ii.to,Pt[zt]=[],Pt[zt].real=!0,Tt=0,Zt=ln[zt].length;Tt<Zt;Tt++)for(Pt[zt][Tt]=[ln[zt][Tt][0]],Rn=1,ni=ln[zt][Tt].length;Rn<ni;Rn++)Pt[zt][Tt][Rn]=(ct[zt][Tt][Rn]-ln[zt][Tt][Rn])/dn;else{var Bi=de.matrix||new _i,Hi={_:{transform:gi.transform},getBBox:function(){return de.getBBox(1)}};ln[zt]=[Bi.a,Bi.b,Bi.c,Bi.d,Bi.e,Bi.f],si(Hi,ct[zt]),ct[zt]=Hi._.transform,Pt[zt]=[(Hi.matrix.a-Bi.a)/dn,(Hi.matrix.b-Bi.b)/dn,(Hi.matrix.c-Bi.c)/dn,(Hi.matrix.d-Bi.d)/dn,(Hi.matrix.e-Bi.e)/dn,(Hi.matrix.f-Bi.f)/dn]}break;case"csv":var fi=g(Ae[zt])[y](M),Ci=g(ln[zt])[y](M);if(zt=="clip-rect")for(ln[zt]=Ci,Pt[zt]=[],Tt=Ci.length;Tt--;)Pt[zt][Tt]=(fi[Tt]-ln[zt][Tt])/dn;ct[zt]=fi;break;default:for(fi=[][f](Ae[zt]),Ci=[][f](ln[zt]),Pt[zt]=[],Tt=de.paper.customAttributes[zt].length;Tt--;)Pt[zt][Tt]=((fi[Tt]||0)-(Ci[Tt]||0))/dn}var Li=Ae.easing,ci=c.easing_formulas[Li];if(!ci)if((ci=g(Li).match(V))&&ci.length==5){var Zi=ci;ci=function(Ji){return Di(Ji,+Zi[1],+Zi[2],+Zi[3],+Zi[4],dn)}}else ci=ae;if(Nt={anim:ee,percent:oe,timestamp:gn=Ae.start||ee.start||+new Date,start:gn+(ee.del||0),status:0,initstatus:Ce||0,stop:!1,ms:dn,easing:ci,from:ln,diff:Pt,to:ct,el:de,callback:Ae.callback,prev:$t,next:ht,repeat:be||ee.times,origin:de.attr(),totalOrigin:Ee},en.push(Nt),Ce&&!He&&!Ye&&(Nt.stop=!0,Nt.start=new Date-dn*Ce,en.length==1))return ri();Ye&&(Nt.start=new Date-Nt.ms*Ce),en.length==1&&Un(ri)}w("raphael.anim.start."+de.id,de,ee)}}function Tn(ee){for(var de=0;de<en.length;de++)en[de].el.paper==ee&&en.splice(de--,1)}qe.animateWith=function(ee,de,oe,Ce,Ee,be){if(this.removed)return be&&be.call(this),this;var Ae=oe instanceof Ai?oe:c.animation(oe,Ce,Ee,be);Ri(Ae,this,Ae.percents[0],null,this.attr());for(var He=0,Ye=en.length;He<Ye;He++)if(en[He].anim==de&&en[He].el==ee){en[Ye-1].start=en[He].start;break}return this},qe.onAnimation=function(ee){return ee?w.on("raphael.anim.frame."+this.id,ee):w.unbind("raphael.anim.frame."+this.id),this},Ai.prototype.delay=function(ee){var de=new Ai(this.anim,this.ms);return de.times=this.times,de.del=+ee||0,de},Ai.prototype.repeat=function(ee){var de=new Ai(this.anim,this.ms);return de.del=this.del,de.times=N.floor(B(ee,0))||1,de},c.animation=function(ee,de,oe,Ce){if(ee instanceof Ai)return ee;!c.is(oe,"function")&&oe||(Ce=Ce||oe||null,oe=null),ee=Object(ee),de=+de||0;var Ee,be,Ae={};for(be in ee)ee[o](be)&&j(be)!=be&&j(be)+"%"!=be&&(Ee=!0,Ae[be]=ee[be]);if(Ee)return oe&&(Ae.easing=oe),Ce&&(Ae.callback=Ce),new Ai({100:Ae},de);if(Ce){var He=0;for(var Ye in ee){var ht=F(Ye);ee[o](Ye)&&ht>He&&(He=ht)}!ee[He+="%"].callback&&(ee[He].callback=Ce)}return new Ai(ee,de)},qe.animate=function(ee,de,oe,Ce){if(this.removed)return Ce&&Ce.call(this),this;var Ee=ee instanceof Ai?ee:c.animation(ee,de,oe,Ce);return Ri(Ee,this,Ee.percents[0],null,this.attr()),this},qe.setTime=function(ee,de){return ee&&de!=null&&this.status(ee,W(de,ee.ms)/ee.ms),this},qe.status=function(ee,de){var oe,Ce,Ee=[],be=0;if(de!=null)return Ri(ee,this,-1,W(de,1)),this;for(oe=en.length;be<oe;be++)if((Ce=en[be]).el.id==this.id&&(!ee||Ce.anim==ee)){if(ee)return Ce.status;Ee.push({anim:Ce.anim,status:Ce.status})}return ee?0:Ee},qe.pause=function(ee){for(var de=0;de<en.length;de++)en[de].el.id!=this.id||ee&&en[de].anim!=ee||w("raphael.anim.pause."+this.id,this,en[de].anim)!==!1&&(en[de].paused=!0);return this},qe.resume=function(ee){for(var de=0;de<en.length;de++)if(en[de].el.id==this.id&&(!ee||en[de].anim==ee)){var oe=en[de];w("raphael.anim.resume."+this.id,this,oe.anim)!==!1&&(delete oe.paused,this.status(oe.anim,oe.status))}return this},qe.stop=function(ee){for(var de=0;de<en.length;de++)en[de].el.id!=this.id||ee&&en[de].anim!=ee||w("raphael.anim.stop."+this.id,this,en[de].anim)!==!1&&en.splice(de--,1);return this},w.on("raphael.remove",Tn),w.on("raphael.clear",Tn),qe.toString=function(){return"Rapha\xEBl\u2019s object"};var yn,Nn,Bt,Yt,fn=function(ee){if(this.items=[],this.length=0,this.type="set",ee)for(var de=0,oe=ee.length;de<oe;de++)!ee[de]||ee[de].constructor!=qe.constructor&&ee[de].constructor!=fn||(this[this.items.length]=this.items[this.items.length]=ee[de],this.length++)},Ht=fn.prototype;for(var et in Ht.push=function(){for(var ee,de,oe=0,Ce=arguments.length;oe<Ce;oe++)!(ee=arguments[oe])||ee.constructor!=qe.constructor&&ee.constructor!=fn||(this[de=this.items.length]=this.items[de]=ee,this.length++);return this},Ht.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Ht.forEach=function(ee,de){for(var oe=0,Ce=this.items.length;oe<Ce;oe++)if(ee.call(de,this.items[oe],oe)===!1)return this;return this},qe)qe[o](et)&&(Ht[et]=function(ee){return function(){var de=arguments;return this.forEach(function(oe){oe[ee][i](oe,de)})}}(et));return Ht.attr=function(ee,de){if(ee&&c.is(ee,z)&&c.is(ee[0],"object"))for(var oe=0,Ce=ee.length;oe<Ce;oe++)this.items[oe].attr(ee[oe]);else for(var Ee=0,be=this.items.length;Ee<be;Ee++)this.items[Ee].attr(ee,de);return this},Ht.clear=function(){for(;this.length;)this.pop()},Ht.splice=function(ee,de,oe){ee=ee<0?B(this.length+ee,0):ee,de=B(0,W(this.length-ee,de));var Ce,Ee=[],be=[],Ae=[];for(Ce=2;Ce<arguments.length;Ce++)Ae.push(arguments[Ce]);for(Ce=0;Ce<de;Ce++)be.push(this[ee+Ce]);for(;Ce<this.length-ee;Ce++)Ee.push(this[ee+Ce]);var He=Ae.length;for(Ce=0;Ce<He+Ee.length;Ce++)this.items[ee+Ce]=this[ee+Ce]=Ce<He?Ae[Ce]:Ee[Ce-He];for(Ce=this.items.length=this.length-=de-He;this[Ce];)delete this[Ce++];return new fn(be)},Ht.exclude=function(ee){for(var de=0,oe=this.length;de<oe;de++)if(this[de]==ee)return this.splice(de,1),!0},Ht.animate=function(ee,de,oe,Ce){(c.is(oe,"function")||!oe)&&(Ce=oe||null);var Ee,be,Ae=this.items.length,He=Ae,Ye=this;if(!Ae)return this;Ce&&(be=function(){!--Ae&&Ce.call(Ye)}),oe=c.is(oe,"string")?oe:be;var ht=c.animation(ee,de,oe,be);for(Ee=this.items[--He].animate(ht);He--;)this.items[He]&&!this.items[He].removed&&this.items[He].animateWith(Ee,ht,ht),this.items[He]&&!this.items[He].removed||Ae--;return this},Ht.insertAfter=function(ee){for(var de=this.items.length;de--;)this.items[de].insertAfter(ee);return this},Ht.getBBox=function(){for(var ee=[],de=[],oe=[],Ce=[],Ee=this.items.length;Ee--;)if(!this.items[Ee].removed){var be=this.items[Ee].getBBox();ee.push(be.x),de.push(be.y),oe.push(be.x+be.width),Ce.push(be.y+be.height)}return{x:ee=W[i](0,ee),y:de=W[i](0,de),x2:oe=B[i](0,oe),y2:Ce=B[i](0,Ce),width:oe-ee,height:Ce-de}},Ht.clone=function(ee){ee=this.paper.set();for(var de=0,oe=this.items.length;de<oe;de++)ee.push(this.items[de].clone());return ee},Ht.toString=function(){return"Rapha\xEBl\u2018s set"},Ht.glow=function(ee){var de=this.paper.set();return this.forEach(function(oe,Ce){var Ee=oe.glow(ee);Ee!=null&&Ee.forEach(function(be,Ae){de.push(be)})}),de},Ht.isPointInside=function(ee,de){var oe=!1;return this.forEach(function(Ce){if(Ce.isPointInside(ee,de))return oe=!0,!1}),oe},c.registerFont=function(ee){if(!ee.face)return ee;this.fonts=this.fonts||{};var de={w:ee.w,face:{},glyphs:{}},oe=ee.face["font-family"];for(var Ce in ee.face)ee.face[o](Ce)&&(de.face[Ce]=ee.face[Ce]);if(this.fonts[oe]?this.fonts[oe].push(de):this.fonts[oe]=[de],!ee.svg){for(var Ee in de.face["units-per-em"]=F(ee.face["units-per-em"],10),ee.glyphs)if(ee.glyphs[o](Ee)){var be=ee.glyphs[Ee];if(de.glyphs[Ee]={w:be.w,k:{},d:be.d&&"M"+be.d.replace(/[mlcxtrv]/g,function(He){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[He]||"M"})+"z"},be.k)for(var Ae in be.k)be[o](Ae)&&(de.glyphs[Ee].k[Ae]=be.k[Ae])}}return ee},I.getFont=function(ee,de,oe,Ce){if(Ce=Ce||"normal",oe=oe||"normal",de=+de||{normal:400,bold:700,lighter:300,bolder:800}[de]||400,c.fonts){var Ee,be=c.fonts[ee];if(!be){var Ae=new RegExp("(^|\\s)"+ee.replace(/[^\w\d\s+!~.:_-]/g,a)+"(\\s|$)","i");for(var He in c.fonts)if(c.fonts[o](He)&&Ae.test(He)){be=c.fonts[He];break}}if(be)for(var Ye=0,ht=be.length;Ye<ht&&((Ee=be[Ye]).face["font-weight"]!=de||Ee.face["font-style"]!=oe&&Ee.face["font-style"]||Ee.face["font-stretch"]!=Ce);Ye++);return Ee}},I.print=function(ee,de,oe,Ce,Ee,be,Ae,He){be=be||"middle",Ae=B(W(Ae||0,1),-1),He=B(W(He||1,3),1);var Ye,ht=g(oe)[y](a),$t=0,gn=0,dn=a;if(c.is(Ce,"string")&&(Ce=this.getFont(Ce)),Ce){Ye=(Ee||16)/Ce.face["units-per-em"];for(var ln=Ce.face.bbox[y](M),ct=+ln[0],Pt=ln[3]-ln[1],Nt=0,Tt=+ln[1]+(be=="baseline"?Pt+ +Ce.face.descent:Pt/2),Zt=0,zt=ht.length;Zt<zt;Zt++){if(ht[Zt]==`
`)$t=0,hn=0,gn=0,Nt+=Pt*He;else{var _n=gn&&Ce.glyphs[ht[Zt-1]]||{},hn=Ce.glyphs[ht[Zt]];$t+=gn?(_n.w||Ce.w)+(_n.k&&_n.k[ht[Zt]]||0)+Ce.w*Ae:0,gn=1}hn&&hn.d&&(dn+=c.transformPath(hn.d,["t",$t*Ye,Nt*Ye,"s",Ye,Ye,ct,Tt,"t",(ee-ct)/Ye,(de-Tt)/Ye]))}}return this.path(dn).attr({fill:"#000",stroke:"none"})},I.add=function(ee){if(c.is(ee,"array"))for(var de,oe=this.set(),Ce=0,Ee=ee.length;Ce<Ee;Ce++)de=ee[Ce]||{},D[o](de.type)&&oe.push(this[de.type]().attr(de));return oe},c.format=function(ee,de){var oe=c.is(de,z)?[0][f](de):arguments;return ee&&c.is(ee,"string")&&oe.length-1&&(ee=ee.replace(p,function(Ce,Ee){return oe[++Ee]==null?a:oe[Ee]})),ee||a},c.fullfill=(yn=/\{([^\}]+)\}/g,Nn=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(ee,de){return String(ee).replace(yn,function(oe,Ce){return function(Ee,be,Ae){var He=Ae;return be.replace(Nn,function(Ye,ht,$t,gn,dn){ht=ht||gn,He&&(ht in He&&(He=He[ht]),typeof He=="function"&&dn&&(He=He()))}),He=(He==null||He==Ae?Ee:He)+""}(oe,Ce,de)})}),c.ninja=function(){if(d.was)u.win.Raphael=d.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(ee){}}return c},c.st=Ht,w.on("raphael.DOMload",function(){_=!0}),(Bt=document).readyState==null&&Bt.addEventListener&&(Bt.addEventListener("DOMContentLoaded",Yt=function(){Bt.removeEventListener("DOMContentLoaded",Yt,!1),Bt.readyState="complete"},!1),Bt.readyState="loading"),function ee(){/in/.test(Bt.readyState)?setTimeout(ee,9):c.eve("raphael.DOMload")}(),c}.apply(e,U))===void 0||(Ke.exports=r)},function(Ke,e,b){var U,r;U=[b(0),b(3),b(4)],(r=function(w){return w}.apply(e,U))===void 0||(Ke.exports=r)},function(Ke,e,b){var U,r,w,c,_,I,M,D,p,o,u,d,n,i;c="hasOwnProperty",_=/[\.\/]/,I=/\s*,\s*/,M=function(f,v){return f-v},D={n:{}},p=function(){for(var f=0,v=this.length;f<v;f++)if(this[f]!==void 0)return this[f]},o=function(){for(var f=this.length;--f;)if(this[f]!==void 0)return this[f]},u=Object.prototype.toString,d=String,n=Array.isArray||function(f){return f instanceof Array||u.call(f)=="[object Array]"},(i=function(f,v){var a,S=w,g=Array.prototype.slice.call(arguments,2),y=i.listeners(f),C=0,E=[],A={},N=[],B=r;N.firstDefined=p,N.lastDefined=o,r=f,w=0;for(var W=0,$=y.length;W<$;W++)"zIndex"in y[W]&&(E.push(y[W].zIndex),y[W].zIndex<0&&(A[y[W].zIndex]=y[W]));for(E.sort(M);E[C]<0;)if(a=A[E[C++]],N.push(a.apply(v,g)),w)return w=S,N;for(W=0;W<$;W++)if("zIndex"in(a=y[W]))if(a.zIndex==E[C]){if(N.push(a.apply(v,g)),w)break;do if((a=A[E[++C]])&&N.push(a.apply(v,g)),w)break;while(a)}else A[a.zIndex]=a;else if(N.push(a.apply(v,g)),w)break;return w=S,r=B,N})._events=D,i.listeners=function(f){var v,a,S,g,y,C,E,A,N=n(f)?f:f.split(_),B=D,W=[B],$=[];for(g=0,y=N.length;g<y;g++){for(A=[],C=0,E=W.length;C<E;C++)for(a=[(B=W[C].n)[N[g]],B["*"]],S=2;S--;)(v=a[S])&&(A.push(v),$=$.concat(v.f||[]));W=A}return $},i.separator=function(f){f?(f="["+(f=d(f).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",_=new RegExp(f)):_=/[\.\/]/},i.on=function(f,v){if(typeof v!="function")return function(){};for(var a=n(f)?n(f[0])?f:[f]:d(f).split(I),S=0,g=a.length;S<g;S++)(function(y){for(var C,E=n(y)?y:d(y).split(_),A=D,N=0,B=E.length;N<B;N++)A=(A=A.n).hasOwnProperty(E[N])&&A[E[N]]||(A[E[N]]={n:{}});for(A.f=A.f||[],N=0,B=A.f.length;N<B;N++)if(A.f[N]==v){C=!0;break}!C&&A.f.push(v)})(a[S]);return function(y){+y==+y&&(v.zIndex=+y)}},i.f=function(f){var v=[].slice.call(arguments,1);return function(){i.apply(null,[f,null].concat(v).concat([].slice.call(arguments,0)))}},i.stop=function(){w=1},i.nt=function(f){var v=n(r)?r.join("."):r;return f?new RegExp("(?:\\.|\\/|^)"+f+"(?:\\.|\\/|$)").test(v):v},i.nts=function(){return n(r)?r:r.split(_)},i.off=i.unbind=function(f,v){if(f){var a=n(f)?n(f[0])?f:[f]:d(f).split(I);if(a.length>1)for(var S=0,g=a.length;S<g;S++)i.off(a[S],v);else{a=n(f)?f:d(f).split(_);var y,C,E,A,N,B=[D];for(S=0,g=a.length;S<g;S++)for(A=0;A<B.length;A+=E.length-2){if(E=[A,1],y=B[A].n,a[S]!="*")y[a[S]]&&E.push(y[a[S]]);else for(C in y)y[c](C)&&E.push(y[C]);B.splice.apply(B,E)}for(S=0,g=B.length;S<g;S++)for(y=B[S];y.n;){if(v){if(y.f){for(A=0,N=y.f.length;A<N;A++)if(y.f[A]==v){y.f.splice(A,1);break}!y.f.length&&delete y.f}for(C in y.n)if(y.n[c](C)&&y.n[C].f){var W=y.n[C].f;for(A=0,N=W.length;A<N;A++)if(W[A]==v){W.splice(A,1);break}!W.length&&delete y.n[C].f}}else for(C in delete y.f,y.n)y.n[c](C)&&y.n[C].f&&delete y.n[C].f;y=y.n}}}else i._events=D={n:{}}},i.once=function(f,v){var a=function(){return i.off(f,a),v.apply(this,arguments)};return i.on(f,a)},i.version="0.5.0",i.toString=function(){return"You are running Eve 0.5.0"},Ke.exports?Ke.exports=i:(U=function(){return i}.apply(e,[]))===void 0||(Ke.exports=U)},function(Ke,e,b){var U,r;U=[b(0)],(r=function(w){if(!w||w.svg){var c="hasOwnProperty",_=String,I=parseFloat,M=parseInt,D=Math,p=D.max,o=D.abs,u=D.pow,d=/[, ]+/,n=w.eve,i="",f=" ",v="http://www.w3.org/1999/xlink",a={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},S={};w.toString=function(){return`Your browser supports SVG.
You are running Rapha\xEBl `+this.version};var g=function(P,H){if(H)for(var V in typeof P=="string"&&(P=g(P)),H)H[c](V)&&(V.substring(0,6)=="xlink:"?P.setAttributeNS(v,V.substring(6),_(H[V])):P.setAttribute(V,_(H[V])));else(P=w._g.doc.createElementNS("http://www.w3.org/2000/svg",P)).style&&(P.style.webkitTapHighlightColor="rgba(0,0,0,0)");return P},y=function(P,H){var V="linear",G=P.id+H,j=.5,F=.5,K=P.node,m=P.paper,J=K.style,X=w._g.doc.getElementById(G);if(!X){if(H=(H=_(H).replace(w._radial_gradient,function(Ne,ae,Me){if(V="radial",ae&&Me){j=I(ae);var ke=2*((F=I(Me))>.5)-1;u(j-.5,2)+u(F-.5,2)>.25&&(F=D.sqrt(.25-u(j-.5,2))*ke+.5)&&F!=.5&&(F=F.toFixed(5)-1e-5*ke)}return i})).split(/\s*\-\s*/),V=="linear"){var te=H.shift();if(te=-I(te),isNaN(te))return null;var le=[0,0,D.cos(w.rad(te)),D.sin(w.rad(te))],ge=1/(p(o(le[2]),o(le[3]))||1);le[2]*=ge,le[3]*=ge,le[2]<0&&(le[0]=-le[2],le[2]=0),le[3]<0&&(le[1]=-le[3],le[3]=0)}var we=w._parseDots(H);if(!we)return null;if(G=G.replace(/[\(\)\s,\xb0#]/g,"_"),P.gradient&&G!=P.gradient.id&&(m.defs.removeChild(P.gradient),delete P.gradient),!P.gradient){X=g(V+"Gradient",{id:G}),P.gradient=X,g(X,V=="radial"?{fx:j,fy:F}:{x1:le[0],y1:le[1],x2:le[2],y2:le[3],gradientTransform:P.matrix.invert()}),m.defs.appendChild(X);for(var pe=0,Pe=we.length;pe<Pe;pe++)X.appendChild(g("stop",{offset:we[pe].offset?we[pe].offset:pe?"100%":"0%","stop-color":we[pe].color||"#fff","stop-opacity":isFinite(we[pe].opacity)?we[pe].opacity:1}))}}return g(K,{fill:C(G),opacity:1,"fill-opacity":1}),J.fill=i,J.opacity=1,J.fillOpacity=1,1},C=function(P){if((H=document.documentMode)&&(H===9||H===10))return"url('#"+P+"')";var H,V=document.location;return"url('"+(V.protocol+"//"+V.host+V.pathname+V.search)+"#"+P+"')"},E=function(P){var H=P.getBBox(1);g(P.pattern,{patternTransform:P.matrix.invert()+" translate("+H.x+","+H.y+")"})},A=function(P,H,V){if(P.type=="path"){for(var G,j,F,K,m,J=_(H).toLowerCase().split("-"),X=P.paper,te=V?"end":"start",le=P.node,ge=P.attrs,we=ge["stroke-width"],pe=J.length,Pe="classic",Ne=3,ae=3,Me=5;pe--;)switch(J[pe]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":Pe=J[pe];break;case"wide":ae=5;break;case"narrow":ae=2;break;case"long":Ne=5;break;case"short":Ne=2}if(Pe=="open"?(Ne+=2,ae+=2,Me+=2,F=1,K=V?4:1,m={fill:"none",stroke:ge.stroke}):(K=F=Ne/2,m={fill:ge.stroke,stroke:"none"}),P._.arrows?V?(P._.arrows.endPath&&S[P._.arrows.endPath]--,P._.arrows.endMarker&&S[P._.arrows.endMarker]--):(P._.arrows.startPath&&S[P._.arrows.startPath]--,P._.arrows.startMarker&&S[P._.arrows.startMarker]--):P._.arrows={},Pe!="none"){var ke="raphael-marker-"+Pe,Ue="raphael-marker-"+te+Pe+Ne+ae+"-obj"+P.id;w._g.doc.getElementById(ke)?S[ke]++:(X.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:a[Pe],id:ke})),S[ke]=1);var Le,ie=w._g.doc.getElementById(Ue);ie?(S[Ue]++,Le=ie.getElementsByTagName("use")[0]):(ie=g(g("marker"),{id:Ue,markerHeight:ae,markerWidth:Ne,orient:"auto",refX:K,refY:ae/2}),Le=g(g("use"),{"xlink:href":"#"+ke,transform:(V?"rotate(180 "+Ne/2+" "+ae/2+") ":i)+"scale("+Ne/Me+","+ae/Me+")","stroke-width":(1/((Ne/Me+ae/Me)/2)).toFixed(4)}),ie.appendChild(Le),X.defs.appendChild(ie),S[Ue]=1),g(Le,m);var ce=F*(Pe!="diamond"&&Pe!="oval");V?(G=P._.arrows.startdx*we||0,j=w.getTotalLength(ge.path)-ce*we):(G=ce*we,j=w.getTotalLength(ge.path)-(P._.arrows.enddx*we||0)),(m={})["marker-"+te]="url(#"+Ue+")",(j||G)&&(m.d=w.getSubpath(ge.path,G,j)),g(le,m),P._.arrows[te+"Path"]=ke,P._.arrows[te+"Marker"]=Ue,P._.arrows[te+"dx"]=ce,P._.arrows[te+"Type"]=Pe,P._.arrows[te+"String"]=H}else V?(G=P._.arrows.startdx*we||0,j=w.getTotalLength(ge.path)-G):(G=0,j=w.getTotalLength(ge.path)-(P._.arrows.enddx*we||0)),P._.arrows[te+"Path"]&&g(le,{d:w.getSubpath(ge.path,G,j)}),delete P._.arrows[te+"Path"],delete P._.arrows[te+"Marker"],delete P._.arrows[te+"dx"],delete P._.arrows[te+"Type"],delete P._.arrows[te+"String"];for(m in S)if(S[c](m)&&!S[m]){var Re=w._g.doc.getElementById(m);Re&&Re.parentNode.removeChild(Re)}}},N={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},B=function(P,H,V){if(H=N[_(H).toLowerCase()]){for(var G=P.attrs["stroke-width"]||"1",j={round:G,square:G,butt:0}[P.attrs["stroke-linecap"]||V["stroke-linecap"]]||0,F=[],K=H.length;K--;)F[K]=H[K]*G+(K%2?1:-1)*j;g(P.node,{"stroke-dasharray":F.join(",")})}else g(P.node,{"stroke-dasharray":"none"})},W=function(P,H){var V=P.node,G=P.attrs,j=V.style.visibility;for(var F in V.style.visibility="hidden",H)if(H[c](F)){if(!w._availableAttrs[c](F))continue;var K=H[F];switch(G[F]=K,F){case"blur":P.blur(K);break;case"title":var m=V.getElementsByTagName("title");if(m.length&&(m=m[0]))m.firstChild.nodeValue=K;else{m=g("title");var J=w._g.doc.createTextNode(K);m.appendChild(J),V.appendChild(m)}break;case"href":case"target":var X=V.parentNode;if(X.tagName.toLowerCase()!="a"){var te=g("a");X.insertBefore(te,V),te.appendChild(V),X=te}F=="target"?X.setAttributeNS(v,"show",K=="blank"?"new":K):X.setAttributeNS(v,F,K);break;case"cursor":V.style.cursor=K;break;case"transform":P.transform(K);break;case"arrow-start":A(P,K);break;case"arrow-end":A(P,K,1);break;case"clip-rect":var le=_(K).split(d);if(le.length==4){P.clip&&P.clip.parentNode.parentNode.removeChild(P.clip.parentNode);var ge=g("clipPath"),we=g("rect");ge.id=w.createUUID(),g(we,{x:le[0],y:le[1],width:le[2],height:le[3]}),ge.appendChild(we),P.paper.defs.appendChild(ge),g(V,{"clip-path":"url(#"+ge.id+")"}),P.clip=we}if(!K){var pe=V.getAttribute("clip-path");if(pe){var Pe=w._g.doc.getElementById(pe.replace(/(^url\(#|\)$)/g,i));Pe&&Pe.parentNode.removeChild(Pe),g(V,{"clip-path":i}),delete P.clip}}break;case"path":P.type=="path"&&(g(V,{d:K?G.path=w._pathToAbsolute(K):"M0,0"}),P._.dirty=1,P._.arrows&&("startString"in P._.arrows&&A(P,P._.arrows.startString),"endString"in P._.arrows&&A(P,P._.arrows.endString,1)));break;case"width":if(V.setAttribute(F,K),P._.dirty=1,!G.fx)break;F="x",K=G.x;case"x":G.fx&&(K=-G.x-(G.width||0));case"rx":if(F=="rx"&&P.type=="rect")break;case"cx":V.setAttribute(F,K),P.pattern&&E(P),P._.dirty=1;break;case"height":if(V.setAttribute(F,K),P._.dirty=1,!G.fy)break;F="y",K=G.y;case"y":G.fy&&(K=-G.y-(G.height||0));case"ry":if(F=="ry"&&P.type=="rect")break;case"cy":V.setAttribute(F,K),P.pattern&&E(P),P._.dirty=1;break;case"r":P.type=="rect"?g(V,{rx:K,ry:K}):V.setAttribute(F,K),P._.dirty=1;break;case"src":P.type=="image"&&V.setAttributeNS(v,"href",K);break;case"stroke-width":P._.sx==1&&P._.sy==1||(K/=p(o(P._.sx),o(P._.sy))||1),V.setAttribute(F,K),G["stroke-dasharray"]&&B(P,G["stroke-dasharray"],H),P._.arrows&&("startString"in P._.arrows&&A(P,P._.arrows.startString),"endString"in P._.arrows&&A(P,P._.arrows.endString,1));break;case"stroke-dasharray":B(P,K,H);break;case"fill":var Ne=_(K).match(w._ISURL);if(Ne){ge=g("pattern");var ae=g("image");ge.id=w.createUUID(),g(ge,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(ae,{x:0,y:0,"xlink:href":Ne[1]}),ge.appendChild(ae),function(ie){w._preload(Ne[1],function(){var ce=this.offsetWidth,Re=this.offsetHeight;g(ie,{width:ce,height:Re}),g(ae,{width:ce,height:Re})})}(ge),P.paper.defs.appendChild(ge),g(V,{fill:"url(#"+ge.id+")"}),P.pattern=ge,P.pattern&&E(P);break}var Me=w.getRGB(K);if(Me.error){if((P.type=="circle"||P.type=="ellipse"||_(K).charAt()!="r")&&y(P,K)){if("opacity"in G||"fill-opacity"in G){var ke=w._g.doc.getElementById(V.getAttribute("fill").replace(/^url\(#|\)$/g,i));if(ke){var Ue=ke.getElementsByTagName("stop");g(Ue[Ue.length-1],{"stop-opacity":("opacity"in G?G.opacity:1)*("fill-opacity"in G?G["fill-opacity"]:1)})}}G.gradient=K,G.fill="none";break}}else delete H.gradient,delete G.gradient,!w.is(G.opacity,"undefined")&&w.is(H.opacity,"undefined")&&g(V,{opacity:G.opacity}),!w.is(G["fill-opacity"],"undefined")&&w.is(H["fill-opacity"],"undefined")&&g(V,{"fill-opacity":G["fill-opacity"]});Me[c]("opacity")&&g(V,{"fill-opacity":Me.opacity>1?Me.opacity/100:Me.opacity});case"stroke":Me=w.getRGB(K),V.setAttribute(F,Me.hex),F=="stroke"&&Me[c]("opacity")&&g(V,{"stroke-opacity":Me.opacity>1?Me.opacity/100:Me.opacity}),F=="stroke"&&P._.arrows&&("startString"in P._.arrows&&A(P,P._.arrows.startString),"endString"in P._.arrows&&A(P,P._.arrows.endString,1));break;case"gradient":(P.type=="circle"||P.type=="ellipse"||_(K).charAt()!="r")&&y(P,K);break;case"opacity":G.gradient&&!G[c]("stroke-opacity")&&g(V,{"stroke-opacity":K>1?K/100:K});case"fill-opacity":if(G.gradient){(ke=w._g.doc.getElementById(V.getAttribute("fill").replace(/^url\(#|\)$/g,i)))&&(Ue=ke.getElementsByTagName("stop"),g(Ue[Ue.length-1],{"stop-opacity":K}));break}default:F=="font-size"&&(K=M(K,10)+"px");var Le=F.replace(/(\-.)/g,function(ie){return ie.substring(1).toUpperCase()});V.style[Le]=K,P._.dirty=1,V.setAttribute(F,K)}}$(P,H),V.style.visibility=j},$=function(P,H){if(P.type=="text"&&(H[c]("text")||H[c]("font")||H[c]("font-size")||H[c]("x")||H[c]("y"))){var V=P.attrs,G=P.node,j=G.firstChild?M(w._g.doc.defaultView.getComputedStyle(G.firstChild,i).getPropertyValue("font-size"),10):10;if(H[c]("text")){for(V.text=H.text;G.firstChild;)G.removeChild(G.firstChild);for(var F,K=_(H.text).split(`
`),m=[],J=0,X=K.length;J<X;J++)F=g("tspan"),J&&g(F,{dy:1.2*j,x:V.x}),F.appendChild(w._g.doc.createTextNode(K[J])),G.appendChild(F),m[J]=F}else for(J=0,X=(m=G.getElementsByTagName("tspan")).length;J<X;J++)J?g(m[J],{dy:1.2*j,x:V.x}):g(m[0],{dy:0});g(G,{x:V.x,y:V.y}),P._.dirty=1;var te=P._getBBox(),le=V.y-(te.y+te.height/2);le&&w.is(le,"finite")&&g(m[0],{dy:le})}},Y=function(P){return P.parentNode&&P.parentNode.tagName.toLowerCase()==="a"?P.parentNode:P},R=function(P,H){this[0]=this.node=P,P.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),P.raphaelid=this.id,this.matrix=w.matrix(),this.realPath=null,this.paper=H,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!H.bottom&&(H.bottom=this),this.prev=H.top,H.top&&(H.top.next=this),H.top=this,this.next=null},L=w.el;R.prototype=L,L.constructor=R,w._engine.path=function(P,H){var V=g("path");H.canvas&&H.canvas.appendChild(V);var G=new R(V,H);return G.type="path",W(G,{fill:"none",stroke:"#000",path:P}),G},L.rotate=function(P,H,V){if(this.removed)return this;if((P=_(P).split(d)).length-1&&(H=I(P[1]),V=I(P[2])),P=I(P[0]),V==null&&(H=V),H==null||V==null){var G=this.getBBox(1);H=G.x+G.width/2,V=G.y+G.height/2}return this.transform(this._.transform.concat([["r",P,H,V]])),this},L.scale=function(P,H,V,G){if(this.removed)return this;if((P=_(P).split(d)).length-1&&(H=I(P[1]),V=I(P[2]),G=I(P[3])),P=I(P[0]),H==null&&(H=P),G==null&&(V=G),V==null||G==null)var j=this.getBBox(1);return V=V==null?j.x+j.width/2:V,G=G==null?j.y+j.height/2:G,this.transform(this._.transform.concat([["s",P,H,V,G]])),this},L.translate=function(P,H){return this.removed?this:((P=_(P).split(d)).length-1&&(H=I(P[1])),P=I(P[0])||0,H=+H||0,this.transform(this._.transform.concat([["t",P,H]])),this)},L.transform=function(P){var H=this._;if(P==null)return H.transform;if(w._extractTransform(this,P),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&E(this),this.node&&g(this.node,{transform:this.matrix}),H.sx!=1||H.sy!=1){var V=this.attrs[c]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":V})}return this},L.hide=function(){return this.removed||(this.node.style.display="none"),this},L.show=function(){return this.removed||(this.node.style.display=""),this},L.remove=function(){var P=Y(this.node);if(!this.removed&&P.parentNode){var H=this.paper;for(var V in H.__set__&&H.__set__.exclude(this),n.unbind("raphael.*.*."+this.id),this.gradient&&H.defs.removeChild(this.gradient),w._tear(this,H),P.parentNode.removeChild(P),this.removeData(),this)this[V]=typeof this[V]=="function"?w._removedFactory(V):null;this.removed=!0}},L._getBBox=function(){if(this.node.style.display=="none"){this.show();var P=!0}var H,V=!1;this.paper.canvas.parentElement?H=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(H=this.paper.canvas.parentNode.style),H&&H.display=="none"&&(V=!0,H.display="");var G={};try{G=this.node.getBBox()}catch(j){G={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{G=G||{},V&&(H.display="none")}return P&&this.hide(),G},L.attr=function(P,H){if(this.removed)return this;if(P==null){var V={};for(var G in this.attrs)this.attrs[c](G)&&(V[G]=this.attrs[G]);return V.gradient&&V.fill=="none"&&(V.fill=V.gradient)&&delete V.gradient,V.transform=this._.transform,V}if(H==null&&w.is(P,"string")){if(P=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(P=="transform")return this._.transform;for(var j=P.split(d),F={},K=0,m=j.length;K<m;K++)(P=j[K])in this.attrs?F[P]=this.attrs[P]:w.is(this.paper.customAttributes[P],"function")?F[P]=this.paper.customAttributes[P].def:F[P]=w._availableAttrs[P];return m-1?F:F[j[0]]}if(H==null&&w.is(P,"array")){for(F={},K=0,m=P.length;K<m;K++)F[P[K]]=this.attr(P[K]);return F}if(H!=null){var J={};J[P]=H}else P!=null&&w.is(P,"object")&&(J=P);for(var X in J)n("raphael.attr."+X+"."+this.id,this,J[X]);for(X in this.paper.customAttributes)if(this.paper.customAttributes[c](X)&&J[c](X)&&w.is(this.paper.customAttributes[X],"function")){var te=this.paper.customAttributes[X].apply(this,[].concat(J[X]));for(var le in this.attrs[X]=J[X],te)te[c](le)&&(J[le]=te[le])}return W(this,J),this},L.toFront=function(){if(this.removed)return this;var P=Y(this.node);P.parentNode.appendChild(P);var H=this.paper;return H.top!=this&&w._tofront(this,H),this},L.toBack=function(){if(this.removed)return this;var P=Y(this.node),H=P.parentNode;return H.insertBefore(P,H.firstChild),w._toback(this,this.paper),this.paper,this},L.insertAfter=function(P){if(this.removed||!P)return this;var H=Y(this.node),V=Y(P.node||P[P.length-1].node);return V.nextSibling?V.parentNode.insertBefore(H,V.nextSibling):V.parentNode.appendChild(H),w._insertafter(this,P,this.paper),this},L.insertBefore=function(P){if(this.removed||!P)return this;var H=Y(this.node),V=Y(P.node||P[0].node);return V.parentNode.insertBefore(H,V),w._insertbefore(this,P,this.paper),this},L.blur=function(P){var H=this;if(+P!=0){var V=g("filter"),G=g("feGaussianBlur");H.attrs.blur=P,V.id=w.createUUID(),g(G,{stdDeviation:+P||1.5}),V.appendChild(G),H.paper.defs.appendChild(V),H._blur=V,g(H.node,{filter:"url(#"+V.id+")"})}else H._blur&&(H._blur.parentNode.removeChild(H._blur),delete H._blur,delete H.attrs.blur),H.node.removeAttribute("filter");return H},w._engine.circle=function(P,H,V,G){var j=g("circle");P.canvas&&P.canvas.appendChild(j);var F=new R(j,P);return F.attrs={cx:H,cy:V,r:G,fill:"none",stroke:"#000"},F.type="circle",g(j,F.attrs),F},w._engine.rect=function(P,H,V,G,j,F){var K=g("rect");P.canvas&&P.canvas.appendChild(K);var m=new R(K,P);return m.attrs={x:H,y:V,width:G,height:j,rx:F||0,ry:F||0,fill:"none",stroke:"#000"},m.type="rect",g(K,m.attrs),m},w._engine.ellipse=function(P,H,V,G,j){var F=g("ellipse");P.canvas&&P.canvas.appendChild(F);var K=new R(F,P);return K.attrs={cx:H,cy:V,rx:G,ry:j,fill:"none",stroke:"#000"},K.type="ellipse",g(F,K.attrs),K},w._engine.image=function(P,H,V,G,j,F){var K=g("image");g(K,{x:V,y:G,width:j,height:F,preserveAspectRatio:"none"}),K.setAttributeNS(v,"href",H),P.canvas&&P.canvas.appendChild(K);var m=new R(K,P);return m.attrs={x:V,y:G,width:j,height:F,src:H},m.type="image",m},w._engine.text=function(P,H,V,G){var j=g("text");P.canvas&&P.canvas.appendChild(j);var F=new R(j,P);return F.attrs={x:H,y:V,"text-anchor":"middle",text:G,"font-family":w._availableAttrs["font-family"],"font-size":w._availableAttrs["font-size"],stroke:"none",fill:"#000"},F.type="text",W(F,F.attrs),F},w._engine.setSize=function(P,H){return this.width=P||this.width,this.height=H||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},w._engine.create=function(){var P=w._getContainer.apply(0,arguments),H=P&&P.container;if(!H)throw new Error("SVG container not found.");var V,G=P.x,j=P.y,F=P.width,K=P.height,m=g("svg"),J="overflow:hidden;";return G=G||0,j=j||0,g(m,{height:K=K||342,version:1.1,width:F=F||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),H==1?(m.style.cssText=J+"position:absolute;left:"+G+"px;top:"+j+"px",w._g.doc.body.appendChild(m),V=1):(m.style.cssText=J+"position:relative",H.firstChild?H.insertBefore(m,H.firstChild):H.appendChild(m)),(H=new w._Paper).width=F,H.height=K,H.canvas=m,H.clear(),H._left=H._top=0,V&&(H.renderfix=function(){}),H.renderfix(),H},w._engine.setViewBox=function(P,H,V,G,j){n("raphael.setViewBox",this,this._viewBox,[P,H,V,G,j]);var F,K,m=this.getSize(),J=p(V/m.width,G/m.height),X=this.top,te=j?"xMidYMid meet":"xMinYMin";for(P==null?(this._vbSize&&(J=1),delete this._vbSize,F="0 0 "+this.width+f+this.height):(this._vbSize=J,F=P+f+H+f+V+f+G),g(this.canvas,{viewBox:F,preserveAspectRatio:te});J&&X;)K="stroke-width"in X.attrs?X.attrs["stroke-width"]:1,X.attr({"stroke-width":K}),X._.dirty=1,X._.dirtyT=1,X=X.prev;return this._viewBox=[P,H,V,G,!!j],this},w.prototype.renderfix=function(){var P,H=this.canvas,V=H.style;try{P=H.getScreenCTM()||H.createSVGMatrix()}catch(F){P=H.createSVGMatrix()}var G=-P.e%1,j=-P.f%1;(G||j)&&(G&&(this._left=(this._left+G)%1,V.left=this._left+"px"),j&&(this._top=(this._top+j)%1,V.top=this._top+"px"))},w.prototype.clear=function(){w.eve("raphael.clear",this);for(var P=this.canvas;P.firstChild;)P.removeChild(P.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(w._g.doc.createTextNode("Created with Rapha\xEBl "+w.version)),P.appendChild(this.desc),P.appendChild(this.defs=g("defs"))},w.prototype.remove=function(){for(var P in n("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[P]=typeof this[P]=="function"?w._removedFactory(P):null};var z=w.st;for(var O in L)L[c](O)&&!z[c](O)&&(z[O]=function(P){return function(){var H=arguments;return this.forEach(function(V){V[P].apply(V,H)})}}(O))}}.apply(e,U))===void 0||(Ke.exports=r)},function(Ke,e,b){var U,r;U=[b(0)],(r=function(w){if(!w||w.vml){var c="hasOwnProperty",_=String,I=parseFloat,M=Math,D=M.round,p=M.max,o=M.min,u=M.abs,d=/[, ]+/,n=w.eve,i=" ",f="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},a=/([clmz]),?([^clmz]*)/gi,S=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",C=21600,E={path:1,rect:1,image:1},A={circle:1,ellipse:1},N=function(H,V,G){var j=w.matrix();return j.rotate(-H,.5,.5),{dx:j.x(V,G),dy:j.y(V,G)}},B=function(H,V,G,j,F,K){var m=H._,J=H.matrix,X=m.fillpos,te=H.node,le=te.style,ge=1,we="",pe=C/V,Pe=C/G;if(le.visibility="hidden",V&&G){if(te.coordsize=u(pe)+i+u(Pe),le.rotation=K*(V*G<0?-1:1),K){var Ne=N(K,j,F);j=Ne.dx,F=Ne.dy}if(V<0&&(we+="x"),G<0&&(we+=" y")&&(ge=-1),le.flip=we,te.coordorigin=j*-pe+i+F*-Pe,X||m.fillsize){var ae=te.getElementsByTagName("fill");ae=ae&&ae[0],te.removeChild(ae),X&&(Ne=N(K,J.x(X[0],X[1]),J.y(X[0],X[1])),ae.position=Ne.dx*ge+i+Ne.dy*ge),m.fillsize&&(ae.size=m.fillsize[0]*u(V)+i+m.fillsize[1]*u(G)),te.appendChild(ae)}le.visibility="visible"}};w.toString=function(){return`Your browser doesn\u2019t support SVG. Falling down to VML.
You are running Rapha\xEBl `+this.version};var W,$=function(H,V,G){for(var j=_(V).toLowerCase().split("-"),F=G?"end":"start",K=j.length,m="classic",J="medium",X="medium";K--;)switch(j[K]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":m=j[K];break;case"wide":case"narrow":X=j[K];break;case"long":case"short":J=j[K]}var te=H.node.getElementsByTagName("stroke")[0];te[F+"arrow"]=m,te[F+"arrowlength"]=J,te[F+"arrowwidth"]=X},Y=function(H,V){H.attrs=H.attrs||{};var G=H.node,j=H.attrs,F=G.style,K=E[H.type]&&(V.x!=j.x||V.y!=j.y||V.width!=j.width||V.height!=j.height||V.cx!=j.cx||V.cy!=j.cy||V.rx!=j.rx||V.ry!=j.ry||V.r!=j.r),m=A[H.type]&&(j.cx!=V.cx||j.cy!=V.cy||j.r!=V.r||j.rx!=V.rx||j.ry!=V.ry),J=H;for(var X in V)V[c](X)&&(j[X]=V[X]);if(K&&(j.path=w._getPath[H.type](H),H._.dirty=1),V.href&&(G.href=V.href),V.title&&(G.title=V.title),V.target&&(G.target=V.target),V.cursor&&(F.cursor=V.cursor),"blur"in V&&H.blur(V.blur),(V.path&&H.type=="path"||K)&&(G.path=function(Oe){var Ze=/[ahqstv]/gi,it=w._pathToAbsolute;if(_(Oe).match(Ze)&&(it=w._path2curve),Ze=/[clmz]/g,it==w._pathToAbsolute&&!_(Oe).match(Ze)){var Et=_(Oe).replace(a,function(nt,tt,xt){var Lt=[],Be=tt.toLowerCase()=="m",yt=v[tt];return xt.replace(g,function(un){Be&&Lt.length==2&&(yt+=Lt+v[tt=="m"?"l":"L"],Lt=[]),Lt.push(D(un*C))}),yt+Lt});return Et}var st,pt,Mt=it(Oe);Et=[];for(var qt=0,Ft=Mt.length;qt<Ft;qt++){st=Mt[qt],(pt=Mt[qt][0].toLowerCase())=="z"&&(pt="x");for(var Xt=1,_t=st.length;Xt<_t;Xt++)pt+=D(st[Xt]*C)+(Xt!=_t-1?",":f);Et.push(pt)}return Et.join(i)}(~_(j.path).toLowerCase().indexOf("r")?w._pathToAbsolute(j.path):j.path),H._.dirty=1,H.type=="image"&&(H._.fillpos=[j.x,j.y],H._.fillsize=[j.width,j.height],B(H,1,1,0,0,0))),"transform"in V&&H.transform(V.transform),m){var te=+j.cx,le=+j.cy,ge=+j.rx||+j.r||0,we=+j.ry||+j.r||0;G.path=w.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",D((te-ge)*C),D((le-we)*C),D((te+ge)*C),D((le+we)*C),D(te*C)),H._.dirty=1}if("clip-rect"in V){var pe=_(V["clip-rect"]).split(d);if(pe.length==4){pe[2]=+pe[2]+ +pe[0],pe[3]=+pe[3]+ +pe[1];var Pe=G.clipRect||w._g.doc.createElement("div"),Ne=Pe.style;Ne.clip=w.format("rect({1}px {2}px {3}px {0}px)",pe),G.clipRect||(Ne.position="absolute",Ne.top=0,Ne.left=0,Ne.width=H.paper.width+"px",Ne.height=H.paper.height+"px",G.parentNode.insertBefore(Pe,G),Pe.appendChild(G),G.clipRect=Pe)}V["clip-rect"]||G.clipRect&&(G.clipRect.style.clip="auto")}if(H.textpath){var ae=H.textpath.style;V.font&&(ae.font=V.font),V["font-family"]&&(ae.fontFamily='"'+V["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),V["font-size"]&&(ae.fontSize=V["font-size"]),V["font-weight"]&&(ae.fontWeight=V["font-weight"]),V["font-style"]&&(ae.fontStyle=V["font-style"])}if("arrow-start"in V&&$(J,V["arrow-start"]),"arrow-end"in V&&$(J,V["arrow-end"],1),V.opacity!=null||V.fill!=null||V.src!=null||V.stroke!=null||V["stroke-width"]!=null||V["stroke-opacity"]!=null||V["fill-opacity"]!=null||V["stroke-dasharray"]!=null||V["stroke-miterlimit"]!=null||V["stroke-linejoin"]!=null||V["stroke-linecap"]!=null){var Me=G.getElementsByTagName("fill");if(!(Me=Me&&Me[0])&&(Me=W("fill")),H.type=="image"&&V.src&&(Me.src=V.src),V.fill&&(Me.on=!0),Me.on!=null&&V.fill!="none"&&V.fill!==null||(Me.on=!1),Me.on&&V.fill){var ke=_(V.fill).match(w._ISURL);if(ke){Me.parentNode==G&&G.removeChild(Me),Me.rotate=!0,Me.src=ke[1],Me.type="tile";var Ue=H.getBBox(1);Me.position=Ue.x+i+Ue.y,H._.fillpos=[Ue.x,Ue.y],w._preload(ke[1],function(){H._.fillsize=[this.offsetWidth,this.offsetHeight]})}else Me.color=w.getRGB(V.fill).hex,Me.src=f,Me.type="solid",w.getRGB(V.fill).error&&(J.type in{circle:1,ellipse:1}||_(V.fill).charAt()!="r")&&R(J,V.fill,Me)&&(j.fill="none",j.gradient=V.fill,Me.rotate=!1)}if("fill-opacity"in V||"opacity"in V){var Le=((+j["fill-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+w.getRGB(V.fill).o+1||2)-1);Le=o(p(Le,0),1),Me.opacity=Le,Me.src&&(Me.color="none")}G.appendChild(Me);var ie=G.getElementsByTagName("stroke")&&G.getElementsByTagName("stroke")[0],ce=!1;!ie&&(ce=ie=W("stroke")),(V.stroke&&V.stroke!="none"||V["stroke-width"]||V["stroke-opacity"]!=null||V["stroke-dasharray"]||V["stroke-miterlimit"]||V["stroke-linejoin"]||V["stroke-linecap"])&&(ie.on=!0),(V.stroke=="none"||V.stroke===null||ie.on==null||V.stroke==0||V["stroke-width"]==0)&&(ie.on=!1);var Re=w.getRGB(V.stroke);ie.on&&V.stroke&&(ie.color=Re.hex),Le=((+j["stroke-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+Re.o+1||2)-1);var ye=.75*(I(V["stroke-width"])||1);if(Le=o(p(Le,0),1),V["stroke-width"]==null&&(ye=j["stroke-width"]),V["stroke-width"]&&(ie.weight=ye),ye&&ye<1&&(Le*=ye)&&(ie.weight=1),ie.opacity=Le,V["stroke-linejoin"]&&(ie.joinstyle=V["stroke-linejoin"]||"miter"),ie.miterlimit=V["stroke-miterlimit"]||8,V["stroke-linecap"]&&(ie.endcap=V["stroke-linecap"]=="butt"?"flat":V["stroke-linecap"]=="square"?"square":"round"),"stroke-dasharray"in V){var Se={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};ie.dashstyle=Se[c](V["stroke-dasharray"])?Se[V["stroke-dasharray"]]:f}ce&&G.appendChild(ie)}if(J.type=="text"){J.paper.canvas.style.display=f;var me=J.paper.span,he=j.font&&j.font.match(/\d+(?:\.\d*)?(?=px)/);F=me.style,j.font&&(F.font=j.font),j["font-family"]&&(F.fontFamily=j["font-family"]),j["font-weight"]&&(F.fontWeight=j["font-weight"]),j["font-style"]&&(F.fontStyle=j["font-style"]),he=I(j["font-size"]||he&&he[0])||10,F.fontSize=100*he+"px",J.textpath.string&&(me.innerHTML=_(J.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var se=me.getBoundingClientRect();J.W=j.w=(se.right-se.left)/100,J.H=j.h=(se.bottom-se.top)/100,J.X=j.x,J.Y=j.y+J.H/2,("x"in V||"y"in V)&&(J.path.v=w.format("m{0},{1}l{2},{1}",D(j.x*C),D(j.y*C),D(j.x*C)+1));for(var ve=["x","y","text","font","font-family","font-weight","font-style","font-size"],xe=0,je=ve.length;xe<je;xe++)if(ve[xe]in V){J._.dirty=1;break}switch(j["text-anchor"]){case"start":J.textpath.style["v-text-align"]="left",J.bbx=J.W/2;break;case"end":J.textpath.style["v-text-align"]="right",J.bbx=-J.W/2;break;default:J.textpath.style["v-text-align"]="center",J.bbx=0}J.textpath.style["v-text-kern"]=!0}},R=function(H,V,G){H.attrs=H.attrs||{},H.attrs;var j=Math.pow,F="linear",K=".5 .5";if(H.attrs.gradient=V,V=(V=_(V).replace(w._radial_gradient,function(ge,we,pe){return F="radial",we&&pe&&(we=I(we),pe=I(pe),j(we-.5,2)+j(pe-.5,2)>.25&&(pe=M.sqrt(.25-j(we-.5,2))*(2*(pe>.5)-1)+.5),K=we+i+pe),f})).split(/\s*\-\s*/),F=="linear"){var m=V.shift();if(m=-I(m),isNaN(m))return null}var J=w._parseDots(V);if(!J)return null;if(H=H.shape||H.node,J.length){H.removeChild(G),G.on=!0,G.method="none",G.color=J[0].color,G.color2=J[J.length-1].color;for(var X=[],te=0,le=J.length;te<le;te++)J[te].offset&&X.push(J[te].offset+i+J[te].color);G.colors=X.length?X.join():"0% "+G.color,F=="radial"?(G.type="gradientTitle",G.focus="100%",G.focussize="0 0",G.focusposition=K,G.angle=0):(G.type="gradient",G.angle=(270-m)%360),H.appendChild(G)}return 1},L=function(H,V){this[0]=this.node=H,H.raphael=!0,this.id=w._oid++,H.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=V,this.matrix=w.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!V.bottom&&(V.bottom=this),this.prev=V.top,V.top&&(V.top.next=this),V.top=this,this.next=null},z=w.el;L.prototype=z,z.constructor=L,z.transform=function(H){if(H==null)return this._.transform;var V,G=this.paper._viewBoxShift,j=G?"s"+[G.scale,G.scale]+"-1-1t"+[G.dx,G.dy]:f;G&&(V=H=_(H).replace(/\.{3}|\u2026/g,this._.transform||f)),w._extractTransform(this,j+H);var F,K=this.matrix.clone(),m=this.skew,J=this.node,X=~_(this.attrs.fill).indexOf("-"),te=!_(this.attrs.fill).indexOf("url(");if(K.translate(1,1),te||X||this.type=="image")if(m.matrix="1 0 0 1",m.offset="0 0",F=K.split(),X&&F.noRotation||!F.isSimple){J.style.filter=K.toFilter();var le=this.getBBox(),ge=this.getBBox(1),we=le.x-ge.x,pe=le.y-ge.y;J.coordorigin=we*-C+i+pe*-C,B(this,1,1,we,pe,0)}else J.style.filter=f,B(this,F.scalex,F.scaley,F.dx,F.dy,F.rotate);else J.style.filter=f,m.matrix=_(K),m.offset=K.offset();return V!==null&&(this._.transform=V,w._extractTransform(this,V)),this},z.rotate=function(H,V,G){if(this.removed)return this;if(H!=null){if((H=_(H).split(d)).length-1&&(V=I(H[1]),G=I(H[2])),H=I(H[0]),G==null&&(V=G),V==null||G==null){var j=this.getBBox(1);V=j.x+j.width/2,G=j.y+j.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",H,V,G]])),this}},z.translate=function(H,V){return this.removed?this:((H=_(H).split(d)).length-1&&(V=I(H[1])),H=I(H[0])||0,V=+V||0,this._.bbox&&(this._.bbox.x+=H,this._.bbox.y+=V),this.transform(this._.transform.concat([["t",H,V]])),this)},z.scale=function(H,V,G,j){if(this.removed)return this;if((H=_(H).split(d)).length-1&&(V=I(H[1]),G=I(H[2]),j=I(H[3]),isNaN(G)&&(G=null),isNaN(j)&&(j=null)),H=I(H[0]),V==null&&(V=H),j==null&&(G=j),G==null||j==null)var F=this.getBBox(1);return G=G==null?F.x+F.width/2:G,j=j==null?F.y+F.height/2:j,this.transform(this._.transform.concat([["s",H,V,G,j]])),this._.dirtyT=1,this},z.hide=function(){return!this.removed&&(this.node.style.display="none"),this},z.show=function(){return!this.removed&&(this.node.style.display=f),this},z.auxGetBBox=w.el.getBBox,z.getBBox=function(){var H=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var V={},G=1/this.paper._viewBoxShift.scale;return V.x=H.x-this.paper._viewBoxShift.dx,V.x*=G,V.y=H.y-this.paper._viewBoxShift.dy,V.y*=G,V.width=H.width*G,V.height=H.height*G,V.x2=V.x+V.width,V.y2=V.y+V.height,V}return H},z._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},z.remove=function(){if(!this.removed&&this.node.parentNode){for(var H in this.paper.__set__&&this.paper.__set__.exclude(this),w.eve.unbind("raphael.*.*."+this.id),w._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[H]=typeof this[H]=="function"?w._removedFactory(H):null;this.removed=!0}},z.attr=function(H,V){if(this.removed)return this;if(H==null){var G={};for(var j in this.attrs)this.attrs[c](j)&&(G[j]=this.attrs[j]);return G.gradient&&G.fill=="none"&&(G.fill=G.gradient)&&delete G.gradient,G.transform=this._.transform,G}if(V==null&&w.is(H,"string")){if(H=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var F=H.split(d),K={},m=0,J=F.length;m<J;m++)(H=F[m])in this.attrs?K[H]=this.attrs[H]:w.is(this.paper.customAttributes[H],"function")?K[H]=this.paper.customAttributes[H].def:K[H]=w._availableAttrs[H];return J-1?K:K[F[0]]}if(this.attrs&&V==null&&w.is(H,"array")){for(K={},m=0,J=H.length;m<J;m++)K[H[m]]=this.attr(H[m]);return K}var X;for(var te in V!=null&&((X={})[H]=V),V==null&&w.is(H,"object")&&(X=H),X)n("raphael.attr."+te+"."+this.id,this,X[te]);if(X){for(te in this.paper.customAttributes)if(this.paper.customAttributes[c](te)&&X[c](te)&&w.is(this.paper.customAttributes[te],"function")){var le=this.paper.customAttributes[te].apply(this,[].concat(X[te]));for(var ge in this.attrs[te]=X[te],le)le[c](ge)&&(X[ge]=le[ge])}X.text&&this.type=="text"&&(this.textpath.string=X.text),Y(this,X)}return this},z.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&w._tofront(this,this.paper),this},z.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),w._toback(this,this.paper)),this)},z.insertAfter=function(H){return this.removed?this:(H.constructor==w.st.constructor&&(H=H[H.length-1]),H.node.nextSibling?H.node.parentNode.insertBefore(this.node,H.node.nextSibling):H.node.parentNode.appendChild(this.node),w._insertafter(this,H,this.paper),this)},z.insertBefore=function(H){return this.removed?this:(H.constructor==w.st.constructor&&(H=H[0]),H.node.parentNode.insertBefore(this.node,H.node),w._insertbefore(this,H,this.paper),this)},z.blur=function(H){var V=this.node.runtimeStyle,G=V.filter;return G=G.replace(S,f),+H!=0?(this.attrs.blur=H,V.filter=G+i+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+H||1.5)+")",V.margin=w.format("-{0}px 0 0 -{0}px",D(+H||1.5))):(V.filter=G,V.margin=0,delete this.attrs.blur),this},w._engine.path=function(H,V){var G=W("shape");G.style.cssText=y,G.coordsize=C+i+C,G.coordorigin=V.coordorigin;var j=new L(G,V),F={fill:"none",stroke:"#000"};H&&(F.path=H),j.type="path",j.path=[],j.Path=f,Y(j,F),V.canvas&&V.canvas.appendChild(G);var K=W("skew");return K.on=!0,G.appendChild(K),j.skew=K,j.transform(f),j},w._engine.rect=function(H,V,G,j,F,K){var m=w._rectPath(V,G,j,F,K),J=H.path(m),X=J.attrs;return J.X=X.x=V,J.Y=X.y=G,J.W=X.width=j,J.H=X.height=F,X.r=K,X.path=m,J.type="rect",J},w._engine.ellipse=function(H,V,G,j,F){var K=H.path();return K.attrs,K.X=V-j,K.Y=G-F,K.W=2*j,K.H=2*F,K.type="ellipse",Y(K,{cx:V,cy:G,rx:j,ry:F}),K},w._engine.circle=function(H,V,G,j){var F=H.path();return F.attrs,F.X=V-j,F.Y=G-j,F.W=F.H=2*j,F.type="circle",Y(F,{cx:V,cy:G,r:j}),F},w._engine.image=function(H,V,G,j,F,K){var m=w._rectPath(G,j,F,K),J=H.path(m).attr({stroke:"none"}),X=J.attrs,te=J.node,le=te.getElementsByTagName("fill")[0];return X.src=V,J.X=X.x=G,J.Y=X.y=j,J.W=X.width=F,J.H=X.height=K,X.path=m,J.type="image",le.parentNode==te&&te.removeChild(le),le.rotate=!0,le.src=V,le.type="tile",J._.fillpos=[G,j],J._.fillsize=[F,K],te.appendChild(le),B(J,1,1,0,0,0),J},w._engine.text=function(H,V,G,j){var F=W("shape"),K=W("path"),m=W("textpath");V=V||0,G=G||0,j=j||"",K.v=w.format("m{0},{1}l{2},{1}",D(V*C),D(G*C),D(V*C)+1),K.textpathok=!0,m.string=_(j),m.on=!0,F.style.cssText=y,F.coordsize=C+i+C,F.coordorigin="0 0";var J=new L(F,H),X={fill:"#000",stroke:"none",font:w._availableAttrs.font,text:j};J.shape=F,J.path=K,J.textpath=m,J.type="text",J.attrs.text=_(j),J.attrs.x=V,J.attrs.y=G,J.attrs.w=1,J.attrs.h=1,Y(J,X),F.appendChild(m),F.appendChild(K),H.canvas.appendChild(F);var te=W("skew");return te.on=!0,F.appendChild(te),J.skew=te,J.transform(f),J},w._engine.setSize=function(H,V){var G=this.canvas.style;return this.width=H,this.height=V,H==+H&&(H+="px"),V==+V&&(V+="px"),G.width=H,G.height=V,G.clip="rect(0 "+H+" "+V+" 0)",this._viewBox&&w._engine.setViewBox.apply(this,this._viewBox),this},w._engine.setViewBox=function(H,V,G,j,F){w.eve("raphael.setViewBox",this,this._viewBox,[H,V,G,j,F]);var K,m,J=this.getSize(),X=J.width,te=J.height;return F&&(G*(K=te/j)<X&&(H-=(X-G*K)/2/K),j*(m=X/G)<te&&(V-=(te-j*m)/2/m)),this._viewBox=[H,V,G,j,!!F],this._viewBoxShift={dx:-H,dy:-V,scale:J},this.forEach(function(le){le.transform("...")}),this},w._engine.initWin=function(H){var V=H.document;V.styleSheets.length<31?V.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):V.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!V.namespaces.rvml&&V.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),W=function(G){return V.createElement("<rvml:"+G+' class="rvml">')}}catch(G){W=function(j){return V.createElement("<"+j+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},w._engine.initWin(w._g.win),w._engine.create=function(){var H=w._getContainer.apply(0,arguments),V=H.container,G=H.height,j=H.width,F=H.x,K=H.y;if(!V)throw new Error("VML container not found.");var m=new w._Paper,J=m.canvas=w._g.doc.createElement("div"),X=J.style;return F=F||0,K=K||0,j=j||512,G=G||342,m.width=j,m.height=G,j==+j&&(j+="px"),G==+G&&(G+="px"),m.coordsize=216e5+i+216e5,m.coordorigin="0 0",m.span=w._g.doc.createElement("span"),m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",J.appendChild(m.span),X.cssText=w.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",j,G),V==1?(w._g.doc.body.appendChild(J),X.left=F+"px",X.top=K+"px",X.position="absolute"):V.firstChild?V.insertBefore(J,V.firstChild):V.appendChild(J),m.renderfix=function(){},m},w.prototype.clear=function(){w.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=w._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},w.prototype.remove=function(){for(var H in w.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[H]=typeof this[H]=="function"?w._removedFactory(H):null;return!0};var O=w.st;for(var P in z)z[c](P)&&!O[c](P)&&(O[P]=function(H){return function(){var V=arguments;return this.forEach(function(G){G[H].apply(G,V)})}}(P))}}.apply(e,U))===void 0||(Ke.exports=r)}])})},83714:function(Ot,Ke,e){const b=e(56061),U=e(2041);var r={EXACT_NODE:"exact",CHARSET_NODE:"charset",CHOICE_NODE:"choice",GROUP_NODE:"group",ASSERT_NODE:"assert",DOT_NODE:"dot",BACKREF_NODE:"backref",EMPTY_NODE:"empty",AssertLookahead:"AssertLookahead",AssertNegativeLookahead:"AssertNegativeLookahead",AssertNonWordBoundary:"AssertNonWordBoundary",AssertWordBoundary:"AssertWordBoundary",AssertEnd:"AssertEnd",AssertBegin:"AssertBegin"};function w(){var V=Object.keys(r).map(function(j){return j+"="+JSON.stringify(r[j])}).join(";"),G=function(){return this||window}();G.eval(V)}w();function c(V){this.raw=V.raw,this.tree=V.tree,this.groupCount=V.groupCount}c.prototype.traverse=function(V,G){j(this.tree,V);function j(F,K){F.forEach(function(m){(!G||m.type===G)&&K(m),m.sub?j(m.sub,K):m.branches&&m.branches.forEach(function(J){j(J,K)})})}};var _;function I(V,G){_=G;var j=D(),F,K,m;F=j.input(V,0,G),K=F.stack,K=a.endChoice(K),m=F.lastState;var J=F.acceptable&&F.lastIndex===V.length-1;if(!J){var X;switch(m){case"charsetRangeEndWithNullChar":X={type:"CharsetRangeEndWithNullChar",message:`Charset range end with NUL char does not make sense!
Because [a-\\0] is not a valid range.
And [\\0-\\0] should be rewritten into [\\0].`};break;case"repeatErrorFinal":X={type:"NothingRepeat",message:"Nothing to repeat!"};break;case"digitFollowNullError":X={type:"DigitFollowNullError",message:"The '\\0' represents the <NUL> char and cannot be followed by a decimal digit!"};break;case"charsetRangeEndClass":X={type:"CharsetRangeEndClass",message:'Charset range ends with class such as "\\w\\W\\d\\D\\s\\S" is invalid!'};break;case"charsetOctEscape":X={type:"DecimalEscape",message:"Decimal escape appears in charset is invalid.Because it can't be explained as  backreference.And octal escape is deprecated!"};break;default:m.indexOf("charset")===0?X={type:"UnclosedCharset",message:"Unterminated character class!"}:V[F.lastIndex]===")"?X={type:"UnmatchedParen",message:"Unmatched end parenthesis!"}:(X={type:"UnexpectedChar",message:"Unexpected char!"},F.lastIndex++)}if(X)throw X.lastIndex=F.lastIndex,X.astStack=F.stack,X.lastState=m,new f(X)}if(K._parentGroup)throw new f({type:"UnterminatedGroup",message:"Unterminated group!",lastIndex:K._parentGroup.indices[0],lastState:m,astStack:K});if(J){var te=K.groupCounter?K.groupCounter.i:0;delete K.groupCounter,d(K,V,V.length),K=o(K);var le=new c({raw:V,groupCount:te,tree:K});return le.traverse(i,CHARSET_NODE),le.traverse(n,ASSERT_NODE),u(K),_=!1,le}}I.Constants=r,I.exportConstants=w,I.RegexSyntaxError=f,I.getNFAParser=D;var M;function D(){return M||(M=b(H,_)),M}function p(V,G,j){Object.defineProperty(V,G,{value:j,enumerable:_,writable:!0,configurable:!0})}function o(V){return V.filter(function(G){return G.type==EXACT_NODE&&G.concatTemp?(delete G.concatTemp,!!G.chars):(G.sub?G.sub=o(G.sub):G.branches&&(G.branches=G.branches.map(o)),!0)})}function u(V){var G=V[0];J(G);for(var j=1,F=1,K=V.length,m;j<K;j++){if(m=V[j],m.type===EXACT_NODE){if(G.type===EXACT_NODE&&!G.repeat&&!m.repeat){G.indices[1]=m.indices[1],G.raw+=m.raw,G.chars+=m.chars;continue}}else J(m);V[F++]=m,G=m}G&&(V.length=F);function J(X){X.sub?u(X.sub):X.branches&&X.branches.map(u)}}function d(V,G,j){if(!V.length){V.push({type:EMPTY_NODE,indices:[j,j]});return}V.reduce(function(F,K){return K.indices.push(F),K.raw=G.slice(K.indices[0],F),K.type===GROUP_NODE||K.type===ASSERT_NODE&&K.sub?d(K.sub,G,K.endParenIndex):K.type===CHOICE_NODE?(K.branches.reduce(function(m,J){d(J,G,m);var X=J[0];return(X?X.indices[0]:m)-1},F),K.branches.reverse()):K.type===EXACT_NODE&&(K.concatTemp||(K.chars=K.chars||K.raw)),K.indices[0]},j),V.reverse()}function n(V){if(V.repeat){var G=V.assertionType,j="Nothing to repeat! Repeat after assertion doesn't make sense!";if(G==="AssertLookahead"||G==="AssertNegativeLookahead"){var F=G==="AssertLookahead"?"?=":"?!",K="("+F+"b)";j+=`
/a`+K+"+/\u3001/a"+K+"{1,n}/ are the same as /a"+K+`/\u3002
/a`+K+"*/\u3001/a"+K+"{0,n}/\u3001/a"+K+"?/ are the same as /a/\u3002"}throw new f({type:"NothingRepeat",lastIndex:V.indices[1]-1,message:j})}}function i(V){V.ranges=U.sortUnique(V.ranges.map(function(G){if(G[0]>G[1])throw new f({type:"OutOfOrder",lastIndex:G.lastIndex,message:"Range ["+G.join("-")+"] out of order in character class!"});return G.join("")}))}function f(V){this.name="RegexSyntaxError",this.type=V.type,this.lastIndex=V.lastIndex,this.lastState=V.lastState,this.astStack=V.astStack,this.message=V.message,Object.defineProperty(this,"stack",{value:new Error(V.message).stack,enumerable:!1})}f.prototype.toString=function(){return this.name+" "+this.type+":"+this.message};var v={n:`
`,r:"\r",t:"	",v:"\v",f:"\f"},a=function(){function G(Ft,Xt,_t){var nt=Ft[0];(!nt||nt.type!=EXACT_NODE||nt.repeat||nt.chars&&!nt.concatTemp)&&Ft.unshift({type:EXACT_NODE,indices:[_t]}),nt&&nt.concatTemp&&(nt.chars+=Xt)}function j(Ft,Xt,_t){Ft.unshift({type:DOT_NODE,indices:[_t]})}function F(Ft,Xt,_t){Ft.unshift({type:EXACT_NODE,chars:"\0",indices:[_t-1]})}function K(Ft,Xt,_t){Ft.unshift({type:ASSERT_NODE,indices:[_t],assertionType:AssertBegin})}function m(Ft,Xt,_t,nt,tt){Ft.unshift({type:ASSERT_NODE,indices:[_t],assertionType:AssertEnd})}function J(Ft,Xt,_t){Ft.unshift({type:ASSERT_NODE,indices:[_t-1],assertionType:Xt=="b"?AssertWordBoundary:AssertNonWordBoundary})}function X(Ft,Xt,_t){var nt=Ft[0];nt.type!==EXACT_NODE&&Ft.unshift({type:EXACT_NODE,indices:[_t]})}function te(Ft,Xt,_t){var nt=Ft[0];p(nt,"_commaIndex",_t)}function le(Ft,Xt,_t,nt,tt){var xt=Ft[0],Lt=tt.lastIndexOf("{",_t),Be=parseInt(tt.slice(Lt+1,xt._commaIndex||_t),10),yt;if(!xt._commaIndex)yt=Be;else{if(xt._commaIndex+1==_t?yt=1/0:yt=parseInt(tt.slice(xt._commaIndex+1,_t),10),yt<Be)throw new f({type:"OutOfOrder",lastState:nt,lastIndex:_t,astStack:Ft,message:"Numbers out of order in {} quantifier!"});delete xt._commaIndex}xt.indices[0]>=Lt&&Ft.shift(),Pe(Ft,Be,yt,Lt,tt)}function ge(Ft,Xt,_t,nt,tt){Pe(Ft,0,1/0,_t,tt)}function we(Ft,Xt,_t,nt,tt){Pe(Ft,0,1,_t,tt)}function pe(Ft,Xt,_t,nt,tt){Pe(Ft,1,1/0,_t,tt)}function Pe(Ft,Xt,_t,nt,tt){var xt=Ft[0],Lt={min:Xt,max:_t,nonGreedy:!1},Be=nt-1;if(xt.chars&&xt.chars.length===1&&(Be=xt.indices[0]),xt.type===EXACT_NODE){var yt={type:EXACT_NODE,repeat:Lt,chars:xt.chars?xt.chars:tt[Be],indices:[Be]};xt.indices[0]===Be&&Ft.shift(),Ft.unshift(yt)}else xt.repeat=Lt;p(Lt,"beginIndex",nt-Ft[0].indices[0])}function Ne(Ft){Ft[0].repeat.nonGreedy=!0}function ae(Ft,Xt,_t){Ft.unshift({concatTemp:!0,type:EXACT_NODE,chars:"",indices:[_t]})}function Me(Ft,Xt,_t){v.hasOwnProperty(Xt)&&(Xt=v[Xt]),Ft.unshift({type:EXACT_NODE,chars:Xt,indices:[_t-1]})}function ke(Ft,Xt,_t){Ft.unshift({type:CHARSET_NODE,indices:[_t-1],chars:"",ranges:[],classes:[Xt],exclude:!1})}function Ue(Ft,Xt,_t,nt,tt){Xt=String.fromCharCode(parseInt(tt[_t-1]+Xt,16)),Ft.shift(),Ft.unshift({type:EXACT_NODE,chars:Xt,indices:[_t-3]})}function Le(Ft,Xt,_t,nt,tt){Xt=String.fromCharCode(parseInt(tt.slice(_t-3,_t+1),16)),Ft.shift(),Ft.unshift({type:EXACT_NODE,chars:Xt,indices:[_t-5]})}function ie(Ft,Xt,_t){var nt=Ft.groupCounter=Ft.groupCounter||{i:0};nt.i++;var tt={type:GROUP_NODE,num:nt.i,sub:[],indices:[_t],_parentStack:Ft};return Ft=tt.sub,p(Ft,"_parentGroup",tt),Ft.groupCounter=nt,Ft}function ce(Ft){var Xt=Ft._parentGroup;Xt.nonCapture=!0,Xt.num=void 0,Ft.groupCounter.i--}function Re(Ft,Xt,_t){var nt=Ft._parentGroup;nt.type=ASSERT_NODE,nt.assertionType=Xt=="="?AssertLookahead:AssertNegativeLookahead,nt.num=void 0,Ft.groupCounter.i--}function ye(Ft,Xt,_t,nt,tt){Ft=me(Ft);var xt=Ft._parentGroup;if(!xt)throw new f({type:"UnexpectedChar",lastIndex:_t,lastState:nt,astStack:Ft,message:"Unexpected end parenthesis!"});return delete Ft._parentGroup,delete Ft.groupCounter,Ft=xt._parentStack,delete xt._parentStack,Ft.unshift(xt),xt.endParenIndex=_t,Ft}function Se(Ft,Xt,_t){var nt=[],tt;if(Ft._parentChoice)tt=Ft._parentChoice,tt.branches.unshift(nt),p(nt,"_parentChoice",tt),p(nt,"_parentGroup",tt),nt.groupCounter=Ft.groupCounter,delete Ft._parentChoice,delete Ft.groupCounter;else{var xt=Ft[Ft.length-1];tt={type:CHOICE_NODE,indices:[xt?xt.indices[0]:_t-1],branches:[]},p(tt,"_parentStack",Ft),tt.branches.unshift(Ft.slice()),Ft.length=0,Ft.unshift(tt),nt.groupCounter=Ft.groupCounter,p(nt,"_parentChoice",tt),p(nt,"_parentGroup",tt),tt.branches.unshift(nt)}return nt}function me(Ft){if(Ft._parentChoice){var Xt=Ft._parentChoice;delete Ft._parentChoice,delete Ft._parentGroup,delete Ft.groupCounter;var _t=Xt._parentStack;return delete Xt._parentStack,_t}return Ft}function he(Ft,Xt,_t){Ft.unshift({type:CHARSET_NODE,indices:[_t],classes:[],ranges:[],chars:""})}function se(Ft){Ft[0].exclude=!0}function ve(Ft,Xt,_t){Ft[0].chars+=Xt}function xe(Ft,Xt,_t){v.hasOwnProperty(Xt)&&(Xt=v[Xt]),Ft[0].chars+=Xt}function je(Ft,Xt,_t){Ft[0].chars+="\0"}function Oe(Ft,Xt){Ft[0].classes.push(Xt)}function Ze(Ft,Xt,_t,nt,tt){var xt=Ft[0];Xt=String.fromCharCode(parseInt(xt.chars.slice(-1)+Xt,16)),xt.chars=xt.chars.slice(0,-2),xt.chars+=Xt}function it(Ft,Xt,_t,nt,tt){var xt=Ft[0];Xt=String.fromCharCode(parseInt(xt.chars.slice(-3)+Xt,16)),xt.chars=xt.chars.slice(0,-4),xt.chars+=Xt}function Et(Ft,Xt,_t,nt,tt){var xt=Ft[0],Lt=xt.chars.slice(-2);Lt=[Lt[0],Xt],Lt.lastIndex=_t,xt.ranges.push(Lt),xt.chars=xt.chars.slice(0,-2)}function st(Ft,Xt){v.hasOwnProperty(Xt)&&(Xt=v[Xt]),Et.apply(this,arguments)}function pt(Ft,Xt,_t){var nt=Ft[0],tt=nt.chars.slice(-3)+Xt;nt.chars=nt.chars.slice(0,-3);var xt=nt.ranges.pop();Xt=String.fromCharCode(parseInt(tt,16)),xt=[xt[0],Xt],xt.lastIndex=_t,nt.ranges.push(xt)}function Mt(Ft,Xt,_t){var nt=Ft[0],tt=nt.chars.slice(-1)+Xt;nt.chars=nt.chars.slice(0,-1);var xt=nt.ranges.pop();Xt=String.fromCharCode(parseInt(tt,16)),xt=[xt[0],Xt],xt.lastIndex=_t,nt.ranges.push(xt)}function qt(Ft,Xt,_t,nt){var tt=Ft[0],xt=parseInt(Xt,10),Lt=nt==="escape",Be=Ft.groupCounter,yt=Be&&Be.i||0;if(Lt?(tt={type:BACKREF_NODE,indices:[_t-1]},Ft.unshift(tt)):xt=parseInt(tt.num+""+xt,10),xt>yt)throw new f({type:"InvalidBackReference",lastIndex:_t,astStack:Ft,lastState:nt,message:"Back reference number("+xt+") greater than current groups count("+yt+")."});if(un(xt,Ft))throw new f({type:"InvalidBackReference",lastIndex:_t,astStack:Ft,lastState:nt,message:"Recursive back reference in group ("+xt+") itself."});tt.num=xt;function un(In,bn){return bn._parentGroup?bn._parentGroup.num==In?In:un(In,bn._parentGroup._parentStack):!1}}return{escapeStart:ae,exact:G,dot:j,nullChar:F,assertBegin:K,assertEnd:m,assertWordBoundary:J,repeatnStart:X,repeatnComma:te,repeatNonGreedy:Ne,repeatnEnd:le,repeat1:pe,repeat01:we,repeat0:ge,normalEscape:Me,unicodeEscape:Le,hexEscape:Ue,charClassEscape:ke,groupStart:ie,groupNonCapture:ce,backref:qt,groupToAssertion:Re,groupEnd:ye,choice:Se,endChoice:me,charsetStart:he,charsetExclude:se,charsetContent:ve,charsetNullChar:je,charsetClassEscape:Oe,charsetHexEscape:Ze,charsetUnicodeEscape:it,charsetRangeEnd:Et,charsetNormalEscape:xe,charsetRangeEndNormalEscape:st,charsetRangeEndUnicodeEscape:pt,charsetRangeEndHexEscape:Mt}}(),S="0-9",g="0-9a-fA-F",y="^+*?^$.|(){[\\",C="dDwWsS",E="u",A="x",N="^"+C+E+A+"0-9",B=N+"bB1-9",W="repeatnStart,repeatn_1,repeatn_2,repeatnErrorStart,repeatnError_1,repeatnError_2",$="hexEscape1,hexEscape2",Y="unicodeEscape1,unicodeEscape2,unicodeEscape3,unicodeEscape4",R=$+","+Y,L="charsetUnicodeEscape1,charsetUnicodeEscape2,charsetUnicodeEscape3,charsetUnicodeEscape4,charsetHexEscape1,charsetHexEscape2",z="charsetRangeEndUnicodeEscape1,charsetRangeEndHexEscape1",O="charsetRangeEndUnicodeEscape2,charsetRangeEndUnicodeEscape3,charsetRangeEndUnicodeEscape4,charsetRangeEndHexEscape2",P=z+","+O,H={compact:!0,accepts:"start,begin,end,repeat0,repeat1,exact,repeatn,repeat01,repeatNonGreedy,choice,"+(W+",nullChar,digitBackref,"+Y+","+$),trans:[["start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact",y,a.exact],[R+">exact",y+g,a.exact],["nullChar>exact",y+S,a.exact],[W+",nullChar,digitBackref,"+Y+","+$+",start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact",".",a.dot],["start,groupStart,groupQualifiedStart,end,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+W+",nullChar,digitBackref,"+Y+","+$+">begin","^",a.assertBegin],[W+",nullChar,digitBackref,"+Y+","+$+",exact>repeatnStart","{",a.repeatnStart],["start,begin,end,groupQualifiedStart,groupStart,repeat0,repeat1,repeatn,repeat01,repeatNonGreedy,choice>repeatnErrorStart","{",a.exact],["repeatnStart>repeatn_1",S,a.exact],["repeatn_1>repeatn_1",S,a.exact],["repeatn_1>repeatn_2",",",a.repeatnComma],["repeatn_2>repeatn_2",S,a.exact],["repeatn_1,repeatn_2>repeatn","}",a.repeatnEnd],["repeatnStart,repeatnErrorStart>exact","}",a.exact],["repeatnStart,repeatnErrorStart>exact",y+"0-9}",a.exact],["repeatnErrorStart>repeatnError_1",S,a.exact],["repeatnError_1>repeatnError_1",S,a.exact],["repeatnError_1>repeatnError_2",",",a.exact],["repeatnError_2>repeatnError_2",S,a.exact],["repeatnError_2,repeatnError_1>repeatErrorFinal","}"],["repeatn_1,repeatnError_1>exact",y+S+",}",a.exact],["repeatn_2,repeatnError_2>exact",y+S+"}",a.exact],["exact,"+(W+",nullChar,digitBackref,"+Y+","+$)+">repeat0","*",a.repeat0],["exact,"+(W+",nullChar,digitBackref,"+Y+","+$)+">repeat1","+",a.repeat1],["exact,"+(W+",nullChar,digitBackref,"+Y+","+$)+">repeat01","?",a.repeat01],["choice>repeatErrorFinal","*+?"],["repeat0,repeat1,repeat01,repeatn>repeatNonGreedy","?",a.repeatNonGreedy],["repeat0,repeat1,repeat01,repeatn>repeatErrorFinal","+*"],["start,begin,end,groupStart,groupQualifiedStart,exact,repeatNonGreedy,repeat0,repeat1,repeat01,repeatn,choice,"+(W+",nullChar,digitBackref,"+Y+","+$)+">escape","\\",a.escapeStart],["escape>nullChar","0",a.nullChar],["nullChar>digitFollowNullError","0-9"],["escape>exact",B,a.normalEscape],["escape>exact","bB",a.assertWordBoundary],["escape>exact",C,a.charClassEscape],["escape>unicodeEscape1",E,a.exact],["unicodeEscape1>unicodeEscape2",g,a.exact],["unicodeEscape2>unicodeEscape3",g,a.exact],["unicodeEscape3>unicodeEscape4",g,a.exact],["unicodeEscape4>exact",g,a.unicodeEscape],["escape>hexEscape1",A,a.exact],["hexEscape1>hexEscape2",g,a.exact],["hexEscape2>exact",g,a.hexEscape],["escape>digitBackref","1-9",a.backref],["digitBackref>digitBackref",S,a.backref],["digitBackref>exact",y+S,a.exact],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,start,groupStart,groupQualifiedStart,choice,"+(W+",nullChar,digitBackref,"+Y+","+$)+">groupStart","(",a.groupStart],["groupStart>groupQualify","?"],["groupQualify>groupQualifiedStart",":",a.groupNonCapture],["groupQualify>groupQualifiedStart","=",a.groupToAssertion],["groupQualify>groupQualifiedStart","!",a.groupToAssertion],[W+",nullChar,digitBackref,"+Y+","+$+",groupStart,groupQualifiedStart,begin,end,exact,repeat1,repeat0,repeat01,repeatn,repeatNonGreedy,choice>exact",")",a.groupEnd],["start,begin,end,groupStart,groupQualifiedStart,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+(W+",nullChar,digitBackref,"+Y+","+$)+">choice","|",a.choice],["start,groupStart,groupQualifiedStart,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+(W+",nullChar,digitBackref,"+Y+","+$)+">end","$",a.assertEnd],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,groupQualifiedStart,groupStart,start,choice,"+(W+",nullChar,digitBackref,"+Y+","+$)+">charsetStart","[",a.charsetStart],["charsetStart>charsetExclude","^",a.charsetExclude],["charsetStart>charsetContent","^\\]^",a.charsetContent],["charsetExclude>charsetContent","^\\]",a.charsetContent],["charsetContent,charsetClass>charsetContent","^\\]-",a.charsetContent],["charsetClass>charsetContent","-",a.charsetContent],[L+",charsetStart,charsetContent,charsetNullChar,charsetClass,charsetExclude,charsetRangeEnd>charsetEscape","\\"],["charsetEscape>charsetContent",N,a.charsetNormalEscape],["charsetEscape>charsetNullChar","0",a.charsetNullChar],["charsetEscape>charsetOctEscape","1-9"],["charsetRangeEndEscape>charsetOctEscape","1-9"],["charsetNullChar>digitFollowNullError",S],["charsetNullChar>charsetContent","^0-9\\]-",a.charsetContent],["charsetEscape>charsetClass",C,a.charsetClassEscape],["charsetEscape>charsetUnicodeEscape1",E,a.charsetContent],["charsetUnicodeEscape1>charsetUnicodeEscape2",g,a.charsetContent],["charsetUnicodeEscape2>charsetUnicodeEscape3",g,a.charsetContent],["charsetUnicodeEscape3>charsetUnicodeEscape4",g,a.charsetContent],["charsetUnicodeEscape4>charsetContent",g,a.charsetUnicodeEscape],["charsetEscape>charsetHexEscape1",A,a.charsetContent],["charsetHexEscape1>charsetHexEscape2",g,a.charsetContent],["charsetHexEscape2>charsetContent",g,a.charsetHexEscape],[L+">charsetContent","^\\]"+g+"-",a.charsetContent],[L+",charsetNullChar,charsetContent>charsetRangeStart","-",a.charsetContent],["charsetRangeStart>charsetRangeEnd","^\\]",a.charsetRangeEnd],["charsetRangeEnd>charsetContent","^\\]",a.charsetContent],["charsetRangeStart>charsetRangeEndEscape","\\"],["charsetRangeEndEscape>charsetRangeEnd",B,a.charsetRangeEndNormalEscape],["charsetRangeEndEscape>charsetRangeEndWithNullChar","0"],["charsetRangeEndEscape>charsetRangeEndUnicodeEscape1",E,a.charsetRangeEnd],["charsetRangeEndUnicodeEscape1>charsetRangeEndUnicodeEscape2",g,a.charsetContent],["charsetRangeEndUnicodeEscape2>charsetRangeEndUnicodeEscape3",g,a.charsetContent],["charsetRangeEndUnicodeEscape3>charsetRangeEndUnicodeEscape4",g,a.charsetContent],["charsetRangeEndUnicodeEscape4>charsetRangeEnd",g,a.charsetRangeEndUnicodeEscape],["charsetRangeEndEscape>charsetRangeEndHexEscape1",A,a.charsetRangeEnd],["charsetRangeEndHexEscape1>charsetRangeEndHexEscape2",g,a.charsetContent],["charsetRangeEndHexEscape2>charsetRangeEnd",g,a.charsetRangeEndHexEscape],["charsetRangeEndEscape>charsetRangeEndClass",C],[z+">charsetContent","^\\]"+g,a.charsetContent],[O+">charsetRangeStart","-",a.charsetContent],[L+","+P+",charsetNullChar,charsetRangeStart,charsetContent,charsetClass,charsetExclude,charsetRangeEnd>exact","]"]]};Ot.exports=I},90101:function(Ot,Ke,e){const b=e(2041);e(83714).exportConstants();var r=16,w=14,c=16,_="#EEE",I="DejaVu Sans Mono,monospace",M=!1,D=10,p={},o;function u(R,L){if(L=L||"normal",p[R]&&p[R][L])return p[R][L];o.attr({"font-size":R,"font-weight":L});var z=o.getBBox();return p[R]=p[R]||{},p[R][L]={width:z.width/((o.attr("text").length-1)/2),height:z.height/2}}function d(R){o=R.text(-1e3,-1e3,`XgfTlM|.q
XgfTlM|.q`).attr({"font-family":I,"font-size":r})}function n(R,L,z){z.clear(),z.setSize(0,0);var O=z.rect(0,0,0,0);O.attr("fill",_),O.attr("stroke",_),d(z),M=!!~L.indexOf("m");var P=B(R.tree);P.unshift($("/",N.delimiter)),P.unshift($("RegExp: ")),P.push($("/",N.delimiter)),L&&P.push($(L,N.flags));var H=u(r,"bold"),V=D,G=H.height/2+D,j=0,F=0;j=P.reduce(function(m,J){J.x=m,J.y=G;var X=J.text.length*H.width;return m+X},V),j+=D,F=H.height+D*2,P=z.add(P),z.setSize(j,H.height+D*2);var K=i(R.tree,0,0);F=Math.max(K.height+3*D+H.height,F),j=Math.max(K.width+2*D,j),z.setSize(j,F),O.attr("width",j),O.attr("height",F),f(K.items,D,D*2+H.height-K.y),z.add(K.items)}function i(R,L,z){return R.unshift({type:"startPoint"}),R.push({type:"endPoint"}),v(R,L,z)}function f(R,L,z){R.forEach(function(O){O._translate?O._translate(L,z):(O.x+=L,O.y+=z)})}function v(R,L,z){var O=[],P=[],H=0,V=0,G=L,j=z,F=z;if(!R.length)return E.empty(null,L,z);R.forEach(function(J){var X;J.repeat?X=E.repeat(J,G,z):X=E[J.type](J,G,z),O.push(X),G+=X.width+c,H+=X.width,j=Math.min(j,X.y),F=Math.max(F,X.y+X.height),P=P.concat(X.items)}),V=F-j,O.reduce(function(J,X){H+=c;var te=g(J.lineOutX,z,X.lineInX);return P.push(te),X});var K=O[0].lineInX,m=O[O.length-1].lineOutX;return{items:P,width:H,height:V,x:L,y:j,lineInX:K,lineOutX:m}}function a(R,L,z,O,P){R=b.toPrint(R);var H=6,V=u(r),G=R.length*V.width,j=V.height+H*2,F=G+H*2,K={type:"rect",x:L,y:z-j/2,width:F,height:j,stroke:"none",fill:O||"transparent"},m={type:"text",x:L+F/2,y:z,text:R,"font-size":r,"font-family":I,fill:P||"black"};return{text:m,rect:K,items:[K,m],width:F,height:j,x:L,y:K.y,lineInX:L,lineOutX:L+F}}function S(R,L,z,O){var P=u(w),H=z.split(`
`),V=H.length*P.height,G;H.length>1?G=Math.max.apply(Math,H.map(function(K){return K.length})):G=z.length,G=G*P.width;var j=4,F={type:"text",x:R,y:L-V/2-j,text:z,"font-size":w,"font-family":I,fill:O||"#444"};return{label:F,x:R-G/2,y:L-V-j,width:G,height:V+j}}function g(R,L,z){return{type:"path",x:R,y:L,path:["M",R,L,"H",z],"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:function(O,P){var H=this.path;H[1]+=O,H[2]+=P,H[4]+=O}}}function y(R,L,z,O){var P=10,H,V,G=R>z?-1:1,j=L>O?-1:1;return Math.abs(L-O)<P*1.5?(H=["M",R,L,"C",R+Math.min(Math.abs(z-R)/2,P)*G,L,z-(z-R)/2,O,z,O],V=function(F,K){var m=this.path;m[1]+=F,m[2]+=K,m[4]+=F,m[5]+=K,m[6]+=F,m[7]+=K,m[8]+=F,m[9]+=K}):(H=["M",R,L,"Q",R+P*G,L,R+P*G,L+P*j,"V",Math.abs(L-O)<P*2?L+P*j:O-P*j,"Q",R+P*G,O,R+P*G*2,O,"H",z],V=function(F,K){var m=this.path;m[1]+=F,m[2]+=K,m[4]+=F,m[5]+=K,m[6]+=F,m[7]+=K,m[9]+=K,m[11]+=F,m[12]+=K,m[13]+=F,m[14]+=K,m[16]+=F}),{type:"path",path:H,"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:V}}function C(R,L,z){var O=10;return{items:[{type:"circle",fill:z,cx:R+O,cy:L,r:O,stroke:"none",_translate:function(P,H){this.cx+=P,this.cy+=H}}],width:O*2,height:O*2,x:R,y:L,lineInX:R,lineOutX:R+O*2}}var E={startPoint:function(R,L,z){return C(L,z,"r(0.5,0.5)#EFE-green")},endPoint:function(R,L,z){return C(L,z,"r(0.5,0.5)#FFF-#000")},empty:function(R,L,z){var O=10,P=g(L,z,L+O);return{items:[P],width:O,height:2,x:L,y:z,lineInX:L,lineOutX:L+O}},exact:function(R,L,z){var O="skyblue";return a(R.chars,L,z,O)},dot:function(R,L,z){var O="DarkGreen",P="white",H=a("AnyCharExceptNewLine",L,z,O,P);return H.rect.r=10,H.rect.tip="AnyChar except CR LF",H},backref:function(R,L,z){var O="navy",P="white",H=a("Backref #"+R.num,L,z,O,P);return H.rect.r=8,H},repeat:function(R,L,z){if(A(R))return E.empty(null,L,z);var O=10,P=4,H=R.repeat,V="",G=[],j="darkgreen";if(H.min===H.max&&H.min===0)return E.empty(null,L,z);var F=E[R.type](R,L,z),K=F.width,m=F.height;if(H.min===H.max&&H.min===1)return F;H.min===H.max?V+=ke(H.min):(V+=H.min,isFinite(H.max)?V+=(H.max-H.min>1?" to ":" or ")+ke(H.max):V+=" or more times");var J=O,X=0,te=O,le=F.y+F.height-z,ge=O*2+F.width;K=ge;var we;H.max!==1?(le+=O,m+=O,we={type:"path",path:["M",F.x+O,z,"Q",L,z,L,z+te,"V",z+le-te,"Q",L,z+le,L+te,z+le,"H",L+ge-te,"Q",L+ge,z+le,L+ge,z+le-te,"V",z+te,"Q",L+ge,z,F.x+F.width+O,z],_translate:Ue,stroke:"maroon","stroke-width":2},H.nonGreedy&&(we.stroke="Brown",we["stroke-dasharray"]="-"),G.push(we)):V=!1;var pe;if(H.min===0){var Pe=z-F.y+O,Ne=ge+O*2;J+=O,X=-O-2,K=Ne,m+=O,pe={type:"path",path:["M",L,z,"Q",L+te,z,L+te,z-te,"V",z-Pe+te,"Q",L+te,z-Pe,L+te*2,z-Pe,"H",L+Ne-te*2,"Q",L+Ne-te,z-Pe,L+Ne-te,z-Pe+te,"V",z-te,"Q",L+Ne-te,z,L+Ne,z],_translate:Ue,stroke:H.nonGreedy?j:"#333","stroke-width":2},we&&f([we],O,0),G.push(pe)}if(V){var ae=S(L+K/2,z,V);f([ae.label],0,le+ae.height+P),G.push(ae.label),m+=P+ae.height;var Me=(Math.max(ae.width,K)-K)/2;Me&&f(G,Me,0),K=Math.max(ae.width,K),J+=Me}return f(F.items,J,0),G=G.concat(F.items),{items:G,width:K,height:m,x:L,y:F.y+X,lineInX:F.lineInX+J,lineOutX:F.lineOutX+J};function ke(Le){return Le+(Le<2?" time":" times")}function Ue(Le,ie){var ce=this.path;ce[1]+=Le,ce[2]+=ie,ce[4]+=Le,ce[5]+=ie,ce[6]+=Le,ce[7]+=ie,ce[9]+=ie,ce[11]+=Le,ce[12]+=ie,ce[13]+=Le,ce[14]+=ie,ce[16]+=Le,ce[18]+=Le,ce[19]+=ie,ce[20]+=Le,ce[21]+=ie,ce[23]+=ie,ce[25]+=Le,ce[26]+=ie,ce[27]+=Le,ce[28]+=ie}},choice:function(R,L,z){if(A(R))return E.empty(null,L,z);var O=20,P=6,H=4,V=0,G=0,j=R.branches.map(function(X){var te=v(X,L,z);return V+=te.height,G=Math.max(G,te.width),te});V+=(j.length-1)*P+H*2,G+=O*2;var F=L+G/2,K=z-V/2+H,m=L+G,J=[];return j.forEach(function(X){var te=F-X.width/2;f(X.items,te-X.x,K-X.y),J=J.concat(X.items);var le=z+K-X.y,ge=y(L,z,L+O,le),we=y(m,z,L+G-O,le);J.push(ge,we),L+O!==te-X.x+X.lineInX&&J.push(g(L+O,le,te-X.x+X.lineInX)),X.lineOutX+te-X.x!==L+G-O&&J.push(g(X.lineOutX+te-X.x,le,L+G-O)),X.x=te,X.y=K,K+=X.height+P}),{items:J,width:G,height:V,x:L,y:z-V/2,lineInX:L,lineOutX:m}},charset:function(R,L,z){var O=6,P=4,H={d:"Digit",D:"NonDigit",w:"Word",W:"NonWord",s:"WhiteSpace",S:"NonWhiteSpace"},V="LightSkyBlue",G="black",j="Green",F="white",K="teal",m="white",J=R.exclude?"Pink":"Khaki",X=R.exclude?"#C00":"",te=Y(R);if(te){var le=a(H[R.classes[0]],L,z,j,F);if(le.rect.r=5,R.exclude){var Re=S(le.x+le.width/2,le.y,"None of:",X),ce=le.items;ce.push(Re.label);var ye=le.width,pe=Math.max(Re.width,le.width),Se=(pe-ye)/2;return f(ce,Se,0),{items:ce,width:pe,height:le.height+Re.height,x:Math.min(Re.x,le.x),y:Re.y,lineInX:Se+le.x,lineOutX:Se+le.x+le.width}}else return le}if(!R.chars&&!R.ranges.length&&!R.classes.length){var le=a("AnyChar",L,z,"green","white");return le.rect.r=5,le}var ge=[],we,pe=0,Pe=0,Ne;R.chars&&(we=a(R.chars,L,z,V,G),we.rect.r=5,ge.push(we),pe=we.width),R.ranges.forEach(function(me){me=me.split("").join("-");var he=a(me,L,z,K,m);he.rect.r=5,ge.push(he),pe=Math.max(he.width,pe)}),R.classes.forEach(function(me){var he=a(H[me],L,z,j,F);he.rect.r=5,ge.push(he),pe=Math.max(he.width,pe)}),Ne=ge[0].height;var ae=[],Me=[];ge.sort(function(me,he){return he.width-me.width}),ge.forEach(function(me){me.width*2+P>pe?ae.push(me):Me.push(me)}),ge=ae;for(var ke,Ue;Me.length;){if(ke=Me.pop(),Ue=Me.pop(),!Ue){ge.push(ke);break}if(ke.width-Ue.width>2){ge.push(ke),Me.push(Ue);continue}f(Ue.items,ke.width+P,0),ge.push({items:ke.items.concat(Ue.items),width:ke.width+Ue.width+P,height:ke.height,x:ke.x,y:ke.y}),Pe-=ke.height}pe+=O*2,Pe=(ge.length-1)*P+ge.length*Ne+O*2;var Le={type:"rect",x:L,y:z-Pe/2,r:4,width:pe,height:Pe,stroke:"none",fill:J},ie=Le.y+O,ce=[Le];ge.forEach(function(me){f(me.items,L-me.x+(pe-me.width)/2,ie-me.y),ce=ce.concat(me.items),ie+=me.height+P});var Re=S(Le.x+Le.width/2,Le.y,(R.exclude?"None":"One")+" of:",X);ce.push(Re.label);var ye=pe;pe=Math.max(Re.width,pe);var Se=(pe-ye)/2;return f(ce,Se,0),{items:ce,width:pe,height:Pe+Re.height,x:Math.min(Re.x,L),y:Re.y,lineInX:Se+L,lineOutX:Se+L+Le.width}},group:function(R,L,z){if(A(R))return E.empty(null,L,z);var O=10,P="silver",H=2,V=v(R.sub,L,z);if(R.num){f(V.items,O,0);var G=V.width+O*2,j=V.height+O*2,F={type:"rect",x:L,y:V.y-O,r:6,width:G,height:j,"stroke-dasharray":".",stroke:P,"stroke-width":H},K=S(F.x+F.width/2,F.y-H,"Group #"+R.num),m=V.items.concat([F,K.label]),J=Math.max(K.width,G),X=(J-G)/2;return X&&f(m,X,0),{items:m,width:J,height:j+K.height+4,x:L,y:K.y,lineInX:X+V.lineInX+O,lineOutX:X+V.lineOutX+O}}return V},assert:function(R,L,z){var O={AssertNonWordBoundary:{bg:"maroon",fg:"white"},AssertWordBoundary:{bg:"purple",fg:"white"},AssertEnd:{bg:"Indigo",fg:"white"},AssertBegin:{bg:"Indigo",fg:"white"}},P,H=R.assertionType,V=H.replace("Assert","")+"!";if(P=O[H])return M&&(H==="AssertBegin"||H==="AssertEnd")&&(V="Line"+V),a(V,L,z,P.bg,P.fg);var G,j,F=8;H===AssertLookahead?(G="CornflowerBlue",j="darkgreen",V="Followed by:"):H===AssertNegativeLookahead&&(G="#F63",j="Purple",V="Not followed by:");var K=E.group(R,L,z),m=K.height+F*2,J=K.width+F*2,X={type:"rect",x:L,y:K.y-F,r:6,width:J,height:m,"stroke-dasharray":"-",stroke:G,"stroke-width":2},te=S(X.x+J/2,X.y,V,j),le=Math.max(J,te.width),ge=(le-J)/2;f(K.items,ge+F,0),ge&&f([X,te.label],ge,0);var we=K.items.concat([X,te.label]);return{items:we,width:le,height:X.height+te.height,x:L,y:te.y,lineInX:ge+K.lineInX+F,lineOutX:ge+K.lineOutX+F}}};function A(R){if(Array.isArray(R)){for(var L=R,z=0;z<L.length;z++)if(!A(L[z]))return!1;return!0}var O=R;if(O.type===EMPTY_NODE)return!0;if(O.type===GROUP_NODE&&O.num===void 0)return A(O.sub);if(O.type===CHOICE_NODE)return A(O.branches)}var N={delimiter:"Indigo",flags:"darkgreen",exact:"#334",dot:"darkblue",backref:"teal",$:"purple","^":"purple","\\b":"#F30","\\B":"#F30","(":"blue",")":"blue","?=":"darkgreen","?!":"red","?:":"grey","[":"navy","]":"navy","|":"blue","{":"maroon",",":"maroon","}":"maroon","*":"maroon","+":"maroon","?":"maroon",repeatNonGreedy:"#F61",defaults:"black",charsetRange:"olive",charsetClass:"navy",charsetExclude:"red",charsetChars:"#534"};function B(R){var L=[];return R.forEach(function(z){if(z.sub)L.push($("(")),z.type===ASSERT_NODE?z.assertionType===AssertLookahead?L.push($("?=")):L.push($("?!")):z.nonCapture&&L.push($("?:")),L=L.concat(B(z.sub)),L.push($(")"));else if(z.branches)z.branches.map(B).forEach(function(j){L=L.concat(j),L.push($("|"))}),L.pop();else{var O=N[z.type]||N.defaults;switch(z.type){case CHARSET_NODE:var P=Y(z);(!P||z.exclude)&&L.push($("[")),z.exclude&&L.push($("^",N.charsetExclude)),z.ranges.forEach(function(j){L.push($(W(j[0]+"-"+j[1]),N.charsetRange))}),z.classes.forEach(function(j){L.push($("\\"+j,N.charsetClass))}),L.push($(W(z.chars),N.charsetChars)),(!P||z.exclude)&&L.push($("]"));break;default:var H=z.raw||"";z.repeat&&(H=H.slice(0,z.repeat.beginIndex)),H=b.toPrint(H,!0),L.push($(H,O))}}if(z.repeat){var V=z.repeat.min,G=z.repeat.max;V===0&&G===1/0?L.push($("*")):V===1&&G===1/0?L.push($("+")):V===0&&G===1?L.push($("?")):(L.push($("{")),L.push($(V)),V===G||(L.push($(",")),isFinite(G)&&L.push($(G))),L.push($("}"))),z.repeat.nonGreedy&&L.push($("?",N.repeatNonGreedy))}}),L}function W(R){return R=b.toPrint(R),R.replace(/\[/g,"\\[").replace(/\]/g,"\\]")}function $(R,L){return L=L||N[R]||N.defaults,{type:"text","font-size":r,"font-family":I,text:R+"",fill:L,"text-anchor":"start","font-weight":"bold"}}function Y(R){return!R.chars&&!R.ranges.length&&R.classes.length===1}Ot.exports=n},84506:function(Ot,Ke,e){"use strict";e.d(Ke,{Z:function(){return c}});var b=e(83878),U=e(59199),r=e(40181),w=e(25267);function c(_){return(0,b.Z)(_)||(0,U.Z)(_)||(0,r.Z)(_)||(0,w.Z)()}}}]);
}());