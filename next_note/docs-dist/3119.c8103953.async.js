!(function(){var mu=Object.defineProperty,pu=Object.defineProperties;var vu=Object.getOwnPropertyDescriptors;var Ac=Object.getOwnPropertySymbols,_u=Object.getPrototypeOf,Ud=Object.prototype.hasOwnProperty,zd=Object.prototype.propertyIsEnumerable,Cu=Reflect.get;var Sa=Math.pow,md=(Pt,Ke,e)=>Ke in Pt?mu(Pt,Ke,{enumerable:!0,configurable:!0,writable:!0,value:e}):Pt[Ke]=e,Xi=(Pt,Ke)=>{for(var e in Ke||(Ke={}))Ud.call(Ke,e)&&md(Pt,e,Ke[e]);if(Ac)for(var e of Ac(Ke))zd.call(Ke,e)&&md(Pt,e,Ke[e]);return Pt},Ln=(Pt,Ke)=>pu(Pt,vu(Ke));var jd=(Pt,Ke)=>{var e={};for(var b in Pt)Ud.call(Pt,b)&&Ke.indexOf(b)<0&&(e[b]=Pt[b]);if(Pt!=null&&Ac)for(var b of Ac(Pt))Ke.indexOf(b)<0&&zd.call(Pt,b)&&(e[b]=Pt[b]);return e};var Ks=(Pt,Ke,e)=>(md(Pt,typeof Ke!="symbol"?Ke+"":Ke,e),e);var pd=(Pt,Ke,e)=>Cu(_u(Pt),e,Ke);var qt=(Pt,Ke,e)=>new Promise((b,z)=>{var r=_=>{try{c(e.next(_))}catch(I){z(I)}},E=_=>{try{c(e.throw(_))}catch(I){z(I)}},c=_=>_.done?b(_.value):Promise.resolve(_.value).then(r,E);c((e=e.apply(Pt,Ke)).next())}),wa=(Pt,Ke,e)=>(Ke=Pt[Symbol.asyncIterator],e=(b,z)=>(z=Pt[b])&&(Ke[b]=r=>new Promise((E,c,_)=>(r=z.call(Pt,r),_=r.done,Promise.resolve(r.value).then(I=>E({value:I,done:_}),c)))),Ke?Ke.call(Pt):(Pt=Pt[Symbol.iterator](),Ke={},e("next"),e("return"),Ke));(self.webpackChunknote=self.webpackChunknote||[]).push([[3119],{89739:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),z=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},E=r,c=e(84089),_=function(D,p){return z.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:E}))},I=z.forwardRef(_)},8751:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),z=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},E=r,c=e(84089),_=function(D,p){return z.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:E}))},I=z.forwardRef(_)},18429:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),z=e(67294),r={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},E=r,c=e(84089),_=function(D,p){return z.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:E}))},I=z.forwardRef(_)},21640:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),z=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},E=r,c=e(84089),_=function(D,p){return z.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:E}))},I=z.forwardRef(_)},78860:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return I}});var b=e(87462),z=e(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},E=r,c=e(84089),_=function(D,p){return z.createElement(c.Z,(0,b.Z)({},D,{ref:p,icon:E}))},I=z.forwardRef(_)},31285:function(){"use strict"},60812:function(){"use strict"},5520:function(){"use strict"},27761:function(){"use strict"},71464:function(Pt,Ke,e){"use strict";e.d(Ke,{kc:function(){return tc}});var b="acss",z=e(4942),r=e(67294),E=e.t(r,2),c=e(15671),_=e(43144);function I(ge){if(ge.sheet)return ge.sheet;for(var Re=0;Re<document.styleSheets.length;Re++)if(document.styleSheets[Re].ownerNode===ge)return document.styleSheets[Re]}function M(ge){var Re=document.createElement("style");return Re.setAttribute("data-emotion",ge.key),ge.nonce!==void 0&&Re.setAttribute("nonce",ge.nonce),Re.appendChild(document.createTextNode("")),Re.setAttribute("data-s",""),Re}var D=function(){function ge(tt){var lt=this;this._insertTag=function(xt){var di;lt.tags.length===0?lt.insertionPoint?di=lt.insertionPoint.nextSibling:lt.prepend?di=lt.container.firstChild:di=lt.before:di=lt.tags[lt.tags.length-1].nextSibling,lt.container.insertBefore(xt,di),lt.tags.push(xt)},this.isSpeedy=tt.speedy===void 0?!0:tt.speedy,this.tags=[],this.ctr=0,this.nonce=tt.nonce,this.key=tt.key,this.container=tt.container,this.prepend=tt.prepend,this.insertionPoint=tt.insertionPoint,this.before=null}var Re=ge.prototype;return Re.hydrate=function(lt){lt.forEach(this._insertTag)},Re.insert=function(lt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M(this));var xt=this.tags[this.tags.length-1];if(!1)var di;if(this.isSpeedy){var Di=I(xt);try{Di.insertRule(lt,Di.cssRules.length)}catch(ji){}}else xt.appendChild(document.createTextNode(lt));this.ctr++},Re.flush=function(){this.tags.forEach(function(lt){return lt.parentNode&&lt.parentNode.removeChild(lt)}),this.tags=[],this.ctr=0},ge}(),p=Math.abs,o=String.fromCharCode,d=Object.assign;function u(ge,Re){return a(ge,0)^45?(((Re<<2^a(ge,0))<<2^a(ge,1))<<2^a(ge,2))<<2^a(ge,3):0}function i(ge){return ge.trim()}function n(ge,Re){return(ge=Re.exec(ge))?ge[0]:ge}function f(ge,Re,tt){return ge.replace(Re,tt)}function v(ge,Re){return ge.indexOf(Re)}function a(ge,Re){return ge.charCodeAt(Re)|0}function S(ge,Re,tt){return ge.slice(Re,tt)}function g(ge){return ge.length}function y(ge){return ge.length}function C(ge,Re){return Re.push(ge),ge}function L(ge,Re){return ge.map(Re).join("")}var O=1,T=1,F=0,B=0,$=0,Y="";function P(ge,Re,tt,lt,xt,di,Di){return{value:ge,root:Re,parent:tt,type:lt,props:xt,children:di,line:O,column:T,length:Di,return:""}}function w(ge,Re){return d(P("",null,null,"",null,null,0),ge,{length:-ge.length},Re)}function V(){return $}function R(){return $=B>0?a(Y,--B):0,T--,$===10&&(T=1,O--),$}function A(){return $=B<F?a(Y,B++):0,T++,$===10&&(T=1,O++),$}function H(){return a(Y,B)}function U(){return B}function G(ge,Re){return S(Y,ge,Re)}function j(ge){switch(ge){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function W(ge){return O=T=1,F=g(Y=ge),B=0,[]}function K(ge){return Y="",ge}function m(ge){return i(G(B-1,fe(ge===91?ge+2:ge===40?ge+1:ge)))}function J(ge){return K(ie(W(ge)))}function X(ge){for(;($=H())&&$<33;)A();return j(ge)>2||j($)>3?"":" "}function ie(ge){for(;A();)switch(j($)){case 0:append(pe(B-1),ge);break;case 2:append(m($),ge);break;default:append(from($),ge)}return ge}function le(ge,Re){for(;--Re&&A()&&!($<48||$>102||$>57&&$<65||$>70&&$<97););return G(ge,U()+(Re<6&&H()==32&&A()==32))}function fe(ge){for(;A();)switch($){case ge:return B;case 34:case 39:ge!==34&&ge!==39&&fe($);break;case 40:ge===41&&fe(ge);break;case 92:A();break}return B}function Le(ge,Re){for(;A()&&ge+$!==47+10;)if(ge+$===42+42&&H()===47)break;return"/*"+G(Re,B-1)+"*"+o(ge===47?ge:A())}function pe(ge){for(;!j(H());)A();return G(ge,B)}var Te="-ms-",De="-moz-",ae="-webkit-",Ne="comm",We="rule",ze="decl",Se="@page",ne="@media",ce="@import",Oe="@charset",Pe="@viewport",Me="@supports",ye="@document",_e="@namespace",se="@keyframes",ve="@font-face",xe="@counter-style",je="@font-feature-values",Ae="@layer";function Qe(ge,Re){for(var tt="",lt=y(ge),xt=0;xt<lt;xt++)tt+=Re(ge[xt],xt,ge,Re)||"";return tt}function rt(ge,Re,tt,lt){switch(ge.type){case Ae:if(ge.children.length)break;case ce:case ze:return ge.return=ge.return||ge.value;case Ne:return"";case se:return ge.return=ge.value+"{"+Qe(ge.children,lt)+"}";case We:ge.value=ge.props.join(",")}return g(tt=Qe(ge.children,lt))?ge.return=ge.value+"{"+tt+"}":""}function Dt(ge){var Re=y(ge);return function(tt,lt,xt,di){for(var Di="",ji=0;ji<Re;ji++)Di+=ge[ji](tt,lt,xt,di)||"";return Di}}function at(ge){return function(Re){Re.root||(Re=Re.return)&&ge(Re)}}function vt(ge,Re,tt,lt){if(ge.length>-1&&!ge.return)switch(ge.type){case DECLARATION:ge.return=prefix(ge.value,ge.length,tt);return;case KEYFRAMES:return serialize([copy(ge,{value:replace(ge.value,"@","@"+WEBKIT)})],lt);case RULESET:if(ge.length)return combine(ge.props,function(xt){switch(match(xt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(ge,{props:[replace(xt,/:(read-\w+)/,":"+MOZ+"$1")]})],lt);case"::placeholder":return serialize([copy(ge,{props:[replace(xt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(ge,{props:[replace(xt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(ge,{props:[replace(xt,/:(plac\w+)/,MS+"input-$1")]})],lt)}return""})}}function Mt(ge){switch(ge.type){case RULESET:ge.props=ge.props.map(function(Re){return combine(tokenize(Re),function(tt,lt,xt){switch(charat(tt,0)){case 12:return substr(tt,1,strlen(tt));case 0:case 40:case 43:case 62:case 126:return tt;case 58:xt[++lt]==="global"&&(xt[lt]="",xt[++lt]="\f"+substr(xt[lt],lt=1,-1));case 32:return lt===1?"":tt;default:switch(lt){case 0:return ge=tt,sizeof(xt)>1?"":tt;case(lt=sizeof(xt)-1):case 2:return lt===2?tt+ge+ge:tt+ge;default:return tt}}})})}}function ti(ge){return K(Ft("",null,null,null,[""],ge=W(ge),0,[0],ge))}function Ft(ge,Re,tt,lt,xt,di,Di,ji,Vi){for(var Gi=0,Bi=0,nn=Di,sn=0,hn=0,Cn=0,mn=1,xn=1,bn=1,vn=0,Hn="",kn=xt,us=di,Xn=lt,Mn=Hn;xn;)switch(Cn=vn,vn=A()){case 40:if(Cn!=108&&a(Mn,nn-1)==58){v(Mn+=f(m(vn),"&","&\f"),"&\f")!=-1&&(bn=-1);break}case 34:case 39:case 91:Mn+=m(vn);break;case 9:case 10:case 13:case 32:Mn+=X(Cn);break;case 92:Mn+=le(U()-1,7);continue;case 47:switch(H()){case 42:case 47:C(Xt(Le(A(),U()),Re,tt),Vi);break;default:Mn+="/"}break;case 123*mn:ji[Gi++]=g(Mn)*bn;case 125*mn:case 59:case 0:switch(vn){case 0:case 125:xn=0;case 59+Bi:bn==-1&&(Mn=f(Mn,/\f/g,"")),hn>0&&g(Mn)-nn&&C(hn>32?Ct(Mn+";",lt,tt,nn-1):Ct(f(Mn," ","")+";",lt,tt,nn-2),Vi);break;case 59:Mn+=";";default:if(C(Xn=ei(Mn,Re,tt,Gi,Bi,xt,ji,Hn,kn=[],us=[],nn),di),vn===123)if(Bi===0)Ft(Mn,Re,Xn,Xn,kn,di,nn,ji,us);else switch(sn===99&&a(Mn,3)===110?100:sn){case 100:case 108:case 109:case 115:Ft(ge,Xn,Xn,lt&&C(ei(ge,Xn,Xn,0,0,xt,ji,Hn,xt,kn=[],nn),us),xt,us,nn,ji,lt?kn:us);break;default:Ft(Mn,Xn,Xn,Xn,[""],us,0,ji,us)}}Gi=Bi=hn=0,mn=bn=1,Hn=Mn="",nn=Di;break;case 58:nn=1+g(Mn),hn=Cn;default:if(mn<1){if(vn==123)--mn;else if(vn==125&&mn++==0&&R()==125)continue}switch(Mn+=o(vn),vn*mn){case 38:bn=Bi>0?1:(Mn+="\f",-1);break;case 44:ji[Gi++]=(g(Mn)-1)*bn,bn=1;break;case 64:H()===45&&(Mn+=m(A())),sn=H(),Bi=nn=g(Hn=Mn+=pe(U())),vn++;break;case 45:Cn===45&&g(Mn)==2&&(mn=0)}}return di}function ei(ge,Re,tt,lt,xt,di,Di,ji,Vi,Gi,Bi){for(var nn=xt-1,sn=xt===0?di:[""],hn=y(sn),Cn=0,mn=0,xn=0;Cn<lt;++Cn)for(var bn=0,vn=S(ge,nn+1,nn=p(mn=Di[Cn])),Hn=ge;bn<hn;++bn)(Hn=i(mn>0?sn[bn]+" "+vn:f(vn,/&\f/g,sn[bn])))&&(Vi[xn++]=Hn);return P(ge,Re,tt,xt===0?We:ji,Vi,Gi,Bi)}function Xt(ge,Re,tt){return P(ge,Re,tt,Ne,o(V()),S(ge,2,-2),0)}function Ct(ge,Re,tt,lt){return P(ge,Re,tt,ze,S(ge,0,lt),S(ge,lt+1,-1),lt)}var ft=function(Re,tt,lt){for(var xt=0,di=0;xt=di,di=H(),xt===38&&di===12&&(tt[lt]=1),!j(di);)A();return G(Re,B)},Bt=function(Re,tt){var lt=-1,xt=44;do switch(j(xt)){case 0:xt===38&&H()===12&&(tt[lt]=1),Re[lt]+=ft(B-1,tt,lt);break;case 2:Re[lt]+=m(xt);break;case 4:if(xt===44){Re[++lt]=H()===58?"&\f":"",tt[lt]=Re[lt].length;break}default:Re[lt]+=o(xt)}while(xt=A());return Re},kt=function(Re,tt){return K(Bt(W(Re),tt))},Ge=new WeakMap,St=function(Re){if(!(Re.type!=="rule"||!Re.parent||Re.length<1)){for(var tt=Re.value,lt=Re.parent,xt=Re.column===lt.column&&Re.line===lt.line;lt.type!=="rule";)if(lt=lt.parent,!lt)return;if(!(Re.props.length===1&&tt.charCodeAt(0)!==58&&!Ge.get(lt))&&!xt){Ge.set(Re,!0);for(var di=[],Di=kt(tt,di),ji=lt.props,Vi=0,Gi=0;Vi<Di.length;Vi++)for(var Bi=0;Bi<ji.length;Bi++,Gi++)Re.props[Gi]=di[Vi]?Di[Vi].replace(/&\f/g,ji[Bi]):ji[Bi]+" "+Di[Vi]}}},Ci=function(Re){if(Re.type==="decl"){var tt=Re.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(Re.return="",Re.value="")}},Oi="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",xi=function(Re){return Re.type==="comm"&&Re.children.indexOf(Oi)>-1},Yi=function(Re){return function(tt,lt,xt){if(!(tt.type!=="rule"||Re.compat)){var di=tt.value.match(/(:first|:nth|:nth-last)-child/g);if(di){for(var Di=!!tt.parent,ji=Di?tt.parent.children:xt,Vi=ji.length-1;Vi>=0;Vi--){var Gi=ji[Vi];if(Gi.line<tt.line)break;if(Gi.column<tt.column){if(xi(Gi))return;break}}di.forEach(function(Bi){console.error('The pseudo class "'+Bi+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+Bi.split("-child")[0]+'-of-type".')})}}}},fn=function(Re){return Re.type.charCodeAt(1)===105&&Re.type.charCodeAt(0)===64},un=function(Re,tt){for(var lt=Re-1;lt>=0;lt--)if(!fn(tt[lt]))return!0;return!1},Pn=function(Re){Re.type="",Re.value="",Re.return="",Re.children="",Re.props=""},Dn=function(Re,tt,lt){fn(Re)&&(Re.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),Pn(Re)):un(tt,lt)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),Pn(Re)))};function Gn(ge,Re){switch(u(ge,Re)){case 5103:return ae+"print-"+ge+ge;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ae+ge+ge;case 5349:case 4246:case 4810:case 6968:case 2756:return ae+ge+De+ge+Te+ge+ge;case 6828:case 4268:return ae+ge+Te+ge+ge;case 6165:return ae+ge+Te+"flex-"+ge+ge;case 5187:return ae+ge+f(ge,/(\w+).+(:[^]+)/,ae+"box-$1$2"+Te+"flex-$1$2")+ge;case 5443:return ae+ge+Te+"flex-item-"+f(ge,/flex-|-self/,"")+ge;case 4675:return ae+ge+Te+"flex-line-pack"+f(ge,/align-content|flex-|-self/,"")+ge;case 5548:return ae+ge+Te+f(ge,"shrink","negative")+ge;case 5292:return ae+ge+Te+f(ge,"basis","preferred-size")+ge;case 6060:return ae+"box-"+f(ge,"-grow","")+ae+ge+Te+f(ge,"grow","positive")+ge;case 4554:return ae+f(ge,/([^-])(transform)/g,"$1"+ae+"$2")+ge;case 6187:return f(f(f(ge,/(zoom-|grab)/,ae+"$1"),/(image-set)/,ae+"$1"),ge,"")+ge;case 5495:case 3959:return f(ge,/(image-set\([^]*)/,ae+"$1$`$1");case 4968:return f(f(ge,/(.+:)(flex-)?(.*)/,ae+"box-pack:$3"+Te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ae+ge+ge;case 4095:case 3583:case 4068:case 2532:return f(ge,/(.+)-inline(.+)/,ae+"$1$2")+ge;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g(ge)-1-Re>6)switch(a(ge,Re+1)){case 109:if(a(ge,Re+4)!==45)break;case 102:return f(ge,/(.+:)(.+)-([^]+)/,"$1"+ae+"$2-$3$1"+De+(a(ge,Re+3)==108?"$3":"$2-$3"))+ge;case 115:return~v(ge,"stretch")?Gn(f(ge,"stretch","fill-available"),Re)+ge:ge}break;case 4949:if(a(ge,Re+1)!==115)break;case 6444:switch(a(ge,g(ge)-3-(~v(ge,"!important")&&10))){case 107:return f(ge,":",":"+ae)+ge;case 101:return f(ge,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ae+(a(ge,14)===45?"inline-":"")+"box$3$1"+ae+"$2$3$1"+Te+"$2box$3")+ge}break;case 5936:switch(a(ge,Re+11)){case 114:return ae+ge+Te+f(ge,/[svh]\w+-[tblr]{2}/,"tb")+ge;case 108:return ae+ge+Te+f(ge,/[svh]\w+-[tblr]{2}/,"tb-rl")+ge;case 45:return ae+ge+Te+f(ge,/[svh]\w+-[tblr]{2}/,"lr")+ge}return ae+ge+Te+ge+ge}return ge}var Rn=function(Re,tt,lt,xt){if(Re.length>-1&&!Re.return)switch(Re.type){case ze:Re.return=Gn(Re.value,Re.length);break;case se:return Qe([w(Re,{value:f(Re.value,"@","@"+ae)})],xt);case We:if(Re.length)return L(Re.props,function(di){switch(n(di,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qe([w(Re,{props:[f(di,/:(read-\w+)/,":"+De+"$1")]})],xt);case"::placeholder":return Qe([w(Re,{props:[f(di,/:(plac\w+)/,":"+ae+"input-$1")]}),w(Re,{props:[f(di,/:(plac\w+)/,":"+De+"$1")]}),w(Re,{props:[f(di,/:(plac\w+)/,Te+"input-$1")]})],xt)}return""})}},ns=[Rn],ts=function(Re){var tt=Re.key;if(tt==="css"){var lt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(lt,function(mn){var xn=mn.getAttribute("data-emotion");xn.indexOf(" ")!==-1&&(document.head.appendChild(mn),mn.setAttribute("data-s",""))})}var xt=Re.stylisPlugins||ns,di={},Di,ji=[];Di=Re.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tt+' "]'),function(mn){for(var xn=mn.getAttribute("data-emotion").split(" "),bn=1;bn<xn.length;bn++)di[xn[bn]]=!0;ji.push(mn)});var Vi,Gi=[St,Ci];{var Bi,nn=[rt,at(function(mn){Bi.insert(mn)})],sn=Dt(Gi.concat(xt,nn)),hn=function(xn){return Qe(ti(xn),sn)};Vi=function(xn,bn,vn,Hn){Bi=vn,hn(xn?xn+"{"+bn.styles+"}":bn.styles),Hn&&(Cn.inserted[bn.name]=!0)}}var Cn={key:tt,sheet:new D({key:tt,container:Di,nonce:Re.nonce,speedy:Re.speedy,prepend:Re.prepend,insertionPoint:Re.insertionPoint}),nonce:Re.nonce,inserted:di,registered:{},insert:Vi};return Cn.sheet.hydrate(ji),Cn};function qn(ge){for(var Re=0,tt,lt=0,xt=ge.length;xt>=4;++lt,xt-=4)tt=ge.charCodeAt(lt)&255|(ge.charCodeAt(++lt)&255)<<8|(ge.charCodeAt(++lt)&255)<<16|(ge.charCodeAt(++lt)&255)<<24,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),tt^=tt>>>24,Re=(tt&65535)*1540483477+((tt>>>16)*59797<<16)^(Re&65535)*1540483477+((Re>>>16)*59797<<16);switch(xt){case 3:Re^=(ge.charCodeAt(lt+2)&255)<<16;case 2:Re^=(ge.charCodeAt(lt+1)&255)<<8;case 1:Re^=ge.charCodeAt(lt)&255,Re=(Re&65535)*1540483477+((Re>>>16)*59797<<16)}return Re^=Re>>>13,Re=(Re&65535)*1540483477+((Re>>>16)*59797<<16),((Re^Re>>>15)>>>0).toString(36)}var fs={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Nn(ge){var Re=Object.create(null);return function(tt){return Re[tt]===void 0&&(Re[tt]=ge(tt)),Re[tt]}}var cs=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,Ei="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",et=/[A-Z]|^ms/g,wt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yt=function(Re){return Re.charCodeAt(1)===45},ri=function(Re){return Re!=null&&typeof Re!="boolean"},vi=Nn(function(ge){return Yt(ge)?ge:ge.replace(et,"-$&").toLowerCase()}),Wi=function(Re,tt){switch(Re){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(wt,function(lt,xt,di){return Mi={name:xt,styles:di,next:Mi},xt})}return fs[Re]!==1&&!Yt(Re)&&typeof tt=="number"&&tt!==0?tt+"px":tt};if(!1)var $i,Ot,yt,si,ii,Ui;var an=null;function en(ge,Re,tt){if(tt==null)return"";if(tt.__emotion_styles!==void 0)return tt;switch(typeof tt){case"boolean":return"";case"object":{if(tt.anim===1)return Mi={name:tt.name,styles:tt.styles,next:Mi},tt.name;if(tt.styles!==void 0){var lt=tt.next;if(lt!==void 0)for(;lt!==void 0;)Mi={name:lt.name,styles:lt.styles,next:Mi},lt=lt.next;var xt=tt.styles+";";return xt}return In(ge,Re,tt)}case"function":{if(ge!==void 0){var di=Mi,Di=tt(ge);return Mi=di,en(ge,Re,Di)}break}case"string":if(!1)var ji,Vi;break}if(Re==null)return tt;var Gi=Re[tt];return Gi!==void 0?Gi:tt}function In(ge,Re,tt){var lt="";if(Array.isArray(tt))for(var xt=0;xt<tt.length;xt++)lt+=en(ge,Re,tt[xt])+";";else for(var di in tt){var Di=tt[di];if(typeof Di!="object")Re!=null&&Re[Di]!==void 0?lt+=di+"{"+Re[Di]+"}":ri(Di)&&(lt+=vi(di)+":"+Wi(di,Di)+";");else if(Array.isArray(Di)&&typeof Di[0]=="string"&&(Re==null||Re[Di[0]]===void 0))for(var ji=0;ji<Di.length;ji++)ri(Di[ji])&&(lt+=vi(di)+":"+Wi(di,Di[ji])+";");else{var Vi=en(ge,Re,Di);switch(di){case"animation":case"animationName":{lt+=vi(di)+":"+Vi+";";break}default:lt+=di+"{"+Vi+"}"}}}return lt}var Fn=/label:\s*([^\s;\n{]+)\s*(;|$)/g,On,Mi,_i=function(Re,tt,lt){if(Re.length===1&&typeof Re[0]=="object"&&Re[0]!==null&&Re[0].styles!==void 0)return Re[0];var xt=!0,di="";Mi=void 0;var Di=Re[0];Di==null||Di.raw===void 0?(xt=!1,di+=en(lt,tt,Di)):di+=Di[0];for(var ji=1;ji<Re.length;ji++)di+=en(lt,tt,Re[ji]),xt&&(di+=Di[ji]);var Vi;Fn.lastIndex=0;for(var Gi="",Bi;(Bi=Fn.exec(di))!==null;)Gi+="-"+Bi[1];var nn=qn(di)+Gi;return{name:nn,styles:di,next:Mi}},Ii=!0;function Ht(ge,Re,tt){var lt="";return tt.split(" ").forEach(function(xt){ge[xt]!==void 0?Re.push(ge[xt]+";"):lt+=xt+" "}),lt}var Zt=function(Re,tt,lt){var xt=Re.key+"-"+tt.name;(lt===!1||Ii===!1)&&Re.registered[xt]===void 0&&(Re.registered[xt]=tt.styles)},hi=function(Re,tt,lt){Zt(Re,tt,lt);var xt=Re.key+"-"+tt.name;if(Re.inserted[tt.name]===void 0){var di=tt;do Re.insert(tt===di?"."+xt:"",di,Re.sheet,!0),di=di.next;while(di!==void 0)}};function Wt(ge,Re){if(ge.inserted[Re.name]===void 0)return ge.insert("",Re,ge.sheet,!0)}function qe(ge,Re,tt){var lt=[],xt=Ht(ge,lt,tt);return lt.length<2?tt:xt+Re(lt)}var ee=function(Re){var tt=ts(Re);tt.sheet.speedy=function(ji){this.isSpeedy=ji},tt.compat=!0;var lt=function(){for(var Vi=arguments.length,Gi=new Array(Vi),Bi=0;Bi<Vi;Bi++)Gi[Bi]=arguments[Bi];var nn=_i(Gi,tt.registered,void 0);return hi(tt,nn,!1),tt.key+"-"+nn.name},xt=function(){for(var Vi=arguments.length,Gi=new Array(Vi),Bi=0;Bi<Vi;Bi++)Gi[Bi]=arguments[Bi];var nn=_i(Gi,tt.registered),sn="animation-"+nn.name;return Wt(tt,{name:nn.name,styles:"@keyframes "+sn+"{"+nn.styles+"}"}),sn},di=function(){for(var Vi=arguments.length,Gi=new Array(Vi),Bi=0;Bi<Vi;Bi++)Gi[Bi]=arguments[Bi];var nn=_i(Gi,tt.registered);Wt(tt,nn)},Di=function(){for(var Vi=arguments.length,Gi=new Array(Vi),Bi=0;Bi<Vi;Bi++)Gi[Bi]=arguments[Bi];return qe(tt.registered,lt,de(Gi))};return{css:lt,cx:Di,injectGlobal:di,keyframes:xt,hydrate:function(Vi){Vi.forEach(function(Gi){tt.inserted[Gi]=!0})},flush:function(){tt.registered={},tt.inserted={},tt.sheet.flush()},sheet:tt.sheet,cache:tt,getRegisteredStyles:Ht.bind(null,tt.registered),merge:qe.bind(null,tt.registered,lt)}},de=function ge(Re){for(var tt="",lt=0;lt<Re.length;lt++){var xt=Re[lt];if(xt!=null){var di=void 0;switch(typeof xt){case"boolean":break;case"object":{if(Array.isArray(xt))di=ge(xt);else{di="";for(var Di in xt)xt[Di]&&Di&&(di&&(di+=" "),di+=Di)}break}default:di=xt}di&&(tt&&(tt+=" "),tt+=di)}}return tt},re=ee({key:"css"}),Ce=re.flush,we=re.hydrate,be=re.cx,ke=re.merge,He=re.getRegisteredStyles,Ye=re.injectGlobal,ut=re.keyframes,$t=re.css,gi=re.sheet,ci=re.cache,ai=function(){function ge(){(0,c.Z)(this,ge),(0,z.Z)(this,"_cacheList",[ci])}return(0,_.Z)(ge,[{key:"add",value:function(tt){var lt=this.getCache(tt.key);return lt||(this._cacheList.push(tt),tt)}},{key:"delete",value:function(tt){this._cacheList=this._cacheList.filter(function(lt){return lt.key!==tt.key})}},{key:"hasCache",value:function(tt){return this._cacheList.some(function(lt){return lt.key===tt.key})}},{key:"getCache",value:function(tt){return this._cacheList.find(function(lt){return lt.key===tt})}},{key:"getCacheList",value:function(){return this._cacheList}}]),ge}(),ct=typeof document!="undefined",Nt=function(Re,tt){return"".concat(Re,"-").concat(tt)},Et=function(Re,tt,lt,xt){var di=xt.hashPriority||"high";Zt(Re,tt,lt);var Di=".".concat(Nt(Re.key,tt.name)),ji=di==="low"?":where(".concat(Di,")"):Di;if(Re.inserted[tt.name]===void 0){var Vi="",Gi=tt;do{var Bi=Re.insert(tt===Gi?ji:"",Gi,Re.sheet,!0);!ct&&Bi!==void 0&&(Vi+=Bi),Gi=Gi.next}while(Gi!==void 0);if(!ct&&Vi.length!==0)return Vi}},It=e(71002),Gt=function(Re){return(0,It.Z)(Re)==="object"&&"styles"in Re&&"name"in Re&&"toString"in Re},zt=function ge(Re){for(var tt="",lt=0;lt<Re.length;lt++){var xt=Re[lt];if(xt!==null){var di=void 0;switch((0,It.Z)(xt)){case"boolean":break;case"object":{if(Array.isArray(xt))di=ge(xt);else{di="";for(var Di in xt)xt[Di]&&Di&&(di&&(di+=" "),di+=Di)}break}default:di=xt}di&&(tt&&(tt+=" "),tt+=di)}}return tt},mi=function(Re,tt,lt){var xt=[],di=Ht(Re,xt,lt);return xt.length<2?lt:di+tt(xt)},ui=function(Re,tt){return function(){for(var lt=arguments.length,xt=new Array(lt),di=0;di<lt;di++)xt[di]=arguments[di];var Di=_i(xt,Re.registered,void 0);return Et(Re,Di,!1,tt),Nt(Re.key,Di.name)}},Ti=function(Re,tt){return function(){for(var lt=arguments.length,xt=new Array(lt),di=0;di<lt;di++)xt[di]=arguments[di];var Di=xt.map(function(ji){return Gt(ji)?tt(ji):ji});return mi(Re.registered,tt,zt(Di))}},Ri=function(Re,tt){var lt=ui(Re,{hashPriority:tt.hashPriority||"high",label:tt.label}),xt=Ti(Re,lt);return{css:lt,cx:xt}},tn=function(){for(var Re=arguments.length,tt=new Array(Re),lt=0;lt<Re;lt++)tt[lt]=arguments[lt];return _i(tt)},gn=function(Re){return(0,r.createContext)(Re)},wn=e(87462),An=function(Re){var tt=new WeakMap;return function(lt){if(tt.has(lt))return tt.get(lt);var xt=Re(lt);return tt.set(lt,xt),xt}},Bn=function(Re){return Re()},Tn=E["useInsertionEffect"]?E["useInsertionEffect"]:!1,es=null,Un=Tn||r.useLayoutEffect,yn=!0,ss={}.hasOwnProperty,os=r.createContext(typeof HTMLElement!="undefined"?ts({key:"css"}):null),pi=os.Provider,$e=function(){return useContext(os)},ht=function(Re){return(0,r.forwardRef)(function(tt,lt){var xt=(0,r.useContext)(os);return Re(tt,xt,lt)})};yn||(ht=function(Re){return function(tt){var lt=(0,r.useContext)(os);return lt===null?(lt=ts({key:"css"}),r.createElement(os.Provider,{value:lt},Re(tt,lt))):Re(tt,lt)}});var gt=r.createContext({}),li=function(){return React.useContext(gt)},ni=function(Re,tt){if(typeof tt=="function"){var lt=tt(Re);return lt}return(0,wn.Z)({},Re,tt)},bi=An(function(ge){return An(function(Re){return ni(ge,Re)})}),Si=function(Re){var tt=r.useContext(gt);return Re.theme!==tt&&(tt=bi(tt)(Re.theme)),r.createElement(gt.Provider,{value:tt},Re.children)};function yi(ge){var Re=ge.displayName||ge.name||"Component",tt=function(di,Di){var ji=React.useContext(gt);return React.createElement(ge,_extends({theme:ji,ref:Di},di))},lt=React.forwardRef(tt);return lt.displayName="WithTheme("+Re+")",hoistNonReactStatics(lt,ge)}var Pi=function(Re){var tt=Re.split(".");return tt[tt.length-1]},Qi=function(Re){var tt=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(Re);if(tt||(tt=/^([A-Za-z0-9$.]+)@/.exec(Re),tt))return Pi(tt[1])},Hi=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),Fi=function(Re){return Re.replace(/\$/g,"-")},bt=function(Re){if(Re)for(var tt=Re.split(`
`),lt=0;lt<tt.length;lt++){var xt=Qi(tt[lt]);if(xt){if(Hi.has(xt))break;if(/^[A-Z]/.test(xt))return Fi(xt)}}},k="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",te="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",ue=function(Re,tt){var lt={};for(var xt in tt)ss.call(tt,xt)&&(lt[xt]=tt[xt]);if(lt[k]=Re,!1)var di;return lt},Fe=function(Re){var tt=Re.cache,lt=Re.serialized,xt=Re.isStringTag;return registerStyles(tt,lt,xt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,lt,xt)}),null},Ze=null,it=null,dt=e(8679),_t={name:"@emotion/react",version:"11.11.1",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",browser:{"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},exports:{".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},import:"./dist/emotion-react.cjs.mjs",default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},import:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}},types:"types/index.d.ts",files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.*"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.11.0","@emotion/cache":"^11.11.0","@emotion/serialize":"^1.1.2","@emotion/use-insertion-effect-with-fallbacks":"^1.0.1","@emotion/utils":"^1.2.1","@emotion/weak-memoize":"^0.3.1","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.11.0","@emotion/css-prettifier":"1.1.3","@emotion/server":"11.11.0","@emotion/styled":"11.11.0","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}}}}},st=function(Re,tt){var lt=arguments;if(tt==null||!hasOwnProperty.call(tt,"css"))return React.createElement.apply(void 0,lt);var xt=lt.length,di=new Array(xt);di[0]=Emotion,di[1]=createEmotionProps(Re,tt);for(var Di=2;Di<xt;Di++)di[Di]=lt[Di];return React.createElement.apply(null,di)},Q=!1,he=ht(function(ge,Re){var tt=ge.styles,lt=_i([tt],void 0,r.useContext(gt));if(!yn){for(var xt,di=lt.name,Di=lt.styles,ji=lt.next;ji!==void 0;)di+=" "+ji.name,Di+=ji.styles,ji=ji.next;var Vi=Re.compat===!0,Gi=Re.insert("",{name:di,styles:Di},Re.sheet,Vi);return Vi?null:r.createElement("style",(xt={},xt["data-emotion"]=Re.key+"-global "+di,xt.dangerouslySetInnerHTML={__html:Gi},xt.nonce=Re.sheet.nonce,xt))}var Bi=r.useRef();return Un(function(){var nn=Re.key+"-global",sn=new Re.sheet.constructor({key:nn,nonce:Re.sheet.nonce,container:Re.sheet.container,speedy:Re.sheet.isSpeedy}),hn=!1,Cn=document.querySelector('style[data-emotion="'+nn+" "+lt.name+'"]');return Re.sheet.tags.length&&(sn.before=Re.sheet.tags[0]),Cn!==null&&(hn=!0,Cn.setAttribute("data-emotion",nn),sn.hydrate([Cn])),Bi.current=[sn,hn],function(){sn.flush()}},[Re]),Un(function(){var nn=Bi.current,sn=nn[0],hn=nn[1];if(hn){nn[1]=!1;return}if(lt.next!==void 0&&hi(Re,lt.next,!0),sn.tags.length){var Cn=sn.tags[sn.tags.length-1].nextElementSibling;sn.before=Cn,sn.flush()}Re.insert("",lt,sn,!1)},[Re,lt.name]),null});function Be(){for(var ge=arguments.length,Re=new Array(ge),tt=0;tt<ge;tt++)Re[tt]=arguments[tt];return serializeStyles(Re)}var nt=function(){var Re=Be.apply(void 0,arguments),tt="animation-"+Re.name;return{name:tt,styles:"@keyframes "+tt+"{"+Re.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},pt=function ge(Re){for(var tt=Re.length,lt=0,xt="";lt<tt;lt++){var di=Re[lt];if(di!=null){var Di=void 0;switch(typeof di){case"boolean":break;case"object":{if(Array.isArray(di))Di=ge(di);else{Di="";for(var ji in di)di[ji]&&ji&&(Di&&(Di+=" "),Di+=ji)}break}default:Di=di}Di&&(xt&&(xt+=" "),xt+=Di)}}return xt};function Tt(ge,Re,tt){var lt=[],xt=getRegisteredStyles(ge,lt,tt);return lt.length<2?tt:xt+Re(lt)}var Vt=function(Re){var tt=Re.cache,lt=Re.serializedArr;return useInsertionEffectAlwaysWithSyncFallback(function(){for(var xt=0;xt<lt.length;xt++)insertStyles(tt,lt[xt],!1)}),null},oi=null;if(!1)var Ai,zi,cn,dn;var on=e(85893);function Ki(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function ln(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?Ki(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):Ki(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var pn=function(Re){return function(){for(var tt=arguments.length,lt=new Array(tt),xt=0;xt<tt;xt++)lt[xt]=arguments[xt];return(0,r.memo)(function(di){var Di=Re();return(0,on.jsx)(he,{styles:_i(lt,void 0,ln(ln({},di),{},{theme:Di}))})})}},Jn=function(Re){return function(tt){var lt=Re(tt);return function(xt){var di=lt(xt),Di=di.styles;return Di}}},xs=e(91),rs=e(43109),Ys=["children","prefix","speedy","getStyleManager","container","nonce","insertionPoint","stylisPlugins","linters"];function jn(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function Es(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?jn(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):jn(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var _s=function(Re){return(0,r.memo)(function(tt){var lt=tt.children,xt=tt.prefix,di=tt.speedy,Di=tt.getStyleManager,ji=tt.container,Vi=tt.nonce,Gi=tt.insertionPoint,Bi=tt.stylisPlugins,nn=tt.linters,sn=(0,xs.Z)(tt,Ys),hn=(0,r.useContext)(Re),Cn=xt!=null?xt:hn.sheet.key,mn=ji!=null?ji:hn.sheet.container,xn=di!=null?di:hn.sheet.isSpeedy,bn=(0,r.useMemo)(function(){var Hn=!1,kn=ee({speedy:xn!=null?xn:Hn,key:Cn,container:mn,nonce:Vi,insertionPoint:Gi,stylisPlugins:Bi});if(typeof e.g!="undefined"){var us=e.g.__ANTD_STYLE_CACHE_MANAGER_FOR_SSR__;us&&(kn.cache=us.add(kn.cache))}return kn},[Cn,xn,mn,Vi,Gi,Bi]);(0,r.useEffect)(function(){Di==null||Di(bn)},[bn]);var vn=(0,on.jsx)(Re.Provider,{value:bn,children:lt});return Object.keys(sn).length||mn?(0,on.jsx)(rs.V9,Es(Es({linters:nn,container:mn},sn),{},{children:vn})):vn})},Qn=e(97685),Ds=e(9361),zs=function(){var Re=Ds.Z.useToken(),tt=Re.token;return tt};function ao(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function yr(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?ao(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):ao(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var ws=function(Re){return yr(yr({},Re),{},{mobile:Re.xs,tablet:Re.md,laptop:Re.lg,desktop:Re.xxl})},$s=function(){var Re=zs(),tt={xs:"@media (max-width: ".concat(Re.screenXSMax,"px)"),sm:"@media (max-width: ".concat(Re.screenSMMax,"px)"),md:"@media (max-width: ".concat(Re.screenMDMax,"px)"),lg:"@media (max-width: ".concat(Re.screenLGMax,"px)"),xl:"@media (max-width: ".concat(Re.screenXLMax,"px)"),xxl:"@media (min-width: ".concat(Re.screenXXLMin,"px)")};return(0,r.useMemo)(function(){return ws(tt)},[Re])},Qo=function(Re,tt){return Object.entries(Re).map(function(lt){var xt=(0,Qn.Z)(lt,2),di=xt[0],Di=xt[1],ji=Di;return Gt(Di)||(ji=tn(Di)),tt[di]?"".concat(tt[di]," {").concat(ji.styles,"}"):""}).join("")},La=["stylish","appearance","isDarkMode","prefixCls","iconPrefixCls"],Fo=["prefixCls","iconPrefixCls"],cr=function(Re){var tt=Re.hashPriority,lt=Re.useTheme,xt=Re.EmotionContext;return function(di,Di){var ji=Di==null?void 0:Di.__BABEL_FILE_NAME__,Vi=!!ji;return function(Gi){var Bi=lt(),nn=(0,r.useContext)(xt),sn=nn.cache,hn=Ri(sn,{hashPriority:(Di==null?void 0:Di.hashPriority)||tt,label:Di==null?void 0:Di.label}),Cn=hn.cx,mn=hn.css,xn=$s(),bn=(0,r.useMemo)(function(){var vn;if(di instanceof Function){var Hn=Bi.stylish,kn=Bi.appearance,us=Bi.isDarkMode,Xn=Bi.prefixCls,Mn=Bi.iconPrefixCls,gs=(0,xs.Z)(Bi,La),hs=function(vs){return Qo(vs,xn)};Object.assign(hs,xn),vn=di({token:gs,stylish:Hn,appearance:kn,isDarkMode:us,prefixCls:Xn,iconPrefixCls:Mn,cx:Cn,css:tn,responsive:hs},Gi)}else vn=di;return(0,It.Z)(vn)==="object"&&(Gt(vn)?vn=mn(vn):vn=Object.fromEntries(Object.entries(vn).map(function(ps){var vs=(0,Qn.Z)(ps,2),js=vs[0],Vs=vs[1],io=Vi?"".concat(ji,"-").concat(js):void 0;return(0,It.Z)(Vs)==="object"?Vi?[js,mn(Vs,"label:".concat(io))]:[js,mn(Vs)]:[js,Vs]}))),vn},[Gi,Bi]);return(0,r.useMemo)(function(){var vn=Bi.prefixCls,Hn=Bi.iconPrefixCls,kn=(0,xs.Z)(Bi,Fo);return{styles:bn,cx:Cn,theme:kn,prefixCls:vn,iconPrefixCls:Hn}},[bn,Bi])}}},Lo=Si,dr=gt,Sr=function(Re){if(!Re.ThemeContext)throw"ThemeContext is required. Please check your config.";dr=Re.ThemeContext,Lo=createStyledThemeProvider(Re)},Gr=function(Re){if(Re.ThemeProvider)return Re.ThemeProvider;var tt=Re.ThemeContext;return function(lt){return(0,on.jsx)(tt.Provider,{value:lt.theme,children:lt.children})}},Us=e(74902),Bo=e(38135),lo=e(28459),Wo=e(89739),Eo=e(4340),wr=e(21640),Ho=e(78860),Zr=e(50888),Ea=e(94184),Ps=e.n(Ea),Os=e(1413),Yo=e(73935),xo=e(82225),ur=e(15105),Qr=r.forwardRef(function(ge,Re){var tt=ge.prefixCls,lt=ge.style,xt=ge.className,di=ge.duration,Di=di===void 0?4.5:di,ji=ge.eventKey,Vi=ge.content,Gi=ge.closable,Bi=ge.closeIcon,nn=Bi===void 0?"x":Bi,sn=ge.props,hn=ge.onClick,Cn=ge.onNoticeClose,mn=ge.times,xn=ge.hovering,bn=r.useState(!1),vn=(0,Qn.Z)(bn,2),Hn=vn[0],kn=vn[1],us=xn||Hn,Xn=function(){Cn(ji)},Mn=function(ps){(ps.key==="Enter"||ps.code==="Enter"||ps.keyCode===ur.Z.ENTER)&&Xn()};r.useEffect(function(){if(!us&&Di>0){var hs=setTimeout(function(){Xn()},Di*1e3);return function(){clearTimeout(hs)}}},[Di,us,mn]);var gs="".concat(tt,"-notice");return r.createElement("div",(0,wn.Z)({},sn,{ref:Re,className:Ps()(gs,xt,(0,z.Z)({},"".concat(gs,"-closable"),Gi)),style:lt,onMouseEnter:function(ps){var vs;kn(!0),sn==null||(vs=sn.onMouseEnter)===null||vs===void 0||vs.call(sn,ps)},onMouseLeave:function(ps){var vs;kn(!1),sn==null||(vs=sn.onMouseLeave)===null||vs===void 0||vs.call(sn,ps)},onClick:hn}),r.createElement("div",{className:"".concat(gs,"-content")},Vi),Gi&&r.createElement("a",{tabIndex:0,className:"".concat(gs,"-close"),onKeyDown:Mn,onClick:function(ps){ps.preventDefault(),ps.stopPropagation(),Xn()}},nn))}),Yr=Qr,Or=r.createContext({}),Ar=function(Re){var tt=Re.children,lt=Re.classNames;return r.createElement(Or.Provider,{value:{classNames:lt}},tt)},hr=Ar,Xr=8,Xo=3,kr=16,Jr=function(Re){var tt={offset:Xr,threshold:Xo,gap:kr};if(Re&&(0,It.Z)(Re)==="object"){var lt,xt,di;tt.offset=(lt=Re.offset)!==null&&lt!==void 0?lt:Xr,tt.threshold=(xt=Re.threshold)!==null&&xt!==void 0?xt:Xo,tt.gap=(di=Re.gap)!==null&&di!==void 0?di:kr}return[!!Re,tt]},Co=Jr,go=["className","style","classNames","styles"],Vn=function(Re){var tt,lt=Re.configList,xt=Re.placement,di=Re.prefixCls,Di=Re.className,ji=Re.style,Vi=Re.motion,Gi=Re.onAllNoticeRemoved,Bi=Re.onNoticeClose,nn=Re.stack,sn=(0,r.useContext)(Or),hn=sn.classNames,Cn=(0,r.useRef)({}),mn=(0,r.useState)(null),xn=(0,Qn.Z)(mn,2),bn=xn[0],vn=xn[1],Hn=(0,r.useState)([]),kn=(0,Qn.Z)(Hn,2),us=kn[0],Xn=kn[1],Mn=lt.map(function(eo){return{config:eo,key:String(eo.key)}}),gs=Co(nn),hs=(0,Qn.Z)(gs,2),ps=hs[0],vs=hs[1],js=vs.offset,Vs=vs.threshold,io=vs.gap,vo=ps&&(us.length>0||Mn.length<=Vs),No=typeof Vi=="function"?Vi(xt):Vi;return(0,r.useEffect)(function(){ps&&us.length>1&&Xn(function(eo){return eo.filter(function(Ro){return Mn.some(function(ho){var Oo=ho.key;return Ro===Oo})})})},[us,Mn,ps]),(0,r.useEffect)(function(){var eo;if(ps&&Cn.current[(eo=Mn[Mn.length-1])===null||eo===void 0?void 0:eo.key]){var Ro;vn(Cn.current[(Ro=Mn[Mn.length-1])===null||Ro===void 0?void 0:Ro.key])}},[Mn,ps]),r.createElement(xo.V4,(0,wn.Z)({key:xt,className:Ps()(di,"".concat(di,"-").concat(xt),hn==null?void 0:hn.list,Di,(tt={},(0,z.Z)(tt,"".concat(di,"-stack"),!!ps),(0,z.Z)(tt,"".concat(di,"-stack-expanded"),vo),tt)),style:ji,keys:Mn,motionAppear:!0},No,{onAllRemoved:function(){Gi(xt)}}),function(eo,Ro){var ho=eo.config,Oo=eo.className,Ao=eo.style,Go=eo.index,Ca=ho,Xa=Ca.key,Nl=Ca.times,ko=String(Xa),rr=ho,Ja=rr.className,ic=rr.style,ba=rr.classNames,jr=rr.styles,nc=(0,xs.Z)(rr,go),Qs=Mn.findIndex(function(Ml){return Ml.key===ko}),Rr={};if(ps){var qa=Mn.length-1-(Qs>-1?Qs:Go-1),sc=xt==="top"||xt==="bottom"?"-50%":"0";if(qa>0){var oc,Tl,el;Rr.height=vo?(oc=Cn.current[ko])===null||oc===void 0?void 0:oc.offsetHeight:bn==null?void 0:bn.offsetHeight;for(var Rc=0,rc=0;rc<qa;rc++){var ac;Rc+=((ac=Cn.current[Mn[Mn.length-1-rc].key])===null||ac===void 0?void 0:ac.offsetHeight)+io}var ud=(vo?Rc:qa*js)*(xt.startsWith("top")?1:-1),hd=!vo&&bn!==null&&bn!==void 0&&bn.offsetWidth&&(Tl=Cn.current[ko])!==null&&Tl!==void 0&&Tl.offsetWidth?((bn==null?void 0:bn.offsetWidth)-js*2*(qa<3?qa:3))/((el=Cn.current[ko])===null||el===void 0?void 0:el.offsetWidth):1;Rr.transform="translate3d(".concat(sc,", ").concat(ud,"px, 0) scaleX(").concat(hd,")")}else Rr.transform="translate3d(".concat(sc,", 0, 0)")}return r.createElement("div",{ref:Ro,className:Ps()("".concat(di,"-notice-wrapper"),Oo,ba==null?void 0:ba.wrapper),style:(0,Os.Z)((0,Os.Z)((0,Os.Z)({},Ao),Rr),jr==null?void 0:jr.wrapper),onMouseEnter:function(){return Xn(function(Kr){return Kr.includes(ko)?Kr:[].concat((0,Us.Z)(Kr),[ko])})},onMouseLeave:function(){return Xn(function(Kr){return Kr.filter(function(fd){return fd!==ko})})}},r.createElement(Yr,(0,wn.Z)({},nc,{ref:function(Kr){Qs>-1?Cn.current[ko]=Kr:delete Cn.current[ko]},prefixCls:di,classNames:ba,styles:jr,className:Ps()(Ja,hn==null?void 0:hn.notice),style:ic,times:Nl,key:Xa,eventKey:Xa,onNoticeClose:Bi,hovering:ps&&us.length>0})))})},jo=Vn,qr=r.forwardRef(function(ge,Re){var tt=ge.prefixCls,lt=tt===void 0?"rc-notification":tt,xt=ge.container,di=ge.motion,Di=ge.maxCount,ji=ge.className,Vi=ge.style,Gi=ge.onAllRemoved,Bi=ge.stack,nn=ge.renderNotifications,sn=r.useState([]),hn=(0,Qn.Z)(sn,2),Cn=hn[0],mn=hn[1],xn=function(hs){var ps,vs=Cn.find(function(js){return js.key===hs});vs==null||(ps=vs.onClose)===null||ps===void 0||ps.call(vs),mn(function(js){return js.filter(function(Vs){return Vs.key!==hs})})};r.useImperativeHandle(Re,function(){return{open:function(hs){mn(function(ps){var vs=(0,Us.Z)(ps),js=vs.findIndex(function(vo){return vo.key===hs.key}),Vs=(0,Os.Z)({},hs);if(js>=0){var io;Vs.times=(((io=ps[js])===null||io===void 0?void 0:io.times)||0)+1,vs[js]=Vs}else Vs.times=0,vs.push(Vs);return Di>0&&vs.length>Di&&(vs=vs.slice(-Di)),vs})},close:function(hs){xn(hs)},destroy:function(){mn([])}}});var bn=r.useState({}),vn=(0,Qn.Z)(bn,2),Hn=vn[0],kn=vn[1];r.useEffect(function(){var gs={};Cn.forEach(function(hs){var ps=hs.placement,vs=ps===void 0?"topRight":ps;vs&&(gs[vs]=gs[vs]||[],gs[vs].push(hs))}),Object.keys(Hn).forEach(function(hs){gs[hs]=gs[hs]||[]}),kn(gs)},[Cn]);var us=function(hs){kn(function(ps){var vs=(0,Os.Z)({},ps),js=vs[hs]||[];return js.length||delete vs[hs],vs})},Xn=r.useRef(!1);if(r.useEffect(function(){Object.keys(Hn).length>0?Xn.current=!0:Xn.current&&(Gi==null||Gi(),Xn.current=!1)},[Hn]),!xt)return null;var Mn=Object.keys(Hn);return(0,Yo.createPortal)(r.createElement(r.Fragment,null,Mn.map(function(gs){var hs=Hn[gs],ps=r.createElement(jo,{key:gs,configList:hs,placement:gs,prefixCls:lt,className:ji==null?void 0:ji(gs),style:Vi==null?void 0:Vi(gs),motion:di,onNoticeClose:xn,onAllNoticeRemoved:us,stack:Bi});return nn?nn(ps,{prefixCls:lt,key:gs}):ps})),xt)}),ea=qr,mo=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Jo=function(){return document.body},qo=0;function Fr(){for(var ge={},Re=arguments.length,tt=new Array(Re),lt=0;lt<Re;lt++)tt[lt]=arguments[lt];return tt.forEach(function(xt){xt&&Object.keys(xt).forEach(function(di){var Di=xt[di];Di!==void 0&&(ge[di]=Di)})}),ge}function ds(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=ge.getContainer,tt=Re===void 0?Jo:Re,lt=ge.motion,xt=ge.prefixCls,di=ge.maxCount,Di=ge.className,ji=ge.style,Vi=ge.onAllRemoved,Gi=ge.stack,Bi=ge.renderNotifications,nn=(0,xs.Z)(ge,mo),sn=r.useState(),hn=(0,Qn.Z)(sn,2),Cn=hn[0],mn=hn[1],xn=r.useRef(),bn=r.createElement(ea,{container:Cn,ref:xn,prefixCls:xt,motion:lt,maxCount:di,className:Di,style:ji,onAllRemoved:Vi,stack:Gi,renderNotifications:Bi}),vn=r.useState([]),Hn=(0,Qn.Z)(vn,2),kn=Hn[0],us=Hn[1],Xn=r.useMemo(function(){return{open:function(gs){var hs=Fr(nn,gs);(hs.key===null||hs.key===void 0)&&(hs.key="rc-notification-".concat(qo),qo+=1),us(function(ps){return[].concat((0,Us.Z)(ps),[{type:"open",config:hs}])})},close:function(gs){us(function(hs){return[].concat((0,Us.Z)(hs),[{type:"close",key:gs}])})},destroy:function(){us(function(gs){return[].concat((0,Us.Z)(gs),[{type:"destroy"}])})}}},[]);return r.useEffect(function(){mn(tt())}),r.useEffect(function(){xn.current&&kn.length&&(kn.forEach(function(Mn){switch(Mn.type){case"open":xn.current.open(Mn.config);break;case"close":xn.current.close(Mn.key);break;case"destroy":xn.current.destroy();break}}),us(function(Mn){return Mn.filter(function(gs){return!kn.includes(gs)})}))},[kn]),[Xn,bn]}var ms=e(53124),As=e(87263),ks=e(14747),Fs=e(91945),oo=e(45503);const Ns=ge=>{const{componentCls:Re,iconCls:tt,boxShadow:lt,colorText:xt,colorSuccess:di,colorError:Di,colorWarning:ji,colorInfo:Vi,fontSizeLG:Gi,motionEaseInOutCirc:Bi,motionDurationSlow:nn,marginXS:sn,paddingXS:hn,borderRadiusLG:Cn,zIndexPopup:mn,contentPadding:xn,contentBg:bn}=ge,vn=`${Re}-notice`,Hn=new rs.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:hn,transform:"translateY(0)",opacity:1}}),kn=new rs.E4("MessageMoveOut",{"0%":{maxHeight:ge.height,padding:hn,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),us={padding:hn,textAlign:"center",[`${Re}-custom-content > ${tt}`]:{verticalAlign:"text-bottom",marginInlineEnd:sn,fontSize:Gi},[`${vn}-content`]:{display:"inline-block",padding:xn,background:bn,borderRadius:Cn,boxShadow:lt,pointerEvents:"all"},[`${Re}-success > ${tt}`]:{color:di},[`${Re}-error > ${tt}`]:{color:Di},[`${Re}-warning > ${tt}`]:{color:ji},[`${Re}-info > ${tt},
      ${Re}-loading > ${tt}`]:{color:Vi}};return[{[Re]:Object.assign(Object.assign({},(0,ks.Wf)(ge)),{color:xt,position:"fixed",top:sn,width:"100%",pointerEvents:"none",zIndex:mn,[`${Re}-move-up`]:{animationFillMode:"forwards"},[`
        ${Re}-move-up-appear,
        ${Re}-move-up-enter
      `]:{animationName:Hn,animationDuration:nn,animationPlayState:"paused",animationTimingFunction:Bi},[`
        ${Re}-move-up-appear${Re}-move-up-appear-active,
        ${Re}-move-up-enter${Re}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${Re}-move-up-leave`]:{animationName:kn,animationDuration:nn,animationPlayState:"paused",animationTimingFunction:Bi},[`${Re}-move-up-leave${Re}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[Re]:{[`${vn}-wrapper`]:Object.assign({},us)}},{[`${Re}-notice-pure-panel`]:Object.assign(Object.assign({},us),{padding:0,textAlign:"start"})}]},bo=ge=>({zIndexPopup:ge.zIndexPopupBase+As.u6+10,contentBg:ge.colorBgElevated,contentPadding:`${(ge.controlHeightLG-ge.fontSize*ge.lineHeight)/2}px ${ge.paddingSM}px`});var ta=(0,Fs.I$)("Message",ge=>{const Re=(0,oo.TS)(ge,{height:150});return[Ns(Re)]},bo),Ko=e(35792),Lr=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};const tl={info:r.createElement(Ho.Z,null),success:r.createElement(Wo.Z,null),error:r.createElement(Eo.Z,null),warning:r.createElement(wr.Z,null),loading:r.createElement(Zr.Z,null)},Er=ge=>{let{prefixCls:Re,type:tt,icon:lt,children:xt}=ge;return r.createElement("div",{className:Ps()(`${Re}-custom-content`,`${Re}-${tt}`)},lt||tl[tt],r.createElement("span",null,xt))};var Br=ge=>{const{prefixCls:Re,className:tt,type:lt,icon:xt,content:di}=ge,Di=Lr(ge,["prefixCls","className","type","icon","content"]),{getPrefixCls:ji}=r.useContext(ms.E_),Vi=Re||ji("message"),Gi=(0,Ko.Z)(Vi),[Bi,nn]=ta(Vi,Gi);return Bi(r.createElement(Yr,Object.assign({},Di,{prefixCls:Vi,className:Ps()(tt,nn,`${Vi}-notice-pure-panel`,Gi),eventKey:"pure",duration:null,content:r.createElement(Er,{prefixCls:Vi,type:lt,icon:xt},di)})))},uo=e(97937),ia=e(27288);function xa(ge,Re){return{motionName:Re!=null?Re:`${ge}-move-up`}}function xr(ge){let Re;const tt=new Promise(xt=>{Re=ge(()=>{xt(!0)})}),lt=()=>{Re==null||Re()};return lt.then=(xt,di)=>tt.then(xt,di),lt.promise=tt,lt}var Dr=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};const Da=8,Ia=3,il=ge=>{let{children:Re,prefixCls:tt}=ge;const[lt,xt]=ta(tt);return lt(r.createElement(hr,{classNames:{list:xt,notice:xt}},Re))},Pl=(ge,Re)=>{let{prefixCls:tt,key:lt}=Re;return r.createElement(il,{prefixCls:tt,key:lt},ge)},nl=r.forwardRef((ge,Re)=>{const{top:tt,prefixCls:lt,getContainer:xt,maxCount:di,duration:Di=Ia,rtl:ji,transitionName:Vi,onAllRemoved:Gi}=ge,{getPrefixCls:Bi,getPopupContainer:nn,message:sn}=r.useContext(ms.E_),hn=lt||Bi("message"),Cn=()=>({left:"50%",transform:"translateX(-50%)",top:tt!=null?tt:Da}),mn=()=>Ps()({[`${hn}-rtl`]:ji}),xn=()=>xa(hn,Vi),bn=r.createElement("span",{className:`${hn}-close-x`},r.createElement(uo.Z,{className:`${hn}-close-icon`})),[vn,Hn]=ds({prefixCls:hn,style:Cn,className:mn,motion:xn,closable:!1,closeIcon:bn,duration:Di,getContainer:()=>(xt==null?void 0:xt())||(nn==null?void 0:nn())||document.body,maxCount:di,onAllRemoved:Gi,renderNotifications:Pl});return r.useImperativeHandle(Re,()=>Object.assign(Object.assign({},vn),{prefixCls:hn,message:sn})),Hn});let sl=0;function $o(ge){const Re=r.useRef(null),tt=(0,ia.ln)("Message");return[r.useMemo(()=>{const xt=Gi=>{var Bi;(Bi=Re.current)===null||Bi===void 0||Bi.close(Gi)},di=Gi=>{if(!Re.current){const Mn=()=>{};return Mn.then=()=>{},Mn}const{open:Bi,prefixCls:nn,message:sn}=Re.current,hn=`${nn}-notice`,{content:Cn,icon:mn,type:xn,key:bn,className:vn,style:Hn,onClose:kn}=Gi,us=Dr(Gi,["content","icon","type","key","className","style","onClose"]);let Xn=bn;return Xn==null&&(sl+=1,Xn=`antd-message-${sl}`),xr(Mn=>(Bi(Object.assign(Object.assign({},us),{key:Xn,content:r.createElement(Er,{prefixCls:nn,type:xn,icon:mn},Cn),placement:"top",className:Ps()(xn&&`${hn}-${xn}`,vn,sn==null?void 0:sn.className),style:Object.assign(Object.assign({},sn==null?void 0:sn.style),Hn),onClose:()=>{kn==null||kn(),Mn()}})),()=>{xt(Xn)}))},ji={open:di,destroy:Gi=>{var Bi;Gi!==void 0?xt(Gi):(Bi=Re.current)===null||Bi===void 0||Bi.destroy()}};return["info","success","warning","error","loading"].forEach(Gi=>{const Bi=(nn,sn,hn)=>{let Cn;nn&&typeof nn=="object"&&"content"in nn?Cn=nn:Cn={content:nn};let mn,xn;typeof sn=="function"?xn=sn:(mn=sn,xn=hn);const bn=Object.assign(Object.assign({onClose:xn,duration:mn},Cn),{type:Gi});return di(bn)};ji[Gi]=Bi}),ji},[]),r.createElement(nl,Object.assign({key:"message-holder"},ge,{ref:Re}))]}function Na(ge){return $o(ge)}let Do=null,Io=ge=>ge(),fr=[],gr={};function er(){const{prefixCls:ge,getContainer:Re,duration:tt,rtl:lt,maxCount:xt,top:di}=gr,Di=ge!=null?ge:(0,lo.w6)().getPrefixCls("message"),ji=(Re==null?void 0:Re())||document.body;return{prefixCls:Di,getContainer:()=>ji,duration:tt,rtl:lt,maxCount:xt,top:di}}const ol=r.forwardRef((ge,Re)=>{const[tt,lt]=r.useState(er),[xt,di]=$o(tt),Di=(0,lo.w6)(),ji=Di.getRootPrefixCls(),Vi=Di.getIconPrefixCls(),Gi=Di.getTheme(),Bi=()=>{lt(er)};return r.useEffect(Bi,[]),r.useImperativeHandle(Re,()=>{const nn=Object.assign({},xt);return Object.keys(nn).forEach(sn=>{nn[sn]=function(){return Bi(),xt[sn].apply(xt,arguments)}}),{instance:nn,sync:Bi}}),r.createElement(lo.ZP,{prefixCls:ji,iconPrefixCls:Vi,theme:Gi},di)});function tr(){if(!Do){const ge=document.createDocumentFragment(),Re={fragment:ge};Do=Re,Io(()=>{(0,Bo.s)(r.createElement(ol,{ref:tt=>{const{instance:lt,sync:xt}=tt||{};Promise.resolve().then(()=>{!Re.instance&&lt&&(Re.instance=lt,Re.sync=xt,tr())})}}),ge)});return}Do.instance&&(fr.forEach(ge=>{const{type:Re,skipped:tt}=ge;if(!tt)switch(Re){case"open":{Io(()=>{const lt=Do.instance.open(Object.assign(Object.assign({},gr),ge.config));lt==null||lt.then(ge.resolve),ge.setCloseFn(lt)});break}case"destroy":Io(()=>{Do==null||Do.instance.destroy(ge.key)});break;default:Io(()=>{var lt;const xt=(lt=Do.instance)[Re].apply(lt,(0,Us.Z)(ge.args));xt==null||xt.then(ge.resolve),ge.setCloseFn(xt)})}}),fr=[])}function na(ge){gr=Object.assign(Object.assign({},gr),ge),Io(()=>{var Re;(Re=Do==null?void 0:Do.sync)===null||Re===void 0||Re.call(Do)})}function sa(ge){const Re=xr(tt=>{let lt;const xt={type:"open",config:ge,resolve:tt,setCloseFn:di=>{lt=di}};return fr.push(xt),()=>{lt?Io(()=>{lt()}):xt.skipped=!0}});return tr(),Re}function oa(ge,Re){const tt=xr(lt=>{let xt;const di={type:ge,args:Re,resolve:lt,setCloseFn:Di=>{xt=Di}};return fr.push(di),()=>{xt?Io(()=>{xt()}):di.skipped=!0}});return tr(),tt}function Ta(ge){fr.push({type:"destroy",key:ge}),tr()}const mr=["success","info","warning","error","loading"],Pa={open:sa,destroy:Ta,config:na,useMessage:Na,_InternalPanelDoNotUseOrYouWillBeFired:Br};mr.forEach(ge=>{Pa[ge]=function(){for(var Re=arguments.length,tt=new Array(Re),lt=0;lt<Re;lt++)tt[lt]=arguments[lt];return oa(ge,tt)}});const yo=()=>{};let Wr=null,Ws=null;var Rl=Pa,ra=ge=>{const{componentCls:Re,notificationMarginEdge:tt,animationMaxHeight:lt}=ge,xt=`${Re}-notice`,di=new rs.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),Di=new rs.E4("antNotificationTopFadeIn",{"0%":{top:-lt,opacity:0},"100%":{top:0,opacity:1}}),ji=new rs.E4("antNotificationBottomFadeIn",{"0%":{bottom:ge.calc(lt).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),Vi=new rs.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[Re]:{[`&${Re}-top, &${Re}-bottom`]:{marginInline:0,[xt]:{marginInline:"auto auto"}},[`&${Re}-top`]:{[`${Re}-fade-enter${Re}-fade-enter-active, ${Re}-fade-appear${Re}-fade-appear-active`]:{animationName:Di}},[`&${Re}-bottom`]:{[`${Re}-fade-enter${Re}-fade-enter-active, ${Re}-fade-appear${Re}-fade-appear-active`]:{animationName:ji}},[`&${Re}-topRight, &${Re}-bottomRight`]:{[`${Re}-fade-enter${Re}-fade-enter-active, ${Re}-fade-appear${Re}-fade-appear-active`]:{animationName:di}},[`&${Re}-topLeft, &${Re}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:tt,_skip_check_:!0},[xt]:{marginInlineEnd:"auto",marginInlineStart:0},[`${Re}-fade-enter${Re}-fade-enter-active, ${Re}-fade-appear${Re}-fade-appear-active`]:{animationName:Vi}}}}};const Ra=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Ol={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},Hr=(ge,Re)=>{const{componentCls:tt}=ge;return{[`${tt}-${Re}`]:{[`&${tt}-stack > ${tt}-notice-wrapper`]:{[Re.startsWith("top")?"top":"bottom"]:0,[Ol[Re]]:{value:0,_skip_check_:!0}}}}},al=ge=>{const Re={};for(let tt=1;tt<ge.notificationStackLayer;tt++)Re[`&:nth-last-child(${tt+1})`]={overflow:"hidden",[`& > ${ge.componentCls}-notice`]:{opacity:0,transition:`opacity ${ge.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${ge.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},Re)},ir=ge=>{const Re={};for(let tt=1;tt<ge.notificationStackLayer;tt++)Re[`&:nth-last-child(${tt+1})`]={background:ge.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},Re)};var nr=ge=>{const{componentCls:Re}=ge;return Object.assign({[`${Re}-stack`]:{[`& > ${Re}-notice-wrapper`]:Object.assign({transition:`all ${ge.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},al(ge))},[`${Re}-stack:not(${Re}-stack-expanded)`]:{[`& > ${Re}-notice-wrapper`]:Object.assign({},ir(ge))},[`${Re}-stack${Re}-stack-expanded`]:{[`& > ${Re}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${ge.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:ge.margin,width:"100%",insetInline:0,bottom:ge.calc(ge.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Ra.map(tt=>Hr(ge,tt)).reduce((tt,lt)=>Object.assign(Object.assign({},tt),lt),{}))};const aa=ge=>{const{iconCls:Re,componentCls:tt,boxShadow:lt,fontSizeLG:xt,notificationMarginBottom:di,borderRadiusLG:Di,colorSuccess:ji,colorInfo:Vi,colorWarning:Gi,colorError:Bi,colorTextHeading:nn,notificationBg:sn,notificationPadding:hn,notificationMarginEdge:Cn,fontSize:mn,lineHeight:xn,width:bn,notificationIconSize:vn,colorText:Hn}=ge,kn=`${tt}-notice`;return{position:"relative",marginBottom:di,marginInlineStart:"auto",background:sn,borderRadius:Di,boxShadow:lt,[kn]:{padding:hn,width:bn,maxWidth:`calc(100vw - ${(0,rs.bf)(ge.calc(Cn).mul(2).equal())})`,overflow:"hidden",lineHeight:xn,wordWrap:"break-word"},[`${tt}-close-icon`]:{fontSize:mn,cursor:"pointer"},[`${kn}-message`]:{marginBottom:ge.marginXS,color:nn,fontSize:xt,lineHeight:ge.lineHeightLG},[`${kn}-description`]:{fontSize:mn,color:Hn},[`${kn}-closable ${kn}-message`]:{paddingInlineEnd:ge.paddingLG},[`${kn}-with-icon ${kn}-message`]:{marginBottom:ge.marginXS,marginInlineStart:ge.calc(ge.marginSM).add(vn).equal(),fontSize:xt},[`${kn}-with-icon ${kn}-description`]:{marginInlineStart:ge.calc(ge.marginSM).add(vn).equal(),fontSize:mn},[`${kn}-icon`]:{position:"absolute",fontSize:vn,lineHeight:1,[`&-success${Re}`]:{color:ji},[`&-info${Re}`]:{color:Vi},[`&-warning${Re}`]:{color:Gi},[`&-error${Re}`]:{color:Bi}},[`${kn}-close`]:{position:"absolute",top:ge.notificationPaddingVertical,insetInlineEnd:ge.notificationPaddingHorizontal,color:ge.colorIcon,outline:"none",width:ge.notificationCloseButtonSize,height:ge.notificationCloseButtonSize,borderRadius:ge.borderRadiusSM,transition:`background-color ${ge.motionDurationMid}, color ${ge.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:ge.colorIconHover,backgroundColor:ge.closeBtnHoverBg}},[`${kn}-btn`]:{float:"right",marginTop:ge.marginSM}}},Vr=ge=>{const{componentCls:Re,notificationMarginBottom:tt,notificationMarginEdge:lt,motionDurationMid:xt,motionEaseInOut:di}=ge,Di=`${Re}-notice`,ji=new rs.E4("antNotificationFadeOut",{"0%":{maxHeight:ge.animationMaxHeight,marginBottom:tt},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[Re]:Object.assign(Object.assign({},(0,ks.Wf)(ge)),{position:"fixed",zIndex:ge.zIndexPopup,marginRight:{value:lt,_skip_check_:!0},[`${Re}-hook-holder`]:{position:"relative"},[`${Re}-fade-appear-prepare`]:{opacity:"0 !important"},[`${Re}-fade-enter, ${Re}-fade-appear`]:{animationDuration:ge.motionDurationMid,animationTimingFunction:di,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${Re}-fade-leave`]:{animationTimingFunction:di,animationFillMode:"both",animationDuration:xt,animationPlayState:"paused"},[`${Re}-fade-enter${Re}-fade-enter-active, ${Re}-fade-appear${Re}-fade-appear-active`]:{animationPlayState:"running"},[`${Re}-fade-leave${Re}-fade-leave-active`]:{animationName:ji,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${Di}-btn`]:{float:"left"}}})},{[Re]:{[`${Di}-wrapper`]:Object.assign({},aa(ge))}}]},pr=ge=>({zIndexPopup:ge.zIndexPopupBase+As.u6+50,width:384,closeBtnHoverBg:ge.wireframe?"transparent":ge.colorFillContent}),sr=ge=>{const Re=ge.paddingMD,tt=ge.paddingLG;return(0,oo.TS)(ge,{notificationBg:ge.colorBgElevated,notificationPaddingVertical:Re,notificationPaddingHorizontal:tt,notificationIconSize:ge.calc(ge.fontSizeLG).mul(ge.lineHeightLG).equal(),notificationCloseButtonSize:ge.calc(ge.controlHeightLG).mul(.55).equal(),notificationMarginBottom:ge.margin,notificationPadding:`${(0,rs.bf)(ge.paddingMD)} ${(0,rs.bf)(ge.paddingContentHorizontalLG)}`,notificationMarginEdge:ge.marginLG,animationMaxHeight:150,notificationStackLayer:3})};var la=(0,Fs.I$)("Notification",ge=>{const Re=sr(ge);return[Vr(Re),ra(Re),nr(Re)]},pr),Oa=(0,Fs.bk)(["Notification","PurePanel"],ge=>{const Re=`${ge.componentCls}-notice`,tt=sr(ge);return{[`${Re}-pure-panel`]:Object.assign(Object.assign({},aa(tt)),{width:tt.width,maxWidth:`calc(100vw - ${(0,rs.bf)(ge.calc(tt.notificationMarginEdge).mul(2).equal())})`,margin:0})}},pr),kl=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};const Aa={info:r.createElement(Ho.Z,null),success:r.createElement(Wo.Z,null),error:r.createElement(Eo.Z,null),warning:r.createElement(wr.Z,null),loading:r.createElement(Zr.Z,null)};function Ir(ge,Re){return Re===null||Re===!1?null:Re||r.createElement("span",{className:`${ge}-close-x`},r.createElement(uo.Z,{className:`${ge}-close-icon`}))}const ka={success:Wo.Z,info:Ho.Z,error:Eo.Z,warning:wr.Z},Fa=ge=>{const{prefixCls:Re,icon:tt,type:lt,message:xt,description:di,btn:Di,role:ji="alert"}=ge;let Vi=null;return tt?Vi=r.createElement("span",{className:`${Re}-icon`},tt):lt&&(Vi=r.createElement(ka[lt]||null,{className:Ps()(`${Re}-icon`,`${Re}-icon-${lt}`)})),r.createElement("div",{className:Ps()({[`${Re}-with-icon`]:Vi}),role:ji},Vi,r.createElement("div",{className:`${Re}-message`},xt),r.createElement("div",{className:`${Re}-description`},di),Di&&r.createElement("div",{className:`${Re}-btn`},Di))};var vr=ge=>{const{prefixCls:Re,className:tt,icon:lt,type:xt,message:di,description:Di,btn:ji,closable:Vi=!0,closeIcon:Gi,className:Bi}=ge,nn=kl(ge,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:sn}=r.useContext(ms.E_),hn=Re||sn("notification"),Cn=`${hn}-notice`,mn=(0,Ko.Z)(hn),[xn,bn]=la(hn,mn);return xn(r.createElement("div",{className:Ps()(`${Cn}-pure-panel`,bn,tt,mn)},r.createElement(Oa,{prefixCls:hn}),r.createElement(Yr,Object.assign({},nn,{prefixCls:hn,eventKey:"pure",duration:null,closable:Vi,className:Ps()({notificationClassName:Bi}),closeIcon:Ir(hn,Gi),content:r.createElement(Fa,{prefixCls:Cn,icon:lt,type:xt,message:di,description:Di,btn:ji})}))))};function ll(ge,Re,tt){let lt;switch(ge){case"top":lt={left:"50%",transform:"translateX(-50%)",right:"auto",top:Re,bottom:"auto"};break;case"topLeft":lt={left:0,top:Re,bottom:"auto"};break;case"topRight":lt={right:0,top:Re,bottom:"auto"};break;case"bottom":lt={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:tt};break;case"bottomLeft":lt={left:0,top:"auto",bottom:tt};break;default:lt={right:0,top:"auto",bottom:tt};break}return lt}function Ba(ge){return{motionName:`${ge}-fade`}}var _r=e(25976),Wa=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};const no=24,cl=4.5,Ha="topRight",Va=ge=>{let{children:Re,prefixCls:tt}=ge;const[lt,xt]=la(tt);return lt(r.createElement(hr,{classNames:{list:xt,notice:xt}},Re))},dl=(ge,Re)=>{let{prefixCls:tt,key:lt}=Re;return r.createElement(Va,{prefixCls:tt,key:lt},ge)},ca=r.forwardRef((ge,Re)=>{const{top:tt,bottom:lt,prefixCls:xt,getContainer:di,maxCount:Di,rtl:ji,onAllRemoved:Vi,stack:Gi}=ge,{getPrefixCls:Bi,getPopupContainer:nn,notification:sn}=r.useContext(ms.E_),[,hn]=(0,_r.ZP)(),Cn=xt||Bi("notification"),mn=kn=>ll(kn,tt!=null?tt:no,lt!=null?lt:no),xn=()=>Ps()({[`${Cn}-rtl`]:ji}),bn=()=>Ba(Cn),[vn,Hn]=ds({prefixCls:Cn,style:mn,className:xn,motion:bn,closable:!0,closeIcon:Ir(Cn),duration:cl,getContainer:()=>(di==null?void 0:di())||(nn==null?void 0:nn())||document.body,maxCount:Di,onAllRemoved:Vi,renderNotifications:dl,stack:Gi===!1?!1:{threshold:typeof Gi=="object"?Gi==null?void 0:Gi.threshold:void 0,offset:8,gap:hn.margin}});return r.useImperativeHandle(Re,()=>Object.assign(Object.assign({},vn),{prefixCls:Cn,notification:sn})),Hn});function ul(ge){const Re=r.useRef(null),tt=(0,ia.ln)("Notification");return[r.useMemo(()=>{const xt=Vi=>{var Gi;if(!Re.current)return;const{open:Bi,prefixCls:nn,notification:sn}=Re.current,hn=`${nn}-notice`,{message:Cn,description:mn,icon:xn,type:bn,btn:vn,className:Hn,style:kn,role:us="alert",closeIcon:Xn}=Vi,Mn=Wa(Vi,["message","description","icon","type","btn","className","style","role","closeIcon"]),gs=Ir(hn,Xn);return Bi(Object.assign(Object.assign({placement:(Gi=ge==null?void 0:ge.placement)!==null&&Gi!==void 0?Gi:Ha},Mn),{content:r.createElement(Fa,{prefixCls:hn,icon:xn,type:bn,message:Cn,description:mn,btn:vn,role:us}),className:Ps()(bn&&`${hn}-${bn}`,Hn,sn==null?void 0:sn.className),style:Object.assign(Object.assign({},sn==null?void 0:sn.style),kn),closeIcon:gs,closable:!!gs}))},Di={open:xt,destroy:Vi=>{var Gi,Bi;Vi!==void 0?(Gi=Re.current)===null||Gi===void 0||Gi.close(Vi):(Bi=Re.current)===null||Bi===void 0||Bi.destroy()}};return["success","info","warning","error"].forEach(Vi=>{Di[Vi]=Gi=>xt(Object.assign(Object.assign({},Gi),{type:Vi}))}),Di},[]),r.createElement(ca,Object.assign({key:"notification-holder"},ge,{ref:Re}))]}function Ua(ge){return ul(ge)}let To=null,Ur=ge=>ge(),da=[],Kt={};function t(){const{prefixCls:ge,getContainer:Re,rtl:tt,maxCount:lt,top:xt,bottom:di}=Kt,Di=ge!=null?ge:(0,lo.w6)().getPrefixCls("notification"),ji=(Re==null?void 0:Re())||document.body;return{prefixCls:Di,getContainer:()=>ji,rtl:tt,maxCount:lt,top:xt,bottom:di}}const l=r.forwardRef((ge,Re)=>{const[tt,lt]=r.useState(t),[xt,di]=ul(tt),Di=(0,lo.w6)(),ji=Di.getRootPrefixCls(),Vi=Di.getIconPrefixCls(),Gi=Di.getTheme(),Bi=()=>{lt(t)};return r.useEffect(Bi,[]),r.useImperativeHandle(Re,()=>{const nn=Object.assign({},xt);return Object.keys(nn).forEach(sn=>{nn[sn]=function(){return Bi(),xt[sn].apply(xt,arguments)}}),{instance:nn,sync:Bi}}),r.createElement(lo.ZP,{prefixCls:ji,iconPrefixCls:Vi,theme:Gi},di)});function N(){if(!To){const ge=document.createDocumentFragment(),Re={fragment:ge};To=Re,Ur(()=>{(0,Bo.s)(r.createElement(l,{ref:tt=>{const{instance:lt,sync:xt}=tt||{};Promise.resolve().then(()=>{!Re.instance&&lt&&(Re.instance=lt,Re.sync=xt,N())})}}),ge)});return}To.instance&&(da.forEach(ge=>{switch(ge.type){case"open":{Ur(()=>{To.instance.open(Object.assign(Object.assign({},Kt),ge.config))});break}case"destroy":Ur(()=>{To==null||To.instance.destroy(ge.key)});break}}),da=[])}function q(ge){Kt=Object.assign(Object.assign({},Kt),ge),Ur(()=>{var Re;(Re=To==null?void 0:To.sync)===null||Re===void 0||Re.call(To)})}function oe(ge){da.push({type:"open",config:ge}),N()}function Ie(ge){da.push({type:"destroy",key:ge}),N()}const Ve=["success","info","warning","error"],mt={open:oe,destroy:Ie,config:q,useNotification:Ua,_InternalPanelDoNotUseOrYouWillBeFired:vr};Ve.forEach(ge=>{mt[ge]=Re=>oe(Object.assign(Object.assign({},Re),{type:ge}))});const Lt=()=>{};let At=null;var jt=mt,Jt=e(33603),fi=e(10110),wi=e(30470),Ni=e(15867),ki=e(33671);function Ji(ge){return!!(ge&&ge.then)}var En=ge=>{const{type:Re,children:tt,prefixCls:lt,buttonProps:xt,close:di,autoFocus:Di,emitEvent:ji,isSilent:Vi,quitOnNullishReturnValue:Gi,actionFn:Bi}=ge,nn=r.useRef(!1),sn=r.useRef(null),[hn,Cn]=(0,wi.Z)(!1),mn=function(){di==null||di.apply(void 0,arguments)};r.useEffect(()=>{let vn=null;return Di&&(vn=setTimeout(()=>{var Hn;(Hn=sn.current)===null||Hn===void 0||Hn.focus()})),()=>{vn&&clearTimeout(vn)}},[]);const xn=vn=>{Ji(vn)&&(Cn(!0),vn.then(function(){Cn(!1,!0),mn.apply(void 0,arguments),nn.current=!1},Hn=>{if(Cn(!1,!0),nn.current=!1,!(Vi!=null&&Vi()))return Promise.reject(Hn)}))},bn=vn=>{if(nn.current)return;if(nn.current=!0,!Bi){mn();return}let Hn;if(ji){if(Hn=Bi(vn),Gi&&!Ji(Hn)){nn.current=!1,mn(vn);return}}else if(Bi.length)Hn=Bi(di),nn.current=!1;else if(Hn=Bi(),!Hn){mn();return}xn(Hn)};return r.createElement(Ni.ZP,Object.assign({},(0,ki.nx)(Re),{onClick:bn,loading:hn,prefixCls:lt},xt,{ref:sn}),tt)};const _n=r.createContext({}),{Provider:zn}=_n;var Kn=()=>{const{autoFocusButton:ge,cancelButtonProps:Re,cancelTextLocale:tt,isSilent:lt,mergedOkCancel:xt,rootPrefixCls:di,close:Di,onCancel:ji,onConfirm:Vi}=(0,r.useContext)(_n);return xt?r.createElement(En,{isSilent:lt,actionFn:ji,close:function(){Di==null||Di.apply(void 0,arguments),Vi==null||Vi(!1)},autoFocus:ge==="cancel",buttonProps:Re,prefixCls:`${di}-btn`},tt):null},$n=()=>{const{autoFocusButton:ge,close:Re,isSilent:tt,okButtonProps:lt,rootPrefixCls:xt,okTextLocale:di,okType:Di,onConfirm:ji,onOk:Vi}=(0,r.useContext)(_n);return r.createElement(En,{isSilent:tt,type:Di||"primary",actionFn:Vi,close:function(){Re==null||Re.apply(void 0,arguments),ji==null||ji(!0)},autoFocus:ge==="ok",buttonProps:lt,prefixCls:`${xt}-btn`},di)},as=e(54535),Yn=r.createContext({}),ls=e(94999),Rs=e(7028),Ls=e(64217);function Xs(ge,Re,tt){var lt=Re;return!lt&&tt&&(lt="".concat(ge,"-").concat(tt)),lt}function Hs(ge,Re){var tt=ge["page".concat(Re?"Y":"X","Offset")],lt="scroll".concat(Re?"Top":"Left");if(typeof tt!="number"){var xt=ge.document;tt=xt.documentElement[lt],typeof tt!="number"&&(tt=xt.body[lt])}return tt}function Js(ge){var Re=ge.getBoundingClientRect(),tt={left:Re.left,top:Re.top},lt=ge.ownerDocument,xt=lt.defaultView||lt.parentWindow;return tt.left+=Hs(xt),tt.top+=Hs(xt,!0),tt}var qs=e(42550),Ss=r.memo(function(ge){var Re=ge.children;return Re},function(ge,Re){var tt=Re.shouldUpdate;return!tt}),co={width:0,height:0,overflow:"hidden",outline:"none"},kc=r.forwardRef(function(ge,Re){var tt=ge.prefixCls,lt=ge.className,xt=ge.style,di=ge.title,Di=ge.ariaId,ji=ge.footer,Vi=ge.closable,Gi=ge.closeIcon,Bi=ge.onClose,nn=ge.children,sn=ge.bodyStyle,hn=ge.bodyProps,Cn=ge.modalRender,mn=ge.onMouseDown,xn=ge.onMouseUp,bn=ge.holderRef,vn=ge.visible,Hn=ge.forceRender,kn=ge.width,us=ge.height,Xn=ge.classNames,Mn=ge.styles,gs=r.useContext(Yn),hs=gs.panel,ps=(0,qs.x1)(bn,hs),vs=(0,r.useRef)(),js=(0,r.useRef)();r.useImperativeHandle(Re,function(){return{focus:function(){var ho;(ho=vs.current)===null||ho===void 0||ho.focus()},changeActive:function(ho){var Oo=document,Ao=Oo.activeElement;ho&&Ao===js.current?vs.current.focus():!ho&&Ao===vs.current&&js.current.focus()}}});var Vs={};kn!==void 0&&(Vs.width=kn),us!==void 0&&(Vs.height=us);var io;ji&&(io=r.createElement("div",{className:Ps()("".concat(tt,"-footer"),Xn==null?void 0:Xn.footer),style:(0,Os.Z)({},Mn==null?void 0:Mn.footer)},ji));var vo;di&&(vo=r.createElement("div",{className:Ps()("".concat(tt,"-header"),Xn==null?void 0:Xn.header),style:(0,Os.Z)({},Mn==null?void 0:Mn.header)},r.createElement("div",{className:"".concat(tt,"-title"),id:Di},di)));var No;Vi&&(No=r.createElement("button",{type:"button",onClick:Bi,"aria-label":"Close",className:"".concat(tt,"-close")},Gi||r.createElement("span",{className:"".concat(tt,"-close-x")})));var eo=r.createElement("div",{className:Ps()("".concat(tt,"-content"),Xn==null?void 0:Xn.content),style:Mn==null?void 0:Mn.content},No,vo,r.createElement("div",(0,wn.Z)({className:Ps()("".concat(tt,"-body"),Xn==null?void 0:Xn.body),style:(0,Os.Z)((0,Os.Z)({},sn),Mn==null?void 0:Mn.body)},hn),nn),io);return r.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":di?Di:null,"aria-modal":"true",ref:ps,style:(0,Os.Z)((0,Os.Z)({},xt),Vs),className:Ps()(tt,lt),onMouseDown:mn,onMouseUp:xn},r.createElement("div",{tabIndex:0,ref:vs,style:co,"aria-hidden":"true"}),r.createElement(Ss,{shouldUpdate:vn||Hn},Cn?Cn(eo):eo),r.createElement("div",{tabIndex:0,ref:js,style:co,"aria-hidden":"true"}))}),za=kc,hl=r.forwardRef(function(ge,Re){var tt=ge.prefixCls,lt=ge.title,xt=ge.style,di=ge.className,Di=ge.visible,ji=ge.forceRender,Vi=ge.destroyOnClose,Gi=ge.motionName,Bi=ge.ariaId,nn=ge.onVisibleChanged,sn=ge.mousePosition,hn=(0,r.useRef)(),Cn=r.useState(),mn=(0,Qn.Z)(Cn,2),xn=mn[0],bn=mn[1],vn={};xn&&(vn.transformOrigin=xn);function Hn(){var kn=Js(hn.current);bn(sn?"".concat(sn.x-kn.left,"px ").concat(sn.y-kn.top,"px"):"")}return r.createElement(xo.ZP,{visible:Di,onVisibleChanged:nn,onAppearPrepare:Hn,onEnterPrepare:Hn,forceRender:ji,motionName:Gi,removeOnLeave:Vi,ref:hn},function(kn,us){var Xn=kn.className,Mn=kn.style;return r.createElement(za,(0,wn.Z)({},ge,{ref:Re,title:lt,ariaId:Bi,prefixCls:tt,holderRef:us,style:(0,Os.Z)((0,Os.Z)((0,Os.Z)({},Mn),xt),vn),className:Ps()(di,Xn)}))})});hl.displayName="Content";var Fc=hl;function cc(ge){var Re=ge.prefixCls,tt=ge.style,lt=ge.visible,xt=ge.maskProps,di=ge.motionName,Di=ge.className;return r.createElement(xo.ZP,{key:"mask",visible:lt,motionName:di,leavedClassName:"".concat(Re,"-mask-hidden")},function(ji,Vi){var Gi=ji.className,Bi=ji.style;return r.createElement("div",(0,wn.Z)({ref:Vi,style:(0,Os.Z)((0,Os.Z)({},Bi),tt),className:Ps()("".concat(Re,"-mask"),Gi,Di)},xt))})}var ja=e(80334);function Fl(ge){var Re=ge.prefixCls,tt=Re===void 0?"rc-dialog":Re,lt=ge.zIndex,xt=ge.visible,di=xt===void 0?!1:xt,Di=ge.keyboard,ji=Di===void 0?!0:Di,Vi=ge.focusTriggerAfterClose,Gi=Vi===void 0?!0:Vi,Bi=ge.wrapStyle,nn=ge.wrapClassName,sn=ge.wrapProps,hn=ge.onClose,Cn=ge.afterOpenChange,mn=ge.afterClose,xn=ge.transitionName,bn=ge.animation,vn=ge.closable,Hn=vn===void 0?!0:vn,kn=ge.mask,us=kn===void 0?!0:kn,Xn=ge.maskTransitionName,Mn=ge.maskAnimation,gs=ge.maskClosable,hs=gs===void 0?!0:gs,ps=ge.maskStyle,vs=ge.maskProps,js=ge.rootClassName,Vs=ge.classNames,io=ge.styles,vo=(0,r.useRef)(),No=(0,r.useRef)(),eo=(0,r.useRef)(),Ro=r.useState(di),ho=(0,Qn.Z)(Ro,2),Oo=ho[0],Ao=ho[1],Go=(0,Rs.Z)();function Ca(){(0,ls.Z)(No.current,document.activeElement)||(vo.current=document.activeElement)}function Xa(){if(!(0,ls.Z)(No.current,document.activeElement)){var Qs;(Qs=eo.current)===null||Qs===void 0||Qs.focus()}}function Nl(Qs){if(Qs)Xa();else{if(Ao(!1),us&&vo.current&&Gi){try{vo.current.focus({preventScroll:!0})}catch(Rr){}vo.current=null}Oo&&(mn==null||mn())}Cn==null||Cn(Qs)}function ko(Qs){hn==null||hn(Qs)}var rr=(0,r.useRef)(!1),Ja=(0,r.useRef)(),ic=function(){clearTimeout(Ja.current),rr.current=!0},ba=function(){Ja.current=setTimeout(function(){rr.current=!1})},jr=null;hs&&(jr=function(Rr){rr.current?rr.current=!1:No.current===Rr.target&&ko(Rr)});function nc(Qs){if(ji&&Qs.keyCode===ur.Z.ESC){Qs.stopPropagation(),ko(Qs);return}di&&Qs.keyCode===ur.Z.TAB&&eo.current.changeActive(!Qs.shiftKey)}return(0,r.useEffect)(function(){di&&(Ao(!0),Ca())},[di]),(0,r.useEffect)(function(){return function(){clearTimeout(Ja.current)}},[]),r.createElement("div",(0,wn.Z)({className:Ps()("".concat(tt,"-root"),js)},(0,Ls.Z)(ge,{data:!0})),r.createElement(cc,{prefixCls:tt,visible:us&&di,motionName:Xs(tt,Xn,Mn),style:(0,Os.Z)((0,Os.Z)({zIndex:lt},ps),io==null?void 0:io.mask),maskProps:vs,className:Vs==null?void 0:Vs.mask}),r.createElement("div",(0,wn.Z)({tabIndex:-1,onKeyDown:nc,className:Ps()("".concat(tt,"-wrap"),nn,Vs==null?void 0:Vs.wrapper),ref:No,onClick:jr,style:(0,Os.Z)((0,Os.Z)((0,Os.Z)({zIndex:lt},Bi),io==null?void 0:io.wrapper),{},{display:Oo?null:"none"})},sn),r.createElement(Fc,(0,wn.Z)({},ge,{onMouseDown:ic,onMouseUp:ba,ref:eo,closable:Hn,ariaId:Go,prefixCls:tt,visible:di&&Oo,onClose:ko,onVisibleChanged:Nl,motionName:Xs(tt,xn,bn)}))))}var fl=function(Re){var tt=Re.visible,lt=Re.getContainer,xt=Re.forceRender,di=Re.destroyOnClose,Di=di===void 0?!1:di,ji=Re.afterClose,Vi=Re.panelRef,Gi=r.useState(tt),Bi=(0,Qn.Z)(Gi,2),nn=Bi[0],sn=Bi[1],hn=r.useMemo(function(){return{panel:Vi}},[Vi]);return r.useEffect(function(){tt&&sn(!0)},[tt]),!xt&&Di&&!nn?null:r.createElement(Yn.Provider,{value:hn},r.createElement(as.Z,{open:tt||xt||nn,autoDestroy:!1,getContainer:lt,autoLock:tt||nn},r.createElement(Fl,(0,wn.Z)({},Re,{destroyOnClose:Di,afterClose:function(){ji==null||ji(),sn(!1)}}))))};fl.displayName="Dialog";var ua=fl,gl=ua;function Bc(ge,Re,tt){return typeof ge=="boolean"?ge:Re===void 0?!!tt:Re!==!1&&Re!==null}function Uo(ge,Re,tt){let lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.createElement(uo.Z,null),xt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!Bc(ge,Re,xt))return[!1,null];const Di=typeof Re=="boolean"||Re===void 0||Re===null?lt:Re;return[!0,tt?tt(Di):Di]}var Ka=e(98924);const Wc=()=>(0,Ka.Z)()&&window.document.documentElement;var Bl=e(43945),Wl=e(65223),ml=e(4173),pl=e(56790);function Nr(){}const ha=r.createContext({add:Nr,remove:Nr});function Tr(ge){const Re=r.useContext(ha),tt=r.useRef();return(0,pl.zX)(xt=>{if(xt){const di=ge?xt.querySelector(ge):xt;Re.add(di),tt.current=di}else Re.remove(tt.current)})}var dc=null,vl=e(98866),_l=()=>{const{cancelButtonProps:ge,cancelTextLocale:Re,onCancel:tt}=(0,r.useContext)(_n);return r.createElement(Ni.ZP,Object.assign({onClick:tt},ge),Re)},hc=()=>{const{confirmLoading:ge,okButtonProps:Re,okType:tt,okTextLocale:lt,onOk:xt}=(0,r.useContext)(_n);return r.createElement(Ni.ZP,Object.assign({},(0,ki.nx)(tt),{loading:ge,onClick:xt},Re),lt)},Hl=e(83008);function Cl(ge,Re){return r.createElement("span",{className:`${ge}-close-x`},Re||r.createElement(uo.Z,{className:`${ge}-close-icon`}))}const Vl=ge=>{const{okText:Re,okType:tt="primary",cancelText:lt,confirmLoading:xt,onOk:di,onCancel:Di,okButtonProps:ji,cancelButtonProps:Vi,footer:Gi}=ge,[Bi]=(0,fi.Z)("Modal",(0,Hl.A)()),nn=Re||(Bi==null?void 0:Bi.okText),sn=lt||(Bi==null?void 0:Bi.cancelText),hn={confirmLoading:xt,okButtonProps:ji,cancelButtonProps:Vi,okTextLocale:nn,cancelTextLocale:sn,okType:tt,onOk:di,onCancel:Di},Cn=r.useMemo(()=>hn,(0,Us.Z)(Object.values(hn)));let mn;return typeof Gi=="function"||typeof Gi=="undefined"?(mn=r.createElement(r.Fragment,null,r.createElement(_l,null),r.createElement(hc,null)),typeof Gi=="function"&&(mn=Gi(mn,{OkBtn:hc,CancelBtn:_l})),mn=r.createElement(zn,{value:Cn},mn)):mn=Gi,r.createElement(vl.n,{disabled:!1},mn)};var fa=e(93590);const Hc=new rs.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Vc=new rs.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Uc=function(ge){let Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:tt}=ge,lt=`${tt}-fade`,xt=Re?"&":"";return[(0,fa.R)(lt,Hc,Vc,ge.motionDurationMid,Re),{[`
        ${xt}${lt}-enter,
        ${xt}${lt}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${xt}${lt}-leave`]:{animationTimingFunction:"linear"}}]};var $a=e(50438);function bl(ge){return{position:ge,inset:0}}const ga=ge=>{const{componentCls:Re,antCls:tt}=ge;return[{[`${Re}-root`]:{[`${Re}${tt}-zoom-enter, ${Re}${tt}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:ge.motionDurationSlow,userSelect:"none"},[`${Re}${tt}-zoom-leave ${Re}-content`]:{pointerEvents:"none"},[`${Re}-mask`]:Object.assign(Object.assign({},bl("fixed")),{zIndex:ge.zIndexPopupBase,height:"100%",backgroundColor:ge.colorBgMask,pointerEvents:"none",[`${Re}-hidden`]:{display:"none"}}),[`${Re}-wrap`]:Object.assign(Object.assign({},bl("fixed")),{zIndex:ge.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${Re}${tt}-zoom-enter), &:has(${Re}${tt}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${Re}-root`]:Uc(ge)}]},Ga=ge=>{const{componentCls:Re}=ge;return[{[`${Re}-root`]:{[`${Re}-wrap-rtl`]:{direction:"rtl"},[`${Re}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[Re]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${ge.screenSMMax}px)`]:{[Re]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,rs.bf)(ge.marginXS)} auto`},[`${Re}-centered`]:{[Re]:{flex:1}}}}},{[Re]:Object.assign(Object.assign({},(0,ks.Wf)(ge)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,rs.bf)(ge.calc(ge.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:ge.paddingLG,[`${Re}-title`]:{margin:0,color:ge.titleColor,fontWeight:ge.fontWeightStrong,fontSize:ge.titleFontSize,lineHeight:ge.titleLineHeight,wordWrap:"break-word"},[`${Re}-content`]:{position:"relative",backgroundColor:ge.contentBg,backgroundClip:"padding-box",border:0,borderRadius:ge.borderRadiusLG,boxShadow:ge.boxShadow,pointerEvents:"auto",padding:ge.contentPadding},[`${Re}-close`]:Object.assign({position:"absolute",top:ge.calc(ge.modalHeaderHeight).sub(ge.modalCloseBtnSize).div(2).equal(),insetInlineEnd:ge.calc(ge.modalHeaderHeight).sub(ge.modalCloseBtnSize).div(2).equal(),zIndex:ge.calc(ge.zIndexPopupBase).add(10).equal(),padding:0,color:ge.modalCloseIconColor,fontWeight:ge.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:ge.borderRadiusSM,width:ge.modalCloseBtnSize,height:ge.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${ge.motionDurationMid}, background-color ${ge.motionDurationMid}`,"&-x":{display:"flex",fontSize:ge.fontSizeLG,fontStyle:"normal",lineHeight:`${(0,rs.bf)(ge.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:ge.modalIconHoverColor,backgroundColor:ge.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:ge.closeBtnActiveBg}},(0,ks.Qy)(ge)),[`${Re}-header`]:{color:ge.colorText,background:ge.headerBg,borderRadius:`${(0,rs.bf)(ge.borderRadiusLG)} ${(0,rs.bf)(ge.borderRadiusLG)} 0 0`,marginBottom:ge.headerMarginBottom,padding:ge.headerPadding,borderBottom:ge.headerBorderBottom},[`${Re}-body`]:{fontSize:ge.fontSize,lineHeight:ge.lineHeight,wordWrap:"break-word",padding:ge.bodyPadding},[`${Re}-footer`]:{textAlign:"end",background:ge.footerBg,marginTop:ge.footerMarginTop,padding:ge.footerPadding,borderTop:ge.footerBorderTop,borderRadius:ge.footerBorderRadius,[`${ge.antCls}-btn + ${ge.antCls}-btn:not(${ge.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:ge.marginXS}},[`${Re}-open`]:{overflow:"hidden"}})},{[`${Re}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${Re}-content,
          ${Re}-body,
          ${Re}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${Re}-confirm-body`]:{marginBottom:"auto"}}}]},zc=ge=>{const{componentCls:Re}=ge;return{[`${Re}-root`]:{[`${Re}-wrap-rtl`]:{direction:"rtl",[`${Re}-confirm-body`]:{direction:"rtl"}}}}},Ul=ge=>{const Re=ge.padding,tt=ge.fontSizeHeading5,lt=ge.lineHeightHeading5;return(0,oo.TS)(ge,{modalHeaderHeight:ge.calc(ge.calc(lt).mul(tt).equal()).add(ge.calc(Re).mul(2).equal()).equal(),modalFooterBorderColorSplit:ge.colorSplit,modalFooterBorderStyle:ge.lineType,modalFooterBorderWidth:ge.lineWidth,modalIconHoverColor:ge.colorIconHover,modalCloseIconColor:ge.colorIcon,modalCloseBtnSize:ge.fontHeight,modalConfirmIconSize:ge.fontHeight,modalTitleHeight:ge.calc(ge.titleFontSize).mul(ge.titleLineHeight).equal()})},zl=ge=>({footerBg:"transparent",headerBg:ge.colorBgElevated,titleLineHeight:ge.lineHeightHeading5,titleFontSize:ge.fontSizeHeading5,contentBg:ge.colorBgElevated,titleColor:ge.colorTextHeading,closeBtnHoverBg:ge.wireframe?"transparent":ge.colorFillContent,closeBtnActiveBg:ge.wireframe?"transparent":ge.colorFillContentHover,contentPadding:ge.wireframe?0:`${(0,rs.bf)(ge.paddingMD)} ${(0,rs.bf)(ge.paddingContentHorizontalLG)}`,headerPadding:ge.wireframe?`${(0,rs.bf)(ge.padding)} ${(0,rs.bf)(ge.paddingLG)}`:0,headerBorderBottom:ge.wireframe?`${(0,rs.bf)(ge.lineWidth)} ${ge.lineType} ${ge.colorSplit}`:"none",headerMarginBottom:ge.wireframe?0:ge.marginXS,bodyPadding:ge.wireframe?ge.paddingLG:0,footerPadding:ge.wireframe?`${(0,rs.bf)(ge.paddingXS)} ${(0,rs.bf)(ge.padding)}`:0,footerBorderTop:ge.wireframe?`${(0,rs.bf)(ge.lineWidth)} ${ge.lineType} ${ge.colorSplit}`:"none",footerBorderRadius:ge.wireframe?`0 0 ${(0,rs.bf)(ge.borderRadiusLG)} ${(0,rs.bf)(ge.borderRadiusLG)}`:0,footerMarginTop:ge.wireframe?0:ge.marginSM,confirmBodyPadding:ge.wireframe?`${(0,rs.bf)(ge.padding*2)} ${(0,rs.bf)(ge.padding*2)} ${(0,rs.bf)(ge.paddingLG)}`:0,confirmIconMarginInlineEnd:ge.wireframe?ge.margin:ge.marginSM,confirmBtnsMarginTop:ge.wireframe?ge.marginLG:ge.marginSM});var fc=(0,Fs.I$)("Modal",ge=>{const Re=Ul(ge);return[Ga(Re),zc(Re),ga(Re),(0,$a._y)(Re,"zoom")]},zl,{unitless:{titleLineHeight:!0}}),jc=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};let yl;const jl=ge=>{yl={x:ge.pageX,y:ge.pageY},setTimeout(()=>{yl=null},100)};Wc()&&document.documentElement.addEventListener("click",jl,!0);var gc=ge=>{var Re;const{getPopupContainer:tt,getPrefixCls:lt,direction:xt,modal:di}=r.useContext(ms.E_),Di=Ao=>{const{onCancel:Go}=ge;Go==null||Go(Ao)},ji=Ao=>{const{onOk:Go}=ge;Go==null||Go(Ao)},{prefixCls:Vi,className:Gi,rootClassName:Bi,open:nn,wrapClassName:sn,centered:hn,getContainer:Cn,closeIcon:mn,closable:xn,focusTriggerAfterClose:bn=!0,style:vn,visible:Hn,width:kn=520,footer:us,classNames:Xn,styles:Mn}=ge,gs=jc(ge,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),hs=lt("modal",Vi),ps=lt(),vs=(0,Ko.Z)(hs),[js,Vs]=fc(hs,vs),io=Ps()(sn,{[`${hs}-centered`]:!!hn,[`${hs}-wrap-rtl`]:xt==="rtl"}),vo=us!==null&&r.createElement(Vl,Object.assign({},ge,{onOk:ji,onCancel:Di})),[No,eo]=Uo(xn,mn,Ao=>Cl(hs,Ao),r.createElement(uo.Z,{className:`${hs}-close-icon`}),!0),Ro=Tr(`.${hs}-content`),[ho,Oo]=(0,As.Cn)("Modal",gs.zIndex);return js(r.createElement(ml.BR,null,r.createElement(Wl.Ux,{status:!0,override:!0},r.createElement(Bl.Z.Provider,{value:Oo},r.createElement(gl,Object.assign({width:kn},gs,{zIndex:ho,getContainer:Cn===void 0?tt:Cn,prefixCls:hs,rootClassName:Ps()(Vs,Bi,vs),footer:vo,visible:nn!=null?nn:Hn,mousePosition:(Re=gs.mousePosition)!==null&&Re!==void 0?Re:yl,onClose:Di,closable:No,closeIcon:eo,focusTriggerAfterClose:bn,transitionName:(0,Jt.m)(ps,"zoom",ge.transitionName),maskTransitionName:(0,Jt.m)(ps,"fade",ge.maskTransitionName),className:Ps()(Vs,Gi,di==null?void 0:di.className),style:Object.assign(Object.assign({},di==null?void 0:di.style),vn),classNames:Object.assign(Object.assign({wrapper:io},di==null?void 0:di.classNames),Xn),styles:Object.assign(Object.assign({},di==null?void 0:di.styles),Mn),panelRef:Ro}))))))};const Kc=ge=>{const{componentCls:Re,titleFontSize:tt,titleLineHeight:lt,modalConfirmIconSize:xt,fontSize:di,lineHeight:Di,modalTitleHeight:ji,fontHeight:Vi,confirmBodyPadding:Gi}=ge,Bi=`${Re}-confirm`;return{[Bi]:{"&-rtl":{direction:"rtl"},[`${ge.antCls}-modal-header`]:{display:"none"},[`${Bi}-body-wrapper`]:Object.assign({},(0,ks.dF)()),[`&${Re} ${Re}-body`]:{padding:Gi},[`${Bi}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${ge.iconCls}`]:{flex:"none",fontSize:xt,marginInlineEnd:ge.confirmIconMarginInlineEnd,marginTop:ge.calc(ge.calc(Vi).sub(xt).equal()).div(2).equal()},[`&-has-title > ${ge.iconCls}`]:{marginTop:ge.calc(ge.calc(ji).sub(xt).equal()).div(2).equal()}},[`${Bi}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:ge.marginXS,maxWidth:`calc(100% - ${(0,rs.bf)(ge.calc(ge.modalConfirmIconSize).add(ge.marginSM).equal())})`},[`${Bi}-title`]:{color:ge.colorTextHeading,fontWeight:ge.fontWeightStrong,fontSize:tt,lineHeight:lt},[`${Bi}-content`]:{color:ge.colorText,fontSize:di,lineHeight:Di},[`${Bi}-btns`]:{textAlign:"end",marginTop:ge.confirmBtnsMarginTop,[`${ge.antCls}-btn + ${ge.antCls}-btn`]:{marginBottom:0,marginInlineStart:ge.marginXS}}},[`${Bi}-error ${Bi}-body > ${ge.iconCls}`]:{color:ge.colorError},[`${Bi}-warning ${Bi}-body > ${ge.iconCls},
        ${Bi}-confirm ${Bi}-body > ${ge.iconCls}`]:{color:ge.colorWarning},[`${Bi}-info ${Bi}-body > ${ge.iconCls}`]:{color:ge.colorInfo},[`${Bi}-success ${Bi}-body > ${ge.iconCls}`]:{color:ge.colorSuccess}}};var $c=(0,Fs.bk)(["Modal","confirm"],ge=>{const Re=Ul(ge);return[Kc(Re)]},zl,{order:-1e3}),Mr=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};function mc(ge){const{prefixCls:Re,icon:tt,okText:lt,cancelText:xt,confirmPrefixCls:di,type:Di,okCancel:ji,footer:Vi,locale:Gi}=ge,Bi=Mr(ge,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let nn=tt;if(!tt&&tt!==null)switch(Di){case"info":nn=r.createElement(Ho.Z,null);break;case"success":nn=r.createElement(Wo.Z,null);break;case"error":nn=r.createElement(Eo.Z,null);break;default:nn=r.createElement(wr.Z,null)}const sn=ji!=null?ji:Di==="confirm",hn=ge.autoFocusButton===null?!1:ge.autoFocusButton||"ok",[Cn]=(0,fi.Z)("Modal"),mn=Gi||Cn,xn=lt||(sn?mn==null?void 0:mn.okText:mn==null?void 0:mn.justOkText),bn=xt||(mn==null?void 0:mn.cancelText),vn=Object.assign({autoFocusButton:hn,cancelTextLocale:bn,okTextLocale:xn,mergedOkCancel:sn},Bi),Hn=r.useMemo(()=>vn,(0,Us.Z)(Object.values(vn))),kn=r.createElement(r.Fragment,null,r.createElement(Kn,null),r.createElement($n,null)),us=ge.title!==void 0&&ge.title!==null,Xn=`${di}-body`;return r.createElement("div",{className:`${di}-body-wrapper`},r.createElement("div",{className:Ps()(Xn,{[`${Xn}-has-title`]:us})},nn,r.createElement("div",{className:`${di}-paragraph`},us&&r.createElement("span",{className:`${di}-title`},ge.title),r.createElement("div",{className:`${di}-content`},ge.content))),Vi===void 0||typeof Vi=="function"?r.createElement(zn,{value:Hn},r.createElement("div",{className:`${di}-btns`},typeof Vi=="function"?Vi(kn,{OkBtn:$n,CancelBtn:Kn}):kn)):Vi,r.createElement($c,{prefixCls:Re}))}const pc=ge=>{const{close:Re,zIndex:tt,afterClose:lt,open:xt,keyboard:di,centered:Di,getContainer:ji,maskStyle:Vi,direction:Gi,prefixCls:Bi,wrapClassName:nn,rootPrefixCls:sn,bodyStyle:hn,closable:Cn=!1,closeIcon:mn,modalRender:xn,focusTriggerAfterClose:bn,onConfirm:vn,styles:Hn}=ge,kn=`${Bi}-confirm`,us=ge.width||416,Xn=ge.style||{},Mn=ge.mask===void 0?!0:ge.mask,gs=ge.maskClosable===void 0?!1:ge.maskClosable,hs=Ps()(kn,`${kn}-${ge.type}`,{[`${kn}-rtl`]:Gi==="rtl"},ge.className),[,ps]=(0,_r.ZP)(),vs=r.useMemo(()=>tt!==void 0?tt:ps.zIndexPopupBase+As.u6,[tt,ps]);return r.createElement(gc,{prefixCls:Bi,className:hs,wrapClassName:Ps()({[`${kn}-centered`]:!!ge.centered},nn),onCancel:()=>{Re==null||Re({triggerCancel:!0}),vn==null||vn(!1)},open:xt,title:"",footer:null,transitionName:(0,Jt.m)(sn||"","zoom",ge.transitionName),maskTransitionName:(0,Jt.m)(sn||"","fade",ge.maskTransitionName),mask:Mn,maskClosable:gs,style:Xn,styles:Object.assign({body:hn,mask:Vi},Hn),width:us,zIndex:vs,afterClose:lt,keyboard:di,centered:Di,getContainer:ji,closable:Cn,closeIcon:mn,modalRender:xn,focusTriggerAfterClose:bn},r.createElement(mc,Object.assign({},ge,{confirmPrefixCls:kn})))};var _c=ge=>{const{rootPrefixCls:Re,iconPrefixCls:tt,direction:lt,theme:xt}=ge;return r.createElement(lo.ZP,{prefixCls:Re,iconPrefixCls:tt,direction:lt,theme:xt},r.createElement(pc,Object.assign({},ge)))},or=[],po=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};let Cc="";function Zc(){return Cc}function Za(ge){const Re=document.createDocumentFragment();let tt=Object.assign(Object.assign({},ge),{close:Di,open:!0}),lt;function xt(){for(var Vi=arguments.length,Gi=new Array(Vi),Bi=0;Bi<Vi;Bi++)Gi[Bi]=arguments[Bi];const nn=Gi.some(sn=>sn&&sn.triggerCancel);ge.onCancel&&nn&&ge.onCancel.apply(ge,[()=>{}].concat((0,Us.Z)(Gi.slice(1))));for(let sn=0;sn<or.length;sn++)if(or[sn]===Di){or.splice(sn,1);break}(0,Bo.v)(Re)}function di(Vi){var{okText:Gi,cancelText:Bi,prefixCls:nn,getContainer:sn}=Vi,hn=po(Vi,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(lt),lt=setTimeout(()=>{const Cn=(0,Hl.A)(),{getPrefixCls:mn,getIconPrefixCls:xn,getTheme:bn}=(0,lo.w6)(),vn=mn(void 0,Zc()),Hn=nn||`${vn}-modal`,kn=xn(),us=bn();let Xn=sn;Xn===!1&&(Xn=void 0),(0,Bo.s)(r.createElement(_c,Object.assign({},hn,{getContainer:Xn,prefixCls:Hn,rootPrefixCls:vn,iconPrefixCls:kn,okText:Gi,locale:Cn,theme:us,cancelText:Bi||Cn.cancelText})),Re)})}function Di(){for(var Vi=arguments.length,Gi=new Array(Vi),Bi=0;Bi<Vi;Bi++)Gi[Bi]=arguments[Bi];tt=Object.assign(Object.assign({},tt),{open:!1,afterClose:()=>{typeof ge.afterClose=="function"&&ge.afterClose(),xt.apply(this,Gi)}}),tt.visible&&delete tt.visible,di(tt)}function ji(Vi){typeof Vi=="function"?tt=Vi(tt):tt=Object.assign(Object.assign({},tt),Vi),di(tt)}return di(tt),or.push(Di),{destroy:Di,update:ji}}function Cr(ge){return Object.assign(Object.assign({},ge),{type:"warning"})}function bc(ge){return Object.assign(Object.assign({},ge),{type:"info"})}function Kl(ge){return Object.assign(Object.assign({},ge),{type:"success"})}function yc(ge){return Object.assign(Object.assign({},ge),{type:"error"})}function Sc(ge){return Object.assign(Object.assign({},ge),{type:"confirm"})}function Qc(ge){let{rootPrefixCls:Re}=ge;Cc=Re}var Pr=e(8745),so=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};const Yc=ge=>{const{prefixCls:Re,className:tt,closeIcon:lt,closable:xt,type:di,title:Di,children:ji,footer:Vi}=ge,Gi=so(ge,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:Bi}=r.useContext(ms.E_),nn=Bi(),sn=Re||Bi("modal"),hn=(0,Ko.Z)(nn),[Cn,mn]=fc(sn,hn),xn=`${sn}-confirm`;let bn={};return di?bn={closable:xt!=null?xt:!1,title:"",footer:"",children:r.createElement(mc,Object.assign({},ge,{prefixCls:sn,confirmPrefixCls:xn,rootPrefixCls:nn,content:ji}))}:bn={closable:xt!=null?xt:!0,title:Di,footer:Vi!==null&&r.createElement(Vl,Object.assign({},ge)),children:ji},Cn(r.createElement(za,Object.assign({prefixCls:sn,className:Ps()(mn,`${sn}-pure-panel`,di&&xn,di&&`${xn}-${di}`,tt,hn)},Gi,{closeIcon:Cl(sn,lt),closable:xt},bn)))};var $l=(0,Pr.i)(Yc);function Sl(){const[ge,Re]=r.useState([]),tt=r.useCallback(lt=>(Re(xt=>[].concat((0,Us.Z)(xt),[lt])),()=>{Re(xt=>xt.filter(di=>di!==lt))}),[]);return[ge,tt]}var Xc=e(81570),Jc=function(ge,Re){var tt={};for(var lt in ge)Object.prototype.hasOwnProperty.call(ge,lt)&&Re.indexOf(lt)<0&&(tt[lt]=ge[lt]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,lt=Object.getOwnPropertySymbols(ge);xt<lt.length;xt++)Re.indexOf(lt[xt])<0&&Object.prototype.propertyIsEnumerable.call(ge,lt[xt])&&(tt[lt[xt]]=ge[lt[xt]]);return tt};const qc=(ge,Re)=>{var tt,{afterClose:lt,config:xt}=ge,di=Jc(ge,["afterClose","config"]);const[Di,ji]=r.useState(!0),[Vi,Gi]=r.useState(xt),{direction:Bi,getPrefixCls:nn}=r.useContext(ms.E_),sn=nn("modal"),hn=nn(),Cn=()=>{var vn;lt(),(vn=Vi.afterClose)===null||vn===void 0||vn.call(Vi)},mn=function(){ji(!1);for(var vn=arguments.length,Hn=new Array(vn),kn=0;kn<vn;kn++)Hn[kn]=arguments[kn];const us=Hn.some(Xn=>Xn&&Xn.triggerCancel);Vi.onCancel&&us&&Vi.onCancel.apply(Vi,[()=>{}].concat((0,Us.Z)(Hn.slice(1))))};r.useImperativeHandle(Re,()=>({destroy:mn,update:vn=>{Gi(Hn=>Object.assign(Object.assign({},Hn),vn))}}));const xn=(tt=Vi.okCancel)!==null&&tt!==void 0?tt:Vi.type==="confirm",[bn]=(0,fi.Z)("Modal",Xc.Z.Modal);return r.createElement(_c,Object.assign({prefixCls:sn,rootPrefixCls:hn},Vi,{close:mn,open:Di,afterClose:Cn,okText:Vi.okText||(xn?bn==null?void 0:bn.okText:bn==null?void 0:bn.justOkText),direction:Vi.direction||Bi,cancelText:Vi.cancelText||(bn==null?void 0:bn.cancelText)},di))};var Qa=r.forwardRef(qc);let wl=0;const ma=r.memo(r.forwardRef((ge,Re)=>{const[tt,lt]=Sl();return r.useImperativeHandle(Re,()=>({patchElement:lt}),[]),r.createElement(r.Fragment,null,tt)}));function ed(){const ge=r.useRef(null),[Re,tt]=r.useState([]);r.useEffect(()=>{Re.length&&((0,Us.Z)(Re).forEach(Di=>{Di()}),tt([]))},[Re]);const lt=r.useCallback(di=>function(ji){var Vi;wl+=1;const Gi=r.createRef();let Bi;const nn=new Promise(xn=>{Bi=xn});let sn=!1,hn;const Cn=r.createElement(Qa,{key:`modal-${wl}`,config:di(ji),ref:Gi,afterClose:()=>{hn==null||hn()},isSilent:()=>sn,onConfirm:xn=>{Bi(xn)}});return hn=(Vi=ge.current)===null||Vi===void 0?void 0:Vi.patchElement(Cn),hn&&or.push(hn),{destroy:()=>{function xn(){var bn;(bn=Gi.current)===null||bn===void 0||bn.destroy()}Gi.current?xn():tt(bn=>[].concat((0,Us.Z)(bn),[xn]))},update:xn=>{function bn(){var vn;(vn=Gi.current)===null||vn===void 0||vn.update(xn)}Gi.current?bn():tt(vn=>[].concat((0,Us.Z)(vn),[bn]))},then:xn=>(sn=!0,nn.then(xn))}},[]);return[r.useMemo(()=>({info:lt(bc),success:lt(Kl),error:lt(yc),warning:lt(Cr),confirm:lt(Sc)}),[]),r.createElement(ma,{key:"modal-holder",ref:ge})]}var wc=ed;function Gl(ge){return Za(Cr(ge))}const Mo=gc;Mo.useModal=wc,Mo.info=function(Re){return Za(bc(Re))},Mo.success=function(Re){return Za(Kl(Re))},Mo.error=function(Re){return Za(yc(Re))},Mo.warning=Gl,Mo.warn=Gl,Mo.confirm=function(Re){return Za(Sc(Re))},Mo.destroyAll=function(){for(;or.length;){const Re=or.pop();Re&&Re()}},Mo.config=Qc,Mo._InternalPanelDoNotUseOrYouWillBeFired=$l;var Zl=Mo,pa=function(Re){return typeof window!="undefined"?matchMedia&&matchMedia("(prefers-color-scheme: ".concat(Re,")")):{matches:!1}},zr,Ya=(0,r.createContext)({appearance:"light",setAppearance:function(){},isDarkMode:!1,themeMode:"light",setThemeMode:function(){},browserPrefers:(zr=pa("dark"))!==null&&zr!==void 0&&zr.matches?"dark":"light"}),va=function(){return(0,r.useContext)(Ya)};function Lc(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function Ll(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?Lc(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):Lc(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var td=(0,r.memo)(function(ge){var Re=ge.children,tt=ge.theme,lt=ge.prefixCls,xt=ge.getStaticInstance,di=ge.staticInstanceConfig,Di=va(),ji=Di.appearance,Vi=Di.isDarkMode,Gi=Rl.useMessage(di==null?void 0:di.message),Bi=(0,Qn.Z)(Gi,2),nn=Bi[0],sn=Bi[1],hn=jt.useNotification(di==null?void 0:di.notification),Cn=(0,Qn.Z)(hn,2),mn=Cn[0],xn=Cn[1],bn=Zl.useModal(),vn=(0,Qn.Z)(bn,2),Hn=vn[0],kn=vn[1];(0,r.useEffect)(function(){xt==null||xt({message:nn,modal:Hn,notification:mn})},[]);var us=(0,r.useMemo)(function(){var Xn=Vi?Ds.Z.darkAlgorithm:Ds.Z.defaultAlgorithm,Mn=tt;if(typeof tt=="function"&&(Mn=tt(ji)),!Mn)return{algorithm:Xn};var gs=Mn.algorithm?Mn.algorithm instanceof Array?Mn.algorithm:[Mn.algorithm]:[];return Ll(Ll({},Mn),{},{algorithm:Mn.algorithm?[Xn].concat((0,Us.Z)(gs)):Xn})},[tt,Vi]);return(0,on.jsxs)(lo.ZP,{prefixCls:lt,theme:us,children:[sn,xn,kn,Re]})}),id=td;function nd(ge,Re){var tt=ge==null?null:typeof Symbol!="undefined"&&ge[Symbol.iterator]||ge["@@iterator"];if(tt!=null){var lt,xt,di,Di,ji=[],Vi=!0,Gi=!1;try{if(di=(tt=tt.call(ge)).next,Re===0){if(Object(tt)!==tt)return;Vi=!1}else for(;!(Vi=(lt=di.call(tt)).done)&&(ji.push(lt.value),ji.length!==Re);Vi=!0);}catch(Bi){Gi=!0,xt=Bi}finally{try{if(!Vi&&tt.return!=null&&(Di=tt.return(),Object(Di)!==Di))return}finally{if(Gi)throw xt}}return ji}}function Ql(ge,Re){return sd(ge)||nd(ge,Re)||od(ge,Re)||Ec()}function sd(ge){if(Array.isArray(ge))return ge}function od(ge,Re){if(ge){if(typeof ge=="string")return Zn(ge,Re);var tt=Object.prototype.toString.call(ge).slice(8,-1);if(tt==="Object"&&ge.constructor&&(tt=ge.constructor.name),tt==="Map"||tt==="Set")return Array.from(ge);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return Zn(ge,Re)}}function Zn(ge,Re){(Re==null||Re>ge.length)&&(Re=ge.length);for(var tt=0,lt=new Array(Re);tt<Re;tt++)lt[tt]=ge[tt];return lt}function Ec(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yl(ge,Re){var tt=Re||{},lt=tt.defaultValue,xt=tt.value,di=tt.onChange,Di=tt.postState,ji=r.useState(function(){return xt!==void 0?xt:lt!==void 0?typeof lt=="function"?lt():lt:typeof ge=="function"?ge():ge}),Vi=Ql(ji,2),Gi=Vi[0],Bi=Vi[1],nn=xt!==void 0?xt:Gi;Di&&(nn=Di(nn));function sn(hn){Bi(hn),nn!==hn&&di&&di(hn,nn)}return[nn,sn]}var Ts=Yl,El=function(Re){typeof r.startTransition=="function"?(0,r.startTransition)(Re):Re()},br,rd=function(Re){var tt=Re.themeMode,lt=Re.setAppearance,xt=Re.setBrowserPrefers,di=function(){El(function(){pa("dark").matches?lt("dark"):lt("light")})},Di=function(){El(function(){pa("dark").matches?xt("dark"):xt("light")})};return(0,r.useLayoutEffect)(function(){if(tt!=="auto"){El(function(){lt(tt)});return}return setTimeout(di,1),br||(br=pa("dark")),br.addEventListener("change",di),function(){br.removeEventListener("change",di)}},[tt]),(0,r.useLayoutEffect)(function(){return br||(br=pa("dark")),br.addEventListener("change",Di),function(){br.removeEventListener("change",Di)}},[]),null},xl=(0,r.memo)(function(ge){var Re,tt=ge.children,lt=ge.appearance,xt=ge.defaultAppearance,di=ge.onAppearanceChange,Di=ge.themeMode,ji=ge.defaultThemeMode,Vi=ge.onThemeModeChange,Gi=ge.useTheme,Bi=Gi(),nn=Bi.appearance,sn=Bi.themeMode,hn=Ts("light",{value:Di,defaultValue:ji!=null?ji:sn,onChange:function(io){return Vi==null?void 0:Vi(io)}}),Cn=(0,Qn.Z)(hn,2),mn=Cn[0],xn=Cn[1],bn=Ts("light",{value:lt,defaultValue:xt!=null?xt:nn,onChange:function(io){return di==null?void 0:di(io)}}),vn=(0,Qn.Z)(bn,2),Hn=vn[0],kn=vn[1],us=(0,r.useState)((Re=pa("dark"))!==null&&Re!==void 0&&Re.matches?"dark":"light"),Xn=(0,Qn.Z)(us,2),Mn=Xn[0],gs=Xn[1],hs=(0,r.useState)(!1),ps=(0,Qn.Z)(hs,2),vs=ps[0],js=ps[1];return(0,r.useEffect)(function(){El(function(){js(!0)})},[]),(0,on.jsxs)(Ya.Provider,{value:{themeMode:mn,setThemeMode:xn,appearance:Hn,setAppearance:kn,isDarkMode:Hn==="dark",browserPrefers:Mn},children:[vs&&(0,on.jsx)(rd,{themeMode:mn,setAppearance:kn,setBrowserPrefers:gs}),tt]})}),Xl=xl,Jl=function(Re){var tt=Re.css,lt=Re.token;return{buttonDefaultHover:tt({backgroundColor:lt.colorBgContainer,border:"1px solid ".concat(lt.colorBorder),cursor:"pointer",":hover":{color:lt.colorPrimaryHover,borderColor:lt.colorPrimaryHover},":active":{color:lt.colorPrimaryActive,borderColor:lt.colorPrimaryActive}})}},xc=function(Re){return Object.fromEntries(Object.entries(Re).map(function(tt){var lt=(0,Qn.Z)(tt,2),xt=lt[0],di=lt[1];return[xt,di.styles]}))},Dc=function(){var Re=zs(),tt=va(),lt=tt.appearance,xt=tt.isDarkMode;return(0,r.useMemo)(function(){return xc(Jl({token:Re,css:tn,appearance:lt,isDarkMode:xt}))},[Re,lt,xt])};function Bs(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function Dl(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?Bs(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):Bs(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var Ic=function(){var Re=zs(),tt=Dc();return(0,r.useMemo)(function(){return Dl(Dl({},Re),{},{stylish:tt})},[Re,tt])},Po=["stylish"];function Nc(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function So(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?Nc(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):Nc(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var ad=function(Re){var tt=Re.children,lt=Re.customToken,xt=Re.defaultCustomToken,di=Re.customStylish,Di=Re.prefixCls,ji=Re.StyledThemeProvider,Vi=va(),Gi=Vi.appearance,Bi=Vi.isDarkMode,nn=Ic(),sn=nn.stylish,hn=(0,xs.Z)(nn,Po),Cn=(0,r.useMemo)(function(){return xt?xt instanceof Function?xt({token:hn,appearance:Gi,isDarkMode:Bi}):xt:{}},[xt,hn,Gi]),mn=(0,r.useMemo)(function(){return lt instanceof Function?So(So({},Cn),lt({token:hn,appearance:Gi,isDarkMode:Bi})):So(So({},Cn),lt)},[Cn,lt,hn,Gi]),xn=(0,r.useMemo)(function(){return di?di({token:So(So({},hn),mn),stylish:sn,appearance:Gi,isDarkMode:Bi,css:tn}):{}},[di,hn,mn,sn,Gi]),bn=(0,r.useMemo)(function(){return So(So({},xn),sn)},[xn,sn]),vn=So(So(So(So({},hn),mn),{},{stylish:bn},Vi),{},{prefixCls:Di});return(0,on.jsx)(ji,{theme:vn,children:tt})},ld=ad,cd=function(Re){var tt=Re.styledConfig?Gr(Re.styledConfig):void 0,lt=Re.StyleEngineContext;return(0,r.memo)(function(xt){var di=xt.children,Di=xt.customToken,ji=xt.customStylish,Vi=xt.theme,Gi=xt.getStaticInstance,Bi=xt.prefixCls,nn=xt.staticInstanceConfig,sn=xt.appearance,hn=xt.defaultAppearance,Cn=xt.onAppearanceChange,mn=xt.themeMode,xn=xt.defaultThemeMode,bn=xt.onThemeModeChange,vn=xt.styled,Hn=(0,r.useContext)(lt),kn=Hn.prefixCls,us=Hn.StyledThemeContext,Xn=Hn.CustomThemeContext,Mn=(0,r.useContext)(Xn),gs=vn?Gr(vn):tt||Lo,hs=Bi||kn;return(0,on.jsx)(lt.Provider,{value:{prefixCls:hs,StyledThemeContext:(vn==null?void 0:vn.ThemeContext)||us||dr,CustomThemeContext:Xn},children:(0,on.jsx)(Xl,{themeMode:mn,defaultThemeMode:xn,onThemeModeChange:bn,defaultAppearance:hn,appearance:sn,onAppearanceChange:Cn,useTheme:Re.useTheme,children:(0,on.jsx)(id,{prefixCls:hs,staticInstanceConfig:nn,theme:Vi,getStaticInstance:Gi,children:(0,on.jsx)(ld,{prefixCls:hs,customToken:Di,defaultCustomToken:Mn,customStylish:ji,StyledThemeProvider:gs,children:di})})})})})};function Tc(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function _a(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?Tc(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):Tc(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var Il=function(Re){return function(){var tt=Re.StyleEngineContext,lt=(0,r.useContext)(tt),xt=lt.StyledThemeContext,di=lt.CustomThemeContext,Di=lt.prefixCls,ji=Ic(),Vi=va(),Gi=(0,r.useContext)(di),Bi=(0,r.useContext)(xt!=null?xt:dr)||{},nn=(0,r.useContext)(lo.ZP.ConfigContext),sn=nn.iconPrefixCls,hn=nn.getPrefixCls,Cn=hn(),mn=Di&&Di!=="ant"?Di:Cn,xn=(0,r.useMemo)(function(){return _a(_a(_a(_a({},ji),Vi),Gi),{},{prefixCls:mn,iconPrefixCls:sn})},[ji,Vi,Gi,mn,sn]);return!Bi||Object.keys(Bi).length===0?xn:_a(_a({},Bi),{},{prefixCls:mn,iconPrefixCls:sn})}};function ql(ge,Re){var tt=Object.keys(ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ge);Re&&(lt=lt.filter(function(xt){return Object.getOwnPropertyDescriptor(ge,xt).enumerable})),tt.push.apply(tt,lt)}return tt}function Mc(ge){for(var Re=1;Re<arguments.length;Re++){var tt=arguments[Re]!=null?arguments[Re]:{};Re%2?ql(Object(tt),!0).forEach(function(lt){(0,z.Z)(ge,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(tt)):ql(Object(tt)).forEach(function(lt){Object.defineProperty(ge,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return ge}var ec=new ai;typeof e.g!="undefined"&&(e.g.__ANTD_STYLE_CACHE_MANAGER_FOR_SSR__=ec);var dd=function(Re){var tt,lt,xt,di=Mc(Mc({},Re),{},{key:(tt=Re.key)!==null&&tt!==void 0?tt:"zcss",speedy:(lt=Re.speedy)!==null&&lt!==void 0?lt:!1}),Di=ee({key:di.key,speedy:di.speedy,container:di.container}),ji=gn(Di),Vi=_s(ji);Di.cache=ec.add(Di.cache);var Gi=(0,r.createContext)(di.customToken?di.customToken:{}),Bi=(xt=di.styled)===null||xt===void 0?void 0:xt.ThemeContext,nn=(0,r.createContext)({CustomThemeContext:Gi,StyledThemeContext:Bi,prefixCls:di==null?void 0:di.prefixCls,iconPrefixCls:di==null?void 0:di.iconPrefixCls}),sn=Il({StyleEngineContext:nn}),hn=cr({hashPriority:di.hashPriority,useTheme:sn,EmotionContext:ji}),Cn=pn(sn),mn=Jn(hn),xn=cd({styledConfig:di.styled,StyleEngineContext:nn,useTheme:sn}),bn=Ri(Di.cache,{hashPriority:di.hashPriority}),vn=bn.cx,Hn=Di.injectGlobal,kn=Di.keyframes;return{createStyles:hn,createGlobalStyle:Cn,createStylish:mn,css:tn,cx:vn,keyframes:kn,injectGlobal:Hn,styleManager:Di,useTheme:sn,StyleProvider:Vi,ThemeProvider:xn}},zo=dd({key:b,speedy:!1}),tc=zo.createStyles,Cd=zo.createGlobalStyle,$d=zo.createStylish,bd=zo.css,yd=zo.cx,Pc=zo.keyframes,Sd=zo.injectGlobal,wd=zo.styleManager,Ld=zo.ThemeProvider,Ed=zo.StyleProvider,xd=zo.useTheme},38925:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return H}});var b=e(67294),z=e(89739),r=e(4340),E=e(97937),c=e(21640),_=e(78860),I=e(94184),M=e.n(I),D=e(82225),p=e(64217),o=e(96159),d=e(53124),u=e(43109),i=e(14747),n=e(91945);const f=(U,G,j,W,K)=>({background:U,border:`${(0,u.bf)(W.lineWidth)} ${W.lineType} ${G}`,[`${K}-icon`]:{color:j}}),v=U=>{const{componentCls:G,motionDurationSlow:j,marginXS:W,marginSM:K,fontSize:m,fontSizeLG:J,lineHeight:X,borderRadiusLG:ie,motionEaseInOutCirc:le,withDescriptionIconSize:fe,colorText:Le,colorTextHeading:pe,withDescriptionPadding:Te,defaultPadding:De}=U;return{[G]:Object.assign(Object.assign({},(0,i.Wf)(U)),{position:"relative",display:"flex",alignItems:"center",padding:De,wordWrap:"break-word",borderRadius:ie,[`&${G}-rtl`]:{direction:"rtl"},[`${G}-content`]:{flex:1,minWidth:0},[`${G}-icon`]:{marginInlineEnd:W,lineHeight:0},["&-description"]:{display:"none",fontSize:m,lineHeight:X},"&-message":{color:pe},[`&${G}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${j} ${le}, opacity ${j} ${le},
        padding-top ${j} ${le}, padding-bottom ${j} ${le},
        margin-bottom ${j} ${le}`},[`&${G}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${G}-with-description`]:{alignItems:"flex-start",padding:Te,[`${G}-icon`]:{marginInlineEnd:K,fontSize:fe,lineHeight:0},[`${G}-message`]:{display:"block",marginBottom:W,color:pe,fontSize:J},[`${G}-description`]:{display:"block",color:Le}},[`${G}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},a=U=>{const{componentCls:G,colorSuccess:j,colorSuccessBorder:W,colorSuccessBg:K,colorWarning:m,colorWarningBorder:J,colorWarningBg:X,colorError:ie,colorErrorBorder:le,colorErrorBg:fe,colorInfo:Le,colorInfoBorder:pe,colorInfoBg:Te}=U;return{[G]:{"&-success":f(K,W,j,U,G),"&-info":f(Te,pe,Le,U,G),"&-warning":f(X,J,m,U,G),"&-error":Object.assign(Object.assign({},f(fe,le,ie,U,G)),{[`${G}-description > pre`]:{margin:0,padding:0}})}}},S=U=>{const{componentCls:G,iconCls:j,motionDurationMid:W,marginXS:K,fontSizeIcon:m,colorIcon:J,colorIconHover:X}=U;return{[G]:{["&-action"]:{marginInlineStart:K},[`${G}-close-icon`]:{marginInlineStart:K,padding:0,overflow:"hidden",fontSize:m,lineHeight:(0,u.bf)(m),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${j}-close`]:{color:J,transition:`color ${W}`,"&:hover":{color:X}}},"&-close-text":{color:J,transition:`color ${W}`,"&:hover":{color:X}}}}},g=U=>({withDescriptionIconSize:U.fontSizeHeading3,defaultPadding:`${U.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${U.paddingMD}px ${U.paddingContentHorizontalLG}px`});var y=(0,n.I$)("Alert",U=>[v(U),a(U),S(U)],g),C=function(U,G){var j={};for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&G.indexOf(W)<0&&(j[W]=U[W]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,W=Object.getOwnPropertySymbols(U);K<W.length;K++)G.indexOf(W[K])<0&&Object.prototype.propertyIsEnumerable.call(U,W[K])&&(j[W[K]]=U[W[K]]);return j};const L={success:z.Z,info:_.Z,error:r.Z,warning:c.Z},O=U=>{const{icon:G,prefixCls:j,type:W}=U,K=L[W]||null;return G?(0,o.wm)(G,b.createElement("span",{className:`${j}-icon`},G),()=>({className:M()(`${j}-icon`,{[G.props.className]:G.props.className})})):b.createElement(K,{className:`${j}-icon`})},T=U=>{const{isClosable:G,prefixCls:j,closeIcon:W,handleClose:K}=U,m=W===!0||W===void 0?b.createElement(E.Z,null):W;return G?b.createElement("button",{type:"button",onClick:K,className:`${j}-close-icon`,tabIndex:0},m):null};var B=U=>{const{description:G,prefixCls:j,message:W,banner:K,className:m,rootClassName:J,style:X,onMouseEnter:ie,onMouseLeave:le,onClick:fe,afterClose:Le,showIcon:pe,closable:Te,closeText:De,closeIcon:ae,action:Ne}=U,We=C(U,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[ze,Se]=b.useState(!1),ne=b.useRef(null),{getPrefixCls:ce,direction:Oe,alert:Pe}=b.useContext(d.E_),Me=ce("alert",j),[ye,_e]=y(Me),se=rt=>{var Dt;Se(!0),(Dt=U.onClose)===null||Dt===void 0||Dt.call(U,rt)},ve=b.useMemo(()=>U.type!==void 0?U.type:K?"warning":"info",[U.type,K]),xe=b.useMemo(()=>De?!0:typeof Te=="boolean"?Te:ae!==!1&&ae!==null&&ae!==void 0,[De,ae,Te]),je=K&&pe===void 0?!0:pe,Ae=M()(Me,`${Me}-${ve}`,{[`${Me}-with-description`]:!!G,[`${Me}-no-icon`]:!je,[`${Me}-banner`]:!!K,[`${Me}-rtl`]:Oe==="rtl"},Pe==null?void 0:Pe.className,m,J,_e),Qe=(0,p.Z)(We,{aria:!0,data:!0});return ye(b.createElement(D.ZP,{visible:!ze,motionName:`${Me}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:rt=>({maxHeight:rt.offsetHeight}),onLeaveEnd:Le},rt=>{let{className:Dt,style:at}=rt;return b.createElement("div",Object.assign({ref:ne,"data-show":!ze,className:M()(Ae,Dt),style:Object.assign(Object.assign(Object.assign({},Pe==null?void 0:Pe.style),X),at),onMouseEnter:ie,onMouseLeave:le,onClick:fe,role:"alert"},Qe),je?b.createElement(O,{description:G,icon:U.icon,prefixCls:Me,type:ve}):null,b.createElement("div",{className:`${Me}-content`},W?b.createElement("div",{className:`${Me}-message`},W):null,G?b.createElement("div",{className:`${Me}-description`},G):null),Ne?b.createElement("div",{className:`${Me}-action`},Ne):null,b.createElement(T,{isClosable:xe,prefixCls:Me,closeIcon:De||ae,handleClose:se}))}))},$=e(15671),Y=e(43144),P=e(32531),w=e(73568),R=function(U){(0,P.Z)(j,U);var G=(0,w.Z)(j);function j(){var W;return(0,$.Z)(this,j),W=G.apply(this,arguments),W.state={error:void 0,info:{componentStack:""}},W}return(0,Y.Z)(j,[{key:"componentDidCatch",value:function(K,m){this.setState({error:K,info:m})}},{key:"render",value:function(){const{message:K,description:m,children:J}=this.props,{error:X,info:ie}=this.state,le=ie&&ie.componentStack?ie.componentStack:null,fe=typeof K=="undefined"?(X||"").toString():K,Le=typeof m=="undefined"?le:m;return X?b.createElement(B,{type:"error",message:fe,description:b.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},Le)}):J}}]),j}(b.Component);const A=B;A.ErrorBoundary=R;var H=A},29789:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return W}});var b=e(67294),z=e(94184),r=e.n(z),E=e(87462),c=e(1413),_=e(4942),I=e(97685),M=e(91),D=e(21770),p=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],o=(0,b.forwardRef)(function(K,m){var J,X=K.prefixCls,ie=X===void 0?"rc-checkbox":X,le=K.className,fe=K.style,Le=K.checked,pe=K.disabled,Te=K.defaultChecked,De=Te===void 0?!1:Te,ae=K.type,Ne=ae===void 0?"checkbox":ae,We=K.title,ze=K.onChange,Se=(0,M.Z)(K,p),ne=(0,b.useRef)(null),ce=(0,D.Z)(De,{value:Le}),Oe=(0,I.Z)(ce,2),Pe=Oe[0],Me=Oe[1];(0,b.useImperativeHandle)(m,function(){return{focus:function(){var ve;(ve=ne.current)===null||ve===void 0||ve.focus()},blur:function(){var ve;(ve=ne.current)===null||ve===void 0||ve.blur()},input:ne.current}});var ye=r()(ie,le,(J={},(0,_.Z)(J,"".concat(ie,"-checked"),Pe),(0,_.Z)(J,"".concat(ie,"-disabled"),pe),J)),_e=function(ve){pe||("checked"in K||Me(ve.target.checked),ze==null||ze({target:(0,c.Z)((0,c.Z)({},K),{},{type:Ne,checked:ve.target.checked}),stopPropagation:function(){ve.stopPropagation()},preventDefault:function(){ve.preventDefault()},nativeEvent:ve.nativeEvent}))};return b.createElement("span",{className:ye,title:We,style:fe},b.createElement("input",(0,E.Z)({},Se,{className:"".concat(ie,"-input"),ref:ne,onChange:_e,disabled:pe,checked:!!Pe,type:Ne})),b.createElement("span",{className:"".concat(ie,"-inner")}))}),d=o,u=e(45353),i=e(17415),n=e(53124),f=e(98866),v=e(35792),a=e(65223),g=b.createContext(null),y=e(43109),C=e(14747),L=e(45503),O=e(91945);const T=K=>{const{checkboxCls:m}=K,J=`${m}-wrapper`;return[{[`${m}-group`]:Object.assign(Object.assign({},(0,C.Wf)(K)),{display:"inline-flex",flexWrap:"wrap",columnGap:K.marginXS,[`> ${K.antCls}-row`]:{flex:1}}),[J]:Object.assign(Object.assign({},(0,C.Wf)(K)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${J}`]:{marginInlineStart:0},[`&${J}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[m]:Object.assign(Object.assign({},(0,C.Wf)(K)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:K.borderRadiusSM,alignSelf:"center",[`${m}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${m}-inner`]:Object.assign({},(0,C.oN)(K))},[`${m}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:K.checkboxSize,height:K.checkboxSize,direction:"ltr",backgroundColor:K.colorBgContainer,border:`${(0,y.bf)(K.lineWidth)} ${K.lineType} ${K.colorBorder}`,borderRadius:K.borderRadiusSM,borderCollapse:"separate",transition:`all ${K.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:K.calc(K.checkboxSize).div(14).mul(5).equal(),height:K.calc(K.checkboxSize).div(14).mul(8).equal(),border:`${(0,y.bf)(K.lineWidthBold)} solid ${K.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${K.motionDurationFast} ${K.motionEaseInBack}, opacity ${K.motionDurationFast}`}},"& + span":{paddingInlineStart:K.paddingXS,paddingInlineEnd:K.paddingXS}})},{[`
        ${J}:not(${J}-disabled),
        ${m}:not(${m}-disabled)
      `]:{[`&:hover ${m}-inner`]:{borderColor:K.colorPrimary}},[`${J}:not(${J}-disabled)`]:{[`&:hover ${m}-checked:not(${m}-disabled) ${m}-inner`]:{backgroundColor:K.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${m}-checked:not(${m}-disabled):after`]:{borderColor:K.colorPrimaryHover}}},{[`${m}-checked`]:{[`${m}-inner`]:{backgroundColor:K.colorPrimary,borderColor:K.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${K.motionDurationMid} ${K.motionEaseOutBack} ${K.motionDurationFast}`}}},[`
        ${J}-checked:not(${J}-disabled),
        ${m}-checked:not(${m}-disabled)
      `]:{[`&:hover ${m}-inner`]:{backgroundColor:K.colorPrimaryHover,borderColor:"transparent"}}},{[m]:{"&-indeterminate":{[`${m}-inner`]:{backgroundColor:K.colorBgContainer,borderColor:K.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:K.calc(K.fontSizeLG).div(2).equal(),height:K.calc(K.fontSizeLG).div(2).equal(),backgroundColor:K.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${J}-disabled`]:{cursor:"not-allowed"},[`${m}-disabled`]:{[`&, ${m}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${m}-inner`]:{background:K.colorBgContainerDisabled,borderColor:K.colorBorder,"&:after":{borderColor:K.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:K.colorTextDisabled},[`&${m}-indeterminate ${m}-inner::after`]:{background:K.colorTextDisabled}}}]};function F(K,m){const J=(0,L.TS)(m,{checkboxCls:`.${K}`,checkboxSize:m.controlInteractiveSize});return[T(J)]}var B=(0,O.I$)("Checkbox",(K,m)=>{let{prefixCls:J}=m;return[F(J,K)]}),$=function(K,m){var J={};for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&m.indexOf(X)<0&&(J[X]=K[X]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,X=Object.getOwnPropertySymbols(K);ie<X.length;ie++)m.indexOf(X[ie])<0&&Object.prototype.propertyIsEnumerable.call(K,X[ie])&&(J[X[ie]]=K[X[ie]]);return J};const Y=(K,m)=>{var J;const{prefixCls:X,className:ie,rootClassName:le,children:fe,indeterminate:Le=!1,style:pe,onMouseEnter:Te,onMouseLeave:De,skipGroup:ae=!1,disabled:Ne}=K,We=$(K,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:ze,direction:Se,checkbox:ne}=b.useContext(n.E_),ce=b.useContext(g),{isFormItemInput:Oe}=b.useContext(a.aM),Pe=b.useContext(f.Z),Me=(J=(ce==null?void 0:ce.disabled)||Ne)!==null&&J!==void 0?J:Pe,ye=b.useRef(We.value);b.useEffect(()=>{ce==null||ce.registerValue(We.value)},[]),b.useEffect(()=>{if(!ae)return We.value!==ye.current&&(ce==null||ce.cancelValue(ye.current),ce==null||ce.registerValue(We.value),ye.current=We.value),()=>ce==null?void 0:ce.cancelValue(We.value)},[We.value]);const _e=ze("checkbox",X),se=(0,v.Z)(_e),[ve,xe]=B(_e,se),je=Object.assign({},We);ce&&!ae&&(je.onChange=function(){We.onChange&&We.onChange.apply(We,arguments),ce.toggleOption&&ce.toggleOption({label:fe,value:We.value})},je.name=ce.name,je.checked=ce.value.includes(We.value));const Ae=r()(`${_e}-wrapper`,{[`${_e}-rtl`]:Se==="rtl",[`${_e}-wrapper-checked`]:je.checked,[`${_e}-wrapper-disabled`]:Me,[`${_e}-wrapper-in-form-item`]:Oe},ne==null?void 0:ne.className,ie,le,se,xe),Qe=r()({[`${_e}-indeterminate`]:Le},i.A,xe),rt=Le?"mixed":void 0;return ve(b.createElement(u.Z,{component:"Checkbox",disabled:Me},b.createElement("label",{className:Ae,style:Object.assign(Object.assign({},ne==null?void 0:ne.style),pe),onMouseEnter:Te,onMouseLeave:De},b.createElement(d,Object.assign({"aria-checked":rt},je,{prefixCls:_e,className:Qe,disabled:Me,ref:m})),fe!==void 0&&b.createElement("span",null,fe))))};var w=b.forwardRef(Y),V=e(74902),R=e(98423),A=function(K,m){var J={};for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&m.indexOf(X)<0&&(J[X]=K[X]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,X=Object.getOwnPropertySymbols(K);ie<X.length;ie++)m.indexOf(X[ie])<0&&Object.prototype.propertyIsEnumerable.call(K,X[ie])&&(J[X[ie]]=K[X[ie]]);return J};const H=(K,m)=>{const{defaultValue:J,children:X,options:ie=[],prefixCls:le,className:fe,rootClassName:Le,style:pe,onChange:Te}=K,De=A(K,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:ae,direction:Ne}=b.useContext(n.E_),[We,ze]=b.useState(De.value||J||[]),[Se,ne]=b.useState([]);b.useEffect(()=>{"value"in De&&ze(De.value||[])},[De.value]);const ce=b.useMemo(()=>ie.map(Dt=>typeof Dt=="string"||typeof Dt=="number"?{label:Dt,value:Dt}:Dt),[ie]),Oe=Dt=>{ne(at=>at.filter(vt=>vt!==Dt))},Pe=Dt=>{ne(at=>[].concat((0,V.Z)(at),[Dt]))},Me=Dt=>{const at=We.indexOf(Dt.value),vt=(0,V.Z)(We);at===-1?vt.push(Dt.value):vt.splice(at,1),"value"in De||ze(vt),Te==null||Te(vt.filter(Mt=>Se.includes(Mt)).sort((Mt,ti)=>{const Ft=ce.findIndex(Xt=>Xt.value===Mt),ei=ce.findIndex(Xt=>Xt.value===ti);return Ft-ei}))},ye=ae("checkbox",le),_e=`${ye}-group`,se=(0,v.Z)(ye),[ve,xe]=B(ye,se),je=(0,R.Z)(De,["value","disabled"]),Ae=ie.length?ce.map(Dt=>b.createElement(w,{prefixCls:ye,key:Dt.value.toString(),disabled:"disabled"in Dt?Dt.disabled:De.disabled,value:Dt.value,checked:We.includes(Dt.value),onChange:Dt.onChange,className:`${_e}-item`,style:Dt.style,title:Dt.title,id:Dt.id,required:Dt.required},Dt.label)):X,Qe={toggleOption:Me,value:We,disabled:De.disabled,name:De.name,registerValue:Pe,cancelValue:Oe},rt=r()(_e,{[`${_e}-rtl`]:Ne==="rtl"},fe,Le,se,xe);return ve(b.createElement("div",Object.assign({className:rt,style:pe},je,{ref:m}),b.createElement(g.Provider,{value:Qe},Ae)))},U=b.forwardRef(H);var G=b.memo(U);const j=w;j.Group=G,j.__ANT_CHECKBOX=!0;var W=j},96074:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return i}});var b=e(67294),z=e(94184),r=e.n(z),E=e(53124),c=e(43109),_=e(14747),I=e(91945),M=e(45503);const D=n=>{const{componentCls:f,sizePaddingEdgeHorizontal:v,colorSplit:a,lineWidth:S,textPaddingInline:g,orientationMargin:y,verticalMarginInline:C}=n;return{[f]:Object.assign(Object.assign({},(0,_.Wf)(n)),{borderBlockStart:`${(0,c.bf)(S)} solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:C,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,c.bf)(S)} solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,c.bf)(n.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${f}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,c.bf)(n.dividerHorizontalWithTextGutterMargin)} 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,c.bf)(S)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${f}-with-text-left`]:{"&::before":{width:`calc(${y} * 100%)`},"&::after":{width:`calc(100% - ${y} * 100%)`}},[`&-horizontal${f}-with-text-right`]:{"&::before":{width:`calc(100% - ${y} * 100%)`},"&::after":{width:`calc(${y} * 100%)`}},[`${f}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:g},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${(0,c.bf)(S)} 0 0`},[`&-horizontal${f}-with-text${f}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${f}-dashed`]:{borderInlineStartWidth:S,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${f}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${f}-with-text-left${f}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${f}-inner-text`]:{paddingInlineStart:v}},[`&-horizontal${f}-with-text-right${f}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${f}-inner-text`]:{paddingInlineEnd:v}}})}},p=n=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:n.marginXS});var o=(0,I.I$)("Divider",n=>{const f=(0,M.TS)(n,{dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG,sizePaddingEdgeHorizontal:0});return[D(f)]},p,{unitless:{orientationMargin:!0}}),d=function(n,f){var v={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&f.indexOf(a)<0&&(v[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,a=Object.getOwnPropertySymbols(n);S<a.length;S++)f.indexOf(a[S])<0&&Object.prototype.propertyIsEnumerable.call(n,a[S])&&(v[a[S]]=n[a[S]]);return v},i=n=>{const{getPrefixCls:f,direction:v,divider:a}=b.useContext(E.E_),{prefixCls:S,type:g="horizontal",orientation:y="center",orientationMargin:C,className:L,rootClassName:O,children:T,dashed:F,plain:B,style:$}=n,Y=d(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),P=f("divider",S),[w,V]=o(P),R=y.length>0?`-${y}`:y,A=!!T,H=y==="left"&&C!=null,U=y==="right"&&C!=null,G=r()(P,a==null?void 0:a.className,V,`${P}-${g}`,{[`${P}-with-text`]:A,[`${P}-with-text${R}`]:A,[`${P}-dashed`]:!!F,[`${P}-plain`]:!!B,[`${P}-rtl`]:v==="rtl",[`${P}-no-default-orientation-margin-left`]:H,[`${P}-no-default-orientation-margin-right`]:U},L,O),j=b.useMemo(()=>typeof C=="number"?C:/^\d+$/.test(C)?Number(C):C,[C]),W=Object.assign(Object.assign({},H&&{marginLeft:j}),U&&{marginRight:j});return w(b.createElement("div",Object.assign({className:G,style:Object.assign(Object.assign({},a==null?void 0:a.style),$)},Y,{role:"separator"}),T&&g!=="vertical"&&b.createElement("span",{className:`${P}-inner-text`,style:W},T)))}},10672:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return ai}});var b=e(74902),z=e(94184),r=e.n(z),E=e(82225),c=e(67294),_=e(33603),I=e(65223);function M(ct){const[Nt,Et]=c.useState(ct);return c.useEffect(()=>{const It=setTimeout(()=>{Et(ct)},ct.length?0:10);return()=>{clearTimeout(It)}},[ct]),Nt}var D=e(43109),p=e(14747),o=e(50438),u=ct=>({[ct.componentCls]:{[`${ct.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${ct.motionDurationMid} ${ct.motionEaseInOut},
        opacity ${ct.motionDurationMid} ${ct.motionEaseInOut} !important`}},[`${ct.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${ct.motionDurationMid} ${ct.motionEaseInOut},
        opacity ${ct.motionDurationMid} ${ct.motionEaseInOut} !important`}}}),i=e(45503),n=e(91945),v=ct=>{const{componentCls:Nt}=ct,Et=`${Nt}-show-help`,It=`${Nt}-show-help-item`;return{[Et]:{transition:`opacity ${ct.motionDurationSlow} ${ct.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[It]:{overflow:"hidden",transition:`height ${ct.motionDurationSlow} ${ct.motionEaseInOut},
                     opacity ${ct.motionDurationSlow} ${ct.motionEaseInOut},
                     transform ${ct.motionDurationSlow} ${ct.motionEaseInOut} !important`,[`&${It}-appear, &${It}-enter`]:{transform:"translateY(-5px)",opacity:0,["&-active"]:{transform:"translateY(0)",opacity:1}},[`&${It}-leave-active`]:{transform:"translateY(-5px)"}}}}};const a=ct=>({legend:{display:"block",width:"100%",marginBottom:ct.marginLG,padding:0,color:ct.colorTextDescription,fontSize:ct.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,D.bf)(ct.lineWidth)} ${ct.lineType} ${ct.colorBorder}`},label:{fontSize:ct.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},[`input[type='file']:focus,
  input[type='radio']:focus,
  input[type='checkbox']:focus`]:{outline:0,boxShadow:`0 0 0 ${(0,D.bf)(ct.controlOutlineWidth)} ${ct.controlOutline}`},output:{display:"block",paddingTop:15,color:ct.colorText,fontSize:ct.fontSize,lineHeight:ct.lineHeight}}),S=(ct,Nt)=>{const{formItemCls:Et}=ct;return{[Et]:{[`${Et}-label > label`]:{height:Nt},[`${Et}-control-input`]:{minHeight:Nt}}}},g=ct=>{const{componentCls:Nt}=ct;return{[ct.componentCls]:Object.assign(Object.assign(Object.assign({},(0,p.Wf)(ct)),a(ct)),{[`${Nt}-text`]:{display:"inline-block",paddingInlineEnd:ct.paddingSM},"&-small":Object.assign({},S(ct,ct.controlHeightSM)),"&-large":Object.assign({},S(ct,ct.controlHeightLG))})}},y=ct=>{const{formItemCls:Nt,iconCls:Et,componentCls:It,rootPrefixCls:Gt,labelRequiredMarkColor:zt,labelColor:mi,labelFontSize:ui,labelHeight:Ti,labelColonMarginInlineStart:Ri,labelColonMarginInlineEnd:tn,itemMarginBottom:gn}=ct;return{[Nt]:Object.assign(Object.assign({},(0,p.Wf)(ct)),{marginBottom:gn,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${Gt}-row`]:{display:"none"},"&-has-warning":{[`${Nt}-split`]:{color:ct.colorError}},"&-has-error":{[`${Nt}-split`]:{color:ct.colorWarning}},[`${Nt}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:ct.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:Ti,color:mi,fontSize:ui,[`> ${Et}`]:{fontSize:ct.fontSize,verticalAlign:"top"},[`&${Nt}-required:not(${Nt}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:ct.marginXXS,color:zt,fontSize:ct.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${It}-hide-required-mark &`]:{display:"none"}},[`${Nt}-optional`]:{display:"inline-block",marginInlineStart:ct.marginXXS,color:ct.colorTextDescription,[`${It}-hide-required-mark &`]:{display:"none"}},[`${Nt}-tooltip`]:{color:ct.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:ct.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:Ri,marginInlineEnd:tn},[`&${Nt}-no-colon::after`]:{content:'"\\a0"'}}},[`${Nt}-control`]:{["--ant-display"]:"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${Gt}-col-'"]):not([class*="' ${Gt}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:ct.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[Nt]:{"&-explain, &-extra":{clear:"both",color:ct.colorTextDescription,fontSize:ct.fontSize,lineHeight:ct.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:ct.controlHeightSM,transition:`color ${ct.motionDurationMid} ${ct.motionEaseOut}`},"&-explain":{"&-error":{color:ct.colorError},"&-warning":{color:ct.colorWarning}}},[`&-with-help ${Nt}-explain`]:{height:"auto",opacity:1},[`${Nt}-feedback-icon`]:{fontSize:ct.fontSize,textAlign:"center",visibility:"visible",animationName:o.kr,animationDuration:ct.motionDurationMid,animationTimingFunction:ct.motionEaseOutBack,pointerEvents:"none","&-success":{color:ct.colorSuccess},"&-error":{color:ct.colorError},"&-warning":{color:ct.colorWarning},"&-validating":{color:ct.colorPrimary}}})}},C=ct=>{const{componentCls:Nt,formItemCls:Et}=ct;return{[`${Nt}-horizontal`]:{[`${Et}-label`]:{flexGrow:0},[`${Et}-control`]:{flex:"1 1 0",minWidth:0},[`${Et}-label[class$='-24'], ${Et}-label[class*='-24 ']`]:{[`& + ${Et}-control`]:{minWidth:"unset"}}}}},L=ct=>{const{componentCls:Nt,formItemCls:Et}=ct;return{[`${Nt}-inline`]:{display:"flex",flexWrap:"wrap",[Et]:{flex:"none",marginInlineEnd:ct.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${Et}-label,
        > ${Et}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${Et}-label`]:{flex:"none"},[`${Nt}-text`]:{display:"inline-block"},[`${Et}-has-feedback`]:{display:"inline-block"}}}}},O=ct=>({padding:ct.verticalLabelPadding,margin:ct.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),T=ct=>{const{componentCls:Nt,formItemCls:Et,rootPrefixCls:It}=ct;return{[`${Et} ${Et}-label`]:O(ct),[`${Nt}:not(${Nt}-inline)`]:{[Et]:{flexWrap:"wrap",[`${Et}-label, ${Et}-control`]:{[`&:not([class*=" ${It}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},F=ct=>{const{componentCls:Nt,formItemCls:Et,rootPrefixCls:It}=ct;return{[`${Nt}-vertical`]:{[Et]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${Nt}-item-control`]:{width:"100%"}}},[`${Nt}-vertical ${Et}-label,
      .${It}-col-24${Et}-label,
      .${It}-col-xl-24${Et}-label`]:O(ct),[`@media (max-width: ${(0,D.bf)(ct.screenXSMax)})`]:[T(ct),{[Nt]:{[`.${It}-col-xs-24${Et}-label`]:O(ct)}}],[`@media (max-width: ${(0,D.bf)(ct.screenSMMax)})`]:{[Nt]:{[`.${It}-col-sm-24${Et}-label`]:O(ct)}},[`@media (max-width: ${(0,D.bf)(ct.screenMDMax)})`]:{[Nt]:{[`.${It}-col-md-24${Et}-label`]:O(ct)}},[`@media (max-width: ${(0,D.bf)(ct.screenLGMax)})`]:{[Nt]:{[`.${It}-col-lg-24${Et}-label`]:O(ct)}}}},B=ct=>({labelRequiredMarkColor:ct.colorError,labelColor:ct.colorTextHeading,labelFontSize:ct.fontSize,labelHeight:ct.controlHeight,labelColonMarginInlineStart:ct.marginXXS/2,labelColonMarginInlineEnd:ct.marginXS,itemMarginBottom:ct.marginLG,verticalLabelPadding:`0 0 ${ct.paddingXS}px`,verticalLabelMargin:0}),$=(ct,Nt)=>(0,i.TS)(ct,{formItemCls:`${ct.componentCls}-item`,rootPrefixCls:Nt});var Y=(0,n.I$)("Form",(ct,Nt)=>{let{rootPrefixCls:Et}=Nt;const It=$(ct,Et);return[g(It),y(It),v(It),C(It),L(It),F(It),u(It),o.kr]},B,{order:-1e3}),P=e(35792);const w=[];function V(ct,Nt,Et){let It=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof ct=="string"?ct:`${Nt}-${It}`,error:ct,errorStatus:Et}}var A=ct=>{let{help:Nt,helpStatus:Et,errors:It=w,warnings:Gt=w,className:zt,fieldId:mi,onVisibleChanged:ui}=ct;const{prefixCls:Ti}=c.useContext(I.Rk),Ri=`${Ti}-item-explain`,tn=(0,P.Z)(Ti),[gn,wn]=Y(Ti,tn),An=(0,c.useMemo)(()=>(0,_.Z)(Ti),[Ti]),Bn=M(It),Tn=M(Gt),es=c.useMemo(()=>Nt!=null?[V(Nt,"help",Et)]:[].concat((0,b.Z)(Bn.map((yn,ss)=>V(yn,"error","error",ss))),(0,b.Z)(Tn.map((yn,ss)=>V(yn,"warning","warning",ss)))),[Nt,Et,Bn,Tn]),Un={};return mi&&(Un.id=`${mi}_help`),gn(c.createElement(E.ZP,{motionDeadline:An.motionDeadline,motionName:`${Ti}-show-help`,visible:!!es.length,onVisibleChanged:ui},yn=>{const{className:ss,style:os}=yn;return c.createElement("div",Object.assign({},Un,{className:r()(Ri,ss,tn,zt,wn),style:os,role:"alert"}),c.createElement(E.V4,Object.assign({keys:es},(0,_.Z)(Ti),{motionName:`${Ti}-show-help-item`,component:!1}),pi=>{const{key:$e,error:ht,errorStatus:gt,className:li,style:ni}=pi;return c.createElement("div",{key:$e,className:r()(li,{[`${Ri}-${gt}`]:gt}),style:ni},ht)}))}))},H=e(43589),U=e(53124),G=e(98866),j=e(97647),W=e(98675);const K=ct=>typeof ct=="object"&&ct!=null&&ct.nodeType===1,m=(ct,Nt)=>(!Nt||ct!=="hidden")&&ct!=="visible"&&ct!=="clip",J=(ct,Nt)=>{if(ct.clientHeight<ct.scrollHeight||ct.clientWidth<ct.scrollWidth){const Et=getComputedStyle(ct,null);return m(Et.overflowY,Nt)||m(Et.overflowX,Nt)||(It=>{const Gt=(zt=>{if(!zt.ownerDocument||!zt.ownerDocument.defaultView)return null;try{return zt.ownerDocument.defaultView.frameElement}catch(mi){return null}})(It);return!!Gt&&(Gt.clientHeight<It.scrollHeight||Gt.clientWidth<It.scrollWidth)})(ct)}return!1},X=(ct,Nt,Et,It,Gt,zt,mi,ui)=>zt<ct&&mi>Nt||zt>ct&&mi<Nt?0:zt<=ct&&ui<=Et||mi>=Nt&&ui>=Et?zt-ct-It:mi>Nt&&ui<Et||zt<ct&&ui>Et?mi-Nt+Gt:0,ie=ct=>{const Nt=ct.parentElement;return Nt==null?ct.getRootNode().host||null:Nt},le=(ct,Nt)=>{var Et,It,Gt,zt;if(typeof document=="undefined")return[];const{scrollMode:mi,block:ui,inline:Ti,boundary:Ri,skipOverflowHiddenElements:tn}=Nt,gn=typeof Ri=="function"?Ri:Hi=>Hi!==Ri;if(!K(ct))throw new TypeError("Invalid target");const wn=document.scrollingElement||document.documentElement,An=[];let Bn=ct;for(;K(Bn)&&gn(Bn);){if(Bn=ie(Bn),Bn===wn){An.push(Bn);break}Bn!=null&&Bn===document.body&&J(Bn)&&!J(document.documentElement)||Bn!=null&&J(Bn,tn)&&An.push(Bn)}const Tn=(It=(Et=window.visualViewport)==null?void 0:Et.width)!=null?It:innerWidth,es=(zt=(Gt=window.visualViewport)==null?void 0:Gt.height)!=null?zt:innerHeight,{scrollX:Un,scrollY:yn}=window,{height:ss,width:os,top:pi,right:$e,bottom:ht,left:gt}=ct.getBoundingClientRect(),{top:li,right:ni,bottom:bi,left:Si}=(Hi=>{const Fi=window.getComputedStyle(Hi);return{top:parseFloat(Fi.scrollMarginTop)||0,right:parseFloat(Fi.scrollMarginRight)||0,bottom:parseFloat(Fi.scrollMarginBottom)||0,left:parseFloat(Fi.scrollMarginLeft)||0}})(ct);let yi=ui==="start"||ui==="nearest"?pi-li:ui==="end"?ht+bi:pi+ss/2-li+bi,Pi=Ti==="center"?gt+os/2-Si+ni:Ti==="end"?$e+ni:gt-Si;const Qi=[];for(let Hi=0;Hi<An.length;Hi++){const Fi=An[Hi],{height:bt,width:k,top:te,right:ue,bottom:Fe,left:Ze}=Fi.getBoundingClientRect();if(mi==="if-needed"&&pi>=0&&gt>=0&&ht<=es&&$e<=Tn&&pi>=te&&ht<=Fe&&gt>=Ze&&$e<=ue)return Qi;const it=getComputedStyle(Fi),dt=parseInt(it.borderLeftWidth,10),_t=parseInt(it.borderTopWidth,10),st=parseInt(it.borderRightWidth,10),Q=parseInt(it.borderBottomWidth,10);let he=0,Be=0;const nt="offsetWidth"in Fi?Fi.offsetWidth-Fi.clientWidth-dt-st:0,pt="offsetHeight"in Fi?Fi.offsetHeight-Fi.clientHeight-_t-Q:0,Tt="offsetWidth"in Fi?Fi.offsetWidth===0?0:k/Fi.offsetWidth:0,Vt="offsetHeight"in Fi?Fi.offsetHeight===0?0:bt/Fi.offsetHeight:0;if(wn===Fi)he=ui==="start"?yi:ui==="end"?yi-es:ui==="nearest"?X(yn,yn+es,es,_t,Q,yn+yi,yn+yi+ss,ss):yi-es/2,Be=Ti==="start"?Pi:Ti==="center"?Pi-Tn/2:Ti==="end"?Pi-Tn:X(Un,Un+Tn,Tn,dt,st,Un+Pi,Un+Pi+os,os),he=Math.max(0,he+yn),Be=Math.max(0,Be+Un);else{he=ui==="start"?yi-te-_t:ui==="end"?yi-Fe+Q+pt:ui==="nearest"?X(te,Fe,bt,_t,Q+pt,yi,yi+ss,ss):yi-(te+bt/2)+pt/2,Be=Ti==="start"?Pi-Ze-dt:Ti==="center"?Pi-(Ze+k/2)+nt/2:Ti==="end"?Pi-ue+st+nt:X(Ze,ue,k,dt,st+nt,Pi,Pi+os,os);const{scrollLeft:oi,scrollTop:Ai}=Fi;he=Vt===0?0:Math.max(0,Math.min(Ai+he/Vt,Fi.scrollHeight-bt/Vt+pt)),Be=Tt===0?0:Math.max(0,Math.min(oi+Be/Tt,Fi.scrollWidth-k/Tt+nt)),yi+=Ai-he,Pi+=oi-Be}Qi.push({el:Fi,top:he,left:Be})}return Qi},fe=ct=>ct===!1?{block:"end",inline:"nearest"}:(Nt=>Nt===Object(Nt)&&Object.keys(Nt).length!==0)(ct)?ct:{block:"start",inline:"nearest"};function Le(ct,Nt){if(!ct.isConnected||!(Gt=>{let zt=Gt;for(;zt&&zt.parentNode;){if(zt.parentNode===document)return!0;zt=zt.parentNode instanceof ShadowRoot?zt.parentNode.host:zt.parentNode}return!1})(ct))return;const Et=(Gt=>{const zt=window.getComputedStyle(Gt);return{top:parseFloat(zt.scrollMarginTop)||0,right:parseFloat(zt.scrollMarginRight)||0,bottom:parseFloat(zt.scrollMarginBottom)||0,left:parseFloat(zt.scrollMarginLeft)||0}})(ct);if((Gt=>typeof Gt=="object"&&typeof Gt.behavior=="function")(Nt))return Nt.behavior(le(ct,Nt));const It=typeof Nt=="boolean"||Nt==null?void 0:Nt.behavior;for(const{el:Gt,top:zt,left:mi}of le(ct,fe(Nt))){const ui=zt-Et.top+Et.bottom,Ti=mi-Et.left+Et.right;Gt.scroll({top:ui,left:Ti,behavior:It})}}const pe=["parentNode"],Te="form_item";function De(ct){return ct===void 0||ct===!1?[]:Array.isArray(ct)?ct:[ct]}function ae(ct,Nt){if(!ct.length)return;const Et=ct.join("_");return Nt?`${Nt}_${Et}`:pe.includes(Et)?`${Te}_${Et}`:Et}function Ne(ct,Nt,Et,It,Gt,zt){let mi=It;return zt!==void 0?mi=zt:Et.validating?mi="validating":ct.length?mi="error":Nt.length?mi="warning":(Et.touched||Gt&&Et.validated)&&(mi="success"),mi}function We(ct){return De(ct).join("_")}function ze(ct){const[Nt]=(0,H.cI)(),Et=c.useRef({}),It=c.useMemo(()=>ct!=null?ct:Object.assign(Object.assign({},Nt),{__INTERNAL__:{itemRef:Gt=>zt=>{const mi=We(Gt);zt?Et.current[mi]=zt:delete Et.current[mi]}},scrollToField:function(Gt){let zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const mi=De(Gt),ui=ae(mi,It.__INTERNAL__.name),Ti=ui?document.getElementById(ui):null;Ti&&Le(Ti,Object.assign({scrollMode:"if-needed",block:"nearest"},zt))},getFieldInstance:Gt=>{const zt=We(Gt);return Et.current[zt]}}),[ct,Nt]);return[It]}var Se=e(37920),ne=function(ct,Nt){var Et={};for(var It in ct)Object.prototype.hasOwnProperty.call(ct,It)&&Nt.indexOf(It)<0&&(Et[It]=ct[It]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,It=Object.getOwnPropertySymbols(ct);Gt<It.length;Gt++)Nt.indexOf(It[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ct,It[Gt])&&(Et[It[Gt]]=ct[It[Gt]]);return Et};const ce=(ct,Nt)=>{const Et=c.useContext(G.Z),{getPrefixCls:It,direction:Gt,form:zt}=c.useContext(U.E_),{prefixCls:mi,className:ui,rootClassName:Ti,size:Ri,disabled:tn=Et,form:gn,colon:wn,labelAlign:An,labelWrap:Bn,labelCol:Tn,wrapperCol:es,hideRequiredMark:Un,layout:yn="horizontal",scrollToFirstError:ss,requiredMark:os,onFinishFailed:pi,name:$e,style:ht,feedbackIcons:gt}=ct,li=ne(ct,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons"]),ni=(0,W.Z)(Ri),bi=c.useContext(Se.Z),Si=(0,c.useMemo)(()=>os!==void 0?os:Un?!1:zt&&zt.requiredMark!==void 0?zt.requiredMark:!0,[Un,os,zt]),yi=wn!=null?wn:zt==null?void 0:zt.colon,Pi=It("form",mi),Qi=(0,P.Z)(Pi),[Hi,Fi]=Y(Pi,Qi),bt=r()(Pi,`${Pi}-${yn}`,{[`${Pi}-hide-required-mark`]:Si===!1,[`${Pi}-rtl`]:Gt==="rtl",[`${Pi}-${ni}`]:ni},Qi,Fi,zt==null?void 0:zt.className,ui,Ti),[k]=ze(gn),{__INTERNAL__:te}=k;te.name=$e;const ue=(0,c.useMemo)(()=>({name:$e,labelAlign:An,labelCol:Tn,labelWrap:Bn,wrapperCol:es,vertical:yn==="vertical",colon:yi,requiredMark:Si,itemRef:te.itemRef,form:k,feedbackIcons:gt}),[$e,An,Tn,es,yn,yi,Si,k,gt]);c.useImperativeHandle(Nt,()=>k);const Fe=(it,dt)=>{if(it){let _t={block:"nearest"};typeof it=="object"&&(_t=it),k.scrollToField(dt,_t)}},Ze=it=>{if(pi==null||pi(it),it.errorFields.length){const dt=it.errorFields[0].name;if(ss!==void 0){Fe(ss,dt);return}zt&&zt.scrollToFirstError!==void 0&&Fe(zt.scrollToFirstError,dt)}};return Hi(c.createElement(G.n,{disabled:tn},c.createElement(j.Z.Provider,{value:ni},c.createElement(I.RV,{validateMessages:bi},c.createElement(I.q3.Provider,{value:ue},c.createElement(H.ZP,Object.assign({id:$e},li,{name:$e,onFinishFailed:Ze,form:k,style:Object.assign(Object.assign({},zt==null?void 0:zt.style),ht),className:bt})))))))};var Pe=c.forwardRef(ce),Me=e(30470),ye=e(42550),_e=e(96159),se=e(27288),ve=e(50344);function xe(ct){if(typeof ct=="function")return ct;const Nt=(0,ve.Z)(ct);return Nt.length<=1?Nt[0]:Nt}const je=()=>{const{status:ct,errors:Nt=[],warnings:Et=[]}=(0,c.useContext)(I.aM);return{status:ct,errors:Nt,warnings:Et}};je.Context=I.aM;var Ae=je,Qe=e(75164);function rt(ct){const[Nt,Et]=c.useState(ct),It=(0,c.useRef)(null),Gt=(0,c.useRef)([]),zt=(0,c.useRef)(!1);c.useEffect(()=>(zt.current=!1,()=>{zt.current=!0,Qe.Z.cancel(It.current),It.current=null}),[]);function mi(ui){zt.current||(It.current===null&&(Gt.current=[],It.current=(0,Qe.Z)(()=>{It.current=null,Et(Ti=>{let Ri=Ti;return Gt.current.forEach(tn=>{Ri=tn(Ri)}),Ri})})),Gt.current.push(ui))}return[Nt,mi]}function Dt(){const{itemRef:ct}=c.useContext(I.q3),Nt=c.useRef({});function Et(It,Gt){const zt=Gt&&typeof Gt=="object"&&Gt.ref,mi=It.join("_");return(Nt.current.name!==mi||Nt.current.originRef!==zt)&&(Nt.current.name=mi,Nt.current.originRef=zt,Nt.current.ref=(0,ye.sQ)(ct(It),zt)),Nt.current.ref}return Et}var at=e(5110),vt=e(8410),Mt=e(98423),ti=e(25976);const Ft=["xxl","xl","lg","md","sm","xs"],ei=ct=>({xs:`(max-width: ${ct.screenXSMax}px)`,sm:`(min-width: ${ct.screenSM}px)`,md:`(min-width: ${ct.screenMD}px)`,lg:`(min-width: ${ct.screenLG}px)`,xl:`(min-width: ${ct.screenXL}px)`,xxl:`(min-width: ${ct.screenXXL}px)`}),Xt=ct=>{const Nt=ct,Et=[].concat(Ft).reverse();return Et.forEach((It,Gt)=>{const zt=It.toUpperCase(),mi=`screen${zt}Min`,ui=`screen${zt}`;if(!(Nt[mi]<=Nt[ui]))throw new Error(`${mi}<=${ui} fails : !(${Nt[mi]}<=${Nt[ui]})`);if(Gt<Et.length-1){const Ti=`screen${zt}Max`;if(!(Nt[ui]<=Nt[Ti]))throw new Error(`${ui}<=${Ti} fails : !(${Nt[ui]}<=${Nt[Ti]})`);const tn=`screen${Et[Gt+1].toUpperCase()}Min`;if(!(Nt[Ti]<=Nt[tn]))throw new Error(`${Ti}<=${tn} fails : !(${Nt[Ti]}<=${Nt[tn]})`)}}),ct};function Ct(){const[,ct]=(0,ti.ZP)(),Nt=ei(Xt(ct));return c.useMemo(()=>{const Et=new Map;let It=-1,Gt={};return{matchHandlers:{},dispatch(zt){return Gt=zt,Et.forEach(mi=>mi(Gt)),Et.size>=1},subscribe(zt){return Et.size||this.register(),It+=1,Et.set(It,zt),zt(Gt),It},unsubscribe(zt){Et.delete(zt),Et.size||this.unregister()},unregister(){Object.keys(Nt).forEach(zt=>{const mi=Nt[zt],ui=this.matchHandlers[mi];ui==null||ui.mql.removeListener(ui==null?void 0:ui.listener)}),Et.clear()},register(){Object.keys(Nt).forEach(zt=>{const mi=Nt[zt],ui=Ri=>{let{matches:tn}=Ri;this.dispatch(Object.assign(Object.assign({},Gt),{[zt]:tn}))},Ti=window.matchMedia(mi);Ti.addListener(ui),this.matchHandlers[mi]={mql:Ti,listener:ui},ui(Ti)})},responsiveMap:Nt}},[ct])}const ft=(ct,Nt)=>{if(Nt&&typeof Nt=="object")for(let Et=0;Et<Ft.length;Et++){const It=Ft[Et];if(ct[It]&&Nt[It]!==void 0)return Nt[It]}};var kt=(0,c.createContext)({});const Ge=ct=>{const{componentCls:Nt}=ct;return{[Nt]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},St=ct=>{const{componentCls:Nt}=ct;return{[Nt]:{position:"relative",maxWidth:"100%",minHeight:1}}},Ci=(ct,Nt)=>{const{componentCls:Et,gridColumns:It}=ct,Gt={};for(let zt=It;zt>=0;zt--)zt===0?(Gt[`${Et}${Nt}-${zt}`]={display:"none"},Gt[`${Et}-push-${zt}`]={insetInlineStart:"auto"},Gt[`${Et}-pull-${zt}`]={insetInlineEnd:"auto"},Gt[`${Et}${Nt}-push-${zt}`]={insetInlineStart:"auto"},Gt[`${Et}${Nt}-pull-${zt}`]={insetInlineEnd:"auto"},Gt[`${Et}${Nt}-offset-${zt}`]={marginInlineStart:0},Gt[`${Et}${Nt}-order-${zt}`]={order:0}):(Gt[`${Et}${Nt}-${zt}`]=[{["--ant-display"]:"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${zt/It*100}%`,maxWidth:`${zt/It*100}%`}],Gt[`${Et}${Nt}-push-${zt}`]={insetInlineStart:`${zt/It*100}%`},Gt[`${Et}${Nt}-pull-${zt}`]={insetInlineEnd:`${zt/It*100}%`},Gt[`${Et}${Nt}-offset-${zt}`]={marginInlineStart:`${zt/It*100}%`},Gt[`${Et}${Nt}-order-${zt}`]={order:zt});return Gt},Oi=(ct,Nt)=>Ci(ct,Nt),xi=(ct,Nt,Et)=>({[`@media (min-width: ${(0,D.bf)(Nt)})`]:Object.assign({},Oi(ct,Et))}),Yi=()=>({}),fn=()=>({}),un=(0,n.I$)("Grid",Ge,Yi),Pn=(0,n.I$)("Grid",ct=>{const Nt=(0,i.TS)(ct,{gridColumns:24}),Et={"-sm":Nt.screenSMMin,"-md":Nt.screenMDMin,"-lg":Nt.screenLGMin,"-xl":Nt.screenXLMin,"-xxl":Nt.screenXXLMin};return[St(Nt),Oi(Nt,""),Oi(Nt,"-xs"),Object.keys(Et).map(It=>xi(Nt,Et[It],It)).reduce((It,Gt)=>Object.assign(Object.assign({},It),Gt),{})]},fn);var Dn=function(ct,Nt){var Et={};for(var It in ct)Object.prototype.hasOwnProperty.call(ct,It)&&Nt.indexOf(It)<0&&(Et[It]=ct[It]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,It=Object.getOwnPropertySymbols(ct);Gt<It.length;Gt++)Nt.indexOf(It[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ct,It[Gt])&&(Et[It[Gt]]=ct[It[Gt]]);return Et};const Gn=null,Rn=null;function ns(ct,Nt){const[Et,It]=c.useState(typeof ct=="string"?ct:""),Gt=()=>{if(typeof ct=="string"&&It(ct),typeof ct=="object")for(let zt=0;zt<Ft.length;zt++){const mi=Ft[zt];if(!Nt[mi])continue;const ui=ct[mi];if(ui!==void 0){It(ui);return}}};return c.useEffect(()=>{Gt()},[JSON.stringify(ct),Nt]),Et}var qn=c.forwardRef((ct,Nt)=>{const{prefixCls:Et,justify:It,align:Gt,className:zt,style:mi,children:ui,gutter:Ti=0,wrap:Ri}=ct,tn=Dn(ct,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:gn,direction:wn}=c.useContext(U.E_),[An,Bn]=c.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[Tn,es]=c.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Un=ns(Gt,Tn),yn=ns(It,Tn),ss=c.useRef(Ti),os=Ct();c.useEffect(()=>{const Hi=os.subscribe(Fi=>{es(Fi);const bt=ss.current||0;(!Array.isArray(bt)&&typeof bt=="object"||Array.isArray(bt)&&(typeof bt[0]=="object"||typeof bt[1]=="object"))&&Bn(Fi)});return()=>os.unsubscribe(Hi)},[]);const pi=()=>{const Hi=[void 0,void 0];return(Array.isArray(Ti)?Ti:[Ti,void 0]).forEach((bt,k)=>{if(typeof bt=="object")for(let te=0;te<Ft.length;te++){const ue=Ft[te];if(An[ue]&&bt[ue]!==void 0){Hi[k]=bt[ue];break}}else Hi[k]=bt}),Hi},$e=gn("row",Et),[ht,gt]=un($e),li=pi(),ni=r()($e,{[`${$e}-no-wrap`]:Ri===!1,[`${$e}-${yn}`]:yn,[`${$e}-${Un}`]:Un,[`${$e}-rtl`]:wn==="rtl"},zt,gt),bi={},Si=li[0]!=null&&li[0]>0?li[0]/-2:void 0;Si&&(bi.marginLeft=Si,bi.marginRight=Si),[,bi.rowGap]=li;const[yi,Pi]=li,Qi=c.useMemo(()=>({gutter:[yi,Pi],wrap:Ri}),[yi,Pi,Ri]);return ht(c.createElement(kt.Provider,{value:Qi},c.createElement("div",Object.assign({},tn,{className:ni,style:Object.assign(Object.assign({},bi),mi),ref:Nt}),ui)))}),fs=function(ct,Nt){var Et={};for(var It in ct)Object.prototype.hasOwnProperty.call(ct,It)&&Nt.indexOf(It)<0&&(Et[It]=ct[It]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,It=Object.getOwnPropertySymbols(ct);Gt<It.length;Gt++)Nt.indexOf(It[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ct,It[Gt])&&(Et[It[Gt]]=ct[It[Gt]]);return Et};function Nn(ct){return typeof ct=="number"?`${ct} ${ct} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(ct)?`0 0 ${ct}`:ct}const cs=["xs","sm","md","lg","xl","xxl"];var et=c.forwardRef((ct,Nt)=>{const{getPrefixCls:Et,direction:It}=c.useContext(U.E_),{gutter:Gt,wrap:zt}=c.useContext(kt),{prefixCls:mi,span:ui,order:Ti,offset:Ri,push:tn,pull:gn,className:wn,children:An,flex:Bn,style:Tn}=ct,es=fs(ct,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Un=Et("col",mi),[yn,ss]=Pn(Un);let os={};cs.forEach(ht=>{let gt={};const li=ct[ht];typeof li=="number"?gt.span=li:typeof li=="object"&&(gt=li||{}),delete es[ht],os=Object.assign(Object.assign({},os),{[`${Un}-${ht}-${gt.span}`]:gt.span!==void 0,[`${Un}-${ht}-order-${gt.order}`]:gt.order||gt.order===0,[`${Un}-${ht}-offset-${gt.offset}`]:gt.offset||gt.offset===0,[`${Un}-${ht}-push-${gt.push}`]:gt.push||gt.push===0,[`${Un}-${ht}-pull-${gt.pull}`]:gt.pull||gt.pull===0,[`${Un}-${ht}-flex-${gt.flex}`]:gt.flex||gt.flex==="auto",[`${Un}-rtl`]:It==="rtl"})});const pi=r()(Un,{[`${Un}-${ui}`]:ui!==void 0,[`${Un}-order-${Ti}`]:Ti,[`${Un}-offset-${Ri}`]:Ri,[`${Un}-push-${tn}`]:tn,[`${Un}-pull-${gn}`]:gn},wn,os,ss),$e={};if(Gt&&Gt[0]>0){const ht=Gt[0]/2;$e.paddingLeft=ht,$e.paddingRight=ht}return Bn&&($e.flex=Nn(Bn),zt===!1&&!$e.minWidth&&($e.minWidth=0)),yn(c.createElement("div",Object.assign({},es,{style:Object.assign(Object.assign({},$e),Tn),className:pi,ref:Nt}),An))});const wt=ct=>{const{formItemCls:Nt}=ct;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${Nt}-control`]:{display:"flex"}}}};var Yt=(0,n.bk)(["Form","item-item"],(ct,Nt)=>{let{rootPrefixCls:Et}=Nt;const It=$(ct,Et);return[wt(It)]}),vi=ct=>{const{prefixCls:Nt,status:Et,wrapperCol:It,children:Gt,errors:zt,warnings:mi,_internalItemRender:ui,extra:Ti,help:Ri,fieldId:tn,marginBottom:gn,onErrorVisibleChanged:wn}=ct,An=`${Nt}-item`,Bn=c.useContext(I.q3),Tn=It||Bn.wrapperCol||{},es=r()(`${An}-control`,Tn.className),Un=c.useMemo(()=>Object.assign({},Bn),[Bn]);delete Un.labelCol,delete Un.wrapperCol;const yn=c.createElement("div",{className:`${An}-control-input`},c.createElement("div",{className:`${An}-control-input-content`},Gt)),ss=c.useMemo(()=>({prefixCls:Nt,status:Et}),[Nt,Et]),os=gn!==null||zt.length||mi.length?c.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},c.createElement(I.Rk.Provider,{value:ss},c.createElement(A,{fieldId:tn,errors:zt,warnings:mi,help:Ri,helpStatus:Et,className:`${An}-explain-connected`,onVisibleChanged:wn})),!!gn&&c.createElement("div",{style:{width:0,height:gn}})):null,pi={};tn&&(pi.id=`${tn}_extra`);const $e=Ti?c.createElement("div",Object.assign({},pi,{className:`${An}-extra`}),Ti):null,ht=ui&&ui.mark==="pro_table_render"&&ui.render?ui.render(ct,{input:yn,errorList:os,extra:$e}):c.createElement(c.Fragment,null,yn,os,$e);return c.createElement(I.q3.Provider,{value:Un},c.createElement(et,Object.assign({},Tn,{className:es}),ht),c.createElement(Yt,{prefixCls:Nt}))},Wi=e(87462),$i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Ot=$i,yt=e(84089),si=function(Nt,Et){return c.createElement(yt.Z,(0,Wi.Z)({},Nt,{ref:Et,icon:Ot}))},ii=c.forwardRef(si),Ui=e(81570),an=e(10110),en=e(2096),In=function(ct,Nt){var Et={};for(var It in ct)Object.prototype.hasOwnProperty.call(ct,It)&&Nt.indexOf(It)<0&&(Et[It]=ct[It]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,It=Object.getOwnPropertySymbols(ct);Gt<It.length;Gt++)Nt.indexOf(It[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ct,It[Gt])&&(Et[It[Gt]]=ct[It[Gt]]);return Et};function Fn(ct){return ct?typeof ct=="object"&&!c.isValidElement(ct)?ct:{title:ct}:null}var Mi=ct=>{let{prefixCls:Nt,label:Et,htmlFor:It,labelCol:Gt,labelAlign:zt,colon:mi,required:ui,requiredMark:Ti,tooltip:Ri}=ct;var tn;const[gn]=(0,an.Z)("Form"),{vertical:wn,labelAlign:An,labelCol:Bn,labelWrap:Tn,colon:es}=c.useContext(I.q3);if(!Et)return null;const Un=Gt||Bn||{},yn=zt||An,ss=`${Nt}-item-label`,os=r()(ss,yn==="left"&&`${ss}-left`,Un.className,{[`${ss}-wrap`]:!!Tn});let pi=Et;const $e=mi===!0||es!==!1&&mi!==!1;$e&&!wn&&typeof Et=="string"&&Et.trim()!==""&&(pi=Et.replace(/[:|：]\s*$/,""));const gt=Fn(Ri);if(gt){const{icon:Si=c.createElement(ii,null)}=gt,yi=In(gt,["icon"]),Pi=c.createElement(en.Z,Object.assign({},yi),c.cloneElement(Si,{className:`${Nt}-item-tooltip`,title:"",onClick:Qi=>{Qi.preventDefault()},tabIndex:null}));pi=c.createElement(c.Fragment,null,pi,Pi)}const li=Ti==="optional",ni=typeof Ti=="function";ni?pi=Ti(pi,{required:!!ui}):li&&!ui&&(pi=c.createElement(c.Fragment,null,pi,c.createElement("span",{className:`${Nt}-item-optional`,title:""},(gn==null?void 0:gn.optional)||((tn=Ui.Z.Form)===null||tn===void 0?void 0:tn.optional))));const bi=r()({[`${Nt}-item-required`]:ui,[`${Nt}-item-required-mark-optional`]:li||ni,[`${Nt}-item-no-colon`]:!$e});return c.createElement(et,Object.assign({},Un,{className:os}),c.createElement("label",{htmlFor:It,className:bi,title:typeof Et=="string"?Et:""},pi))},_i=e(89739),Ii=e(4340),Ht=e(21640),Zt=e(50888);const hi={success:_i.Z,warning:Ht.Z,error:Ii.Z,validating:Zt.Z};function Wt(ct){let{children:Nt,errors:Et,warnings:It,hasFeedback:Gt,validateStatus:zt,prefixCls:mi,meta:ui,noStyle:Ti}=ct;const Ri=`${mi}-item`,{feedbackIcons:tn}=c.useContext(I.q3),gn=Ne(Et,It,ui,null,!!Gt,zt),{isFormItemInput:wn,status:An,hasFeedback:Bn,feedbackIcon:Tn}=c.useContext(I.aM),es=c.useMemo(()=>{var Un;let yn;if(Gt){const os=Gt!==!0&&Gt.icons||tn,pi=gn&&((Un=os==null?void 0:os({status:gn,errors:Et,warnings:It}))===null||Un===void 0?void 0:Un[gn]),$e=gn&&hi[gn];yn=pi!==!1&&$e?c.createElement("span",{className:r()(`${Ri}-feedback-icon`,`${Ri}-feedback-icon-${gn}`)},pi||c.createElement($e,null)):null}const ss={status:gn||"",errors:Et,warnings:It,hasFeedback:!!Gt,feedbackIcon:yn,isFormItemInput:!0};return Ti&&(ss.status=(gn!=null?gn:An)||"",ss.isFormItemInput=wn,ss.hasFeedback=!!(Gt!=null?Gt:Bn),ss.feedbackIcon=Gt!==void 0?ss.feedbackIcon:Tn),ss},[gn,Gt,Ti,wn,An]);return c.createElement(I.aM.Provider,{value:es},Nt)}var qe=function(ct,Nt){var Et={};for(var It in ct)Object.prototype.hasOwnProperty.call(ct,It)&&Nt.indexOf(It)<0&&(Et[It]=ct[It]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,It=Object.getOwnPropertySymbols(ct);Gt<It.length;Gt++)Nt.indexOf(It[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ct,It[Gt])&&(Et[It[Gt]]=ct[It[Gt]]);return Et};function ee(ct){const{prefixCls:Nt,className:Et,rootClassName:It,style:Gt,help:zt,errors:mi,warnings:ui,validateStatus:Ti,meta:Ri,hasFeedback:tn,hidden:gn,children:wn,fieldId:An,required:Bn,isRequired:Tn,onSubItemMetaChange:es}=ct,Un=qe(ct,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),yn=`${Nt}-item`,{requiredMark:ss}=c.useContext(I.q3),os=c.useRef(null),pi=M(mi),$e=M(ui),ht=zt!=null,gt=!!(ht||mi.length||ui.length),li=!!os.current&&(0,at.Z)(os.current),[ni,bi]=c.useState(null);(0,vt.Z)(()=>{if(gt&&os.current){const Hi=getComputedStyle(os.current);bi(parseInt(Hi.marginBottom,10))}},[gt,li]);const Si=Hi=>{Hi||bi(null)},Pi=function(){let Hi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Fi=Hi?pi:Ri.errors,bt=Hi?$e:Ri.warnings;return Ne(Fi,bt,Ri,"",!!tn,Ti)}(),Qi=r()(yn,Et,It,{[`${yn}-with-help`]:ht||pi.length||$e.length,[`${yn}-has-feedback`]:Pi&&tn,[`${yn}-has-success`]:Pi==="success",[`${yn}-has-warning`]:Pi==="warning",[`${yn}-has-error`]:Pi==="error",[`${yn}-is-validating`]:Pi==="validating",[`${yn}-hidden`]:gn});return c.createElement("div",{className:Qi,style:Gt,ref:os},c.createElement(qn,Object.assign({className:`${yn}-row`},(0,Mt.Z)(Un,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),c.createElement(Mi,Object.assign({htmlFor:An},ct,{requiredMark:ss,required:Bn!=null?Bn:Tn,prefixCls:Nt})),c.createElement(vi,Object.assign({},ct,Ri,{errors:pi,warnings:$e,prefixCls:Nt,status:Pi,help:zt,marginBottom:ni,onErrorVisibleChanged:Si}),c.createElement(I.qI.Provider,{value:es},c.createElement(Wt,{prefixCls:Nt,meta:Ri,errors:Ri.errors,warnings:Ri.warnings,hasFeedback:tn,validateStatus:Pi},wn)))),!!ni&&c.createElement("div",{className:`${yn}-margin-offset`,style:{marginBottom:-ni}}))}const de="__SPLIT__",re=null,Ce=c.memo(ct=>{let{children:Nt}=ct;return Nt},(ct,Nt)=>ct.value===Nt.value&&ct.update===Nt.update&&ct.childProps.length===Nt.childProps.length&&ct.childProps.every((Et,It)=>Et===Nt.childProps[It]));function we(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function be(ct){const{name:Nt,noStyle:Et,className:It,dependencies:Gt,prefixCls:zt,shouldUpdate:mi,rules:ui,children:Ti,required:Ri,label:tn,messageVariables:gn,trigger:wn="onChange",validateTrigger:An,hidden:Bn,help:Tn}=ct,{getPrefixCls:es}=c.useContext(U.E_),{name:Un}=c.useContext(I.q3),yn=xe(Ti),ss=typeof yn=="function",os=c.useContext(I.qI),{validateTrigger:pi}=c.useContext(H.zb),$e=An!==void 0?An:pi,ht=Nt!=null,gt=es("form",zt),li=(0,P.Z)(gt),[ni,bi]=Y(gt,li),Si=(0,se.ln)("Form.Item"),yi=c.useContext(H.ZM),Pi=c.useRef(),[Qi,Hi]=rt({}),[Fi,bt]=(0,Me.Z)(()=>we()),k=_t=>{const st=yi==null?void 0:yi.getKey(_t.name);if(bt(_t.destroy?we():_t,!0),Et&&Tn!==!1&&os){let Q=_t.name;if(_t.destroy)Q=Pi.current||Q;else if(st!==void 0){const[he,Be]=st;Q=[he].concat((0,b.Z)(Be)),Pi.current=Q}os(_t,Q)}},te=(_t,st)=>{Hi(Q=>{const he=Object.assign({},Q),nt=[].concat((0,b.Z)(_t.name.slice(0,-1)),(0,b.Z)(st)).join(de);return _t.destroy?delete he[nt]:he[nt]=_t,he})},[ue,Fe]=c.useMemo(()=>{const _t=(0,b.Z)(Fi.errors),st=(0,b.Z)(Fi.warnings);return Object.values(Qi).forEach(Q=>{_t.push.apply(_t,(0,b.Z)(Q.errors||[])),st.push.apply(st,(0,b.Z)(Q.warnings||[]))}),[_t,st]},[Qi,Fi.errors,Fi.warnings]),Ze=Dt();function it(_t,st,Q){return Et&&!Bn?c.createElement(Wt,{prefixCls:gt,hasFeedback:ct.hasFeedback,validateStatus:ct.validateStatus,meta:Fi,errors:ue,warnings:Fe,noStyle:!0},_t):c.createElement(ee,Object.assign({key:"row"},ct,{className:r()(It,li,bi),prefixCls:gt,fieldId:st,isRequired:Q,errors:ue,warnings:Fe,meta:Fi,onSubItemMetaChange:te}),_t)}if(!ht&&!ss&&!Gt)return ni(it(yn));let dt={};return typeof tn=="string"?dt.label=tn:Nt&&(dt.label=String(Nt)),gn&&(dt=Object.assign(Object.assign({},dt),gn)),ni(c.createElement(H.gN,Object.assign({},ct,{messageVariables:dt,trigger:wn,validateTrigger:$e,onMetaChange:k}),(_t,st,Q)=>{const he=De(Nt).length&&st?st.name:[],Be=ae(he,Un),nt=Ri!==void 0?Ri:!!(ui&&ui.some(Vt=>{if(Vt&&typeof Vt=="object"&&Vt.required&&!Vt.warningOnly)return!0;if(typeof Vt=="function"){const oi=Vt(Q);return oi&&oi.required&&!oi.warningOnly}return!1})),pt=Object.assign({},_t);let Tt=null;if(Array.isArray(yn)&&ht)Tt=yn;else if(!(ss&&(!(mi||Gt)||ht))){if(!(Gt&&!ss&&!ht))if((0,_e.l$)(yn)){const Vt=Object.assign(Object.assign({},yn.props),pt);if(Vt.id||(Vt.id=Be),Tn||ue.length>0||Fe.length>0||ct.extra){const zi=[];(Tn||ue.length>0)&&zi.push(`${Be}_help`),ct.extra&&zi.push(`${Be}_extra`),Vt["aria-describedby"]=zi.join(" ")}ue.length>0&&(Vt["aria-invalid"]="true"),nt&&(Vt["aria-required"]="true"),(0,ye.Yr)(yn)&&(Vt.ref=Ze(he,yn)),new Set([].concat((0,b.Z)(De(wn)),(0,b.Z)(De($e)))).forEach(zi=>{Vt[zi]=function(){for(var cn,dn,on,Ki,ln,pn=arguments.length,Jn=new Array(pn),xs=0;xs<pn;xs++)Jn[xs]=arguments[xs];(on=pt[zi])===null||on===void 0||(cn=on).call.apply(cn,[pt].concat(Jn)),(ln=(Ki=yn.props)[zi])===null||ln===void 0||(dn=ln).call.apply(dn,[Ki].concat(Jn))}});const Ai=[Vt["aria-required"],Vt["aria-invalid"],Vt["aria-describedby"]];Tt=c.createElement(Ce,{value:pt[ct.valuePropName||"value"],update:yn,childProps:Ai},(0,_e.Tm)(yn,Vt))}else ss&&(mi||Gt)&&!ht?Tt=yn(Q):Tt=yn}return it(Tt,Be,nt)}))}const ke=be;ke.useStatus=Ae;var He=ke,Ye=function(ct,Nt){var Et={};for(var It in ct)Object.prototype.hasOwnProperty.call(ct,It)&&Nt.indexOf(It)<0&&(Et[It]=ct[It]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,It=Object.getOwnPropertySymbols(ct);Gt<It.length;Gt++)Nt.indexOf(It[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ct,It[Gt])&&(Et[It[Gt]]=ct[It[Gt]]);return Et},$t=ct=>{var{prefixCls:Nt,children:Et}=ct,It=Ye(ct,["prefixCls","children"]);const{getPrefixCls:Gt}=c.useContext(U.E_),zt=Gt("form",Nt),mi=c.useMemo(()=>({prefixCls:zt,status:"error"}),[zt]);return c.createElement(H.aV,Object.assign({},It),(ui,Ti,Ri)=>c.createElement(I.Rk.Provider,{value:mi},Et(ui.map(tn=>Object.assign(Object.assign({},tn),{fieldKey:tn.key})),Ti,{errors:Ri.errors,warnings:Ri.warnings})))};function gi(){const{form:ct}=(0,c.useContext)(I.q3);return ct}const ci=Pe;ci.Item=He,ci.List=$t,ci.ErrorList=A,ci.useForm=ze,ci.useFormInstance=gi,ci.useWatch=H.qo,ci.Provider=I.RV,ci.create=()=>{};var ai=ci},68863:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return j}});var b=e(67294),z=e(94184),r=e.n(z),E=e(53124),c=e(65223),_=e(47673),M=W=>{const{getPrefixCls:K,direction:m}=(0,b.useContext)(E.E_),{prefixCls:J,className:X}=W,ie=K("input-group",J),le=K("input"),[fe,Le]=(0,_.ZP)(le),pe=r()(ie,{[`${ie}-lg`]:W.size==="large",[`${ie}-sm`]:W.size==="small",[`${ie}-compact`]:W.compact,[`${ie}-rtl`]:m==="rtl"},Le,X),Te=(0,b.useContext)(c.aM),De=(0,b.useMemo)(()=>Object.assign(Object.assign({},Te),{isFormItemInput:!1}),[Te]);return fe(b.createElement("span",{className:pe,style:W.style,onMouseEnter:W.onMouseEnter,onMouseLeave:W.onMouseLeave,onFocus:W.onFocus,onBlur:W.onBlur},b.createElement(c.aM.Provider,{value:De},W.children)))},D=e(82586),p=e(87462),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},d=o,u=e(84089),i=function(K,m){return b.createElement(u.Z,(0,p.Z)({},K,{ref:m,icon:d}))},n=b.forwardRef(i),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},v=f,a=function(K,m){return b.createElement(u.Z,(0,p.Z)({},K,{ref:m,icon:v}))},S=b.forwardRef(a),g=e(98423),y=e(42550),C=e(72922),L=function(W,K){var m={};for(var J in W)Object.prototype.hasOwnProperty.call(W,J)&&K.indexOf(J)<0&&(m[J]=W[J]);if(W!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(W);X<J.length;X++)K.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(W,J[X])&&(m[J[X]]=W[J[X]]);return m};const O=W=>W?b.createElement(S,null):b.createElement(n,null),T={click:"onClick",hover:"onMouseOver"};var B=b.forwardRef((W,K)=>{const{visibilityToggle:m=!0}=W,J=typeof m=="object"&&m.visible!==void 0,[X,ie]=(0,b.useState)(()=>J?m.visible:!1),le=(0,b.useRef)(null);b.useEffect(()=>{J&&ie(m.visible)},[J,m]);const fe=(0,C.Z)(le),Le=()=>{const{disabled:Me}=W;Me||(X&&fe(),ie(ye=>{var _e;const se=!ye;return typeof m=="object"&&((_e=m.onVisibleChange)===null||_e===void 0||_e.call(m,se)),se}))},pe=Me=>{const{action:ye="click",iconRender:_e=O}=W,se=T[ye]||"",ve=_e(X),xe={[se]:Le,className:`${Me}-icon`,key:"passwordIcon",onMouseDown:je=>{je.preventDefault()},onMouseUp:je=>{je.preventDefault()}};return b.cloneElement(b.isValidElement(ve)?ve:b.createElement("span",null,ve),xe)},{className:Te,prefixCls:De,inputPrefixCls:ae,size:Ne}=W,We=L(W,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:ze}=b.useContext(E.E_),Se=ze("input",ae),ne=ze("input-password",De),ce=m&&pe(ne),Oe=r()(ne,Te,{[`${ne}-${Ne}`]:!!Ne}),Pe=Object.assign(Object.assign({},(0,g.Z)(We,["suffix","iconRender","visibilityToggle"])),{type:X?"text":"password",className:Oe,prefixCls:Se,suffix:ce});return Ne&&(Pe.size=Ne),b.createElement(D.Z,Object.assign({ref:(0,y.sQ)(K,le)},Pe))}),$=e(68795),Y=e(96159),P=e(15867),w=e(98675),V=e(4173),R=function(W,K){var m={};for(var J in W)Object.prototype.hasOwnProperty.call(W,J)&&K.indexOf(J)<0&&(m[J]=W[J]);if(W!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(W);X<J.length;X++)K.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(W,J[X])&&(m[J[X]]=W[J[X]]);return m},H=b.forwardRef((W,K)=>{const{prefixCls:m,inputPrefixCls:J,className:X,size:ie,suffix:le,enterButton:fe=!1,addonAfter:Le,loading:pe,disabled:Te,onSearch:De,onChange:ae,onCompositionStart:Ne,onCompositionEnd:We}=W,ze=R(W,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:Se,direction:ne}=b.useContext(E.E_),ce=b.useRef(!1),Oe=Se("input-search",m),Pe=Se("input",J),{compactSize:Me}=(0,V.ri)(Oe,ne),ye=(0,w.Z)(Ft=>{var ei;return(ei=ie!=null?ie:Me)!==null&&ei!==void 0?ei:Ft}),_e=b.useRef(null),se=Ft=>{Ft&&Ft.target&&Ft.type==="click"&&De&&De(Ft.target.value,Ft,{source:"clear"}),ae&&ae(Ft)},ve=Ft=>{var ei;document.activeElement===((ei=_e.current)===null||ei===void 0?void 0:ei.input)&&Ft.preventDefault()},xe=Ft=>{var ei,Xt;De&&De((Xt=(ei=_e.current)===null||ei===void 0?void 0:ei.input)===null||Xt===void 0?void 0:Xt.value,Ft,{source:"input"})},je=Ft=>{ce.current||pe||xe(Ft)},Ae=typeof fe=="boolean"?b.createElement($.Z,null):null,Qe=`${Oe}-button`;let rt;const Dt=fe||{},at=Dt.type&&Dt.type.__ANT_BUTTON===!0;at||Dt.type==="button"?rt=(0,Y.Tm)(Dt,Object.assign({onMouseDown:ve,onClick:Ft=>{var ei,Xt;(Xt=(ei=Dt==null?void 0:Dt.props)===null||ei===void 0?void 0:ei.onClick)===null||Xt===void 0||Xt.call(ei,Ft),xe(Ft)},key:"enterButton"},at?{className:Qe,size:ye}:{})):rt=b.createElement(P.ZP,{className:Qe,type:fe?"primary":void 0,size:ye,disabled:Te,key:"enterButton",onMouseDown:ve,onClick:xe,loading:pe,icon:Ae},fe),Le&&(rt=[rt,(0,Y.Tm)(Le,{key:"addonAfter"})]);const vt=r()(Oe,{[`${Oe}-rtl`]:ne==="rtl",[`${Oe}-${ye}`]:!!ye,[`${Oe}-with-button`]:!!fe},X),Mt=Ft=>{ce.current=!0,Ne==null||Ne(Ft)},ti=Ft=>{ce.current=!1,We==null||We(Ft)};return b.createElement(D.Z,Object.assign({ref:(0,y.sQ)(_e,K),onPressEnter:je},ze,{size:ye,onCompositionStart:Mt,onCompositionEnd:ti,prefixCls:Pe,addonAfter:rt,suffix:le,onChange:se,className:vt,disabled:Te}))}),U=e(22913);const G=D.Z;G.Group=M,G.Search=H,G.TextArea=U.Z,G.Password=B;var j=G},72269:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return V}});var b=e(67294),z=e(50888),r=e(94184),E=e.n(r),c=e(87462),_=e(4942),I=e(97685),M=e(91),D=e(21770),p=e(15105),o=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],d=b.forwardRef(function(R,A){var H,U=R.prefixCls,G=U===void 0?"rc-switch":U,j=R.className,W=R.checked,K=R.defaultChecked,m=R.disabled,J=R.loadingIcon,X=R.checkedChildren,ie=R.unCheckedChildren,le=R.onClick,fe=R.onChange,Le=R.onKeyDown,pe=(0,M.Z)(R,o),Te=(0,D.Z)(!1,{value:W,defaultValue:K}),De=(0,I.Z)(Te,2),ae=De[0],Ne=De[1];function We(ce,Oe){var Pe=ae;return m||(Pe=ce,Ne(Pe),fe==null||fe(Pe,Oe)),Pe}function ze(ce){ce.which===p.Z.LEFT?We(!1,ce):ce.which===p.Z.RIGHT&&We(!0,ce),Le==null||Le(ce)}function Se(ce){var Oe=We(!ae,ce);le==null||le(Oe,ce)}var ne=E()(G,j,(H={},(0,_.Z)(H,"".concat(G,"-checked"),ae),(0,_.Z)(H,"".concat(G,"-disabled"),m),H));return b.createElement("button",(0,c.Z)({},pe,{type:"button",role:"switch","aria-checked":ae,disabled:m,className:ne,ref:A,onKeyDown:ze,onClick:Se}),J,b.createElement("span",{className:"".concat(G,"-inner")},b.createElement("span",{className:"".concat(G,"-inner-checked")},X),b.createElement("span",{className:"".concat(G,"-inner-unchecked")},ie)))});d.displayName="Switch";var u=d,i=e(45353),n=e(53124),f=e(98866),v=e(98675),a=e(43109),S=e(10274),g=e(14747),y=e(91945),C=e(45503);const L=R=>{const{componentCls:A,trackHeightSM:H,trackPadding:U,trackMinWidthSM:G,innerMinMarginSM:j,innerMaxMarginSM:W,handleSizeSM:K,calc:m}=R,J=`${A}-inner`,X=(0,a.bf)(m(K).add(m(U).mul(2)).equal()),ie=(0,a.bf)(m(W).mul(2).equal());return{[A]:{[`&${A}-small`]:{minWidth:G,height:H,lineHeight:(0,a.bf)(H),[`${A}-inner`]:{paddingInlineStart:W,paddingInlineEnd:j,[`${J}-checked`]:{marginInlineStart:`calc(-100% + ${X} - ${ie})`,marginInlineEnd:`calc(100% - ${X} + ${ie})`},[`${J}-unchecked`]:{marginTop:m(H).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${A}-handle`]:{width:K,height:K},[`${A}-loading-icon`]:{top:m(m(K).sub(R.switchLoadingIconSize)).div(2).equal(),fontSize:R.switchLoadingIconSize},[`&${A}-checked`]:{[`${A}-inner`]:{paddingInlineStart:j,paddingInlineEnd:W,[`${J}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${J}-unchecked`]:{marginInlineStart:`calc(100% - ${X} + ${ie})`,marginInlineEnd:`calc(-100% + ${X} - ${ie})`}},[`${A}-handle`]:{insetInlineStart:`calc(100% - ${(0,a.bf)(m(K).add(U).equal())})`}},[`&:not(${A}-disabled):active`]:{[`&:not(${A}-checked) ${J}`]:{[`${J}-unchecked`]:{marginInlineStart:m(R.marginXXS).div(2).equal(),marginInlineEnd:m(R.marginXXS).mul(-1).div(2).equal()}},[`&${A}-checked ${J}`]:{[`${J}-checked`]:{marginInlineStart:m(R.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:m(R.marginXXS).div(2).equal()}}}}}}},O=R=>{const{componentCls:A,handleSize:H,calc:U}=R;return{[A]:{[`${A}-loading-icon${R.iconCls}`]:{position:"relative",top:U(U(H).sub(R.fontSize)).div(2).equal(),color:R.switchLoadingIconColor,verticalAlign:"top"},[`&${A}-checked ${A}-loading-icon`]:{color:R.switchColor}}}},T=R=>{const{componentCls:A,trackPadding:H,handleBg:U,handleShadow:G,handleSize:j,calc:W}=R,K=`${A}-handle`;return{[A]:{[K]:{position:"absolute",top:H,insetInlineStart:H,width:j,height:j,transition:`all ${R.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:U,borderRadius:W(j).div(2).equal(),boxShadow:G,transition:`all ${R.switchDuration} ease-in-out`,content:'""'}},[`&${A}-checked ${K}`]:{insetInlineStart:`calc(100% - ${(0,a.bf)(W(j).add(H).equal())})`},[`&:not(${A}-disabled):active`]:{[`${K}::before`]:{insetInlineEnd:R.switchHandleActiveInset,insetInlineStart:0},[`&${A}-checked ${K}::before`]:{insetInlineEnd:0,insetInlineStart:R.switchHandleActiveInset}}}}},F=R=>{const{componentCls:A,trackHeight:H,trackPadding:U,innerMinMargin:G,innerMaxMargin:j,handleSize:W,calc:K}=R,m=`${A}-inner`,J=(0,a.bf)(K(W).add(K(U).mul(2)).equal()),X=(0,a.bf)(K(j).mul(2).equal());return{[A]:{[m]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:j,paddingInlineEnd:G,transition:`padding-inline-start ${R.switchDuration} ease-in-out, padding-inline-end ${R.switchDuration} ease-in-out`,[`${m}-checked, ${m}-unchecked`]:{display:"block",color:R.colorTextLightSolid,fontSize:R.fontSizeSM,transition:`margin-inline-start ${R.switchDuration} ease-in-out, margin-inline-end ${R.switchDuration} ease-in-out`,pointerEvents:"none"},[`${m}-checked`]:{marginInlineStart:`calc(-100% + ${J} - ${X})`,marginInlineEnd:`calc(100% - ${J} + ${X})`},[`${m}-unchecked`]:{marginTop:K(H).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${A}-checked ${m}`]:{paddingInlineStart:G,paddingInlineEnd:j,[`${m}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${m}-unchecked`]:{marginInlineStart:`calc(100% - ${J} + ${X})`,marginInlineEnd:`calc(-100% + ${J} - ${X})`}},[`&:not(${A}-disabled):active`]:{[`&:not(${A}-checked) ${m}`]:{[`${m}-unchecked`]:{marginInlineStart:K(U).mul(2).equal(),marginInlineEnd:K(U).mul(-1).mul(2).equal()}},[`&${A}-checked ${m}`]:{[`${m}-checked`]:{marginInlineStart:K(U).mul(-1).mul(2).equal(),marginInlineEnd:K(U).mul(2).equal()}}}}}},B=R=>{const{componentCls:A,trackHeight:H,trackMinWidth:U}=R;return{[A]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,g.Wf)(R)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:U,height:H,lineHeight:`${(0,a.bf)(H)}`,verticalAlign:"middle",background:R.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${R.motionDurationMid}`,userSelect:"none",[`&:hover:not(${A}-disabled)`]:{background:R.colorTextTertiary}}),(0,g.Qy)(R)),{[`&${A}-checked`]:{background:R.switchColor,[`&:hover:not(${A}-disabled)`]:{background:R.colorPrimaryHover}},[`&${A}-loading, &${A}-disabled`]:{cursor:"not-allowed",opacity:R.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${A}-rtl`]:{direction:"rtl"}})}},$=R=>{const{fontSize:A,lineHeight:H,controlHeight:U,colorWhite:G}=R,j=A*H,W=U/2,K=2,m=j-K*2,J=W-K*2;return{trackHeight:j,trackHeightSM:W,trackMinWidth:m*2+K*4,trackMinWidthSM:J*2+K*2,trackPadding:K,handleBg:G,handleSize:m,handleSizeSM:J,handleShadow:`0 2px 4px 0 ${new S.C("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:m/2,innerMaxMargin:m+K+K*2,innerMinMarginSM:J/2,innerMaxMarginSM:J+K+K*2}};var Y=(0,y.I$)("Switch",R=>{const A=(0,C.TS)(R,{switchDuration:R.motionDurationMid,switchColor:R.colorPrimary,switchDisabledOpacity:R.opacityLoading,switchLoadingIconSize:R.calc(R.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${R.opacityLoading})`,switchHandleActiveInset:"-30%"});return[B(A),F(A),T(A),O(A),L(A)]},$),P=function(R,A){var H={};for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&A.indexOf(U)<0&&(H[U]=R[U]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,U=Object.getOwnPropertySymbols(R);G<U.length;G++)A.indexOf(U[G])<0&&Object.prototype.propertyIsEnumerable.call(R,U[G])&&(H[U[G]]=R[U[G]]);return H};const w=b.forwardRef((R,A)=>{const{prefixCls:H,size:U,disabled:G,loading:j,className:W,rootClassName:K,style:m,checked:J,value:X,defaultChecked:ie,defaultValue:le,onChange:fe}=R,Le=P(R,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[pe,Te]=(0,D.Z)(!1,{value:J!=null?J:X,defaultValue:ie!=null?ie:le}),{getPrefixCls:De,direction:ae,switch:Ne}=b.useContext(n.E_),We=b.useContext(f.Z),ze=(G!=null?G:We)||j,Se=De("switch",H),ne=b.createElement("div",{className:`${Se}-handle`},j&&b.createElement(z.Z,{className:`${Se}-loading-icon`})),[ce,Oe]=Y(Se),Pe=(0,v.Z)(U),Me=E()(Ne==null?void 0:Ne.className,{[`${Se}-small`]:Pe==="small",[`${Se}-loading`]:j,[`${Se}-rtl`]:ae==="rtl"},W,K,Oe),ye=Object.assign(Object.assign({},Ne==null?void 0:Ne.style),m),_e=function(){Te(arguments.length<=0?void 0:arguments[0]),fe==null||fe.apply(void 0,arguments)};return ce(b.createElement(i.Z,{component:"Switch"},b.createElement(u,Object.assign({},Le,{checked:pe,onChange:_e,prefixCls:Se,className:Me,style:ye,disabled:ze,ref:A,loadingIcon:ne}))))});w.__ANT_SWITCH=!0;var V=w},9361:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return O}});var b=e(43109),z=e(67164),r=e(2790),E=e(1393),_=T=>{const F=T!=null&&T.algorithm?(0,b.jG)(T.algorithm):(0,b.jG)(z.Z),B=Object.assign(Object.assign({},r.Z),T==null?void 0:T.token);return(0,b.t2)(B,{override:T==null?void 0:T.token},F,E.Z)},I=e(25976),M=e(33083),D=e(372);function p(T){const{sizeUnit:F,sizeStep:B}=T,$=B-2;return{sizeXXL:F*($+10),sizeXL:F*($+6),sizeLG:F*($+2),sizeMD:F*($+2),sizeMS:F*($+1),size:F*$,sizeSM:F*$,sizeXS:F*($-1),sizeXXS:F*($-1)}}var o=e(98378),u=(T,F)=>{const B=F!=null?F:(0,z.Z)(T),$=B.fontSizeSM,Y=B.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),p(F!=null?F:T)),(0,o.Z)($)),{controlHeight:Y}),(0,D.Z)(Object.assign(Object.assign({},B),{controlHeight:Y})))},i=e(16397),n=e(57),f=e(10274);const v=(T,F)=>new f.C(T).setAlpha(F).toRgbString(),a=(T,F)=>new f.C(T).lighten(F).toHexString(),S=T=>{const F=(0,i.R_)(T,{theme:"dark"});return{1:F[0],2:F[1],3:F[2],4:F[3],5:F[6],6:F[5],7:F[4],8:F[6],9:F[5],10:F[4]}},g=(T,F)=>{const B=T||"#000",$=F||"#fff";return{colorBgBase:B,colorTextBase:$,colorText:v($,.85),colorTextSecondary:v($,.65),colorTextTertiary:v($,.45),colorTextQuaternary:v($,.25),colorFill:v($,.18),colorFillSecondary:v($,.12),colorFillTertiary:v($,.08),colorFillQuaternary:v($,.04),colorBgElevated:a(B,12),colorBgContainer:a(B,8),colorBgLayout:a(B,0),colorBgSpotlight:a(B,26),colorBgBlur:v($,.04),colorBorder:a(B,26),colorBorderSecondary:a(B,19)}};var C=(T,F)=>{const B=Object.keys(r.M).map(Y=>{const P=(0,i.R_)(T[Y],{theme:"dark"});return new Array(10).fill(1).reduce((w,V,R)=>(w[`${Y}-${R+1}`]=P[R],w[`${Y}${R+1}`]=P[R],w),{})}).reduce((Y,P)=>(Y=Object.assign(Object.assign({},Y),P),Y),{}),$=F!=null?F:(0,z.Z)(T);return Object.assign(Object.assign(Object.assign({},$),B),(0,n.Z)(T,{generateColorPalettes:S,generateNeutralColorPalettes:g}))};function L(){const[T,F,B]=(0,I.ZP)();return{theme:T,token:F,hashId:B}}var O={defaultConfig:M.u_,defaultSeed:M.u_.token,useToken:L,defaultAlgorithm:z.Z,darkAlgorithm:C,compactAlgorithm:u,getDesignToken:_}},79742:function(Pt,Ke){"use strict";Ke.byteLength=I,Ke.toByteArray=D,Ke.fromByteArray=d;for(var e=[],b=[],z=typeof Uint8Array!="undefined"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,c=r.length;E<c;++E)e[E]=r[E],b[r.charCodeAt(E)]=E;b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63;function _(u){var i=u.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=u.indexOf("=");n===-1&&(n=i);var f=n===i?0:4-n%4;return[n,f]}function I(u){var i=_(u),n=i[0],f=i[1];return(n+f)*3/4-f}function M(u,i,n){return(i+n)*3/4-n}function D(u){var i,n=_(u),f=n[0],v=n[1],a=new z(M(u,f,v)),S=0,g=v>0?f-4:f,y;for(y=0;y<g;y+=4)i=b[u.charCodeAt(y)]<<18|b[u.charCodeAt(y+1)]<<12|b[u.charCodeAt(y+2)]<<6|b[u.charCodeAt(y+3)],a[S++]=i>>16&255,a[S++]=i>>8&255,a[S++]=i&255;return v===2&&(i=b[u.charCodeAt(y)]<<2|b[u.charCodeAt(y+1)]>>4,a[S++]=i&255),v===1&&(i=b[u.charCodeAt(y)]<<10|b[u.charCodeAt(y+1)]<<4|b[u.charCodeAt(y+2)]>>2,a[S++]=i>>8&255,a[S++]=i&255),a}function p(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function o(u,i,n){for(var f,v=[],a=i;a<n;a+=3)f=(u[a]<<16&16711680)+(u[a+1]<<8&65280)+(u[a+2]&255),v.push(p(f));return v.join("")}function d(u){for(var i,n=u.length,f=n%3,v=[],a=16383,S=0,g=n-f;S<g;S+=a)v.push(o(u,S,S+a>g?g:S+a));return f===1?(i=u[n-1],v.push(e[i>>2]+e[i<<4&63]+"==")):f===2&&(i=(u[n-2]<<8)+u[n-1],v.push(e[i>>10]+e[i>>4&63]+e[i<<2&63]+"=")),v.join("")}},48764:function(Pt,Ke,e){"use strict";var b;var z=e(79742),r=e(80645),E=e(87300);Ke.lW=M,b=a,Ke.h2=50,M.TYPED_ARRAY_SUPPORT=e.g.TYPED_ARRAY_SUPPORT!==void 0?e.g.TYPED_ARRAY_SUPPORT:c(),b=_();function c(){try{var Se=new Uint8Array(1);return Se.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Se.foo()===42&&typeof Se.subarray=="function"&&Se.subarray(1,1).byteLength===0}catch(ne){return!1}}function _(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function I(Se,ne){if(_()<ne)throw new RangeError("Invalid typed array length");return M.TYPED_ARRAY_SUPPORT?(Se=new Uint8Array(ne),Se.__proto__=M.prototype):(Se===null&&(Se=new M(ne)),Se.length=ne),Se}function M(Se,ne,ce){if(!M.TYPED_ARRAY_SUPPORT&&!(this instanceof M))return new M(Se,ne,ce);if(typeof Se=="number"){if(typeof ne=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,Se)}return D(this,Se,ne,ce)}M.poolSize=8192,M._augment=function(Se){return Se.__proto__=M.prototype,Se};function D(Se,ne,ce,Oe){if(typeof ne=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&ne instanceof ArrayBuffer?n(Se,ne,ce,Oe):typeof ne=="string"?u(Se,ne,ce):f(Se,ne)}M.from=function(Se,ne,ce){return D(null,Se,ne,ce)},M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&M[Symbol.species]===M&&Object.defineProperty(M,Symbol.species,{value:null,configurable:!0}));function p(Se){if(typeof Se!="number")throw new TypeError('"size" argument must be a number');if(Se<0)throw new RangeError('"size" argument must not be negative')}function o(Se,ne,ce,Oe){return p(ne),ne<=0?I(Se,ne):ce!==void 0?typeof Oe=="string"?I(Se,ne).fill(ce,Oe):I(Se,ne).fill(ce):I(Se,ne)}M.alloc=function(Se,ne,ce){return o(null,Se,ne,ce)};function d(Se,ne){if(p(ne),Se=I(Se,ne<0?0:v(ne)|0),!M.TYPED_ARRAY_SUPPORT)for(var ce=0;ce<ne;++ce)Se[ce]=0;return Se}M.allocUnsafe=function(Se){return d(null,Se)},M.allocUnsafeSlow=function(Se){return d(null,Se)};function u(Se,ne,ce){if((typeof ce!="string"||ce==="")&&(ce="utf8"),!M.isEncoding(ce))throw new TypeError('"encoding" must be a valid string encoding');var Oe=S(ne,ce)|0;Se=I(Se,Oe);var Pe=Se.write(ne,ce);return Pe!==Oe&&(Se=Se.slice(0,Pe)),Se}function i(Se,ne){var ce=ne.length<0?0:v(ne.length)|0;Se=I(Se,ce);for(var Oe=0;Oe<ce;Oe+=1)Se[Oe]=ne[Oe]&255;return Se}function n(Se,ne,ce,Oe){if(ne.byteLength,ce<0||ne.byteLength<ce)throw new RangeError("'offset' is out of bounds");if(ne.byteLength<ce+(Oe||0))throw new RangeError("'length' is out of bounds");return ce===void 0&&Oe===void 0?ne=new Uint8Array(ne):Oe===void 0?ne=new Uint8Array(ne,ce):ne=new Uint8Array(ne,ce,Oe),M.TYPED_ARRAY_SUPPORT?(Se=ne,Se.__proto__=M.prototype):Se=i(Se,ne),Se}function f(Se,ne){if(M.isBuffer(ne)){var ce=v(ne.length)|0;return Se=I(Se,ce),Se.length===0||ne.copy(Se,0,0,ce),Se}if(ne){if(typeof ArrayBuffer!="undefined"&&ne.buffer instanceof ArrayBuffer||"length"in ne)return typeof ne.length!="number"||ze(ne.length)?I(Se,0):i(Se,ne);if(ne.type==="Buffer"&&E(ne.data))return i(Se,ne.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(Se){if(Se>=_())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_().toString(16)+" bytes");return Se|0}function a(Se){return+Se!=Se&&(Se=0),M.alloc(+Se)}M.isBuffer=function(ne){return!!(ne!=null&&ne._isBuffer)},M.compare=function(ne,ce){if(!M.isBuffer(ne)||!M.isBuffer(ce))throw new TypeError("Arguments must be Buffers");if(ne===ce)return 0;for(var Oe=ne.length,Pe=ce.length,Me=0,ye=Math.min(Oe,Pe);Me<ye;++Me)if(ne[Me]!==ce[Me]){Oe=ne[Me],Pe=ce[Me];break}return Oe<Pe?-1:Pe<Oe?1:0},M.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(ne,ce){if(!E(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return M.alloc(0);var Oe;if(ce===void 0)for(ce=0,Oe=0;Oe<ne.length;++Oe)ce+=ne[Oe].length;var Pe=M.allocUnsafe(ce),Me=0;for(Oe=0;Oe<ne.length;++Oe){var ye=ne[Oe];if(!M.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(Pe,Me),Me+=ye.length}return Pe};function S(Se,ne){if(M.isBuffer(Se))return Se.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Se)||Se instanceof ArrayBuffer))return Se.byteLength;typeof Se!="string"&&(Se=""+Se);var ce=Se.length;if(ce===0)return 0;for(var Oe=!1;;)switch(ne){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":case void 0:return Te(Se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce*2;case"hex":return ce>>>1;case"base64":return Ne(Se).length;default:if(Oe)return Te(Se).length;ne=(""+ne).toLowerCase(),Oe=!0}}M.byteLength=S;function g(Se,ne,ce){var Oe=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0,ne>>>=0,ce<=ne))return"";for(Se||(Se="utf8");;)switch(Se){case"hex":return U(this,ne,ce);case"utf8":case"utf-8":return w(this,ne,ce);case"ascii":return A(this,ne,ce);case"latin1":case"binary":return H(this,ne,ce);case"base64":return P(this,ne,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,ne,ce);default:if(Oe)throw new TypeError("Unknown encoding: "+Se);Se=(Se+"").toLowerCase(),Oe=!0}}M.prototype._isBuffer=!0;function y(Se,ne,ce){var Oe=Se[ne];Se[ne]=Se[ce],Se[ce]=Oe}M.prototype.swap16=function(){var ne=this.length;if(ne%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ce=0;ce<ne;ce+=2)y(this,ce,ce+1);return this},M.prototype.swap32=function(){var ne=this.length;if(ne%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ce=0;ce<ne;ce+=4)y(this,ce,ce+3),y(this,ce+1,ce+2);return this},M.prototype.swap64=function(){var ne=this.length;if(ne%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ce=0;ce<ne;ce+=8)y(this,ce,ce+7),y(this,ce+1,ce+6),y(this,ce+2,ce+5),y(this,ce+3,ce+4);return this},M.prototype.toString=function(){var ne=this.length|0;return ne===0?"":arguments.length===0?w(this,0,ne):g.apply(this,arguments)},M.prototype.equals=function(ne){if(!M.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne?!0:M.compare(this,ne)===0},M.prototype.inspect=function(){var ne="",ce=Ke.h2;return this.length>0&&(ne=this.toString("hex",0,ce).match(/.{2}/g).join(" "),this.length>ce&&(ne+=" ... ")),"<Buffer "+ne+">"},M.prototype.compare=function(ne,ce,Oe,Pe,Me){if(!M.isBuffer(ne))throw new TypeError("Argument must be a Buffer");if(ce===void 0&&(ce=0),Oe===void 0&&(Oe=ne?ne.length:0),Pe===void 0&&(Pe=0),Me===void 0&&(Me=this.length),ce<0||Oe>ne.length||Pe<0||Me>this.length)throw new RangeError("out of range index");if(Pe>=Me&&ce>=Oe)return 0;if(Pe>=Me)return-1;if(ce>=Oe)return 1;if(ce>>>=0,Oe>>>=0,Pe>>>=0,Me>>>=0,this===ne)return 0;for(var ye=Me-Pe,_e=Oe-ce,se=Math.min(ye,_e),ve=this.slice(Pe,Me),xe=ne.slice(ce,Oe),je=0;je<se;++je)if(ve[je]!==xe[je]){ye=ve[je],_e=xe[je];break}return ye<_e?-1:_e<ye?1:0};function C(Se,ne,ce,Oe,Pe){if(Se.length===0)return-1;if(typeof ce=="string"?(Oe=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),ce=+ce,isNaN(ce)&&(ce=Pe?0:Se.length-1),ce<0&&(ce=Se.length+ce),ce>=Se.length){if(Pe)return-1;ce=Se.length-1}else if(ce<0)if(Pe)ce=0;else return-1;if(typeof ne=="string"&&(ne=M.from(ne,Oe)),M.isBuffer(ne))return ne.length===0?-1:L(Se,ne,ce,Oe,Pe);if(typeof ne=="number")return ne=ne&255,M.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(Se,ne,ce):Uint8Array.prototype.lastIndexOf.call(Se,ne,ce):L(Se,[ne],ce,Oe,Pe);throw new TypeError("val must be string, number or Buffer")}function L(Se,ne,ce,Oe,Pe){var Me=1,ye=Se.length,_e=ne.length;if(Oe!==void 0&&(Oe=String(Oe).toLowerCase(),Oe==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(Se.length<2||ne.length<2)return-1;Me=2,ye/=2,_e/=2,ce/=2}function se(Qe,rt){return Me===1?Qe[rt]:Qe.readUInt16BE(rt*Me)}var ve;if(Pe){var xe=-1;for(ve=ce;ve<ye;ve++)if(se(Se,ve)===se(ne,xe===-1?0:ve-xe)){if(xe===-1&&(xe=ve),ve-xe+1===_e)return xe*Me}else xe!==-1&&(ve-=ve-xe),xe=-1}else for(ce+_e>ye&&(ce=ye-_e),ve=ce;ve>=0;ve--){for(var je=!0,Ae=0;Ae<_e;Ae++)if(se(Se,ve+Ae)!==se(ne,Ae)){je=!1;break}if(je)return ve}return-1}M.prototype.includes=function(ne,ce,Oe){return this.indexOf(ne,ce,Oe)!==-1},M.prototype.indexOf=function(ne,ce,Oe){return C(this,ne,ce,Oe,!0)},M.prototype.lastIndexOf=function(ne,ce,Oe){return C(this,ne,ce,Oe,!1)};function O(Se,ne,ce,Oe){ce=Number(ce)||0;var Pe=Se.length-ce;Oe?(Oe=Number(Oe),Oe>Pe&&(Oe=Pe)):Oe=Pe;var Me=ne.length;if(Me%2!==0)throw new TypeError("Invalid hex string");Oe>Me/2&&(Oe=Me/2);for(var ye=0;ye<Oe;++ye){var _e=parseInt(ne.substr(ye*2,2),16);if(isNaN(_e))return ye;Se[ce+ye]=_e}return ye}function T(Se,ne,ce,Oe){return We(Te(ne,Se.length-ce),Se,ce,Oe)}function F(Se,ne,ce,Oe){return We(De(ne),Se,ce,Oe)}function B(Se,ne,ce,Oe){return F(Se,ne,ce,Oe)}function $(Se,ne,ce,Oe){return We(Ne(ne),Se,ce,Oe)}function Y(Se,ne,ce,Oe){return We(ae(ne,Se.length-ce),Se,ce,Oe)}M.prototype.write=function(ne,ce,Oe,Pe){if(ce===void 0)Pe="utf8",Oe=this.length,ce=0;else if(Oe===void 0&&typeof ce=="string")Pe=ce,Oe=this.length,ce=0;else if(isFinite(ce))ce=ce|0,isFinite(Oe)?(Oe=Oe|0,Pe===void 0&&(Pe="utf8")):(Pe=Oe,Oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Me=this.length-ce;if((Oe===void 0||Oe>Me)&&(Oe=Me),ne.length>0&&(Oe<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");for(var ye=!1;;)switch(Pe){case"hex":return O(this,ne,ce,Oe);case"utf8":case"utf-8":return T(this,ne,ce,Oe);case"ascii":return F(this,ne,ce,Oe);case"latin1":case"binary":return B(this,ne,ce,Oe);case"base64":return $(this,ne,ce,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,ne,ce,Oe);default:if(ye)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),ye=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(Se,ne,ce){return ne===0&&ce===Se.length?z.fromByteArray(Se):z.fromByteArray(Se.slice(ne,ce))}function w(Se,ne,ce){ce=Math.min(Se.length,ce);for(var Oe=[],Pe=ne;Pe<ce;){var Me=Se[Pe],ye=null,_e=Me>239?4:Me>223?3:Me>191?2:1;if(Pe+_e<=ce){var se,ve,xe,je;switch(_e){case 1:Me<128&&(ye=Me);break;case 2:se=Se[Pe+1],(se&192)===128&&(je=(Me&31)<<6|se&63,je>127&&(ye=je));break;case 3:se=Se[Pe+1],ve=Se[Pe+2],(se&192)===128&&(ve&192)===128&&(je=(Me&15)<<12|(se&63)<<6|ve&63,je>2047&&(je<55296||je>57343)&&(ye=je));break;case 4:se=Se[Pe+1],ve=Se[Pe+2],xe=Se[Pe+3],(se&192)===128&&(ve&192)===128&&(xe&192)===128&&(je=(Me&15)<<18|(se&63)<<12|(ve&63)<<6|xe&63,je>65535&&je<1114112&&(ye=je))}}ye===null?(ye=65533,_e=1):ye>65535&&(ye-=65536,Oe.push(ye>>>10&1023|55296),ye=56320|ye&1023),Oe.push(ye),Pe+=_e}return R(Oe)}var V=4096;function R(Se){var ne=Se.length;if(ne<=V)return String.fromCharCode.apply(String,Se);for(var ce="",Oe=0;Oe<ne;)ce+=String.fromCharCode.apply(String,Se.slice(Oe,Oe+=V));return ce}function A(Se,ne,ce){var Oe="";ce=Math.min(Se.length,ce);for(var Pe=ne;Pe<ce;++Pe)Oe+=String.fromCharCode(Se[Pe]&127);return Oe}function H(Se,ne,ce){var Oe="";ce=Math.min(Se.length,ce);for(var Pe=ne;Pe<ce;++Pe)Oe+=String.fromCharCode(Se[Pe]);return Oe}function U(Se,ne,ce){var Oe=Se.length;(!ne||ne<0)&&(ne=0),(!ce||ce<0||ce>Oe)&&(ce=Oe);for(var Pe="",Me=ne;Me<ce;++Me)Pe+=pe(Se[Me]);return Pe}function G(Se,ne,ce){for(var Oe=Se.slice(ne,ce),Pe="",Me=0;Me<Oe.length;Me+=2)Pe+=String.fromCharCode(Oe[Me]+Oe[Me+1]*256);return Pe}M.prototype.slice=function(ne,ce){var Oe=this.length;ne=~~ne,ce=ce===void 0?Oe:~~ce,ne<0?(ne+=Oe,ne<0&&(ne=0)):ne>Oe&&(ne=Oe),ce<0?(ce+=Oe,ce<0&&(ce=0)):ce>Oe&&(ce=Oe),ce<ne&&(ce=ne);var Pe;if(M.TYPED_ARRAY_SUPPORT)Pe=this.subarray(ne,ce),Pe.__proto__=M.prototype;else{var Me=ce-ne;Pe=new M(Me,void 0);for(var ye=0;ye<Me;++ye)Pe[ye]=this[ye+ne]}return Pe};function j(Se,ne,ce){if(Se%1!==0||Se<0)throw new RangeError("offset is not uint");if(Se+ne>ce)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUIntLE=function(ne,ce,Oe){ne=ne|0,ce=ce|0,Oe||j(ne,ce,this.length);for(var Pe=this[ne],Me=1,ye=0;++ye<ce&&(Me*=256);)Pe+=this[ne+ye]*Me;return Pe},M.prototype.readUIntBE=function(ne,ce,Oe){ne=ne|0,ce=ce|0,Oe||j(ne,ce,this.length);for(var Pe=this[ne+--ce],Me=1;ce>0&&(Me*=256);)Pe+=this[ne+--ce]*Me;return Pe},M.prototype.readUInt8=function(ne,ce){return ce||j(ne,1,this.length),this[ne]},M.prototype.readUInt16LE=function(ne,ce){return ce||j(ne,2,this.length),this[ne]|this[ne+1]<<8},M.prototype.readUInt16BE=function(ne,ce){return ce||j(ne,2,this.length),this[ne]<<8|this[ne+1]},M.prototype.readUInt32LE=function(ne,ce){return ce||j(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+this[ne+3]*16777216},M.prototype.readUInt32BE=function(ne,ce){return ce||j(ne,4,this.length),this[ne]*16777216+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},M.prototype.readIntLE=function(ne,ce,Oe){ne=ne|0,ce=ce|0,Oe||j(ne,ce,this.length);for(var Pe=this[ne],Me=1,ye=0;++ye<ce&&(Me*=256);)Pe+=this[ne+ye]*Me;return Me*=128,Pe>=Me&&(Pe-=Math.pow(2,8*ce)),Pe},M.prototype.readIntBE=function(ne,ce,Oe){ne=ne|0,ce=ce|0,Oe||j(ne,ce,this.length);for(var Pe=ce,Me=1,ye=this[ne+--Pe];Pe>0&&(Me*=256);)ye+=this[ne+--Pe]*Me;return Me*=128,ye>=Me&&(ye-=Math.pow(2,8*ce)),ye},M.prototype.readInt8=function(ne,ce){return ce||j(ne,1,this.length),this[ne]&128?(255-this[ne]+1)*-1:this[ne]},M.prototype.readInt16LE=function(ne,ce){ce||j(ne,2,this.length);var Oe=this[ne]|this[ne+1]<<8;return Oe&32768?Oe|4294901760:Oe},M.prototype.readInt16BE=function(ne,ce){ce||j(ne,2,this.length);var Oe=this[ne+1]|this[ne]<<8;return Oe&32768?Oe|4294901760:Oe},M.prototype.readInt32LE=function(ne,ce){return ce||j(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},M.prototype.readInt32BE=function(ne,ce){return ce||j(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},M.prototype.readFloatLE=function(ne,ce){return ce||j(ne,4,this.length),r.read(this,ne,!0,23,4)},M.prototype.readFloatBE=function(ne,ce){return ce||j(ne,4,this.length),r.read(this,ne,!1,23,4)},M.prototype.readDoubleLE=function(ne,ce){return ce||j(ne,8,this.length),r.read(this,ne,!0,52,8)},M.prototype.readDoubleBE=function(ne,ce){return ce||j(ne,8,this.length),r.read(this,ne,!1,52,8)};function W(Se,ne,ce,Oe,Pe,Me){if(!M.isBuffer(Se))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>Pe||ne<Me)throw new RangeError('"value" argument is out of bounds');if(ce+Oe>Se.length)throw new RangeError("Index out of range")}M.prototype.writeUIntLE=function(ne,ce,Oe,Pe){if(ne=+ne,ce=ce|0,Oe=Oe|0,!Pe){var Me=Math.pow(2,8*Oe)-1;W(this,ne,ce,Oe,Me,0)}var ye=1,_e=0;for(this[ce]=ne&255;++_e<Oe&&(ye*=256);)this[ce+_e]=ne/ye&255;return ce+Oe},M.prototype.writeUIntBE=function(ne,ce,Oe,Pe){if(ne=+ne,ce=ce|0,Oe=Oe|0,!Pe){var Me=Math.pow(2,8*Oe)-1;W(this,ne,ce,Oe,Me,0)}var ye=Oe-1,_e=1;for(this[ce+ye]=ne&255;--ye>=0&&(_e*=256);)this[ce+ye]=ne/_e&255;return ce+Oe},M.prototype.writeUInt8=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,1,255,0),M.TYPED_ARRAY_SUPPORT||(ne=Math.floor(ne)),this[ce]=ne&255,ce+1};function K(Se,ne,ce,Oe){ne<0&&(ne=65535+ne+1);for(var Pe=0,Me=Math.min(Se.length-ce,2);Pe<Me;++Pe)Se[ce+Pe]=(ne&255<<8*(Oe?Pe:1-Pe))>>>(Oe?Pe:1-Pe)*8}M.prototype.writeUInt16LE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne&255,this[ce+1]=ne>>>8):K(this,ne,ce,!0),ce+2},M.prototype.writeUInt16BE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne>>>8,this[ce+1]=ne&255):K(this,ne,ce,!1),ce+2};function m(Se,ne,ce,Oe){ne<0&&(ne=4294967295+ne+1);for(var Pe=0,Me=Math.min(Se.length-ce,4);Pe<Me;++Pe)Se[ce+Pe]=ne>>>(Oe?Pe:3-Pe)*8&255}M.prototype.writeUInt32LE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[ce+3]=ne>>>24,this[ce+2]=ne>>>16,this[ce+1]=ne>>>8,this[ce]=ne&255):m(this,ne,ce,!0),ce+4},M.prototype.writeUInt32BE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne>>>24,this[ce+1]=ne>>>16,this[ce+2]=ne>>>8,this[ce+3]=ne&255):m(this,ne,ce,!1),ce+4},M.prototype.writeIntLE=function(ne,ce,Oe,Pe){if(ne=+ne,ce=ce|0,!Pe){var Me=Math.pow(2,8*Oe-1);W(this,ne,ce,Oe,Me-1,-Me)}var ye=0,_e=1,se=0;for(this[ce]=ne&255;++ye<Oe&&(_e*=256);)ne<0&&se===0&&this[ce+ye-1]!==0&&(se=1),this[ce+ye]=(ne/_e>>0)-se&255;return ce+Oe},M.prototype.writeIntBE=function(ne,ce,Oe,Pe){if(ne=+ne,ce=ce|0,!Pe){var Me=Math.pow(2,8*Oe-1);W(this,ne,ce,Oe,Me-1,-Me)}var ye=Oe-1,_e=1,se=0;for(this[ce+ye]=ne&255;--ye>=0&&(_e*=256);)ne<0&&se===0&&this[ce+ye+1]!==0&&(se=1),this[ce+ye]=(ne/_e>>0)-se&255;return ce+Oe},M.prototype.writeInt8=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,1,127,-128),M.TYPED_ARRAY_SUPPORT||(ne=Math.floor(ne)),ne<0&&(ne=255+ne+1),this[ce]=ne&255,ce+1},M.prototype.writeInt16LE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne&255,this[ce+1]=ne>>>8):K(this,ne,ce,!0),ce+2},M.prototype.writeInt16BE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne>>>8,this[ce+1]=ne&255):K(this,ne,ce,!1),ce+2},M.prototype.writeInt32LE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne&255,this[ce+1]=ne>>>8,this[ce+2]=ne>>>16,this[ce+3]=ne>>>24):m(this,ne,ce,!0),ce+4},M.prototype.writeInt32BE=function(ne,ce,Oe){return ne=+ne,ce=ce|0,Oe||W(this,ne,ce,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),M.TYPED_ARRAY_SUPPORT?(this[ce]=ne>>>24,this[ce+1]=ne>>>16,this[ce+2]=ne>>>8,this[ce+3]=ne&255):m(this,ne,ce,!1),ce+4};function J(Se,ne,ce,Oe,Pe,Me){if(ce+Oe>Se.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function X(Se,ne,ce,Oe,Pe){return Pe||J(Se,ne,ce,4,34028234663852886e22,-34028234663852886e22),r.write(Se,ne,ce,Oe,23,4),ce+4}M.prototype.writeFloatLE=function(ne,ce,Oe){return X(this,ne,ce,!0,Oe)},M.prototype.writeFloatBE=function(ne,ce,Oe){return X(this,ne,ce,!1,Oe)};function ie(Se,ne,ce,Oe,Pe){return Pe||J(Se,ne,ce,8,17976931348623157e292,-17976931348623157e292),r.write(Se,ne,ce,Oe,52,8),ce+8}M.prototype.writeDoubleLE=function(ne,ce,Oe){return ie(this,ne,ce,!0,Oe)},M.prototype.writeDoubleBE=function(ne,ce,Oe){return ie(this,ne,ce,!1,Oe)},M.prototype.copy=function(ne,ce,Oe,Pe){if(Oe||(Oe=0),!Pe&&Pe!==0&&(Pe=this.length),ce>=ne.length&&(ce=ne.length),ce||(ce=0),Pe>0&&Pe<Oe&&(Pe=Oe),Pe===Oe||ne.length===0||this.length===0)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(Oe<0||Oe>=this.length)throw new RangeError("sourceStart out of bounds");if(Pe<0)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),ne.length-ce<Pe-Oe&&(Pe=ne.length-ce+Oe);var Me=Pe-Oe,ye;if(this===ne&&Oe<ce&&ce<Pe)for(ye=Me-1;ye>=0;--ye)ne[ye+ce]=this[ye+Oe];else if(Me<1e3||!M.TYPED_ARRAY_SUPPORT)for(ye=0;ye<Me;++ye)ne[ye+ce]=this[ye+Oe];else Uint8Array.prototype.set.call(ne,this.subarray(Oe,Oe+Me),ce);return Me},M.prototype.fill=function(ne,ce,Oe,Pe){if(typeof ne=="string"){if(typeof ce=="string"?(Pe=ce,ce=0,Oe=this.length):typeof Oe=="string"&&(Pe=Oe,Oe=this.length),ne.length===1){var Me=ne.charCodeAt(0);Me<256&&(ne=Me)}if(Pe!==void 0&&typeof Pe!="string")throw new TypeError("encoding must be a string");if(typeof Pe=="string"&&!M.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe)}else typeof ne=="number"&&(ne=ne&255);if(ce<0||this.length<ce||this.length<Oe)throw new RangeError("Out of range index");if(Oe<=ce)return this;ce=ce>>>0,Oe=Oe===void 0?this.length:Oe>>>0,ne||(ne=0);var ye;if(typeof ne=="number")for(ye=ce;ye<Oe;++ye)this[ye]=ne;else{var _e=M.isBuffer(ne)?ne:Te(new M(ne,Pe).toString()),se=_e.length;for(ye=0;ye<Oe-ce;++ye)this[ye+ce]=_e[ye%se]}return this};var le=/[^+\/0-9A-Za-z-_]/g;function fe(Se){if(Se=Le(Se).replace(le,""),Se.length<2)return"";for(;Se.length%4!==0;)Se=Se+"=";return Se}function Le(Se){return Se.trim?Se.trim():Se.replace(/^\s+|\s+$/g,"")}function pe(Se){return Se<16?"0"+Se.toString(16):Se.toString(16)}function Te(Se,ne){ne=ne||1/0;for(var ce,Oe=Se.length,Pe=null,Me=[],ye=0;ye<Oe;++ye){if(ce=Se.charCodeAt(ye),ce>55295&&ce<57344){if(!Pe){if(ce>56319){(ne-=3)>-1&&Me.push(239,191,189);continue}else if(ye+1===Oe){(ne-=3)>-1&&Me.push(239,191,189);continue}Pe=ce;continue}if(ce<56320){(ne-=3)>-1&&Me.push(239,191,189),Pe=ce;continue}ce=(Pe-55296<<10|ce-56320)+65536}else Pe&&(ne-=3)>-1&&Me.push(239,191,189);if(Pe=null,ce<128){if((ne-=1)<0)break;Me.push(ce)}else if(ce<2048){if((ne-=2)<0)break;Me.push(ce>>6|192,ce&63|128)}else if(ce<65536){if((ne-=3)<0)break;Me.push(ce>>12|224,ce>>6&63|128,ce&63|128)}else if(ce<1114112){if((ne-=4)<0)break;Me.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,ce&63|128)}else throw new Error("Invalid code point")}return Me}function De(Se){for(var ne=[],ce=0;ce<Se.length;++ce)ne.push(Se.charCodeAt(ce)&255);return ne}function ae(Se,ne){for(var ce,Oe,Pe,Me=[],ye=0;ye<Se.length&&!((ne-=2)<0);++ye)ce=Se.charCodeAt(ye),Oe=ce>>8,Pe=ce%256,Me.push(Pe),Me.push(Oe);return Me}function Ne(Se){return z.toByteArray(fe(Se))}function We(Se,ne,ce,Oe){for(var Pe=0;Pe<Oe&&!(Pe+ce>=ne.length||Pe>=Se.length);++Pe)ne[Pe+ce]=Se[Pe];return Pe}function ze(Se){return Se!==Se}},87300:function(Pt){var Ke={}.toString;Pt.exports=Array.isArray||function(e){return Ke.call(e)=="[object Array]"}},80645:function(Pt,Ke){Ke.read=function(e,b,z,r,E){var c,_,I=E*8-r-1,M=(1<<I)-1,D=M>>1,p=-7,o=z?E-1:0,d=z?-1:1,u=e[b+o];for(o+=d,c=u&(1<<-p)-1,u>>=-p,p+=I;p>0;c=c*256+e[b+o],o+=d,p-=8);for(_=c&(1<<-p)-1,c>>=-p,p+=r;p>0;_=_*256+e[b+o],o+=d,p-=8);if(c===0)c=1-D;else{if(c===M)return _?NaN:(u?-1:1)*(1/0);_=_+Math.pow(2,r),c=c-D}return(u?-1:1)*_*Math.pow(2,c-r)},Ke.write=function(e,b,z,r,E,c){var _,I,M,D=c*8-E-1,p=(1<<D)-1,o=p>>1,d=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=r?0:c-1,i=r?1:-1,n=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(I=isNaN(b)?1:0,_=p):(_=Math.floor(Math.log(b)/Math.LN2),b*(M=Math.pow(2,-_))<1&&(_--,M*=2),_+o>=1?b+=d/M:b+=d*Math.pow(2,1-o),b*M>=2&&(_++,M/=2),_+o>=p?(I=0,_=p):_+o>=1?(I=(b*M-1)*Math.pow(2,E),_=_+o):(I=b*Math.pow(2,o-1)*Math.pow(2,E),_=0));E>=8;e[z+u]=I&255,u+=i,I/=256,E-=8);for(_=_<<E|I,D+=E;D>0;e[z+u]=_&255,u+=i,_/=256,D-=8);e[z+u-i]|=n*128}},366:function(Pt,Ke,e){"use strict";e.r(Ke),e.d(Ke,{CancellationTokenSource:function(){return Dd},Emitter:function(){return Id},KeyCode:function(){return Nd},KeyMod:function(){return Td},MarkerSeverity:function(){return Ad},MarkerTag:function(){return kd},Position:function(){return Md},Range:function(){return Pd},Selection:function(){return Rd},SelectionDirection:function(){return Od},Token:function(){return Bd},Uri:function(){return Fd},default:function(){return gu},editor:function(){return Wd},languages:function(){return Hd}});var b={};e.r(b),e.d(b,{CancellationTokenSource:function(){return Dd},Emitter:function(){return Id},KeyCode:function(){return Nd},KeyMod:function(){return Td},MarkerSeverity:function(){return Ad},MarkerTag:function(){return kd},Position:function(){return Md},Range:function(){return Pd},Selection:function(){return Rd},SelectionDirection:function(){return Od},Token:function(){return Bd},Uri:function(){return Fd},editor:function(){return Wd},languages:function(){return Hd}});var z=e(51624),r=e(13468),E=e(42549),c=e(24336),_=e(72102),I=e(55833),M=e(86687),D=e(32871),p=e(46838),o=e(44536),d=e(39956),u=e(93740),i=e(41895),n=e(36865),f=e(2062),v=e(76917),a=e(95329),S=e(76454),g=e(63980),y=e(23369),C=e(44125),L=e(61097),O=e(10355),T=e(62078),F=e(95817),B=e(56334),$=e(93463),Y=e(24719),P=e(69901),w=e(84602),V=e(8469),R=e(42961),A=e(3665),H=e(59089),U=e(97615),G=e(49504),j=e(69949),W=e(60468),K=e(93519),m=e(77061),J=e(9776),X=e(94347),ie=e(60669),le=e(96816),fe=e(73945),Le=e(45048),pe=e(31975),Te=e(61168),De=e(89995),ae=e(47721),Ne=e(98762),We=e(62329),ze=e(22704),Se=e(88088),ne=e(15662),ce=e(64662),Oe=e(52614),Pe=e(97066),Me=e(79607),ye=e(70943),_e=e(37181),se=e(86709),ve=e(64141),xe=e(20927),je=e(48906),Ae=e(5976),Qe=e(97295),rt=e(70666),Dt=e(66059),at=e(16830),vt=e(11640),Mt=e(36248),ti=e(83379);function Ft(Xe,s,x){return new ei(Xe,s,x)}class ei extends ti.Q8{constructor(s,x,Z){super(s,Z.keepIdleModels||!1,Z.label,x),this._foreignModuleId=Z.moduleId,this._foreignModuleCreateData=Z.createData||null,this._foreignModuleHost=Z.host||null,this._foreignProxy=null}fhr(s,x){if(!this._foreignModuleHost||typeof this._foreignModuleHost[s]!="function")return Promise.reject(new Error("Missing method "+s+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[s].apply(this._foreignModuleHost,x))}catch(Z){return Promise.reject(Z)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(s=>{const x=this._foreignModuleHost?(0,Mt.$E)(this._foreignModuleHost):[];return s.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,x).then(Z=>{this._foreignModuleCreateData=null;const me=(Je,Rt)=>s.fmr(Je,Rt),Ee=(Je,Rt)=>function(){const Ut=Array.prototype.slice.call(arguments,0);return Rt(Je,Ut)},Ue={};for(const Je of Z)Ue[Je]=Ee(Je,me);return Ue})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(s){return this._withSyncedResources(s).then(x=>this.getProxy())}}var Xt=e(82334),Ct=e(27374),ft=e(96518),Bt=e(43155),kt=e(72042),Ge=e(4256),St=e(68801),Ci=e(276),Oi=e(84973),xi=e(73733),Yi=e(70902),fn=e(77514),un=e(77378),Pn=e(72202),Dn=e(1118);function Gn(Xe){return Array.isArray(Xe)}function Rn(Xe){return!Gn(Xe)}function ns(Xe){return typeof Xe=="string"}function ts(Xe){return!ns(Xe)}function qn(Xe){return!Xe}function fs(Xe,s){return Xe.ignoreCase&&s?s.toLowerCase():s}function Nn(Xe){return Xe.replace(/[&<>'"_]/g,"-")}function cs(Xe,s){console.log(`${Xe.languageId}: ${s}`)}function Ei(Xe,s){return new Error(`${Xe.languageId}: ${s}`)}function et(Xe,s,x,Z,me){const Ee=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let Ue=null;return s.replace(Ee,function(Je,Rt,Ut,Qt,Li,Zi,qi,is,ys){return qn(Ut)?qn(Qt)?!qn(Li)&&Li<Z.length?fs(Xe,Z[Li]):!qn(qi)&&Xe&&typeof Xe[qi]=="string"?Xe[qi]:(Ue===null&&(Ue=me.split("."),Ue.unshift(me)),!qn(Zi)&&Zi<Ue.length?fs(Xe,Ue[Zi]):""):fs(Xe,x):"$"})}function wt(Xe,s){let x=s;for(;x&&x.length>0;){const Z=Xe.tokenizer[x];if(Z)return Z;const me=x.lastIndexOf(".");me<0?x=null:x=x.substr(0,me)}return null}function Yt(Xe,s){let x=s;for(;x&&x.length>0;){if(Xe.stateNames[x])return!0;const me=x.lastIndexOf(".");me<0?x=null:x=x.substr(0,me)}return!1}var ri=e(33108),vi=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Wi=function(Xe,s){return function(x,Z){s(x,Z,Xe)}},$i;const Ot=5;class yt{static create(s,x){return this._INSTANCE.create(s,x)}constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}create(s,x){if(s!==null&&s.depth>=this._maxCacheDepth)return new si(s,x);let Z=si.getStackElementId(s);Z.length>0&&(Z+="|"),Z+=x;let me=this._entries[Z];return me||(me=new si(s,x),this._entries[Z]=me,me)}}yt._INSTANCE=new yt(Ot);class si{constructor(s,x){this.parent=s,this.state=x,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let x="";for(;s!==null;)x.length>0&&(x+="|"),x+=s.state,s=s.parent;return x}static _equals(s,x){for(;s!==null&&x!==null;){if(s===x)return!0;if(s.state!==x.state)return!1;s=s.parent,x=x.parent}return s===null&&x===null}equals(s){return si._equals(this,s)}push(s){return yt.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return yt.create(this.parent,s)}}class ii{constructor(s,x){this.languageId=s,this.state=x}equals(s){return this.languageId===s.languageId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new ii(this.languageId,this.state)}}class Ui{static create(s,x){return this._INSTANCE.create(s,x)}constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}create(s,x){if(x!==null)return new an(s,x);if(s!==null&&s.depth>=this._maxCacheDepth)return new an(s,x);const Z=si.getStackElementId(s);let me=this._entries[Z];return me||(me=new an(s,null),this._entries[Z]=me,me)}}Ui._INSTANCE=new Ui(Ot);class an{constructor(s,x){this.stack=s,this.embeddedLanguageData=x}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ui.create(this.stack,this.embeddedLanguageData)}equals(s){return!(s instanceof an)||!this.stack.equals(s.stack)?!1:this.embeddedLanguageData===null&&s.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||s.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(s.embeddedLanguageData)}}class en{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(s){this._languageId=s}emit(s,x){this._lastTokenType===x&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=x,this._lastTokenLanguage=this._languageId,this._tokens.push(new Bt.WU(s,x,this._languageId)))}nestedLanguageTokenize(s,x,Z,me){const Ee=Z.languageId,Ue=Z.state,Je=Bt.RW.get(Ee);if(!Je)return this.enterLanguage(Ee),this.emit(me,""),Ue;const Rt=Je.tokenize(s,x,Ue);if(me!==0)for(const Ut of Rt.tokens)this._tokens.push(new Bt.WU(Ut.offset+me,Ut.type,Ut.language));else this._tokens=this._tokens.concat(Rt.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Rt.endState}finalize(s){return new Bt.hG(this._tokens,s)}}class In{constructor(s,x){this._languageService=s,this._theme=x,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(s){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(s)}emit(s,x){const Z=this._theme.match(this._currentLanguageId,x)|1024;this._lastTokenMetadata!==Z&&(this._lastTokenMetadata=Z,this._tokens.push(s),this._tokens.push(Z))}static _merge(s,x,Z){const me=s!==null?s.length:0,Ee=x.length,Ue=Z!==null?Z.length:0;if(me===0&&Ee===0&&Ue===0)return new Uint32Array(0);if(me===0&&Ee===0)return Z;if(Ee===0&&Ue===0)return s;const Je=new Uint32Array(me+Ee+Ue);s!==null&&Je.set(s);for(let Rt=0;Rt<Ee;Rt++)Je[me+Rt]=x[Rt];return Z!==null&&Je.set(Z,me+Ee),Je}nestedLanguageTokenize(s,x,Z,me){const Ee=Z.languageId,Ue=Z.state,Je=Bt.RW.get(Ee);if(!Je)return this.enterLanguage(Ee),this.emit(me,""),Ue;const Rt=Je.tokenizeEncoded(s,x,Ue);if(me!==0)for(let Ut=0,Qt=Rt.tokens.length;Ut<Qt;Ut+=2)Rt.tokens[Ut]+=me;return this._prependTokens=In._merge(this._prependTokens,this._tokens,Rt.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Rt.endState}finalize(s){return new Bt.DI(In._merge(this._prependTokens,this._tokens,null),s)}}let Fn=$i=class extends Ae.JT{constructor(s,x,Z,me,Ee){super(),this._configurationService=Ee,this._languageService=s,this._standaloneThemeService=x,this._languageId=Z,this._lexer=me,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let Ue=!1;this._register(Bt.RW.onDidChange(Je=>{if(Ue)return;let Rt=!1;for(let Ut=0,Qt=Je.changedLanguages.length;Ut<Qt;Ut++){const Li=Je.changedLanguages[Ut];if(this._embeddedLanguages[Li]){Rt=!0;break}}Rt&&(Ue=!0,Bt.RW.handleChange([this._languageId]),Ue=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(Je=>{Je.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const s=[];for(const x in this._embeddedLanguages){const Z=Bt.RW.get(x);if(Z){if(Z instanceof $i){const me=Z.getLoadStatus();me.loaded===!1&&s.push(me.promise)}continue}Bt.RW.isResolved(x)||s.push(Bt.RW.getOrCreate(x))}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(x=>{})}}getInitialState(){const s=yt.create(null,this._lexer.start);return Ui.create(s,null)}tokenize(s,x,Z){if(s.length>=this._maxTokenizationLineLength)return(0,Ci.Ri)(this._languageId,Z);const me=new en,Ee=this._tokenize(s,x,Z,me);return me.finalize(Ee)}tokenizeEncoded(s,x,Z){if(s.length>=this._maxTokenizationLineLength)return(0,Ci.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),Z);const me=new In(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),Ee=this._tokenize(s,x,Z,me);return me.finalize(Ee)}_tokenize(s,x,Z,me){return Z.embeddedLanguageData?this._nestedTokenize(s,x,Z,0,me):this._myTokenize(s,x,Z,0,me)}_findLeavingNestedLanguageOffset(s,x){let Z=this._lexer.tokenizer[x.stack.state];if(!Z&&(Z=wt(this._lexer,x.stack.state),!Z))throw Ei(this._lexer,"tokenizer state is not defined: "+x.stack.state);let me=-1,Ee=!1;for(const Ue of Z){if(!ts(Ue.action)||Ue.action.nextEmbedded!=="@pop")continue;Ee=!0;let Je=Ue.regex;const Rt=Ue.regex.source;if(Rt.substr(0,4)==="^(?:"&&Rt.substr(Rt.length-1,1)===")"){const Qt=(Je.ignoreCase?"i":"")+(Je.unicode?"u":"");Je=new RegExp(Rt.substr(4,Rt.length-5),Qt)}const Ut=s.search(Je);Ut===-1||Ut!==0&&Ue.matchOnlyAtLineStart||(me===-1||Ut<me)&&(me=Ut)}if(!Ee)throw Ei(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+x.stack.state);return me}_nestedTokenize(s,x,Z,me,Ee){const Ue=this._findLeavingNestedLanguageOffset(s,Z);if(Ue===-1){const Ut=Ee.nestedLanguageTokenize(s,x,Z.embeddedLanguageData,me);return Ui.create(Z.stack,new ii(Z.embeddedLanguageData.languageId,Ut))}const Je=s.substring(0,Ue);Je.length>0&&Ee.nestedLanguageTokenize(Je,!1,Z.embeddedLanguageData,me);const Rt=s.substring(Ue);return this._myTokenize(Rt,x,Z,me+Ue,Ee)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,x,Z,me,Ee){Ee.enterLanguage(this._languageId);const Ue=s.length,Je=x&&this._lexer.includeLF?s+`
`:s,Rt=Je.length;let Ut=Z.embeddedLanguageData,Qt=Z.stack,Li=0,Zi=null,qi=!0;for(;qi||Li<Rt;){const is=Li,ys=Qt.depth,Is=Zi?Zi.groups.length:0,ro=Qt.state;let Gs=null,Zs=null,bs=null,Zo=null,$r=null;if(Zi){Gs=Zi.matches;const Ms=Zi.groups.shift();Zs=Ms.matched,bs=Ms.action,Zo=Zi.rule,Zi.groups.length===0&&(Zi=null)}else{if(!qi&&Li>=Rt)break;qi=!1;let Ms=this._lexer.tokenizer[ro];if(!Ms&&(Ms=wt(this._lexer,ro),!Ms))throw Ei(this._lexer,"tokenizer state is not defined: "+ro);const fo=Je.substr(Li);for(const ar of Ms)if((Li===0||!ar.matchOnlyAtLineStart)&&(Gs=fo.match(ar.regex),Gs)){Zs=Gs[0],bs=ar.action;break}}if(Gs||(Gs=[""],Zs=""),bs||(Li<Rt&&(Gs=[Je.charAt(Li)],Zs=Gs[0]),bs=this._lexer.defaultToken),Zs===null)break;for(Li+=Zs.length;Rn(bs)&&ts(bs)&&bs.test;)bs=bs.test(Zs,Gs,ro,Li===Rt);let _o=null;if(typeof bs=="string"||Array.isArray(bs))_o=bs;else if(bs.group)_o=bs.group;else if(bs.token!==null&&bs.token!==void 0){if(bs.tokenSubst?_o=et(this._lexer,bs.token,Zs,Gs,ro):_o=bs.token,bs.nextEmbedded)if(bs.nextEmbedded==="@pop"){if(!Ut)throw Ei(this._lexer,"cannot pop embedded language if not inside one");Ut=null}else{if(Ut)throw Ei(this._lexer,"cannot enter embedded language from within an embedded language");$r=et(this._lexer,bs.nextEmbedded,Zs,Gs,ro)}if(bs.goBack&&(Li=Math.max(0,Li-bs.goBack)),bs.switchTo&&typeof bs.switchTo=="string"){let Ms=et(this._lexer,bs.switchTo,Zs,Gs,ro);if(Ms[0]==="@"&&(Ms=Ms.substr(1)),wt(this._lexer,Ms))Qt=Qt.switchTo(Ms);else throw Ei(this._lexer,"trying to switch to a state '"+Ms+"' that is undefined in rule: "+this._safeRuleName(Zo))}else{if(bs.transform&&typeof bs.transform=="function")throw Ei(this._lexer,"action.transform not supported");if(bs.next)if(bs.next==="@push"){if(Qt.depth>=this._lexer.maxStack)throw Ei(this._lexer,"maximum tokenizer stack size reached: ["+Qt.state+","+Qt.parent.state+",...]");Qt=Qt.push(ro)}else if(bs.next==="@pop"){if(Qt.depth<=1)throw Ei(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Zo));Qt=Qt.pop()}else if(bs.next==="@popall")Qt=Qt.popall();else{let Ms=et(this._lexer,bs.next,Zs,Gs,ro);if(Ms[0]==="@"&&(Ms=Ms.substr(1)),wt(this._lexer,Ms))Qt=Qt.push(Ms);else throw Ei(this._lexer,"trying to set a next state '"+Ms+"' that is undefined in rule: "+this._safeRuleName(Zo))}}bs.log&&typeof bs.log=="string"&&cs(this._lexer,this._lexer.languageId+": "+et(this._lexer,bs.log,Zs,Gs,ro))}if(_o===null)throw Ei(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Zo));const lc=Ms=>{const fo=this._languageService.getLanguageIdByLanguageName(Ms)||this._languageService.getLanguageIdByMimeType(Ms)||Ms,ar=this._getNestedEmbeddedLanguageData(fo);if(Li<Rt){const lr=s.substr(Li);return this._nestedTokenize(lr,x,Ui.create(Qt,ar),me+Li,Ee)}else return Ui.create(Qt,ar)};if(Array.isArray(_o)){if(Zi&&Zi.groups.length>0)throw Ei(this._lexer,"groups cannot be nested: "+this._safeRuleName(Zo));if(Gs.length!==_o.length+1)throw Ei(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Zo));let Ms=0;for(let fo=1;fo<Gs.length;fo++)Ms+=Gs[fo].length;if(Ms!==Zs.length)throw Ei(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Zo));Zi={rule:Zo,matches:Gs,groups:[]};for(let fo=0;fo<_o.length;fo++)Zi.groups[fo]={action:_o[fo],matched:Gs[fo+1]};Li-=Zs.length;continue}else{if(_o==="@rematch"&&(Li-=Zs.length,Zs="",Gs=null,_o="",$r!==null))return lc($r);if(Zs.length===0){if(Rt===0||ys!==Qt.depth||ro!==Qt.state||(Zi?Zi.groups.length:0)!==Is)continue;throw Ei(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Zo))}let Ms=null;if(ns(_o)&&_o.indexOf("@brackets")===0){const fo=_o.substr(9),ar=On(this._lexer,Zs);if(!ar)throw Ei(this._lexer,"@brackets token returned but no bracket defined as: "+Zs);Ms=Nn(ar.token+fo)}else{const fo=_o===""?"":_o+this._lexer.tokenPostfix;Ms=Nn(fo)}is<Ue&&Ee.emit(is+me,Ms)}if($r!==null)return lc($r)}return Ui.create(Qt,Ut)}_getNestedEmbeddedLanguageData(s){if(!this._languageService.isRegisteredLanguageId(s))return new ii(s,Ci.TJ);s!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(s),Bt.RW.getOrCreate(s),this._embeddedLanguages[s]=!0);const x=Bt.RW.get(s);return x?new ii(s,x.getInitialState()):new ii(s,Ci.TJ)}};Fn=$i=vi([Wi(4,ri.Ui)],Fn);function On(Xe,s){if(!s)return null;s=fs(Xe,s);const x=Xe.brackets;for(const Z of x){if(Z.open===s)return{token:Z.token,bracketType:1};if(Z.close===s)return{token:Z.token,bracketType:-1}}return null}const Mi=(0,fn.Z)("standaloneColorizer",{createHTML:Xe=>Xe});class _i{static colorizeElement(s,x,Z,me){me=me||{};const Ee=me.theme||"vs",Ue=me.mimeType||Z.getAttribute("lang")||Z.getAttribute("data-lang");if(!Ue)return console.error("Mode not detected"),Promise.resolve();const Je=x.getLanguageIdByMimeType(Ue)||Ue;s.setTheme(Ee);const Rt=Z.firstChild?Z.firstChild.nodeValue:"";Z.className+=" "+Ee;const Ut=Qt=>{var Li;const Zi=(Li=Mi==null?void 0:Mi.createHTML(Qt))!==null&&Li!==void 0?Li:Qt;Z.innerHTML=Zi};return this.colorize(x,Rt||"",Je,me).then(Ut,Qt=>console.error(Qt))}static colorize(s,x,Z,me){return qt(this,null,function*(){const Ee=s.languageIdCodec;let Ue=4;me&&typeof me.tabSize=="number"&&(Ue=me.tabSize),Qe.uS(x)&&(x=x.substr(1));const Je=Qe.uq(x);if(!s.isRegisteredLanguageId(Z))return Ht(Je,Ue,Ee);const Rt=yield Bt.RW.getOrCreate(Z);return Rt?Ii(Je,Ue,Rt,Ee):Ht(Je,Ue,Ee)})}static colorizeLine(s,x,Z,me,Ee=4){const Ue=Dn.wA.isBasicASCII(s,x),Je=Dn.wA.containsRTL(s,Ue,Z);return(0,Pn.tF)(new Pn.IJ(!1,!0,s,!1,Ue,Je,0,me,[],Ee,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,x,Z=4){const me=s.getLineContent(x);s.tokenization.forceTokenization(x);const Ue=s.tokenization.getLineTokens(x).inflate();return this.colorizeLine(me,s.mightContainNonBasicASCII(),s.mightContainRTL(),Ue,Z)}}function Ii(Xe,s,x,Z){return new Promise((me,Ee)=>{const Ue=()=>{const Je=Zt(Xe,s,x,Z);if(x instanceof Fn){const Rt=x.getLoadStatus();if(Rt.loaded===!1){Rt.promise.then(Ue,Ee);return}}me(Je)};Ue()})}function Ht(Xe,s,x){let Z=[];const Ee=new Uint32Array(2);Ee[0]=0,Ee[1]=33587200;for(let Ue=0,Je=Xe.length;Ue<Je;Ue++){const Rt=Xe[Ue];Ee[0]=Rt.length;const Ut=new un.A(Ee,Rt,x),Qt=Dn.wA.isBasicASCII(Rt,!0),Li=Dn.wA.containsRTL(Rt,Qt,!0),Zi=(0,Pn.tF)(new Pn.IJ(!1,!0,Rt,!1,Qt,Li,0,Ut,[],s,0,0,0,0,-1,"none",!1,!1,null));Z=Z.concat(Zi.html),Z.push("<br/>")}return Z.join("")}function Zt(Xe,s,x,Z){let me=[],Ee=x.getInitialState();for(let Ue=0,Je=Xe.length;Ue<Je;Ue++){const Rt=Xe[Ue],Ut=x.tokenizeEncoded(Rt,!0,Ee);un.A.convertToEndOffset(Ut.tokens,Rt.length);const Qt=new un.A(Ut.tokens,Rt,Z),Li=Dn.wA.isBasicASCII(Rt,!0),Zi=Dn.wA.containsRTL(Rt,Li,!0),qi=(0,Pn.tF)(new Pn.IJ(!1,!0,Rt,!1,Li,Zi,0,Qt.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));me=me.concat(qi.html),me.push("<br/>"),Ee=Ut.endState}return me.join("")}var hi=e(35996),Wt=e(46445),qe=e(30653),ee=e(65321),de=e(66663),re=e(4669),Ce=e(91741),we=e(97781),be=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},ke=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let He=class extends Ae.JT{constructor(s){super(),this._themeService=s,this._onWillCreateCodeEditor=this._register(new re.Q5),this._onCodeEditorAdd=this._register(new re.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new re.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new re.Q5),this._onDiffEditorAdd=this._register(new re.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new re.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Ce.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(s){this._codeEditors[s.getId()]=s,this._onCodeEditorAdd.fire(s)}removeCodeEditor(s){delete this._codeEditors[s.getId()]&&this._onCodeEditorRemove.fire(s)}listCodeEditors(){return Object.keys(this._codeEditors).map(s=>this._codeEditors[s])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(s){this._diffEditors[s.getId()]=s,this._onDiffEditorAdd.fire(s)}listDiffEditors(){return Object.keys(this._diffEditors).map(s=>this._diffEditors[s])}getFocusedCodeEditor(){let s=null;const x=this.listCodeEditors();for(const Z of x){if(Z.hasTextFocus())return Z;Z.hasWidgetFocus()&&(s=Z)}return s}removeDecorationType(s){const x=this._decorationOptionProviders.get(s);x&&(x.refCount--,x.refCount<=0&&(this._decorationOptionProviders.delete(s),x.dispose(),this.listCodeEditors().forEach(Z=>Z.removeDecorationsByType(s))))}setModelProperty(s,x,Z){const me=s.toString();let Ee;this._modelProperties.has(me)?Ee=this._modelProperties.get(me):(Ee=new Map,this._modelProperties.set(me,Ee)),Ee.set(x,Z)}getModelProperty(s,x){const Z=s.toString();if(this._modelProperties.has(Z))return this._modelProperties.get(Z).get(x)}openCodeEditor(s,x,Z){return qt(this,null,function*(){for(const me of this._codeEditorOpenHandlers){const Ee=yield me(s,x,Z);if(Ee!==null)return Ee}return null})}registerCodeEditorOpenHandler(s){const x=this._codeEditorOpenHandlers.unshift(s);return(0,Ae.OF)(x)}};He=be([ke(0,we.XE)],He);class Ye{constructor(s){this._styleSheet=s}}var ut=e(32064),$t=e(65026),gi=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},ci=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let ai=class extends He{constructor(s,x){super(x),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((Z,me,Ee)=>qt(this,null,function*(){return me?this.doOpenEditor(me,Z):null})))}_checkContextKey(){let s=!1;for(const x of this.listCodeEditors())if(!x.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,x){if(!this.findModel(s,x.resource)){if(x.resource){const Ee=x.resource.scheme;if(Ee===de.lg.http||Ee===de.lg.https)return(0,ee.V3)(x.resource.toString()),s}return null}const me=x.options?x.options.selection:null;if(me)if(typeof me.endLineNumber=="number"&&typeof me.endColumn=="number")s.setSelection(me),s.revealRangeInCenter(me,1);else{const Ee={lineNumber:me.startLineNumber,column:me.startColumn};s.setPosition(Ee),s.revealPositionInCenter(Ee,1)}return s}findModel(s,x){const Z=s.getModel();return Z&&Z.uri.toString()!==x.toString()?null:Z}};ai=gi([ci(0,ut.i6),ci(1,we.XE)],ai),(0,$t.z)(vt.$,ai,0);var ct=e(72065);const Nt=(0,ct.yh)("layoutService");var Et=e(9488),It=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Gt=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let zt=class{get mainContainer(){var s,x;return(x=(s=(0,Et.Xh)(this._codeEditorService.listCodeEditors()))===null||s===void 0?void 0:s.getContainerDomNode())!==null&&x!==void 0?x:je.Ex.document.body}get activeContainer(){var s,x;const Z=(s=this._codeEditorService.getFocusedCodeEditor())!==null&&s!==void 0?s:this._codeEditorService.getActiveCodeEditor();return(x=Z==null?void 0:Z.getContainerDomNode())!==null&&x!==void 0?x:this.mainContainer}get mainContainerDimension(){return ee.D6(this.mainContainer)}get activeContainerDimension(){return ee.D6(this.activeContainer)}get containers(){return(0,Et.kX)(this._codeEditorService.listCodeEditors().map(s=>s.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var s;(s=this._codeEditorService.getFocusedCodeEditor())===null||s===void 0||s.focus()}constructor(s){this._codeEditorService=s,this.onDidLayoutMainContainer=re.ju.None,this.onDidLayoutActiveContainer=re.ju.None,this.onDidLayoutContainer=re.ju.None,this.onDidChangeActiveContainer=re.ju.None,this.onDidAddContainer=re.ju.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};zt=It([Gt(0,vt.$)],zt);let mi=class extends zt{get mainContainer(){return this._container}constructor(s,x){super(x),this._container=s}};mi=It([Gt(1,vt.$)],mi),(0,$t.z)(Nt,zt,1);var ui=e(17301),Ti=e(14603),Ri=e(63580),tn=e(28820),gn=e(48894),wn=e(64862),An=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Bn=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};const Tn=!1;function es(Xe){return Xe.scheme===de.lg.file?Xe.fsPath:Xe.path}let Un=0;class yn{constructor(s,x,Z,me,Ee,Ue,Je){this.id=++Un,this.type=0,this.actual=s,this.label=s.label,this.confirmBeforeUndo=s.confirmBeforeUndo||!1,this.resourceLabel=x,this.strResource=Z,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=me,this.groupOrder=Ee,this.sourceId=Ue,this.sourceOrder=Je,this.isValid=!0}setValid(s){this.isValid=s}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class ss{constructor(s,x){this.resourceLabel=s,this.reason=x}}class os{constructor(){this.elements=new Map}createMessage(){const s=[],x=[];for(const[,me]of this.elements)(me.reason===0?s:x).push(me.resourceLabel);const Z=[];return s.length>0&&Z.push(Ri.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",s.join(", "))),x.length>0&&Z.push(Ri.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",x.join(", "))),Z.join(`
`)}get size(){return this.elements.size}has(s){return this.elements.has(s)}set(s,x){this.elements.set(s,x)}delete(s){return this.elements.delete(s)}}class pi{constructor(s,x,Z,me,Ee,Ue,Je){this.id=++Un,this.type=1,this.actual=s,this.label=s.label,this.confirmBeforeUndo=s.confirmBeforeUndo||!1,this.resourceLabels=x,this.strResources=Z,this.groupId=me,this.groupOrder=Ee,this.sourceId=Ue,this.sourceOrder=Je,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(s,x,Z){this.removedResources||(this.removedResources=new os),this.removedResources.has(x)||this.removedResources.set(x,new ss(s,Z))}setValid(s,x,Z){Z?this.invalidatedResources&&(this.invalidatedResources.delete(x),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new os),this.invalidatedResources.has(x)||this.invalidatedResources.set(x,new ss(s,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class $e{constructor(s,x){this.resourceLabel=s,this.strResource=x,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const s of this._past)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,0);for(const s of this._future)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const s=[];s.push(`* ${this.strResource}:`);for(let x=0;x<this._past.length;x++)s.push(`   * [UNDO] ${this._past[x]}`);for(let x=this._future.length-1;x>=0;x--)s.push(`   * [REDO] ${this._future[x]}`);return s.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(s,x){s.type===1?s.setValid(this.resourceLabel,this.strResource,x):s.setValid(x)}setElementsValidFlag(s,x){for(const Z of this._past)x(Z.actual)&&this._setElementValidFlag(Z,s);for(const Z of this._future)x(Z.actual)&&this._setElementValidFlag(Z,s)}pushElement(s){for(const x of this._future)x.type===1&&x.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(s),this.versionId++}createSnapshot(s){const x=[];for(let Z=0,me=this._past.length;Z<me;Z++)x.push(this._past[Z].id);for(let Z=this._future.length-1;Z>=0;Z--)x.push(this._future[Z].id);return new wn.YO(s,x)}restoreSnapshot(s){const x=s.elements.length;let Z=!0,me=0,Ee=-1;for(let Je=0,Rt=this._past.length;Je<Rt;Je++,me++){const Ut=this._past[Je];Z&&(me>=x||Ut.id!==s.elements[me])&&(Z=!1,Ee=0),!Z&&Ut.type===1&&Ut.removeResource(this.resourceLabel,this.strResource,0)}let Ue=-1;for(let Je=this._future.length-1;Je>=0;Je--,me++){const Rt=this._future[Je];Z&&(me>=x||Rt.id!==s.elements[me])&&(Z=!1,Ue=Je),!Z&&Rt.type===1&&Rt.removeResource(this.resourceLabel,this.strResource,0)}Ee!==-1&&(this._past=this._past.slice(0,Ee)),Ue!==-1&&(this._future=this._future.slice(Ue+1)),this.versionId++}getElements(){const s=[],x=[];for(const Z of this._past)s.push(Z.actual);for(const Z of this._future)x.push(Z.actual);return{past:s,future:x}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(s,x){for(let Z=this._past.length-1;Z>=0;Z--)if(this._past[Z]===s){x.has(this.strResource)?this._past[Z]=x.get(this.strResource):this._past.splice(Z,1);break}this.versionId++}splitFutureWorkspaceElement(s,x){for(let Z=this._future.length-1;Z>=0;Z--)if(this._future[Z]===s){x.has(this.strResource)?this._future[Z]=x.get(this.strResource):this._future.splice(Z,1);break}this.versionId++}moveBackward(s){this._past.pop(),this._future.push(s),this.versionId++}moveForward(s){this._future.pop(),this._past.push(s),this.versionId++}}class ht{constructor(s){this.editStacks=s,this._versionIds=[];for(let x=0,Z=this.editStacks.length;x<Z;x++)this._versionIds[x]=this.editStacks[x].versionId}isValid(){for(let s=0,x=this.editStacks.length;s<x;s++)if(this._versionIds[s]!==this.editStacks[s].versionId)return!1;return!0}}const gt=new $e("","");gt.locked=!0;let li=class{constructor(s,x){this._dialogService=s,this._notificationService=x,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(s){for(const x of this._uriComparisonKeyComputers)if(x[0]===s.scheme)return x[1].getComparisonKey(s);return s.toString()}_print(s){console.log("------------------------------------"),console.log(`AFTER ${s}: `);const x=[];for(const Z of this._editStacks)x.push(Z[1].toString());console.log(x.join(`
`))}pushElement(s,x=wn.Xt.None,Z=wn.gJ.None){if(s.type===0){const me=es(s.resource),Ee=this.getUriComparisonKey(s.resource);this._pushElement(new yn(s,me,Ee,x.id,x.nextOrder(),Z.id,Z.nextOrder()))}else{const me=new Set,Ee=[],Ue=[];for(const Je of s.resources){const Rt=es(Je),Ut=this.getUriComparisonKey(Je);me.has(Ut)||(me.add(Ut),Ee.push(Rt),Ue.push(Ut))}Ee.length===1?this._pushElement(new yn(s,Ee[0],Ue[0],x.id,x.nextOrder(),Z.id,Z.nextOrder())):this._pushElement(new pi(s,Ee,Ue,x.id,x.nextOrder(),Z.id,Z.nextOrder()))}Tn&&this._print("pushElement")}_pushElement(s){for(let x=0,Z=s.strResources.length;x<Z;x++){const me=s.resourceLabels[x],Ee=s.strResources[x];let Ue;this._editStacks.has(Ee)?Ue=this._editStacks.get(Ee):(Ue=new $e(me,Ee),this._editStacks.set(Ee,Ue)),Ue.pushElement(s)}}getLastElement(s){const x=this.getUriComparisonKey(s);if(this._editStacks.has(x)){const Z=this._editStacks.get(x);if(Z.hasFutureElements())return null;const me=Z.getClosestPastElement();return me?me.actual:null}return null}_splitPastWorkspaceElement(s,x){const Z=s.actual.split(),me=new Map;for(const Ee of Z){const Ue=es(Ee.resource),Je=this.getUriComparisonKey(Ee.resource),Rt=new yn(Ee,Ue,Je,0,0,0,0);me.set(Rt.strResource,Rt)}for(const Ee of s.strResources){if(x&&x.has(Ee))continue;this._editStacks.get(Ee).splitPastWorkspaceElement(s,me)}}_splitFutureWorkspaceElement(s,x){const Z=s.actual.split(),me=new Map;for(const Ee of Z){const Ue=es(Ee.resource),Je=this.getUriComparisonKey(Ee.resource),Rt=new yn(Ee,Ue,Je,0,0,0,0);me.set(Rt.strResource,Rt)}for(const Ee of s.strResources){if(x&&x.has(Ee))continue;this._editStacks.get(Ee).splitFutureWorkspaceElement(s,me)}}removeElements(s){const x=typeof s=="string"?s:this.getUriComparisonKey(s);this._editStacks.has(x)&&(this._editStacks.get(x).dispose(),this._editStacks.delete(x)),Tn&&this._print("removeElements")}setElementsValidFlag(s,x,Z){const me=this.getUriComparisonKey(s);this._editStacks.has(me)&&this._editStacks.get(me).setElementsValidFlag(x,Z),Tn&&this._print("setElementsValidFlag")}createSnapshot(s){const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).createSnapshot(s):new wn.YO(s,[])}restoreSnapshot(s){const x=this.getUriComparisonKey(s.resource);if(this._editStacks.has(x)){const Z=this._editStacks.get(x);Z.restoreSnapshot(s),!Z.hasPastElements()&&!Z.hasFutureElements()&&(Z.dispose(),this._editStacks.delete(x))}Tn&&this._print("restoreSnapshot")}getElements(s){const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(s){if(!s)return[null,null];let x=null,Z=null;for(const[me,Ee]of this._editStacks){const Ue=Ee.getClosestPastElement();Ue&&Ue.sourceId===s&&(!x||Ue.sourceOrder>x.sourceOrder)&&(x=Ue,Z=me)}return[x,Z]}canUndo(s){if(s instanceof wn.gJ){const[,Z]=this._findClosestUndoElementWithSource(s.id);return!!Z}const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).hasPastElements():!1}_onError(s,x){(0,ui.dL)(s);for(const Z of x.strResources)this.removeElements(Z);this._notificationService.error(s)}_acquireLocks(s){for(const x of s.editStacks)if(x.locked)throw new Error("Cannot acquire edit stack lock");for(const x of s.editStacks)x.locked=!0;return()=>{for(const x of s.editStacks)x.locked=!1}}_safeInvokeWithLocks(s,x,Z,me,Ee){const Ue=this._acquireLocks(Z);let Je;try{Je=x()}catch(Rt){return Ue(),me.dispose(),this._onError(Rt,s)}return Je?Je.then(()=>(Ue(),me.dispose(),Ee()),Rt=>(Ue(),me.dispose(),this._onError(Rt,s))):(Ue(),me.dispose(),Ee())}_invokeWorkspacePrepare(s){return qt(this,null,function*(){if(typeof s.actual.prepareUndoRedo=="undefined")return Ae.JT.None;const x=s.actual.prepareUndoRedo();return typeof x=="undefined"?Ae.JT.None:x})}_invokeResourcePrepare(s,x){if(s.actual.type!==1||typeof s.actual.prepareUndoRedo=="undefined")return x(Ae.JT.None);const Z=s.actual.prepareUndoRedo();return Z?(0,Ae.Wf)(Z)?x(Z):Z.then(me=>x(me)):x(Ae.JT.None)}_getAffectedEditStacks(s){const x=[];for(const Z of s.strResources)x.push(this._editStacks.get(Z)||gt);return new ht(x)}_tryToSplitAndUndo(s,x,Z,me){if(x.canSplit())return this._splitPastWorkspaceElement(x,Z),this._notificationService.warn(me),new ni(this._undo(s,0,!0));for(const Ee of x.strResources)this.removeElements(Ee);return this._notificationService.warn(me),new ni}_checkWorkspaceUndo(s,x,Z,me){if(x.removedResources)return this._tryToSplitAndUndo(s,x,x.removedResources,Ri.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",x.label,x.removedResources.createMessage()));if(me&&x.invalidatedResources)return this._tryToSplitAndUndo(s,x,x.invalidatedResources,Ri.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",x.label,x.invalidatedResources.createMessage()));const Ee=[];for(const Je of Z.editStacks)Je.getClosestPastElement()!==x&&Ee.push(Je.resourceLabel);if(Ee.length>0)return this._tryToSplitAndUndo(s,x,null,Ri.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",x.label,Ee.join(", ")));const Ue=[];for(const Je of Z.editStacks)Je.locked&&Ue.push(Je.resourceLabel);return Ue.length>0?this._tryToSplitAndUndo(s,x,null,Ri.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",x.label,Ue.join(", "))):Z.isValid()?null:this._tryToSplitAndUndo(s,x,null,Ri.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",x.label))}_workspaceUndo(s,x,Z){const me=this._getAffectedEditStacks(x),Ee=this._checkWorkspaceUndo(s,x,me,!1);return Ee?Ee.returnValue:this._confirmAndExecuteWorkspaceUndo(s,x,me,Z)}_isPartOfUndoGroup(s){if(!s.groupId)return!1;for(const[,x]of this._editStacks){const Z=x.getClosestPastElement();if(Z){if(Z===s){const me=x.getSecondClosestPastElement();if(me&&me.groupId===s.groupId)return!0}if(Z.groupId===s.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(s,x,Z,me){return qt(this,null,function*(){if(x.canSplit()&&!this._isPartOfUndoGroup(x)){let Je;(function(Qt){Qt[Qt.All=0]="All",Qt[Qt.This=1]="This",Qt[Qt.Cancel=2]="Cancel"})(Je||(Je={}));const{result:Rt}=yield this._dialogService.prompt({type:Ti.Z.Info,message:Ri.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",x.label),buttons:[{label:Ri.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",Z.editStacks.length),run:()=>Je.All},{label:Ri.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Je.This}],cancelButton:{run:()=>Je.Cancel}});if(Rt===Je.Cancel)return;if(Rt===Je.This)return this._splitPastWorkspaceElement(x,null),this._undo(s,0,!0);const Ut=this._checkWorkspaceUndo(s,x,Z,!1);if(Ut)return Ut.returnValue;me=!0}let Ee;try{Ee=yield this._invokeWorkspacePrepare(x)}catch(Je){return this._onError(Je,x)}const Ue=this._checkWorkspaceUndo(s,x,Z,!0);if(Ue)return Ee.dispose(),Ue.returnValue;for(const Je of Z.editStacks)Je.moveBackward(x);return this._safeInvokeWithLocks(x,()=>x.actual.undo(),Z,Ee,()=>this._continueUndoInGroup(x.groupId,me))})}_resourceUndo(s,x,Z){if(!x.isValid){s.flushAllElements();return}if(s.locked){const me=Ri.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",x.label);this._notificationService.warn(me);return}return this._invokeResourcePrepare(x,me=>(s.moveBackward(x),this._safeInvokeWithLocks(x,()=>x.actual.undo(),new ht([s]),me,()=>this._continueUndoInGroup(x.groupId,Z))))}_findClosestUndoElementInGroup(s){if(!s)return[null,null];let x=null,Z=null;for(const[me,Ee]of this._editStacks){const Ue=Ee.getClosestPastElement();Ue&&Ue.groupId===s&&(!x||Ue.groupOrder>x.groupOrder)&&(x=Ue,Z=me)}return[x,Z]}_continueUndoInGroup(s,x){if(!s)return;const[,Z]=this._findClosestUndoElementInGroup(s);if(Z)return this._undo(Z,0,x)}undo(s){if(s instanceof wn.gJ){const[,x]=this._findClosestUndoElementWithSource(s.id);return x?this._undo(x,s.id,!1):void 0}return typeof s=="string"?this._undo(s,0,!1):this._undo(this.getUriComparisonKey(s),0,!1)}_undo(s,x=0,Z){if(!this._editStacks.has(s))return;const me=this._editStacks.get(s),Ee=me.getClosestPastElement();if(!Ee)return;if(Ee.groupId){const[Je,Rt]=this._findClosestUndoElementInGroup(Ee.groupId);if(Ee!==Je&&Rt)return this._undo(Rt,x,Z)}if((Ee.sourceId!==x||Ee.confirmBeforeUndo)&&!Z)return this._confirmAndContinueUndo(s,x,Ee);try{return Ee.type===1?this._workspaceUndo(s,Ee,Z):this._resourceUndo(me,Ee,Z)}finally{Tn&&this._print("undo")}}_confirmAndContinueUndo(s,x,Z){return qt(this,null,function*(){if((yield this._dialogService.confirm({message:Ri.NC("confirmDifferentSource","Would you like to undo '{0}'?",Z.label),primaryButton:Ri.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:Ri.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(s,x,!0)})}_findClosestRedoElementWithSource(s){if(!s)return[null,null];let x=null,Z=null;for(const[me,Ee]of this._editStacks){const Ue=Ee.getClosestFutureElement();Ue&&Ue.sourceId===s&&(!x||Ue.sourceOrder<x.sourceOrder)&&(x=Ue,Z=me)}return[x,Z]}canRedo(s){if(s instanceof wn.gJ){const[,Z]=this._findClosestRedoElementWithSource(s.id);return!!Z}const x=this.getUriComparisonKey(s);return this._editStacks.has(x)?this._editStacks.get(x).hasFutureElements():!1}_tryToSplitAndRedo(s,x,Z,me){if(x.canSplit())return this._splitFutureWorkspaceElement(x,Z),this._notificationService.warn(me),new ni(this._redo(s));for(const Ee of x.strResources)this.removeElements(Ee);return this._notificationService.warn(me),new ni}_checkWorkspaceRedo(s,x,Z,me){if(x.removedResources)return this._tryToSplitAndRedo(s,x,x.removedResources,Ri.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",x.label,x.removedResources.createMessage()));if(me&&x.invalidatedResources)return this._tryToSplitAndRedo(s,x,x.invalidatedResources,Ri.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",x.label,x.invalidatedResources.createMessage()));const Ee=[];for(const Je of Z.editStacks)Je.getClosestFutureElement()!==x&&Ee.push(Je.resourceLabel);if(Ee.length>0)return this._tryToSplitAndRedo(s,x,null,Ri.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",x.label,Ee.join(", ")));const Ue=[];for(const Je of Z.editStacks)Je.locked&&Ue.push(Je.resourceLabel);return Ue.length>0?this._tryToSplitAndRedo(s,x,null,Ri.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",x.label,Ue.join(", "))):Z.isValid()?null:this._tryToSplitAndRedo(s,x,null,Ri.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",x.label))}_workspaceRedo(s,x){const Z=this._getAffectedEditStacks(x),me=this._checkWorkspaceRedo(s,x,Z,!1);return me?me.returnValue:this._executeWorkspaceRedo(s,x,Z)}_executeWorkspaceRedo(s,x,Z){return qt(this,null,function*(){let me;try{me=yield this._invokeWorkspacePrepare(x)}catch(Ue){return this._onError(Ue,x)}const Ee=this._checkWorkspaceRedo(s,x,Z,!0);if(Ee)return me.dispose(),Ee.returnValue;for(const Ue of Z.editStacks)Ue.moveForward(x);return this._safeInvokeWithLocks(x,()=>x.actual.redo(),Z,me,()=>this._continueRedoInGroup(x.groupId))})}_resourceRedo(s,x){if(!x.isValid){s.flushAllElements();return}if(s.locked){const Z=Ri.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",x.label);this._notificationService.warn(Z);return}return this._invokeResourcePrepare(x,Z=>(s.moveForward(x),this._safeInvokeWithLocks(x,()=>x.actual.redo(),new ht([s]),Z,()=>this._continueRedoInGroup(x.groupId))))}_findClosestRedoElementInGroup(s){if(!s)return[null,null];let x=null,Z=null;for(const[me,Ee]of this._editStacks){const Ue=Ee.getClosestFutureElement();Ue&&Ue.groupId===s&&(!x||Ue.groupOrder<x.groupOrder)&&(x=Ue,Z=me)}return[x,Z]}_continueRedoInGroup(s){if(!s)return;const[,x]=this._findClosestRedoElementInGroup(s);if(x)return this._redo(x)}redo(s){if(s instanceof wn.gJ){const[,x]=this._findClosestRedoElementWithSource(s.id);return x?this._redo(x):void 0}return typeof s=="string"?this._redo(s):this._redo(this.getUriComparisonKey(s))}_redo(s){if(!this._editStacks.has(s))return;const x=this._editStacks.get(s),Z=x.getClosestFutureElement();if(Z){if(Z.groupId){const[me,Ee]=this._findClosestRedoElementInGroup(Z.groupId);if(Z!==me&&Ee)return this._redo(Ee)}try{return Z.type===1?this._workspaceRedo(s,Z):this._resourceRedo(x,Z)}finally{Tn&&this._print("redo")}}}};li=An([Bn(0,tn.S),Bn(1,gn.lT)],li);class ni{constructor(s){this.returnValue=s}}(0,$t.z)(wn.tJ,li,1);var bi=e(88191),Si=e(43557),yi=e(68997),Pi=e(73343),Qi=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Hi=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Fi=class extends Ae.JT{constructor(s,x,Z){super(),this._themeService=s,this._logService=x,this._languageService=Z,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new yi.$(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};Fi=Qi([Hi(0,we.XE),Hi(1,Si.VZ),Hi(2,kt.O)],Fi),(0,$t.z)(Pi.s,Fi,1);var bt=e(22970);function k(Xe){return typeof Xe=="string"?!1:Array.isArray(Xe)?Xe.every(k):!!Xe.exclusive}class te{constructor(s,x,Z,me){this.uri=s,this.languageId=x,this.notebookUri=Z,this.notebookType=me}equals(s){var x,Z;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((x=this.notebookUri)===null||x===void 0?void 0:x.toString())===((Z=s.notebookUri)===null||Z===void 0?void 0:Z.toString())}}class ue{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new re.Q5,this.onDidChange=this._onDidChange.event}register(s,x){let Z={selector:s,provider:x,_score:-1,_time:this._clock++};return this._entries.push(Z),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Ae.OF)(()=>{if(Z){const me=this._entries.indexOf(Z);me>=0&&(this._entries.splice(me,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Z=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const x=[];for(const Z of this._entries)Z._score>0&&x.push(Z.provider);return x}ordered(s){const x=[];return this._orderedForEach(s,Z=>x.push(Z.provider)),x}orderedGroups(s){const x=[];let Z,me;return this._orderedForEach(s,Ee=>{Z&&me===Ee._score?Z.push(Ee.provider):(me=Ee._score,Z=[Ee.provider],x.push(Z))}),x}_orderedForEach(s,x){this._updateScores(s);for(const Z of this._entries)Z._score>0&&x(Z)}_updateScores(s){var x,Z;const me=(x=this._notebookInfoResolver)===null||x===void 0?void 0:x.call(this,s.uri),Ee=me?new te(s.uri,s.getLanguageId(),me.uri,me.type):new te(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((Z=this._lastCandidate)===null||Z===void 0)&&Z.equals(Ee))){this._lastCandidate=Ee;for(const Ue of this._entries)if(Ue._score=(0,bt.G)(Ue.selector,Ee.uri,Ee.languageId,(0,Oi.pt)(s),Ee.notebookUri,Ee.notebookType),k(Ue.selector)&&Ue._score>0){for(const Je of this._entries)Je._score=0;Ue._score=1e3;break}this._entries.sort(ue._compareByScoreAndTime)}}static _compareByScoreAndTime(s,x){return s._score<x._score?1:s._score>x._score?-1:Fe(s.selector)&&!Fe(x.selector)?1:!Fe(s.selector)&&Fe(x.selector)?-1:s._time<x._time?1:s._time>x._time?-1:0}}function Fe(Xe){return typeof Xe=="string"?!1:Array.isArray(Xe)?Xe.some(Fe):!!Xe.isBuiltin}var Ze=e(71922);class it{constructor(){this.referenceProvider=new ue(this._score.bind(this)),this.renameProvider=new ue(this._score.bind(this)),this.codeActionProvider=new ue(this._score.bind(this)),this.definitionProvider=new ue(this._score.bind(this)),this.typeDefinitionProvider=new ue(this._score.bind(this)),this.declarationProvider=new ue(this._score.bind(this)),this.implementationProvider=new ue(this._score.bind(this)),this.documentSymbolProvider=new ue(this._score.bind(this)),this.inlayHintsProvider=new ue(this._score.bind(this)),this.colorProvider=new ue(this._score.bind(this)),this.codeLensProvider=new ue(this._score.bind(this)),this.documentFormattingEditProvider=new ue(this._score.bind(this)),this.documentRangeFormattingEditProvider=new ue(this._score.bind(this)),this.onTypeFormattingEditProvider=new ue(this._score.bind(this)),this.signatureHelpProvider=new ue(this._score.bind(this)),this.hoverProvider=new ue(this._score.bind(this)),this.documentHighlightProvider=new ue(this._score.bind(this)),this.multiDocumentHighlightProvider=new ue(this._score.bind(this)),this.selectionRangeProvider=new ue(this._score.bind(this)),this.foldingRangeProvider=new ue(this._score.bind(this)),this.linkProvider=new ue(this._score.bind(this)),this.inlineCompletionsProvider=new ue(this._score.bind(this)),this.completionProvider=new ue(this._score.bind(this)),this.linkedEditingRangeProvider=new ue(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new ue(this._score.bind(this)),this.documentSemanticTokensProvider=new ue(this._score.bind(this)),this.documentOnDropEditProvider=new ue(this._score.bind(this)),this.documentPasteEditProvider=new ue(this._score.bind(this))}_score(s){var x;return(x=this._notebookTypeResolver)===null||x===void 0?void 0:x.call(this,s)}}(0,$t.z)(Ze.p,it,1);var dt=e(59069),_t=e(8313),st=e(1432),Q=e(66007),he=e(800),Be=e(69386),nt=e(50187),pt=e(24314),Tt=e(88216),Vt=e(71765),oi=e(94565),Ai=e(43702),zi=e(98401),cn=e(23193),dn=e(89872);function on(Xe){return Object.isFrozen(Xe)?Xe:Mt._A(Xe)}class Ki{constructor(s={},x=[],Z=[],me){this._contents=s,this._keys=x,this._overrides=Z,this.raw=me,this.overrideConfigurations=new Map}get rawConfiguration(){var s;if(!this._rawConfiguration)if(!((s=this.raw)===null||s===void 0)&&s.length){const x=this.raw.map(Z=>{if(Z instanceof Ki)return Z;const me=new ln("");return me.parseRaw(Z),me.configurationModel});this._rawConfiguration=x.reduce((Z,me)=>me===Z?me:Z.merge(me),x[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(s){return s?(0,ri.Mt)(this.contents,s):this.contents}inspect(s,x){const Z=this.rawConfiguration.getValue(s),me=x?this.rawConfiguration.getOverrideValue(s,x):void 0,Ee=x?this.rawConfiguration.override(x).getValue(s):Z;return{value:Z,override:me,merged:Ee}}getOverrideValue(s,x){const Z=this.getContentsForOverrideIdentifer(x);return Z?s?(0,ri.Mt)(Z,s):Z:void 0}override(s){let x=this.overrideConfigurations.get(s);return x||(x=this.createOverrideConfigurationModel(s),this.overrideConfigurations.set(s,x)),x}merge(...s){var x,Z;const me=Mt.I8(this.contents),Ee=Mt.I8(this.overrides),Ue=[...this.keys],Je=!((x=this.raw)===null||x===void 0)&&x.length?[...this.raw]:[this];for(const Rt of s)if(Je.push(...!((Z=Rt.raw)===null||Z===void 0)&&Z.length?Rt.raw:[Rt]),!Rt.isEmpty()){this.mergeContents(me,Rt.contents);for(const Ut of Rt.overrides){const[Qt]=Ee.filter(Li=>Et.fS(Li.identifiers,Ut.identifiers));Qt?(this.mergeContents(Qt.contents,Ut.contents),Qt.keys.push(...Ut.keys),Qt.keys=Et.EB(Qt.keys)):Ee.push(Mt.I8(Ut))}for(const Ut of Rt.keys)Ue.indexOf(Ut)===-1&&Ue.push(Ut)}return new Ki(me,Ue,Ee,Je.every(Rt=>Rt instanceof Ki)?void 0:Je)}createOverrideConfigurationModel(s){const x=this.getContentsForOverrideIdentifer(s);if(!x||typeof x!="object"||!Object.keys(x).length)return this;const Z={};for(const me of Et.EB([...Object.keys(this.contents),...Object.keys(x)])){let Ee=this.contents[me];const Ue=x[me];Ue&&(typeof Ee=="object"&&typeof Ue=="object"?(Ee=Mt.I8(Ee),this.mergeContents(Ee,Ue)):Ee=Ue),Z[me]=Ee}return new Ki(Z,this.keys,this.overrides)}mergeContents(s,x){for(const Z of Object.keys(x)){if(Z in s&&zi.Kn(s[Z])&&zi.Kn(x[Z])){this.mergeContents(s[Z],x[Z]);continue}s[Z]=Mt.I8(x[Z])}}getContentsForOverrideIdentifer(s){let x=null,Z=null;const me=Ee=>{Ee&&(Z?this.mergeContents(Z,Ee):Z=Mt.I8(Ee))};for(const Ee of this.overrides)Ee.identifiers.length===1&&Ee.identifiers[0]===s?x=Ee.contents:Ee.identifiers.includes(s)&&me(Ee.contents);return me(x),Z}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(s,x){this.updateValue(s,x,!0)}setValue(s,x){this.updateValue(s,x,!1)}removeValue(s){const x=this.keys.indexOf(s);x!==-1&&(this.keys.splice(x,1),(0,ri.xL)(this.contents,s),cn.eU.test(s)&&this.overrides.splice(this.overrides.findIndex(Z=>Et.fS(Z.identifiers,(0,cn.ny)(s))),1))}updateValue(s,x,Z){(0,ri.KV)(this.contents,s,x,me=>console.error(me)),Z=Z||this.keys.indexOf(s)===-1,Z&&this.keys.push(s),cn.eU.test(s)&&this.overrides.push({identifiers:(0,cn.ny)(s),keys:Object.keys(this.contents[s]),contents:(0,ri.Od)(this.contents[s],me=>console.error(me))})}}class ln{constructor(s){this._name=s,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Ki}parseRaw(s,x){this._raw=s;const{contents:Z,keys:me,overrides:Ee,restricted:Ue,hasExcludedProperties:Je}=this.doParseRaw(s,x);this._configurationModel=new Ki(Z,me,Ee,Je?[s]:void 0),this._restrictedConfigurations=Ue||[]}doParseRaw(s,x){const Z=dn.B.as(cn.IP.Configuration).getConfigurationProperties(),me=this.filter(s,Z,!0,x);s=me.raw;const Ee=(0,ri.Od)(s,Rt=>console.error(`Conflict in settings file ${this._name}: ${Rt}`)),Ue=Object.keys(s),Je=this.toOverrides(s,Rt=>console.error(`Conflict in settings file ${this._name}: ${Rt}`));return{contents:Ee,keys:Ue,overrides:Je,restricted:me.restricted,hasExcludedProperties:me.hasExcludedProperties}}filter(s,x,Z,me){var Ee,Ue,Je;let Rt=!1;if(!(me!=null&&me.scopes)&&!(me!=null&&me.skipRestricted)&&!(!((Ee=me==null?void 0:me.exclude)===null||Ee===void 0)&&Ee.length))return{raw:s,restricted:[],hasExcludedProperties:Rt};const Ut={},Qt=[];for(const Li in s)if(cn.eU.test(Li)&&Z){const Zi=this.filter(s[Li],x,!1,me);Ut[Li]=Zi.raw,Rt=Rt||Zi.hasExcludedProperties,Qt.push(...Zi.restricted)}else{const Zi=x[Li],qi=Zi?typeof Zi.scope!="undefined"?Zi.scope:3:void 0;Zi!=null&&Zi.restricted&&Qt.push(Li),!(!((Ue=me.exclude)===null||Ue===void 0)&&Ue.includes(Li))&&(!((Je=me.include)===null||Je===void 0)&&Je.includes(Li)||(qi===void 0||me.scopes===void 0||me.scopes.includes(qi))&&!(me.skipRestricted&&(Zi!=null&&Zi.restricted)))?Ut[Li]=s[Li]:Rt=!0}return{raw:Ut,restricted:Qt,hasExcludedProperties:Rt}}toOverrides(s,x){const Z=[];for(const me of Object.keys(s))if(cn.eU.test(me)){const Ee={};for(const Ue in s[me])Ee[Ue]=s[me][Ue];Z.push({identifiers:(0,cn.ny)(me),keys:Object.keys(Ee),contents:(0,ri.Od)(Ee,x)})}return Z}}class pn{constructor(s,x,Z,me,Ee,Ue,Je,Rt,Ut,Qt,Li,Zi,qi){this.key=s,this.overrides=x,this._value=Z,this.overrideIdentifiers=me,this.defaultConfiguration=Ee,this.policyConfiguration=Ue,this.applicationConfiguration=Je,this.userConfiguration=Rt,this.localUserConfiguration=Ut,this.remoteUserConfiguration=Qt,this.workspaceConfiguration=Li,this.folderConfigurationModel=Zi,this.memoryConfigurationModel=qi}inspect(s,x,Z){const me=s.inspect(x,Z);return{get value(){return on(me.value)},get override(){return on(me.override)},get merged(){return on(me.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class Jn{constructor(s,x,Z,me,Ee=new Ki,Ue=new Ki,Je=new Ai.Y9,Rt=new Ki,Ut=new Ai.Y9){this._defaultConfiguration=s,this._policyConfiguration=x,this._applicationConfiguration=Z,this._localUserConfiguration=me,this._remoteUserConfiguration=Ee,this._workspaceConfiguration=Ue,this._folderConfigurations=Je,this._memoryConfiguration=Rt,this._memoryConfigurationByResource=Ut,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ai.Y9,this._userConfiguration=null}getValue(s,x,Z){return this.getConsolidatedConfigurationModel(s,x,Z).getValue(s)}updateValue(s,x,Z={}){let me;Z.resource?(me=this._memoryConfigurationByResource.get(Z.resource),me||(me=new Ki,this._memoryConfigurationByResource.set(Z.resource,me))):me=this._memoryConfiguration,x===void 0?me.removeValue(s):me.setValue(s,x),Z.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(s,x,Z){const me=this.getConsolidatedConfigurationModel(s,x,Z),Ee=this.getFolderConfigurationModelForResource(x.resource,Z),Ue=x.resource?this._memoryConfigurationByResource.get(x.resource)||this._memoryConfiguration:this._memoryConfiguration,Je=new Set;for(const Rt of me.overrides)for(const Ut of Rt.identifiers)me.getOverrideValue(s,Ut)!==void 0&&Je.add(Ut);return new pn(s,x,me.getValue(s),Je.size?[...Je]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,Z?this._workspaceConfiguration:void 0,Ee||void 0,Ue)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(s,x,Z){let me=this.getConsolidatedConfigurationModelForResource(x,Z);return x.overrideIdentifier&&(me=me.override(x.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(s)!==void 0&&(me=me.merge(this._policyConfiguration)),me}getConsolidatedConfigurationModelForResource({resource:s},x){let Z=this.getWorkspaceConsolidatedConfiguration();if(x&&s){const me=x.getFolder(s);me&&(Z=this.getFolderConsolidatedConfiguration(me.uri)||Z);const Ee=this._memoryConfigurationByResource.get(s);Ee&&(Z=Z.merge(Ee))}return Z}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(s){let x=this._foldersConsolidatedConfigurations.get(s);if(!x){const Z=this.getWorkspaceConsolidatedConfiguration(),me=this._folderConfigurations.get(s);me?(x=Z.merge(me),this._foldersConsolidatedConfigurations.set(s,x)):x=Z}return x}getFolderConfigurationModelForResource(s,x){if(x&&s){const Z=x.getFolder(s);if(Z)return this._folderConfigurations.get(Z.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((s,x)=>{const{contents:Z,overrides:me,keys:Ee}=this._folderConfigurations.get(x);return s.push([x,{contents:Z,overrides:me,keys:Ee}]),s},[])}}static parse(s){const x=this.parseConfigurationModel(s.defaults),Z=this.parseConfigurationModel(s.policy),me=this.parseConfigurationModel(s.application),Ee=this.parseConfigurationModel(s.user),Ue=this.parseConfigurationModel(s.workspace),Je=s.folders.reduce((Rt,Ut)=>(Rt.set(rt.o.revive(Ut[0]),this.parseConfigurationModel(Ut[1])),Rt),new Ai.Y9);return new Jn(x,Z,me,Ee,new Ki,Ue,Je,new Ki,new Ai.Y9)}static parseConfigurationModel(s){return new Ki(s.contents,s.keys,s.overrides)}}class xs{constructor(s,x,Z,me){this.change=s,this.previous=x,this.currentConfiguraiton=Z,this.currentWorkspace=me,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const Ee of s.keys)this.affectedKeys.add(Ee);for(const[,Ee]of s.overrides)for(const Ue of Ee)this.affectedKeys.add(Ue);this._affectsConfigStr=this._marker;for(const Ee of this.affectedKeys)this._affectsConfigStr+=Ee+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Jn.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(s,x){var Z;const me=this._marker+s,Ee=this._affectsConfigStr.indexOf(me);if(Ee<0)return!1;const Ue=Ee+me.length;if(Ue>=this._affectsConfigStr.length)return!1;const Je=this._affectsConfigStr.charCodeAt(Ue);if(Je!==this._markerCode1&&Je!==this._markerCode2)return!1;if(x){const Rt=this.previousConfiguration?this.previousConfiguration.getValue(s,x,(Z=this.previous)===null||Z===void 0?void 0:Z.workspace):void 0,Ut=this.currentConfiguraiton.getValue(s,x,this.currentWorkspace);return!Mt.fS(Rt,Ut)}return!0}}var rs=e(15393),Ys=e(77173);const jn={kind:0},Es={kind:1};function _s(Xe,s,x){return{kind:2,commandId:Xe,commandArgs:s,isBubble:x}}class Qn{constructor(s,x,Z){var me;this._log=Z,this._defaultKeybindings=s,this._defaultBoundCommands=new Map;for(const Ee of s){const Ue=Ee.command;Ue&&Ue.charAt(0)!=="-"&&this._defaultBoundCommands.set(Ue,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Qn.handleRemovals([].concat(s).concat(x));for(let Ee=0,Ue=this._keybindings.length;Ee<Ue;Ee++){const Je=this._keybindings[Ee];if(Je.chords.length===0)continue;const Rt=(me=Je.when)===null||me===void 0?void 0:me.substituteConstants();Rt&&Rt.type===0||this._addKeyPress(Je.chords[0],Je)}}static _isTargetedForRemoval(s,x,Z){if(x){for(let me=0;me<x.length;me++)if(x[me]!==s.chords[me])return!1}return!(Z&&Z.type!==1&&(!s.when||!(0,ut.Fb)(Z,s.when)))}static handleRemovals(s){const x=new Map;for(let me=0,Ee=s.length;me<Ee;me++){const Ue=s[me];if(Ue.command&&Ue.command.charAt(0)==="-"){const Je=Ue.command.substring(1);x.has(Je)?x.get(Je).push(Ue):x.set(Je,[Ue])}}if(x.size===0)return s;const Z=[];for(let me=0,Ee=s.length;me<Ee;me++){const Ue=s[me];if(!Ue.command||Ue.command.length===0){Z.push(Ue);continue}if(Ue.command.charAt(0)==="-")continue;const Je=x.get(Ue.command);if(!Je||!Ue.isDefault){Z.push(Ue);continue}let Rt=!1;for(const Ut of Je){const Qt=Ut.when;if(this._isTargetedForRemoval(Ue,Ut.chords,Qt)){Rt=!0;break}}if(!Rt){Z.push(Ue);continue}}return Z}_addKeyPress(s,x){const Z=this._map.get(s);if(typeof Z=="undefined"){this._map.set(s,[x]),this._addToLookupMap(x);return}for(let me=Z.length-1;me>=0;me--){const Ee=Z[me];if(Ee.command===x.command)continue;let Ue=!0;for(let Je=1;Je<Ee.chords.length&&Je<x.chords.length;Je++)if(Ee.chords[Je]!==x.chords[Je]){Ue=!1;break}Ue&&Qn.whenIsEntirelyIncluded(Ee.when,x.when)&&this._removeFromLookupMap(Ee)}Z.push(x),this._addToLookupMap(x)}_addToLookupMap(s){if(!s.command)return;let x=this._lookupMap.get(s.command);typeof x=="undefined"?(x=[s],this._lookupMap.set(s.command,x)):x.push(s)}_removeFromLookupMap(s){if(!s.command)return;const x=this._lookupMap.get(s.command);if(typeof x!="undefined"){for(let Z=0,me=x.length;Z<me;Z++)if(x[Z]===s){x.splice(Z,1);return}}}static whenIsEntirelyIncluded(s,x){return!x||x.type===1?!0:!s||s.type===1?!1:(0,ut.K8)(s,x)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(s,x){const Z=this._lookupMap.get(s);if(typeof Z=="undefined"||Z.length===0)return null;if(Z.length===1)return Z[0];for(let me=Z.length-1;me>=0;me--){const Ee=Z[me];if(x.contextMatchesRules(Ee.when))return Ee}return Z[Z.length-1]}resolve(s,x,Z){const me=[...x,Z];this._log(`| Resolving ${me}`);const Ee=this._map.get(me[0]);if(Ee===void 0)return this._log("\\ No keybinding entries."),jn;let Ue=null;if(me.length<2)Ue=Ee;else{Ue=[];for(let Rt=0,Ut=Ee.length;Rt<Ut;Rt++){const Qt=Ee[Rt];if(me.length>Qt.chords.length)continue;let Li=!0;for(let Zi=1;Zi<me.length;Zi++)if(Qt.chords[Zi]!==me[Zi]){Li=!1;break}Li&&Ue.push(Qt)}}const Je=this._findCommand(s,Ue);return Je?me.length<Je.chords.length?(this._log(`\\ From ${Ue.length} keybinding entries, awaiting ${Je.chords.length-me.length} more chord(s), when: ${Ds(Je.when)}, source: ${zs(Je)}.`),Es):(this._log(`\\ From ${Ue.length} keybinding entries, matched ${Je.command}, when: ${Ds(Je.when)}, source: ${zs(Je)}.`),_s(Je.command,Je.commandArgs,Je.bubble)):(this._log(`\\ From ${Ue.length} keybinding entries, no when clauses matched the context.`),jn)}_findCommand(s,x){for(let Z=x.length-1;Z>=0;Z--){const me=x[Z];if(Qn._contextMatchesRules(s,me.when))return me}return null}static _contextMatchesRules(s,x){return x?x.evaluate(s):!0}}function Ds(Xe){return Xe?`${Xe.serialize()}`:"no when condition"}function zs(Xe){return Xe.extensionId?Xe.isBuiltinExtension?`built-in extension ${Xe.extensionId}`:`user extension ${Xe.extensionId}`:Xe.isDefault?"built-in":"user"}const ao=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class yr extends Ae.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:re.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(s,x,Z,me,Ee){super(),this._contextKeyService=s,this._commandService=x,this._telemetryService=Z,this._notificationService=me,this._logService=Ee,this._onDidUpdateKeybindings=this._register(new re.Q5),this._currentChords=[],this._currentChordChecker=new rs.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=ws.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new rs._F,this._logging=!1}dispose(){super.dispose()}_log(s){this._logging&&this._logService.info(`[KeybindingService]: ${s}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(s,x){const Z=this._getResolver().lookupPrimaryKeybinding(s,x||this._contextKeyService);if(Z)return Z.resolvedKeybinding}dispatchEvent(s,x){return this._dispatch(s,x)}softDispatch(s,x){this._log("/ Soft dispatching keyboard event");const Z=this.resolveKeyboardEvent(s);if(Z.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),jn;const[me]=Z.getDispatchChords();if(me===null)return this._log("\\ Keyboard event cannot be dispatched"),jn;const Ee=this._contextKeyService.getContext(x),Ue=this._currentChords.map(({keypress:Je})=>Je);return this._getResolver().resolve(Ee,Ue,me)}_scheduleLeaveChordMode(){const s=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-s>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(s,x){switch(this._currentChords.push({keypress:s,label:x}),this._currentChords.length){case 0:throw(0,ui.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(Ri.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",x));break;default:{const Z=this._currentChords.map(({label:me})=>me).join(", ");this._currentChordStatusMessage=this._notificationService.status(Ri.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",Z))}}this._scheduleLeaveChordMode(),Ys.F.enabled&&Ys.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],Ys.F.enable()}_dispatch(s,x){return this._doDispatch(this.resolveKeyboardEvent(s),x,!1)}_singleModifierDispatch(s,x){const Z=this.resolveKeyboardEvent(s),[me]=Z.getSingleModifierDispatchChords();if(me)return this._ignoreSingleModifiers.has(me)?(this._log(`+ Ignoring single modifier ${me} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=ws.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=ws.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${me}.`),this._currentSingleModifier=me,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):me===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${me} ${me}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Z,x,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${me}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[Ee]=Z.getChords();return this._ignoreSingleModifiers=new ws(Ee),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(s,x,Z=!1){var me;let Ee=!1;if(s.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Ue=null,Je=null;if(Z){const[Li]=s.getSingleModifierDispatchChords();Ue=Li,Je=Li?[Li]:[]}else[Ue]=s.getDispatchChords(),Je=this._currentChords.map(({keypress:Li})=>Li);if(Ue===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Ee;const Rt=this._contextKeyService.getContext(x),Ut=s.getLabel(),Qt=this._getResolver().resolve(Rt,Je,Ue);switch(Qt.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",Ut,"[ No matching keybinding ]"),this.inChordMode){const Li=this._currentChords.map(({label:Zi})=>Zi).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${Li}, ${Ut}".`),this._notificationService.status(Ri.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Li,Ut),{hideAfter:10*1e3}),this._leaveChordMode(),Ee=!0}return Ee}case 1:return this._logService.trace("KeybindingService#dispatch",Ut,"[ Several keybindings match - more chords needed ]"),Ee=!0,this._expectAnotherChord(Ue,Ut),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),Ee;case 2:{if(this._logService.trace("KeybindingService#dispatch",Ut,`[ Will dispatch command ${Qt.commandId} ]`),Qt.commandId===null||Qt.commandId===""){if(this.inChordMode){const Li=this._currentChords.map(({label:Zi})=>Zi).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${Li}, ${Ut}".`),this._notificationService.status(Ri.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Li,Ut),{hideAfter:10*1e3}),this._leaveChordMode(),Ee=!0}}else this.inChordMode&&this._leaveChordMode(),Qt.isBubble||(Ee=!0),this._log(`+ Invoking command ${Qt.commandId}.`),typeof Qt.commandArgs=="undefined"?this._commandService.executeCommand(Qt.commandId).then(void 0,Li=>this._notificationService.warn(Li)):this._commandService.executeCommand(Qt.commandId,Qt.commandArgs).then(void 0,Li=>this._notificationService.warn(Li)),ao.test(Qt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Qt.commandId,from:"keybinding",detail:(me=s.getUserSettingsLabel())!==null&&me!==void 0?me:void 0});return Ee}}}mightProducePrintableCharacter(s){return s.ctrlKey||s.metaKey?!1:s.keyCode>=31&&s.keyCode<=56||s.keyCode>=21&&s.keyCode<=30}}class ws{constructor(s){this._ctrlKey=s?s.ctrlKey:!1,this._shiftKey=s?s.shiftKey:!1,this._altKey=s?s.altKey:!1,this._metaKey=s?s.metaKey:!1}has(s){switch(s){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}ws.EMPTY=new ws(null);var $s=e(91847),Qo=e(49989);class La{constructor(s,x,Z,me,Ee,Ue,Je){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=s,this.chords=s?Fo(s.getDispatchChords()):[],s&&this.chords.length===0&&(this.chords=Fo(s.getSingleModifierDispatchChords())),this.bubble=x?x.charCodeAt(0)===94:!1,this.command=this.bubble?x.substr(1):x,this.commandArgs=Z,this.when=me,this.isDefault=Ee,this.extensionId=Ue,this.isBuiltinExtension=Je}}function Fo(Xe){const s=[];for(let x=0,Z=Xe.length;x<Z;x++){const me=Xe[x];if(!me)return[];s.push(me)}return s}var cr=e(22258),Lo=e(8030);class dr extends _t.f1{constructor(s,x){if(super(),x.length===0)throw(0,ui.b1)("chords");this._os=s,this._chords=x}getLabel(){return Lo.xo.toLabel(this._os,this._chords,s=>this._getLabel(s))}getAriaLabel(){return Lo.X4.toLabel(this._os,this._chords,s=>this._getAriaLabel(s))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:Lo.jC.toLabel(this._os,this._chords,s=>this._getElectronAccelerator(s))}getUserSettingsLabel(){return Lo.r6.toLabel(this._os,this._chords,s=>this._getUserSettingsLabel(s))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(s=>this._getChord(s))}_getChord(s){return new _t.aZ(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,this._getLabel(s),this._getAriaLabel(s))}getDispatchChords(){return this._chords.map(s=>this._getChordDispatch(s))}getSingleModifierDispatchChords(){return this._chords.map(s=>this._getSingleModifierChordDispatch(s))}}class Sr extends dr{constructor(s,x){super(x,s)}_keyCodeToUILabel(s){if(this._os===2)switch(s){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return cr.kL.toString(s)}_getLabel(s){return s.isDuplicateModifierCase()?"":this._keyCodeToUILabel(s.keyCode)}_getAriaLabel(s){return s.isDuplicateModifierCase()?"":cr.kL.toString(s.keyCode)}_getElectronAccelerator(s){return cr.kL.toElectronAccelerator(s.keyCode)}_getUserSettingsLabel(s){if(s.isDuplicateModifierCase())return"";const x=cr.kL.toUserSettingsUS(s.keyCode);return x&&x.toLowerCase()}_getChordDispatch(s){return Sr.getDispatchStr(s)}static getDispatchStr(s){if(s.isModifierKey())return null;let x="";return s.ctrlKey&&(x+="ctrl+"),s.shiftKey&&(x+="shift+"),s.altKey&&(x+="alt+"),s.metaKey&&(x+="meta+"),x+=cr.kL.toString(s.keyCode),x}_getSingleModifierChordDispatch(s){return s.keyCode===5&&!s.shiftKey&&!s.altKey&&!s.metaKey?"ctrl":s.keyCode===4&&!s.ctrlKey&&!s.altKey&&!s.metaKey?"shift":s.keyCode===6&&!s.ctrlKey&&!s.shiftKey&&!s.metaKey?"alt":s.keyCode===57&&!s.ctrlKey&&!s.shiftKey&&!s.altKey?"meta":null}static _scanCodeToKeyCode(s){const x=cr.Vd[s];if(x!==-1)return x;switch(s){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(s){if(!s)return null;if(s instanceof _t.$M)return s;const x=this._scanCodeToKeyCode(s.scanCode);return x===0?null:new _t.$M(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,x)}static resolveKeybinding(s,x){const Z=Fo(s.chords.map(me=>this._toKeyCodeChord(me)));return Z.length>0?[new Sr(Z,x)]:[]}}var Gr=e(44349),Us=e(90535),Bo=e(10829),lo=e(40382),Wo=e(20913),Eo=e(95935),wr=e(33425),Ho=e(5606),Zr=e(10161),Ea=e(61134);function Ps(Xe){const s=Xe;return!!s&&typeof s.x=="number"&&typeof s.y=="number"}var Os;(function(Xe){Xe[Xe.AVOID=0]="AVOID",Xe[Xe.ALIGN=1]="ALIGN"})(Os||(Os={}));function Yo(Xe,s,x){const Z=x.mode===Os.ALIGN?x.offset:x.offset+x.size,me=x.mode===Os.ALIGN?x.offset+x.size:x.offset;return x.position===0?s<=Xe-Z?Z:s<=me?me-s:Math.max(Xe-s,0):s<=me?me-s:s<=Xe-Z?Z:0}class xo extends Ae.JT{constructor(s,x){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=Ae.JT.None,this.toDisposeOnSetContainer=Ae.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ee.$(".context-view"),ee.Cp(this.view),this.setContainer(s,x),this._register((0,Ae.OF)(()=>this.setContainer(null,1)))}setContainer(s,x){var Z;this.useFixedPosition=x!==1;const me=this.useShadowDOM;if(this.useShadowDOM=x===3,!(s===this.container&&me!==this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(Z=this.shadowRootHostElement)===null||Z===void 0||Z.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),s)){if(this.container=s,this.useShadowDOM){this.shadowRootHostElement=ee.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Ue=document.createElement("style");Ue.textContent=ur,this.shadowRoot.appendChild(Ue),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ee.$("slot"))}else this.container.appendChild(this.view);const Ee=new Ae.SL;xo.BUBBLE_UP_EVENTS.forEach(Ue=>{Ee.add(ee.mu(this.container,Ue,Je=>{this.onDOMEvent(Je,!1)}))}),xo.BUBBLE_DOWN_EVENTS.forEach(Ue=>{Ee.add(ee.mu(this.container,Ue,Je=>{this.onDOMEvent(Je,!0)},!0))}),this.toDisposeOnSetContainer=Ee}}show(s){var x,Z;this.isVisible()&&this.hide(),ee.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ee.$Z(this.view),this.toDisposeOnClean=s.render(this.view)||Ae.JT.None,this.delegate=s,this.doLayout(),(Z=(x=this.delegate).focus)===null||Z===void 0||Z.call(x)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(st.gn&&Zr.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const s=this.delegate.getAnchor();let x;if(s instanceof HTMLElement){const Zi=ee.i(s),qi=ee.I8(s);x={top:Zi.top*qi,left:Zi.left*qi,width:Zi.width*qi,height:Zi.height*qi}}else Ps(s)?x={top:s.y,left:s.x,width:s.width||1,height:s.height||2}:x={top:s.posy,left:s.posx,width:2,height:2};const Z=ee.w(this.view),me=ee.wn(this.view),Ee=this.delegate.anchorPosition||0,Ue=this.delegate.anchorAlignment||0,Je=this.delegate.anchorAxisAlignment||0;let Rt,Ut;const Qt=ee.WN();if(Je===0){const Zi={offset:x.top-Qt.pageYOffset,size:x.height,position:Ee===0?0:1},qi={offset:x.left,size:x.width,position:Ue===0?0:1,mode:Os.ALIGN};Rt=Yo(Qt.innerHeight,me,Zi)+Qt.pageYOffset,Ea.e.intersects({start:Rt,end:Rt+me},{start:Zi.offset,end:Zi.offset+Zi.size})&&(qi.mode=Os.AVOID),Ut=Yo(Qt.innerWidth,Z,qi)}else{const Zi={offset:x.left,size:x.width,position:Ue===0?0:1},qi={offset:x.top,size:x.height,position:Ee===0?0:1,mode:Os.ALIGN};Ut=Yo(Qt.innerWidth,Z,Zi),Ea.e.intersects({start:Ut,end:Ut+Z},{start:Zi.offset,end:Zi.offset+Zi.size})&&(qi.mode=Os.AVOID),Rt=Yo(Qt.innerHeight,me,qi)+Qt.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(Ee===0?"bottom":"top"),this.view.classList.add(Ue===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Li=ee.i(this.container);this.view.style.top=`${Rt-(this.useFixedPosition?ee.i(this.view).top:Li.top)}px`,this.view.style.left=`${Ut-(this.useFixedPosition?ee.i(this.view).left:Li.left)}px`,this.view.style.width="initial"}hide(s){const x=this.delegate;this.delegate=null,x!=null&&x.onHide&&x.onHide(s),this.toDisposeOnClean.dispose(),ee.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(s,x){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(s,ee.Jj(s).document.activeElement):x&&!ee.jg(s.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}xo.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],xo.BUBBLE_DOWN_EVENTS=["click"];const ur=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Qr=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Yr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Or=class extends Ae.JT{constructor(s){super(),this.layoutService=s,this.currentViewDisposable=Ae.JT.None,this.contextView=this._register(new xo(this.layoutService.mainContainer,1)),this.layout(),this._register(s.onDidLayoutContainer(()=>this.layout()))}showContextView(s,x,Z){let me;x?x===this.layoutService.getContainer((0,ee.Jj)(x))?me=1:Z?me=3:me=2:me=1,this.contextView.setContainer(x!=null?x:this.layoutService.activeContainer,me),this.contextView.show(s);const Ee=(0,Ae.OF)(()=>{this.currentViewDisposable===Ee&&this.hideContextView()});return this.currentViewDisposable=Ee,Ee}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(s){this.contextView.hide(s)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=Ae.JT.None}};Or=Qr([Yr(0,Nt)],Or);var Ar=e(14118),hr=e(81170),Xr=e(82663);let Xo=[],kr=[],Jr=[];function Co(Xe,s=!1){go(Xe,!1,s)}function go(Xe,s,x){const Z=Vn(Xe,s);Xo.push(Z),Z.userConfigured?Jr.push(Z):kr.push(Z),x&&!Z.userConfigured&&Xo.forEach(me=>{me.mime===Z.mime||me.userConfigured||(Z.extension&&me.extension===Z.extension&&console.warn(`Overwriting extension <<${Z.extension}>> to now point to mime <<${Z.mime}>>`),Z.filename&&me.filename===Z.filename&&console.warn(`Overwriting filename <<${Z.filename}>> to now point to mime <<${Z.mime}>>`),Z.filepattern&&me.filepattern===Z.filepattern&&console.warn(`Overwriting filepattern <<${Z.filepattern}>> to now point to mime <<${Z.mime}>>`),Z.firstline&&me.firstline===Z.firstline&&console.warn(`Overwriting firstline <<${Z.firstline}>> to now point to mime <<${Z.mime}>>`))})}function Vn(Xe,s){return{id:Xe.id,mime:Xe.mime,filename:Xe.filename,extension:Xe.extension,filepattern:Xe.filepattern,firstline:Xe.firstline,userConfigured:s,filenameLowercase:Xe.filename?Xe.filename.toLowerCase():void 0,extensionLowercase:Xe.extension?Xe.extension.toLowerCase():void 0,filepatternLowercase:Xe.filepattern?(0,Ar.Qc)(Xe.filepattern.toLowerCase()):void 0,filepatternOnPath:Xe.filepattern?Xe.filepattern.indexOf(Xr.KR.sep)>=0:!1}}function jo(){Xo=Xo.filter(Xe=>Xe.userConfigured),kr=[]}function qr(Xe,s){return ea(Xe,s).map(x=>x.id)}function ea(Xe,s){let x;if(Xe)switch(Xe.scheme){case de.lg.file:x=Xe.fsPath;break;case de.lg.data:{x=Eo.Vb.parseMetaData(Xe).get(Eo.Vb.META_DATA_LABEL);break}case de.lg.vscodeNotebookCell:x=void 0;break;default:x=Xe.path}if(!x)return[{id:"unknown",mime:hr.v.unknown}];x=x.toLowerCase();const Z=(0,Xr.EZ)(x),me=mo(x,Z,Jr);if(me)return[me,{id:St.bd,mime:hr.v.text}];const Ee=mo(x,Z,kr);if(Ee)return[Ee,{id:St.bd,mime:hr.v.text}];if(s){const Ue=Jo(s);if(Ue)return[Ue,{id:St.bd,mime:hr.v.text}]}return[{id:"unknown",mime:hr.v.unknown}]}function mo(Xe,s,x){var Z;let me,Ee,Ue;for(let Je=x.length-1;Je>=0;Je--){const Rt=x[Je];if(s===Rt.filenameLowercase){me=Rt;break}if(Rt.filepattern&&(!Ee||Rt.filepattern.length>Ee.filepattern.length)){const Ut=Rt.filepatternOnPath?Xe:s;!((Z=Rt.filepatternLowercase)===null||Z===void 0)&&Z.call(Rt,Ut)&&(Ee=Rt)}Rt.extension&&(!Ue||Rt.extension.length>Ue.extension.length)&&s.endsWith(Rt.extensionLowercase)&&(Ue=Rt)}if(me)return me;if(Ee)return Ee;if(Ue)return Ue}function Jo(Xe){if((0,Qe.uS)(Xe)&&(Xe=Xe.substr(1)),Xe.length>0)for(let s=Xo.length-1;s>=0;s--){const x=Xo[s];if(!x.firstline)continue;const Z=Xe.match(x.firstline);if(Z&&Z.length>0)return x}}const qo=Object.prototype.hasOwnProperty,Fr="vs.editor.nullLanguage";class ds{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Fr,0),this._register(St.bd,1),this._nextLanguageId=2}_register(s,x){this._languageIdToLanguage[x]=s,this._languageToLanguageId.set(s,x)}register(s){if(this._languageToLanguageId.has(s))return;const x=this._nextLanguageId++;this._register(s,x)}encodeLanguageId(s){return this._languageToLanguageId.get(s)||0}decodeLanguageId(s){return this._languageIdToLanguage[s]||Fr}}class ms extends Ae.JT{constructor(s=!0,x=!1){super(),this._onDidChange=this._register(new re.Q5),this.onDidChange=this._onDidChange.event,ms.instanceCount++,this._warnOnOverwrite=x,this.languageIdCodec=new ds,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},s&&(this._initializeFromRegistry(),this._register(St.dQ.onDidChangeLanguages(Z=>{this._initializeFromRegistry()})))}dispose(){ms.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},jo();const s=[].concat(St.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(s)}_registerLanguages(s){for(const x of s)this._registerLanguage(x);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(x=>{const Z=this._languages[x];Z.name&&(this._nameMap[Z.name]=Z.identifier),Z.aliases.forEach(me=>{this._lowercaseNameMap[me.toLowerCase()]=Z.identifier}),Z.mimetypes.forEach(me=>{this._mimeTypesMap[me]=Z.identifier})}),dn.B.as(cn.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(s){const x=s.id;let Z;qo.call(this._languages,x)?Z=this._languages[x]:(this.languageIdCodec.register(x),Z={identifier:x,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[x]=Z),this._mergeLanguage(Z,s)}_mergeLanguage(s,x){const Z=x.id;let me=null;if(Array.isArray(x.mimetypes)&&x.mimetypes.length>0&&(s.mimetypes.push(...x.mimetypes),me=x.mimetypes[0]),me||(me=`text/x-${Z}`,s.mimetypes.push(me)),Array.isArray(x.extensions)){x.configuration?s.extensions=x.extensions.concat(s.extensions):s.extensions=s.extensions.concat(x.extensions);for(const Je of x.extensions)Co({id:Z,mime:me,extension:Je},this._warnOnOverwrite)}if(Array.isArray(x.filenames))for(const Je of x.filenames)Co({id:Z,mime:me,filename:Je},this._warnOnOverwrite),s.filenames.push(Je);if(Array.isArray(x.filenamePatterns))for(const Je of x.filenamePatterns)Co({id:Z,mime:me,filepattern:Je},this._warnOnOverwrite);if(typeof x.firstLine=="string"&&x.firstLine.length>0){let Je=x.firstLine;Je.charAt(0)!=="^"&&(Je="^"+Je);try{const Rt=new RegExp(Je);(0,Qe.IO)(Rt)||Co({id:Z,mime:me,firstline:Rt},this._warnOnOverwrite)}catch(Rt){console.warn(`[${x.id}]: Invalid regular expression \`${Je}\`: `,Rt)}}s.aliases.push(Z);let Ee=null;if(typeof x.aliases!="undefined"&&Array.isArray(x.aliases)&&(x.aliases.length===0?Ee=[null]:Ee=x.aliases),Ee!==null)for(const Je of Ee)!Je||Je.length===0||s.aliases.push(Je);const Ue=Ee!==null&&Ee.length>0;if(!(Ue&&Ee[0]===null)){const Je=(Ue?Ee[0]:null)||Z;(Ue||!s.name)&&(s.name=Je)}x.configuration&&s.configurationFiles.push(x.configuration),x.icon&&s.icons.push(x.icon)}isRegisteredLanguageId(s){return s?qo.call(this._languages,s):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(s){const x=s.toLowerCase();return qo.call(this._lowercaseNameMap,x)?this._lowercaseNameMap[x]:null}getLanguageIdByMimeType(s){return s&&qo.call(this._mimeTypesMap,s)?this._mimeTypesMap[s]:null}guessLanguageIdByFilepathOrFirstLine(s,x){return!s&&!x?[]:qr(s,x)}}ms.instanceCount=0;class As extends Ae.JT{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new re.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new re.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new re.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,As.instanceCount++,this._registry=this._register(new ms(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){As.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,x){const Z=this._registry.guessLanguageIdByFilepathOrFirstLine(s,x);return(0,Et.Xh)(Z,null)}createById(s){return new ks(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,x){return new ks(this.onDidChange,()=>{const Z=this.guessLanguageIdByFilepathOrFirstLine(s,x);return this._createAndGetLanguageIdentifier(Z)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=St.bd),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),Bt.RW.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}As.instanceCount=0;class ks{constructor(s,x){this._onDidChangeLanguages=s,this._selector=x,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new re.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const x=this._selector();x!==this.languageId&&(this.languageId=x,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}var Fs=e(74741),oo=e(80677),Ns=e(84144),bo=e(7317),ta=e(16268),Ko=e(10553),Lr=e(90317),tl=e(41923),Er=e(59740),Vo=e(73046),Br=e(25670),uo=e(21212);const ia=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,xa=/(&amp;)?(&amp;)([^\s&])/g;var xr;(function(Xe){Xe[Xe.Right=0]="Right",Xe[Xe.Left=1]="Left"})(xr||(xr={}));class Dr extends Lr.o{constructor(s,x,Z,me){s.classList.add("monaco-menu-container"),s.setAttribute("role","presentation");const Ee=document.createElement("div");Ee.classList.add("monaco-menu"),Ee.setAttribute("role","presentation"),super(Ee,{orientation:1,actionViewItemProvider:Ut=>this.doGetActionViewItem(Ut,Z,Ue),context:Z.context,actionRunner:Z.actionRunner,ariaLabel:Z.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...st.dz||st.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=me,this.menuElement=Ee,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(s,me),this._register(Ko.o.addTarget(Ee)),this._register((0,ee.nm)(Ee,ee.tw.KEY_DOWN,Ut=>{new dt.y(Ut).equals(2)&&Ut.preventDefault()})),Z.enableMnemonics&&this._register((0,ee.nm)(Ee,ee.tw.KEY_DOWN,Ut=>{const Qt=Ut.key.toLocaleLowerCase();if(this.mnemonics.has(Qt)){ee.zB.stop(Ut,!0);const Li=this.mnemonics.get(Qt);if(Li.length===1&&(Li[0]instanceof Ia&&Li[0].container&&this.focusItemByElement(Li[0].container),Li[0].onClick(Ut)),Li.length>1){const Zi=Li.shift();Zi&&Zi.container&&(this.focusItemByElement(Zi.container),Li.push(Zi)),this.mnemonics.set(Qt,Li)}}})),st.IJ&&this._register((0,ee.nm)(Ee,ee.tw.KEY_DOWN,Ut=>{const Qt=new dt.y(Ut);Qt.equals(14)||Qt.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ee.zB.stop(Ut,!0)):(Qt.equals(13)||Qt.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ee.zB.stop(Ut,!0))})),this._register((0,ee.nm)(this.domNode,ee.tw.MOUSE_OUT,Ut=>{const Qt=Ut.relatedTarget;(0,ee.jg)(Qt,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Ut.stopPropagation())})),this._register((0,ee.nm)(this.actionsList,ee.tw.MOUSE_OVER,Ut=>{let Qt=Ut.target;if(!(!Qt||!(0,ee.jg)(Qt,this.actionsList)||Qt===this.actionsList)){for(;Qt.parentElement!==this.actionsList&&Qt.parentElement!==null;)Qt=Qt.parentElement;if(Qt.classList.contains("action-item")){const Li=this.focusedItem;this.setFocusedItem(Qt),Li!==this.focusedItem&&this.updateFocus()}}})),this._register(Ko.o.addTarget(this.actionsList)),this._register((0,ee.nm)(this.actionsList,Ko.t.Tap,Ut=>{let Qt=Ut.initialTarget;if(!(!Qt||!(0,ee.jg)(Qt,this.actionsList)||Qt===this.actionsList)){for(;Qt.parentElement!==this.actionsList&&Qt.parentElement!==null;)Qt=Qt.parentElement;if(Qt.classList.contains("action-item")){const Li=this.focusedItem;this.setFocusedItem(Qt),Li!==this.focusedItem&&this.updateFocus()}}}));const Ue={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Er.s$(Ee,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Je=this.scrollableElement.getDomNode();Je.style.position="",this.styleScrollElement(Je,me),this._register((0,ee.nm)(Ee,Ko.t.Change,Ut=>{ee.zB.stop(Ut,!0);const Qt=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Qt-Ut.translationY})})),this._register((0,ee.nm)(Je,ee.tw.MOUSE_UP,Ut=>{Ut.preventDefault()}));const Rt=(0,ee.Jj)(s);Ee.style.maxHeight=`${Math.max(10,Rt.innerHeight-s.getBoundingClientRect().top-35)}px`,x=x.filter(Ut=>{var Qt;return!((Qt=Z.submenuIds)===null||Qt===void 0)&&Qt.has(Ut.id)?(console.warn(`Found submenu cycle: ${Ut.id}`),!1):!0}),this.push(x,{icon:!0,label:!0,isMenu:!0}),s.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Ut=>!(Ut instanceof il)).forEach((Ut,Qt,Li)=>{Ut.updatePositionInSet(Qt+1,Li.length)})}initializeOrUpdateStyleSheet(s,x){this.styleSheet||((0,ee.OO)(s)?this.styleSheet=(0,ee.dS)(s):(Dr.globalStyleSheet||(Dr.globalStyleSheet=(0,ee.dS)()),this.styleSheet=Dr.globalStyleSheet)),this.styleSheet.textContent=sl(x,(0,ee.OO)(s))}styleScrollElement(s,x){var Z,me;const Ee=(Z=x.foregroundColor)!==null&&Z!==void 0?Z:"",Ue=(me=x.backgroundColor)!==null&&me!==void 0?me:"",Je=x.borderColor?`1px solid ${x.borderColor}`:"",Rt="5px",Ut=x.shadowColor?`0 2px 8px ${x.shadowColor}`:"";s.style.outline=Je,s.style.borderRadius=Rt,s.style.color=Ee,s.style.backgroundColor=Ue,s.style.boxShadow=Ut}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(s){const x=this.focusedItem;this.setFocusedItem(s),x!==this.focusedItem&&this.updateFocus()}setFocusedItem(s){for(let x=0;x<this.actionsList.children.length;x++){const Z=this.actionsList.children[x];if(s===Z){this.focusedItem=x;break}}}updateFocus(s){super.updateFocus(s,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(s,x,Z){if(s instanceof Fs.Z0)return new il(x.context,s,{icon:!0},this.menuStyles);if(s instanceof Fs.wY){const me=new Ia(s,s.actions,Z,Ln(Xi({},x),{submenuIds:new Set([...x.submenuIds||[],s.id])}),this.menuStyles);if(x.enableMnemonics){const Ee=me.getMnemonic();if(Ee&&me.isEnabled()){let Ue=[];this.mnemonics.has(Ee)&&(Ue=this.mnemonics.get(Ee)),Ue.push(me),this.mnemonics.set(Ee,Ue)}}return me}else{const me={enableMnemonics:x.enableMnemonics,useEventAsContext:x.useEventAsContext};if(x.getKeyBinding){const Ue=x.getKeyBinding(s);if(Ue){const Je=Ue.getLabel();Je&&(me.keybinding=Je)}}const Ee=new Da(x.context,s,me,this.menuStyles);if(x.enableMnemonics){const Ue=Ee.getMnemonic();if(Ue&&Ee.isEnabled()){let Je=[];this.mnemonics.has(Ue)&&(Je=this.mnemonics.get(Ue)),Je.push(Ee),this.mnemonics.set(Ue,Je)}}return Ee}}}class Da extends tl.YH{constructor(s,x,Z,me){if(Z.isMenu=!0,super(x,x,Z),this.menuStyle=me,this.options=Z,this.options.icon=Z.icon!==void 0?Z.icon:!1,this.options.label=Z.label!==void 0?Z.label:!0,this.cssClass="",this.options.label&&Z.enableMnemonics){const Ee=this.action.label;if(Ee){const Ue=ia.exec(Ee);Ue&&(this.mnemonic=(Ue[1]?Ue[1]:Ue[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new rs.pY(()=>{this.element&&(this._register((0,ee.nm)(this.element,ee.tw.MOUSE_UP,Ee=>{if(ee.zB.stop(Ee,!0),ta.vU){if(new bo.n((0,ee.Jj)(this.element),Ee).rightButton)return;this.onClick(Ee)}else setTimeout(()=>{this.onClick(Ee)},0)})),this._register((0,ee.nm)(this.element,ee.tw.CONTEXT_MENU,Ee=>{ee.zB.stop(Ee,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(s){super.render(s),this.element&&(this.container=s,this.item=(0,ee.R3)(this.element,(0,ee.$)("a.action-menu-item")),this._action.id===Fs.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ee.R3)(this.item,(0,ee.$)("span.menu-item-check"+Br.k.asCSSSelector(Vo.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,ee.R3)(this.item,(0,ee.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ee.R3)(this.item,(0,ee.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var s;super.focus(),(s=this.item)===null||s===void 0||s.focus(),this.applyStyle()}updatePositionInSet(s,x){this.item&&(this.item.setAttribute("aria-posinset",`${s}`),this.item.setAttribute("aria-setsize",`${x}`))}updateLabel(){var s;if(this.label&&this.options.label){(0,ee.PO)(this.label);let x=(0,uo.x$)(this.action.label);if(x){const Z=Pl(x);this.options.enableMnemonics||(x=Z),this.label.setAttribute("aria-label",Z.replace(/&&/g,"&"));const me=ia.exec(x);if(me){x=Qe.YU(x),xa.lastIndex=0;let Ee=xa.exec(x);for(;Ee&&Ee[1];)Ee=xa.exec(x);const Ue=Je=>Je.replace(/&amp;&amp;/g,"&amp;");Ee?this.label.append(Qe.j3(Ue(x.substr(0,Ee.index))," "),(0,ee.$)("u",{"aria-hidden":"true"},Ee[3]),Qe.oL(Ue(x.substr(Ee.index+Ee[0].length))," ")):this.label.innerText=Ue(x).trim(),(s=this.item)===null||s===void 0||s.setAttribute("aria-keyshortcuts",(me[1]?me[1]:me[3]).toLocaleLowerCase())}else this.label.innerText=x.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const s=this.action.checked;this.item.classList.toggle("checked",!!s),s!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",s?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const s=this.element&&this.element.classList.contains("focused"),x=s&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,Z=s&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,me=s&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Ee=s&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=x!=null?x:"",this.item.style.backgroundColor=Z!=null?Z:"",this.item.style.outline=me,this.item.style.outlineOffset=Ee),this.check&&(this.check.style.color=x!=null?x:"")}}class Ia extends Da{constructor(s,x,Z,me,Ee){super(s,s,me,Ee),this.submenuActions=x,this.parentData=Z,this.submenuOptions=me,this.mysubmenu=null,this.submenuDisposables=this._register(new Ae.SL),this.mouseOver=!1,this.expandDirection=me&&me.expandDirection!==void 0?me.expandDirection:xr.Right,this.showScheduler=new rs.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new rs.pY(()=>{this.element&&!(0,ee.jg)((0,ee.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(s){super.render(s),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ee.R3)(this.item,(0,ee.$)("span.submenu-indicator"+Br.k.asCSSSelector(Vo.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ee.nm)(this.element,ee.tw.KEY_UP,x=>{const Z=new dt.y(x);(Z.equals(17)||Z.equals(3))&&(ee.zB.stop(x,!0),this.createSubmenu(!0))})),this._register((0,ee.nm)(this.element,ee.tw.KEY_DOWN,x=>{const Z=new dt.y(x);(0,ee.vY)()===this.item&&(Z.equals(17)||Z.equals(3))&&ee.zB.stop(x,!0)})),this._register((0,ee.nm)(this.element,ee.tw.MOUSE_OVER,x=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ee.nm)(this.element,ee.tw.MOUSE_LEAVE,x=>{this.mouseOver=!1})),this._register((0,ee.nm)(this.element,ee.tw.FOCUS_OUT,x=>{this.element&&!(0,ee.jg)((0,ee.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(s){ee.zB.stop(s,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(s){if(this.parentData.submenu&&(s||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(x){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(s,x,Z,me){const Ee={top:0,left:0};return Ee.left=Yo(s.width,x.width,{position:me===xr.Right?0:1,offset:Z.left,size:Z.width}),Ee.left>=Z.left&&Ee.left<Z.left+Z.width&&(Z.left+10+x.width<=s.width&&(Ee.left=Z.left+10),Z.top+=10,Z.height=0),Ee.top=Yo(s.height,x.height,{position:0,offset:Z.top,size:0}),Ee.top+x.height===Z.top&&Ee.top+Z.height+x.height<=s.height&&(Ee.top+=Z.height),Ee}createSubmenu(s=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ee.R3)(this.element,(0,ee.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const x=(0,ee.Jj)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),Z=parseFloat(x.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Dr(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Fs.eZ],this.submenuOptions,this.menuStyle);const me=this.element.getBoundingClientRect(),Ee={top:me.top-Z,left:me.left,height:me.height+2*Z,width:me.width},Ue=this.submenuContainer.getBoundingClientRect(),Je=(0,ee.Jj)(this.element),{top:Rt,left:Ut}=this.calculateSubmenuMenuLayout(new ee.Ro(Je.innerWidth,Je.innerHeight),ee.Ro.lift(Ue),Ee,this.expandDirection);this.submenuContainer.style.left=`${Ut-Ue.left}px`,this.submenuContainer.style.top=`${Rt-Ue.top}px`,this.submenuDisposables.add((0,ee.nm)(this.submenuContainer,ee.tw.KEY_UP,Qt=>{new dt.y(Qt).equals(15)&&(ee.zB.stop(Qt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ee.nm)(this.submenuContainer,ee.tw.KEY_DOWN,Qt=>{new dt.y(Qt).equals(15)&&ee.zB.stop(Qt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(s),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(s){var x;this.item&&((x=this.item)===null||x===void 0||x.setAttribute("aria-expanded",s))}applyStyle(){super.applyStyle();const x=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=x!=null?x:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class il extends tl.gU{constructor(s,x,Z,me){super(s,x,Z),this.menuStyles=me}render(s){super.render(s),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Pl(Xe){const s=ia,x=s.exec(Xe);if(!x)return Xe;const Z=!x[1];return Xe.replace(s,Z?"$2$3":"").trim()}function nl(Xe){const s=(0,Vo.u)()[Xe.id];return`.codicon-${Xe.id}:before { content: '\\${s.toString(16)}'; }`}function sl(Xe,s){let x=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${nl(Vo.l.menuSelection)}
${nl(Vo.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(s){x+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const Z=Xe.scrollbarShadow;Z&&(x+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${Z} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${Z} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${Z} 6px 6px 6px -6px inset;
				}
			`);const me=Xe.scrollbarSliderBackground;me&&(x+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${me};
				}
			`);const Ee=Xe.scrollbarSliderHoverBackground;Ee&&(x+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${Ee};
				}
			`);const Ue=Xe.scrollbarSliderActiveBackground;Ue&&(x+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${Ue};
				}
			`)}return x}var $o=e(86253);class Na{constructor(s,x,Z,me){this.contextViewService=s,this.telemetryService=x,this.notificationService=Z,this.keybindingService=me,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const x=s.getActions();if(!x.length)return;this.focusToReturn=(0,ee.vY)();let Z;const me=s.domForShadowRoot instanceof HTMLElement?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:Ee=>{var Ue;this.lastContainer=Ee;const Je=s.getMenuClassName?s.getMenuClassName():"";Je&&(Ee.className+=" "+Je),this.options.blockMouse&&(this.block=Ee.appendChild((0,ee.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(Ue=this.blockDisposable)===null||Ue===void 0||Ue.dispose(),this.blockDisposable=(0,ee.nm)(this.block,ee.tw.MOUSE_DOWN,Li=>Li.stopPropagation()));const Rt=new Ae.SL,Ut=s.actionRunner||new Fs.Wi;Ut.onWillRun(Li=>this.onActionRun(Li,!s.skipTelemetry),this,Rt),Ut.onDidRun(this.onDidActionRun,this,Rt),Z=new Dr(Ee,x,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:Ut,getKeyBinding:s.getKeyBinding?s.getKeyBinding:Li=>this.keybindingService.lookupKeybinding(Li.id)},$o.ZR),Z.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,Rt),Z.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,Rt);const Qt=(0,ee.Jj)(Ee);return Rt.add((0,ee.nm)(Qt,ee.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),Rt.add((0,ee.nm)(Qt,ee.tw.MOUSE_DOWN,Li=>{if(Li.defaultPrevented)return;const Zi=new bo.n(Qt,Li);let qi=Zi.target;if(!Zi.rightButton){for(;qi;){if(qi===Ee)return;qi=qi.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Ae.F8)(Rt,Z)},focus:()=>{Z==null||Z.focus(!!s.autoSelectFirstItem)},onHide:Ee=>{var Ue,Je,Rt;(Ue=s.onHide)===null||Ue===void 0||Ue.call(s,!!Ee),this.block&&(this.block.remove(),this.block=null),(Je=this.blockDisposable)===null||Je===void 0||Je.dispose(),this.blockDisposable=null,this.lastContainer&&((0,ee.vY)()===this.lastContainer||(0,ee.jg)((0,ee.vY)(),this.lastContainer))&&((Rt=this.focusToReturn)===null||Rt===void 0||Rt.focus()),this.lastContainer=null}},me,!!me)}onActionRun(s,x){x&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,ui.n2)(s.error)&&this.notificationService.error(s.error)}}var Do=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Io=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let fr=class extends Ae.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Na(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(s,x,Z,me,Ee,Ue){super(),this.telemetryService=s,this.notificationService=x,this.contextViewService=Z,this.keybindingService=me,this.menuService=Ee,this.contextKeyService=Ue,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new re.Q5),this._onDidHideContextMenu=this._store.add(new re.Q5)}configure(s){this.contextMenuHandler.configure(s)}showContextMenu(s){s=gr.transform(s,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Ln(Xi({},s),{onHide:x=>{var Z;(Z=s.onHide)===null||Z===void 0||Z.call(s,x),this._onDidHideContextMenu.fire()}})),ee._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};fr=Do([Io(0,Bo.b),Io(1,gn.lT),Io(2,Ho.u),Io(3,$s.d),Io(4,Ns.co),Io(5,ut.i6)],fr);var gr;(function(Xe){function s(Z){return Z&&Z.menuId instanceof Ns.eH}function x(Z,me,Ee){if(!s(Z))return Z;const{menuId:Ue,menuActionOptions:Je,contextKeyService:Rt}=Z;return Ln(Xi({},Z),{getActions:()=>{const Ut=[];if(Ue){const Qt=me.createMenu(Ue,Rt!=null?Rt:Ee);(0,oo.LJ)(Qt,Je,Ut),Qt.dispose()}return Z.getActions?Fs.Z0.join(Z.getActions(),Ut):Ut}})}Xe.transform=x})(gr||(gr={}));var er=e(71050),ol=e(23897),tr;(function(Xe){Xe[Xe.API=0]="API",Xe[Xe.USER=1]="USER"})(tr||(tr={}));var na=e(50988),sa=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},oa=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Ta=class{constructor(s){this._commandService=s}open(s,x){return qt(this,null,function*(){if(!(0,de.xn)(s,de.lg.command))return!1;if(!(x!=null&&x.allowCommands)||(typeof s=="string"&&(s=rt.o.parse(s)),Array.isArray(x.allowCommands)&&!x.allowCommands.includes(s.path)))return!0;let Z=[];try{Z=(0,ol.Qc)(decodeURIComponent(s.query))}catch(me){try{Z=(0,ol.Qc)(s.query)}catch(Ee){}}return Array.isArray(Z)||(Z=[Z]),yield this._commandService.executeCommand(s.path,...Z),!0})}};Ta=sa([oa(0,oi.H)],Ta);let mr=class{constructor(s){this._editorService=s}open(s,x){return qt(this,null,function*(){typeof s=="string"&&(s=rt.o.parse(s));const{selection:Z,uri:me}=(0,na.x)(s);return s=me,s.scheme===de.lg.file&&(s=(0,Eo.AH)(s)),yield this._editorService.openCodeEditor({resource:s,options:Xi({selection:Z,source:x!=null&&x.fromUserGesture?tr.USER:tr.API},x==null?void 0:x.editorOptions)},this._editorService.getFocusedCodeEditor(),x==null?void 0:x.openToSide),!0})}};mr=sa([oa(0,vt.$)],mr);let Ma=class{constructor(s,x){this._openers=new Ce.S,this._validators=new Ce.S,this._resolvers=new Ce.S,this._resolvedUriTargets=new Ai.Y9(Z=>Z.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Ce.S,this._defaultExternalOpener={openExternal:Z=>qt(this,null,function*(){return(0,de.Gs)(Z,de.lg.http,de.lg.https)?ee.V3(Z):je.Ex.location.href=Z,!0})},this._openers.push({open:(Z,me)=>qt(this,null,function*(){return me!=null&&me.openExternal||(0,de.Gs)(Z,de.lg.mailto,de.lg.http,de.lg.https,de.lg.vsls)?(yield this._doOpenExternal(Z,me),!0):!1})}),this._openers.push(new Ta(x)),this._openers.push(new mr(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}open(s,x){return qt(this,null,function*(){var Z;const me=typeof s=="string"?rt.o.parse(s):s,Ee=(Z=this._resolvedUriTargets.get(me))!==null&&Z!==void 0?Z:s;for(const Ue of this._validators)if(!(yield Ue.shouldOpen(Ee,x)))return!1;for(const Ue of this._openers)if(yield Ue.open(s,x))return!0;return!1})}resolveExternalUri(s,x){return qt(this,null,function*(){for(const Z of this._resolvers)try{const me=yield Z.resolveExternalUri(s,x);if(me)return this._resolvedUriTargets.has(me.resolved)||this._resolvedUriTargets.set(me.resolved,s),me}catch(me){}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,x){return qt(this,null,function*(){const Z=typeof s=="string"?rt.o.parse(s):s;let me;try{me=(yield this.resolveExternalUri(Z,x)).resolved}catch(Ue){me=Z}let Ee;if(typeof s=="string"&&Z.toString()===me.toString()?Ee=s:Ee=encodeURI(me.toString(!0)),x!=null&&x.allowContributedOpeners){const Ue=typeof(x==null?void 0:x.allowContributedOpeners)=="string"?x==null?void 0:x.allowContributedOpeners:void 0;for(const Je of this._externalOpeners)if(yield Je.openExternal(Ee,{sourceUri:Z,preferredOpenerId:Ue},er.T.None))return!0}return this._defaultExternalOpener.openExternal(Ee,{sourceUri:Z},er.T.None)})}dispose(){this._validators.clear()}};Ma=sa([oa(0,vt.$),oa(1,oi.H)],Ma);var Pa=e(85215),yo=e(98674),Wr=e(8625),Ws=e(73910),Rl=e(6626),rl=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},ra=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Ra=class extends Ae.JT{constructor(s,x){super(),this._markerService=x,this._onDidChangeMarker=this._register(new re.Q5),this._markerDecorations=new Ai.Y9,s.getModels().forEach(Z=>this._onModelAdded(Z)),this._register(s.onModelAdded(this._onModelAdded,this)),this._register(s.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(s=>s.dispose()),this._markerDecorations.clear()}getMarker(s,x){const Z=this._markerDecorations.get(s);return Z&&Z.getMarker(x)||null}_handleMarkerChange(s){s.forEach(x=>{const Z=this._markerDecorations.get(x);Z&&this._updateDecorations(Z)})}_onModelAdded(s){const x=new Ol(s);this._markerDecorations.set(s.uri,x),this._updateDecorations(x)}_onModelRemoved(s){var x;const Z=this._markerDecorations.get(s.uri);Z&&(Z.dispose(),this._markerDecorations.delete(s.uri)),(s.uri.scheme===de.lg.inMemory||s.uri.scheme===de.lg.internal||s.uri.scheme===de.lg.vscode)&&((x=this._markerService)===null||x===void 0||x.read({resource:s.uri}).map(me=>me.owner).forEach(me=>this._markerService.remove(me,[s.uri])))}_updateDecorations(s){const x=this._markerService.read({resource:s.model.uri,take:500});s.update(x)&&this._onDidChangeMarker.fire(s.model)}};Ra=rl([ra(0,xi.q),ra(1,yo.lT)],Ra);class Ol extends Ae.JT{constructor(s){super(),this.model=s,this._map=new Ai.YQ,this._register((0,Ae.OF)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(s){const{added:x,removed:Z}=(0,Rl.q)(new Set(this._map.keys()),new Set(s));if(x.length===0&&Z.length===0)return!1;const me=Z.map(Je=>this._map.get(Je)),Ee=x.map(Je=>({range:this._createDecorationRange(this.model,Je),options:this._createDecorationOption(Je)})),Ue=this.model.deltaDecorations(me,Ee);for(const Je of Z)this._map.delete(Je);for(let Je=0;Je<Ue.length;Je++)this._map.set(x[Je],Ue[Je]);return!0}getMarker(s){return this._map.getKey(s.id)}_createDecorationRange(s,x){let Z=pt.e.lift(x);if(x.severity===yo.ZL.Hint&&!this._hasMarkerTag(x,1)&&!this._hasMarkerTag(x,2)&&(Z=Z.setEndPosition(Z.startLineNumber,Z.startColumn+2)),Z=s.validateRange(Z),Z.isEmpty()){const me=s.getLineLastNonWhitespaceColumn(Z.startLineNumber)||s.getLineMaxColumn(Z.startLineNumber);if(me===1||Z.endColumn>=me)return Z;const Ee=s.getWordAtPosition(Z.getStartPosition());Ee&&(Z=new pt.e(Z.startLineNumber,Ee.startColumn,Z.endLineNumber,Ee.endColumn))}else if(x.endColumn===Number.MAX_VALUE&&x.startColumn===1&&Z.startLineNumber===Z.endLineNumber){const me=s.getLineFirstNonWhitespaceColumn(x.startLineNumber);me<Z.endColumn&&(Z=new pt.e(Z.startLineNumber,me,Z.endLineNumber,Z.endColumn),x.startColumn=me)}return Z}_createDecorationOption(s){let x,Z,me,Ee,Ue;switch(s.severity){case yo.ZL.Hint:this._hasMarkerTag(s,2)?x=void 0:this._hasMarkerTag(s,1)?x="squiggly-unnecessary":x="squiggly-hint",me=0;break;case yo.ZL.Info:x="squiggly-info",Z=(0,we.EN)(Wr.eS),me=10,Ue={color:(0,we.EN)(Ws.Gvr),position:Oi.F5.Inline};break;case yo.ZL.Warning:x="squiggly-warning",Z=(0,we.EN)(Wr.Re),me=20,Ue={color:(0,we.EN)(Ws.Ivo),position:Oi.F5.Inline};break;case yo.ZL.Error:default:x="squiggly-error",Z=(0,we.EN)(Wr.lK),me=30,Ue={color:(0,we.EN)(Ws.Gj_),position:Oi.F5.Inline};break}return s.tags&&(s.tags.indexOf(1)!==-1&&(Ee="squiggly-inline-unnecessary"),s.tags.indexOf(2)!==-1&&(Ee="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:x,showIfCollapsed:!0,overviewRuler:{color:Z,position:Oi.sh.Right},minimap:Ue,zIndex:me,inlineClassName:Ee}}_hasMarkerTag(s,x){return s.tags?s.tags.indexOf(x)>=0:!1}}var Hr=e(36357),al=e(84901),ir=e(22075),Al=e(89954),nr=e(95215),aa=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Vr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}},pr;function sr(Xe){return Xe.toString()}class la{constructor(s,x,Z){this.model=s,this._modelEventListeners=new Ae.SL,this.model=s,this._modelEventListeners.add(s.onWillDispose(()=>x(s))),this._modelEventListeners.add(s.onDidChangeLanguage(me=>Z(s,me)))}dispose(){this._modelEventListeners.dispose()}}const Oa=st.IJ||st.dz?1:2;class kl{constructor(s,x,Z,me,Ee,Ue,Je,Rt){this.uri=s,this.initialUndoRedoSnapshot=x,this.time=Z,this.sharesUndoRedoStack=me,this.heapSize=Ee,this.sha1=Ue,this.versionId=Je,this.alternativeVersionId=Rt}}let Aa=pr=class extends Ae.JT{constructor(s,x,Z,me,Ee){super(),this._configurationService=s,this._resourcePropertiesService=x,this._undoRedoService=Z,this._languageService=me,this._languageConfigurationService=Ee,this._onModelAdded=this._register(new re.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new re.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new re.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(Ue=>this._updateModelOptions(Ue))),this._updateModelOptions(void 0)}static _readModelOptions(s,x){var Z;let me=ir.D.tabSize;if(s.editor&&typeof s.editor.tabSize!="undefined"){const qi=parseInt(s.editor.tabSize,10);isNaN(qi)||(me=qi),me<1&&(me=1)}let Ee="tabSize";if(s.editor&&typeof s.editor.indentSize!="undefined"&&s.editor.indentSize!=="tabSize"){const qi=parseInt(s.editor.indentSize,10);isNaN(qi)||(Ee=Math.max(qi,1))}let Ue=ir.D.insertSpaces;s.editor&&typeof s.editor.insertSpaces!="undefined"&&(Ue=s.editor.insertSpaces==="false"?!1:!!s.editor.insertSpaces);let Je=Oa;const Rt=s.eol;Rt===`\r
`?Je=2:Rt===`
`&&(Je=1);let Ut=ir.D.trimAutoWhitespace;s.editor&&typeof s.editor.trimAutoWhitespace!="undefined"&&(Ut=s.editor.trimAutoWhitespace==="false"?!1:!!s.editor.trimAutoWhitespace);let Qt=ir.D.detectIndentation;s.editor&&typeof s.editor.detectIndentation!="undefined"&&(Qt=s.editor.detectIndentation==="false"?!1:!!s.editor.detectIndentation);let Li=ir.D.largeFileOptimizations;s.editor&&typeof s.editor.largeFileOptimizations!="undefined"&&(Li=s.editor.largeFileOptimizations==="false"?!1:!!s.editor.largeFileOptimizations);let Zi=ir.D.bracketPairColorizationOptions;return!((Z=s.editor)===null||Z===void 0)&&Z.bracketPairColorization&&typeof s.editor.bracketPairColorization=="object"&&(Zi={enabled:!!s.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!s.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:x,tabSize:me,indentSize:Ee,insertSpaces:Ue,detectIndentation:Qt,defaultEOL:Je,trimAutoWhitespace:Ut,largeFileOptimizations:Li,bracketPairColorizationOptions:Zi}}_getEOL(s,x){if(s)return this._resourcePropertiesService.getEOL(s,x);const Z=this._configurationService.getValue("files.eol",{overrideIdentifier:x});return Z&&typeof Z=="string"&&Z!=="auto"?Z:st.OS===3||st.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const s=this._configurationService.getValue("files.restoreUndoStack");return typeof s=="boolean"?s:!0}getCreationOptions(s,x,Z){const me=typeof s=="string"?s:s.languageId;let Ee=this._modelCreationOptionsByLanguageAndResource[me+x];if(!Ee){const Ue=this._configurationService.getValue("editor",{overrideIdentifier:me,resource:x}),Je=this._getEOL(x,me);Ee=pr._readModelOptions({editor:Ue,eol:Je},Z),this._modelCreationOptionsByLanguageAndResource[me+x]=Ee}return Ee}_updateModelOptions(s){const x=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Z=Object.keys(this._models);for(let me=0,Ee=Z.length;me<Ee;me++){const Ue=Z[me],Je=this._models[Ue],Rt=Je.model.getLanguageId(),Ut=Je.model.uri;if(s&&!s.affectsConfiguration("editor",{overrideIdentifier:Rt,resource:Ut})&&!s.affectsConfiguration("files.eol",{overrideIdentifier:Rt,resource:Ut}))continue;const Qt=x[Rt+Ut],Li=this.getCreationOptions(Rt,Ut,Je.model.isForSimpleWidget);pr._setModelOptionsForModel(Je.model,Li,Qt)}}static _setModelOptionsForModel(s,x,Z){Z&&Z.defaultEOL!==x.defaultEOL&&s.getLineCount()===1&&s.setEOL(x.defaultEOL===1?0:1),!(Z&&Z.detectIndentation===x.detectIndentation&&Z.insertSpaces===x.insertSpaces&&Z.tabSize===x.tabSize&&Z.indentSize===x.indentSize&&Z.trimAutoWhitespace===x.trimAutoWhitespace&&(0,Mt.fS)(Z.bracketPairColorizationOptions,x.bracketPairColorizationOptions))&&(x.detectIndentation?(s.detectIndentation(x.insertSpaces,x.tabSize),s.updateOptions({trimAutoWhitespace:x.trimAutoWhitespace,bracketColorizationOptions:x.bracketPairColorizationOptions})):s.updateOptions({insertSpaces:x.insertSpaces,tabSize:x.tabSize,indentSize:x.indentSize,trimAutoWhitespace:x.trimAutoWhitespace,bracketColorizationOptions:x.bracketPairColorizationOptions}))}_insertDisposedModel(s){this._disposedModels.set(sr(s.uri),s),this._disposedModelsHeapSize+=s.heapSize}_removeDisposedModel(s){const x=this._disposedModels.get(sr(s));return x&&(this._disposedModelsHeapSize-=x.heapSize),this._disposedModels.delete(sr(s)),x}_ensureDisposedModelsHeapSize(s){if(this._disposedModelsHeapSize>s){const x=[];for(this._disposedModels.forEach(Z=>{Z.sharesUndoRedoStack||x.push(Z)}),x.sort((Z,me)=>Z.time-me.time);x.length>0&&this._disposedModelsHeapSize>s;){const Z=x.shift();this._removeDisposedModel(Z.uri),Z.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Z.initialUndoRedoSnapshot)}}}_createModelData(s,x,Z,me){const Ee=this.getCreationOptions(x,Z,me),Ue=new al.yO(s,x,Ee,Z,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Z&&this._disposedModels.has(sr(Z))){const Ut=this._removeDisposedModel(Z),Qt=this._undoRedoService.getElements(Z),Li=this._getSHA1Computer(),Zi=Li.canComputeSHA1(Ue)?Li.computeSHA1(Ue)===Ut.sha1:!1;if(Zi||Ut.sharesUndoRedoStack){for(const qi of Qt.past)(0,nr.e9)(qi)&&qi.matchesResource(Z)&&qi.setModel(Ue);for(const qi of Qt.future)(0,nr.e9)(qi)&&qi.matchesResource(Z)&&qi.setModel(Ue);this._undoRedoService.setElementsValidFlag(Z,!0,qi=>(0,nr.e9)(qi)&&qi.matchesResource(Z)),Zi&&(Ue._overwriteVersionId(Ut.versionId),Ue._overwriteAlternativeVersionId(Ut.alternativeVersionId),Ue._overwriteInitialUndoRedoSnapshot(Ut.initialUndoRedoSnapshot))}else Ut.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ut.initialUndoRedoSnapshot)}const Je=sr(Ue.uri);if(this._models[Je])throw new Error("ModelService: Cannot add model because it already exists!");const Rt=new la(Ue,Ut=>this._onWillDispose(Ut),(Ut,Qt)=>this._onDidChangeLanguage(Ut,Qt));return this._models[Je]=Rt,Rt}createModel(s,x,Z,me=!1){let Ee;return x?Ee=this._createModelData(s,x,Z,me):Ee=this._createModelData(s,St.bd,Z,me),this._onModelAdded.fire(Ee.model),Ee.model}getModels(){const s=[],x=Object.keys(this._models);for(let Z=0,me=x.length;Z<me;Z++){const Ee=x[Z];s.push(this._models[Ee].model)}return s}getModel(s){const x=sr(s),Z=this._models[x];return Z?Z.model:null}_schemaShouldMaintainUndoRedoElements(s){return s.scheme===de.lg.file||s.scheme===de.lg.vscodeRemote||s.scheme===de.lg.vscodeUserData||s.scheme===de.lg.vscodeNotebookCell||s.scheme==="fake-fs"}_onWillDispose(s){const x=sr(s.uri),Z=this._models[x],me=this._undoRedoService.getUriComparisonKey(s.uri)!==s.uri.toString();let Ee=!1,Ue=0;if(me||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(s.uri)){const Ut=this._undoRedoService.getElements(s.uri);if(Ut.past.length>0||Ut.future.length>0){for(const Qt of Ut.past)(0,nr.e9)(Qt)&&Qt.matchesResource(s.uri)&&(Ee=!0,Ue+=Qt.heapSize(s.uri),Qt.setModel(s.uri));for(const Qt of Ut.future)(0,nr.e9)(Qt)&&Qt.matchesResource(s.uri)&&(Ee=!0,Ue+=Qt.heapSize(s.uri),Qt.setModel(s.uri))}}const Je=pr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,Rt=this._getSHA1Computer();if(Ee)if(!me&&(Ue>Je||!Rt.canComputeSHA1(s))){const Ut=Z.model.getInitialUndoRedoSnapshot();Ut!==null&&this._undoRedoService.restoreSnapshot(Ut)}else this._ensureDisposedModelsHeapSize(Je-Ue),this._undoRedoService.setElementsValidFlag(s.uri,!1,Ut=>(0,nr.e9)(Ut)&&Ut.matchesResource(s.uri)),this._insertDisposedModel(new kl(s.uri,Z.model.getInitialUndoRedoSnapshot(),Date.now(),me,Ue,Rt.computeSHA1(s),s.getVersionId(),s.getAlternativeVersionId()));else if(!me){const Ut=Z.model.getInitialUndoRedoSnapshot();Ut!==null&&this._undoRedoService.restoreSnapshot(Ut)}delete this._models[x],Z.dispose(),delete this._modelCreationOptionsByLanguageAndResource[s.getLanguageId()+s.uri],this._onModelRemoved.fire(s)}_onDidChangeLanguage(s,x){const Z=x.oldLanguage,me=s.getLanguageId(),Ee=this.getCreationOptions(Z,s.uri,s.isForSimpleWidget),Ue=this.getCreationOptions(me,s.uri,s.isForSimpleWidget);pr._setModelOptionsForModel(s,Ue,Ee),this._onModelModeChanged.fire({model:s,oldLanguageId:Z})}_getSHA1Computer(){return new Ir}};Aa.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Aa=pr=aa([Vr(0,ri.Ui),Vr(1,Vt.y),Vr(2,wn.tJ),Vr(3,kt.O),Vr(4,Ge.c_)],Aa);class Ir{canComputeSHA1(s){return s.getValueLength()<=Ir.MAX_MODEL_SIZE}computeSHA1(s){const x=new Al.yP,Z=s.createSnapshot();let me;for(;me=Z.read();)x.update(me);return x.digest()}}Ir.MAX_MODEL_SIZE=10*1024*1024;var ka=e(14107),Fa=e(90725),to=e(41157),vr=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},ll=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Ba=class extends Ae.JT{constructor(s,x){super(),this.quickInputService=s,this.instantiationService=x,this.registry=dn.B.as(Fa.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",x){this.doShowOrPick(s,!1,x)}doShowOrPick(s,x,Z){var me;const[Ee,Ue]=this.getOrInstantiateProvider(s),Je=this.visibleQuickAccess,Rt=Je==null?void 0:Je.descriptor;if(Je&&Ue&&Rt===Ue){s!==Ue.prefix&&!(Z!=null&&Z.preserveValue)&&(Je.picker.value=s),this.adjustValueSelection(Je.picker,Ue,Z);return}if(Ue&&!(Z!=null&&Z.preserveValue)){let qi;if(Je&&Rt&&Rt!==Ue){const is=Je.value.substr(Rt.prefix.length);is&&(qi=`${Ue.prefix}${is}`)}if(!qi){const is=Ee==null?void 0:Ee.defaultFilterValue;is===Fa.Ry.LAST?qi=this.lastAcceptedPickerValues.get(Ue):typeof is=="string"&&(qi=`${Ue.prefix}${is}`)}typeof qi=="string"&&(s=qi)}const Ut=new Ae.SL,Qt=Ut.add(this.quickInputService.createQuickPick());Qt.value=s,this.adjustValueSelection(Qt,Ue,Z),Qt.placeholder=Ue==null?void 0:Ue.placeholder,Qt.quickNavigate=Z==null?void 0:Z.quickNavigateConfiguration,Qt.hideInput=!!Qt.quickNavigate&&!Je,(typeof(Z==null?void 0:Z.itemActivation)=="number"||Z!=null&&Z.quickNavigateConfiguration)&&(Qt.itemActivation=(me=Z==null?void 0:Z.itemActivation)!==null&&me!==void 0?me:to.jG.SECOND),Qt.contextKey=Ue==null?void 0:Ue.contextKey,Qt.filterValue=qi=>qi.substring(Ue?Ue.prefix.length:0);let Li;x&&(Li=new rs.CR,Ut.add(re.ju.once(Qt.onWillAccept)(qi=>{qi.veto(),Qt.hide()}))),Ut.add(this.registerPickerListeners(Qt,Ee,Ue,s,Z==null?void 0:Z.providerOptions));const Zi=Ut.add(new er.A);if(Ee&&Ut.add(Ee.provide(Qt,Zi.token,Z==null?void 0:Z.providerOptions)),re.ju.once(Qt.onDidHide)(()=>{Qt.selectedItems.length===0&&Zi.cancel(),Ut.dispose(),Li==null||Li.complete(Qt.selectedItems.slice(0))}),Qt.show(),x)return Li==null?void 0:Li.p}adjustValueSelection(s,x,Z){var me;let Ee;Z!=null&&Z.preserveValue?Ee=[s.value.length,s.value.length]:Ee=[(me=x==null?void 0:x.prefix.length)!==null&&me!==void 0?me:0,s.value.length],s.valueSelection=Ee}registerPickerListeners(s,x,Z,me,Ee){const Ue=new Ae.SL,Je=this.visibleQuickAccess={picker:s,descriptor:Z,value:me};return Ue.add((0,Ae.OF)(()=>{Je===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),Ue.add(s.onDidChangeValue(Rt=>{const[Ut]=this.getOrInstantiateProvider(Rt);Ut!==x?this.show(Rt,{preserveValue:!0,providerOptions:Ee}):Je.value=Rt})),Z&&Ue.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(Z,s.value)})),Ue}getOrInstantiateProvider(s){const x=this.registry.getQuickAccessProvider(s);if(!x)return[void 0,void 0];let Z=this.mapProviderToDescriptor.get(x);return Z||(Z=this.instantiationService.createInstance(x.ctor),this.mapProviderToDescriptor.set(x,Z)),[Z,x]}};Ba=vr([ll(0,to.eJ),ll(1,ct.TG)],Ba);var _r=e(36289),Wa=e(85207);const no="done",cl="active",Ha="infinite",Va="infinite-long-running",dl="discrete";class ca extends Ae.JT{constructor(s,x){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new rs.pY(()=>(0,ee.$Z)(this.element),0)),this.longRunningScheduler=this._register(new rs.pY(()=>this.infiniteLongRunning(),ca.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,x)}create(s,x){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(x==null?void 0:x.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(cl,Ha,Va,dl),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(no),this.element.classList.contains(Ha)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(dl,no,Va),this.element.classList.add(cl,Ha),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Va)}getContainer(){return this.element}}ca.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var ul=e(50153);const Ua=ee.$;class To extends Ae.JT{constructor(s,x,Z){super(),this.parent=s,this.onKeyDown=Ee=>ee.mu(this.findInput.inputBox.inputElement,ee.tw.KEY_DOWN,Ee),this.onMouseDown=Ee=>ee.mu(this.findInput.inputBox.inputElement,ee.tw.MOUSE_DOWN,Ee),this.onDidChange=Ee=>this.findInput.onDidChange(Ee),this.container=ee.R3(this.parent,Ua(".quick-input-box")),this.findInput=this._register(new ul.V(this.container,void 0,{label:"",inputBoxStyles:x,toggleStyles:Z}));const me=this.findInput.inputBox.inputElement;me.role="combobox",me.ariaHasPopup="menu",me.ariaAutoComplete="list",me.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,x){this.findInput.inputBox.inputElement.setAttribute(s,x)}showDecoration(s){s===Ti.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===Ti.Z.Info?1:s===Ti.Z.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===Ti.Z.Info?1:s===Ti.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Ur=e(93923),da=e(35190),Kt=e(79579);const t=new Kt.o(()=>{const Xe=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:Xe,collatorIsNumeric:Xe.resolvedOptions().numeric}}),l=new Kt.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),N=new Kt.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function q(Xe,s,x=!1){const Z=Xe||"",me=s||"",Ee=t.value.collator.compare(Z,me);return t.value.collatorIsNumeric&&Ee===0&&Z!==me?Z<me?-1:1:Ee}function oe(Xe,s,x){const Z=Xe.toLowerCase(),me=s.toLowerCase(),Ee=Ie(Xe,s,x);if(Ee)return Ee;const Ue=Z.endsWith(x),Je=me.endsWith(x);if(Ue!==Je)return Ue?-1:1;const Rt=q(Z,me);return Rt!==0?Rt:Z.localeCompare(me)}function Ie(Xe,s,x){const Z=Xe.toLowerCase(),me=s.toLowerCase(),Ee=Z.startsWith(x),Ue=me.startsWith(x);if(Ee!==Ue)return Ee?-1:1;if(Ee&&Ue){if(Z.length<me.length)return-1;if(Z.length>me.length)return 1}return 0}var Ve=e(49898),ot=e(4850),mt=e(56811),Lt=e(44742),At=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee};class jt{constructor(s){this.nodes=s}toString(){return this.nodes.map(s=>typeof s=="string"?s:s.label).join("")}}At([Ve.H],jt.prototype,"toString",null);const Jt=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function fi(Xe){const s=[];let x=0,Z;for(;Z=Jt.exec(Xe);){Z.index-x>0&&s.push(Xe.substring(x,Z.index));const[,me,Ee,,Ue]=Z;Ue?s.push({label:me,href:Ee,title:Ue}):s.push({label:me,href:Ee}),x=Z.index+Z[0].length}return x<Xe.length&&s.push(Xe.substring(x)),new jt(s)}const wi={},Ni=new Lt.R("quick-input-button-icon-");function ki(Xe){if(!Xe)return;let s;const x=Xe.dark.toString();return wi[x]?s=wi[x]:(s=Ni.nextId(),ee.fk(`.${s}, .hc-light .${s}`,`background-image: ${ee.wY(Xe.light||Xe.dark)}`),ee.fk(`.vs-dark .${s}, .hc-black .${s}`,`background-image: ${ee.wY(Xe.dark)}`),wi[x]=s),s}function Ji(Xe,s,x){ee.mc(s);const Z=fi(Xe);let me=0;for(const Ee of Z.nodes)if(typeof Ee=="string")s.append(...(0,mt.T)(Ee));else{let Ue=Ee.title;!Ue&&Ee.href.startsWith("command:")?Ue=(0,Ri.NC)("executeCommand","Click to execute command '{0}'",Ee.href.substring(8)):Ue||(Ue=Ee.href);const Je=ee.$("a",{href:Ee.href,title:Ue,tabIndex:me++},Ee.label);Je.style.textDecoration="underline";const Rt=qi=>{ee.cl(qi)&&ee.zB.stop(qi,!0),x.callback(Ee.href)},Ut=x.disposables.add(new ot.Y(Je,ee.tw.CLICK)).event,Qt=x.disposables.add(new ot.Y(Je,ee.tw.KEY_DOWN)).event,Li=re.ju.chain(Qt,qi=>qi.filter(is=>{const ys=new dt.y(is);return ys.equals(10)||ys.equals(3)}));x.disposables.add(Ko.o.addTarget(Je));const Zi=x.disposables.add(new ot.Y(Je,Ko.t.Tap)).event;re.ju.any(Ut,Zi,Li)(Rt,null,x.disposables),s.appendChild(Je)}}var rn=e(92321),En=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee};const _n=ee.$;class zn{constructor(s,x,Z,me,Ee,Ue,Je){var Rt,Ut,Qt;this._checked=!1,this._hidden=!1,this.hasCheckbox=me,this.index=Z,this.fireButtonTriggered=Ee,this.fireSeparatorButtonTriggered=Ue,this._onChecked=Je,this.onChecked=me?re.ju.map(re.ju.filter(this._onChecked.event,Li=>Li.listElement===this),Li=>Li.checked):re.ju.None,s.type==="separator"?this._separator=s:(this.item=s,x&&x.type==="separator"&&!x.buttons&&(this._separator=x),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(Rt=this.item.highlights)===null||Rt===void 0?void 0:Rt.label,this._descriptionHighlights=(Ut=this.item.highlights)===null||Ut===void 0?void 0:Ut.description,this._detailHighlights=(Qt=this.item.highlights)===null||Qt===void 0?void 0:Qt.detail,this.saneTooltip=this.item.tooltip),this._init=new Kt.o(()=>{var Li;const Zi=(Li=s.label)!==null&&Li!==void 0?Li:"",qi=(0,uo.Ho)(Zi).text.trim(),is=s.ariaLabel||[Zi,this.saneDescription,this.saneDetail].map(ys=>(0,uo.JL)(ys)).filter(ys=>!!ys).join(", ");return{saneLabel:Zi,saneSortLabel:qi,saneAriaLabel:is}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(s){this._element=s}get hidden(){return this._hidden}set hidden(s){this._hidden=s}get checked(){return this._checked}set checked(s){s!==this._checked&&(this._checked=s,this._onChecked.fire({listElement:this,checked:s}))}get separator(){return this._separator}set separator(s){this._separator=s}get labelHighlights(){return this._labelHighlights}set labelHighlights(s){this._labelHighlights=s}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(s){this._descriptionHighlights=s}get detailHighlights(){return this._detailHighlights}set detailHighlights(s){this._detailHighlights=s}}class Wn{constructor(s){this.themeService=s}get templateId(){return Wn.ID}renderTemplate(s){const x=Object.create(null);x.toDisposeElement=[],x.toDisposeTemplate=[],x.entry=ee.R3(s,_n(".quick-input-list-entry"));const Z=ee.R3(x.entry,_n("label.quick-input-list-label"));x.toDisposeTemplate.push(ee.mu(Z,ee.tw.CLICK,Ut=>{x.checkbox.offsetParent||Ut.preventDefault()})),x.checkbox=ee.R3(Z,_n("input.quick-input-list-checkbox")),x.checkbox.type="checkbox",x.toDisposeTemplate.push(ee.mu(x.checkbox,ee.tw.CHANGE,Ut=>{x.element.checked=x.checkbox.checked}));const me=ee.R3(Z,_n(".quick-input-list-rows")),Ee=ee.R3(me,_n(".quick-input-list-row")),Ue=ee.R3(me,_n(".quick-input-list-row"));x.label=new Ur.g(Ee,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),x.toDisposeTemplate.push(x.label),x.icon=ee.Ce(x.label.element,_n(".quick-input-list-icon"));const Je=ee.R3(Ee,_n(".quick-input-list-entry-keybinding"));x.keybinding=new da.e(Je,st.OS);const Rt=ee.R3(Ue,_n(".quick-input-list-label-meta"));return x.detail=new Ur.g(Rt,{supportHighlights:!0,supportIcons:!0}),x.toDisposeTemplate.push(x.detail),x.separator=ee.R3(x.entry,_n(".quick-input-list-separator")),x.actionBar=new Lr.o(x.entry),x.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),x.toDisposeTemplate.push(x.actionBar),x}renderElement(s,x,Z){var me,Ee,Ue,Je;Z.element=s,s.element=(me=Z.entry)!==null&&me!==void 0?me:void 0;const Rt=s.item?s.item:s.separator;Z.checkbox.checked=s.checked,Z.toDisposeElement.push(s.onChecked(is=>Z.checkbox.checked=is));const{labelHighlights:Ut,descriptionHighlights:Qt,detailHighlights:Li}=s;if(!((Ee=s.item)===null||Ee===void 0)&&Ee.iconPath){const is=(0,rn._T)(this.themeService.getColorTheme().type)?s.item.iconPath.dark:(Ue=s.item.iconPath.light)!==null&&Ue!==void 0?Ue:s.item.iconPath.dark,ys=rt.o.revive(is);Z.icon.className="quick-input-list-icon",Z.icon.style.backgroundImage=ee.wY(ys)}else Z.icon.style.backgroundImage="",Z.icon.className=!((Je=s.item)===null||Je===void 0)&&Je.iconClass?`quick-input-list-icon ${s.item.iconClass}`:"";const Zi={matches:Ut||[],descriptionTitle:s.saneDescription,descriptionMatches:Qt||[],labelEscapeNewLines:!0};Rt.type!=="separator"?(Zi.extraClasses=Rt.iconClasses,Zi.italic=Rt.italic,Zi.strikethrough=Rt.strikethrough,Z.entry.classList.remove("quick-input-list-separator-as-item")):Z.entry.classList.add("quick-input-list-separator-as-item"),Z.label.setLabel(s.saneLabel,s.saneDescription,Zi),Z.keybinding.set(Rt.type==="separator"?void 0:Rt.keybinding),s.saneDetail?(Z.detail.element.style.display="",Z.detail.setLabel(s.saneDetail,void 0,{matches:Li,title:s.saneDetail,labelEscapeNewLines:!0})):Z.detail.element.style.display="none",s.item&&s.separator&&s.separator.label?(Z.separator.textContent=s.separator.label,Z.separator.style.display=""):Z.separator.style.display="none",Z.entry.classList.toggle("quick-input-list-separator-border",!!s.separator);const qi=Rt.buttons;qi&&qi.length?(Z.actionBar.push(qi.map((is,ys)=>{let Is=is.iconClass||(is.iconPath?ki(is.iconPath):void 0);return is.alwaysVisible&&(Is=Is?`${Is} always-visible`:"always-visible"),{id:`id-${ys}`,class:Is,enabled:!0,label:"",tooltip:is.tooltip||"",run:()=>{Rt.type!=="separator"?s.fireButtonTriggered({button:is,item:Rt}):s.fireSeparatorButtonTriggered({button:is,separator:Rt})}}}),{icon:!0,label:!1}),Z.entry.classList.add("has-actions")):Z.entry.classList.remove("has-actions")}disposeElement(s,x,Z){Z.toDisposeElement=(0,Ae.B9)(Z.toDisposeElement),Z.actionBar.clear()}disposeTemplate(s){s.toDisposeElement=(0,Ae.B9)(s.toDisposeElement),s.toDisposeTemplate=(0,Ae.B9)(s.toDisposeTemplate)}}Wn.ID="listelement";class Kn{getHeight(s){return s.item?s.saneDetail?44:22:24}getTemplateId(s){return Wn.ID}}var Sn;(function(Xe){Xe[Xe.First=1]="First",Xe[Xe.Second=2]="Second",Xe[Xe.Last=3]="Last",Xe[Xe.Next=4]="Next",Xe[Xe.Previous=5]="Previous",Xe[Xe.NextPage=6]="NextPage",Xe[Xe.PreviousPage=7]="PreviousPage"})(Sn||(Sn={}));class $n{constructor(s,x,Z,me){this.parent=s,this.options=Z,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new re.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new re.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new re.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new re.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new re.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new re.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new re.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new re.Q5,this.onLeave=this._onLeave.event,this._listElementChecked=new re.Q5,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=x,this.container=ee.R3(this.parent,_n(".quick-input-list"));const Ee=new Kn,Ue=new Rs;if(this.list=Z.createList("QuickInput",this.container,Ee,[new Wn(me)],{identityProvider:{getId:Je=>{var Rt,Ut,Qt,Li,Zi,qi,is,ys;return(ys=(qi=(Li=(Ut=(Rt=Je.item)===null||Rt===void 0?void 0:Rt.id)!==null&&Ut!==void 0?Ut:(Qt=Je.item)===null||Qt===void 0?void 0:Qt.label)!==null&&Li!==void 0?Li:(Zi=Je.separator)===null||Zi===void 0?void 0:Zi.id)!==null&&qi!==void 0?qi:(is=Je.separator)===null||is===void 0?void 0:is.label)!==null&&ys!==void 0?ys:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Ue}),this.list.getHTMLElement().id=x,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Je=>{const Rt=new dt.y(Je);switch(Rt.keyCode){case 10:this.toggleCheckbox();break;case 31:(st.dz?Je.metaKey:Je.ctrlKey)&&this.list.setFocus((0,Et.w6)(this.list.length));break;case 16:{const Ut=this.list.getFocus();Ut.length===1&&Ut[0]===0&&this._onLeave.fire();break}case 18:{const Ut=this.list.getFocus();Ut.length===1&&Ut[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(Rt)})),this.disposables.push(this.list.onMouseDown(Je=>{Je.browserEvent.button!==2&&Je.browserEvent.preventDefault()})),this.disposables.push(ee.nm(this.container,ee.tw.CLICK,Je=>{(Je.x||Je.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Je=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Je=>{typeof Je.index=="number"&&(Je.browserEvent.preventDefault(),this.list.setSelection([Je.index]))})),Z.hoverDelegate){const Je=new rs.rH(Z.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(Rt=>qt(this,null,function*(){var Ut;if(Rt.browserEvent.target instanceof HTMLAnchorElement){Je.cancel();return}if(!(!(Rt.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&ee.jg(Rt.browserEvent.relatedTarget,(Ut=Rt.element)===null||Ut===void 0?void 0:Ut.element)))try{yield Je.trigger(()=>qt(this,null,function*(){Rt.element&&this.showHover(Rt.element)}))}catch(Qt){if(!(0,ui.n2)(Qt))throw Qt}}))),this.disposables.push(this.list.onMouseOut(Rt=>{var Ut;ee.jg(Rt.browserEvent.relatedTarget,(Ut=Rt.element)===null||Ut===void 0?void 0:Ut.element)||Je.cancel()})),this.disposables.push(Je)}this.disposables.push(this._listElementChecked.event(Je=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return re.ju.map(this.list.onDidChangeFocus,s=>s.elements.map(x=>x.item))}get onDidChangeSelection(){return re.ju.map(this.list.onDidChangeSelection,s=>({items:s.elements.map(x=>x.item),event:s.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(s){this.list.scrollTop=s}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(s){this.list.getHTMLElement().ariaLabel=s}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(s,x=!0){for(let Z=0,me=s.length;Z<me;Z++){const Ee=s[Z];if(!Ee.hidden)if(Ee.checked)x=!0;else return!1}return x}getCheckedCount(){let s=0;const x=this.elements;for(let Z=0,me=x.length;Z<me;Z++)x[Z].checked&&s++;return s}getVisibleCount(){let s=0;const x=this.elements;for(let Z=0,me=x.length;Z<me;Z++)x[Z].hidden||s++;return s}setAllVisibleChecked(s){try{this._fireCheckedEvents=!1,this.elements.forEach(x=>{x.hidden||(x.checked=s)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(s){this.elementDisposables=(0,Ae.B9)(this.elementDisposables);const x=Ue=>this.fireButtonTriggered(Ue),Z=Ue=>this.fireSeparatorButtonTriggered(Ue);this.inputElements=s;const me=new Map,Ee=this.parent.classList.contains("show-checkboxes");this.elements=s.reduce((Ue,Je,Rt)=>{var Ut;const Qt=Rt>0?s[Rt-1]:void 0;if(Je.type==="separator"&&!Je.buttons)return Ue;const Li=new zn(Je,Qt,Rt,Ee,x,Z,this._listElementChecked),Zi=Ue.length;return Ue.push(Li),me.set((Ut=Li.item)!==null&&Ut!==void 0?Ut:Li.separator,Zi),Ue},[]),this.elementsToIndexes=me,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(s=>s.item)}setFocusedElements(s){if(this.list.setFocus(s.filter(x=>this.elementsToIndexes.has(x)).map(x=>this.elementsToIndexes.get(x))),s.length>0){const x=this.list.getFocus()[0];typeof x=="number"&&this.list.reveal(x)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(s){this.list.setSelection(s.filter(x=>this.elementsToIndexes.has(x)).map(x=>this.elementsToIndexes.get(x)))}getCheckedElements(){return this.elements.filter(s=>s.checked).map(s=>s.item).filter(s=>!!s)}setCheckedElements(s){try{this._fireCheckedEvents=!1;const x=new Set;for(const Z of s)x.add(Z);for(const Z of this.elements)Z.checked=x.has(Z.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(s){this.list.getHTMLElement().style.pointerEvents=s?"":"none"}focus(s){if(!this.list.length)return;switch(s===Sn.Second&&this.list.length<2&&(s=Sn.First),s){case Sn.First:this.list.scrollTop=0,this.list.focusFirst(void 0,Z=>!!Z.item);break;case Sn.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,Z=>!!Z.item);break;case Sn.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,Z=>!!Z.item);break;case Sn.Next:{this.list.focusNext(void 0,!0,void 0,me=>!!me.item);const Z=this.list.getFocus()[0];Z!==0&&!this.elements[Z-1].item&&this.list.firstVisibleIndex>Z-1&&this.list.reveal(Z-1);break}case Sn.Previous:{this.list.focusPrevious(void 0,!0,void 0,me=>!!me.item);const Z=this.list.getFocus()[0];Z!==0&&!this.elements[Z-1].item&&this.list.firstVisibleIndex>Z-1&&this.list.reveal(Z-1);break}case Sn.NextPage:this.list.focusNextPage(void 0,Z=>!!Z.item);break;case Sn.PreviousPage:this.list.focusPreviousPage(void 0,Z=>!!Z.item);break}const x=this.list.getFocus()[0];typeof x=="number"&&this.list.reveal(x)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(s){var x,Z,me;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((Z=(x=this.options.hoverDelegate).onDidHideHover)===null||Z===void 0||Z.call(x),(me=this._lastHover)===null||me===void 0||me.dispose()),!(!s.element||!s.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:s.saneTooltip,target:s.element,linkHandler:Ee=>{this.options.linkOpenerDelegate(Ee)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)))}layout(s){this.list.getHTMLElement().style.maxHeight=s?`${Math.floor(s/44)*44+6}px`:"",this.list.layout()}filter(s){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const x=s;if(s=s.trim(),!s||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(me=>{me.labelHighlights=void 0,me.descriptionHighlights=void 0,me.detailHighlights=void 0,me.hidden=!1;const Ee=me.index&&this.inputElements[me.index-1];me.item&&(me.separator=Ee&&Ee.type==="separator"&&!Ee.buttons?Ee:void 0)});else{let me;this.elements.forEach(Ee=>{var Ue,Je,Rt,Ut;let Qt;this.matchOnLabelMode==="fuzzy"?Qt=this.matchOnLabel&&(Ue=(0,uo.Gt)(s,(0,uo.Ho)(Ee.saneLabel)))!==null&&Ue!==void 0?Ue:void 0:Qt=this.matchOnLabel&&(Je=as(x,(0,uo.Ho)(Ee.saneLabel)))!==null&&Je!==void 0?Je:void 0;const Li=this.matchOnDescription&&(Rt=(0,uo.Gt)(s,(0,uo.Ho)(Ee.saneDescription||"")))!==null&&Rt!==void 0?Rt:void 0,Zi=this.matchOnDetail&&(Ut=(0,uo.Gt)(s,(0,uo.Ho)(Ee.saneDetail||"")))!==null&&Ut!==void 0?Ut:void 0;if(Qt||Li||Zi?(Ee.labelHighlights=Qt,Ee.descriptionHighlights=Li,Ee.detailHighlights=Zi,Ee.hidden=!1):(Ee.labelHighlights=void 0,Ee.descriptionHighlights=void 0,Ee.detailHighlights=void 0,Ee.hidden=Ee.item?!Ee.item.alwaysShow:!0),Ee.item?Ee.separator=void 0:Ee.separator&&(Ee.hidden=!0),!this.sortByLabel){const qi=Ee.index&&this.inputElements[Ee.index-1];me=qi&&qi.type==="separator"?qi:me,me&&!Ee.hidden&&(Ee.separator=me,me=void 0)}})}const Z=this.elements.filter(me=>!me.hidden);if(this.sortByLabel&&s){const me=s.toLowerCase();Z.sort((Ee,Ue)=>ls(Ee,Ue,me))}return this.elementsToIndexes=Z.reduce((me,Ee,Ue)=>{var Je;return me.set((Je=Ee.item)!==null&&Je!==void 0?Je:Ee.separator,Ue),me},new Map),this.list.splice(0,this.list.length,Z),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(Z.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const s=this.list.getFocusedElements(),x=this.allVisibleChecked(s);for(const Z of s)Z.checked=!x}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(s){this.container.style.display=s?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,Ae.B9)(this.elementDisposables),this.disposables=(0,Ae.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(s){this._onButtonTriggered.fire(s)}fireSeparatorButtonTriggered(s){this._onSeparatorButtonTriggered.fire(s)}style(s){this.list.style(s)}toggleHover(){const s=this.list.getFocusedElements()[0];if(!(s!=null&&s.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const x=this.list.getFocusedElements()[0];if(!x)return;this.showHover(x);const Z=new Ae.SL;Z.add(this.list.onDidChangeFocus(me=>{me.indexes.length&&this.showHover(me.elements[0])})),this._lastHover&&Z.add(this._lastHover),this._toggleHover=Z,this.elementDisposables.push(this._toggleHover)}}En([Ve.H],$n.prototype,"onDidChangeFocus",null),En([Ve.H],$n.prototype,"onDidChangeSelection",null);function as(Xe,s){const{text:x,iconOffsets:Z}=s;if(!Z||Z.length===0)return Yn(Xe,x);const me=(0,Qe.j3)(x," "),Ee=x.length-me.length,Ue=Yn(Xe,me);if(Ue)for(const Je of Ue){const Rt=Z[Je.start+Ee]+Ee;Je.start+=Rt,Je.end+=Rt}return Ue}function Yn(Xe,s){const x=s.toLowerCase().indexOf(Xe.toLowerCase());return x!==-1?[{start:x,end:x+Xe.length}]:null}function ls(Xe,s,x){const Z=Xe.labelHighlights||[],me=s.labelHighlights||[];return Z.length&&!me.length?-1:!Z.length&&me.length?1:Z.length===0&&me.length===0?0:oe(Xe.saneSortLabel,s.saneSortLabel,x)}class Rs{getWidgetAriaLabel(){return(0,Ri.NC)("quickInput","Quick Input")}getAriaLabel(s){var x;return!((x=s.separator)===null||x===void 0)&&x.label?`${s.saneAriaLabel}, ${s.separator.label}`:s.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(s){return s.hasCheckbox?"checkbox":"option"}isChecked(s){if(s.hasCheckbox)return{value:s.checked,onDidChange:s.onChecked}}}var Ls=e(40032);const Xs={iconClass:Br.k.asClassName(Vo.l.quickInputBack),tooltip:(0,Ri.NC)("quickInput.back","Back"),handle:-1};class Hs extends Ae.JT{constructor(s){super(),this.ui=s,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Hs.noPromptMessage,this._severity=Ti.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new re.Q5),this.onDidHideEmitter=this._register(new re.Q5),this.onDisposeEmitter=this._register(new re.Q5),this.visibleDisposables=this._register(new Ae.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(s){this._title=s,this.update()}get description(){return this._description}set description(s){this._description=s,this.update()}get step(){return this._steps}set step(s){this._steps=s,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(s){this._totalSteps=s,this.update()}get enabled(){return this._enabled}set enabled(s){this._enabled=s,this.update()}get contextKey(){return this._contextKey}set contextKey(s){this._contextKey=s,this.update()}get busy(){return this._busy}set busy(s){this._busy=s,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(s){const x=this._ignoreFocusOut!==s&&!st.gn;this._ignoreFocusOut=s&&!st.gn,x&&this.update()}get buttons(){return this._buttons}set buttons(s){this._buttons=s,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(s){this._toggles=s!=null?s:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(s){this._validationMessage=s,this.update()}get severity(){return this._severity}set severity(s){this._severity=s,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(s=>{this.buttons.indexOf(s)!==-1&&this.onDidTriggerButtonEmitter.fire(s)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(s=to.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:s})}update(){var s,x;if(!this.visible)return;const Z=this.getTitle();Z&&this.ui.title.textContent!==Z?this.ui.title.textContent=Z:!Z&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const me=this.getDescription();if(this.ui.description1.textContent!==me&&(this.ui.description1.textContent=me),this.ui.description2.textContent!==me&&(this.ui.description2.textContent=me),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?ee.mc(this.ui.widget,this._widget):ee.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new rs._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Ue=this.buttons.filter(Rt=>Rt===Xs);this.ui.leftActionBar.push(Ue.map((Rt,Ut)=>{const Qt=new Fs.aU(`id-${Ut}`,"",Rt.iconClass||ki(Rt.iconPath),!0,()=>qt(this,null,function*(){this.onDidTriggerButtonEmitter.fire(Rt)}));return Qt.tooltip=Rt.tooltip||"",Qt}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Je=this.buttons.filter(Rt=>Rt!==Xs);this.ui.rightActionBar.push(Je.map((Rt,Ut)=>{const Qt=new Fs.aU(`id-${Ut}`,"",Rt.iconClass||ki(Rt.iconPath),!0,()=>qt(this,null,function*(){this.onDidTriggerButtonEmitter.fire(Rt)}));return Qt.tooltip=Rt.tooltip||"",Qt}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const Ue=(x=(s=this.toggles)===null||s===void 0?void 0:s.filter(Je=>Je instanceof Ls.Z))!==null&&x!==void 0?x:[];this.ui.inputBox.toggles=Ue}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const Ee=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==Ee&&(this._lastValidationMessage=Ee,ee.mc(this.ui.message),Ji(Ee,this.ui.message,{callback:Ue=>{this.ui.linkOpenerDelegate(Ue)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Ri.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(s){if(this.ui.inputBox.showDecoration(s),s!==Ti.Z.Ignore){const x=this.ui.inputBox.stylesForType(s);this.ui.message.style.color=x.foreground?`${x.foreground}`:"",this.ui.message.style.backgroundColor=x.background?`${x.background}`:"",this.ui.message.style.border=x.border?`1px solid ${x.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Hs.noPromptMessage=(0,Ri.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Js extends Hs{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new re.Q5),this.onWillAcceptEmitter=this._register(new re.Q5),this.onDidAcceptEmitter=this._register(new re.Q5),this.onDidCustomEmitter=this._register(new re.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=to.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new re.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new re.Q5),this.onDidTriggerItemButtonEmitter=this._register(new re.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new re.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=s=>s,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(s){this._quickNavigate=s,this.update()}get value(){return this._value}set value(s){this.doSetValue(s)}doSetValue(s,x){this._value!==s&&(this._value=s,x||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(s){this._ariaLabel=s,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(s){this.ui.list.scrollTop=s}set items(s){this._items=s,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(s){this._canSelectMany=s,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(s){this._canAcceptInBackground=s}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(s){this._matchOnDescription=s,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(s){this._matchOnDetail=s,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(s){this._matchOnLabel=s,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(s){this._matchOnLabelMode=s,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(s){this._sortByLabel=s,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(s){this._autoFocusOnList=s,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(s){this._keepScrollPosition=s}get itemActivation(){return this._itemActivation}set itemActivation(s){this._itemActivation=s}get activeItems(){return this._activeItems}set activeItems(s){this._activeItems=s,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(s){this._selectedItems=s,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?to.X5:this.ui.keyMods}set valueSelection(s){this._valueSelection=s,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(s){this._customButton=s,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(s){this._customButtonLabel=s,this.update()}get customHover(){return this._customButtonHover}set customHover(s){this._customButtonHover=s,this.update()}get ok(){return this._ok}set ok(s){this._ok=s,this.update()}get hideInput(){return!!this._hideInput}set hideInput(s){this._hideInput=s,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Sn.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(s=>{this.doSetValue(s,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(s=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(s=>{switch(s.keyCode){case 18:this.ui.list.focus(Sn.Next),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Sn.Previous):this.ui.list.focus(Sn.Last),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 12:this.ui.list.focus(Sn.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 11:this.ui.list.focus(Sn.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ee.zB.stop(s,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey&&(this.ui.list.focus(Sn.First),ee.zB.stop(s,!0));break;case 13:(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey&&(this.ui.list.focus(Sn.Last),ee.zB.stop(s,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(s=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Et.fS)(s,this._activeItems,(x,Z)=>x===Z)||(this._activeItems=s,this.onDidChangeActiveEmitter.fire(s))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:s,event:x})=>{if(this.canSelectMany){s.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,Et.fS)(s,this._selectedItems,(Z,me)=>Z===me)||(this._selectedItems=s,this.onDidChangeSelectionEmitter.fire(s),s.length&&this.handleAccept(ee.N5(x)&&x.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(s=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,Et.fS)(s,this._selectedItems,(x,Z)=>x===Z)||(this._selectedItems=s,this.onDidChangeSelectionEmitter.fire(s)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(s=>this.onDidTriggerItemButtonEmitter.fire(s))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(s=>this.onDidTriggerSeparatorButtonEmitter.fire(s))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(s){let x=!1;this.onWillAcceptEmitter.fire({veto:()=>x=!0}),x||this.onDidAcceptEmitter.fire({inBackground:s})}registerQuickNavigation(){return ee.nm(this.ui.container,ee.tw.KEY_UP,s=>{if(this.canSelectMany||!this._quickNavigate)return;const x=new dt.y(s),Z=x.keyCode;this._quickNavigate.keybindings.some(Ue=>{const Je=Ue.getChords();return Je.length>1?!1:Je[0].shiftKey&&Z===4?!(x.ctrlKey||x.altKey||x.metaKey):!!(Je[0].altKey&&Z===6||Je[0].ctrlKey&&Z===5||Je[0].metaKey&&Z===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const s=this.keepScrollPosition?this.scrollTop:0,x=!!this.description,Z={title:!!this.title||!!this.step||!!this.buttons.length,description:x,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||x,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(Z),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let me=this.ariaLabel;if(!me&&Z.inputBox&&(me=this.placeholder||Js.DEFAULT_ARIA_LABEL,this.title&&(me+=` - ${this.title}`)),this.ui.list.ariaLabel!==me&&(this.ui.list.ariaLabel=me!=null?me:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case to.jG.NONE:this._itemActivation=to.jG.FIRST;break;case to.jG.SECOND:this.ui.list.focus(Sn.Second),this._itemActivation=to.jG.FIRST;break;case to.jG.LAST:this.ui.list.focus(Sn.Last),this._itemActivation=to.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",Z.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Sn.First)),this.keepScrollPosition&&(this.scrollTop=s)}}Js.DEFAULT_ARIA_LABEL=(0,Ri.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class qs extends Hs{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new re.Q5),this.onDidAcceptEmitter=this._register(new re.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(s){this._value=s||"",this.update()}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update()}get password(){return this._password}set password(s){this._password=s,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(s=>{s!==this.value&&(this._value=s,this.onDidValueChangeEmitter.fire(s))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const s={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(s),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}const Ss=ee.$;class co extends Ae.JT{constructor(s,x,Z){super(),this.options=s,this.themeService=x,this.layoutService=Z,this.enabled=!0,this.onDidAcceptEmitter=this._register(new re.Q5),this.onDidCustomEmitter=this._register(new re.Q5),this.onDidTriggerButtonEmitter=this._register(new re.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new re.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new re.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=s.idPrefix,this.parentElement=s.container,this.styles=s.styles,this._register(re.ju.runAndSubscribe(ee.Xo,({window:me,disposables:Ee})=>this.registerKeyModsListeners(me,Ee),{window:je.Ex,disposables:this._store})),this._register(ee.Jc(me=>{this.ui&&ee.Jj(this.ui.container)===me&&this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(s,x){const Z=me=>{this.keyMods.ctrlCmd=me.ctrlKey||me.metaKey,this.keyMods.alt=me.altKey};for(const me of[ee.tw.KEY_DOWN,ee.tw.KEY_UP,ee.tw.MOUSE_DOWN])x.add(ee.nm(s,me,Z,!0))}getUI(s){if(this.ui)return s&&this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument&&this.reparentUI(this.layoutService.activeContainer),this.ui;const x=ee.R3(this.parentElement,Ss(".quick-input-widget.show-file-icons"));x.tabIndex=-1,x.style.display="none";const Z=ee.dS(x),me=ee.R3(x,Ss(".quick-input-titlebar")),Ee=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,Ue=this._register(new Lr.o(me,Ee));Ue.domNode.classList.add("quick-input-left-action-bar");const Je=ee.R3(me,Ss(".quick-input-title")),Rt=this._register(new Lr.o(me,Ee));Rt.domNode.classList.add("quick-input-right-action-bar");const Ut=ee.R3(x,Ss(".quick-input-header")),Qt=ee.R3(Ut,Ss("input.quick-input-check-all"));Qt.type="checkbox",Qt.setAttribute("aria-label",(0,Ri.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(ee.mu(Qt,ee.tw.CHANGE,Cs=>{const ya=Qt.checked;lr.setAllVisibleChecked(ya)})),this._register(ee.nm(Qt,ee.tw.CLICK,Cs=>{(Cs.x||Cs.y)&&is.setFocus()}));const Li=ee.R3(Ut,Ss(".quick-input-description")),Zi=ee.R3(Ut,Ss(".quick-input-and-message")),qi=ee.R3(Zi,Ss(".quick-input-filter")),is=this._register(new To(qi,this.styles.inputBox,this.styles.toggle));is.setAttribute("aria-describedby",`${this.idPrefix}message`);const ys=ee.R3(qi,Ss(".quick-input-visible-count"));ys.setAttribute("aria-live","polite"),ys.setAttribute("aria-atomic","true");const Is=new Wa.Z(ys,{countFormat:(0,Ri.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),ro=ee.R3(qi,Ss(".quick-input-count"));ro.setAttribute("aria-live","polite");const Gs=new Wa.Z(ro,{countFormat:(0,Ri.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),Zs=ee.R3(Ut,Ss(".quick-input-action")),bs=this._register(new _r.z(Zs,this.styles.button));bs.label=(0,Ri.NC)("ok","OK"),this._register(bs.onDidClick(Cs=>{this.onDidAcceptEmitter.fire()}));const Zo=ee.R3(Ut,Ss(".quick-input-action")),$r=this._register(new _r.z(Zo,this.styles.button));$r.label=(0,Ri.NC)("custom","Custom"),this._register($r.onDidClick(Cs=>{this.onDidCustomEmitter.fire()}));const _o=ee.R3(Zi,Ss(`#${this.idPrefix}message.quick-input-message`)),lc=this._register(new ca(x,this.styles.progressBar));lc.getContainer().classList.add("quick-input-progress");const Ms=ee.R3(x,Ss(".quick-input-html-widget"));Ms.tabIndex=-1;const fo=ee.R3(x,Ss(".quick-input-description")),ar=this.idPrefix+"list",lr=this._register(new $n(x,ar,this.options,this.themeService));is.setAttribute("aria-controls",ar),this._register(lr.onDidChangeFocus(()=>{var Cs;is.setAttribute("aria-activedescendant",(Cs=lr.getActiveDescendant())!==null&&Cs!==void 0?Cs:"")})),this._register(lr.onChangedAllVisibleChecked(Cs=>{Qt.checked=Cs})),this._register(lr.onChangedVisibleCount(Cs=>{Is.setCount(Cs)})),this._register(lr.onChangedCheckedCount(Cs=>{Gs.setCount(Cs)})),this._register(lr.onLeave(()=>{setTimeout(()=>{is.setFocus(),this.controller instanceof Js&&this.controller.canSelectMany&&lr.clearFocus()},0)}));const Vd=ee.go(x);return this._register(Vd),this._register(ee.nm(x,ee.tw.FOCUS,Cs=>{ee.jg(Cs.relatedTarget,x)||(this.previousFocusElement=Cs.relatedTarget instanceof HTMLElement?Cs.relatedTarget:void 0)},!0)),this._register(Vd.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(to.Jq.Blur),this.previousFocusElement=void 0})),this._register(ee.nm(x,ee.tw.FOCUS,Cs=>{is.setFocus()})),this._register(ee.mu(x,ee.tw.KEY_DOWN,Cs=>{if(!ee.jg(Cs.target,Ms))switch(Cs.keyCode){case 3:ee.zB.stop(Cs,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:ee.zB.stop(Cs,!0),this.hide(to.Jq.Gesture);break;case 2:if(!Cs.altKey&&!Cs.ctrlKey&&!Cs.metaKey){const ya=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(x.classList.contains("show-checkboxes")?ya.push("input"):ya.push("input[type=text]"),this.getUI().list.isDisplayed()&&ya.push(".monaco-list"),this.getUI().message&&ya.push(".quick-input-message a"),this.getUI().widget){if(ee.jg(Cs.target,this.getUI().widget))break;ya.push(".quick-input-html-widget")}const Oc=x.querySelectorAll(ya.join(", "));Cs.shiftKey&&Cs.target===Oc[0]?(ee.zB.stop(Cs,!0),lr.clearFocus()):!Cs.shiftKey&&ee.jg(Cs.target,Oc[Oc.length-1])&&(ee.zB.stop(Cs,!0),Oc[0].focus())}break;case 10:Cs.ctrlKey&&(ee.zB.stop(Cs,!0),this.getUI().list.toggleHover());break}})),this.ui={container:x,styleSheet:Z,leftActionBar:Ue,titleBar:me,title:Je,description1:fo,description2:Li,widget:Ms,rightActionBar:Rt,checkAll:Qt,inputContainer:Zi,filterContainer:qi,inputBox:is,visibleCountContainer:ys,visibleCount:Is,countContainer:ro,count:Gs,okContainer:Zs,ok:bs,message:_o,customButtonContainer:Zo,customButton:$r,list:lr,progressBar:lc,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:Cs=>this.show(Cs),hide:()=>this.hide(),setVisibilities:Cs=>this.setVisibilities(Cs),setEnabled:Cs=>this.setEnabled(Cs),setContextKey:Cs=>this.options.setContextKey(Cs),linkOpenerDelegate:Cs=>this.options.linkOpenerDelegate(Cs)},this.updateStyles(),this.ui}reparentUI(s){this.ui&&(this.parentElement=s,ee.R3(this.parentElement,this.ui.container))}pick(s,x={},Z=er.T.None){return new Promise((me,Ee)=>{let Ue=Qt=>{var Li;Ue=me,(Li=x.onKeyMods)===null||Li===void 0||Li.call(x,Je.keyMods),me(Qt)};if(Z.isCancellationRequested){Ue(void 0);return}const Je=this.createQuickPick();let Rt;const Ut=[Je,Je.onDidAccept(()=>{if(Je.canSelectMany)Ue(Je.selectedItems.slice()),Je.hide();else{const Qt=Je.activeItems[0];Qt&&(Ue(Qt),Je.hide())}}),Je.onDidChangeActive(Qt=>{const Li=Qt[0];Li&&x.onDidFocus&&x.onDidFocus(Li)}),Je.onDidChangeSelection(Qt=>{if(!Je.canSelectMany){const Li=Qt[0];Li&&(Ue(Li),Je.hide())}}),Je.onDidTriggerItemButton(Qt=>x.onDidTriggerItemButton&&x.onDidTriggerItemButton(Ln(Xi({},Qt),{removeItem:()=>{const Li=Je.items.indexOf(Qt.item);if(Li!==-1){const Zi=Je.items.slice(),qi=Zi.splice(Li,1),is=Je.activeItems.filter(Is=>Is!==qi[0]),ys=Je.keepScrollPosition;Je.keepScrollPosition=!0,Je.items=Zi,is&&(Je.activeItems=is),Je.keepScrollPosition=ys}}}))),Je.onDidTriggerSeparatorButton(Qt=>{var Li;return(Li=x.onDidTriggerSeparatorButton)===null||Li===void 0?void 0:Li.call(x,Qt)}),Je.onDidChangeValue(Qt=>{Rt&&!Qt&&(Je.activeItems.length!==1||Je.activeItems[0]!==Rt)&&(Je.activeItems=[Rt])}),Z.onCancellationRequested(()=>{Je.hide()}),Je.onDidHide(()=>{(0,Ae.B9)(Ut),Ue(void 0)})];Je.title=x.title,Je.canSelectMany=!!x.canPickMany,Je.placeholder=x.placeHolder,Je.ignoreFocusOut=!!x.ignoreFocusLost,Je.matchOnDescription=!!x.matchOnDescription,Je.matchOnDetail=!!x.matchOnDetail,Je.matchOnLabel=x.matchOnLabel===void 0||x.matchOnLabel,Je.autoFocusOnList=x.autoFocusOnList===void 0||x.autoFocusOnList,Je.quickNavigate=x.quickNavigate,Je.hideInput=!!x.hideInput,Je.contextKey=x.contextKey,Je.busy=!0,Promise.all([s,x.activeItem]).then(([Qt,Li])=>{Rt=Li,Je.busy=!1,Je.items=Qt,Je.canSelectMany&&(Je.selectedItems=Qt.filter(Zi=>Zi.type!=="separator"&&Zi.picked)),Rt&&(Je.activeItems=[Rt])}),Je.show(),Promise.resolve(s).then(void 0,Qt=>{Ee(Qt),Je.hide()})})}createQuickPick(){const s=this.getUI(!0);return new Js(s)}createInputBox(){const s=this.getUI(!0);return new qs(s)}show(s){const x=this.getUI(!0);this.onShowEmitter.fire();const Z=this.controller;this.controller=s,Z==null||Z.didHide(),this.setEnabled(!0),x.leftActionBar.clear(),x.title.textContent="",x.description1.textContent="",x.description2.textContent="",ee.mc(x.widget),x.rightActionBar.clear(),x.checkAll.checked=!1,x.inputBox.placeholder="",x.inputBox.password=!1,x.inputBox.showDecoration(Ti.Z.Ignore),x.visibleCount.setCount(0),x.count.setCount(0),ee.mc(x.message),x.progressBar.stop(),x.list.setElements([]),x.list.matchOnDescription=!1,x.list.matchOnDetail=!1,x.list.matchOnLabel=!0,x.list.sortByLabel=!0,x.ignoreFocusOut=!1,x.inputBox.toggles=void 0;const me=this.options.backKeybindingLabel();Xs.tooltip=me?(0,Ri.NC)("quickInput.backWithKeybinding","Back ({0})",me):(0,Ri.NC)("quickInput.back","Back"),x.container.style.display="",this.updateLayout(),x.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(s){const x=this.getUI();x.title.style.display=s.title?"":"none",x.description1.style.display=s.description&&(s.inputBox||s.checkAll)?"":"none",x.description2.style.display=s.description&&!(s.inputBox||s.checkAll)?"":"none",x.checkAll.style.display=s.checkAll?"":"none",x.inputContainer.style.display=s.inputBox?"":"none",x.filterContainer.style.display=s.inputBox?"":"none",x.visibleCountContainer.style.display=s.visibleCount?"":"none",x.countContainer.style.display=s.count?"":"none",x.okContainer.style.display=s.ok?"":"none",x.customButtonContainer.style.display=s.customButton?"":"none",x.message.style.display=s.message?"":"none",x.progressBar.getContainer().style.display=s.progressBar?"":"none",x.list.display(!!s.list),x.container.classList.toggle("show-checkboxes",!!s.checkBox),x.container.classList.toggle("hidden-input",!s.inputBox&&!s.description),this.updateLayout()}setEnabled(s){if(s!==this.enabled){this.enabled=s;for(const x of this.getUI().leftActionBar.viewItems)x.action.enabled=s;for(const x of this.getUI().rightActionBar.viewItems)x.action.enabled=s;this.getUI().checkAll.disabled=!s,this.getUI().inputBox.enabled=s,this.getUI().ok.enabled=s,this.getUI().list.enabled=s}}hide(s){var x,Z;const me=this.controller;if(!me)return;const Ee=(x=this.ui)===null||x===void 0?void 0:x.container,Ue=Ee&&!ee.b5(Ee);if(this.controller=null,this.onHideEmitter.fire(),Ee&&(Ee.style.display="none"),!Ue){let Je=this.previousFocusElement;for(;Je&&!Je.offsetParent;)Je=(Z=Je.parentElement)!==null&&Z!==void 0?Z:void 0;Je!=null&&Je.offsetParent?(Je.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}me.didHide(s)}layout(s,x){this.dimension=s,this.titleBarOffset=x,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const s=this.ui.container.style,x=Math.min(this.dimension.width*.62,co.MAX_WIDTH);s.width=x+"px",s.marginLeft="-"+x/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(s){this.styles=s,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:s,quickInputBackground:x,quickInputForeground:Z,widgetBorder:me,widgetShadow:Ee}=this.styles.widget;this.ui.titleBar.style.backgroundColor=s!=null?s:"",this.ui.container.style.backgroundColor=x!=null?x:"",this.ui.container.style.color=Z!=null?Z:"",this.ui.container.style.border=me?`1px solid ${me}`:"",this.ui.container.style.boxShadow=Ee?`0 0 8px 2px ${Ee}`:"",this.ui.list.style(this.styles.list);const Ue=[];this.styles.pickerGroup.pickerGroupBorder&&Ue.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&Ue.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&Ue.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Ue.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Ue.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Ue.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Ue.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Ue.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Ue.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Ue.push("}"));const Je=Ue.join(`
`);Je!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Je)}}}co.MAX_WIDTH=600;var kc=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},za=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let hl=class extends we.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Ba))),this._quickAccess}constructor(s,x,Z,me){super(Z),this.instantiationService=s,this.contextKeyService=x,this.layoutService=me,this._onShow=this._register(new re.Q5),this._onHide=this._register(new re.Q5),this.contexts=new Map}createController(s=this.layoutService,x){const Z={idPrefix:"quickInput_",container:s.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:Ee=>this.setContextKey(Ee),linkOpenerDelegate:Ee=>{this.instantiationService.invokeFunction(Ue=>{Ue.get(na.v).open(Ee,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>s.focus(),createList:(Ee,Ue,Je,Rt,Ut)=>this.instantiationService.createInstance(ka.ev,Ee,Ue,Je,Rt,Ut),styles:this.computeStyles()},me=this._register(new co(Xi(Xi({},Z),x),this.themeService,this.layoutService));return me.layout(s.activeContainerDimension,s.activeContainerOffset.quickPickTop),this._register(s.onDidLayoutActiveContainer(Ee=>me.layout(Ee,s.activeContainerOffset.quickPickTop))),this._register(s.onDidChangeActiveContainer(()=>{me.isVisible()||me.layout(s.activeContainerDimension,s.activeContainerOffset.quickPickTop)})),this._register(me.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(me.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),me}setContextKey(s){let x;s&&(x=this.contexts.get(s),x||(x=new ut.uy(s,!1).bindTo(this.contextKeyService),this.contexts.set(s,x))),!(x&&x.get())&&(this.resetContextKeys(),x==null||x.set(!0))}resetContextKeys(){this.contexts.forEach(s=>{s.get()&&s.reset()})}pick(s,x={},Z=er.T.None){return this.controller.pick(s,x,Z)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,Ws.n_1)(Ws.zKr),quickInputForeground:(0,Ws.n_1)(Ws.tZ6),quickInputTitleBackground:(0,Ws.n_1)(Ws.loF),widgetBorder:(0,Ws.n_1)(Ws.A42),widgetShadow:(0,Ws.n_1)(Ws.rh)},inputBox:$o.Hc,toggle:$o.pl,countBadge:$o.ku,button:$o.wG,progressBar:$o.b5,keybindingLabel:$o.eO,list:(0,$o.TU)({listBackground:Ws.zKr,listFocusBackground:Ws.Vqd,listFocusForeground:Ws.NPS,listInactiveFocusForeground:Ws.NPS,listInactiveSelectionIconForeground:Ws.cbQ,listInactiveFocusBackground:Ws.Vqd,listFocusOutline:Ws.xL1,listInactiveFocusOutline:Ws.xL1}),pickerGroup:{pickerGroupBorder:(0,Ws.n_1)(Ws.opG),pickerGroupForeground:(0,Ws.n_1)(Ws.kJk)}}}};hl=kc([za(0,ct.TG),za(1,ut.i6),za(2,we.XE),za(3,Nt)],hl);var Fc=e(88289),cc=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},ja=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Fl=class extends hl{constructor(s,x,Z,me,Ee){super(x,Z,me,new mi(s.getContainerDomNode(),Ee)),this.host=void 0;const Ue=ua.get(s);if(Ue){const Je=Ue.widget;this.host={_serviceBrand:void 0,get mainContainer(){return Je.getDomNode()},getContainer(){return Je.getDomNode()},get containers(){return[Je.getDomNode()]},get activeContainer(){return Je.getDomNode()},get mainContainerDimension(){return s.getLayoutInfo()},get activeContainerDimension(){return s.getLayoutInfo()},get onDidLayoutMainContainer(){return s.onDidLayoutChange},get onDidLayoutActiveContainer(){return s.onDidLayoutChange},get onDidLayoutContainer(){return re.ju.map(s.onDidLayoutChange,Rt=>({container:Je.getDomNode(),dimension:Rt}))},get onDidChangeActiveContainer(){return re.ju.None},get onDidAddContainer(){return re.ju.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>s.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};Fl=cc([ja(1,ct.TG),ja(2,ut.i6),ja(3,we.XE),ja(4,vt.$)],Fl);let fl=class{get activeService(){const s=this.codeEditorService.getFocusedCodeEditor();if(!s)throw new Error("Quick input service needs a focused editor to work.");let x=this.mapEditorToService.get(s);if(!x){const Z=x=this.instantiationService.createInstance(Fl,s);this.mapEditorToService.set(s,x),(0,Fc.M)(s.onDidDispose)(()=>{Z.dispose(),this.mapEditorToService.delete(s)})}return x}get quickAccess(){return this.activeService.quickAccess}constructor(s,x){this.instantiationService=s,this.codeEditorService=x,this.mapEditorToService=new Map}pick(s,x={},Z=er.T.None){return this.activeService.pick(s,x,Z)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};fl=cc([ja(0,ct.TG),ja(1,vt.$)],fl);class ua{static get(s){return s.getContribution(ua.ID)}constructor(s){this.editor=s,this.widget=new gl(this.editor)}dispose(){this.widget.dispose()}}ua.ID="editor.controller.quickInput";class gl{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return gl.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}gl.ID="editor.contrib.quickInputWidget",(0,at._K)(ua.ID,ua,4);var Bc=e(88542),Uo=e(44156),Ka=e(31106),Wc=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Bl=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Wl=class extends Ae.JT{constructor(s,x,Z){super(),this._contextKeyService=s,this._layoutService=x,this._configurationService=Z,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new re.Q5,this._onDidChangeReducedMotion=new re.Q5,this._accessibilityModeEnabledContext=Ka.UA.bindTo(this._contextKeyService);const me=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(Ue=>{Ue.affectsConfiguration("editor.accessibilitySupport")&&(me(),this._onDidChangeScreenReaderOptimized.fire()),Ue.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),me(),this._register(this.onDidChangeScreenReaderOptimized(()=>me()));const Ee=je.Ex.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Ee.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Ee)}initReducedMotionListeners(s){this._register((0,ee.nm)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const x=()=>{const Z=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",Z),this._layoutService.mainContainer.classList.toggle("enable-motion",!Z)};x(),this._register(this.onDidChangeReducedMotion(()=>x()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Wl=Wc([Bl(0,ut.i6),Bl(1,Nt),Bl(2,ri.Ui)],Wl);var ml=e(87060),pl=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Nr=function(Xe,s){return function(x,Z){s(x,Z,Xe)}},ha,Tr;let dc=class{constructor(s,x){this._commandService=s,this._hiddenStates=new vl(x)}createMenu(s,x,Z){return new _l(s,this._hiddenStates,Xi({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},Z),this._commandService,x)}resetHiddenStates(s){this._hiddenStates.reset(s)}};dc=pl([Nr(0,oi.H),Nr(1,ml.Uy)],dc);let vl=ha=class{constructor(s){this._storageService=s,this._disposables=new Ae.SL,this._onDidChange=new re.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const x=s.get(ha._key,0,"{}");this._data=JSON.parse(x)}catch(x){this._data=Object.create(null)}this._disposables.add(s.onDidChangeValue(0,ha._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const x=s.get(ha._key,0,"{}");this._data=JSON.parse(x)}catch(x){console.log("FAILED to read storage after UPDATE",x)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(s,x){var Z;return(Z=this._hiddenByDefaultCache.get(`${s.id}/${x}`))!==null&&Z!==void 0?Z:!1}setDefaultState(s,x,Z){this._hiddenByDefaultCache.set(`${s.id}/${x}`,Z)}isHidden(s,x){var Z,me;const Ee=this._isHiddenByDefault(s,x),Ue=(me=(Z=this._data[s.id])===null||Z===void 0?void 0:Z.includes(x))!==null&&me!==void 0?me:!1;return Ee?!Ue:Ue}updateHidden(s,x,Z){this._isHiddenByDefault(s,x)&&(Z=!Z);const Ee=this._data[s.id];if(Z)Ee?Ee.indexOf(x)<0&&Ee.push(x):this._data[s.id]=[x];else if(Ee){const Ue=Ee.indexOf(x);Ue>=0&&(0,Et.LS)(Ee,Ue),Ee.length===0&&delete this._data[s.id]}this._persist()}reset(s){if(s===void 0)this._data=Object.create(null),this._persist();else{for(const{id:x}of s)this._data[x]&&delete this._data[x];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const s=JSON.stringify(this._data);this._storageService.store(ha._key,s,0,0)}finally{this._ignoreChangeEvent=!1}}};vl._key="menu.hiddenCommands",vl=ha=pl([Nr(0,ml.Uy)],vl);let uc=Tr=class{constructor(s,x,Z,me,Ee){this._id=s,this._hiddenStates=x,this._collectContextKeysForSubmenus=Z,this._commandService=me,this._contextKeyService=Ee,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const s=Ns.BH.getMenuItems(this._id);let x;s.sort(Tr._compareMenuItems);for(const Z of s){const me=Z.group||"";(!x||x[0]!==me)&&(x=[me,[]],this._menuGroups.push(x)),x[1].push(Z),this._collectContextKeys(Z)}}_collectContextKeys(s){if(Tr._fillInKbExprKeys(s.when,this._structureContextKeys),(0,Ns.vr)(s)){if(s.command.precondition&&Tr._fillInKbExprKeys(s.command.precondition,this._preconditionContextKeys),s.command.toggled){const x=s.command.toggled.condition||s.command.toggled;Tr._fillInKbExprKeys(x,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&Ns.BH.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}createActionGroups(s){const x=[];for(const Z of this._menuGroups){const[me,Ee]=Z,Ue=[];for(const Je of Ee)if(this._contextKeyService.contextMatchesRules(Je.when)){const Rt=(0,Ns.vr)(Je);Rt&&this._hiddenStates.setDefaultState(this._id,Je.command.id,!!Je.isHiddenByDefault);const Ut=vd(this._id,Rt?Je.command:Je,this._hiddenStates);if(Rt)Ue.push(new Ns.U8(Je.command,Je.alt,s,Ut,this._contextKeyService,this._commandService));else{const Qt=new Tr(Je.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(s),Li=Fs.Z0.join(...Qt.map(Zi=>Zi[1]));Li.length>0&&Ue.push(new Ns.NZ(Je,Ut,Li))}}Ue.length>0&&x.push([me,Ue])}return x}static _fillInKbExprKeys(s,x){if(s)for(const Z of s.keys())x.add(Z)}static _compareMenuItems(s,x){const Z=s.group,me=x.group;if(Z!==me){if(Z){if(!me)return-1}else return 1;if(Z==="navigation")return-1;if(me==="navigation")return 1;const Je=Z.localeCompare(me);if(Je!==0)return Je}const Ee=s.order||0,Ue=x.order||0;return Ee<Ue?-1:Ee>Ue?1:Tr._compareTitles((0,Ns.vr)(s)?s.command.title:s.title,(0,Ns.vr)(x)?x.command.title:x.title)}static _compareTitles(s,x){const Z=typeof s=="string"?s:s.original,me=typeof x=="string"?x:x.original;return Z.localeCompare(me)}};uc=Tr=pl([Nr(3,oi.H),Nr(4,ut.i6)],uc);let _l=class{constructor(s,x,Z,me,Ee){this._disposables=new Ae.SL,this._menuInfo=new uc(s,x,Z.emitEventsForSubmenuChanges,me,Ee);const Ue=new rs.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},Z.eventDebounceDelay);this._disposables.add(Ue),this._disposables.add(Ns.BH.onDidChangeMenu(Qt=>{Qt.has(s)&&Ue.schedule()}));const Je=this._disposables.add(new Ae.SL),Rt=Qt=>{let Li=!1,Zi=!1,qi=!1;for(const is of Qt)if(Li=Li||is.isStructuralChange,Zi=Zi||is.isEnablementChange,qi=qi||is.isToggleChange,Li&&Zi&&qi)break;return{menu:this,isStructuralChange:Li,isEnablementChange:Zi,isToggleChange:qi}},Ut=()=>{Je.add(Ee.onDidChangeContext(Qt=>{const Li=Qt.affectsSome(this._menuInfo.structureContextKeys),Zi=Qt.affectsSome(this._menuInfo.preconditionContextKeys),qi=Qt.affectsSome(this._menuInfo.toggledContextKeys);(Li||Zi||qi)&&this._onDidChange.fire({menu:this,isStructuralChange:Li,isEnablementChange:Zi,isToggleChange:qi})})),Je.add(x.onDidChange(Qt=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new re.D0({onWillAddFirstListener:Ut,onDidRemoveLastListener:Je.clear.bind(Je),delay:Z.eventDebounceDelay,merge:Rt}),this.onDidChange=this._onDidChange.event}getActions(s){return this._menuInfo.createActionGroups(s)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};_l=pl([Nr(3,oi.H),Nr(4,ut.i6)],_l);function vd(Xe,s,x){const Z=(0,Ns.f6)(s)?s.submenu.id:s.id,me=typeof s.title=="string"?s.title:s.title.value,Ee=(0,Fs.xw)({id:`hide/${Xe.id}/${Z}`,label:(0,Ri.NC)("hide.label","Hide '{0}'",me),run(){x.updateHidden(Xe,Z,!0)}}),Ue=(0,Fs.xw)({id:`toggle/${Xe.id}/${Z}`,label:me,get checked(){return!x.isHidden(Xe,Z)},run(){x.updateHidden(Xe,Z,!!this.checked)}});return{hide:Ee,toggle:Ue,get isHidden(){return!Ue.checked}}}var hc=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Hl=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Cl=class extends Ae.JT{constructor(s,x){super(),this.layoutService=s,this.logService=x,this.mapTextToType=new Map,this.findText="",this.resources=[],(ta.G6||ta.MG)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const s=()=>{const x=new rs.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=x,navigator.clipboard.write([new ClipboardItem({"text/plain":x.p})]).catch(Z=>qt(this,null,function*(){(!(Z instanceof Error)||Z.name!=="NotAllowedError"||!x.isRejected)&&this.logService.error(Z)}))};this._register(re.ju.runAndSubscribe(this.layoutService.onDidAddContainer,({container:x,disposables:Z})=>{Z.add((0,ee.nm)(x,"click",s)),Z.add((0,ee.nm)(x,"keydown",s))},{container:this.layoutService.mainContainer,disposables:this._store}))}writeText(s,x){return qt(this,null,function*(){if(x){this.mapTextToType.set(x,s);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(s);try{return yield navigator.clipboard.writeText(s)}catch(Ue){console.error(Ue)}const Z=(0,ee.uP)(),me=Z.activeElement,Ee=Z.body.appendChild((0,ee.$)("textarea",{"aria-hidden":!0}));Ee.style.height="1px",Ee.style.width="1px",Ee.style.position="absolute",Ee.value=s,Ee.focus(),Ee.select(),Z.execCommand("copy"),me instanceof HTMLElement&&me.focus(),Z.body.removeChild(Ee)})}readText(s){return qt(this,null,function*(){if(s)return this.mapTextToType.get(s)||"";try{return yield navigator.clipboard.readText()}catch(x){return console.error(x),""}})}readFindText(){return qt(this,null,function*(){return this.findText})}writeFindText(s){return qt(this,null,function*(){this.findText=s})}writeResources(s){return qt(this,null,function*(){this.resources=s})}readResources(){return qt(this,null,function*(){return this.resources})}};Cl=hc([Hl(0,Nt),Hl(1,Si.VZ)],Cl);var Vl=e(84972),fa=e(53725),Hc=e(4767),Vc=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Uc=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};const $a="data-keybinding-context";class bl{constructor(s,x){this._id=s,this._parent=x,this._value=Object.create(null),this._value._contextId=s}get value(){return Xi({},this._value)}setValue(s,x){return this._value[s]!==x?(this._value[s]=x,!0):!1}removeValue(s){return s in this._value?(delete this._value[s],!0):!1}getValue(s){const x=this._value[s];return typeof x=="undefined"&&this._parent?this._parent.getValue(s):x}}class ga extends bl{constructor(){super(-1,null)}setValue(s,x){return!1}removeValue(s){return!1}getValue(s){}}ga.INSTANCE=new ga;class Ga extends bl{constructor(s,x,Z){super(s,null),this._configurationService=x,this._values=Hc.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(me=>{if(me.source===7){const Ee=Array.from(this._values,([Ue])=>Ue);this._values.clear(),Z.fire(new zl(Ee))}else{const Ee=[];for(const Ue of me.affectedKeys){const Je=`config.${Ue}`,Rt=this._values.findSuperstr(Je);Rt!==void 0&&(Ee.push(...fa.$.map(Rt,([Ut])=>Ut)),this._values.deleteSuperstr(Je)),this._values.has(Je)&&(Ee.push(Je),this._values.delete(Je))}Z.fire(new zl(Ee))}})}dispose(){this._listener.dispose()}getValue(s){if(s.indexOf(Ga._keyPrefix)!==0)return super.getValue(s);if(this._values.has(s))return this._values.get(s);const x=s.substr(Ga._keyPrefix.length),Z=this._configurationService.getValue(x);let me;switch(typeof Z){case"number":case"boolean":case"string":me=Z;break;default:Array.isArray(Z)?me=JSON.stringify(Z):me=Z}return this._values.set(s,me),me}setValue(s,x){return super.setValue(s,x)}removeValue(s){return super.removeValue(s)}}Ga._keyPrefix="config.";class zc{constructor(s,x,Z){this._service=s,this._key=x,this._defaultValue=Z,this.reset()}set(s){this._service.setContext(this._key,s)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Ul{constructor(s){this.key=s}affectsSome(s){return s.has(this.key)}allKeysContainedIn(s){return this.affectsSome(s)}}class zl{constructor(s){this.keys=s}affectsSome(s){for(const x of this.keys)if(s.has(x))return!0;return!1}allKeysContainedIn(s){return this.keys.every(x=>s.has(x))}}class fc{constructor(s){this.events=s}affectsSome(s){for(const x of this.events)if(x.affectsSome(s))return!0;return!1}allKeysContainedIn(s){return this.events.every(x=>x.allKeysContainedIn(s))}}function jc(Xe,s){return Xe.allKeysContainedIn(new Set(Object.keys(s)))}class yl extends Ae.JT{constructor(s){super(),this._onDidChangeContext=this._register(new re.K3({merge:x=>new fc(x)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=s}createKey(s,x){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new zc(this,s,x)}bufferChangeEvents(s){this._onDidChangeContext.pause();try{s()}finally{this._onDidChangeContext.resume()}}createScoped(s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new _d(this,s)}contextMatchesRules(s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const x=this.getContextValuesContainer(this._myContextId);return s?s.evaluate(x):!0}getContextKeyValue(s){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(s)}setContext(s,x){if(this._isDisposed)return;const Z=this.getContextValuesContainer(this._myContextId);Z&&Z.setValue(s,x)&&this._onDidChangeContext.fire(new Ul(s))}removeContext(s){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(s)&&this._onDidChangeContext.fire(new Ul(s))}getContext(s){return this._isDisposed?ga.INSTANCE:this.getContextValuesContainer(gc(s))}dispose(){super.dispose(),this._isDisposed=!0}}let jl=class extends yl{constructor(s){super(0),this._contexts=new Map,this._lastContextId=0;const x=this._register(new Ga(this._myContextId,s,this._onDidChangeContext));this._contexts.set(this._myContextId,x)}getContextValuesContainer(s){return this._isDisposed?ga.INSTANCE:this._contexts.get(s)||ga.INSTANCE}createChildContext(s=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const x=++this._lastContextId;return this._contexts.set(x,new bl(x,this.getContextValuesContainer(s))),x}disposeContext(s){this._isDisposed||this._contexts.delete(s)}};jl=Vc([Uc(0,ri.Ui)],jl);class _d extends yl{constructor(s,x){if(super(s.createChildContext()),this._parentChangeListener=this._register(new Ae.XK),this._parent=s,this._updateParentChangeListener(),this._domNode=x,this._domNode.hasAttribute($a)){let Z="";this._domNode.classList&&(Z=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${Z?": "+Z:""}`)}this._domNode.setAttribute($a,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(s=>{const Z=this._parent.getContextValuesContainer(this._myContextId).value;jc(s,Z)||this._onDidChangeContext.fire(s)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute($a),super.dispose())}getContextValuesContainer(s){return this._isDisposed?ga.INSTANCE:this._parent.getContextValuesContainer(s)}createChildContext(s=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(s)}disposeContext(s){this._isDisposed||this._parent.disposeContext(s)}}function gc(Xe){for(;Xe;){if(Xe.hasAttribute($a)){const s=Xe.getAttribute($a);return s?parseInt(s,10):NaN}Xe=Xe.parentElement}return 0}function Kc(Xe,s,x){Xe.get(ut.i6).createKey(String(s),$c(x))}function $c(Xe){return(0,Mt.rs)(Xe,s=>{if(typeof s=="object"&&s.$mid===1)return rt.o.revive(s).toString();if(s instanceof rt.o)return s.toString()})}oi.P.registerCommand("_setContext",Kc),oi.P.registerCommand({id:"getContextKeyInfo",handler(){return[...ut.uy.all()].sort((Xe,s)=>Xe.key.localeCompare(s.key))},metadata:{description:(0,Ri.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),oi.P.registerCommand("_generateContextKeyInfo",function(){const Xe=[],s=new Set;for(const x of ut.uy.all())s.has(x.key)||(s.add(x.key),Xe.push(x));Xe.sort((x,Z)=>x.key.localeCompare(Z.key)),console.log(JSON.stringify(Xe,void 0,2))});var Mr=e(97108);class mc{constructor(s,x){this.key=s,this.data=x,this.incoming=new Map,this.outgoing=new Map}}class pc{constructor(s){this._hashFn=s,this._nodes=new Map}roots(){const s=[];for(const x of this._nodes.values())x.outgoing.size===0&&s.push(x);return s}insertEdge(s,x){const Z=this.lookupOrInsertNode(s),me=this.lookupOrInsertNode(x);Z.outgoing.set(me.key,me),me.incoming.set(Z.key,Z)}removeNode(s){const x=this._hashFn(s);this._nodes.delete(x);for(const Z of this._nodes.values())Z.outgoing.delete(x),Z.incoming.delete(x)}lookupOrInsertNode(s){const x=this._hashFn(s);let Z=this._nodes.get(x);return Z||(Z=new mc(x,s),this._nodes.set(x,Z)),Z}isEmpty(){return this._nodes.size===0}toString(){const s=[];for(const[x,Z]of this._nodes)s.push(`${x}
	(-> incoming)[${[...Z.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...Z.outgoing.keys()].join(",")}]
`);return s.join(`
`)}findCycleSlow(){for(const[s,x]of this._nodes){const Z=new Set([s]),me=this._findCycle(x,Z);if(me)return me}}_findCycle(s,x){for(const[Z,me]of s.outgoing){if(x.has(Z))return[...x,Z].join(" -> ");x.add(Z);const Ee=this._findCycle(me,x);if(Ee)return Ee;x.delete(Z)}}}var vc=e(60972);const _c=!1;class Gc extends Error{constructor(s){var x;super("cyclic dependency between services"),this.message=(x=s.findCycleSlow())!==null&&x!==void 0?x:`UNABLE to detect cycle, dumping graph: 
${s.toString()}`}}class or{constructor(s=new vc.y,x=!1,Z,me=_c){var Ee;this._services=s,this._strict=x,this._parent=Z,this._enableTracing=me,this._activeInstantiations=new Set,this._services.set(ct.TG,this),this._globalGraph=me?(Ee=Z==null?void 0:Z._globalGraph)!==null&&Ee!==void 0?Ee:new pc(Ue=>Ue):void 0}createChild(s){return new or(s,this._strict,this,this._enableTracing)}invokeFunction(s,...x){const Z=po.traceInvocation(this._enableTracing,s);let me=!1;try{return s({get:Ue=>{if(me)throw(0,ui.L6)("service accessor is only valid during the invocation of its target method");const Je=this._getOrCreateServiceInstance(Ue,Z);if(!Je)throw new Error(`[invokeFunction] unknown service '${Ue}'`);return Je}},...x)}finally{me=!0,Z.stop()}}createInstance(s,...x){let Z,me;return s instanceof Mr.M?(Z=po.traceCreation(this._enableTracing,s.ctor),me=this._createInstance(s.ctor,s.staticArguments.concat(x),Z)):(Z=po.traceCreation(this._enableTracing,s),me=this._createInstance(s,x,Z)),Z.stop(),me}_createInstance(s,x=[],Z){const me=ct.I8.getServiceDependencies(s).sort((Je,Rt)=>Je.index-Rt.index),Ee=[];for(const Je of me){const Rt=this._getOrCreateServiceInstance(Je.id,Z);Rt||this._throwIfStrict(`[createInstance] ${s.name} depends on UNKNOWN service ${Je.id}.`,!1),Ee.push(Rt)}const Ue=me.length>0?me[0].index:x.length;if(x.length!==Ue){console.trace(`[createInstance] First service dependency of ${s.name} at position ${Ue+1} conflicts with ${x.length} static arguments`);const Je=Ue-x.length;Je>0?x=x.concat(new Array(Je)):x=x.slice(0,Ue)}return Reflect.construct(s,x.concat(Ee))}_setServiceInstance(s,x){if(this._services.get(s)instanceof Mr.M)this._services.set(s,x);else if(this._parent)this._parent._setServiceInstance(s,x);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(s){const x=this._services.get(s);return!x&&this._parent?this._parent._getServiceInstanceOrDescriptor(s):x}_getOrCreateServiceInstance(s,x){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(s));const Z=this._getServiceInstanceOrDescriptor(s);return Z instanceof Mr.M?this._safeCreateAndCacheServiceInstance(s,Z,x.branch(s,!0)):(x.branch(s,!1),Z)}_safeCreateAndCacheServiceInstance(s,x,Z){if(this._activeInstantiations.has(s))throw new Error(`illegal state - RECURSIVELY instantiating service '${s}'`);this._activeInstantiations.add(s);try{return this._createAndCacheServiceInstance(s,x,Z)}finally{this._activeInstantiations.delete(s)}}_createAndCacheServiceInstance(s,x,Z){var me;const Ee=new pc(Rt=>Rt.id.toString());let Ue=0;const Je=[{id:s,desc:x,_trace:Z}];for(;Je.length;){const Rt=Je.pop();if(Ee.lookupOrInsertNode(Rt),Ue++>1e3)throw new Gc(Ee);for(const Ut of ct.I8.getServiceDependencies(Rt.desc.ctor)){const Qt=this._getServiceInstanceOrDescriptor(Ut.id);if(Qt||this._throwIfStrict(`[createInstance] ${s} depends on ${Ut.id} which is NOT registered.`,!0),(me=this._globalGraph)===null||me===void 0||me.insertEdge(String(Rt.id),String(Ut.id)),Qt instanceof Mr.M){const Li={id:Ut.id,desc:Qt,_trace:Rt._trace.branch(Ut.id,!0)};Ee.insertEdge(Rt,Li),Je.push(Li)}}}for(;;){const Rt=Ee.roots();if(Rt.length===0){if(!Ee.isEmpty())throw new Gc(Ee);break}for(const{data:Ut}of Rt){if(this._getServiceInstanceOrDescriptor(Ut.id)instanceof Mr.M){const Li=this._createServiceInstanceWithOwner(Ut.id,Ut.desc.ctor,Ut.desc.staticArguments,Ut.desc.supportsDelayedInstantiation,Ut._trace);this._setServiceInstance(Ut.id,Li)}Ee.removeNode(Ut)}}return this._getServiceInstanceOrDescriptor(s)}_createServiceInstanceWithOwner(s,x,Z=[],me,Ee){if(this._services.get(s)instanceof Mr.M)return this._createServiceInstance(s,x,Z,me,Ee);if(this._parent)return this._parent._createServiceInstanceWithOwner(s,x,Z,me,Ee);throw new Error(`illegalState - creating UNKNOWN service instance ${x.name}`)}_createServiceInstance(s,x,Z=[],me,Ee){if(me){const Ue=new or(void 0,this._strict,this,this._enableTracing);Ue._globalGraphImplicitDependency=String(s);const Je=new Map,Rt=new rs.R5(()=>{const Ut=Ue._createInstance(x,Z,Ee);for(const[Qt,Li]of Je){const Zi=Ut[Qt];if(typeof Zi=="function")for(const qi of Li)Zi.apply(Ut,qi)}return Je.clear(),Ut});return new Proxy(Object.create(null),{get(Ut,Qt){if(!Rt.isInitialized&&typeof Qt=="string"&&(Qt.startsWith("onDid")||Qt.startsWith("onWill"))){let qi=Je.get(Qt);return qi||(qi=new Ce.S,Je.set(Qt,qi)),(ys,Is,ro)=>{const Gs=qi.push([ys,Is,ro]);return(0,Ae.OF)(Gs)}}if(Qt in Ut)return Ut[Qt];const Li=Rt.value;let Zi=Li[Qt];return typeof Zi!="function"||(Zi=Zi.bind(Li),Ut[Qt]=Zi),Zi},set(Ut,Qt,Li){return Rt.value[Qt]=Li,!0},getPrototypeOf(Ut){return x.prototype}})}else return this._createInstance(x,Z,Ee)}_throwIfStrict(s,x){if(x&&console.warn(s),this._strict)throw new Error(s)}}class po{static traceInvocation(s,x){return s?new po(2,x.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):po._None}static traceCreation(s,x){return s?new po(1,x.name):po._None}constructor(s,x){this.type=s,this.name=x,this._start=Date.now(),this._dep=[]}branch(s,x){const Z=new po(3,s.toString());return this._dep.push([s,x,Z]),Z}stop(){const s=Date.now()-this._start;po._totals+=s;let x=!1;function Z(Ee,Ue){const Je=[],Rt=new Array(Ee+1).join("	");for(const[Ut,Qt,Li]of Ue._dep)if(Qt&&Li){x=!0,Je.push(`${Rt}CREATES -> ${Ut}`);const Zi=Z(Ee+1,Li);Zi&&Je.push(Zi)}else Je.push(`${Rt}uses -> ${Ut}`);return Je.join(`
`)}const me=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${Z(1,this)}`,`DONE, took ${s.toFixed(2)}ms (grand total ${po._totals.toFixed(2)}ms)`];(s>2||x)&&po.all.add(me.join(`
`))}}po.all=new Set,po._None=new class extends po{constructor(){super(0,null)}stop(){}branch(){return this}},po._totals=0;const Cc=new Set([de.lg.inMemory,de.lg.vscodeSourceControl,de.lg.walkThrough,de.lg.walkThroughSnippet]);class Zc{constructor(){this._byResource=new Ai.Y9,this._byOwner=new Map}set(s,x,Z){let me=this._byResource.get(s);me||(me=new Map,this._byResource.set(s,me)),me.set(x,Z);let Ee=this._byOwner.get(x);Ee||(Ee=new Ai.Y9,this._byOwner.set(x,Ee)),Ee.set(s,Z)}get(s,x){const Z=this._byResource.get(s);return Z==null?void 0:Z.get(x)}delete(s,x){let Z=!1,me=!1;const Ee=this._byResource.get(s);Ee&&(Z=Ee.delete(x));const Ue=this._byOwner.get(x);if(Ue&&(me=Ue.delete(s)),Z!==me)throw new Error("illegal state");return Z&&me}values(s){var x,Z,me,Ee;return typeof s=="string"?(Z=(x=this._byOwner.get(s))===null||x===void 0?void 0:x.values())!==null&&Z!==void 0?Z:fa.$.empty():rt.o.isUri(s)?(Ee=(me=this._byResource.get(s))===null||me===void 0?void 0:me.values())!==null&&Ee!==void 0?Ee:fa.$.empty():fa.$.map(fa.$.concat(...this._byOwner.values()),Ue=>Ue[1])}}class Za{constructor(s){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ai.Y9,this._service=s,this._subscription=s.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(s){for(const x of s){const Z=this._data.get(x);Z&&this._substract(Z);const me=this._resourceStats(x);this._add(me),this._data.set(x,me)}}_resourceStats(s){const x={errors:0,warnings:0,infos:0,unknowns:0};if(Cc.has(s.scheme))return x;for(const{severity:Z}of this._service.read({resource:s}))Z===yo.ZL.Error?x.errors+=1:Z===yo.ZL.Warning?x.warnings+=1:Z===yo.ZL.Info?x.infos+=1:x.unknowns+=1;return x}_substract(s){this.errors-=s.errors,this.warnings-=s.warnings,this.infos-=s.infos,this.unknowns-=s.unknowns}_add(s){this.errors+=s.errors,this.warnings+=s.warnings,this.infos+=s.infos,this.unknowns+=s.unknowns}}class Cr{constructor(){this._onMarkerChanged=new re.D0({delay:0,merge:Cr._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Zc,this._stats=new Za(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(s,x){for(const Z of x||[])this.changeOne(s,Z,[])}changeOne(s,x,Z){if((0,Et.XY)(Z))this._data.delete(x,s)&&this._onMarkerChanged.fire([x]);else{const me=[];for(const Ee of Z){const Ue=Cr._toMarker(s,x,Ee);Ue&&me.push(Ue)}this._data.set(x,s,me),this._onMarkerChanged.fire([x])}}static _toMarker(s,x,Z){let{code:me,severity:Ee,message:Ue,source:Je,startLineNumber:Rt,startColumn:Ut,endLineNumber:Qt,endColumn:Li,relatedInformation:Zi,tags:qi}=Z;if(Ue)return Rt=Rt>0?Rt:1,Ut=Ut>0?Ut:1,Qt=Qt>=Rt?Qt:Rt,Li=Li>0?Li:Ut,{resource:x,owner:s,code:me,severity:Ee,message:Ue,source:Je,startLineNumber:Rt,startColumn:Ut,endLineNumber:Qt,endColumn:Li,relatedInformation:Zi,tags:qi}}changeAll(s,x){const Z=[],me=this._data.values(s);if(me)for(const Ee of me){const Ue=fa.$.first(Ee);Ue&&(Z.push(Ue.resource),this._data.delete(Ue.resource,s))}if((0,Et.Of)(x)){const Ee=new Ai.Y9;for(const{resource:Ue,marker:Je}of x){const Rt=Cr._toMarker(s,Ue,Je);if(!Rt)continue;const Ut=Ee.get(Ue);Ut?Ut.push(Rt):(Ee.set(Ue,[Rt]),Z.push(Ue))}for(const[Ue,Je]of Ee)this._data.set(Ue,s,Je)}Z.length>0&&this._onMarkerChanged.fire(Z)}read(s=Object.create(null)){let{owner:x,resource:Z,severities:me,take:Ee}=s;if((!Ee||Ee<0)&&(Ee=-1),x&&Z){const Ue=this._data.get(Z,x);if(Ue){const Je=[];for(const Rt of Ue)if(Cr._accept(Rt,me)){const Ut=Je.push(Rt);if(Ee>0&&Ut===Ee)break}return Je}else return[]}else if(!x&&!Z){const Ue=[];for(const Je of this._data.values())for(const Rt of Je)if(Cr._accept(Rt,me)){const Ut=Ue.push(Rt);if(Ee>0&&Ut===Ee)return Ue}return Ue}else{const Ue=this._data.values(Z!=null?Z:x),Je=[];for(const Rt of Ue)for(const Ut of Rt)if(Cr._accept(Ut,me)){const Qt=Je.push(Ut);if(Ee>0&&Qt===Ee)return Je}return Je}}static _accept(s,x){return x===void 0||(x&s.severity)===s.severity}static _merge(s){const x=new Ai.Y9;for(const Z of s)for(const me of Z)x.set(me,!0);return Array.from(x.keys())}}class bc extends Ae.JT{constructor(){super(...arguments),this._configurationModel=new Ki}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Ki;const s=dn.B.as(cn.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(s),s)}updateConfigurationModel(s,x){const Z=this.getConfigurationDefaultOverrides();for(const me of s){const Ee=Z[me],Ue=x[me];Ee!==void 0?this._configurationModel.addValue(me,Ee):Ue?this._configurationModel.addValue(me,Ue.default):this._configurationModel.removeValue(me)}}}var Kl=e(69149);class yc extends Ae.JT{constructor(s,x=[]){super(),this.logger=new Si.qA([s,...x]),this._register(s.onDidChangeLogLevel(Z=>this.setLevel(Z)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(s){this.logger.setLevel(s)}getLevel(){return this.logger.getLevel()}trace(s,...x){this.logger.trace(s,...x)}debug(s,...x){this.logger.debug(s,...x)}info(s,...x){this.logger.info(s,...x)}warn(s,...x){this.logger.warn(s,...x)}error(s,...x){this.logger.error(s,...x)}}var Sc=e(10637),Qc=e(48814),Pr=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},so=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};class Yc{constructor(s){this.disposed=!1,this.model=s,this._onWillDispose=new re.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let $l=class{constructor(s){this.modelService=s}createModelReference(s){const x=this.modelService.getModel(s);return x?Promise.resolve(new Ae.Jz(new Yc(x))):Promise.reject(new Error("Model not found"))}};$l=Pr([so(0,xi.q)],$l);class Sl{show(){return Sl.NULL_PROGRESS_RUNNER}showWhile(s,x){return qt(this,null,function*(){yield s})}}Sl.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Xc{withProgress(s,x,Z){return x({report:()=>{}})}}class Jc{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class qc{confirm(s){return qt(this,null,function*(){return{confirmed:this.doConfirm(s.message,s.detail),checkboxChecked:!1}})}doConfirm(s,x){let Z=s;return x&&(Z=Z+`

`+x),je.Ex.confirm(Z)}prompt(s){return qt(this,null,function*(){var x,Z;let me;if(this.doConfirm(s.message,s.detail)){const Ue=[...(x=s.buttons)!==null&&x!==void 0?x:[]];s.cancelButton&&typeof s.cancelButton!="string"&&typeof s.cancelButton!="boolean"&&Ue.push(s.cancelButton),me=yield(Z=Ue[0])===null||Z===void 0?void 0:Z.run({checkboxChecked:!1})}return{result:me}})}error(s,x){return qt(this,null,function*(){yield this.prompt({type:Ti.Z.Error,message:s,detail:x})})}}class Qa{info(s){return this.notify({severity:Ti.Z.Info,message:s})}warn(s){return this.notify({severity:Ti.Z.Warning,message:s})}error(s){return this.notify({severity:Ti.Z.Error,message:s})}notify(s){switch(s.severity){case Ti.Z.Error:console.error(s.message);break;case Ti.Z.Warning:console.warn(s.message);break;default:console.log(s.message);break}return Qa.NO_OP}prompt(s,x,Z,me){return Qa.NO_OP}status(s,x){return Ae.JT.None}}Qa.NO_OP=new gn.EO;let wl=class{constructor(s){this._onWillExecuteCommand=new re.Q5,this._onDidExecuteCommand=new re.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=s}executeCommand(s,...x){const Z=oi.P.getCommand(s);if(!Z)return Promise.reject(new Error(`command '${s}' not found`));try{this._onWillExecuteCommand.fire({commandId:s,args:x});const me=this._instantiationService.invokeFunction.apply(this._instantiationService,[Z.handler,...x]);return this._onDidExecuteCommand.fire({commandId:s,args:x}),Promise.resolve(me)}catch(me){return Promise.reject(me)}}};wl=Pr([so(0,ct.TG)],wl);let ma=class extends yr{constructor(s,x,Z,me,Ee,Ue){super(s,x,Z,me,Ee),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Je=qi=>{const is=new Ae.SL;is.add(ee.nm(qi,ee.tw.KEY_DOWN,ys=>{const Is=new dt.y(ys);this._dispatch(Is,Is.target)&&(Is.preventDefault(),Is.stopPropagation())})),is.add(ee.nm(qi,ee.tw.KEY_UP,ys=>{const Is=new dt.y(ys);this._singleModifierDispatch(Is,Is.target)&&Is.preventDefault()})),this._domNodeListeners.push(new ed(qi,is))},Rt=qi=>{for(let is=0;is<this._domNodeListeners.length;is++){const ys=this._domNodeListeners[is];ys.domNode===qi&&(this._domNodeListeners.splice(is,1),ys.dispose())}},Ut=qi=>{qi.getOption(61)||Je(qi.getContainerDomNode())},Qt=qi=>{qi.getOption(61)||Rt(qi.getContainerDomNode())};this._register(Ue.onCodeEditorAdd(Ut)),this._register(Ue.onCodeEditorRemove(Qt)),Ue.listCodeEditors().forEach(Ut);const Li=qi=>{Je(qi.getContainerDomNode())},Zi=qi=>{Rt(qi.getContainerDomNode())};this._register(Ue.onDiffEditorAdd(Li)),this._register(Ue.onDiffEditorRemove(Zi)),Ue.listDiffEditors().forEach(Li)}addDynamicKeybinding(s,x,Z,me){return(0,Ae.F8)(oi.P.registerCommand(s,Z),this.addDynamicKeybindings([{keybinding:x,command:s,when:me}]))}addDynamicKeybindings(s){const x=s.map(Z=>{var me;return{keybinding:(0,_t.Z9)(Z.keybinding,st.OS),command:(me=Z.command)!==null&&me!==void 0?me:null,commandArgs:Z.commandArgs,when:Z.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(x),this.updateResolver(),(0,Ae.OF)(()=>{for(let Z=0;Z<this._dynamicKeybindings.length;Z++)if(this._dynamicKeybindings[Z]===x[0]){this._dynamicKeybindings.splice(Z,x.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const s=this._toNormalizedKeybindingItems(Qo.W.getDefaultKeybindings(),!0),x=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Qn(s,x,Z=>this._log(Z))}return this._cachedResolver}_documentHasFocus(){return je.Ex.document.hasFocus()}_toNormalizedKeybindingItems(s,x){const Z=[];let me=0;for(const Ee of s){const Ue=Ee.when||void 0,Je=Ee.keybinding;if(!Je)Z[me++]=new La(void 0,Ee.command,Ee.commandArgs,Ue,x,null,!1);else{const Rt=Sr.resolveKeybinding(Je,st.OS);for(const Ut of Rt)Z[me++]=new La(Ut,Ee.command,Ee.commandArgs,Ue,x,null,!1)}}return Z}resolveKeyboardEvent(s){const x=new _t.$M(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,s.keyCode);return new Sr([x],st.OS)}};ma=Pr([so(0,ut.i6),so(1,oi.H),so(2,Bo.b),so(3,gn.lT),so(4,Si.VZ),so(5,vt.$)],ma);class ed extends Ae.JT{constructor(s,x){super(),this.domNode=s,this._register(x)}}function wc(Xe){return Xe&&typeof Xe=="object"&&(!Xe.overrideIdentifier||typeof Xe.overrideIdentifier=="string")&&(!Xe.resource||Xe.resource instanceof rt.o)}class Gl{constructor(){this._onDidChangeConfiguration=new re.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const s=new bc;this._configuration=new Jn(s.reload(),new Ki,new Ki,new Ki),s.dispose()}getValue(s,x){const Z=typeof s=="string"?s:void 0,me=wc(s)?s:wc(x)?x:{};return this._configuration.getValue(Z,me,void 0)}updateValues(s){const x={data:this._configuration.toData()},Z=[];for(const me of s){const[Ee,Ue]=me;this.getValue(Ee)!==Ue&&(this._configuration.updateValue(Ee,Ue),Z.push(Ee))}if(Z.length>0){const me=new xs({keys:Z,overrides:[]},x,this._configuration);me.source=8,me.sourceConfig=null,this._onDidChangeConfiguration.fire(me)}return Promise.resolve()}updateValue(s,x,Z,me){return this.updateValues([[s,x]])}inspect(s,x={}){return this._configuration.inspect(s,x,void 0)}}let Mo=class{constructor(s,x,Z){this.configurationService=s,this.modelService=x,this.languageService=Z,this._onDidChangeConfiguration=new re.Q5,this.configurationService.onDidChangeConfiguration(me=>{this._onDidChangeConfiguration.fire({affectedKeys:me.affectedKeys,affectsConfiguration:(Ee,Ue)=>me.affectsConfiguration(Ue)})})}getValue(s,x,Z){const me=nt.L.isIPosition(x)?x:null,Ee=me?typeof Z=="string"?Z:void 0:typeof x=="string"?x:void 0,Ue=s?this.getLanguage(s,me):void 0;return typeof Ee=="undefined"?this.configurationService.getValue({resource:s,overrideIdentifier:Ue}):this.configurationService.getValue(Ee,{resource:s,overrideIdentifier:Ue})}getLanguage(s,x){const Z=this.modelService.getModel(s);return Z?x?Z.getLanguageIdAtPosition(x.lineNumber,x.column):Z.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(s)}};Mo=Pr([so(0,ri.Ui),so(1,xi.q),so(2,kt.O)],Mo);let Zl=class{constructor(s){this.configurationService=s}getEOL(s,x){const Z=this.configurationService.getValue("files.eol",{overrideIdentifier:x,resource:s});return Z&&typeof Z=="string"&&Z!=="auto"?Z:st.IJ||st.dz?`
`:`\r
`}};Zl=Pr([so(0,ri.Ui)],Zl);class pa{publicLog2(){}}class zr{constructor(){const s=rt.o.from({scheme:zr.SCHEME,authority:"model",path:"/"});this.workspace={id:lo.p$,folders:[new lo.md({uri:s,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(s){return s&&s.scheme===zr.SCHEME?this.workspace.folders[0]:null}}zr.SCHEME="inmemory";function Ya(Xe,s,x){if(!s||!(Xe instanceof Gl))return;const Z=[];Object.keys(s).forEach(me=>{(0,he.ei)(me)&&Z.push([`editor.${me}`,s[me]]),x&&(0,he.Pe)(me)&&Z.push([`diffEditor.${me}`,s[me]])}),Z.length>0&&Xe.updateValues(Z)}let va=class{constructor(s){this._modelService=s}hasPreviewHandler(){return!1}apply(s,x){return qt(this,null,function*(){const Z=Array.isArray(s)?s:Q.fo.convert(s),me=new Map;for(const Je of Z){if(!(Je instanceof Q.Gl))throw new Error("bad edit - only text edits are supported");const Rt=this._modelService.getModel(Je.resource);if(!Rt)throw new Error("bad edit - model not found");if(typeof Je.versionId=="number"&&Rt.getVersionId()!==Je.versionId)throw new Error("bad state - model changed in the meantime");let Ut=me.get(Rt);Ut||(Ut=[],me.set(Rt,Ut)),Ut.push(Be.h.replaceMove(pt.e.lift(Je.textEdit.range),Je.textEdit.text))}let Ee=0,Ue=0;for(const[Je,Rt]of me)Je.pushStackElement(),Je.pushEditOperations([],Rt,()=>[]),Je.pushStackElement(),Ue+=1,Ee+=Rt.length;return{ariaSummary:Qe.WU(Wo.iN.bulkEditServiceSummary,Ee,Ue),isApplied:Ee>0}})}};va=Pr([so(0,xi.q)],va);class Lc{getUriLabel(s,x){return s.scheme==="file"?s.fsPath:s.path}getUriBasenameLabel(s){return(0,Eo.EZ)(s)}}let Ll=class extends Or{constructor(s,x){super(s),this._codeEditorService=x}showContextView(s,x,Z){if(!x){const me=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();me&&(x=me.getContainerDomNode())}return super.showContextView(s,x,Z)}};Ll=Pr([so(0,Nt),so(1,vt.$)],Ll);class td{constructor(){this._neverEmitter=new re.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class id extends As{constructor(){super()}}class nd extends yc{constructor(){super(new Si.kw)}}let Ql=class extends fr{constructor(s,x,Z,me,Ee,Ue){super(s,x,Z,me,Ee,Ue),this.configure({blockMouse:!1})}};Ql=Pr([so(0,Bo.b),so(1,gn.lT),so(2,Ho.u),so(3,$s.d),so(4,Ns.co),so(5,ut.i6)],Ql);class sd{playAudioCue(s,x){return qt(this,null,function*(){})}}class od{notify(s,x){}}(0,$t.z)(ri.Ui,Gl,0),(0,$t.z)(Vt.V,Mo,0),(0,$t.z)(Vt.y,Zl,0),(0,$t.z)(lo.ec,zr,0),(0,$t.z)(Gr.e,Lc,0),(0,$t.z)(Bo.b,pa,0),(0,$t.z)(tn.S,qc,0),(0,$t.z)(Qc.Y,Jc,0),(0,$t.z)(gn.lT,Qa,0),(0,$t.z)(yo.lT,Cr,0),(0,$t.z)(kt.O,id,0),(0,$t.z)(Uo.Z,Bc.nI,0),(0,$t.z)(Si.VZ,nd,0),(0,$t.z)(xi.q,Aa,0),(0,$t.z)(Hr.i,Ra,0),(0,$t.z)(ut.i6,jl,0),(0,$t.z)(Us.R9,Xc,0),(0,$t.z)(Us.ek,Sl,0),(0,$t.z)(ml.Uy,ml.vm,0),(0,$t.z)(Pa.p,ti.eu,0),(0,$t.z)(Q.vu,va,0),(0,$t.z)(wr.Y,td,0),(0,$t.z)(Tt.S,$l,0),(0,$t.z)(Ka.F7,Wl,0),(0,$t.z)(ka.Lw,ka.XN,0),(0,$t.z)(oi.H,wl,0),(0,$t.z)($s.d,ma,0),(0,$t.z)(to.eJ,fl,0),(0,$t.z)(Ho.u,Ll,0),(0,$t.z)(na.v,Ma,0),(0,$t.z)(Vl.p,Cl,0),(0,$t.z)(Ho.i,Ql,0),(0,$t.z)(Ns.co,dc,0),(0,$t.z)(Kl.e7,sd,0),(0,$t.z)(Ka.VX,od,0);var Zn;(function(Xe){const s=new vc.y;for(const[Rt,Ut]of(0,$t.d)())s.set(Rt,Ut);const x=new or(s,!0);s.set(ct.TG,x);function Z(Rt){me||Ue({});const Ut=s.get(Rt);if(!Ut)throw new Error("Missing service "+Rt);return Ut instanceof Mr.M?x.invokeFunction(Qt=>Qt.get(Rt)):Ut}Xe.get=Z;let me=!1;const Ee=new re.Q5;function Ue(Rt){if(me)return x;me=!0;for(const[Qt,Li]of(0,$t.d)())s.get(Qt)||s.set(Qt,Li);for(const Qt in Rt)if(Rt.hasOwnProperty(Qt)){const Li=(0,ct.yh)(Qt);s.get(Li)instanceof Mr.M&&s.set(Li,Rt[Qt])}const Ut=(0,Sc.n)();for(const Qt of Ut)try{x.createInstance(Qt)}catch(Li){(0,ui.dL)(Li)}return Ee.fire(),x}Xe.initialize=Ue;function Je(Rt){if(me)return Rt();const Ut=new Ae.SL,Qt=Ut.add(Ee.event(()=>{Qt.dispose(),Ut.add(Rt())}));return Ut}Xe.withServices=Je})(Zn||(Zn={}));var Ec=e(20591),Yl=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Ts=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let El=0,br=!1;function rd(Xe){if(!Xe){if(br)return;br=!0}hi.wW(Xe||je.Ex.document.body)}let xl=class extends Wt.Gm{constructor(s,x,Z,me,Ee,Ue,Je,Rt,Ut,Qt,Li,Zi){const qi=Xi({},x);qi.ariaLabel=qi.ariaLabel||Wo.B8.editorViewAccessibleLabel,qi.ariaLabel=qi.ariaLabel+";"+Wo.B8.accessibilityHelpMessage,super(s,qi,{},Z,me,Ee,Ue,Rt,Ut,Qt,Li,Zi),Je instanceof ma?this._standaloneKeybindingService=Je:this._standaloneKeybindingService=null,rd(qi.ariaContainerElement)}addCommand(s,x,Z){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const me="DYNAMIC_"+ ++El,Ee=ut.Ao.deserialize(Z);return this._standaloneKeybindingService.addDynamicKeybinding(me,s,x,Ee),me}createContextKey(s,x){return this._contextKeyService.createKey(s,x)}addAction(s){if(typeof s.id!="string"||typeof s.label!="string"||typeof s.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ae.JT.None;const x=s.id,Z=s.label,me=ut.Ao.and(ut.Ao.equals("editorId",this.getId()),ut.Ao.deserialize(s.precondition)),Ee=s.keybindings,Ue=ut.Ao.and(me,ut.Ao.deserialize(s.keybindingContext)),Je=s.contextMenuGroupId||null,Rt=s.contextMenuOrder||0,Ut=(qi,...is)=>Promise.resolve(s.run(this,...is)),Qt=new Ae.SL,Li=this.getId()+":"+x;if(Qt.add(oi.P.registerCommand(Li,Ut)),Je){const qi={command:{id:Li,title:Z},when:me,group:Je,order:Rt};Qt.add(Ns.BH.appendMenuItem(Ns.eH.EditorContext,qi))}if(Array.isArray(Ee))for(const qi of Ee)Qt.add(this._standaloneKeybindingService.addDynamicKeybinding(Li,qi,Ut,Ue));const Zi=new qe.p(Li,Z,Z,void 0,me,(...qi)=>Promise.resolve(s.run(this,...qi)),this._contextKeyService);return this._actions.set(x,Zi),Qt.add((0,Ae.OF)(()=>{this._actions.delete(x)})),Qt}_triggerCommand(s,x){if(this._codeEditorService instanceof ai)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(s,x)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(s,x)}};xl=Yl([Ts(2,ct.TG),Ts(3,vt.$),Ts(4,oi.H),Ts(5,ut.i6),Ts(6,$s.d),Ts(7,we.XE),Ts(8,gn.lT),Ts(9,Ka.F7),Ts(10,Ge.c_),Ts(11,Ze.p)],xl);let Xl=class extends xl{constructor(s,x,Z,me,Ee,Ue,Je,Rt,Ut,Qt,Li,Zi,qi,is,ys){const Is=Xi({},x);Ya(Qt,Is,!1);const ro=Rt.registerEditorContainer(s);typeof Is.theme=="string"&&Rt.setTheme(Is.theme),typeof Is.autoDetectHighContrast!="undefined"&&Rt.setAutoDetectHighContrast(!!Is.autoDetectHighContrast);const Gs=Is.model;delete Is.model,super(s,Is,Z,me,Ee,Ue,Je,Rt,Ut,Li,is,ys),this._configurationService=Qt,this._standaloneThemeService=Rt,this._register(ro);let Zs;if(typeof Gs=="undefined"){const bs=qi.getLanguageIdByMimeType(Is.language)||Is.language||St.bd;Zs=xc(Zi,qi,Is.value||"",bs,void 0),this._ownsModel=!0}else Zs=Gs,this._ownsModel=!1;if(this._attachModel(Zs),Zs){const bs={oldModelUrl:null,newModelUrl:Zs.uri};this._onDidChangeModel.fire(bs)}}dispose(){super.dispose()}updateOptions(s){Ya(this._configurationService,s,!1),typeof s.theme=="string"&&this._standaloneThemeService.setTheme(s.theme),typeof s.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!s.autoDetectHighContrast),super.updateOptions(s)}_postDetachModelCleanup(s){super._postDetachModelCleanup(s),s&&this._ownsModel&&(s.dispose(),this._ownsModel=!1)}};Xl=Yl([Ts(2,ct.TG),Ts(3,vt.$),Ts(4,oi.H),Ts(5,ut.i6),Ts(6,$s.d),Ts(7,Uo.Z),Ts(8,gn.lT),Ts(9,ri.Ui),Ts(10,Ka.F7),Ts(11,xi.q),Ts(12,kt.O),Ts(13,Ge.c_),Ts(14,Ze.p)],Xl);let Jl=class extends Ec.p{constructor(s,x,Z,me,Ee,Ue,Je,Rt,Ut,Qt,Li,Zi){const qi=Xi({},x);Ya(Rt,qi,!0);const is=Ue.registerEditorContainer(s);typeof qi.theme=="string"&&Ue.setTheme(qi.theme),typeof qi.autoDetectHighContrast!="undefined"&&Ue.setAutoDetectHighContrast(!!qi.autoDetectHighContrast),super(s,qi,{},me,Z,Ee,Zi,Qt),this._configurationService=Rt,this._standaloneThemeService=Ue,this._register(is)}dispose(){super.dispose()}updateOptions(s){Ya(this._configurationService,s,!0),typeof s.theme=="string"&&this._standaloneThemeService.setTheme(s.theme),typeof s.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!s.autoDetectHighContrast),super.updateOptions(s)}_createInnerEditor(s,x,Z){return s.createInstance(xl,x,Z)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(s,x,Z){return this.getModifiedEditor().addCommand(s,x,Z)}createContextKey(s,x){return this.getModifiedEditor().createContextKey(s,x)}addAction(s){return this.getModifiedEditor().addAction(s)}};Jl=Yl([Ts(2,ct.TG),Ts(3,ut.i6),Ts(4,vt.$),Ts(5,Uo.Z),Ts(6,gn.lT),Ts(7,ri.Ui),Ts(8,Ho.i),Ts(9,Us.ek),Ts(10,Vl.p),Ts(11,Kl.e7)],Jl);function xc(Xe,s,x,Z,me){if(x=x||"",!Z){const Ee=x.indexOf(`
`);let Ue=x;return Ee!==-1&&(Ue=x.substring(0,Ee)),Dc(Xe,x,s.createByFilepathOrFirstLine(me||null,Ue),me)}return Dc(Xe,x,s.createById(Z),me)}function Dc(Xe,s,x,Z){return Xe.createModel(s,x,Z)}var Bs=e(99692),Dl=e(31651),Ic=e(35534),Po=e(96512),Nc=e(76633),So=e(19247),ad=e(98190);class ld extends Fs.Wi{constructor(s){super(),this._getContext=s}runAction(s,x){return super.runAction(s,this._getContext())}}var cd=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},Tc=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};class _a{constructor(s){this.viewModel=s}getId(){return this.viewModel}}let Il=class extends Ae.JT{constructor(s,x,Z,me){super(),this._container=s,this._overflowWidgetsDomNode=x,this._workbenchUIElementFactory=Z,this._instantiationService=me,this._viewModel=(0,Po.uh)(this,void 0),this._collapsed=(0,Bs.nK)(this,Ue=>{var Je;return(Je=this._viewModel.read(Ue))===null||Je===void 0?void 0:Je.collapsed.read(Ue)}),this._contentHeight=(0,Po.uh)(this,500),this.height=(0,Bs.nK)(this,Ue=>(this._collapsed.read(Ue)?0:this._contentHeight.read(Ue))+this._outerEditorHeight),this._modifiedContentWidth=(0,Po.uh)(this,0),this._modifiedWidth=(0,Po.uh)(this,0),this._originalContentWidth=(0,Po.uh)(this,0),this._originalWidth=(0,Po.uh)(this,0),this.maxScroll=(0,Bs.nK)(this,Ue=>{const Je=this._modifiedContentWidth.read(Ue)-this._modifiedWidth.read(Ue),Rt=this._originalContentWidth.read(Ue)-this._originalWidth.read(Ue);return Je>Rt?{maxScroll:Je,width:this._modifiedWidth.read(Ue)}:{maxScroll:Rt,width:this._originalWidth.read(Ue)}}),this._elements=(0,ee.h)("div.multiDiffEntry",[(0,ee.h)("div.content",{style:{display:"flex",flexDirection:"column",flex:"1",overflow:"hidden"}},[(0,ee.h)("div.header@header",[(0,ee.h)("div.collapse-button@collapseButton"),(0,ee.h)("div.title.show-file-icons@title",[]),(0,ee.h)("div.actions@actions")]),(0,ee.h)("div.editorParent",{style:{flex:"1",display:"flex",flexDirection:"column"}},[(0,ee.h)("div.editorContainer@editor",{style:{flex:"1"}})])])]),this.editor=this._register(this._instantiationService.createInstance(Ec.p,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=ql(this.editor.getModifiedEditor()),this.isOriginalFocused=ql(this.editor.getOriginalEditor()),this.isFocused=(0,Bs.nK)(this,Ue=>this.isModifedFocused.read(Ue)||this.isOriginalFocused.read(Ue)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.title)):void 0,this._dataStore=new Ae.SL,this._headerHeight=this._elements.header.clientHeight;const Ee=new _r.z(this._elements.collapseButton,{});this._register((0,Bs.EH)(Ue=>{Ee.element.className="",Ee.icon=this._collapsed.read(Ue)?Vo.l.chevronRight:Vo.l.chevronDown})),this._register(Ee.onDidClick(()=>{var Ue;(Ue=this._viewModel.get())===null||Ue===void 0||Ue.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,Bs.EH)(Ue=>{this._elements.editor.style.display=this._collapsed.read(Ue)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange(Ue=>{const Je=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(Je,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange(Ue=>{const Je=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(Je,void 0)}),this._register(this.editor.onDidContentSizeChange(Ue=>{(0,Po.Bl)(Je=>{this._contentHeight.set(Ue.contentHeight,Je),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),Je),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),Je)})})),this._register((0,Bs.EH)(Ue=>{const Je=this.isFocused.read(Ue);this._elements.root.classList.toggle("focused",Je)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(ad.r,this._elements.actions,Ns.eH.MultiDiffEditorFileToolbar,{actionRunner:this._register(new ld(()=>{var Ue,Je;return(Je=(Ue=this._viewModel.get())===null||Ue===void 0?void 0:Ue.diffEditorViewModel)===null||Je===void 0?void 0:Je.model.modified.uri})),menuOptions:{shouldForwardArgs:!0}}))}setScrollLeft(s){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(s):this.editor.getOriginalEditor().setScrollLeft(s)}setData(s){function x(me){return Ln(Xi({},me),{scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0})}const Z=s.viewModel.entry.value;Z.onOptionsDidChange&&this._dataStore.add(Z.onOptionsDidChange(()=>{var me;this.editor.updateOptions(x((me=Z.options)!==null&&me!==void 0?me:{}))})),(0,Po.Bl)(me=>{var Ee,Ue;(Ee=this._resourceLabel)===null||Ee===void 0||Ee.setUri(s.viewModel.diffEditorViewModel.model.modified.uri),this._dataStore.clear(),this._viewModel.set(s.viewModel,me),this.editor.setModel(s.viewModel.diffEditorViewModel,me),this.editor.updateOptions(x((Ue=Z.options)!==null&&Ue!==void 0?Ue:{}))})}render(s,x,Z,me){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${s.start}px`,this._elements.root.style.height=`${s.length}px`,this._elements.root.style.width=`${x}px`,this._elements.root.style.position="absolute";const Ee=Math.max(0,Math.min(s.length-this._headerHeight,me.start-s.start));this._elements.header.style.transform=`translateY(${Ee}px)`,(0,Po.Bl)(Ue=>{this.editor.layout({width:x,height:s.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(Z),this._elements.header.classList.toggle("shadow",Ee>0||Z>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};Il=cd([Tc(3,ct.TG)],Il);function ql(Xe){return(0,Bs.rD)(s=>{const x=new Ae.SL;return x.add(Xe.onDidFocusEditorWidget(()=>s(!0))),x.add(Xe.onDidBlurEditorWidget(()=>s(!1))),x},()=>Xe.hasWidgetFocus())}class Mc{constructor(s){this._create=s,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(s){var x;let Z;if(this._unused.size===0)Z=this._create(s),this._itemData.set(Z,s);else{const me=[...this._unused.values()];Z=(x=me.find(Ee=>this._itemData.get(Ee).getId()===s.getId()))!==null&&x!==void 0?x:me[0],this._unused.delete(Z),this._itemData.set(Z,s),Z.setData(s)}return this._used.add(Z),{object:Z,dispose:()=>{this._used.delete(Z),this._unused.size>5?Z.dispose():this._unused.add(Z)}}}dispose(){for(const s of this._used)s.dispose();for(const s of this._unused)s.dispose();this._used.clear(),this._unused.clear()}}var ec=e(29102),dd=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},zo=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let tc=class extends Ae.JT{constructor(s,x,Z,me,Ee,Ue){super(),this._element=s,this._dimension=x,this._viewModel=Z,this._workbenchUIElementFactory=me,this._parentContextKeyService=Ee,this._parentInstantiationService=Ue,this._elements=(0,ee.h)("div",{style:{overflowY:"hidden"}},[(0,ee.h)("div@content",{style:{overflow:"hidden"}}),(0,ee.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new Dl.DU(this._element,void 0)),this._objectPool=this._register(new Mc(Rt=>{const Ut=this._instantiationService.createInstance(Il,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return Ut.setData(Rt),Ut})),this._scrollable=this._register(new Nc.Rm({forceIntegerValues:!1,scheduleAtNextAnimationFrame:Rt=>(0,ee.jL)((0,ee.Jj)(this._element),Rt),smoothScrollDuration:100})),this._scrollableElement=this._register(new Er.$Z(this._elements.root,{vertical:1,horizontal:1,className:"monaco-component",useShadows:!1},this._scrollable)),this.scrollTop=(0,Bs.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,Bs.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=(0,Bs.Be)(this,(Rt,Ut)=>{const Qt=this._viewModel.read(Rt);return Qt?Qt.items.read(Rt).map(Zi=>Ut.add(new Cd(Zi,this._objectPool,this.scrollLeft))):[]}),this._totalHeight=this._viewItems.map(this,(Rt,Ut)=>Rt.reduce((Qt,Li)=>Qt+Li.contentHeight.read(Ut),0)),this.activeDiffItem=(0,Bs.nK)(this,Rt=>this._viewItems.read(Rt).find(Ut=>{var Qt;return(Qt=Ut.template.read(Rt))===null||Qt===void 0?void 0:Qt.isFocused.read(Rt)})),this.lastActiveDiffItem=(0,Bs.bx)((Rt,Ut)=>{var Qt;return(Qt=this.activeDiffItem.read(Rt))!==null&&Qt!==void 0?Qt:Ut}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new vc.y([ut.i6,this._contextKeyService])),this._contextKeyService.createKey(ec.u.inMultiDiffEditor.key,!0);const Je=this._parentContextKeyService.createKey(ec.u.multiDiffEditorAllCollapsed.key,!1);this._register((0,Bs.EH)(Rt=>{const Ut=this._viewModel.read(Rt);if(Ut){const Qt=Ut.items.read(Rt).every(Li=>Li.collapsed.read(Rt));Je.set(Qt)}})),this._register((0,Bs.EH)(Rt=>{const Ut=this.lastActiveDiffItem.read(Rt);(0,Po.PS)(Qt=>{var Li;(Li=this._viewModel.read(Rt))===null||Li===void 0||Li.activeDiffItem.set(Ut==null?void 0:Ut.viewModel,Qt)})})),this._register((0,Bs.EH)(Rt=>{const Ut=this._dimension.read(Rt);this._sizeObserver.observe(Ut)})),this._elements.content.style.position="relative",this._register((0,Bs.EH)(Rt=>{const Ut=this._sizeObserver.height.read(Rt);this._elements.root.style.height=`${Ut}px`;const Qt=this._totalHeight.read(Rt);this._elements.content.style.height=`${Qt}px`;const Li=this._sizeObserver.width.read(Rt);let Zi=Li;const qi=this._viewItems.read(Rt),is=(0,Ic.dI)(qi,ys=>ys.maxScroll.read(Rt).maxScroll);if(is){const ys=is.maxScroll.read(Rt);Zi=Li+ys.maxScroll}this._scrollableElement.setScrollDimensions({width:Li,height:Ut,scrollHeight:Qt,scrollWidth:Zi})})),s.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,Ae.OF)(()=>{s.replaceChildren()})),this._register(this._register((0,Bs.EH)(Rt=>{(0,Po.Bl)(Ut=>{this.render(Rt)})})))}render(s){const x=this.scrollTop.read(s);let Z=0,me=0,Ee=0;const Ue=this._sizeObserver.height.read(s),Je=So.q.ofStartAndLength(x,Ue),Rt=this._sizeObserver.width.read(s);for(const Ut of this._viewItems.read(s)){const Qt=Ut.contentHeight.read(s),Li=Math.min(Qt,Ue),Zi=So.q.ofStartAndLength(me,Li),qi=So.q.ofStartAndLength(Ee,Qt);if(qi.isBefore(Je))Z-=Qt-Li,Ut.hide();else if(qi.isAfter(Je))Ut.hide();else{const is=Math.max(0,Math.min(Je.start-qi.start,Qt-Li));Z-=is;const ys=So.q.ofStartAndLength(x+Z,Ue);Ut.render(Zi,is,Rt,ys)}me+=Li,Ee+=Qt}this._elements.content.style.transform=`translateY(${-(x+Z)}px)`}};tc=dd([zo(4,ut.i6),zo(5,ct.TG)],tc);class Cd extends Ae.JT{constructor(s,x,Z){super(),this.viewModel=s,this._objectPool=x,this._scrollLeft=Z,this._lastTemplateData=(0,Bs.uh)(this,{contentHeight:500,maxScroll:{maxScroll:0,width:0}}),this._templateRef=this._register((0,Po.DN)(this,void 0)),this.contentHeight=(0,Bs.nK)(this,me=>{var Ee,Ue,Je;return(Je=(Ue=(Ee=this._templateRef.read(me))===null||Ee===void 0?void 0:Ee.object.height)===null||Ue===void 0?void 0:Ue.read(me))!==null&&Je!==void 0?Je:this._lastTemplateData.read(me).contentHeight}),this.maxScroll=(0,Bs.nK)(this,me=>{var Ee,Ue;return(Ue=(Ee=this._templateRef.read(me))===null||Ee===void 0?void 0:Ee.object.maxScroll.read(me))!==null&&Ue!==void 0?Ue:this._lastTemplateData.read(me).maxScroll}),this.template=(0,Bs.nK)(this,me=>{var Ee;return(Ee=this._templateRef.read(me))===null||Ee===void 0?void 0:Ee.object}),this._isHidden=(0,Bs.uh)(this,!1),this._register((0,Bs.EH)(me=>{var Ee;const Ue=this._scrollLeft.read(me);(Ee=this._templateRef.read(me))===null||Ee===void 0||Ee.object.setScrollLeft(Ue)})),this._register((0,Bs.EH)(me=>{const Ee=this._templateRef.read(me);!Ee||!this._isHidden.read(me)||Ee.object.isFocused.read(me)||(0,Po.PS)(Rt=>{this._lastTemplateData.set({contentHeight:Ee.object.height.get(),maxScroll:{maxScroll:0,width:0}},Rt),Ee.object.hide(),this._templateRef.set(void 0,Rt)})}))}dispose(){this.hide(),super.dispose()}toString(){return`VirtualViewItem(${this.viewModel.entry.value.title})`}hide(){this._isHidden.set(!0,void 0)}render(s,x,Z,me){this._isHidden.set(!1,void 0);let Ee=this._templateRef.get();Ee||(Ee=this._objectPool.getUnusedObj(new _a(this.viewModel)),this._templateRef.set(Ee,void 0)),Ee.object.render(s,Z,x,me)}}const $d=(0,Ws.P6G)("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},(0,Ri.NC)("multiDiffEditor.headerBackground","The background color of the diff editor's header"));var bd=function(Xe,s,x,Z){var me=arguments.length,Ee=me<3?s:Z===null?Z=Object.getOwnPropertyDescriptor(s,x):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Xe,s,x,Z);else for(var Je=Xe.length-1;Je>=0;Je--)(Ue=Xe[Je])&&(Ee=(me<3?Ue(Ee):me>3?Ue(s,x,Ee):Ue(s,x))||Ee);return me>3&&Ee&&Object.defineProperty(s,x,Ee),Ee},yd=function(Xe,s){return function(x,Z){s(x,Z,Xe)}};let Pc=class extends Ae.JT{constructor(s,x,Z){super(),this._element=s,this._workbenchUIElementFactory=x,this._instantiationService=Z,this._dimension=(0,Bs.uh)(this,void 0),this._viewModel=(0,Bs.uh)(this,void 0),this._widgetImpl=(0,Bs.Be)(this,(me,Ee)=>((0,Dl.NW)(Il,me),Ee.add(this._instantiationService.createInstance((0,Dl.NW)(tc,me),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,Bs.jx)(this._widgetImpl))}};Pc=bd([yd(2,ct.TG)],Pc);function Sd(Xe,s,x){return Zn.initialize(x||{}).createInstance(Xl,Xe,s)}function wd(Xe){return Zn.get(vt.$).onCodeEditorAdd(x=>{Xe(x)})}function Ld(Xe){return Zn.get(vt.$).onDiffEditorAdd(x=>{Xe(x)})}function Ed(){return Zn.get(vt.$).listCodeEditors()}function xd(){return Zn.get(vt.$).listDiffEditors()}function ge(Xe,s,x){return Zn.initialize(x||{}).createInstance(Jl,Xe,s)}function Re(Xe,s){const x=Zn.initialize(s||{});return new Pc(Xe,{},x)}function tt(Xe){if(typeof Xe.id!="string"||typeof Xe.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return oi.P.registerCommand(Xe.id,Xe.run)}function lt(Xe){if(typeof Xe.id!="string"||typeof Xe.label!="string"||typeof Xe.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const s=ut.Ao.deserialize(Xe.precondition),x=(me,...Ee)=>at._l.runEditorCommand(me,Ee,s,(Ue,Je,Rt)=>Promise.resolve(Xe.run(Je,...Rt))),Z=new Ae.SL;if(Z.add(oi.P.registerCommand(Xe.id,x)),Xe.contextMenuGroupId){const me={command:{id:Xe.id,title:Xe.label},when:s,group:Xe.contextMenuGroupId,order:Xe.contextMenuOrder||0};Z.add(Ns.BH.appendMenuItem(Ns.eH.EditorContext,me))}if(Array.isArray(Xe.keybindings)){const me=Zn.get($s.d);if(!(me instanceof ma))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Ee=ut.Ao.and(s,ut.Ao.deserialize(Xe.keybindingContext));Z.add(me.addDynamicKeybindings(Xe.keybindings.map(Ue=>({keybinding:Ue,command:Xe.id,when:Ee}))))}}return Z}function xt(Xe){return di([Xe])}function di(Xe){const s=Zn.get($s.d);return s instanceof ma?s.addDynamicKeybindings(Xe.map(x=>({keybinding:x.keybinding,command:x.command,commandArgs:x.commandArgs,when:ut.Ao.deserialize(x.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ae.JT.None)}function Di(Xe,s,x){const Z=Zn.get(kt.O),me=Z.getLanguageIdByMimeType(s)||s;return xc(Zn.get(xi.q),Z,Xe,me,x)}function ji(Xe,s){const x=Zn.get(kt.O),Z=x.getLanguageIdByMimeType(s)||s||St.bd;Xe.setLanguage(x.createById(Z))}function Vi(Xe,s,x){Xe&&Zn.get(yo.lT).changeOne(s,Xe.uri,x)}function Gi(Xe){Zn.get(yo.lT).changeAll(Xe,[])}function Bi(Xe){return Zn.get(yo.lT).read(Xe)}function nn(Xe){return Zn.get(yo.lT).onMarkerChanged(Xe)}function sn(Xe){return Zn.get(xi.q).getModel(Xe)}function hn(){return Zn.get(xi.q).getModels()}function Cn(Xe){return Zn.get(xi.q).onModelAdded(Xe)}function mn(Xe){return Zn.get(xi.q).onModelRemoved(Xe)}function xn(Xe){return Zn.get(xi.q).onModelLanguageChanged(x=>{Xe({model:x.model,oldLanguage:x.oldLanguageId})})}function bn(Xe){return Ft(Zn.get(xi.q),Zn.get(Ge.c_),Xe)}function vn(Xe,s){const x=Zn.get(kt.O),Z=Zn.get(Uo.Z);return _i.colorizeElement(Z,x,Xe,s).then(()=>{Z.registerEditorContainer(Xe)})}function Hn(Xe,s,x){const Z=Zn.get(kt.O);return Zn.get(Uo.Z).registerEditorContainer(je.Ex.document.body),_i.colorize(Z,Xe,s,x)}function kn(Xe,s,x=4){return Zn.get(Uo.Z).registerEditorContainer(je.Ex.document.body),_i.colorizeModelLine(Xe,s,x)}function us(Xe){const s=Bt.RW.get(Xe);return s||{getInitialState:()=>Ci.TJ,tokenize:(x,Z,me)=>(0,Ci.Ri)(Xe,me)}}function Xn(Xe,s){Bt.RW.getOrCreate(s);const x=us(s),Z=(0,Qe.uq)(Xe),me=[];let Ee=x.getInitialState();for(let Ue=0,Je=Z.length;Ue<Je;Ue++){const Rt=Z[Ue],Ut=x.tokenize(Rt,!0,Ee);me[Ue]=Ut.tokens,Ee=Ut.endState}return me}function Mn(Xe,s){Zn.get(Uo.Z).defineTheme(Xe,s)}function gs(Xe){Zn.get(Uo.Z).setTheme(Xe)}function hs(){Dt.g.clearAllFontInfos()}function ps(Xe,s){return oi.P.registerCommand({id:Xe,handler:s})}function vs(Xe){return Zn.get(na.v).registerOpener({open(Z){return qt(this,null,function*(){return typeof Z=="string"&&(Z=rt.o.parse(Z)),Xe.open(Z)})}})}function js(Xe){return Zn.get(vt.$).registerCodeEditorOpenHandler((x,Z,me)=>qt(this,null,function*(){var Ee;if(!Z)return null;const Ue=(Ee=x.options)===null||Ee===void 0?void 0:Ee.selection;let Je;return Ue&&typeof Ue.endLineNumber=="number"&&typeof Ue.endColumn=="number"?Je=Ue:Ue&&(Je={lineNumber:Ue.startLineNumber,column:Ue.startColumn}),(yield Xe.openCodeEditor(Z,x.resource,Je))?Z:null}))}function Vs(){return{create:Sd,getEditors:Ed,getDiffEditors:xd,onDidCreateEditor:wd,onDidCreateDiffEditor:Ld,createDiffEditor:ge,addCommand:tt,addEditorAction:lt,addKeybindingRule:xt,addKeybindingRules:di,createModel:Di,setModelLanguage:ji,setModelMarkers:Vi,getModelMarkers:Bi,removeAllMarkers:Gi,onDidChangeMarkers:nn,getModels:hn,getModel:sn,onDidCreateModel:Cn,onWillDisposeModel:mn,onDidChangeModelLanguage:xn,createWebWorker:bn,colorizeElement:vn,colorize:Hn,colorizeModelLine:kn,tokenize:Xn,defineTheme:Mn,setTheme:gs,remeasureFonts:hs,registerCommand:ps,registerLinkOpener:vs,registerEditorOpener:js,AccessibilitySupport:Yi.ao,ContentWidgetPositionPreference:Yi.r3,CursorChangeReason:Yi.Vi,DefaultEndOfLine:Yi._x,EditorAutoIndentStrategy:Yi.rf,EditorOption:Yi.wT,EndOfLinePreference:Yi.gm,EndOfLineSequence:Yi.jl,MinimapPosition:Yi.F5,MouseTargetType:Yi.MG,OverlayWidgetPositionPreference:Yi.E$,OverviewRulerLane:Yi.sh,GlyphMarginLane:Yi.U,RenderLineNumbersType:Yi.Lu,RenderMinimap:Yi.vQ,ScrollbarVisibility:Yi.g_,ScrollType:Yi.g4,TextEditorCursorBlinkingStyle:Yi.In,TextEditorCursorStyle:Yi.d2,TrackedRangeStickiness:Yi.OI,WrappingIndent:Yi.up,InjectedTextCursorStops:Yi.RM,PositionAffinity:Yi.py,ShowAiIconMode:Yi.JO,ConfigurationChangedEvent:ve.Bb,BareFontInfo:Ct.E4,FontInfo:Ct.pR,TextModelResolvedOptions:Oi.dJ,FindMatch:Oi.tk,ApplyUpdateResult:ve.rk,EditorZoom:Xt.C,createMultiFileDiffEditor:Re,EditorType:ft.g,EditorOptions:ve.BH}}var io=e(41264);function vo(Xe,s){if(!s||!Array.isArray(s))return!1;for(const x of s)if(!Xe(x))return!1;return!0}function No(Xe,s){return typeof Xe=="boolean"?Xe:s}function eo(Xe,s){return typeof Xe=="string"?Xe:s}function Ro(Xe){const s={};for(const x of Xe)s[x]=!0;return s}function ho(Xe,s=!1){s&&(Xe=Xe.map(function(Z){return Z.toLowerCase()}));const x=Ro(Xe);return s?function(Z){return x[Z.toLowerCase()]!==void 0&&x.hasOwnProperty(Z.toLowerCase())}:function(Z){return x[Z]!==void 0&&x.hasOwnProperty(Z)}}function Oo(Xe,s){s=s.replace(/@@/g,"");let x=0,Z;do Z=!1,s=s.replace(/@(\w+)/g,function(Ee,Ue){Z=!0;let Je="";if(typeof Xe[Ue]=="string")Je=Xe[Ue];else if(Xe[Ue]&&Xe[Ue]instanceof RegExp)Je=Xe[Ue].source;else throw Xe[Ue]===void 0?Ei(Xe,"language definition does not contain attribute '"+Ue+"', used at: "+s):Ei(Xe,"attribute reference '"+Ue+"' must be a string, used at: "+s);return qn(Je)?"":"(?:"+Je+")"}),x++;while(Z&&x<5);s=s.replace(/\x01/g,"@");const me=(Xe.ignoreCase?"i":"")+(Xe.unicode?"u":"");return new RegExp(s,me)}function Ao(Xe,s,x,Z){if(Z<0)return Xe;if(Z<s.length)return s[Z];if(Z>=100){Z=Z-100;const me=x.split(".");if(me.unshift(x),Z<me.length)return me[Z]}return null}function Go(Xe,s,x,Z){let me=-1,Ee=x,Ue=x.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Ue&&(Ue[3]&&(me=parseInt(Ue[3]),Ue[2]&&(me=me+100)),Ee=Ue[4]);let Je="~",Rt=Ee;!Ee||Ee.length===0?(Je="!=",Rt=""):/^\w*$/.test(Rt)?Je="==":(Ue=Ee.match(/^(@|!@|~|!~|==|!=)(.*)$/),Ue&&(Je=Ue[1],Rt=Ue[2]));let Ut;if((Je==="~"||Je==="!~")&&/^(\w|\|)*$/.test(Rt)){const Qt=ho(Rt.split("|"),Xe.ignoreCase);Ut=function(Li){return Je==="~"?Qt(Li):!Qt(Li)}}else if(Je==="@"||Je==="!@"){const Qt=Xe[Rt];if(!Qt)throw Ei(Xe,"the @ match target '"+Rt+"' is not defined, in rule: "+s);if(!vo(function(Zi){return typeof Zi=="string"},Qt))throw Ei(Xe,"the @ match target '"+Rt+"' must be an array of strings, in rule: "+s);const Li=ho(Qt,Xe.ignoreCase);Ut=function(Zi){return Je==="@"?Li(Zi):!Li(Zi)}}else if(Je==="~"||Je==="!~")if(Rt.indexOf("$")<0){const Qt=Oo(Xe,"^"+Rt+"$");Ut=function(Li){return Je==="~"?Qt.test(Li):!Qt.test(Li)}}else Ut=function(Qt,Li,Zi,qi){return Oo(Xe,"^"+et(Xe,Rt,Li,Zi,qi)+"$").test(Qt)};else if(Rt.indexOf("$")<0){const Qt=fs(Xe,Rt);Ut=function(Li){return Je==="=="?Li===Qt:Li!==Qt}}else{const Qt=fs(Xe,Rt);Ut=function(Li,Zi,qi,is,ys){const Is=et(Xe,Qt,Zi,qi,is);return Je==="=="?Li===Is:Li!==Is}}return me===-1?{name:x,value:Z,test:function(Qt,Li,Zi,qi){return Ut(Qt,Qt,Li,Zi,qi)}}:{name:x,value:Z,test:function(Qt,Li,Zi,qi){const is=Ao(Qt,Li,Zi,me);return Ut(is||"",Qt,Li,Zi,qi)}}}function Ca(Xe,s,x){if(x){if(typeof x=="string")return x;if(x.token||x.token===""){if(typeof x.token!="string")throw Ei(Xe,"a 'token' attribute must be of type string, in rule: "+s);{const Z={token:x.token};if(x.token.indexOf("$")>=0&&(Z.tokenSubst=!0),typeof x.bracket=="string")if(x.bracket==="@open")Z.bracket=1;else if(x.bracket==="@close")Z.bracket=-1;else throw Ei(Xe,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+s);if(x.next){if(typeof x.next!="string")throw Ei(Xe,"the next state must be a string value in rule: "+s);{let me=x.next;if(!/^(@pop|@push|@popall)$/.test(me)&&(me[0]==="@"&&(me=me.substr(1)),me.indexOf("$")<0&&!Yt(Xe,et(Xe,me,"",[],""))))throw Ei(Xe,"the next state '"+x.next+"' is not defined in rule: "+s);Z.next=me}}return typeof x.goBack=="number"&&(Z.goBack=x.goBack),typeof x.switchTo=="string"&&(Z.switchTo=x.switchTo),typeof x.log=="string"&&(Z.log=x.log),typeof x.nextEmbedded=="string"&&(Z.nextEmbedded=x.nextEmbedded,Xe.usesEmbedded=!0),Z}}else if(Array.isArray(x)){const Z=[];for(let me=0,Ee=x.length;me<Ee;me++)Z[me]=Ca(Xe,s,x[me]);return{group:Z}}else if(x.cases){const Z=[];for(const Ee in x.cases)if(x.cases.hasOwnProperty(Ee)){const Ue=Ca(Xe,s,x.cases[Ee]);Ee==="@default"||Ee==="@"||Ee===""?Z.push({test:void 0,value:Ue,name:Ee}):Ee==="@eos"?Z.push({test:function(Je,Rt,Ut,Qt){return Qt},value:Ue,name:Ee}):Z.push(Go(Xe,s,Ee,Ue))}const me=Xe.defaultToken;return{test:function(Ee,Ue,Je,Rt){for(const Ut of Z)if(!Ut.test||Ut.test(Ee,Ue,Je,Rt))return Ut.value;return me}}}else throw Ei(Xe,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+s)}else return{token:""}}class Xa{constructor(s){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=s}setRegex(s,x){let Z;if(typeof x=="string")Z=x;else if(x instanceof RegExp)Z=x.source;else throw Ei(s,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=Z.length>0&&Z[0]==="^",this.name=this.name+": "+Z,this.regex=Oo(s,"^(?:"+(this.matchOnlyAtLineStart?Z.substr(1):Z)+")")}setAction(s,x){this.action=Ca(s,this.name,x)}}function Nl(Xe,s){if(!s||typeof s!="object")throw new Error("Monarch: expecting a language definition object");const x={};x.languageId=Xe,x.includeLF=No(s.includeLF,!1),x.noThrow=!1,x.maxStack=100,x.start=typeof s.start=="string"?s.start:null,x.ignoreCase=No(s.ignoreCase,!1),x.unicode=No(s.unicode,!1),x.tokenPostfix=eo(s.tokenPostfix,"."+x.languageId),x.defaultToken=eo(s.defaultToken,"source"),x.usesEmbedded=!1;const Z=s;Z.languageId=Xe,Z.includeLF=x.includeLF,Z.ignoreCase=x.ignoreCase,Z.unicode=x.unicode,Z.noThrow=x.noThrow,Z.usesEmbedded=x.usesEmbedded,Z.stateNames=s.tokenizer,Z.defaultToken=x.defaultToken;function me(Ue,Je,Rt){for(const Ut of Rt){let Qt=Ut.include;if(Qt){if(typeof Qt!="string")throw Ei(x,"an 'include' attribute must be a string at: "+Ue);if(Qt[0]==="@"&&(Qt=Qt.substr(1)),!s.tokenizer[Qt])throw Ei(x,"include target '"+Qt+"' is not defined at: "+Ue);me(Ue+"."+Qt,Je,s.tokenizer[Qt])}else{const Li=new Xa(Ue);if(Array.isArray(Ut)&&Ut.length>=1&&Ut.length<=3)if(Li.setRegex(Z,Ut[0]),Ut.length>=3)if(typeof Ut[1]=="string")Li.setAction(Z,{token:Ut[1],next:Ut[2]});else if(typeof Ut[1]=="object"){const Zi=Ut[1];Zi.next=Ut[2],Li.setAction(Z,Zi)}else throw Ei(x,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Ue);else Li.setAction(Z,Ut[1]);else{if(!Ut.regex)throw Ei(x,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Ue);Ut.name&&typeof Ut.name=="string"&&(Li.name=Ut.name),Ut.matchOnlyAtStart&&(Li.matchOnlyAtLineStart=No(Ut.matchOnlyAtLineStart,!1)),Li.setRegex(Z,Ut.regex),Li.setAction(Z,Ut.action)}Je.push(Li)}}}if(!s.tokenizer||typeof s.tokenizer!="object")throw Ei(x,"a language definition must define the 'tokenizer' attribute as an object");x.tokenizer=[];for(const Ue in s.tokenizer)if(s.tokenizer.hasOwnProperty(Ue)){x.start||(x.start=Ue);const Je=s.tokenizer[Ue];x.tokenizer[Ue]=new Array,me("tokenizer."+Ue,x.tokenizer[Ue],Je)}if(x.usesEmbedded=Z.usesEmbedded,s.brackets){if(!Array.isArray(s.brackets))throw Ei(x,"the 'brackets' attribute must be defined as an array")}else s.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const Ee=[];for(const Ue of s.brackets){let Je=Ue;if(Je&&Array.isArray(Je)&&Je.length===3&&(Je={token:Je[2],open:Je[0],close:Je[1]}),Je.open===Je.close)throw Ei(x,"open and close brackets in a 'brackets' attribute must be different: "+Je.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof Je.open=="string"&&typeof Je.token=="string"&&typeof Je.close=="string")Ee.push({token:Je.token+x.tokenPostfix,open:fs(x,Je.open),close:fs(x,Je.close)});else throw Ei(x,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return x.brackets=Ee,x.noThrow=!0,x}function ko(Xe){St.dQ.registerLanguage(Xe)}function rr(){let Xe=[];return Xe=Xe.concat(St.dQ.getLanguages()),Xe}function Ja(Xe){return Zn.get(kt.O).languageIdCodec.encodeLanguageId(Xe)}function ic(Xe,s){return Zn.withServices(()=>{const Z=Zn.get(kt.O).onDidRequestRichLanguageFeatures(me=>{me===Xe&&(Z.dispose(),s())});return Z})}function ba(Xe,s){return Zn.withServices(()=>{const Z=Zn.get(kt.O).onDidRequestBasicLanguageFeatures(me=>{me===Xe&&(Z.dispose(),s())});return Z})}function jr(Xe,s){if(!Zn.get(kt.O).isRegisteredLanguageId(Xe))throw new Error(`Cannot set configuration for unknown language ${Xe}`);return Zn.get(Ge.c_).register(Xe,s,100)}class nc{constructor(s,x){this._languageId=s,this._actual=x}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(s,x,Z){if(typeof this._actual.tokenize=="function")return Qs.adaptTokenize(this._languageId,this._actual,s,Z);throw new Error("Not supported!")}tokenizeEncoded(s,x,Z){const me=this._actual.tokenizeEncoded(s,Z);return new Bt.DI(me.tokens,me.endState)}}class Qs{constructor(s,x,Z,me){this._languageId=s,this._actual=x,this._languageService=Z,this._standaloneThemeService=me}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(s,x){const Z=[];let me=0;for(let Ee=0,Ue=s.length;Ee<Ue;Ee++){const Je=s[Ee];let Rt=Je.startIndex;Ee===0?Rt=0:Rt<me&&(Rt=me),Z[Ee]=new Bt.WU(Rt,Je.scopes,x),me=Rt}return Z}static adaptTokenize(s,x,Z,me){const Ee=x.tokenize(Z,me),Ue=Qs._toClassicTokens(Ee.tokens,s);let Je;return Ee.endState.equals(me)?Je=me:Je=Ee.endState,new Bt.hG(Ue,Je)}tokenize(s,x,Z){return Qs.adaptTokenize(this._languageId,this._actual,s,Z)}_toBinaryTokens(s,x){const Z=s.encodeLanguageId(this._languageId),me=this._standaloneThemeService.getColorTheme().tokenTheme,Ee=[];let Ue=0,Je=0;for(let Ut=0,Qt=x.length;Ut<Qt;Ut++){const Li=x[Ut],Zi=me.match(Z,Li.scopes)|1024;if(Ue>0&&Ee[Ue-1]===Zi)continue;let qi=Li.startIndex;Ut===0?qi=0:qi<Je&&(qi=Je),Ee[Ue++]=qi,Ee[Ue++]=Zi,Je=qi}const Rt=new Uint32Array(Ue);for(let Ut=0;Ut<Ue;Ut++)Rt[Ut]=Ee[Ut];return Rt}tokenizeEncoded(s,x,Z){const me=this._actual.tokenize(s,Z),Ee=this._toBinaryTokens(this._languageService.languageIdCodec,me.tokens);let Ue;return me.endState.equals(Z)?Ue=Z:Ue=me.endState,new Bt.DI(Ee,Ue)}}function Rr(Xe){return typeof Xe.getInitialState=="function"}function qa(Xe){return"tokenizeEncoded"in Xe}function sc(Xe){return Xe&&typeof Xe.then=="function"}function oc(Xe){const s=Zn.get(Uo.Z);if(Xe){const x=[null];for(let Z=1,me=Xe.length;Z<me;Z++)x[Z]=io.Il.fromHex(Xe[Z]);s.setColorMapOverride(x)}else s.setColorMapOverride(null)}function Tl(Xe,s){return qa(s)?new nc(Xe,s):new Qs(Xe,s,Zn.get(kt.O),Zn.get(Uo.Z))}function el(Xe,s){const x=new Bt.MO(()=>qt(this,null,function*(){const Z=yield Promise.resolve(s.create());return Z?Rr(Z)?Tl(Xe,Z):new Fn(Zn.get(kt.O),Zn.get(Uo.Z),Xe,Nl(Xe,Z),Zn.get(ri.Ui)):null}));return Bt.RW.registerFactory(Xe,x)}function Rc(Xe,s){if(!Zn.get(kt.O).isRegisteredLanguageId(Xe))throw new Error(`Cannot set tokens provider for unknown language ${Xe}`);return sc(s)?el(Xe,{create:()=>s}):Bt.RW.register(Xe,Tl(Xe,s))}function rc(Xe,s){const x=Z=>new Fn(Zn.get(kt.O),Zn.get(Uo.Z),Xe,Nl(Xe,Z),Zn.get(ri.Ui));return sc(s)?el(Xe,{create:()=>s}):Bt.RW.register(Xe,x(s))}function ac(Xe,s){return Zn.get(Ze.p).referenceProvider.register(Xe,s)}function ud(Xe,s){return Zn.get(Ze.p).renameProvider.register(Xe,s)}function hd(Xe,s){return Zn.get(Ze.p).signatureHelpProvider.register(Xe,s)}function Ml(Xe,s){return Zn.get(Ze.p).hoverProvider.register(Xe,{provideHover:(Z,me,Ee)=>{const Ue=Z.getWordAtPosition(me);return Promise.resolve(s.provideHover(Z,me,Ee)).then(Je=>{if(Je)return!Je.range&&Ue&&(Je.range=new pt.e(me.lineNumber,Ue.startColumn,me.lineNumber,Ue.endColumn)),Je.range||(Je.range=new pt.e(me.lineNumber,me.column,me.lineNumber,me.column)),Je})}})}function Kr(Xe,s){return Zn.get(Ze.p).documentSymbolProvider.register(Xe,s)}function fd(Xe,s){return Zn.get(Ze.p).documentHighlightProvider.register(Xe,s)}function Gd(Xe,s){return Zn.get(Ze.p).linkedEditingRangeProvider.register(Xe,s)}function Zd(Xe,s){return Zn.get(Ze.p).definitionProvider.register(Xe,s)}function Qd(Xe,s){return Zn.get(Ze.p).implementationProvider.register(Xe,s)}function Yd(Xe,s){return Zn.get(Ze.p).typeDefinitionProvider.register(Xe,s)}function Xd(Xe,s){return Zn.get(Ze.p).codeLensProvider.register(Xe,s)}function Jd(Xe,s,x){return Zn.get(Ze.p).codeActionProvider.register(Xe,{providedCodeActionKinds:x==null?void 0:x.providedCodeActionKinds,documentation:x==null?void 0:x.documentation,provideCodeActions:(me,Ee,Ue,Je)=>{const Ut=Zn.get(yo.lT).read({resource:me.uri}).filter(Qt=>pt.e.areIntersectingOrTouching(Qt,Ee));return s.provideCodeActions(me,Ee,{markers:Ut,only:Ue.only,trigger:Ue.trigger},Je)},resolveCodeAction:s.resolveCodeAction})}function qd(Xe,s){return Zn.get(Ze.p).documentFormattingEditProvider.register(Xe,s)}function eu(Xe,s){return Zn.get(Ze.p).documentRangeFormattingEditProvider.register(Xe,s)}function tu(Xe,s){return Zn.get(Ze.p).onTypeFormattingEditProvider.register(Xe,s)}function iu(Xe,s){return Zn.get(Ze.p).linkProvider.register(Xe,s)}function nu(Xe,s){return Zn.get(Ze.p).completionProvider.register(Xe,s)}function su(Xe,s){return Zn.get(Ze.p).colorProvider.register(Xe,s)}function ou(Xe,s){return Zn.get(Ze.p).foldingRangeProvider.register(Xe,s)}function ru(Xe,s){return Zn.get(Ze.p).declarationProvider.register(Xe,s)}function au(Xe,s){return Zn.get(Ze.p).selectionRangeProvider.register(Xe,s)}function lu(Xe,s){return Zn.get(Ze.p).documentSemanticTokensProvider.register(Xe,s)}function cu(Xe,s){return Zn.get(Ze.p).documentRangeSemanticTokensProvider.register(Xe,s)}function du(Xe,s){return Zn.get(Ze.p).inlineCompletionsProvider.register(Xe,s)}function uu(Xe,s){return Zn.get(Ze.p).inlayHintsProvider.register(Xe,s)}function hu(){return{register:ko,getLanguages:rr,onLanguage:ic,onLanguageEncountered:ba,getEncodedLanguageId:Ja,setLanguageConfiguration:jr,setColorMap:oc,registerTokensProviderFactory:el,setTokensProvider:Rc,setMonarchTokensProvider:rc,registerReferenceProvider:ac,registerRenameProvider:ud,registerCompletionItemProvider:nu,registerSignatureHelpProvider:hd,registerHoverProvider:Ml,registerDocumentSymbolProvider:Kr,registerDocumentHighlightProvider:fd,registerLinkedEditingRangeProvider:Gd,registerDefinitionProvider:Zd,registerImplementationProvider:Qd,registerTypeDefinitionProvider:Yd,registerCodeLensProvider:Xd,registerCodeActionProvider:Jd,registerDocumentFormattingEditProvider:qd,registerDocumentRangeFormattingEditProvider:eu,registerOnTypeFormattingEditProvider:tu,registerLinkProvider:iu,registerColorProvider:su,registerFoldingRangeProvider:ou,registerDeclarationProvider:ru,registerSelectionRangeProvider:au,registerDocumentSemanticTokensProvider:lu,registerDocumentRangeSemanticTokensProvider:cu,registerInlineCompletionsProvider:du,registerInlayHintsProvider:uu,DocumentHighlightKind:Yi.MY,CompletionItemKind:Yi.cm,CompletionItemTag:Yi.we,CompletionItemInsertTextRule:Yi.a7,SymbolKind:Yi.cR,SymbolTag:Yi.r4,IndentAction:Yi.wU,CompletionTriggerKind:Yi.Ij,SignatureHelpTriggerKind:Yi.WW,InlayHintKind:Yi.gl,InlineCompletionTriggerKind:Yi.bw,CodeActionTriggerType:Yi.np,FoldingRangeKind:Bt.AD,SelectedSuggestionInfo:Bt.ln}}var fu=e(71373);ve.BH.wrappingIndent.defaultValue=0,ve.BH.glyphMargin.defaultValue=!1,ve.BH.autoIndent.defaultValue=3,ve.BH.overviewRulerLanes.defaultValue=2,fu.xC.setFormatterSelector((Xe,s,x)=>Promise.resolve(Xe[0]));const wo=(0,xe.O)();wo.editor=Vs(),wo.languages=hu();const Dd=wo.CancellationTokenSource,Id=wo.Emitter,Nd=wo.KeyCode,Td=wo.KeyMod,Md=wo.Position,Pd=wo.Range,Rd=wo.Selection,Od=wo.SelectionDirection,Ad=wo.MarkerSeverity,kd=wo.MarkerTag,Fd=wo.Uri,Bd=wo.Token,Wd=wo.editor,Hd=wo.languages,gd=globalThis.MonacoEnvironment;(gd!=null&&gd.globalAPI||typeof define=="function"&&e.amdO)&&(globalThis.monaco=wo),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var bu=e(43763),yu=e(88307),Su=e(39585),wu=e(40902),Lu=e(68423),Eu=e(66079),xu=e(56292),Du=e(40605);self.MonacoEnvironment=function(Xe){function s(x){return x.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(x,Z){var me=e.p,Ee=(me?s(me)+"/":"")+Xe[Z];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(Ee)){var Ue=String(window.location),Je=Ue.substr(0,Ue.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(Ee.substring(0,Je.length)!==Je){/^(\/\/)/.test(Ee)&&(Ee=window.location.protocol+Ee);var Rt="/*"+Z+'*/importScripts("'+Ee+'");',Ut=new Blob([Rt],{type:"application/javascript"});return URL.createObjectURL(Ut)}}return Ee}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});var gu=b},34535:function(Pt,Ke,e){"use strict";e.d(Ke,{j6:function(){return se.editor}});var b=e(51624),z=e(13468),r=e(42549),E=e(24336),c=e(72102),_=e(55833),I=e(86687),M=e(32871),D=e(46838),p=e(44536),o=e(39956),d=e(93740),u=e(41895),i=e(36865),n=e(2062),f=e(76917),v=e(95329),a=e(76454),S=e(63980),g=e(23369),y=e(44125),C=e(61097),L=e(10355),O=e(62078),T=e(95817),F=e(56334),B=e(93463),$=e(24719),Y=e(69901),P=e(84602),w=e(8469),V=e(42961),R=e(3665),A=e(59089),H=e(97615),U=e(49504),G=e(69949),j=e(60468),W=e(93519),K=e(77061),m=e(9776),J=e(94347),X=e(60669),ie=e(96816),le=e(73945),fe=e(45048),Le=e(31975),pe=e(61168),Te=e(89995),De=e(47721),ae=e(98762),Ne=e(62329),We=e(22704),ze=e(88088),Se=e(15662),ne=e(64662),ce=e(52614),Oe=e(97066),Pe=e(79607),Me=e(70943),ye=e(37181),_e=e(86709),se=e(366),ve=e(25552);(0,ve.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>e.e(848).then(e.bind(e,40848))});(0,ve.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>e.e(4386).then(e.bind(e,54386))});(0,ve.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>e.e(1471).then(e.bind(e,31471))});(0,ve.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>e.e(4129).then(e.bind(e,84129))});(0,ve.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>e.e(7131).then(e.bind(e,47131))});(0,ve.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>e.e(1448).then(e.bind(e,11448))});(0,ve.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>e.e(3036).then(e.bind(e,33036))});(0,ve.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>e.e(1147).then(e.bind(e,21147))});(0,ve.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>e.e(1960).then(e.bind(e,71960))}),(0,ve.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>e.e(1960).then(e.bind(e,71960))});(0,ve.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>e.e(8719).then(e.bind(e,18719))});(0,ve.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>e.e(8946).then(e.bind(e,68946))});var xe=e(56292);(0,ve.H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>e.e(6423).then(e.bind(e,56423))});(0,ve.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>e.e(9343).then(e.bind(e,39343))});(0,ve.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>e.e(5849).then(e.bind(e,25849))});(0,ve.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>e.e(2814).then(e.bind(e,12814))});(0,ve.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>e.e(2240).then(e.bind(e,92240))});(0,ve.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>e.e(4188).then(e.bind(e,14188))});(0,ve.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>e.e(6241).then(e.bind(e,96241))});(0,ve.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagAutoInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagAngleInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagBracketInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagAngleInterpolationBracket)}),(0,ve.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagBracketInterpolationBracket)}),(0,ve.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagAutoInterpolationDollar)}),(0,ve.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>e.e(5880).then(e.bind(e,5880)).then(un=>un.TagAutoInterpolationBracket)});(0,ve.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>e.e(249).then(e.bind(e,80249))});(0,ve.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>e.e(6489).then(e.bind(e,66489))});(0,ve.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>e.e(5703).then(e.bind(e,15703))});(0,ve.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>e.e(3632).then(e.bind(e,53632))});var je=e(40902);(0,ve.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>e.e(2798).then(e.bind(e,52798))});(0,ve.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>e.e(7043).then(e.bind(e,17043))});var Ae=e(43763);(0,ve.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>e.e(4946).then(e.bind(e,34946))});(0,ve.H)({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>e.e(4368).then(e.bind(e,84368))});var Qe=e(66079);(0,ve.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>e.e(4912).then(e.bind(e,64912))});(0,ve.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>e.e(911).then(e.bind(e,20911))});(0,ve.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>e.e(4028).then(e.bind(e,94028))});(0,ve.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>e.e(8906).then(e.bind(e,38906))});(0,ve.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>e.e(2954).then(e.bind(e,42954))});(0,ve.H)({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>e.e(4456).then(e.bind(e,4456))});(0,ve.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>e.e(854).then(e.bind(e,60854))});(0,ve.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>e.e(9398).then(e.bind(e,79398))});(0,ve.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>e.e(1961).then(e.bind(e,31961))});(0,ve.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>e.e(9537).then(e.bind(e,79537))});(0,ve.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>e.e(6082).then(e.bind(e,86082))});(0,ve.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>e.e(8084).then(e.bind(e,98084))});(0,ve.H)({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>e.e(8070).then(e.bind(e,8070))});(0,ve.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>e.e(996).then(e.bind(e,20996))});(0,ve.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>e.e(7835).then(e.bind(e,47835))});(0,ve.H)({id:"pla",extensions:[".pla"],loader:()=>e.e(3682).then(e.bind(e,23682))});(0,ve.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>e.e(8180).then(e.bind(e,48180))});(0,ve.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>e.e(4407).then(e.bind(e,94407))});(0,ve.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>e.e(7562).then(e.bind(e,37562))});(0,ve.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>e.e(3760).then(e.bind(e,63760))});(0,ve.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>e.e(2892).then(e.bind(e,22892))});(0,ve.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>e.e(7287).then(e.bind(e,37287))});(0,ve.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>e.e(9400).then(e.bind(e,69400))});(0,ve.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>e.e(2140).then(e.bind(e,22140))});(0,ve.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>e.e(6424).then(e.bind(e,76424))});(0,ve.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>e.e(1259).then(e.bind(e,91259))});(0,ve.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>e.e(6449).then(e.bind(e,56449))});(0,ve.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>e.e(1065).then(e.bind(e,71065))});(0,ve.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>e.e(9684).then(e.bind(e,69684))});(0,ve.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>e.e(8715).then(e.bind(e,8715))});(0,ve.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>e.e(5062).then(e.bind(e,95062))});(0,ve.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>e.e(180).then(e.bind(e,90180))});(0,ve.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>e.e(2060).then(e.bind(e,32060))});(0,ve.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>e.e(525).then(e.bind(e,90525))});(0,ve.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>e.e(8670).then(e.bind(e,88670))});(0,ve.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>e.e(1156).then(e.bind(e,87295))});(0,ve.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>e.e(3919).then(e.bind(e,63919))});(0,ve.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>e.e(5962).then(e.bind(e,85962))});(0,ve.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>e.e(7778).then(e.bind(e,27778))});(0,ve.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>e.e(6587).then(e.bind(e,86587))});(0,ve.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>e.e(2911).then(e.bind(e,42911))});(0,ve.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>e.e(1886).then(e.bind(e,81886))}),(0,ve.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>e.e(1886).then(e.bind(e,81886))});(0,ve.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>e.e(7637).then(e.bind(e,57637))});(0,ve.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>e.e(8424).then(e.bind(e,98424))});var rt=e(88307);(0,ve.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>e.e(9907).then(e.bind(e,39907))});(0,ve.H)({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>e.e(147).then(e.bind(e,40147))});(0,ve.H)({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>e.e(4902).then(e.bind(e,4902))});(0,ve.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>e.e(3585).then(e.bind(e,23585))});var Dt=e(40605),at=e(68423);var vt=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,ti=Object.getOwnPropertyNames,Ft=Object.prototype.hasOwnProperty,ei=(un,Pn,Dn,Gn)=>{if(Pn&&typeof Pn=="object"||typeof Pn=="function")for(let Rn of ti(Pn))!Ft.call(un,Rn)&&Rn!==Dn&&vt(un,Rn,{get:()=>Pn[Rn],enumerable:!(Gn=Mt(Pn,Rn))||Gn.enumerable});return un},Xt=(un,Pn,Dn)=>(ei(un,Pn,"default"),Dn&&ei(Dn,Pn,"default")),Ct={};Xt(Ct,se);var ft=class{constructor(un,Pn,Dn){Ks(this,"_onDidChange",new Ct.Emitter);Ks(this,"_diagnosticsOptions");Ks(this,"_modeConfiguration");Ks(this,"_languageId");this._languageId=un,this.setDiagnosticsOptions(Pn),this.setModeConfiguration(Dn)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(un){this._diagnosticsOptions=un||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(un){this._modeConfiguration=un||Object.create(null),this._onDidChange.fire(this)}},Bt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},kt={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Ge=new ft("json",Bt,kt);Ct.languages.json={jsonDefaults:Ge};function St(){return e.e(665).then(e.bind(e,90665))}Ct.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Ct.languages.onLanguage("json",()=>{St().then(un=>un.setupMode(Ge))});var Ci=e(39585),Oi=e(46445),xi=e(20913),Yi=e(15375);self.MonacoEnvironment=function(un){function Pn(Dn){return Dn.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(Dn,Gn){var Rn=e.p,ns=(Rn?Pn(Rn)+"/":"")+un[Gn];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(ns)){var ts=String(window.location),qn=ts.substr(0,ts.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(ns.substring(0,qn.length)!==qn){/^(\/\/)/.test(ns)&&(ns=window.location.protocol+ns);var fs="/*"+Gn+'*/importScripts("'+ns+'");',Nn=new Blob([fs],{type:"application/javascript"});return URL.createObjectURL(Nn)}}return ns}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});var fn=null},16268:function(Pt,Ke,e){"use strict";e.d(Ke,{$W:function(){return g},Dt:function(){return a},G6:function(){return n},MG:function(){return f},Pf:function(){return u},Tz:function(){return D},i7:function(){return i},ie:function(){return p},uB:function(){return M},vU:function(){return d}});var b=e(48906),z=e(4669),r=e(5976);class E{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}E.INSTANCE=new E;class c extends r.JT{constructor(){super(),this._onDidChange=this._register(new z.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(C){var L;(L=this._mediaQueryList)===null||L===void 0||L.removeEventListener("change",this._listener),this._mediaQueryList=b.vO.matchMedia(`(resolution: ${b.vO.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),C&&this._onDidChange.fire()}}class _ extends r.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new z.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const C=this._register(new c);this._register(C.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const C=document.createElement("canvas").getContext("2d"),L=b.vO.devicePixelRatio||1,O=C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1;return L/O}}class I{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,r.dk)(new _)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function M(y,C){typeof y=="string"&&(y=b.vO.matchMedia(y)),y.addEventListener("change",C)}const D=new I;function p(){return E.INSTANCE.getZoomFactor()}const o=navigator.userAgent,d=o.indexOf("Firefox")>=0,u=o.indexOf("AppleWebKit")>=0,i=o.indexOf("Chrome")>=0,n=!i&&o.indexOf("Safari")>=0,f=!i&&!n&&u,v=o.indexOf("Electron/")>=0,a=o.indexOf("Android")>=0;let S=!1;if(b.vO.matchMedia){const y=b.vO.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),C=b.vO.matchMedia("(display-mode: fullscreen)");S=y.matches,M(y,({matches:L})=>{S&&C.matches||(S=L)})}function g(){return S}},10161:function(Pt,Ke,e){"use strict";e.d(Ke,{D:function(){return E}});var b=e(16268),z=e(48906),r=e(1432);const E={clipboard:{writeText:r.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:r.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>r.tY||b.$W()?0:navigator.keyboard||b.G6?1:2)(),touch:"ontouchstart"in z.Ex||navigator.maxTouchPoints>0,pointerEvents:z.Ex.PointerEvent&&("ontouchstart"in z.Ex||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Pt,Ke,e){"use strict";e.d(Ke,{g:function(){return z}});var b=e(81170);const z={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:b.v.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},65321:function(Pt,Ke,e){"use strict";e.d(Ke,{$:function(){return Pn},$Z:function(){return Gn},Ay:function(){return Oe},Ce:function(){return Oi},Cp:function(){return Rn},D6:function(){return J},Dx:function(){return m},FK:function(){return De},GQ:function(){return w},H9:function(){return Me},I8:function(){return pe},If:function(){return ae},Jc:function(){return L},Jj:function(){return n},N5:function(){return ti},OO:function(){return ce},PO:function(){return T},R3:function(){return Ci},Ro:function(){return ie},Uh:function(){return ns},V3:function(){return ts},WN:function(){return se},XT:function(){return cs},Xo:function(){return C},_0:function(){return Bt},_F:function(){return Ei},_h:function(){return Nn},_q:function(){return Yt},b5:function(){return ye},cl:function(){return Xt},dS:function(){return xe},dp:function(){return fe},e4:function(){return St},eg:function(){return ri},fk:function(){return at},go:function(){return Ge},h:function(){return Wi},i:function(){return Le},iJ:function(){return Dn},jL:function(){return j},jg:function(){return We},jt:function(){return qn},lI:function(){return G},mc:function(){return xi},mu:function(){return P},ne:function(){return W},nm:function(){return B},sQ:function(){return et},se:function(){return H},tw:function(){return ei},uN:function(){return vt},uP:function(){return _e},uU:function(){return Se},vL:function(){return ft},vY:function(){return Pe},vd:function(){return Ft},vx:function(){return U},w:function(){return Te},wY:function(){return fs},wn:function(){return Ne},xQ:function(){return le},zB:function(){return Ct}});var b=e(16268),z=e(10161),r=e(59069),E=e(7317),c=e(15393),_=e(17301),I=e(4669),M=e(70921),D=e(5976),p=e(66663),o=e(1432),d=e(89954),u=e(48906);const{registerWindow:i,getWindow:n,getDocument:f,getWindows:v,getWindowsCount:a,getWindowId:S,getWindowById:g,hasWindow:y,onDidRegisterWindow:C,onWillUnregisterWindow:L,onDidUnregisterWindow:O}=function(){const Ot=new Map;(0,u.HA)(u.Ex,1),Ot.set(u.Ex.vscodeWindowId,{window:u.Ex,disposables:new D.SL});const yt=new I.Q5,si=new I.Q5,ii=new I.Q5;return{onDidRegisterWindow:yt.event,onWillUnregisterWindow:ii.event,onDidUnregisterWindow:si.event,registerWindow(Ui){if(Ot.has(Ui.vscodeWindowId))return D.JT.None;const an=new D.SL,en={window:Ui,disposables:an.add(new D.SL)};return Ot.set(Ui.vscodeWindowId,en),an.add((0,D.OF)(()=>{Ot.delete(Ui.vscodeWindowId),si.fire(Ui)})),an.add(B(Ui,ei.BEFORE_UNLOAD,()=>{ii.fire(Ui)})),yt.fire(en),an},getWindows(){return Ot.values()},getWindowsCount(){return Ot.size},getWindowId(Ui){return Ui.vscodeWindowId},hasWindow(Ui){return Ot.has(Ui)},getWindowById(Ui){return Ot.get(Ui)},getWindow(Ui){var an;const en=Ui;if(!((an=en==null?void 0:en.ownerDocument)===null||an===void 0)&&an.defaultView)return en.ownerDocument.defaultView.window;const In=Ui;return In!=null&&In.view?In.view.window:u.Ex},getDocument(Ui){return n(Ui).document}}}();function T(Ot){for(;Ot.firstChild;)Ot.firstChild.remove()}class F{constructor(yt,si,ii,Ui){this._node=yt,this._type=si,this._handler=ii,this._options=Ui||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function B(Ot,yt,si,ii){return new F(Ot,yt,si,ii)}function $(Ot,yt){return function(si){return yt(new E.n(Ot,si))}}function Y(Ot){return function(yt){return Ot(new r.y(yt))}}const P=function(yt,si,ii,Ui){let an=ii;return si==="click"||si==="mousedown"?an=$(n(yt),ii):(si==="keydown"||si==="keypress"||si==="keyup")&&(an=Y(ii)),B(yt,si,an,Ui)},w=function(yt,si,ii){const Ui=$(n(yt),si);return R(yt,Ui,ii)},V=function(yt,si,ii){const Ui=$(n(yt),si);return A(yt,Ui,ii)};function R(Ot,yt,si){return B(Ot,o.gn&&z.D.pointerEvents?ei.POINTER_DOWN:ei.MOUSE_DOWN,yt,si)}function A(Ot,yt,si){return B(Ot,platform.isIOS&&BrowserFeatures.pointerEvents?ei.POINTER_UP:ei.MOUSE_UP,yt,si)}function H(Ot,yt,si){return(0,c.y5)(Ot,yt,si)}class U extends c.hF{constructor(yt,si){super(yt,si)}}let G,j;class W extends c.zh{cancelAndSet(yt,si,ii){return super.cancelAndSet(yt,si,ii)}}class K{constructor(yt,si=0){this._runner=yt,this.priority=si,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(yt){(0,_.dL)(yt)}}static sort(yt,si){return si.priority-yt.priority}}(function(){const Ot=new Map,yt=new Map,si=new Map,ii=new Map,Ui=an=>{var en;si.set(an,!1);const In=(en=Ot.get(an))!==null&&en!==void 0?en:[];for(yt.set(an,In),Ot.set(an,[]),ii.set(an,!0);In.length>0;)In.sort(K.sort),In.shift().execute();ii.set(an,!1)};j=(an,en,In=0)=>{const Fn=S(an),On=new K(en,In);let Mi=Ot.get(Fn);return Mi||(Mi=[],Ot.set(Fn,Mi)),Mi.push(On),si.get(Fn)||(si.set(Fn,!0),an.requestAnimationFrame(()=>Ui(Fn))),On},G=(an,en,In)=>{const Fn=S(an);if(ii.get(Fn)){const On=new K(en,In);let Mi=yt.get(Fn);return Mi||(Mi=[],yt.set(Fn,Mi)),Mi.push(On),On}else return j(an,en,In)}})();function m(Ot){return n(Ot).getComputedStyle(Ot,null)}function J(Ot,yt){const si=n(Ot),ii=si.document;if(Ot!==ii.body)return new ie(Ot.clientWidth,Ot.clientHeight);if(o.gn&&(si!=null&&si.visualViewport))return new ie(si.visualViewport.width,si.visualViewport.height);if(si!=null&&si.innerWidth&&si.innerHeight)return new ie(si.innerWidth,si.innerHeight);if(ii.body&&ii.body.clientWidth&&ii.body.clientHeight)return new ie(ii.body.clientWidth,ii.body.clientHeight);if(ii.documentElement&&ii.documentElement.clientWidth&&ii.documentElement.clientHeight)return new ie(ii.documentElement.clientWidth,ii.documentElement.clientHeight);if(yt)return J(yt);throw new Error("Unable to figure out browser width and height")}class X{static convertToPixels(yt,si){return parseFloat(si)||0}static getDimension(yt,si,ii){const Ui=m(yt),an=Ui?Ui.getPropertyValue(si):"0";return X.convertToPixels(yt,an)}static getBorderLeftWidth(yt){return X.getDimension(yt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(yt){return X.getDimension(yt,"border-right-width","borderRightWidth")}static getBorderTopWidth(yt){return X.getDimension(yt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(yt){return X.getDimension(yt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(yt){return X.getDimension(yt,"padding-left","paddingLeft")}static getPaddingRight(yt){return X.getDimension(yt,"padding-right","paddingRight")}static getPaddingTop(yt){return X.getDimension(yt,"padding-top","paddingTop")}static getPaddingBottom(yt){return X.getDimension(yt,"padding-bottom","paddingBottom")}static getMarginLeft(yt){return X.getDimension(yt,"margin-left","marginLeft")}static getMarginTop(yt){return X.getDimension(yt,"margin-top","marginTop")}static getMarginRight(yt){return X.getDimension(yt,"margin-right","marginRight")}static getMarginBottom(yt){return X.getDimension(yt,"margin-bottom","marginBottom")}}class ie{constructor(yt,si){this.width=yt,this.height=si}with(yt=this.width,si=this.height){return yt!==this.width||si!==this.height?new ie(yt,si):this}static is(yt){return typeof yt=="object"&&typeof yt.height=="number"&&typeof yt.width=="number"}static lift(yt){return yt instanceof ie?yt:new ie(yt.width,yt.height)}static equals(yt,si){return yt===si?!0:!yt||!si?!1:yt.width===si.width&&yt.height===si.height}}ie.None=new ie(0,0);function le(Ot){let yt=Ot.offsetParent,si=Ot.offsetTop,ii=Ot.offsetLeft;for(;(Ot=Ot.parentNode)!==null&&Ot!==Ot.ownerDocument.body&&Ot!==Ot.ownerDocument.documentElement;){si-=Ot.scrollTop;const Ui=ne(Ot)?null:m(Ot);Ui&&(ii-=Ui.direction!=="rtl"?Ot.scrollLeft:-Ot.scrollLeft),Ot===yt&&(ii+=X.getBorderLeftWidth(Ot),si+=X.getBorderTopWidth(Ot),si+=Ot.offsetTop,ii+=Ot.offsetLeft,yt=Ot.offsetParent)}return{left:ii,top:si}}function fe(Ot,yt,si){typeof yt=="number"&&(Ot.style.width=`${yt}px`),typeof si=="number"&&(Ot.style.height=`${si}px`)}function Le(Ot){const yt=Ot.getBoundingClientRect(),si=n(Ot);return{left:yt.left+si.scrollX,top:yt.top+si.scrollY,width:yt.width,height:yt.height}}function pe(Ot){let yt=Ot,si=1;do{const ii=m(yt).zoom;ii!=null&&ii!=="1"&&(si*=ii),yt=yt.parentElement}while(yt!==null&&yt!==yt.ownerDocument.documentElement);return si}function Te(Ot){const yt=X.getMarginLeft(Ot)+X.getMarginRight(Ot);return Ot.offsetWidth+yt}function De(Ot){const yt=X.getBorderLeftWidth(Ot)+X.getBorderRightWidth(Ot),si=X.getPaddingLeft(Ot)+X.getPaddingRight(Ot);return Ot.offsetWidth-yt-si}function ae(Ot){const yt=X.getBorderTopWidth(Ot)+X.getBorderBottomWidth(Ot),si=X.getPaddingTop(Ot)+X.getPaddingBottom(Ot);return Ot.offsetHeight-yt-si}function Ne(Ot){const yt=X.getMarginTop(Ot)+X.getMarginBottom(Ot);return Ot.offsetHeight+yt}function We(Ot,yt){return!!(yt!=null&&yt.contains(Ot))}function ze(Ot,yt,si){for(;Ot&&Ot.nodeType===Ot.ELEMENT_NODE;){if(Ot.classList.contains(yt))return Ot;if(si){if(typeof si=="string"){if(Ot.classList.contains(si))return null}else if(Ot===si)return null}Ot=Ot.parentNode}return null}function Se(Ot,yt,si){return!!ze(Ot,yt,si)}function ne(Ot){return Ot&&!!Ot.host&&!!Ot.mode}function ce(Ot){return!!Oe(Ot)}function Oe(Ot){for(var yt;Ot.parentNode;){if(Ot===((yt=Ot.ownerDocument)===null||yt===void 0?void 0:yt.body))return null;Ot=Ot.parentNode}return ne(Ot)?Ot:null}function Pe(){let Ot=_e().activeElement;for(;Ot!=null&&Ot.shadowRoot;)Ot=Ot.shadowRoot.activeElement;return Ot}function Me(Ot){return Ot.ownerDocument.activeElement===Ot}function ye(Ot){return We(Ot.ownerDocument.activeElement,Ot)}function _e(){var Ot;return a()<=1?document:(Ot=Array.from(v()).map(({window:si})=>si.document).find(si=>si.hasFocus()))!==null&&Ot!==void 0?Ot:document}function se(){var Ot,yt;return(yt=(Ot=_e().defaultView)===null||Ot===void 0?void 0:Ot.window)!==null&&yt!==void 0?yt:u.Ex}const ve=new Map;function xe(Ot=u.Ex.document.head,yt,si){const ii=document.createElement("style");if(ii.type="text/css",ii.media="screen",yt==null||yt(ii),Ot.appendChild(ii),si&&si.add((0,D.OF)(()=>Ot.removeChild(ii))),Ot===u.Ex.document.head){const Ui=new Set;ve.set(ii,Ui);for(const{window:an,disposables:en}of v()){if(an===u.Ex)continue;const In=en.add(je(ii,Ui,an));si==null||si.add(In)}}return ii}function je(Ot,yt,si){var ii,Ui;const an=new D.SL,en=Ot.cloneNode(!0);si.document.head.appendChild(en),an.add((0,D.OF)(()=>si.document.head.removeChild(en)));for(const In of Dt(Ot))(ii=en.sheet)===null||ii===void 0||ii.insertRule(In.cssText,(Ui=en.sheet)===null||Ui===void 0?void 0:Ui.cssRules.length);return an.add(Ae.observe(Ot,an,{childList:!0})(()=>{en.textContent=Ot.textContent})),yt.add(en),an.add((0,D.OF)(()=>yt.delete(en))),an}const Ae=new class{constructor(){this.mutationObservers=new Map}observe(Ot,yt,si){let ii=this.mutationObservers.get(Ot);ii||(ii=new Map,this.mutationObservers.set(Ot,ii));const Ui=(0,d.vp)(si);let an=ii.get(Ui);if(an)an.users+=1;else{const en=new I.Q5,In=new MutationObserver(On=>en.fire(On));In.observe(Ot,si);const Fn=an={users:1,observer:In,onDidMutate:en.event};yt.add((0,D.OF)(()=>{Fn.users-=1,Fn.users===0&&(en.dispose(),In.disconnect(),ii==null||ii.delete(Ui),(ii==null?void 0:ii.size)===0&&this.mutationObservers.delete(Ot))})),ii.set(Ui,an)}return an.onDidMutate}};let Qe=null;function rt(){return Qe||(Qe=xe()),Qe}function Dt(Ot){var yt,si;return!((yt=Ot==null?void 0:Ot.sheet)===null||yt===void 0)&&yt.rules?Ot.sheet.rules:!((si=Ot==null?void 0:Ot.sheet)===null||si===void 0)&&si.cssRules?Ot.sheet.cssRules:[]}function at(Ot,yt,si=rt()){var ii,Ui;if(!(!si||!yt)){(ii=si.sheet)===null||ii===void 0||ii.insertRule(`${Ot} {${yt}}`,0);for(const an of(Ui=ve.get(si))!==null&&Ui!==void 0?Ui:[])at(Ot,yt,an)}}function vt(Ot,yt=rt()){var si,ii;if(!yt)return;const Ui=Dt(yt),an=[];for(let en=0;en<Ui.length;en++){const In=Ui[en];Mt(In)&&In.selectorText.indexOf(Ot)!==-1&&an.push(en)}for(let en=an.length-1;en>=0;en--)(si=yt.sheet)===null||si===void 0||si.deleteRule(an[en]);for(const en of(ii=ve.get(yt))!==null&&ii!==void 0?ii:[])vt(Ot,en)}function Mt(Ot){return typeof Ot.selectorText=="string"}function ti(Ot){return Ot instanceof MouseEvent||Ot instanceof n(Ot).MouseEvent}function Ft(Ot){return Ot instanceof KeyboardEvent||Ot instanceof n(Ot).KeyboardEvent}const ei={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:b.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:b.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:b.Pf?"webkitAnimationIteration":"animationiteration"};function Xt(Ot){const yt=Ot;return!!(yt&&typeof yt.preventDefault=="function"&&typeof yt.stopPropagation=="function")}const Ct={stop:(Ot,yt)=>(Ot.preventDefault(),yt&&Ot.stopPropagation(),Ot)};function ft(Ot){const yt=[];for(let si=0;Ot&&Ot.nodeType===Ot.ELEMENT_NODE;si++)yt[si]=Ot.scrollTop,Ot=Ot.parentNode;return yt}function Bt(Ot,yt){for(let si=0;Ot&&Ot.nodeType===Ot.ELEMENT_NODE;si++)Ot.scrollTop!==yt[si]&&(Ot.scrollTop=yt[si]),Ot=Ot.parentNode}class kt extends D.JT{static hasFocusWithin(yt){if(yt instanceof HTMLElement){const si=Oe(yt),ii=si?si.activeElement:yt.ownerDocument.activeElement;return We(ii,yt)}else{const si=yt;return We(si.document.activeElement,si.document)}}constructor(yt){super(),this._onDidFocus=this._register(new I.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new I.Q5),this.onDidBlur=this._onDidBlur.event;let si=kt.hasFocusWithin(yt),ii=!1;const Ui=()=>{ii=!1,si||(si=!0,this._onDidFocus.fire())},an=()=>{si&&(ii=!0,(yt instanceof HTMLElement?n(yt):yt).setTimeout(()=>{ii&&(ii=!1,si=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{kt.hasFocusWithin(yt)!==si&&(si?an():Ui())},this._register(B(yt,ei.FOCUS,Ui,!0)),this._register(B(yt,ei.BLUR,an,!0)),yt instanceof HTMLElement&&(this._register(B(yt,ei.FOCUS_IN,()=>this._refreshStateHandler())),this._register(B(yt,ei.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Ge(Ot){return new kt(Ot)}function St(Ot,yt){return Ot.after(yt),yt}function Ci(Ot,...yt){if(Ot.append(...yt),yt.length===1&&typeof yt[0]!="string")return yt[0]}function Oi(Ot,yt){return Ot.insertBefore(yt,Ot.firstChild),yt}function xi(Ot,...yt){Ot.innerText="",Ci(Ot,...yt)}const Yi=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var fn;(function(Ot){Ot.HTML="http://www.w3.org/1999/xhtml",Ot.SVG="http://www.w3.org/2000/svg"})(fn||(fn={}));function un(Ot,yt,si,...ii){const Ui=Yi.exec(yt);if(!Ui)throw new Error("Bad use of emmet");const an=Ui[1]||"div";let en;return Ot!==fn.HTML?en=document.createElementNS(Ot,an):en=document.createElement(an),Ui[3]&&(en.id=Ui[3]),Ui[4]&&(en.className=Ui[4].replace(/\./g," ").trim()),si&&Object.entries(si).forEach(([In,Fn])=>{typeof Fn!="undefined"&&(/^on\w+$/.test(In)?en[In]=Fn:In==="selected"?Fn&&en.setAttribute(In,"true"):en.setAttribute(In,Fn))}),en.append(...ii),en}function Pn(Ot,yt,...si){return un(fn.HTML,Ot,yt,...si)}Pn.SVG=function(Ot,yt,...si){return un(fn.SVG,Ot,yt,...si)};function Dn(Ot,...yt){Ot?Gn(...yt):Rn(...yt)}function Gn(...Ot){for(const yt of Ot)yt.style.display="",yt.removeAttribute("aria-hidden")}function Rn(...Ot){for(const yt of Ot)yt.style.display="none",yt.setAttribute("aria-hidden","true")}function ns(Ot,yt){const si=Ot.devicePixelRatio*yt;return Math.max(1,Math.floor(si))/Ot.devicePixelRatio}function ts(Ot){u.Ex.open(Ot,"_blank","noopener")}function qn(Ot,yt){const si=()=>{yt(),ii=j(Ot,si)};let ii=j(Ot,si);return(0,D.OF)(()=>ii.dispose())}p.WX.setPreferredWebSchema(/^https:/.test(u.Ex.location.href)?"https":"http");function fs(Ot){return Ot?`url('${p.Gi.uriToBrowserUri(Ot).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Nn(Ot){return`'${Ot.replace(/'/g,"%27")}'`}function cs(Ot,yt){if(Ot!==void 0){const si=Ot.match(/^\s*var\((.+)\)$/);if(si){const ii=si[1].split(",",2);return ii.length===2&&(yt=cs(ii[1].trim(),yt)),`var(${ii[0]}, ${yt})`}return Ot}return yt}function Ei(Ot,yt=!1){const si=document.createElement("a");return M.v5("afterSanitizeAttributes",ii=>{for(const Ui of["href","src"])if(ii.hasAttribute(Ui)){const an=ii.getAttribute(Ui);if(Ui==="href"&&an.startsWith("#"))continue;if(si.href=an,!Ot.includes(si.protocol.replace(/:$/,""))){if(yt&&Ui==="src"&&si.href.startsWith("data:"))continue;ii.removeAttribute(Ui)}}}),(0,D.OF)(()=>{M.ok("afterSanitizeAttributes")})}const et=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),wt=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Yt extends I.Q5{constructor(){super(),this._subscriptions=new D.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(I.ju.runAndSubscribe(C,({window:yt,disposables:si})=>this.registerListeners(yt,si),{window:u.Ex,disposables:this._subscriptions}))}registerListeners(yt,si){si.add(B(yt,"keydown",ii=>{if(ii.defaultPrevented)return;const Ui=new r.y(ii);if(!(Ui.keyCode===6&&ii.repeat)){if(ii.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ii.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ii.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ii.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ui.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ii.altKey,this._keyStatus.ctrlKey=ii.ctrlKey,this._keyStatus.metaKey=ii.metaKey,this._keyStatus.shiftKey=ii.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ii,this.fire(this._keyStatus))}},!0)),si.add(B(yt,"keyup",ii=>{ii.defaultPrevented||(!ii.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ii.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ii.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ii.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ii.altKey,this._keyStatus.ctrlKey=ii.ctrlKey,this._keyStatus.metaKey=ii.metaKey,this._keyStatus.shiftKey=ii.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ii,this.fire(this._keyStatus)))},!0)),si.add(B(yt.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),si.add(B(yt.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),si.add(B(yt.document.body,"mousemove",ii=>{ii.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),si.add(B(yt,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Yt.instance||(Yt.instance=new Yt),Yt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class ri extends D.JT{constructor(yt,si){super(),this.element=yt,this.callbacks=si,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(B(this.element,ei.DRAG_START,yt=>{var si,ii;(ii=(si=this.callbacks).onDragStart)===null||ii===void 0||ii.call(si,yt)})),this.callbacks.onDrag&&this._register(B(this.element,ei.DRAG,yt=>{var si,ii;(ii=(si=this.callbacks).onDrag)===null||ii===void 0||ii.call(si,yt)})),this._register(B(this.element,ei.DRAG_ENTER,yt=>{var si,ii;this.counter++,this.dragStartTime=yt.timeStamp,(ii=(si=this.callbacks).onDragEnter)===null||ii===void 0||ii.call(si,yt)})),this._register(B(this.element,ei.DRAG_OVER,yt=>{var si,ii;yt.preventDefault(),(ii=(si=this.callbacks).onDragOver)===null||ii===void 0||ii.call(si,yt,yt.timeStamp-this.dragStartTime)})),this._register(B(this.element,ei.DRAG_LEAVE,yt=>{var si,ii;this.counter--,this.counter===0&&(this.dragStartTime=0,(ii=(si=this.callbacks).onDragLeave)===null||ii===void 0||ii.call(si,yt))})),this._register(B(this.element,ei.DRAG_END,yt=>{var si,ii;this.counter=0,this.dragStartTime=0,(ii=(si=this.callbacks).onDragEnd)===null||ii===void 0||ii.call(si,yt)})),this._register(B(this.element,ei.DROP,yt=>{var si,ii;this.counter=0,this.dragStartTime=0,(ii=(si=this.callbacks).onDrop)===null||ii===void 0||ii.call(si,yt)}))}}const vi=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function Wi(Ot,...yt){let si,ii;Array.isArray(yt[0])?(si={},ii=yt[0]):(si=yt[0]||{},ii=yt[1]);const Ui=vi.exec(Ot);if(!Ui||!Ui.groups)throw new Error("Bad use of h");const an=Ui.groups.tag||"div",en=document.createElement(an);Ui.groups.id&&(en.id=Ui.groups.id);const In=[];if(Ui.groups.class)for(const On of Ui.groups.class.split("."))On!==""&&In.push(On);if(si.className!==void 0)for(const On of si.className.split("."))On!==""&&In.push(On);In.length>0&&(en.className=In.join(" "));const Fn={};if(Ui.groups.name&&(Fn[Ui.groups.name]=en),ii)for(const On of ii)On instanceof HTMLElement?en.appendChild(On):typeof On=="string"?en.append(On):"root"in On&&(Object.assign(Fn,On),en.appendChild(On.root));for(const[On,Mi]of Object.entries(si))if(On!=="className")if(On==="style")for(const[_i,Ii]of Object.entries(Mi))en.style.setProperty($i(_i),typeof Ii=="number"?Ii+"px":""+Ii);else On==="tabIndex"?en.tabIndex=Mi:en.setAttribute($i(On),Mi.toString());return Fn.root=en,Fn}function $i(Ot){return Ot.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},70921:function(Pt,Ke,e){"use strict";e.d(Ke,{Nw:function(){return Se},ok:function(){return Me},v5:function(){return Pe}});const{entries:b,setPrototypeOf:z,isFrozen:r,getPrototypeOf:E,getOwnPropertyDescriptor:c}=Object;let{freeze:_,seal:I,create:M}=Object,{apply:D,construct:p}=typeof Reflect!="undefined"&&Reflect;D||(D=function(ve,xe,je){return ve.apply(xe,je)}),_||(_=function(ve){return ve}),I||(I=function(ve){return ve}),p||(p=function(ve,xe){return new ve(...xe)});const o=C(Array.prototype.forEach),d=C(Array.prototype.pop),u=C(Array.prototype.push),i=C(String.prototype.toLowerCase),n=C(String.prototype.toString),f=C(String.prototype.match),v=C(String.prototype.replace),a=C(String.prototype.indexOf),S=C(String.prototype.trim),g=C(RegExp.prototype.test),y=L(TypeError);function C(se){return function(ve){for(var xe=arguments.length,je=new Array(xe>1?xe-1:0),Ae=1;Ae<xe;Ae++)je[Ae-1]=arguments[Ae];return D(se,ve,je)}}function L(se){return function(){for(var ve=arguments.length,xe=new Array(ve),je=0;je<ve;je++)xe[je]=arguments[je];return p(se,xe)}}function O(se,ve,xe){var je;xe=(je=xe)!==null&&je!==void 0?je:i,z&&z(se,null);let Ae=ve.length;for(;Ae--;){let Qe=ve[Ae];if(typeof Qe=="string"){const rt=xe(Qe);rt!==Qe&&(r(ve)||(ve[Ae]=rt),Qe=rt)}se[Qe]=!0}return se}function T(se){const ve=M(null);for(const[xe,je]of b(se))ve[xe]=je;return ve}function F(se,ve){for(;se!==null;){const je=c(se,ve);if(je){if(je.get)return C(je.get);if(typeof je.value=="function")return C(je.value)}se=E(se)}function xe(je){return console.warn("fallback value for",je),null}return xe}const B=_(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$=_(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=_(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=_(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),w=_(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),V=_(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R=_(["#text"]),A=_(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H=_(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=_(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=_(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=I(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=I(/<%[\w\W]*|[\w\W]*%>/gm),K=I(/\${[\w\W]*}/gm),m=I(/^data-[\-\w.\u00B7-\uFFFF]/),J=I(/^aria-[\-\w]+$/),X=I(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ie=I(/^(?:\w+script|data):/i),le=I(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fe=I(/^html$/i);var Le=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:W,TMPLIT_EXPR:K,DATA_ATTR:m,ARIA_ATTR:J,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:le,DOCTYPE_NAME:fe});const pe=()=>typeof window=="undefined"?null:window,Te=function(ve,xe){if(typeof ve!="object"||typeof ve.createPolicy!="function")return null;let je=null;const Ae="data-tt-policy-suffix";xe&&xe.hasAttribute(Ae)&&(je=xe.getAttribute(Ae));const Qe="dompurify"+(je?"#"+je:"");try{return ve.createPolicy(Qe,{createHTML(rt){return rt},createScriptURL(rt){return rt}})}catch(rt){return console.warn("TrustedTypes policy "+Qe+" could not be created."),null}};function De(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe();const ve=pi=>De(pi);if(ve.version="3.0.5",ve.removed=[],!se||!se.document||se.document.nodeType!==9)return ve.isSupported=!1,ve;const xe=se.document,je=xe.currentScript;let{document:Ae}=se;const{DocumentFragment:Qe,HTMLTemplateElement:rt,Node:Dt,Element:at,NodeFilter:vt,NamedNodeMap:Mt=se.NamedNodeMap||se.MozNamedAttrMap,HTMLFormElement:ti,DOMParser:Ft,trustedTypes:ei}=se,Xt=at.prototype,Ct=F(Xt,"cloneNode"),ft=F(Xt,"nextSibling"),Bt=F(Xt,"childNodes"),kt=F(Xt,"parentNode");if(typeof rt=="function"){const pi=Ae.createElement("template");pi.content&&pi.content.ownerDocument&&(Ae=pi.content.ownerDocument)}let Ge,St="";const{implementation:Ci,createNodeIterator:Oi,createDocumentFragment:xi,getElementsByTagName:Yi}=Ae,{importNode:fn}=xe;let un={};ve.isSupported=typeof b=="function"&&typeof kt=="function"&&Ci&&Ci.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Pn,ERB_EXPR:Dn,TMPLIT_EXPR:Gn,DATA_ATTR:Rn,ARIA_ATTR:ns,IS_SCRIPT_OR_DATA:ts,ATTR_WHITESPACE:qn}=Le;let{IS_ALLOWED_URI:fs}=Le,Nn=null;const cs=O({},[...B,...$,...Y,...w,...R]);let Ei=null;const et=O({},[...A,...H,...U,...G]);let wt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Yt=null,ri=null,vi=!0,Wi=!0,$i=!1,Ot=!0,yt=!1,si=!1,ii=!1,Ui=!1,an=!1,en=!1,In=!1,Fn=!0,On=!1;const Mi="user-content-";let _i=!0,Ii=!1,Ht={},Zt=null;const hi=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Wt=null;const qe=O({},["audio","video","img","source","image","track"]);let ee=null;const de=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),re="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",we="http://www.w3.org/1999/xhtml";let be=we,ke=!1,He=null;const Ye=O({},[re,Ce,we],n);let ut;const $t=["application/xhtml+xml","text/html"],gi="text/html";let ci,ai=null;const ct=Ae.createElement("form"),Nt=function($e){return $e instanceof RegExp||$e instanceof Function},Et=function($e){if(!(ai&&ai===$e)){if((!$e||typeof $e!="object")&&($e={}),$e=T($e),ut=$t.indexOf($e.PARSER_MEDIA_TYPE)===-1?ut=gi:ut=$e.PARSER_MEDIA_TYPE,ci=ut==="application/xhtml+xml"?n:i,Nn="ALLOWED_TAGS"in $e?O({},$e.ALLOWED_TAGS,ci):cs,Ei="ALLOWED_ATTR"in $e?O({},$e.ALLOWED_ATTR,ci):et,He="ALLOWED_NAMESPACES"in $e?O({},$e.ALLOWED_NAMESPACES,n):Ye,ee="ADD_URI_SAFE_ATTR"in $e?O(T(de),$e.ADD_URI_SAFE_ATTR,ci):de,Wt="ADD_DATA_URI_TAGS"in $e?O(T(qe),$e.ADD_DATA_URI_TAGS,ci):qe,Zt="FORBID_CONTENTS"in $e?O({},$e.FORBID_CONTENTS,ci):hi,Yt="FORBID_TAGS"in $e?O({},$e.FORBID_TAGS,ci):{},ri="FORBID_ATTR"in $e?O({},$e.FORBID_ATTR,ci):{},Ht="USE_PROFILES"in $e?$e.USE_PROFILES:!1,vi=$e.ALLOW_ARIA_ATTR!==!1,Wi=$e.ALLOW_DATA_ATTR!==!1,$i=$e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ot=$e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,yt=$e.SAFE_FOR_TEMPLATES||!1,si=$e.WHOLE_DOCUMENT||!1,an=$e.RETURN_DOM||!1,en=$e.RETURN_DOM_FRAGMENT||!1,In=$e.RETURN_TRUSTED_TYPE||!1,Ui=$e.FORCE_BODY||!1,Fn=$e.SANITIZE_DOM!==!1,On=$e.SANITIZE_NAMED_PROPS||!1,_i=$e.KEEP_CONTENT!==!1,Ii=$e.IN_PLACE||!1,fs=$e.ALLOWED_URI_REGEXP||X,be=$e.NAMESPACE||we,wt=$e.CUSTOM_ELEMENT_HANDLING||{},$e.CUSTOM_ELEMENT_HANDLING&&Nt($e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(wt.tagNameCheck=$e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$e.CUSTOM_ELEMENT_HANDLING&&Nt($e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(wt.attributeNameCheck=$e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$e.CUSTOM_ELEMENT_HANDLING&&typeof $e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(wt.allowCustomizedBuiltInElements=$e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),yt&&(Wi=!1),en&&(an=!0),Ht&&(Nn=O({},[...R]),Ei=[],Ht.html===!0&&(O(Nn,B),O(Ei,A)),Ht.svg===!0&&(O(Nn,$),O(Ei,H),O(Ei,G)),Ht.svgFilters===!0&&(O(Nn,Y),O(Ei,H),O(Ei,G)),Ht.mathMl===!0&&(O(Nn,w),O(Ei,U),O(Ei,G))),$e.ADD_TAGS&&(Nn===cs&&(Nn=T(Nn)),O(Nn,$e.ADD_TAGS,ci)),$e.ADD_ATTR&&(Ei===et&&(Ei=T(Ei)),O(Ei,$e.ADD_ATTR,ci)),$e.ADD_URI_SAFE_ATTR&&O(ee,$e.ADD_URI_SAFE_ATTR,ci),$e.FORBID_CONTENTS&&(Zt===hi&&(Zt=T(Zt)),O(Zt,$e.FORBID_CONTENTS,ci)),_i&&(Nn["#text"]=!0),si&&O(Nn,["html","head","body"]),Nn.table&&(O(Nn,["tbody"]),delete Yt.tbody),$e.TRUSTED_TYPES_POLICY){if(typeof $e.TRUSTED_TYPES_POLICY.createHTML!="function")throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ge=$e.TRUSTED_TYPES_POLICY,St=Ge.createHTML("")}else Ge===void 0&&(Ge=Te(ei,je)),Ge!==null&&typeof St=="string"&&(St=Ge.createHTML(""));_&&_($e),ai=$e}},It=O({},["mi","mo","mn","ms","mtext"]),Gt=O({},["foreignobject","desc","title","annotation-xml"]),zt=O({},["title","style","font","a","script"]),mi=O({},$);O(mi,Y),O(mi,P);const ui=O({},w);O(ui,V);const Ti=function($e){let ht=kt($e);(!ht||!ht.tagName)&&(ht={namespaceURI:be,tagName:"template"});const gt=i($e.tagName),li=i(ht.tagName);return He[$e.namespaceURI]?$e.namespaceURI===Ce?ht.namespaceURI===we?gt==="svg":ht.namespaceURI===re?gt==="svg"&&(li==="annotation-xml"||It[li]):!!mi[gt]:$e.namespaceURI===re?ht.namespaceURI===we?gt==="math":ht.namespaceURI===Ce?gt==="math"&&Gt[li]:!!ui[gt]:$e.namespaceURI===we?ht.namespaceURI===Ce&&!Gt[li]||ht.namespaceURI===re&&!It[li]?!1:!ui[gt]&&(zt[gt]||!mi[gt]):!!(ut==="application/xhtml+xml"&&He[$e.namespaceURI]):!1},Ri=function($e){u(ve.removed,{element:$e});try{$e.parentNode.removeChild($e)}catch(ht){$e.remove()}},tn=function($e,ht){try{u(ve.removed,{attribute:ht.getAttributeNode($e),from:ht})}catch(gt){u(ve.removed,{attribute:null,from:ht})}if(ht.removeAttribute($e),$e==="is"&&!Ei[$e])if(an||en)try{Ri(ht)}catch(gt){}else try{ht.setAttribute($e,"")}catch(gt){}},gn=function($e){let ht,gt;if(Ui)$e="<remove></remove>"+$e;else{const bi=f($e,/^[\r\n\t ]+/);gt=bi&&bi[0]}ut==="application/xhtml+xml"&&be===we&&($e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$e+"</body></html>");const li=Ge?Ge.createHTML($e):$e;if(be===we)try{ht=new Ft().parseFromString(li,ut)}catch(bi){}if(!ht||!ht.documentElement){ht=Ci.createDocument(be,"template",null);try{ht.documentElement.innerHTML=ke?St:li}catch(bi){}}const ni=ht.body||ht.documentElement;return $e&&gt&&ni.insertBefore(Ae.createTextNode(gt),ni.childNodes[0]||null),be===we?Yi.call(ht,si?"html":"body")[0]:si?ht.documentElement:ni},wn=function($e){return Oi.call($e.ownerDocument||$e,$e,vt.SHOW_ELEMENT|vt.SHOW_COMMENT|vt.SHOW_TEXT,null,!1)},An=function($e){return $e instanceof ti&&(typeof $e.nodeName!="string"||typeof $e.textContent!="string"||typeof $e.removeChild!="function"||!($e.attributes instanceof Mt)||typeof $e.removeAttribute!="function"||typeof $e.setAttribute!="function"||typeof $e.namespaceURI!="string"||typeof $e.insertBefore!="function"||typeof $e.hasChildNodes!="function")},Bn=function($e){return typeof Dt=="object"?$e instanceof Dt:$e&&typeof $e=="object"&&typeof $e.nodeType=="number"&&typeof $e.nodeName=="string"},Tn=function($e,ht,gt){un[$e]&&o(un[$e],li=>{li.call(ve,ht,gt,ai)})},es=function($e){let ht;if(Tn("beforeSanitizeElements",$e,null),An($e))return Ri($e),!0;const gt=ci($e.nodeName);if(Tn("uponSanitizeElement",$e,{tagName:gt,allowedTags:Nn}),$e.hasChildNodes()&&!Bn($e.firstElementChild)&&(!Bn($e.content)||!Bn($e.content.firstElementChild))&&g(/<[/\w]/g,$e.innerHTML)&&g(/<[/\w]/g,$e.textContent))return Ri($e),!0;if(!Nn[gt]||Yt[gt]){if(!Yt[gt]&&yn(gt)&&(wt.tagNameCheck instanceof RegExp&&g(wt.tagNameCheck,gt)||wt.tagNameCheck instanceof Function&&wt.tagNameCheck(gt)))return!1;if(_i&&!Zt[gt]){const li=kt($e)||$e.parentNode,ni=Bt($e)||$e.childNodes;if(ni&&li){const bi=ni.length;for(let Si=bi-1;Si>=0;--Si)li.insertBefore(Ct(ni[Si],!0),ft($e))}}return Ri($e),!0}return $e instanceof at&&!Ti($e)||(gt==="noscript"||gt==="noembed"||gt==="noframes")&&g(/<\/no(script|embed|frames)/i,$e.innerHTML)?(Ri($e),!0):(yt&&$e.nodeType===3&&(ht=$e.textContent,ht=v(ht,Pn," "),ht=v(ht,Dn," "),ht=v(ht,Gn," "),$e.textContent!==ht&&(u(ve.removed,{element:$e.cloneNode()}),$e.textContent=ht)),Tn("afterSanitizeElements",$e,null),!1)},Un=function($e,ht,gt){if(Fn&&(ht==="id"||ht==="name")&&(gt in Ae||gt in ct))return!1;if(!(Wi&&!ri[ht]&&g(Rn,ht))){if(!(vi&&g(ns,ht))){if(!Ei[ht]||ri[ht]){if(!(yn($e)&&(wt.tagNameCheck instanceof RegExp&&g(wt.tagNameCheck,$e)||wt.tagNameCheck instanceof Function&&wt.tagNameCheck($e))&&(wt.attributeNameCheck instanceof RegExp&&g(wt.attributeNameCheck,ht)||wt.attributeNameCheck instanceof Function&&wt.attributeNameCheck(ht))||ht==="is"&&wt.allowCustomizedBuiltInElements&&(wt.tagNameCheck instanceof RegExp&&g(wt.tagNameCheck,gt)||wt.tagNameCheck instanceof Function&&wt.tagNameCheck(gt))))return!1}else if(!ee[ht]){if(!g(fs,v(gt,qn,""))){if(!((ht==="src"||ht==="xlink:href"||ht==="href")&&$e!=="script"&&a(gt,"data:")===0&&Wt[$e])){if(!($i&&!g(ts,v(gt,qn,"")))){if(gt)return!1}}}}}}return!0},yn=function($e){return $e.indexOf("-")>0},ss=function($e){let ht,gt,li,ni;Tn("beforeSanitizeAttributes",$e,null);const{attributes:bi}=$e;if(!bi)return;const Si={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ei};for(ni=bi.length;ni--;){ht=bi[ni];const{name:yi,namespaceURI:Pi}=ht;if(gt=yi==="value"?ht.value:S(ht.value),li=ci(yi),Si.attrName=li,Si.attrValue=gt,Si.keepAttr=!0,Si.forceKeepAttr=void 0,Tn("uponSanitizeAttribute",$e,Si),gt=Si.attrValue,Si.forceKeepAttr||(tn(yi,$e),!Si.keepAttr))continue;if(!Ot&&g(/\/>/i,gt)){tn(yi,$e);continue}yt&&(gt=v(gt,Pn," "),gt=v(gt,Dn," "),gt=v(gt,Gn," "));const Qi=ci($e.nodeName);if(Un(Qi,li,gt)){if(On&&(li==="id"||li==="name")&&(tn(yi,$e),gt=Mi+gt),Ge&&typeof ei=="object"&&typeof ei.getAttributeType=="function"&&!Pi)switch(ei.getAttributeType(Qi,li)){case"TrustedHTML":{gt=Ge.createHTML(gt);break}case"TrustedScriptURL":{gt=Ge.createScriptURL(gt);break}}try{Pi?$e.setAttributeNS(Pi,yi,gt):$e.setAttribute(yi,gt),d(ve.removed)}catch(Hi){}}}Tn("afterSanitizeAttributes",$e,null)},os=function pi($e){let ht;const gt=wn($e);for(Tn("beforeSanitizeShadowDOM",$e,null);ht=gt.nextNode();)Tn("uponSanitizeShadowNode",ht,null),!es(ht)&&(ht.content instanceof Qe&&pi(ht.content),ss(ht));Tn("afterSanitizeShadowDOM",$e,null)};return ve.sanitize=function(pi){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ht,gt,li,ni;if(ke=!pi,ke&&(pi="<!-->"),typeof pi!="string"&&!Bn(pi))if(typeof pi.toString=="function"){if(pi=pi.toString(),typeof pi!="string")throw y("dirty is not a string, aborting")}else throw y("toString is not a function");if(!ve.isSupported)return pi;if(ii||Et($e),ve.removed=[],typeof pi=="string"&&(Ii=!1),Ii){if(pi.nodeName){const yi=ci(pi.nodeName);if(!Nn[yi]||Yt[yi])throw y("root node is forbidden and cannot be sanitized in-place")}}else if(pi instanceof Dt)ht=gn("<!---->"),gt=ht.ownerDocument.importNode(pi,!0),gt.nodeType===1&&gt.nodeName==="BODY"||gt.nodeName==="HTML"?ht=gt:ht.appendChild(gt);else{if(!an&&!yt&&!si&&pi.indexOf("<")===-1)return Ge&&In?Ge.createHTML(pi):pi;if(ht=gn(pi),!ht)return an?null:In?St:""}ht&&Ui&&Ri(ht.firstChild);const bi=wn(Ii?pi:ht);for(;li=bi.nextNode();)es(li)||(li.content instanceof Qe&&os(li.content),ss(li));if(Ii)return pi;if(an){if(en)for(ni=xi.call(ht.ownerDocument);ht.firstChild;)ni.appendChild(ht.firstChild);else ni=ht;return(Ei.shadowroot||Ei.shadowrootmode)&&(ni=fn.call(xe,ni,!0)),ni}let Si=si?ht.outerHTML:ht.innerHTML;return si&&Nn["!doctype"]&&ht.ownerDocument&&ht.ownerDocument.doctype&&ht.ownerDocument.doctype.name&&g(fe,ht.ownerDocument.doctype.name)&&(Si="<!DOCTYPE "+ht.ownerDocument.doctype.name+`>
`+Si),yt&&(Si=v(Si,Pn," "),Si=v(Si,Dn," "),Si=v(Si,Gn," ")),Ge&&In?Ge.createHTML(Si):Si},ve.setConfig=function(pi){Et(pi),ii=!0},ve.clearConfig=function(){ai=null,ii=!1},ve.isValidAttribute=function(pi,$e,ht){ai||Et({});const gt=ci(pi),li=ci($e);return Un(gt,li,ht)},ve.addHook=function(pi,$e){typeof $e=="function"&&(un[pi]=un[pi]||[],u(un[pi],$e))},ve.removeHook=function(pi){if(un[pi])return d(un[pi])},ve.removeHooks=function(pi){un[pi]&&(un[pi]=[])},ve.removeAllHooks=function(){un={}},ve}var ae=De(),Ne=null;const We=ae.version,ze=ae.isSupported,Se=ae.sanitize,ne=ae.setConfig,ce=ae.clearConfig,Oe=ae.isValidAttribute,Pe=ae.addHook,Me=ae.removeHook,ye=ae.removeHooks,_e=ae.removeAllHooks},4850:function(Pt,Ke,e){"use strict";e.d(Ke,{Y:function(){return z}});var b=e(4669);class z{get event(){return this.emitter.event}constructor(E,c,_){const I=M=>this.emitter.fire(M);this.emitter=new b.Q5({onWillAddFirstListener:()=>E.addEventListener(c,I,_),onDidRemoveLastListener:()=>E.removeEventListener(c,I,_)})}dispose(){this.emitter.dispose()}}},38626:function(Pt,Ke,e){"use strict";e.d(Ke,{X:function(){return r},Z:function(){return b}});class b{constructor(c){this.domNode=c,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(c){const _=z(c);this._maxWidth!==_&&(this._maxWidth=_,this.domNode.style.maxWidth=this._maxWidth)}setWidth(c){const _=z(c);this._width!==_&&(this._width=_,this.domNode.style.width=this._width)}setHeight(c){const _=z(c);this._height!==_&&(this._height=_,this.domNode.style.height=this._height)}setTop(c){const _=z(c);this._top!==_&&(this._top=_,this.domNode.style.top=this._top)}setLeft(c){const _=z(c);this._left!==_&&(this._left=_,this.domNode.style.left=this._left)}setBottom(c){const _=z(c);this._bottom!==_&&(this._bottom=_,this.domNode.style.bottom=this._bottom)}setRight(c){const _=z(c);this._right!==_&&(this._right=_,this.domNode.style.right=this._right)}setPaddingLeft(c){const _=z(c);this._paddingLeft!==_&&(this._paddingLeft=_,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(c){this._fontFamily!==c&&(this._fontFamily=c,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(c){this._fontWeight!==c&&(this._fontWeight=c,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(c){const _=z(c);this._fontSize!==_&&(this._fontSize=_,this.domNode.style.fontSize=this._fontSize)}setFontStyle(c){this._fontStyle!==c&&(this._fontStyle=c,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(c){this._fontFeatureSettings!==c&&(this._fontFeatureSettings=c,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(c){this._fontVariationSettings!==c&&(this._fontVariationSettings=c,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(c){this._textDecoration!==c&&(this._textDecoration=c,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(c){const _=z(c);this._lineHeight!==_&&(this._lineHeight=_,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(c){const _=z(c);this._letterSpacing!==_&&(this._letterSpacing=_,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(c){this._className!==c&&(this._className=c,this.domNode.className=this._className)}toggleClassName(c,_){this.domNode.classList.toggle(c,_),this._className=this.domNode.className}setDisplay(c){this._display!==c&&(this._display=c,this.domNode.style.display=this._display)}setPosition(c){this._position!==c&&(this._position=c,this.domNode.style.position=this._position)}setVisibility(c){this._visibility!==c&&(this._visibility=c,this.domNode.style.visibility=this._visibility)}setColor(c){this._color!==c&&(this._color=c,this.domNode.style.color=this._color)}setBackgroundColor(c){this._backgroundColor!==c&&(this._backgroundColor=c,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(c){this._layerHint!==c&&(this._layerHint=c,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(c){this._boxShadow!==c&&(this._boxShadow=c,this.domNode.style.boxShadow=c)}setContain(c){this._contain!==c&&(this._contain=c,this.domNode.style.contain=this._contain)}setAttribute(c,_){this.domNode.setAttribute(c,_)}removeAttribute(c){this.domNode.removeAttribute(c)}appendChild(c){this.domNode.appendChild(c.domNode)}removeChild(c){this.domNode.removeChild(c.domNode)}}function z(E){return typeof E=="number"?`${E}px`:E}function r(E){return new b(E)}},94079:function(Pt,Ke,e){"use strict";e.d(Ke,{BO:function(){return r},IY:function(){return z},az:function(){return E}});var b=e(65321);function z(p,o={}){const d=E(o);return d.textContent=p,d}function r(p,o={}){const d=E(o);return _(d,I(p,!!o.renderCodeSegments),o.actionHandler,o.renderCodeSegments),d}function E(p){const o=p.inline?"span":"div",d=document.createElement(o);return p.className&&(d.className=p.className),d}class c{constructor(o){this.source=o,this.index=0}eos(){return this.index>=this.source.length}next(){const o=this.peek();return this.advance(),o}peek(){return this.source[this.index]}advance(){this.index++}}function _(p,o,d,u){let i;if(o.type===2)i=document.createTextNode(o.content||"");else if(o.type===3)i=document.createElement("b");else if(o.type===4)i=document.createElement("i");else if(o.type===7&&u)i=document.createElement("code");else if(o.type===5&&d){const n=document.createElement("a");d.disposables.add(b.mu(n,"click",f=>{d.callback(String(o.index),f)})),i=n}else o.type===8?i=document.createElement("br"):o.type===1&&(i=p);i&&p!==i&&p.appendChild(i),i&&Array.isArray(o.children)&&o.children.forEach(n=>{_(i,n,d,u)})}function I(p,o){const d={type:1,children:[]};let u=0,i=d;const n=[],f=new c(p);for(;!f.eos();){let v=f.next();const a=v==="\\"&&D(f.peek(),o)!==0;if(a&&(v=f.next()),!a&&M(v,o)&&v===f.peek()){f.advance(),i.type===2&&(i=n.pop());const S=D(v,o);if(i.type===S||i.type===5&&S===6)i=n.pop();else{const g={type:S,children:[]};S===5&&(g.index=u,u++),i.children.push(g),n.push(i),i=g}}else if(v===`
`)i.type===2&&(i=n.pop()),i.children.push({type:8});else if(i.type!==2){const S={type:2,content:v};i.children.push(S),n.push(i),i=S}else i.content+=v}return i.type===2&&(i=n.pop()),n.length,d}function M(p,o){return D(p,o)!==0}function D(p,o){switch(p){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return o?7:0;default:return 0}}},93911:function(Pt,Ke,e){"use strict";e.d(Ke,{C:function(){return r}});var b=e(65321),z=e(5976);class r{constructor(){this._hooks=new z.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(c,_){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const I=this._onStopCallback;this._onStopCallback=null,c&&I&&I(_)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(c,_,I,M,D){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=M,this._onStopCallback=D;let p=c;try{c.setPointerCapture(_),this._hooks.add((0,z.OF)(()=>{try{c.releasePointerCapture(_)}catch(o){}}))}catch(o){p=b.Jj(c)}this._hooks.add(b.nm(p,b.tw.POINTER_MOVE,o=>{if(o.buttons!==I){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(b.nm(p,b.tw.POINTER_UP,o=>this.stopMonitoring(!0)))}}},59069:function(Pt,Ke,e){"use strict";e.d(Ke,{y:function(){return p}});var b=e(16268),z=e(22258),r=e(8313),E=e(1432);function c(o){if(o.charCode){const u=String.fromCharCode(o.charCode).toUpperCase();return z.kL.fromString(u)}const d=o.keyCode;if(d===3)return 7;if(b.vU)switch(d){case 59:return 85;case 60:if(E.IJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(E.dz)return 57;break}else if(b.Pf){if(E.dz&&d===93)return 57;if(!E.dz&&d===92)return 57}return z.H_[d]||0}const _=E.dz?256:2048,I=512,M=1024,D=E.dz?2048:256;class p{constructor(d){this._standardKeyboardEventBrand=!0;const u=d;this.browserEvent=u,this.target=u.target,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.altKey=u.altKey,this.metaKey=u.metaKey,this.altGraphKey=u.getModifierState("AltGraph"),this.keyCode=c(u),this.code=u.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(d){return this._asKeybinding===d}_computeKeybinding(){let d=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(d=this.keyCode);let u=0;return this.ctrlKey&&(u|=_),this.altKey&&(u|=I),this.shiftKey&&(u|=M),this.metaKey&&(u|=D),u|=d,u}_computeKeyCodeChord(){let d=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(d=this.keyCode),new r.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,d)}}},53253:function(Pt,Ke,e){"use strict";e.d(Ke,{ap:function(){return W},et:function(){return le}});var b=e(65321),z=e(70921),r=e(4850),E=e(94079),c=e(59069),_=e(7317),I=e(56811),M=e(17301),D=e(4669),p=e(59365),o=e(21212),d=e(44742),u=e(79579),i=e(5976);let n={};(function(){function _e(se,ve){ve(n)}_e.amd=!0,function(se,ve){typeof _e=="function"&&_e.amd?_e(["exports"],ve):typeof exports=="object"?ve(exports):(se=typeof globalThis!="undefined"?globalThis:se||self,ve(se.marked={}))}(this,function(se){"use strict";function ve(Mi,_i){for(var Ii=0;Ii<_i.length;Ii++){var Ht=_i[Ii];Ht.enumerable=Ht.enumerable||!1,Ht.configurable=!0,"value"in Ht&&(Ht.writable=!0),Object.defineProperty(Mi,Ht.key,Ht)}}function xe(Mi,_i,Ii){return _i&&ve(Mi.prototype,_i),Ii&&ve(Mi,Ii),Object.defineProperty(Mi,"prototype",{writable:!1}),Mi}function je(Mi,_i){if(Mi){if(typeof Mi=="string")return Ae(Mi,_i);var Ii=Object.prototype.toString.call(Mi).slice(8,-1);if(Ii==="Object"&&Mi.constructor&&(Ii=Mi.constructor.name),Ii==="Map"||Ii==="Set")return Array.from(Mi);if(Ii==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ii))return Ae(Mi,_i)}}function Ae(Mi,_i){(_i==null||_i>Mi.length)&&(_i=Mi.length);for(var Ii=0,Ht=new Array(_i);Ii<_i;Ii++)Ht[Ii]=Mi[Ii];return Ht}function Qe(Mi,_i){var Ii=typeof Symbol!="undefined"&&Mi[Symbol.iterator]||Mi["@@iterator"];if(Ii)return(Ii=Ii.call(Mi)).next.bind(Ii);if(Array.isArray(Mi)||(Ii=je(Mi))||_i&&Mi&&typeof Mi.length=="number"){Ii&&(Mi=Ii);var Ht=0;return function(){return Ht>=Mi.length?{done:!0}:{done:!1,value:Mi[Ht++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}se.defaults=rt();function Dt(Mi){se.defaults=Mi}var at=/[&<>"']/,vt=/[&<>"']/g,Mt=/[<>"']|&(?!#?\w+;)/,ti=/[<>"']|&(?!#?\w+;)/g,Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ei=function(_i){return Ft[_i]};function Xt(Mi,_i){if(_i){if(at.test(Mi))return Mi.replace(vt,ei)}else if(Mt.test(Mi))return Mi.replace(ti,ei);return Mi}var Ct=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ft(Mi){return Mi.replace(Ct,function(_i,Ii){return Ii=Ii.toLowerCase(),Ii==="colon"?":":Ii.charAt(0)==="#"?Ii.charAt(1)==="x"?String.fromCharCode(parseInt(Ii.substring(2),16)):String.fromCharCode(+Ii.substring(1)):""})}var Bt=/(^|[^\[])\^/g;function kt(Mi,_i){Mi=typeof Mi=="string"?Mi:Mi.source,_i=_i||"";var Ii={replace:function(Zt,hi){return hi=hi.source||hi,hi=hi.replace(Bt,"$1"),Mi=Mi.replace(Zt,hi),Ii},getRegex:function(){return new RegExp(Mi,_i)}};return Ii}var Ge=/[^\w:]/g,St=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ci(Mi,_i,Ii){if(Mi){var Ht;try{Ht=decodeURIComponent(ft(Ii)).replace(Ge,"").toLowerCase()}catch(Zt){return null}if(Ht.indexOf("javascript:")===0||Ht.indexOf("vbscript:")===0||Ht.indexOf("data:")===0)return null}_i&&!St.test(Ii)&&(Ii=un(_i,Ii));try{Ii=encodeURI(Ii).replace(/%25/g,"%")}catch(Zt){return null}return Ii}var Oi={},xi=/^[^:]+:\/*[^/]*$/,Yi=/^([^:]+:)[\s\S]*$/,fn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function un(Mi,_i){Oi[" "+Mi]||(xi.test(Mi)?Oi[" "+Mi]=Mi+"/":Oi[" "+Mi]=Rn(Mi,"/",!0)),Mi=Oi[" "+Mi];var Ii=Mi.indexOf(":")===-1;return _i.substring(0,2)==="//"?Ii?_i:Mi.replace(Yi,"$1")+_i:_i.charAt(0)==="/"?Ii?_i:Mi.replace(fn,"$1")+_i:Mi+_i}var Pn={exec:function(){}};function Dn(Mi){for(var _i=1,Ii,Ht;_i<arguments.length;_i++){Ii=arguments[_i];for(Ht in Ii)Object.prototype.hasOwnProperty.call(Ii,Ht)&&(Mi[Ht]=Ii[Ht])}return Mi}function Gn(Mi,_i){var Ii=Mi.replace(/\|/g,function(hi,Wt,qe){for(var ee=!1,de=Wt;--de>=0&&qe[de]==="\\";)ee=!ee;return ee?"|":" |"}),Ht=Ii.split(/ \|/),Zt=0;if(Ht[0].trim()||Ht.shift(),Ht.length>0&&!Ht[Ht.length-1].trim()&&Ht.pop(),Ht.length>_i)Ht.splice(_i);else for(;Ht.length<_i;)Ht.push("");for(;Zt<Ht.length;Zt++)Ht[Zt]=Ht[Zt].trim().replace(/\\\|/g,"|");return Ht}function Rn(Mi,_i,Ii){var Ht=Mi.length;if(Ht===0)return"";for(var Zt=0;Zt<Ht;){var hi=Mi.charAt(Ht-Zt-1);if(hi===_i&&!Ii)Zt++;else if(hi!==_i&&Ii)Zt++;else break}return Mi.slice(0,Ht-Zt)}function ns(Mi,_i){if(Mi.indexOf(_i[1])===-1)return-1;for(var Ii=Mi.length,Ht=0,Zt=0;Zt<Ii;Zt++)if(Mi[Zt]==="\\")Zt++;else if(Mi[Zt]===_i[0])Ht++;else if(Mi[Zt]===_i[1]&&(Ht--,Ht<0))return Zt;return-1}function ts(Mi){Mi&&Mi.sanitize&&!Mi.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qn(Mi,_i){if(_i<1)return"";for(var Ii="";_i>1;)_i&1&&(Ii+=Mi),_i>>=1,Mi+=Mi;return Ii+Mi}function fs(Mi,_i,Ii,Ht){var Zt=_i.href,hi=_i.title?Xt(_i.title):null,Wt=Mi[1].replace(/\\([\[\]])/g,"$1");if(Mi[0].charAt(0)!=="!"){Ht.state.inLink=!0;var qe={type:"link",raw:Ii,href:Zt,title:hi,text:Wt,tokens:Ht.inlineTokens(Wt)};return Ht.state.inLink=!1,qe}return{type:"image",raw:Ii,href:Zt,title:hi,text:Xt(Wt)}}function Nn(Mi,_i){var Ii=Mi.match(/^(\s+)(?:```)/);if(Ii===null)return _i;var Ht=Ii[1];return _i.split(`
`).map(function(Zt){var hi=Zt.match(/^\s+/);if(hi===null)return Zt;var Wt=hi[0];return Wt.length>=Ht.length?Zt.slice(Ht.length):Zt}).join(`
`)}var cs=function(){function Mi(Ii){this.options=Ii||se.defaults}var _i=Mi.prototype;return _i.space=function(Ht){var Zt=this.rules.block.newline.exec(Ht);if(Zt&&Zt[0].length>0)return{type:"space",raw:Zt[0]}},_i.code=function(Ht){var Zt=this.rules.block.code.exec(Ht);if(Zt){var hi=Zt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Zt[0],codeBlockStyle:"indented",text:this.options.pedantic?hi:Rn(hi,`
`)}}},_i.fences=function(Ht){var Zt=this.rules.block.fences.exec(Ht);if(Zt){var hi=Zt[0],Wt=Nn(hi,Zt[3]||"");return{type:"code",raw:hi,lang:Zt[2]?Zt[2].trim():Zt[2],text:Wt}}},_i.heading=function(Ht){var Zt=this.rules.block.heading.exec(Ht);if(Zt){var hi=Zt[2].trim();if(/#$/.test(hi)){var Wt=Rn(hi,"#");(this.options.pedantic||!Wt||/ $/.test(Wt))&&(hi=Wt.trim())}return{type:"heading",raw:Zt[0],depth:Zt[1].length,text:hi,tokens:this.lexer.inline(hi)}}},_i.hr=function(Ht){var Zt=this.rules.block.hr.exec(Ht);if(Zt)return{type:"hr",raw:Zt[0]}},_i.blockquote=function(Ht){var Zt=this.rules.block.blockquote.exec(Ht);if(Zt){var hi=Zt[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Zt[0],tokens:this.lexer.blockTokens(hi,[]),text:hi}}},_i.list=function(Ht){var Zt=this.rules.block.list.exec(Ht);if(Zt){var hi,Wt,qe,ee,de,re,Ce,we,be,ke,He,Ye,ut=Zt[1].trim(),$t=ut.length>1,gi={type:"list",raw:"",ordered:$t,start:$t?+ut.slice(0,-1):"",loose:!1,items:[]};ut=$t?"\\d{1,9}\\"+ut.slice(-1):"\\"+ut,this.options.pedantic&&(ut=$t?ut:"[*+-]");for(var ci=new RegExp("^( {0,3}"+ut+")((?:[	 ][^\\n]*)?(?:\\n|$))");Ht&&(Ye=!1,!(!(Zt=ci.exec(Ht))||this.rules.block.hr.test(Ht)));){if(hi=Zt[0],Ht=Ht.substring(hi.length),we=Zt[2].split(`
`,1)[0],be=Ht.split(`
`,1)[0],this.options.pedantic?(ee=2,He=we.trimLeft()):(ee=Zt[2].search(/[^ ]/),ee=ee>4?1:ee,He=we.slice(ee),ee+=Zt[1].length),re=!1,!we&&/^ *$/.test(be)&&(hi+=be+`
`,Ht=Ht.substring(be.length+1),Ye=!0),!Ye)for(var ai=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),ct=new RegExp("^ {0,"+Math.min(3,ee-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Nt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:```|~~~)"),Et=new RegExp("^ {0,"+Math.min(3,ee-1)+"}#");Ht&&(ke=Ht.split(`
`,1)[0],we=ke,this.options.pedantic&&(we=we.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Nt.test(we)||Et.test(we)||ai.test(we)||ct.test(Ht)));){if(we.search(/[^ ]/)>=ee||!we.trim())He+=`
`+we.slice(ee);else if(!re)He+=`
`+we;else break;!re&&!we.trim()&&(re=!0),hi+=ke+`
`,Ht=Ht.substring(ke.length+1)}gi.loose||(Ce?gi.loose=!0:/\n *\n *$/.test(hi)&&(Ce=!0)),this.options.gfm&&(Wt=/^\[[ xX]\] /.exec(He),Wt&&(qe=Wt[0]!=="[ ] ",He=He.replace(/^\[[ xX]\] +/,""))),gi.items.push({type:"list_item",raw:hi,task:!!Wt,checked:qe,loose:!1,text:He}),gi.raw+=hi}gi.items[gi.items.length-1].raw=hi.trimRight(),gi.items[gi.items.length-1].text=He.trimRight(),gi.raw=gi.raw.trimRight();var It=gi.items.length;for(de=0;de<It;de++){this.lexer.state.top=!1,gi.items[de].tokens=this.lexer.blockTokens(gi.items[de].text,[]);var Gt=gi.items[de].tokens.filter(function(mi){return mi.type==="space"}),zt=Gt.every(function(mi){for(var ui=mi.raw.split(""),Ti=0,Ri=Qe(ui),tn;!(tn=Ri()).done;){var gn=tn.value;if(gn===`
`&&(Ti+=1),Ti>1)return!0}return!1});!gi.loose&&Gt.length&&zt&&(gi.loose=!0,gi.items[de].loose=!0)}return gi}},_i.html=function(Ht){var Zt=this.rules.block.html.exec(Ht);if(Zt){var hi={type:"html",raw:Zt[0],pre:!this.options.sanitizer&&(Zt[1]==="pre"||Zt[1]==="script"||Zt[1]==="style"),text:Zt[0]};if(this.options.sanitize){var Wt=this.options.sanitizer?this.options.sanitizer(Zt[0]):Xt(Zt[0]);hi.type="paragraph",hi.text=Wt,hi.tokens=this.lexer.inline(Wt)}return hi}},_i.def=function(Ht){var Zt=this.rules.block.def.exec(Ht);if(Zt){Zt[3]&&(Zt[3]=Zt[3].substring(1,Zt[3].length-1));var hi=Zt[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:hi,raw:Zt[0],href:Zt[2],title:Zt[3]}}},_i.table=function(Ht){var Zt=this.rules.block.table.exec(Ht);if(Zt){var hi={type:"table",header:Gn(Zt[1]).map(function(Ce){return{text:Ce}}),align:Zt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Zt[3]&&Zt[3].trim()?Zt[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(hi.header.length===hi.align.length){hi.raw=Zt[0];var Wt=hi.align.length,qe,ee,de,re;for(qe=0;qe<Wt;qe++)/^ *-+: *$/.test(hi.align[qe])?hi.align[qe]="right":/^ *:-+: *$/.test(hi.align[qe])?hi.align[qe]="center":/^ *:-+ *$/.test(hi.align[qe])?hi.align[qe]="left":hi.align[qe]=null;for(Wt=hi.rows.length,qe=0;qe<Wt;qe++)hi.rows[qe]=Gn(hi.rows[qe],hi.header.length).map(function(Ce){return{text:Ce}});for(Wt=hi.header.length,ee=0;ee<Wt;ee++)hi.header[ee].tokens=this.lexer.inline(hi.header[ee].text);for(Wt=hi.rows.length,ee=0;ee<Wt;ee++)for(re=hi.rows[ee],de=0;de<re.length;de++)re[de].tokens=this.lexer.inline(re[de].text);return hi}}},_i.lheading=function(Ht){var Zt=this.rules.block.lheading.exec(Ht);if(Zt)return{type:"heading",raw:Zt[0],depth:Zt[2].charAt(0)==="="?1:2,text:Zt[1],tokens:this.lexer.inline(Zt[1])}},_i.paragraph=function(Ht){var Zt=this.rules.block.paragraph.exec(Ht);if(Zt){var hi=Zt[1].charAt(Zt[1].length-1)===`
`?Zt[1].slice(0,-1):Zt[1];return{type:"paragraph",raw:Zt[0],text:hi,tokens:this.lexer.inline(hi)}}},_i.text=function(Ht){var Zt=this.rules.block.text.exec(Ht);if(Zt)return{type:"text",raw:Zt[0],text:Zt[0],tokens:this.lexer.inline(Zt[0])}},_i.escape=function(Ht){var Zt=this.rules.inline.escape.exec(Ht);if(Zt)return{type:"escape",raw:Zt[0],text:Xt(Zt[1])}},_i.tag=function(Ht){var Zt=this.rules.inline.tag.exec(Ht);if(Zt)return!this.lexer.state.inLink&&/^<a /i.test(Zt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Zt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Zt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Zt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Zt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Zt[0]):Xt(Zt[0]):Zt[0]}},_i.link=function(Ht){var Zt=this.rules.inline.link.exec(Ht);if(Zt){var hi=Zt[2].trim();if(!this.options.pedantic&&/^</.test(hi)){if(!/>$/.test(hi))return;var Wt=Rn(hi.slice(0,-1),"\\");if((hi.length-Wt.length)%2===0)return}else{var qe=ns(Zt[2],"()");if(qe>-1){var ee=Zt[0].indexOf("!")===0?5:4,de=ee+Zt[1].length+qe;Zt[2]=Zt[2].substring(0,qe),Zt[0]=Zt[0].substring(0,de).trim(),Zt[3]=""}}var re=Zt[2],Ce="";if(this.options.pedantic){var we=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(re);we&&(re=we[1],Ce=we[3])}else Ce=Zt[3]?Zt[3].slice(1,-1):"";return re=re.trim(),/^</.test(re)&&(this.options.pedantic&&!/>$/.test(hi)?re=re.slice(1):re=re.slice(1,-1)),fs(Zt,{href:re&&re.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},Zt[0],this.lexer)}},_i.reflink=function(Ht,Zt){var hi;if((hi=this.rules.inline.reflink.exec(Ht))||(hi=this.rules.inline.nolink.exec(Ht))){var Wt=(hi[2]||hi[1]).replace(/\s+/g," ");if(Wt=Zt[Wt.toLowerCase()],!Wt||!Wt.href){var qe=hi[0].charAt(0);return{type:"text",raw:qe,text:qe}}return fs(hi,Wt,hi[0],this.lexer)}},_i.emStrong=function(Ht,Zt,hi){hi===void 0&&(hi="");var Wt=this.rules.inline.emStrong.lDelim.exec(Ht);if(Wt&&!(Wt[3]&&hi.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var qe=Wt[1]||Wt[2]||"";if(!qe||qe&&(hi===""||this.rules.inline.punctuation.exec(hi))){var ee=Wt[0].length-1,de,re,Ce=ee,we=0,be=Wt[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(be.lastIndex=0,Zt=Zt.slice(-1*Ht.length+ee);(Wt=be.exec(Zt))!=null;)if(de=Wt[1]||Wt[2]||Wt[3]||Wt[4]||Wt[5]||Wt[6],!!de){if(re=de.length,Wt[3]||Wt[4]){Ce+=re;continue}else if((Wt[5]||Wt[6])&&ee%3&&!((ee+re)%3)){we+=re;continue}if(Ce-=re,!(Ce>0)){if(re=Math.min(re,re+Ce+we),Math.min(ee,re)%2){var ke=Ht.slice(1,ee+Wt.index+re);return{type:"em",raw:Ht.slice(0,ee+Wt.index+re+1),text:ke,tokens:this.lexer.inlineTokens(ke)}}var He=Ht.slice(2,ee+Wt.index+re-1);return{type:"strong",raw:Ht.slice(0,ee+Wt.index+re+1),text:He,tokens:this.lexer.inlineTokens(He)}}}}}},_i.codespan=function(Ht){var Zt=this.rules.inline.code.exec(Ht);if(Zt){var hi=Zt[2].replace(/\n/g," "),Wt=/[^ ]/.test(hi),qe=/^ /.test(hi)&&/ $/.test(hi);return Wt&&qe&&(hi=hi.substring(1,hi.length-1)),hi=Xt(hi,!0),{type:"codespan",raw:Zt[0],text:hi}}},_i.br=function(Ht){var Zt=this.rules.inline.br.exec(Ht);if(Zt)return{type:"br",raw:Zt[0]}},_i.del=function(Ht){var Zt=this.rules.inline.del.exec(Ht);if(Zt)return{type:"del",raw:Zt[0],text:Zt[2],tokens:this.lexer.inlineTokens(Zt[2])}},_i.autolink=function(Ht,Zt){var hi=this.rules.inline.autolink.exec(Ht);if(hi){var Wt,qe;return hi[2]==="@"?(Wt=Xt(this.options.mangle?Zt(hi[1]):hi[1]),qe="mailto:"+Wt):(Wt=Xt(hi[1]),qe=Wt),{type:"link",raw:hi[0],text:Wt,href:qe,tokens:[{type:"text",raw:Wt,text:Wt}]}}},_i.url=function(Ht,Zt){var hi;if(hi=this.rules.inline.url.exec(Ht)){var Wt,qe;if(hi[2]==="@")Wt=Xt(this.options.mangle?Zt(hi[0]):hi[0]),qe="mailto:"+Wt;else{var ee;do ee=hi[0],hi[0]=this.rules.inline._backpedal.exec(hi[0])[0];while(ee!==hi[0]);Wt=Xt(hi[0]),hi[1]==="www."?qe="http://"+Wt:qe=Wt}return{type:"link",raw:hi[0],text:Wt,href:qe,tokens:[{type:"text",raw:Wt,text:Wt}]}}},_i.inlineText=function(Ht,Zt){var hi=this.rules.inline.text.exec(Ht);if(hi){var Wt;return this.lexer.state.inRawBlock?Wt=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(hi[0]):Xt(hi[0]):hi[0]:Wt=Xt(this.options.smartypants?Zt(hi[0]):hi[0]),{type:"text",raw:hi[0],text:Wt}}},Mi}(),Ei={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ei._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ei._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ei.def=kt(Ei.def).replace("label",Ei._label).replace("title",Ei._title).getRegex(),Ei.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ei.listItemStart=kt(/^( *)(bull) */).replace("bull",Ei.bullet).getRegex(),Ei.list=kt(Ei.list).replace(/bull/g,Ei.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ei.def.source+")").getRegex(),Ei._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ei._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ei.html=kt(Ei.html,"i").replace("comment",Ei._comment).replace("tag",Ei._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ei.paragraph=kt(Ei._paragraph).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.blockquote=kt(Ei.blockquote).replace("paragraph",Ei.paragraph).getRegex(),Ei.normal=Dn({},Ei),Ei.gfm=Dn({},Ei.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ei.gfm.table=kt(Ei.gfm.table).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.gfm.paragraph=kt(Ei._paragraph).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ei.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.pedantic=Dn({},Ei.normal,{html:kt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ei._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pn,paragraph:kt(Ei.normal._paragraph).replace("hr",Ei.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ei.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var et={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};et._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",et.punctuation=kt(et.punctuation).replace(/punctuation/g,et._punctuation).getRegex(),et.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,et.escapedEmSt=/\\\*|\\_/g,et._comment=kt(Ei._comment).replace("(?:-->|$)","-->").getRegex(),et.emStrong.lDelim=kt(et.emStrong.lDelim).replace(/punct/g,et._punctuation).getRegex(),et.emStrong.rDelimAst=kt(et.emStrong.rDelimAst,"g").replace(/punct/g,et._punctuation).getRegex(),et.emStrong.rDelimUnd=kt(et.emStrong.rDelimUnd,"g").replace(/punct/g,et._punctuation).getRegex(),et._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,et._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,et._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,et.autolink=kt(et.autolink).replace("scheme",et._scheme).replace("email",et._email).getRegex(),et._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,et.tag=kt(et.tag).replace("comment",et._comment).replace("attribute",et._attribute).getRegex(),et._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,et._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,et._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,et.link=kt(et.link).replace("label",et._label).replace("href",et._href).replace("title",et._title).getRegex(),et.reflink=kt(et.reflink).replace("label",et._label).replace("ref",Ei._label).getRegex(),et.nolink=kt(et.nolink).replace("ref",Ei._label).getRegex(),et.reflinkSearch=kt(et.reflinkSearch,"g").replace("reflink",et.reflink).replace("nolink",et.nolink).getRegex(),et.normal=Dn({},et),et.pedantic=Dn({},et.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:kt(/^!?\[(label)\]\((.*?)\)/).replace("label",et._label).getRegex(),reflink:kt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",et._label).getRegex()}),et.gfm=Dn({},et.normal,{escape:kt(et.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),et.gfm.url=kt(et.gfm.url,"i").replace("email",et.gfm._extended_email).getRegex(),et.breaks=Dn({},et.gfm,{br:kt(et.br).replace("{2,}","*").getRegex(),text:kt(et.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function wt(Mi){return Mi.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Yt(Mi){var _i="",Ii,Ht,Zt=Mi.length;for(Ii=0;Ii<Zt;Ii++)Ht=Mi.charCodeAt(Ii),Math.random()>.5&&(Ht="x"+Ht.toString(16)),_i+="&#"+Ht+";";return _i}var ri=function(){function Mi(Ii){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ii||se.defaults,this.options.tokenizer=this.options.tokenizer||new cs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Ht={block:Ei.normal,inline:et.normal};this.options.pedantic?(Ht.block=Ei.pedantic,Ht.inline=et.pedantic):this.options.gfm&&(Ht.block=Ei.gfm,this.options.breaks?Ht.inline=et.breaks:Ht.inline=et.gfm),this.tokenizer.rules=Ht}Mi.lex=function(Ht,Zt){var hi=new Mi(Zt);return hi.lex(Ht)},Mi.lexInline=function(Ht,Zt){var hi=new Mi(Zt);return hi.inlineTokens(Ht)};var _i=Mi.prototype;return _i.lex=function(Ht){Ht=Ht.replace(/\r\n|\r/g,`
`),this.blockTokens(Ht,this.tokens);for(var Zt;Zt=this.inlineQueue.shift();)this.inlineTokens(Zt.src,Zt.tokens);return this.tokens},_i.blockTokens=function(Ht,Zt){var hi=this;Zt===void 0&&(Zt=[]),this.options.pedantic?Ht=Ht.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ht=Ht.replace(/^( *)(\t+)/gm,function(Ce,we,be){return we+"    ".repeat(be.length)});for(var Wt,qe,ee,de;Ht;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(Wt=Ce.call({lexer:hi},Ht,Zt))?(Ht=Ht.substring(Wt.raw.length),Zt.push(Wt),!0):!1}))){if(Wt=this.tokenizer.space(Ht)){Ht=Ht.substring(Wt.raw.length),Wt.raw.length===1&&Zt.length>0?Zt[Zt.length-1].raw+=`
`:Zt.push(Wt);continue}if(Wt=this.tokenizer.code(Ht)){Ht=Ht.substring(Wt.raw.length),qe=Zt[Zt.length-1],qe&&(qe.type==="paragraph"||qe.type==="text")?(qe.raw+=`
`+Wt.raw,qe.text+=`
`+Wt.text,this.inlineQueue[this.inlineQueue.length-1].src=qe.text):Zt.push(Wt);continue}if(Wt=this.tokenizer.fences(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.heading(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.hr(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.blockquote(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.list(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.html(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.def(Ht)){Ht=Ht.substring(Wt.raw.length),qe=Zt[Zt.length-1],qe&&(qe.type==="paragraph"||qe.type==="text")?(qe.raw+=`
`+Wt.raw,qe.text+=`
`+Wt.raw,this.inlineQueue[this.inlineQueue.length-1].src=qe.text):this.tokens.links[Wt.tag]||(this.tokens.links[Wt.tag]={href:Wt.href,title:Wt.title});continue}if(Wt=this.tokenizer.table(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.lheading(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(ee=Ht,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,we=Ht.slice(1),be=void 0;hi.options.extensions.startBlock.forEach(function(ke){be=ke.call({lexer:this},we),typeof be=="number"&&be>=0&&(Ce=Math.min(Ce,be))}),Ce<1/0&&Ce>=0&&(ee=Ht.substring(0,Ce+1))}(),this.state.top&&(Wt=this.tokenizer.paragraph(ee))){qe=Zt[Zt.length-1],de&&qe.type==="paragraph"?(qe.raw+=`
`+Wt.raw,qe.text+=`
`+Wt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=qe.text):Zt.push(Wt),de=ee.length!==Ht.length,Ht=Ht.substring(Wt.raw.length);continue}if(Wt=this.tokenizer.text(Ht)){Ht=Ht.substring(Wt.raw.length),qe=Zt[Zt.length-1],qe&&qe.type==="text"?(qe.raw+=`
`+Wt.raw,qe.text+=`
`+Wt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=qe.text):Zt.push(Wt);continue}if(Ht){var re="Infinite loop on byte: "+Ht.charCodeAt(0);if(this.options.silent){console.error(re);break}else throw new Error(re)}}return this.state.top=!0,Zt},_i.inline=function(Ht,Zt){return Zt===void 0&&(Zt=[]),this.inlineQueue.push({src:Ht,tokens:Zt}),Zt},_i.inlineTokens=function(Ht,Zt){var hi=this;Zt===void 0&&(Zt=[]);var Wt,qe,ee,de=Ht,re,Ce,we;if(this.tokens.links){var be=Object.keys(this.tokens.links);if(be.length>0)for(;(re=this.tokenizer.rules.inline.reflinkSearch.exec(de))!=null;)be.includes(re[0].slice(re[0].lastIndexOf("[")+1,-1))&&(de=de.slice(0,re.index)+"["+qn("a",re[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(re=this.tokenizer.rules.inline.blockSkip.exec(de))!=null;)de=de.slice(0,re.index)+"["+qn("a",re[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(re=this.tokenizer.rules.inline.escapedEmSt.exec(de))!=null;)de=de.slice(0,re.index)+"++"+de.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Ht;)if(Ce||(we=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(He){return(Wt=He.call({lexer:hi},Ht,Zt))?(Ht=Ht.substring(Wt.raw.length),Zt.push(Wt),!0):!1}))){if(Wt=this.tokenizer.escape(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.tag(Ht)){Ht=Ht.substring(Wt.raw.length),qe=Zt[Zt.length-1],qe&&Wt.type==="text"&&qe.type==="text"?(qe.raw+=Wt.raw,qe.text+=Wt.text):Zt.push(Wt);continue}if(Wt=this.tokenizer.link(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.reflink(Ht,this.tokens.links)){Ht=Ht.substring(Wt.raw.length),qe=Zt[Zt.length-1],qe&&Wt.type==="text"&&qe.type==="text"?(qe.raw+=Wt.raw,qe.text+=Wt.text):Zt.push(Wt);continue}if(Wt=this.tokenizer.emStrong(Ht,de,we)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.codespan(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.br(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.del(Ht)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(Wt=this.tokenizer.autolink(Ht,Yt)){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(!this.state.inLink&&(Wt=this.tokenizer.url(Ht,Yt))){Ht=Ht.substring(Wt.raw.length),Zt.push(Wt);continue}if(ee=Ht,this.options.extensions&&this.options.extensions.startInline&&function(){var He=1/0,Ye=Ht.slice(1),ut=void 0;hi.options.extensions.startInline.forEach(function($t){ut=$t.call({lexer:this},Ye),typeof ut=="number"&&ut>=0&&(He=Math.min(He,ut))}),He<1/0&&He>=0&&(ee=Ht.substring(0,He+1))}(),Wt=this.tokenizer.inlineText(ee,wt)){Ht=Ht.substring(Wt.raw.length),Wt.raw.slice(-1)!=="_"&&(we=Wt.raw.slice(-1)),Ce=!0,qe=Zt[Zt.length-1],qe&&qe.type==="text"?(qe.raw+=Wt.raw,qe.text+=Wt.text):Zt.push(Wt);continue}if(Ht){var ke="Infinite loop on byte: "+Ht.charCodeAt(0);if(this.options.silent){console.error(ke);break}else throw new Error(ke)}}return Zt},xe(Mi,null,[{key:"rules",get:function(){return{block:Ei,inline:et}}}]),Mi}(),vi=function(){function Mi(Ii){this.options=Ii||se.defaults}var _i=Mi.prototype;return _i.code=function(Ht,Zt,hi){var Wt=(Zt||"").match(/\S*/)[0];if(this.options.highlight){var qe=this.options.highlight(Ht,Wt);qe!=null&&qe!==Ht&&(hi=!0,Ht=qe)}return Ht=Ht.replace(/\n$/,"")+`
`,Wt?'<pre><code class="'+this.options.langPrefix+Xt(Wt,!0)+'">'+(hi?Ht:Xt(Ht,!0))+`</code></pre>
`:"<pre><code>"+(hi?Ht:Xt(Ht,!0))+`</code></pre>
`},_i.blockquote=function(Ht){return`<blockquote>
`+Ht+`</blockquote>
`},_i.html=function(Ht){return Ht},_i.heading=function(Ht,Zt,hi,Wt){if(this.options.headerIds){var qe=this.options.headerPrefix+Wt.slug(hi);return"<h"+Zt+' id="'+qe+'">'+Ht+"</h"+Zt+`>
`}return"<h"+Zt+">"+Ht+"</h"+Zt+`>
`},_i.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},_i.list=function(Ht,Zt,hi){var Wt=Zt?"ol":"ul",qe=Zt&&hi!==1?' start="'+hi+'"':"";return"<"+Wt+qe+`>
`+Ht+"</"+Wt+`>
`},_i.listitem=function(Ht){return"<li>"+Ht+`</li>
`},_i.checkbox=function(Ht){return"<input "+(Ht?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_i.paragraph=function(Ht){return"<p>"+Ht+`</p>
`},_i.table=function(Ht,Zt){return Zt&&(Zt="<tbody>"+Zt+"</tbody>"),`<table>
<thead>
`+Ht+`</thead>
`+Zt+`</table>
`},_i.tablerow=function(Ht){return`<tr>
`+Ht+`</tr>
`},_i.tablecell=function(Ht,Zt){var hi=Zt.header?"th":"td",Wt=Zt.align?"<"+hi+' align="'+Zt.align+'">':"<"+hi+">";return Wt+Ht+("</"+hi+`>
`)},_i.strong=function(Ht){return"<strong>"+Ht+"</strong>"},_i.em=function(Ht){return"<em>"+Ht+"</em>"},_i.codespan=function(Ht){return"<code>"+Ht+"</code>"},_i.br=function(){return this.options.xhtml?"<br/>":"<br>"},_i.del=function(Ht){return"<del>"+Ht+"</del>"},_i.link=function(Ht,Zt,hi){if(Ht=Ci(this.options.sanitize,this.options.baseUrl,Ht),Ht===null)return hi;var Wt='<a href="'+Xt(Ht)+'"';return Zt&&(Wt+=' title="'+Zt+'"'),Wt+=">"+hi+"</a>",Wt},_i.image=function(Ht,Zt,hi){if(Ht=Ci(this.options.sanitize,this.options.baseUrl,Ht),Ht===null)return hi;var Wt='<img src="'+Ht+'" alt="'+hi+'"';return Zt&&(Wt+=' title="'+Zt+'"'),Wt+=this.options.xhtml?"/>":">",Wt},_i.text=function(Ht){return Ht},Mi}(),Wi=function(){function Mi(){}var _i=Mi.prototype;return _i.strong=function(Ht){return Ht},_i.em=function(Ht){return Ht},_i.codespan=function(Ht){return Ht},_i.del=function(Ht){return Ht},_i.html=function(Ht){return Ht},_i.text=function(Ht){return Ht},_i.link=function(Ht,Zt,hi){return""+hi},_i.image=function(Ht,Zt,hi){return""+hi},_i.br=function(){return""},Mi}(),$i=function(){function Mi(){this.seen={}}var _i=Mi.prototype;return _i.serialize=function(Ht){return Ht.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_i.getNextSafeSlug=function(Ht,Zt){var hi=Ht,Wt=0;if(this.seen.hasOwnProperty(hi)){Wt=this.seen[Ht];do Wt++,hi=Ht+"-"+Wt;while(this.seen.hasOwnProperty(hi))}return Zt||(this.seen[Ht]=Wt,this.seen[hi]=0),hi},_i.slug=function(Ht,Zt){Zt===void 0&&(Zt={});var hi=this.serialize(Ht);return this.getNextSafeSlug(hi,Zt.dryrun)},Mi}(),Ot=function(){function Mi(Ii){this.options=Ii||se.defaults,this.options.renderer=this.options.renderer||new vi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Wi,this.slugger=new $i}Mi.parse=function(Ht,Zt){var hi=new Mi(Zt);return hi.parse(Ht)},Mi.parseInline=function(Ht,Zt){var hi=new Mi(Zt);return hi.parseInline(Ht)};var _i=Mi.prototype;return _i.parse=function(Ht,Zt){Zt===void 0&&(Zt=!0);var hi="",Wt,qe,ee,de,re,Ce,we,be,ke,He,Ye,ut,$t,gi,ci,ai,ct,Nt,Et,It=Ht.length;for(Wt=0;Wt<It;Wt++){if(He=Ht[Wt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[He.type]&&(Et=this.options.extensions.renderers[He.type].call({parser:this},He),Et!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(He.type))){hi+=Et||"";continue}switch(He.type){case"space":continue;case"hr":{hi+=this.renderer.hr();continue}case"heading":{hi+=this.renderer.heading(this.parseInline(He.tokens),He.depth,ft(this.parseInline(He.tokens,this.textRenderer)),this.slugger);continue}case"code":{hi+=this.renderer.code(He.text,He.lang,He.escaped);continue}case"table":{for(be="",we="",de=He.header.length,qe=0;qe<de;qe++)we+=this.renderer.tablecell(this.parseInline(He.header[qe].tokens),{header:!0,align:He.align[qe]});for(be+=this.renderer.tablerow(we),ke="",de=He.rows.length,qe=0;qe<de;qe++){for(Ce=He.rows[qe],we="",re=Ce.length,ee=0;ee<re;ee++)we+=this.renderer.tablecell(this.parseInline(Ce[ee].tokens),{header:!1,align:He.align[ee]});ke+=this.renderer.tablerow(we)}hi+=this.renderer.table(be,ke);continue}case"blockquote":{ke=this.parse(He.tokens),hi+=this.renderer.blockquote(ke);continue}case"list":{for(Ye=He.ordered,ut=He.start,$t=He.loose,de=He.items.length,ke="",qe=0;qe<de;qe++)ci=He.items[qe],ai=ci.checked,ct=ci.task,gi="",ci.task&&(Nt=this.renderer.checkbox(ai),$t?ci.tokens.length>0&&ci.tokens[0].type==="paragraph"?(ci.tokens[0].text=Nt+" "+ci.tokens[0].text,ci.tokens[0].tokens&&ci.tokens[0].tokens.length>0&&ci.tokens[0].tokens[0].type==="text"&&(ci.tokens[0].tokens[0].text=Nt+" "+ci.tokens[0].tokens[0].text)):ci.tokens.unshift({type:"text",text:Nt}):gi+=Nt),gi+=this.parse(ci.tokens,$t),ke+=this.renderer.listitem(gi,ct,ai);hi+=this.renderer.list(ke,Ye,ut);continue}case"html":{hi+=this.renderer.html(He.text);continue}case"paragraph":{hi+=this.renderer.paragraph(this.parseInline(He.tokens));continue}case"text":{for(ke=He.tokens?this.parseInline(He.tokens):He.text;Wt+1<It&&Ht[Wt+1].type==="text";)He=Ht[++Wt],ke+=`
`+(He.tokens?this.parseInline(He.tokens):He.text);hi+=Zt?this.renderer.paragraph(ke):ke;continue}default:{var Gt='Token with "'+He.type+'" type was not found.';if(this.options.silent){console.error(Gt);return}else throw new Error(Gt)}}}return hi},_i.parseInline=function(Ht,Zt){Zt=Zt||this.renderer;var hi="",Wt,qe,ee,de=Ht.length;for(Wt=0;Wt<de;Wt++){if(qe=Ht[Wt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[qe.type]&&(ee=this.options.extensions.renderers[qe.type].call({parser:this},qe),ee!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(qe.type))){hi+=ee||"";continue}switch(qe.type){case"escape":{hi+=Zt.text(qe.text);break}case"html":{hi+=Zt.html(qe.text);break}case"link":{hi+=Zt.link(qe.href,qe.title,this.parseInline(qe.tokens,Zt));break}case"image":{hi+=Zt.image(qe.href,qe.title,qe.text);break}case"strong":{hi+=Zt.strong(this.parseInline(qe.tokens,Zt));break}case"em":{hi+=Zt.em(this.parseInline(qe.tokens,Zt));break}case"codespan":{hi+=Zt.codespan(qe.text);break}case"br":{hi+=Zt.br();break}case"del":{hi+=Zt.del(this.parseInline(qe.tokens,Zt));break}case"text":{hi+=Zt.text(qe.text);break}default:{var re='Token with "'+qe.type+'" type was not found.';if(this.options.silent){console.error(re);return}else throw new Error(re)}}}return hi},Mi}();function yt(Mi,_i,Ii){if(typeof Mi=="undefined"||Mi===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Mi!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Mi)+", string expected");if(typeof _i=="function"&&(Ii=_i,_i=null),_i=Dn({},yt.defaults,_i||{}),ts(_i),Ii){var Ht=_i.highlight,Zt;try{Zt=ri.lex(Mi,_i)}catch(de){return Ii(de)}var hi=function(re){var Ce;if(!re)try{_i.walkTokens&&yt.walkTokens(Zt,_i.walkTokens),Ce=Ot.parse(Zt,_i)}catch(we){re=we}return _i.highlight=Ht,re?Ii(re):Ii(null,Ce)};if(!Ht||Ht.length<3||(delete _i.highlight,!Zt.length))return hi();var Wt=0;yt.walkTokens(Zt,function(de){de.type==="code"&&(Wt++,setTimeout(function(){Ht(de.text,de.lang,function(re,Ce){if(re)return hi(re);Ce!=null&&Ce!==de.text&&(de.text=Ce,de.escaped=!0),Wt--,Wt===0&&hi()})},0))}),Wt===0&&hi();return}function qe(de){if(de.message+=`
Please report this to https://github.com/markedjs/marked.`,_i.silent)return"<p>An error occurred:</p><pre>"+Xt(de.message+"",!0)+"</pre>";throw de}try{var ee=ri.lex(Mi,_i);if(_i.walkTokens){if(_i.async)return Promise.all(yt.walkTokens(ee,_i.walkTokens)).then(function(){return Ot.parse(ee,_i)}).catch(qe);yt.walkTokens(ee,_i.walkTokens)}return Ot.parse(ee,_i)}catch(de){qe(de)}}yt.options=yt.setOptions=function(Mi){return Dn(yt.defaults,Mi),Dt(yt.defaults),yt},yt.getDefaults=rt,yt.defaults=se.defaults,yt.use=function(){for(var Mi=arguments.length,_i=new Array(Mi),Ii=0;Ii<Mi;Ii++)_i[Ii]=arguments[Ii];var Ht=Dn.apply(void 0,[{}].concat(_i)),Zt=yt.defaults.extensions||{renderers:{},childTokens:{}},hi;_i.forEach(function(Wt){if(Wt.extensions&&(hi=!0,Wt.extensions.forEach(function(ee){if(!ee.name)throw new Error("extension name required");if(ee.renderer){var de=Zt.renderers?Zt.renderers[ee.name]:null;de?Zt.renderers[ee.name]=function(){for(var re=arguments.length,Ce=new Array(re),we=0;we<re;we++)Ce[we]=arguments[we];var be=ee.renderer.apply(this,Ce);return be===!1&&(be=de.apply(this,Ce)),be}:Zt.renderers[ee.name]=ee.renderer}if(ee.tokenizer){if(!ee.level||ee.level!=="block"&&ee.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Zt[ee.level]?Zt[ee.level].unshift(ee.tokenizer):Zt[ee.level]=[ee.tokenizer],ee.start&&(ee.level==="block"?Zt.startBlock?Zt.startBlock.push(ee.start):Zt.startBlock=[ee.start]:ee.level==="inline"&&(Zt.startInline?Zt.startInline.push(ee.start):Zt.startInline=[ee.start]))}ee.childTokens&&(Zt.childTokens[ee.name]=ee.childTokens)})),Wt.renderer&&function(){var ee=yt.defaults.renderer||new vi,de=function(we){var be=ee[we];ee[we]=function(){for(var ke=arguments.length,He=new Array(ke),Ye=0;Ye<ke;Ye++)He[Ye]=arguments[Ye];var ut=Wt.renderer[we].apply(ee,He);return ut===!1&&(ut=be.apply(ee,He)),ut}};for(var re in Wt.renderer)de(re);Ht.renderer=ee}(),Wt.tokenizer&&function(){var ee=yt.defaults.tokenizer||new cs,de=function(we){var be=ee[we];ee[we]=function(){for(var ke=arguments.length,He=new Array(ke),Ye=0;Ye<ke;Ye++)He[Ye]=arguments[Ye];var ut=Wt.tokenizer[we].apply(ee,He);return ut===!1&&(ut=be.apply(ee,He)),ut}};for(var re in Wt.tokenizer)de(re);Ht.tokenizer=ee}(),Wt.walkTokens){var qe=yt.defaults.walkTokens;Ht.walkTokens=function(ee){var de=[];return de.push(Wt.walkTokens.call(this,ee)),qe&&(de=de.concat(qe.call(this,ee))),de}}hi&&(Ht.extensions=Zt),yt.setOptions(Ht)})},yt.walkTokens=function(Mi,_i){for(var Ii=[],Ht=function(){var qe=hi.value;switch(Ii=Ii.concat(_i.call(yt,qe)),qe.type){case"table":{for(var ee=Qe(qe.header),de;!(de=ee()).done;){var re=de.value;Ii=Ii.concat(yt.walkTokens(re.tokens,_i))}for(var Ce=Qe(qe.rows),we;!(we=Ce()).done;)for(var be=we.value,ke=Qe(be),He;!(He=ke()).done;){var Ye=He.value;Ii=Ii.concat(yt.walkTokens(Ye.tokens,_i))}break}case"list":{Ii=Ii.concat(yt.walkTokens(qe.items,_i));break}default:yt.defaults.extensions&&yt.defaults.extensions.childTokens&&yt.defaults.extensions.childTokens[qe.type]?yt.defaults.extensions.childTokens[qe.type].forEach(function(ut){Ii=Ii.concat(yt.walkTokens(qe[ut],_i))}):qe.tokens&&(Ii=Ii.concat(yt.walkTokens(qe.tokens,_i)))}},Zt=Qe(Mi),hi;!(hi=Zt()).done;)Ht();return Ii},yt.parseInline=function(Mi,_i){if(typeof Mi=="undefined"||Mi===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Mi!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Mi)+", string expected");_i=Dn({},yt.defaults,_i||{}),ts(_i);try{var Ii=ri.lexInline(Mi,_i);return _i.walkTokens&&yt.walkTokens(Ii,_i.walkTokens),Ot.parseInline(Ii,_i)}catch(Ht){if(Ht.message+=`
Please report this to https://github.com/markedjs/marked.`,_i.silent)return"<p>An error occurred:</p><pre>"+Xt(Ht.message+"",!0)+"</pre>";throw Ht}},yt.Parser=Ot,yt.parser=Ot.parse,yt.Renderer=vi,yt.TextRenderer=Wi,yt.Lexer=ri,yt.lexer=ri.lex,yt.Tokenizer=cs,yt.Slugger=$i,yt.parse=yt;var si=yt.options,ii=yt.setOptions,Ui=yt.use,an=yt.walkTokens,en=yt.parseInline,In=yt,Fn=Ot.parse,On=ri.lex;se.Lexer=ri,se.Parser=Ot,se.Renderer=vi,se.Slugger=$i,se.TextRenderer=Wi,se.Tokenizer=cs,se.getDefaults=rt,se.lexer=On,se.marked=yt,se.options=si,se.parse=In,se.parseInline=en,se.parser=Fn,se.setOptions=ii,se.use=Ui,se.walkTokens=an,Object.defineProperty(se,"__esModule",{value:!0})})})();var f=n.Lexer||exports.Lexer,v=n.Parser||exports.Parser,a=n.Renderer||exports.Renderer,S=n.Slugger||exports.Slugger,g=n.TextRenderer||exports.TextRenderer,y=n.Tokenizer||exports.Tokenizer,C=n.getDefaults||exports.getDefaults,L=n.lexer||exports.lexer,O=n.marked||exports.marked,T=n.options||exports.options,F=n.parse||exports.parse,B=n.parseInline||exports.parseInline,$=n.parser||exports.parser,Y=n.setOptions||exports.setOptions,P=n.use||exports.use,w=n.walkTokens||exports.walkTokens,V=e(23897),R=e(66663),A=e(36248),H=e(95935),U=e(97295),G=e(70666);const j=Object.freeze({image:(_e,se,ve)=>{let xe=[],je=[];return _e&&({href:_e,dimensions:xe}=(0,p.v1)(_e),je.push(`src="${(0,p.d9)(_e)}"`)),ve&&je.push(`alt="${(0,p.d9)(ve)}"`),se&&je.push(`title="${(0,p.d9)(se)}"`),xe.length&&(je=je.concat(xe)),"<img "+je.join(" ")+">"},paragraph:_e=>`<p>${_e}</p>`,link:(_e,se,ve)=>typeof _e!="string"?"":(_e===ve&&(ve=(0,p.oR)(ve)),se=typeof se=="string"?(0,p.d9)((0,p.oR)(se)):"",_e=(0,p.oR)(_e),_e=_e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${_e}" title="${se||_e}" draggable="false">${ve}</a>`)});function W(_e,se={},ve={}){var xe,je;const Ae=new i.SL;let Qe=!1;const rt=(0,E.az)(se),Dt=function(ft){let Bt;try{Bt=(0,V.Qc)(decodeURIComponent(ft))}catch(kt){}return Bt?(Bt=(0,A.rs)(Bt,kt=>{if(_e.uris&&_e.uris[kt])return G.o.revive(_e.uris[kt])}),encodeURIComponent(JSON.stringify(Bt))):ft},at=function(ft,Bt){const kt=_e.uris&&_e.uris[ft];let Ge=G.o.revive(kt);return Bt?ft.startsWith(R.lg.data+":")?ft:(Ge||(Ge=G.o.parse(ft)),R.Gi.uriToBrowserUri(Ge).toString(!0)):!Ge||G.o.parse(ft).toString()===Ge.toString()?ft:(Ge.query&&(Ge=Ge.with({query:Dt(Ge.query)})),Ge.toString())},vt=new O.Renderer;vt.image=j.image,vt.link=j.link,vt.paragraph=j.paragraph;const Mt=[],ti=[];if(se.codeBlockRendererSync?vt.code=(ft,Bt)=>{const kt=d.a.nextId(),Ge=se.codeBlockRendererSync(K(Bt),ft);return ti.push([kt,Ge]),`<div class="code" data-code="${kt}">${(0,U.YU)(ft)}</div>`}:se.codeBlockRenderer&&(vt.code=(ft,Bt)=>{const kt=d.a.nextId(),Ge=se.codeBlockRenderer(K(Bt),ft);return Mt.push(Ge.then(St=>[kt,St])),`<div class="code" data-code="${kt}">${(0,U.YU)(ft)}</div>`}),se.actionHandler){const ft=function(Ge){let St=Ge.target;if(!(St.tagName!=="A"&&(St=St.parentElement,!St||St.tagName!=="A")))try{let Ci=St.dataset.href;Ci&&(_e.baseUri&&(Ci=m(G.o.from(_e.baseUri),Ci)),se.actionHandler.callback(Ci,Ge))}catch(Ci){(0,M.dL)(Ci)}finally{Ge.preventDefault()}},Bt=se.actionHandler.disposables.add(new r.Y(rt,"click")),kt=se.actionHandler.disposables.add(new r.Y(rt,"auxclick"));se.actionHandler.disposables.add(D.ju.any(Bt.event,kt.event)(Ge=>{const St=new _.n(b.Jj(rt),Ge);!St.leftButton&&!St.middleButton||ft(St)})),se.actionHandler.disposables.add(b.nm(rt,"keydown",Ge=>{const St=new c.y(Ge);!St.equals(10)&&!St.equals(3)||ft(St)}))}_e.supportHtml||(ve.sanitizer=ft=>(_e.isTrusted?ft.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?ft:"",ve.sanitize=!0,ve.silent=!0),ve.renderer=vt;let Ft=(xe=_e.value)!==null&&xe!==void 0?xe:"";Ft.length>1e5&&(Ft=`${Ft.substr(0,1e5)}\u2026`),_e.supportThemeIcons&&(Ft=(0,o.f$)(Ft));let ei;if(se.fillInIncompleteTokens){const ft=Xi(Xi({},O.defaults),ve),Bt=O.lexer(Ft,ft),kt=ae(Bt);ei=O.parser(kt,ft)}else ei=O.parse(Ft,ve);_e.supportThemeIcons&&(ei=(0,I.T)(ei).map(Bt=>typeof Bt=="string"?Bt:Bt.outerHTML).join(""));const Ct=new DOMParser().parseFromString(J(_e,ei),"text/html");if(Ct.body.querySelectorAll("img").forEach(ft=>{const Bt=ft.getAttribute("src");if(Bt){let kt=Bt;try{_e.baseUri&&(kt=m(G.o.from(_e.baseUri),kt))}catch(Ge){}ft.src=at(kt,!0)}}),Ct.body.querySelectorAll("a").forEach(ft=>{const Bt=ft.getAttribute("href");if(ft.setAttribute("href",""),!Bt||/^data:|javascript:/i.test(Bt)||/^command:/i.test(Bt)&&!_e.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Bt))ft.replaceWith(...ft.childNodes);else{let kt=at(Bt,!1);_e.baseUri&&(kt=m(G.o.from(_e.baseUri),Bt)),ft.dataset.href=kt}}),rt.innerHTML=J(_e,Ct.body.innerHTML),Mt.length>0)Promise.all(Mt).then(ft=>{var Bt,kt;if(Qe)return;const Ge=new Map(ft),St=rt.querySelectorAll("div[data-code]");for(const Ci of St){const Oi=Ge.get((Bt=Ci.dataset.code)!==null&&Bt!==void 0?Bt:"");Oi&&b.mc(Ci,Oi)}(kt=se.asyncRenderCallback)===null||kt===void 0||kt.call(se)});else if(ti.length>0){const ft=new Map(ti),Bt=rt.querySelectorAll("div[data-code]");for(const kt of Bt){const Ge=ft.get((je=kt.dataset.code)!==null&&je!==void 0?je:"");Ge&&b.mc(kt,Ge)}}if(se.asyncRenderCallback)for(const ft of rt.getElementsByTagName("img")){const Bt=Ae.add(b.nm(ft,"load",()=>{Bt.dispose(),se.asyncRenderCallback()}))}return{element:rt,dispose:()=>{Qe=!0,Ae.dispose()}}}function K(_e){if(!_e)return"";const se=_e.split(/[\s+|:|,|\{|\?]/,1);return se.length?se[0]:_e}function m(_e,se){return/^\w[\w\d+.-]*:/.test(se)?se:_e.path.endsWith("/")?(0,H.i3)(_e,se).toString():(0,H.i3)((0,H.XX)(_e),se).toString()}function J(_e,se){const{config:ve,allowedSchemes:xe}=ie(_e);z.v5("uponSanitizeAttribute",(Ae,Qe)=>{if(Qe.attrName==="style"||Qe.attrName==="class"){if(Ae.tagName==="SPAN"){if(Qe.attrName==="style"){Qe.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Qe.attrValue);return}else if(Qe.attrName==="class"){Qe.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Qe.attrValue);return}}Qe.keepAttr=!1;return}});const je=b._F(xe);try{return z.Nw(se,Ln(Xi({},ve),{RETURN_TRUSTED_TYPE:!0}))}finally{z.ok("uponSanitizeAttribute"),je.dispose()}}const X=["align","autoplay","alt","class","controls","data-code","data-href","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function ie(_e){const se=[R.lg.http,R.lg.https,R.lg.mailto,R.lg.data,R.lg.file,R.lg.vscodeFileResource,R.lg.vscodeRemote,R.lg.vscodeRemoteResource];return _e.isTrusted&&se.push(R.lg.command),{config:{ALLOWED_TAGS:[...b.sQ],ALLOWED_ATTR:X,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:se}}function le(_e){return typeof _e=="string"?_e:fe(_e)}function fe(_e){var se;let ve=(se=_e.value)!==null&&se!==void 0?se:"";ve.length>1e5&&(ve=`${ve.substr(0,1e5)}\u2026`);const xe=O.parse(ve,{renderer:pe.value}).replace(/&(#\d+|[a-zA-Z]+);/g,je=>{var Ae;return(Ae=Le.get(je))!==null&&Ae!==void 0?Ae:je});return J({isTrusted:!1},xe).toString()}const Le=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),pe=new u.o(()=>{const _e=new O.Renderer;return _e.code=se=>se,_e.blockquote=se=>se,_e.html=se=>"",_e.heading=(se,ve,xe)=>se+`
`,_e.hr=()=>"",_e.list=(se,ve)=>se,_e.listitem=se=>se+`
`,_e.paragraph=se=>se+`
`,_e.table=(se,ve)=>se+ve+`
`,_e.tablerow=se=>se,_e.tablecell=(se,ve)=>se+" ",_e.strong=se=>se,_e.em=se=>se,_e.codespan=se=>se,_e.br=()=>`
`,_e.del=se=>se,_e.image=(se,ve,xe)=>"",_e.text=se=>se,_e.link=(se,ve,xe)=>xe,_e});function Te(_e){let se="";return _e.forEach(ve=>{se+=ve.raw}),se}function De(_e){for(const se of _e.tokens)if(se.type==="text"){const ve=se.raw.split(`
`),xe=ve[ve.length-1];if(xe.includes("`"))return We(_e);if(xe.includes("**"))return Oe(_e);if(xe.match(/\*\w/))return ze(_e);if(xe.match(/(^|\s)__\w/))return Pe(_e);if(xe.match(/(^|\s)_\w/))return Se(_e);if(xe.match(/(^|\s)\[.*\]\(\w*/))return ne(_e);if(xe.match(/(^|\s)\[\w/))return ce(_e)}}function ae(_e){let se,ve;for(se=0;se<_e.length;se++){const xe=_e[se];if(xe.type==="paragraph"&&xe.raw.match(/(\n|^)```/)){ve=Ne(_e.slice(se));break}if(xe.type==="paragraph"&&xe.raw.match(/(\n|^)\|/)){ve=ye(_e.slice(se));break}if(se===_e.length-1&&xe.type==="paragraph"){const je=De(xe);if(je){ve=[je];break}}}if(ve){const xe=[..._e.slice(0,se),...ve];return xe.links=_e.links,xe}return _e}function Ne(_e){const se=Te(_e);return O.lexer(se+"\n```")}function We(_e){return Me(_e,"`")}function ze(_e){return Me(_e,"*")}function Se(_e){return Me(_e,"_")}function ne(_e){return Me(_e,")")}function ce(_e){return Me(_e,"](about:blank)")}function Oe(_e){return Me(_e,"**")}function Pe(_e){return Me(_e,"__")}function Me(_e,se){const ve=Te(Array.isArray(_e)?_e:[_e]);return O.lexer(ve+se)[0]}function ye(_e){const se=Te(_e),ve=se.split(`
`);let xe,je=!1;for(let Ae=0;Ae<ve.length;Ae++){const Qe=ve[Ae].trim();if(typeof xe=="undefined"&&Qe.match(/^\s*\|/)){const rt=Qe.match(/(\|[^\|]+)(?=\||$)/g);rt&&(xe=rt.length)}else if(typeof xe=="number")if(Qe.match(/^\s*\|/)){if(Ae!==ve.length-1)return;je=!0}else return}if(typeof xe=="number"&&xe>0){const Ae=je?ve.slice(0,-1).join(`
`):se,Qe=!!Ae.match(/\|\s*$/),rt=Ae+(Qe?"":"|")+`
|${" --- |".repeat(xe)}`;return O.lexer(rt)}}},7317:function(Pt,Ke,e){"use strict";e.d(Ke,{n:function(){return _},q:function(){return I}});var b=e(16268);const z=new WeakMap;function r(M){if(!M.parent||M.parent===M)return null;try{const D=M.location,p=M.parent.location;if(D.origin!=="null"&&p.origin!=="null"&&D.origin!==p.origin)return null}catch(D){return null}return M.parent}class E{static getSameOriginWindowChain(D){let p=z.get(D);if(!p){p=[],z.set(D,p);let o=D,d;do d=r(o),d?p.push({window:new WeakRef(o),iframeElement:o.frameElement||null}):p.push({window:new WeakRef(o),iframeElement:null}),o=d;while(o)}return p.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(D,p){var o,d;if(!p||D===p)return{top:0,left:0};let u=0,i=0;const n=this.getSameOriginWindowChain(D);for(const f of n){const v=f.window.deref();if(u+=(o=v==null?void 0:v.scrollY)!==null&&o!==void 0?o:0,i+=(d=v==null?void 0:v.scrollX)!==null&&d!==void 0?d:0,v===p||!f.iframeElement)break;const a=f.iframeElement.getBoundingClientRect();u+=a.top,i+=a.left}return{top:u,left:i}}}var c=e(1432);class _{constructor(D,p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=p.button===0,this.middleButton=p.button===1,this.rightButton=p.button===2,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,p.type==="dblclick"&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,typeof p.pageX=="number"?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=p.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const o=E.getPositionOfChildWindowRelativeToAncestorWindow(D,p.view);this.posx-=o.left,this.posy-=o.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class I{constructor(D,p=0,o=0){if(this.browserEvent=D||null,this.target=D?D.target||D.targetNode||D.srcElement:null,this.deltaY=o,this.deltaX=p,D){const d=D,u=D;if(typeof d.wheelDeltaY!="undefined")this.deltaY=d.wheelDeltaY/120;else if(typeof u.VERTICAL_AXIS!="undefined"&&u.axis===u.VERTICAL_AXIS)this.deltaY=-u.detail/3;else if(D.type==="wheel"){const i=D;i.deltaMode===i.DOM_DELTA_LINE?b.vU&&!c.dz?this.deltaY=-D.deltaY/3:this.deltaY=-D.deltaY:this.deltaY=-D.deltaY/40}if(typeof d.wheelDeltaX!="undefined")b.G6&&c.ED?this.deltaX=-(d.wheelDeltaX/120):this.deltaX=d.wheelDeltaX/120;else if(typeof u.HORIZONTAL_AXIS!="undefined"&&u.axis===u.HORIZONTAL_AXIS)this.deltaX=-D.detail/3;else if(D.type==="wheel"){const i=D;i.deltaMode===i.DOM_DELTA_LINE?b.vU&&!c.dz?this.deltaX=-D.deltaX/3:this.deltaX=-D.deltaX:this.deltaX=-D.deltaX/40}this.deltaY===0&&this.deltaX===0&&D.wheelDelta&&(this.deltaY=D.wheelDelta/120)}}preventDefault(){var D;(D=this.browserEvent)===null||D===void 0||D.preventDefault()}stopPropagation(){var D;(D=this.browserEvent)===null||D===void 0||D.stopPropagation()}}},50795:function(Pt,Ke,e){"use strict";e.d(Ke,{B:function(){return b}});var b;(function(z){const r={total:0,min:Number.MAX_VALUE,max:0},E=Xi({},r),c=Xi({},r),_=Xi({},r);let I=0;const M={keydown:0,input:0,render:0};function D(){S(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),M.keydown=1,queueMicrotask(p)}z.onKeyDown=D;function p(){M.keydown===1&&(performance.mark("keydown/end"),M.keydown=2)}function o(){performance.mark("input/start"),M.input=1,a()}z.onBeforeInput=o;function d(){M.input===0&&o(),queueMicrotask(u)}z.onInput=d;function u(){M.input===1&&(performance.mark("input/end"),M.input=2)}function i(){S()}z.onKeyUp=i;function n(){S()}z.onSelectionChange=n;function f(){M.keydown===2&&M.input===2&&M.render===0&&(performance.mark("render/start"),M.render=1,queueMicrotask(v),a())}z.onRenderStart=f;function v(){M.render===1&&(performance.mark("render/end"),M.render=2)}function a(){setTimeout(S)}function S(){M.keydown===2&&M.input===2&&M.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),g("keydown",r),g("input",E),g("render",c),g("inputlatency",_),I++,y())}function g(T,F){const B=performance.getEntriesByName(T)[0].duration;F.total+=B,F.min=Math.min(F.min,B),F.max=Math.max(F.max,B)}function y(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),M.keydown=0,M.input=0,M.render=0}function C(){if(I===0)return;const T={keydown:L(r),input:L(E),render:L(c),total:L(_),sampleCount:I};return O(r),O(E),O(c),O(_),I=0,T}z.getAndClearMeasurements=C;function L(T){return{average:T.total/I,max:T.max,min:T.min}}function O(T){T.total=0,T.min=Number.MAX_VALUE,T.max=0}})(b||(b={}))},10553:function(Pt,Ke,e){"use strict";e.d(Ke,{o:function(){return p},t:function(){return D}});var b=e(65321),z=e(48906),r=e(9488),E=e(49898),c=e(4669),_=e(5976),I=e(91741),M=function(o,d,u,i){var n=arguments.length,f=n<3?d:i===null?i=Object.getOwnPropertyDescriptor(d,u):i,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,d,u,i);else for(var a=o.length-1;a>=0;a--)(v=o[a])&&(f=(n<3?v(f):n>3?v(d,u,f):v(d,u))||f);return n>3&&f&&Object.defineProperty(d,u,f),f},D;(function(o){o.Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu"})(D||(D={}));class p extends _.JT{constructor(){super(),this.dispatched=!1,this.targets=new I.S,this.ignoreTargets=new I.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(c.ju.runAndSubscribe(b.Xo,({window:d,disposables:u})=>{u.add(b.nm(d.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),u.add(b.nm(d.document,"touchend",i=>this.onTouchEnd(d,i))),u.add(b.nm(d.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:z.Ex,disposables:this._store}))}static addTarget(d){if(!p.isTouchDevice())return _.JT.None;p.INSTANCE||(p.INSTANCE=(0,_.dk)(new p));const u=p.INSTANCE.targets.push(d);return(0,_.OF)(u)}static ignoreTarget(d){if(!p.isTouchDevice())return _.JT.None;p.INSTANCE||(p.INSTANCE=(0,_.dk)(new p));const u=p.INSTANCE.ignoreTargets.push(d);return(0,_.OF)(u)}static isTouchDevice(){return"ontouchstart"in z.Ex||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(d){const u=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=d.targetTouches.length;i<n;i++){const f=d.targetTouches.item(i);this.activeTouches[f.identifier]={id:f.identifier,initialTarget:f.target,initialTimeStamp:u,initialPageX:f.pageX,initialPageY:f.pageY,rollingTimestamps:[u],rollingPageX:[f.pageX],rollingPageY:[f.pageY]};const v=this.newGestureEvent(D.Start,f.target);v.pageX=f.pageX,v.pageY=f.pageY,this.dispatchEvent(v)}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}onTouchEnd(d,u){const i=Date.now(),n=Object.keys(this.activeTouches).length;for(let f=0,v=u.changedTouches.length;f<v;f++){const a=u.changedTouches.item(f);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const S=this.activeTouches[a.identifier],g=Date.now()-S.initialTimeStamp;if(g<p.HOLD_DELAY&&Math.abs(S.initialPageX-r.Gb(S.rollingPageX))<30&&Math.abs(S.initialPageY-r.Gb(S.rollingPageY))<30){const y=this.newGestureEvent(D.Tap,S.initialTarget);y.pageX=r.Gb(S.rollingPageX),y.pageY=r.Gb(S.rollingPageY),this.dispatchEvent(y)}else if(g>=p.HOLD_DELAY&&Math.abs(S.initialPageX-r.Gb(S.rollingPageX))<30&&Math.abs(S.initialPageY-r.Gb(S.rollingPageY))<30){const y=this.newGestureEvent(D.Contextmenu,S.initialTarget);y.pageX=r.Gb(S.rollingPageX),y.pageY=r.Gb(S.rollingPageY),this.dispatchEvent(y)}else if(n===1){const y=r.Gb(S.rollingPageX),C=r.Gb(S.rollingPageY),L=r.Gb(S.rollingTimestamps)-S.rollingTimestamps[0],O=y-S.rollingPageX[0],T=C-S.rollingPageY[0],F=[...this.targets].filter(B=>S.initialTarget instanceof Node&&B.contains(S.initialTarget));this.inertia(d,F,i,Math.abs(O)/L,O>0?1:-1,y,Math.abs(T)/L,T>0?1:-1,C)}this.dispatchEvent(this.newGestureEvent(D.End,S.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(d,u){const i=document.createEvent("CustomEvent");return i.initEvent(d,!1,!0),i.initialTarget=u,i.tapCount=0,i}dispatchEvent(d){if(d.type===D.Tap){const u=new Date().getTime();let i=0;u-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=u,d.tapCount=i}else(d.type===D.Change||d.type===D.Contextmenu)&&(this._lastSetTapCountTime=0);if(d.initialTarget instanceof Node){for(const u of this.ignoreTargets)if(u.contains(d.initialTarget))return;for(const u of this.targets)u.contains(d.initialTarget)&&(u.dispatchEvent(d),this.dispatched=!0)}}inertia(d,u,i,n,f,v,a,S,g){this.handle=b.jL(d,()=>{const y=Date.now(),C=y-i;let L=0,O=0,T=!0;n+=p.SCROLL_FRICTION*C,a+=p.SCROLL_FRICTION*C,n>0&&(T=!1,L=f*n*C),a>0&&(T=!1,O=S*a*C);const F=this.newGestureEvent(D.Change);F.translationX=L,F.translationY=O,u.forEach(B=>B.dispatchEvent(F)),T||this.inertia(d,u,y,n,f,v+L,a,S,g+O)})}onTouchMove(d){const u=Date.now();for(let i=0,n=d.changedTouches.length;i<n;i++){const f=d.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("end of an UNKNOWN touch",f);continue}const v=this.activeTouches[f.identifier],a=this.newGestureEvent(D.Change,v.initialTarget);a.translationX=f.pageX-r.Gb(v.rollingPageX),a.translationY=f.pageY-r.Gb(v.rollingPageY),a.pageX=f.pageX,a.pageY=f.pageY,this.dispatchEvent(a),v.rollingPageX.length>3&&(v.rollingPageX.shift(),v.rollingPageY.shift(),v.rollingTimestamps.shift()),v.rollingPageX.push(f.pageX),v.rollingPageY.push(f.pageY),v.rollingTimestamps.push(u)}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,M([E.H],p,"isTouchDevice",null)},77514:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return r}});var b=e(48906),z=e(17301);function r(E,c){var _;const I=globalThis.MonacoEnvironment;if(I!=null&&I.createTrustedTypesPolicy)try{return I.createTrustedTypesPolicy(E,c)}catch(M){(0,z.dL)(M);return}try{return(_=b.Ex.trustedTypes)===null||_===void 0?void 0:_.createPolicy(E,c)}catch(M){(0,z.dL)(M);return}}},41923:function(Pt,Ke,e){"use strict";e.d(Ke,{gU:function(){return B},YH:function(){return F},Lc:function(){return $}});var b=e(16268),z=e(23547),r=e(65321),E=e(10553),c=e(51433),_=e(4850),I=e(59069),M=e(53253),D=e(69047),p=e(9488),o=e(4669),d=e(22258),u=e(5976),i=e(1432),n=e(63580);const f=r.$,v="selectOption.entry.template";class a{get templateId(){return v}renderTemplate(P){const w=Object.create(null);return w.root=P,w.text=r.R3(P,f(".option-text")),w.detail=r.R3(P,f(".option-detail")),w.decoratorRight=r.R3(P,f(".option-decorator-right")),w}renderElement(P,w,V){const R=V,A=P.text,H=P.detail,U=P.decoratorRight,G=P.isDisabled;R.text.textContent=A,R.detail.textContent=H||"",R.decoratorRight.innerText=U||"",G?R.root.classList.add("option-disabled"):R.root.classList.remove("option-disabled")}disposeTemplate(P){}}class S extends u.JT{constructor(P,w,V,R,A){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=R,this.selectBoxOptions=A||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=S.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new o.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(V),this.selected=w||0,P&&this.setOptions(P,w),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return v}constructSelectDropDown(P){this.contextViewProvider=P,this.selectDropDownContainer=r.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=r.R3(this.selectDropDownContainer,f(".select-box-details-pane"));const w=r.R3(this.selectDropDownContainer,f(".select-box-dropdown-container-width-control")),V=r.R3(w,f(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",r.R3(V,this.widthControlElement),this._dropDownPosition=0,this.styleElement=r.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(r.nm(this.selectDropDownContainer,r.tw.DRAG_START,R=>{r.zB.stop(R,!0)}))}registerListeners(){this._register(r.mu(this.selectElement,"change",w=>{this.selected=w.target.selectedIndex,this._onDidSelect.fire({index:w.target.selectedIndex,selected:w.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(r.nm(this.selectElement,r.tw.CLICK,w=>{r.zB.stop(w),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(r.nm(this.selectElement,r.tw.MOUSE_DOWN,w=>{r.zB.stop(w)}));let P;this._register(r.nm(this.selectElement,"touchstart",w=>{P=this._isVisible})),this._register(r.nm(this.selectElement,"touchend",w=>{r.zB.stop(w),P?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(r.nm(this.selectElement,r.tw.KEY_DOWN,w=>{const V=new I.y(w);let R=!1;i.dz?(V.keyCode===18||V.keyCode===16||V.keyCode===10||V.keyCode===3)&&(R=!0):(V.keyCode===18&&V.altKey||V.keyCode===16&&V.altKey||V.keyCode===10||V.keyCode===3)&&(R=!0),R&&(this.showSelectDropDown(),r.zB.stop(w,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(P,w){p.fS(this.options,P)||(this.options=P,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((V,R)=>{this.selectElement.add(this.createOption(V.text,R,V.isDisabled)),typeof V.description=="string"&&(this._hasDetails=!0)})),w!==void 0&&(this.select(w),this._currentSelection=this.selected)}setOptionsList(){var P;(P=this.selectList)===null||P===void 0||P.splice(0,this.selectList.length,this.options)}select(P){P>=0&&P<this.options.length?this.selected=P:P>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(P){this.selectElement.tabIndex=P?0:-1}render(P){this.container=P,P.classList.add("select-container"),P.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const P=[];this.styles.listFocusBackground&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(P.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),P.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),P.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(P.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),P.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&P.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),P.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),P.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=P.join(`
`)}styleSelectElement(){var P,w,V;const R=(P=this.styles.selectBackground)!==null&&P!==void 0?P:"",A=(w=this.styles.selectForeground)!==null&&w!==void 0?w:"",H=(V=this.styles.selectBorder)!==null&&V!==void 0?V:"";this.selectElement.style.backgroundColor=R,this.selectElement.style.color=A,this.selectElement.style.borderColor=H}styleList(){var P,w;const V=(P=this.styles.selectBackground)!==null&&P!==void 0?P:"",R=r.XT(this.styles.selectListBackground,V);this.selectDropDownListContainer.style.backgroundColor=R,this.selectionDetailsPane.style.backgroundColor=R;const A=(w=this.styles.focusBorder)!==null&&w!==void 0?w:"";this.selectDropDownContainer.style.outlineColor=A,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(P,w,V){const R=document.createElement("option");return R.value=P,R.text=P,R.disabled=!!V,R}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:P=>this.renderSelectDropDown(P,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:P=>this.renderSelectDropDown(P),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(P){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),P&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(P,w){return P.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(w),{dispose:()=>{try{P.removeChild(this.selectDropDownContainer)}catch(V){}}}}measureMaxDetailsHeight(){let P=0;return this.options.forEach((w,V)=>{this.updateDetail(V),this.selectionDetailsPane.offsetHeight>P&&(P=this.selectionDetailsPane.offsetHeight)}),P}layoutSelectDropDown(P){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const w=r.Jj(this.selectElement),V=r.i(this.selectElement),R=r.Jj(this.selectElement).getComputedStyle(this.selectElement),A=parseFloat(R.getPropertyValue("--dropdown-padding-top"))+parseFloat(R.getPropertyValue("--dropdown-padding-bottom")),H=w.innerHeight-V.top-V.height-(this.selectBoxOptions.minBottomMargin||0),U=V.top-S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,G=this.selectElement.offsetWidth,j=this.setWidthControlElement(this.widthControlElement),W=Math.max(j,Math.round(G)).toString()+"px";this.selectDropDownContainer.style.width=W,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let K=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const m=this._hasDetails?this._cachedMaxDetailsHeight:0,J=K+A+m,X=Math.floor((H-A-m)/this.getHeight()),ie=Math.floor((U-A-m)/this.getHeight());if(P)return V.top+V.height>w.innerHeight-22||V.top<S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||X<1&&ie<1?!1:(X<S.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&ie>X&&this.options.length>X?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(V.top+V.height>w.innerHeight-22||V.top<S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&X<1||this._dropDownPosition===1&&ie<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&X+ie<1)return this.hideSelectDropDown(!0),!1;J>H&&(K=X*this.getHeight())}else J>U&&(K=ie*this.getHeight());return this.selectList.layout(K),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=K+A+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=K+A+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=W,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(P){let w=0;if(P){let V=0,R=0;this.options.forEach((A,H)=>{const U=A.detail?A.detail.length:0,G=A.decoratorRight?A.decoratorRight.length:0,j=A.text.length+U+G;j>R&&(V=H,R=j)}),P.textContent=this.options[V].text+(this.options[V].decoratorRight?this.options[V].decoratorRight+" ":""),w=r.w(P)}return w}createSelectList(P){if(this.selectList)return;this.selectDropDownListContainer=r.R3(P,f(".select-box-dropdown-list-container")),this.listRenderer=new a,this.selectList=new D.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:R=>{let A=R.text;return R.detail&&(A+=`. ${R.detail}`),R.decoratorRight&&(A+=`. ${R.decoratorRight}`),R.description&&(A+=`. ${R.description}`),A},getWidgetAriaLabel:()=>(0,n.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>i.dz?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const w=this._register(new _.Y(this.selectDropDownListContainer,"keydown")),V=o.ju.chain(w.event,R=>R.filter(()=>this.selectList.length>0).map(A=>new I.y(A)));this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===3))(this.onEnter,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===2))(this.onEnter,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===9))(this.onEscape,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===16))(this.onUpArrow,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===18))(this.onDownArrow,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===12))(this.onPageDown,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===11))(this.onPageUp,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===14))(this.onHome,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode===13))(this.onEnd,this)),this._register(o.ju.chain(V,R=>R.filter(A=>A.keyCode>=21&&A.keyCode<=56||A.keyCode>=85&&A.keyCode<=113))(this.onCharacter,this)),this._register(r.nm(this.selectList.getHTMLElement(),r.tw.POINTER_UP,R=>this.onPointerUp(R))),this._register(this.selectList.onMouseOver(R=>typeof R.index!="undefined"&&this.selectList.setFocus([R.index]))),this._register(this.selectList.onDidChangeFocus(R=>this.onListFocus(R))),this._register(r.nm(this.selectDropDownContainer,r.tw.FOCUS_OUT,R=>{!this._isVisible||r.jg(R.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(P){if(!this.selectList.length)return;r.zB.stop(P);const w=P.target;if(!w||w.classList.contains("slider"))return;const V=w.closest(".monaco-list-row");if(!V)return;const R=Number(V.getAttribute("data-index")),A=V.classList.contains("option-disabled");R>=0&&R<this.options.length&&!A&&(this.selected=R,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(P,w){const V=A=>{for(let H=0;H<A.childNodes.length;H++){const U=A.childNodes.item(H);(U.tagName&&U.tagName.toLowerCase())==="img"?A.removeChild(U):V(U)}},R=(0,M.ap)({value:P,supportThemeIcons:!0},{actionHandler:w});return R.element.classList.add("select-box-description-markdown"),V(R.element),R.element}onListFocus(P){!this._isVisible||!this._hasDetails||this.updateDetail(P.indexes[0])}updateDetail(P){var w,V;this.selectionDetailsPane.innerText="";const R=this.options[P],A=(w=R==null?void 0:R.description)!==null&&w!==void 0?w:"",H=(V=R==null?void 0:R.descriptionIsMarkdown)!==null&&V!==void 0?V:!1;if(A){if(H){const U=R.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(A,U))}else this.selectionDetailsPane.innerText=A;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(P){r.zB.stop(P),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(P){r.zB.stop(P),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(P){if(this.selected<this.options.length-1){r.zB.stop(P,!0);const w=this.options[this.selected+1].isDisabled;if(w&&this.options.length>this.selected+2)this.selected+=2;else{if(w)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(P){this.selected>0&&(r.zB.stop(P,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(P){r.zB.stop(P),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(P){r.zB.stop(P),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(P){r.zB.stop(P),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(P){r.zB.stop(P),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(P){const w=d.kL.toString(P.keyCode);let V=-1;for(let R=0;R<this.options.length-1;R++)if(V=(R+this.selected+1)%this.options.length,this.options[V].text.charAt(0).toUpperCase()===w&&!this.options[V].isDisabled){this.select(V),this.selectList.setFocus([V]),this.selectList.reveal(this.selectList.getFocus()[0]),r.zB.stop(P);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}S.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,S.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class g extends u.JT{constructor(P,w,V,R){super(),this.selected=0,this.selectBoxOptions=R||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new o.Q5),this.styles=V,this.registerListeners(),this.setOptions(P,w)}registerListeners(){this._register(E.o.addTarget(this.selectElement)),[E.t.Tap].forEach(P=>{this._register(r.nm(this.selectElement,P,w=>{this.selectElement.focus()}))}),this._register(r.mu(this.selectElement,"click",P=>{r.zB.stop(P,!0)})),this._register(r.mu(this.selectElement,"change",P=>{this.selectElement.title=P.target.value,this._onDidSelect.fire({index:P.target.selectedIndex,selected:P.target.value})})),this._register(r.mu(this.selectElement,"keydown",P=>{let w=!1;i.dz?(P.keyCode===18||P.keyCode===16||P.keyCode===10)&&(w=!0):(P.keyCode===18&&P.altKey||P.keyCode===10||P.keyCode===3)&&(w=!0),w&&P.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(P,w){(!this.options||!p.fS(this.options,P))&&(this.options=P,this.selectElement.options.length=0,this.options.forEach((V,R)=>{this.selectElement.add(this.createOption(V.text,R,V.isDisabled))})),w!==void 0&&this.select(w)}select(P){this.options.length===0?this.selected=0:P>=0&&P<this.options.length?this.selected=P:P>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(P){this.selectElement.tabIndex=P?0:-1}render(P){P.classList.add("select-container"),P.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var P,w,V;this.selectElement&&(this.selectElement.style.backgroundColor=(P=this.styles.selectBackground)!==null&&P!==void 0?P:"",this.selectElement.style.color=(w=this.styles.selectForeground)!==null&&w!==void 0?w:"",this.selectElement.style.borderColor=(V=this.styles.selectBorder)!==null&&V!==void 0?V:"")}createOption(P,w,V){const R=document.createElement("option");return R.value=P,R.text=P,R.disabled=!!V,R}}var y=e(93794);class C extends y.${constructor(P,w,V,R,A){super(),i.dz&&!(A!=null&&A.useCustomDrawn)?this.selectBoxDelegate=new g(P,w,R,A):this.selectBoxDelegate=new S(P,w,V,R,A),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(P,w){this.selectBoxDelegate.setOptions(P,w)}select(P){this.selectBoxDelegate.select(P)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(P){this.selectBoxDelegate.setFocusable(P)}render(P){this.selectBoxDelegate.render(P)}}var L=e(74741),O=e(98401),T=e(31285);class F extends u.JT{get action(){return this._action}constructor(P,w,V={}){super(),this.options=V,this._context=P||this,this._action=w,w instanceof L.aU&&this._register(w.onDidChange(R=>{this.element&&this.handleActionChangeEvent(R)}))}handleActionChangeEvent(P){P.enabled!==void 0&&this.updateEnabled(),P.checked!==void 0&&this.updateChecked(),P.class!==void 0&&this.updateClass(),P.label!==void 0&&(this.updateLabel(),this.updateTooltip()),P.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new L.Wi)),this._actionRunner}set actionRunner(P){this._actionRunner=P}isEnabled(){return this._action.enabled}setActionContext(P){this._context=P}render(P){const w=this.element=P;this._register(E.o.addTarget(P));const V=this.options&&this.options.draggable;V&&(P.draggable=!0,b.vU&&this._register((0,r.nm)(P,r.tw.DRAG_START,R=>{var A;return(A=R.dataTransfer)===null||A===void 0?void 0:A.setData(z.g.TEXT,this._action.label)}))),this._register((0,r.nm)(w,E.t.Tap,R=>this.onClick(R,!0))),this._register((0,r.nm)(w,r.tw.MOUSE_DOWN,R=>{V||r.zB.stop(R,!0),this._action.enabled&&R.button===0&&w.classList.add("active")})),i.dz&&this._register((0,r.nm)(w,r.tw.CONTEXT_MENU,R=>{R.button===0&&R.ctrlKey===!0&&this.onClick(R)})),this._register((0,r.nm)(w,r.tw.CLICK,R=>{r.zB.stop(R,!0),this.options&&this.options.isMenu||this.onClick(R)})),this._register((0,r.nm)(w,r.tw.DBLCLICK,R=>{r.zB.stop(R,!0)})),[r.tw.MOUSE_UP,r.tw.MOUSE_OUT].forEach(R=>{this._register((0,r.nm)(w,R,A=>{r.zB.stop(A),w.classList.remove("active")}))})}onClick(P,w=!1){var V;r.zB.stop(P,!0);const R=O.Jp(this._context)?!((V=this.options)===null||V===void 0)&&V.useEventAsContext?P:{preserveFocus:w}:this._context;this.actionRunner.run(this._action,R)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(P){this.element&&(this.element.tabIndex=P?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var P;if(!this.element)return;const w=(P=this.getTooltip())!==null&&P!==void 0?P:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(w):(this.customHover=(0,c.g)(this.options.hoverDelegate,this.element,w),this._store.add(this.customHover))):this.element.title=w}updateAriaLabel(){var P;if(this.element){const w=(P=this.getTooltip())!==null&&P!==void 0?P:"";this.element.setAttribute("aria-label",w)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class B extends F{constructor(P,w,V){super(P,w,V),this.options=V,this.options.icon=V.icon!==void 0?V.icon:!1,this.options.label=V.label!==void 0?V.label:!0,this.cssClass=""}render(P){super.render(P),O.p_(this.element);const w=document.createElement("a");if(w.classList.add("action-label"),w.setAttribute("role",this.getDefaultAriaRole()),this.label=w,this.element.appendChild(w),this.options.label&&this.options.keybinding){const V=document.createElement("span");V.classList.add("keybinding"),V.textContent=this.options.keybinding,this.element.appendChild(V)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===L.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(P){this.label&&(this.label.tabIndex=P?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let P=null;return this.action.tooltip?P=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(P=this.action.label,this.options.keybinding&&(P=n.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",P,this.options.keybinding))),P!=null?P:void 0}updateClass(){var P;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(P=this.label)===null||P===void 0||P.classList.remove("codicon")}updateEnabled(){var P,w;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(P=this.element)===null||P===void 0||P.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(w=this.element)===null||w===void 0||w.classList.add("disabled"))}updateAriaLabel(){var P;if(this.label){const w=(P=this.getTooltip())!==null&&P!==void 0?P:"";this.label.setAttribute("aria-label",w)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class $ extends F{constructor(P,w,V,R,A,H,U){super(P,w),this.selectBox=new C(V,R,A,H,U),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(P){this.selectBox.select(P)}registerListeners(){this._register(this.selectBox.onDidSelect(P=>this.runAction(P.selected,P.index)))}runAction(P,w){this.actionRunner.run(this._action,this.getActionContext(P,w))}getActionContext(P,w){return P}setFocusable(P){this.selectBox.setFocusable(P)}focus(){var P;(P=this.selectBox)===null||P===void 0||P.focus()}blur(){var P;(P=this.selectBox)===null||P===void 0||P.blur()}render(P){this.selectBox.render(P)}}},90317:function(Pt,Ke,e){"use strict";e.d(Ke,{o:function(){return D}});var b=e(65321),z=e(59069),r=e(41923),E=e(74741),c=e(4669),_=e(5976),I=e(98401),M=e(31285);class D extends _.JT{constructor(o,d={}){var u,i,n,f,v,a;super(),this._actionRunnerDisposables=this._register(new _.SL),this.viewItemDisposables=this._register(new _.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new c.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new c.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new c.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new c.Q5),this.onWillRun=this._onWillRun.event,this.options=d,this._context=(u=d.context)!==null&&u!==void 0?u:null,this._orientation=(i=this.options.orientation)!==null&&i!==void 0?i:0,this._triggerKeys={keyDown:(f=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keyDown)!==null&&f!==void 0?f:!1,keys:(a=(v=this.options.triggerKeys)===null||v===void 0?void 0:v.keys)!==null&&a!==void 0?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new E.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(y=>this._onDidRun.fire(y))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(y=>this._onWillRun.fire(y))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",d.animated!==!1&&this.domNode.classList.add("animated");let S,g;switch(this._orientation){case 0:S=[15],g=[17];break;case 1:S=[16],g=[18],this.domNode.className+=" vertical";break}this._register(b.nm(this.domNode,b.tw.KEY_DOWN,y=>{const C=new z.y(y);let L=!0;const O=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;S&&(C.equals(S[0])||C.equals(S[1]))?L=this.focusPrevious():g&&(C.equals(g[0])||C.equals(g[1]))?L=this.focusNext():C.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():C.equals(14)?L=this.focusFirst():C.equals(13)?L=this.focusLast():C.equals(2)&&O instanceof r.YH&&O.trapsArrowNavigation?L=this.focusNext():this.isTriggerKeyEvent(C)?this._triggerKeys.keyDown?this.doTrigger(C):this.triggerKeyDown=!0:L=!1,L&&(C.preventDefault(),C.stopPropagation())})),this._register(b.nm(this.domNode,b.tw.KEY_UP,y=>{const C=new z.y(y);this.isTriggerKeyEvent(C)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(C)),C.preventDefault(),C.stopPropagation()):(C.equals(2)||C.equals(1026)||C.equals(16)||C.equals(18)||C.equals(15)||C.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(b.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(b.vY()===this.domNode||!b.jg(b.vY(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),o.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(o){if(this.focusable=o,this.focusable){const d=this.viewItems.find(u=>u instanceof r.YH&&u.isEnabled());d instanceof r.YH&&d.setFocusable(!0)}else this.viewItems.forEach(d=>{d instanceof r.YH&&d.setFocusable(!1)})}isTriggerKeyEvent(o){let d=!1;return this._triggerKeys.keys.forEach(u=>{d=d||o.equals(u)}),d}updateFocusedItem(){var o,d;for(let u=0;u<this.actionsList.children.length;u++){const i=this.actionsList.children[u];if(b.jg(b.vY(),i)){this.focusedItem=u,(d=(o=this.viewItems[this.focusedItem])===null||o===void 0?void 0:o.showHover)===null||d===void 0||d.call(o);break}}}get context(){return this._context}set context(o){this._context=o,this.viewItems.forEach(d=>d.setActionContext(o))}get actionRunner(){return this._actionRunner}set actionRunner(o){this._actionRunner=o,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(d=>this._onWillRun.fire(d))),this.viewItems.forEach(d=>d.actionRunner=o)}getContainer(){return this.domNode}getAction(o){var d;if(typeof o=="number")return(d=this.viewItems[o])===null||d===void 0?void 0:d.action;if(o instanceof HTMLElement){for(;o.parentElement!==this.actionsList;){if(!o.parentElement)return;o=o.parentElement}for(let u=0;u<this.actionsList.childNodes.length;u++)if(this.actionsList.childNodes[u]===o)return this.viewItems[u].action}}push(o,d={}){const u=Array.isArray(o)?o:[o];let i=I.hj(d.index)?d.index:null;u.forEach(n=>{const f=document.createElement("li");f.className="action-item",f.setAttribute("role","presentation");let v;const a=Xi({hoverDelegate:this.options.hoverDelegate},d);this.options.actionViewItemProvider&&(v=this.options.actionViewItemProvider(n,a)),v||(v=new r.gU(this.context,n,a)),this.options.allowContextMenu||this.viewItemDisposables.set(v,b.nm(f,b.tw.CONTEXT_MENU,S=>{b.zB.stop(S,!0)})),v.actionRunner=this._actionRunner,v.setActionContext(this.context),v.render(f),this.focusable&&v instanceof r.YH&&this.viewItems.length===0&&v.setFocusable(!0),i===null||i<0||i>=this.actionsList.children.length?(this.actionsList.appendChild(f),this.viewItems.push(v)):(this.actionsList.insertBefore(f,this.actionsList.children[i]),this.viewItems.splice(i,0,v),i++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,_.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),b.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(o){let d=!1,u;if(o===void 0?d=!0:typeof o=="number"?u=o:typeof o=="boolean"&&(d=o),d&&typeof this.focusedItem=="undefined"){const i=this.viewItems.findIndex(n=>n.isEnabled());this.focusedItem=i===-1?void 0:i,this.updateFocus(void 0,void 0,!0)}else u!==void 0&&(this.focusedItem=u),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(o){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const d=this.focusedItem;let u;do{if(!o&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=d,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,u=this.viewItems[this.focusedItem]}while(this.focusedItem!==d&&(this.options.focusOnlyEnabledItems&&!u.isEnabled()||u.action.id===E.Z0.ID));return this.updateFocus(),!0}focusPrevious(o){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const d=this.focusedItem;let u;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!o&&this.options.preventLoopNavigation)return this.focusedItem=d,!1;this.focusedItem=this.viewItems.length-1}u=this.viewItems[this.focusedItem]}while(this.focusedItem!==d&&(this.options.focusOnlyEnabledItems&&!u.isEnabled()||u.action.id===E.Z0.ID));return this.updateFocus(!0),!0}updateFocus(o,d,u=!1){var i,n;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:d}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((i=this.viewItems[this.previouslyFocusedItem])===null||i===void 0||i.blur());const f=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(f){let v=!0;I.mf(f.focus)||(v=!1),this.options.focusOnlyEnabledItems&&I.mf(f.isEnabled)&&!f.isEnabled()&&(v=!1),f.action.id===E.Z0.ID&&(v=!1),v&&((n=f.showHover)===null||n===void 0||n.call(f)),v?(u||this.previouslyFocusedItem!==this.focusedItem)&&(f.focus(o),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:d}),this.previouslyFocusedItem=void 0)}}doTrigger(o){if(typeof this.focusedItem=="undefined")return;const d=this.viewItems[this.focusedItem];if(d instanceof r.YH){const u=d._context===null||d._context===void 0?o:d._context;this.run(d._action,u)}}run(o,d){return qt(this,null,function*(){yield this._actionRunner.run(o,d)})}dispose(){this._context=void 0,this.viewItems=(0,_.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},35996:function(Pt,Ke,e){"use strict";e.d(Ke,{Z9:function(){return D},wW:function(){return M},i7:function(){return p}});var b=e(65321);const z=2e4;let r,E,c,_,I;function M(d){r=document.createElement("div"),r.className="monaco-aria-container";const u=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),r.appendChild(n),n};E=u(),c=u();const i=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),r.appendChild(n),n};_=i(),I=i(),d.appendChild(r)}function D(d){r&&(E.textContent!==d?(b.PO(c),o(E,d)):(b.PO(E),o(c,d)))}function p(d){r&&(_.textContent!==d?(b.PO(I),o(_,d)):(b.PO(_),o(I,d)))}function o(d,u){b.PO(d),u.length>z&&(u=u.substr(0,z)),d.textContent=u,d.style.visibility="hidden",d.style.visibility="visible"}},36289:function(Pt,Ke,e){"use strict";e.d(Ke,{z:function(){return u}});var b=e(65321),z=e(70921),r=e(59069),E=e(53253),c=e(10553),_=e(56811),I=e(41264),M=e(4669),D=e(59365),p=e(5976),o=e(25670);const d={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:I.Il.white.toString(),buttonForeground:I.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class u extends p.JT{get onDidClick(){return this._onDidClick.event}constructor(n,f){super(),this._label="",this._onDidClick=this._register(new M.Q5),this.options=f,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!f.secondary);const v=f.secondary?f.buttonSecondaryBackground:f.buttonBackground,a=f.secondary?f.buttonSecondaryForeground:f.buttonForeground;this._element.style.color=a||"",this._element.style.backgroundColor=v||"",f.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),n.appendChild(this._element),this._register(c.o.addTarget(this._element)),[b.tw.CLICK,c.t.Tap].forEach(S=>{this._register((0,b.nm)(this._element,S,g=>{if(!this.enabled){b.zB.stop(g);return}this._onDidClick.fire(g)}))}),this._register((0,b.nm)(this._element,b.tw.KEY_DOWN,S=>{const g=new r.y(S);let y=!1;this.enabled&&(g.equals(3)||g.equals(10))?(this._onDidClick.fire(S),y=!0):g.equals(9)&&(this._element.blur(),y=!0),y&&b.zB.stop(g,!0)})),this._register((0,b.nm)(this._element,b.tw.MOUSE_OVER,S=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,b.nm)(this._element,b.tw.MOUSE_OUT,S=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,b.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(n){const f=[];for(let v of(0,_.T)(n))if(typeof v=="string"){if(v=v.trim(),v==="")continue;const a=document.createElement("span");a.textContent=v,f.push(a)}else f.push(v);return f}updateBackground(n){let f;this.options.secondary?f=n?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:f=n?this.options.buttonHoverBackground:this.options.buttonBackground,f&&(this._element.style.backgroundColor=f)}get element(){return this._element}set label(n){var f;if(this._label===n||(0,D.Fr)(this._label)&&(0,D.Fr)(n)&&(0,D.g_)(this._label,n))return;this._element.classList.add("monaco-text-button");const v=this.options.supportShortLabel?this._labelElement:this._element;if((0,D.Fr)(n)){const a=(0,E.ap)(n,{inline:!0});a.dispose();const S=(f=a.element.querySelector("p"))===null||f===void 0?void 0:f.innerHTML;if(S){const g=(0,z.Nw)(S,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});v.innerHTML=g}else(0,b.mc)(v)}else this.options.supportIcons?(0,b.mc)(v,...this.getContentElements(n)):v.textContent=n;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,E.et)(n)),this._label=n}get label(){return this._label}set icon(n){this._element.classList.add(...o.k.asClassNameArray(n))}set enabled(n){n?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}},15375:function(){"use strict"},85207:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return r}});var b=e(65321),z=e(97295);class r{constructor(c,_,I){this.options=_,this.styles=I,this.count=0,this.element=(0,b.R3)(c,(0,b.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(c){this.count=c,this.render()}setTitleFormat(c){this.titleFormat=c,this.render()}render(){var c,_;this.element.textContent=(0,z.WU)(this.countFormat,this.count),this.element.title=(0,z.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(c=this.styles.badgeBackground)!==null&&c!==void 0?c:"",this.element.style.color=(_=this.styles.badgeForeground)!==null&&_!==void 0?_:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},81094:function(Pt,Ke,e){"use strict";e.d(Ke,{C:function(){return D}});var b=e(65321),z=e(41923),r=e(59069),E=e(10553),c=e(74741),_=e(4669);class I extends c.Wi{constructor(o,d){super(),this._onDidChangeVisibility=this._register(new _.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,b.R3)(o,(0,b.$)(".monaco-dropdown")),this._label=(0,b.R3)(this._element,(0,b.$)(".dropdown-label"));let u=d.labelRenderer;u||(u=n=>(n.textContent=d.label||"",null));for(const n of[b.tw.CLICK,b.tw.MOUSE_DOWN,E.t.Tap])this._register((0,b.nm)(this.element,n,f=>b.zB.stop(f,!0)));for(const n of[b.tw.MOUSE_DOWN,E.t.Tap])this._register((0,b.nm)(this._label,n,f=>{(0,b.N5)(f)&&(f.detail>1||f.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,b.nm)(this._label,b.tw.KEY_UP,n=>{const f=new r.y(n);(f.equals(3)||f.equals(10))&&(b.zB.stop(n,!0),this.visible?this.hide():this.show())}));const i=u(this._label);i&&this._register(i),this._register(E.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class M extends I{constructor(o,d){super(o,d),this._options=d,this._actions=[],this.actions=d.actions||[]}set menuOptions(o){this._menuOptions=o}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(o){this._actions=o}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(o,d)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(o,d):void 0,getKeyBinding:o=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(o):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class D extends z.YH{constructor(o,d,u,i=Object.create(null)){super(null,o,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new _.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=d,this.contextMenuProvider=u,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(o){this.actionItem=o;const d=n=>{this.element=(0,b.R3)(n,(0,b.$)("a.action-label"));let f=[];return typeof this.options.classNames=="string"?f=this.options.classNames.split(/\s+/g).filter(v=>!!v):this.options.classNames&&(f=this.options.classNames),f.find(v=>v==="icon")||f.push("codicon"),this.element.classList.add(...f),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},u=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:d,menuAsChild:this.options.menuAsChild,actions:u?this.menuActionsOrProvider:void 0,actionProvider:u?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new M(o,i)),this._register(this.dropdownMenu.onDidChangeVisibility(n=>{var f;(f=this.element)===null||f===void 0||f.setAttribute("aria-expanded",`${n}`),this._onDidChangeVisibility.fire(n)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const n=this;this.dropdownMenu.menuOptions=Ln(Xi({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return n.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let o=null;return this.action.tooltip?o=this.action.tooltip:this.action.label&&(o=this.action.label),o!=null?o:void 0}setActionContext(o){super.setActionContext(o),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=o:this.dropdownMenu.menuOptions={context:o})}show(){var o;(o=this.dropdownMenu)===null||o===void 0||o.show()}updateEnabled(){var o,d;const u=!this.action.enabled;(o=this.actionItem)===null||o===void 0||o.classList.toggle("disabled",u),(d=this.element)===null||d===void 0||d.classList.toggle("disabled",u)}}},50153:function(Pt,Ke,e){"use strict";e.d(Ke,{V:function(){return p}});var b=e(65321),z=e(51307),r=e(97862),E=e(93794),c=e(4669),_=e(60812),I=e(63580),M=e(5976);const D=I.NC("defaultLabel","input");class p extends E.${constructor(d,u,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new M.XK),this.additionalToggles=[],this._onDidOptionChange=this._register(new c.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new c.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new c.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new c.Q5),this._onKeyUp=this._register(new c.Q5),this._onCaseSensitiveKeyDown=this._register(new c.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new c.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||D,this.showCommonFindToggles=!!i.showCommonFindToggles;const n=i.appendCaseSensitiveLabel||"",f=i.appendWholeWordsLabel||"",v=i.appendRegexLabel||"",a=i.history||[],S=!!i.flexibleHeight,g=!!i.flexibleWidth,y=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new r.pG(this.domNode,u,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:S,flexibleWidth:g,flexibleMaxHeight:y,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new z.eH(Xi({appendTitle:v,isChecked:!1},i.toggleStyles))),this._register(this.regex.onChange(L=>{this._onDidOptionChange.fire(L),!L&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(L=>{this._onRegexKeyDown.fire(L)})),this.wholeWords=this._register(new z.Qx(Xi({appendTitle:f,isChecked:!1},i.toggleStyles))),this._register(this.wholeWords.onChange(L=>{this._onDidOptionChange.fire(L),!L&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new z.rk(Xi({appendTitle:n,isChecked:!1},i.toggleStyles))),this._register(this.caseSensitive.onChange(L=>{this._onDidOptionChange.fire(L),!L&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(L=>{this._onCaseSensitiveKeyDown.fire(L)}));const C=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,L=>{if(L.equals(15)||L.equals(17)||L.equals(9)){const O=C.indexOf(this.domNode.ownerDocument.activeElement);if(O>=0){let T=-1;L.equals(17)?T=(O+1)%C.length:L.equals(15)&&(O===0?T=C.length-1:T=O-1),L.equals(9)?(C[O].blur(),this.inputBox.focus()):T>=0&&C[T].focus(),b.zB.stop(L,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),d==null||d.appendChild(this.domNode),this._register(b.nm(this.inputBox.inputElement,"compositionstart",C=>{this.imeSessionInProgress=!0})),this._register(b.nm(this.inputBox.inputElement,"compositionend",C=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,C=>this._onKeyDown.fire(C)),this.onkeyup(this.inputBox.inputElement,C=>this._onKeyUp.fire(C)),this.oninput(this.inputBox.inputElement,C=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,C=>this._onMouseDown.fire(C))}get onDidChange(){return this.inputBox.onDidChange}layout(d){this.inputBox.layout(),this.updateInputBoxPadding(d.collapsedFindWidget)}enable(){var d,u,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(d=this.regex)===null||d===void 0||d.enable(),(u=this.wholeWords)===null||u===void 0||u.enable(),(i=this.caseSensitive)===null||i===void 0||i.enable();for(const n of this.additionalToggles)n.enable()}disable(){var d,u,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(d=this.regex)===null||d===void 0||d.disable(),(u=this.wholeWords)===null||u===void 0||u.disable(),(i=this.caseSensitive)===null||i===void 0||i.disable();for(const n of this.additionalToggles)n.disable()}setFocusInputOnOptionClick(d){this.fixFocusOnOptionClickEnabled=d}setEnabled(d){d?this.enable():this.disable()}setAdditionalToggles(d){for(const u of this.additionalToggles)u.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new M.SL;for(const u of d!=null?d:[])this.additionalTogglesDisposables.value.add(u),this.controls.appendChild(u.domNode),this.additionalTogglesDisposables.value.add(u.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(u);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(d=!1){var u,i,n,f,v,a;d?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((i=(u=this.caseSensitive)===null||u===void 0?void 0:u.width())!==null&&i!==void 0?i:0)+((f=(n=this.wholeWords)===null||n===void 0?void 0:n.width())!==null&&f!==void 0?f:0)+((a=(v=this.regex)===null||v===void 0?void 0:v.width())!==null&&a!==void 0?a:0)+this.additionalToggles.reduce((S,g)=>S+g.width(),0)}getValue(){return this.inputBox.value}setValue(d){this.inputBox.value!==d&&(this.inputBox.value=d)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var d,u;return(u=(d=this.caseSensitive)===null||d===void 0?void 0:d.checked)!==null&&u!==void 0?u:!1}setCaseSensitive(d){this.caseSensitive&&(this.caseSensitive.checked=d)}getWholeWords(){var d,u;return(u=(d=this.wholeWords)===null||d===void 0?void 0:d.checked)!==null&&u!==void 0?u:!1}setWholeWords(d){this.wholeWords&&(this.wholeWords.checked=d)}getRegex(){var d,u;return(u=(d=this.regex)===null||d===void 0?void 0:d.checked)!==null&&u!==void 0?u:!1}setRegex(d){this.regex&&(this.regex.checked=d,this.validate())}focusOnCaseSensitive(){var d;(d=this.caseSensitive)===null||d===void 0||d.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(d){this.inputBox.showMessage(d)}clearMessage(){this.inputBox.hideMessage()}}},51307:function(Pt,Ke,e){"use strict";e.d(Ke,{Qx:function(){return M},eH:function(){return D},rk:function(){return I}});var b=e(40032),z=e(73046),r=e(63580);const E=r.NC("caseDescription","Match Case"),c=r.NC("wordsDescription","Match Whole Word"),_=r.NC("regexDescription","Use Regular Expression");class I extends b.Z{constructor(o){super({icon:z.l.caseSensitive,title:E+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}class M extends b.Z{constructor(o){super({icon:z.l.wholeWord,title:c+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}class D extends b.Z{constructor(o){super({icon:z.l.regex,title:_+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}},34650:function(Pt,Ke,e){"use strict";e.d(Ke,{q:function(){return E}});var b=e(65321),z=e(56811),r=e(36248);class E{constructor(_,I){var M;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(M=I==null?void 0:I.supportIcons)!==null&&M!==void 0?M:!1,this.domNode=b.R3(_,b.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(_,I=[],M="",D){_||(_=""),D&&(_=E.escapeNewLines(_,I)),!(this.didEverRender&&this.text===_&&this.title===M&&r.fS(this.highlights,I))&&(this.text=_,this.title=M,this.highlights=I,this.render())}render(){const _=[];let I=0;for(const M of this.highlights){if(M.end===M.start)continue;if(I<M.start){const o=this.text.substring(I,M.start);this.supportIcons?_.push(...(0,z.T)(o)):_.push(o),I=M.start}const D=this.text.substring(I,M.end),p=b.$("span.highlight",void 0,...this.supportIcons?(0,z.T)(D):[D]);M.extraClasses&&p.classList.add(...M.extraClasses),_.push(p),I=M.end}if(I<this.text.length){const M=this.text.substring(I);this.supportIcons?_.push(...(0,z.T)(M)):_.push(M)}b.mc(this.domNode,..._),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(_,I){let M=0,D=0;return _.replace(/\r\n|\r|\n/g,(p,o)=>{D=p===`\r
`?-1:0,o+=M;for(const d of I)d.end<=o||(d.start>=o&&(d.start+=D),d.end>=o&&(d.end+=D));return M+=D,"\u23CE"})}}},41168:function(Pt,Ke,e){"use strict";e.d(Ke,{Sr:function(){return M},c8:function(){return I},uX:function(){return D}});var b=e(65321),z=e(59069),r=e(59740),E=e(5976),c=e(63580);const _=b.$;class I extends E.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new r.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class M extends E.JT{static render(o,d,u){return new M(o,d,u)}constructor(o,d,u){super(),this.actionContainer=b.R3(o,_("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=b.R3(this.actionContainer,_("a.action")),this.action.setAttribute("role","button"),d.iconClass&&b.R3(this.action,_(`span.icon.${d.iconClass}`));const i=b.R3(this.action,_("span"));i.textContent=u?`${d.label} (${u})`:d.label,this._register(b.nm(this.actionContainer,b.tw.CLICK,n=>{n.stopPropagation(),n.preventDefault(),d.run(this.actionContainer)})),this._register(b.nm(this.actionContainer,b.tw.KEY_DOWN,n=>{const f=new z.y(n);(f.equals(3)||f.equals(10))&&(n.stopPropagation(),n.preventDefault(),d.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(o){o?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function D(p,o){return p&&o?(0,c.NC)("acessibleViewHint","Inspect this in the accessible view with {0}.",o):p?(0,c.NC)("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}},93923:function(Pt,Ke,e){"use strict";e.d(Ke,{g:function(){return M}});var b=e(65321),z=e(34650),r=e(51433),E=e(5976),c=e(36248),_=e(61134);class I{constructor(u){this._element=u}get element(){return this._element}set textContent(u){this.disposed||u===this._textContent||(this._textContent=u,this._element.textContent=u)}set className(u){this.disposed||u===this._className||(this._className=u,this._element.className=u)}set empty(u){this.disposed||u===this._empty||(this._empty=u,this._element.style.marginLeft=u?"0":"")}dispose(){this.disposed=!0}}class M extends E.JT{constructor(u,i){super(),this.customHovers=new Map,this.creationOptions=i,this.domNode=this._register(new I(b.R3(u,b.$(".monaco-icon-label")))),this.labelContainer=b.R3(this.domNode.element,b.$(".monaco-icon-label-container")),this.nameContainer=b.R3(this.labelContainer,b.$("span.monaco-icon-name-container")),i!=null&&i.supportHighlights||i!=null&&i.supportIcons?this.nameNode=new o(this.nameContainer,!!i.supportIcons):this.nameNode=new D(this.nameContainer),this.hoverDelegate=i==null?void 0:i.hoverDelegate}get element(){return this.domNode.element}setLabel(u,i,n){var f;const v=["monaco-icon-label"],a=["monaco-icon-label-container"];let S="";if(n&&(n.extraClasses&&v.push(...n.extraClasses),n.italic&&v.push("italic"),n.strikethrough&&v.push("strikethrough"),n.disabledCommand&&a.push("disabled"),n.title&&(typeof n.title=="string"?S+=n.title:S+=u)),this.domNode.className=v.join(" "),this.domNode.element.setAttribute("aria-label",S),this.labelContainer.className=a.join(" "),this.setupHover(n!=null&&n.descriptionTitle?this.labelContainer:this.element,n==null?void 0:n.title),this.nameNode.setLabel(u,n),i||this.descriptionNode){const g=this.getOrCreateDescriptionNode();g instanceof z.q?(g.set(i||"",n?n.descriptionMatches:void 0,void 0,n==null?void 0:n.labelEscapeNewLines),this.setupHover(g.element,n==null?void 0:n.descriptionTitle)):(g.textContent=i&&(n!=null&&n.labelEscapeNewLines)?z.q.escapeNewLines(i,[]):i||"",this.setupHover(g.element,(n==null?void 0:n.descriptionTitle)||""),g.empty=!i)}if(n!=null&&n.suffix||this.suffixNode){const g=this.getOrCreateSuffixNode();g.textContent=(f=n==null?void 0:n.suffix)!==null&&f!==void 0?f:""}}setupHover(u,i){const n=this.customHovers.get(u);if(n&&(n.dispose(),this.customHovers.delete(u)),!i){u.removeAttribute("title");return}if(!this.hoverDelegate)(0,r.O)(u,i);else{const f=(0,r.g)(this.hoverDelegate,u,i);f&&this.customHovers.set(u,f)}}dispose(){super.dispose();for(const u of this.customHovers.values())u.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const u=this._register(new I(b.e4(this.nameContainer,b.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new I(b.R3(u.element,b.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var u;if(!this.descriptionNode){const i=this._register(new I(b.R3(this.labelContainer,b.$("span.monaco-icon-description-container"))));!((u=this.creationOptions)===null||u===void 0)&&u.supportDescriptionHighlights?this.descriptionNode=new z.q(b.R3(i.element,b.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new I(b.R3(i.element,b.$("span.label-description"))))}return this.descriptionNode}}class D{constructor(u){this.container=u,this.label=void 0,this.singleLabel=void 0}setLabel(u,i){if(!(this.label===u&&(0,c.fS)(this.options,i)))if(this.label=u,this.options=i,typeof u=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=b.R3(this.container,b.$("a.label-name",{id:i==null?void 0:i.domId}))),this.singleLabel.textContent=u;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let n=0;n<u.length;n++){const f=u[n],v=(i==null?void 0:i.domId)&&`${i==null?void 0:i.domId}_${n}`;b.R3(this.container,b.$("a.label-name",{id:v,"data-icon-label-count":u.length,"data-icon-label-index":n,role:"treeitem"},f)),n<u.length-1&&b.R3(this.container,b.$("span.label-separator",void 0,(i==null?void 0:i.separator)||"/"))}}}}function p(d,u,i){if(!i)return;let n=0;return d.map(f=>{const v={start:n,end:n+f.length},a=i.map(S=>_.e.intersect(v,S)).filter(S=>!_.e.isEmpty(S)).map(({start:S,end:g})=>({start:S-n,end:g-n}));return n=v.end+u.length,a})}class o{constructor(u,i){this.container=u,this.supportIcons=i,this.label=void 0,this.singleLabel=void 0}setLabel(u,i){if(!(this.label===u&&(0,c.fS)(this.options,i)))if(this.label=u,this.options=i,typeof u=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new z.q(b.R3(this.container,b.$("a.label-name",{id:i==null?void 0:i.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(u,i==null?void 0:i.matches,void 0,i==null?void 0:i.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const n=(i==null?void 0:i.separator)||"/",f=p(u,n,i==null?void 0:i.matches);for(let v=0;v<u.length;v++){const a=u[v],S=f?f[v]:void 0,g=(i==null?void 0:i.domId)&&`${i==null?void 0:i.domId}_${v}`,y=b.$("a.label-name",{id:g,"data-icon-label-count":u.length,"data-icon-label-index":v,role:"treeitem"});new z.q(b.R3(this.container,y),{supportIcons:this.supportIcons}).set(a,S,void 0,i==null?void 0:i.labelEscapeNewLines),v<u.length-1&&b.R3(y,b.$("span.label-separator",void 0,n))}}}}},51433:function(Pt,Ke,e){"use strict";e.d(Ke,{O:function(){return D},g:function(){return o}});var b=e(65321),z=e(15393),r=e(71050),E=e(59365),c=e(21212),_=e(5976),I=e(98401),M=e(63580);function D(d,u){(0,I.HD)(u)?d.title=(0,c.x$)(u):u!=null&&u.markdownNotSupportedFallback?d.title=u.markdownNotSupportedFallback:d.removeAttribute("title")}class p{constructor(u,i,n){this.hoverDelegate=u,this.target=i,this.fadeInAnimation=n}update(u,i,n){return qt(this,null,function*(){var f;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let v;if(u===void 0||(0,I.HD)(u)||u instanceof HTMLElement)v=u;else if(!(0,I.mf)(u.markdown))v=(f=u.markdown)!==null&&f!==void 0?f:u.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,M.NC)("iconLabel.loading","Loading..."),i),this._cancellationTokenSource=new r.A;const a=this._cancellationTokenSource.token;if(v=yield u.markdown(a),v===void 0&&(v=u.markdownNotSupportedFallback),this.isDisposed||a.isCancellationRequested)return}this.show(v,i,n)})}show(u,i,n){const f=this._hoverWidget;if(this.hasContent(u)){const v=Xi({content:u,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!f},position:{hoverPosition:2}},n);this._hoverWidget=this.hoverDelegate.showHover(v,i)}f==null||f.dispose()}hasContent(u){return u?(0,E.Fr)(u)?!!u.value:!0:!1}get isDisposed(){var u;return(u=this._hoverWidget)===null||u===void 0?void 0:u.isDisposed}dispose(){var u,i;(u=this._hoverWidget)===null||u===void 0||u.dispose(),(i=this._cancellationTokenSource)===null||i===void 0||i.dispose(!0),this._cancellationTokenSource=void 0}}function o(d,u,i,n){let f,v;const a=(T,F)=>{var B;const $=v!==void 0;T&&(v==null||v.dispose(),v=void 0),F&&(f==null||f.dispose(),f=void 0),$&&((B=d.onDidHideHover)===null||B===void 0||B.call(d))},S=(T,F,B)=>new z._F(()=>qt(this,null,function*(){(!v||v.isDisposed)&&(v=new p(d,B||u,T>0),yield v.update(i,F,n))}),T),g=()=>{if(f)return;const T=new _.SL,F=Y=>a(!1,Y.fromElement===u);T.add(b.nm(u,b.tw.MOUSE_LEAVE,F,!0));const B=()=>a(!0,!0);T.add(b.nm(u,b.tw.MOUSE_DOWN,B,!0));const $={targetElements:[u],dispose:()=>{}};if(d.placement===void 0||d.placement==="mouse"){const Y=P=>{$.x=P.x+10,P.target instanceof HTMLElement&&P.target.classList.contains("action-label")&&a(!0,!0)};T.add(b.nm(u,b.tw.MOUSE_MOVE,Y,!0))}T.add(S(d.delay,!1,$)),f=T},y=b.nm(u,b.tw.MOUSE_OVER,g,!0),C=()=>{if(f)return;const T={targetElements:[u],dispose:()=>{}},F=new _.SL,B=()=>a(!0,!0);F.add(b.nm(u,b.tw.BLUR,B,!0)),F.add(S(d.delay,!1,T)),f=F},L=b.nm(u,b.tw.FOCUS,C,!0);return{show:T=>{a(!1,!0),S(0,T)},hide:()=>{a(!0,!0)},update:(T,F)=>qt(this,null,function*(){i=T,yield v==null?void 0:v.update(i,void 0,F)}),dispose:()=>{y.dispose(),L.dispose(),a(!0,!0)}}}},56811:function(Pt,Ke,e){"use strict";e.d(Ke,{T:function(){return E},h:function(){return c}});var b=e(65321),z=e(25670);const r=new RegExp(`(\\\\)?\\$\\((${z.k.iconNameExpression}(?:${z.k.iconModifierExpression})?)\\)`,"g");function E(_){const I=new Array;let M,D=0,p=0;for(;(M=r.exec(_))!==null;){p=M.index||0,D<p&&I.push(_.substring(D,p)),D=(M.index||0)+M[0].length;const[,o,d]=M;I.push(o?`$(${d})`:c({id:d}))}return D<_.length&&I.push(_.substring(D)),I}function c(_){const I=b.$("span");return I.classList.add(...z.k.asClassNameArray(_)),I}},97862:function(Pt,Ke,e){"use strict";e.d(Ke,{pG:function(){return f},g4:function(){return i}});var b=e(65321),z=e(4850),r=e(94079),E=e(90317),c=e(35996),_=e(59740),I=e(93794),M=e(4669);class D{constructor(a,S=0,g=a.length,y=S-1){this.items=a,this.start=S,this.end=g,this.index=y}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class p{constructor(a=[],S=10){this._initialize(a),this._limit=S,this._onChange()}getHistory(){return this._elements}add(a){this._history.delete(a),this._history.add(a),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(a){return this._history.has(a)}_onChange(){this._reduceToLimit();const a=this._elements;this._navigator=new D(a,0,a.length,a.length)}_reduceToLimit(){const a=this._elements;a.length>this._limit&&this._initialize(a.slice(a.length-this._limit))}_currentPosition(){const a=this._navigator.current();return a?this._elements.indexOf(a):-1}_initialize(a){this._history=new Set;for(const S of a)this._history.add(S)}get _elements(){const a=[];return this._history.forEach(S=>a.push(S)),a}}var o=e(36248),d=e(63580);const u=b.$,i={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class n extends I.${constructor(a,S,g){var y;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new M.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new M.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=S,this.options=g,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(y=this.options.tooltip)!==null&&y!==void 0?y:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=b.R3(a,u(".monaco-inputbox.idle"));const C=this.options.flexibleHeight?"textarea":"input",L=b.R3(this.element,u(".ibwrapper"));if(this.input=b.R3(L,u(C+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=b.R3(L,u("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new _.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),b.R3(a,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(F=>this.input.scrollTop=F.scrollTop));const O=this._register(new z.Y(a.ownerDocument,"selectionchange")),T=M.ju.filter(O.event,()=>{const F=a.ownerDocument.getSelection();return(F==null?void 0:F.anchorNode)===L});this._register(T(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new E.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(a){this.placeholder=a,this.input.setAttribute("placeholder",a)}setTooltip(a){this.tooltip=a,this.input.title=a}get inputElement(){return this.input}get value(){return this.input.value}set value(a){this.input.value!==a&&(this.input.value=a,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:b.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return b.H9(this.input)}select(a=null){this.input.select(),a&&(this.input.setSelectionRange(a.start,a.end),a.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(a){this.input.style.width=`calc(100% - ${a}px)`,this.mirror&&(this.mirror.style.paddingRight=a+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const a=this.cachedContentHeight,S=this.cachedHeight,g=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:a,height:S}),this.scrollableElement.setScrollPosition({scrollTop:g})}showMessage(a,S){if(this.state==="open"&&(0,o.fS)(this.message,a))return;this.message=a,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(a.type));const g=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${b.XT(g.border,"transparent")}`,this.message.content&&(this.hasFocus()||S)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let a=null;return this.validation&&(a=this.validation(this.value),a?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(a)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),a==null?void 0:a.type}stylesForType(a){const S=this.options.inputBoxStyles;switch(a){case 1:return{border:S.inputValidationInfoBorder,background:S.inputValidationInfoBackground,foreground:S.inputValidationInfoForeground};case 2:return{border:S.inputValidationWarningBorder,background:S.inputValidationWarningBackground,foreground:S.inputValidationWarningForeground};default:return{border:S.inputValidationErrorBorder,background:S.inputValidationErrorBackground,foreground:S.inputValidationErrorForeground}}}classForType(a){switch(a){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let a;const S=()=>a.style.width=b.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:y=>{var C,L;if(!this.message)return null;a=b.R3(y,u(".monaco-inputbox-container")),S();const O={inline:!0,className:"monaco-inputbox-message"},T=this.message.formatContent?(0,r.BO)(this.message.content,O):(0,r.IY)(this.message.content,O);T.classList.add(this.classForType(this.message.type));const F=this.stylesForType(this.message.type);return T.style.backgroundColor=(C=F.background)!==null&&C!==void 0?C:"",T.style.color=(L=F.foreground)!==null&&L!==void 0?L:"",T.style.border=F.border?`1px solid ${F.border}`:"",b.R3(a,T),null},onHide:()=>{this.state="closed"},layout:S});let g;this.message.type===3?g=d.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?g=d.NC("alertWarningMessage","Warning: {0}",this.message.content):g=d.NC("alertInfoMessage","Info: {0}",this.message.content),c.Z9(g),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const a=this.value,g=a.charCodeAt(a.length-1)===10?" ":"";(a+g).replace(/\u000c/g,"")?this.mirror.textContent=a+g:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var a,S,g;const y=this.options.inputBoxStyles,C=(a=y.inputBackground)!==null&&a!==void 0?a:"",L=(S=y.inputForeground)!==null&&S!==void 0?S:"",O=(g=y.inputBorder)!==null&&g!==void 0?g:"";this.element.style.backgroundColor=C,this.element.style.color=L,this.input.style.backgroundColor="inherit",this.input.style.color=L,this.element.style.border=`1px solid ${b.XT(O,"transparent")}`}layout(){if(!this.mirror)return;const a=this.cachedContentHeight;this.cachedContentHeight=b.wn(this.mirror),a!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(a){const S=this.inputElement,g=S.selectionStart,y=S.selectionEnd,C=S.value;g!==null&&y!==null&&(this.value=C.substr(0,g)+a+C.substr(y),S.setSelectionRange(g+1,g+1),this.layout())}dispose(){var a;this._hideMessage(),this.message=null,(a=this.actionbar)===null||a===void 0||a.dispose(),super.dispose()}}class f extends n{constructor(a,S,g){const y=d.NC({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),C=d.NC({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(a,S,g),this._onDidFocus=this._register(new M.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new p(g.history,100);const L=()=>{if(g.showHistoryHint&&g.showHistoryHint()&&!this.placeholder.endsWith(y)&&!this.placeholder.endsWith(C)&&this.history.getHistory().length){const O=this.placeholder.endsWith(")")?y:C,T=this.placeholder+O;g.showPlaceholderOnFocus&&!b.H9(this.input)?this.placeholder=T:this.setPlaceHolder(T)}};this.observer=new MutationObserver((O,T)=>{O.forEach(F=>{F.target.textContent||L()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>L()),this.onblur(this.input,()=>{const O=T=>{if(this.placeholder.endsWith(T)){const F=this.placeholder.slice(0,this.placeholder.length-T.length);return g.showPlaceholderOnFocus?this.placeholder=F:this.setPlaceHolder(F),!0}else return!1};O(C)||O(y)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(a){this.value&&(a||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let a=this.getNextValue();a&&(a=a===this.value?this.getNextValue():a),this.value=a!=null?a:"",c.i7(this.value?this.value:d.NC("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let a=this.getPreviousValue();a&&(a=a===this.value?this.getPreviousValue():a),a&&(this.value=a,c.i7(this.value))}setPlaceHolder(a){super.setPlaceHolder(a),this.setTooltip(a)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let a=this.history.current();return a||(a=this.history.last(),this.history.next()),a}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},35190:function(Pt,Ke,e){"use strict";e.d(Ke,{e:function(){return I},F:function(){return _}});var b=e(65321),z=e(8030),r=e(36248),E=e(63580);const c=b.$,_={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class I{constructor(D,p,o){this.os=p,this.keyElements=new Set,this.options=o||Object.create(null);const d=this.options.keybindingLabelForeground;this.domNode=b.R3(D,c(".monaco-keybinding")),d&&(this.domNode.style.color=d),this.didEverRender=!1,D.appendChild(this.domNode)}get element(){return this.domNode}set(D,p){this.didEverRender&&this.keybinding===D&&I.areSame(this.matches,p)||(this.keybinding=D,this.matches=p,this.render())}render(){var D;if(this.clear(),this.keybinding){const p=this.keybinding.getChords();p[0]&&this.renderChord(this.domNode,p[0],this.matches?this.matches.firstPart:null);for(let d=1;d<p.length;d++)b.R3(this.domNode,c("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,p[d],this.matches?this.matches.chordPart:null);const o=(D=this.options.disableTitle)!==null&&D!==void 0&&D?void 0:this.keybinding.getAriaLabel()||void 0;o!==void 0?this.domNode.title=o:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){b.PO(this.domNode),this.keyElements.clear()}renderChord(D,p,o){const d=z.xo.modifierLabels[this.os];p.ctrlKey&&this.renderKey(D,d.ctrlKey,!!(o!=null&&o.ctrlKey),d.separator),p.shiftKey&&this.renderKey(D,d.shiftKey,!!(o!=null&&o.shiftKey),d.separator),p.altKey&&this.renderKey(D,d.altKey,!!(o!=null&&o.altKey),d.separator),p.metaKey&&this.renderKey(D,d.metaKey,!!(o!=null&&o.metaKey),d.separator);const u=p.keyLabel;u&&this.renderKey(D,u,!!(o!=null&&o.keyCode),"")}renderKey(D,p,o,d){b.R3(D,this.createKeyElement(p,o?".highlight":"")),d&&b.R3(D,c("span.monaco-keybinding-key-separator",void 0,d))}renderUnbound(D){b.R3(D,this.createKeyElement((0,E.NC)("unbound","Unbound")))}createKeyElement(D,p=""){const o=c("span.monaco-keybinding-key"+p,void 0,D);return this.keyElements.add(o),this.options.keybindingLabelBackground&&(o.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(o.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(o.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(o.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),o}static areSame(D,p){return D===p||!D&&!p?!0:!!D&&!!p&&(0,r.fS)(D.firstPart,p.firstPart)&&(0,r.fS)(D.chordPart,p.chordPart)}}},72010:function(Pt,Ke,e){"use strict";e.d(Ke,{kX:function(){return O},Bv:function(){return Y}});var b=e(23547),z=e(65321),r=e(4850),E=e(10553),c=e(59740),_=e(9488),I=e(15393),M=e(49898),D=e(4669),p=e(5976),o=e(61134),d=e(76633);function u(P,w){const V=[];for(const R of w){if(P.start>=R.range.end)continue;if(P.end<R.range.start)break;const A=o.e.intersect(P,R.range);o.e.isEmpty(A)||V.push({range:A,size:R.size})}return V}function i({start:P,end:w},V){return{start:P+V,end:w+V}}function n(P){const w=[];let V=null;for(const R of P){const A=R.range.start,H=R.range.end,U=R.size;if(V&&U===V.size){V.range.end=H;continue}V={range:{start:A,end:H},size:U},w.push(V)}return w}function f(...P){return n(P.reduce((w,V)=>w.concat(V),[]))}class v{get paddingTop(){return this._paddingTop}set paddingTop(w){this._size=this._size+w-this._paddingTop,this._paddingTop=w}constructor(w){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=w!=null?w:0,this._size=this._paddingTop}splice(w,V,R=[]){const A=R.length-V,H=u({start:0,end:w},this.groups),U=u({start:w+V,end:Number.POSITIVE_INFINITY},this.groups).map(j=>({range:i(j.range,A),size:j.size})),G=R.map((j,W)=>({range:{start:w+W,end:w+W+1},size:j.size}));this.groups=f(H,G,U),this._size=this._paddingTop+this.groups.reduce((j,W)=>j+W.size*(W.range.end-W.range.start),0)}get count(){const w=this.groups.length;return w?this.groups[w-1].range.end:0}get size(){return this._size}indexAt(w){if(w<0)return-1;if(w<this._paddingTop)return 0;let V=0,R=this._paddingTop;for(const A of this.groups){const H=A.range.end-A.range.start,U=R+H*A.size;if(w<U)return V+Math.floor((w-R)/A.size);V+=H,R=U}return V}indexAfter(w){return Math.min(this.indexAt(w)+1,this.count)}positionAt(w){if(w<0)return-1;let V=0,R=0;for(const A of this.groups){const H=A.range.end-A.range.start,U=R+H;if(w<U)return this._paddingTop+V+(w-R)*A.size;V+=H*A.size,R=U}return-1}}function a(P){var w;try{(w=P.parentElement)===null||w===void 0||w.removeChild(P)}catch(V){}}class S{constructor(w){this.renderers=w,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(w){let V=this.getTemplateCache(w).pop(),R=!1;if(V)R=this.transactionNodesPendingRemoval.has(V.domNode),R&&this.transactionNodesPendingRemoval.delete(V.domNode);else{const A=(0,z.$)(".monaco-list-row"),U=this.getRenderer(w).renderTemplate(A);V={domNode:A,templateId:w,templateData:U}}return{row:V,isReusingConnectedDomNode:R}}release(w){w&&this.releaseRow(w)}transact(w){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{w()}finally{for(const V of this.transactionNodesPendingRemoval)this.doRemoveNode(V);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(w){const{domNode:V,templateId:R}=w;V&&(this.inTransaction?this.transactionNodesPendingRemoval.add(V):this.doRemoveNode(V)),this.getTemplateCache(R).push(w)}doRemoveNode(w){w.classList.remove("scrolling"),a(w)}getTemplateCache(w){let V=this.cache.get(w);return V||(V=[],this.cache.set(w,V)),V}dispose(){this.cache.forEach((w,V)=>{for(const R of w)this.getRenderer(V).disposeTemplate(R.templateData),R.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(w){const V=this.renderers.get(w);if(!V)throw new Error(`No renderer found for ${w}`);return V}}var g=e(17301),y=function(P,w,V,R){var A=arguments.length,H=A<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,V):R,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(P,w,V,R);else for(var G=P.length-1;G>=0;G--)(U=P[G])&&(H=(A<3?U(H):A>3?U(w,V,H):U(w,V))||H);return A>3&&H&&Object.defineProperty(w,V,H),H};const C={CurrentDragAndDropData:void 0},L={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(P){return[P]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class O{constructor(w){this.elements=w}update(){}getData(){return this.elements}}class T{constructor(w){this.elements=w}update(){}getData(){return this.elements}}class F{constructor(){this.types=[],this.files=[]}update(w){if(w.types&&this.types.splice(0,this.types.length,...w.types),w.files){this.files.splice(0,this.files.length);for(let V=0;V<w.files.length;V++){const R=w.files.item(V);R&&(R.size||R.type)&&this.files.push(R)}}}getData(){return{types:this.types,files:this.files}}}function B(P,w){return Array.isArray(P)&&Array.isArray(w)?(0,_.fS)(P,w):P===w}class ${constructor(w){w!=null&&w.getSetSize?this.getSetSize=w.getSetSize.bind(w):this.getSetSize=(V,R,A)=>A,w!=null&&w.getPosInSet?this.getPosInSet=w.getPosInSet.bind(w):this.getPosInSet=(V,R)=>R+1,w!=null&&w.getRole?this.getRole=w.getRole.bind(w):this.getRole=V=>"listitem",w!=null&&w.isChecked?this.isChecked=w.isChecked.bind(w):this.isChecked=V=>{}}}class Y{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(w){if(w!==this._horizontalScrolling){if(w&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=w,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const V of this.items)this.measureItemWidth(V);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,z.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(w,V,R,A=L){var H,U,G,j,W,K,m,J,X,ie,le,fe,Le;if(this.virtualDelegate=V,this.domId=`list_id_${++Y.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new I.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=p.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=p.JT.None,this.onDragLeaveTimeout=p.JT.None,this.disposables=new p.SL,this._onDidChangeContentHeight=new D.Q5,this._onDidChangeContentWidth=new D.Q5,this.onDidChangeContentHeight=D.ju.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,A.horizontalScrolling&&A.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new v((H=A.paddingTop)!==null&&H!==void 0?H:0);for(const Te of R)this.renderers.set(Te.templateId,Te);this.cache=this.disposables.add(new S(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof A.mouseSupport=="boolean"?A.mouseSupport:!0),this._horizontalScrolling=(U=A.horizontalScrolling)!==null&&U!==void 0?U:L.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof A.paddingBottom=="undefined"?0:A.paddingBottom,this.accessibilityProvider=new $(A.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((G=A.transformOptimization)!==null&&G!==void 0?G:L.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(E.o.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new d.Rm({forceIntegerValues:!0,smoothScrollDuration:(j=A.smoothScrolling)!==null&&j!==void 0&&j?125:0,scheduleAtNextAnimationFrame:Te=>(0,z.jL)((0,z.Jj)(this.domNode),Te)})),this.scrollableElement=this.disposables.add(new c.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(W=A.alwaysConsumeMouseWheel)!==null&&W!==void 0?W:L.alwaysConsumeMouseWheel,horizontal:1,vertical:(K=A.verticalScrollMode)!==null&&K!==void 0?K:L.verticalScrollMode,useShadows:(m=A.useShadows)!==null&&m!==void 0?m:L.useShadows,mouseWheelScrollSensitivity:A.mouseWheelScrollSensitivity,fastScrollSensitivity:A.fastScrollSensitivity,scrollByPage:A.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),w.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,z.nm)(this.rowsContainer,E.t.Change,Te=>this.onTouchChange(Te))),this.disposables.add((0,z.nm)(this.scrollableElement.getDomNode(),"scroll",Te=>Te.target.scrollTop=0)),this.disposables.add((0,z.nm)(this.domNode,"dragover",Te=>this.onDragOver(this.toDragEvent(Te)))),this.disposables.add((0,z.nm)(this.domNode,"drop",Te=>this.onDrop(this.toDragEvent(Te)))),this.disposables.add((0,z.nm)(this.domNode,"dragleave",Te=>this.onDragLeave(this.toDragEvent(Te)))),this.disposables.add((0,z.nm)(this.domNode,"dragend",Te=>this.onDragEnd(Te))),this.setRowLineHeight=(J=A.setRowLineHeight)!==null&&J!==void 0?J:L.setRowLineHeight,this.setRowHeight=(X=A.setRowHeight)!==null&&X!==void 0?X:L.setRowHeight,this.supportDynamicHeights=(ie=A.supportDynamicHeights)!==null&&ie!==void 0?ie:L.supportDynamicHeights,this.dnd=(le=A.dnd)!==null&&le!==void 0?le:this.disposables.add(L.dnd),this.layout((fe=A.initialSize)===null||fe===void 0?void 0:fe.height,(Le=A.initialSize)===null||Le===void 0?void 0:Le.width)}updateOptions(w){w.paddingBottom!==void 0&&(this.paddingBottom=w.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),w.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(w.smoothScrolling?125:0),w.horizontalScrolling!==void 0&&(this.horizontalScrolling=w.horizontalScrolling);let V;if(w.scrollByPage!==void 0&&(V=Ln(Xi({},V!=null?V:{}),{scrollByPage:w.scrollByPage})),w.mouseWheelScrollSensitivity!==void 0&&(V=Ln(Xi({},V!=null?V:{}),{mouseWheelScrollSensitivity:w.mouseWheelScrollSensitivity})),w.fastScrollSensitivity!==void 0&&(V=Ln(Xi({},V!=null?V:{}),{fastScrollSensitivity:w.fastScrollSensitivity})),V&&this.scrollableElement.updateOptions(V),w.paddingTop!==void 0&&w.paddingTop!==this.rangeMap.paddingTop){const R=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),A=w.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=w.paddingTop,this.render(R,Math.max(0,this.lastRenderTop+A),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(w,V,R=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(w,V,R)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(w,V,R=[]){const A=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),H={start:w,end:w+V},U=o.e.intersect(A,H),G=new Map;for(let Ne=U.end-1;Ne>=U.start;Ne--){const We=this.items[Ne];if(We.dragStartDisposable.dispose(),We.checkedDisposable.dispose(),We.row){let ze=G.get(We.templateId);ze||(ze=[],G.set(We.templateId,ze));const Se=this.renderers.get(We.templateId);Se&&Se.disposeElement&&Se.disposeElement(We.element,Ne,We.row.templateData,We.size),ze.push(We.row)}We.row=null}const j={start:w+V,end:this.items.length},W=o.e.intersect(j,A),K=o.e.relativeComplement(j,A),m=R.map(Ne=>({id:String(this.itemId++),element:Ne,templateId:this.virtualDelegate.getTemplateId(Ne),size:this.virtualDelegate.getHeight(Ne),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ne),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:p.JT.None,checkedDisposable:p.JT.None}));let J;w===0&&V>=this.items.length?(this.rangeMap=new v(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,m),J=this.items,this.items=m):(this.rangeMap.splice(w,V,m),J=this.items.splice(w,V,...m));const X=R.length-V,ie=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),le=i(W,X),fe=o.e.intersect(ie,le);for(let Ne=fe.start;Ne<fe.end;Ne++)this.updateItemInDOM(this.items[Ne],Ne);const Le=o.e.relativeComplement(le,ie);for(const Ne of Le)for(let We=Ne.start;We<Ne.end;We++)this.removeItemFromDOM(We);const pe=K.map(Ne=>i(Ne,X)),De=[{start:w,end:w+R.length},...pe].map(Ne=>o.e.intersect(ie,Ne)),ae=this.getNextToLastElement(De);for(const Ne of De)for(let We=Ne.start;We<Ne.end;We++){const ze=this.items[We],Se=G.get(ze.templateId),ne=Se==null?void 0:Se.pop();this.insertItemInDOM(We,ae,ne)}for(const Ne of G.values())for(const We of Ne)this.cache.release(We);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),J.map(Ne=>Ne.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,z.jL)((0,z.Jj)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let w=0;for(const V of this.items)typeof V.width!="undefined"&&(w=Math.max(w,V.width));this.scrollWidth=w,this.scrollableElement.setScrollDimensions({scrollWidth:w===0?0:w+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const w of this.items)w.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(w){return this.items[w].element}indexOf(w){return this.items.findIndex(V=>V.element===w)}domElement(w){const V=this.items[w].row;return V&&V.domNode}elementHeight(w){return this.items[w].size}elementTop(w){return this.rangeMap.positionAt(w)}indexAt(w){return this.rangeMap.indexAt(w)}indexAfter(w){return this.rangeMap.indexAfter(w)}layout(w,V){const R={height:typeof w=="number"?w:(0,z.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,R.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(R),typeof V!="undefined"&&(this.renderWidth=V,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof V=="number"?V:(0,z.FK)(this.domNode)})}render(w,V,R,A,H,U=!1){const G=this.getRenderRange(V,R),j=o.e.relativeComplement(G,w),W=o.e.relativeComplement(w,G),K=this.getNextToLastElement(j);if(U){const m=o.e.intersect(w,G);for(let J=m.start;J<m.end;J++)this.updateItemInDOM(this.items[J],J)}this.cache.transact(()=>{for(const m of W)for(let J=m.start;J<m.end;J++)this.removeItemFromDOM(J);for(const m of j)for(let J=m.start;J<m.end;J++)this.insertItemInDOM(J,K)}),A!==void 0&&(this.rowsContainer.style.left=`-${A}px`),this.rowsContainer.style.top=`-${V}px`,this.horizontalScrolling&&H!==void 0&&(this.rowsContainer.style.width=`${Math.max(H,this.renderWidth)}px`),this.lastRenderTop=V,this.lastRenderHeight=R}insertItemInDOM(w,V,R){const A=this.items[w];let H=!1;if(!A.row)if(R)A.row=R;else{const K=this.cache.alloc(A.templateId);A.row=K.row,H=K.isReusingConnectedDomNode}const U=this.accessibilityProvider.getRole(A.element)||"listitem";A.row.domNode.setAttribute("role",U);const G=this.accessibilityProvider.isChecked(A.element);if(typeof G=="boolean")A.row.domNode.setAttribute("aria-checked",String(!!G));else if(G){const K=m=>A.row.domNode.setAttribute("aria-checked",String(!!m));K(G.value),A.checkedDisposable=G.onDidChange(K)}(H||!A.row.domNode.parentElement)&&(V?this.rowsContainer.insertBefore(A.row.domNode,V):this.rowsContainer.appendChild(A.row.domNode)),this.updateItemInDOM(A,w);const j=this.renderers.get(A.templateId);if(!j)throw new Error(`No renderer found for template id ${A.templateId}`);j==null||j.renderElement(A.element,w,A.row.templateData,A.size);const W=this.dnd.getDragURI(A.element);A.dragStartDisposable.dispose(),A.row.domNode.draggable=!!W,W&&(A.dragStartDisposable=(0,z.nm)(A.row.domNode,"dragstart",K=>this.onDragStart(A.element,W,K))),this.horizontalScrolling&&(this.measureItemWidth(A),this.eventuallyUpdateScrollWidth())}measureItemWidth(w){if(!w.row||!w.row.domNode)return;w.row.domNode.style.width="fit-content",w.width=(0,z.FK)(w.row.domNode);const V=(0,z.Jj)(w.row.domNode).getComputedStyle(w.row.domNode);V.paddingLeft&&(w.width+=parseFloat(V.paddingLeft)),V.paddingRight&&(w.width+=parseFloat(V.paddingRight)),w.row.domNode.style.width=""}updateItemInDOM(w,V){w.row.domNode.style.top=`${this.elementTop(V)}px`,this.setRowHeight&&(w.row.domNode.style.height=`${w.size}px`),this.setRowLineHeight&&(w.row.domNode.style.lineHeight=`${w.size}px`),w.row.domNode.setAttribute("data-index",`${V}`),w.row.domNode.setAttribute("data-last-element",V===this.length-1?"true":"false"),w.row.domNode.setAttribute("data-parity",V%2===0?"even":"odd"),w.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(w.element,V,this.length))),w.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(w.element,V))),w.row.domNode.setAttribute("id",this.getElementDomId(V)),w.row.domNode.classList.toggle("drop-target",w.dropTarget)}removeItemFromDOM(w){const V=this.items[w];if(V.dragStartDisposable.dispose(),V.checkedDisposable.dispose(),V.row){const R=this.renderers.get(V.templateId);R&&R.disposeElement&&R.disposeElement(V.element,w,V.row.templateData,V.size),this.cache.release(V.row),V.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(w,V){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:w,reuseAnimation:V})}get scrollTop(){return this.getScrollTop()}set scrollTop(w){this.setScrollTop(w)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"click")).event,w=>this.toMouseEvent(w),this.disposables)}get onMouseDblClick(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"dblclick")).event,w=>this.toMouseEvent(w),this.disposables)}get onMouseMiddleClick(){return D.ju.filter(D.ju.map(this.disposables.add(new r.Y(this.domNode,"auxclick")).event,w=>this.toMouseEvent(w),this.disposables),w=>w.browserEvent.button===1,this.disposables)}get onMouseDown(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"mousedown")).event,w=>this.toMouseEvent(w),this.disposables)}get onMouseOver(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseover")).event,w=>this.toMouseEvent(w),this.disposables)}get onMouseOut(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseout")).event,w=>this.toMouseEvent(w),this.disposables)}get onContextMenu(){return D.ju.any(D.ju.map(this.disposables.add(new r.Y(this.domNode,"contextmenu")).event,w=>this.toMouseEvent(w),this.disposables),D.ju.map(this.disposables.add(new r.Y(this.domNode,E.t.Contextmenu)).event,w=>this.toGestureEvent(w),this.disposables))}get onTouchStart(){return D.ju.map(this.disposables.add(new r.Y(this.domNode,"touchstart")).event,w=>this.toTouchEvent(w),this.disposables)}get onTap(){return D.ju.map(this.disposables.add(new r.Y(this.rowsContainer,E.t.Tap)).event,w=>this.toGestureEvent(w),this.disposables)}toMouseEvent(w){const V=this.getItemIndexFromEventTarget(w.target||null),R=typeof V=="undefined"?void 0:this.items[V],A=R&&R.element;return{browserEvent:w,index:V,element:A}}toTouchEvent(w){const V=this.getItemIndexFromEventTarget(w.target||null),R=typeof V=="undefined"?void 0:this.items[V],A=R&&R.element;return{browserEvent:w,index:V,element:A}}toGestureEvent(w){const V=this.getItemIndexFromEventTarget(w.initialTarget||null),R=typeof V=="undefined"?void 0:this.items[V],A=R&&R.element;return{browserEvent:w,index:V,element:A}}toDragEvent(w){const V=this.getItemIndexFromEventTarget(w.target||null),R=typeof V=="undefined"?void 0:this.items[V],A=R&&R.element;return{browserEvent:w,index:V,element:A}}onScroll(w){try{const V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(V,w.scrollTop,w.height,w.scrollLeft,w.scrollWidth),this.supportDynamicHeights&&this._rerender(w.scrollTop,w.height,w.inSmoothScrolling)}catch(V){throw console.error("Got bad scroll event:",w),V}}onTouchChange(w){w.preventDefault(),w.stopPropagation(),this.scrollTop-=w.translationY}onDragStart(w,V,R){var A,H;if(!R.dataTransfer)return;const U=this.dnd.getDragElements(w);if(R.dataTransfer.effectAllowed="copyMove",R.dataTransfer.setData(b.g.TEXT,V),R.dataTransfer.setDragImage){let G;this.dnd.getDragLabel&&(G=this.dnd.getDragLabel(U,R)),typeof G=="undefined"&&(G=String(U.length));const j=(0,z.$)(".monaco-drag-image");j.textContent=G;const K=(m=>{for(;m&&!m.classList.contains("monaco-workbench");)m=m.parentElement;return m||this.domNode.ownerDocument})(this.domNode);K.appendChild(j),R.dataTransfer.setDragImage(j,-10,-10),setTimeout(()=>K.removeChild(j),0)}this.domNode.classList.add("dragging"),this.currentDragData=new O(U),C.CurrentDragAndDropData=new T(U),(H=(A=this.dnd).onDragStart)===null||H===void 0||H.call(A,this.currentDragData,R)}onDragOver(w){var V;if(w.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),C.CurrentDragAndDropData&&C.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(w.browserEvent),!w.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(C.CurrentDragAndDropData)this.currentDragData=C.CurrentDragAndDropData;else{if(!w.browserEvent.dataTransfer.types)return!1;this.currentDragData=new F}const R=this.dnd.onDragOver(this.currentDragData,w.element,w.index,w.browserEvent);if(this.canDrop=typeof R=="boolean"?R:R.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;w.browserEvent.dataTransfer.dropEffect=typeof R!="boolean"&&R.effect===0?"copy":"move";let A;if(typeof R!="boolean"&&R.feedback?A=R.feedback:typeof w.index=="undefined"?A=[-1]:A=[w.index],A=(0,_.EB)(A).filter(H=>H>=-1&&H<this.length).sort((H,U)=>H-U),A=A[0]===-1?[-1]:A,B(this.currentDragFeedback,A))return!0;if(this.currentDragFeedback=A,this.currentDragFeedbackDisposable.dispose(),A[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,p.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const H of A){const U=this.items[H];U.dropTarget=!0,(V=U.row)===null||V===void 0||V.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,p.OF)(()=>{var H;for(const U of A){const G=this.items[U];G.dropTarget=!1,(H=G.row)===null||H===void 0||H.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(w){var V,R;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,I.Vg)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((R=(V=this.dnd).onDragLeave)===null||R===void 0||R.call(V,this.currentDragData,w.element,w.index,w.browserEvent))}onDrop(w){if(!this.canDrop)return;const V=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,C.CurrentDragAndDropData=void 0,!(!V||!w.browserEvent.dataTransfer)&&(w.browserEvent.preventDefault(),V.update(w.browserEvent.dataTransfer),this.dnd.drop(V,w.element,w.index,w.browserEvent))}onDragEnd(w){var V,R;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,C.CurrentDragAndDropData=void 0,(R=(V=this.dnd).onDragEnd)===null||R===void 0||R.call(V,w)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=p.JT.None}setupDragAndDropScrollTopAnimation(w){if(!this.dragOverAnimationDisposable){const V=(0,z.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,z.jt)((0,z.Jj)(this.domNode),this.animateDragAndDropScrollTop.bind(this,V))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,I.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=w.pageY}animateDragAndDropScrollTop(w){if(this.dragOverMouseY===void 0)return;const V=this.dragOverMouseY-w,R=this.renderHeight-35;V<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(V-35))):V>R&&(this.scrollTop+=Math.min(14,Math.floor(.3*(V-R))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(w){const V=this.scrollableElement.getDomNode();let R=w;for(;R instanceof HTMLElement&&R!==this.rowsContainer&&V.contains(R);){const A=R.getAttribute("data-index");if(A){const H=Number(A);if(!isNaN(H))return H}R=R.parentElement}}getRenderRange(w,V){return{start:this.rangeMap.indexAt(w),end:this.rangeMap.indexAfter(w+V-1)}}_rerender(w,V,R){const A=this.getRenderRange(w,V);let H,U;w===this.elementTop(A.start)?(H=A.start,U=0):A.end-A.start>1&&(H=A.start+1,U=this.elementTop(H)-w);let G=0;for(;;){const j=this.getRenderRange(w,V);let W=!1;for(let K=j.start;K<j.end;K++){const m=this.probeDynamicHeight(K);m!==0&&this.rangeMap.splice(K,1,[this.items[K]]),G+=m,W=W||m!==0}if(!W){G!==0&&this.eventuallyUpdateScrollDimensions();const K=o.e.relativeComplement(A,j);for(const J of K)for(let X=J.start;X<J.end;X++)this.items[X].row&&this.removeItemFromDOM(X);const m=o.e.relativeComplement(j,A);for(const J of m)for(let X=J.start;X<J.end;X++){const ie=X+1,le=ie<this.items.length?this.items[ie].row:null,fe=le?le.domNode:null;this.insertItemInDOM(X,fe)}for(let J=j.start;J<j.end;J++)this.items[J].row&&this.updateItemInDOM(this.items[J],J);if(typeof H=="number"){const J=this.scrollable.getFutureScrollPosition().scrollTop-w,X=this.elementTop(H)-U+J;this.setScrollTop(X,R)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(w){var V,R,A;const H=this.items[w];if(this.virtualDelegate.getDynamicHeight){const W=this.virtualDelegate.getDynamicHeight(H.element);if(W!==null){const K=H.size;return H.size=W,H.lastDynamicHeightWidth=this.renderWidth,W-K}}if(!H.hasDynamicHeight||H.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(H.element))return 0;const U=H.size;if(H.row)return H.row.domNode.style.height="",H.size=H.row.domNode.offsetHeight,H.lastDynamicHeightWidth=this.renderWidth,H.size-U;const{row:G}=this.cache.alloc(H.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const j=this.renderers.get(H.templateId);if(!j)throw new g.he("Missing renderer for templateId: "+H.templateId);return j.renderElement(H.element,w,G.templateData,void 0),H.size=G.domNode.offsetHeight,(V=j.disposeElement)===null||V===void 0||V.call(j,H.element,w,G.templateData,void 0),(A=(R=this.virtualDelegate).setDynamicHeight)===null||A===void 0||A.call(R,H.element,H.size),H.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),H.size-U}getNextToLastElement(w){const V=w[w.length-1];if(!V)return null;const R=this.items[V.end];return!R||!R.row?null:R.row.domNode}getElementDomId(w){return`${this.domId}_${w}`}dispose(){var w,V;for(const R of this.items)if(R.dragStartDisposable.dispose(),R.checkedDisposable.dispose(),R.row){const A=this.renderers.get(R.row.templateId);A&&((w=A.disposeElement)===null||w===void 0||w.call(A,R.element,-1,R.row.templateData,void 0),A.disposeTemplate(R.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(V=this.dragOverAnimationDisposable)===null||V===void 0||V.dispose(),this.disposables.dispose()}}Y.InstanceCount=0,y([M.H],Y.prototype,"onMouseClick",null),y([M.H],Y.prototype,"onMouseDblClick",null),y([M.H],Y.prototype,"onMouseMiddleClick",null),y([M.H],Y.prototype,"onMouseDown",null),y([M.H],Y.prototype,"onMouseOver",null),y([M.H],Y.prototype,"onMouseOut",null),y([M.H],Y.prototype,"onContextMenu",null),y([M.H],Y.prototype,"onTouchStart",null),y([M.H],Y.prototype,"onTap",null)},69047:function(Pt,Ke,e){"use strict";e.d(Ke,{wD:function(){return ie},aV:function(){return ze},sx:function(){return X},AA:function(){return A},dk:function(){return P},iK:function(){return V},cK:function(){return F},$B:function(){return Y},hD:function(){return $},wn:function(){return K},Zo:function(){return W},Et:function(){return w},uZ:function(){return le}});var b=e(65321),z=e(4850),r=e(59069),E=e(10553),c=e(35996);class _{constructor(ne){this.spliceables=ne}splice(ne,ce,Oe){this.spliceables.forEach(Pe=>Pe.splice(ne,ce,Oe))}}var I=e(9488),M=e(15393),D=e(41264),p=e(49898),o=e(4669),d=e(60075),u=e(5976),i=e(59870),n=e(1432),f=e(98401),v=e(5520);class a extends Error{constructor(ne,ce){super(`ListError [${ne}] ${ce}`)}}var S=e(72010),g=e(7317),y=function(Se,ne,ce,Oe){var Pe=arguments.length,Me=Pe<3?ne:Oe===null?Oe=Object.getOwnPropertyDescriptor(ne,ce):Oe,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Me=Reflect.decorate(Se,ne,ce,Oe);else for(var _e=Se.length-1;_e>=0;_e--)(ye=Se[_e])&&(Me=(Pe<3?ye(Me):Pe>3?ye(ne,ce,Me):ye(ne,ce))||Me);return Pe>3&&Me&&Object.defineProperty(ne,ce,Me),Me};class C{constructor(ne){this.trait=ne,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ne){return ne}renderElement(ne,ce,Oe){const Pe=this.renderedElements.findIndex(Me=>Me.templateData===Oe);if(Pe>=0){const Me=this.renderedElements[Pe];this.trait.unrender(Oe),Me.index=ce}else{const Me={index:ce,templateData:Oe};this.renderedElements.push(Me)}this.trait.renderIndex(ce,Oe)}splice(ne,ce,Oe){const Pe=[];for(const Me of this.renderedElements)Me.index<ne?Pe.push(Me):Me.index>=ne+ce&&Pe.push({index:Me.index+Oe-ce,templateData:Me.templateData});this.renderedElements=Pe}renderIndexes(ne){for(const{index:ce,templateData:Oe}of this.renderedElements)ne.indexOf(ce)>-1&&this.trait.renderIndex(ce,Oe)}disposeTemplate(ne){const ce=this.renderedElements.findIndex(Oe=>Oe.templateData===ne);ce<0||this.renderedElements.splice(ce,1)}}class L{get name(){return this._trait}get renderer(){return new C(this)}constructor(ne){this._trait=ne,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new o.Q5,this.onChange=this._onChange.event}splice(ne,ce,Oe){var Pe;ce=Math.max(0,Math.min(ce,this.length-ne));const Me=Oe.length-ce,ye=ne+ce,_e=[];let se=0;for(;se<this.sortedIndexes.length&&this.sortedIndexes[se]<ne;)_e.push(this.sortedIndexes[se++]);for(let xe=0;xe<Oe.length;xe++)Oe[xe]&&_e.push(xe+ne);for(;se<this.sortedIndexes.length&&this.sortedIndexes[se]>=ye;)_e.push(this.sortedIndexes[se++]+Me);const ve=this.length+Me;if(this.sortedIndexes.length>0&&_e.length===0&&ve>0){const xe=(Pe=this.sortedIndexes.find(je=>je>=ne))!==null&&Pe!==void 0?Pe:ve-1;_e.push(Math.min(xe,ve-1))}this.renderer.splice(ne,ce,Oe.length),this._set(_e,_e),this.length=ve}renderIndex(ne,ce){ce.classList.toggle(this._trait,this.contains(ne))}unrender(ne){ne.classList.remove(this._trait)}set(ne,ce){return this._set(ne,[...ne].sort(De),ce)}_set(ne,ce,Oe){const Pe=this.indexes,Me=this.sortedIndexes;this.indexes=ne,this.sortedIndexes=ce;const ye=pe(Me,ne);return this.renderer.renderIndexes(ye),this._onChange.fire({indexes:ne,browserEvent:Oe}),Pe}get(){return this.indexes}contains(ne){return(0,I.ry)(this.sortedIndexes,ne,De)>=0}dispose(){(0,u.B9)(this._onChange)}}y([p.H],L.prototype,"renderer",null);class O extends L{constructor(ne){super("selected"),this.setAriaSelected=ne}renderIndex(ne,ce){super.renderIndex(ne,ce),this.setAriaSelected&&(this.contains(ne)?ce.setAttribute("aria-selected","true"):ce.setAttribute("aria-selected","false"))}}class T{constructor(ne,ce,Oe){this.trait=ne,this.view=ce,this.identityProvider=Oe}splice(ne,ce,Oe){if(!this.identityProvider)return this.trait.splice(ne,ce,new Array(Oe.length).fill(!1));const Pe=this.trait.get().map(_e=>this.identityProvider.getId(this.view.element(_e)).toString());if(Pe.length===0)return this.trait.splice(ne,ce,new Array(Oe.length).fill(!1));const Me=new Set(Pe),ye=Oe.map(_e=>Me.has(this.identityProvider.getId(_e).toString()));this.trait.splice(ne,ce,ye)}}function F(Se){return Se.tagName==="INPUT"||Se.tagName==="TEXTAREA"}function B(Se,ne){return Se.classList.contains(ne)?!0:Se.classList.contains("monaco-list")||!Se.parentElement?!1:B(Se.parentElement,ne)}function $(Se){return B(Se,"monaco-editor")}function Y(Se){return B(Se,"monaco-custom-toggle")}function P(Se){return B(Se,"action-item")}function w(Se){return B(Se,"monaco-tree-sticky-row")}function V(Se){return Se.tagName==="A"&&Se.classList.contains("monaco-button")||Se.tagName==="DIV"&&Se.classList.contains("monaco-button-dropdown")?!0:Se.classList.contains("monaco-list")||!Se.parentElement?!1:V(Se.parentElement)}class R{get onKeyDown(){return o.ju.chain(this.disposables.add(new z.Y(this.view.domNode,"keydown")).event,ne=>ne.filter(ce=>!F(ce.target)).map(ce=>new r.y(ce)))}constructor(ne,ce,Oe){this.list=ne,this.view=ce,this.disposables=new u.SL,this.multipleSelectionDisposables=new u.SL,this.multipleSelectionSupport=Oe.multipleSelectionSupport,this.disposables.add(this.onKeyDown(Pe=>{switch(Pe.keyCode){case 3:return this.onEnter(Pe);case 16:return this.onUpArrow(Pe);case 18:return this.onDownArrow(Pe);case 11:return this.onPageUpArrow(Pe);case 12:return this.onPageDownArrow(Pe);case 9:return this.onEscape(Pe);case 31:this.multipleSelectionSupport&&(n.dz?Pe.metaKey:Pe.ctrlKey)&&this.onCtrlA(Pe)}}))}updateOptions(ne){ne.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=ne.multipleSelectionSupport)}onEnter(ne){ne.preventDefault(),ne.stopPropagation(),this.list.setSelection(this.list.getFocus(),ne.browserEvent)}onUpArrow(ne){ne.preventDefault(),ne.stopPropagation(),this.list.focusPrevious(1,!1,ne.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onDownArrow(ne){ne.preventDefault(),ne.stopPropagation(),this.list.focusNext(1,!1,ne.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onPageUpArrow(ne){ne.preventDefault(),ne.stopPropagation(),this.list.focusPreviousPage(ne.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onPageDownArrow(ne){ne.preventDefault(),ne.stopPropagation(),this.list.focusNextPage(ne.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onCtrlA(ne){ne.preventDefault(),ne.stopPropagation(),this.list.setSelection((0,I.w6)(this.list.length),ne.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ne){this.list.getSelection().length&&(ne.preventDefault(),ne.stopPropagation(),this.list.setSelection([],ne.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}y([p.H],R.prototype,"onKeyDown",null);var A;(function(Se){Se[Se.Automatic=0]="Automatic",Se[Se.Trigger=1]="Trigger"})(A||(A={}));var H;(function(Se){Se[Se.Idle=0]="Idle",Se[Se.Typing=1]="Typing"})(H||(H={}));const U=new class{mightProducePrintableCharacter(Se){return Se.ctrlKey||Se.metaKey||Se.altKey?!1:Se.keyCode>=31&&Se.keyCode<=56||Se.keyCode>=21&&Se.keyCode<=30||Se.keyCode>=98&&Se.keyCode<=107||Se.keyCode>=85&&Se.keyCode<=95}};class G{constructor(ne,ce,Oe,Pe,Me){this.list=ne,this.view=ce,this.keyboardNavigationLabelProvider=Oe,this.keyboardNavigationEventFilter=Pe,this.delegate=Me,this.enabled=!1,this.state=H.Idle,this.mode=A.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new u.SL,this.disposables=new u.SL,this.updateOptions(ne.options)}updateOptions(ne){var ce,Oe;!((ce=ne.typeNavigationEnabled)!==null&&ce!==void 0)||ce?this.enable():this.disable(),this.mode=(Oe=ne.typeNavigationMode)!==null&&Oe!==void 0?Oe:A.Automatic}enable(){if(this.enabled)return;let ne=!1;const ce=o.ju.chain(this.enabledDisposables.add(new z.Y(this.view.domNode,"keydown")).event,Me=>Me.filter(ye=>!F(ye.target)).filter(()=>this.mode===A.Automatic||this.triggered).map(ye=>new r.y(ye)).filter(ye=>ne||this.keyboardNavigationEventFilter(ye)).filter(ye=>this.delegate.mightProducePrintableCharacter(ye)).forEach(ye=>b.zB.stop(ye,!0)).map(ye=>ye.browserEvent.key)),Oe=o.ju.debounce(ce,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);o.ju.reduce(o.ju.any(ce,Oe),(Me,ye)=>ye===null?null:(Me||"")+ye,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Oe(this.onClear,this,this.enabledDisposables),ce(()=>ne=!0,void 0,this.enabledDisposables),Oe(()=>ne=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ne;const ce=this.list.getFocus();if(ce.length>0&&ce[0]===this.previouslyFocused){const Oe=(ne=this.list.options.accessibilityProvider)===null||ne===void 0?void 0:ne.getAriaLabel(this.list.element(ce[0]));Oe&&(0,c.Z9)(Oe)}this.previouslyFocused=-1}onInput(ne){if(!ne){this.state=H.Idle,this.triggered=!1;return}const ce=this.list.getFocus(),Oe=ce.length>0?ce[0]:0,Pe=this.state===H.Idle?1:0;this.state=H.Typing;for(let Me=0;Me<this.list.length;Me++){const ye=(Oe+Me+Pe)%this.list.length,_e=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ye)),se=_e&&_e.toString();if(this.list.options.typeNavigationEnabled){if(typeof se!="undefined"){if((0,d.Ji)(ne,se)){this.previouslyFocused=Oe,this.list.setFocus([ye]),this.list.reveal(ye);return}const ve=(0,d.XU)(ne,se);if(ve&&ve[0].end-ve[0].start>1&&ve.length===1){this.previouslyFocused=Oe,this.list.setFocus([ye]),this.list.reveal(ye);return}}}else if(typeof se=="undefined"||(0,d.Ji)(ne,se)){this.previouslyFocused=Oe,this.list.setFocus([ye]),this.list.reveal(ye);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class j{constructor(ne,ce){this.list=ne,this.view=ce,this.disposables=new u.SL;const Oe=o.ju.chain(this.disposables.add(new z.Y(ce.domNode,"keydown")).event,Me=>Me.filter(ye=>!F(ye.target)).map(ye=>new r.y(ye)));o.ju.chain(Oe,Me=>Me.filter(ye=>ye.keyCode===2&&!ye.ctrlKey&&!ye.metaKey&&!ye.shiftKey&&!ye.altKey))(this.onTab,this,this.disposables)}onTab(ne){if(ne.target!==this.view.domNode)return;const ce=this.list.getFocus();if(ce.length===0)return;const Oe=this.view.domElement(ce[0]);if(!Oe)return;const Pe=Oe.querySelector("[tabIndex]");if(!Pe||!(Pe instanceof HTMLElement)||Pe.tabIndex===-1)return;const Me=(0,b.Jj)(Pe).getComputedStyle(Pe);Me.visibility==="hidden"||Me.display==="none"||(ne.preventDefault(),ne.stopPropagation(),Pe.focus())}dispose(){this.disposables.dispose()}}function W(Se){return n.dz?Se.browserEvent.metaKey:Se.browserEvent.ctrlKey}function K(Se){return Se.browserEvent.shiftKey}function m(Se){return(0,b.N5)(Se)&&Se.button===2}const J={isSelectionSingleChangeEvent:W,isSelectionRangeChangeEvent:K};class X{constructor(ne){this.list=ne,this.disposables=new u.SL,this._onPointer=new o.Q5,this.onPointer=this._onPointer.event,ne.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||J),this.mouseSupport=typeof ne.options.mouseSupport=="undefined"||!!ne.options.mouseSupport,this.mouseSupport&&(ne.onMouseDown(this.onMouseDown,this,this.disposables),ne.onContextMenu(this.onContextMenu,this,this.disposables),ne.onMouseDblClick(this.onDoubleClick,this,this.disposables),ne.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(E.o.addTarget(ne.getHTMLElement()))),o.ju.any(ne.onMouseClick,ne.onMouseMiddleClick,ne.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ne){ne.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,ne.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||J))}isSelectionSingleChangeEvent(ne){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(ne):!1}isSelectionRangeChangeEvent(ne){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(ne):!1}isSelectionChangeEvent(ne){return this.isSelectionSingleChangeEvent(ne)||this.isSelectionRangeChangeEvent(ne)}onMouseDown(ne){$(ne.browserEvent.target)||(0,b.vY)()!==ne.browserEvent.target&&this.list.domFocus()}onContextMenu(ne){if(F(ne.browserEvent.target)||$(ne.browserEvent.target))return;const ce=typeof ne.index=="undefined"?[]:[ne.index];this.list.setFocus(ce,ne.browserEvent)}onViewPointer(ne){if(!this.mouseSupport||F(ne.browserEvent.target)||$(ne.browserEvent.target)||ne.browserEvent.isHandledByList)return;ne.browserEvent.isHandledByList=!0;const ce=ne.index;if(typeof ce=="undefined"){this.list.setFocus([],ne.browserEvent),this.list.setSelection([],ne.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(ne))return this.changeSelection(ne);this.list.setFocus([ce],ne.browserEvent),this.list.setAnchor(ce),m(ne.browserEvent)||this.list.setSelection([ce],ne.browserEvent),this._onPointer.fire(ne)}onDoubleClick(ne){if(F(ne.browserEvent.target)||$(ne.browserEvent.target)||this.isSelectionChangeEvent(ne)||ne.browserEvent.isHandledByList)return;ne.browserEvent.isHandledByList=!0;const ce=this.list.getFocus();this.list.setSelection(ce,ne.browserEvent)}changeSelection(ne){const ce=ne.index;let Oe=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ne)){if(typeof Oe=="undefined"){const xe=this.list.getFocus()[0];Oe=xe!=null?xe:ce,this.list.setAnchor(Oe)}const Pe=Math.min(Oe,ce),Me=Math.max(Oe,ce),ye=(0,I.w6)(Pe,Me+1),_e=this.list.getSelection(),se=Le(pe(_e,[Oe]),Oe);if(se.length===0)return;const ve=pe(ye,Te(_e,se));this.list.setSelection(ve,ne.browserEvent),this.list.setFocus([ce],ne.browserEvent)}else if(this.isSelectionSingleChangeEvent(ne)){const Pe=this.list.getSelection(),Me=Pe.filter(ye=>ye!==ce);this.list.setFocus([ce]),this.list.setAnchor(ce),Pe.length===Me.length?this.list.setSelection([...Me,ce],ne.browserEvent):this.list.setSelection(Me,ne.browserEvent)}}dispose(){this.disposables.dispose()}}class ie{constructor(ne,ce){this.styleElement=ne,this.selectorSuffix=ce}style(ne){var ce,Oe;const Pe=this.selectorSuffix&&`.${this.selectorSuffix}`,Me=[];ne.listBackground&&Me.push(`.monaco-list${Pe} .monaco-list-rows { background: ${ne.listBackground}; }`),ne.listFocusBackground&&(Me.push(`.monaco-list${Pe}:focus .monaco-list-row.focused { background-color: ${ne.listFocusBackground}; }`),Me.push(`.monaco-list${Pe}:focus .monaco-list-row.focused:hover { background-color: ${ne.listFocusBackground}; }`)),ne.listFocusForeground&&Me.push(`.monaco-list${Pe}:focus .monaco-list-row.focused { color: ${ne.listFocusForeground}; }`),ne.listActiveSelectionBackground&&(Me.push(`.monaco-list${Pe}:focus .monaco-list-row.selected { background-color: ${ne.listActiveSelectionBackground}; }`),Me.push(`.monaco-list${Pe}:focus .monaco-list-row.selected:hover { background-color: ${ne.listActiveSelectionBackground}; }`)),ne.listActiveSelectionForeground&&Me.push(`.monaco-list${Pe}:focus .monaco-list-row.selected { color: ${ne.listActiveSelectionForeground}; }`),ne.listActiveSelectionIconForeground&&Me.push(`.monaco-list${Pe}:focus .monaco-list-row.selected .codicon { color: ${ne.listActiveSelectionIconForeground}; }`),ne.listFocusAndSelectionBackground&&Me.push(`
				.monaco-drag-image,
				.monaco-list${Pe}:focus .monaco-list-row.selected.focused { background-color: ${ne.listFocusAndSelectionBackground}; }
			`),ne.listFocusAndSelectionForeground&&Me.push(`
				.monaco-drag-image,
				.monaco-list${Pe}:focus .monaco-list-row.selected.focused { color: ${ne.listFocusAndSelectionForeground}; }
			`),ne.listInactiveFocusForeground&&(Me.push(`.monaco-list${Pe} .monaco-list-row.focused { color:  ${ne.listInactiveFocusForeground}; }`),Me.push(`.monaco-list${Pe} .monaco-list-row.focused:hover { color:  ${ne.listInactiveFocusForeground}; }`)),ne.listInactiveSelectionIconForeground&&Me.push(`.monaco-list${Pe} .monaco-list-row.focused .codicon { color:  ${ne.listInactiveSelectionIconForeground}; }`),ne.listInactiveFocusBackground&&(Me.push(`.monaco-list${Pe} .monaco-list-row.focused { background-color:  ${ne.listInactiveFocusBackground}; }`),Me.push(`.monaco-list${Pe} .monaco-list-row.focused:hover { background-color:  ${ne.listInactiveFocusBackground}; }`)),ne.listInactiveSelectionBackground&&(Me.push(`.monaco-list${Pe} .monaco-list-row.selected { background-color:  ${ne.listInactiveSelectionBackground}; }`),Me.push(`.monaco-list${Pe} .monaco-list-row.selected:hover { background-color:  ${ne.listInactiveSelectionBackground}; }`)),ne.listInactiveSelectionForeground&&Me.push(`.monaco-list${Pe} .monaco-list-row.selected { color: ${ne.listInactiveSelectionForeground}; }`),ne.listHoverBackground&&Me.push(`.monaco-list${Pe}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ne.listHoverBackground}; }`),ne.listHoverForeground&&Me.push(`.monaco-list${Pe}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ne.listHoverForeground}; }`);const ye=(0,b.XT)(ne.listFocusAndSelectionOutline,(0,b.XT)(ne.listSelectionOutline,(ce=ne.listFocusOutline)!==null&&ce!==void 0?ce:""));ye&&Me.push(`.monaco-list${Pe}:focus .monaco-list-row.focused.selected { outline: 1px solid ${ye}; outline-offset: -1px;}`),ne.listFocusOutline&&Me.push(`
				.monaco-drag-image,
				.monaco-list${Pe}:focus .monaco-list-row.focused { outline: 1px solid ${ne.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Pe}.last-focused .monaco-list-row.focused { outline: 1px solid ${ne.listFocusOutline}; outline-offset: -1px; }
			`);const _e=(0,b.XT)(ne.listSelectionOutline,(Oe=ne.listInactiveFocusOutline)!==null&&Oe!==void 0?Oe:"");_e&&Me.push(`.monaco-list${Pe} .monaco-list-row.focused.selected { outline: 1px dotted ${_e}; outline-offset: -1px; }`),ne.listSelectionOutline&&Me.push(`.monaco-list${Pe} .monaco-list-row.selected { outline: 1px dotted ${ne.listSelectionOutline}; outline-offset: -1px; }`),ne.listInactiveFocusOutline&&Me.push(`.monaco-list${Pe} .monaco-list-row.focused { outline: 1px dotted ${ne.listInactiveFocusOutline}; outline-offset: -1px; }`),ne.listHoverOutline&&Me.push(`.monaco-list${Pe} .monaco-list-row:hover { outline: 1px dashed ${ne.listHoverOutline}; outline-offset: -1px; }`),ne.listDropBackground&&Me.push(`
				.monaco-list${Pe}.drop-target,
				.monaco-list${Pe} .monaco-list-rows.drop-target,
				.monaco-list${Pe} .monaco-list-row.drop-target { background-color: ${ne.listDropBackground} !important; color: inherit !important; }
			`),ne.tableColumnsBorder&&Me.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${ne.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),ne.tableOddRowsBackgroundColor&&Me.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${ne.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Me.join(`
`)}}const le={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:D.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:D.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:D.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},fe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function Le(Se,ne){const ce=Se.indexOf(ne);if(ce===-1)return[];const Oe=[];let Pe=ce-1;for(;Pe>=0&&Se[Pe]===ne-(ce-Pe);)Oe.push(Se[Pe--]);for(Oe.reverse(),Pe=ce;Pe<Se.length&&Se[Pe]===ne+(Pe-ce);)Oe.push(Se[Pe++]);return Oe}function pe(Se,ne){const ce=[];let Oe=0,Pe=0;for(;Oe<Se.length||Pe<ne.length;)if(Oe>=Se.length)ce.push(ne[Pe++]);else if(Pe>=ne.length)ce.push(Se[Oe++]);else if(Se[Oe]===ne[Pe]){ce.push(Se[Oe]),Oe++,Pe++;continue}else Se[Oe]<ne[Pe]?ce.push(Se[Oe++]):ce.push(ne[Pe++]);return ce}function Te(Se,ne){const ce=[];let Oe=0,Pe=0;for(;Oe<Se.length||Pe<ne.length;)if(Oe>=Se.length)ce.push(ne[Pe++]);else if(Pe>=ne.length)ce.push(Se[Oe++]);else if(Se[Oe]===ne[Pe]){Oe++,Pe++;continue}else Se[Oe]<ne[Pe]?ce.push(Se[Oe++]):Pe++;return ce}const De=(Se,ne)=>Se-ne;class ae{constructor(ne,ce){this._templateId=ne,this.renderers=ce}get templateId(){return this._templateId}renderTemplate(ne){return this.renderers.map(ce=>ce.renderTemplate(ne))}renderElement(ne,ce,Oe,Pe){let Me=0;for(const ye of this.renderers)ye.renderElement(ne,ce,Oe[Me++],Pe)}disposeElement(ne,ce,Oe,Pe){var Me;let ye=0;for(const _e of this.renderers)(Me=_e.disposeElement)===null||Me===void 0||Me.call(_e,ne,ce,Oe[ye],Pe),ye+=1}disposeTemplate(ne){let ce=0;for(const Oe of this.renderers)Oe.disposeTemplate(ne[ce++])}}class Ne{constructor(ne){this.accessibilityProvider=ne,this.templateId="a18n"}renderTemplate(ne){return ne}renderElement(ne,ce,Oe){const Pe=this.accessibilityProvider.getAriaLabel(ne);Pe?Oe.setAttribute("aria-label",Pe):Oe.removeAttribute("aria-label");const Me=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ne);typeof Me=="number"?Oe.setAttribute("aria-level",`${Me}`):Oe.removeAttribute("aria-level")}disposeTemplate(ne){}}class We{constructor(ne,ce){this.list=ne,this.dnd=ce}getDragElements(ne){const ce=this.list.getSelectedElements();return ce.indexOf(ne)>-1?ce:[ne]}getDragURI(ne){return this.dnd.getDragURI(ne)}getDragLabel(ne,ce){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ne,ce)}onDragStart(ne,ce){var Oe,Pe;(Pe=(Oe=this.dnd).onDragStart)===null||Pe===void 0||Pe.call(Oe,ne,ce)}onDragOver(ne,ce,Oe,Pe){return this.dnd.onDragOver(ne,ce,Oe,Pe)}onDragLeave(ne,ce,Oe,Pe){var Me,ye;(ye=(Me=this.dnd).onDragLeave)===null||ye===void 0||ye.call(Me,ne,ce,Oe,Pe)}onDragEnd(ne){var ce,Oe;(Oe=(ce=this.dnd).onDragEnd)===null||Oe===void 0||Oe.call(ce,ne)}drop(ne,ce,Oe,Pe){this.dnd.drop(ne,ce,Oe,Pe)}dispose(){this.dnd.dispose()}}class ze{get onDidChangeFocus(){return o.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ne=>this.toListEvent(ne),this.disposables)}get onDidChangeSelection(){return o.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ne=>this.toListEvent(ne),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ne=!1;const ce=o.ju.chain(this.disposables.add(new z.Y(this.view.domNode,"keydown")).event,Me=>Me.map(ye=>new r.y(ye)).filter(ye=>ne=ye.keyCode===58||ye.shiftKey&&ye.keyCode===68).map(ye=>b.zB.stop(ye,!0)).filter(()=>!1)),Oe=o.ju.chain(this.disposables.add(new z.Y(this.view.domNode,"keyup")).event,Me=>Me.forEach(()=>ne=!1).map(ye=>new r.y(ye)).filter(ye=>ye.keyCode===58||ye.shiftKey&&ye.keyCode===68).map(ye=>b.zB.stop(ye,!0)).map(({browserEvent:ye})=>{const _e=this.getFocus(),se=_e.length?_e[0]:void 0,ve=typeof se!="undefined"?this.view.element(se):void 0,xe=typeof se!="undefined"?this.view.domElement(se):this.view.domNode;return{index:se,element:ve,anchor:xe,browserEvent:ye}})),Pe=o.ju.chain(this.view.onContextMenu,Me=>Me.filter(ye=>!ne).map(({element:ye,index:_e,browserEvent:se})=>({element:ye,index:_e,anchor:new g.n((0,b.Jj)(this.view.domNode),se),browserEvent:se})));return o.ju.any(ce,Oe,Pe)}get onKeyDown(){return this.disposables.add(new z.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return o.ju.signal(this.disposables.add(new z.Y(this.view.domNode,"focus",!0)).event)}constructor(ne,ce,Oe,Pe,Me=fe){var ye,_e,se,ve;this.user=ne,this._options=Me,this.focus=new L("focused"),this.anchor=new L("anchor"),this.eventBufferer=new o.E7,this._ariaLabel="",this.disposables=new u.SL,this._onDidDispose=new o.Q5,this.onDidDispose=this._onDidDispose.event;const xe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ye=this._options.accessibilityProvider)===null||ye===void 0?void 0:ye.getWidgetRole():"list";this.selection=new O(xe!=="listbox");const je=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Me.accessibilityProvider,this.accessibilityProvider&&(je.push(new Ne(this.accessibilityProvider)),(se=(_e=this.accessibilityProvider).onDidChangeActiveDescendant)===null||se===void 0||se.call(_e,this.onDidChangeActiveDescendant,this,this.disposables)),Pe=Pe.map(Qe=>new ae(Qe.templateId,[...je,Qe]));const Ae=Ln(Xi({},Me),{dnd:Me.dnd&&new We(this,Me.dnd)});if(this.view=this.createListView(ce,Oe,Pe,Ae),this.view.domNode.setAttribute("role",xe),Me.styleController)this.styleController=Me.styleController(this.view.domId);else{const Qe=(0,b.dS)(this.view.domNode);this.styleController=new ie(Qe,this.view.domId)}if(this.spliceable=new _([new T(this.focus,this.view,Me.identityProvider),new T(this.selection,this.view,Me.identityProvider),new T(this.anchor,this.view,Me.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new j(this,this.view)),(typeof Me.keyboardSupport!="boolean"||Me.keyboardSupport)&&(this.keyboardController=new R(this,this.view,Me),this.disposables.add(this.keyboardController)),Me.keyboardNavigationLabelProvider){const Qe=Me.keyboardNavigationDelegate||U;this.typeNavigationController=new G(this,this.view,Me.keyboardNavigationLabelProvider,(ve=Me.keyboardNavigationEventFilter)!==null&&ve!==void 0?ve:()=>!0,Qe),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(Me),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(ne,ce,Oe,Pe){return new S.Bv(ne,ce,Oe,Pe)}createMouseController(ne){return new X(this)}updateOptions(ne={}){var ce,Oe;this._options=Xi(Xi({},this._options),ne),(ce=this.typeNavigationController)===null||ce===void 0||ce.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ne),(Oe=this.keyboardController)===null||Oe===void 0||Oe.updateOptions(ne),this.view.updateOptions(ne)}get options(){return this._options}splice(ne,ce,Oe=[]){if(ne<0||ne>this.view.length)throw new a(this.user,`Invalid start index: ${ne}`);if(ce<0)throw new a(this.user,`Invalid delete count: ${ce}`);ce===0&&Oe.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ne,ce,Oe))}rerender(){this.view.rerender()}element(ne){return this.view.element(ne)}indexOf(ne){return this.view.indexOf(ne)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ne){this.view.setScrollTop(ne)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(ne){this._ariaLabel=ne,this.view.domNode.setAttribute("aria-label",ne)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ne,ce){this.view.layout(ne,ce)}setSelection(ne,ce){for(const Oe of ne)if(Oe<0||Oe>=this.length)throw new a(this.user,`Invalid index ${Oe}`);this.selection.set(ne,ce)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ne=>this.view.element(ne))}setAnchor(ne){if(typeof ne=="undefined"){this.anchor.set([]);return}if(ne<0||ne>=this.length)throw new a(this.user,`Invalid index ${ne}`);this.anchor.set([ne])}getAnchor(){return(0,I.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ne=this.getAnchor();return typeof ne=="undefined"?void 0:this.element(ne)}setFocus(ne,ce){for(const Oe of ne)if(Oe<0||Oe>=this.length)throw new a(this.user,`Invalid index ${Oe}`);this.focus.set(ne,ce)}focusNext(ne=1,ce=!1,Oe,Pe){if(this.length===0)return;const Me=this.focus.get(),ye=this.findNextIndex(Me.length>0?Me[0]+ne:0,ce,Pe);ye>-1&&this.setFocus([ye],Oe)}focusPrevious(ne=1,ce=!1,Oe,Pe){if(this.length===0)return;const Me=this.focus.get(),ye=this.findPreviousIndex(Me.length>0?Me[0]-ne:0,ce,Pe);ye>-1&&this.setFocus([ye],Oe)}focusNextPage(ne,ce){return qt(this,null,function*(){let Oe=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Oe=Oe===0?0:Oe-1;const Pe=this.getFocus()[0];if(Pe!==Oe&&(Pe===void 0||Oe>Pe)){const Me=this.findPreviousIndex(Oe,!1,ce);Me>-1&&Pe!==Me?this.setFocus([Me],ne):this.setFocus([Oe],ne)}else{const Me=this.view.getScrollTop();let ye=Me+this.view.renderHeight;Oe>Pe&&(ye-=this.view.elementHeight(Oe)),this.view.setScrollTop(ye),this.view.getScrollTop()!==Me&&(this.setFocus([]),yield(0,M.Vs)(0),yield this.focusNextPage(ne,ce))}})}focusPreviousPage(ne,ce){return qt(this,null,function*(){let Oe;const Pe=this.view.getScrollTop();Pe===0?Oe=this.view.indexAt(Pe):Oe=this.view.indexAfter(Pe-1);const Me=this.getFocus()[0];if(Me!==Oe&&(Me===void 0||Me>=Oe)){const ye=this.findNextIndex(Oe,!1,ce);ye>-1&&Me!==ye?this.setFocus([ye],ne):this.setFocus([Oe],ne)}else{const ye=Pe;this.view.setScrollTop(Pe-this.view.renderHeight),this.view.getScrollTop()!==ye&&(this.setFocus([]),yield(0,M.Vs)(0),yield this.focusPreviousPage(ne,ce))}})}focusLast(ne,ce){if(this.length===0)return;const Oe=this.findPreviousIndex(this.length-1,!1,ce);Oe>-1&&this.setFocus([Oe],ne)}focusFirst(ne,ce){this.focusNth(0,ne,ce)}focusNth(ne,ce,Oe){if(this.length===0)return;const Pe=this.findNextIndex(ne,!1,Oe);Pe>-1&&this.setFocus([Pe],ce)}findNextIndex(ne,ce=!1,Oe){for(let Pe=0;Pe<this.length;Pe++){if(ne>=this.length&&!ce)return-1;if(ne=ne%this.length,!Oe||Oe(this.element(ne)))return ne;ne++}return-1}findPreviousIndex(ne,ce=!1,Oe){for(let Pe=0;Pe<this.length;Pe++){if(ne<0&&!ce)return-1;if(ne=(this.length+ne%this.length)%this.length,!Oe||Oe(this.element(ne)))return ne;ne--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ne=>this.view.element(ne))}reveal(ne,ce,Oe=0){if(ne<0||ne>=this.length)throw new a(this.user,`Invalid index ${ne}`);const Pe=this.view.getScrollTop(),Me=this.view.elementTop(ne),ye=this.view.elementHeight(ne);if((0,f.hj)(ce)){const _e=ye-this.view.renderHeight+Oe;this.view.setScrollTop(_e*(0,i.uZ)(ce,0,1)+Me-Oe)}else{const _e=Me+ye,se=Pe+this.view.renderHeight;Me<Pe+Oe&&_e>=se||(Me<Pe+Oe||_e>=se&&ye>=this.view.renderHeight?this.view.setScrollTop(Me-Oe):_e>=se&&this.view.setScrollTop(_e-this.view.renderHeight))}}getRelativeTop(ne,ce=0){if(ne<0||ne>=this.length)throw new a(this.user,`Invalid index ${ne}`);const Oe=this.view.getScrollTop(),Pe=this.view.elementTop(ne),Me=this.view.elementHeight(ne);if(Pe<Oe+ce||Pe+Me>Oe+this.view.renderHeight)return null;const ye=Me-this.view.renderHeight+ce;return Math.abs((Oe+ce-Pe)/ye)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(ne){return this.view.getElementDomId(ne)}getElementTop(ne){return this.view.elementTop(ne)}style(ne){this.styleController.style(ne)}toListEvent({indexes:ne,browserEvent:ce}){return{indexes:ne,elements:ne.map(Oe=>this.view.element(Oe)),browserEvent:ce}}_onFocusChange(){const ne=this.focus.get();this.view.domNode.classList.toggle("element-focused",ne.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ne;const ce=this.focus.get();if(ce.length>0){let Oe;!((ne=this.accessibilityProvider)===null||ne===void 0)&&ne.getActiveDescendantId&&(Oe=this.accessibilityProvider.getActiveDescendantId(this.view.element(ce[0]))),this.view.domNode.setAttribute("aria-activedescendant",Oe||this.view.getElementDomId(ce[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ne=this.selection.get();this.view.domNode.classList.toggle("selection-none",ne.length===0),this.view.domNode.classList.toggle("selection-single",ne.length===1),this.view.domNode.classList.toggle("selection-multiple",ne.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}y([p.H],ze.prototype,"onDidChangeFocus",null),y([p.H],ze.prototype,"onDidChangeSelection",null),y([p.H],ze.prototype,"onContextMenu",null),y([p.H],ze.prototype,"onKeyDown",null),y([p.H],ze.prototype,"onDidFocus",null)},17735:function(Pt,Ke,e){"use strict";e.d(Ke,{f:function(){return c}});var b=e(65321),z=e(83080),r=e(4669),E=e(5976);class c{constructor(){this._onDidWillResize=new r.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new r.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new E.SL,this._size=new b.Ro(0,0),this._minSize=new b.Ro(0,0),this._maxSize=new b.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new z.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new z.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new z.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:z.l.North}),this._southSash=new z.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:z.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let I,M=0,D=0;this._sashListener.add(r.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{I===void 0&&(this._onDidWillResize.fire(),I=this._size,M=0,D=0)})),this._sashListener.add(r.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{I!==void 0&&(I=void 0,M=0,D=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(p=>{I&&(D=p.currentX-p.startX,this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(p=>{I&&(D=-(p.currentX-p.startX),this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(p=>{I&&(M=-(p.currentY-p.startY),this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(p=>{I&&(M=p.currentY-p.startY,this.layout(I.height+M,I.width+D),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(r.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(p=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(r.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(p=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(I,M,D,p){this._northSash.state=I?3:0,this._eastSash.state=M?3:0,this._southSash.state=D?3:0,this._westSash.state=p?3:0}layout(I=this.size.height,M=this.size.width){const{height:D,width:p}=this._minSize,{height:o,width:d}=this._maxSize;I=Math.max(D,Math.min(o,I)),M=Math.max(p,Math.min(d,M));const u=new b.Ro(M,I);b.Ro.equals(u,this._size)||(this.domNode.style.height=I+"px",this.domNode.style.width=M+"px",this._size=u,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(I){this._maxSize=I}get maxSize(){return this._maxSize}set minSize(I){this._minSize=I}get minSize(){return this._minSize}set preferredSize(I){this._preferredSize=I}get preferredSize(){return this._preferredSize}}},83080:function(Pt,Ke,e){"use strict";e.d(Ke,{l:function(){return o},g:function(){return g}});var b=e(65321),z=e(4850),r=e(10553),E=e(15393),c=e(49898),_=e(4669),I=e(5976),M=e(1432),D=function(y,C,L,O){var T=arguments.length,F=T<3?C:O===null?O=Object.getOwnPropertyDescriptor(C,L):O,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(y,C,L,O);else for(var $=y.length-1;$>=0;$--)(B=y[$])&&(F=(T<3?B(F):T>3?B(C,L,F):B(C,L))||F);return T>3&&F&&Object.defineProperty(C,L,F),F};const p=!1;var o;(function(y){y.North="north",y.South="south",y.East="east",y.West="west"})(o||(o={}));let d=4;const u=new _.Q5;let i=300;const n=new _.Q5;class f{constructor(C){this.el=C,this.disposables=new I.SL}get onPointerMove(){return this.disposables.add(new z.Y((0,b.Jj)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new z.Y((0,b.Jj)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}D([c.H],f.prototype,"onPointerMove",null),D([c.H],f.prototype,"onPointerUp",null);class v{get onPointerMove(){return this.disposables.add(new z.Y(this.el,r.t.Change)).event}get onPointerUp(){return this.disposables.add(new z.Y(this.el,r.t.End)).event}constructor(C){this.el=C,this.disposables=new I.SL}dispose(){this.disposables.dispose()}}D([c.H],v.prototype,"onPointerMove",null),D([c.H],v.prototype,"onPointerUp",null);class a{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(C){this.factory=C}dispose(){}}D([c.H],a.prototype,"onPointerMove",null),D([c.H],a.prototype,"onPointerUp",null);const S="pointer-events-disabled";class g extends I.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(C){this._state!==C&&(this.el.classList.toggle("disabled",C===0),this.el.classList.toggle("minimum",C===1),this.el.classList.toggle("maximum",C===2),this._state=C,this.onDidEnablementChange.fire(C))}set orthogonalStartSash(C){if(this._orthogonalStartSash!==C){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),C){const L=O=>{this.orthogonalStartDragHandleDisposables.clear(),O!==0&&(this._orthogonalStartDragHandle=(0,b.R3)(this.el,(0,b.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,I.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new z.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>g.onMouseEnter(C),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new z.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>g.onMouseLeave(C),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(C.onDidEnablementChange.event(L,this)),L(C.state)}this._orthogonalStartSash=C}}set orthogonalEndSash(C){if(this._orthogonalEndSash!==C){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),C){const L=O=>{this.orthogonalEndDragHandleDisposables.clear(),O!==0&&(this._orthogonalEndDragHandle=(0,b.R3)(this.el,(0,b.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,I.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new z.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>g.onMouseEnter(C),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new z.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>g.onMouseLeave(C),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(C.onDidEnablementChange.event(L,this)),L(C.state)}this._orthogonalEndSash=C}}constructor(C,L,O){super(),this.hoverDelay=i,this.hoverDelayer=this._register(new E.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new _.Q5),this._onDidStart=this._register(new _.Q5),this._onDidChange=this._register(new _.Q5),this._onDidReset=this._register(new _.Q5),this._onDidEnd=this._register(new _.Q5),this.orthogonalStartSashDisposables=this._register(new I.SL),this.orthogonalStartDragHandleDisposables=this._register(new I.SL),this.orthogonalEndSashDisposables=this._register(new I.SL),this.orthogonalEndDragHandleDisposables=this._register(new I.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,b.R3)(C,(0,b.$)(".monaco-sash")),O.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${O.orthogonalEdge}`),M.dz&&this.el.classList.add("mac");const T=this._register(new z.Y(this.el,"mousedown")).event;this._register(T(V=>this.onPointerStart(V,new f(C)),this));const F=this._register(new z.Y(this.el,"dblclick")).event;this._register(F(this.onPointerDoublePress,this));const B=this._register(new z.Y(this.el,"mouseenter")).event;this._register(B(()=>g.onMouseEnter(this)));const $=this._register(new z.Y(this.el,"mouseleave")).event;this._register($(()=>g.onMouseLeave(this))),this._register(r.o.addTarget(this.el));const Y=this._register(new z.Y(this.el,r.t.Start)).event;this._register(Y(V=>this.onPointerStart(V,new v(this.el)),this));const P=this._register(new z.Y(this.el,r.t.Tap)).event;let w;this._register(P(V=>{if(w){clearTimeout(w),w=void 0,this.onPointerDoublePress(V);return}clearTimeout(w),w=setTimeout(()=>w=void 0,250)},this)),typeof O.size=="number"?(this.size=O.size,O.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=d,this._register(u.event(V=>{this.size=V,this.layout()}))),this._register(n.event(V=>this.hoverDelay=V)),this.layoutProvider=L,this.orthogonalStartSash=O.orthogonalStartSash,this.orthogonalEndSash=O.orthogonalEndSash,this.orientation=O.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}onPointerStart(C,L){b.zB.stop(C);let O=!1;if(!C.__orthogonalSashEvent){const H=this.getOrthogonalSash(C);H&&(O=!0,C.__orthogonalSashEvent=!0,H.onPointerStart(C,new a(L)))}if(this.linkedSash&&!C.__linkedSashEvent&&(C.__linkedSashEvent=!0,this.linkedSash.onPointerStart(C,new a(L))),!this.state)return;const T=this.el.ownerDocument.getElementsByTagName("iframe");for(const H of T)H.classList.add(S);const F=C.pageX,B=C.pageY,$=C.altKey,Y={startX:F,currentX:F,startY:B,currentY:B,altKey:$};this.el.classList.add("active"),this._onDidStart.fire(Y);const P=(0,b.dS)(this.el),w=()=>{let H="";O?H="all-scroll":this.orientation===1?this.state===1?H="s-resize":this.state===2?H="n-resize":H=M.dz?"row-resize":"ns-resize":this.state===1?H="e-resize":this.state===2?H="w-resize":H=M.dz?"col-resize":"ew-resize",P.textContent=`* { cursor: ${H} !important; }`},V=new I.SL;w(),O||this.onDidEnablementChange.event(w,null,V);const R=H=>{b.zB.stop(H,!1);const U={startX:F,currentX:H.pageX,startY:B,currentY:H.pageY,altKey:$};this._onDidChange.fire(U)},A=H=>{b.zB.stop(H,!1),this.el.removeChild(P),this.el.classList.remove("active"),this._onDidEnd.fire(),V.dispose();for(const U of T)U.classList.remove(S)};L.onPointerMove(R,null,V),L.onPointerUp(A,null,V),V.add(L)}onPointerDoublePress(C){const L=this.getOrthogonalSash(C);L&&L._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(C,L=!1){C.el.classList.contains("active")?(C.hoverDelayer.cancel(),C.el.classList.add("hover")):C.hoverDelayer.trigger(()=>C.el.classList.add("hover"),C.hoverDelay).then(void 0,()=>{}),!L&&C.linkedSash&&g.onMouseEnter(C.linkedSash,!0)}static onMouseLeave(C,L=!1){C.hoverDelayer.cancel(),C.el.classList.remove("hover"),!L&&C.linkedSash&&g.onMouseLeave(C.linkedSash,!0)}clearSashHoverState(){g.onMouseLeave(this)}layout(){if(this.orientation===0){const C=this.layoutProvider;this.el.style.left=C.getVerticalSashLeft(this)-this.size/2+"px",C.getVerticalSashTop&&(this.el.style.top=C.getVerticalSashTop(this)+"px"),C.getVerticalSashHeight&&(this.el.style.height=C.getVerticalSashHeight(this)+"px")}else{const C=this.layoutProvider;this.el.style.top=C.getHorizontalSashTop(this)-this.size/2+"px",C.getHorizontalSashLeft&&(this.el.style.left=C.getHorizontalSashLeft(this)+"px"),C.getHorizontalSashWidth&&(this.el.style.width=C.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(C){var L;const O=(L=C.initialTarget)!==null&&L!==void 0?L:C.target;if(!(!O||!(O instanceof HTMLElement))&&O.classList.contains("orthogonal-drag-handle"))return O.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},59740:function(Pt,Ke,e){"use strict";e.d(Ke,{s$:function(){return P},Io:function(){return F},NB:function(){return $},$Z:function(){return Y}});var b=e(16268),z=e(65321),r=e(38626),E=e(7317),c=e(93911),_=e(93794),I=e(15393),M=e(25670);const D=11;class p extends _.${constructor(R){super(),this._onActivate=R.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=R.bgWidth+"px",this.bgDomNode.style.height=R.bgHeight+"px",typeof R.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof R.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof R.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof R.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=R.className,this.domNode.classList.add(...M.k.asClassNameArray(R.icon)),this.domNode.style.position="absolute",this.domNode.style.width=D+"px",this.domNode.style.height=D+"px",typeof R.top!="undefined"&&(this.domNode.style.top=R.top+"px"),typeof R.left!="undefined"&&(this.domNode.style.left=R.left+"px"),typeof R.bottom!="undefined"&&(this.domNode.style.bottom=R.bottom+"px"),typeof R.right!="undefined"&&(this.domNode.style.right=R.right+"px"),this._pointerMoveMonitor=this._register(new c.C),this._register(z.mu(this.bgDomNode,z.tw.POINTER_DOWN,A=>this._arrowPointerDown(A))),this._register(z.mu(this.domNode,z.tw.POINTER_DOWN,A=>this._arrowPointerDown(A))),this._pointerdownRepeatTimer=this._register(new z.ne),this._pointerdownScheduleRepeatTimer=this._register(new I._F)}_arrowPointerDown(R){if(!R.target||!(R.target instanceof Element))return;const A=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,z.Jj(R))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(A,200),this._pointerMoveMonitor.startMonitoring(R.target,R.pointerId,R.buttons,H=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),R.preventDefault()}}var o=e(5976);class d extends o.JT{constructor(R,A,H){super(),this._visibility=R,this._visibleClassName=A,this._invisibleClassName=H,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new I._F)}setVisibility(R){this._visibility!==R&&(this._visibility=R,this._updateShouldBeVisible())}setShouldBeVisible(R){this._rawShouldBeVisible=R,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const R=this._applyVisibilitySetting();this._shouldBeVisible!==R&&(this._shouldBeVisible=R,this.ensureVisibility())}setIsNeeded(R){this._isNeeded!==R&&(this._isNeeded=R,this.ensureVisibility())}setDomNode(R){this._domNode=R,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var R;(R=this._domNode)===null||R===void 0||R.setClassName(this._visibleClassName)},0))}_hide(R){var A;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(A=this._domNode)===null||A===void 0||A.setClassName(this._invisibleClassName+(R?" fade":"")))}}var u=e(1432);const i=140;class n extends _.${constructor(R){super(),this._lazyRender=R.lazyRender,this._host=R.host,this._scrollable=R.scrollable,this._scrollByPage=R.scrollByPage,this._scrollbarState=R.scrollbarState,this._visibilityController=this._register(new d(R.visibility,"visible scrollbar "+R.extraScrollbarClassName,"invisible scrollbar "+R.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new c.C),this._shouldRender=!0,this.domNode=(0,r.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(z.nm(this.domNode.domNode,z.tw.POINTER_DOWN,A=>this._domNodePointerDown(A)))}_createArrow(R){const A=this._register(new p(R));this.domNode.domNode.appendChild(A.bgDomNode),this.domNode.domNode.appendChild(A.domNode)}_createSlider(R,A,H,U){this.slider=(0,r.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(R),this.slider.setLeft(A),typeof H=="number"&&this.slider.setWidth(H),typeof U=="number"&&this.slider.setHeight(U),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(z.nm(this.slider.domNode,z.tw.POINTER_DOWN,G=>{G.button===0&&(G.preventDefault(),this._sliderPointerDown(G))})),this.onclick(this.slider.domNode,G=>{G.leftButton&&G.stopPropagation()})}_onElementSize(R){return this._scrollbarState.setVisibleSize(R)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(R){return this._scrollbarState.setScrollSize(R)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(R){return this._scrollbarState.setScrollPosition(R)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(R){R.target===this.domNode.domNode&&this._onPointerDown(R)}delegatePointerDown(R){const A=this.domNode.domNode.getClientRects()[0].top,H=A+this._scrollbarState.getSliderPosition(),U=A+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),G=this._sliderPointerPosition(R);H<=G&&G<=U?R.button===0&&(R.preventDefault(),this._sliderPointerDown(R)):this._onPointerDown(R)}_onPointerDown(R){let A,H;if(R.target===this.domNode.domNode&&typeof R.offsetX=="number"&&typeof R.offsetY=="number")A=R.offsetX,H=R.offsetY;else{const G=z.i(this.domNode.domNode);A=R.pageX-G.left,H=R.pageY-G.top}const U=this._pointerDownRelativePosition(A,H);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(U):this._scrollbarState.getDesiredScrollPositionFromOffset(U)),R.button===0&&(R.preventDefault(),this._sliderPointerDown(R))}_sliderPointerDown(R){if(!R.target||!(R.target instanceof Element))return;const A=this._sliderPointerPosition(R),H=this._sliderOrthogonalPointerPosition(R),U=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(R.target,R.pointerId,R.buttons,G=>{const j=this._sliderOrthogonalPointerPosition(G),W=Math.abs(j-H);if(u.ED&&W>i){this._setDesiredScrollPositionNow(U.getScrollPosition());return}const m=this._sliderPointerPosition(G)-A;this._setDesiredScrollPositionNow(U.getDesiredScrollPositionFromDelta(m))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(R){const A={};this.writeScrollPosition(A,R),this._scrollable.setScrollPositionNow(A)}updateScrollbarSize(R){this._updateScrollbarSize(R),this._scrollbarState.setScrollbarSize(R),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var f=e(51203),v=e(73046);class a extends n{constructor(R,A,H){const U=R.getScrollDimensions(),G=R.getCurrentScrollPosition();if(super({lazyRender:A.lazyRender,host:H,scrollbarState:new f.M(A.horizontalHasArrows?A.arrowSize:0,A.horizontal===2?0:A.horizontalScrollbarSize,A.vertical===2?0:A.verticalScrollbarSize,U.width,U.scrollWidth,G.scrollLeft),visibility:A.horizontal,extraScrollbarClassName:"horizontal",scrollable:R,scrollByPage:A.scrollByPage}),A.horizontalHasArrows){const j=(A.arrowSize-D)/2,W=(A.horizontalScrollbarSize-D)/2;this._createArrow({className:"scra",icon:v.l.scrollbarButtonLeft,top:W,left:j,bottom:void 0,right:void 0,bgWidth:A.arrowSize,bgHeight:A.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new E.q(null,1,0))}),this._createArrow({className:"scra",icon:v.l.scrollbarButtonRight,top:W,left:void 0,bottom:void 0,right:j,bgWidth:A.arrowSize,bgHeight:A.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new E.q(null,-1,0))})}this._createSlider(Math.floor((A.horizontalScrollbarSize-A.horizontalSliderSize)/2),0,void 0,A.horizontalSliderSize)}_updateSlider(R,A){this.slider.setWidth(R),this.slider.setLeft(A)}_renderDomNode(R,A){this.domNode.setWidth(R),this.domNode.setHeight(A),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(R){return this._shouldRender=this._onElementScrollSize(R.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(R.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(R.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(R,A){return R}_sliderPointerPosition(R){return R.pageX}_sliderOrthogonalPointerPosition(R){return R.pageY}_updateScrollbarSize(R){this.slider.setHeight(R)}writeScrollPosition(R,A){R.scrollLeft=A}updateOptions(R){this.updateScrollbarSize(R.horizontal===2?0:R.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(R.vertical===2?0:R.verticalScrollbarSize),this._visibilityController.setVisibility(R.horizontal),this._scrollByPage=R.scrollByPage}}class S extends n{constructor(R,A,H){const U=R.getScrollDimensions(),G=R.getCurrentScrollPosition();if(super({lazyRender:A.lazyRender,host:H,scrollbarState:new f.M(A.verticalHasArrows?A.arrowSize:0,A.vertical===2?0:A.verticalScrollbarSize,0,U.height,U.scrollHeight,G.scrollTop),visibility:A.vertical,extraScrollbarClassName:"vertical",scrollable:R,scrollByPage:A.scrollByPage}),A.verticalHasArrows){const j=(A.arrowSize-D)/2,W=(A.verticalScrollbarSize-D)/2;this._createArrow({className:"scra",icon:v.l.scrollbarButtonUp,top:j,left:W,bottom:void 0,right:void 0,bgWidth:A.verticalScrollbarSize,bgHeight:A.arrowSize,onActivate:()=>this._host.onMouseWheel(new E.q(null,0,1))}),this._createArrow({className:"scra",icon:v.l.scrollbarButtonDown,top:void 0,left:W,bottom:j,right:void 0,bgWidth:A.verticalScrollbarSize,bgHeight:A.arrowSize,onActivate:()=>this._host.onMouseWheel(new E.q(null,0,-1))})}this._createSlider(0,Math.floor((A.verticalScrollbarSize-A.verticalSliderSize)/2),A.verticalSliderSize,void 0)}_updateSlider(R,A){this.slider.setHeight(R),this.slider.setTop(A)}_renderDomNode(R,A){this.domNode.setWidth(A),this.domNode.setHeight(R),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(R){return this._shouldRender=this._onElementScrollSize(R.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(R.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(R.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(R,A){return A}_sliderPointerPosition(R){return R.pageY}_sliderOrthogonalPointerPosition(R){return R.pageX}_updateScrollbarSize(R){this.slider.setWidth(R)}writeScrollPosition(R,A){R.scrollTop=A}updateOptions(R){this.updateScrollbarSize(R.vertical===2?0:R.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(R.vertical),this._scrollByPage=R.scrollByPage}}var g=e(4669),y=e(76633);const C=500,L=50,O=!0;class T{constructor(R,A,H){this.timestamp=R,this.deltaX=A,this.deltaY=H,this.score=0}}class F{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let R=1,A=0,H=1,U=this._rear;do{const G=U===this._front?R:Math.pow(2,-H);if(R-=G,A+=this._memory[U].score*G,U===this._front)break;U=(this._capacity+U-1)%this._capacity,H++}while(!0);return A<=.5}acceptStandardWheelEvent(R){const A=z.Jj(R.browserEvent).devicePixelRatio/(0,b.ie)();u.ED||u.IJ?this.accept(Date.now(),R.deltaX/A,R.deltaY/A):this.accept(Date.now(),R.deltaX,R.deltaY)}accept(R,A,H){const U=new T(R,A,H);U.score=this._computeScore(U),this._front===-1&&this._rear===-1?(this._memory[0]=U,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=U)}_computeScore(R){if(Math.abs(R.deltaX)>0&&Math.abs(R.deltaY)>0)return 1;let A=.5;const H=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(R.deltaX)||!this._isAlmostInt(R.deltaY))&&(A+=.25),Math.min(Math.max(A,0),1)}_isAlmostInt(R){return Math.abs(Math.round(R)-R)<.01}}F.INSTANCE=new F;class B extends _.${get options(){return this._options}constructor(R,A,H){super(),this._onScroll=this._register(new g.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Q5),R.style.overflow="hidden",this._options=w(A),this._scrollable=H,this._register(this._scrollable.onScroll(G=>{this._onWillScroll.fire(G),this._onDidScroll(G),this._onScroll.fire(G)}));const U={onMouseWheel:G=>this._onMouseWheel(G),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S(this._scrollable,this._options,U)),this._horizontalScrollbar=this._register(new a(this._scrollable,this._options,U)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(R),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,r.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,r.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,r.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,G=>this._onMouseOver(G)),this.onmouseleave(this._listenOnDomNode,G=>this._onMouseLeave(G)),this._hideTimeout=this._register(new I._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,o.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(R){this._verticalScrollbar.delegatePointerDown(R)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(R){this._scrollable.setScrollDimensions(R,!1)}updateClassName(R){this._options.className=R,u.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(R){typeof R.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=R.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof R.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=R.mouseWheelScrollSensitivity),typeof R.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=R.fastScrollSensitivity),typeof R.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=R.scrollPredominantAxis),typeof R.horizontal!="undefined"&&(this._options.horizontal=R.horizontal),typeof R.vertical!="undefined"&&(this._options.vertical=R.vertical),typeof R.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=R.horizontalScrollbarSize),typeof R.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=R.verticalScrollbarSize),typeof R.scrollByPage!="undefined"&&(this._options.scrollByPage=R.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(R){this._onMouseWheel(new E.q(R))}_setListeningToMouseWheel(R){if(this._mouseWheelToDispose.length>0!==R&&(this._mouseWheelToDispose=(0,o.B9)(this._mouseWheelToDispose),R)){const H=U=>{this._onMouseWheel(new E.q(U))};this._mouseWheelToDispose.push(z.nm(this._listenOnDomNode,z.tw.MOUSE_WHEEL,H,{passive:!1}))}}_onMouseWheel(R){var A;if(!((A=R.browserEvent)===null||A===void 0)&&A.defaultPrevented)return;const H=F.INSTANCE;O&&H.acceptStandardWheelEvent(R);let U=!1;if(R.deltaY||R.deltaX){let j=R.deltaY*this._options.mouseWheelScrollSensitivity,W=R.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&W+j===0?W=j=0:Math.abs(j)>=Math.abs(W)?W=0:j=0),this._options.flipAxes&&([j,W]=[W,j]);const K=!u.dz&&R.browserEvent&&R.browserEvent.shiftKey;(this._options.scrollYToX||K)&&!W&&(W=j,j=0),R.browserEvent&&R.browserEvent.altKey&&(W=W*this._options.fastScrollSensitivity,j=j*this._options.fastScrollSensitivity);const m=this._scrollable.getFutureScrollPosition();let J={};if(j){const X=L*j,ie=m.scrollTop-(X<0?Math.floor(X):Math.ceil(X));this._verticalScrollbar.writeScrollPosition(J,ie)}if(W){const X=L*W,ie=m.scrollLeft-(X<0?Math.floor(X):Math.ceil(X));this._horizontalScrollbar.writeScrollPosition(J,ie)}J=this._scrollable.validateScrollPosition(J),(m.scrollLeft!==J.scrollLeft||m.scrollTop!==J.scrollTop)&&(O&&this._options.mouseWheelSmoothScroll&&H.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(J):this._scrollable.setScrollPositionNow(J),U=!0)}let G=U;!G&&this._options.alwaysConsumeMouseWheel&&(G=!0),!G&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(G=!0),G&&(R.preventDefault(),R.stopPropagation())}_onDidScroll(R){this._shouldRender=this._horizontalScrollbar.onDidScroll(R)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(R)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const R=this._scrollable.getCurrentScrollPosition(),A=R.scrollTop>0,H=R.scrollLeft>0,U=H?" left":"",G=A?" top":"",j=H||A?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${U}`),this._topShadowDomNode.setClassName(`shadow${G}`),this._topLeftShadowDomNode.setClassName(`shadow${j}${G}${U}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(R){this._mouseIsOver=!1,this._hide()}_onMouseOver(R){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),C)}}class $ extends B{constructor(R,A){A=A||{},A.mouseWheelSmoothScroll=!1;const H=new y.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:U=>z.jL(z.Jj(R),U)});super(R,A,H),this._register(H)}setScrollPosition(R){this._scrollable.setScrollPositionNow(R)}}class Y extends B{constructor(R,A,H){super(R,A,H)}setScrollPosition(R){R.reuseAnimation?this._scrollable.setScrollPositionSmooth(R,R.reuseAnimation):this._scrollable.setScrollPositionNow(R)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class P extends B{constructor(R,A){A=A||{},A.mouseWheelSmoothScroll=!1;const H=new y.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:U=>z.jL(z.Jj(R),U)});super(R,A,H),this._register(H),this._element=R,this._register(this.onScroll(U=>{U.scrollTopChanged&&(this._element.scrollTop=U.scrollTop),U.scrollLeftChanged&&(this._element.scrollLeft=U.scrollLeft)})),this.scanDomNode()}setScrollPosition(R){this._scrollable.setScrollPositionNow(R)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function w(V){const R={lazyRender:typeof V.lazyRender!="undefined"?V.lazyRender:!1,className:typeof V.className!="undefined"?V.className:"",useShadows:typeof V.useShadows!="undefined"?V.useShadows:!0,handleMouseWheel:typeof V.handleMouseWheel!="undefined"?V.handleMouseWheel:!0,flipAxes:typeof V.flipAxes!="undefined"?V.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof V.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?V.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof V.alwaysConsumeMouseWheel!="undefined"?V.alwaysConsumeMouseWheel:!1,scrollYToX:typeof V.scrollYToX!="undefined"?V.scrollYToX:!1,mouseWheelScrollSensitivity:typeof V.mouseWheelScrollSensitivity!="undefined"?V.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof V.fastScrollSensitivity!="undefined"?V.fastScrollSensitivity:5,scrollPredominantAxis:typeof V.scrollPredominantAxis!="undefined"?V.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof V.mouseWheelSmoothScroll!="undefined"?V.mouseWheelSmoothScroll:!0,arrowSize:typeof V.arrowSize!="undefined"?V.arrowSize:11,listenOnDomNode:typeof V.listenOnDomNode!="undefined"?V.listenOnDomNode:null,horizontal:typeof V.horizontal!="undefined"?V.horizontal:1,horizontalScrollbarSize:typeof V.horizontalScrollbarSize!="undefined"?V.horizontalScrollbarSize:10,horizontalSliderSize:typeof V.horizontalSliderSize!="undefined"?V.horizontalSliderSize:0,horizontalHasArrows:typeof V.horizontalHasArrows!="undefined"?V.horizontalHasArrows:!1,vertical:typeof V.vertical!="undefined"?V.vertical:1,verticalScrollbarSize:typeof V.verticalScrollbarSize!="undefined"?V.verticalScrollbarSize:10,verticalHasArrows:typeof V.verticalHasArrows!="undefined"?V.verticalHasArrows:!1,verticalSliderSize:typeof V.verticalSliderSize!="undefined"?V.verticalSliderSize:0,scrollByPage:typeof V.scrollByPage!="undefined"?V.scrollByPage:!1};return R.horizontalSliderSize=typeof V.horizontalSliderSize!="undefined"?V.horizontalSliderSize:R.horizontalScrollbarSize,R.verticalSliderSize=typeof V.verticalSliderSize!="undefined"?V.verticalSliderSize:R.verticalScrollbarSize,u.dz&&(R.className+=" mac"),R}},51203:function(Pt,Ke,e){"use strict";e.d(Ke,{M:function(){return z}});const b=20;class z{constructor(E,c,_,I,M,D){this._scrollbarSize=Math.round(c),this._oppositeScrollbarSize=Math.round(_),this._arrowSize=Math.round(E),this._visibleSize=I,this._scrollSize=M,this._scrollPosition=D,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new z(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(E){const c=Math.round(E);return this._visibleSize!==c?(this._visibleSize=c,this._refreshComputedValues(),!0):!1}setScrollSize(E){const c=Math.round(E);return this._scrollSize!==c?(this._scrollSize=c,this._refreshComputedValues(),!0):!1}setScrollPosition(E){const c=Math.round(E);return this._scrollPosition!==c?(this._scrollPosition=c,this._refreshComputedValues(),!0):!1}setScrollbarSize(E){this._scrollbarSize=Math.round(E)}setOppositeScrollbarSize(E){this._oppositeScrollbarSize=Math.round(E)}static _computeValues(E,c,_,I,M){const D=Math.max(0,_-E),p=Math.max(0,D-2*c),o=I>0&&I>_;if(!o)return{computedAvailableSize:Math.round(D),computedIsNeeded:o,computedSliderSize:Math.round(p),computedSliderRatio:0,computedSliderPosition:0};const d=Math.round(Math.max(b,Math.floor(_*p/I))),u=(p-d)/(I-_),i=M*u;return{computedAvailableSize:Math.round(D),computedIsNeeded:o,computedSliderSize:Math.round(d),computedSliderRatio:u,computedSliderPosition:Math.round(i)}}_refreshComputedValues(){const E=z._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=E.computedAvailableSize,this._computedIsNeeded=E.computedIsNeeded,this._computedSliderSize=E.computedSliderSize,this._computedSliderRatio=E.computedSliderRatio,this._computedSliderPosition=E.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(E){if(!this._computedIsNeeded)return 0;const c=E-this._arrowSize-this._computedSliderSize/2;return Math.round(c/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(E){if(!this._computedIsNeeded)return 0;const c=E-this._arrowSize;let _=this._scrollPosition;return c<this._computedSliderPosition?_-=this._visibleSize:_+=this._visibleSize,_}getDesiredScrollPositionFromDelta(E){if(!this._computedIsNeeded)return 0;const c=this._computedSliderPosition+E;return Math.round(c/this._computedSliderRatio)}}},33225:function(Pt,Ke,e){"use strict";e.d(Ke,{M:function(){return v},z:function(){return a}});var b=e(65321),z=e(4850),r=e(83080),E=e(59740),c=e(9488),_=e(41264),I=e(4669),M=e(5976),D=e(59870),p=e(76633),o=e(98401);const d={separatorBorder:_.Il.transparent};class u{set size(g){this._size=g}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(g,y){var C,L;if(g!==this.visible){g?(this.size=(0,D.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof y=="number"?y:this.size,this.size=0),this.container.classList.toggle("visible",g);try{(L=(C=this.view).setVisible)===null||L===void 0||L.call(C,g)}catch(O){console.error("Splitview: Failed to set visible view"),console.error(O)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var g;return(g=this.view.proportionalLayout)!==null&&g!==void 0?g:!0}get snap(){return!!this.view.snap}set enabled(g){this.container.style.pointerEvents=g?"":"none"}constructor(g,y,C,L){this.container=g,this.view=y,this.disposable=L,this._cachedVisibleSize=void 0,typeof C=="number"?(this._size=C,this._cachedVisibleSize=void 0,g.classList.add("visible")):(this._size=0,this._cachedVisibleSize=C.cachedVisibleSize)}layout(g,y){this.layoutContainer(g);try{this.view.layout(this.size,g,y)}catch(C){console.error("Splitview: Failed to layout view"),console.error(C)}}dispose(){this.disposable.dispose()}}class i extends u{layoutContainer(g){this.container.style.top=`${g}px`,this.container.style.height=`${this.size}px`}}class n extends u{layoutContainer(g){this.container.style.left=`${g}px`,this.container.style.width=`${this.size}px`}}var f;(function(S){S[S.Idle=0]="Idle",S[S.Busy=1]="Busy"})(f||(f={}));var v;(function(S){S.Distribute={type:"distribute"};function g(L){return{type:"split",index:L}}S.Split=g;function y(L){return{type:"auto",index:L}}S.Auto=y;function C(L){return{type:"invisible",cachedVisibleSize:L}}S.Invisible=C})(v||(v={}));class a extends M.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(g){for(const y of this.sashItems)y.sash.orthogonalStartSash=g;this._orthogonalStartSash=g}set orthogonalEndSash(g){for(const y of this.sashItems)y.sash.orthogonalEndSash=g;this._orthogonalEndSash=g}set startSnappingEnabled(g){this._startSnappingEnabled!==g&&(this._startSnappingEnabled=g,this.updateSashEnablement())}set endSnappingEnabled(g){this._endSnappingEnabled!==g&&(this._endSnappingEnabled=g,this.updateSashEnablement())}constructor(g,y={}){var C,L,O,T,F;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=f.Idle,this._onDidSashChange=this._register(new I.Q5),this._onDidSashReset=this._register(new I.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(C=y.orientation)!==null&&C!==void 0?C:0,this.inverseAltBehavior=(L=y.inverseAltBehavior)!==null&&L!==void 0?L:!1,this.proportionalLayout=(O=y.proportionalLayout)!==null&&O!==void 0?O:!0,this.getSashOrthogonalSize=y.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),g.appendChild(this.el),this.sashContainer=(0,b.R3)(this.el,(0,b.$)(".sash-container")),this.viewContainer=(0,b.$)(".split-view-container"),this.scrollable=this._register(new p.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:$=>(0,b.jL)((0,b.Jj)(this.el),$)})),this.scrollableElement=this._register(new E.$Z(this.viewContainer,{vertical:this.orientation===0?(T=y.scrollbarVisibility)!==null&&T!==void 0?T:1:2,horizontal:this.orientation===1?(F=y.scrollbarVisibility)!==null&&F!==void 0?F:1:2},this.scrollable));const B=this._register(new z.Y(this.viewContainer,"scroll")).event;this._register(B($=>{const Y=this.scrollableElement.getScrollPosition(),P=Math.abs(this.viewContainer.scrollLeft-Y.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,w=Math.abs(this.viewContainer.scrollTop-Y.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(P!==void 0||w!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:P,scrollTop:w})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll($=>{$.scrollTopChanged&&(this.viewContainer.scrollTop=$.scrollTop),$.scrollLeftChanged&&(this.viewContainer.scrollLeft=$.scrollLeft)})),(0,b.R3)(this.el,this.scrollableElement.getDomNode()),this.style(y.styles||d),y.descriptor&&(this.size=y.descriptor.size,y.descriptor.views.forEach(($,Y)=>{const P=o.o8($.visible)||$.visible?$.size:{type:"invisible",cachedVisibleSize:$.size},w=$.view;this.doAddView(w,P,Y,!0)}),this._contentSize=this.viewItems.reduce(($,Y)=>$+Y.size,0),this.saveProportions())}style(g){g.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",g.separatorBorder.toString()))}addView(g,y,C=this.viewItems.length,L){this.doAddView(g,y,C,L)}layout(g,y){const C=Math.max(this.size,this._contentSize);if(this.size=g,this.layoutContext=y,this.proportions){let L=0;for(let O=0;O<this.viewItems.length;O++){const T=this.viewItems[O],F=this.proportions[O];typeof F=="number"?L+=F:g-=T.size}for(let O=0;O<this.viewItems.length;O++){const T=this.viewItems[O],F=this.proportions[O];typeof F=="number"&&L>0&&(T.size=(0,D.uZ)(Math.round(F*g/L),T.minimumSize,T.maximumSize))}}else{const L=(0,c.w6)(this.viewItems.length),O=L.filter(F=>this.viewItems[F].priority===1),T=L.filter(F=>this.viewItems[F].priority===2);this.resize(this.viewItems.length-1,g-C,void 0,O,T)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(g=>g.proportionalLayout&&g.visible?g.size/this._contentSize:void 0))}onSashStart({sash:g,start:y,alt:C}){for(const F of this.viewItems)F.enabled=!1;const L=this.sashItems.findIndex(F=>F.sash===g),O=(0,M.F8)((0,b.nm)(this.el.ownerDocument.body,"keydown",F=>T(this.sashDragState.current,F.altKey)),(0,b.nm)(this.el.ownerDocument.body,"keyup",()=>T(this.sashDragState.current,!1))),T=(F,B)=>{const $=this.viewItems.map(R=>R.size);let Y=Number.NEGATIVE_INFINITY,P=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(B=!B),B)if(L===this.sashItems.length-1){const A=this.viewItems[L];Y=(A.minimumSize-A.size)/2,P=(A.maximumSize-A.size)/2}else{const A=this.viewItems[L+1];Y=(A.size-A.maximumSize)/2,P=(A.size-A.minimumSize)/2}let w,V;if(!B){const R=(0,c.w6)(L,-1),A=(0,c.w6)(L+1,this.viewItems.length),H=R.reduce((X,ie)=>X+(this.viewItems[ie].minimumSize-$[ie]),0),U=R.reduce((X,ie)=>X+(this.viewItems[ie].viewMaximumSize-$[ie]),0),G=A.length===0?Number.POSITIVE_INFINITY:A.reduce((X,ie)=>X+($[ie]-this.viewItems[ie].minimumSize),0),j=A.length===0?Number.NEGATIVE_INFINITY:A.reduce((X,ie)=>X+($[ie]-this.viewItems[ie].viewMaximumSize),0),W=Math.max(H,j),K=Math.min(G,U),m=this.findFirstSnapIndex(R),J=this.findFirstSnapIndex(A);if(typeof m=="number"){const X=this.viewItems[m],ie=Math.floor(X.viewMinimumSize/2);w={index:m,limitDelta:X.visible?W-ie:W+ie,size:X.size}}if(typeof J=="number"){const X=this.viewItems[J],ie=Math.floor(X.viewMinimumSize/2);V={index:J,limitDelta:X.visible?K+ie:K-ie,size:X.size}}}this.sashDragState={start:F,current:F,index:L,sizes:$,minDelta:Y,maxDelta:P,alt:B,snapBefore:w,snapAfter:V,disposable:O}};T(y,C)}onSashChange({current:g}){const{index:y,start:C,sizes:L,alt:O,minDelta:T,maxDelta:F,snapBefore:B,snapAfter:$}=this.sashDragState;this.sashDragState.current=g;const Y=g-C,P=this.resize(y,Y,L,void 0,void 0,T,F,B,$);if(O){const w=y===this.sashItems.length-1,V=this.viewItems.map(j=>j.size),R=w?y:y+1,A=this.viewItems[R],H=A.size-A.maximumSize,U=A.size-A.minimumSize,G=w?y-1:y+1;this.resize(G,-P,V,void 0,void 0,H,U)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(g){this._onDidSashChange.fire(g),this.sashDragState.disposable.dispose(),this.saveProportions();for(const y of this.viewItems)y.enabled=!0}onViewChange(g,y){const C=this.viewItems.indexOf(g);C<0||C>=this.viewItems.length||(y=typeof y=="number"?y:g.size,y=(0,D.uZ)(y,g.minimumSize,g.maximumSize),this.inverseAltBehavior&&C>0?(this.resize(C-1,Math.floor((g.size-y)/2)),this.distributeEmptySpace(),this.layoutViews()):(g.size=y,this.relayout([C],void 0)))}resizeView(g,y){if(!(g<0||g>=this.viewItems.length)){if(this.state!==f.Idle)throw new Error("Cant modify splitview");this.state=f.Busy;try{const C=(0,c.w6)(this.viewItems.length).filter(F=>F!==g),L=[...C.filter(F=>this.viewItems[F].priority===1),g],O=C.filter(F=>this.viewItems[F].priority===2),T=this.viewItems[g];y=Math.round(y),y=(0,D.uZ)(y,T.minimumSize,Math.min(T.maximumSize,this.size)),T.size=y,this.relayout(L,O)}finally{this.state=f.Idle}}}distributeViewSizes(){const g=[];let y=0;for(const F of this.viewItems)F.maximumSize-F.minimumSize>0&&(g.push(F),y+=F.size);const C=Math.floor(y/g.length);for(const F of g)F.size=(0,D.uZ)(C,F.minimumSize,F.maximumSize);const L=(0,c.w6)(this.viewItems.length),O=L.filter(F=>this.viewItems[F].priority===1),T=L.filter(F=>this.viewItems[F].priority===2);this.relayout(O,T)}getViewSize(g){return g<0||g>=this.viewItems.length?-1:this.viewItems[g].size}doAddView(g,y,C=this.viewItems.length,L){if(this.state!==f.Idle)throw new Error("Cant modify splitview");this.state=f.Busy;try{const O=(0,b.$)(".split-view-view");C===this.viewItems.length?this.viewContainer.appendChild(O):this.viewContainer.insertBefore(O,this.viewContainer.children.item(C));const T=g.onDidChange(w=>this.onViewChange(Y,w)),F=(0,M.OF)(()=>this.viewContainer.removeChild(O)),B=(0,M.F8)(T,F);let $;typeof y=="number"?$=y:(y.type==="auto"&&(this.areViewsDistributed()?y={type:"distribute"}:y={type:"split",index:y.index}),y.type==="split"?$=this.getViewSize(y.index)/2:y.type==="invisible"?$={cachedVisibleSize:y.cachedVisibleSize}:$=g.minimumSize);const Y=this.orientation===0?new i(O,g,$,B):new n(O,g,$,B);if(this.viewItems.splice(C,0,Y),this.viewItems.length>1){const w={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},V=this.orientation===0?new r.g(this.sashContainer,{getHorizontalSashTop:X=>this.getSashPosition(X),getHorizontalSashWidth:this.getSashOrthogonalSize},Ln(Xi({},w),{orientation:1})):new r.g(this.sashContainer,{getVerticalSashLeft:X=>this.getSashPosition(X),getVerticalSashHeight:this.getSashOrthogonalSize},Ln(Xi({},w),{orientation:0})),R=this.orientation===0?X=>({sash:V,start:X.startY,current:X.currentY,alt:X.altKey}):X=>({sash:V,start:X.startX,current:X.currentX,alt:X.altKey}),H=I.ju.map(V.onDidStart,R)(this.onSashStart,this),G=I.ju.map(V.onDidChange,R)(this.onSashChange,this),W=I.ju.map(V.onDidEnd,()=>this.sashItems.findIndex(X=>X.sash===V))(this.onSashEnd,this),K=V.onDidReset(()=>{const X=this.sashItems.findIndex(pe=>pe.sash===V),ie=(0,c.w6)(X,-1),le=(0,c.w6)(X+1,this.viewItems.length),fe=this.findFirstSnapIndex(ie),Le=this.findFirstSnapIndex(le);typeof fe=="number"&&!this.viewItems[fe].visible||typeof Le=="number"&&!this.viewItems[Le].visible||this._onDidSashReset.fire(X)}),m=(0,M.F8)(H,G,W,K,V),J={sash:V,disposable:m};this.sashItems.splice(C-1,0,J)}O.appendChild(g.element);let P;typeof y!="number"&&y.type==="split"&&(P=[y.index]),L||this.relayout([C],P),!L&&typeof y!="number"&&y.type==="distribute"&&this.distributeViewSizes()}finally{this.state=f.Idle}}relayout(g,y){const C=this.viewItems.reduce((L,O)=>L+O.size,0);this.resize(this.viewItems.length-1,this.size-C,void 0,g,y),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(g,y,C=this.viewItems.map(Y=>Y.size),L,O,T=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY,B,$){if(g<0||g>=this.viewItems.length)return 0;const Y=(0,c.w6)(g,-1),P=(0,c.w6)(g+1,this.viewItems.length);if(O)for(const J of O)(0,c.zI)(Y,J),(0,c.zI)(P,J);if(L)for(const J of L)(0,c.al)(Y,J),(0,c.al)(P,J);const w=Y.map(J=>this.viewItems[J]),V=Y.map(J=>C[J]),R=P.map(J=>this.viewItems[J]),A=P.map(J=>C[J]),H=Y.reduce((J,X)=>J+(this.viewItems[X].minimumSize-C[X]),0),U=Y.reduce((J,X)=>J+(this.viewItems[X].maximumSize-C[X]),0),G=P.length===0?Number.POSITIVE_INFINITY:P.reduce((J,X)=>J+(C[X]-this.viewItems[X].minimumSize),0),j=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((J,X)=>J+(C[X]-this.viewItems[X].maximumSize),0),W=Math.max(H,j,T),K=Math.min(G,U,F);let m=!1;if(B){const J=this.viewItems[B.index],X=y>=B.limitDelta;m=X!==J.visible,J.setVisible(X,B.size)}if(!m&&$){const J=this.viewItems[$.index],X=y<$.limitDelta;m=X!==J.visible,J.setVisible(X,$.size)}if(m)return this.resize(g,y,C,L,O,T,F);y=(0,D.uZ)(y,W,K);for(let J=0,X=y;J<w.length;J++){const ie=w[J],le=(0,D.uZ)(V[J]+X,ie.minimumSize,ie.maximumSize),fe=le-V[J];X-=fe,ie.size=le}for(let J=0,X=y;J<R.length;J++){const ie=R[J],le=(0,D.uZ)(A[J]-X,ie.minimumSize,ie.maximumSize),fe=le-A[J];X+=fe,ie.size=le}return y}distributeEmptySpace(g){const y=this.viewItems.reduce((F,B)=>F+B.size,0);let C=this.size-y;const L=(0,c.w6)(this.viewItems.length-1,-1),O=L.filter(F=>this.viewItems[F].priority===1),T=L.filter(F=>this.viewItems[F].priority===2);for(const F of T)(0,c.zI)(L,F);for(const F of O)(0,c.al)(L,F);typeof g=="number"&&(0,c.al)(L,g);for(let F=0;C!==0&&F<L.length;F++){const B=this.viewItems[L[F]],$=(0,D.uZ)(B.size+C,B.minimumSize,B.maximumSize),Y=$-B.size;C-=Y,B.size=$}}layoutViews(){this._contentSize=this.viewItems.reduce((y,C)=>y+C.size,0);let g=0;for(const y of this.viewItems)y.layout(g,this.layoutContext),g+=y.size;this.sashItems.forEach(y=>y.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let g=!1;const y=this.viewItems.map(B=>g=B.size-B.minimumSize>0||g);g=!1;const C=this.viewItems.map(B=>g=B.maximumSize-B.size>0||g),L=[...this.viewItems].reverse();g=!1;const O=L.map(B=>g=B.size-B.minimumSize>0||g).reverse();g=!1;const T=L.map(B=>g=B.maximumSize-B.size>0||g).reverse();let F=0;for(let B=0;B<this.sashItems.length;B++){const{sash:$}=this.sashItems[B],Y=this.viewItems[B];F+=Y.size;const P=!(y[B]&&T[B+1]),w=!(C[B]&&O[B+1]);if(P&&w){const V=(0,c.w6)(B,-1),R=(0,c.w6)(B+1,this.viewItems.length),A=this.findFirstSnapIndex(V),H=this.findFirstSnapIndex(R),U=typeof A=="number"&&!this.viewItems[A].visible,G=typeof H=="number"&&!this.viewItems[H].visible;U&&O[B]&&(F>0||this.startSnappingEnabled)?$.state=1:G&&y[B]&&(F<this._contentSize||this.endSnappingEnabled)?$.state=2:$.state=0}else P&&!w?$.state=1:!P&&w?$.state=2:$.state=3}}getSashPosition(g){let y=0;for(let C=0;C<this.sashItems.length;C++)if(y+=this.viewItems[C].size,this.sashItems[C].sash===g)return y;return 0}findFirstSnapIndex(g){for(const y of g){const C=this.viewItems[y];if(C.visible&&C.snap)return y}for(const y of g){const C=this.viewItems[y];if(C.visible&&C.maximumSize-C.minimumSize>0)return;if(!C.visible&&C.snap)return y}}areViewsDistributed(){let g,y;for(const C of this.viewItems)if(g=g===void 0?C.size:Math.min(g,C.size),y=y===void 0?C.size:Math.max(y,C.size),y-g>2)return!1;return!0}dispose(){var g;(g=this.sashDragState)===null||g===void 0||g.disposable.dispose(),(0,M.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(y=>y.disposable.dispose()),this.sashItems=[],super.dispose()}}},40032:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return c},D:function(){return E}});var b=e(93794),z=e(25670),r=e(4669);const E={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class c extends b.${constructor(I){super(),this._onChange=this._register(new r.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new r.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=I,this._checked=this._opts.isChecked;const M=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,M.push(...z.k.asClassNameArray(this._icon))),this._opts.actionClassName&&M.push(...this._opts.actionClassName.split(" ")),this._checked&&M.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...M),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,D=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),D.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,D=>{if(D.keyCode===10||D.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),D.preventDefault(),D.stopPropagation();return}this._onKeyDown.fire(D)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(I){this._checked=I,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},93794:function(Pt,Ke,e){"use strict";e.d(Ke,{$:function(){return _}});var b=e(65321),z=e(59069),r=e(7317),E=e(10553),c=e(5976);class _ extends c.JT{onclick(M,D){this._register(b.nm(M,b.tw.CLICK,p=>D(new r.n(b.Jj(M),p))))}onmousedown(M,D){this._register(b.nm(M,b.tw.MOUSE_DOWN,p=>D(new r.n(b.Jj(M),p))))}onmouseover(M,D){this._register(b.nm(M,b.tw.MOUSE_OVER,p=>D(new r.n(b.Jj(M),p))))}onmouseleave(M,D){this._register(b.nm(M,b.tw.MOUSE_LEAVE,p=>D(new r.n(b.Jj(M),p))))}onkeydown(M,D){this._register(b.nm(M,b.tw.KEY_DOWN,p=>D(new z.y(p))))}onkeyup(M,D){this._register(b.nm(M,b.tw.KEY_UP,p=>D(new z.y(p))))}oninput(M,D){this._register(b.nm(M,b.tw.INPUT,D))}onblur(M,D){this._register(b.nm(M,b.tw.BLUR,D))}onfocus(M,D){this._register(b.nm(M,b.tw.FOCUS,D))}ignoreGesture(M){return E.o.ignoreTarget(M)}}},48906:function(Pt,Ke,e){"use strict";e.d(Ke,{Ex:function(){return z},HA:function(){return b},vO:function(){return r}});function b(E,c){const _=E;typeof _.vscodeWindowId!="number"&&Object.defineProperty(_,"vscodeWindowId",{get:()=>c})}const z=window,r=z},74741:function(Pt,Ke,e){"use strict";e.d(Ke,{Wi:function(){return c},Z0:function(){return _},aU:function(){return E},eZ:function(){return M},wY:function(){return I},xw:function(){return D}});var b=e(4669),z=e(5976),r=e(63580);class E extends z.JT{constructor(o,d="",u="",i=!0,n){super(),this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=o,this._label=d,this._cssClass=u,this._enabled=i,this._actionCallback=n}get id(){return this._id}get label(){return this._label}set label(o){this._setLabel(o)}_setLabel(o){this._label!==o&&(this._label=o,this._onDidChange.fire({label:o}))}get tooltip(){return this._tooltip||""}set tooltip(o){this._setTooltip(o)}_setTooltip(o){this._tooltip!==o&&(this._tooltip=o,this._onDidChange.fire({tooltip:o}))}get class(){return this._cssClass}set class(o){this._setClass(o)}_setClass(o){this._cssClass!==o&&(this._cssClass=o,this._onDidChange.fire({class:o}))}get enabled(){return this._enabled}set enabled(o){this._setEnabled(o)}_setEnabled(o){this._enabled!==o&&(this._enabled=o,this._onDidChange.fire({enabled:o}))}get checked(){return this._checked}set checked(o){this._setChecked(o)}_setChecked(o){this._checked!==o&&(this._checked=o,this._onDidChange.fire({checked:o}))}run(o,d){return qt(this,null,function*(){this._actionCallback&&(yield this._actionCallback(o))})}}class c extends z.JT{constructor(){super(...arguments),this._onWillRun=this._register(new b.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new b.Q5),this.onDidRun=this._onDidRun.event}run(o,d){return qt(this,null,function*(){if(!o.enabled)return;this._onWillRun.fire({action:o});let u;try{yield this.runAction(o,d)}catch(i){u=i}this._onDidRun.fire({action:o,error:u})})}runAction(o,d){return qt(this,null,function*(){yield o.run(d)})}}class _{constructor(){this.id=_.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...o){let d=[];for(const u of o)u.length&&(d.length?d=[...d,new _,...u]:d=u);return d}run(){return qt(this,null,function*(){})}}_.ID="vs.actions.separator";class I{get actions(){return this._actions}constructor(o,d,u,i){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=o,this.label=d,this.class=i,this._actions=u}run(){return qt(this,null,function*(){})}}class M extends E{constructor(){super(M.ID,r.NC("submenu.empty","(empty)"),void 0,!1)}}M.ID="vs.actions.empty";function D(p){var o,d;return{id:p.id,label:p.label,class:p.class,enabled:(o=p.enabled)!==null&&o!==void 0?o:!0,checked:(d=p.checked)!==null&&d!==void 0?d:!1,run:(...u)=>qt(this,null,function*(){return p.run(...u)}),tooltip:p.label}}},9488:function(Pt,Ke,e){"use strict";e.d(Ke,{BV:function(){return V},EB:function(){return f},Gb:function(){return b},H9:function(){return R},HW:function(){return I},JH:function(){return z},KO:function(){return o},LS:function(){return E},Of:function(){return n},Rs:function(){return u},W$:function(){return A},XY:function(){return i},Xh:function(){return v},Zv:function(){return S},_2:function(){return L},al:function(){return y},db:function(){return T},fS:function(){return r},f_:function(){return Y},fv:function(){return P},kX:function(){return d},mw:function(){return D},nW:function(){return w},ry:function(){return c},tT:function(){return $},vA:function(){return C},vM:function(){return M},w6:function(){return a},zI:function(){return g},zy:function(){return p}});function b(H,U=0){return H[H.length-(1+U)]}function z(H){if(H.length===0)throw new Error("Invalid tail call");return[H.slice(0,H.length-1),H[H.length-1]]}function r(H,U,G=(j,W)=>j===W){if(H===U)return!0;if(!H||!U||H.length!==U.length)return!1;for(let j=0,W=H.length;j<W;j++)if(!G(H[j],U[j]))return!1;return!0}function E(H,U){const G=H.length-1;U<G&&(H[U]=H[G]),H.pop()}function c(H,U,G){return _(H.length,j=>G(H[j],U))}function _(H,U){let G=0,j=H-1;for(;G<=j;){const W=(G+j)/2|0,K=U(W);if(K<0)G=W+1;else if(K>0)j=W-1;else return W}return-(G+1)}function I(H,U,G){if(H=H|0,H>=U.length)throw new TypeError("invalid index");const j=U[Math.floor(U.length*Math.random())],W=[],K=[],m=[];for(const J of U){const X=G(J,j);X<0?W.push(J):X>0?K.push(J):m.push(J)}return H<W.length?I(H,W,G):H<W.length+m.length?m[0]:I(H-(W.length+m.length),K,G)}function M(H,U){const G=[];let j;for(const W of H.slice(0).sort(U))!j||U(j[0],W)!==0?(j=[W],G.push(j)):j.push(W);return G}function*D(H,U){let G,j;for(const W of H)j!==void 0&&U(j,W)?G.push(W):(G&&(yield G),G=[W]),j=W;G&&(yield G)}function p(H,U){for(let G=0;G<=H.length;G++)U(G===0?void 0:H[G-1],G===H.length?void 0:H[G])}function o(H,U){for(let G=0;G<H.length;G++)U(G===0?void 0:H[G-1],H[G],G+1===H.length?void 0:H[G+1])}function d(H){return H.filter(U=>!!U)}function u(H){let U=0;for(let G=0;G<H.length;G++)H[G]&&(H[U]=H[G],U+=1);H.length=U}function i(H){return!Array.isArray(H)||H.length===0}function n(H){return Array.isArray(H)&&H.length>0}function f(H,U=G=>G){const G=new Set;return H.filter(j=>{const W=U(j);return G.has(W)?!1:(G.add(W),!0)})}function v(H,U){return H.length>0?H[0]:U}function a(H,U){let G=typeof U=="number"?H:0;typeof U=="number"?G=H:(G=0,U=H);const j=[];if(G<=U)for(let W=G;W<U;W++)j.push(W);else for(let W=G;W>U;W--)j.push(W);return j}function S(H,U,G){const j=H.slice(0,U),W=H.slice(U);return j.concat(G,W)}function g(H,U){const G=H.indexOf(U);G>-1&&(H.splice(G,1),H.unshift(U))}function y(H,U){const G=H.indexOf(U);G>-1&&(H.splice(G,1),H.push(U))}function C(H,U){for(const G of U)H.push(G)}function L(H){return Array.isArray(H)?H:[H]}function O(H,U,G){const j=F(H,U),W=H.length,K=G.length;H.length=W+K;for(let m=W-1;m>=j;m--)H[m+K]=H[m];for(let m=0;m<K;m++)H[m+j]=G[m]}function T(H,U,G,j){const W=F(H,U);let K=H.splice(W,G);return K===void 0&&(K=[]),O(H,W,j),K}function F(H,U){return U<0?Math.max(U+H.length,0):Math.min(U,H.length)}var B;(function(H){function U(K){return K<0}H.isLessThan=U;function G(K){return K<=0}H.isLessThanOrEqual=G;function j(K){return K>0}H.isGreaterThan=j;function W(K){return K===0}H.isNeitherLessOrGreaterThan=W,H.greaterThan=1,H.lessThan=-1,H.neitherLessOrGreaterThan=0})(B||(B={}));function $(H,U){return(G,j)=>U(H(G),H(j))}function Y(...H){return(U,G)=>{for(const j of H){const W=j(U,G);if(!B.isNeitherLessOrGreaterThan(W))return W}return B.neitherLessOrGreaterThan}}const P=(H,U)=>H-U,w=(H,U)=>P(H?1:0,U?1:0);function V(H){return(U,G)=>-H(U,G)}class R{constructor(U){this.items=U,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(U){let G=this.firstIdx;for(;G<this.items.length&&U(this.items[G]);)G++;const j=G===this.firstIdx?null:this.items.slice(this.firstIdx,G);return this.firstIdx=G,j}takeFromEndWhile(U){let G=this.lastIdx;for(;G>=0&&U(this.items[G]);)G--;const j=G===this.lastIdx?null:this.items.slice(G+1,this.lastIdx+1);return this.lastIdx=G,j}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const U=this.items[this.firstIdx];return this.firstIdx++,U}takeCount(U){const G=this.items.slice(this.firstIdx,this.firstIdx+U);return this.firstIdx+=U,G}}class A{constructor(U){this.iterate=U}toArray(){const U=[];return this.iterate(G=>(U.push(G),!0)),U}filter(U){return new A(G=>this.iterate(j=>U(j)?G(j):!0))}map(U){return new A(G=>this.iterate(j=>G(U(j))))}findLast(U){let G;return this.iterate(j=>(U(j)&&(G=j),!0)),G}findLastMaxBy(U){let G,j=!0;return this.iterate(W=>((j||B.isGreaterThan(U(W,G)))&&(j=!1,G=W),!0)),G}}A.empty=new A(H=>{})},35534:function(Pt,Ke,e){"use strict";e.d(Ke,{Fr:function(){return d},J_:function(){return _},Jw:function(){return E},Ph:function(){return p},b1:function(){return I},cn:function(){return c},dF:function(){return b},dI:function(){return M},jV:function(){return D},tQ:function(){return o},ti:function(){return r}});function b(u,i,n){const f=z(u,i);if(f!==-1)return u[f]}function z(u,i,n=u.length-1){for(let f=n;f>=0;f--){const v=u[f];if(i(v))return f}return-1}function r(u,i){const n=E(u,i);return n===-1?void 0:u[n]}function E(u,i,n=0,f=u.length){let v=n,a=f;for(;v<a;){const S=Math.floor((v+a)/2);i(u[S])?v=S+1:a=S}return v-1}function c(u,i){const n=_(u,i);return n===u.length?void 0:u[n]}function _(u,i,n=0,f=u.length){let v=n,a=f;for(;v<a;){const S=Math.floor((v+a)/2);i(u[S])?a=S:v=S+1}return v}class I{constructor(i){this._array=i,this._findLastMonotonousLastIdx=0}findLastMonotonous(i){if(I.assertInvariants){if(this._prevFindLastPredicate){for(const f of this._array)if(this._prevFindLastPredicate(f)&&!i(f))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=i}const n=E(this._array,i,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=n+1,n===-1?void 0:this._array[n]}}I.assertInvariants=!1;function M(u,i){if(u.length===0)return;let n=u[0];for(let f=1;f<u.length;f++){const v=u[f];i(v,n)>0&&(n=v)}return n}function D(u,i){if(u.length===0)return;let n=u[0];for(let f=1;f<u.length;f++){const v=u[f];i(v,n)>=0&&(n=v)}return n}function p(u,i){return M(u,(n,f)=>-i(n,f))}function o(u,i){if(u.length===0)return-1;let n=0;for(let f=1;f<u.length;f++){const v=u[f];i(v,u[n])>0&&(n=f)}return n}function d(u,i){for(const n of u){const f=i(n);if(f!==void 0)return f}}},35146:function(Pt,Ke,e){"use strict";e.d(Ke,{DM:function(){return c},eZ:function(){return E},ok:function(){return z},vE:function(){return r}});var b=e(17301);function z(_,I){if(!_)throw new Error(I?`Assertion failed (${I})`:"Assertion Failed")}function r(_,I="Unreachable"){throw new Error(I)}function E(_){if(!_()){debugger;_(),(0,b.dL)(new b.he("Assertion Failed"))}}function c(_,I){let M=0;for(;M<_.length-1;){const D=_[M],p=_[M+1];if(!I(D,p))return!1;M++}return!0}},15393:function(Pt,Ke,e){"use strict";e.d(Ke,{Aq:function(){return B},CR:function(){return T},J8:function(){return I},PG:function(){return M},Ps:function(){return v},R5:function(){return O},Vg:function(){return f},Vs:function(){return n},_F:function(){return a},eP:function(){return D},hF:function(){return L},jT:function(){return F},jg:function(){return y},pY:function(){return g},rH:function(){return i},vp:function(){return u},y5:function(){return C},zS:function(){return Y},zh:function(){return S}});var b=e(71050),z=e(17301),r=e(4669),E=e(5976),c=e(1432),_=e(5635);function I(P){return!!P&&typeof P.then=="function"}function M(P){const w=new b.A,V=P(w.token),R=new Promise((A,H)=>{const U=w.token.onCancellationRequested(()=>{U.dispose(),w.dispose(),H(new z.FU)});Promise.resolve(V).then(G=>{U.dispose(),w.dispose(),A(G)},G=>{U.dispose(),w.dispose(),H(G)})});return new class{cancel(){w.cancel()}then(A,H){return R.then(A,H)}catch(A){return this.then(void 0,A)}finally(A){return R.finally(A)}}}function D(P,w,V){return new Promise((R,A)=>{const H=w.onCancellationRequested(()=>{H.dispose(),R(V)});P.then(R,A).finally(()=>H.dispose())})}class p{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(w){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=w,!this.queuedPromise){const V=()=>{if(this.queuedPromise=null,this.isDisposed)return;const R=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,R};this.queuedPromise=new Promise(R=>{this.activePromise.then(V,V).then(R)})}return new Promise((V,R)=>{this.queuedPromise.then(V,R)})}return this.activePromise=w(),new Promise((V,R)=>{this.activePromise.then(A=>{this.activePromise=null,V(A)},A=>{this.activePromise=null,R(A)})})}dispose(){this.isDisposed=!0}}const o=(P,w)=>{let V=!0;const R=setTimeout(()=>{V=!1,w()},P);return{isTriggered:()=>V,dispose:()=>{clearTimeout(R),V=!1}}},d=P=>{let w=!0;return queueMicrotask(()=>{w&&(w=!1,P())}),{isTriggered:()=>w,dispose:()=>{w=!1}}};class u{constructor(w){this.defaultDelay=w,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(w,V=this.defaultDelay){this.task=w,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((A,H)=>{this.doResolve=A,this.doReject=H}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const A=this.task;return this.task=null,A()}}));const R=()=>{var A;this.deferred=null,(A=this.doResolve)===null||A===void 0||A.call(this,null)};return this.deferred=V===_.n?d(R):o(V,R),this.completionPromise}isTriggered(){var w;return!!(!((w=this.deferred)===null||w===void 0)&&w.isTriggered())}cancel(){var w;this.cancelTimeout(),this.completionPromise&&((w=this.doReject)===null||w===void 0||w.call(this,new z.FU),this.completionPromise=null)}cancelTimeout(){var w;(w=this.deferred)===null||w===void 0||w.dispose(),this.deferred=null}dispose(){this.cancel()}}class i{constructor(w){this.delayer=new u(w),this.throttler=new p}trigger(w,V){return this.delayer.trigger(()=>this.throttler.queue(w),V)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function n(P,w){return w?new Promise((V,R)=>{const A=setTimeout(()=>{H.dispose(),V()},P),H=w.onCancellationRequested(()=>{clearTimeout(A),H.dispose(),R(new z.FU)})}):M(V=>n(P,V))}function f(P,w=0,V){const R=setTimeout(()=>{P(),V&&A.dispose()},w),A=(0,E.OF)(()=>{clearTimeout(R),V==null||V.deleteAndLeak(A)});return V==null||V.add(A),A}function v(P,w=R=>!!R,V=null){let R=0;const A=P.length,H=()=>{if(R>=A)return Promise.resolve(V);const U=P[R++];return Promise.resolve(U()).then(j=>w(j)?Promise.resolve(j):H())};return H()}class a{constructor(w,V){this._token=-1,typeof w=="function"&&typeof V=="number"&&this.setIfNotSet(w,V)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(w,V){this.cancel(),this._token=setTimeout(()=>{this._token=-1,w()},V)}setIfNotSet(w,V){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,w()},V))}}class S{constructor(){this.disposable=void 0}cancel(){var w;(w=this.disposable)===null||w===void 0||w.dispose(),this.disposable=void 0}cancelAndSet(w,V,R=globalThis){this.cancel();const A=R.setInterval(()=>{w()},V);this.disposable=(0,E.OF)(()=>{R.clearInterval(A),this.disposable=void 0})}dispose(){this.cancel()}}class g{constructor(w,V){this.timeoutToken=-1,this.runner=w,this.timeout=V,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(w=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,w)}get delay(){return this.timeout}set delay(w){this.timeout=w}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var w;(w=this.runner)===null||w===void 0||w.call(this)}}let y,C;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?C=(P,w)=>{(0,c.fn)(()=>{if(V)return;const R=Date.now()+15;w(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,R-Date.now())}}))});let V=!1;return{dispose(){V||(V=!0)}}}:C=(P,w,V)=>{const R=P.requestIdleCallback(w,typeof V=="number"?{timeout:V}:void 0);let A=!1;return{dispose(){A||(A=!0,P.cancelIdleCallback(R))}}},y=P=>C(globalThis,P)})();class L{constructor(w,V){this._didRun=!1,this._executor=()=>{try{this._value=V()}catch(R){this._error=R}finally{this._didRun=!0}},this._handle=C(w,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class O extends L{constructor(w){super(globalThis,w)}}class T{get isRejected(){var w;return((w=this.outcome)===null||w===void 0?void 0:w.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((w,V)=>{this.completeCallback=w,this.errorCallback=V})}complete(w){return new Promise(V=>{this.completeCallback(w),this.outcome={outcome:0,value:w},V()})}error(w){return new Promise(V=>{this.errorCallback(w),this.outcome={outcome:1,value:w},V()})}cancel(){return this.error(new z.FU)}}var F;(function(P){function w(R){return qt(this,null,function*(){let A;const H=yield Promise.all(R.map(U=>U.then(G=>G,G=>{A||(A=G)})));if(typeof A!="undefined")throw A;return H})}P.settled=w;function V(R){return new Promise((A,H)=>qt(this,null,function*(){try{yield R(A,H)}catch(U){H(U)}}))}P.withAsyncBody=V})(F||(F={}));class B{static fromArray(w){return new B(V=>{V.emitMany(w)})}static fromPromise(w){return new B(V=>qt(this,null,function*(){V.emitMany(yield w)}))}static fromPromises(w){return new B(V=>qt(this,null,function*(){yield Promise.all(w.map(R=>qt(this,null,function*(){return V.emitOne(yield R)})))}))}static merge(w){return new B(V=>qt(this,null,function*(){yield Promise.all(w.map(R=>qt(this,null,function*(){try{for(var A=wa(R),H,U,G;H=!(U=yield A.next()).done;H=!1){const j=U.value;V.emitOne(j)}}catch(U){G=[U]}finally{try{H&&(U=A.return)&&(yield U.call(A))}finally{if(G)throw G[0]}}})))}))}constructor(w){this._state=0,this._results=[],this._error=null,this._onStateChanged=new r.Q5,queueMicrotask(()=>qt(this,null,function*(){const V={emitOne:R=>this.emitOne(R),emitMany:R=>this.emitMany(R),reject:R=>this.reject(R)};try{yield Promise.resolve(w(V)),this.resolve()}catch(R){this.reject(R)}finally{V.emitOne=void 0,V.emitMany=void 0,V.reject=void 0}}))}[Symbol.asyncIterator](){let w=0;return{next:()=>qt(this,null,function*(){do{if(this._state===2)throw this._error;if(w<this._results.length)return{done:!1,value:this._results[w++]};if(this._state===1)return{done:!0,value:void 0};yield r.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(w,V){return new B(R=>qt(this,null,function*(){try{for(var A=wa(w),H,U,G;H=!(U=yield A.next()).done;H=!1){const j=U.value;R.emitOne(V(j))}}catch(U){G=[U]}finally{try{H&&(U=A.return)&&(yield U.call(A))}finally{if(G)throw G[0]}}}))}map(w){return B.map(this,w)}static filter(w,V){return new B(R=>qt(this,null,function*(){try{for(var A=wa(w),H,U,G;H=!(U=yield A.next()).done;H=!1){const j=U.value;V(j)&&R.emitOne(j)}}catch(U){G=[U]}finally{try{H&&(U=A.return)&&(yield U.call(A))}finally{if(G)throw G[0]}}}))}filter(w){return B.filter(this,w)}static coalesce(w){return B.filter(w,V=>!!V)}coalesce(){return B.coalesce(this)}static toPromise(w){return qt(this,null,function*(){const V=[];try{for(var R=wa(w),A,H,U;A=!(H=yield R.next()).done;A=!1){const G=H.value;V.push(G)}}catch(H){U=[H]}finally{try{A&&(H=R.return)&&(yield H.call(R))}finally{if(U)throw U[0]}}return V})}toPromise(){return B.toPromise(this)}emitOne(w){this._state===0&&(this._results.push(w),this._onStateChanged.fire())}emitMany(w){this._state===0&&(this._results=this._results.concat(w),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(w){this._state===0&&(this._state=2,this._error=w,this._onStateChanged.fire())}}B.EMPTY=B.fromArray([]);class $ extends B{constructor(w,V){super(V),this._source=w}cancel(){this._source.cancel()}}function Y(P){const w=new b.A,V=P(w.token);return new $(w,R=>qt(this,null,function*(){const A=w.token.onCancellationRequested(()=>{A.dispose(),w.dispose(),R.reject(new z.FU)});try{try{for(var H=wa(V),U,G,j;U=!(G=yield H.next()).done;U=!1){const W=G.value;if(w.token.isCancellationRequested)return;R.emitOne(W)}}catch(G){j=[G]}finally{try{U&&(G=H.return)&&(yield G.call(H))}finally{if(j)throw j[0]}}A.dispose(),w.dispose()}catch(W){A.dispose(),w.dispose(),R.reject(W)}}))}},53060:function(Pt,Ke,e){"use strict";e.d(Ke,{Ag:function(){return D},Cg:function(){return d},KN:function(){return _},Q$:function(){return o},T4:function(){return p},mP:function(){return I},oq:function(){return M}});var b=e(79579),z=e(48764).lW;const r=typeof z!="undefined",E=new b.o(()=>new Uint8Array(256));let c;class _{static wrap(i){return r&&!z.isBuffer(i)&&(i=z.from(i.buffer,i.byteOffset,i.byteLength)),new _(i)}constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}toString(){return r?this.buffer.toString():(c||(c=new TextDecoder),c.decode(this.buffer))}}function I(u,i){return u[i+0]<<0>>>0|u[i+1]<<8>>>0}function M(u,i,n){u[n+0]=i&255,i=i>>>8,u[n+1]=i&255}function D(u,i){return u[i]*Sa(2,24)+u[i+1]*Sa(2,16)+u[i+2]*Sa(2,8)+u[i+3]}function p(u,i,n){u[n+3]=i,i=i>>>8,u[n+2]=i,i=i>>>8,u[n+1]=i,i=i>>>8,u[n]=i}function o(u,i){return u[i]}function d(u,i,n){u[n]=i}},701:function(Pt,Ke,e){"use strict";e.d(Ke,{b:function(){return z},t:function(){return b}});class b{constructor(E){this.fn=E,this.lastCache=void 0,this.lastArgKey=void 0}get(E){const c=JSON.stringify(E);return this.lastArgKey!==c&&(this.lastArgKey=c,this.lastCache=this.fn(E)),this.lastCache}}class z{get cachedValues(){return this._map}constructor(E){this.fn=E,this._map=new Map}get(E){if(this._map.has(E))return this._map.get(E);const c=this.fn(E);return this._map.set(E,c),c}}},71050:function(Pt,Ke,e){"use strict";e.d(Ke,{A:function(){return c},T:function(){return r}});var b=e(4669);const z=Object.freeze(function(_,I){const M=setTimeout(_.bind(I),0);return{dispose(){clearTimeout(M)}}});var r;(function(_){function I(M){return M===_.None||M===_.Cancelled||M instanceof E?!0:!M||typeof M!="object"?!1:typeof M.isCancellationRequested=="boolean"&&typeof M.onCancellationRequested=="function"}_.isCancellationToken=I,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:b.ju.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:z})})(r||(r={}));class E{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?z:(this._emitter||(this._emitter=new b.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class c{constructor(I){this._token=void 0,this._parentListener=void 0,this._parentListener=I&&I.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new E),this._token}cancel(){this._token?this._token instanceof E&&this._token.cancel():this._token=r.Cancelled}dispose(I=!1){var M;I&&this.cancel(),(M=this._parentListener)===null||M===void 0||M.dispose(),this._token?this._token instanceof E&&this._token.dispose():this._token=r.None}}},73046:function(Pt,Ke,e){"use strict";e.d(Ke,{l:function(){return c},u:function(){return E}});var b=e(98401);const z=Object.create(null);function r(_,I){if((0,b.HD)(I)){const M=z[I];if(M===void 0)throw new Error(`${_} references an unknown codicon: ${I}`);I=M}return z[_]=I,{id:_}}function E(){return z}const c={add:r("add",6e4),plus:r("plus",6e4),gistNew:r("gist-new",6e4),repoCreate:r("repo-create",6e4),lightbulb:r("lightbulb",60001),lightBulb:r("light-bulb",60001),repo:r("repo",60002),repoDelete:r("repo-delete",60002),gistFork:r("gist-fork",60003),repoForked:r("repo-forked",60003),gitPullRequest:r("git-pull-request",60004),gitPullRequestAbandoned:r("git-pull-request-abandoned",60004),recordKeys:r("record-keys",60005),keyboard:r("keyboard",60005),tag:r("tag",60006),tagAdd:r("tag-add",60006),tagRemove:r("tag-remove",60006),gitPullRequestLabel:r("git-pull-request-label",60006),person:r("person",60007),personFollow:r("person-follow",60007),personOutline:r("person-outline",60007),personFilled:r("person-filled",60007),gitBranch:r("git-branch",60008),gitBranchCreate:r("git-branch-create",60008),gitBranchDelete:r("git-branch-delete",60008),sourceControl:r("source-control",60008),mirror:r("mirror",60009),mirrorPublic:r("mirror-public",60009),star:r("star",60010),starAdd:r("star-add",60010),starDelete:r("star-delete",60010),starEmpty:r("star-empty",60010),comment:r("comment",60011),commentAdd:r("comment-add",60011),alert:r("alert",60012),warning:r("warning",60012),search:r("search",60013),searchSave:r("search-save",60013),logOut:r("log-out",60014),signOut:r("sign-out",60014),logIn:r("log-in",60015),signIn:r("sign-in",60015),eye:r("eye",60016),eyeUnwatch:r("eye-unwatch",60016),eyeWatch:r("eye-watch",60016),circleFilled:r("circle-filled",60017),primitiveDot:r("primitive-dot",60017),closeDirty:r("close-dirty",60017),debugBreakpoint:r("debug-breakpoint",60017),debugBreakpointDisabled:r("debug-breakpoint-disabled",60017),debugHint:r("debug-hint",60017),primitiveSquare:r("primitive-square",60018),edit:r("edit",60019),pencil:r("pencil",60019),info:r("info",60020),issueOpened:r("issue-opened",60020),gistPrivate:r("gist-private",60021),gitForkPrivate:r("git-fork-private",60021),lock:r("lock",60021),mirrorPrivate:r("mirror-private",60021),close:r("close",60022),removeClose:r("remove-close",60022),x:r("x",60022),repoSync:r("repo-sync",60023),sync:r("sync",60023),clone:r("clone",60024),desktopDownload:r("desktop-download",60024),beaker:r("beaker",60025),microscope:r("microscope",60025),vm:r("vm",60026),deviceDesktop:r("device-desktop",60026),file:r("file",60027),fileText:r("file-text",60027),more:r("more",60028),ellipsis:r("ellipsis",60028),kebabHorizontal:r("kebab-horizontal",60028),mailReply:r("mail-reply",60029),reply:r("reply",60029),organization:r("organization",60030),organizationFilled:r("organization-filled",60030),organizationOutline:r("organization-outline",60030),newFile:r("new-file",60031),fileAdd:r("file-add",60031),newFolder:r("new-folder",60032),fileDirectoryCreate:r("file-directory-create",60032),trash:r("trash",60033),trashcan:r("trashcan",60033),history:r("history",60034),clock:r("clock",60034),folder:r("folder",60035),fileDirectory:r("file-directory",60035),symbolFolder:r("symbol-folder",60035),logoGithub:r("logo-github",60036),markGithub:r("mark-github",60036),github:r("github",60036),terminal:r("terminal",60037),console:r("console",60037),repl:r("repl",60037),zap:r("zap",60038),symbolEvent:r("symbol-event",60038),error:r("error",60039),stop:r("stop",60039),variable:r("variable",60040),symbolVariable:r("symbol-variable",60040),array:r("array",60042),symbolArray:r("symbol-array",60042),symbolModule:r("symbol-module",60043),symbolPackage:r("symbol-package",60043),symbolNamespace:r("symbol-namespace",60043),symbolObject:r("symbol-object",60043),symbolMethod:r("symbol-method",60044),symbolFunction:r("symbol-function",60044),symbolConstructor:r("symbol-constructor",60044),symbolBoolean:r("symbol-boolean",60047),symbolNull:r("symbol-null",60047),symbolNumeric:r("symbol-numeric",60048),symbolNumber:r("symbol-number",60048),symbolStructure:r("symbol-structure",60049),symbolStruct:r("symbol-struct",60049),symbolParameter:r("symbol-parameter",60050),symbolTypeParameter:r("symbol-type-parameter",60050),symbolKey:r("symbol-key",60051),symbolText:r("symbol-text",60051),symbolReference:r("symbol-reference",60052),goToFile:r("go-to-file",60052),symbolEnum:r("symbol-enum",60053),symbolValue:r("symbol-value",60053),symbolRuler:r("symbol-ruler",60054),symbolUnit:r("symbol-unit",60054),activateBreakpoints:r("activate-breakpoints",60055),archive:r("archive",60056),arrowBoth:r("arrow-both",60057),arrowDown:r("arrow-down",60058),arrowLeft:r("arrow-left",60059),arrowRight:r("arrow-right",60060),arrowSmallDown:r("arrow-small-down",60061),arrowSmallLeft:r("arrow-small-left",60062),arrowSmallRight:r("arrow-small-right",60063),arrowSmallUp:r("arrow-small-up",60064),arrowUp:r("arrow-up",60065),bell:r("bell",60066),bold:r("bold",60067),book:r("book",60068),bookmark:r("bookmark",60069),debugBreakpointConditionalUnverified:r("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:r("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:r("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:r("debug-breakpoint-data-unverified",60072),debugBreakpointData:r("debug-breakpoint-data",60073),debugBreakpointDataDisabled:r("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:r("debug-breakpoint-log-unverified",60074),debugBreakpointLog:r("debug-breakpoint-log",60075),debugBreakpointLogDisabled:r("debug-breakpoint-log-disabled",60075),briefcase:r("briefcase",60076),broadcast:r("broadcast",60077),browser:r("browser",60078),bug:r("bug",60079),calendar:r("calendar",60080),caseSensitive:r("case-sensitive",60081),check:r("check",60082),checklist:r("checklist",60083),chevronDown:r("chevron-down",60084),dropDownButton:r("drop-down-button",60084),chevronLeft:r("chevron-left",60085),chevronRight:r("chevron-right",60086),chevronUp:r("chevron-up",60087),chromeClose:r("chrome-close",60088),chromeMaximize:r("chrome-maximize",60089),chromeMinimize:r("chrome-minimize",60090),chromeRestore:r("chrome-restore",60091),circle:r("circle",60092),circleOutline:r("circle-outline",60092),debugBreakpointUnverified:r("debug-breakpoint-unverified",60092),circleSlash:r("circle-slash",60093),circuitBoard:r("circuit-board",60094),clearAll:r("clear-all",60095),clippy:r("clippy",60096),closeAll:r("close-all",60097),cloudDownload:r("cloud-download",60098),cloudUpload:r("cloud-upload",60099),code:r("code",60100),collapseAll:r("collapse-all",60101),colorMode:r("color-mode",60102),commentDiscussion:r("comment-discussion",60103),compareChanges:r("compare-changes",60157),creditCard:r("credit-card",60105),dash:r("dash",60108),dashboard:r("dashboard",60109),database:r("database",60110),debugContinue:r("debug-continue",60111),debugDisconnect:r("debug-disconnect",60112),debugPause:r("debug-pause",60113),debugRestart:r("debug-restart",60114),debugStart:r("debug-start",60115),debugStepInto:r("debug-step-into",60116),debugStepOut:r("debug-step-out",60117),debugStepOver:r("debug-step-over",60118),debugStop:r("debug-stop",60119),debug:r("debug",60120),deviceCameraVideo:r("device-camera-video",60121),deviceCamera:r("device-camera",60122),deviceMobile:r("device-mobile",60123),diffAdded:r("diff-added",60124),diffIgnored:r("diff-ignored",60125),diffModified:r("diff-modified",60126),diffRemoved:r("diff-removed",60127),diffRenamed:r("diff-renamed",60128),diff:r("diff",60129),discard:r("discard",60130),editorLayout:r("editor-layout",60131),emptyWindow:r("empty-window",60132),exclude:r("exclude",60133),extensions:r("extensions",60134),eyeClosed:r("eye-closed",60135),fileBinary:r("file-binary",60136),fileCode:r("file-code",60137),fileMedia:r("file-media",60138),filePdf:r("file-pdf",60139),fileSubmodule:r("file-submodule",60140),fileSymlinkDirectory:r("file-symlink-directory",60141),fileSymlinkFile:r("file-symlink-file",60142),fileZip:r("file-zip",60143),files:r("files",60144),filter:r("filter",60145),flame:r("flame",60146),foldDown:r("fold-down",60147),foldUp:r("fold-up",60148),fold:r("fold",60149),folderActive:r("folder-active",60150),folderOpened:r("folder-opened",60151),gear:r("gear",60152),gift:r("gift",60153),gistSecret:r("gist-secret",60154),gist:r("gist",60155),gitCommit:r("git-commit",60156),gitCompare:r("git-compare",60157),gitMerge:r("git-merge",60158),githubAction:r("github-action",60159),githubAlt:r("github-alt",60160),globe:r("globe",60161),grabber:r("grabber",60162),graph:r("graph",60163),gripper:r("gripper",60164),heart:r("heart",60165),home:r("home",60166),horizontalRule:r("horizontal-rule",60167),hubot:r("hubot",60168),inbox:r("inbox",60169),issueClosed:r("issue-closed",60324),issueReopened:r("issue-reopened",60171),issues:r("issues",60172),italic:r("italic",60173),jersey:r("jersey",60174),json:r("json",60175),bracket:r("bracket",60175),kebabVertical:r("kebab-vertical",60176),key:r("key",60177),law:r("law",60178),lightbulbAutofix:r("lightbulb-autofix",60179),linkExternal:r("link-external",60180),link:r("link",60181),listOrdered:r("list-ordered",60182),listUnordered:r("list-unordered",60183),liveShare:r("live-share",60184),loading:r("loading",60185),location:r("location",60186),mailRead:r("mail-read",60187),mail:r("mail",60188),markdown:r("markdown",60189),megaphone:r("megaphone",60190),mention:r("mention",60191),milestone:r("milestone",60192),gitPullRequestMilestone:r("git-pull-request-milestone",60192),mortarBoard:r("mortar-board",60193),move:r("move",60194),multipleWindows:r("multiple-windows",60195),mute:r("mute",60196),noNewline:r("no-newline",60197),note:r("note",60198),octoface:r("octoface",60199),openPreview:r("open-preview",60200),package:r("package",60201),paintcan:r("paintcan",60202),pin:r("pin",60203),play:r("play",60204),run:r("run",60204),plug:r("plug",60205),preserveCase:r("preserve-case",60206),preview:r("preview",60207),project:r("project",60208),pulse:r("pulse",60209),question:r("question",60210),quote:r("quote",60211),radioTower:r("radio-tower",60212),reactions:r("reactions",60213),references:r("references",60214),refresh:r("refresh",60215),regex:r("regex",60216),remoteExplorer:r("remote-explorer",60217),remote:r("remote",60218),remove:r("remove",60219),replaceAll:r("replace-all",60220),replace:r("replace",60221),repoClone:r("repo-clone",60222),repoForcePush:r("repo-force-push",60223),repoPull:r("repo-pull",60224),repoPush:r("repo-push",60225),report:r("report",60226),requestChanges:r("request-changes",60227),rocket:r("rocket",60228),rootFolderOpened:r("root-folder-opened",60229),rootFolder:r("root-folder",60230),rss:r("rss",60231),ruby:r("ruby",60232),saveAll:r("save-all",60233),saveAs:r("save-as",60234),save:r("save",60235),screenFull:r("screen-full",60236),screenNormal:r("screen-normal",60237),searchStop:r("search-stop",60238),server:r("server",60240),settingsGear:r("settings-gear",60241),settings:r("settings",60242),shield:r("shield",60243),smiley:r("smiley",60244),sortPrecedence:r("sort-precedence",60245),splitHorizontal:r("split-horizontal",60246),splitVertical:r("split-vertical",60247),squirrel:r("squirrel",60248),starFull:r("star-full",60249),starHalf:r("star-half",60250),symbolClass:r("symbol-class",60251),symbolColor:r("symbol-color",60252),symbolCustomColor:r("symbol-customcolor",60252),symbolConstant:r("symbol-constant",60253),symbolEnumMember:r("symbol-enum-member",60254),symbolField:r("symbol-field",60255),symbolFile:r("symbol-file",60256),symbolInterface:r("symbol-interface",60257),symbolKeyword:r("symbol-keyword",60258),symbolMisc:r("symbol-misc",60259),symbolOperator:r("symbol-operator",60260),symbolProperty:r("symbol-property",60261),wrench:r("wrench",60261),wrenchSubaction:r("wrench-subaction",60261),symbolSnippet:r("symbol-snippet",60262),tasklist:r("tasklist",60263),telescope:r("telescope",60264),textSize:r("text-size",60265),threeBars:r("three-bars",60266),thumbsdown:r("thumbsdown",60267),thumbsup:r("thumbsup",60268),tools:r("tools",60269),triangleDown:r("triangle-down",60270),triangleLeft:r("triangle-left",60271),triangleRight:r("triangle-right",60272),triangleUp:r("triangle-up",60273),twitter:r("twitter",60274),unfold:r("unfold",60275),unlock:r("unlock",60276),unmute:r("unmute",60277),unverified:r("unverified",60278),verified:r("verified",60279),versions:r("versions",60280),vmActive:r("vm-active",60281),vmOutline:r("vm-outline",60282),vmRunning:r("vm-running",60283),watch:r("watch",60284),whitespace:r("whitespace",60285),wholeWord:r("whole-word",60286),window:r("window",60287),wordWrap:r("word-wrap",60288),zoomIn:r("zoom-in",60289),zoomOut:r("zoom-out",60290),listFilter:r("list-filter",60291),listFlat:r("list-flat",60292),listSelection:r("list-selection",60293),selection:r("selection",60293),listTree:r("list-tree",60294),debugBreakpointFunctionUnverified:r("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:r("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:r("debug-breakpoint-function-disabled",60296),debugStackframeActive:r("debug-stackframe-active",60297),circleSmallFilled:r("circle-small-filled",60298),debugStackframeDot:r("debug-stackframe-dot",60298),debugStackframe:r("debug-stackframe",60299),debugStackframeFocused:r("debug-stackframe-focused",60299),debugBreakpointUnsupported:r("debug-breakpoint-unsupported",60300),symbolString:r("symbol-string",60301),debugReverseContinue:r("debug-reverse-continue",60302),debugStepBack:r("debug-step-back",60303),debugRestartFrame:r("debug-restart-frame",60304),callIncoming:r("call-incoming",60306),callOutgoing:r("call-outgoing",60307),menu:r("menu",60308),expandAll:r("expand-all",60309),feedback:r("feedback",60310),gitPullRequestReviewer:r("git-pull-request-reviewer",60310),groupByRefType:r("group-by-ref-type",60311),ungroupByRefType:r("ungroup-by-ref-type",60312),account:r("account",60313),gitPullRequestAssignee:r("git-pull-request-assignee",60313),bellDot:r("bell-dot",60314),debugConsole:r("debug-console",60315),library:r("library",60316),output:r("output",60317),runAll:r("run-all",60318),syncIgnored:r("sync-ignored",60319),pinned:r("pinned",60320),githubInverted:r("github-inverted",60321),debugAlt:r("debug-alt",60305),serverProcess:r("server-process",60322),serverEnvironment:r("server-environment",60323),pass:r("pass",60324),stopCircle:r("stop-circle",60325),playCircle:r("play-circle",60326),record:r("record",60327),debugAltSmall:r("debug-alt-small",60328),vmConnect:r("vm-connect",60329),cloud:r("cloud",60330),merge:r("merge",60331),exportIcon:r("export",60332),graphLeft:r("graph-left",60333),magnet:r("magnet",60334),notebook:r("notebook",60335),redo:r("redo",60336),checkAll:r("check-all",60337),pinnedDirty:r("pinned-dirty",60338),passFilled:r("pass-filled",60339),circleLargeFilled:r("circle-large-filled",60340),circleLarge:r("circle-large",60341),circleLargeOutline:r("circle-large-outline",60341),combine:r("combine",60342),gather:r("gather",60342),table:r("table",60343),variableGroup:r("variable-group",60344),typeHierarchy:r("type-hierarchy",60345),typeHierarchySub:r("type-hierarchy-sub",60346),typeHierarchySuper:r("type-hierarchy-super",60347),gitPullRequestCreate:r("git-pull-request-create",60348),runAbove:r("run-above",60349),runBelow:r("run-below",60350),notebookTemplate:r("notebook-template",60351),debugRerun:r("debug-rerun",60352),workspaceTrusted:r("workspace-trusted",60353),workspaceUntrusted:r("workspace-untrusted",60354),workspaceUnspecified:r("workspace-unspecified",60355),terminalCmd:r("terminal-cmd",60356),terminalDebian:r("terminal-debian",60357),terminalLinux:r("terminal-linux",60358),terminalPowershell:r("terminal-powershell",60359),terminalTmux:r("terminal-tmux",60360),terminalUbuntu:r("terminal-ubuntu",60361),terminalBash:r("terminal-bash",60362),arrowSwap:r("arrow-swap",60363),copy:r("copy",60364),personAdd:r("person-add",60365),filterFilled:r("filter-filled",60366),wand:r("wand",60367),debugLineByLine:r("debug-line-by-line",60368),inspect:r("inspect",60369),layers:r("layers",60370),layersDot:r("layers-dot",60371),layersActive:r("layers-active",60372),compass:r("compass",60373),compassDot:r("compass-dot",60374),compassActive:r("compass-active",60375),azure:r("azure",60376),issueDraft:r("issue-draft",60377),gitPullRequestClosed:r("git-pull-request-closed",60378),gitPullRequestDraft:r("git-pull-request-draft",60379),debugAll:r("debug-all",60380),debugCoverage:r("debug-coverage",60381),runErrors:r("run-errors",60382),folderLibrary:r("folder-library",60383),debugContinueSmall:r("debug-continue-small",60384),beakerStop:r("beaker-stop",60385),graphLine:r("graph-line",60386),graphScatter:r("graph-scatter",60387),pieChart:r("pie-chart",60388),bracketDot:r("bracket-dot",60389),bracketError:r("bracket-error",60390),lockSmall:r("lock-small",60391),azureDevops:r("azure-devops",60392),verifiedFilled:r("verified-filled",60393),newLine:r("newline",60394),layout:r("layout",60395),layoutActivitybarLeft:r("layout-activitybar-left",60396),layoutActivitybarRight:r("layout-activitybar-right",60397),layoutPanelLeft:r("layout-panel-left",60398),layoutPanelCenter:r("layout-panel-center",60399),layoutPanelJustify:r("layout-panel-justify",60400),layoutPanelRight:r("layout-panel-right",60401),layoutPanel:r("layout-panel",60402),layoutSidebarLeft:r("layout-sidebar-left",60403),layoutSidebarRight:r("layout-sidebar-right",60404),layoutStatusbar:r("layout-statusbar",60405),layoutMenubar:r("layout-menubar",60406),layoutCentered:r("layout-centered",60407),layoutSidebarRightOff:r("layout-sidebar-right-off",60416),layoutPanelOff:r("layout-panel-off",60417),layoutSidebarLeftOff:r("layout-sidebar-left-off",60418),target:r("target",60408),indent:r("indent",60409),recordSmall:r("record-small",60410),errorSmall:r("error-small",60411),arrowCircleDown:r("arrow-circle-down",60412),arrowCircleLeft:r("arrow-circle-left",60413),arrowCircleRight:r("arrow-circle-right",60414),arrowCircleUp:r("arrow-circle-up",60415),heartFilled:r("heart-filled",60420),map:r("map",60421),mapFilled:r("map-filled",60422),circleSmall:r("circle-small",60423),bellSlash:r("bell-slash",60424),bellSlashDot:r("bell-slash-dot",60425),commentUnresolved:r("comment-unresolved",60426),gitPullRequestGoToChanges:r("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:r("git-pull-request-new-changes",60428),searchFuzzy:r("search-fuzzy",60429),commentDraft:r("comment-draft",60430),send:r("send",60431),sparkle:r("sparkle",60432),insert:r("insert",60433),mic:r("mic",60434),thumbsDownFilled:r("thumbsdown-filled",60435),thumbsUpFilled:r("thumbsup-filled",60436),coffee:r("coffee",60437),snake:r("snake",60438),game:r("game",60439),vr:r("vr",60440),chip:r("chip",60441),piano:r("piano",60442),music:r("music",60443),micFilled:r("mic-filled",60444),gitFetch:r("git-fetch",60445),copilot:r("copilot",60446),lightbulbSparkle:r("lightbulb-sparkle",60447),lightbulbSparkleAutofix:r("lightbulb-sparkle-autofix",60447),robot:r("robot",60448),sparkleFilled:r("sparkle-filled",60449),diffSingle:r("diff-single",60450),diffMultiple:r("diff-multiple",60451),dialogError:r("dialog-error","error"),dialogWarning:r("dialog-warning","warning"),dialogInfo:r("dialog-info","info"),dialogClose:r("dialog-close","close"),treeItemExpanded:r("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:r("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:r("tree-filter-on-type-off","list-selection"),treeFilterClear:r("tree-filter-clear","close"),treeItemLoading:r("tree-item-loading","loading"),menuSelection:r("menu-selection","check"),menuSubmenu:r("menu-submenu","chevron-right"),menuBarMore:r("menubar-more","more"),scrollbarButtonLeft:r("scrollbar-button-left","triangle-left"),scrollbarButtonRight:r("scrollbar-button-right","triangle-right"),scrollbarButtonUp:r("scrollbar-button-up","triangle-up"),scrollbarButtonDown:r("scrollbar-button-down","triangle-down"),toolBarMore:r("toolbar-more","more"),quickInputBack:r("quick-input-back","arrow-left")}},6626:function(Pt,Ke,e){"use strict";e.d(Ke,{j:function(){return z},q:function(){return b}});function b(r,E){const c=[],_=[];for(const I of r)E.has(I)||c.push(I);for(const I of E)r.has(I)||_.push(I);return{removed:c,added:_}}function z(r,E){const c=new Set;for(const _ of E)r.has(_)&&c.add(_);return c}},41264:function(Pt,Ke,e){"use strict";e.d(Ke,{Il:function(){return c},Oz:function(){return r},VS:function(){return z},tx:function(){return E}});function b(_,I){const M=Math.pow(10,I);return Math.round(_*M)/M}class z{constructor(I,M,D,p=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,I))|0,this.g=Math.min(255,Math.max(0,M))|0,this.b=Math.min(255,Math.max(0,D))|0,this.a=b(Math.max(Math.min(1,p),0),3)}static equals(I,M){return I.r===M.r&&I.g===M.g&&I.b===M.b&&I.a===M.a}}class r{constructor(I,M,D,p){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,I),0)|0,this.s=b(Math.max(Math.min(1,M),0),3),this.l=b(Math.max(Math.min(1,D),0),3),this.a=b(Math.max(Math.min(1,p),0),3)}static equals(I,M){return I.h===M.h&&I.s===M.s&&I.l===M.l&&I.a===M.a}static fromRGBA(I){const M=I.r/255,D=I.g/255,p=I.b/255,o=I.a,d=Math.max(M,D,p),u=Math.min(M,D,p);let i=0,n=0;const f=(u+d)/2,v=d-u;if(v>0){switch(n=Math.min(f<=.5?v/(2*f):v/(2-2*f),1),d){case M:i=(D-p)/v+(D<p?6:0);break;case D:i=(p-M)/v+2;break;case p:i=(M-D)/v+4;break}i*=60,i=Math.round(i)}return new r(i,n,f,o)}static _hue2rgb(I,M,D){return D<0&&(D+=1),D>1&&(D-=1),D<1/6?I+(M-I)*6*D:D<1/2?M:D<2/3?I+(M-I)*(2/3-D)*6:I}static toRGBA(I){const M=I.h/360,{s:D,l:p,a:o}=I;let d,u,i;if(D===0)d=u=i=p;else{const n=p<.5?p*(1+D):p+D-p*D,f=2*p-n;d=r._hue2rgb(f,n,M+1/3),u=r._hue2rgb(f,n,M),i=r._hue2rgb(f,n,M-1/3)}return new z(Math.round(d*255),Math.round(u*255),Math.round(i*255),o)}}class E{constructor(I,M,D,p){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,I),0)|0,this.s=b(Math.max(Math.min(1,M),0),3),this.v=b(Math.max(Math.min(1,D),0),3),this.a=b(Math.max(Math.min(1,p),0),3)}static equals(I,M){return I.h===M.h&&I.s===M.s&&I.v===M.v&&I.a===M.a}static fromRGBA(I){const M=I.r/255,D=I.g/255,p=I.b/255,o=Math.max(M,D,p),d=Math.min(M,D,p),u=o-d,i=o===0?0:u/o;let n;return u===0?n=0:o===M?n=((D-p)/u%6+6)%6:o===D?n=(p-M)/u+2:n=(M-D)/u+4,new E(Math.round(n*60),i,o,I.a)}static toRGBA(I){const{h:M,s:D,v:p,a:o}=I,d=p*D,u=d*(1-Math.abs(M/60%2-1)),i=p-d;let[n,f,v]=[0,0,0];return M<60?(n=d,f=u):M<120?(n=u,f=d):M<180?(f=d,v=u):M<240?(f=u,v=d):M<300?(n=u,v=d):M<=360&&(n=d,v=u),n=Math.round((n+i)*255),f=Math.round((f+i)*255),v=Math.round((v+i)*255),new z(n,f,v,o)}}class c{static fromHex(I){return c.Format.CSS.parseHex(I)||c.red}static equals(I,M){return!I&&!M?!0:!I||!M?!1:I.equals(M)}get hsla(){return this._hsla?this._hsla:r.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:E.fromRGBA(this.rgba)}constructor(I){if(I)if(I instanceof z)this.rgba=I;else if(I instanceof r)this._hsla=I,this.rgba=r.toRGBA(I);else if(I instanceof E)this._hsva=I,this.rgba=E.toRGBA(I);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(I){return!!I&&z.equals(this.rgba,I.rgba)&&r.equals(this.hsla,I.hsla)&&E.equals(this.hsva,I.hsva)}getRelativeLuminance(){const I=c._relativeLuminanceForComponent(this.rgba.r),M=c._relativeLuminanceForComponent(this.rgba.g),D=c._relativeLuminanceForComponent(this.rgba.b),p=.2126*I+.7152*M+.0722*D;return b(p,4)}static _relativeLuminanceForComponent(I){const M=I/255;return M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(I){const M=this.getRelativeLuminance(),D=I.getRelativeLuminance();return M>D}isDarkerThan(I){const M=this.getRelativeLuminance(),D=I.getRelativeLuminance();return M<D}lighten(I){return new c(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*I,this.hsla.a))}darken(I){return new c(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*I,this.hsla.a))}transparent(I){const{r:M,g:D,b:p,a:o}=this.rgba;return new c(new z(M,D,p,o*I))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new c(new z(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(I){if(this.isOpaque()||I.rgba.a!==1)return this;const{r:M,g:D,b:p,a:o}=this.rgba;return new c(new z(I.rgba.r-o*(I.rgba.r-M),I.rgba.g-o*(I.rgba.g-D),I.rgba.b-o*(I.rgba.b-p),1))}toString(){return this._toString||(this._toString=c.Format.CSS.format(this)),this._toString}static getLighterColor(I,M,D){if(I.isLighterThan(M))return I;D=D||.5;const p=I.getRelativeLuminance(),o=M.getRelativeLuminance();return D=D*(o-p)/o,I.lighten(D)}static getDarkerColor(I,M,D){if(I.isDarkerThan(M))return I;D=D||.5;const p=I.getRelativeLuminance(),o=M.getRelativeLuminance();return D=D*(p-o)/p,I.darken(D)}}c.white=new c(new z(255,255,255,1)),c.black=new c(new z(0,0,0,1)),c.red=new c(new z(255,0,0,1)),c.blue=new c(new z(0,0,255,1)),c.green=new c(new z(0,255,0,1)),c.cyan=new c(new z(0,255,255,1)),c.lightgrey=new c(new z(211,211,211,1)),c.transparent=new c(new z(0,0,0,0)),function(_){let I;(function(M){let D;(function(p){function o(y){return y.rgba.a===1?`rgb(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b})`:_.Format.CSS.formatRGBA(y)}p.formatRGB=o;function d(y){return`rgba(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b}, ${+y.rgba.a.toFixed(2)})`}p.formatRGBA=d;function u(y){return y.hsla.a===1?`hsl(${y.hsla.h}, ${(y.hsla.s*100).toFixed(2)}%, ${(y.hsla.l*100).toFixed(2)}%)`:_.Format.CSS.formatHSLA(y)}p.formatHSL=u;function i(y){return`hsla(${y.hsla.h}, ${(y.hsla.s*100).toFixed(2)}%, ${(y.hsla.l*100).toFixed(2)}%, ${y.hsla.a.toFixed(2)})`}p.formatHSLA=i;function n(y){const C=y.toString(16);return C.length!==2?"0"+C:C}function f(y){return`#${n(y.rgba.r)}${n(y.rgba.g)}${n(y.rgba.b)}`}p.formatHex=f;function v(y,C=!1){return C&&y.rgba.a===1?_.Format.CSS.formatHex(y):`#${n(y.rgba.r)}${n(y.rgba.g)}${n(y.rgba.b)}${n(Math.round(y.rgba.a*255))}`}p.formatHexA=v;function a(y){return y.isOpaque()?_.Format.CSS.formatHex(y):_.Format.CSS.formatRGBA(y)}p.format=a;function S(y){const C=y.length;if(C===0||y.charCodeAt(0)!==35)return null;if(C===7){const L=16*g(y.charCodeAt(1))+g(y.charCodeAt(2)),O=16*g(y.charCodeAt(3))+g(y.charCodeAt(4)),T=16*g(y.charCodeAt(5))+g(y.charCodeAt(6));return new _(new z(L,O,T,1))}if(C===9){const L=16*g(y.charCodeAt(1))+g(y.charCodeAt(2)),O=16*g(y.charCodeAt(3))+g(y.charCodeAt(4)),T=16*g(y.charCodeAt(5))+g(y.charCodeAt(6)),F=16*g(y.charCodeAt(7))+g(y.charCodeAt(8));return new _(new z(L,O,T,F/255))}if(C===4){const L=g(y.charCodeAt(1)),O=g(y.charCodeAt(2)),T=g(y.charCodeAt(3));return new _(new z(16*L+L,16*O+O,16*T+T))}if(C===5){const L=g(y.charCodeAt(1)),O=g(y.charCodeAt(2)),T=g(y.charCodeAt(3)),F=g(y.charCodeAt(4));return new _(new z(16*L+L,16*O+O,16*T+T,(16*F+F)/255))}return null}p.parseHex=S;function g(y){switch(y){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(D=M.CSS||(M.CSS={}))})(I=_.Format||(_.Format={}))}(c||(c={}))},73278:function(Pt,Ke,e){"use strict";e.d(Ke,{Hl:function(){return _},Ix:function(){return c},SN:function(){return M},Z0:function(){return p},ZO:function(){return E}});var b=e(9488),z=e(53725),r=e(98e3);function E(o){return{asString:()=>qt(this,null,function*(){return o}),asFile:()=>{},value:typeof o=="string"?o:void 0}}function c(o,d,u){const i={id:(0,r.R)(),name:o,uri:d,data:u};return{asString:()=>qt(this,null,function*(){return""}),asFile:()=>i,value:void 0}}class _{constructor(){this._entries=new Map}get size(){let d=0;for(const u of this._entries)d++;return d}has(d){return this._entries.has(this.toKey(d))}matches(d){const u=[...this._entries.keys()];return z.$.some(this,([i,n])=>n.asFile())&&u.push("files"),D(I(d),u)}get(d){var u;return(u=this._entries.get(this.toKey(d)))===null||u===void 0?void 0:u[0]}append(d,u){const i=this._entries.get(d);i?i.push(u):this._entries.set(this.toKey(d),[u])}replace(d,u){this._entries.set(this.toKey(d),[u])}delete(d){this._entries.delete(this.toKey(d))}*[Symbol.iterator](){for(const[d,u]of this._entries)for(const i of u)yield[d,i]}toKey(d){return I(d)}}function I(o){return o.toLowerCase()}function M(o,d){return D(I(o),d.map(I))}function D(o,d){if(o==="*/*")return d.length>0;if(d.includes(o))return!0;const u=o.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!u)return!1;const[i,n,f]=u;return f==="*"?d.some(v=>v.startsWith(n+"/")):!1}const p=Object.freeze({create:o=>(0,b.EB)(o.map(d=>d.toString())).join(`\r
`),split:o=>o.split(`\r
`),parse:o=>p.split(o).filter(d=>!d.startsWith("#"))})},49898:function(Pt,Ke,e){"use strict";e.d(Ke,{H:function(){return b}});function b(z,r,E){let c=null,_=null;if(typeof E.value=="function"?(c="value",_=E.value,_.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof E.get=="function"&&(c="get",_=E.get),!_)throw new Error("not supported");const I=`$memoize$${r}`;E[c]=function(...M){return this.hasOwnProperty(I)||Object.defineProperty(this,I,{configurable:!1,enumerable:!1,writable:!1,value:_.apply(this,M)}),this[I]}}},22571:function(Pt,Ke,e){"use strict";e.d(Ke,{Hs:function(){return M},a$:function(){return E}});class b{constructor(p,o,d,u){this.originalStart=p,this.originalLength=o,this.modifiedStart=d,this.modifiedLength=u}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var z=e(89954);class r{constructor(p){this.source=p}getElements(){const p=this.source,o=new Int32Array(p.length);for(let d=0,u=p.length;d<u;d++)o[d]=p.charCodeAt(d);return o}}function E(D,p,o){return new M(new r(D),new r(p)).ComputeDiff(o).changes}class c{static Assert(p,o){if(!p)throw new Error(o)}}class _{static Copy(p,o,d,u,i){for(let n=0;n<i;n++)d[u+n]=p[o+n]}static Copy2(p,o,d,u,i){for(let n=0;n<i;n++)d[u+n]=p[o+n]}}class I{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new b(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(p,o){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_originalCount++}AddModifiedElement(p,o){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class M{constructor(p,o,d=null){this.ContinueProcessingPredicate=d,this._originalSequence=p,this._modifiedSequence=o;const[u,i,n]=M._getElements(p),[f,v,a]=M._getElements(o);this._hasStrings=n&&a,this._originalStringElements=u,this._originalElementsOrHash=i,this._modifiedStringElements=f,this._modifiedElementsOrHash=v,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(p){return p.length>0&&typeof p[0]=="string"}static _getElements(p){const o=p.getElements();if(M._isStringArray(o)){const d=new Int32Array(o.length);for(let u=0,i=o.length;u<i;u++)d[u]=(0,z.Cv)(o[u],0);return[o,d,!0]}return o instanceof Int32Array?[[],o,!1]:[[],new Int32Array(o),!1]}ElementsAreEqual(p,o){return this._originalElementsOrHash[p]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[p]===this._modifiedStringElements[o]:!0}ElementsAreStrictEqual(p,o){if(!this.ElementsAreEqual(p,o))return!1;const d=M._getStrictElement(this._originalSequence,p),u=M._getStrictElement(this._modifiedSequence,o);return d===u}static _getStrictElement(p,o){return typeof p.getStrictElement=="function"?p.getStrictElement(o):null}OriginalElementsAreEqual(p,o){return this._originalElementsOrHash[p]!==this._originalElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[p]===this._originalStringElements[o]:!0}ModifiedElementsAreEqual(p,o){return this._modifiedElementsOrHash[p]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._modifiedStringElements[p]===this._modifiedStringElements[o]:!0}ComputeDiff(p){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,p)}_ComputeDiff(p,o,d,u,i){const n=[!1];let f=this.ComputeDiffRecursive(p,o,d,u,n);return i&&(f=this.PrettifyChanges(f)),{quitEarly:n[0],changes:f}}ComputeDiffRecursive(p,o,d,u,i){for(i[0]=!1;p<=o&&d<=u&&this.ElementsAreEqual(p,d);)p++,d++;for(;o>=p&&u>=d&&this.ElementsAreEqual(o,u);)o--,u--;if(p>o||d>u){let g;return d<=u?(c.Assert(p===o+1,"originalStart should only be one more than originalEnd"),g=[new b(p,0,d,u-d+1)]):p<=o?(c.Assert(d===u+1,"modifiedStart should only be one more than modifiedEnd"),g=[new b(p,o-p+1,d,0)]):(c.Assert(p===o+1,"originalStart should only be one more than originalEnd"),c.Assert(d===u+1,"modifiedStart should only be one more than modifiedEnd"),g=[]),g}const n=[0],f=[0],v=this.ComputeRecursionPoint(p,o,d,u,n,f,i),a=n[0],S=f[0];if(v!==null)return v;if(!i[0]){const g=this.ComputeDiffRecursive(p,a,d,S,i);let y=[];return i[0]?y=[new b(a+1,o-(a+1)+1,S+1,u-(S+1)+1)]:y=this.ComputeDiffRecursive(a+1,o,S+1,u,i),this.ConcatenateChanges(g,y)}return[new b(p,o-p+1,d,u-d+1)]}WALKTRACE(p,o,d,u,i,n,f,v,a,S,g,y,C,L,O,T,F,B){let $=null,Y=null,P=new I,w=o,V=d,R=C[0]-T[0]-u,A=-1073741824,H=this.m_forwardHistory.length-1;do{const U=R+p;U===w||U<V&&a[U-1]<a[U+1]?(g=a[U+1],L=g-R-u,g<A&&P.MarkNextChange(),A=g,P.AddModifiedElement(g+1,L),R=U+1-p):(g=a[U-1]+1,L=g-R-u,g<A&&P.MarkNextChange(),A=g-1,P.AddOriginalElement(g,L+1),R=U-1-p),H>=0&&(a=this.m_forwardHistory[H],p=a[0],w=1,V=a.length-1)}while(--H>=-1);if($=P.getReverseChanges(),B[0]){let U=C[0]+1,G=T[0]+1;if($!==null&&$.length>0){const j=$[$.length-1];U=Math.max(U,j.getOriginalEnd()),G=Math.max(G,j.getModifiedEnd())}Y=[new b(U,y-U+1,G,O-G+1)]}else{P=new I,w=n,V=f,R=C[0]-T[0]-v,A=1073741824,H=F?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const U=R+i;U===w||U<V&&S[U-1]>=S[U+1]?(g=S[U+1]-1,L=g-R-v,g>A&&P.MarkNextChange(),A=g+1,P.AddOriginalElement(g+1,L+1),R=U+1-i):(g=S[U-1],L=g-R-v,g>A&&P.MarkNextChange(),A=g,P.AddModifiedElement(g+1,L+1),R=U-1-i),H>=0&&(S=this.m_reverseHistory[H],i=S[0],w=1,V=S.length-1)}while(--H>=-1);Y=P.getChanges()}return this.ConcatenateChanges($,Y)}ComputeRecursionPoint(p,o,d,u,i,n,f){let v=0,a=0,S=0,g=0,y=0,C=0;p--,d--,i[0]=0,n[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const L=o-p+(u-d),O=L+1,T=new Int32Array(O),F=new Int32Array(O),B=u-d,$=o-p,Y=p-d,P=o-u,V=($-B)%2===0;T[B]=p,F[$]=o,f[0]=!1;for(let R=1;R<=L/2+1;R++){let A=0,H=0;S=this.ClipDiagonalBound(B-R,R,B,O),g=this.ClipDiagonalBound(B+R,R,B,O);for(let G=S;G<=g;G+=2){G===S||G<g&&T[G-1]<T[G+1]?v=T[G+1]:v=T[G-1]+1,a=v-(G-B)-Y;const j=v;for(;v<o&&a<u&&this.ElementsAreEqual(v+1,a+1);)v++,a++;if(T[G]=v,v+a>A+H&&(A=v,H=a),!V&&Math.abs(G-$)<=R-1&&v>=F[G])return i[0]=v,n[0]=a,j<=F[G]&&1447>0&&R<=1447+1?this.WALKTRACE(B,S,g,Y,$,y,C,P,T,F,v,o,i,a,u,n,V,f):null}const U=(A-p+(H-d)-R)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,U))return f[0]=!0,i[0]=A,n[0]=H,U>0&&1447>0&&R<=1447+1?this.WALKTRACE(B,S,g,Y,$,y,C,P,T,F,v,o,i,a,u,n,V,f):(p++,d++,[new b(p,o-p+1,d,u-d+1)]);y=this.ClipDiagonalBound($-R,R,$,O),C=this.ClipDiagonalBound($+R,R,$,O);for(let G=y;G<=C;G+=2){G===y||G<C&&F[G-1]>=F[G+1]?v=F[G+1]-1:v=F[G-1],a=v-(G-$)-P;const j=v;for(;v>p&&a>d&&this.ElementsAreEqual(v,a);)v--,a--;if(F[G]=v,V&&Math.abs(G-B)<=R&&v<=T[G])return i[0]=v,n[0]=a,j>=T[G]&&1447>0&&R<=1447+1?this.WALKTRACE(B,S,g,Y,$,y,C,P,T,F,v,o,i,a,u,n,V,f):null}if(R<=1447){let G=new Int32Array(g-S+2);G[0]=B-S+1,_.Copy2(T,S,G,1,g-S+1),this.m_forwardHistory.push(G),G=new Int32Array(C-y+2),G[0]=$-y+1,_.Copy2(F,y,G,1,C-y+1),this.m_reverseHistory.push(G)}}return this.WALKTRACE(B,S,g,Y,$,y,C,P,T,F,v,o,i,a,u,n,V,f)}PrettifyChanges(p){for(let o=0;o<p.length;o++){const d=p[o],u=o<p.length-1?p[o+1].originalStart:this._originalElementsOrHash.length,i=o<p.length-1?p[o+1].modifiedStart:this._modifiedElementsOrHash.length,n=d.originalLength>0,f=d.modifiedLength>0;for(;d.originalStart+d.originalLength<u&&d.modifiedStart+d.modifiedLength<i&&(!n||this.OriginalElementsAreEqual(d.originalStart,d.originalStart+d.originalLength))&&(!f||this.ModifiedElementsAreEqual(d.modifiedStart,d.modifiedStart+d.modifiedLength));){const a=this.ElementsAreStrictEqual(d.originalStart,d.modifiedStart);if(this.ElementsAreStrictEqual(d.originalStart+d.originalLength,d.modifiedStart+d.modifiedLength)&&!a)break;d.originalStart++,d.modifiedStart++}const v=[null];if(o<p.length-1&&this.ChangesOverlap(p[o],p[o+1],v)){p[o]=v[0],p.splice(o+1,1),o--;continue}}for(let o=p.length-1;o>=0;o--){const d=p[o];let u=0,i=0;if(o>0){const g=p[o-1];u=g.originalStart+g.originalLength,i=g.modifiedStart+g.modifiedLength}const n=d.originalLength>0,f=d.modifiedLength>0;let v=0,a=this._boundaryScore(d.originalStart,d.originalLength,d.modifiedStart,d.modifiedLength);for(let g=1;;g++){const y=d.originalStart-g,C=d.modifiedStart-g;if(y<u||C<i||n&&!this.OriginalElementsAreEqual(y,y+d.originalLength)||f&&!this.ModifiedElementsAreEqual(C,C+d.modifiedLength))break;const O=(y===u&&C===i?5:0)+this._boundaryScore(y,d.originalLength,C,d.modifiedLength);O>a&&(a=O,v=g)}d.originalStart-=v,d.modifiedStart-=v;const S=[null];if(o>0&&this.ChangesOverlap(p[o-1],p[o],S)){p[o-1]=S[0],p.splice(o,1),o++;continue}}if(this._hasStrings)for(let o=1,d=p.length;o<d;o++){const u=p[o-1],i=p[o],n=i.originalStart-u.originalStart-u.originalLength,f=u.originalStart,v=i.originalStart+i.originalLength,a=v-f,S=u.modifiedStart,g=i.modifiedStart+i.modifiedLength,y=g-S;if(n<5&&a<20&&y<20){const C=this._findBetterContiguousSequence(f,a,S,y,n);if(C){const[L,O]=C;(L!==u.originalStart+u.originalLength||O!==u.modifiedStart+u.modifiedLength)&&(u.originalLength=L-u.originalStart,u.modifiedLength=O-u.modifiedStart,i.originalStart=L+n,i.modifiedStart=O+n,i.originalLength=v-i.originalStart,i.modifiedLength=g-i.modifiedStart)}}}return p}_findBetterContiguousSequence(p,o,d,u,i){if(o<i||u<i)return null;const n=p+o-i+1,f=d+u-i+1;let v=0,a=0,S=0;for(let g=p;g<n;g++)for(let y=d;y<f;y++){const C=this._contiguousSequenceScore(g,y,i);C>0&&C>v&&(v=C,a=g,S=y)}return v>0?[a,S]:null}_contiguousSequenceScore(p,o,d){let u=0;for(let i=0;i<d;i++){if(!this.ElementsAreEqual(p+i,o+i))return 0;u+=this._originalStringElements[p+i].length}return u}_OriginalIsBoundary(p){return p<=0||p>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[p])}_OriginalRegionIsBoundary(p,o){if(this._OriginalIsBoundary(p)||this._OriginalIsBoundary(p-1))return!0;if(o>0){const d=p+o;if(this._OriginalIsBoundary(d-1)||this._OriginalIsBoundary(d))return!0}return!1}_ModifiedIsBoundary(p){return p<=0||p>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[p])}_ModifiedRegionIsBoundary(p,o){if(this._ModifiedIsBoundary(p)||this._ModifiedIsBoundary(p-1))return!0;if(o>0){const d=p+o;if(this._ModifiedIsBoundary(d-1)||this._ModifiedIsBoundary(d))return!0}return!1}_boundaryScore(p,o,d,u){const i=this._OriginalRegionIsBoundary(p,o)?1:0,n=this._ModifiedRegionIsBoundary(d,u)?1:0;return i+n}ConcatenateChanges(p,o){const d=[];if(p.length===0||o.length===0)return o.length>0?o:p;if(this.ChangesOverlap(p[p.length-1],o[0],d)){const u=new Array(p.length+o.length-1);return _.Copy(p,0,u,0,p.length-1),u[p.length-1]=d[0],_.Copy(o,1,u,p.length,o.length-1),u}else{const u=new Array(p.length+o.length);return _.Copy(p,0,u,0,p.length),_.Copy(o,0,u,p.length,o.length),u}}ChangesOverlap(p,o,d){if(c.Assert(p.originalStart<=o.originalStart,"Left change is not less than or equal to right change"),c.Assert(p.modifiedStart<=o.modifiedStart,"Left change is not less than or equal to right change"),p.originalStart+p.originalLength>=o.originalStart||p.modifiedStart+p.modifiedLength>=o.modifiedStart){const u=p.originalStart;let i=p.originalLength;const n=p.modifiedStart;let f=p.modifiedLength;return p.originalStart+p.originalLength>=o.originalStart&&(i=o.originalStart+o.originalLength-p.originalStart),p.modifiedStart+p.modifiedLength>=o.modifiedStart&&(f=o.modifiedStart+o.modifiedLength-p.modifiedStart),d[0]=new b(u,i,n,f),!0}else return d[0]=null,!1}ClipDiagonalBound(p,o,d,u){if(p>=0&&p<u)return p;const i=d,n=u-d-1,f=o%2===0;if(p<0){const v=i%2===0;return f===v?0:1}else{const v=n%2===0;return f===v?u-1:u-2}}}},17301:function(Pt,Ke,e){"use strict";e.d(Ke,{B8:function(){return d},Cp:function(){return E},F0:function(){return D},FU:function(){return M},L6:function(){return o},b1:function(){return p},dL:function(){return r},he:function(){return i},n2:function(){return I},ri:function(){return c}});class b{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?u.isErrorNoTelemetry(f)?new u(f.message+`

`+f.stack):new Error(f.message+`

`+f.stack):f},0)}}emit(f){this.listeners.forEach(v=>{v(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}}const z=new b;function r(n){I(n)||z.onUnexpectedError(n)}function E(n){I(n)||z.onUnexpectedExternalError(n)}function c(n){if(n instanceof Error){const{name:f,message:v}=n,a=n.stacktrace||n.stack;return{$isError:!0,name:f,message:v,stack:a,noTelemetry:u.isErrorNoTelemetry(n)}}return n}const _="Canceled";function I(n){return n instanceof M?!0:n instanceof Error&&n.name===_&&n.message===_}class M extends Error{constructor(){super(_),this.name=this.message}}function D(){const n=new Error(_);return n.name=n.message,n}function p(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function o(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class d extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}class u extends Error{constructor(f){super(f),this.name="CodeExpectedError"}static fromError(f){if(f instanceof u)return f;const v=new u;return v.message=f.message,v.stack=f.stack,v}static isErrorNoTelemetry(f){return f.name==="CodeExpectedError"}}class i extends Error{constructor(f){super(f||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}}},4669:function(Pt,Ke,e){"use strict";e.d(Ke,{D0:function(){return g},E7:function(){return L},K3:function(){return S},Q5:function(){return f},SZ:function(){return y},Sp:function(){return v},ZD:function(){return O},ju:function(){return M},z5:function(){return C}});var b=e(17301),z=e(88289),r=e(5976),E=e(91741),c=e(84013);const _=!1,I=!1;var M;(function(T){T.None=()=>r.JT.None;function F(ze){if(I){const{onDidAddListener:Se}=ze,ne=d.create();let ce=0;ze.onDidAddListener=()=>{++ce===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ne.print()),Se==null||Se()}}}function B(ze,Se){return G(ze,()=>{},0,void 0,!0,void 0,Se)}T.defer=B;function $(ze){return(Se,ne=null,ce)=>{let Oe=!1,Pe;return Pe=ze(Me=>{if(!Oe)return Pe?Pe.dispose():Oe=!0,Se.call(ne,Me)},null,ce),Oe&&Pe.dispose(),Pe}}T.once=$;function Y(ze,Se,ne){return H((ce,Oe=null,Pe)=>ze(Me=>ce.call(Oe,Se(Me)),null,Pe),ne)}T.map=Y;function P(ze,Se,ne){return H((ce,Oe=null,Pe)=>ze(Me=>{Se(Me),ce.call(Oe,Me)},null,Pe),ne)}T.forEach=P;function w(ze,Se,ne){return H((ce,Oe=null,Pe)=>ze(Me=>Se(Me)&&ce.call(Oe,Me),null,Pe),ne)}T.filter=w;function V(ze){return ze}T.signal=V;function R(...ze){return(Se,ne=null,ce)=>{const Oe=(0,r.F8)(...ze.map(Pe=>Pe(Me=>Se.call(ne,Me))));return U(Oe,ce)}}T.any=R;function A(ze,Se,ne,ce){let Oe=ne;return Y(ze,Pe=>(Oe=Se(Oe,Pe),Oe),ce)}T.reduce=A;function H(ze,Se){let ne;const ce={onWillAddFirstListener(){ne=ze(Oe.fire,Oe)},onDidRemoveLastListener(){ne==null||ne.dispose()}};Se||F(ce);const Oe=new f(ce);return Se==null||Se.add(Oe),Oe.event}function U(ze,Se){return Se instanceof Array?Se.push(ze):Se&&Se.add(ze),ze}function G(ze,Se,ne=100,ce=!1,Oe=!1,Pe,Me){let ye,_e,se,ve=0,xe;const je={leakWarningThreshold:Pe,onWillAddFirstListener(){ye=ze(Qe=>{ve++,_e=Se(_e,Qe),ce&&!se&&(Ae.fire(_e),_e=void 0),xe=()=>{const rt=_e;_e=void 0,se=void 0,(!ce||ve>1)&&Ae.fire(rt),ve=0},typeof ne=="number"?(clearTimeout(se),se=setTimeout(xe,ne)):se===void 0&&(se=0,queueMicrotask(xe))})},onWillRemoveListener(){Oe&&ve>0&&(xe==null||xe())},onDidRemoveLastListener(){xe=void 0,ye.dispose()}};Me||F(je);const Ae=new f(je);return Me==null||Me.add(Ae),Ae.event}T.debounce=G;function j(ze,Se=0,ne){return T.debounce(ze,(ce,Oe)=>ce?(ce.push(Oe),ce):[Oe],Se,void 0,!0,void 0,ne)}T.accumulate=j;function W(ze,Se=(ce,Oe)=>ce===Oe,ne){let ce=!0,Oe;return w(ze,Pe=>{const Me=ce||!Se(Pe,Oe);return ce=!1,Oe=Pe,Me},ne)}T.latch=W;function K(ze,Se,ne){return[T.filter(ze,Se,ne),T.filter(ze,ce=>!Se(ce),ne)]}T.split=K;function m(ze,Se=!1,ne=[],ce){let Oe=ne.slice(),Pe=ze(_e=>{Oe?Oe.push(_e):ye.fire(_e)});ce&&ce.add(Pe);const Me=()=>{Oe==null||Oe.forEach(_e=>ye.fire(_e)),Oe=null},ye=new f({onWillAddFirstListener(){Pe||(Pe=ze(_e=>ye.fire(_e)),ce&&ce.add(Pe))},onDidAddFirstListener(){Oe&&(Se?setTimeout(Me):Me())},onDidRemoveLastListener(){Pe&&Pe.dispose(),Pe=null}});return ce&&ce.add(ye),ye.event}T.buffer=m;function J(ze,Se){return(ce,Oe,Pe)=>{const Me=Se(new ie);return ze(function(ye){const _e=Me.evaluate(ye);_e!==X&&ce.call(Oe,_e)},void 0,Pe)}}T.chain=J;const X=Symbol("HaltChainable");class ie{constructor(){this.steps=[]}map(Se){return this.steps.push(Se),this}forEach(Se){return this.steps.push(ne=>(Se(ne),ne)),this}filter(Se){return this.steps.push(ne=>Se(ne)?ne:X),this}reduce(Se,ne){let ce=ne;return this.steps.push(Oe=>(ce=Se(ce,Oe),ce)),this}latch(Se=(ne,ce)=>ne===ce){let ne=!0,ce;return this.steps.push(Oe=>{const Pe=ne||!Se(Oe,ce);return ne=!1,ce=Oe,Pe?Oe:X}),this}evaluate(Se){for(const ne of this.steps)if(Se=ne(Se),Se===X)break;return Se}}function le(ze,Se,ne=ce=>ce){const ce=(...ye)=>Me.fire(ne(...ye)),Oe=()=>ze.on(Se,ce),Pe=()=>ze.removeListener(Se,ce),Me=new f({onWillAddFirstListener:Oe,onDidRemoveLastListener:Pe});return Me.event}T.fromNodeEventEmitter=le;function fe(ze,Se,ne=ce=>ce){const ce=(...ye)=>Me.fire(ne(...ye)),Oe=()=>ze.addEventListener(Se,ce),Pe=()=>ze.removeEventListener(Se,ce),Me=new f({onWillAddFirstListener:Oe,onDidRemoveLastListener:Pe});return Me.event}T.fromDOMEventEmitter=fe;function Le(ze){return new Promise(Se=>$(ze)(Se))}T.toPromise=Le;function pe(ze){const Se=new f;return ze.then(ne=>{Se.fire(ne)},()=>{Se.fire(void 0)}).finally(()=>{Se.dispose()}),Se.event}T.fromPromise=pe;function Te(ze,Se,ne){return Se(ne),ze(ce=>Se(ce))}T.runAndSubscribe=Te;function De(ze,Se){let ne=null;function ce(Pe){ne==null||ne.dispose(),ne=new r.SL,Se(Pe,ne)}ce(void 0);const Oe=ze(Pe=>ce(Pe));return(0,r.OF)(()=>{Oe.dispose(),ne==null||ne.dispose()})}T.runAndSubscribeWithStore=De;class ae{constructor(Se,ne){this._observable=Se,this._counter=0,this._hasChanged=!1;const ce={onWillAddFirstListener:()=>{Se.addObserver(this)},onDidRemoveLastListener:()=>{Se.removeObserver(this)}};ne||F(ce),this.emitter=new f(ce),ne&&ne.add(this.emitter)}beginUpdate(Se){this._counter++}handlePossibleChange(Se){}handleChange(Se,ne){this._hasChanged=!0}endUpdate(Se){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Ne(ze,Se){return new ae(ze,Se).emitter.event}T.fromObservable=Ne;function We(ze){return(Se,ne,ce)=>{let Oe=0,Pe=!1;const Me={beginUpdate(){Oe++},endUpdate(){Oe--,Oe===0&&(ze.reportChanges(),Pe&&(Pe=!1,Se.call(ne)))},handlePossibleChange(){},handleChange(){Pe=!0}};ze.addObserver(Me),ze.reportChanges();const ye={dispose(){ze.removeObserver(Me)}};return ce instanceof r.SL?ce.add(ye):Array.isArray(ce)&&ce.push(ye),ye}}T.fromObservableLight=We})(M||(M={}));class D{constructor(F){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${F}_${D._idPool++}`,D.all.add(this)}start(F){this._stopWatch=new c.G,this.listenerCount=F}stop(){if(this._stopWatch){const F=this._stopWatch.elapsed();this.durations.push(F),this.elapsedOverall+=F,this.invocationCount+=1,this._stopWatch=void 0}}}D.all=new Set,D._idPool=0;let p=-1;class o{constructor(F,B=Math.random().toString(18).slice(2,5)){this.threshold=F,this.name=B,this._warnCountdown=0}dispose(){var F;(F=this._stacks)===null||F===void 0||F.clear()}check(F,B){const $=this.threshold;if($<=0||B<$)return;this._stacks||(this._stacks=new Map);const Y=this._stacks.get(F.value)||0;if(this._stacks.set(F.value,Y+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=$*.5;let P,w=0;for(const[V,R]of this._stacks)(!P||w<R)&&(P=V,w=R);console.warn(`[${this.name}] potential listener LEAK detected, having ${B} listeners already. MOST frequent listener (${w}):`),console.warn(P)}return()=>{const P=this._stacks.get(F.value)||0;this._stacks.set(F.value,P-1)}}}class d{static create(){var F;return new d((F=new Error().stack)!==null&&F!==void 0?F:"")}constructor(F){this.value=F}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class u{constructor(F){this.value=F}}const i=2,n=(T,F)=>{if(T instanceof u)F(T);else for(let B=0;B<T.length;B++){const $=T[B];$&&F($)}};class f{constructor(F){var B,$,Y,P,w;this._size=0,this._options=F,this._leakageMon=p>0||!((B=this._options)===null||B===void 0)&&B.leakWarningThreshold?new o((Y=($=this._options)===null||$===void 0?void 0:$.leakWarningThreshold)!==null&&Y!==void 0?Y:p):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new D(this._options._profName):void 0,this._deliveryQueue=(w=this._options)===null||w===void 0?void 0:w.deliveryQueue}dispose(){var F,B,$,Y;if(!this._disposed){if(this._disposed=!0,((F=this._deliveryQueue)===null||F===void 0?void 0:F.current)===this&&this._deliveryQueue.reset(),this._listeners){if(_){const P=this._listeners;queueMicrotask(()=>{n(P,w=>{var V;return(V=w.stack)===null||V===void 0?void 0:V.print()})})}this._listeners=void 0,this._size=0}($=(B=this._options)===null||B===void 0?void 0:B.onDidRemoveLastListener)===null||$===void 0||$.call(B),(Y=this._leakageMon)===null||Y===void 0||Y.dispose()}}get event(){var F;return(F=this._event)!==null&&F!==void 0||(this._event=(B,$,Y)=>{var P,w,V,R,A;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),r.JT.None;if(this._disposed)return r.JT.None;$&&(B=B.bind($));const H=new u(B);let U,G;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(H.stack=d.create(),U=this._leakageMon.check(H.stack,this._size+1)),_&&(H.stack=G!=null?G:d.create()),this._listeners?this._listeners instanceof u?((A=this._deliveryQueue)!==null&&A!==void 0||(this._deliveryQueue=new a),this._listeners=[this._listeners,H]):this._listeners.push(H):((w=(P=this._options)===null||P===void 0?void 0:P.onWillAddFirstListener)===null||w===void 0||w.call(P,this),this._listeners=H,(R=(V=this._options)===null||V===void 0?void 0:V.onDidAddFirstListener)===null||R===void 0||R.call(V,this)),this._size++;const j=(0,r.OF)(()=>{U==null||U(),this._removeListener(H)});return Y instanceof r.SL?Y.add(j):Array.isArray(Y)&&Y.push(j),j}),this._event}_removeListener(F){var B,$,Y,P;if(($=(B=this._options)===null||B===void 0?void 0:B.onWillRemoveListener)===null||$===void 0||$.call(B,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(Y=this._options)===null||Y===void 0?void 0:Y.onDidRemoveLastListener)===null||P===void 0||P.call(Y,this),this._size=0;return}const w=this._listeners,V=w.indexOf(F);if(V===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,w[V]=void 0;const R=this._deliveryQueue.current===this;if(this._size*i<=w.length){let A=0;for(let H=0;H<w.length;H++)w[H]?w[A++]=w[H]:R&&(this._deliveryQueue.end--,A<this._deliveryQueue.i&&this._deliveryQueue.i--);w.length=A}}_deliver(F,B){var $;if(!F)return;const Y=(($=this._options)===null||$===void 0?void 0:$.onListenerError)||b.dL;if(!Y){F.value(B);return}try{F.value(B)}catch(P){Y(P)}}_deliverQueue(F){const B=F.current._listeners;for(;F.i<F.end;)this._deliver(B[F.i++],F.value);F.reset()}fire(F){var B,$,Y,P;if(!((B=this._deliveryQueue)===null||B===void 0)&&B.current&&(this._deliverQueue(this._deliveryQueue),($=this._perfMon)===null||$===void 0||$.stop()),(Y=this._perfMon)===null||Y===void 0||Y.start(this._size),this._listeners)if(this._listeners instanceof u)this._deliver(this._listeners,F);else{const w=this._deliveryQueue;w.enqueue(this,F,this._listeners.length),this._deliverQueue(w)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}const v=()=>new a;class a{constructor(){this.i=-1,this.end=0}enqueue(F,B,$){this.i=0,this.end=$,this.current=F,this.value=B}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class S extends f{constructor(F){super(F),this._isPaused=0,this._eventQueue=new E.S,this._mergeFn=F==null?void 0:F.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const F=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(F))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(F){this._size&&(this._isPaused!==0?this._eventQueue.push(F):super.fire(F))}}class g extends S{constructor(F){var B;super(F),this._delay=(B=F.delay)!==null&&B!==void 0?B:100}fire(F){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(F)}}class y extends f{constructor(F){super(F),this._queuedEvents=[],this._mergeFn=F==null?void 0:F.merge}fire(F){this.hasListeners()&&(this._queuedEvents.push(F),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(B=>super.fire(B)),this._queuedEvents=[]}))}}class C{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new f({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(F){const B={event:F,listener:null};this.events.push(B),this.hasListeners&&this.hook(B);const $=()=>{this.hasListeners&&this.unhook(B);const Y=this.events.indexOf(B);this.events.splice(Y,1)};return(0,r.OF)((0,z.M)($))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(F=>this.hook(F))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(F=>this.unhook(F))}hook(F){F.listener=F.event(B=>this.emitter.fire(B))}unhook(F){F.listener&&F.listener.dispose(),F.listener=null}dispose(){this.emitter.dispose()}}class L{constructor(){this.buffers=[]}wrapEvent(F){return(B,$,Y)=>F(P=>{const w=this.buffers[this.buffers.length-1];w?w.push(()=>B.call($,P)):B.call($,P)},void 0,Y)}bufferEvents(F){const B=[];this.buffers.push(B);const $=F();return this.buffers.pop(),B.forEach(Y=>Y()),$}}class O{constructor(){this.listening=!1,this.inputEvent=M.None,this.inputEventListener=r.JT.None,this.emitter=new f({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(F){this.inputEvent=F,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=F(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Pt,Ke,e){"use strict";e.d(Ke,{KM:function(){return M},ej:function(){return c},fn:function(){return _},oP:function(){return p},yj:function(){return I}});var b=e(82663),z=e(1432),r=e(97295);function E(o){return o===47||o===92}function c(o){return o.replace(/[\\/]/g,b.KR.sep)}function _(o){return o.indexOf("/")===-1&&(o=c(o)),/^[a-zA-Z]:(\/|$)/.test(o)&&(o="/"+o),o}function I(o,d=b.KR.sep){if(!o)return"";const u=o.length,i=o.charCodeAt(0);if(E(i)){if(E(o.charCodeAt(1))&&!E(o.charCodeAt(2))){let f=3;const v=f;for(;f<u&&!E(o.charCodeAt(f));f++);if(v!==f&&!E(o.charCodeAt(f+1))){for(f+=1;f<u;f++)if(E(o.charCodeAt(f)))return o.slice(0,f+1).replace(/[\\/]/g,d)}}return d}else if(D(i)&&o.charCodeAt(1)===58)return E(o.charCodeAt(2))?o.slice(0,2)+d:o.slice(0,2);let n=o.indexOf("://");if(n!==-1){for(n+=3;n<u;n++)if(E(o.charCodeAt(n)))return o.slice(0,n+1)}return""}function M(o,d,u,i=b.ir){if(o===d)return!0;if(!o||!d||d.length>o.length)return!1;if(u){if(!(0,r.ok)(o,d))return!1;if(d.length===o.length)return!0;let f=d.length;return d.charAt(d.length-1)===i&&f--,o.charAt(f)===i}return d.charAt(d.length-1)!==i&&(d+=i),o.indexOf(d)===0}function D(o){return o>=65&&o<=90||o>=97&&o<=122}function p(o,d=z.ED){return d?D(o.charCodeAt(0))&&o.charCodeAt(1)===58:!1}},60075:function(Pt,Ke,e){"use strict";e.d(Ke,{CL:function(){return se},mX:function(){return ve},jB:function(){return fe},mB:function(){return Le},EW:function(){return xe},l7:function(){return Qe},ir:function(){return v},Oh:function(){return ie},XU:function(){return le},Ji:function(){return n},Sy:function(){return a},KZ:function(){return j},or:function(){return u}});var b=e(43702);function z(at){const vt=c(at);if(vt&&vt.length>0)return new Uint32Array(vt)}let r=0;const E=new Uint32Array(10);function c(at){if(r=0,_(at,M,4352),r>0||(_(at,D,4449),r>0)||(_(at,p,4520),r>0)||(_(at,o,12593),r))return E.subarray(0,r);if(at>=44032&&at<=55203){const vt=at-44032,Mt=vt%588,ti=Math.floor(vt/588),Ft=Math.floor(Mt/28),ei=Mt%28-1;if(ti<M.length?_(ti,M,0):4352+ti-12593<o.length&&_(4352+ti,o,12593),Ft<D.length?_(Ft,D,0):4449+Ft-12593<o.length&&_(4449+Ft-12593,o,12593),ei>=0&&(ei<p.length?_(ei,p,0):4520+ei-12593<o.length&&_(4520+ei-12593,o,12593)),r>0)return E.subarray(0,r)}}function _(at,vt,Mt){at>=Mt&&at<Mt+vt.length&&I(vt[at-Mt])}function I(at){at!==0&&(E[r++]=at&255,at>>8&&(E[r++]=at>>8&255),at>>16&&(E[r++]=at>>16&255))}const M=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),D=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),p=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),o=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var d=e(97295);function u(...at){return function(vt,Mt){for(let ti=0,Ft=at.length;ti<Ft;ti++){const ei=at[ti](vt,Mt);if(ei)return ei}return null}}const i=f.bind(void 0,!1),n=f.bind(void 0,!0);function f(at,vt,Mt){if(!Mt||Mt.length<vt.length)return null;let ti;return at?ti=d.ok(Mt,vt):ti=Mt.indexOf(vt)===0,ti?vt.length>0?[{start:0,end:vt.length}]:[]:null}function v(at,vt){const Mt=vt.toLowerCase().indexOf(at.toLowerCase());return Mt===-1?null:[{start:Mt,end:Mt+at.length}]}function a(at,vt){return S(at.toLowerCase(),vt.toLowerCase(),0,0)}function S(at,vt,Mt,ti){if(Mt===at.length)return[];if(ti===vt.length)return null;if(at[Mt]===vt[ti]){let Ft=null;return(Ft=S(at,vt,Mt+1,ti+1))?P({start:ti,end:ti+1},Ft):null}return S(at,vt,Mt,ti+1)}function g(at){return 97<=at&&at<=122}function y(at){return 65<=at&&at<=90}function C(at){return 48<=at&&at<=57}function L(at){return at===32||at===9||at===10||at===13}const O=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(at=>O.add(at.charCodeAt(0)));function T(at){return L(at)||O.has(at)}function F(at,vt){return at===vt||T(at)&&T(vt)}const B=new Map;function $(at){if(B.has(at))return B.get(at);let vt;const Mt=z(at);return Mt&&(vt=Mt),B.set(at,vt),vt}function Y(at){return g(at)||y(at)||C(at)}function P(at,vt){return vt.length===0?vt=[at]:at.end===vt[0].start?vt[0].start=at.start:vt.unshift(at),vt}function w(at,vt){for(let Mt=vt;Mt<at.length;Mt++){const ti=at.charCodeAt(Mt);if(y(ti)||C(ti)||Mt>0&&!Y(at.charCodeAt(Mt-1)))return Mt}return at.length}function V(at,vt,Mt,ti){if(Mt===at.length)return[];if(ti===vt.length)return null;if(at[Mt]!==vt[ti].toLowerCase())return null;{let Ft=null,ei=ti+1;for(Ft=V(at,vt,Mt+1,ti+1);!Ft&&(ei=w(vt,ei))<vt.length;)Ft=V(at,vt,Mt+1,ei),ei++;return Ft===null?null:P({start:ti,end:ti+1},Ft)}}function R(at){let vt=0,Mt=0,ti=0,Ft=0,ei=0;for(let kt=0;kt<at.length;kt++)ei=at.charCodeAt(kt),y(ei)&&vt++,g(ei)&&Mt++,Y(ei)&&ti++,C(ei)&&Ft++;const Xt=vt/at.length,Ct=Mt/at.length,ft=ti/at.length,Bt=Ft/at.length;return{upperPercent:Xt,lowerPercent:Ct,alphaPercent:ft,numericPercent:Bt}}function A(at){const{upperPercent:vt,lowerPercent:Mt}=at;return Mt===0&&vt>.6}function H(at){const{upperPercent:vt,lowerPercent:Mt,alphaPercent:ti,numericPercent:Ft}=at;return Mt>.2&&vt<.8&&ti>.6&&Ft<.2}function U(at){let vt=0,Mt=0,ti=0,Ft=0;for(let ei=0;ei<at.length;ei++)ti=at.charCodeAt(ei),y(ti)&&vt++,g(ti)&&Mt++,L(ti)&&Ft++;return(vt===0||Mt===0)&&Ft===0?at.length<=30:vt<=5}function G(at,vt){if(!vt||(vt=vt.trim(),vt.length===0)||!U(at)||vt.length>60)return null;const Mt=R(vt);if(!H(Mt)){if(!A(Mt))return null;vt=vt.toLowerCase()}let ti=null,Ft=0;for(at=at.toLowerCase();Ft<vt.length&&(ti=V(at,vt,0,Ft))===null;)Ft=w(vt,Ft+1);return ti}function j(at,vt,Mt=!1){if(!vt||vt.length===0)return null;let ti=null,Ft=0;for(at=at.toLowerCase(),vt=vt.toLowerCase();Ft<vt.length&&(ti=W(at,vt,0,Ft,Mt),ti===null);)Ft=K(vt,Ft+1);return ti}function W(at,vt,Mt,ti,Ft){let ei=0;if(Mt===at.length)return[];if(ti===vt.length)return null;if(!F(at.charCodeAt(Mt),vt.charCodeAt(ti))){const ft=$(at.charCodeAt(Mt));if(!ft)return null;for(let Bt=0;Bt<ft.length;Bt++)if(!F(ft[Bt],vt.charCodeAt(ti+Bt)))return null;ei+=ft.length-1}let Xt=null,Ct=ti+ei+1;if(Xt=W(at,vt,Mt+1,Ct,Ft),!Ft)for(;!Xt&&(Ct=K(vt,Ct))<vt.length;)Xt=W(at,vt,Mt+1,Ct,Ft),Ct++;if(!Xt)return null;if(at.charCodeAt(Mt)!==vt.charCodeAt(ti)){const ft=$(at.charCodeAt(Mt));if(!ft)return Xt;for(let Bt=0;Bt<ft.length;Bt++)if(ft[Bt]!==vt.charCodeAt(ti+Bt))return Xt}return P({start:ti,end:ti+ei+1},Xt)}function K(at,vt){for(let Mt=vt;Mt<at.length;Mt++)if(T(at.charCodeAt(Mt))||Mt>0&&T(at.charCodeAt(Mt-1)))return Mt;return at.length}const m=u(n,G,v),J=u(n,G,a),X=new b.z6(1e4);function ie(at,vt,Mt=!1){if(typeof at!="string"||typeof vt!="string")return null;let ti=X.get(at);ti||(ti=new RegExp(d.un(at),"i"),X.set(at,ti));const Ft=ti.exec(vt);return Ft?[{start:Ft.index,end:Ft.index+Ft[0].length}]:Mt?J(at,vt):m(at,vt)}function le(at,vt){const Mt=xe(at,at.toLowerCase(),0,vt,vt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Mt?Le(Mt):null}function fe(at,vt,Mt,ti,Ft,ei){const Xt=Math.min(13,at.length);for(;Mt<Xt;Mt++){const Ct=xe(at,vt,Mt,ti,Ft,ei,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ct)return Ct}return[0,ei]}function Le(at){if(typeof at=="undefined")return[];const vt=[],Mt=at[1];for(let ti=at.length-1;ti>1;ti--){const Ft=at[ti]+Mt,ei=vt[vt.length-1];ei&&ei.end===Ft?ei.end=Ft+1:vt.push({start:Ft,end:Ft+1})}return vt}const pe=128;function Te(){const at=[],vt=[];for(let Mt=0;Mt<=pe;Mt++)vt[Mt]=0;for(let Mt=0;Mt<=pe;Mt++)at.push(vt.slice(0));return at}function De(at){const vt=[];for(let Mt=0;Mt<=at;Mt++)vt[Mt]=0;return vt}const ae=De(2*pe),Ne=De(2*pe),We=Te(),ze=Te(),Se=Te(),ne=!1;function ce(at,vt,Mt,ti,Ft){function ei(Ct,ft,Bt=" "){for(;Ct.length<ft;)Ct=Bt+Ct;return Ct}let Xt=` |   |${ti.split("").map(Ct=>ei(Ct,3)).join("|")}
`;for(let Ct=0;Ct<=Mt;Ct++)Ct===0?Xt+=" |":Xt+=`${vt[Ct-1]}|`,Xt+=at[Ct].slice(0,Ft+1).map(ft=>ei(ft.toString(),3)).join("|")+`
`;return Xt}function Oe(at,vt,Mt,ti){at=at.substr(vt),Mt=Mt.substr(ti),console.log(ce(ze,at,at.length,Mt,Mt.length)),console.log(ce(Se,at,at.length,Mt,Mt.length)),console.log(ce(We,at,at.length,Mt,Mt.length))}function Pe(at,vt){if(vt<0||vt>=at.length)return!1;const Mt=at.codePointAt(vt);switch(Mt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!d.C8(Mt)}}function Me(at,vt){if(vt<0||vt>=at.length)return!1;switch(at.charCodeAt(vt)){case 32:case 9:return!0;default:return!1}}function ye(at,vt,Mt){return vt[at]!==Mt[at]}function _e(at,vt,Mt,ti,Ft,ei,Xt=!1){for(;vt<Mt&&Ft<ei;)at[vt]===ti[Ft]&&(Xt&&(ae[vt]=Ft),vt+=1),Ft+=1;return vt===Mt}var se;(function(at){at.Default=[-100,0];function vt(Mt){return!Mt||Mt.length===2&&Mt[0]===-100&&Mt[1]===0}at.isDefault=vt})(se||(se={}));class ve{constructor(vt,Mt){this.firstMatchCanBeWeak=vt,this.boostFullMatch=Mt}}ve.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function xe(at,vt,Mt,ti,Ft,ei,Xt=ve.default){const Ct=at.length>pe?pe:at.length,ft=ti.length>pe?pe:ti.length;if(Mt>=Ct||ei>=ft||Ct-Mt>ft-ei||!_e(vt,Mt,Ct,Ft,ei,ft,!0))return;je(Ct,ft,Mt,ei,vt,Ft);let Bt=1,kt=1,Ge=Mt,St=ei;const Ci=[!1];for(Bt=1,Ge=Mt;Ge<Ct;Bt++,Ge++){const un=ae[Ge],Pn=Ne[Ge],Dn=Ge+1<Ct?Ne[Ge+1]:ft;for(kt=un-ei+1,St=un;St<Dn;kt++,St++){let Gn=Number.MIN_SAFE_INTEGER,Rn=!1;St<=Pn&&(Gn=Ae(at,vt,Ge,Mt,ti,Ft,St,ft,ei,We[Bt-1][kt-1]===0,Ci));let ns=0;Gn!==Number.MAX_SAFE_INTEGER&&(Rn=!0,ns=Gn+ze[Bt-1][kt-1]);const ts=St>un,qn=ts?ze[Bt][kt-1]+(We[Bt][kt-1]>0?-5:0):0,fs=St>un+1&&We[Bt][kt-1]>0,Nn=fs?ze[Bt][kt-2]+(We[Bt][kt-2]>0?-5:0):0;if(fs&&(!ts||Nn>=qn)&&(!Rn||Nn>=ns))ze[Bt][kt]=Nn,Se[Bt][kt]=3,We[Bt][kt]=0;else if(ts&&(!Rn||qn>=ns))ze[Bt][kt]=qn,Se[Bt][kt]=2,We[Bt][kt]=0;else if(Rn)ze[Bt][kt]=ns,Se[Bt][kt]=1,We[Bt][kt]=We[Bt-1][kt-1]+1;else throw new Error("not possible")}}if(ne&&Oe(at,Mt,ti,ei),!Ci[0]&&!Xt.firstMatchCanBeWeak)return;Bt--,kt--;const Oi=[ze[Bt][kt],ei];let xi=0,Yi=0;for(;Bt>=1;){let un=kt;do{const Pn=Se[Bt][un];if(Pn===3)un=un-2;else if(Pn===2)un=un-1;else break}while(un>=1);xi>1&&vt[Mt+Bt-1]===Ft[ei+kt-1]&&!ye(un+ei-1,ti,Ft)&&xi+1>We[Bt][un]&&(un=kt),un===kt?xi++:xi=1,Yi||(Yi=un),Bt--,kt=un-1,Oi.push(kt)}ft===Ct&&Xt.boostFullMatch&&(Oi[0]+=2);const fn=Yi-Ct;return Oi[0]-=fn,Oi}function je(at,vt,Mt,ti,Ft,ei){let Xt=at-1,Ct=vt-1;for(;Xt>=Mt&&Ct>=ti;)Ft[Xt]===ei[Ct]&&(Ne[Xt]=Ct,Xt--),Ct--}function Ae(at,vt,Mt,ti,Ft,ei,Xt,Ct,ft,Bt,kt){if(vt[Mt]!==ei[Xt])return Number.MIN_SAFE_INTEGER;let Ge=1,St=!1;return Xt===Mt-ti?Ge=at[Mt]===Ft[Xt]?7:5:ye(Xt,Ft,ei)&&(Xt===0||!ye(Xt-1,Ft,ei))?(Ge=at[Mt]===Ft[Xt]?7:5,St=!0):Pe(ei,Xt)&&(Xt===0||!Pe(ei,Xt-1))?Ge=5:(Pe(ei,Xt-1)||Me(ei,Xt-1))&&(Ge=5,St=!0),Ge>1&&Mt===ti&&(kt[0]=!0),St||(St=ye(Xt,Ft,ei)||Pe(ei,Xt-1)||Me(ei,Xt-1)),Mt===ti?Xt>ft&&(Ge-=St?3:5):Bt?Ge+=St?2:0:Ge+=St?0:1,Xt+1===Ct&&(Ge-=St?3:5),Ge}function Qe(at,vt,Mt,ti,Ft,ei,Xt){return rt(at,vt,Mt,ti,Ft,ei,!0,Xt)}function rt(at,vt,Mt,ti,Ft,ei,Xt,Ct){let ft=xe(at,vt,Mt,ti,Ft,ei,Ct);if(ft&&!Xt)return ft;if(at.length>=3){const Bt=Math.min(7,at.length-1);for(let kt=Mt+1;kt<Bt;kt++){const Ge=Dt(at,kt);if(Ge){const St=xe(Ge,Ge.toLowerCase(),Mt,ti,Ft,ei,Ct);St&&(St[0]-=3,(!ft||St[0]>ft[0])&&(ft=St))}}}return ft}function Dt(at,vt){if(vt+1>=at.length)return;const Mt=at[vt],ti=at[vt+1];if(Mt!==ti)return at.slice(0,vt)+ti+Mt+at.slice(vt+2)}},88289:function(Pt,Ke,e){"use strict";e.d(Ke,{M:function(){return b}});function b(z,r){const E=this;let c=!1,_;return function(){if(c)return _;if(c=!0,r)try{_=z.apply(E,arguments)}finally{r()}else _=z.apply(E,arguments);return _}}},14118:function(Pt,Ke,e){"use strict";e.d(Ke,{EQ:function(){return V},Qc:function(){return R}});var b=e(15393),z=e(15527),r=e(43702),E=e(82663),c=e(1432),_=e(97295);const I="**",M="/",D="[/\\\\]",p="[^/\\\\]",o=/\//g;function d(j,W){switch(j){case 0:return"";case 1:return`${p}*?`;default:return`(?:${D}|${p}+${D}${W?`|${D}${p}+`:""})*?`}}function u(j,W){if(!j)return[];const K=[];let m=!1,J=!1,X="";for(const ie of j){switch(ie){case W:if(!m&&!J){K.push(X),X="";continue}break;case"{":m=!0;break;case"}":m=!1;break;case"[":J=!0;break;case"]":J=!1;break}X+=ie}return X&&K.push(X),K}function i(j){if(!j)return"";let W="";const K=u(j,M);if(K.every(m=>m===I))W=".*";else{let m=!1;K.forEach((J,X)=>{if(J===I){if(m)return;W+=d(2,X===K.length-1)}else{let ie=!1,le="",fe=!1,Le="";for(const pe of J){if(pe!=="}"&&ie){le+=pe;continue}if(fe&&(pe!=="]"||!Le)){let Te;pe==="-"?Te=pe:(pe==="^"||pe==="!")&&!Le?Te="^":pe===M?Te="":Te=(0,_.ec)(pe),Le+=Te;continue}switch(pe){case"{":ie=!0;continue;case"[":fe=!0;continue;case"}":{const De=`(?:${u(le,",").map(ae=>i(ae)).join("|")})`;W+=De,ie=!1,le="";break}case"]":{W+="["+Le+"]",fe=!1,Le="";break}case"?":W+=p;continue;case"*":W+=d(1);continue;default:W+=(0,_.ec)(pe)}}X<K.length-1&&(K[X+1]!==I||X+2<K.length)&&(W+=D)}m=J===I})}return W}const n=/^\*\*\/\*\.[\w\.-]+$/,f=/^\*\*\/([\w\.-]+)\/?$/,v=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,a=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,S=/^\*\*((\/[\w\.-]+)+)\/?$/,g=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,y=new r.z6(1e4),C=function(){return!1},L=function(){return null};function O(j,W){if(!j)return L;let K;typeof j!="string"?K=j.pattern:K=j,K=K.trim();const m=`${K}_${!!W.trimForExclusions}`;let J=y.get(m);if(J)return T(J,j);let X;return n.test(K)?J=B(K.substr(4),K):(X=f.exec(F(K,W)))?J=$(X[1],K):(W.trimForExclusions?a:v).test(K)?J=Y(K,W):(X=S.exec(F(K,W)))?J=P(X[1].substr(1),K,!0):(X=g.exec(F(K,W)))?J=P(X[1],K,!1):J=w(K),y.set(m,J),T(J,j)}function T(j,W){if(typeof W=="string")return j;const K=function(m,J){return(0,z.KM)(m,W.base,!c.IJ)?j((0,_.j3)(m.substr(W.base.length),E.ir),J):null};return K.allBasenames=j.allBasenames,K.allPaths=j.allPaths,K.basenames=j.basenames,K.patterns=j.patterns,K}function F(j,W){return W.trimForExclusions&&j.endsWith("/**")?j.substr(0,j.length-2):j}function B(j,W){return function(K,m){return typeof K=="string"&&K.endsWith(j)?W:null}}function $(j,W){const K=`/${j}`,m=`\\${j}`,J=function(ie,le){return typeof ie!="string"?null:le?le===j?W:null:ie===j||ie.endsWith(K)||ie.endsWith(m)?W:null},X=[j];return J.basenames=X,J.patterns=[W],J.allBasenames=X,J}function Y(j,W){const K=G(j.slice(1,-1).split(",").map(le=>O(le,W)).filter(le=>le!==L),j),m=K.length;if(!m)return L;if(m===1)return K[0];const J=function(le,fe){for(let Le=0,pe=K.length;Le<pe;Le++)if(K[Le](le,fe))return j;return null},X=K.find(le=>!!le.allBasenames);X&&(J.allBasenames=X.allBasenames);const ie=K.reduce((le,fe)=>fe.allPaths?le.concat(fe.allPaths):le,[]);return ie.length&&(J.allPaths=ie),J}function P(j,W,K){const m=E.ir===E.KR.sep,J=m?j:j.replace(o,E.ir),X=E.ir+J,ie=E.KR.sep+j;let le;return K?le=function(fe,Le){return typeof fe=="string"&&(fe===J||fe.endsWith(X)||!m&&(fe===j||fe.endsWith(ie)))?W:null}:le=function(fe,Le){return typeof fe=="string"&&(fe===J||!m&&fe===j)?W:null},le.allPaths=[(K?"*/":"./")+j],le}function w(j){try{const W=new RegExp(`^${i(j)}$`);return function(K){return W.lastIndex=0,typeof K=="string"&&W.test(K)?j:null}}catch(W){return L}}function V(j,W,K){return!j||typeof W!="string"?!1:R(j)(W,void 0,K)}function R(j,W={}){if(!j)return C;if(typeof j=="string"||A(j)){const K=O(j,W);if(K===L)return C;const m=function(J,X){return!!K(J,X)};return K.allBasenames&&(m.allBasenames=K.allBasenames),K.allPaths&&(m.allPaths=K.allPaths),m}return H(j,W)}function A(j){const W=j;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}function H(j,W){const K=G(Object.getOwnPropertyNames(j).map(le=>U(le,j[le],W)).filter(le=>le!==L)),m=K.length;if(!m)return L;if(!K.some(le=>!!le.requiresSiblings)){if(m===1)return K[0];const le=function(pe,Te){let De;for(let ae=0,Ne=K.length;ae<Ne;ae++){const We=K[ae](pe,Te);if(typeof We=="string")return We;(0,b.J8)(We)&&(De||(De=[]),De.push(We))}return De?(()=>qt(this,null,function*(){for(const ae of De){const Ne=yield ae;if(typeof Ne=="string")return Ne}return null}))():null},fe=K.find(pe=>!!pe.allBasenames);fe&&(le.allBasenames=fe.allBasenames);const Le=K.reduce((pe,Te)=>Te.allPaths?pe.concat(Te.allPaths):pe,[]);return Le.length&&(le.allPaths=Le),le}const J=function(le,fe,Le){let pe,Te;for(let De=0,ae=K.length;De<ae;De++){const Ne=K[De];Ne.requiresSiblings&&Le&&(fe||(fe=(0,E.EZ)(le)),pe||(pe=fe.substr(0,fe.length-(0,E.DZ)(le).length)));const We=Ne(le,fe,pe,Le);if(typeof We=="string")return We;(0,b.J8)(We)&&(Te||(Te=[]),Te.push(We))}return Te?(()=>qt(this,null,function*(){for(const De of Te){const ae=yield De;if(typeof ae=="string")return ae}return null}))():null},X=K.find(le=>!!le.allBasenames);X&&(J.allBasenames=X.allBasenames);const ie=K.reduce((le,fe)=>fe.allPaths?le.concat(fe.allPaths):le,[]);return ie.length&&(J.allPaths=ie),J}function U(j,W,K){if(W===!1)return L;const m=O(j,K);if(m===L)return L;if(typeof W=="boolean")return m;if(W){const J=W.when;if(typeof J=="string"){const X=(ie,le,fe,Le)=>{if(!Le||!m(ie,le))return null;const pe=J.replace("$(basename)",()=>fe),Te=Le(pe);return(0,b.J8)(Te)?Te.then(De=>De?j:null):Te?j:null};return X.requiresSiblings=!0,X}}return m}function G(j,W){const K=j.filter(le=>!!le.basenames);if(K.length<2)return j;const m=K.reduce((le,fe)=>{const Le=fe.basenames;return Le?le.concat(Le):le},[]);let J;if(W){J=[];for(let le=0,fe=m.length;le<fe;le++)J.push(W)}else J=K.reduce((le,fe)=>{const Le=fe.patterns;return Le?le.concat(Le):le},[]);const X=function(le,fe){if(typeof le!="string")return null;if(!fe){let pe;for(pe=le.length;pe>0;pe--){const Te=le.charCodeAt(pe-1);if(Te===47||Te===92)break}fe=le.substr(pe)}const Le=m.indexOf(fe);return Le!==-1?J[Le]:null};X.basenames=m,X.patterns=J,X.allBasenames=m;const ie=j.filter(le=>!le.basenames);return ie.push(X),ie}},89954:function(Pt,Ke,e){"use strict";e.d(Ke,{Cv:function(){return _},SP:function(){return r},vp:function(){return z},yP:function(){return u}});var b=e(97295);function z(i){return r(i,0)}function r(i,n){switch(typeof i){case"object":return i===null?E(349,n):Array.isArray(i)?I(i,n):M(i,n);case"string":return _(i,n);case"boolean":return c(i,n);case"number":return E(i,n);case"undefined":return E(937,n);default:return E(617,n)}}function E(i,n){return(n<<5)-n+i|0}function c(i,n){return E(i?433:863,n)}function _(i,n){n=E(149417,n);for(let f=0,v=i.length;f<v;f++)n=E(i.charCodeAt(f),n);return n}function I(i,n){return n=E(104579,n),i.reduce((f,v)=>r(v,f),n)}function M(i,n){return n=E(181387,n),Object.keys(i).sort().reduce((f,v)=>(f=_(v,f),r(i[v],f)),n)}function D(i,n,f=32){const v=f-n,a=~((1<<v)-1);return(i<<n|(a&i)>>>v)>>>0}function p(i,n=0,f=i.byteLength,v=0){for(let a=0;a<f;a++)i[n+a]=v}function o(i,n,f="0"){for(;i.length<n;)i=f+i;return i}function d(i,n=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(f=>f.toString(16).padStart(2,"0")).join(""):o((i>>>0).toString(16),n/4)}class u{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(n){const f=n.length;if(f===0)return;const v=this._buff;let a=this._buffLen,S=this._leftoverHighSurrogate,g,y;for(S!==0?(g=S,y=-1,S=0):(g=n.charCodeAt(0),y=0);;){let C=g;if(b.ZG(g))if(y+1<f){const L=n.charCodeAt(y+1);b.YK(L)?(y++,C=b.rL(g,L)):C=65533}else{S=g;break}else b.YK(g)&&(C=65533);if(a=this._push(v,a,C),y++,y<f)g=n.charCodeAt(y);else break}this._buffLen=a,this._leftoverHighSurrogate=S}_push(n,f,v){return v<128?n[f++]=v:v<2048?(n[f++]=192|(v&1984)>>>6,n[f++]=128|(v&63)>>>0):v<65536?(n[f++]=224|(v&61440)>>>12,n[f++]=128|(v&4032)>>>6,n[f++]=128|(v&63)>>>0):(n[f++]=240|(v&1835008)>>>18,n[f++]=128|(v&258048)>>>12,n[f++]=128|(v&4032)>>>6,n[f++]=128|(v&63)>>>0),f>=64&&(this._step(),f-=64,this._totalLen+=64,n[0]=n[64+0],n[1]=n[64+1],n[2]=n[64+2]),f}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),d(this._h0)+d(this._h1)+d(this._h2)+d(this._h3)+d(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,p(this._buff,this._buffLen),this._buffLen>56&&(this._step(),p(this._buff));const n=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(n/4294967296),!1),this._buffDV.setUint32(60,n%4294967296,!1),this._step()}_step(){const n=u._bigBlock32,f=this._buffDV;for(let T=0;T<64;T+=4)n.setUint32(T,f.getUint32(T,!1),!1);for(let T=64;T<320;T+=4)n.setUint32(T,D(n.getUint32(T-12,!1)^n.getUint32(T-32,!1)^n.getUint32(T-56,!1)^n.getUint32(T-64,!1),1),!1);let v=this._h0,a=this._h1,S=this._h2,g=this._h3,y=this._h4,C,L,O;for(let T=0;T<80;T++)T<20?(C=a&S|~a&g,L=1518500249):T<40?(C=a^S^g,L=1859775393):T<60?(C=a&S|a&g|S&g,L=2400959708):(C=a^S^g,L=3395469782),O=D(v,5)+C+y+L+n.getUint32(T*4,!1)&4294967295,y=g,g=S,S=D(a,30),a=v,v=O;this._h0=this._h0+v&4294967295,this._h1=this._h1+a&4294967295,this._h2=this._h2+S&4294967295,this._h3=this._h3+g&4294967295,this._h4=this._h4+y&4294967295}}u._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Pt,Ke,e){"use strict";e.d(Ke,{CP:function(){return I},Fr:function(){return M},W5:function(){return _},d9:function(){return o},g_:function(){return D},oR:function(){return d},v1:function(){return u}});var b=e(17301),z=e(21212),r=e(95935),E=e(97295),c=e(70666);class _{constructor(n="",f=!1){var v,a,S;if(this.value=n,typeof this.value!="string")throw(0,b.b1)("value");typeof f=="boolean"?(this.isTrusted=f,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(v=f.isTrusted)!==null&&v!==void 0?v:void 0,this.supportThemeIcons=(a=f.supportThemeIcons)!==null&&a!==void 0?a:!1,this.supportHtml=(S=f.supportHtml)!==null&&S!==void 0?S:!1)}appendText(n,f=0){return this.value+=p(this.supportThemeIcons?(0,z.Qo)(n):n).replace(/([ \t]+)/g,(v,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,f===1?`\\
`:`

`),this}appendMarkdown(n){return this.value+=n,this}appendCodeblock(n,f){return this.value+="\n```",this.value+=n,this.value+=`
`,this.value+=f,this.value+="\n```\n",this}appendLink(n,f,v){return this.value+="[",this.value+=this._escape(f,"]"),this.value+="](",this.value+=this._escape(String(n),")"),v&&(this.value+=` "${this._escape(this._escape(v,'"'),")")}"`),this.value+=")",this}_escape(n,f){const v=new RegExp((0,E.ec)(f),"g");return n.replace(v,(a,S)=>n.charAt(S-1)!=="\\"?`\\${a}`:a)}}function I(i){return M(i)?!i.value:Array.isArray(i)?i.every(I):!0}function M(i){return i instanceof _?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||typeof i.isTrusted=="object"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}function D(i,n){return i===n?!0:!i||!n?!1:i.value===n.value&&i.isTrusted===n.isTrusted&&i.supportThemeIcons===n.supportThemeIcons&&i.supportHtml===n.supportHtml&&(i.baseUri===n.baseUri||!!i.baseUri&&!!n.baseUri&&(0,r.Xy)(c.o.from(i.baseUri),c.o.from(n.baseUri)))}function p(i){return i.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function o(i){return i.replace(/"/g,"&quot;")}function d(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function u(i){const n=[],f=i.split("|").map(a=>a.trim());i=f[0];const v=f[1];if(v){const a=/height=(\d+)/.exec(v),S=/width=(\d+)/.exec(v),g=a?a[1]:"",y=S?S[1]:"",C=isFinite(parseInt(y)),L=isFinite(parseInt(g));C&&n.push(`width="${y}"`),L&&n.push(`height="${g}"`)}return{href:i,dimensions:n}}},21212:function(Pt,Ke,e){"use strict";e.d(Ke,{Gt:function(){return n},Ho:function(){return i},JL:function(){return d},Qo:function(){return I},f$:function(){return D},x$:function(){return o}});var b=e(60075),z=e(97295),r=e(25670);const E="$(",c=new RegExp(`\\$\\(${r.k.iconNameExpression}(?:${r.k.iconModifierExpression})?\\)`,"g"),_=new RegExp(`(\\\\)?${c.source}`,"g");function I(f){return f.replace(_,(v,a)=>a?v:`\\${v}`)}const M=new RegExp(`\\\\${c.source}`,"g");function D(f){return f.replace(M,v=>`\\${v}`)}const p=new RegExp(`(\\s)?(\\\\)?${c.source}(\\s)?`,"g");function o(f){return f.indexOf(E)===-1?f:f.replace(p,(v,a,S,g)=>S?v:a||g||"")}function d(f){return f?f.replace(/\$\((.*?)\)/g,(v,a)=>` ${a} `).trim():""}const u=new RegExp(`\\$\\(${r.k.iconNameCharacter}+\\)`,"g");function i(f){u.lastIndex=0;let v="";const a=[];let S=0;for(;;){const g=u.lastIndex,y=u.exec(f),C=f.substring(g,y==null?void 0:y.index);if(C.length>0){v+=C;for(let L=0;L<C.length;L++)a.push(S)}if(!y)break;S+=y[0].length}return{text:v,iconOffsets:a}}function n(f,v,a=!1){const{text:S,iconOffsets:g}=v;if(!g||g.length===0)return(0,b.Oh)(f,S,a);const y=(0,z.j3)(S," "),C=S.length-y.length,L=(0,b.Oh)(f,y,a);if(L)for(const O of L){const T=g[O.start+C]+C;O.start+=T,O.end+=T}return L}},44742:function(Pt,Ke,e){"use strict";e.d(Ke,{R:function(){return b},a:function(){return z}});class b{constructor(E){this._prefix=E,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const z=new b("id#")},77173:function(Pt,Ke,e){"use strict";e.d(Ke,{F:function(){return r}});var b=e(4669);class z{constructor(){this._onDidChange=new b.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const r=new z},53725:function(Pt,Ke,e){"use strict";e.d(Ke,{$:function(){return b}});var b;(function(z){function r(g){return g&&typeof g=="object"&&typeof g[Symbol.iterator]=="function"}z.is=r;const E=Object.freeze([]);function c(){return E}z.empty=c;function*_(g){yield g}z.single=_;function I(g){return r(g)?g:_(g)}z.wrap=I;function M(g){return g||E}z.from=M;function*D(g){for(let y=g.length-1;y>=0;y--)yield g[y]}z.reverse=D;function p(g){return!g||g[Symbol.iterator]().next().done===!0}z.isEmpty=p;function o(g){return g[Symbol.iterator]().next().value}z.first=o;function d(g,y){for(const C of g)if(y(C))return!0;return!1}z.some=d;function u(g,y){for(const C of g)if(y(C))return C}z.find=u;function*i(g,y){for(const C of g)y(C)&&(yield C)}z.filter=i;function*n(g,y){let C=0;for(const L of g)yield y(L,C++)}z.map=n;function*f(...g){for(const y of g)yield*y}z.concat=f;function v(g,y,C){let L=C;for(const O of g)L=y(L,O);return L}z.reduce=v;function*a(g,y,C=g.length){for(y<0&&(y+=g.length),C<0?C+=g.length:C>g.length&&(C=g.length);y<C;y++)yield g[y]}z.slice=a;function S(g,y=Number.POSITIVE_INFINITY){const C=[];if(y===0)return[C,g];const L=g[Symbol.iterator]();for(let O=0;O<y;O++){const T=L.next();if(T.done)return[C,z.empty()];C.push(T.value)}return[C,{[Symbol.iterator](){return L}}]}z.consume=S})(b||(b={}))},22258:function(Pt,Ke,e){"use strict";e.d(Ke,{H_:function(){return c},Vd:function(){return p},gx:function(){return u},kL:function(){return d}});class b{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,f){this._keyCodeToStr[n]=f,this._strToKeyCode[f.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const z=new b,r=new b,E=new b,c=new Array(230),_={},I=[],M=Object.create(null),D=Object.create(null),p=[],o=[];for(let i=0;i<=193;i++)p[i]=-1;for(let i=0;i<=132;i++)o[i]=-1;(function(){const i="",n=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],f=[],v=[];for(const a of n){const[S,g,y,C,L,O,T,F,B]=a;if(v[g]||(v[g]=!0,I[g]=y,M[y]=g,D[y.toLowerCase()]=g,S&&(p[g]=C,C!==0&&C!==3&&C!==5&&C!==4&&C!==6&&C!==57&&(o[C]=g))),!f[C]){if(f[C]=!0,!L)throw new Error(`String representation missing for key code ${C} around scan code ${y}`);z.define(C,L),r.define(C,F||L),E.define(C,B||F||L)}O&&(c[O]=C),T&&(_[T]=C)}o[3]=46})();var d;(function(i){function n(y){return z.keyCodeToStr(y)}i.toString=n;function f(y){return z.strToKeyCode(y)}i.fromString=f;function v(y){return r.keyCodeToStr(y)}i.toUserSettingsUS=v;function a(y){return E.keyCodeToStr(y)}i.toUserSettingsGeneral=a;function S(y){return r.strToKeyCode(y)||E.strToKeyCode(y)}i.fromUserSettings=S;function g(y){if(y>=98&&y<=113)return null;switch(y){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return z.keyCodeToStr(y)}i.toElectronAccelerator=g})(d||(d={}));function u(i,n){const f=(n&65535)<<16>>>0;return(i|f)>>>0}},8030:function(Pt,Ke,e){"use strict";e.d(Ke,{X4:function(){return E},jC:function(){return c},r6:function(){return _},xo:function(){return r}});var b=e(63580);class z{constructor(D,p,o=p){this.modifierLabels=[null],this.modifierLabels[2]=D,this.modifierLabels[1]=p,this.modifierLabels[3]=o}toLabel(D,p,o){if(p.length===0)return null;const d=[];for(let u=0,i=p.length;u<i;u++){const n=p[u],f=o(n);if(f===null)return null;d[u]=I(n,f,this.modifierLabels[D])}return d.join(" ")}}const r=new z({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:b.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:b.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:b.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),E=new z({ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:b.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),c=new z({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),_=new z({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function I(M,D,p){if(D===null)return"";const o=[];return M.ctrlKey&&o.push(p.ctrlKey),M.shiftKey&&o.push(p.shiftKey),M.altKey&&o.push(p.altKey),M.metaKey&&o.push(p.metaKey),D!==""&&o.push(D),o.join(p.separator)}},8313:function(Pt,Ke,e){"use strict";e.d(Ke,{$M:function(){return E},Z9:function(){return z},aZ:function(){return I},f1:function(){return M}});var b=e(17301);function z(D,p){if(typeof D=="number"){if(D===0)return null;const o=(D&65535)>>>0,d=(D&4294901760)>>>16;return d!==0?new _([r(o,p),r(d,p)]):new _([r(o,p)])}else{const o=[];for(let d=0;d<D.length;d++)o.push(r(D[d],p));return new _(o)}}function r(D,p){const o=!!(D&2048),d=!!(D&256),u=p===2?d:o,i=!!(D&1024),n=!!(D&512),f=p===2?o:d,v=D&255;return new E(u,i,n,f,v)}class E{constructor(p,o,d,u,i){this.ctrlKey=p,this.shiftKey=o,this.altKey=d,this.metaKey=u,this.keyCode=i}equals(p){return p instanceof E&&this.ctrlKey===p.ctrlKey&&this.shiftKey===p.shiftKey&&this.altKey===p.altKey&&this.metaKey===p.metaKey&&this.keyCode===p.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class c{constructor(p,o,d,u,i){this.ctrlKey=p,this.shiftKey=o,this.altKey=d,this.metaKey=u,this.scanCode=i}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class _{constructor(p){if(p.length===0)throw(0,b.b1)("chords");this.chords=p}}class I{constructor(p,o,d,u,i,n){this.ctrlKey=p,this.shiftKey=o,this.altKey=d,this.metaKey=u,this.keyLabel=i,this.keyAriaLabel=n}}class M{}},79579:function(Pt,Ke,e){"use strict";e.d(Ke,{o:function(){return b}});class b{constructor(r){this.executor=r,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(r){this._error=r}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},5976:function(Pt,Ke,e){"use strict";e.d(Ke,{B9:function(){return d},F8:function(){return u},JT:function(){return f},Jz:function(){return S},L6:function(){return a},Nq:function(){return I},OF:function(){return i},SL:function(){return n},Wf:function(){return o},XK:function(){return v},b2:function(){return g},dk:function(){return p},wi:function(){return _}});var b=e(88289),z=e(53725);const r=!1;let E=null;function c(y){E=y}if(r){const y="__is_disposable_tracked__";c(new class{trackDisposable(C){const L=new Error("Potentially leaked disposable").stack;setTimeout(()=>{C[y]||console.log(L)},3e3)}setParent(C,L){if(C&&C!==f.None)try{C[y]=!0}catch(O){}}markAsDisposed(C){if(C&&C!==f.None)try{C[y]=!0}catch(L){}}markAsSingleton(C){}})}function _(y){return E==null||E.trackDisposable(y),y}function I(y){E==null||E.markAsDisposed(y)}function M(y,C){E==null||E.setParent(y,C)}function D(y,C){if(E)for(const L of y)E.setParent(L,C)}function p(y){return E==null||E.markAsSingleton(y),y}function o(y){return typeof y.dispose=="function"&&y.dispose.length===0}function d(y){if(z.$.is(y)){const C=[];for(const L of y)if(L)try{L.dispose()}catch(O){C.push(O)}if(C.length===1)throw C[0];if(C.length>1)throw new AggregateError(C,"Encountered errors while disposing of store");return Array.isArray(y)?[]:y}else if(y)return y.dispose(),y}function u(...y){const C=i(()=>d(y));return D(y,C),C}function i(y){const C=_({dispose:(0,b.M)(()=>{I(C),y()})});return C}class n{constructor(){this._toDispose=new Set,this._isDisposed=!1,_(this)}dispose(){this._isDisposed||(I(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{d(this._toDispose)}finally{this._toDispose.clear()}}add(C){if(!C)return C;if(C===this)throw new Error("Cannot register a disposable on itself!");return M(C,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(C),C}deleteAndLeak(C){C&&this._toDispose.has(C)&&(this._toDispose.delete(C),M(C,null))}}n.DISABLE_DISPOSED_WARNING=!1;class f{constructor(){this._store=new n,_(this),M(this._store,this)}dispose(){I(this),this._store.dispose()}_register(C){if(C===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(C)}}f.None=Object.freeze({dispose(){}});class v{constructor(){this._isDisposed=!1,_(this)}get value(){return this._isDisposed?void 0:this._value}set value(C){var L;this._isDisposed||C===this._value||((L=this._value)===null||L===void 0||L.dispose(),C&&M(C,this),this._value=C)}clear(){this.value=void 0}dispose(){var C;this._isDisposed=!0,I(this),(C=this._value)===null||C===void 0||C.dispose(),this._value=void 0}}class a{constructor(C){this._disposable=C,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class S{constructor(C){this.object=C}dispose(){}}class g{constructor(){this._store=new Map,this._isDisposed=!1,_(this)}dispose(){I(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{d(this._store.values())}finally{this._store.clear()}}get(C){return this._store.get(C)}set(C,L,O=!1){var T;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),O||(T=this._store.get(C))===null||T===void 0||T.dispose(),this._store.set(C,L)}deleteAndDispose(C){var L;(L=this._store.get(C))===null||L===void 0||L.dispose(),this._store.delete(C)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},91741:function(Pt,Ke,e){"use strict";e.d(Ke,{S:function(){return z}});class b{constructor(E){this.element=E,this.next=b.Undefined,this.prev=b.Undefined}}b.Undefined=new b(void 0);class z{constructor(){this._first=b.Undefined,this._last=b.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===b.Undefined}clear(){let E=this._first;for(;E!==b.Undefined;){const c=E.next;E.prev=b.Undefined,E.next=b.Undefined,E=c}this._first=b.Undefined,this._last=b.Undefined,this._size=0}unshift(E){return this._insert(E,!1)}push(E){return this._insert(E,!0)}_insert(E,c){const _=new b(E);if(this._first===b.Undefined)this._first=_,this._last=_;else if(c){const M=this._last;this._last=_,_.prev=M,M.next=_}else{const M=this._first;this._first=_,_.next=M,M.prev=_}this._size+=1;let I=!1;return()=>{I||(I=!0,this._remove(_))}}shift(){if(this._first!==b.Undefined){const E=this._first.element;return this._remove(this._first),E}}pop(){if(this._last!==b.Undefined){const E=this._last.element;return this._remove(this._last),E}}_remove(E){if(E.prev!==b.Undefined&&E.next!==b.Undefined){const c=E.prev;c.next=E.next,E.next.prev=c}else E.prev===b.Undefined&&E.next===b.Undefined?(this._first=b.Undefined,this._last=b.Undefined):E.next===b.Undefined?(this._last=this._last.prev,this._last.next=b.Undefined):E.prev===b.Undefined&&(this._first=this._first.next,this._first.prev=b.Undefined);this._size-=1}*[Symbol.iterator](){let E=this._first;for(;E!==b.Undefined;)yield E.element,E=E.next}}},43702:function(Pt,Ke,e){"use strict";e.d(Ke,{Y9:function(){return c},YQ:function(){return M},ri:function(){return D},z6:function(){return I}});var b,z;class r{constructor(o,d){this.uri=o,this.value=d}}function E(p){return Array.isArray(p)}class c{constructor(o,d){if(this[b]="ResourceMap",o instanceof c)this.map=new Map(o.map),this.toKey=d!=null?d:c.defaultToKey;else if(E(o)){this.map=new Map,this.toKey=d!=null?d:c.defaultToKey;for(const[u,i]of o)this.set(u,i)}else this.map=new Map,this.toKey=o!=null?o:c.defaultToKey}set(o,d){return this.map.set(this.toKey(o),new r(o,d)),this}get(o){var d;return(d=this.map.get(this.toKey(o)))===null||d===void 0?void 0:d.value}has(o){return this.map.has(this.toKey(o))}get size(){return this.map.size}clear(){this.map.clear()}delete(o){return this.map.delete(this.toKey(o))}forEach(o,d){typeof d!="undefined"&&(o=o.bind(d));for(const[u,i]of this.map)o(i.value,i.uri,this)}*values(){for(const o of this.map.values())yield o.value}*keys(){for(const o of this.map.values())yield o.uri}*entries(){for(const o of this.map.values())yield[o.uri,o.value]}*[(b=Symbol.toStringTag,Symbol.iterator)](){for(const[,o]of this.map)yield[o.uri,o.value]}}c.defaultToKey=p=>p.toString();class _{constructor(){this[z]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var o;return(o=this._head)===null||o===void 0?void 0:o.value}get last(){var o;return(o=this._tail)===null||o===void 0?void 0:o.value}has(o){return this._map.has(o)}get(o,d=0){const u=this._map.get(o);if(u)return d!==0&&this.touch(u,d),u.value}set(o,d,u=0){let i=this._map.get(o);if(i)i.value=d,u!==0&&this.touch(i,u);else{switch(i={key:o,value:d,next:void 0,previous:void 0},u){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(o,i),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){const d=this._map.get(o);if(d)return this._map.delete(o),this.removeItem(d),this._size--,d.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,d){const u=this._state;let i=this._head;for(;i;){if(d?o.bind(d)(i.value,i.key,this):o(i.value,i.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const o=this,d=this._state;let u=this._head;const i={[Symbol.iterator](){return i},next(){if(o._state!==d)throw new Error("LinkedMap got modified during iteration.");if(u){const n={value:u.key,done:!1};return u=u.next,n}else return{value:void 0,done:!0}}};return i}values(){const o=this,d=this._state;let u=this._head;const i={[Symbol.iterator](){return i},next(){if(o._state!==d)throw new Error("LinkedMap got modified during iteration.");if(u){const n={value:u.value,done:!1};return u=u.next,n}else return{value:void 0,done:!0}}};return i}entries(){const o=this,d=this._state;let u=this._head;const i={[Symbol.iterator](){return i},next(){if(o._state!==d)throw new Error("LinkedMap got modified during iteration.");if(u){const n={value:[u.key,u.value],done:!1};return u=u.next,n}else return{value:void 0,done:!0}}};return i}[(z=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let d=this._head,u=this.size;for(;d&&u>o;)this._map.delete(d.key),d=d.next,u--;this._head=d,this._size=u,d&&(d.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{const d=o.next,u=o.previous;if(!d||!u)throw new Error("Invalid list");d.previous=u,u.next=d}o.next=void 0,o.previous=void 0,this._state++}touch(o,d){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(d!==1&&d!==2)){if(d===1){if(o===this._head)return;const u=o.next,i=o.previous;o===this._tail?(i.next=void 0,this._tail=i):(u.previous=i,i.next=u),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(d===2){if(o===this._tail)return;const u=o.next,i=o.previous;o===this._head?(u.previous=void 0,this._head=u):(u.previous=i,i.next=u),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){const o=[];return this.forEach((d,u)=>{o.push([u,d])}),o}fromJSON(o){this.clear();for(const[d,u]of o)this.set(d,u)}}class I extends _{constructor(o,d=1){super(),this._limit=o,this._ratio=Math.min(Math.max(0,d),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get(o,d=2){return super.get(o,d)}peek(o){return super.get(o,0)}set(o,d){return super.set(o,d,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class M{constructor(o){if(this._m1=new Map,this._m2=new Map,o)for(const[d,u]of o)this.set(d,u)}clear(){this._m1.clear(),this._m2.clear()}set(o,d){this._m1.set(o,d),this._m2.set(d,o)}get(o){return this._m1.get(o)}getKey(o){return this._m2.get(o)}delete(o){const d=this._m1.get(o);return d===void 0?!1:(this._m1.delete(o),this._m2.delete(d),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class D{constructor(){this.map=new Map}add(o,d){let u=this.map.get(o);u||(u=new Set,this.map.set(o,u)),u.add(d)}delete(o,d){const u=this.map.get(o);u&&(u.delete(d),u.size===0&&this.map.delete(o))}forEach(o,d){const u=this.map.get(o);u&&u.forEach(d)}get(o){const d=this.map.get(o);return d||new Set}}},23897:function(Pt,Ke,e){"use strict";e.d(Ke,{Pz:function(){return r},Qc:function(){return E}});var b=e(53060),z=e(70666);function r(I){return JSON.stringify(I,c)}function E(I){let M=JSON.parse(I);return M=_(M),M}function c(I,M){return M instanceof RegExp?{$mid:2,source:M.source,flags:M.flags}:M}function _(I,M=0){if(!I||M>200)return I;if(typeof I=="object"){switch(I.$mid){case 1:return z.o.revive(I);case 2:return new RegExp(I.source,I.flags);case 17:return new Date(I.source)}if(I instanceof b.KN||I instanceof Uint8Array)return I;if(Array.isArray(I))for(let D=0;D<I.length;++D)I[D]=_(I[D],M+1);else for(const D in I)Object.hasOwnProperty.call(I,D)&&(I[D]=_(I[D],M+1))}return I}},81170:function(Pt,Ke,e){"use strict";e.d(Ke,{v:function(){return b}});const b=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},66663:function(Pt,Ke,e){"use strict";e.d(Ke,{Gi:function(){return u},Gs:function(){return I},WX:function(){return p},lg:function(){return c},xn:function(){return _}});var b=e(17301),z=e(1432),r=e(97295),E=e(70666),c;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm"})(c||(c={}));function _(n,f){return E.o.isUri(n)?(0,r.qq)(n.scheme,f):(0,r.ok)(n,f+":")}function I(n,...f){return f.some(v=>_(n,v))}const M="tkn";class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${c.vscodeRemoteResource}`}setPreferredWebSchema(f){this._preferredWebSchema=f}rewrite(f){if(this._delegate)try{return this._delegate(f)}catch(C){return b.dL(C),f}const v=f.authority;let a=this._hosts[v];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const S=this._ports[v],g=this._connectionTokens[v];let y=`path=${encodeURIComponent(f.path)}`;return typeof g=="string"&&(y+=`&${M}=${encodeURIComponent(g)}`),E.o.from({scheme:z.$L?this._preferredWebSchema:c.vscodeRemoteResource,authority:`${a}:${S}`,path:this._remoteResourcesPath,query:y})}}const p=new D,o="vscode-app";class d{uriToBrowserUri(f){return f.scheme===c.vscodeRemote?p.rewrite(f):f.scheme===c.file&&(z.tY||z.qB===`${c.vscodeFileResource}://${d.FALLBACK_AUTHORITY}`)?f.with({scheme:c.vscodeFileResource,authority:f.authority||d.FALLBACK_AUTHORITY,query:null,fragment:null}):f}}d.FALLBACK_AUTHORITY=o;const u=new d;var i;(function(n){const f=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(f.get("3"));const v="vscode-coi";function a(g){let y;typeof g=="string"?y=new URL(g).searchParams:g instanceof URL?y=g.searchParams:E.o.isUri(g)&&(y=new URL(g.toString(!0)).searchParams);const C=y==null?void 0:y.get(v);if(C)return f.get(C)}n.getHeadersFromQuery=a;function S(g,y,C){if(!globalThis.crossOriginIsolated)return;const L=y&&C?"3":C?"2":"1";g instanceof URLSearchParams?g.set(v,L):g[v]=L}n.addSearchParam=S})(i||(i={}))},59870:function(Pt,Ke,e){"use strict";e.d(Ke,{N:function(){return r},nM:function(){return z},uZ:function(){return b}});function b(E,c,_){return Math.min(Math.max(E,c),_)}class z{constructor(){this._n=1,this._val=0}update(c){return this._val=this._val+(c-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class r{constructor(c){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(c),this._values.fill(0,0,c)}update(c){const _=this._values[this._index];return this._values[this._index]=c,this._index=(this._index+1)%this._values.length,this._sum-=_,this._sum+=c,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},36248:function(Pt,Ke,e){"use strict";e.d(Ke,{$E:function(){return p},I8:function(){return z},IU:function(){return o},_A:function(){return r},fS:function(){return M},jB:function(){return I},rs:function(){return c}});var b=e(98401);function z(d){if(!d||typeof d!="object"||d instanceof RegExp)return d;const u=Array.isArray(d)?[]:{};return Object.entries(d).forEach(([i,n])=>{u[i]=n&&typeof n=="object"?z(n):n}),u}function r(d){if(!d||typeof d!="object")return d;const u=[d];for(;u.length>0;){const i=u.shift();Object.freeze(i);for(const n in i)if(E.call(i,n)){const f=i[n];typeof f=="object"&&!Object.isFrozen(f)&&!(0,b.fU)(f)&&u.push(f)}}return d}const E=Object.prototype.hasOwnProperty;function c(d,u){return _(d,u,new Set)}function _(d,u,i){if((0,b.Jp)(d))return d;const n=u(d);if(typeof n!="undefined")return n;if(Array.isArray(d)){const f=[];for(const v of d)f.push(_(v,u,i));return f}if((0,b.Kn)(d)){if(i.has(d))throw new Error("Cannot clone recursive data-structure");i.add(d);const f={};for(const v in d)E.call(d,v)&&(f[v]=_(d[v],u,i));return i.delete(d),f}return d}function I(d,u,i=!0){return(0,b.Kn)(d)?((0,b.Kn)(u)&&Object.keys(u).forEach(n=>{n in d?i&&((0,b.Kn)(d[n])&&(0,b.Kn)(u[n])?I(d[n],u[n],i):d[n]=u[n]):d[n]=u[n]}),d):u}function M(d,u){if(d===u)return!0;if(d==null||u===null||u===void 0||typeof d!=typeof u||typeof d!="object"||Array.isArray(d)!==Array.isArray(u))return!1;let i,n;if(Array.isArray(d)){if(d.length!==u.length)return!1;for(i=0;i<d.length;i++)if(!M(d[i],u[i]))return!1}else{const f=[];for(n in d)f.push(n);f.sort();const v=[];for(n in u)v.push(n);if(v.sort(),!M(f,v))return!1;for(i=0;i<f.length;i++)if(!M(d[f[i]],u[f[i]]))return!1}return!0}function D(d){let u=[];for(;Object.prototype!==d;)u=u.concat(Object.getOwnPropertyNames(d)),d=Object.getPrototypeOf(d);return u}function p(d){const u=[];for(const i of D(d))typeof d[i]=="function"&&u.push(i);return u}function o(d,u){const i=f=>function(){const v=Array.prototype.slice.call(arguments,0);return u(f,v)},n={};for(const f of d)n[f]=i(f);return n}},99692:function(Pt,Ke,e){"use strict";e.d(Ke,{EH:function(){return _},nJ:function(){return M},UV:function(){return I},gp:function(){return D},Dz:function(){return o},nK:function(){return z.nK},aK:function(){return z.aK},bx:function(){return C},bk:function(){return z.bk},Be:function(){return z.Be},DN:function(){return b.DN},rD:function(){return i},GN:function(){return a},aq:function(){return f},uh:function(){return b.uh},jx:function(){return g},c8:function(){return b.c8},PS:function(){return b.PS},F_:function(){return u}});var b=e(96512),z=e(54282),r=e(35146),E=e(5976),c=e(121);function _(O){return new p(void 0,O,void 0,void 0)}function I(O,T){return new p(O.debugName,T,void 0,void 0)}function M(O,T){return new p(O.debugName,T,O.createEmptyChangeSummary,O.handleChange)}function D(O){const T=new E.SL,F=I({debugName:()=>(0,b.$P)(O)||"(anonymous)"},B=>{T.clear(),O(B,T)});return(0,E.OF)(()=>{F.dispose(),T.dispose()})}class p{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const F=this._debugName();if(F!==void 0)return F}const T=(0,b.$P)(this._runFn);return T!==void 0?T:"(anonymous)"}constructor(T,F,B,$){var Y,P;this._debugName=T,this._runFn=F,this.createChangeSummary=B,this._handleChange=$,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Y=this.createChangeSummary)===null||Y===void 0?void 0:Y.call(this),(P=(0,c.jl)())===null||P===void 0||P.handleAutorunCreated(this),this._runIfNeeded(),(0,E.wi)(this)}dispose(){this.disposed=!0;for(const T of this.dependencies)T.removeObserver(this);this.dependencies.clear(),(0,E.Nq)(this)}_runIfNeeded(){var T,F,B;if(this.state===3)return;const $=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=$,this.state=3;const Y=this.disposed;try{if(!Y){(T=(0,c.jl)())===null||T===void 0||T.handleAutorunTriggered(this);const P=this.changeSummary;this.changeSummary=(F=this.createChangeSummary)===null||F===void 0?void 0:F.call(this),this._runFn(this,P)}}finally{Y||(B=(0,c.jl)())===null||B===void 0||B.handleAutorunFinished(this);for(const P of this.dependenciesToBeRemoved)P.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const T of this.dependencies)if(T.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,r.eZ)(()=>this.updateCount>=0)}handlePossibleChange(T){this.state===3&&this.dependencies.has(T)&&!this.dependenciesToBeRemoved.has(T)&&(this.state=1)}handleChange(T,F){this.dependencies.has(T)&&!this.dependenciesToBeRemoved.has(T)&&(!this._handleChange||this._handleChange({changedObservable:T,change:F,didChange:$=>$===T},this.changeSummary))&&(this.state=2)}readObservable(T){if(this.disposed)return T.get();T.addObserver(this);const F=T.get();return this.dependencies.add(T),this.dependenciesToBeRemoved.delete(T),F}}(function(O){O.Observer=p})(_||(_={}));function o(O){return new d(O)}class d extends b.Nc{constructor(T){super(),this.value=T}get debugName(){return this.toString()}get(){return this.value}addObserver(T){}removeObserver(T){}toString(){return`Const: ${this.value}`}}function u(O,T){return new Promise(F=>{let B=!1,$=!1;const Y=O.map(w=>({isFinished:T(w),state:w})),P=_(w=>{const{isFinished:V,state:R}=Y.read(w);V&&(B?P.dispose():$=!0,F(R))});B=!0,$&&P.dispose()})}function i(O,T){return new n(O,T)}class n extends b.hm{constructor(T,F){super(),this.event=T,this._getValue=F,this.hasValue=!1,this.handleEvent=B=>{var $;const Y=this._getValue(B),P=this.value,w=!this.hasValue||P!==Y;let V=!1;w&&(this.value=Y,this.hasValue&&(V=!0,(0,b.c8)(n.globalTransaction,R=>{var A;(A=(0,c.jl)())===null||A===void 0||A.handleFromEventObservableTriggered(this,{oldValue:P,newValue:Y,change:void 0,didChange:w,hadValue:this.hasValue});for(const H of this.observers)R.updateObserver(H,this),H.handleChange(this,void 0)},()=>{const R=this.getDebugName();return"Event fired"+(R?`: ${R}`:"")})),this.hasValue=!0),V||($=(0,c.jl)())===null||$===void 0||$.handleFromEventObservableTriggered(this,{oldValue:P,newValue:Y,change:void 0,didChange:w,hadValue:this.hasValue})}}getDebugName(){return(0,b.$P)(this._getValue)}get debugName(){const T=this.getDebugName();return"From Event"+(T?`: ${T}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(O){O.Observer=n;function T(F,B){let $=!1;n.globalTransaction===void 0&&(n.globalTransaction=F,$=!0);try{B()}finally{$&&(n.globalTransaction=void 0)}}O.batchEventsGlobally=T})(i||(i={}));function f(O,T){return new v(O,T)}class v extends b.hm{constructor(T,F){super(),this.debugName=T,this.event=F,this.handleEvent=()=>{(0,b.PS)(B=>{for(const $ of this.observers)B.updateObserver($,this),$.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function a(O){return typeof O=="string"?new S(O):new S(void 0,O)}class S extends b.hm{get debugName(){var T;return(T=(0,b.fE)(this,this._debugName,void 0,this._owner,this))!==null&&T!==void 0?T:"Observable Signal"}constructor(T,F){super(),this._debugName=T,this._owner=F}trigger(T,F){if(!T){(0,b.PS)(B=>{this.trigger(B,F)},()=>`Trigger signal ${this.debugName}`);return}for(const B of this.observers)T.updateObserver(B,this),B.handleChange(this,F)}get(){}}function g(O,T){const F=new y(!0,T);return O.addObserver(F),T?T(O.get()):O.reportChanges(),(0,E.OF)(()=>{O.removeObserver(F)})}(0,b.MK)(g);class y{constructor(T,F){this._forceRecompute=T,this._handleValue=F,this._counter=0}beginUpdate(T){this._counter++}endUpdate(T){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(T.get()):T.reportChanges())}handlePossibleChange(T){}handleChange(T,F){}}function C(O){let T;return(0,z.nK)(B=>(T=O(B,T),T))}!1&&(0,c.EK)(new c.Qy)},96512:function(Pt,Ke,e){"use strict";e.d(Ke,{$P:function(){return C},Bl:function(){return p},DN:function(){return T},Hr:function(){return o},MK:function(){return r},Nc:function(){return _},PS:function(){return M},c8:function(){return d},fE:function(){return f},hm:function(){return I},mT:function(){return c},uh:function(){return L}});var b=e(121);let z;function r(B){z=B}let E;function c(B){E=B}class _{get TChange(){return null}reportChanges(){this.get()}read($){return $?$.readObservable(this):this.get()}map($,Y){const P=Y===void 0?void 0:$,w=Y===void 0?$:Y;return E({owner:P,debugName:()=>{const V=C(w);if(V!==void 0)return V;const A=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(w.toString());if(A)return`${this.debugName}.${A[2]}`;if(!P)return`${this.debugName} (mapped)`}},V=>w(this.read(V),V))}recomputeInitiallyAndOnChange($,Y){return $.add(z(this,Y)),this}}class I extends _{constructor(){super(...arguments),this.observers=new Set}addObserver($){const Y=this.observers.size;this.observers.add($),Y===0&&this.onFirstObserverAdded()}removeObserver($){this.observers.delete($)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function M(B,$){const Y=new u(B,$);try{B(Y)}finally{Y.finish()}}let D;function p(B){if(D)B(D);else{const $=new u(B,void 0);D=$;try{B($)}finally{$.finish(),D=void 0}}}function o(B,$){return qt(this,null,function*(){const Y=new u(B,$);try{yield B(Y)}finally{Y.finish()}})}function d(B,$,Y){B?$(B):M($,Y)}class u{constructor($,Y){var P;this._fn=$,this._getDebugName=Y,this.updatingObservers=[],(P=(0,b.jl)())===null||P===void 0||P.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():C(this._fn)}updateObserver($,Y){this.updatingObservers.push({observer:$,observable:Y}),$.beginUpdate(Y)}finish(){var $;const Y=this.updatingObservers;for(let P=0;P<Y.length;P++){const{observer:w,observable:V}=Y[P];w.endUpdate(V)}this.updatingObservers=null,($=(0,b.jl)())===null||$===void 0||$.handleEndTransaction()}}const i=new Map,n=new WeakMap;function f(B,$,Y,P,w){var V;const R=n.get(B);if(R)return R;const A=v(B,$,Y,P,w);if(A){let H=(V=i.get(A))!==null&&V!==void 0?V:0;H++,i.set(A,H);const U=H===1?A:`${A}#${H}`;return n.set(B,U),U}}function v(B,$,Y,P,w){const V=n.get(B);if(V)return V;const R=P?g(P)+".":"";let A;if($!==void 0)if(typeof $=="function"){if(A=$(),A!==void 0)return R+A}else return R+$;if(Y!==void 0&&(A=C(Y),A!==void 0))return R+A;if(P!==void 0){for(const H in P)if(P[H]===w)return R+H}}const a=new Map,S=new WeakMap;function g(B){var $;const Y=S.get(B);if(Y)return Y;const P=y(B);let w=($=a.get(P))!==null&&$!==void 0?$:0;w++,a.set(P,w);const V=w===1?P:`${P}#${w}`;return S.set(B,V),V}function y(B){const $=B.constructor;return $?$.name:"Object"}function C(B){const $=B.toString(),P=/\/\*\*\s*@description\s*([^*]*)\*\//.exec($),w=P?P[1]:void 0;return w==null?void 0:w.trim()}function L(B,$){return typeof B=="string"?new O(void 0,B,$):new O(B,void 0,$)}class O extends I{get debugName(){var $;return($=f(this,this._debugName,void 0,this._owner,this))!==null&&$!==void 0?$:"ObservableValue"}constructor($,Y,P){super(),this._owner=$,this._debugName=Y,this._value=P}get(){return this._value}set($,Y,P){var w;if(this._value===$)return;let V;Y||(Y=V=new u(()=>{},()=>`Setting ${this.debugName}`));try{const R=this._value;this._setValue($),(w=(0,b.jl)())===null||w===void 0||w.handleObservableChanged(this,{oldValue:R,newValue:$,change:P,didChange:!0,hadValue:!0});for(const A of this.observers)Y.updateObserver(A,this),A.handleChange(this,P)}finally{V&&V.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue($){this._value=$}}function T(B,$){return typeof B=="string"?new F(void 0,B,$):new F(B,void 0,$)}class F extends O{_setValue($){this._value!==$&&(this._value&&this._value.dispose(),this._value=$)}dispose(){var $;($=this._value)===null||$===void 0||$.dispose()}}},54282:function(Pt,Ke,e){"use strict";e.d(Ke,{Be:function(){return D},aK:function(){return M},bk:function(){return I},kA:function(){return p},nK:function(){return _}});var b=e(17301),z=e(5976),r=e(96512),E=e(121);const c=(d,u)=>d===u;function _(d,u){return u!==void 0?new o(d,void 0,u,void 0,void 0,void 0,c):new o(void 0,void 0,d,void 0,void 0,void 0,c)}function I(d,u){var i;return new o(d.owner,d.debugName,u,void 0,void 0,void 0,(i=d.equalityComparer)!==null&&i!==void 0?i:c)}function M(d,u){var i;return new o(d.owner,d.debugName,u,d.createEmptyChangeSummary,d.handleChange,void 0,(i=d.equalityComparer)!==null&&i!==void 0?i:c)}function D(d,u){let i,n;u===void 0?(i=d,n=void 0):(n=d,i=u);const f=new z.SL;return new o(n,()=>{var v;return(v=(0,r.$P)(i))!==null&&v!==void 0?v:"(anonymous)"},v=>(f.clear(),i(v,f)),void 0,void 0,()=>f.dispose(),c)}function p(d,u){let i,n;u===void 0?(i=d,n=void 0):(n=d,i=u);const f=new z.SL;return new o(n,()=>{var v;return(v=(0,r.$P)(i))!==null&&v!==void 0?v:"(anonymous)"},v=>{f.clear();const a=i(v);return a&&f.add(a),a},void 0,void 0,()=>f.dispose(),c)}(0,r.mT)(I);class o extends r.hm{get debugName(){var u;return(u=(0,r.fE)(this,this._debugName,this._computeFn,this._owner,this))!==null&&u!==void 0?u:"(anonymous)"}constructor(u,i,n,f,v,a=void 0,S){var g,y;super(),this._owner=u,this._debugName=i,this._computeFn=n,this.createChangeSummary=f,this._handleChange=v,this._handleLastObserverRemoved=a,this._equalityComparator=S,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(g=this.createChangeSummary)===null||g===void 0?void 0:g.call(this),(y=(0,E.jl)())===null||y===void 0||y.handleDerivedCreated(this)}onLastObserverRemoved(){var u;this.state=0,this.value=void 0;for(const i of this.dependencies)i.removeObserver(this);this.dependencies.clear(),(u=this._handleLastObserverRemoved)===null||u===void 0||u.call(this)}get(){var u;if(this.observers.size===0){const i=this._computeFn(this,(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this));return this.onLastObserverRemoved(),i}else{do{if(this.state===1){for(const i of this.dependencies)if(i.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var u,i;if(this.state===3)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n;const f=this.state!==0,v=this.value;this.state=3;const a=this.changeSummary;this.changeSummary=(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this);try{this.value=this._computeFn(this,a)}finally{for(const g of this.dependenciesToBeRemoved)g.removeObserver(this);this.dependenciesToBeRemoved.clear()}const S=f&&!this._equalityComparator(v,this.value);if((i=(0,E.jl)())===null||i===void 0||i.handleDerivedRecomputed(this,{oldValue:v,newValue:this.value,change:void 0,didChange:S,hadValue:f}),S)for(const g of this.observers)g.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(u){this.updateCount++;const i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(const n of this.observers)n.handlePossibleChange(this);if(i)for(const n of this.observers)n.beginUpdate(this)}endUpdate(u){if(this.updateCount--,this.updateCount===0){const i=[...this.observers];for(const n of i)n.endUpdate(this)}if(this.updateCount<0)throw new b.he}handlePossibleChange(u){if(this.state===3&&this.dependencies.has(u)&&!this.dependenciesToBeRemoved.has(u)){this.state=1;for(const i of this.observers)i.handlePossibleChange(this)}}handleChange(u,i){if(this.dependencies.has(u)&&!this.dependenciesToBeRemoved.has(u)){const n=this._handleChange?this._handleChange({changedObservable:u,change:i,didChange:v=>v===u},this.changeSummary):!0,f=this.state===3;if(n&&(this.state===1||f)&&(this.state=2,f))for(const v of this.observers)v.handlePossibleChange(this)}}readObservable(u){u.addObserver(this);const i=u.get();return this.dependencies.add(u),this.dependenciesToBeRemoved.delete(u),i}addObserver(u){const i=!this.observers.has(u)&&this.updateCount>0;super.addObserver(u),i&&u.beginUpdate(this)}removeObserver(u){const i=this.observers.has(u)&&this.updateCount>0;super.removeObserver(u),i&&u.endUpdate(this)}}},121:function(Pt,Ke,e){"use strict";e.d(Ke,{EK:function(){return z},Qy:function(){return E},jl:function(){return r}});let b;function z(i){b=i}function r(){return b}class E{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(n){return c([_(d("|  ",this.indentation)),n])}formatInfo(n){return n.hadValue?n.didChange?[_(" "),M(D(n.oldValue,70),{color:"red",strikeThrough:!0}),_(" "),M(D(n.newValue,60),{color:"green"})]:[_(" (unchanged)")]:[_(" "),M(D(n.newValue,60),{color:"green"}),_(" (initial)")]}handleObservableChanged(n,f){console.log(...this.textToConsoleArgs([I("observable value changed"),M(n.debugName,{color:"BlueViolet"}),...this.formatInfo(f)]))}formatChanges(n){if(n.size!==0)return M(" (changed deps: "+[...n].map(f=>f.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(n){const f=n.handleChange;this.changedObservablesSets.set(n,new Set),n.handleChange=(v,a)=>(this.changedObservablesSets.get(n).add(v),f.apply(n,[v,a]))}handleDerivedRecomputed(n,f){const v=this.changedObservablesSets.get(n);console.log(...this.textToConsoleArgs([I("derived recomputed"),M(n.debugName,{color:"BlueViolet"}),...this.formatInfo(f),this.formatChanges(v),{data:[{fn:n._computeFn}]}])),v.clear()}handleFromEventObservableTriggered(n,f){console.log(...this.textToConsoleArgs([I("observable from event triggered"),M(n.debugName,{color:"BlueViolet"}),...this.formatInfo(f),{data:[{fn:n._getValue}]}]))}handleAutorunCreated(n){const f=n.handleChange;this.changedObservablesSets.set(n,new Set),n.handleChange=(v,a)=>(this.changedObservablesSets.get(n).add(v),f.apply(n,[v,a]))}handleAutorunTriggered(n){const f=this.changedObservablesSets.get(n);console.log(...this.textToConsoleArgs([I("autorun"),M(n.debugName,{color:"BlueViolet"}),this.formatChanges(f),{data:[{fn:n._runFn}]}])),f.clear(),this.indentation++}handleAutorunFinished(n){this.indentation--}handleBeginTransaction(n){let f=n.getDebugName();f===void 0&&(f=""),console.log(...this.textToConsoleArgs([I("transaction"),M(f,{color:"BlueViolet"}),{data:[{fn:n._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function c(i){const n=new Array,f=[];let v="";function a(g){if("length"in g)for(const y of g)y&&a(y);else"text"in g?(v+=`%c${g.text}`,n.push(g.style),g.data&&f.push(...g.data)):"data"in g&&f.push(...g.data)}a(i);const S=[v,...n];return S.push(...f),S}function _(i){return M(i,{color:"black"})}function I(i){return M(u(`${i}: `,10),{color:"black",bold:!0})}function M(i,n={color:"black"}){function f(a){return Object.entries(a).reduce((S,[g,y])=>`${S}${g}:${y};`,"")}const v={color:n.color};return n.strikeThrough&&(v["text-decoration"]="line-through"),n.bold&&(v["font-weight"]="bold"),{text:i,style:f(v)}}function D(i,n){switch(typeof i){case"number":return""+i;case"string":return i.length+2<=n?`"${i}"`:`"${i.substr(0,n-7)}"+...`;case"boolean":return i?"true":"false";case"undefined":return"undefined";case"object":return i===null?"null":Array.isArray(i)?p(i,n):o(i,n);case"symbol":return i.toString();case"function":return`[[Function${i.name?" "+i.name:""}]]`;default:return""+i}}function p(i,n){let f="[ ",v=!0;for(const a of i){if(v||(f+=", "),f.length-5>n){f+="...";break}v=!1,f+=`${D(a,n-f.length)}`}return f+=" ]",f}function o(i,n){let f="{ ",v=!0;for(const[a,S]of Object.entries(i)){if(v||(f+=", "),f.length-5>n){f+="...";break}v=!1,f+=`${a}: ${D(S,n-f.length)}`}return f+=" }",f}function d(i,n){let f="";for(let v=1;v<=n;v++)f+=i;return f}function u(i,n){for(;i.length<n;)i+=" ";return i}},82663:function(Pt,Ke,e){"use strict";e.d(Ke,{DB:function(){return O},DZ:function(){return $},EZ:function(){return B},Fv:function(){return L},Gf:function(){return T},KR:function(){return C},Ku:function(){return g},XX:function(){return F},ir:function(){return Y}});var b=e(76648);const z=65,r=97,E=90,c=122,_=46,I=47,M=92,D=58,p=63;class o extends Error{constructor(w,V,R){let A;typeof V=="string"&&V.indexOf("not ")===0?(A="must not be",V=V.replace(/^not /,"")):A="must be";const H=w.indexOf(".")!==-1?"property":"argument";let U=`The "${w}" ${H} ${A} of type ${V}`;U+=`. Received type ${typeof R}`,super(U),this.code="ERR_INVALID_ARG_TYPE"}}function d(P,w){if(P===null||typeof P!="object")throw new o(w,"Object",P)}function u(P,w){if(typeof P!="string")throw new o(w,"string",P)}const i=b.Jv==="win32";function n(P){return P===I||P===M}function f(P){return P===I}function v(P){return P>=z&&P<=E||P>=r&&P<=c}function a(P,w,V,R){let A="",H=0,U=-1,G=0,j=0;for(let W=0;W<=P.length;++W){if(W<P.length)j=P.charCodeAt(W);else{if(R(j))break;j=I}if(R(j)){if(!(U===W-1||G===1))if(G===2){if(A.length<2||H!==2||A.charCodeAt(A.length-1)!==_||A.charCodeAt(A.length-2)!==_){if(A.length>2){const K=A.lastIndexOf(V);K===-1?(A="",H=0):(A=A.slice(0,K),H=A.length-1-A.lastIndexOf(V)),U=W,G=0;continue}else if(A.length!==0){A="",H=0,U=W,G=0;continue}}w&&(A+=A.length>0?`${V}..`:"..",H=2)}else A.length>0?A+=`${V}${P.slice(U+1,W)}`:A=P.slice(U+1,W),H=W-U-1;U=W,G=0}else j===_&&G!==-1?++G:G=-1}return A}function S(P,w){d(w,"pathObject");const V=w.dir||w.root,R=w.base||`${w.name||""}${w.ext||""}`;return V?V===w.root?`${V}${R}`:`${V}${P}${R}`:R}const g={resolve(...P){let w="",V="",R=!1;for(let A=P.length-1;A>=-1;A--){let H;if(A>=0){if(H=P[A],u(H,"path"),H.length===0)continue}else w.length===0?H=b.Vj():(H={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${w}`]||b.Vj(),(H===void 0||H.slice(0,2).toLowerCase()!==w.toLowerCase()&&H.charCodeAt(2)===M)&&(H=`${w}\\`));const U=H.length;let G=0,j="",W=!1;const K=H.charCodeAt(0);if(U===1)n(K)&&(G=1,W=!0);else if(n(K))if(W=!0,n(H.charCodeAt(1))){let m=2,J=m;for(;m<U&&!n(H.charCodeAt(m));)m++;if(m<U&&m!==J){const X=H.slice(J,m);for(J=m;m<U&&n(H.charCodeAt(m));)m++;if(m<U&&m!==J){for(J=m;m<U&&!n(H.charCodeAt(m));)m++;(m===U||m!==J)&&(j=`\\\\${X}\\${H.slice(J,m)}`,G=m)}}}else G=1;else v(K)&&H.charCodeAt(1)===D&&(j=H.slice(0,2),G=2,U>2&&n(H.charCodeAt(2))&&(W=!0,G=3));if(j.length>0)if(w.length>0){if(j.toLowerCase()!==w.toLowerCase())continue}else w=j;if(R){if(w.length>0)break}else if(V=`${H.slice(G)}\\${V}`,R=W,W&&w.length>0)break}return V=a(V,!R,"\\",n),R?`${w}\\${V}`:`${w}${V}`||"."},normalize(P){u(P,"path");const w=P.length;if(w===0)return".";let V=0,R,A=!1;const H=P.charCodeAt(0);if(w===1)return f(H)?"\\":P;if(n(H))if(A=!0,n(P.charCodeAt(1))){let G=2,j=G;for(;G<w&&!n(P.charCodeAt(G));)G++;if(G<w&&G!==j){const W=P.slice(j,G);for(j=G;G<w&&n(P.charCodeAt(G));)G++;if(G<w&&G!==j){for(j=G;G<w&&!n(P.charCodeAt(G));)G++;if(G===w)return`\\\\${W}\\${P.slice(j)}\\`;G!==j&&(R=`\\\\${W}\\${P.slice(j,G)}`,V=G)}}}else V=1;else v(H)&&P.charCodeAt(1)===D&&(R=P.slice(0,2),V=2,w>2&&n(P.charCodeAt(2))&&(A=!0,V=3));let U=V<w?a(P.slice(V),!A,"\\",n):"";return U.length===0&&!A&&(U="."),U.length>0&&n(P.charCodeAt(w-1))&&(U+="\\"),R===void 0?A?`\\${U}`:U:A?`${R}\\${U}`:`${R}${U}`},isAbsolute(P){u(P,"path");const w=P.length;if(w===0)return!1;const V=P.charCodeAt(0);return n(V)||w>2&&v(V)&&P.charCodeAt(1)===D&&n(P.charCodeAt(2))},join(...P){if(P.length===0)return".";let w,V;for(let H=0;H<P.length;++H){const U=P[H];u(U,"path"),U.length>0&&(w===void 0?w=V=U:w+=`\\${U}`)}if(w===void 0)return".";let R=!0,A=0;if(typeof V=="string"&&n(V.charCodeAt(0))){++A;const H=V.length;H>1&&n(V.charCodeAt(1))&&(++A,H>2&&(n(V.charCodeAt(2))?++A:R=!1))}if(R){for(;A<w.length&&n(w.charCodeAt(A));)A++;A>=2&&(w=`\\${w.slice(A)}`)}return g.normalize(w)},relative(P,w){if(u(P,"from"),u(w,"to"),P===w)return"";const V=g.resolve(P),R=g.resolve(w);if(V===R||(P=V.toLowerCase(),w=R.toLowerCase(),P===w))return"";let A=0;for(;A<P.length&&P.charCodeAt(A)===M;)A++;let H=P.length;for(;H-1>A&&P.charCodeAt(H-1)===M;)H--;const U=H-A;let G=0;for(;G<w.length&&w.charCodeAt(G)===M;)G++;let j=w.length;for(;j-1>G&&w.charCodeAt(j-1)===M;)j--;const W=j-G,K=U<W?U:W;let m=-1,J=0;for(;J<K;J++){const ie=P.charCodeAt(A+J);if(ie!==w.charCodeAt(G+J))break;ie===M&&(m=J)}if(J!==K){if(m===-1)return R}else{if(W>K){if(w.charCodeAt(G+J)===M)return R.slice(G+J+1);if(J===2)return R.slice(G+J)}U>K&&(P.charCodeAt(A+J)===M?m=J:J===2&&(m=3)),m===-1&&(m=0)}let X="";for(J=A+m+1;J<=H;++J)(J===H||P.charCodeAt(J)===M)&&(X+=X.length===0?"..":"\\..");return G+=m,X.length>0?`${X}${R.slice(G,j)}`:(R.charCodeAt(G)===M&&++G,R.slice(G,j))},toNamespacedPath(P){if(typeof P!="string"||P.length===0)return P;const w=g.resolve(P);if(w.length<=2)return P;if(w.charCodeAt(0)===M){if(w.charCodeAt(1)===M){const V=w.charCodeAt(2);if(V!==p&&V!==_)return`\\\\?\\UNC\\${w.slice(2)}`}}else if(v(w.charCodeAt(0))&&w.charCodeAt(1)===D&&w.charCodeAt(2)===M)return`\\\\?\\${w}`;return P},dirname(P){u(P,"path");const w=P.length;if(w===0)return".";let V=-1,R=0;const A=P.charCodeAt(0);if(w===1)return n(A)?P:".";if(n(A)){if(V=R=1,n(P.charCodeAt(1))){let G=2,j=G;for(;G<w&&!n(P.charCodeAt(G));)G++;if(G<w&&G!==j){for(j=G;G<w&&n(P.charCodeAt(G));)G++;if(G<w&&G!==j){for(j=G;G<w&&!n(P.charCodeAt(G));)G++;if(G===w)return P;G!==j&&(V=R=G+1)}}}}else v(A)&&P.charCodeAt(1)===D&&(V=w>2&&n(P.charCodeAt(2))?3:2,R=V);let H=-1,U=!0;for(let G=w-1;G>=R;--G)if(n(P.charCodeAt(G))){if(!U){H=G;break}}else U=!1;if(H===-1){if(V===-1)return".";H=V}return P.slice(0,H)},basename(P,w){w!==void 0&&u(w,"ext"),u(P,"path");let V=0,R=-1,A=!0,H;if(P.length>=2&&v(P.charCodeAt(0))&&P.charCodeAt(1)===D&&(V=2),w!==void 0&&w.length>0&&w.length<=P.length){if(w===P)return"";let U=w.length-1,G=-1;for(H=P.length-1;H>=V;--H){const j=P.charCodeAt(H);if(n(j)){if(!A){V=H+1;break}}else G===-1&&(A=!1,G=H+1),U>=0&&(j===w.charCodeAt(U)?--U===-1&&(R=H):(U=-1,R=G))}return V===R?R=G:R===-1&&(R=P.length),P.slice(V,R)}for(H=P.length-1;H>=V;--H)if(n(P.charCodeAt(H))){if(!A){V=H+1;break}}else R===-1&&(A=!1,R=H+1);return R===-1?"":P.slice(V,R)},extname(P){u(P,"path");let w=0,V=-1,R=0,A=-1,H=!0,U=0;P.length>=2&&P.charCodeAt(1)===D&&v(P.charCodeAt(0))&&(w=R=2);for(let G=P.length-1;G>=w;--G){const j=P.charCodeAt(G);if(n(j)){if(!H){R=G+1;break}continue}A===-1&&(H=!1,A=G+1),j===_?V===-1?V=G:U!==1&&(U=1):V!==-1&&(U=-1)}return V===-1||A===-1||U===0||U===1&&V===A-1&&V===R+1?"":P.slice(V,A)},format:S.bind(null,"\\"),parse(P){u(P,"path");const w={root:"",dir:"",base:"",ext:"",name:""};if(P.length===0)return w;const V=P.length;let R=0,A=P.charCodeAt(0);if(V===1)return n(A)?(w.root=w.dir=P,w):(w.base=w.name=P,w);if(n(A)){if(R=1,n(P.charCodeAt(1))){let m=2,J=m;for(;m<V&&!n(P.charCodeAt(m));)m++;if(m<V&&m!==J){for(J=m;m<V&&n(P.charCodeAt(m));)m++;if(m<V&&m!==J){for(J=m;m<V&&!n(P.charCodeAt(m));)m++;m===V?R=m:m!==J&&(R=m+1)}}}}else if(v(A)&&P.charCodeAt(1)===D){if(V<=2)return w.root=w.dir=P,w;if(R=2,n(P.charCodeAt(2))){if(V===3)return w.root=w.dir=P,w;R=3}}R>0&&(w.root=P.slice(0,R));let H=-1,U=R,G=-1,j=!0,W=P.length-1,K=0;for(;W>=R;--W){if(A=P.charCodeAt(W),n(A)){if(!j){U=W+1;break}continue}G===-1&&(j=!1,G=W+1),A===_?H===-1?H=W:K!==1&&(K=1):H!==-1&&(K=-1)}return G!==-1&&(H===-1||K===0||K===1&&H===G-1&&H===U+1?w.base=w.name=P.slice(U,G):(w.name=P.slice(U,H),w.base=P.slice(U,G),w.ext=P.slice(H,G))),U>0&&U!==R?w.dir=P.slice(0,U-1):w.dir=w.root,w},sep:"\\",delimiter:";",win32:null,posix:null},y=(()=>{if(i){const P=/\\/g;return()=>{const w=b.Vj().replace(P,"/");return w.slice(w.indexOf("/"))}}return()=>b.Vj()})(),C={resolve(...P){let w="",V=!1;for(let R=P.length-1;R>=-1&&!V;R--){const A=R>=0?P[R]:y();u(A,"path"),A.length!==0&&(w=`${A}/${w}`,V=A.charCodeAt(0)===I)}return w=a(w,!V,"/",f),V?`/${w}`:w.length>0?w:"."},normalize(P){if(u(P,"path"),P.length===0)return".";const w=P.charCodeAt(0)===I,V=P.charCodeAt(P.length-1)===I;return P=a(P,!w,"/",f),P.length===0?w?"/":V?"./":".":(V&&(P+="/"),w?`/${P}`:P)},isAbsolute(P){return u(P,"path"),P.length>0&&P.charCodeAt(0)===I},join(...P){if(P.length===0)return".";let w;for(let V=0;V<P.length;++V){const R=P[V];u(R,"path"),R.length>0&&(w===void 0?w=R:w+=`/${R}`)}return w===void 0?".":C.normalize(w)},relative(P,w){if(u(P,"from"),u(w,"to"),P===w||(P=C.resolve(P),w=C.resolve(w),P===w))return"";const V=1,R=P.length,A=R-V,H=1,U=w.length-H,G=A<U?A:U;let j=-1,W=0;for(;W<G;W++){const m=P.charCodeAt(V+W);if(m!==w.charCodeAt(H+W))break;m===I&&(j=W)}if(W===G)if(U>G){if(w.charCodeAt(H+W)===I)return w.slice(H+W+1);if(W===0)return w.slice(H+W)}else A>G&&(P.charCodeAt(V+W)===I?j=W:W===0&&(j=0));let K="";for(W=V+j+1;W<=R;++W)(W===R||P.charCodeAt(W)===I)&&(K+=K.length===0?"..":"/..");return`${K}${w.slice(H+j)}`},toNamespacedPath(P){return P},dirname(P){if(u(P,"path"),P.length===0)return".";const w=P.charCodeAt(0)===I;let V=-1,R=!0;for(let A=P.length-1;A>=1;--A)if(P.charCodeAt(A)===I){if(!R){V=A;break}}else R=!1;return V===-1?w?"/":".":w&&V===1?"//":P.slice(0,V)},basename(P,w){w!==void 0&&u(w,"ext"),u(P,"path");let V=0,R=-1,A=!0,H;if(w!==void 0&&w.length>0&&w.length<=P.length){if(w===P)return"";let U=w.length-1,G=-1;for(H=P.length-1;H>=0;--H){const j=P.charCodeAt(H);if(j===I){if(!A){V=H+1;break}}else G===-1&&(A=!1,G=H+1),U>=0&&(j===w.charCodeAt(U)?--U===-1&&(R=H):(U=-1,R=G))}return V===R?R=G:R===-1&&(R=P.length),P.slice(V,R)}for(H=P.length-1;H>=0;--H)if(P.charCodeAt(H)===I){if(!A){V=H+1;break}}else R===-1&&(A=!1,R=H+1);return R===-1?"":P.slice(V,R)},extname(P){u(P,"path");let w=-1,V=0,R=-1,A=!0,H=0;for(let U=P.length-1;U>=0;--U){const G=P.charCodeAt(U);if(G===I){if(!A){V=U+1;break}continue}R===-1&&(A=!1,R=U+1),G===_?w===-1?w=U:H!==1&&(H=1):w!==-1&&(H=-1)}return w===-1||R===-1||H===0||H===1&&w===R-1&&w===V+1?"":P.slice(w,R)},format:S.bind(null,"/"),parse(P){u(P,"path");const w={root:"",dir:"",base:"",ext:"",name:""};if(P.length===0)return w;const V=P.charCodeAt(0)===I;let R;V?(w.root="/",R=1):R=0;let A=-1,H=0,U=-1,G=!0,j=P.length-1,W=0;for(;j>=R;--j){const K=P.charCodeAt(j);if(K===I){if(!G){H=j+1;break}continue}U===-1&&(G=!1,U=j+1),K===_?A===-1?A=j:W!==1&&(W=1):A!==-1&&(W=-1)}if(U!==-1){const K=H===0&&V?1:H;A===-1||W===0||W===1&&A===U-1&&A===H+1?w.base=w.name=P.slice(K,U):(w.name=P.slice(K,A),w.base=P.slice(K,U),w.ext=P.slice(A,U))}return H>0?w.dir=P.slice(0,H-1):V&&(w.dir="/"),w},sep:"/",delimiter:":",win32:null,posix:null};C.win32=g.win32=g,C.posix=g.posix=C;const L=i?g.normalize:C.normalize,O=i?g.resolve:C.resolve,T=i?g.relative:C.relative,F=i?g.dirname:C.dirname,B=i?g.basename:C.basename,$=i?g.extname:C.extname,Y=i?g.sep:C.sep},1432:function(Pt,Ke,e){"use strict";e.d(Ke,{$L:function(){return Y},ED:function(){return T},G6:function(){return ie},IJ:function(){return B},OS:function(){return j},dK:function(){return H},dz:function(){return F},fn:function(){return G},gn:function(){return V},i7:function(){return J},qB:function(){return w},r:function(){return m},tY:function(){return $},tq:function(){return R},un:function(){return le},vU:function(){return X}});var b=e(63580),z=e(34155),r;const E="en";let c=!1,_=!1,I=!1,M=!1,D=!1,p=!1,o=!1,d=!1,u=!1,i=!1,n,f=E,v=null,a=null,S;const g=globalThis;let y;typeof g.vscode!="undefined"&&typeof g.vscode.process!="undefined"?y=g.vscode.process:typeof z!="undefined"&&(y=z);const C=typeof((r=y==null?void 0:y.versions)===null||r===void 0?void 0:r.electron)=="string",L=C&&(y==null?void 0:y.type)==="renderer";if(typeof navigator=="object"&&!L)S=navigator.userAgent,c=S.indexOf("Windows")>=0,_=S.indexOf("Macintosh")>=0,d=(S.indexOf("Macintosh")>=0||S.indexOf("iPad")>=0||S.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,I=S.indexOf("Linux")>=0,i=(S==null?void 0:S.indexOf("Mobi"))>=0,p=!0,n=b.aj(b.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||E,f=n,v=navigator.language;else if(typeof y=="object"){c=y.platform==="win32",_=y.platform==="darwin",I=y.platform==="linux",M=I&&!!y.env.SNAP&&!!y.env.SNAP_REVISION,o=C,u=!!y.env.CI||!!y.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=E,f=E;const Le=y.env.VSCODE_NLS_CONFIG;if(Le)try{const pe=JSON.parse(Le),Te=pe.availableLanguages["*"];n=pe.locale,v=pe.osLocale,f=Te||E,a=pe._translationsConfigFile}catch(pe){}D=!0}else console.error("Unable to resolve platform.");let O=0;_?O=1:c?O=3:I&&(O=2);const T=c,F=_,B=I,$=D,Y=p,w=p&&typeof g.importScripts=="function"?g.origin:void 0,V=d,R=i,A=S,H=f,U=typeof g.postMessage=="function"&&!g.importScripts,G=(()=>{if(U){const Le=[];g.addEventListener("message",Te=>{if(Te.data&&Te.data.vscodeScheduleAsyncWork)for(let De=0,ae=Le.length;De<ae;De++){const Ne=Le[De];if(Ne.id===Te.data.vscodeScheduleAsyncWork){Le.splice(De,1),Ne.callback();return}}});let pe=0;return Te=>{const De=++pe;Le.push({id:De,callback:Te}),g.postMessage({vscodeScheduleAsyncWork:De},"*")}}return Le=>setTimeout(Le)})(),j=_||d?2:c?1:3;let W=!0,K=!1;function m(){if(!K){K=!0;const Le=new Uint8Array(2);Le[0]=1,Le[1]=2,W=new Uint16Array(Le.buffer)[0]===512+1}return W}const J=!!(A&&A.indexOf("Chrome")>=0),X=!!(A&&A.indexOf("Firefox")>=0),ie=!!(!J&&A&&A.indexOf("Safari")>=0),le=!!(A&&A.indexOf("Edg/")>=0),fe=!!(A&&A.indexOf("Android")>=0)},76648:function(Pt,Ke,e){"use strict";e.d(Ke,{Jv:function(){return I},OB:function(){return _},Vj:function(){return c}});var b=e(1432),z=e(34155);let r;const E=globalThis.vscode;if(typeof E!="undefined"&&typeof E.process!="undefined"){const M=E.process;r={get platform(){return M.platform},get arch(){return M.arch},get env(){return M.env},cwd(){return M.cwd()}}}else typeof z!="undefined"?r={get platform(){return z.platform},get arch(){return z.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||z.cwd()}}:r={get platform(){return b.ED?"win32":b.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const c=r.cwd,_=r.env,I=r.platform},61134:function(Pt,Ke,e){"use strict";e.d(Ke,{e:function(){return b}});var b;(function(z){function r(I,M){if(I.start>=M.end||M.start>=I.end)return{start:0,end:0};const D=Math.max(I.start,M.start),p=Math.min(I.end,M.end);return p-D<=0?{start:0,end:0}:{start:D,end:p}}z.intersect=r;function E(I){return I.end-I.start<=0}z.isEmpty=E;function c(I,M){return!E(r(I,M))}z.intersects=c;function _(I,M){const D=[],p={start:I.start,end:Math.min(M.start,I.end)},o={start:Math.max(M.end,I.start),end:I.end};return E(p)||D.push(p),E(o)||D.push(o),D}z.relativeComplement=_})(b||(b={}))},95935:function(Pt,Ke,e){"use strict";e.d(Ke,{AH:function(){return g},DZ:function(){return v},EZ:function(){return f},Hx:function(){return n},SF:function(){return D},Vb:function(){return $},Vo:function(){return S},XX:function(){return a},Xy:function(){return d},i3:function(){return C},lX:function(){return y},z_:function(){return I}});var b=e(15527),z=e(66663),r=e(82663),E=e(1432),c=e(97295),_=e(70666);function I(Y){return(0,_.q)(Y,!0)}class M{constructor(P){this._ignorePathCasing=P}compare(P,w,V=!1){return P===w?0:(0,c.qu)(this.getComparisonKey(P,V),this.getComparisonKey(w,V))}isEqual(P,w,V=!1){return P===w?!0:!P||!w?!1:this.getComparisonKey(P,V)===this.getComparisonKey(w,V)}getComparisonKey(P,w=!1){return P.with({path:this._ignorePathCasing(P)?P.path.toLowerCase():void 0,fragment:w?null:void 0}).toString()}isEqualOrParent(P,w,V=!1){if(P.scheme===w.scheme){if(P.scheme===z.lg.file)return b.KM(I(P),I(w),this._ignorePathCasing(P))&&P.query===w.query&&(V||P.fragment===w.fragment);if(O(P.authority,w.authority))return b.KM(P.path,w.path,this._ignorePathCasing(P),"/")&&P.query===w.query&&(V||P.fragment===w.fragment)}return!1}joinPath(P,...w){return _.o.joinPath(P,...w)}basenameOrAuthority(P){return f(P)||P.authority}basename(P){return r.KR.basename(P.path)}extname(P){return r.KR.extname(P.path)}dirname(P){if(P.path.length===0)return P;let w;return P.scheme===z.lg.file?w=_.o.file(r.XX(I(P))).path:(w=r.KR.dirname(P.path),P.authority&&w.length&&w.charCodeAt(0)!==47&&(console.error(`dirname("${P.toString})) resulted in a relative path`),w="/")),P.with({path:w})}normalizePath(P){if(!P.path.length)return P;let w;return P.scheme===z.lg.file?w=_.o.file(r.Fv(I(P))).path:w=r.KR.normalize(P.path),P.with({path:w})}relativePath(P,w){if(P.scheme!==w.scheme||!O(P.authority,w.authority))return;if(P.scheme===z.lg.file){const A=r.Gf(I(P),I(w));return E.ED?b.ej(A):A}let V=P.path||"/";const R=w.path||"/";if(this._ignorePathCasing(P)){let A=0;for(const H=Math.min(V.length,R.length);A<H&&!(V.charCodeAt(A)!==R.charCodeAt(A)&&V.charAt(A).toLowerCase()!==R.charAt(A).toLowerCase());A++);V=R.substr(0,A)+V.substr(A)}return r.KR.relative(V,R)}resolvePath(P,w){if(P.scheme===z.lg.file){const V=_.o.file(r.DB(I(P),w));return P.with({authority:V.authority,path:V.path})}return w=b.fn(w),P.with({path:r.KR.resolve(P.path,w)})}isAbsolutePath(P){return!!P.path&&P.path[0]==="/"}isEqualAuthority(P,w){return P===w||P!==void 0&&w!==void 0&&(0,c.qq)(P,w)}hasTrailingPathSeparator(P,w=r.ir){if(P.scheme===z.lg.file){const V=I(P);return V.length>b.yj(V).length&&V[V.length-1]===w}else{const V=P.path;return V.length>1&&V.charCodeAt(V.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(P.fsPath)}}removeTrailingPathSeparator(P,w=r.ir){return T(P,w)?P.with({path:P.path.substr(0,P.path.length-1)}):P}addTrailingPathSeparator(P,w=r.ir){let V=!1;if(P.scheme===z.lg.file){const R=I(P);V=R!==void 0&&R.length===b.yj(R).length&&R[R.length-1]===w}else{w="/";const R=P.path;V=R.length===1&&R.charCodeAt(R.length-1)===47}return!V&&!T(P,w)?P.with({path:P.path+"/"}):P}}const D=new M(()=>!1),p=new M(Y=>Y.scheme===z.lg.file?!E.IJ:!0),o=new M(Y=>!0),d=D.isEqual.bind(D),u=D.isEqualOrParent.bind(D),i=D.getComparisonKey.bind(D),n=D.basenameOrAuthority.bind(D),f=D.basename.bind(D),v=D.extname.bind(D),a=D.dirname.bind(D),S=D.joinPath.bind(D),g=D.normalizePath.bind(D),y=D.relativePath.bind(D),C=D.resolvePath.bind(D),L=D.isAbsolutePath.bind(D),O=D.isEqualAuthority.bind(D),T=D.hasTrailingPathSeparator.bind(D),F=D.removeTrailingPathSeparator.bind(D),B=D.addTrailingPathSeparator.bind(D);var $;(function(Y){Y.META_DATA_LABEL="label",Y.META_DATA_DESCRIPTION="description",Y.META_DATA_SIZE="size",Y.META_DATA_MIME="mime";function P(w){const V=new Map;w.path.substring(w.path.indexOf(";")+1,w.path.lastIndexOf(";")).split(";").forEach(H=>{const[U,G]=H.split(":");U&&G&&V.set(U,G)});const A=w.path.substring(0,w.path.indexOf(";"));return A&&V.set(Y.META_DATA_MIME,A),V}Y.parseMetaData=P})($||($={}))},76633:function(Pt,Ke,e){"use strict";e.d(Ke,{Rm:function(){return E}});var b=e(4669),z=e(5976);class r{constructor(d,u,i,n,f,v,a){this._forceIntegerValues=d,this._scrollStateBrand=void 0,this._forceIntegerValues&&(u=u|0,i=i|0,n=n|0,f=f|0,v=v|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,u<0&&(u=0),n+u>i&&(n=i-u),n<0&&(n=0),f<0&&(f=0),a+f>v&&(a=v-f),a<0&&(a=0),this.width=u,this.scrollWidth=i,this.scrollLeft=n,this.height=f,this.scrollHeight=v,this.scrollTop=a}equals(d){return this.rawScrollLeft===d.rawScrollLeft&&this.rawScrollTop===d.rawScrollTop&&this.width===d.width&&this.scrollWidth===d.scrollWidth&&this.scrollLeft===d.scrollLeft&&this.height===d.height&&this.scrollHeight===d.scrollHeight&&this.scrollTop===d.scrollTop}withScrollDimensions(d,u){return new r(this._forceIntegerValues,typeof d.width!="undefined"?d.width:this.width,typeof d.scrollWidth!="undefined"?d.scrollWidth:this.scrollWidth,u?this.rawScrollLeft:this.scrollLeft,typeof d.height!="undefined"?d.height:this.height,typeof d.scrollHeight!="undefined"?d.scrollHeight:this.scrollHeight,u?this.rawScrollTop:this.scrollTop)}withScrollPosition(d){return new r(this._forceIntegerValues,this.width,this.scrollWidth,typeof d.scrollLeft!="undefined"?d.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof d.scrollTop!="undefined"?d.scrollTop:this.rawScrollTop)}createScrollEvent(d,u){const i=this.width!==d.width,n=this.scrollWidth!==d.scrollWidth,f=this.scrollLeft!==d.scrollLeft,v=this.height!==d.height,a=this.scrollHeight!==d.scrollHeight,S=this.scrollTop!==d.scrollTop;return{inSmoothScrolling:u,oldWidth:d.width,oldScrollWidth:d.scrollWidth,oldScrollLeft:d.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:d.height,oldScrollHeight:d.scrollHeight,oldScrollTop:d.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:f,heightChanged:v,scrollHeightChanged:a,scrollTopChanged:S}}}class E extends z.JT{constructor(d){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new b.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=d.smoothScrollDuration,this._scheduleAtNextAnimationFrame=d.scheduleAtNextAnimationFrame,this._state=new r(d.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(d){this._smoothScrollDuration=d}validateScrollPosition(d){return this._state.withScrollPosition(d)}getScrollDimensions(){return this._state}setScrollDimensions(d,u){var i;const n=this._state.withScrollDimensions(d,u);this._setState(n,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(d){const u=this._state.withScrollPosition(d);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(u,!1)}setScrollPositionSmooth(d,u){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(d);if(this._smoothScrolling){d={scrollLeft:typeof d.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:d.scrollLeft,scrollTop:typeof d.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:d.scrollTop};const i=this._state.withScrollPosition(d);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;u?n=new M(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const i=this._state.withScrollPosition(d);this._smoothScrolling=M.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const d=this._smoothScrolling.tick(),u=this._state.withScrollPosition(d);if(this._setState(u,!0),!!this._smoothScrolling){if(d.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(d,u){const i=this._state;i.equals(d)||(this._state=d,this._onScroll.fire(this._state.createScrollEvent(i,u)))}}class c{constructor(d,u,i){this.scrollLeft=d,this.scrollTop=u,this.isDone=i}}function _(o,d){const u=d-o;return function(i){return o+u*p(i)}}function I(o,d,u){return function(i){return i<u?o(i/u):d((i-u)/(1-u))}}class M{constructor(d,u,i,n){this.from=d,this.to=u,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(d,u,i){if(Math.abs(d-u)>2.5*i){let f,v;return d<u?(f=d+.75*i,v=u-.75*i):(f=d-.75*i,v=u+.75*i),I(_(d,f),_(v,u),.33)}return _(d,u)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(d){this.to=d.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(d){const u=(d-this.startTime)/this.duration;if(u<1){const i=this.scrollLeft(u),n=this.scrollTop(u);return new c(i,n,!1)}return new c(this.to.scrollLeft,this.to.scrollTop,!0)}combine(d,u,i){return M.start(d,u,i)}static start(d,u,i){i=i+10;const n=Date.now()-10;return new M(d,u,n,i)}}function D(o){return Math.pow(o,3)}function p(o){return 1-D(1-o)}},14603:function(Pt,Ke,e){"use strict";var b=e(97295),z;(function(r){r[r.Ignore=0]="Ignore",r[r.Info=1]="Info",r[r.Warning=2]="Warning",r[r.Error=3]="Error"})(z||(z={})),function(r){const E="error",c="warning",_="warn",I="info",M="ignore";function D(o){return o?b.qq(E,o)?r.Error:b.qq(c,o)||b.qq(_,o)?r.Warning:b.qq(I,o)?r.Info:r.Ignore:r.Ignore}r.fromValue=D;function p(o){switch(o){case r.Error:return E;case r.Warning:return c;case r.Info:return I;default:return M}}r.toString=p}(z||(z={})),Ke.Z=z},84013:function(Pt,Ke,e){"use strict";e.d(Ke,{G:function(){return z}});const b=globalThis.performance&&typeof globalThis.performance.now=="function";class z{static create(E){return new z(E)}constructor(E){this._now=b&&E===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}},97295:function(Pt,Ke,e){"use strict";e.d(Ke,{$i:function(){return le},B4:function(){return Me},C8:function(){return Te},GF:function(){return i},HO:function(){return W},IO:function(){return n},J_:function(){return K},K7:function(){return pe},Kw:function(){return Ne},LC:function(){return v},Mh:function(){return Y},P1:function(){return P},PJ:function(){return We},Qe:function(){return fe},R1:function(){return u},T5:function(){return O},TT:function(){return y},Ut:function(){return X},V8:function(){return a},W1:function(){return G},WU:function(){return _},YK:function(){return V},YU:function(){return I},ZG:function(){return w},ZH:function(){return A},ZK:function(){return ye},ab:function(){return Le},c1:function(){return De},df:function(){return F},ec:function(){return M},fy:function(){return D},j3:function(){return p},j_:function(){return L},m5:function(){return E},mK:function(){return T},oH:function(){return ce},oL:function(){return o},ok:function(){return $},ow:function(){return S},qq:function(){return B},qu:function(){return g},rL:function(){return R},uS:function(){return ae},un:function(){return d},uq:function(){return f},vH:function(){return j},vU:function(){return _e},zY:function(){return C}});var b=e(701),z=e(79579),r;function E(se){return!se||typeof se!="string"?!0:se.trim().length===0}const c=/{(\d+)}/g;function _(se,...ve){return ve.length===0?se:se.replace(c,function(xe,je){const Ae=parseInt(je,10);return isNaN(Ae)||Ae<0||Ae>=ve.length?xe:ve[Ae]})}function I(se){return se.replace(/[<>&]/g,function(ve){switch(ve){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ve}})}function M(se){return se.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function D(se,ve=" "){const xe=p(se,ve);return o(xe,ve)}function p(se,ve){if(!se||!ve)return se;const xe=ve.length;if(xe===0||se.length===0)return se;let je=0;for(;se.indexOf(ve,je)===je;)je=je+xe;return se.substring(je)}function o(se,ve){if(!se||!ve)return se;const xe=ve.length,je=se.length;if(xe===0||je===0)return se;let Ae=je,Qe=-1;for(;Qe=se.lastIndexOf(ve,Ae-1),!(Qe===-1||Qe+xe!==Ae);){if(Qe===0)return"";Ae=Qe}return se.substring(0,Ae)}function d(se){return se.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function u(se){return se.replace(/\*/g,"")}function i(se,ve,xe={}){if(!se)throw new Error("Cannot create regex from empty string");ve||(se=M(se)),xe.wholeWord&&(/\B/.test(se.charAt(0))||(se="\\b"+se),/\B/.test(se.charAt(se.length-1))||(se=se+"\\b"));let je="";return xe.global&&(je+="g"),xe.matchCase||(je+="i"),xe.multiline&&(je+="m"),xe.unicode&&(je+="u"),new RegExp(se,je)}function n(se){return se.source==="^"||se.source==="^$"||se.source==="$"||se.source==="^\\s*$"?!1:!!(se.exec("")&&se.lastIndex===0)}function f(se){return se.split(/\r\n|\r|\n/)}function v(se){for(let ve=0,xe=se.length;ve<xe;ve++){const je=se.charCodeAt(ve);if(je!==32&&je!==9)return ve}return-1}function a(se,ve=0,xe=se.length){for(let je=ve;je<xe;je++){const Ae=se.charCodeAt(je);if(Ae!==32&&Ae!==9)return se.substring(ve,je)}return se.substring(ve,xe)}function S(se,ve=se.length-1){for(let xe=ve;xe>=0;xe--){const je=se.charCodeAt(xe);if(je!==32&&je!==9)return xe}return-1}function g(se,ve){return se<ve?-1:se>ve?1:0}function y(se,ve,xe=0,je=se.length,Ae=0,Qe=ve.length){for(;xe<je&&Ae<Qe;xe++,Ae++){const at=se.charCodeAt(xe),vt=ve.charCodeAt(Ae);if(at<vt)return-1;if(at>vt)return 1}const rt=je-xe,Dt=Qe-Ae;return rt<Dt?-1:rt>Dt?1:0}function C(se,ve){return L(se,ve,0,se.length,0,ve.length)}function L(se,ve,xe=0,je=se.length,Ae=0,Qe=ve.length){for(;xe<je&&Ae<Qe;xe++,Ae++){let at=se.charCodeAt(xe),vt=ve.charCodeAt(Ae);if(at===vt)continue;if(at>=128||vt>=128)return y(se.toLowerCase(),ve.toLowerCase(),xe,je,Ae,Qe);T(at)&&(at-=32),T(vt)&&(vt-=32);const Mt=at-vt;if(Mt!==0)return Mt}const rt=je-xe,Dt=Qe-Ae;return rt<Dt?-1:rt>Dt?1:0}function O(se){return se>=48&&se<=57}function T(se){return se>=97&&se<=122}function F(se){return se>=65&&se<=90}function B(se,ve){return se.length===ve.length&&L(se,ve)===0}function $(se,ve){const xe=ve.length;return ve.length>se.length?!1:L(se,ve,0,xe)===0}function Y(se,ve){const xe=Math.min(se.length,ve.length);let je;for(je=0;je<xe;je++)if(se.charCodeAt(je)!==ve.charCodeAt(je))return je;return xe}function P(se,ve){const xe=Math.min(se.length,ve.length);let je;const Ae=se.length-1,Qe=ve.length-1;for(je=0;je<xe;je++)if(se.charCodeAt(Ae-je)!==ve.charCodeAt(Qe-je))return je;return xe}function w(se){return 55296<=se&&se<=56319}function V(se){return 56320<=se&&se<=57343}function R(se,ve){return(se-55296<<10)+(ve-56320)+65536}function A(se,ve,xe){const je=se.charCodeAt(xe);if(w(je)&&xe+1<ve){const Ae=se.charCodeAt(xe+1);if(V(Ae))return R(je,Ae)}return je}function H(se,ve){const xe=se.charCodeAt(ve-1);if(V(xe)&&ve>1){const je=se.charCodeAt(ve-2);if(w(je))return R(je,xe)}return xe}class U{get offset(){return this._offset}constructor(ve,xe=0){this._str=ve,this._len=ve.length,this._offset=xe}setOffset(ve){this._offset=ve}prevCodePoint(){const ve=H(this._str,this._offset);return this._offset-=ve>=65536?2:1,ve}nextCodePoint(){const ve=A(this._str,this._len,this._offset);return this._offset+=ve>=65536?2:1,ve}eol(){return this._offset>=this._len}}class G{get offset(){return this._iterator.offset}constructor(ve,xe=0){this._iterator=new U(ve,xe)}nextGraphemeLength(){const ve=Se.getInstance(),xe=this._iterator,je=xe.offset;let Ae=ve.getGraphemeBreakType(xe.nextCodePoint());for(;!xe.eol();){const Qe=xe.offset,rt=ve.getGraphemeBreakType(xe.nextCodePoint());if(ze(Ae,rt)){xe.setOffset(Qe);break}Ae=rt}return xe.offset-je}prevGraphemeLength(){const ve=Se.getInstance(),xe=this._iterator,je=xe.offset;let Ae=ve.getGraphemeBreakType(xe.prevCodePoint());for(;xe.offset>0;){const Qe=xe.offset,rt=ve.getGraphemeBreakType(xe.prevCodePoint());if(ze(rt,Ae)){xe.setOffset(Qe);break}Ae=rt}return je-xe.offset}eol(){return this._iterator.eol()}}function j(se,ve){return new G(se,ve).nextGraphemeLength()}function W(se,ve){return new G(se,ve).prevGraphemeLength()}function K(se,ve){ve>0&&V(se.charCodeAt(ve))&&ve--;const xe=ve+j(se,ve);return[xe-W(se,xe),xe]}let m;function J(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function X(se){return m||(m=J()),m.test(se)}const ie=/^[\t\n\r\x20-\x7E]*$/;function le(se){return ie.test(se)}const fe=/[\u2028\u2029]/;function Le(se){return fe.test(se)}function pe(se){return se>=11904&&se<=55215||se>=63744&&se<=64255||se>=65281&&se<=65374}function Te(se){return se>=127462&&se<=127487||se===8986||se===8987||se===9200||se===9203||se>=9728&&se<=10175||se===11088||se===11093||se>=127744&&se<=128591||se>=128640&&se<=128764||se>=128992&&se<=129008||se>=129280&&se<=129535||se>=129648&&se<=129782}const De=String.fromCharCode(65279);function ae(se){return!!(se&&se.length>0&&se.charCodeAt(0)===65279)}function Ne(se,ve=!1){return se?(ve&&(se=se.replace(/\\./g,"")),se.toLowerCase()!==se):!1}function We(se){return se=se%(2*26),se<26?String.fromCharCode(97+se):String.fromCharCode(65+se-26)}function ze(se,ve){return se===0?ve!==5&&ve!==7:se===2&&ve===3?!1:se===4||se===2||se===3||ve===4||ve===2||ve===3?!0:!(se===8&&(ve===8||ve===9||ve===11||ve===12)||(se===11||se===9)&&(ve===9||ve===10)||(se===12||se===10)&&ve===10||ve===5||ve===13||ve===7||se===1||se===13&&ve===14||se===6&&ve===6)}class Se{static getInstance(){return Se._INSTANCE||(Se._INSTANCE=new Se),Se._INSTANCE}constructor(){this._data=ne()}getGraphemeBreakType(ve){if(ve<32)return ve===10?3:ve===13?2:4;if(ve<127)return 0;const xe=this._data,je=xe.length/3;let Ae=1;for(;Ae<=je;)if(ve<xe[3*Ae])Ae=2*Ae;else if(ve>xe[3*Ae+1])Ae=2*Ae+1;else return xe[3*Ae+2];return 0}}Se._INSTANCE=null;function ne(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ce(se,ve){if(se===0)return 0;const xe=Oe(se,ve);if(xe!==void 0)return xe;const je=new U(ve,se);return je.prevCodePoint(),je.offset}function Oe(se,ve){const xe=new U(ve,se);let je=xe.prevCodePoint();for(;Pe(je)||je===65039||je===8419;){if(xe.offset===0)return;je=xe.prevCodePoint()}if(!Te(je))return;let Ae=xe.offset;return Ae>0&&xe.prevCodePoint()===8205&&(Ae=xe.offset),Ae}function Pe(se){return 127995<=se&&se<=127999}const Me="\xA0";class ye{static getInstance(ve){return r.cache.get(Array.from(ve))}static getLocales(){return r._locales.value}constructor(ve){this.confusableDictionary=ve}isAmbiguous(ve){return this.confusableDictionary.has(ve)}getPrimaryConfusable(ve){return this.confusableDictionary.get(ve)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}r=ye,ye.ambiguousCharacterData=new z.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ye.cache=new b.t(se=>{function ve(vt){const Mt=new Map;for(let ti=0;ti<vt.length;ti+=2)Mt.set(vt[ti],vt[ti+1]);return Mt}function xe(vt,Mt){const ti=new Map(vt);for(const[Ft,ei]of Mt)ti.set(Ft,ei);return ti}function je(vt,Mt){if(!vt)return Mt;const ti=new Map;for(const[Ft,ei]of vt)Mt.has(Ft)&&ti.set(Ft,ei);return ti}const Ae=r.ambiguousCharacterData.value;let Qe=se.filter(vt=>!vt.startsWith("_")&&vt in Ae);Qe.length===0&&(Qe=["_default"]);let rt;for(const vt of Qe){const Mt=ve(Ae[vt]);rt=je(rt,Mt)}const Dt=ve(Ae._common),at=xe(Dt,rt);return new r(at)}),ye._locales=new z.o(()=>Object.keys(r.ambiguousCharacterData.value).filter(se=>!se.startsWith("_")));class _e{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(_e.getRawData())),this._data}static isInvisibleCharacter(ve){return _e.getData().has(ve)}static get codePoints(){return _e.getData()}}_e._data=void 0},5635:function(Pt,Ke,e){"use strict";e.d(Ke,{n:function(){return b}});const b=Symbol("MicrotaskDelay")},4767:function(Pt,Ke,e){"use strict";e.d(Ke,{Id:function(){return I}});var b=e(97295);class z{constructor(){this._value="",this._pos=0}reset(D){return this._value=D,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(D){const p=D.charCodeAt(0),o=this._value.charCodeAt(this._pos);return p-o}value(){return this._value[this._pos]}}class r{constructor(D=!0){this._caseSensitive=D}reset(D){return this._value=D,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let D=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(D)this._from++;else break;else D=!1;return this}cmp(D){return this._caseSensitive?(0,b.TT)(D,this._value,0,D.length,this._from,this._to):(0,b.j_)(D,this._value,0,D.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class E{constructor(D=!0,p=!0){this._splitOnBackslash=D,this._caseSensitive=p}reset(D){this._from=0,this._to=0,this._value=D,this._valueLen=D.length;for(let p=D.length-1;p>=0;p--,this._valueLen--){const o=this._value.charCodeAt(p);if(!(o===47||this._splitOnBackslash&&o===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let D=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(p===47||this._splitOnBackslash&&p===92)if(D)this._from++;else break;else D=!1}return this}cmp(D){return this._caseSensitive?(0,b.TT)(D,this._value,0,D.length,this._from,this._to):(0,b.j_)(D,this._value,0,D.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class c{constructor(D,p){this._ignorePathCasing=D,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(D){return this._value=D,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new E(!1,!this._ignorePathCasing(D)),this._pathIterator.reset(D.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(D)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(D){if(this._states[this._stateIdx]===1)return(0,b.zY)(D,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,b.zY)(D,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(D);if(this._states[this._stateIdx]===4)return(0,b.qu)(D,this._value.query);if(this._states[this._stateIdx]===5)return(0,b.qu)(D,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class _{constructor(){this.height=1}rotateLeft(){const D=this.right;return this.right=D.left,D.left=this,this.updateHeight(),D.updateHeight(),D}rotateRight(){const D=this.left;return this.left=D.right,D.right=this,this.updateHeight(),D.updateHeight(),D}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var D,p;return(p=(D=this.left)===null||D===void 0?void 0:D.height)!==null&&p!==void 0?p:0}get heightRight(){var D,p;return(p=(D=this.right)===null||D===void 0?void 0:D.height)!==null&&p!==void 0?p:0}}class I{static forUris(D=()=>!1,p=()=>!1){return new I(new c(D,p))}static forStrings(){return new I(new z)}static forConfigKeys(){return new I(new r)}constructor(D){this._iter=D}clear(){this._root=void 0}set(D,p){const o=this._iter.reset(D);let d;this._root||(this._root=new _,this._root.segment=o.value());const u=[];for(d=this._root;;){const n=o.cmp(d.segment);if(n>0)d.left||(d.left=new _,d.left.segment=o.value()),u.push([-1,d]),d=d.left;else if(n<0)d.right||(d.right=new _,d.right.segment=o.value()),u.push([1,d]),d=d.right;else if(o.hasNext())o.next(),d.mid||(d.mid=new _,d.mid.segment=o.value()),u.push([0,d]),d=d.mid;else break}const i=d.value;d.value=p,d.key=D;for(let n=u.length-1;n>=0;n--){const f=u[n][1];f.updateHeight();const v=f.balanceFactor();if(v<-1||v>1){const a=u[n][0],S=u[n+1][0];if(a===1&&S===1)u[n][1]=f.rotateLeft();else if(a===-1&&S===-1)u[n][1]=f.rotateRight();else if(a===1&&S===-1)f.right=u[n+1][1]=u[n+1][1].rotateRight(),u[n][1]=f.rotateLeft();else if(a===-1&&S===1)f.left=u[n+1][1]=u[n+1][1].rotateLeft(),u[n][1]=f.rotateRight();else throw new Error;if(n>0)switch(u[n-1][0]){case-1:u[n-1][1].left=u[n][1];break;case 1:u[n-1][1].right=u[n][1];break;case 0:u[n-1][1].mid=u[n][1];break}else this._root=u[0][1]}}return i}get(D){var p;return(p=this._getNode(D))===null||p===void 0?void 0:p.value}_getNode(D){const p=this._iter.reset(D);let o=this._root;for(;o;){const d=p.cmp(o.segment);if(d>0)o=o.left;else if(d<0)o=o.right;else if(p.hasNext())p.next(),o=o.mid;else break}return o}has(D){const p=this._getNode(D);return!((p==null?void 0:p.value)===void 0&&(p==null?void 0:p.mid)===void 0)}delete(D){return this._delete(D,!1)}deleteSuperstr(D){return this._delete(D,!0)}_delete(D,p){var o;const d=this._iter.reset(D),u=[];let i=this._root;for(;i;){const n=d.cmp(i.segment);if(n>0)u.push([-1,i]),i=i.left;else if(n<0)u.push([1,i]),i=i.right;else if(d.hasNext())d.next(),u.push([0,i]),i=i.mid;else break}if(i){if(p?(i.left=void 0,i.mid=void 0,i.right=void 0,i.height=1):(i.key=void 0,i.value=void 0),!i.mid&&!i.value)if(i.left&&i.right){const n=this._min(i.right);if(n.key){const{key:f,value:v,segment:a}=n;this._delete(n.key,!1),i.key=f,i.value=v,i.segment=a}}else{const n=(o=i.left)!==null&&o!==void 0?o:i.right;if(u.length>0){const[f,v]=u[u.length-1];switch(f){case-1:v.left=n;break;case 0:v.mid=n;break;case 1:v.right=n;break}}else this._root=n}for(let n=u.length-1;n>=0;n--){const f=u[n][1];f.updateHeight();const v=f.balanceFactor();if(v>1?(f.right.balanceFactor()>=0||(f.right=f.right.rotateRight()),u[n][1]=f.rotateLeft()):v<-1&&(f.left.balanceFactor()<=0||(f.left=f.left.rotateLeft()),u[n][1]=f.rotateRight()),n>0)switch(u[n-1][0]){case-1:u[n-1][1].left=u[n][1];break;case 1:u[n-1][1].right=u[n][1];break;case 0:u[n-1][1].mid=u[n][1];break}else this._root=u[0][1]}}}_min(D){for(;D.left;)D=D.left;return D}findSubstr(D){const p=this._iter.reset(D);let o=this._root,d;for(;o;){const u=p.cmp(o.segment);if(u>0)o=o.left;else if(u<0)o=o.right;else if(p.hasNext())p.next(),d=o.value||d,o=o.mid;else break}return o&&o.value||d}findSuperstr(D){return this._findSuperstrOrElement(D,!1)}_findSuperstrOrElement(D,p){const o=this._iter.reset(D);let d=this._root;for(;d;){const u=o.cmp(d.segment);if(u>0)d=d.left;else if(u<0)d=d.right;else if(o.hasNext())o.next(),d=d.mid;else return d.mid?this._entries(d.mid):p?d.value:void 0}}forEach(D){for(const[p,o]of this)D(o,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(D){const p=[];return this._dfsEntries(D,p),p[Symbol.iterator]()}_dfsEntries(D,p){D&&(D.left&&this._dfsEntries(D.left,p),D.value&&p.push([D.key,D.value]),D.mid&&this._dfsEntries(D.mid,p),D.right&&this._dfsEntries(D.right,p))}}},25670:function(Pt,Ke,e){"use strict";e.d(Ke,{k:function(){return r}});var b=e(73046),z;(function(E){function c(_){return _&&typeof _=="object"&&typeof _.id=="string"}E.isThemeColor=c})(z||(z={}));var r;(function(E){E.iconNameSegment="[A-Za-z0-9]+",E.iconNameExpression="[A-Za-z0-9-]+",E.iconModifierExpression="~[A-Za-z]+",E.iconNameCharacter="[A-Za-z0-9~-]";const c=new RegExp(`^(${E.iconNameExpression})(${E.iconModifierExpression})?$`);function _(f){const v=c.exec(f.id);if(!v)return _(b.l.error);const[,a,S]=v,g=["codicon","codicon-"+a];return S&&g.push("codicon-modifier-"+S.substring(1)),g}E.asClassNameArray=_;function I(f){return _(f).join(" ")}E.asClassName=I;function M(f){return"."+_(f).join(".")}E.asCSSSelector=M;function D(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color=="undefined"||z.isThemeColor(f.color))}E.isThemeIcon=D;const p=new RegExp(`^\\$\\((${E.iconNameExpression}(?:${E.iconModifierExpression})?)\\)$`);function o(f){const v=p.exec(f);if(!v)return;const[,a]=v;return{id:a}}E.fromString=o;function d(f){return{id:f}}E.fromId=d;function u(f,v){let a=f.id;const S=a.lastIndexOf("~");return S!==-1&&(a=a.substring(0,S)),v&&(a=`${a}~${v}`),{id:a}}E.modify=u;function i(f){const v=f.id.lastIndexOf("~");if(v!==-1)return f.id.substring(v+1)}E.getModifier=i;function n(f,v){var a,S;return f.id===v.id&&((a=f.color)===null||a===void 0?void 0:a.id)===((S=v.color)===null||S===void 0?void 0:S.id)}E.isEqual=n})(r||(r={}))},98401:function(Pt,Ke,e){"use strict";e.d(Ke,{$K:function(){return M},D8:function(){return u},HD:function(){return b},Jp:function(){return D},Kn:function(){return z},TW:function(){return c},cW:function(){return o},fU:function(){return r},hj:function(){return E},jn:function(){return _},mf:function(){return d},o8:function(){return I},p_:function(){return p}});function b(n){return typeof n=="string"}function z(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function r(n){const f=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof f}function E(n){return typeof n=="number"&&!isNaN(n)}function c(n){return!!n&&typeof n[Symbol.iterator]=="function"}function _(n){return n===!0||n===!1}function I(n){return typeof n=="undefined"}function M(n){return!D(n)}function D(n){return I(n)||n===null}function p(n,f){if(!n)throw new Error(f?`Unexpected type, expected '${f}'`:"Unexpected type")}function o(n){if(D(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function d(n){return typeof n=="function"}function u(n,f){const v=Math.min(n.length,f.length);for(let a=0;a<v;a++)i(n[a],f[a])}function i(n,f){if(b(f)){if(typeof n!==f)throw new Error(`argument does not match constraint: typeof ${f}`)}else if(d(f)){try{if(n instanceof f)return}catch(v){}if(!D(n)&&n.constructor===f||f.length===1&&f.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}},85427:function(Pt,Ke,e){"use strict";e.d(Ke,{A:function(){return z},K:function(){return b}});function b(r){return r<0?0:r>255?255:r|0}function z(r){return r<0?0:r>4294967295?4294967295:r|0}},70666:function(Pt,Ke,e){"use strict";e.d(Ke,{o:function(){return d},q:function(){return a}});var b=e(82663),z=e(1432);const r=/^\w[\w\d+.-]*$/,E=/^\//,c=/^\/\//;function _(L,O){if(!L.scheme&&O)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${L.authority}", path: "${L.path}", query: "${L.query}", fragment: "${L.fragment}"}`);if(L.scheme&&!r.test(L.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(L.path){if(L.authority){if(!E.test(L.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(L.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function I(L,O){return!L&&!O?"file":L}function M(L,O){switch(L){case"https":case"http":case"file":O?O[0]!==p&&(O=p+O):O=p;break}return O}const D="",p="/",o=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(O){return O instanceof d?!0:O?typeof O.authority=="string"&&typeof O.fragment=="string"&&typeof O.path=="string"&&typeof O.query=="string"&&typeof O.scheme=="string"&&typeof O.fsPath=="string"&&typeof O.with=="function"&&typeof O.toString=="function":!1}constructor(O,T,F,B,$,Y=!1){typeof O=="object"?(this.scheme=O.scheme||D,this.authority=O.authority||D,this.path=O.path||D,this.query=O.query||D,this.fragment=O.fragment||D):(this.scheme=I(O,Y),this.authority=T||D,this.path=M(this.scheme,F||D),this.query=B||D,this.fragment=$||D,_(this,Y))}get fsPath(){return a(this,!1)}with(O){if(!O)return this;let{scheme:T,authority:F,path:B,query:$,fragment:Y}=O;return T===void 0?T=this.scheme:T===null&&(T=D),F===void 0?F=this.authority:F===null&&(F=D),B===void 0?B=this.path:B===null&&(B=D),$===void 0?$=this.query:$===null&&($=D),Y===void 0?Y=this.fragment:Y===null&&(Y=D),T===this.scheme&&F===this.authority&&B===this.path&&$===this.query&&Y===this.fragment?this:new i(T,F,B,$,Y)}static parse(O,T=!1){const F=o.exec(O);return F?new i(F[2]||D,C(F[4]||D),C(F[5]||D),C(F[7]||D),C(F[9]||D),T):new i(D,D,D,D,D)}static file(O){let T=D;if(z.ED&&(O=O.replace(/\\/g,p)),O[0]===p&&O[1]===p){const F=O.indexOf(p,2);F===-1?(T=O.substring(2),O=p):(T=O.substring(2,F),O=O.substring(F)||p)}return new i("file",T,O,D,D)}static from(O,T){return new i(O.scheme,O.authority,O.path,O.query,O.fragment,T)}static joinPath(O,...T){if(!O.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let F;return z.ED&&O.scheme==="file"?F=d.file(b.Ku.join(a(O,!0),...T)).path:F=b.KR.join(O.path,...T),O.with({path:F})}toString(O=!1){return S(this,O)}toJSON(){return this}static revive(O){var T,F;if(O){if(O instanceof d)return O;{const B=new i(O);return B._formatted=(T=O.external)!==null&&T!==void 0?T:null,B._fsPath=O._sep===u&&(F=O.fsPath)!==null&&F!==void 0?F:null,B}}else return O}}const u=z.ED?1:void 0;class i extends d{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=a(this,!1)),this._fsPath}toString(O=!1){return O?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){const O={$mid:1};return this._fsPath&&(O.fsPath=this._fsPath,O._sep=u),this._formatted&&(O.external=this._formatted),this.path&&(O.path=this.path),this.scheme&&(O.scheme=this.scheme),this.authority&&(O.authority=this.authority),this.query&&(O.query=this.query),this.fragment&&(O.fragment=this.fragment),O}}const n={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function f(L,O,T){let F,B=-1;for(let $=0;$<L.length;$++){const Y=L.charCodeAt($);if(Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57||Y===45||Y===46||Y===95||Y===126||O&&Y===47||T&&Y===91||T&&Y===93||T&&Y===58)B!==-1&&(F+=encodeURIComponent(L.substring(B,$)),B=-1),F!==void 0&&(F+=L.charAt($));else{F===void 0&&(F=L.substr(0,$));const P=n[Y];P!==void 0?(B!==-1&&(F+=encodeURIComponent(L.substring(B,$)),B=-1),F+=P):B===-1&&(B=$)}}return B!==-1&&(F+=encodeURIComponent(L.substring(B))),F!==void 0?F:L}function v(L){let O;for(let T=0;T<L.length;T++){const F=L.charCodeAt(T);F===35||F===63?(O===void 0&&(O=L.substr(0,T)),O+=n[F]):O!==void 0&&(O+=L[T])}return O!==void 0?O:L}function a(L,O){let T;return L.authority&&L.path.length>1&&L.scheme==="file"?T=`//${L.authority}${L.path}`:L.path.charCodeAt(0)===47&&(L.path.charCodeAt(1)>=65&&L.path.charCodeAt(1)<=90||L.path.charCodeAt(1)>=97&&L.path.charCodeAt(1)<=122)&&L.path.charCodeAt(2)===58?O?T=L.path.substr(1):T=L.path[1].toLowerCase()+L.path.substr(2):T=L.path,z.ED&&(T=T.replace(/\//g,"\\")),T}function S(L,O){const T=O?v:f;let F="",{scheme:B,authority:$,path:Y,query:P,fragment:w}=L;if(B&&(F+=B,F+=":"),($||B==="file")&&(F+=p,F+=p),$){let V=$.indexOf("@");if(V!==-1){const R=$.substr(0,V);$=$.substr(V+1),V=R.lastIndexOf(":"),V===-1?F+=T(R,!1,!1):(F+=T(R.substr(0,V),!1,!1),F+=":",F+=T(R.substr(V+1),!1,!0)),F+="@"}$=$.toLowerCase(),V=$.lastIndexOf(":"),V===-1?F+=T($,!1,!0):(F+=T($.substr(0,V),!1,!0),F+=$.substr(V))}if(Y){if(Y.length>=3&&Y.charCodeAt(0)===47&&Y.charCodeAt(2)===58){const V=Y.charCodeAt(1);V>=65&&V<=90&&(Y=`/${String.fromCharCode(V+32)}:${Y.substr(3)}`)}else if(Y.length>=2&&Y.charCodeAt(1)===58){const V=Y.charCodeAt(0);V>=65&&V<=90&&(Y=`${String.fromCharCode(V+32)}:${Y.substr(2)}`)}F+=T(Y,!0,!1)}return P&&(F+="?",F+=T(P,!1,!1)),w&&(F+="#",F+=O?w:f(w,!1,!1)),F}function g(L){try{return decodeURIComponent(L)}catch(O){return L.length>3?L.substr(0,3)+g(L.substr(3)):L}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(L){return L.match(y)?L.replace(y,O=>g(O)):L}},98e3:function(Pt,Ke,e){"use strict";e.d(Ke,{R:function(){return b}});const b=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let z;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?z=crypto.getRandomValues.bind(crypto):z=function(c){for(let _=0;_<c.length;_++)c[_]=Math.floor(Math.random()*256);return c};const r=new Uint8Array(16),E=[];for(let c=0;c<256;c++)E.push(c.toString(16).padStart(2,"0"));return function(){z(r),r[6]=r[6]&15|64,r[8]=r[8]&63|128;let _=0,I="";return I+=E[r[_++]],I+=E[r[_++]],I+=E[r[_++]],I+=E[r[_++]],I+="-",I+=E[r[_++]],I+=E[r[_++]],I+="-",I+=E[r[_++]],I+=E[r[_++]],I+="-",I+=E[r[_++]],I+=E[r[_++]],I+="-",I+=E[r[_++]],I+=E[r[_++]],I+=E[r[_++]],I+=E[r[_++]],I+=E[r[_++]],I+=E[r[_++]],I}}()},25552:function(Pt,Ke,e){"use strict";e.d(Ke,{H:function(){return u}});var b=e(366);var z=Object.defineProperty,r=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(i,n,f,v)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of E(n))!c.call(i,a)&&a!==f&&z(i,a,{get:()=>n[a],enumerable:!(v=r(n,a))||v.enumerable});return i},I=(i,n,f)=>(_(i,n,"default"),f&&_(f,n,"default")),M={};I(M,b);var D={},p={},o=class{constructor(i){Ks(this,"_languageId");Ks(this,"_loadingTriggered");Ks(this,"_lazyLoadPromise");Ks(this,"_lazyLoadPromiseResolve");Ks(this,"_lazyLoadPromiseReject");this._languageId=i,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((n,f)=>{this._lazyLoadPromiseResolve=n,this._lazyLoadPromiseReject=f})}static getOrCreate(i){return p[i]||(p[i]=new o(i)),p[i]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,D[this._languageId].loader().then(i=>this._lazyLoadPromiseResolve(i),i=>this._lazyLoadPromiseReject(i))),this._lazyLoadPromise}};function d(i){return qt(this,null,function*(){yield o.getOrCreate(i).load(),M.editor.createModel("",i).dispose()})}function u(i){const n=i.id;D[n]=i,M.languages.register(i);const f=o.getOrCreate(n);M.languages.registerTokensProviderFactory(n,{create:()=>qt(this,null,function*(){return(yield f.load()).language})}),M.languages.onLanguageEncountered(n,()=>qt(this,null,function*(){const v=yield f.load();M.languages.setLanguageConfiguration(n,v.conf)}))}},56292:function(Pt,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>e.e(2075).then(e.bind(e,62075))})},40902:function(Pt,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>e.e(2571).then(e.bind(e,2571))})},43763:function(Pt,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>e.e(1134).then(e.bind(e,41134))})},66079:function(Pt,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>e.e(5593).then(e.bind(e,35593))})},88307:function(Pt,Ke,e){"use strict";var b=e(25552);(0,b.H)({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(6717).then(e.bind(e,96717))})},52136:function(Pt,Ke,e){"use strict";e.d(Ke,{N:function(){return z}});var b=e(38626);function z(r,E){r instanceof b.Z?(r.setFontFamily(E.getMassagedFontFamily()),r.setFontWeight(E.fontWeight),r.setFontSize(E.fontSize),r.setFontFeatureSettings(E.fontFeatureSettings),r.setFontVariationSettings(E.fontVariationSettings),r.setLineHeight(E.lineHeight),r.setLetterSpacing(E.letterSpacing)):(r.style.fontFamily=E.getMassagedFontFamily(),r.style.fontWeight=E.fontWeight,r.style.fontSize=E.fontSize+"px",r.style.fontFeatureSettings=E.fontFeatureSettings,r.style.fontVariationSettings=E.fontVariationSettings,r.style.lineHeight=E.lineHeight+"px",r.style.letterSpacing=E.letterSpacing+"px")}},45476:function(Pt,Ke,e){"use strict";e.d(Ke,{I:function(){return E}});var b=e(5976),z=e(4669),r=e(65321);class E extends b.JT{constructor(_,I){super(),this._onDidChange=this._register(new z.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=_,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,I)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let _=null;const I=()=>{_?this.observe({width:_.width,height:_.height}):this.observe()};let M=!1,D=!1;const p=()=>{if(M&&!D)try{M=!1,D=!0,I()}finally{(0,r.jL)((0,r.Jj)(this._referenceDomElement),()=>{D=!1,p()})}};this._resizeObserver=new ResizeObserver(o=>{_=o&&o[0]&&o[0].contentRect?o[0].contentRect:null,M=!0,p()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(_){this.measureReferenceDomElement(!0,_)}measureReferenceDomElement(_,I){let M=0,D=0;I?(M=I.width,D=I.height):this._referenceDomElement&&(M=this._referenceDomElement.clientWidth,D=this._referenceDomElement.clientHeight),M=Math.max(5,M),D=Math.max(5,D),(this._width!==M||this._height!==D)&&(this._width=M,this._height=D,_&&this._onDidChange.fire())}}},66059:function(Pt,Ke,e){"use strict";e.d(Ke,{g:function(){return u}});var b=e(16268),z=e(48906),r=e(4669),E=e(5976),c=e(52136);class _{constructor(n,f){this.chr=n,this.type=f,this.width=0}fulfill(n){this.width=n}}class I{constructor(n,f){this._bareFontInfo=n,this._requests=f,this._container=null,this._testElements=null}read(){this._createDomElements(),z.vO.document.body.appendChild(this._container),this._readFromDomElements(),z.vO.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const f=document.createElement("div");(0,c.N)(f,this._bareFontInfo),n.appendChild(f);const v=document.createElement("div");(0,c.N)(v,this._bareFontInfo),v.style.fontWeight="bold",n.appendChild(v);const a=document.createElement("div");(0,c.N)(a,this._bareFontInfo),a.style.fontStyle="italic",n.appendChild(a);const S=[];for(const g of this._requests){let y;g.type===0&&(y=f),g.type===2&&(y=v),g.type===1&&(y=a),y.appendChild(document.createElement("br"));const C=document.createElement("span");I._render(C,g),y.appendChild(C),S.push(C)}this._container=n,this._testElements=S}static _render(n,f){if(f.chr===" "){let v="\xA0";for(let a=0;a<8;a++)v+=v;n.innerText=v}else{let v=f.chr;for(let a=0;a<8;a++)v+=v;n.textContent=v}}_readFromDomElements(){for(let n=0,f=this._requests.length;n<f;n++){const v=this._requests[n],a=this._testElements[n];v.fulfill(a.offsetWidth/256)}}}function M(i,n){new I(i,n).read()}var D=e(64141),p=e(27374);class o extends E.JT{constructor(){super(),this._onDidChange=this._register(new r.Q5),this.onDidChange=this._onDidChange.event,this._cache=new d,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new d,this._onDidChange.fire()}_writeToCache(n,f){this._cache.put(n,f),!f.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=z.Ex.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let f=!1;for(const v of n)v.isTrusted||(f=!0,this._cache.remove(v));f&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let f=this._actualReadFontInfo(n);(f.typicalHalfwidthCharacterWidth<=2||f.typicalFullwidthCharacterWidth<=2||f.spaceWidth<=2||f.maxDigitWidth<=2)&&(f=new p.pR({pixelRatio:b.Tz.value,fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,fontVariationSettings:f.fontVariationSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:f.isMonospace,typicalHalfwidthCharacterWidth:Math.max(f.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(f.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:f.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(f.spaceWidth,5),middotWidth:Math.max(f.middotWidth,5),wsmiddotWidth:Math.max(f.wsmiddotWidth,5),maxDigitWidth:Math.max(f.maxDigitWidth,5)},!1)),this._writeToCache(n,f)}return this._cache.get(n)}_createRequest(n,f,v,a){const S=new _(n,f);return v.push(S),a==null||a.push(S),S}_actualReadFontInfo(n){const f=[],v=[],a=this._createRequest("n",0,f,v),S=this._createRequest("\uFF4D",0,f,null),g=this._createRequest(" ",0,f,v),y=this._createRequest("0",0,f,v),C=this._createRequest("1",0,f,v),L=this._createRequest("2",0,f,v),O=this._createRequest("3",0,f,v),T=this._createRequest("4",0,f,v),F=this._createRequest("5",0,f,v),B=this._createRequest("6",0,f,v),$=this._createRequest("7",0,f,v),Y=this._createRequest("8",0,f,v),P=this._createRequest("9",0,f,v),w=this._createRequest("\u2192",0,f,v),V=this._createRequest("\uFFEB",0,f,null),R=this._createRequest("\xB7",0,f,v),A=this._createRequest(String.fromCharCode(11825),0,f,null),H="|/-_ilm%";for(let K=0,m=H.length;K<m;K++)this._createRequest(H.charAt(K),0,f,v),this._createRequest(H.charAt(K),1,f,v),this._createRequest(H.charAt(K),2,f,v);M(n,f);const U=Math.max(y.width,C.width,L.width,O.width,T.width,F.width,B.width,$.width,Y.width,P.width);let G=n.fontFeatureSettings===D.n0.OFF;const j=v[0].width;for(let K=1,m=v.length;G&&K<m;K++){const J=j-v[K].width;if(J<-.001||J>.001){G=!1;break}}let W=!0;return G&&V.width!==j&&(W=!1),V.width>w.width&&(W=!1),new p.pR({pixelRatio:b.Tz.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:G,typicalHalfwidthCharacterWidth:a.width,typicalFullwidthCharacterWidth:S.width,canUseHalfwidthRightwardsArrow:W,spaceWidth:g.width,middotWidth:R.width,wsmiddotWidth:A.width,maxDigitWidth:U},!0)}}class d{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const f=n.getId();return!!this._values[f]}get(n){const f=n.getId();return this._values[f]}put(n,f){const v=n.getId();this._keys[v]=n,this._values[v]=f}remove(n){const f=n.getId();delete this._keys[f],delete this._values[f]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const u=new o},37940:function(Pt,Ke,e){"use strict";e.d(Ke,{n:function(){return r}});var b=e(4669);class z{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new b.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(c){this._tabFocus=c,this._onDidChangeTabFocus.fire(this._tabFocus)}}const r=new z},35715:function(Pt,Ke,e){"use strict";e.d(Ke,{Fz:function(){return y},Nl:function(){return S},RA:function(){return a},Tj:function(){return L},b6:function(){return C},pd:function(){return v}});var b=e(16268),z=e(65321),r=e(4850),E=e(59069),c=e(50795),_=e(15393),I=e(4669),M=e(5976),D=e(81170),p=e(97295),o=e(15887),d=e(3860),u=e(31106),i=e(43557),n=function(O,T,F,B){var $=arguments.length,Y=$<3?T:B===null?B=Object.getOwnPropertyDescriptor(T,F):B,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,T,F,B);else for(var w=O.length-1;w>=0;w--)(P=O[w])&&(Y=($<3?P(Y):$>3?P(T,F,Y):P(T,F))||Y);return $>3&&Y&&Object.defineProperty(T,F,Y),Y},f=function(O,T){return function(F,B){T(F,B,O)}},v;(function(O){O.Tap="-monaco-textarea-synthetic-tap"})(v||(v={}));const a={forceCopyWithSyntaxHighlighting:!1};class S{constructor(){this._lastState=null}set(T,F){this._lastState={lastCopiedValue:T,data:F}}get(T){return this._lastState&&this._lastState.lastCopiedValue===T?this._lastState.data:(this._lastState=null,null)}}S.INSTANCE=new S;class g{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(T){T=T||"";const F={text:T,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=T.length,F}}let y=class extends M.JT{get textAreaState(){return this._textAreaState}constructor(T,F,B,$,Y,P){super(),this._host=T,this._textArea=F,this._OS=B,this._browser=$,this._accessibilityService=Y,this._logService=P,this._onFocus=this._register(new I.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new I.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new I.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new I.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new I.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new I.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new I.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new I.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new I.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new I.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new M.XK),this._asyncTriggerCut=this._register(new _.pY(()=>this._onCut.fire(),0)),this._textAreaState=o.un.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(I.ju.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new _.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let w=null;this._register(this._textArea.onKeyDown(V=>{const R=new E.y(V);(R.keyCode===114||this._currentComposition&&R.keyCode===1)&&R.stopPropagation(),R.equals(9)&&R.preventDefault(),w=R,this._onKeyDown.fire(R)})),this._register(this._textArea.onKeyUp(V=>{const R=new E.y(V);this._onKeyUp.fire(R)})),this._register(this._textArea.onCompositionStart(V=>{o.al&&console.log("[compositionstart]",V);const R=new g;if(this._currentComposition){this._currentComposition=R;return}if(this._currentComposition=R,this._OS===2&&w&&w.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===V.data&&(w.code==="ArrowRight"||w.code==="ArrowLeft")){o.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",V),R.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:V.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:V.data});return}this._onCompositionStart.fire({data:V.data})})),this._register(this._textArea.onCompositionUpdate(V=>{o.al&&console.log("[compositionupdate]",V);const R=this._currentComposition;if(!R)return;if(this._browser.isAndroid){const H=o.un.readFromTextArea(this._textArea,this._textAreaState),U=o.un.deduceAndroidCompositionInput(this._textAreaState,H);this._textAreaState=H,this._onType.fire(U),this._onCompositionUpdate.fire(V);return}const A=R.handleCompositionUpdate(V.data);this._textAreaState=o.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(A),this._onCompositionUpdate.fire(V)})),this._register(this._textArea.onCompositionEnd(V=>{o.al&&console.log("[compositionend]",V);const R=this._currentComposition;if(!R)return;if(this._currentComposition=null,this._browser.isAndroid){const H=o.un.readFromTextArea(this._textArea,this._textAreaState),U=o.un.deduceAndroidCompositionInput(this._textAreaState,H);this._textAreaState=H,this._onType.fire(U),this._onCompositionEnd.fire();return}const A=R.handleCompositionUpdate(V.data);this._textAreaState=o.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(A),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(V=>{if(o.al&&console.log("[input]",V),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const R=o.un.readFromTextArea(this._textArea,this._textAreaState),A=o.un.deduceInput(this._textAreaState,R,this._OS===2);A.replacePrevCharCnt===0&&A.text.length===1&&(p.ZG(A.text.charCodeAt(0))||A.text.charCodeAt(0)===127)||(this._textAreaState=R,(A.text!==""||A.replacePrevCharCnt!==0||A.replaceNextCharCnt!==0||A.positionDelta!==0)&&this._onType.fire(A))})),this._register(this._textArea.onCut(V=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(V),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(V=>{this._ensureClipboardGetsEditorSelection(V)})),this._register(this._textArea.onPaste(V=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),V.preventDefault(),!V.clipboardData)return;let[R,A]=C.getTextData(V.clipboardData);R&&(A=A||S.INSTANCE.get(R),this._onPaste.fire({text:R,metadata:A}))})),this._register(this._textArea.onFocus(()=>{const V=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!V&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new _.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let T=0;return z.nm(this._textArea.ownerDocument,"selectionchange",F=>{if(c.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const B=Date.now(),$=B-T;if(T=B,$<5)return;const Y=B-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Y<100||!this._textAreaState.selection)return;const P=this._textArea.getValue();if(this._textAreaState.value!==P)return;const w=this._textArea.getSelectionStart(),V=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===w&&this._textAreaState.selectionEnd===V)return;const R=this._textAreaState.deduceEditorPosition(w),A=this._host.deduceModelPosition(R[0],R[1],R[2]),H=this._textAreaState.deduceEditorPosition(V),U=this._host.deduceModelPosition(H[0],H[1],H[2]),G=new d.Y(A.lineNumber,A.column,U.lineNumber,U.column);this._onSelectionChangeRequest.fire(G)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(T){this._hasFocus!==T&&(this._hasFocus=T,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(T,F){this._hasFocus||(F=F.collapseSelection()),F.writeToTextArea(T,this._textArea,this._hasFocus),this._textAreaState=F}writeNativeTextAreaContent(T){!this._accessibilityService.isScreenReaderOptimized()&&T==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${T})`),this._setAndWriteTextAreaState(T,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(T){const F=this._host.getDataToCopy(),B={version:1,isFromEmptySelection:F.isFromEmptySelection,multicursorText:F.multicursorText,mode:F.mode};S.INSTANCE.set(this._browser.isFirefox?F.text.replace(/\r\n/g,`
`):F.text,B),T.preventDefault(),T.clipboardData&&C.setTextData(T.clipboardData,F.text,F.html,B)}};y=n([f(4,u.F7),f(5,i.VZ)],y);const C={getTextData(O){const T=O.getData(D.v.text);let F=null;const B=O.getData("vscode-editor-data");if(typeof B=="string")try{F=JSON.parse(B),F.version!==1&&(F=null)}catch($){}return T.length===0&&F===null&&O.files.length>0?[Array.prototype.slice.call(O.files,0).map(Y=>Y.name).join(`
`),null]:[T,F]},setTextData(O,T,F,B){O.setData(D.v.text,T),typeof F=="string"&&O.setData("text/html",F),O.setData("vscode-editor-data",JSON.stringify(B))}};class L extends M.JT{get ownerDocument(){return this._actual.ownerDocument}constructor(T){super(),this._actual=T,this.onKeyDown=this._register(new r.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new r.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new r.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new r.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new r.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new r.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new r.Y(this._actual,"input")).event,this.onCut=this._register(new r.Y(this._actual,"cut")).event,this.onCopy=this._register(new r.Y(this._actual,"copy")).event,this.onPaste=this._register(new r.Y(this._actual,"paste")).event,this.onFocus=this._register(new r.Y(this._actual,"focus")).event,this.onBlur=this._register(new r.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new I.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>c.B.onKeyDown())),this._register(this.onBeforeInput(()=>c.B.onBeforeInput())),this._register(this.onInput(()=>c.B.onInput())),this._register(this.onKeyUp(()=>c.B.onKeyUp())),this._register(z.nm(this._actual,v.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const T=z.Ay(this._actual);return T?T.activeElement===this._actual:this._actual.isConnected?this._actual.ownerDocument.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(T){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(T,F){const B=this._actual;B.value!==F&&(this.setIgnoreSelectionChangeTime("setValue"),B.value=F)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(T,F,B){const $=this._actual;let Y=null;const P=z.Ay($);P?Y=P.activeElement:Y=$.ownerDocument.activeElement;const w=z.Jj(Y),V=Y===$,R=$.selectionStart,A=$.selectionEnd;if(V&&R===F&&A===B){b.vU&&w.parent!==w&&$.focus();return}if(V){this.setIgnoreSelectionChangeTime("setSelectionRange"),$.setSelectionRange(F,B),b.vU&&w.parent!==w&&$.focus();return}try{const H=z.vL($);this.setIgnoreSelectionChangeTime("setSelectionRange"),$.focus(),$.setSelectionRange(F,B),z._0($,H)}catch(H){}}}},15887:function(Pt,Ke,e){"use strict";e.d(Ke,{al:function(){return r},ee:function(){return c},un:function(){return E}});var b=e(97295),z=e(24314);const r=!1;class E{constructor(I,M,D,p,o){this.value=I,this.selectionStart=M,this.selectionEnd=D,this.selection=p,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(I,M){const D=I.getValue(),p=I.getSelectionStart(),o=I.getSelectionEnd();let d;if(M){const u=D.substring(0,p),i=M.value.substring(0,M.selectionStart);u===i&&(d=M.newlineCountBeforeSelection)}return new E(D,p,o,null,d)}collapseSelection(){return this.selectionStart===this.value.length?this:new E(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(I,M,D){r&&console.log(`writeToTextArea ${I}: ${this.toString()}`),M.setValue(I,this.value),D&&M.setSelectionRange(I,this.selectionStart,this.selectionEnd)}deduceEditorPosition(I){var M,D,p,o,d,u,i,n;if(I<=this.selectionStart){const a=this.value.substring(I,this.selectionStart);return this._finishDeduceEditorPosition((D=(M=this.selection)===null||M===void 0?void 0:M.getStartPosition())!==null&&D!==void 0?D:null,a,-1)}if(I>=this.selectionEnd){const a=this.value.substring(this.selectionEnd,I);return this._finishDeduceEditorPosition((o=(p=this.selection)===null||p===void 0?void 0:p.getEndPosition())!==null&&o!==void 0?o:null,a,1)}const f=this.value.substring(this.selectionStart,I);if(f.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((u=(d=this.selection)===null||d===void 0?void 0:d.getStartPosition())!==null&&u!==void 0?u:null,f,1);const v=this.value.substring(I,this.selectionEnd);return this._finishDeduceEditorPosition((n=(i=this.selection)===null||i===void 0?void 0:i.getEndPosition())!==null&&n!==void 0?n:null,v,-1)}_finishDeduceEditorPosition(I,M,D){let p=0,o=-1;for(;(o=M.indexOf(`
`,o+1))!==-1;)p++;return[I,D*M.length,p]}static deduceInput(I,M,D){if(!I)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};r&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${I.toString()}`),console.log(`CURRENT STATE: ${M.toString()}`));const p=Math.min(b.Mh(I.value,M.value),I.selectionStart,M.selectionStart),o=Math.min(b.P1(I.value,M.value),I.value.length-I.selectionEnd,M.value.length-M.selectionEnd),d=I.value.substring(p,I.value.length-o),u=M.value.substring(p,M.value.length-o),i=I.selectionStart-p,n=I.selectionEnd-p,f=M.selectionStart-p,v=M.selectionEnd-p;if(r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${d}>, selectionStart: ${i}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${u}>, selectionStart: ${f}, selectionEnd: ${v}`)),f===v){const S=I.selectionStart-p;return r&&console.log(`REMOVE PREVIOUS: ${S} chars`),{text:u,replacePrevCharCnt:S,replaceNextCharCnt:0,positionDelta:0}}const a=n-i;return{text:u,replacePrevCharCnt:a,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(I,M){if(!I)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(r&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${I.toString()}`),console.log(`CURRENT STATE: ${M.toString()}`)),I.value===M.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:M.selectionEnd-I.selectionEnd};const D=Math.min(b.Mh(I.value,M.value),I.selectionEnd),p=Math.min(b.P1(I.value,M.value),I.value.length-I.selectionEnd),o=I.value.substring(D,I.value.length-p),d=M.value.substring(D,M.value.length-p),u=I.selectionStart-D,i=I.selectionEnd-D,n=M.selectionStart-D,f=M.selectionEnd-D;return r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${u}, selectionEnd: ${i}`),console.log(`AFTER DIFFING CURRENT STATE: <${d}>, selectionStart: ${n}, selectionEnd: ${f}`)),{text:d,replacePrevCharCnt:i,replaceNextCharCnt:o.length-i,positionDelta:f-d.length}}}E.EMPTY=new E("",0,0,null,void 0);class c{static _getPageOfLine(I,M){return Math.floor((I-1)/M)}static _getRangeForPage(I,M){const D=I*M,p=D+1,o=D+M;return new z.e(p,1,o+1,1)}static fromEditorSelection(I,M,D,p){const d=c._getPageOfLine(M.startLineNumber,D),u=c._getRangeForPage(d,D),i=c._getPageOfLine(M.endLineNumber,D),n=c._getRangeForPage(i,D);let f=u.intersectRanges(new z.e(1,1,M.startLineNumber,M.startColumn));if(p&&I.getValueLengthInRange(f,1)>500){const L=I.modifyPosition(f.getEndPosition(),-500);f=z.e.fromPositions(L,f.getEndPosition())}const v=I.getValueInRange(f,1),a=I.getLineCount(),S=I.getLineMaxColumn(a);let g=n.intersectRanges(new z.e(M.endLineNumber,M.endColumn,a,S));if(p&&I.getValueLengthInRange(g,1)>500){const L=I.modifyPosition(g.getStartPosition(),500);g=z.e.fromPositions(g.getStartPosition(),L)}const y=I.getValueInRange(g,1);let C;if(d===i||d+1===i)C=I.getValueInRange(M,1);else{const L=u.intersectRanges(M),O=n.intersectRanges(M);C=I.getValueInRange(L,1)+String.fromCharCode(8230)+I.getValueInRange(O,1)}return p&&C.length>2*500&&(C=C.substring(0,500)+String.fromCharCode(8230)+C.substring(C.length-500,C.length)),new E(v+C+y,v.length,v.length+C.length,M,f.endLineNumber-f.startLineNumber)}}},42549:function(Pt,Ke,e){"use strict";e.d(Ke,{wk:function(){return B},Ox:function(){return L}});var b=e(63580),z=e(16268),r=e(98401),E=e(35996),c=e(16830),_=e(11640),I=e(55343),M=e(50187),D=e(24314);class p{static columnSelect(w,V,R,A,H,U){const G=Math.abs(H-R)+1,j=R>H,W=A>U,K=A<U,m=[];for(let J=0;J<G;J++){const X=R+(j?-J:J),ie=w.columnFromVisibleColumn(V,X,A),le=w.columnFromVisibleColumn(V,X,U),fe=w.visibleColumnFromColumn(V,new M.L(X,ie)),Le=w.visibleColumnFromColumn(V,new M.L(X,le));K&&(fe>U||Le<A)||W&&(Le>A||fe<U)||m.push(new I.rS(new D.e(X,ie,X,ie),0,0,new M.L(X,le),0))}if(m.length===0)for(let J=0;J<G;J++){const X=R+(j?-J:J),ie=V.getLineMaxColumn(X);m.push(new I.rS(new D.e(X,ie,X,ie),0,0,new M.L(X,ie),0))}return{viewStates:m,reversed:j,fromLineNumber:R,fromVisualColumn:A,toLineNumber:H,toVisualColumn:U}}static columnSelectLeft(w,V,R){let A=R.toViewVisualColumn;return A>0&&A--,p.columnSelect(w,V,R.fromViewLineNumber,R.fromViewVisualColumn,R.toViewLineNumber,A)}static columnSelectRight(w,V,R){let A=0;const H=Math.min(R.fromViewLineNumber,R.toViewLineNumber),U=Math.max(R.fromViewLineNumber,R.toViewLineNumber);for(let j=H;j<=U;j++){const W=V.getLineMaxColumn(j),K=w.visibleColumnFromColumn(V,new M.L(j,W));A=Math.max(A,K)}let G=R.toViewVisualColumn;return G<A&&G++,this.columnSelect(w,V,R.fromViewLineNumber,R.fromViewVisualColumn,R.toViewLineNumber,G)}static columnSelectUp(w,V,R,A){const H=A?w.pageSize:1,U=Math.max(1,R.toViewLineNumber-H);return this.columnSelect(w,V,R.fromViewLineNumber,R.fromViewVisualColumn,U,R.toViewVisualColumn)}static columnSelectDown(w,V,R,A){const H=A?w.pageSize:1,U=Math.min(V.getLineCount(),R.toViewLineNumber+H);return this.columnSelect(w,V,R.fromViewLineNumber,R.fromViewVisualColumn,U,R.toViewVisualColumn)}}var o=e(29436),d=e(28108),u=e(94729),i=e(29102),n=e(32064),f=e(49989),v=e(65321);const a=0;class S extends c._l{runEditorCommand(w,V,R){const A=V._getViewModel();A&&this.runCoreEditorCommand(A,R||{})}}var g;(function(P){const w=function(R){if(!r.Kn(R))return!1;const A=R;return!(!r.HD(A.to)||!r.o8(A.by)&&!r.HD(A.by)||!r.o8(A.value)&&!r.hj(A.value)||!r.o8(A.revealCursor)&&!r.jn(A.revealCursor))};P.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:w,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},P.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},P.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function V(R){let A;switch(R.to){case P.RawDirection.Up:A=1;break;case P.RawDirection.Right:A=2;break;case P.RawDirection.Down:A=3;break;case P.RawDirection.Left:A=4;break;default:return null}let H;switch(R.by){case P.RawUnit.Line:H=1;break;case P.RawUnit.WrappedLine:H=2;break;case P.RawUnit.Page:H=3;break;case P.RawUnit.HalfPage:H=4;break;case P.RawUnit.Editor:H=5;break;case P.RawUnit.Column:H=6;break;default:H=2}const U=Math.floor(R.value||1),G=!!R.revealCursor;return{direction:A,unit:H,value:U,revealCursor:G,select:!!R.select}}P.parse=V})(g||(g={}));var y;(function(P){const w=function(V){if(!r.Kn(V))return!1;const R=V;return!(!r.hj(R.lineNumber)&&!r.HD(R.lineNumber)||!r.o8(R.at)&&!r.HD(R.at))};P.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:w,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},P.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(y||(y={}));class C{constructor(w){w.addImplementation(1e4,"code-editor",(V,R)=>{const A=V.get(_.$).getFocusedCodeEditor();return A&&A.hasTextFocus()?this._runEditorCommand(V,A,R):!1}),w.addImplementation(1e3,"generic-dom-input-textarea",(V,R)=>{const A=(0,v.vY)();return A&&["input","textarea"].indexOf(A.tagName.toLowerCase())>=0?(this.runDOMCommand(A),!0):!1}),w.addImplementation(0,"generic-dom",(V,R)=>{const A=V.get(_.$).getActiveCodeEditor();return A?(A.focus(),this._runEditorCommand(V,A,R)):!1})}_runEditorCommand(w,V,R){const A=this.runEditorCommand(w,V,R);return A||!0}}var L;(function(P){class w extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){if(!Te.position)return;pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,[d.P.moveTo(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Te.position,Te.viewPosition)])&&Te.revealType!==2&&pe.revealPrimaryCursor(Te.source,!0,!0)}}P.MoveTo=(0,c.fK)(new w({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),P.MoveToSelect=(0,c.fK)(new w({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class V extends S{runCoreEditorCommand(pe,Te){pe.model.pushStackElement();const De=this._getColumnSelectResult(pe,pe.getPrimaryCursorState(),pe.getCursorColumnSelectData(),Te);De!==null&&(pe.setCursorStates(Te.source,3,De.viewStates.map(ae=>I.Vi.fromViewState(ae))),pe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:De.fromLineNumber,fromViewVisualColumn:De.fromVisualColumn,toViewLineNumber:De.toLineNumber,toViewVisualColumn:De.toVisualColumn}),De.reversed?pe.revealTopMostCursor(Te.source):pe.revealBottomMostCursor(Te.source))}}P.ColumnSelect=(0,c.fK)(new class extends V{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Le,pe,Te,De){if(typeof De.position=="undefined"||typeof De.viewPosition=="undefined"||typeof De.mouseColumn=="undefined")return null;const ae=Le.model.validatePosition(De.position),Ne=Le.coordinatesConverter.validateViewPosition(new M.L(De.viewPosition.lineNumber,De.viewPosition.column),ae),We=De.doColumnSelect?Te.fromViewLineNumber:Ne.lineNumber,ze=De.doColumnSelect?Te.fromViewVisualColumn:De.mouseColumn-1;return p.columnSelect(Le.cursorConfig,Le,We,ze,Ne.lineNumber,De.mouseColumn-1)}}),P.CursorColumnSelectLeft=(0,c.fK)(new class extends V{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Le,pe,Te,De){return p.columnSelectLeft(Le.cursorConfig,Le,Te)}}),P.CursorColumnSelectRight=(0,c.fK)(new class extends V{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Le,pe,Te,De){return p.columnSelectRight(Le.cursorConfig,Le,Te)}});class R extends V{constructor(pe){super(pe),this._isPaged=pe.isPaged}_getColumnSelectResult(pe,Te,De,ae){return p.columnSelectUp(pe.cursorConfig,pe,De,this._isPaged)}}P.CursorColumnSelectUp=(0,c.fK)(new R({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3600,linux:{primary:0}}})),P.CursorColumnSelectPageUp=(0,c.fK)(new R({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3595,linux:{primary:0}}}));class A extends V{constructor(pe){super(pe),this._isPaged=pe.isPaged}_getColumnSelectResult(pe,Te,De,ae){return p.columnSelectDown(pe.cursorConfig,pe,De,this._isPaged)}}P.CursorColumnSelectDown=(0,c.fK)(new A({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3602,linux:{primary:0}}})),P.CursorColumnSelectPageDown=(0,c.fK)(new A({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3596,linux:{primary:0}}}));class H extends S{constructor(){super({id:"cursorMove",precondition:void 0,metadata:d.N.metadata})}runCoreEditorCommand(pe,Te){const De=d.N.parse(Te);De&&this._runCursorMove(pe,Te.source,De)}_runCursorMove(pe,Te,De){pe.model.pushStackElement(),pe.setCursorStates(Te,3,H._move(pe,pe.getCursorStates(),De)),pe.revealPrimaryCursor(Te,!0)}static _move(pe,Te,De){const ae=De.select,Ne=De.value;switch(De.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return d.P.simpleMove(pe,Te,De.direction,ae,Ne,De.unit);case 11:case 13:case 12:case 14:return d.P.viewportMove(pe,Te,De.direction,ae,Ne);default:return null}}}P.CursorMoveImpl=H,P.CursorMove=(0,c.fK)(new H);class U extends S{constructor(pe){super(pe),this._staticArgs=pe.args}runCoreEditorCommand(pe,Te){let De=this._staticArgs;this._staticArgs.value===-1&&(De={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Te.pageSize||pe.cursorConfig.pageSize}),pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,d.P.simpleMove(pe,pe.getCursorStates(),De.direction,De.select,De.value,De.unit)),pe.revealPrimaryCursor(Te.source,!0)}}P.CursorLeft=(0,c.fK)(new U({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),P.CursorLeftSelect=(0,c.fK)(new U({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1039}})),P.CursorRight=(0,c.fK)(new U({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),P.CursorRightSelect=(0,c.fK)(new U({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1041}})),P.CursorUp=(0,c.fK)(new U({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),P.CursorUpSelect=(0,c.fK)(new U({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),P.CursorPageUp=(0,c.fK)(new U({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:11}})),P.CursorPageUpSelect=(0,c.fK)(new U({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1035}})),P.CursorDown=(0,c.fK)(new U({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),P.CursorDownSelect=(0,c.fK)(new U({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),P.CursorPageDown=(0,c.fK)(new U({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:12}})),P.CursorPageDownSelect=(0,c.fK)(new U({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1036}})),P.CreateCursor=(0,c.fK)(new class extends S{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Le,pe){if(!pe.position)return;let Te;pe.wholeLine?Te=d.P.line(Le,Le.getPrimaryCursorState(),!1,pe.position,pe.viewPosition):Te=d.P.moveTo(Le,Le.getPrimaryCursorState(),!1,pe.position,pe.viewPosition);const De=Le.getCursorStates();if(De.length>1){const ae=Te.modelState?Te.modelState.position:null,Ne=Te.viewState?Te.viewState.position:null;for(let We=0,ze=De.length;We<ze;We++){const Se=De[We];if(!(ae&&!Se.modelState.selection.containsPosition(ae))&&!(Ne&&!Se.viewState.selection.containsPosition(Ne))){De.splice(We,1),Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,De);return}}}De.push(Te),Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,De)}}),P.LastCursorMoveToSelect=(0,c.fK)(new class extends S{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Le,pe){if(!pe.position)return;const Te=Le.getLastAddedCursorIndex(),De=Le.getCursorStates(),ae=De.slice(0);ae[Te]=d.P.moveTo(Le,De[Te],!0,pe.position,pe.viewPosition),Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,ae)}});class G extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,d.P.moveToBeginningOfLine(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Te.source,!0)}}P.CursorHome=(0,c.fK)(new G({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),P.CursorHomeSelect=(0,c.fK)(new G({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class j extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,this._exec(pe.getCursorStates())),pe.revealPrimaryCursor(Te.source,!0)}_exec(pe){const Te=[];for(let De=0,ae=pe.length;De<ae;De++){const Ne=pe[De],We=Ne.modelState.position.lineNumber;Te[De]=I.Vi.fromModelState(Ne.modelState.move(this._inSelectionMode,We,1,0))}return Te}}P.CursorLineStart=(0,c.fK)(new j({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:287}}})),P.CursorLineStartSelect=(0,c.fK)(new j({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1311}}}));class W extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,d.P.moveToEndOfLine(pe,pe.getCursorStates(),this._inSelectionMode,Te.sticky||!1)),pe.revealPrimaryCursor(Te.source,!0)}}P.CursorEnd=(0,c.fK)(new W({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:i.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),P.CursorEndSelect=(0,c.fK)(new W({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:i.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class K extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,this._exec(pe,pe.getCursorStates())),pe.revealPrimaryCursor(Te.source,!0)}_exec(pe,Te){const De=[];for(let ae=0,Ne=Te.length;ae<Ne;ae++){const We=Te[ae],ze=We.modelState.position.lineNumber,Se=pe.model.getLineMaxColumn(ze);De[ae]=I.Vi.fromModelState(We.modelState.move(this._inSelectionMode,ze,Se,0))}return De}}P.CursorLineEnd=(0,c.fK)(new K({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:291}}})),P.CursorLineEndSelect=(0,c.fK)(new K({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1315}}}));class m extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,d.P.moveToBeginningOfBuffer(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Te.source,!0)}}P.CursorTop=(0,c.fK)(new m({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:2062,mac:{primary:2064}}})),P.CursorTopSelect=(0,c.fK)(new m({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class J extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,d.P.moveToEndOfBuffer(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Te.source,!0)}}P.CursorBottom=(0,c.fK)(new J({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:2061,mac:{primary:2066}}})),P.CursorBottomSelect=(0,c.fK)(new J({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class X extends S{constructor(){super({id:"editorScroll",precondition:void 0,metadata:g.metadata})}determineScrollMethod(pe){const Te=[6],De=[1,2,3,4,5,6],ae=[4,2],Ne=[1,3];return Te.includes(pe.unit)&&ae.includes(pe.direction)?this._runHorizontalEditorScroll.bind(this):De.includes(pe.unit)&&Ne.includes(pe.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(pe,Te){const De=g.parse(Te);if(!De)return;const ae=this.determineScrollMethod(De);ae&&ae(pe,Te.source,De)}_runVerticalEditorScroll(pe,Te,De){const ae=this._computeDesiredScrollTop(pe,De);if(De.revealCursor){const Ne=pe.getCompletelyVisibleViewRangeAtScrollTop(ae);pe.setCursorStates(Te,3,[d.P.findPositionInViewportIfOutside(pe,pe.getPrimaryCursorState(),Ne,De.select)])}pe.viewLayout.setScrollPosition({scrollTop:ae},0)}_computeDesiredScrollTop(pe,Te){if(Te.unit===1){const Ne=pe.viewLayout.getFutureViewport(),We=pe.getCompletelyVisibleViewRangeAtScrollTop(Ne.top),ze=pe.coordinatesConverter.convertViewRangeToModelRange(We);let Se;Te.direction===1?Se=Math.max(1,ze.startLineNumber-Te.value):Se=Math.min(pe.model.getLineCount(),ze.startLineNumber+Te.value);const ne=pe.coordinatesConverter.convertModelPositionToViewPosition(new M.L(Se,1));return pe.viewLayout.getVerticalOffsetForLineNumber(ne.lineNumber)}if(Te.unit===5){let Ne=0;return Te.direction===3&&(Ne=pe.model.getLineCount()-pe.cursorConfig.pageSize),pe.viewLayout.getVerticalOffsetForLineNumber(Ne)}let De;Te.unit===3?De=pe.cursorConfig.pageSize*Te.value:Te.unit===4?De=Math.round(pe.cursorConfig.pageSize/2)*Te.value:De=Te.value;const ae=(Te.direction===1?-1:1)*De;return pe.viewLayout.getCurrentScrollTop()+ae*pe.cursorConfig.lineHeight}_runHorizontalEditorScroll(pe,Te,De){const ae=this._computeDesiredScrollLeft(pe,De);pe.viewLayout.setScrollPosition({scrollLeft:ae},0)}_computeDesiredScrollLeft(pe,Te){const De=(Te.direction===4?-1:1)*Te.value;return pe.viewLayout.getCurrentScrollLeft()+De*pe.cursorConfig.typicalHalfwidthCharacterWidth}}P.EditorScrollImpl=X,P.EditorScroll=(0,c.fK)(new X),P.ScrollLineUp=(0,c.fK)(new class extends S{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Up,by:g.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollPageUp=(0,c.fK)(new class extends S{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Up,by:g.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollEditorTop=(0,c.fK)(new class extends S{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Up,by:g.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollLineDown=(0,c.fK)(new class extends S{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Down,by:g.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollPageDown=(0,c.fK)(new class extends S{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Down,by:g.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollEditorBottom=(0,c.fK)(new class extends S{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Down,by:g.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollLeft=(0,c.fK)(new class extends S{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Left,by:g.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:pe.source})}}),P.ScrollRight=(0,c.fK)(new class extends S{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Le,pe){P.EditorScroll.runCoreEditorCommand(Le,{to:g.RawDirection.Right,by:g.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:pe.source})}});class ie extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){Te.position&&(pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,[d.P.word(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Te.position)]),Te.revealType!==2&&pe.revealPrimaryCursor(Te.source,!0,!0))}}P.WordSelect=(0,c.fK)(new ie({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),P.WordSelectDrag=(0,c.fK)(new ie({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),P.LastCursorWordSelect=(0,c.fK)(new class extends S{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Le,pe){if(!pe.position)return;const Te=Le.getLastAddedCursorIndex(),De=Le.getCursorStates(),ae=De.slice(0),Ne=De[Te];ae[Te]=d.P.word(Le,Ne,Ne.modelState.hasSelection(),pe.position),Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,ae)}});class le extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){Te.position&&(pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,[d.P.line(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Te.position,Te.viewPosition)]),Te.revealType!==2&&pe.revealPrimaryCursor(Te.source,!1,!0))}}P.LineSelect=(0,c.fK)(new le({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),P.LineSelectDrag=(0,c.fK)(new le({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class fe extends S{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){if(!Te.position)return;const De=pe.getLastAddedCursorIndex(),ae=pe.getCursorStates(),Ne=ae.slice(0);Ne[De]=d.P.line(pe,ae[De],this._inSelectionMode,Te.position,Te.viewPosition),pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,Ne)}}P.LastCursorLineSelect=(0,c.fK)(new fe({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),P.LastCursorLineSelectDrag=(0,c.fK)(new fe({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),P.CancelSelection=(0,c.fK)(new class extends S{constructor(){super({id:"cancelSelection",precondition:i.u.hasNonEmptySelection,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Le,pe){Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,[d.P.cancelSelection(Le,Le.getPrimaryCursorState())]),Le.revealPrimaryCursor(pe.source,!0)}}),P.RemoveSecondaryCursors=(0,c.fK)(new class extends S{constructor(){super({id:"removeSecondaryCursors",precondition:i.u.hasMultipleSelections,kbOpts:{weight:a+1,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Le,pe){Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,[Le.getPrimaryCursorState()]),Le.revealPrimaryCursor(pe.source,!0),(0,E.i7)(b.NC("removedCursor","Removed secondary cursors"))}}),P.RevealLine=(0,c.fK)(new class extends S{constructor(){super({id:"revealLine",precondition:void 0,metadata:y.metadata})}runCoreEditorCommand(Le,pe){const Te=pe,De=Te.lineNumber||0;let ae=typeof De=="number"?De+1:parseInt(De)+1;ae<1&&(ae=1);const Ne=Le.model.getLineCount();ae>Ne&&(ae=Ne);const We=new D.e(ae,1,ae,Le.model.getLineMaxColumn(ae));let ze=0;if(Te.at)switch(Te.at){case y.RawAtArgument.Top:ze=3;break;case y.RawAtArgument.Center:ze=1;break;case y.RawAtArgument.Bottom:ze=4;break;default:break}const Se=Le.coordinatesConverter.convertModelRangeToViewRange(We);Le.revealRange(pe.source,!1,Se,ze,0)}}),P.SelectAll=new class extends C{constructor(){super(c.Sq)}runDOMCommand(Le){z.vU&&(Le.focus(),Le.select()),Le.ownerDocument.execCommand("selectAll")}runEditorCommand(Le,pe,Te){const De=pe._getViewModel();De&&this.runCoreEditorCommand(De,Te)}runCoreEditorCommand(Le,pe){Le.model.pushStackElement(),Le.setCursorStates("keyboard",3,[d.P.selectAll(Le,Le.getPrimaryCursorState())])}},P.SetSelection=(0,c.fK)(new class extends S{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Le,pe){pe.selection&&(Le.model.pushStackElement(),Le.setCursorStates(pe.source,3,[I.Vi.fromModelSelection(pe.selection)]))}})})(L||(L={}));const O=n.Ao.and(i.u.textInputFocus,i.u.columnSelection);function T(P,w){f.W.registerKeybindingRule({id:P,primary:w,when:O,weight:a+1})}T(L.CursorColumnSelectLeft.id,1039),T(L.CursorColumnSelectRight.id,1041),T(L.CursorColumnSelectUp.id,1040),T(L.CursorColumnSelectPageUp.id,1035),T(L.CursorColumnSelectDown.id,1042),T(L.CursorColumnSelectPageDown.id,1036);function F(P){return P.register(),P}var B;(function(P){class w extends c._l{runEditorCommand(R,A,H){const U=A._getViewModel();U&&this.runCoreEditingCommand(A,U,H||{})}}P.CoreEditingCommand=w,P.LineBreakInsert=(0,c.fK)(new class extends w{constructor(){super({id:"lineBreakInsert",precondition:i.u.writable,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(V,R,A){V.pushUndoStop(),V.executeCommands(this.id,u.u6.lineBreakInsert(R.cursorConfig,R.model,R.getCursorStates().map(H=>H.modelState.selection)))}}),P.Outdent=(0,c.fK)(new class extends w{constructor(){super({id:"outdent",precondition:i.u.writable,kbOpts:{weight:a,kbExpr:n.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(V,R,A){V.pushUndoStop(),V.executeCommands(this.id,u.u6.outdent(R.cursorConfig,R.model,R.getCursorStates().map(H=>H.modelState.selection))),V.pushUndoStop()}}),P.Tab=(0,c.fK)(new class extends w{constructor(){super({id:"tab",precondition:i.u.writable,kbOpts:{weight:a,kbExpr:n.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(V,R,A){V.pushUndoStop(),V.executeCommands(this.id,u.u6.tab(R.cursorConfig,R.model,R.getCursorStates().map(H=>H.modelState.selection))),V.pushUndoStop()}}),P.DeleteLeft=(0,c.fK)(new class extends w{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(V,R,A){const[H,U]=o.A.deleteLeft(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(G=>G.modelState.selection),R.getCursorAutoClosedCharacters());H&&V.pushUndoStop(),V.executeCommands(this.id,U),R.setPrevEditOperationType(2)}}),P.DeleteRight=(0,c.fK)(new class extends w{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:a,kbExpr:i.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(V,R,A){const[H,U]=o.A.deleteRight(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(G=>G.modelState.selection));H&&V.pushUndoStop(),V.executeCommands(this.id,U),R.setPrevEditOperationType(3)}}),P.Undo=new class extends C{constructor(){super(c.n_)}runDOMCommand(V){V.ownerDocument.execCommand("undo")}runEditorCommand(V,R,A){if(!(!R.hasModel()||R.getOption(90)===!0))return R.getModel().undo()}},P.Redo=new class extends C{constructor(){super(c.kz)}runDOMCommand(V){V.ownerDocument.execCommand("redo")}runEditorCommand(V,R,A){if(!(!R.hasModel()||R.getOption(90)===!0))return R.getModel().redo()}}})(B||(B={}));class $ extends c.mY{constructor(w,V,R){super({id:w,precondition:void 0,metadata:R}),this._handlerId=V}runCommand(w,V){const R=w.get(_.$).getFocusedCodeEditor();R&&R.trigger("keyboard",this._handlerId,V)}}function Y(P,w){F(new $("default:"+P,P)),F(new $(P,P,w))}Y("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Y("replacePreviousChar"),Y("compositionType"),Y("compositionStart"),Y("compositionEnd"),Y("paste"),Y("cut")},92944:function(Pt,Ke,e){"use strict";e.d(Ke,{B:function(){return _},L:function(){return D}});var b=e(23547),z=e(73278),r=e(81170),E=e(70666),c=e(16021);function _(p){const o=new z.Hl;for(const d of p.items){const u=d.type;if(d.kind==="string"){const i=new Promise(n=>d.getAsString(n));o.append(u,(0,z.ZO)(i))}else if(d.kind==="file"){const i=d.getAsFile();i&&o.append(u,I(i))}}return o}function I(p){const o=p.path?E.o.parse(p.path):void 0;return(0,z.Ix)(p.name,o,()=>qt(this,null,function*(){return new Uint8Array(yield p.arrayBuffer())}))}const M=Object.freeze([c.Km.EDITORS,c.Km.FILES,b.g.RESOURCES,b.g.INTERNAL_URI_LIST]);function D(p,o=!1){const d=_(p),u=d.get(b.g.INTERNAL_URI_LIST);if(u)d.replace(r.v.uriList,u);else if(o||!d.has(r.v.uriList)){const i=[];for(const n of p.items){const f=n.getAsFile();if(f){const v=f.path;try{v?i.push(E.o.file(v).toString()):i.push(E.o.parse(f.name,!0).toString())}catch(a){}}}i.length&&d.replace(r.v.uriList,(0,z.ZO)(z.Z0.create(i)))}for(const i of M)d.delete(i);return d}},65520:function(Pt,Ke,e){"use strict";e.d(Ke,{CL:function(){return z},Pi:function(){return c},QI:function(){return r}});var b=e(96518);function z(_){return _&&typeof _.getEditorType=="function"?_.getEditorType()===b.g.ICodeEditor:!1}function r(_){return _&&typeof _.getEditorType=="function"?_.getEditorType()===b.g.IDiffEditor:!1}function E(_){return!!_&&typeof _=="object"&&typeof _.onDidChangeActiveEditor=="function"}function c(_){return z(_)?_:r(_)?_.getModifiedEditor():E(_)&&z(_.activeCodeEditor)?_.activeCodeEditor:null}},29994:function(Pt,Ke,e){"use strict";e.d(Ke,{AL:function(){return f},N5:function(){return i},Pp:function(){return d},YN:function(){return I},gy:function(){return u},kG:function(){return o},rU:function(){return M},t7:function(){return v},tC:function(){return n}});var b=e(65321),z=e(93911),r=e(7317),E=e(15393),c=e(5976),_=e(73910);class I{constructor(y,C){this.x=y,this.y=C,this._pageCoordinatesBrand=void 0}toClientCoordinates(y){return new M(this.x-y.scrollX,this.y-y.scrollY)}}class M{constructor(y,C){this.clientX=y,this.clientY=C,this._clientCoordinatesBrand=void 0}toPageCoordinates(y){return new I(this.clientX+y.scrollX,this.clientY+y.scrollY)}}class D{constructor(y,C,L,O){this.x=y,this.y=C,this.width=L,this.height=O,this._editorPagePositionBrand=void 0}}class p{constructor(y,C){this.x=y,this.y=C,this._positionRelativeToEditorBrand=void 0}}function o(g){const y=b.i(g);return new D(y.left,y.top,y.width,y.height)}function d(g,y,C){const L=y.width/g.offsetWidth,O=y.height/g.offsetHeight,T=(C.x-y.x)/L,F=(C.y-y.y)/O;return new p(T,F)}class u extends r.n{constructor(y,C,L){super(b.Jj(L),y),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=C,this.pos=new I(this.posx,this.posy),this.editorPos=o(L),this.relativePos=d(L,this.editorPos,this.pos)}}class i{constructor(y){this._editorViewDomNode=y}_create(y){return new u(y,!1,this._editorViewDomNode)}onContextMenu(y,C){return b.nm(y,"contextmenu",L=>{C(this._create(L))})}onMouseUp(y,C){return b.nm(y,"mouseup",L=>{C(this._create(L))})}onMouseDown(y,C){return b.nm(y,b.tw.MOUSE_DOWN,L=>{C(this._create(L))})}onPointerDown(y,C){return b.nm(y,b.tw.POINTER_DOWN,L=>{C(this._create(L),L.pointerId)})}onMouseLeave(y,C){return b.nm(y,b.tw.MOUSE_LEAVE,L=>{C(this._create(L))})}onMouseMove(y,C){return b.nm(y,"mousemove",L=>C(this._create(L)))}}class n{constructor(y){this._editorViewDomNode=y}_create(y){return new u(y,!1,this._editorViewDomNode)}onPointerUp(y,C){return b.nm(y,"pointerup",L=>{C(this._create(L))})}onPointerDown(y,C){return b.nm(y,b.tw.POINTER_DOWN,L=>{C(this._create(L),L.pointerId)})}onPointerLeave(y,C){return b.nm(y,b.tw.POINTER_LEAVE,L=>{C(this._create(L))})}onPointerMove(y,C){return b.nm(y,"pointermove",L=>C(this._create(L)))}}class f extends c.JT{constructor(y){super(),this._editorViewDomNode=y,this._globalPointerMoveMonitor=this._register(new z.C),this._keydownListener=null}startMonitoring(y,C,L,O,T){this._keydownListener=b.mu(y.ownerDocument,"keydown",F=>{F.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,F.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(y,C,L,F=>{O(new u(F,!0,this._editorViewDomNode))},F=>{this._keydownListener.dispose(),T(F)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class v{constructor(y){this._editor=y,this._instanceId=++v._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new E.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(y){const C=this.getOrCreateRule(y);return C.increaseRefCount(),{className:C.className,dispose:()=>{C.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(y){const C=this.computeUniqueKey(y);let L=this._rules.get(C);if(!L){const O=this._counter++;L=new a(C,`dyn-rule-${this._instanceId}-${O}`,b.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,y),this._rules.set(C,L)}return L}computeUniqueKey(y){return JSON.stringify(y)}garbageCollect(){for(const y of this._rules.values())y.hasReferences()||(this._rules.delete(y.key),y.dispose())}}v._idPool=0;class a{constructor(y,C,L,O){this.key=y,this.className=C,this.properties=O,this._referenceCount=0,this._styleElementDisposables=new c.SL,this._styleElement=b.dS(L,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(y,C){let L=`.${y} {`;for(const O in C){const T=C[O];let F;typeof T=="object"?F=(0,_.n_1)(T.id):F=T;const B=S(O);L+=`
	${B}: ${F};`}return L+=`
}`,L}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function S(g){return g.replace(/(^[A-Z])/,([y])=>y.toLowerCase()).replace(/([A-Z])/g,([y])=>`-${y.toLowerCase()}`)}},16830:function(Pt,Ke,e){"use strict";e.d(Ke,{AJ:function(){return a},QG:function(){return $},Qr:function(){return F},R6:function(){return y},Sq:function(){return U},Uc:function(){return P},_K:function(){return Y},_l:function(){return g},fK:function(){return T},jY:function(){return C},kz:function(){return H},mY:function(){return v},n_:function(){return A},rn:function(){return B},sb:function(){return O},x1:function(){return L}});var b=e(63580),z=e(70666),r=e(11640),E=e(50187),c=e(73733),_=e(88216),I=e(84144),M=e(94565),D=e(32064),p=e(72065),o=e(49989),d=e(89872),u=e(10829),i=e(98401),n=e(43557),f=e(65321);class v{constructor(j){this.id=j.id,this.precondition=j.precondition,this._kbOpts=j.kbOpts,this._menuOpts=j.menuOpts,this.metadata=j.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const j=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const W of j){let K=W.kbExpr;this.precondition&&(K?K=D.Ao.and(K,this.precondition):K=this.precondition);const m={id:this.id,weight:W.weight,args:W.args,when:K,primary:W.primary,secondary:W.secondary,win:W.win,linux:W.linux,mac:W.mac};o.W.registerKeybindingRule(m)}}M.P.registerCommand({id:this.id,handler:(j,W)=>this.runCommand(j,W),metadata:this.metadata})}_registerMenuItem(j){I.BH.appendMenuItem(j.menuId,{group:j.group,command:{id:this.id,title:j.title,icon:j.icon,precondition:this.precondition},when:j.when,order:j.order})}}class a extends v{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,W,K,m){return this._implementations.push({priority:j,name:W,implementation:K,when:m}),this._implementations.sort((J,X)=>X.priority-J.priority),{dispose:()=>{for(let J=0;J<this._implementations.length;J++)if(this._implementations[J].implementation===K){this._implementations.splice(J,1);return}}}}runCommand(j,W){const K=j.get(n.VZ),m=j.get(D.i6);K.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const J of this._implementations){if(J.when){const ie=m.getContext((0,f.vY)());if(!J.when.evaluate(ie))continue}const X=J.implementation(j,W);if(X)return K.trace(`Command '${this.id}' was handled by '${J.name}'.`),typeof X=="boolean"?void 0:X}K.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class S extends v{constructor(j,W){super(W),this.command=j}runCommand(j,W){return this.command.runCommand(j,W)}}class g extends v{static bindToContribution(j){return class extends g{constructor(K){super(K),this._callback=K.handler}runEditorCommand(K,m,J){const X=j(m);X&&this._callback(X,J)}}}static runEditorCommand(j,W,K,m){const J=j.get(r.$),X=J.getFocusedCodeEditor()||J.getActiveCodeEditor();if(X)return X.invokeWithinContext(ie=>{if(ie.get(D.i6).contextMatchesRules(K!=null?K:void 0))return m(ie,X,W)})}runCommand(j,W){return g.runEditorCommand(j,W,this.precondition,(K,m,J)=>this.runEditorCommand(K,m,J))}}class y extends g{static convertOptions(j){let W;Array.isArray(j.menuOpts)?W=j.menuOpts:j.menuOpts?W=[j.menuOpts]:W=[];function K(m){return m.menuId||(m.menuId=I.eH.EditorContext),m.title||(m.title=j.label),m.when=D.Ao.and(j.precondition,m.when),m}return Array.isArray(j.contextMenuOpts)?W.push(...j.contextMenuOpts.map(K)):j.contextMenuOpts&&W.push(K(j.contextMenuOpts)),j.menuOpts=W,j}constructor(j){super(y.convertOptions(j)),this.label=j.label,this.alias=j.alias}runEditorCommand(j,W,K){return this.reportTelemetry(j,W),this.run(j,W,K||{})}reportTelemetry(j,W){j.get(u.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class C extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,W){return this._implementations.push([j,W]),this._implementations.sort((K,m)=>m[0]-K[0]),{dispose:()=>{for(let K=0;K<this._implementations.length;K++)if(this._implementations[K][1]===W){this._implementations.splice(K,1);return}}}}run(j,W,K){for(const m of this._implementations){const J=m[1](j,W,K);if(J)return typeof J=="boolean"?void 0:J}}}class L extends I.Ke{run(j,...W){const K=j.get(r.$),m=K.getFocusedCodeEditor()||K.getActiveCodeEditor();if(m)return m.invokeWithinContext(J=>{var X,ie;const le=J.get(D.i6),fe=J.get(n.VZ);if(!le.contextMatchesRules((X=this.desc.precondition)!==null&&X!==void 0?X:void 0)){fe.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(ie=this.desc.precondition)===null||ie===void 0?void 0:ie.serialize());return}return this.runEditorCommand(J,m,...W)})}}function O(G,j){M.P.registerCommand(G,function(W,...K){const m=W.get(p.TG),[J,X]=K;(0,i.p_)(z.o.isUri(J)),(0,i.p_)(E.L.isIPosition(X));const ie=W.get(c.q).getModel(J);if(ie){const le=E.L.lift(X);return m.invokeFunction(j,ie,le,...K.slice(2))}return W.get(_.S).createModelReference(J).then(le=>new Promise((fe,Le)=>{try{const pe=m.invokeFunction(j,le.object.textEditorModel,E.L.lift(X),K.slice(2));fe(pe)}catch(pe){Le(pe)}}).finally(()=>{le.dispose()}))})}function T(G){return V.INSTANCE.registerEditorCommand(G),G}function F(G){const j=new G;return V.INSTANCE.registerEditorAction(j),j}function B(G){return V.INSTANCE.registerEditorAction(G),G}function $(G){V.INSTANCE.registerEditorAction(G)}function Y(G,j,W){V.INSTANCE.registerEditorContribution(G,j,W)}var P;(function(G){function j(X){return V.INSTANCE.getEditorCommand(X)}G.getEditorCommand=j;function W(){return V.INSTANCE.getEditorActions()}G.getEditorActions=W;function K(){return V.INSTANCE.getEditorContributions()}G.getEditorContributions=K;function m(X){return V.INSTANCE.getEditorContributions().filter(ie=>X.indexOf(ie.id)>=0)}G.getSomeEditorContributions=m;function J(){return V.INSTANCE.getDiffEditorContributions()}G.getDiffEditorContributions=J})(P||(P={}));const w={EditorCommonContributions:"editor.contributions"};class V{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(j,W,K){this.editorContributions.push({id:j,ctor:W,instantiation:K})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(j){j.register(),this.editorActions.push(j)}getEditorActions(){return this.editorActions}registerEditorCommand(j){j.register(),this.editorCommands[j.id]=j}getEditorCommand(j){return this.editorCommands[j]||null}}V.INSTANCE=new V,d.B.add(w.EditorCommonContributions,V.INSTANCE);function R(G){return G.register(),G}const A=R(new a({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:I.eH.MenubarEditMenu,group:"1_do",title:b.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:I.eH.CommandPalette,group:"",title:b.NC("undo","Undo"),order:1}]}));R(new S(A,{id:"default:undo",precondition:void 0}));const H=R(new a({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:I.eH.MenubarEditMenu,group:"1_do",title:b.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:I.eH.CommandPalette,group:"",title:b.NC("redo","Redo"),order:1}]}));R(new S(H,{id:"default:redo",precondition:void 0}));const U=R(new a({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:I.eH.MenubarSelectionMenu,group:"1_basic",title:b.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:I.eH.CommandPalette,group:"",title:b.NC("selectAll","Select All"),order:1}]}))},66007:function(Pt,Ke,e){"use strict";e.d(Ke,{Gl:function(){return _},fo:function(){return c},vu:function(){return E}});var b=e(72065),z=e(70666),r=e(98401);const E=(0,b.yh)("IWorkspaceEditService");class c{constructor(D){this.metadata=D}static convert(D){return D.edits.map(p=>{if(_.is(p))return _.lift(p);if(I.is(p))return I.lift(p);throw new Error("Unsupported edit")})}}class _ extends c{static is(D){return D instanceof _?!0:(0,r.Kn)(D)&&z.o.isUri(D.resource)&&(0,r.Kn)(D.textEdit)}static lift(D){return D instanceof _?D:new _(D.resource,D.textEdit,D.versionId,D.metadata)}constructor(D,p,o=void 0,d){super(d),this.resource=D,this.textEdit=p,this.versionId=o}}class I extends c{static is(D){return D instanceof I?!0:(0,r.Kn)(D)&&(!!D.newResource||!!D.oldResource)}static lift(D){return D instanceof I?D:new I(D.oldResource,D.newResource,D.options,D.metadata)}constructor(D,p,o={},d){super(d),this.oldResource=D,this.newResource=p,this.options=o}}},11640:function(Pt,Ke,e){"use strict";e.d(Ke,{$:function(){return z}});var b=e(72065);const z=(0,b.yh)("codeEditorService")},83379:function(Pt,Ke,e){"use strict";e.d(Ke,{Q8:function(){return cs},eu:function(){return Rn}});var b=e(15393),z=e(5976),r=e(17301),E=e(4669),c=e(36248),_=e(1432),I=e(97295);const M="$initialize";let D=!1;function p(Ei){_.$L&&(D||(D=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(Ei.message))}class o{constructor(et,wt,Yt,ri){this.vsWorker=et,this.req=wt,this.method=Yt,this.args=ri,this.type=0}}class d{constructor(et,wt,Yt,ri){this.vsWorker=et,this.seq=wt,this.res=Yt,this.err=ri,this.type=1}}class u{constructor(et,wt,Yt,ri){this.vsWorker=et,this.req=wt,this.eventName=Yt,this.arg=ri,this.type=2}}class i{constructor(et,wt,Yt){this.vsWorker=et,this.req=wt,this.event=Yt,this.type=3}}class n{constructor(et,wt){this.vsWorker=et,this.req=wt,this.type=4}}class f{constructor(et){this._workerId=-1,this._handler=et,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(et){this._workerId=et}sendMessage(et,wt){const Yt=String(++this._lastSentReq);return new Promise((ri,vi)=>{this._pendingReplies[Yt]={resolve:ri,reject:vi},this._send(new o(this._workerId,Yt,et,wt))})}listen(et,wt){let Yt=null;const ri=new E.Q5({onWillAddFirstListener:()=>{Yt=String(++this._lastSentReq),this._pendingEmitters.set(Yt,ri),this._send(new u(this._workerId,Yt,et,wt))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Yt),this._send(new n(this._workerId,Yt)),Yt=null}});return ri.event}handleMessage(et){!et||!et.vsWorker||this._workerId!==-1&&et.vsWorker!==this._workerId||this._handleMessage(et)}_handleMessage(et){switch(et.type){case 1:return this._handleReplyMessage(et);case 0:return this._handleRequestMessage(et);case 2:return this._handleSubscribeEventMessage(et);case 3:return this._handleEventMessage(et);case 4:return this._handleUnsubscribeEventMessage(et)}}_handleReplyMessage(et){if(!this._pendingReplies[et.seq]){console.warn("Got reply to unknown seq");return}const wt=this._pendingReplies[et.seq];if(delete this._pendingReplies[et.seq],et.err){let Yt=et.err;et.err.$isError&&(Yt=new Error,Yt.name=et.err.name,Yt.message=et.err.message,Yt.stack=et.err.stack),wt.reject(Yt);return}wt.resolve(et.res)}_handleRequestMessage(et){const wt=et.req;this._handler.handleMessage(et.method,et.args).then(ri=>{this._send(new d(this._workerId,wt,ri,void 0))},ri=>{ri.detail instanceof Error&&(ri.detail=(0,r.ri)(ri.detail)),this._send(new d(this._workerId,wt,void 0,(0,r.ri)(ri)))})}_handleSubscribeEventMessage(et){const wt=et.req,Yt=this._handler.handleEvent(et.eventName,et.arg)(ri=>{this._send(new i(this._workerId,wt,ri))});this._pendingEvents.set(wt,Yt)}_handleEventMessage(et){if(!this._pendingEmitters.has(et.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(et.req).fire(et.event)}_handleUnsubscribeEventMessage(et){if(!this._pendingEvents.has(et.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(et.req).dispose(),this._pendingEvents.delete(et.req)}_send(et){const wt=[];if(et.type===0)for(let Yt=0;Yt<et.args.length;Yt++)et.args[Yt]instanceof ArrayBuffer&&wt.push(et.args[Yt]);else et.type===1&&et.res instanceof ArrayBuffer&&wt.push(et.res);this._handler.sendMessage(et,wt)}}class v extends z.JT{constructor(et,wt,Yt){super();let ri=null;this._worker=this._register(et.create("vs/base/common/worker/simpleWorker",si=>{this._protocol.handleMessage(si)},si=>{ri==null||ri(si)})),this._protocol=new f({sendMessage:(si,ii)=>{this._worker.postMessage(si,ii)},handleMessage:(si,ii)=>{if(typeof Yt[si]!="function")return Promise.reject(new Error("Missing method "+si+" on main thread host."));try{return Promise.resolve(Yt[si].apply(Yt,ii))}catch(Ui){return Promise.reject(Ui)}},handleEvent:(si,ii)=>{if(S(si)){const Ui=Yt[si].call(Yt,ii);if(typeof Ui!="function")throw new Error(`Missing dynamic event ${si} on main thread host.`);return Ui}if(a(si)){const Ui=Yt[si];if(typeof Ui!="function")throw new Error(`Missing event ${si} on main thread host.`);return Ui}throw new Error(`Malformed event name ${si}`)}}),this._protocol.setWorkerId(this._worker.getId());let vi=null;const Wi=globalThis.require;typeof Wi!="undefined"&&typeof Wi.getConfig=="function"?vi=Wi.getConfig():typeof globalThis.requirejs!="undefined"&&(vi=globalThis.requirejs.s.contexts._.config);const $i=(0,c.$E)(Yt);this._onModuleLoaded=this._protocol.sendMessage(M,[this._worker.getId(),JSON.parse(JSON.stringify(vi)),wt,$i]);const Ot=(si,ii)=>this._request(si,ii),yt=(si,ii)=>this._protocol.listen(si,ii);this._lazyProxy=new Promise((si,ii)=>{ri=ii,this._onModuleLoaded.then(Ui=>{si(g(Ui,Ot,yt))},Ui=>{ii(Ui),this._onError("Worker failed to load "+wt,Ui)})})}getProxyObject(){return this._lazyProxy}_request(et,wt){return new Promise((Yt,ri)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(et,wt).then(Yt,ri)},ri)})}_onError(et,wt){console.error(et),console.info(wt)}}function a(Ei){return Ei[0]==="o"&&Ei[1]==="n"&&I.df(Ei.charCodeAt(2))}function S(Ei){return/^onDynamic/.test(Ei)&&I.df(Ei.charCodeAt(9))}function g(Ei,et,wt){const Yt=Wi=>function(){const $i=Array.prototype.slice.call(arguments,0);return et(Wi,$i)},ri=Wi=>function($i){return wt(Wi,$i)},vi={};for(const Wi of Ei){if(S(Wi)){vi[Wi]=ri(Wi);continue}if(a(Wi)){vi[Wi]=wt(Wi,void 0);continue}vi[Wi]=Yt(Wi)}return vi}class y{constructor(et,wt){this._requestHandlerFactory=wt,this._requestHandler=null,this._protocol=new f({sendMessage:(Yt,ri)=>{et(Yt,ri)},handleMessage:(Yt,ri)=>this._handleMessage(Yt,ri),handleEvent:(Yt,ri)=>this._handleEvent(Yt,ri)})}onmessage(et){this._protocol.handleMessage(et)}_handleMessage(et,wt){if(et===M)return this.initialize(wt[0],wt[1],wt[2],wt[3]);if(!this._requestHandler||typeof this._requestHandler[et]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+et));try{return Promise.resolve(this._requestHandler[et].apply(this._requestHandler,wt))}catch(Yt){return Promise.reject(Yt)}}_handleEvent(et,wt){if(!this._requestHandler)throw new Error("Missing requestHandler");if(S(et)){const Yt=this._requestHandler[et].call(this._requestHandler,wt);if(typeof Yt!="function")throw new Error(`Missing dynamic event ${et} on request handler.`);return Yt}if(a(et)){const Yt=this._requestHandler[et];if(typeof Yt!="function")throw new Error(`Missing event ${et} on request handler.`);return Yt}throw new Error(`Malformed event name ${et}`)}initialize(et,wt,Yt,ri){this._protocol.setWorkerId(et);const $i=g(ri,(Ot,yt)=>this._protocol.sendMessage(Ot,yt),(Ot,yt)=>this._protocol.listen(Ot,yt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory($i),Promise.resolve(getAllMethodNames(this._requestHandler))):(wt&&(typeof wt.baseUrl!="undefined"&&delete wt.baseUrl,typeof wt.paths!="undefined"&&typeof wt.paths.vs!="undefined"&&delete wt.paths.vs,typeof wt.trustedTypesPolicy!==void 0&&delete wt.trustedTypesPolicy,wt.catchError=!0,globalThis.require.config(wt)),new Promise((Ot,yt)=>{const si=globalThis.require;si([Yt],ii=>{if(this._requestHandler=ii.create($i),!this._requestHandler){yt(new Error("No RequestHandler!"));return}Ot(getAllMethodNames(this._requestHandler))},yt)}))}}function C(Ei){return new y(Ei,null)}var L=e(77514);const O=(0,L.Z)("defaultWorkerFactory",{createScriptURL:Ei=>Ei});function T(Ei){const et=globalThis.MonacoEnvironment;if(et){if(typeof et.getWorker=="function")return et.getWorker("workerMain.js",Ei);if(typeof et.getWorkerUrl=="function"){const wt=et.getWorkerUrl("workerMain.js",Ei);return new Worker(O?O.createScriptURL(wt):wt,{name:Ei})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function F(Ei){return typeof Ei.then=="function"}class B{constructor(et,wt,Yt,ri,vi){this.id=wt,this.label=Yt;const Wi=T(Yt);F(Wi)?this.worker=Wi:this.worker=Promise.resolve(Wi),this.postMessage(et,[]),this.worker.then($i=>{$i.onmessage=function(Ot){ri(Ot.data)},$i.onmessageerror=vi,typeof $i.addEventListener=="function"&&$i.addEventListener("error",vi)})}getId(){return this.id}postMessage(et,wt){var Yt;(Yt=this.worker)===null||Yt===void 0||Yt.then(ri=>{try{ri.postMessage(et,wt)}catch(vi){(0,r.dL)(vi),(0,r.dL)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:vi}))}})}dispose(){var et;(et=this.worker)===null||et===void 0||et.then(wt=>wt.terminate()),this.worker=null}}class ${constructor(et){this._label=et,this._webWorkerFailedBeforeError=!1}create(et,wt,Yt){const ri=++$.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new B(et,ri,this._label||"anonymous"+ri,wt,vi=>{p(vi),this._webWorkerFailedBeforeError=vi,Yt(vi)})}}$.LAST_WORKER_ID=0;var Y=e(24314),P=e(4256),w=e(22571),V=e(70666),R=e(50187),A=e(90310);class H{constructor(et,wt,Yt,ri){this._uri=et,this._lines=wt,this._eol=Yt,this._versionId=ri,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(et){et.eol&&et.eol!==this._eol&&(this._eol=et.eol,this._lineStarts=null);const wt=et.changes;for(const Yt of wt)this._acceptDeleteRange(Yt.range),this._acceptInsertText(new R.L(Yt.range.startLineNumber,Yt.range.startColumn),Yt.text);this._versionId=et.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const et=this._eol.length,wt=this._lines.length,Yt=new Uint32Array(wt);for(let ri=0;ri<wt;ri++)Yt[ri]=this._lines[ri].length+et;this._lineStarts=new A.oQ(Yt)}}_setLineText(et,wt){this._lines[et]=wt,this._lineStarts&&this._lineStarts.setValue(et,this._lines[et].length+this._eol.length)}_acceptDeleteRange(et){if(et.startLineNumber===et.endLineNumber){if(et.startColumn===et.endColumn)return;this._setLineText(et.startLineNumber-1,this._lines[et.startLineNumber-1].substring(0,et.startColumn-1)+this._lines[et.startLineNumber-1].substring(et.endColumn-1));return}this._setLineText(et.startLineNumber-1,this._lines[et.startLineNumber-1].substring(0,et.startColumn-1)+this._lines[et.endLineNumber-1].substring(et.endColumn-1)),this._lines.splice(et.startLineNumber,et.endLineNumber-et.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(et.startLineNumber,et.endLineNumber-et.startLineNumber)}_acceptInsertText(et,wt){if(wt.length===0)return;const Yt=(0,I.uq)(wt);if(Yt.length===1){this._setLineText(et.lineNumber-1,this._lines[et.lineNumber-1].substring(0,et.column-1)+Yt[0]+this._lines[et.lineNumber-1].substring(et.column-1));return}Yt[Yt.length-1]+=this._lines[et.lineNumber-1].substring(et.column-1),this._setLineText(et.lineNumber-1,this._lines[et.lineNumber-1].substring(0,et.column-1)+Yt[0]);const ri=new Uint32Array(Yt.length-1);for(let vi=1;vi<Yt.length;vi++)this._lines.splice(et.lineNumber+vi-1,0,Yt[vi]),ri[vi-1]=Yt[vi].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(et.lineNumber,ri)}}var U=e(270),G=e(44906);class j{constructor(et,wt,Yt){const ri=new Uint8Array(et*wt);for(let vi=0,Wi=et*wt;vi<Wi;vi++)ri[vi]=Yt;this._data=ri,this.rows=et,this.cols=wt}get(et,wt){return this._data[et*this.cols+wt]}set(et,wt,Yt){this._data[et*this.cols+wt]=Yt}}class W{constructor(et){let wt=0,Yt=0;for(let vi=0,Wi=et.length;vi<Wi;vi++){const[$i,Ot,yt]=et[vi];Ot>wt&&(wt=Ot),$i>Yt&&(Yt=$i),yt>Yt&&(Yt=yt)}wt++,Yt++;const ri=new j(Yt,wt,0);for(let vi=0,Wi=et.length;vi<Wi;vi++){const[$i,Ot,yt]=et[vi];ri.set($i,Ot,yt)}this._states=ri,this._maxCharCode=wt}nextState(et,wt){return wt<0||wt>=this._maxCharCode?0:this._states.get(et,wt)}}let K=null;function m(){return K===null&&(K=new W([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),K}let J=null;function X(){if(J===null){J=new G.N(0);const Ei=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let wt=0;wt<Ei.length;wt++)J.set(Ei.charCodeAt(wt),1);const et=".,;:";for(let wt=0;wt<et.length;wt++)J.set(et.charCodeAt(wt),2)}return J}class ie{static _createLink(et,wt,Yt,ri,vi){let Wi=vi-1;do{const $i=wt.charCodeAt(Wi);if(et.get($i)!==2)break;Wi--}while(Wi>ri);if(ri>0){const $i=wt.charCodeAt(ri-1),Ot=wt.charCodeAt(Wi);($i===40&&Ot===41||$i===91&&Ot===93||$i===123&&Ot===125)&&Wi--}return{range:{startLineNumber:Yt,startColumn:ri+1,endLineNumber:Yt,endColumn:Wi+2},url:wt.substring(ri,Wi+1)}}static computeLinks(et,wt=m()){const Yt=X(),ri=[];for(let vi=1,Wi=et.getLineCount();vi<=Wi;vi++){const $i=et.getLineContent(vi),Ot=$i.length;let yt=0,si=0,ii=0,Ui=1,an=!1,en=!1,In=!1,Fn=!1;for(;yt<Ot;){let On=!1;const Mi=$i.charCodeAt(yt);if(Ui===13){let _i;switch(Mi){case 40:an=!0,_i=0;break;case 41:_i=an?0:1;break;case 91:In=!0,en=!0,_i=0;break;case 93:In=!1,_i=en?0:1;break;case 123:Fn=!0,_i=0;break;case 125:_i=Fn?0:1;break;case 39:case 34:case 96:ii===Mi?_i=1:ii===39||ii===34||ii===96?_i=0:_i=1;break;case 42:_i=ii===42?1:0;break;case 124:_i=ii===124?1:0;break;case 32:_i=In?0:1;break;default:_i=Yt.get(Mi)}_i===1&&(ri.push(ie._createLink(Yt,$i,vi,si,yt)),On=!0)}else if(Ui===12){let _i;Mi===91?(en=!0,_i=0):_i=Yt.get(Mi),_i===1?On=!0:Ui=13}else Ui=wt.nextState(Ui,Mi),Ui===0&&(On=!0);On&&(Ui=1,an=!1,en=!1,Fn=!1,si=yt+1,ii=Mi),yt++}Ui===13&&ri.push(ie._createLink(Yt,$i,vi,si,Ot))}return ri}}function le(Ei){return!Ei||typeof Ei.getLineCount!="function"||typeof Ei.getLineContent!="function"?[]:ie.computeLinks(Ei)}class fe{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(et,wt,Yt,ri,vi){if(et&&wt){const Wi=this.doNavigateValueSet(wt,vi);if(Wi)return{range:et,value:Wi}}if(Yt&&ri){const Wi=this.doNavigateValueSet(ri,vi);if(Wi)return{range:Yt,value:Wi}}return null}doNavigateValueSet(et,wt){const Yt=this.numberReplace(et,wt);return Yt!==null?Yt:this.textReplace(et,wt)}numberReplace(et,wt){const Yt=Math.pow(10,et.length-(et.lastIndexOf(".")+1));let ri=Number(et);const vi=parseFloat(et);return!isNaN(ri)&&!isNaN(vi)&&ri===vi?ri===0&&!wt?null:(ri=Math.floor(ri*Yt),ri+=wt?Yt:-Yt,String(ri/Yt)):null}textReplace(et,wt){return this.valueSetsReplace(this._defaultValueSet,et,wt)}valueSetsReplace(et,wt,Yt){let ri=null;for(let vi=0,Wi=et.length;ri===null&&vi<Wi;vi++)ri=this.valueSetReplace(et[vi],wt,Yt);return ri}valueSetReplace(et,wt,Yt){let ri=et.indexOf(wt);return ri>=0?(ri+=Yt?1:-1,ri<0?ri=et.length-1:ri%=et.length,et[ri]):null}}fe.INSTANCE=new fe;var Le=e(20927),pe=e(84013),Te=e(31446),De=e(60652),ae=e(54648),Ne=e(35146),We=e(45463);const ze=3;class Se{computeDiff(et,wt,Yt){var ri;const Wi=new _e(et,wt,{maxComputationTime:Yt.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Yt.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),$i=[];let Ot=null;for(const yt of Wi.changes){let si;yt.originalEndLineNumber===0?si=new We.z(yt.originalStartLineNumber+1,yt.originalStartLineNumber+1):si=new We.z(yt.originalStartLineNumber,yt.originalEndLineNumber+1);let ii;yt.modifiedEndLineNumber===0?ii=new We.z(yt.modifiedStartLineNumber+1,yt.modifiedStartLineNumber+1):ii=new We.z(yt.modifiedStartLineNumber,yt.modifiedEndLineNumber+1);let Ui=new ae.gB(si,ii,(ri=yt.charChanges)===null||ri===void 0?void 0:ri.map(an=>new ae.iy(new Y.e(an.originalStartLineNumber,an.originalStartColumn,an.originalEndLineNumber,an.originalEndColumn),new Y.e(an.modifiedStartLineNumber,an.modifiedStartColumn,an.modifiedEndLineNumber,an.modifiedEndColumn))));Ot&&(Ot.modified.endLineNumberExclusive===Ui.modified.startLineNumber||Ot.original.endLineNumberExclusive===Ui.original.startLineNumber)&&(Ui=new ae.gB(Ot.original.join(Ui.original),Ot.modified.join(Ui.modified),Ot.innerChanges&&Ui.innerChanges?Ot.innerChanges.concat(Ui.innerChanges):void 0),$i.pop()),$i.push(Ui),Ot=Ui}return(0,Ne.eZ)(()=>(0,Ne.DM)($i,(yt,si)=>si.original.startLineNumber-yt.original.endLineNumberExclusive===si.modified.startLineNumber-yt.modified.endLineNumberExclusive&&yt.original.endLineNumberExclusive<si.original.startLineNumber&&yt.modified.endLineNumberExclusive<si.modified.startLineNumber)),new De.h($i,[],Wi.quitEarly)}}function ne(Ei,et,wt,Yt){return new w.Hs(Ei,et,wt).ComputeDiff(Yt)}class ce{constructor(et){const wt=[],Yt=[];for(let ri=0,vi=et.length;ri<vi;ri++)wt[ri]=se(et[ri],1),Yt[ri]=ve(et[ri],1);this.lines=et,this._startColumns=wt,this._endColumns=Yt}getElements(){const et=[];for(let wt=0,Yt=this.lines.length;wt<Yt;wt++)et[wt]=this.lines[wt].substring(this._startColumns[wt]-1,this._endColumns[wt]-1);return et}getStrictElement(et){return this.lines[et]}getStartLineNumber(et){return et+1}getEndLineNumber(et){return et+1}createCharSequence(et,wt,Yt){const ri=[],vi=[],Wi=[];let $i=0;for(let Ot=wt;Ot<=Yt;Ot++){const yt=this.lines[Ot],si=et?this._startColumns[Ot]:1,ii=et?this._endColumns[Ot]:yt.length+1;for(let Ui=si;Ui<ii;Ui++)ri[$i]=yt.charCodeAt(Ui-1),vi[$i]=Ot+1,Wi[$i]=Ui,$i++;!et&&Ot<Yt&&(ri[$i]=10,vi[$i]=Ot+1,Wi[$i]=yt.length+1,$i++)}return new Oe(ri,vi,Wi)}}class Oe{constructor(et,wt,Yt){this._charCodes=et,this._lineNumbers=wt,this._columns=Yt}toString(){return"["+this._charCodes.map((et,wt)=>(et===10?"\\n":String.fromCharCode(et))+`-(${this._lineNumbers[wt]},${this._columns[wt]})`).join(", ")+"]"}_assertIndex(et,wt){if(et<0||et>=wt.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(et){return et>0&&et===this._lineNumbers.length?this.getEndLineNumber(et-1):(this._assertIndex(et,this._lineNumbers),this._lineNumbers[et])}getEndLineNumber(et){return et===-1?this.getStartLineNumber(et+1):(this._assertIndex(et,this._lineNumbers),this._charCodes[et]===10?this._lineNumbers[et]+1:this._lineNumbers[et])}getStartColumn(et){return et>0&&et===this._columns.length?this.getEndColumn(et-1):(this._assertIndex(et,this._columns),this._columns[et])}getEndColumn(et){return et===-1?this.getStartColumn(et+1):(this._assertIndex(et,this._columns),this._charCodes[et]===10?1:this._columns[et]+1)}}class Pe{constructor(et,wt,Yt,ri,vi,Wi,$i,Ot){this.originalStartLineNumber=et,this.originalStartColumn=wt,this.originalEndLineNumber=Yt,this.originalEndColumn=ri,this.modifiedStartLineNumber=vi,this.modifiedStartColumn=Wi,this.modifiedEndLineNumber=$i,this.modifiedEndColumn=Ot}static createFromDiffChange(et,wt,Yt){const ri=wt.getStartLineNumber(et.originalStart),vi=wt.getStartColumn(et.originalStart),Wi=wt.getEndLineNumber(et.originalStart+et.originalLength-1),$i=wt.getEndColumn(et.originalStart+et.originalLength-1),Ot=Yt.getStartLineNumber(et.modifiedStart),yt=Yt.getStartColumn(et.modifiedStart),si=Yt.getEndLineNumber(et.modifiedStart+et.modifiedLength-1),ii=Yt.getEndColumn(et.modifiedStart+et.modifiedLength-1);return new Pe(ri,vi,Wi,$i,Ot,yt,si,ii)}}function Me(Ei){if(Ei.length<=1)return Ei;const et=[Ei[0]];let wt=et[0];for(let Yt=1,ri=Ei.length;Yt<ri;Yt++){const vi=Ei[Yt],Wi=vi.originalStart-(wt.originalStart+wt.originalLength),$i=vi.modifiedStart-(wt.modifiedStart+wt.modifiedLength);Math.min(Wi,$i)<ze?(wt.originalLength=vi.originalStart+vi.originalLength-wt.originalStart,wt.modifiedLength=vi.modifiedStart+vi.modifiedLength-wt.modifiedStart):(et.push(vi),wt=vi)}return et}class ye{constructor(et,wt,Yt,ri,vi){this.originalStartLineNumber=et,this.originalEndLineNumber=wt,this.modifiedStartLineNumber=Yt,this.modifiedEndLineNumber=ri,this.charChanges=vi}static createFromDiffResult(et,wt,Yt,ri,vi,Wi,$i){let Ot,yt,si,ii,Ui;if(wt.originalLength===0?(Ot=Yt.getStartLineNumber(wt.originalStart)-1,yt=0):(Ot=Yt.getStartLineNumber(wt.originalStart),yt=Yt.getEndLineNumber(wt.originalStart+wt.originalLength-1)),wt.modifiedLength===0?(si=ri.getStartLineNumber(wt.modifiedStart)-1,ii=0):(si=ri.getStartLineNumber(wt.modifiedStart),ii=ri.getEndLineNumber(wt.modifiedStart+wt.modifiedLength-1)),Wi&&wt.originalLength>0&&wt.originalLength<20&&wt.modifiedLength>0&&wt.modifiedLength<20&&vi()){const an=Yt.createCharSequence(et,wt.originalStart,wt.originalStart+wt.originalLength-1),en=ri.createCharSequence(et,wt.modifiedStart,wt.modifiedStart+wt.modifiedLength-1);if(an.getElements().length>0&&en.getElements().length>0){let In=ne(an,en,vi,!0).changes;$i&&(In=Me(In)),Ui=[];for(let Fn=0,On=In.length;Fn<On;Fn++)Ui.push(Pe.createFromDiffChange(In[Fn],an,en))}}return new ye(Ot,yt,si,ii,Ui)}}class _e{constructor(et,wt,Yt){this.shouldComputeCharChanges=Yt.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Yt.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Yt.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Yt.shouldMakePrettyDiff,this.originalLines=et,this.modifiedLines=wt,this.original=new ce(et),this.modified=new ce(wt),this.continueLineDiff=xe(Yt.maxComputationTime),this.continueCharDiff=xe(Yt.maxComputationTime===0?0:Math.min(Yt.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const et=ne(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),wt=et.changes,Yt=et.quitEarly;if(this.shouldIgnoreTrimWhitespace){const $i=[];for(let Ot=0,yt=wt.length;Ot<yt;Ot++)$i.push(ye.createFromDiffResult(this.shouldIgnoreTrimWhitespace,wt[Ot],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Yt,changes:$i}}const ri=[];let vi=0,Wi=0;for(let $i=-1,Ot=wt.length;$i<Ot;$i++){const yt=$i+1<Ot?wt[$i+1]:null,si=yt?yt.originalStart:this.originalLines.length,ii=yt?yt.modifiedStart:this.modifiedLines.length;for(;vi<si&&Wi<ii;){const Ui=this.originalLines[vi],an=this.modifiedLines[Wi];if(Ui!==an){{let en=se(Ui,1),In=se(an,1);for(;en>1&&In>1;){const Fn=Ui.charCodeAt(en-2),On=an.charCodeAt(In-2);if(Fn!==On)break;en--,In--}(en>1||In>1)&&this._pushTrimWhitespaceCharChange(ri,vi+1,1,en,Wi+1,1,In)}{let en=ve(Ui,1),In=ve(an,1);const Fn=Ui.length+1,On=an.length+1;for(;en<Fn&&In<On;){const Mi=Ui.charCodeAt(en-1),_i=Ui.charCodeAt(In-1);if(Mi!==_i)break;en++,In++}(en<Fn||In<On)&&this._pushTrimWhitespaceCharChange(ri,vi+1,en,Fn,Wi+1,In,On)}}vi++,Wi++}yt&&(ri.push(ye.createFromDiffResult(this.shouldIgnoreTrimWhitespace,yt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),vi+=yt.originalLength,Wi+=yt.modifiedLength)}return{quitEarly:Yt,changes:ri}}_pushTrimWhitespaceCharChange(et,wt,Yt,ri,vi,Wi,$i){if(this._mergeTrimWhitespaceCharChange(et,wt,Yt,ri,vi,Wi,$i))return;let Ot;this.shouldComputeCharChanges&&(Ot=[new Pe(wt,Yt,wt,ri,vi,Wi,vi,$i)]),et.push(new ye(wt,wt,vi,vi,Ot))}_mergeTrimWhitespaceCharChange(et,wt,Yt,ri,vi,Wi,$i){const Ot=et.length;if(Ot===0)return!1;const yt=et[Ot-1];return yt.originalEndLineNumber===0||yt.modifiedEndLineNumber===0?!1:yt.originalEndLineNumber===wt&&yt.modifiedEndLineNumber===vi?(this.shouldComputeCharChanges&&yt.charChanges&&yt.charChanges.push(new Pe(wt,Yt,wt,ri,vi,Wi,vi,$i)),!0):yt.originalEndLineNumber+1===wt&&yt.modifiedEndLineNumber+1===vi?(yt.originalEndLineNumber=wt,yt.modifiedEndLineNumber=vi,this.shouldComputeCharChanges&&yt.charChanges&&yt.charChanges.push(new Pe(wt,Yt,wt,ri,vi,Wi,vi,$i)),!0):!1}}function se(Ei,et){const wt=I.LC(Ei);return wt===-1?et:wt+1}function ve(Ei,et){const wt=I.ow(Ei);return wt===-1?et:wt+2}function xe(Ei){if(Ei===0)return()=>!0;const et=Date.now();return()=>Date.now()-et<Ei}var je=e(62549);const Ae={getLegacy:()=>new Se,getDefault:()=>new je.DW};var Qe=e(41264);function rt(Ei){const et=[];for(const wt of Ei){const Yt=Number(wt);(Yt||Yt===0&&wt.replace(/\s/g,"")!=="")&&et.push(Yt)}return et}function Dt(Ei,et,wt,Yt){return{red:Ei/255,blue:wt/255,green:et/255,alpha:Yt}}function at(Ei,et){const wt=et.index,Yt=et[0].length;if(!wt)return;const ri=Ei.positionAt(wt);return{startLineNumber:ri.lineNumber,startColumn:ri.column,endLineNumber:ri.lineNumber,endColumn:ri.column+Yt}}function vt(Ei,et){if(!Ei)return;const wt=Qe.Il.Format.CSS.parseHex(et);if(wt)return{range:Ei,color:Dt(wt.rgba.r,wt.rgba.g,wt.rgba.b,wt.rgba.a)}}function Mt(Ei,et,wt){if(!Ei||et.length!==1)return;const ri=et[0].values(),vi=rt(ri);return{range:Ei,color:Dt(vi[0],vi[1],vi[2],wt?vi[3]:1)}}function ti(Ei,et,wt){if(!Ei||et.length!==1)return;const ri=et[0].values(),vi=rt(ri),Wi=new Qe.Il(new Qe.Oz(vi[0],vi[1]/100,vi[2]/100,wt?vi[3]:1));return{range:Ei,color:Dt(Wi.rgba.r,Wi.rgba.g,Wi.rgba.b,Wi.rgba.a)}}function Ft(Ei,et){return typeof Ei=="string"?[...Ei.matchAll(et)]:Ei.findMatches(et)}function ei(Ei){const et=[],Yt=Ft(Ei,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Yt.length>0)for(const ri of Yt){const vi=ri.filter(yt=>yt!==void 0),Wi=vi[1],$i=vi[2];if(!$i)continue;let Ot;if(Wi==="rgb"){const yt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;Ot=Mt(at(Ei,ri),Ft($i,yt),!1)}else if(Wi==="rgba"){const yt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Ot=Mt(at(Ei,ri),Ft($i,yt),!0)}else if(Wi==="hsl"){const yt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;Ot=ti(at(Ei,ri),Ft($i,yt),!1)}else if(Wi==="hsla"){const yt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Ot=ti(at(Ei,ri),Ft($i,yt),!0)}else Wi==="#"&&(Ot=vt(at(Ei,ri),Wi+$i));Ot&&et.push(Ot)}return et}function Xt(Ei){return!Ei||typeof Ei.getValue!="function"||typeof Ei.positionAt!="function"?[]:ei(Ei)}class Ct extends H{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(et){const wt=[];for(let Yt=0;Yt<this._lines.length;Yt++){const ri=this._lines[Yt],vi=this.offsetAt(new R.L(Yt+1,1)),Wi=ri.matchAll(et);for(const $i of Wi)($i.index||$i.index===0)&&($i.index=$i.index+vi),wt.push($i)}return wt}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(et){return this._lines[et-1]}getWordAtPosition(et,wt){const Yt=(0,U.t2)(et.column,(0,U.eq)(wt),this._lines[et.lineNumber-1],0);return Yt?new Y.e(et.lineNumber,Yt.startColumn,et.lineNumber,Yt.endColumn):null}words(et){const wt=this._lines,Yt=this._wordenize.bind(this);let ri=0,vi="",Wi=0,$i=[];return{*[Symbol.iterator](){for(;;)if(Wi<$i.length){const Ot=vi.substring($i[Wi].start,$i[Wi].end);Wi+=1,yield Ot}else if(ri<wt.length)vi=wt[ri],$i=Yt(vi,et),Wi=0,ri+=1;else break}}}getLineWords(et,wt){const Yt=this._lines[et-1],ri=this._wordenize(Yt,wt),vi=[];for(const Wi of ri)vi.push({word:Yt.substring(Wi.start,Wi.end),startColumn:Wi.start+1,endColumn:Wi.end+1});return vi}_wordenize(et,wt){const Yt=[];let ri;for(wt.lastIndex=0;(ri=wt.exec(et))&&ri[0].length!==0;)Yt.push({start:ri.index,end:ri.index+ri[0].length});return Yt}getValueInRange(et){if(et=this._validateRange(et),et.startLineNumber===et.endLineNumber)return this._lines[et.startLineNumber-1].substring(et.startColumn-1,et.endColumn-1);const wt=this._eol,Yt=et.startLineNumber-1,ri=et.endLineNumber-1,vi=[];vi.push(this._lines[Yt].substring(et.startColumn-1));for(let Wi=Yt+1;Wi<ri;Wi++)vi.push(this._lines[Wi]);return vi.push(this._lines[ri].substring(0,et.endColumn-1)),vi.join(wt)}offsetAt(et){return et=this._validatePosition(et),this._ensureLineStarts(),this._lineStarts.getPrefixSum(et.lineNumber-2)+(et.column-1)}positionAt(et){et=Math.floor(et),et=Math.max(0,et),this._ensureLineStarts();const wt=this._lineStarts.getIndexOf(et),Yt=this._lines[wt.index].length;return{lineNumber:1+wt.index,column:1+Math.min(wt.remainder,Yt)}}_validateRange(et){const wt=this._validatePosition({lineNumber:et.startLineNumber,column:et.startColumn}),Yt=this._validatePosition({lineNumber:et.endLineNumber,column:et.endColumn});return wt.lineNumber!==et.startLineNumber||wt.column!==et.startColumn||Yt.lineNumber!==et.endLineNumber||Yt.column!==et.endColumn?{startLineNumber:wt.lineNumber,startColumn:wt.column,endLineNumber:Yt.lineNumber,endColumn:Yt.column}:et}_validatePosition(et){if(!R.L.isIPosition(et))throw new Error("bad position");let{lineNumber:wt,column:Yt}=et,ri=!1;if(wt<1)wt=1,Yt=1,ri=!0;else if(wt>this._lines.length)wt=this._lines.length,Yt=this._lines[wt-1].length+1,ri=!0;else{const vi=this._lines[wt-1].length+1;Yt<1?(Yt=1,ri=!0):Yt>vi&&(Yt=vi,ri=!0)}return ri?{lineNumber:wt,column:Yt}:et}}class ft{constructor(et,wt){this._host=et,this._models=Object.create(null),this._foreignModuleFactory=wt,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(et){return this._models[et]}_getModels(){const et=[];return Object.keys(this._models).forEach(wt=>et.push(this._models[wt])),et}acceptNewModel(et){this._models[et.url]=new Ct(V.o.parse(et.url),et.lines,et.EOL,et.versionId)}acceptModelChanged(et,wt){if(!this._models[et])return;this._models[et].onEvents(wt)}acceptRemovedModel(et){this._models[et]&&delete this._models[et]}computeUnicodeHighlights(et,wt,Yt){return qt(this,null,function*(){const ri=this._getModel(et);return ri?Te.a.computeUnicodeHighlights(ri,wt,Yt):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(et,wt,Yt,ri){return qt(this,null,function*(){const vi=this._getModel(et),Wi=this._getModel(wt);return!vi||!Wi?null:ft.computeDiff(vi,Wi,Yt,ri)})}static computeDiff(et,wt,Yt,ri){const vi=ri==="advanced"?Ae.getDefault():Ae.getLegacy(),Wi=et.getLinesContent(),$i=wt.getLinesContent(),Ot=vi.computeDiff(Wi,$i,Yt),yt=Ot.changes.length>0?!1:this._modelsAreIdentical(et,wt);function si(ii){return ii.map(Ui=>{var an;return[Ui.original.startLineNumber,Ui.original.endLineNumberExclusive,Ui.modified.startLineNumber,Ui.modified.endLineNumberExclusive,(an=Ui.innerChanges)===null||an===void 0?void 0:an.map(en=>[en.originalRange.startLineNumber,en.originalRange.startColumn,en.originalRange.endLineNumber,en.originalRange.endColumn,en.modifiedRange.startLineNumber,en.modifiedRange.startColumn,en.modifiedRange.endLineNumber,en.modifiedRange.endColumn])]})}return{identical:yt,quitEarly:Ot.hitTimeout,changes:si(Ot.changes),moves:Ot.moves.map(ii=>[ii.lineRangeMapping.original.startLineNumber,ii.lineRangeMapping.original.endLineNumberExclusive,ii.lineRangeMapping.modified.startLineNumber,ii.lineRangeMapping.modified.endLineNumberExclusive,si(ii.changes)])}}static _modelsAreIdentical(et,wt){const Yt=et.getLineCount(),ri=wt.getLineCount();if(Yt!==ri)return!1;for(let vi=1;vi<=Yt;vi++){const Wi=et.getLineContent(vi),$i=wt.getLineContent(vi);if(Wi!==$i)return!1}return!0}computeMoreMinimalEdits(et,wt,Yt){return qt(this,null,function*(){const ri=this._getModel(et);if(!ri)return wt;const vi=[];let Wi;wt=wt.slice(0).sort((Ot,yt)=>{if(Ot.range&&yt.range)return Y.e.compareRangesUsingStarts(Ot.range,yt.range);const si=Ot.range?0:1,ii=yt.range?0:1;return si-ii});let $i=0;for(let Ot=1;Ot<wt.length;Ot++)Y.e.getEndPosition(wt[$i].range).equals(Y.e.getStartPosition(wt[Ot].range))?(wt[$i].range=Y.e.fromPositions(Y.e.getStartPosition(wt[$i].range),Y.e.getEndPosition(wt[Ot].range)),wt[$i].text+=wt[Ot].text):($i++,wt[$i]=wt[Ot]);wt.length=$i+1;for(let{range:Ot,text:yt,eol:si}of wt){if(typeof si=="number"&&(Wi=si),Y.e.isEmpty(Ot)&&!yt)continue;const ii=ri.getValueInRange(Ot);if(yt=yt.replace(/\r\n|\n|\r/g,ri.eol),ii===yt)continue;if(Math.max(yt.length,ii.length)>ft._diffLimit){vi.push({range:Ot,text:yt});continue}const Ui=(0,w.a$)(ii,yt,Yt),an=ri.offsetAt(Y.e.lift(Ot).getStartPosition());for(const en of Ui){const In=ri.positionAt(an+en.originalStart),Fn=ri.positionAt(an+en.originalStart+en.originalLength),On={text:yt.substr(en.modifiedStart,en.modifiedLength),range:{startLineNumber:In.lineNumber,startColumn:In.column,endLineNumber:Fn.lineNumber,endColumn:Fn.column}};ri.getValueInRange(On.range)!==On.text&&vi.push(On)}}return typeof Wi=="number"&&vi.push({eol:Wi,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),vi})}computeLinks(et){return qt(this,null,function*(){const wt=this._getModel(et);return wt?le(wt):null})}computeDefaultDocumentColors(et){return qt(this,null,function*(){const wt=this._getModel(et);return wt?Xt(wt):null})}textualSuggest(et,wt,Yt,ri){return qt(this,null,function*(){const vi=new pe.G,Wi=new RegExp(Yt,ri),$i=new Set;e:for(const Ot of et){const yt=this._getModel(Ot);if(yt){for(const si of yt.words(Wi))if(!(si===wt||!isNaN(Number(si)))&&($i.add(si),$i.size>ft._suggestionsLimit))break e}}return{words:Array.from($i),duration:vi.elapsed()}})}computeWordRanges(et,wt,Yt,ri){return qt(this,null,function*(){const vi=this._getModel(et);if(!vi)return Object.create(null);const Wi=new RegExp(Yt,ri),$i=Object.create(null);for(let Ot=wt.startLineNumber;Ot<wt.endLineNumber;Ot++){const yt=vi.getLineWords(Ot,Wi);for(const si of yt){if(!isNaN(Number(si.word)))continue;let ii=$i[si.word];ii||(ii=[],$i[si.word]=ii),ii.push({startLineNumber:Ot,startColumn:si.startColumn,endLineNumber:Ot,endColumn:si.endColumn})}}return $i})}navigateValueSet(et,wt,Yt,ri,vi){return qt(this,null,function*(){const Wi=this._getModel(et);if(!Wi)return null;const $i=new RegExp(ri,vi);wt.startColumn===wt.endColumn&&(wt={startLineNumber:wt.startLineNumber,startColumn:wt.startColumn,endLineNumber:wt.endLineNumber,endColumn:wt.endColumn+1});const Ot=Wi.getValueInRange(wt),yt=Wi.getWordAtPosition({lineNumber:wt.startLineNumber,column:wt.startColumn},$i);if(!yt)return null;const si=Wi.getValueInRange(yt);return fe.INSTANCE.navigateValueSet(wt,Ot,yt,si,Yt)})}loadForeignModule(et,wt,Yt){const ri=($i,Ot)=>this._host.fhr($i,Ot),Wi={host:(0,c.IU)(Yt,ri),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Wi,wt),Promise.resolve((0,c.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(et,wt){if(!this._foreignModule||typeof this._foreignModule[et]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+et));try{return Promise.resolve(this._foreignModule[et].apply(this._foreignModule,wt))}catch(Yt){return Promise.reject(Yt)}}}ft._diffLimit=1e5,ft._suggestionsLimit=1e4;function Bt(Ei){return new ft(Ei,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,Le.O)());var kt=e(73733),Ge=e(71765),St=e(9488),Ci=e(43557),Oi=e(71922),xi=e(48906),Yi=e(65321),fn=function(Ei,et,wt,Yt){var ri=arguments.length,vi=ri<3?et:Yt===null?Yt=Object.getOwnPropertyDescriptor(et,wt):Yt,Wi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vi=Reflect.decorate(Ei,et,wt,Yt);else for(var $i=Ei.length-1;$i>=0;$i--)(Wi=Ei[$i])&&(vi=(ri<3?Wi(vi):ri>3?Wi(et,wt,vi):Wi(et,wt))||vi);return ri>3&&vi&&Object.defineProperty(et,wt,vi),vi},un=function(Ei,et){return function(wt,Yt){et(wt,Yt,Ei)}};const Pn=60*1e3,Dn=5*60*1e3;function Gn(Ei,et){const wt=Ei.getModel(et);return!(!wt||wt.isTooLargeForSyncing())}let Rn=class extends z.JT{constructor(et,wt,Yt,ri,vi){super(),this._modelService=et,this._workerManager=this._register(new ts(this._modelService,ri)),this._logService=Yt,this._register(vi.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(Wi,$i)=>Gn(this._modelService,Wi.uri)?this._workerManager.withWorker().then(Ot=>Ot.computeLinks(Wi.uri)).then(Ot=>Ot&&{links:Ot}):Promise.resolve({links:[]})})),this._register(vi.completionProvider.register("*",new ns(this._workerManager,wt,this._modelService,ri)))}dispose(){super.dispose()}canComputeUnicodeHighlights(et){return Gn(this._modelService,et)}computedUnicodeHighlights(et,wt,Yt){return this._workerManager.withWorker().then(ri=>ri.computedUnicodeHighlights(et,wt,Yt))}computeDiff(et,wt,Yt,ri){return qt(this,null,function*(){const vi=yield this._workerManager.withWorker().then(Ot=>Ot.computeDiff(et,wt,Yt,ri));if(!vi)return null;return{identical:vi.identical,quitEarly:vi.quitEarly,changes:$i(vi.changes),moves:vi.moves.map(Ot=>new De.y(new ae.f0(new We.z(Ot[0],Ot[1]),new We.z(Ot[2],Ot[3])),$i(Ot[4])))};function $i(Ot){return Ot.map(yt=>{var si;return new ae.gB(new We.z(yt[0],yt[1]),new We.z(yt[2],yt[3]),(si=yt[4])===null||si===void 0?void 0:si.map(ii=>new ae.iy(new Y.e(ii[0],ii[1],ii[2],ii[3]),new Y.e(ii[4],ii[5],ii[6],ii[7]))))})}})}computeMoreMinimalEdits(et,wt,Yt=!1){if((0,St.Of)(wt)){if(!Gn(this._modelService,et))return Promise.resolve(wt);const ri=pe.G.create(),vi=this._workerManager.withWorker().then(Wi=>Wi.computeMoreMinimalEdits(et,wt,Yt));return vi.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",et.toString(!0),ri.elapsed())),Promise.race([vi,(0,b.Vs)(1e3).then(()=>wt)])}else return Promise.resolve(void 0)}canNavigateValueSet(et){return Gn(this._modelService,et)}navigateValueSet(et,wt,Yt){return this._workerManager.withWorker().then(ri=>ri.navigateValueSet(et,wt,Yt))}canComputeWordRanges(et){return Gn(this._modelService,et)}computeWordRanges(et,wt){return this._workerManager.withWorker().then(Yt=>Yt.computeWordRanges(et,wt))}};Rn=fn([un(0,kt.q),un(1,Ge.V),un(2,Ci.VZ),un(3,P.c_),un(4,Oi.p)],Rn);class ns{constructor(et,wt,Yt,ri){this.languageConfigurationService=ri,this._debugDisplayName="wordbasedCompletions",this._workerManager=et,this._configurationService=wt,this._modelService=Yt}provideCompletionItems(et,wt){return qt(this,null,function*(){const Yt=this._configurationService.getValue(et.uri,wt,"editor");if(Yt.wordBasedSuggestions==="off")return;const ri=[];if(Yt.wordBasedSuggestions==="currentDocument")Gn(this._modelService,et.uri)&&ri.push(et.uri);else for(const ii of this._modelService.getModels())Gn(this._modelService,ii.uri)&&(ii===et?ri.unshift(ii.uri):(Yt.wordBasedSuggestions==="allDocuments"||ii.getLanguageId()===et.getLanguageId())&&ri.push(ii.uri));if(ri.length===0)return;const vi=this.languageConfigurationService.getLanguageConfiguration(et.getLanguageId()).getWordDefinition(),Wi=et.getWordAtPosition(wt),$i=Wi?new Y.e(wt.lineNumber,Wi.startColumn,wt.lineNumber,Wi.endColumn):Y.e.fromPositions(wt),Ot=$i.setEndPosition(wt.lineNumber,wt.column),si=yield(yield this._workerManager.withWorker()).textualSuggest(ri,Wi==null?void 0:Wi.word,vi);if(si)return{duration:si.duration,suggestions:si.words.map(ii=>({kind:18,label:ii,insertText:ii,range:{insert:Ot,replace:$i}}))}})}}class ts extends z.JT{constructor(et,wt){super(),this.languageConfigurationService=wt,this._modelService=et,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Yi.ne).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Dn/2),xi.vO),this._register(this._modelService.onModelRemoved(ri=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Dn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new cs(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class qn extends z.JT{constructor(et,wt,Yt){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=et,this._modelService=wt,!Yt){const ri=new b.zh;ri.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Pn/2)),this._register(ri)}}dispose(){for(const et in this._syncedModels)(0,z.B9)(this._syncedModels[et]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(et,wt){for(const Yt of et){const ri=Yt.toString();this._syncedModels[ri]||this._beginModelSync(Yt,wt),this._syncedModels[ri]&&(this._syncedModelsLastUsedTime[ri]=new Date().getTime())}}_checkStopModelSync(){const et=new Date().getTime(),wt=[];for(const Yt in this._syncedModelsLastUsedTime)et-this._syncedModelsLastUsedTime[Yt]>Pn&&wt.push(Yt);for(const Yt of wt)this._stopModelSync(Yt)}_beginModelSync(et,wt){const Yt=this._modelService.getModel(et);if(!Yt||!wt&&Yt.isTooLargeForSyncing())return;const ri=et.toString();this._proxy.acceptNewModel({url:Yt.uri.toString(),lines:Yt.getLinesContent(),EOL:Yt.getEOL(),versionId:Yt.getVersionId()});const vi=new z.SL;vi.add(Yt.onDidChangeContent(Wi=>{this._proxy.acceptModelChanged(ri.toString(),Wi)})),vi.add(Yt.onWillDispose(()=>{this._stopModelSync(ri)})),vi.add((0,z.OF)(()=>{this._proxy.acceptRemovedModel(ri)})),this._syncedModels[ri]=vi}_stopModelSync(et){const wt=this._syncedModels[et];delete this._syncedModels[et],delete this._syncedModelsLastUsedTime[et],(0,z.B9)(wt)}}class fs{constructor(et){this._instance=et,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Nn{constructor(et){this._workerClient=et}fhr(et,wt){return this._workerClient.fhr(et,wt)}}class cs extends z.JT{constructor(et,wt,Yt,ri){super(),this.languageConfigurationService=ri,this._disposed=!1,this._modelService=et,this._keepIdleModels=wt,this._workerFactory=new $(Yt),this._worker=null,this._modelManager=null}fhr(et,wt){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new v(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Nn(this)))}catch(et){p(et),this._worker=new fs(new ft(new Nn(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,et=>(p(et),this._worker=new fs(new ft(new Nn(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(et){return this._modelManager||(this._modelManager=this._register(new qn(et,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(et,wt=!1){return qt(this,null,function*(){return this._disposed?Promise.reject((0,r.F0)()):this._getProxy().then(Yt=>(this._getOrCreateModelManager(Yt).ensureSyncedResources(et,wt),Yt))})}computedUnicodeHighlights(et,wt,Yt){return this._withSyncedResources([et]).then(ri=>ri.computeUnicodeHighlights(et.toString(),wt,Yt))}computeDiff(et,wt,Yt,ri){return this._withSyncedResources([et,wt],!0).then(vi=>vi.computeDiff(et.toString(),wt.toString(),Yt,ri))}computeMoreMinimalEdits(et,wt,Yt){return this._withSyncedResources([et]).then(ri=>ri.computeMoreMinimalEdits(et.toString(),wt,Yt))}computeLinks(et){return this._withSyncedResources([et]).then(wt=>wt.computeLinks(et.toString()))}computeDefaultDocumentColors(et){return this._withSyncedResources([et]).then(wt=>wt.computeDefaultDocumentColors(et.toString()))}textualSuggest(et,wt,Yt){return qt(this,null,function*(){const ri=yield this._withSyncedResources(et),vi=Yt.source,Wi=Yt.flags;return ri.textualSuggest(et.map($i=>$i.toString()),wt,vi,Wi)})}computeWordRanges(et,wt){return this._withSyncedResources([et]).then(Yt=>{const ri=this._modelService.getModel(et);if(!ri)return Promise.resolve(null);const vi=this.languageConfigurationService.getLanguageConfiguration(ri.getLanguageId()).getWordDefinition(),Wi=vi.source,$i=vi.flags;return Yt.computeWordRanges(et.toString(),wt,Wi,$i)})}navigateValueSet(et,wt,Yt){return this._withSyncedResources([et]).then(ri=>{const vi=this._modelService.getModel(et);if(!vi)return null;const Wi=this.languageConfigurationService.getLanguageConfiguration(vi.getLanguageId()).getWordDefinition(),$i=Wi.source,Ot=Wi.flags;return ri.navigateValueSet(et.toString(),wt,Yt,$i,Ot)})}dispose(){super.dispose(),this._disposed=!0}}},43407:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return b}});class b{static capture(r){if(r.getScrollTop()===0||r.hasPendingScrollAnimation())return new b(r.getScrollTop(),r.getContentHeight(),null,0,null);let E=null,c=0;const _=r.getVisibleRanges();if(_.length>0){E=_[0].getStartPosition();const I=r.getTopForPosition(E.lineNumber,E.column);c=r.getScrollTop()-I}return new b(r.getScrollTop(),r.getContentHeight(),E,c,r.getPosition())}constructor(r,E,c,_,I){this._initialScrollTop=r,this._initialContentHeight=E,this._visiblePosition=c,this._visiblePositionScrollDelta=_,this._cursorPosition=I}restore(r){if(!(this._initialContentHeight===r.getContentHeight()&&this._initialScrollTop===r.getScrollTop())&&this._visiblePosition){const E=r.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);r.setScrollTop(E+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(r){if(this._initialContentHeight===r.getContentHeight()&&this._initialScrollTop===r.getScrollTop())return;const E=r.getPosition();if(!this._cursorPosition||!E)return;const c=r.getTopForLineNumber(E.lineNumber)-r.getTopForLineNumber(this._cursorPosition.lineNumber);r.setScrollTop(r.getScrollTop()+c)}}},95939:function(Pt,Ke,e){"use strict";e.d(Ke,{Nt:function(){return u},ob:function(){return d},dL:function(){return g}});var b=e(16268),z=e(38626),r=e(1432),E=e(7031);class c{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(C,L){C.selectNodeContents(L)}static _readClientRects(C,L,O,T,F){const B=this._createRange();try{return B.setStart(C,L),B.setEnd(O,T),B.getClientRects()}catch($){return null}finally{this._detachRange(B,F)}}static _mergeAdjacentRanges(C){if(C.length===1)return C;C.sort(E.CR.compare);const L=[];let O=0,T=C[0];for(let F=1,B=C.length;F<B;F++){const $=C[F];T.left+T.width+.9>=$.left?T.width=Math.max(T.width,$.left+$.width-T.left):(L[O++]=T,T=$)}return L[O++]=T,L}static _createHorizontalRangesFromClientRects(C,L,O){if(!C||C.length===0)return null;const T=[];for(let F=0,B=C.length;F<B;F++){const $=C[F];T[F]=new E.CR(Math.max(0,($.left-L)/O),$.width/O)}return this._mergeAdjacentRanges(T)}static readHorizontalRanges(C,L,O,T,F,B){const Y=C.children.length-1;if(0>Y)return null;if(L=Math.min(Y,Math.max(0,L)),T=Math.min(Y,Math.max(0,T)),L===T&&O===F&&O===0&&!C.children[L].firstChild){const R=C.children[L].getClientRects();return B.markDidDomLayout(),this._createHorizontalRangesFromClientRects(R,B.clientRectDeltaLeft,B.clientRectScale)}L!==T&&T>0&&F===0&&(T--,F=1073741824);let P=C.children[L].firstChild,w=C.children[T].firstChild;if((!P||!w)&&(!P&&O===0&&L>0&&(P=C.children[L-1].firstChild,O=1073741824),!w&&F===0&&T>0&&(w=C.children[T-1].firstChild,F=1073741824)),!P||!w)return null;O=Math.min(P.textContent.length,Math.max(0,O)),F=Math.min(w.textContent.length,Math.max(0,F));const V=this._readClientRects(P,O,w,F,B.endNode);return B.markDidDomLayout(),this._createHorizontalRangesFromClientRects(V,B.clientRectDeltaLeft,B.clientRectScale)}}var _=e(92550),I=e(72202),M=e(92321),D=e(64141);const p=function(){return r.tY?!0:!(r.IJ||b.vU||b.G6)}();let o=!0;class d{constructor(C,L){this.themeType=L;const O=C.options,T=O.get(50);O.get(38)==="off"?this.renderWhitespace=O.get(98):this.renderWhitespace="none",this.renderControlCharacters=O.get(93),this.spaceWidth=T.spaceWidth,this.middotWidth=T.middotWidth,this.wsmiddotWidth=T.wsmiddotWidth,this.useMonospaceOptimizations=T.isMonospace&&!O.get(33),this.canUseHalfwidthRightwardsArrow=T.canUseHalfwidthRightwardsArrow,this.lineHeight=O.get(66),this.stopRenderingLineAfter=O.get(116),this.fontLigatures=O.get(51)}equals(C){return this.themeType===C.themeType&&this.renderWhitespace===C.renderWhitespace&&this.renderControlCharacters===C.renderControlCharacters&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.useMonospaceOptimizations===C.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter&&this.fontLigatures===C.fontLigatures}}class u{constructor(C){this._options=C,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(C){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,z.X)(C);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(C){this._isMaybeInvalid=!0,this._options=C}onSelectionChanged(){return(0,M.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(C,L,O,T){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const F=O.getViewLineRenderingData(C),B=this._options,$=_.Kp.filter(F.inlineDecorations,C,F.minColumn,F.maxColumn);let Y=null;if((0,M.c3)(B.themeType)||this._options.renderWhitespace==="selection"){const R=O.selections;for(const A of R){if(A.endLineNumber<C||A.startLineNumber>C)continue;const H=A.startLineNumber===C?A.startColumn:F.minColumn,U=A.endLineNumber===C?A.endColumn:F.maxColumn;H<U&&((0,M.c3)(B.themeType)&&$.push(new _.Kp(H,U,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Y||(Y=[]),Y.push(new I.zG(H-1,U-1))))}}const P=new I.IJ(B.useMonospaceOptimizations,B.canUseHalfwidthRightwardsArrow,F.content,F.continuesWithWrappedLine,F.isBasicASCII,F.containsRTL,F.minColumn-1,F.tokens,$,F.tabSize,F.startVisibleColumn,B.spaceWidth,B.middotWidth,B.wsmiddotWidth,B.stopRenderingLineAfter,B.renderWhitespace,B.renderControlCharacters,B.fontLigatures!==D.n0.OFF,Y);if(this._renderedViewLine&&this._renderedViewLine.input.equals(P))return!1;T.appendString('<div style="top:'),T.appendString(String(L)),T.appendString("px;height:"),T.appendString(String(this._options.lineHeight)),T.appendString('px;" class="'),T.appendString(u.CLASS_NAME),T.appendString('">');const w=(0,I.d1)(P,T);T.appendString("</div>");let V=null;return o&&p&&F.isBasicASCII&&B.useMonospaceOptimizations&&w.containsForeignElements===0&&(V=new i(this._renderedViewLine?this._renderedViewLine.domNode:null,P,w.characterMapping)),V||(V=v(this._renderedViewLine?this._renderedViewLine.domNode:null,P,w.characterMapping,w.containsRTL,w.containsForeignElements)),this._renderedViewLine=V,!0}layoutLine(C,L){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(L),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(C){return this._renderedViewLine?this._renderedViewLine.getWidth(C):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof i:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof i?this._renderedViewLine.monospaceAssumptionsAreValid():o}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof i&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(C,L,O,T){if(!this._renderedViewLine)return null;L=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,L)),O=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,O));const F=this._renderedViewLine.input.stopRenderingLineAfter;if(F!==-1&&L>F+1&&O>F+1)return new E.CH(!0,[new E.CR(this.getWidth(T),0)]);F!==-1&&L>F+1&&(L=F+1),F!==-1&&O>F+1&&(O=F+1);const B=this._renderedViewLine.getVisibleRangesForRange(C,L,O,T);return B&&B.length>0?new E.CH(!1,B):null}getColumnOfNodeOffset(C,L){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(C,L):1}}u.CLASS_NAME="view-line";class i{constructor(C,L,O){this._cachedWidth=-1,this.domNode=C,this.input=L;const T=Math.floor(L.lineContent.length/300);if(T>0){this._keyColumnPixelOffsetCache=new Float32Array(T);for(let F=0;F<T;F++)this._keyColumnPixelOffsetCache[F]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=O,this._charWidth=L.spaceWidth}getWidth(C){if(!this.domNode||this.input.lineContent.length<300){const L=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*L)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,C==null||C.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return o;if(this.input.lineContent.length<300){const C=this.getWidth(null),L=this.domNode.domNode.firstChild.offsetWidth;Math.abs(C-L)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),o=!1)}return o}toSlowRenderedLine(){return v(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(C,L,O,T){const F=this._getColumnPixelOffset(C,L,T),B=this._getColumnPixelOffset(C,O,T);return[new E.CR(F,B-F)]}_getColumnPixelOffset(C,L,O){if(L<=300){const P=this._characterMapping.getHorizontalOffset(L);return this._charWidth*P}const T=Math.floor((L-1)/300)-1,F=(T+1)*300+1;let B=-1;if(this._keyColumnPixelOffsetCache&&(B=this._keyColumnPixelOffsetCache[T],B===-1&&(B=this._actualReadPixelOffset(C,F,O),this._keyColumnPixelOffsetCache[T]=B)),B===-1){const P=this._characterMapping.getHorizontalOffset(L);return this._charWidth*P}const $=this._characterMapping.getHorizontalOffset(F),Y=this._characterMapping.getHorizontalOffset(L);return B+this._charWidth*(Y-$)}_getReadingTarget(C){return C.domNode.firstChild}_actualReadPixelOffset(C,L,O){if(!this.domNode)return-1;const T=this._characterMapping.getDomPosition(L),F=c.readHorizontalRanges(this._getReadingTarget(this.domNode),T.partIndex,T.charIndex,T.partIndex,T.charIndex,O);return!F||F.length===0?-1:F[0].left}getColumnOfNodeOffset(C,L){return g(this._characterMapping,C,L)}}class n{constructor(C,L,O,T,F){if(this.domNode=C,this.input=L,this._characterMapping=O,this._isWhitespaceOnly=/^\s*$/.test(L.lineContent),this._containsForeignElements=F,this._cachedWidth=-1,this._pixelOffsetCache=null,!T||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let B=0,$=this._characterMapping.length;B<=$;B++)this._pixelOffsetCache[B]=-1}}_getReadingTarget(C){return C.domNode.firstChild}getWidth(C){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,C==null||C.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(C,L,O,T){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const F=this._readPixelOffset(this.domNode,C,L,T);if(F===-1)return null;const B=this._readPixelOffset(this.domNode,C,O,T);return B===-1?null:[new E.CR(F,B-F)]}return this._readVisibleRangesForRange(this.domNode,C,L,O,T)}_readVisibleRangesForRange(C,L,O,T,F){if(O===T){const B=this._readPixelOffset(C,L,O,F);return B===-1?null:[new E.CR(B,0)]}else return this._readRawVisibleRangesForRange(C,O,T,F)}_readPixelOffset(C,L,O,T){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(T);const F=this._getReadingTarget(C);return F.firstChild?(T.markDidDomLayout(),F.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const F=this._pixelOffsetCache[O];if(F!==-1)return F;const B=this._actualReadPixelOffset(C,L,O,T);return this._pixelOffsetCache[O]=B,B}return this._actualReadPixelOffset(C,L,O,T)}_actualReadPixelOffset(C,L,O,T){if(this._characterMapping.length===0){const Y=c.readHorizontalRanges(this._getReadingTarget(C),0,0,0,0,T);return!Y||Y.length===0?-1:Y[0].left}if(O===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(T);const F=this._characterMapping.getDomPosition(O),B=c.readHorizontalRanges(this._getReadingTarget(C),F.partIndex,F.charIndex,F.partIndex,F.charIndex,T);if(!B||B.length===0)return-1;const $=B[0].left;if(this.input.isBasicASCII){const Y=this._characterMapping.getHorizontalOffset(O),P=Math.round(this.input.spaceWidth*Y);if(Math.abs(P-$)<=1)return P}return $}_readRawVisibleRangesForRange(C,L,O,T){if(L===1&&O===this._characterMapping.length)return[new E.CR(0,this.getWidth(T))];const F=this._characterMapping.getDomPosition(L),B=this._characterMapping.getDomPosition(O);return c.readHorizontalRanges(this._getReadingTarget(C),F.partIndex,F.charIndex,B.partIndex,B.charIndex,T)}getColumnOfNodeOffset(C,L){return g(this._characterMapping,C,L)}}class f extends n{_readVisibleRangesForRange(C,L,O,T,F){const B=super._readVisibleRangesForRange(C,L,O,T,F);if(!B||B.length===0||O===T||O===1&&T===this._characterMapping.length)return B;if(!this.input.containsRTL){const $=this._readPixelOffset(C,L,T,F);if($!==-1){const Y=B[B.length-1];Y.left<$&&(Y.width=$-Y.left)}}return B}}const v=function(){return b.Pf?a:S}();function a(y,C,L,O,T){return new f(y,C,L,O,T)}function S(y,C,L,O,T){return new n(y,C,L,O,T)}function g(y,C,L){const O=C.textContent.length;let T=-1;for(;C;)C=C.previousSibling,T++;return y.getColumn(new I.Nd(T,L),O)}},7031:function(Pt,Ke,e){"use strict";e.d(Ke,{CH:function(){return I},CR:function(){return c},D4:function(){return _},u7:function(){return r},xh:function(){return z},yu:function(){return E}});class b{constructor(D,p){this._restrictedRenderingContextBrand=void 0,this._viewLayout=D,this.viewportData=p,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const o=this._viewLayout.getCurrentViewport();this.scrollTop=o.top,this.scrollLeft=o.left,this.viewportWidth=o.width,this.viewportHeight=o.height}getScrolledTopFromAbsoluteTop(D){return D-this.scrollTop}getVerticalOffsetForLineNumber(D,p){return this._viewLayout.getVerticalOffsetForLineNumber(D,p)}getVerticalOffsetAfterLineNumber(D,p){return this._viewLayout.getVerticalOffsetAfterLineNumber(D,p)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class z extends b{constructor(D,p,o){super(D,p),this._renderingContextBrand=void 0,this._viewLines=o}linesVisibleRangesForRange(D,p){return this._viewLines.linesVisibleRangesForRange(D,p)}visibleRangeForPosition(D){return this._viewLines.visibleRangeForPosition(D)}}class r{constructor(D,p,o,d){this.outsideRenderedLine=D,this.lineNumber=p,this.ranges=o,this.continuesOnNextLine=d}}class E{static from(D){const p=new Array(D.length);for(let o=0,d=D.length;o<d;o++){const u=D[o];p[o]=new E(u.left,u.width)}return p}constructor(D,p){this._horizontalRangeBrand=void 0,this.left=Math.round(D),this.width=Math.round(p)}toString(){return`[${this.left},${this.width}]`}}class c{constructor(D,p){this._floatHorizontalRangeBrand=void 0,this.left=D,this.width=p}toString(){return`[${this.left},${this.width}]`}static compare(D,p){return D.left-p.left}}class _{constructor(D,p){this.outsideRenderedLine=D,this.originalLeft=p,this.left=Math.round(this.originalLeft)}}class I{constructor(D,p){this.outsideRenderedLine=D,this.ranges=p}}},46445:function(Pt,Ke,e){"use strict";e.d(Ke,{Gm:function(){return _r}});var b=e(36357),z=e(16830),r=function(Kt,t,l,N){var q=arguments.length,oe=q<3?t:N===null?N=Object.getOwnPropertyDescriptor(t,l):N,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Kt,t,l,N);else for(var Ve=Kt.length-1;Ve>=0;Ve--)(Ie=Kt[Ve])&&(oe=(q<3?Ie(oe):q>3?Ie(t,l,oe):Ie(t,l))||oe);return q>3&&oe&&Object.defineProperty(t,l,oe),oe},E=function(Kt,t){return function(l,N){t(l,N,Kt)}};let c=class{constructor(t,l){}dispose(){}};c.ID="editor.contrib.markerDecorations",c=r([E(1,b.i)],c),(0,z._K)(c.ID,c,0);var _=e(63580),I=e(65321),M=e(17301),D=e(4669),p=e(5976),o=e(66663),d=e(16268),u=e(9488),i=e(36248),n=e(1432),f=e(45476),v=e(66059);class a{constructor(t,l){this.key=t,this.migrate=l}apply(t){const l=a._read(t,this.key),N=oe=>a._read(t,oe),q=(oe,Ie)=>a._write(t,oe,Ie);this.migrate(l,N,q)}static _read(t,l){if(typeof t=="undefined")return;const N=l.indexOf(".");if(N>=0){const q=l.substring(0,N);return this._read(t[q],l.substring(N+1))}return t[l]}static _write(t,l,N){const q=l.indexOf(".");if(q>=0){const oe=l.substring(0,q);t[oe]=t[oe]||{},this._write(t[oe],l.substring(q+1),N);return}t[l]=N}}a.items=[];function S(Kt,t){a.items.push(new a(Kt,t))}function g(Kt,t){S(Kt,(l,N,q)=>{if(typeof l!="undefined"){for(const[oe,Ie]of t)if(l===oe){q(Kt,Ie);return}}})}function y(Kt){a.items.forEach(t=>t.apply(Kt))}g("wordWrap",[[!0,"on"],[!1,"off"]]),g("lineNumbers",[[!0,"on"],[!1,"off"]]),g("cursorBlinking",[["visible","solid"]]),g("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),g("renderLineHighlight",[[!0,"line"],[!1,"none"]]),g("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),g("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),g("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),g("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),g("autoIndent",[[!1,"advanced"],[!0,"full"]]),g("matchBrackets",[[!0,"always"],[!1,"never"]]),g("renderFinalNewline",[[!0,"on"],[!1,"off"]]),g("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),g("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),g("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),S("autoClosingBrackets",(Kt,t,l)=>{Kt===!1&&(l("autoClosingBrackets","never"),typeof t("autoClosingQuotes")=="undefined"&&l("autoClosingQuotes","never"),typeof t("autoSurround")=="undefined"&&l("autoSurround","never"))}),S("renderIndentGuides",(Kt,t,l)=>{typeof Kt!="undefined"&&(l("renderIndentGuides",void 0),typeof t("guides.indentation")=="undefined"&&l("guides.indentation",!!Kt))}),S("highlightActiveIndentGuide",(Kt,t,l)=>{typeof Kt!="undefined"&&(l("highlightActiveIndentGuide",void 0),typeof t("guides.highlightActiveIndentation")=="undefined"&&l("guides.highlightActiveIndentation",!!Kt))});const C={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};S("suggest.filteredTypes",(Kt,t,l)=>{if(Kt&&typeof Kt=="object"){for(const N of Object.entries(C))Kt[N[0]]===!1&&typeof t(`suggest.${N[1]}`)=="undefined"&&l(`suggest.${N[1]}`,!1);l("suggest.filteredTypes",void 0)}}),S("quickSuggestions",(Kt,t,l)=>{if(typeof Kt=="boolean"){const N=Kt?"on":"off";l("quickSuggestions",{comments:N,strings:N,other:N})}}),S("experimental.stickyScroll.enabled",(Kt,t,l)=>{typeof Kt=="boolean"&&(l("experimental.stickyScroll.enabled",void 0),typeof t("stickyScroll.enabled")=="undefined"&&l("stickyScroll.enabled",Kt))}),S("experimental.stickyScroll.maxLineCount",(Kt,t,l)=>{typeof Kt=="number"&&(l("experimental.stickyScroll.maxLineCount",void 0),typeof t("stickyScroll.maxLineCount")=="undefined"&&l("stickyScroll.maxLineCount",Kt))}),S("codeActionsOnSave",(Kt,t,l)=>{if(Kt&&typeof Kt=="object"){let N=!1;const q={};for(const oe of Object.entries(Kt))typeof oe[1]=="boolean"?(N=!0,q[oe[0]]=oe[1]?"explicit":"never"):q[oe[0]]=oe[1];N&&l("codeActionsOnSave",q)}}),S("codeActionWidget.includeNearbyQuickfixes",(Kt,t,l)=>{typeof Kt=="boolean"&&(l("codeActionWidget.includeNearbyQuickfixes",void 0),typeof t("codeActionWidget.includeNearbyQuickFixes")=="undefined"&&l("codeActionWidget.includeNearbyQuickFixes",Kt))});var L=e(37940),O=e(64141),T=e(82334),F=e(27374),B=e(31106),$=function(Kt,t,l,N){var q=arguments.length,oe=q<3?t:N===null?N=Object.getOwnPropertyDescriptor(t,l):N,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Kt,t,l,N);else for(var Ve=Kt.length-1;Ve>=0;Ve--)(Ie=Kt[Ve])&&(oe=(q<3?Ie(oe):q>3?Ie(t,l,oe):Ie(t,l))||oe);return q>3&&oe&&Object.defineProperty(t,l,oe),oe},Y=function(Kt,t){return function(l,N){t(l,N,Kt)}};let P=class extends p.JT{constructor(t,l,N,q){super(),this._accessibilityService=q,this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new D.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new O.LJ,this.isSimpleWidget=t,this._containerObserver=this._register(new f.I(N,l.dimension)),this._rawOptions=U(l),this._validatedOptions=H.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(T.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(L.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.g.onDidChange(()=>this._recomputeOptions())),this._register(d.Tz.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const t=this._computeOptions(),l=H.checkEquals(this.options,t);l!==null&&(this.options=t,this._onDidChangeFast.fire(l),this._onDidChange.fire(l))}_computeOptions(){const t=this._readEnvConfiguration(),l=F.E4.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),N=this._readFontInfo(l),q={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:N,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:L.n.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return H.computeOptions(this._validatedOptions,q)}_readEnvConfiguration(){return{extraEditorClassName:V(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:d.Pf||d.vU,pixelRatio:d.Tz.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return v.g.readFontInfo(t)}getRawOptions(){return this._rawOptions}updateOptions(t){const l=U(t);H.applyUpdate(this._rawOptions,l)&&(this._validatedOptions=H.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){const l=w(t);this._lineNumbersDigitCount!==l&&(this._lineNumbersDigitCount=l,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(t){this._glyphMarginDecorationLaneCount!==t&&(this._glyphMarginDecorationLaneCount=t,this._recomputeOptions())}};P=$([Y(3,B.F7)],P);function w(Kt){let t=0;for(;Kt;)Kt=Math.floor(Kt/10),t++;return t||1}function V(){let Kt="";return!d.G6&&!d.MG&&(Kt+="no-user-select "),d.G6&&(Kt+="no-minimap-shadow ",Kt+="enable-user-select "),n.dz&&(Kt+="mac "),Kt}class R{constructor(){this._values=[]}_read(t){return this._values[t]}get(t){return this._values[t]}_write(t,l){this._values[t]=l}}class A{constructor(){this._values=[]}_read(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]}get(t){return this._read(t)}_write(t,l){this._values[t]=l}}class H{static validateOptions(t){const l=new R;for(const N of O.Bc){const q=N.name==="_never_"?void 0:t[N.name];l._write(N.id,N.validate(q))}return l}static computeOptions(t,l){const N=new A;for(const q of O.Bc)N._write(q.id,q.compute(l,N,t._read(q.id)));return N}static _deepEquals(t,l){if(typeof t!="object"||typeof l!="object"||!t||!l)return t===l;if(Array.isArray(t)||Array.isArray(l))return Array.isArray(t)&&Array.isArray(l)?u.fS(t,l):!1;if(Object.keys(t).length!==Object.keys(l).length)return!1;for(const N in t)if(!H._deepEquals(t[N],l[N]))return!1;return!0}static checkEquals(t,l){const N=[];let q=!1;for(const oe of O.Bc){const Ie=!H._deepEquals(t._read(oe.id),l._read(oe.id));N[oe.id]=Ie,Ie&&(q=!0)}return q?new O.Bb(N):null}static applyUpdate(t,l){let N=!1;for(const q of O.Bc)if(l.hasOwnProperty(q.name)){const oe=q.applyUpdate(t[q.name],l[q.name]);t[q.name]=oe.newValue,N=N||oe.didChange}return N}}function U(Kt){const t=i.I8(Kt);return y(t),t}var G=e(11640),j=e(3860),W=e(24314),K=e(38626),m=e(10553),J=e(7317),X=e(29994);class ie extends p.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let l=!1;for(let N=0,q=t.length;N<q;N++){const oe=t[N];switch(oe.type){case 0:this.onCompositionStart(oe)&&(l=!0);break;case 1:this.onCompositionEnd(oe)&&(l=!0);break;case 2:this.onConfigurationChanged(oe)&&(l=!0);break;case 3:this.onCursorStateChanged(oe)&&(l=!0);break;case 4:this.onDecorationsChanged(oe)&&(l=!0);break;case 5:this.onFlushed(oe)&&(l=!0);break;case 6:this.onFocusChanged(oe)&&(l=!0);break;case 7:this.onLanguageConfigurationChanged(oe)&&(l=!0);break;case 8:this.onLineMappingChanged(oe)&&(l=!0);break;case 9:this.onLinesChanged(oe)&&(l=!0);break;case 10:this.onLinesDeleted(oe)&&(l=!0);break;case 11:this.onLinesInserted(oe)&&(l=!0);break;case 12:this.onRevealRangeRequest(oe)&&(l=!0);break;case 13:this.onScrollChanged(oe)&&(l=!0);break;case 15:this.onTokensChanged(oe)&&(l=!0);break;case 14:this.onThemeChanged(oe)&&(l=!0);break;case 16:this.onTokensColorsChanged(oe)&&(l=!0);break;case 17:this.onZonesChanged(oe)&&(l=!0);break;default:console.info("View received unknown event: "),console.info(oe)}}l&&(this._shouldRender=!0)}}class le extends ie{constructor(t){super(),this._context=t,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class fe{static write(t,l){t.setAttribute("data-mprt",String(l))}static read(t){const l=t.getAttribute("data-mprt");return l===null?0:parseInt(l,10)}static collect(t,l){const N=[];let q=0;for(;t&&t!==t.ownerDocument.body&&t!==l;)t.nodeType===t.ELEMENT_NODE&&(N[q++]=this.read(t)),t=t.parentElement;const oe=new Uint8Array(q);for(let Ie=0;Ie<q;Ie++)oe[Ie]=N[q-Ie-1];return oe}}var Le=e(95939),pe=e(50187),Te=e(7988),De=e(47128);class ae{constructor(t=null){this.hitTarget=t,this.type=0}}class Ne{constructor(t,l,N){this.position=t,this.spanNode=l,this.injectedText=N,this.type=1}}var We;(function(Kt){function t(l,N,q){const oe=l.getPositionFromDOMInfo(N,q);return oe?new Ne(oe,N,null):new ae(N)}Kt.createFromDOMInfo=t})(We||(We={}));class ze{constructor(t,l){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=l}}class Se{static _deduceRage(t,l=null){return!l&&t?new W.e(t.lineNumber,t.column,t.lineNumber,t.column):l!=null?l:null}static createUnknown(t,l,N){return{type:0,element:t,mouseColumn:l,position:N,range:this._deduceRage(N)}}static createTextarea(t,l){return{type:1,element:t,mouseColumn:l,position:null,range:null}}static createMargin(t,l,N,q,oe,Ie){return{type:t,element:l,mouseColumn:N,position:q,range:oe,detail:Ie}}static createViewZone(t,l,N,q,oe){return{type:t,element:l,mouseColumn:N,position:q,range:this._deduceRage(q),detail:oe}}static createContentText(t,l,N,q,oe){return{type:6,element:t,mouseColumn:l,position:N,range:this._deduceRage(N,q),detail:oe}}static createContentEmpty(t,l,N,q){return{type:7,element:t,mouseColumn:l,position:N,range:this._deduceRage(N),detail:q}}static createContentWidget(t,l,N){return{type:9,element:t,mouseColumn:l,position:null,range:null,detail:N}}static createScrollbar(t,l,N){return{type:11,element:t,mouseColumn:l,position:N,range:this._deduceRage(N)}}static createOverlayWidget(t,l,N){return{type:12,element:t,mouseColumn:l,position:null,range:null,detail:N}}static createOutsideEditor(t,l,N,q){return{type:13,element:null,mouseColumn:t,position:l,range:this._deduceRage(l),outsidePosition:N,outsideDistance:q}}static _typeToString(t){return t===1?"TEXTAREA":t===2?"GUTTER_GLYPH_MARGIN":t===3?"GUTTER_LINE_NUMBERS":t===4?"GUTTER_LINE_DECORATIONS":t===5?"GUTTER_VIEW_ZONE":t===6?"CONTENT_TEXT":t===7?"CONTENT_EMPTY":t===8?"CONTENT_VIEW_ZONE":t===9?"CONTENT_WIDGET":t===10?"OVERVIEW_RULER":t===11?"SCROLLBAR":t===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)}}class ne{static isTextArea(t){return t.length===2&&t[0]===3&&t[1]===6}static isChildOfViewLines(t){return t.length>=4&&t[0]===3&&t[3]===7}static isStrictChildOfViewLines(t){return t.length>4&&t[0]===3&&t[3]===7}static isChildOfScrollableElement(t){return t.length>=2&&t[0]===3&&t[1]===5}static isChildOfMinimap(t){return t.length>=2&&t[0]===3&&t[1]===8}static isChildOfContentWidgets(t){return t.length>=4&&t[0]===3&&t[3]===1}static isChildOfOverflowGuard(t){return t.length>=1&&t[0]===3}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&t[0]===2}static isChildOfOverlayWidgets(t){return t.length>=2&&t[0]===3&&t[1]===4}}class ce{constructor(t,l,N){this.viewModel=t.viewModel;const q=t.configuration.options;this.layoutInfo=q.get(143),this.viewDomNode=l.viewDomNode,this.lineHeight=q.get(66),this.stickyTabStops=q.get(115),this.typicalHalfwidthCharacterWidth=q.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=N,this._context=t,this._viewHelper=l}getZoneAtCoord(t){return ce.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,l){const N=t.viewLayout.getWhitespaceAtVerticalOffset(l);if(N){const q=N.verticalOffset+N.height/2,oe=t.viewModel.getLineCount();let Ie=null,Ve,ot=null;return N.afterLineNumber!==oe&&(ot=new pe.L(N.afterLineNumber+1,1)),N.afterLineNumber>0&&(Ie=new pe.L(N.afterLineNumber,t.viewModel.getLineMaxColumn(N.afterLineNumber))),ot===null?Ve=Ie:Ie===null?Ve=ot:l<q?Ve=Ie:Ve=ot,{viewZoneId:N.id,afterLineNumber:N.afterLineNumber,positionBefore:Ie,positionAfter:ot,position:Ve}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const q=this._context.viewModel.getLineCount(),oe=this._context.viewModel.getLineMaxColumn(q);return{range:new W.e(q,oe,q,oe),isAfterLines:!0}}const l=this._context.viewLayout.getLineNumberAtVerticalOffset(t),N=this._context.viewModel.getLineMaxColumn(l);return{range:new W.e(l,1,l,N),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,l){return ce._findAttribute(t,l,this._viewHelper.viewDomNode)}static _findAttribute(t,l,N){for(;t&&t!==t.ownerDocument.body;){if(t.hasAttribute&&t.hasAttribute(l))return t.getAttribute(l);if(t===N)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,l){return this._viewHelper.visibleRangeForPosition(t,l)}getPositionFromDOMInfo(t,l){return this._viewHelper.getPositionFromDOMInfo(t,l)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Oe{constructor(t,l,N,q){this.editorPos=l,this.pos=N,this.relativePos=q,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,_e._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}class Pe extends Oe{constructor(t,l,N,q,oe){super(t,l,N,q),this._ctx=t,oe?(this.target=oe,this.targetPath=fe.collect(oe,t.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(t=null){return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?Te.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(t=null){return Se.createUnknown(this.target,this._getMouseColumn(t),t)}fulfillTextarea(){return Se.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(t,l,N,q){return Se.createMargin(t,this.target,this._getMouseColumn(l),l,N,q)}fulfillViewZone(t,l,N){return Se.createViewZone(t,this.target,this._getMouseColumn(l),l,N)}fulfillContentText(t,l,N){return Se.createContentText(this.target,this._getMouseColumn(t),t,l,N)}fulfillContentEmpty(t,l){return Se.createContentEmpty(this.target,this._getMouseColumn(t),t,l)}fulfillContentWidget(t){return Se.createContentWidget(this.target,this._getMouseColumn(),t)}fulfillScrollbar(t){return Se.createScrollbar(this.target,this._getMouseColumn(t),t)}fulfillOverlayWidget(t){return Se.createOverlayWidget(this.target,this._getMouseColumn(),t)}withTarget(t){return new Pe(this._ctx,this.editorPos,this.pos,this.relativePos,t)}}const Me={isAfterLines:!0};function ye(Kt){return{isAfterLines:!1,horizontalDistanceToText:Kt}}class _e{constructor(t,l){this._context=t,this._viewHelper=l}mouseTargetIsWidget(t){const l=t.target,N=fe.collect(l,this._viewHelper.viewDomNode);return!!(ne.isChildOfContentWidgets(N)||ne.isChildOfOverflowingContentWidgets(N)||ne.isChildOfOverlayWidgets(N))}createMouseTarget(t,l,N,q,oe){const Ie=new ce(this._context,this._viewHelper,t),Ve=new Pe(Ie,l,N,q,oe);try{const ot=_e._createMouseTarget(Ie,Ve,!1);if(ot.type===6&&Ie.stickyTabStops&&ot.position!==null){const mt=_e._snapToSoftTabBoundary(ot.position,Ie.viewModel),Lt=W.e.fromPositions(mt,mt).plusRange(ot.range);return Ve.fulfillContentText(mt,Lt,ot.detail)}return ot}catch(ot){return Ve.fulfillUnknown()}}static _createMouseTarget(t,l,N){if(l.target===null){if(N)return l.fulfillUnknown();const Ie=_e._doHitTest(t,l);return Ie.type===1?_e.createMouseTargetFromHitTestPosition(t,l,Ie.spanNode,Ie.position,Ie.injectedText):this._createMouseTarget(t,l.withTarget(Ie.hitTarget),!0)}const q=l;let oe=null;return!ne.isChildOfOverflowGuard(l.targetPath)&&!ne.isChildOfOverflowingContentWidgets(l.targetPath)&&(oe=oe||l.fulfillUnknown()),oe=oe||_e._hitTestContentWidget(t,q),oe=oe||_e._hitTestOverlayWidget(t,q),oe=oe||_e._hitTestMinimap(t,q),oe=oe||_e._hitTestScrollbarSlider(t,q),oe=oe||_e._hitTestViewZone(t,q),oe=oe||_e._hitTestMargin(t,q),oe=oe||_e._hitTestViewCursor(t,q),oe=oe||_e._hitTestTextArea(t,q),oe=oe||_e._hitTestViewLines(t,q,N),oe=oe||_e._hitTestScrollbar(t,q),oe||l.fulfillUnknown()}static _hitTestContentWidget(t,l){if(ne.isChildOfContentWidgets(l.targetPath)||ne.isChildOfOverflowingContentWidgets(l.targetPath)){const N=t.findAttribute(l.target,"widgetId");return N?l.fulfillContentWidget(N):l.fulfillUnknown()}return null}static _hitTestOverlayWidget(t,l){if(ne.isChildOfOverlayWidgets(l.targetPath)){const N=t.findAttribute(l.target,"widgetId");return N?l.fulfillOverlayWidget(N):l.fulfillUnknown()}return null}static _hitTestViewCursor(t,l){if(l.target){const N=t.lastRenderData.lastViewCursorsRenderData;for(const q of N)if(l.target===q.domNode)return l.fulfillContentText(q.position,null,{mightBeForeignElement:!1,injectedText:null})}if(l.isInContentArea){const N=t.lastRenderData.lastViewCursorsRenderData,q=l.mouseContentHorizontalOffset,oe=l.mouseVerticalOffset;for(const Ie of N){if(q<Ie.contentLeft||q>Ie.contentLeft+Ie.width)continue;const Ve=t.getVerticalOffsetForLineNumber(Ie.position.lineNumber);if(Ve<=oe&&oe<=Ve+Ie.height)return l.fulfillContentText(Ie.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(t,l){const N=t.getZoneAtCoord(l.mouseVerticalOffset);if(N){const q=l.isInContentArea?8:5;return l.fulfillViewZone(q,N.position,N)}return null}static _hitTestTextArea(t,l){return ne.isTextArea(l.targetPath)?t.lastRenderData.lastTextareaPosition?l.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):l.fulfillTextarea():null}static _hitTestMargin(t,l){if(l.isInMarginArea){const N=t.getFullLineRangeAtCoord(l.mouseVerticalOffset),q=N.range.getStartPosition();let oe=Math.abs(l.relativePos.x);const Ie={isAfterLines:N.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:oe};return oe-=t.layoutInfo.glyphMarginLeft,oe<=t.layoutInfo.glyphMarginWidth?l.fulfillMargin(2,q,N.range,Ie):(oe-=t.layoutInfo.glyphMarginWidth,oe<=t.layoutInfo.lineNumbersWidth?l.fulfillMargin(3,q,N.range,Ie):(oe-=t.layoutInfo.lineNumbersWidth,l.fulfillMargin(4,q,N.range,Ie)))}return null}static _hitTestViewLines(t,l,N){if(!ne.isChildOfViewLines(l.targetPath))return null;if(t.isInTopPadding(l.mouseVerticalOffset))return l.fulfillContentEmpty(new pe.L(1,1),Me);if(t.isAfterLines(l.mouseVerticalOffset)||t.isInBottomPadding(l.mouseVerticalOffset)){const oe=t.viewModel.getLineCount(),Ie=t.viewModel.getLineMaxColumn(oe);return l.fulfillContentEmpty(new pe.L(oe,Ie),Me)}if(N){if(ne.isStrictChildOfViewLines(l.targetPath)){const oe=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset);if(t.viewModel.getLineLength(oe)===0){const Ve=t.getLineWidth(oe),ot=ye(l.mouseContentHorizontalOffset-Ve);return l.fulfillContentEmpty(new pe.L(oe,1),ot)}const Ie=t.getLineWidth(oe);if(l.mouseContentHorizontalOffset>=Ie){const Ve=ye(l.mouseContentHorizontalOffset-Ie),ot=new pe.L(oe,t.viewModel.getLineMaxColumn(oe));return l.fulfillContentEmpty(ot,Ve)}}return l.fulfillUnknown()}const q=_e._doHitTest(t,l);return q.type===1?_e.createMouseTargetFromHitTestPosition(t,l,q.spanNode,q.position,q.injectedText):this._createMouseTarget(t,l.withTarget(q.hitTarget),!0)}static _hitTestMinimap(t,l){if(ne.isChildOfMinimap(l.targetPath)){const N=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),q=t.viewModel.getLineMaxColumn(N);return l.fulfillScrollbar(new pe.L(N,q))}return null}static _hitTestScrollbarSlider(t,l){if(ne.isChildOfScrollableElement(l.targetPath)&&l.target&&l.target.nodeType===1){const N=l.target.className;if(N&&/\b(slider|scrollbar)\b/.test(N)){const q=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),oe=t.viewModel.getLineMaxColumn(q);return l.fulfillScrollbar(new pe.L(q,oe))}}return null}static _hitTestScrollbar(t,l){if(ne.isChildOfScrollableElement(l.targetPath)){const N=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),q=t.viewModel.getLineMaxColumn(N);return l.fulfillScrollbar(new pe.L(N,q))}return null}getMouseColumn(t){const l=this._context.configuration.options,N=l.get(143),q=this._context.viewLayout.getCurrentScrollLeft()+t.x-N.contentLeft;return _e._getMouseColumn(q,l.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,l){return t<0?1:Math.round(t/l)+1}static createMouseTargetFromHitTestPosition(t,l,N,q,oe){const Ie=q.lineNumber,Ve=q.column,ot=t.getLineWidth(Ie);if(l.mouseContentHorizontalOffset>ot){const ki=ye(l.mouseContentHorizontalOffset-ot);return l.fulfillContentEmpty(q,ki)}const mt=t.visibleRangeForPosition(Ie,Ve);if(!mt)return l.fulfillUnknown(q);const Lt=mt.left;if(Math.abs(l.mouseContentHorizontalOffset-Lt)<1)return l.fulfillContentText(q,null,{mightBeForeignElement:!!oe,injectedText:oe});const At=[];if(At.push({offset:mt.left,column:Ve}),Ve>1){const ki=t.visibleRangeForPosition(Ie,Ve-1);ki&&At.push({offset:ki.left,column:Ve-1})}const jt=t.viewModel.getLineMaxColumn(Ie);if(Ve<jt){const ki=t.visibleRangeForPosition(Ie,Ve+1);ki&&At.push({offset:ki.left,column:Ve+1})}At.sort((ki,Ji)=>ki.offset-Ji.offset);const Jt=l.pos.toClientCoordinates(I.Jj(t.viewDomNode)),fi=N.getBoundingClientRect(),wi=fi.left<=Jt.clientX&&Jt.clientX<=fi.right;let Ni=null;for(let ki=1;ki<At.length;ki++){const Ji=At[ki-1],rn=At[ki];if(Ji.offset<=l.mouseContentHorizontalOffset&&l.mouseContentHorizontalOffset<=rn.offset){Ni=new W.e(Ie,Ji.column,Ie,rn.column);const En=Math.abs(Ji.offset-l.mouseContentHorizontalOffset),_n=Math.abs(rn.offset-l.mouseContentHorizontalOffset);q=En<_n?new pe.L(Ie,Ji.column):new pe.L(Ie,rn.column);break}}return l.fulfillContentText(q,Ni,{mightBeForeignElement:!wi||!!oe,injectedText:oe})}static _doHitTestWithCaretRangeFromPoint(t,l){const N=t.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),q=t.getVerticalOffsetForLineNumber(N),oe=q+t.lineHeight;if(!(N===t.viewModel.getLineCount()&&l.mouseVerticalOffset>oe)){const Ve=Math.floor((q+oe)/2);let ot=l.pos.y+(Ve-l.mouseVerticalOffset);ot<=l.editorPos.y&&(ot=l.editorPos.y+1),ot>=l.editorPos.y+l.editorPos.height&&(ot=l.editorPos.y+l.editorPos.height-1);const mt=new X.YN(l.pos.x,ot),Lt=this._actualDoHitTestWithCaretRangeFromPoint(t,mt.toClientCoordinates(I.Jj(t.viewDomNode)));if(Lt.type===1)return Lt}return this._actualDoHitTestWithCaretRangeFromPoint(t,l.pos.toClientCoordinates(I.Jj(t.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(t,l){const N=I.Ay(t.viewDomNode);let q;if(N?typeof N.caretRangeFromPoint=="undefined"?q=se(N,l.clientX,l.clientY):q=N.caretRangeFromPoint(l.clientX,l.clientY):q=t.viewDomNode.ownerDocument.caretRangeFromPoint(l.clientX,l.clientY),!q||!q.startContainer)return new ae;const oe=q.startContainer;if(oe.nodeType===oe.TEXT_NODE){const Ie=oe.parentNode,Ve=Ie?Ie.parentNode:null,ot=Ve?Ve.parentNode:null;return(ot&&ot.nodeType===ot.ELEMENT_NODE?ot.className:null)===Le.Nt.CLASS_NAME?We.createFromDOMInfo(t,Ie,q.startOffset):new ae(oe.parentNode)}else if(oe.nodeType===oe.ELEMENT_NODE){const Ie=oe.parentNode,Ve=Ie?Ie.parentNode:null;return(Ve&&Ve.nodeType===Ve.ELEMENT_NODE?Ve.className:null)===Le.Nt.CLASS_NAME?We.createFromDOMInfo(t,oe,oe.textContent.length):new ae(oe)}return new ae}static _doHitTestWithCaretPositionFromPoint(t,l){const N=t.viewDomNode.ownerDocument.caretPositionFromPoint(l.clientX,l.clientY);if(N.offsetNode.nodeType===N.offsetNode.TEXT_NODE){const q=N.offsetNode.parentNode,oe=q?q.parentNode:null,Ie=oe?oe.parentNode:null;return(Ie&&Ie.nodeType===Ie.ELEMENT_NODE?Ie.className:null)===Le.Nt.CLASS_NAME?We.createFromDOMInfo(t,N.offsetNode.parentNode,N.offset):new ae(N.offsetNode.parentNode)}if(N.offsetNode.nodeType===N.offsetNode.ELEMENT_NODE){const q=N.offsetNode.parentNode,oe=q&&q.nodeType===q.ELEMENT_NODE?q.className:null,Ie=q?q.parentNode:null,Ve=Ie&&Ie.nodeType===Ie.ELEMENT_NODE?Ie.className:null;if(oe===Le.Nt.CLASS_NAME){const ot=N.offsetNode.childNodes[Math.min(N.offset,N.offsetNode.childNodes.length-1)];if(ot)return We.createFromDOMInfo(t,ot,0)}else if(Ve===Le.Nt.CLASS_NAME)return We.createFromDOMInfo(t,N.offsetNode,0)}return new ae(N.offsetNode)}static _snapToSoftTabBoundary(t,l){const N=l.getLineContent(t.lineNumber),{tabSize:q}=l.model.getOptions(),oe=De.l.atomicPosition(N,t.column-1,q,2);return oe!==-1?new pe.L(t.lineNumber,oe+1):t}static _doHitTest(t,l){let N=new ae;if(typeof t.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?N=this._doHitTestWithCaretRangeFromPoint(t,l):t.viewDomNode.ownerDocument.caretPositionFromPoint&&(N=this._doHitTestWithCaretPositionFromPoint(t,l.pos.toClientCoordinates(I.Jj(t.viewDomNode)))),N.type===1){const q=t.viewModel.getInjectedTextAt(N.position),oe=t.viewModel.normalizePosition(N.position,2);(q||!oe.equals(N.position))&&(N=new Ne(oe,N.spanNode,q))}return N}}function se(Kt,t,l){const N=document.createRange();let q=Kt.elementFromPoint(t,l);if(q!==null){for(;q&&q.firstChild&&q.firstChild.nodeType!==q.firstChild.TEXT_NODE&&q.lastChild&&q.lastChild.firstChild;)q=q.lastChild;const oe=q.getBoundingClientRect(),Ie=I.Jj(q),Ve=Ie.getComputedStyle(q,null).getPropertyValue("font-style"),ot=Ie.getComputedStyle(q,null).getPropertyValue("font-variant"),mt=Ie.getComputedStyle(q,null).getPropertyValue("font-weight"),Lt=Ie.getComputedStyle(q,null).getPropertyValue("font-size"),At=Ie.getComputedStyle(q,null).getPropertyValue("line-height"),jt=Ie.getComputedStyle(q,null).getPropertyValue("font-family"),Jt=`${Ve} ${ot} ${mt} ${Lt}/${At} ${jt}`,fi=q.innerText;let wi=oe.left,Ni=0,ki;if(t>oe.left+oe.width)Ni=fi.length;else{const Ji=ve.getInstance();for(let rn=0;rn<fi.length+1;rn++){if(ki=Ji.getCharWidth(fi.charAt(rn),Jt)/2,wi+=ki,t<wi){Ni=rn;break}wi+=ki}}N.setStart(q.firstChild,Ni),N.setEnd(q.firstChild,Ni)}return N}class ve{static getInstance(){return ve._INSTANCE||(ve._INSTANCE=new ve),ve._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(t,l){const N=t+l;if(this._cache[N])return this._cache[N];const q=this._canvas.getContext("2d");q.font=l;const Ie=q.measureText(t).width;return this._cache[N]=Ie,Ie}}ve._INSTANCE=null;var xe=e(59740);class je extends ie{constructor(t,l,N){super(),this._mouseLeaveMonitor=null,this._context=t,this.viewController=l,this.viewHelper=N,this.mouseTargetFactory=new _e(this._context,N),this._mouseDownOperation=this._register(new Ae(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Ie,Ve)=>this._createMouseTarget(Ie,Ve),Ie=>this._getMouseColumn(Ie))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const q=new X.N5(this.viewHelper.viewDomNode);this._register(q.onContextMenu(this.viewHelper.viewDomNode,Ie=>this._onContextMenu(Ie,!0))),this._register(q.onMouseMove(this.viewHelper.viewDomNode,Ie=>{this._onMouseMove(Ie),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=I.nm(this.viewHelper.viewDomNode.ownerDocument,"mousemove",Ve=>{this.viewHelper.viewDomNode.contains(Ve.target)||this._onMouseLeave(new X.gy(Ve,!1,this.viewHelper.viewDomNode))}))})),this._register(q.onMouseUp(this.viewHelper.viewDomNode,Ie=>this._onMouseUp(Ie))),this._register(q.onMouseLeave(this.viewHelper.viewDomNode,Ie=>this._onMouseLeave(Ie)));let oe=0;this._register(q.onPointerDown(this.viewHelper.viewDomNode,(Ie,Ve)=>{oe=Ve})),this._register(I.nm(this.viewHelper.viewDomNode,I.tw.POINTER_UP,Ie=>{this._mouseDownOperation.onPointerUp()})),this._register(q.onMouseDown(this.viewHelper.viewDomNode,Ie=>this._onMouseDown(Ie,oe))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const t=xe.Io.INSTANCE;let l=0,N=T.C.getZoomLevel(),q=!1,oe=0;const Ie=ot=>{if(this.viewController.emitMouseWheel(ot),!this._context.configuration.options.get(75))return;const mt=new J.q(ot);if(t.acceptStandardWheelEvent(mt),t.isPhysicalMouseWheel()){if(Ve(ot)){const Lt=T.C.getZoomLevel(),At=mt.deltaY>0?1:-1;T.C.setZoomLevel(Lt+At),mt.preventDefault(),mt.stopPropagation()}}else Date.now()-l>50&&(N=T.C.getZoomLevel(),q=Ve(ot),oe=0),l=Date.now(),oe+=mt.deltaY,q&&(T.C.setZoomLevel(N+oe/5),mt.preventDefault(),mt.stopPropagation())};this._register(I.nm(this.viewHelper.viewDomNode,I.tw.MOUSE_WHEEL,Ie,{capture:!0,passive:!1}));function Ve(ot){return n.dz?(ot.metaKey||ot.ctrlKey)&&!ot.shiftKey&&!ot.altKey:ot.ctrlKey&&!ot.metaKey&&!ot.shiftKey&&!ot.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(143)){const l=this._context.configuration.options.get(143).height;this._height!==l&&(this._height=l,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}getTargetAtClientPoint(t,l){const q=new X.rU(t,l).toPageCoordinates(I.Jj(this.viewHelper.viewDomNode)),oe=(0,X.kG)(this.viewHelper.viewDomNode);if(q.y<oe.y||q.y>oe.y+oe.height||q.x<oe.x||q.x>oe.x+oe.width)return null;const Ie=(0,X.Pp)(this.viewHelper.viewDomNode,oe,q);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),oe,q,Ie,null)}_createMouseTarget(t,l){let N=t.target;if(!this.viewHelper.viewDomNode.contains(N)){const q=I.Ay(this.viewHelper.viewDomNode);q&&(N=q.elementsFromPoint(t.posx,t.posy).find(oe=>this.viewHelper.viewDomNode.contains(oe)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,l?N:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,l){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,l)})}_onMouseMove(t){this.mouseTargetFactory.mouseTargetIsWidget(t)||t.preventDefault(),!(this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t,l){const N=this._createMouseTarget(t,!0),q=N.type===6||N.type===7,oe=N.type===2||N.type===3||N.type===4,Ie=N.type===3,Ve=this._context.configuration.options.get(108),ot=N.type===8||N.type===5,mt=N.type===9;let Lt=t.leftButton||t.middleButton;n.dz&&t.leftButton&&t.ctrlKey&&(Lt=!1);const At=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};if(Lt&&(q||Ie&&Ve))At(),this._mouseDownOperation.start(N.type,t,l);else if(oe)t.preventDefault();else if(ot){const jt=N.detail;Lt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(jt.viewZoneId)&&(At(),this._mouseDownOperation.start(N.type,t,l),t.preventDefault())}else mt&&this.viewHelper.shouldSuppressMouseDownOnWidget(N.detail)&&(At(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:N})}}class Ae extends p.JT{constructor(t,l,N,q,oe,Ie){super(),this._context=t,this._viewController=l,this._viewHelper=N,this._mouseTargetFactory=q,this._createMouseTarget=oe,this._getMouseColumn=Ie,this._mouseMoveMonitor=this._register(new X.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new Qe(this._context,this._viewHelper,this._mouseTargetFactory,(Ve,ot,mt)=>this._dispatchMouse(Ve,ot,mt))),this._mouseState=new Dt,this._currentSelection=new j.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const l=this._findMousePosition(t,!1);l&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:l}):l.type===13&&(l.outsidePosition==="above"||l.outsidePosition==="below")?this._topBottomDragScrolling.start(l,t):(this._topBottomDragScrolling.stop(),this._dispatchMouse(l,!0,1)))}start(t,l,N){this._lastMouseEvent=l,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(l),this._mouseState.setModifiers(l);const q=this._findMousePosition(l,!0);if(!q||!q.position)return;this._mouseState.trySetCount(l.detail,q.position),l.detail=this._mouseState.count;const oe=this._context.configuration.options;if(!oe.get(90)&&oe.get(35)&&!oe.get(22)&&!this._mouseState.altKey&&l.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&q.type===6&&q.position&&this._currentSelection.containsPosition(q.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,N,l.buttons,Ie=>this._onMouseDownThenMove(Ie),Ie=>{const Ve=this._findMousePosition(this._lastMouseEvent,!1);I.vd(Ie)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Ve?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(q,l.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,N,l.buttons,Ie=>this._onMouseDownThenMove(Ie),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const l=t.editorPos,N=this._context.viewModel,q=this._context.viewLayout,oe=this._getMouseColumn(t);if(t.posy<l.y){const Ve=l.y-t.posy,ot=Math.max(q.getCurrentScrollTop()-Ve,0),mt=ce.getZoneAtCoord(this._context,ot);if(mt){const At=this._helpPositionJumpOverViewZone(mt);if(At)return Se.createOutsideEditor(oe,At,"above",Ve)}const Lt=q.getLineNumberAtVerticalOffset(ot);return Se.createOutsideEditor(oe,new pe.L(Lt,1),"above",Ve)}if(t.posy>l.y+l.height){const Ve=t.posy-l.y-l.height,ot=q.getCurrentScrollTop()+t.relativePos.y,mt=ce.getZoneAtCoord(this._context,ot);if(mt){const At=this._helpPositionJumpOverViewZone(mt);if(At)return Se.createOutsideEditor(oe,At,"below",Ve)}const Lt=q.getLineNumberAtVerticalOffset(ot);return Se.createOutsideEditor(oe,new pe.L(Lt,N.getLineMaxColumn(Lt)),"below",Ve)}const Ie=q.getLineNumberAtVerticalOffset(q.getCurrentScrollTop()+t.relativePos.y);if(t.posx<l.x){const Ve=l.x-t.posx;return Se.createOutsideEditor(oe,new pe.L(Ie,1),"left",Ve)}if(t.posx>l.x+l.width){const Ve=t.posx-l.x-l.width;return Se.createOutsideEditor(oe,new pe.L(Ie,N.getLineMaxColumn(Ie)),"right",Ve)}return null}_findMousePosition(t,l){const N=this._getPositionOutsideEditor(t);if(N)return N;const q=this._createMouseTarget(t,l);if(!q.position)return null;if(q.type===8||q.type===5){const Ie=this._helpPositionJumpOverViewZone(q.detail);if(Ie)return Se.createViewZone(q.type,q.element,q.mouseColumn,Ie,q.detail)}return q}_helpPositionJumpOverViewZone(t){const l=new pe.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),N=t.positionBefore,q=t.positionAfter;return N&&q?N.isBefore(l)?N:q:null}_dispatchMouse(t,l,N){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:N,inSelectionMode:l,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:t.type===6&&t.detail.injectedText!==null})}}class Qe extends p.JT{constructor(t,l,N,q){super(),this._context=t,this._viewHelper=l,this._mouseTargetFactory=N,this._dispatchMouse=q,this._operation=null}dispose(){super.dispose(),this.stop()}start(t,l){this._operation?this._operation.setPosition(t,l):this._operation=new rt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,t,l)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class rt extends p.JT{constructor(t,l,N,q,oe,Ie){super(),this._context=t,this._viewHelper=l,this._mouseTargetFactory=N,this._dispatchMouse=q,this._position=oe,this._mouseEvent=Ie,this._lastTime=Date.now(),this._animationFrameDisposable=I.jL(I.Jj(Ie.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(t,l){this._position=t,this._mouseEvent=l}_tick(){const t=Date.now(),l=t-this._lastTime;return this._lastTime=t,l}_getScrollSpeed(){const t=this._context.configuration.options.get(66),l=this._context.configuration.options.get(143).height/t,N=this._position.outsideDistance/t;return N<=1.5?Math.max(30,l*(1+N)):N<=3?Math.max(60,l*(2+N)):Math.max(200,l*(7+N))}_execute(){const t=this._context.configuration.options.get(66),l=this._getScrollSpeed(),N=this._tick(),q=l*(N/1e3)*t,oe=this._position.outsidePosition==="above"?-q:q;this._context.viewModel.viewLayout.deltaScrollNow(0,oe),this._viewHelper.renderNow();const Ie=this._context.viewLayout.getLinesViewportData(),Ve=this._position.outsidePosition==="above"?Ie.startLineNumber:Ie.endLineNumber;let ot;{const mt=(0,X.kG)(this._viewHelper.viewDomNode),Lt=this._context.configuration.options.get(143).horizontalScrollbarHeight,At=new X.YN(this._mouseEvent.pos.x,mt.y+mt.height-Lt-.1),jt=(0,X.Pp)(this._viewHelper.viewDomNode,mt,At);ot=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),mt,At,jt,null)}(!ot.position||ot.position.lineNumber!==Ve)&&(this._position.outsidePosition==="above"?ot=Se.createOutsideEditor(this._position.mouseColumn,new pe.L(Ve,1),"above",this._position.outsideDistance):ot=Se.createOutsideEditor(this._position.mouseColumn,new pe.L(Ve,this._context.viewModel.getLineMaxColumn(Ve)),"below",this._position.outsideDistance)),this._dispatchMouse(ot,!0,2),this._animationFrameDisposable=I.jL(I.Jj(ot.element),()=>this._execute())}}class Dt{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey}setStartButtons(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton}setStartedOnLineNumbers(t){this._startedOnLineNumbers=t}trySetCount(t,l){const N=new Date().getTime();N-this._lastSetMouseDownCountTime>Dt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=N,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(l)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=l,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}Dt.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var at=e(10161),vt=e(35715),Mt=e(48906);class ti extends je{constructor(t,l,N){super(t,l,N),this._register(m.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Tap,oe=>this.onTap(oe))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Change,oe=>this.onChange(oe))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Contextmenu,oe=>this._onContextMenu(new X.gy(oe,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(I.nm(this.viewHelper.linesContentDomNode,"pointerdown",oe=>{const Ie=oe.pointerType;if(Ie==="mouse"){this._lastPointerType="mouse";return}else Ie==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const q=new X.tC(this.viewHelper.viewDomNode);this._register(q.onPointerMove(this.viewHelper.viewDomNode,oe=>this._onMouseMove(oe))),this._register(q.onPointerUp(this.viewHelper.viewDomNode,oe=>this._onMouseUp(oe))),this._register(q.onPointerLeave(this.viewHelper.viewDomNode,oe=>this._onMouseLeave(oe))),this._register(q.onPointerDown(this.viewHelper.viewDomNode,(oe,Ie)=>this._onMouseDown(oe,Ie)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new X.gy(t,!1,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:l.type===6&&l.detail.injectedText!==null})}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,l){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t,l)}}class Ft extends je{constructor(t,l,N){super(t,l,N),this._register(m.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Tap,q=>this.onTap(q))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Change,q=>this.onChange(q))),this._register(I.nm(this.viewHelper.linesContentDomNode,m.t.Contextmenu,q=>this._onContextMenu(new X.gy(q,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new X.gy(t,!1,this.viewHelper.viewDomNode),!1);if(l.position){const N=document.createEvent("CustomEvent");N.initEvent(vt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(N),this.viewController.moveTo(l.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class ei extends p.JT{constructor(t,l,N){super(),n.gn&&at.D.pointerEvents?this.handler=this._register(new ti(t,l,N)):Mt.Ex.TouchEvent?this.handler=this._register(new Ft(t,l,N)):this.handler=this._register(new je(t,l,N))}getTargetAtClientPoint(t,l){return this.handler.getTargetAtClientPoint(t,l)}}var Xt=e(97295),Ct=e(52136),ft=e(15887);class Bt extends ie{}var kt=e(97781),Ge=e(8625);class St extends Bt{constructor(t){super(),this._context=t,this._readConfig(),this._lastCursorModelPosition=new pe.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const t=this._context.configuration.options;this._lineHeight=t.get(66);const l=t.get(67);this._renderLineNumbers=l.renderType,this._renderCustomLineNumbers=l.renderFn,this._renderFinalNewline=t.get(94);const N=t.get(143);this._lineNumbersLeft=N.lineNumbersLeft,this._lineNumbersWidth=N.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return this._readConfig(),!0}onCursorStateChanged(t){const l=t.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l);let N=!1;return this._activeLineNumber!==l.lineNumber&&(this._activeLineNumber=l.lineNumber,N=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(N=!0),N}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getLineRenderLineNumber(t){const l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(t,1));if(l.column!==1)return"";const N=l.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(N);if(this._renderLineNumbers===2){const q=Math.abs(this._lastCursorModelPosition.lineNumber-N);return q===0?'<span class="relative-current-line-number">'+N+"</span>":String(q)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===N||N%10===0?String(N):"":String(N)}prepareRender(t){if(this._renderLineNumbers===0){this._renderResult=null;return}const l=n.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",N=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber,oe=this._context.viewModel.getLineCount(),Ie=[];for(let Ve=N;Ve<=q;Ve++){const ot=Ve-N,mt=this._getLineRenderLineNumber(Ve);if(!mt){Ie[ot]="";continue}let Lt="";if(Ve===oe&&this._context.viewModel.getLineLength(Ve)===0){if(this._renderFinalNewline==="off"){Ie[ot]="";continue}this._renderFinalNewline==="dimmed"&&(Lt=" dimmed-line-number")}Ve===this._activeLineNumber&&(Lt=" active-line-number"),Ie[ot]=`<div class="${St.CLASS_NAME}${l}${Lt}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${mt}</div>`}this._renderResult=Ie}render(t,l){if(!this._renderResult)return"";const N=l-t;return N<0||N>=this._renderResult.length?"":this._renderResult[N]}}St.CLASS_NAME="line-numbers",(0,kt.Ic)((Kt,t)=>{const l=Kt.getColor(Ge.hw),N=Kt.getColor(Ge.Bj);N?t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${N}; }`):l&&t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${l.transparent(.4)}; }`)});class Ci extends le{constructor(t){super(t);const l=this._context.configuration.options,N=l.get(143);this._canUseLayerHinting=!l.get(32),this._contentLeft=N.contentLeft,this._glyphMarginLeft=N.glyphMarginLeft,this._glyphMarginWidth=N.glyphMarginWidth,this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setClassName(Ci.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,K.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Ci.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(143);return this._canUseLayerHinting=!l.get(32),this._contentLeft=N.contentLeft,this._glyphMarginLeft=N.glyphMarginLeft,this._glyphMarginWidth=N.glyphMarginWidth,!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollTopChanged}prepareRender(t){}render(t){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const l=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-l);const N=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(N),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(N)}}Ci.CLASS_NAME="glyph-margin",Ci.OUTER_CLASS_NAME="margin";var Oi=e(24929);const xi="monaco-mouse-cursor-text";var Yi=e(43155),fn=e(41264),un=e(77173),Pn=e(91847),Dn=e(72065),Gn=function(Kt,t,l,N){var q=arguments.length,oe=q<3?t:N===null?N=Object.getOwnPropertyDescriptor(t,l):N,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Kt,t,l,N);else for(var Ve=Kt.length-1;Ve>=0;Ve--)(Ie=Kt[Ve])&&(oe=(q<3?Ie(oe):q>3?Ie(t,l,oe):Ie(t,l))||oe);return q>3&&oe&&Object.defineProperty(t,l,oe),oe},Rn=function(Kt,t){return function(l,N){t(l,N,Kt)}};class ns{constructor(t,l,N,q,oe){this._context=t,this.modelLineNumber=l,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=q,this.distanceToModelLineEnd=oe,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(t){const l=new pe.L(this.modelLineNumber,this.distanceToModelLineStart+1),N=new pe.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(t){return this._previousPresentation||(t?this._previousPresentation=t:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const ts=d.vU;let qn=class extends le{constructor(t,l,N,q,oe){super(t),this._keybindingService=q,this._instantiationService=oe,this._primaryCursorPosition=new pe.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=l,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const Ie=this._context.configuration.options,Ve=Ie.get(143);this._setAccessibilityOptions(Ie),this._contentLeft=Ve.contentLeft,this._contentWidth=Ve.contentWidth,this._contentHeight=Ve.height,this._fontInfo=Ie.get(50),this._lineHeight=Ie.get(66),this._emptySelectionClipboard=Ie.get(37),this._copyWithSyntaxHighlighting=Ie.get(25),this._visibleTextArea=null,this._selections=[new j.Y(1,1,1,1)],this._modelSelections=[new j.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,K.X)(document.createElement("textarea")),fe.write(this.textArea,6),this.textArea.setClassName(`inputarea ${xi}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:ot}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${ot*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(Ie)),this.textArea.setAttribute("aria-required",Ie.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Ie.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",_.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",Ie.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,K.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const mt={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:jt=>this._context.viewModel.getLineMaxColumn(jt),getValueInRange:(jt,Jt)=>this._context.viewModel.getValueInRange(jt,Jt),getValueLengthInRange:(jt,Jt)=>this._context.viewModel.getValueLengthInRange(jt,Jt),modifyPosition:(jt,Jt)=>this._context.viewModel.modifyPosition(jt,Jt)},Lt={getDataToCopy:()=>{const jt=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,n.ED),Jt=this._context.viewModel.model.getEOL(),fi=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),wi=Array.isArray(jt)?jt:null,Ni=Array.isArray(jt)?jt.join(Jt):jt;let ki,Ji=null;if(vt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Ni.length<65536){const rn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);rn&&(ki=rn.html,Ji=rn.mode)}return{isFromEmptySelection:fi,multicursorText:wi,text:Ni,html:ki,mode:Ji}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const jt=this._selections[0];if(n.dz&&jt.isEmpty()){const fi=jt.getStartPosition();let wi=this._getWordBeforePosition(fi);if(wi.length===0&&(wi=this._getCharacterBeforePosition(fi)),wi.length>0)return new ft.un(wi,wi.length,wi.length,W.e.fromPositions(fi),0)}const Jt=500;if(n.dz&&!jt.isEmpty()&&mt.getValueLengthInRange(jt,0)<Jt){const fi=mt.getValueInRange(jt,0);return new ft.un(fi,0,fi.length,jt,0)}if(d.G6&&!jt.isEmpty()){const fi="vscode-placeholder";return new ft.un(fi,0,fi.length,null,void 0)}return ft.un.EMPTY}if(d.Dt){const jt=this._selections[0];if(jt.isEmpty()){const Jt=jt.getStartPosition(),[fi,wi]=this._getAndroidWordAtPosition(Jt);if(fi.length>0)return new ft.un(fi,wi,wi,W.e.fromPositions(Jt),0)}return ft.un.EMPTY}return ft.ee.fromEditorSelection(mt,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(jt,Jt,fi)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(jt,Jt,fi)},At=this._register(new vt.Tj(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(vt.Fz,Lt,At,n.OS,{isAndroid:d.Dt,isChrome:d.i7,isFirefox:d.vU,isSafari:d.G6})),this._register(this._textAreaInput.onKeyDown(jt=>{this._viewController.emitKeyDown(jt)})),this._register(this._textAreaInput.onKeyUp(jt=>{this._viewController.emitKeyUp(jt)})),this._register(this._textAreaInput.onPaste(jt=>{let Jt=!1,fi=null,wi=null;jt.metadata&&(Jt=this._emptySelectionClipboard&&!!jt.metadata.isFromEmptySelection,fi=typeof jt.metadata.multicursorText!="undefined"?jt.metadata.multicursorText:null,wi=jt.metadata.mode),this._viewController.paste(jt.text,Jt,fi,wi)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(jt=>{jt.replacePrevCharCnt||jt.replaceNextCharCnt||jt.positionDelta?(ft.al&&console.log(` => compositionType: <<${jt.text}>>, ${jt.replacePrevCharCnt}, ${jt.replaceNextCharCnt}, ${jt.positionDelta}`),this._viewController.compositionType(jt.text,jt.replacePrevCharCnt,jt.replaceNextCharCnt,jt.positionDelta)):(ft.al&&console.log(` => type: <<${jt.text}>>`),this._viewController.type(jt.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(jt=>{this._viewController.setSelection(jt)})),this._register(this._textAreaInput.onCompositionStart(jt=>{const Jt=this.textArea.domNode,fi=this._modelSelections[0],{distanceToModelLineStart:wi,widthOfHiddenTextBefore:Ni}=(()=>{const Ji=Jt.value.substring(0,Math.min(Jt.selectionStart,Jt.selectionEnd)),rn=Ji.lastIndexOf(`
`),En=Ji.substring(rn+1),_n=En.lastIndexOf("	"),zn=En.length-_n-1,Wn=fi.getStartPosition(),Kn=Math.min(Wn.column-1,zn),Sn=Wn.column-1-Kn,$n=En.substring(0,En.length-Kn),{tabSize:as}=this._context.viewModel.model.getOptions(),Yn=fs(this.textArea.domNode.ownerDocument,$n,this._fontInfo,as);return{distanceToModelLineStart:Sn,widthOfHiddenTextBefore:Yn}})(),{distanceToModelLineEnd:ki}=(()=>{const Ji=Jt.value.substring(Math.max(Jt.selectionStart,Jt.selectionEnd)),rn=Ji.indexOf(`
`),En=rn===-1?Ji:Ji.substring(0,rn),_n=En.indexOf("	"),zn=_n===-1?En.length:En.length-_n-1,Wn=fi.getEndPosition(),Kn=Math.min(this._context.viewModel.model.getLineMaxColumn(Wn.lineNumber)-Wn.column,zn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Wn.lineNumber)-Wn.column-Kn}})();this._context.viewModel.revealRange("keyboard",!0,W.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new ns(this._context,fi.startLineNumber,wi,Ni,ki),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${xi} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(jt=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${xi}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(un.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(t){this._textAreaInput.writeNativeTextAreaContent(t)}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const l='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(t.lineNumber),q=(0,Oi.u)(l);let oe=!0,Ie=t.column,Ve=!0,ot=t.column,mt=0;for(;mt<50&&(oe||Ve);){if(oe&&Ie<=1&&(oe=!1),oe){const Lt=N.charCodeAt(Ie-2);q.get(Lt)!==0?oe=!1:Ie--}if(Ve&&ot>N.length&&(Ve=!1),Ve){const Lt=N.charCodeAt(ot-1);q.get(Lt)!==0?Ve=!1:ot++}mt++}return[N.substring(Ie-1,ot-1),t.column-Ie]}_getWordBeforePosition(t){const l=this._context.viewModel.getLineContent(t.lineNumber),N=(0,Oi.u)(this._context.configuration.options.get(129));let q=t.column,oe=0;for(;q>1;){const Ie=l.charCodeAt(q-2);if(N.get(Ie)!==0||oe>50)return l.substring(q-1,t.column-1);oe++,q--}return l.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const N=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!Xt.ZG(N.charCodeAt(0)))return N}return""}_getAriaLabel(t){var l,N,q;if(t.get(2)===1){const Ie=(l=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||l===void 0?void 0:l.getAriaLabel(),Ve=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),ot=(q=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||q===void 0?void 0:q.getAriaLabel(),mt=_.NC("accessibilityModeOff","The editor is not accessible at this time.");return Ie?_.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",mt,Ie):Ve?_.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",mt,Ve):ot?_.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",mt,ot):mt}return t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const l=t.get(3);this._accessibilitySupport===2&&l===O.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=l;const q=t.get(143).wrappingColumn;if(q!==-1&&this._accessibilitySupport!==1){const oe=t.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(q*oe.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=ts?0:1}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(143);this._setAccessibilityOptions(l),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=l.get(50),this._lineHeight=l.get(66),this._emptySelectionClipboard=l.get(37),this._copyWithSyntaxHighlighting=l.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:q}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${q*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(l)),this.textArea.setAttribute("aria-required",l.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(l.get(123))),(t.hasChanged(34)||t.hasChanged(90))&&this._ensureReadOnlyAttribute(),t.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}_ensureReadOnlyAttribute(){const t=this._context.configuration.options;!un.F.enabled||t.get(34)&&t.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(t){var l;this._primaryCursorPosition=new pe.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),(l=this._visibleTextArea)===null||l===void 0||l.prepareRender(t)}render(t){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var t;if(this._visibleTextArea){const q=this._visibleTextArea.visibleTextareaStart,oe=this._visibleTextArea.visibleTextareaEnd,Ie=this._visibleTextArea.startPosition,Ve=this._visibleTextArea.endPosition;if(Ie&&Ve&&q&&oe&&oe.left>=this._scrollLeft&&q.left<=this._scrollLeft+this._contentWidth){const ot=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,mt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Lt=this._visibleTextArea.widthOfHiddenLineTextBefore,At=this._contentLeft+q.left-this._scrollLeft,jt=oe.left-q.left+1;if(At<this._contentLeft){const Ji=this._contentLeft-At;At+=Ji,Lt+=Ji,jt-=Ji}jt>this._contentWidth&&(jt=this._contentWidth);const Jt=this._context.viewModel.getViewLineData(Ie.lineNumber),fi=Jt.tokens.findTokenIndexAtOffset(Ie.column-1),wi=Jt.tokens.findTokenIndexAtOffset(Ve.column-1),Ni=fi===wi,ki=this._visibleTextArea.definePresentation(Ni?Jt.tokens.getPresentation(fi):null);this.textArea.domNode.scrollTop=mt*this._lineHeight,this.textArea.domNode.scrollLeft=Lt,this._doRender({lastRenderPosition:null,top:ot,left:At,width:jt,height:this._lineHeight,useCover:!1,color:(Yi.RW.getColorMap()||[])[ki.foreground],italic:ki.italic,bold:ki.bold,underline:ki.underline,strikethrough:ki.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const l=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(l<this._contentLeft||l>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(n.dz||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:l,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const q=(t=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&t!==void 0?t:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=q*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:l,width:this._textAreaWidth,height:ts?0:1,useCover:!1})}_newlinecount(t){let l=0,N=-1;do{if(N=t.indexOf(`
`,N+1),N===-1)break;l++}while(!0);return l}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:ts?0:1,useCover:!0})}_doRender(t){this._lastRenderPosition=t.lastRenderPosition;const l=this.textArea,N=this.textAreaCover;(0,Ct.N)(l,this._fontInfo),l.setTop(t.top),l.setLeft(t.left),l.setWidth(t.width),l.setHeight(t.height),l.setColor(t.color?fn.Il.Format.CSS.formatHex(t.color):""),l.setFontStyle(t.italic?"italic":""),t.bold&&l.setFontWeight("bold"),l.setTextDecoration(`${t.underline?" underline":""}${t.strikethrough?" line-through":""}`),N.setTop(t.useCover?t.top:0),N.setLeft(t.useCover?t.left:0),N.setWidth(t.useCover?t.width:0),N.setHeight(t.useCover?t.height:0);const q=this._context.configuration.options;q.get(57)?N.setClassName("monaco-editor-background textAreaCover "+Ci.OUTER_CLASS_NAME):q.get(67).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+St.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};qn=Gn([Rn(3,Pn.d),Rn(4,Dn.TG)],qn);function fs(Kt,t,l,N){if(t.length===0)return 0;const q=Kt.createElement("div");q.style.position="absolute",q.style.top="-50000px",q.style.width="50000px";const oe=Kt.createElement("span");(0,Ct.N)(oe,l),oe.style.whiteSpace="pre",oe.style.tabSize=`${N*l.spaceWidth}px`,oe.append(t),q.appendChild(oe),Kt.body.appendChild(q);const Ie=oe.offsetWidth;return Kt.body.removeChild(q),Ie}var Nn=e(42549);class cs{constructor(t,l,N,q){this.configuration=t,this.viewModel=l,this.userInputEvents=N,this.commandDelegate=q}paste(t,l,N,q){this.commandDelegate.paste(t,l,N,q)}type(t){this.commandDelegate.type(t)}compositionType(t,l,N,q){this.commandDelegate.compositionType(t,l,N,q)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(t){Nn.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})}_validateViewColumn(t){const l=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<l?new pe.L(t.lineNumber,l):t}_hasMulticursorModifier(t){switch(this.configuration.options.get(77)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}}_hasNonMulticursorModifier(t){switch(this.configuration.options.get(77)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}}dispatchMouse(t){const l=this.configuration.options,N=n.IJ&&l.get(106),q=l.get(22);t.middleButton&&!N?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position,t.revealType):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount>=4?this._selectAll():t.mouseDownCount===3?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position,t.revealType):this._lastCursorLineSelect(t.position,t.revealType):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount===2?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position,t.revealType):t.inSelectionMode?this._wordSelectDrag(t.position,t.revealType):this._wordSelect(t.position,t.revealType)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position,t.revealType):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey?this._columnSelect(t.position,t.mouseColumn,!0):q?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position,t.revealType):this.moveTo(t.position,t.revealType)}_usualArgs(t,l){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,revealType:l}}moveTo(t,l){Nn.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_moveToSelect(t,l){Nn.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_columnSelect(t,l,N){t=this._validateViewColumn(t),Nn.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:l,doColumnSelect:N})}_createCursor(t,l){t=this._validateViewColumn(t),Nn.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:l})}_lastCursorMoveToSelect(t,l){Nn.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_wordSelect(t,l){Nn.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_wordSelectDrag(t,l){Nn.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lastCursorWordSelect(t,l){Nn.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lineSelect(t,l){Nn.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lineSelectDrag(t,l){Nn.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lastCursorLineSelect(t,l){Nn.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_lastCursorLineSelectDrag(t,l){Nn.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,l))}_selectAll(){Nn.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)}emitKeyDown(t){this.userInputEvents.emitKeyDown(t)}emitKeyUp(t){this.userInputEvents.emitKeyUp(t)}emitContextMenu(t){this.userInputEvents.emitContextMenu(t)}emitMouseMove(t){this.userInputEvents.emitMouseMove(t)}emitMouseLeave(t){this.userInputEvents.emitMouseLeave(t)}emitMouseUp(t){this.userInputEvents.emitMouseUp(t)}emitMouseDown(t){this.userInputEvents.emitMouseDown(t)}emitMouseDrag(t){this.userInputEvents.emitMouseDrag(t)}emitMouseDrop(t){this.userInputEvents.emitMouseDrop(t)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(t){this.userInputEvents.emitMouseWheel(t)}}class Ei{constructor(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}emitKeyDown(t){var l;(l=this.onKeyDown)===null||l===void 0||l.call(this,t)}emitKeyUp(t){var l;(l=this.onKeyUp)===null||l===void 0||l.call(this,t)}emitContextMenu(t){var l;(l=this.onContextMenu)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseMove(t){var l;(l=this.onMouseMove)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseLeave(t){var l;(l=this.onMouseLeave)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDown(t){var l;(l=this.onMouseDown)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseUp(t){var l;(l=this.onMouseUp)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrag(t){var l;(l=this.onMouseDrag)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrop(t){var l;(l=this.onMouseDrop)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDropCanceled(){var t;(t=this.onMouseDropCanceled)===null||t===void 0||t.call(this)}emitMouseWheel(t){var l;(l=this.onMouseWheel)===null||l===void 0||l.call(this,t)}_convertViewToModelMouseEvent(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t}_convertViewToModelMouseTarget(t){return Ei.convertViewToModelMouseTarget(t,this._coordinatesConverter)}static convertViewToModelMouseTarget(t,l){const N=Xi({},t);return N.position&&(N.position=l.convertViewPositionToModelPosition(N.position)),N.range&&(N.range=l.convertViewRangeToModelRange(N.range)),(N.type===5||N.type===8)&&(N.detail=this.convertViewToModelViewZoneData(N.detail,l)),N}static convertViewToModelViewZoneData(t,l){return{viewZoneId:t.viewZoneId,positionBefore:t.positionBefore?l.convertViewPositionToModelPosition(t.positionBefore):t.positionBefore,positionAfter:t.positionAfter?l.convertViewPositionToModelPosition(t.positionAfter):t.positionAfter,position:l.convertViewPositionToModelPosition(t.position),afterLineNumber:l.convertViewPositionToModelPosition(new pe.L(t.afterLineNumber,1)).lineNumber}}}var et=e(77514),wt=e(50072);class Yt{constructor(t){this._createLine=t,this._set(1,[])}flush(){this._set(1,[])}_set(t,l){this._lines=l,this._rendLineNumberStart=t}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(t){const l=t-this._rendLineNumberStart;if(l<0||l>=this._lines.length)throw new M.he("Illegal value for lineNumber");return this._lines[l]}onLinesDeleted(t,l){if(this.getCount()===0)return null;const N=this.getStartLineNumber(),q=this.getEndLineNumber();if(l<N){const ot=l-t+1;return this._rendLineNumberStart-=ot,null}if(t>q)return null;let oe=0,Ie=0;for(let ot=N;ot<=q;ot++){const mt=ot-this._rendLineNumberStart;t<=ot&&ot<=l&&(Ie===0?(oe=mt,Ie=1):Ie++)}if(t<N){let ot=0;l<N?ot=l-t+1:ot=N-t,this._rendLineNumberStart-=ot}return this._lines.splice(oe,Ie)}onLinesChanged(t,l){const N=t+l-1;if(this.getCount()===0)return!1;const q=this.getStartLineNumber(),oe=this.getEndLineNumber();let Ie=!1;for(let Ve=t;Ve<=N;Ve++)Ve>=q&&Ve<=oe&&(this._lines[Ve-this._rendLineNumberStart].onContentChanged(),Ie=!0);return Ie}onLinesInserted(t,l){if(this.getCount()===0)return null;const N=l-t+1,q=this.getStartLineNumber(),oe=this.getEndLineNumber();if(t<=q)return this._rendLineNumberStart+=N,null;if(t>oe)return null;if(N+t>oe)return this._lines.splice(t-this._rendLineNumberStart,oe-t+1);const Ie=[];for(let At=0;At<N;At++)Ie[At]=this._createLine();const Ve=t-this._rendLineNumberStart,ot=this._lines.slice(0,Ve),mt=this._lines.slice(Ve,this._lines.length-N),Lt=this._lines.slice(this._lines.length-N,this._lines.length);return this._lines=ot.concat(Ie).concat(mt),Lt}onTokensChanged(t){if(this.getCount()===0)return!1;const l=this.getStartLineNumber(),N=this.getEndLineNumber();let q=!1;for(let oe=0,Ie=t.length;oe<Ie;oe++){const Ve=t[oe];if(Ve.toLineNumber<l||Ve.fromLineNumber>N)continue;const ot=Math.max(l,Ve.fromLineNumber),mt=Math.min(N,Ve.toLineNumber);for(let Lt=ot;Lt<=mt;Lt++){const At=Lt-this._rendLineNumberStart;this._lines[At].onTokensChanged(),q=!0}}return q}}class ri{constructor(t){this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new Yt(()=>this._host.createVisibleLine())}_createDomNode(){const t=(0,K.X)(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t}onConfigurationChanged(t){return!!t.hasChanged(143)}onFlushed(t){return this._linesCollection.flush(),!0}onLinesChanged(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){const l=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(l)for(let N=0,q=l.length;N<q;N++){const oe=l[N].getDomNode();oe&&this.domNode.domNode.removeChild(oe)}return!0}onLinesInserted(t){const l=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(l)for(let N=0,q=l.length;N<q;N++){const oe=l[N].getDomNode();oe&&this.domNode.domNode.removeChild(oe)}return!0}onScrollChanged(t){return t.scrollTopChanged}onTokensChanged(t){return this._linesCollection.onTokensChanged(t.ranges)}onZonesChanged(t){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(t){return this._linesCollection.getLine(t)}renderLines(t){const l=this._linesCollection._get(),N=new vi(this.domNode.domNode,this._host,t),q={rendLineNumberStart:l.rendLineNumberStart,lines:l.lines,linesLength:l.lines.length},oe=N.render(q,t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(oe.rendLineNumberStart,oe.lines)}}class vi{constructor(t,l,N){this.domNode=t,this.host=l,this.viewportData=N}render(t,l,N,q){const oe={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(oe.rendLineNumberStart+oe.linesLength-1<l||N<oe.rendLineNumberStart){oe.rendLineNumberStart=l,oe.linesLength=N-l+1,oe.lines=[];for(let Ie=l;Ie<=N;Ie++)oe.lines[Ie-l]=this.host.createVisibleLine();return this._finishRendering(oe,!0,q),oe}if(this._renderUntouchedLines(oe,Math.max(l-oe.rendLineNumberStart,0),Math.min(N-oe.rendLineNumberStart,oe.linesLength-1),q,l),oe.rendLineNumberStart>l){const Ie=l,Ve=Math.min(N,oe.rendLineNumberStart-1);Ie<=Ve&&(this._insertLinesBefore(oe,Ie,Ve,q,l),oe.linesLength+=Ve-Ie+1)}else if(oe.rendLineNumberStart<l){const Ie=Math.min(oe.linesLength,l-oe.rendLineNumberStart);Ie>0&&(this._removeLinesBefore(oe,Ie),oe.linesLength-=Ie)}if(oe.rendLineNumberStart=l,oe.rendLineNumberStart+oe.linesLength-1<N){const Ie=oe.rendLineNumberStart+oe.linesLength,Ve=N;Ie<=Ve&&(this._insertLinesAfter(oe,Ie,Ve,q,l),oe.linesLength+=Ve-Ie+1)}else if(oe.rendLineNumberStart+oe.linesLength-1>N){const Ie=Math.max(0,N-oe.rendLineNumberStart+1),ot=oe.linesLength-1-Ie+1;ot>0&&(this._removeLinesAfter(oe,ot),oe.linesLength-=ot)}return this._finishRendering(oe,!1,q),oe}_renderUntouchedLines(t,l,N,q,oe){const Ie=t.rendLineNumberStart,Ve=t.lines;for(let ot=l;ot<=N;ot++){const mt=Ie+ot;Ve[ot].layoutLine(mt,q[mt-oe])}}_insertLinesBefore(t,l,N,q,oe){const Ie=[];let Ve=0;for(let ot=l;ot<=N;ot++)Ie[Ve++]=this.host.createVisibleLine();t.lines=Ie.concat(t.lines)}_removeLinesBefore(t,l){for(let N=0;N<l;N++){const q=t.lines[N].getDomNode();q&&this.domNode.removeChild(q)}t.lines.splice(0,l)}_insertLinesAfter(t,l,N,q,oe){const Ie=[];let Ve=0;for(let ot=l;ot<=N;ot++)Ie[Ve++]=this.host.createVisibleLine();t.lines=t.lines.concat(Ie)}_removeLinesAfter(t,l){const N=t.linesLength-l;for(let q=0;q<l;q++){const oe=t.lines[N+q].getDomNode();oe&&this.domNode.removeChild(oe)}t.lines.splice(N,l)}_finishRenderingNewLines(t,l,N,q){vi._ttPolicy&&(N=vi._ttPolicy.createHTML(N));const oe=this.domNode.lastChild;l||!oe?this.domNode.innerHTML=N:oe.insertAdjacentHTML("afterend",N);let Ie=this.domNode.lastChild;for(let Ve=t.linesLength-1;Ve>=0;Ve--){const ot=t.lines[Ve];q[Ve]&&(ot.setDomNode(Ie),Ie=Ie.previousSibling)}}_finishRenderingInvalidLines(t,l,N){const q=document.createElement("div");vi._ttPolicy&&(l=vi._ttPolicy.createHTML(l)),q.innerHTML=l;for(let oe=0;oe<t.linesLength;oe++){const Ie=t.lines[oe];if(N[oe]){const Ve=q.firstChild,ot=Ie.getDomNode();ot.parentNode.replaceChild(Ve,ot),Ie.setDomNode(Ve)}}}_finishRendering(t,l,N){const q=vi._sb,oe=t.linesLength,Ie=t.lines,Ve=t.rendLineNumberStart,ot=[];{q.reset();let mt=!1;for(let Lt=0;Lt<oe;Lt++){const At=Ie[Lt];ot[Lt]=!1,!(At.getDomNode()||!At.renderLine(Lt+Ve,N[Lt],this.viewportData,q))&&(ot[Lt]=!0,mt=!0)}mt&&this._finishRenderingNewLines(t,l,q.build(),ot)}{q.reset();let mt=!1;const Lt=[];for(let At=0;At<oe;At++){const jt=Ie[At];Lt[At]=!1,!(ot[At]||!jt.renderLine(At+Ve,N[At],this.viewportData,q))&&(Lt[At]=!0,mt=!0)}mt&&this._finishRenderingInvalidLines(t,q.build(),Lt)}}}vi._ttPolicy=(0,et.Z)("editorViewLayer",{createHTML:Kt=>Kt}),vi._sb=new wt.HT(1e5);class Wi extends le{constructor(t){super(t),this._visibleLines=new ri(this),this.domNode=this._visibleLines.domNode;const N=this._context.configuration.options.get(50);(0,Ct.N)(this.domNode,N),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,l=this._dynamicOverlays.length;t<l;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,l=this._dynamicOverlays.length;t<l;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new $i(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const l=this._visibleLines.getStartLineNumber(),N=this._visibleLines.getEndLineNumber();for(let Ie=l;Ie<=N;Ie++)this._visibleLines.getVisibleLine(Ie).onConfigurationChanged(t);const oe=this._context.configuration.options.get(50);return(0,Ct.N)(this.domNode,oe),!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const l=this._dynamicOverlays.filter(N=>N.shouldRender());for(let N=0,q=l.length;N<q;N++){const oe=l[N];oe.prepareRender(t),oe.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}class $i{constructor(t,l){this._configuration=t,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=l,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,K.X)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(66)}renderLine(t,l,N,q){let oe="";for(let Ie=0,Ve=this._dynamicOverlays.length;Ie<Ve;Ie++){const ot=this._dynamicOverlays[Ie];oe+=ot.render(N.startLineNumber,t)}return this._renderedContent===oe?!1:(this._renderedContent=oe,q.appendString('<div style="position:absolute;top:'),q.appendString(String(l)),q.appendString("px;width:100%;height:"),q.appendString(String(this._lineHeight)),q.appendString('px;">'),q.appendString(oe),q.appendString("</div>"),!0)}layoutLine(t,l){this._domNode&&(this._domNode.setTop(l),this._domNode.setHeight(this._lineHeight))}}class Ot extends Wi{constructor(t){super(t);const N=this._context.configuration.options.get(143);this._contentWidth=N.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const N=this._context.configuration.options.get(143);return this._contentWidth=N.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}class yt extends Wi{constructor(t){super(t);const l=this._context.configuration.options,N=l.get(143);this._contentLeft=N.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Ct.N)(this.domNode,l.get(50))}onConfigurationChanged(t){const l=this._context.configuration.options;(0,Ct.N)(this.domNode,l.get(50));const N=l.get(143);return this._contentLeft=N.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const l=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(l),this.domNode.setWidth(this._contentLeft)}}class si extends le{constructor(t,l){super(t),this._viewDomNode=l,this._widgets={},this.domNode=(0,K.X)(document.createElement("div")),fe.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,K.X)(document.createElement("div")),fe.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const l=Object.keys(this._widgets);for(const N of l)this._widgets[N].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(t){return this._updateAnchorsViewPositions(),!0}onLinesInserted(t){return this._updateAnchorsViewPositions(),!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}_updateAnchorsViewPositions(){const t=Object.keys(this._widgets);for(const l of t)this._widgets[l].updateAnchorViewPosition()}addWidget(t){const l=new ii(this._context,this._viewDomNode,t);this._widgets[l.id]=l,l.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(l.domNode):this.domNode.appendChild(l.domNode),this.setShouldRender()}setWidgetPosition(t,l,N,q,oe){this._widgets[t.getId()].setPosition(l,N,q,oe),this.setShouldRender()}removeWidget(t){const l=t.getId();if(this._widgets.hasOwnProperty(l)){const N=this._widgets[l];delete this._widgets[l];const q=N.domNode.domNode;q.parentNode.removeChild(q),q.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1}onBeforeRender(t){const l=Object.keys(this._widgets);for(const N of l)this._widgets[N].onBeforeRender(t)}prepareRender(t){const l=Object.keys(this._widgets);for(const N of l)this._widgets[N].prepareRender(t)}render(t){const l=Object.keys(this._widgets);for(const N of l)this._widgets[N].render(t)}}class ii{constructor(t,l,N){this._primaryAnchor=new Ui(null,null),this._secondaryAnchor=new Ui(null,null),this._context=t,this._viewDomNode=l,this._actual=N,this.domNode=(0,K.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const q=this._context.configuration.options,oe=q.get(143);this._fixedOverflowWidgets=q.get(42),this._contentWidth=oe.contentWidth,this._contentLeft=oe.contentLeft,this._lineHeight=q.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const l=this._context.configuration.options;if(this._lineHeight=l.get(66),t.hasChanged(143)){const N=l.get(143);this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(t,l,N){this._affinity=t,this._primaryAnchor=q(l,this._context.viewModel,this._affinity),this._secondaryAnchor=q(N,this._context.viewModel,this._affinity);function q(oe,Ie,Ve){if(!oe)return new Ui(null,null);const ot=Ie.model.validatePosition(oe);if(Ie.coordinatesConverter.modelPositionIsVisible(ot)){const mt=Ie.coordinatesConverter.convertModelPositionToViewPosition(ot,Ve!=null?Ve:void 0);return new Ui(oe,mt)}return new Ui(oe,null)}}_getMaxWidth(){const t=this.domNode.domNode.ownerDocument,l=t.defaultView;return this.allowEditorOverflow?(l==null?void 0:l.innerWidth)||t.documentElement.offsetWidth||t.body.offsetWidth:this._contentWidth}setPosition(t,l,N,q){this._setPosition(q,t,l),this._preference=N,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,l,N,q){const oe=t.top,Ie=oe,Ve=t.top+t.height,ot=q.viewportHeight-Ve,mt=oe-N,Lt=Ie>=N,At=Ve,jt=ot>=N;let Jt=t.left;return Jt+l>q.scrollLeft+q.viewportWidth&&(Jt=q.scrollLeft+q.viewportWidth-l),Jt<q.scrollLeft&&(Jt=q.scrollLeft),{fitsAbove:Lt,aboveTop:mt,fitsBelow:jt,belowTop:At,left:Jt}}_layoutHorizontalSegmentInPage(t,l,N,q){var oe;const ot=Math.max(15,l.left-q),mt=Math.min(l.left+l.width+q,t.width-15),At=this._viewDomNode.domNode.ownerDocument.defaultView;let jt=l.left+N-((oe=At==null?void 0:At.scrollX)!==null&&oe!==void 0?oe:0);if(jt+q>mt){const Jt=jt-(mt-q);jt-=Jt,N-=Jt}if(jt<ot){const Jt=jt-ot;jt-=Jt,N-=Jt}return[N,jt]}_layoutBoxInPage(t,l,N,q){var oe,Ie;const Ve=t.top-N,ot=t.top+t.height,mt=I.i(this._viewDomNode.domNode),Lt=this._viewDomNode.domNode.ownerDocument,At=Lt.defaultView,jt=mt.top+Ve-((oe=At==null?void 0:At.scrollY)!==null&&oe!==void 0?oe:0),Jt=mt.top+ot-((Ie=At==null?void 0:At.scrollY)!==null&&Ie!==void 0?Ie:0),fi=I.D6(Lt.body),[wi,Ni]=this._layoutHorizontalSegmentInPage(fi,mt,t.left-q.scrollLeft+this._contentLeft,l),ki=22,Ji=22,rn=jt>=ki,En=Jt+N<=fi.height-Ji;return this._fixedOverflowWidgets?{fitsAbove:rn,aboveTop:Math.max(jt,ki),fitsBelow:En,belowTop:Jt,left:Ni}:{fitsAbove:rn,aboveTop:Ve,fitsBelow:En,belowTop:ot,left:wi}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new an(t.top,t.left+this._contentLeft)}_getAnchorsCoordinates(t){var l,N;const q=Ve(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),oe=((l=this._secondaryAnchor.viewPosition)===null||l===void 0?void 0:l.lineNumber)===((N=this._primaryAnchor.viewPosition)===null||N===void 0?void 0:N.lineNumber)?this._secondaryAnchor.viewPosition:null,Ie=Ve(oe,this._affinity,this._lineHeight);return{primary:q,secondary:Ie};function Ve(ot,mt,Lt){if(!ot)return null;const At=t.visibleRangeForPosition(ot);if(!At)return null;const jt=ot.column===1&&mt===3?0:At.left,Jt=t.getVerticalOffsetForLineNumber(ot.lineNumber)-t.scrollTop;return new en(Jt,jt,Lt)}}_reduceAnchorCoordinates(t,l,N){if(!l)return t;const q=this._context.configuration.options.get(50);let oe=l.left;return oe<t.left?oe=Math.max(oe,t.left-N+q.typicalFullwidthCharacterWidth):oe=Math.min(oe,t.left+N-q.typicalFullwidthCharacterWidth),new en(t.top,oe,t.height)}_prepareRenderWidget(t){if(!this._preference||this._preference.length===0)return null;const{primary:l,secondary:N}=this._getAnchorsCoordinates(t);if(!l)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Ie=null;if(typeof this._actual.beforeRender=="function"&&(Ie=In(this._actual.beforeRender,this._actual)),Ie)this._cachedDomNodeOffsetWidth=Ie.width,this._cachedDomNodeOffsetHeight=Ie.height;else{const ot=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(ot.width),this._cachedDomNodeOffsetHeight=Math.round(ot.height)}}const q=this._reduceAnchorCoordinates(l,N,this._cachedDomNodeOffsetWidth);let oe;this.allowEditorOverflow?oe=this._layoutBoxInPage(q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):oe=this._layoutBoxInViewport(q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let Ie=1;Ie<=2;Ie++)for(const Ve of this._preference)if(Ve===1){if(!oe)return null;if(Ie===2||oe.fitsAbove)return{coordinate:new an(oe.aboveTop,oe.left),position:1}}else if(Ve===2){if(!oe)return null;if(Ie===2||oe.fitsBelow)return{coordinate:new an(oe.belowTop,oe.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new an(q.top,q.left)),position:0}:{coordinate:new an(q.top,q.left),position:0};return null}onBeforeRender(t){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<t.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&In(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&In(this._actual.afterRender,this._actual,this._renderData.position)}}class Ui{constructor(t,l){this.modelPosition=t,this.viewPosition=l}}class an{constructor(t,l){this.top=t,this.left=l,this._coordinateBrand=void 0}}class en{constructor(t,l,N){this.top=t,this.left=l,this.height=N,this._anchorCoordinateBrand=void 0}}function In(Kt,t,...l){try{return Kt.call(t,...l)}catch(N){return null}}var Fn=e(92321);class On extends Bt{constructor(t){super(),this._context=t;const l=this._context.configuration.options,N=l.get(143);this._lineHeight=l.get(66),this._renderLineHighlight=l.get(95),this._renderLineHighlightOnlyWhenFocus=l.get(96),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new j.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const l=this._selections.map(q=>q.positionLineNumber);l.sort((q,oe)=>q-oe),u.fS(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,t=!0);const N=this._selections.every(q=>q.isEmpty());return this._selectionIsEmpty!==N&&(this._selectionIsEmpty=N,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(143);return this._lineHeight=l.get(66),this._renderLineHighlight=l.get(95),this._renderLineHighlightOnlyWhenFocus=l.get(96),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const l=this._renderOne(t),N=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber,oe=this._cursorLineNumbers.length;let Ie=0;const Ve=[];for(let ot=N;ot<=q;ot++){const mt=ot-N;for(;Ie<oe&&this._cursorLineNumbers[Ie]<ot;)Ie++;Ie<oe&&this._cursorLineNumbers[Ie]===ot?Ve[mt]=l:Ve[mt]=""}this._renderData=Ve}render(t,l){if(!this._renderData)return"";const N=l-t;return N>=this._renderData.length?"":this._renderData[N]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Mi extends On{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class _i extends On{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,kt.Ic)((Kt,t)=>{const l=Kt.getColor(Ge.Kh);if(l&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||Kt.defines(Ge.Mm)){const N=Kt.getColor(Ge.Mm);N&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${N}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${N}; }`),(0,Fn.c3)(Kt.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var Ii=e(7031);class Ht extends Bt{constructor(t){super(),this._context=t;const l=this._context.configuration.options;this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}prepareRender(t){const l=t.getDecorationsInViewport();let N=[],q=0;for(let ot=0,mt=l.length;ot<mt;ot++){const Lt=l[ot];Lt.options.className&&(N[q++]=Lt)}N=N.sort((ot,mt)=>{if(ot.options.zIndex<mt.options.zIndex)return-1;if(ot.options.zIndex>mt.options.zIndex)return 1;const Lt=ot.options.className,At=mt.options.className;return Lt<At?-1:Lt>At?1:W.e.compareRangesUsingStarts(ot.range,mt.range)});const oe=t.visibleRange.startLineNumber,Ie=t.visibleRange.endLineNumber,Ve=[];for(let ot=oe;ot<=Ie;ot++){const mt=ot-oe;Ve[mt]=""}this._renderWholeLineDecorations(t,N,Ve),this._renderNormalDecorations(t,N,Ve),this._renderResult=Ve}_renderWholeLineDecorations(t,l,N){const q=String(this._lineHeight),oe=t.visibleRange.startLineNumber,Ie=t.visibleRange.endLineNumber;for(let Ve=0,ot=l.length;Ve<ot;Ve++){const mt=l[Ve];if(!mt.options.isWholeLine)continue;const Lt='<div class="cdr '+mt.options.className+'" style="left:0;width:100%;height:'+q+'px;"></div>',At=Math.max(mt.range.startLineNumber,oe),jt=Math.min(mt.range.endLineNumber,Ie);for(let Jt=At;Jt<=jt;Jt++){const fi=Jt-oe;N[fi]+=Lt}}}_renderNormalDecorations(t,l,N){var q;const oe=String(this._lineHeight),Ie=t.visibleRange.startLineNumber;let Ve=null,ot=!1,mt=null,Lt=!1;for(let At=0,jt=l.length;At<jt;At++){const Jt=l[At];if(Jt.options.isWholeLine)continue;const fi=Jt.options.className,wi=!!Jt.options.showIfCollapsed;let Ni=Jt.range;if(wi&&Ni.endColumn===1&&Ni.endLineNumber!==Ni.startLineNumber&&(Ni=new W.e(Ni.startLineNumber,Ni.startColumn,Ni.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Ni.endLineNumber-1))),Ve===fi&&ot===wi&&W.e.areIntersectingOrTouching(mt,Ni)){mt=W.e.plusRange(mt,Ni);continue}Ve!==null&&this._renderNormalDecoration(t,mt,Ve,Lt,ot,oe,Ie,N),Ve=fi,ot=wi,mt=Ni,Lt=(q=Jt.options.shouldFillLineOnLineBreak)!==null&&q!==void 0?q:!1}Ve!==null&&this._renderNormalDecoration(t,mt,Ve,Lt,ot,oe,Ie,N)}_renderNormalDecoration(t,l,N,q,oe,Ie,Ve,ot){const mt=t.linesVisibleRangesForRange(l,N==="findMatch");if(mt)for(let Lt=0,At=mt.length;Lt<At;Lt++){const jt=mt[Lt];if(jt.outsideRenderedLine)continue;const Jt=jt.lineNumber-Ve;if(oe&&jt.ranges.length===1){const fi=jt.ranges[0];if(fi.width<this._typicalHalfwidthCharacterWidth){const wi=Math.round(fi.left+fi.width/2),Ni=Math.max(0,Math.round(wi-this._typicalHalfwidthCharacterWidth/2));jt.ranges[0]=new Ii.yu(Ni,this._typicalHalfwidthCharacterWidth)}}for(let fi=0,wi=jt.ranges.length;fi<wi;fi++){const Ni=q&&jt.continuesOnNextLine&&wi===1,ki=jt.ranges[fi],Ji='<div class="cdr '+N+'" style="left:'+String(ki.left)+(Ni?"px;width:100%;height:":"px;width:"+String(ki.width)+"px;height:")+Ie+'px;"></div>';ot[Jt]+=Ji}}}render(t,l){if(!this._renderResult)return"";const N=l-t;return N<0||N>=this._renderResult.length?"":this._renderResult[N]}}class Zt extends le{constructor(t,l,N,q){super(t);const oe=this._context.configuration.options,Ie=oe.get(102),Ve=oe.get(74),ot=oe.get(40),mt=oe.get(105),Lt={listenOnDomNode:N.domNode,className:"editor-scrollable "+(0,kt.m6)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:Ie.vertical,horizontal:Ie.horizontal,verticalHasArrows:Ie.verticalHasArrows,horizontalHasArrows:Ie.horizontalHasArrows,verticalScrollbarSize:Ie.verticalScrollbarSize,verticalSliderSize:Ie.verticalSliderSize,horizontalScrollbarSize:Ie.horizontalScrollbarSize,horizontalSliderSize:Ie.horizontalSliderSize,handleMouseWheel:Ie.handleMouseWheel,alwaysConsumeMouseWheel:Ie.alwaysConsumeMouseWheel,arrowSize:Ie.arrowSize,mouseWheelScrollSensitivity:Ve,fastScrollSensitivity:ot,scrollPredominantAxis:mt,scrollByPage:Ie.scrollByPage};this.scrollbar=this._register(new xe.$Z(l.domNode,Lt,this._context.viewLayout.getScrollable())),fe.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,K.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const At=(jt,Jt,fi)=>{const wi={};if(Jt){const Ni=jt.scrollTop;Ni&&(wi.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Ni,jt.scrollTop=0)}if(fi){const Ni=jt.scrollLeft;Ni&&(wi.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Ni,jt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(wi,1)};this._register(I.nm(N.domNode,"scroll",jt=>At(N.domNode,!0,!0))),this._register(I.nm(l.domNode,"scroll",jt=>At(l.domNode,!0,!1))),this._register(I.nm(q.domNode,"scroll",jt=>At(q.domNode,!0,!1))),this._register(I.nm(this.scrollbarDomNode.domNode,"scroll",jt=>At(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const t=this._context.configuration.options,l=t.get(143);this.scrollbarDomNode.setLeft(l.contentLeft),t.get(72).side==="right"?this.scrollbarDomNode.setWidth(l.contentWidth+l.minimap.minimapWidth):this.scrollbarDomNode.setWidth(l.contentWidth),this.scrollbarDomNode.setHeight(l.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(t){this.scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this.scrollbar.delegateScrollFromMouseWheelEvent(t)}onConfigurationChanged(t){if(t.hasChanged(102)||t.hasChanged(74)||t.hasChanged(40)){const l=this._context.configuration.options,N=l.get(102),q=l.get(74),oe=l.get(40),Ie=l.get(105),Ve={vertical:N.vertical,horizontal:N.horizontal,verticalScrollbarSize:N.verticalScrollbarSize,horizontalScrollbarSize:N.horizontalScrollbarSize,scrollByPage:N.scrollByPage,handleMouseWheel:N.handleMouseWheel,mouseWheelScrollSensitivity:q,fastScrollSensitivity:oe,scrollPredominantAxis:Ie};this.scrollbar.updateOptions(Ve)}return t.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(t){return!0}onThemeChanged(t){return this.scrollbar.updateClassName("editor-scrollable "+(0,kt.m6)(this._context.theme.type)),!0}prepareRender(t){}render(t){this.scrollbar.renderNow()}}var hi=e(98401),Wt=e(1516),qe=e(65094);class ee extends Bt{constructor(t){super(),this._context=t,this._primaryPosition=null;const l=this._context.configuration.options,N=l.get(144),q=l.get(50);this._lineHeight=l.get(66),this._spaceWidth=q.spaceWidth,this._maxIndentLeft=N.wrappingColumn===-1?-1:N.wrappingColumn*q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(144),q=l.get(50);return this._lineHeight=l.get(66),this._spaceWidth=q.spaceWidth,this._maxIndentLeft=N.wrappingColumn===-1?-1:N.wrappingColumn*q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(16),!0}onCursorStateChanged(t){var l;const q=t.selections[0].getPosition();return!((l=this._primaryPosition)===null||l===void 0)&&l.equals(q)?!1:(this._primaryPosition=q,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var l,N,q,oe;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Ie=t.visibleRange.startLineNumber,Ve=t.visibleRange.endLineNumber,ot=t.scrollWidth,mt=this._lineHeight,Lt=this._primaryPosition,At=this.getGuidesByLine(Ie,Math.min(Ve+1,this._context.viewModel.getLineCount()),Lt),jt=[];for(let Jt=Ie;Jt<=Ve;Jt++){const fi=Jt-Ie,wi=At[fi];let Ni="";const ki=(N=(l=t.visibleRangeForPosition(new pe.L(Jt,1)))===null||l===void 0?void 0:l.left)!==null&&N!==void 0?N:0;for(const Ji of wi){const rn=Ji.column===-1?ki+(Ji.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new pe.L(Jt,Ji.column)).left;if(rn>ot||this._maxIndentLeft>0&&rn>this._maxIndentLeft)break;const En=Ji.horizontalLine?Ji.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",_n=Ji.horizontalLine?((oe=(q=t.visibleRangeForPosition(new pe.L(Jt,Ji.horizontalLine.endColumn)))===null||q===void 0?void 0:q.left)!==null&&oe!==void 0?oe:rn+this._spaceWidth)-rn:this._spaceWidth;Ni+=`<div class="core-guide ${Ji.className} ${En}" style="left:${rn}px;height:${mt}px;width:${_n}px"></div>`}jt[fi]=Ni}this._renderResult=jt}getGuidesByLine(t,l,N){const q=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,l,N,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?qe.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?qe.s6.EnabledForActive:qe.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,oe=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,l):null;let Ie=0,Ve=0,ot=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&N){const At=this._context.viewModel.getActiveIndentGuide(N.lineNumber,t,l);Ie=At.startLineNumber,Ve=At.endLineNumber,ot=At.indent}const{indentSize:mt}=this._context.viewModel.model.getOptions(),Lt=[];for(let At=t;At<=l;At++){const jt=new Array;Lt.push(jt);const Jt=q?q[At-t]:[],fi=new u.H9(Jt),wi=oe?oe[At-t]:0;for(let Ni=1;Ni<=wi;Ni++){const ki=(Ni-1)*mt+1,Ji=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Jt.length===0)&&Ie<=At&&At<=Ve&&Ni===ot;jt.push(...fi.takeWhile(En=>En.visibleColumn<ki)||[]);const rn=fi.peek();(!rn||rn.visibleColumn!==ki||rn.horizontalLine)&&jt.push(new qe.UO(ki,-1,`core-guide-indent lvl-${(Ni-1)%30}`+(Ji?" indent-active":""),null,-1,-1))}jt.push(...fi.takeWhile(Ni=>!0)||[])}return Lt}render(t,l){if(!this._renderResult)return"";const N=l-t;return N<0||N>=this._renderResult.length?"":this._renderResult[N]}}function de(Kt){if(!(Kt&&Kt.isTransparent()))return Kt}(0,kt.Ic)((Kt,t)=>{const l=[{bracketColor:Ge.zJ,guideColor:Ge.oV,guideColorActive:Ge.Qb},{bracketColor:Ge.Vs,guideColor:Ge.m$,guideColorActive:Ge.m3},{bracketColor:Ge.CE,guideColor:Ge.DS,guideColorActive:Ge.To},{bracketColor:Ge.UP,guideColor:Ge.lS,guideColorActive:Ge.L7},{bracketColor:Ge.r0,guideColor:Ge.Jn,guideColorActive:Ge.HV},{bracketColor:Ge.m1,guideColor:Ge.YF,guideColorActive:Ge.f9}],N=new Wt.W,q=[{indentColor:Ge.gS,indentColorActive:Ge.qe},{indentColor:Ge.Tf,indentColorActive:Ge.Xy},{indentColor:Ge.H_,indentColorActive:Ge.cK},{indentColor:Ge.h1,indentColorActive:Ge.N8},{indentColor:Ge.vP,indentColorActive:Ge.zd},{indentColor:Ge.e9,indentColorActive:Ge.ll}],oe=l.map(Ve=>{var ot,mt;const Lt=Kt.getColor(Ve.bracketColor),At=Kt.getColor(Ve.guideColor),jt=Kt.getColor(Ve.guideColorActive),Jt=de((ot=de(At))!==null&&ot!==void 0?ot:Lt==null?void 0:Lt.transparent(.3)),fi=de((mt=de(jt))!==null&&mt!==void 0?mt:Lt);if(!(!Jt||!fi))return{guideColor:Jt,guideColorActive:fi}}).filter(hi.$K),Ie=q.map(Ve=>{const ot=Kt.getColor(Ve.indentColor),mt=Kt.getColor(Ve.indentColorActive),Lt=de(ot),At=de(mt);if(!(!Lt||!At))return{indentColor:Lt,indentColorActive:At}}).filter(hi.$K);if(oe.length>0){for(let Ve=0;Ve<30;Ve++){const ot=oe[Ve%oe.length];t.addRule(`.monaco-editor .${N.getInlineClassNameOfLevel(Ve).replace(/ /g,".")} { --guide-color: ${ot.guideColor}; --guide-color-active: ${ot.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${N.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${N.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${N.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(Ie.length>0){for(let Ve=0;Ve<30;Ve++){const ot=Ie[Ve%Ie.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${Ve} { --indent-color: ${ot.indentColor}; --indent-color-active: ${ot.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var re=e(15393);class Ce{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const t=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(t,l){this._domNode=t,this.endNode=l,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class we{constructor(){this._currentVisibleRange=new W.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class be{constructor(t,l,N,q,oe,Ie,Ve){this.minimalReveal=t,this.lineNumber=l,this.startColumn=N,this.endColumn=q,this.startScrollTop=oe,this.stopScrollTop=Ie,this.scrollType=Ve,this.type="range",this.minLineNumber=l,this.maxLineNumber=l}}class ke{constructor(t,l,N,q,oe){this.minimalReveal=t,this.selections=l,this.startScrollTop=N,this.stopScrollTop=q,this.scrollType=oe,this.type="selections";let Ie=l[0].startLineNumber,Ve=l[0].endLineNumber;for(let ot=1,mt=l.length;ot<mt;ot++){const Lt=l[ot];Ie=Math.min(Ie,Lt.startLineNumber),Ve=Math.max(Ve,Lt.endLineNumber)}this.minLineNumber=Ie,this.maxLineNumber=Ve}}class He extends le{constructor(t,l){super(t),this._linesContent=l,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ri(this),this.domNode=this._visibleLines.domNode;const N=this._context.configuration,q=this._context.configuration.options,oe=q.get(50),Ie=q.get(144);this._lineHeight=q.get(66),this._typicalHalfwidthCharacterWidth=oe.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Ie.isViewportWrapping,this._revealHorizontalRightPadding=q.get(99),this._cursorSurroundingLines=q.get(29),this._cursorSurroundingLinesStyle=q.get(30),this._canUseLayerHinting=!q.get(32),this._viewLineOptions=new Le.ob(N,this._context.theme.type),fe.write(this.domNode,7),this.domNode.setClassName(`view-lines ${xi}`),(0,Ct.N)(this.domNode,oe),this._maxLineWidth=0,this._asyncUpdateLineWidths=new re.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new re.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new we,this._horizontalRevealRequest=null,this._stickyScrollEnabled=q.get(114).enabled,this._maxNumberStickyLines=q.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Le.Nt(this._viewLineOptions)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(144)&&(this._maxLineWidth=0);const l=this._context.configuration.options,N=l.get(50),q=l.get(144);return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=N.typicalHalfwidthCharacterWidth,this._isViewportWrapping=q.isViewportWrapping,this._revealHorizontalRightPadding=l.get(99),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._stickyScrollEnabled=l.get(114).enabled,this._maxNumberStickyLines=l.get(114).maxLineCount,(0,Ct.N)(this.domNode,N),this._onOptionsMaybeChanged(),t.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const t=this._context.configuration,l=new Le.ob(t,this._context.theme.type);if(!this._viewLineOptions.equals(l)){this._viewLineOptions=l;const N=this._visibleLines.getStartLineNumber(),q=this._visibleLines.getEndLineNumber();for(let oe=N;oe<=q;oe++)this._visibleLines.getVisibleLine(oe).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(t){const l=this._visibleLines.getStartLineNumber(),N=this._visibleLines.getEndLineNumber();let q=!1;for(let oe=l;oe<=N;oe++)q=this._visibleLines.getVisibleLine(oe).onSelectionChanged()||q;return q}onDecorationsChanged(t){{const l=this._visibleLines.getStartLineNumber(),N=this._visibleLines.getEndLineNumber();for(let q=l;q<=N;q++)this._visibleLines.getVisibleLine(q).onDecorationsChanged()}return!0}onFlushed(t){const l=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,l}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onRevealRangeRequest(t){const l=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.minimalReveal,t.range,t.selections,t.verticalType);if(l===-1)return!1;let N=this._context.viewLayout.validateScrollPosition({scrollTop:l});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?N={scrollTop:N.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new be(t.minimalReveal,t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),N.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new ke(t.minimalReveal,t.selections,this._context.viewLayout.getCurrentScrollTop(),N.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;const oe=Math.abs(this._context.viewLayout.getCurrentScrollTop()-N.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(N,oe),!0}onScrollChanged(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){const l=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),N=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<l||t.scrollTop>N)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)}onThemeChanged(t){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(t,l){const N=this._getViewLineDomNode(t);if(N===null)return null;const q=this._getLineNumberFor(N);if(q===-1||q<1||q>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(q)===1)return new pe.L(q,1);const oe=this._visibleLines.getStartLineNumber(),Ie=this._visibleLines.getEndLineNumber();if(q<oe||q>Ie)return null;let Ve=this._visibleLines.getVisibleLine(q).getColumnOfNodeOffset(t,l);const ot=this._context.viewModel.getLineMinColumn(q);return Ve<ot&&(Ve=ot),new pe.L(q,Ve)}_getViewLineDomNode(t){for(;t&&t.nodeType===1;){if(t.className===Le.Nt.CLASS_NAME)return t;t=t.parentElement}return null}_getLineNumberFor(t){const l=this._visibleLines.getStartLineNumber(),N=this._visibleLines.getEndLineNumber();for(let q=l;q<=N;q++){const oe=this._visibleLines.getVisibleLine(q);if(t===oe.getDomNode())return q}return-1}getLineWidth(t){const l=this._visibleLines.getStartLineNumber(),N=this._visibleLines.getEndLineNumber();if(t<l||t>N)return-1;const q=new Ce(this.domNode.domNode,this._textRangeRestingSpot),oe=this._visibleLines.getVisibleLine(t).getWidth(q);return this._updateLineWidthsSlowIfDomDidLayout(q),oe}linesVisibleRangesForRange(t,l){if(this.shouldRender())return null;const N=t.endLineNumber,q=W.e.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!q)return null;const oe=[];let Ie=0;const Ve=new Ce(this.domNode.domNode,this._textRangeRestingSpot);let ot=0;l&&(ot=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(q.startLineNumber,1)).lineNumber);const mt=this._visibleLines.getStartLineNumber(),Lt=this._visibleLines.getEndLineNumber();for(let At=q.startLineNumber;At<=q.endLineNumber;At++){if(At<mt||At>Lt)continue;const jt=At===q.startLineNumber?q.startColumn:1,Jt=At!==q.endLineNumber,fi=Jt?this._context.viewModel.getLineMaxColumn(At):q.endColumn,wi=this._visibleLines.getVisibleLine(At).getVisibleRangesForRange(At,jt,fi,Ve);if(wi){if(l&&At<N){const Ni=ot;ot=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(At+1,1)).lineNumber,Ni!==ot&&(wi.ranges[wi.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}oe[Ie++]=new Ii.u7(wi.outsideRenderedLine,At,Ii.yu.from(wi.ranges),Jt)}}return this._updateLineWidthsSlowIfDomDidLayout(Ve),Ie===0?null:oe}_visibleRangesForLineRange(t,l,N){if(this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber())return null;const q=new Ce(this.domNode.domNode,this._textRangeRestingSpot),oe=this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(t,l,N,q);return this._updateLineWidthsSlowIfDomDidLayout(q),oe}visibleRangeForPosition(t){const l=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return l?new Ii.D4(l.outsideRenderedLine,l.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(t){t.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(t){const l=this._visibleLines.getStartLineNumber(),N=this._visibleLines.getEndLineNumber();let q=1,oe=!0;for(let Ie=l;Ie<=N;Ie++){const Ve=this._visibleLines.getVisibleLine(Ie);if(t&&!Ve.getWidthIsFast()){oe=!1;continue}q=Math.max(q,Ve.getWidth(null))}return oe&&l===1&&N===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(q),oe}_checkMonospaceFontAssumptions(){let t=-1,l=-1;const N=this._visibleLines.getStartLineNumber(),q=this._visibleLines.getEndLineNumber();for(let oe=N;oe<=q;oe++){const Ie=this._visibleLines.getVisibleLine(oe);if(Ie.needsMonospaceFontCheck()){const Ve=Ie.getWidth(null);Ve>l&&(l=Ve,t=oe)}}if(t!==-1&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(let oe=N;oe<=q;oe++)this._visibleLines.getVisibleLine(oe).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const N=this._horizontalRevealRequest;if(t.startLineNumber<=N.minLineNumber&&N.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const q=this._computeScrollLeftToReveal(N);q&&(this._isViewportWrapping||this._ensureMaxLineWidth(q.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:q.scrollLeft},N.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),n.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const N=this._visibleLines.getStartLineNumber(),q=this._visibleLines.getEndLineNumber();for(let oe=N;oe<=q;oe++)if(this._visibleLines.getVisibleLine(oe).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const l=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(t){const l=Math.ceil(t);this._maxLineWidth<l&&(this._maxLineWidth=l,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(t,l,N,q,oe,Ie){const Ve=t.top,ot=t.height,mt=Ve+ot;let Lt,At,jt;if(oe&&oe.length>0){let ki=oe[0].startLineNumber,Ji=oe[0].endLineNumber;for(let rn=1,En=oe.length;rn<En;rn++){const _n=oe[rn];ki=Math.min(ki,_n.startLineNumber),Ji=Math.max(Ji,_n.endLineNumber)}Lt=!1,At=this._context.viewLayout.getVerticalOffsetForLineNumber(ki),jt=this._context.viewLayout.getVerticalOffsetForLineNumber(Ji)+this._lineHeight}else if(q)Lt=!0,At=this._context.viewLayout.getVerticalOffsetForLineNumber(q.startLineNumber),jt=this._context.viewLayout.getVerticalOffsetForLineNumber(q.endLineNumber)+this._lineHeight;else return-1;const Jt=(l==="mouse"||N)&&this._cursorSurroundingLinesStyle==="default";let fi=0,wi=0;if(Jt)N||(fi=this._lineHeight);else{const ki=Math.min(ot/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?fi=Math.max(ki,this._maxNumberStickyLines)*this._lineHeight:fi=ki*this._lineHeight,wi=Math.max(0,ki-1)*this._lineHeight}N||(Ie===0||Ie===4)&&(wi+=this._lineHeight),At-=fi,jt+=wi;let Ni;if(jt-At>ot){if(!Lt)return-1;Ni=At}else if(Ie===5||Ie===6)if(Ie===6&&Ve<=At&&jt<=mt)Ni=Ve;else{const ki=Math.max(5*this._lineHeight,ot*.2),Ji=At-ki,rn=jt-ot;Ni=Math.max(rn,Ji)}else if(Ie===1||Ie===2)if(Ie===2&&Ve<=At&&jt<=mt)Ni=Ve;else{const ki=(At+jt)/2;Ni=Math.max(0,ki-ot/2)}else Ni=this._computeMinimumScrolling(Ve,mt,At,jt,Ie===3,Ie===4);return Ni}_computeScrollLeftToReveal(t){const l=this._context.viewLayout.getCurrentViewport(),N=this._context.configuration.options.get(143),q=l.left,oe=q+l.width-N.verticalScrollbarWidth;let Ie=1073741824,Ve=0;if(t.type==="range"){const mt=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!mt)return null;for(const Lt of mt.ranges)Ie=Math.min(Ie,Math.round(Lt.left)),Ve=Math.max(Ve,Math.round(Lt.left+Lt.width))}else for(const mt of t.selections){if(mt.startLineNumber!==mt.endLineNumber)return null;const Lt=this._visibleRangesForLineRange(mt.startLineNumber,mt.startColumn,mt.endColumn);if(!Lt)return null;for(const At of Lt.ranges)Ie=Math.min(Ie,Math.round(At.left)),Ve=Math.max(Ve,Math.round(At.left+At.width))}return t.minimalReveal||(Ie=Math.max(0,Ie-He.HORIZONTAL_EXTRA_PX),Ve+=this._revealHorizontalRightPadding),t.type==="selections"&&Ve-Ie>l.width?null:{scrollLeft:this._computeMinimumScrolling(q,oe,Ie,Ve),maxHorizontalOffset:Ve}}_computeMinimumScrolling(t,l,N,q,oe,Ie){t=t|0,l=l|0,N=N|0,q=q|0,oe=!!oe,Ie=!!Ie;const Ve=l-t;if(q-N<Ve){if(oe)return N;if(Ie)return Math.max(0,q-Ve);if(N<t)return N;if(q>l)return Math.max(0,q-Ve)}else return N;return t}}He.HORIZONTAL_EXTRA_PX=30;class Ye{constructor(t,l,N,q){this._decorationToRenderBrand=void 0,this.startLineNumber=+t,this.endLineNumber=+l,this.className=String(N),this.zIndex=q!=null?q:0}}class ut{constructor(t,l){this.className=t,this.zIndex=l}}class $t{constructor(){this.decorations=[]}add(t){this.decorations.push(t)}getDecorations(){return this.decorations}}class gi extends Bt{_render(t,l,N){const q=[];for(let Ve=t;Ve<=l;Ve++){const ot=Ve-t;q[ot]=new $t}if(N.length===0)return q;N.sort((Ve,ot)=>Ve.className===ot.className?Ve.startLineNumber===ot.startLineNumber?Ve.endLineNumber-ot.endLineNumber:Ve.startLineNumber-ot.startLineNumber:Ve.className<ot.className?-1:1);let oe=null,Ie=0;for(let Ve=0,ot=N.length;Ve<ot;Ve++){const mt=N[Ve],Lt=mt.className,At=mt.zIndex;let jt=Math.max(mt.startLineNumber,t)-t;const Jt=Math.min(mt.endLineNumber,l)-t;oe===Lt?(jt=Math.max(Ie+1,jt),Ie=Math.max(Ie,Jt)):(oe=Lt,Ie=Jt);for(let fi=jt;fi<=Ie;fi++)q[fi].add(new ut(Lt,At))}return q}}class ci extends le{constructor(t){super(t),this._widgets={},this._context=t;const l=this._context.configuration.options,N=l.get(143);this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=l.get(66),this._glyphMargin=l.get(57),this._glyphMarginLeft=N.glyphMarginLeft,this._glyphMarginWidth=N.glyphMarginWidth,this._glyphMarginDecorationLaneCount=N.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(143);return this._lineHeight=l.get(66),this._glyphMargin=l.get(57),this._glyphMarginLeft=N.glyphMarginLeft,this._glyphMarginWidth=N.glyphMarginWidth,this._glyphMarginDecorationLaneCount=N.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}addWidget(t){const l=(0,K.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:t.getPosition(),domNode:l,renderInfo:null},l.setPosition("absolute"),l.setDisplay("none"),l.setAttribute("widgetId",t.getId()),this.domNode.appendChild(l),this.setShouldRender()}setWidgetPosition(t,l){const N=this._widgets[t.getId()];return N.preference.lane===l.lane&&N.preference.zIndex===l.zIndex&&W.e.equalsRange(N.preference.range,l.range)?!1:(N.preference=l,this.setShouldRender(),!0)}removeWidget(t){var l;const N=t.getId();if(this._widgets[N]){const oe=this._widgets[N].domNode.domNode;delete this._widgets[N],(l=oe.parentNode)===null||l===void 0||l.removeChild(oe),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(t,l){var N,q,oe;const Ie=t.visibleRange.startLineNumber,Ve=t.visibleRange.endLineNumber,ot=t.getDecorationsInViewport();for(const mt of ot){const Lt=mt.options.glyphMarginClassName;if(!Lt)continue;const At=Math.max(mt.range.startLineNumber,Ie),jt=Math.min(mt.range.endLineNumber,Ve),Jt=Math.min((q=(N=mt.options.glyphMargin)===null||N===void 0?void 0:N.position)!==null&&q!==void 0?q:1,this._glyphMarginDecorationLaneCount),fi=(oe=mt.options.zIndex)!==null&&oe!==void 0?oe:0;for(let wi=At;wi<=jt;wi++)l.push(new ai(wi,Jt,fi,Lt))}}_collectWidgetBasedGlyphRenderRequest(t,l){const N=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber;for(const oe of Object.values(this._widgets)){const Ie=oe.preference.range,{startLineNumber:Ve,endLineNumber:ot}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(W.e.lift(Ie));if(!Ve||!ot||ot<N||Ve>q)continue;const mt=Math.max(Ve,N),Lt=Math.min(oe.preference.lane,this._glyphMarginDecorationLaneCount);l.push(new ct(mt,Lt,oe.preference.zIndex,oe))}}_collectSortedGlyphRenderRequests(t){const l=[];return this._collectDecorationBasedGlyphRenderRequest(t,l),this._collectWidgetBasedGlyphRenderRequest(t,l),l.sort((N,q)=>N.lineNumber===q.lineNumber?N.lane===q.lane?N.zIndex===q.zIndex?q.type===N.type?N.type===0&&q.type===0?N.className<q.className?-1:1:0:q.type-N.type:q.zIndex-N.zIndex:N.lane-q.lane:N.lineNumber-q.lineNumber),l}prepareRender(t){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const q of Object.values(this._widgets))q.renderInfo=null;const l=new u.H9(this._collectSortedGlyphRenderRequests(t)),N=[];for(;l.length>0;){const q=l.peek();if(!q)break;const oe=l.takeWhile(Ve=>Ve.lineNumber===q.lineNumber&&Ve.lane===q.lane);if(!oe||oe.length===0)break;const Ie=oe[0];if(Ie.type===0){const Ve=[];for(const ot of oe){if(ot.zIndex!==Ie.zIndex||ot.type!==Ie.type)break;(Ve.length===0||Ve[Ve.length-1]!==ot.className)&&Ve.push(ot.className)}N.push(Ie.accept(Ve.join(" ")))}else Ie.widget.renderInfo={lineNumber:Ie.lineNumber,lane:Ie.lane}}this._decorationGlyphsToRender=N}render(t){if(!this._glyphMargin){for(const N of Object.values(this._widgets))N.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const N=this._managedDomNodes.pop();N==null||N.domNode.remove()}return}const l=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const N of Object.values(this._widgets))if(!N.renderInfo)N.domNode.setDisplay("none");else{const q=t.viewportData.relativeVerticalOffset[N.renderInfo.lineNumber-t.viewportData.startLineNumber],oe=this._glyphMarginLeft+(N.renderInfo.lane-1)*this._lineHeight;N.domNode.setDisplay("block"),N.domNode.setTop(q),N.domNode.setLeft(oe),N.domNode.setWidth(l),N.domNode.setHeight(this._lineHeight)}for(let N=0;N<this._decorationGlyphsToRender.length;N++){const q=this._decorationGlyphsToRender[N],oe=t.viewportData.relativeVerticalOffset[q.lineNumber-t.viewportData.startLineNumber],Ie=this._glyphMarginLeft+(q.lane-1)*this._lineHeight;let Ve;N<this._managedDomNodes.length?Ve=this._managedDomNodes[N]:(Ve=(0,K.X)(document.createElement("div")),this._managedDomNodes.push(Ve),this.domNode.appendChild(Ve)),Ve.setClassName("cgmr codicon "+q.combinedClassName),Ve.setPosition("absolute"),Ve.setTop(oe),Ve.setLeft(Ie),Ve.setWidth(l),Ve.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const N=this._managedDomNodes.pop();N==null||N.domNode.remove()}}}class ai{constructor(t,l,N,q){this.lineNumber=t,this.lane=l,this.zIndex=N,this.className=q,this.type=0}accept(t){return new Nt(this.lineNumber,this.lane,t)}}class ct{constructor(t,l,N,q){this.lineNumber=t,this.lane=l,this.zIndex=N,this.widget=q,this.type=1}}class Nt{constructor(t,l,N){this.lineNumber=t,this.lane=l,this.combinedClassName=N}}class Et extends gi{constructor(t){super(),this._context=t;const N=this._context.configuration.options.get(143);this._decorationsLeft=N.decorationsLeft,this._decorationsWidth=N.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const N=this._context.configuration.options.get(143);return this._decorationsLeft=N.decorationsLeft,this._decorationsWidth=N.decorationsWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const l=t.getDecorationsInViewport(),N=[];let q=0;for(let oe=0,Ie=l.length;oe<Ie;oe++){const Ve=l[oe],ot=Ve.options.linesDecorationsClassName,mt=Ve.options.zIndex;ot&&(N[q++]=new Ye(Ve.range.startLineNumber,Ve.range.endLineNumber,ot,mt));const Lt=Ve.options.firstLineDecorationClassName;Lt&&(N[q++]=new Ye(Ve.range.startLineNumber,Ve.range.startLineNumber,Lt,mt))}return N}prepareRender(t){const l=t.visibleRange.startLineNumber,N=t.visibleRange.endLineNumber,q=this._render(l,N,this._getDecorations(t)),oe=this._decorationsLeft.toString(),Ie=this._decorationsWidth.toString(),Ve='" style="left:'+oe+"px;width:"+Ie+'px;"></div>',ot=[];for(let mt=l;mt<=N;mt++){const Lt=mt-l,At=q[Lt].getDecorations();let jt="";for(const Jt of At)jt+='<div class="cldr '+Jt.className+Ve;ot[Lt]=jt}this._renderResult=ot}render(t,l){return this._renderResult?this._renderResult[l-t]:""}}class It extends gi{constructor(t){super(),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const l=t.getDecorationsInViewport(),N=[];let q=0;for(let oe=0,Ie=l.length;oe<Ie;oe++){const Ve=l[oe],ot=Ve.options.marginClassName,mt=Ve.options.zIndex;ot&&(N[q++]=new Ye(Ve.range.startLineNumber,Ve.range.endLineNumber,ot,mt))}return N}prepareRender(t){const l=t.visibleRange.startLineNumber,N=t.visibleRange.endLineNumber,q=this._render(l,N,this._getDecorations(t)),oe=[];for(let Ie=l;Ie<=N;Ie++){const Ve=Ie-l,ot=q[Ve].getDecorations();let mt="";for(const Lt of ot)mt+='<div class="cmdr '+Lt.className+'" style=""></div>';oe[Ve]=mt}this._renderResult=oe}render(t,l){return this._renderResult?this._renderResult[l-t]:""}}var Gt=e(93911);class zt{constructor(t,l,N,q){this._rgba8Brand=void 0,this.r=zt._clamp(t),this.g=zt._clamp(l),this.b=zt._clamp(N),this.a=zt._clamp(q)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static _clamp(t){return t<0?0:t>255?255:t|0}}zt.Empty=new zt(0,0,0,0);class mi extends p.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,p.dk)(new mi)),this._INSTANCE}constructor(){super(),this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Yi.RW.onDidChange(t=>{t.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const t=Yi.RW.getColorMap();if(!t){this._colors=[zt.Empty],this._backgroundIsLight=!0;return}this._colors=[zt.Empty];for(let N=1;N<t.length;N++){const q=t[N].rgba;this._colors[N]=new zt(q.r,q.g,q.b,Math.round(q.a*255))}const l=t[2].getRelativeLuminance();this._backgroundIsLight=l>=.5,this._onDidChange.fire(void 0)}getColor(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]}backgroundIsLight(){return this._backgroundIsLight}}mi._INSTANCE=null;var ui=e(1118),Ti=e(73910);const Ri=(()=>{const Kt=[];for(let t=32;t<=126;t++)Kt.push(t);return Kt.push(65533),Kt})(),tn=(Kt,t)=>(Kt-=32,Kt<0||Kt>96?t<=2?(Kt+96)%96:96-1:Kt);var gn=e(85427);class wn{constructor(t,l){this.scale=l,this._minimapCharRendererBrand=void 0,this.charDataNormal=wn.soften(t,12/15),this.charDataLight=wn.soften(t,50/60)}static soften(t,l){const N=new Uint8ClampedArray(t.length);for(let q=0,oe=t.length;q<oe;q++)N[q]=(0,gn.K)(t[q]*l);return N}renderChar(t,l,N,q,oe,Ie,Ve,ot,mt,Lt,At){const jt=1*this.scale,Jt=2*this.scale,fi=At?1:Jt;if(l+jt>t.width||N+fi>t.height){console.warn("bad render request outside image data");return}const wi=Lt?this.charDataLight:this.charDataNormal,Ni=tn(q,mt),ki=t.width*4,Ji=Ve.r,rn=Ve.g,En=Ve.b,_n=oe.r-Ji,zn=oe.g-rn,Wn=oe.b-En,Kn=Math.max(Ie,ot),Sn=t.data;let $n=Ni*jt*Jt,as=N*ki+l*4;for(let Yn=0;Yn<fi;Yn++){let ls=as;for(let Rs=0;Rs<jt;Rs++){const Ls=wi[$n++]/255*(Ie/255);Sn[ls++]=Ji+_n*Ls,Sn[ls++]=rn+zn*Ls,Sn[ls++]=En+Wn*Ls,Sn[ls++]=Kn}as+=ki}}blockRenderChar(t,l,N,q,oe,Ie,Ve,ot){const mt=1*this.scale,Lt=2*this.scale,At=ot?1:Lt;if(l+mt>t.width||N+At>t.height){console.warn("bad render request outside image data");return}const jt=t.width*4,Jt=.5*(oe/255),fi=Ie.r,wi=Ie.g,Ni=Ie.b,ki=q.r-fi,Ji=q.g-wi,rn=q.b-Ni,En=fi+ki*Jt,_n=wi+Ji*Jt,zn=Ni+rn*Jt,Wn=Math.max(oe,Ve),Kn=t.data;let Sn=N*jt+l*4;for(let $n=0;$n<At;$n++){let as=Sn;for(let Yn=0;Yn<mt;Yn++)Kn[as++]=En,Kn[as++]=_n,Kn[as++]=zn,Kn[as++]=Wn;Sn+=jt}}}var An=e(88289);const Bn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Tn=Kt=>{const t=new Uint8ClampedArray(Kt.length/2);for(let l=0;l<Kt.length;l+=2)t[l>>1]=Bn[Kt[l]]<<4|Bn[Kt[l+1]]&15;return t},es={1:(0,An.M)(()=>Tn("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,An.M)(()=>Tn("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Un{static create(t,l){if(this.lastCreated&&t===this.lastCreated.scale&&l===this.lastFontFamily)return this.lastCreated;let N;return es[t]?N=new wn(es[t](),t):N=Un.createFromSampleData(Un.createSampleData(l).data,t),this.lastFontFamily=l,this.lastCreated=N,N}static createSampleData(t){const l=document.createElement("canvas"),N=l.getContext("2d");l.style.height="16px",l.height=16,l.width=96*10,l.style.width=96*10+"px",N.fillStyle="#ffffff",N.font=`bold 16px ${t}`,N.textBaseline="middle";let q=0;for(const oe of Ri)N.fillText(String.fromCharCode(oe),q,16/2),q+=10;return N.getImageData(0,0,96*10,16)}static createFromSampleData(t,l){if(t.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const q=Un._downsample(t,l);return new wn(q,l)}static _downsampleChar(t,l,N,q,oe){const Ie=1*oe,Ve=2*oe;let ot=q,mt=0;for(let Lt=0;Lt<Ve;Lt++){const At=Lt/Ve*16,jt=(Lt+1)/Ve*16;for(let Jt=0;Jt<Ie;Jt++){const fi=Jt/Ie*10,wi=(Jt+1)/Ie*10;let Ni=0,ki=0;for(let rn=At;rn<jt;rn++){const En=l+Math.floor(rn)*3840,_n=1-(rn-Math.floor(rn));for(let zn=fi;zn<wi;zn++){const Wn=1-(zn-Math.floor(zn)),Kn=En+Math.floor(zn)*4,Sn=Wn*_n;ki+=Sn,Ni+=t[Kn]*t[Kn+3]/255*Sn}}const Ji=Ni/ki;mt=Math.max(mt,Ji),N[ot++]=(0,gn.K)(Ji)}}return mt}static _downsample(t,l){const N=2*l*1*l,q=N*96,oe=new Uint8ClampedArray(q);let Ie=0,Ve=0,ot=0;for(let mt=0;mt<96;mt++)ot=Math.max(ot,this._downsampleChar(t,Ve,oe,Ie,l)),Ie+=N,Ve+=10*4;if(ot>0){const mt=255/ot;for(let Lt=0;Lt<q;Lt++)oe[Lt]*=mt}return oe}}var yn=e(84973);const ss=140,os=2;class pi{constructor(t,l,N){const q=t.options,oe=q.get(141),Ie=q.get(143),Ve=Ie.minimap,ot=q.get(50),mt=q.get(72);this.renderMinimap=Ve.renderMinimap,this.size=mt.size,this.minimapHeightIsEditorHeight=Ve.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=q.get(104),this.paddingTop=q.get(83).top,this.paddingBottom=q.get(83).bottom,this.showSlider=mt.showSlider,this.autohide=mt.autohide,this.pixelRatio=oe,this.typicalHalfwidthCharacterWidth=ot.typicalHalfwidthCharacterWidth,this.lineHeight=q.get(66),this.minimapLeft=Ve.minimapLeft,this.minimapWidth=Ve.minimapWidth,this.minimapHeight=Ie.height,this.canvasInnerWidth=Ve.minimapCanvasInnerWidth,this.canvasInnerHeight=Ve.minimapCanvasInnerHeight,this.canvasOuterWidth=Ve.minimapCanvasOuterWidth,this.canvasOuterHeight=Ve.minimapCanvasOuterHeight,this.isSampling=Ve.minimapIsSampling,this.editorHeight=Ie.height,this.fontScale=Ve.minimapScale,this.minimapLineHeight=Ve.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,An.M)(()=>Un.create(this.fontScale,ot.fontFamily)),this.defaultBackgroundColor=N.getColor(2),this.backgroundColor=pi._getMinimapBackground(l,this.defaultBackgroundColor),this.foregroundAlpha=pi._getMinimapForegroundOpacity(l)}static _getMinimapBackground(t,l){const N=t.getColor(Ti.kVY);return N?new zt(N.rgba.r,N.rgba.g,N.rgba.b,Math.round(255*N.rgba.a)):l}static _getMinimapForegroundOpacity(t){const l=t.getColor(Ti.Itd);return l?zt._clamp(Math.round(255*l.rgba.a)):255}equals(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.paddingTop===t.paddingTop&&this.paddingBottom===t.paddingBottom&&this.showSlider===t.showSlider&&this.autohide===t.autohide&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha}}class $e{constructor(t,l,N,q,oe,Ie,Ve,ot,mt){this.scrollTop=t,this.scrollHeight=l,this.sliderNeeded=N,this._computedSliderRatio=q,this.sliderTop=oe,this.sliderHeight=Ie,this.topPaddingLineCount=Ve,this.startLineNumber=ot,this.endLineNumber=mt}getDesiredScrollTopFromDelta(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(t){const l=Math.max(this.startLineNumber,t.startLineNumber),N=Math.min(this.endLineNumber,t.endLineNumber);return l>N?null:[l,N]}getYForLineNumber(t,l){return+(t-this.startLineNumber+this.topPaddingLineCount)*l}static create(t,l,N,q,oe,Ie,Ve,ot,mt,Lt,At){const jt=t.pixelRatio,Jt=t.minimapLineHeight,fi=Math.floor(t.canvasInnerHeight/Jt),wi=t.lineHeight;if(t.minimapHeightIsEditorHeight){let zn=ot*t.lineHeight+t.paddingTop+t.paddingBottom;t.scrollBeyondLastLine&&(zn+=Math.max(0,oe-t.lineHeight-t.paddingBottom));const Wn=Math.max(1,Math.floor(oe*oe/zn)),Kn=Math.max(0,t.minimapHeight-Wn),Sn=Kn/(Lt-oe),$n=mt*Sn,as=Kn>0,Yn=Math.floor(t.canvasInnerHeight/t.minimapLineHeight),ls=Math.floor(t.paddingTop/t.lineHeight);return new $e(mt,Lt,as,Sn,$n,Wn,ls,1,Math.min(Ve,Yn))}let Ni;if(Ie&&N!==Ve){const zn=N-l+1;Ni=Math.floor(zn*Jt/jt)}else{const zn=oe/wi;Ni=Math.floor(zn*Jt/jt)}const ki=Math.floor(t.paddingTop/wi);let Ji=Math.floor(t.paddingBottom/wi);if(t.scrollBeyondLastLine){const zn=oe/wi;Ji=Math.max(Ji,zn-1)}let rn;if(Ji>0){const zn=oe/wi;rn=(ki+Ve+Ji-zn-1)*Jt/jt}else rn=Math.max(0,(ki+Ve)*Jt/jt-Ni);rn=Math.min(t.minimapHeight-Ni,rn);const En=rn/(Lt-oe),_n=mt*En;if(fi>=ki+Ve+Ji){const zn=rn>0;return new $e(mt,Lt,zn,En,_n,Ni,ki,1,Ve)}else{let zn;l>1?zn=l+ki:zn=Math.max(1,mt/wi);let Wn,Kn=Math.max(1,Math.floor(zn-_n*jt/Jt));Kn<ki?(Wn=ki-Kn+1,Kn=1):(Wn=0,Kn=Math.max(1,Kn-ki)),At&&At.scrollHeight===Lt&&(At.scrollTop>mt&&(Kn=Math.min(Kn,At.startLineNumber),Wn=Math.max(Wn,At.topPaddingLineCount)),At.scrollTop<mt&&(Kn=Math.max(Kn,At.startLineNumber),Wn=Math.min(Wn,At.topPaddingLineCount)));const Sn=Math.min(Ve,Kn-Wn+fi-1),$n=(mt-q)/wi;let as;return mt>=t.paddingTop?as=(l-Kn+Wn+$n)*Jt/jt:as=mt/t.paddingTop*(Wn+$n)*Jt/jt,new $e(mt,Lt,!0,En,as,Ni,Wn,Kn,Sn)}}}class ht{constructor(t){this.dy=t}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}ht.INVALID=new ht(-1);class gt{constructor(t,l,N){this.renderedLayout=t,this._imageData=l,this._renderedLines=new Yt(()=>ht.INVALID),this._renderedLines._set(t.startLineNumber,N)}linesEquals(t){if(!this.scrollEquals(t))return!1;const N=this._renderedLines._get().lines;for(let q=0,oe=N.length;q<oe;q++)if(N[q].dy===-1)return!1;return!0}scrollEquals(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber}_get(){const t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}}onLinesChanged(t,l){return this._renderedLines.onLinesChanged(t,l)}onLinesDeleted(t,l){this._renderedLines.onLinesDeleted(t,l)}onLinesInserted(t,l){this._renderedLines.onLinesInserted(t,l)}onTokensChanged(t){return this._renderedLines.onTokensChanged(t)}}class li{constructor(t,l,N,q){this._backgroundFillData=li._createBackgroundFillData(l,N,q),this._buffers=[t.createImageData(l,N),t.createImageData(l,N)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t}static _createBackgroundFillData(t,l,N){const q=N.r,oe=N.g,Ie=N.b,Ve=N.a,ot=new Uint8ClampedArray(t*l*4);let mt=0;for(let Lt=0;Lt<l;Lt++)for(let At=0;At<t;At++)ot[mt]=q,ot[mt+1]=oe,ot[mt+2]=Ie,ot[mt+3]=Ve,mt+=4;return ot}}class ni{static compute(t,l,N){if(t.renderMinimap===0||!t.isSampling)return[null,[]];const{minimapLineCount:q}=O.gk.computeContainedMinimapLineCount({viewLineCount:l,scrollBeyondLastLine:t.scrollBeyondLastLine,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,height:t.editorHeight,lineHeight:t.lineHeight,pixelRatio:t.pixelRatio}),oe=l/q,Ie=oe/2;if(!N||N.minimapLines.length===0){const Ni=[];if(Ni[0]=1,q>1){for(let ki=0,Ji=q-1;ki<Ji;ki++)Ni[ki]=Math.round(ki*oe+Ie);Ni[q-1]=l}return[new ni(oe,Ni),[]]}const Ve=N.minimapLines,ot=Ve.length,mt=[];let Lt=0,At=0,jt=1;const Jt=10;let fi=[],wi=null;for(let Ni=0;Ni<q;Ni++){const ki=Math.max(jt,Math.round(Ni*oe)),Ji=Math.max(ki,Math.round((Ni+1)*oe));for(;Lt<ot&&Ve[Lt]<ki;){if(fi.length<Jt){const En=Lt+1+At;wi&&wi.type==="deleted"&&wi._oldIndex===Lt-1?wi.deleteToLineNumber++:(wi={type:"deleted",_oldIndex:Lt,deleteFromLineNumber:En,deleteToLineNumber:En},fi.push(wi)),At--}Lt++}let rn;if(Lt<ot&&Ve[Lt]<=Ji)rn=Ve[Lt],Lt++;else if(Ni===0?rn=1:Ni+1===q?rn=l:rn=Math.round(Ni*oe+Ie),fi.length<Jt){const En=Lt+1+At;wi&&wi.type==="inserted"&&wi._i===Ni-1?wi.insertToLineNumber++:(wi={type:"inserted",_i:Ni,insertFromLineNumber:En,insertToLineNumber:En},fi.push(wi)),At++}mt[Ni]=rn,jt=rn}if(fi.length<Jt)for(;Lt<ot;){const Ni=Lt+1+At;wi&&wi.type==="deleted"&&wi._oldIndex===Lt-1?wi.deleteToLineNumber++:(wi={type:"deleted",_oldIndex:Lt,deleteFromLineNumber:Ni,deleteToLineNumber:Ni},fi.push(wi)),At--,Lt++}else fi=[{type:"flush"}];return[new ni(oe,mt),fi]}constructor(t,l){this.samplingRatio=t,this.minimapLines=l}modelLineToMinimapLine(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))}modelLineRangeToMinimapLineRange(t,l){let N=this.modelLineToMinimapLine(t)-1;for(;N>0&&this.minimapLines[N-1]>=t;)N--;let q=this.modelLineToMinimapLine(l)-1;for(;q+1<this.minimapLines.length&&this.minimapLines[q+1]<=l;)q++;if(N===q){const oe=this.minimapLines[N];if(oe<t||oe>l)return null}return[N+1,q+1]}decorationLineRangeToMinimapLineRange(t,l){let N=this.modelLineToMinimapLine(t),q=this.modelLineToMinimapLine(l);return t!==l&&q===N&&(q===this.minimapLines.length?N>1&&N--:q++),[N,q]}onLinesDeleted(t){const l=t.toLineNumber-t.fromLineNumber+1;let N=this.minimapLines.length,q=0;for(let oe=this.minimapLines.length-1;oe>=0&&!(this.minimapLines[oe]<t.fromLineNumber);oe--)this.minimapLines[oe]<=t.toLineNumber?(this.minimapLines[oe]=Math.max(1,t.fromLineNumber-1),N=Math.min(N,oe),q=Math.max(q,oe)):this.minimapLines[oe]-=l;return[N,q]}onLinesInserted(t){const l=t.toLineNumber-t.fromLineNumber+1;for(let N=this.minimapLines.length-1;N>=0&&!(this.minimapLines[N]<t.fromLineNumber);N--)this.minimapLines[N]+=l}}class bi extends le{constructor(t){super(t),this.tokensColorTracker=mi.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new pi(this._context.configuration,this._context.theme,this.tokensColorTracker);const[l]=ni.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=l,this._shouldCheckSampling=!1,this._actual=new Si(t.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const t=new pi(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(t)?!1:(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(t){return this._onOptionsMaybeChanged()}onCursorStateChanged(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(t){return t.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(t){if(this._samplingState){const l=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.fromLineNumber+t.count-1);return l?this._actual.onLinesChanged(l[0],l[1]-l[0]+1):!1}else return this._actual.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){if(this._samplingState){const[l,N]=this._samplingState.onLinesDeleted(t);return l<=N&&this._actual.onLinesChanged(l+1,N-l+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)}onLinesInserted(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)}onScrollChanged(t){return this._actual.onScrollChanged()}onThemeChanged(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(t){if(this._samplingState){const l=[];for(const N of t.ranges){const q=this._samplingState.modelLineRangeToMinimapLineRange(N.fromLineNumber,N.toLineNumber);q&&l.push({fromLineNumber:q[0],toLineNumber:q[1]})}return l.length?this._actual.onTokensChanged(l):!1}else return this._actual.onTokensChanged(t.ranges)}onTokensColorsChanged(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(t){return this._actual.onZonesChanged()}prepareRender(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(t){let l=t.visibleRange.startLineNumber,N=t.visibleRange.endLineNumber;this._samplingState&&(l=this._samplingState.modelLineToMinimapLine(l),N=this._samplingState.modelLineToMinimapLine(N));const q={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:l,viewportEndLineNumber:N,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(l),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(q)}_recreateLineSampling(){this._minimapSelections=null;const t=!!this._samplingState,[l,N]=ni.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=l,t&&this._samplingState)for(const q of N)switch(q.type){case"deleted":this._actual.onLinesDeleted(q.deleteFromLineNumber,q.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(q.insertFromLineNumber,q.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(t){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineContent(t)}getLineMaxColumn(t){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineMaxColumn(t)}getMinimapLinesRenderingData(t,l,N){if(this._samplingState){const q=[];for(let oe=0,Ie=l-t+1;oe<Ie;oe++)N[oe]?q[oe]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+oe-1]):q[oe]=null;return q}return this._context.viewModel.getMinimapLinesRenderingData(t,l,N).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const t of this._selections){const[l,N]=this._samplingState.decorationLineRangeToMinimapLineRange(t.startLineNumber,t.endLineNumber);this._minimapSelections.push(new j.Y(l,t.startColumn,N,t.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(t,l){let N;if(this._samplingState){const oe=this._samplingState.minimapLines[t-1],Ie=this._samplingState.minimapLines[l-1];N=new W.e(oe,1,Ie,this._context.viewModel.getLineMaxColumn(Ie))}else N=new W.e(t,1,l,this._context.viewModel.getLineMaxColumn(l));const q=this._context.viewModel.getMinimapDecorationsInRange(N);if(this._samplingState){const oe=[];for(const Ie of q){if(!Ie.options.minimap)continue;const Ve=Ie.range,ot=this._samplingState.modelLineToMinimapLine(Ve.startLineNumber),mt=this._samplingState.modelLineToMinimapLine(Ve.endLineNumber);oe.push(new ui.$l(new W.e(ot,Ve.startColumn,mt,Ve.endColumn),Ie.options))}return oe}return q}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new W.e(t,1,t,1),1,0)}setScrollTop(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)}}class Si extends p.JT{constructor(t,l){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=t,this._model=l,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Ti.ov3),this._domNode=(0,K.X)(document.createElement("div")),fe.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,K.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,K.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,K.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,K.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,K.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=I.mu(this._domNode.domNode,I.tw.POINTER_DOWN,N=>{if(N.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(N.button===0&&this._lastRenderData){const mt=I.i(this._slider.domNode),Lt=mt.top+mt.height/2;this._startSliderDragging(N,Lt,this._lastRenderData.renderedLayout)}return}const oe=this._model.options.minimapLineHeight,Ie=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*N.offsetY;let ot=Math.floor(Ie/oe)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;ot=Math.min(ot,this._model.getLineCount()),this._model.revealLineNumber(ot)}),this._sliderPointerMoveMonitor=new Gt.C,this._sliderPointerDownListener=I.mu(this._slider.domNode,I.tw.POINTER_DOWN,N=>{N.preventDefault(),N.stopPropagation(),N.button===0&&this._lastRenderData&&this._startSliderDragging(N,N.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=m.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=I.nm(this._domNode.domNode,m.t.Start,N=>{N.preventDefault(),N.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(N))},{passive:!1}),this._sliderTouchMoveListener=I.nm(this._domNode.domNode,m.t.Change,N=>{N.preventDefault(),N.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(N)},{passive:!1}),this._sliderTouchEndListener=I.mu(this._domNode.domNode,m.t.End,N=>{N.preventDefault(),N.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(t,l,N){if(!t.target||!(t.target instanceof Element))return;const q=t.pageX;this._slider.toggleClassName("active",!0);const oe=(Ie,Ve)=>{const ot=I.i(this._domNode.domNode),mt=Math.min(Math.abs(Ve-q),Math.abs(Ve-ot.left),Math.abs(Ve-ot.left-ot.width));if(n.ED&&mt>ss){this._model.setScrollTop(N.scrollTop);return}const Lt=Ie-l;this._model.setScrollTop(N.getDesiredScrollTopFromDelta(Lt))};t.pageY!==l&&oe(t.pageY,q),this._sliderPointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,Ie=>oe(Ie.pageY,Ie.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(t){const l=this._domNode.domNode.getBoundingClientRect().top,N=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-l);this._model.setScrollTop(N)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const t=["minimap"];return this._model.options.showSlider==="always"?t.push("slider-always"):t.push("slider-mouseover"),this._model.options.autohide&&t.push("autohide"),t.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new li(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(t,l){return this._lastRenderData?this._lastRenderData.onLinesChanged(t,l):!1}onLinesDeleted(t,l){var N;return(N=this._lastRenderData)===null||N===void 0||N.onLinesDeleted(t,l),!0}onLinesInserted(t,l){var N;return(N=this._lastRenderData)===null||N===void 0||N.onLinesInserted(t,l),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Ti.ov3),this._renderDecorations=!0,!0}onTokensChanged(t){return this._lastRenderData?this._lastRenderData.onTokensChanged(t):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(t){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const N=$e.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(N.sliderNeeded?"block":"none"),this._slider.setTop(N.sliderTop),this._slider.setHeight(N.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(N.sliderHeight),this.renderDecorations(N),this._lastRenderData=this.renderLines(N)}renderDecorations(t){if(this._renderDecorations){this._renderDecorations=!1;const l=this._model.getSelections();l.sort(W.e.compareRangesUsingStarts);const N=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);N.sort((jt,Jt)=>(jt.options.zIndex||0)-(Jt.options.zIndex||0));const{canvasInnerWidth:q,canvasInnerHeight:oe}=this._model.options,Ie=this._model.options.minimapLineHeight,Ve=this._model.options.minimapCharWidth,ot=this._model.getOptions().tabSize,mt=this._decorationsCanvas.domNode.getContext("2d");mt.clearRect(0,0,q,oe);const Lt=new yi(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(mt,l,Lt,t,Ie),this._renderDecorationsLineHighlights(mt,N,Lt,t,Ie);const At=new yi(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(mt,l,At,t,Ie,ot,Ve,q),this._renderDecorationsHighlights(mt,N,At,t,Ie,ot,Ve,q)}}_renderSelectionLineHighlights(t,l,N,q,oe){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();let Ie=0,Ve=0;for(const ot of l){const mt=q.intersectWithViewport(ot);if(!mt)continue;const[Lt,At]=mt;for(let fi=Lt;fi<=At;fi++)N.set(fi,!0);const jt=q.getYForLineNumber(Lt,oe),Jt=q.getYForLineNumber(At,oe);Ve>=jt||(Ve>Ie&&t.fillRect(O.y0,Ie,t.canvas.width,Ve-Ie),Ie=jt),Ve=Jt}Ve>Ie&&t.fillRect(O.y0,Ie,t.canvas.width,Ve-Ie)}_renderDecorationsLineHighlights(t,l,N,q,oe){const Ie=new Map;for(let Ve=l.length-1;Ve>=0;Ve--){const ot=l[Ve],mt=ot.options.minimap;if(!mt||mt.position!==yn.F5.Inline)continue;const Lt=q.intersectWithViewport(ot.range);if(!Lt)continue;const[At,jt]=Lt,Jt=mt.getColor(this._theme.value);if(!Jt||Jt.isTransparent())continue;let fi=Ie.get(Jt.toString());fi||(fi=Jt.transparent(.5).toString(),Ie.set(Jt.toString(),fi)),t.fillStyle=fi;for(let wi=At;wi<=jt;wi++){if(N.has(wi))continue;N.set(wi,!0);const Ni=q.getYForLineNumber(At,oe);t.fillRect(O.y0,Ni,t.canvas.width,oe)}}}_renderSelectionsHighlights(t,l,N,q,oe,Ie,Ve,ot){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const mt of l){const Lt=q.intersectWithViewport(mt);if(!Lt)continue;const[At,jt]=Lt;for(let Jt=At;Jt<=jt;Jt++)this.renderDecorationOnLine(t,N,mt,this._selectionColor,q,Jt,oe,oe,Ie,Ve,ot)}}_renderDecorationsHighlights(t,l,N,q,oe,Ie,Ve,ot){for(const mt of l){const Lt=mt.options.minimap;if(!Lt)continue;const At=q.intersectWithViewport(mt.range);if(!At)continue;const[jt,Jt]=At,fi=Lt.getColor(this._theme.value);if(!(!fi||fi.isTransparent()))for(let wi=jt;wi<=Jt;wi++)switch(Lt.position){case yn.F5.Inline:this.renderDecorationOnLine(t,N,mt.range,fi,q,wi,oe,oe,Ie,Ve,ot);continue;case yn.F5.Gutter:{const Ni=q.getYForLineNumber(wi,oe),ki=2;this.renderDecoration(t,fi,ki,Ni,os,oe);continue}}}}renderDecorationOnLine(t,l,N,q,oe,Ie,Ve,ot,mt,Lt,At){const jt=oe.getYForLineNumber(Ie,ot);if(jt+Ve<0||jt>this._model.options.canvasInnerHeight)return;const{startLineNumber:Jt,endLineNumber:fi}=N,wi=Jt===Ie?N.startColumn:1,Ni=fi===Ie?N.endColumn:this._model.getLineMaxColumn(Ie),ki=this.getXOffsetForPosition(l,Ie,wi,mt,Lt,At),Ji=this.getXOffsetForPosition(l,Ie,Ni,mt,Lt,At);this.renderDecoration(t,q,ki,jt,Ji-ki,Ve)}getXOffsetForPosition(t,l,N,q,oe,Ie){if(N===1)return O.y0;if((N-1)*oe>=Ie)return Ie;let ot=t.get(l);if(!ot){const mt=this._model.getLineContent(l);ot=[O.y0];let Lt=O.y0;for(let At=1;At<mt.length+1;At++){const jt=mt.charCodeAt(At-1),Jt=jt===9?q*oe:Xt.K7(jt)?2*oe:oe,fi=Lt+Jt;if(fi>=Ie){ot[At]=Ie;break}ot[At]=fi,Lt=fi}t.set(l,ot)}return N-1<ot.length?ot[N-1]:Ie}renderDecoration(t,l,N,q,oe,Ie){t.fillStyle=l&&l.toString()||"",t.fillRect(N,q,oe,Ie)}renderLines(t){const l=t.startLineNumber,N=t.endLineNumber,q=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){const Ls=this._lastRenderData._get();return new gt(t,Ls.imageData,Ls.lines)}const oe=this._getBuffer();if(!oe)return null;const[Ie,Ve,ot]=Si._renderUntouchedLines(oe,t.topPaddingLineCount,l,N,q,this._lastRenderData),mt=this._model.getMinimapLinesRenderingData(l,N,ot),Lt=this._model.getOptions().tabSize,At=this._model.options.defaultBackgroundColor,jt=this._model.options.backgroundColor,Jt=this._model.options.foregroundAlpha,fi=this._model.tokensColorTracker,wi=fi.backgroundIsLight(),Ni=this._model.options.renderMinimap,ki=this._model.options.charRenderer(),Ji=this._model.options.fontScale,rn=this._model.options.minimapCharWidth,_n=(Ni===1?2:2+1)*Ji,zn=q>_n?Math.floor((q-_n)/2):0,Wn=jt.a/255,Kn=new zt(Math.round((jt.r-At.r)*Wn+At.r),Math.round((jt.g-At.g)*Wn+At.g),Math.round((jt.b-At.b)*Wn+At.b),255);let Sn=t.topPaddingLineCount*q;const $n=[];for(let Ls=0,Xs=N-l+1;Ls<Xs;Ls++)ot[Ls]&&Si._renderLine(oe,Kn,jt.a,wi,Ni,rn,fi,Jt,ki,Sn,zn,Lt,mt[Ls],Ji,q),$n[Ls]=new ht(Sn),Sn+=q;const as=Ie===-1?0:Ie,ls=(Ve===-1?oe.height:Ve)-as;return this._canvas.domNode.getContext("2d").putImageData(oe,0,0,0,as,oe.width,ls),new gt(t,oe,$n)}static _renderUntouchedLines(t,l,N,q,oe,Ie){const Ve=[];if(!Ie){for(let Sn=0,$n=q-N+1;Sn<$n;Sn++)Ve[Sn]=!0;return[-1,-1,Ve]}const ot=Ie._get(),mt=ot.imageData.data,Lt=ot.rendLineNumberStart,At=ot.lines,jt=At.length,Jt=t.width,fi=t.data,wi=(q-N+1)*oe*Jt*4;let Ni=-1,ki=-1,Ji=-1,rn=-1,En=-1,_n=-1,zn=l*oe;for(let Sn=N;Sn<=q;Sn++){const $n=Sn-N,as=Sn-Lt,Yn=as>=0&&as<jt?At[as].dy:-1;if(Yn===-1){Ve[$n]=!0,zn+=oe;continue}const ls=Yn*Jt*4,Rs=(Yn+oe)*Jt*4,Ls=zn*Jt*4,Xs=(zn+oe)*Jt*4;rn===ls&&_n===Ls?(rn=Rs,_n=Xs):(Ji!==-1&&(fi.set(mt.subarray(Ji,rn),En),Ni===-1&&Ji===0&&Ji===En&&(Ni=rn),ki===-1&&rn===wi&&Ji===En&&(ki=Ji)),Ji=ls,rn=Rs,En=Ls,_n=Xs),Ve[$n]=!1,zn+=oe}Ji!==-1&&(fi.set(mt.subarray(Ji,rn),En),Ni===-1&&Ji===0&&Ji===En&&(Ni=rn),ki===-1&&rn===wi&&Ji===En&&(ki=Ji));const Wn=Ni===-1?-1:Ni/(Jt*4),Kn=ki===-1?-1:ki/(Jt*4);return[Wn,Kn,Ve]}static _renderLine(t,l,N,q,oe,Ie,Ve,ot,mt,Lt,At,jt,Jt,fi,wi){const Ni=Jt.content,ki=Jt.tokens,Ji=t.width-Ie,rn=wi===1;let En=O.y0,_n=0,zn=0;for(let Wn=0,Kn=ki.getCount();Wn<Kn;Wn++){const Sn=ki.getEndOffset(Wn),$n=ki.getForeground(Wn),as=Ve.getColor($n);for(;_n<Sn;_n++){if(En>Ji)return;const Yn=Ni.charCodeAt(_n);if(Yn===9){const ls=jt-(_n+zn)%jt;zn+=ls-1,En+=ls*Ie}else if(Yn===32)En+=Ie;else{const ls=Xt.K7(Yn)?2:1;for(let Rs=0;Rs<ls;Rs++)if(oe===2?mt.blockRenderChar(t,En,Lt+At,as,ot,l,N,rn):mt.renderChar(t,En,Lt+At,Yn,as,ot,l,N,fi,q,rn),En+=Ie,En>Ji)return}}}}}class yi{constructor(t,l,N){this._startLineNumber=t,this._endLineNumber=l,this._defaultValue=N,this._values=[];for(let q=0,oe=this._endLineNumber-this._startLineNumber+1;q<oe;q++)this._values[q]=N}has(t){return this.get(t)!==this._defaultValue}set(t,l){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=l)}get(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]}}class Pi extends le{constructor(t){super(t);const N=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=N.verticalScrollbarWidth,this._minimapWidth=N.minimap.minimapWidth,this._horizontalScrollbarHeight=N.horizontalScrollbarHeight,this._editorHeight=N.height,this._editorWidth=N.width,this._domNode=(0,K.X)(document.createElement("div")),fe.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(t){const N=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=N.verticalScrollbarWidth,this._minimapWidth=N.minimap.minimapWidth,this._horizontalScrollbarHeight=N.horizontalScrollbarHeight,this._editorHeight=N.height,this._editorWidth=N.width,!0}addWidget(t){const l=(0,K.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:l},l.setPosition("absolute"),l.setAttribute("widgetId",t.getId()),this._domNode.appendChild(l),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(t,l){const N=this._widgets[t.getId()];return N.preference===l?(this._updateMaxMinWidth(),!1):(N.preference=l,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(t){const l=t.getId();if(this._widgets.hasOwnProperty(l)){const q=this._widgets[l].domNode.domNode;delete this._widgets[l],q.parentNode.removeChild(q),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var t,l;let N=0;const q=Object.keys(this._widgets);for(let oe=0,Ie=q.length;oe<Ie;oe++){const Ve=q[oe],mt=(l=(t=this._widgets[Ve].widget).getMinContentWidthInPx)===null||l===void 0?void 0:l.call(t);typeof mt!="undefined"&&(N=Math.max(N,mt))}this._context.viewLayout.setOverlayWidgetsMinWidth(N)}_renderWidget(t){const l=t.domNode;if(t.preference===null){l.setTop("");return}if(t.preference===0)l.setTop(0),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){const N=l.domNode.clientHeight;l.setTop(this._editorHeight-N-2*this._horizontalScrollbarHeight),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else t.preference===2&&(l.setTop(0),l.domNode.style.right="50%")}prepareRender(t){}render(t){this._domNode.setWidth(this._editorWidth);const l=Object.keys(this._widgets);for(let N=0,q=l.length;N<q;N++){const oe=l[N];this._renderWidget(this._widgets[oe])}}}class Qi{constructor(t,l){const N=t.options;this.lineHeight=N.get(66),this.pixelRatio=N.get(141),this.overviewRulerLanes=N.get(82),this.renderBorder=N.get(81);const q=l.getColor(Ge.zw);this.borderColor=q?q.toString():null,this.hideCursor=N.get(59);const oe=l.getColor(Ge.n0);this.cursorColor=oe?oe.transparent(.7).toString():null,this.themeType=l.type;const Ie=N.get(72),Ve=Ie.enabled,ot=Ie.side,mt=l.getColor(Ge.e_),Lt=Yi.RW.getDefaultBackground();mt?this.backgroundColor=mt:Ve&&ot==="right"?this.backgroundColor=Lt:this.backgroundColor=null;const jt=N.get(143).overviewRuler;this.top=jt.top,this.right=jt.right,this.domWidth=jt.width,this.domHeight=jt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Jt,fi]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Jt,this.w=fi}_initLanes(t,l,N){const q=l-t;if(N>=3){const oe=Math.floor(q/3),Ie=Math.floor(q/3),Ve=q-oe-Ie,ot=t,mt=ot+oe,Lt=ot+oe+Ve;return[[0,ot,mt,ot,Lt,ot,mt,ot],[0,oe,Ve,oe+Ve,Ie,oe+Ve+Ie,Ve+Ie,oe+Ve+Ie]]}else if(N===2){const oe=Math.floor(q/2),Ie=q-oe,Ve=t,ot=Ve+oe;return[[0,Ve,Ve,Ve,ot,Ve,Ve,Ve],[0,oe,oe,oe,Ie,oe+Ie,oe+Ie,oe+Ie]]}else{const oe=t,Ie=q;return[[0,oe,oe,oe,oe,oe,oe,oe],[0,Ie,Ie,Ie,Ie,Ie,Ie,Ie]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&fn.Il.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class Hi extends le{constructor(t){super(t),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,K.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Yi.RW.onDidChange(l=>{l.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const l=new Qi(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(l)?!1:(this._settings=l,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(t){this._cursorPositions=[];for(let l=0,N=t.selections.length;l<N;l++)this._cursorPositions[l]=t.selections[l].getPosition();return this._cursorPositions.sort(pe.L.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(t){return t.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(t){return this._markRenderingIsNeeded()}onScrollChanged(t){return t.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(t){return this._markRenderingIsNeeded()}onThemeChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render(),this._actualShouldRender=0}_render(){const t=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(t?fn.Il.Format.CSS.formatHexA(t):""),this._domNode.setDisplay("none");return}const l=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(l.sort(ui.SQ.compareByRenderingProps),this._actualShouldRender===1&&!ui.SQ.equalsArr(this._renderedDecorations,l)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,u.fS)(this._renderedCursorPositions,this._cursorPositions,(fi,wi)=>fi.lineNumber===wi.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=l,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const N=this._settings.canvasWidth,q=this._settings.canvasHeight,oe=this._settings.lineHeight,Ie=this._context.viewLayout,Ve=this._context.viewLayout.getScrollHeight(),ot=q/Ve,mt=6*this._settings.pixelRatio|0,Lt=mt/2|0,At=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(At.fillStyle=fn.Il.Format.CSS.formatHexA(t),At.fillRect(0,0,N,q)):(At.clearRect(0,0,N,q),At.fillStyle=fn.Il.Format.CSS.formatHexA(t),At.fillRect(0,0,N,q)):At.clearRect(0,0,N,q);const jt=this._settings.x,Jt=this._settings.w;for(const fi of l){const wi=fi.color,Ni=fi.data;At.fillStyle=wi;let ki=0,Ji=0,rn=0;for(let En=0,_n=Ni.length/3;En<_n;En++){const zn=Ni[3*En],Wn=Ni[3*En+1],Kn=Ni[3*En+2];let Sn=Ie.getVerticalOffsetForLineNumber(Wn)*ot|0,$n=(Ie.getVerticalOffsetForLineNumber(Kn)+oe)*ot|0;if($n-Sn<mt){let Yn=(Sn+$n)/2|0;Yn<Lt?Yn=Lt:Yn+Lt>q&&(Yn=q-Lt),Sn=Yn-Lt,$n=Yn+Lt}Sn>rn+1||zn!==ki?(En!==0&&At.fillRect(jt[ki],Ji,Jt[ki],rn-Ji),ki=zn,Ji=Sn,rn=$n):$n>rn&&(rn=$n)}At.fillRect(jt[ki],Ji,Jt[ki],rn-Ji)}if(!this._settings.hideCursor&&this._settings.cursorColor){const fi=2*this._settings.pixelRatio|0,wi=fi/2|0,Ni=this._settings.x[7],ki=this._settings.w[7];At.fillStyle=this._settings.cursorColor;let Ji=-100,rn=-100;for(let En=0,_n=this._cursorPositions.length;En<_n;En++){const zn=this._cursorPositions[En];let Wn=Ie.getVerticalOffsetForLineNumber(zn.lineNumber)*ot|0;Wn<wi?Wn=wi:Wn+wi>q&&(Wn=q-wi);const Kn=Wn-wi,Sn=Kn+fi;Kn>rn+1?(En!==0&&At.fillRect(Ni,Ji,ki,rn-Ji),Ji=Kn,rn=Sn):Sn>rn&&(rn=Sn)}At.fillRect(Ni,Ji,ki,rn-Ji)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(At.beginPath(),At.lineWidth=1,At.strokeStyle=this._settings.borderColor,At.moveTo(0,0),At.lineTo(0,q),At.stroke(),At.moveTo(0,0),At.lineTo(N,0),At.stroke())}}var Fi=e(30665);class bt extends ie{constructor(t,l){super(),this._context=t;const N=this._context.configuration.options;this._domNode=(0,K.X)(document.createElement("canvas")),this._domNode.setClassName(l),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Fi.Tj(q=>this._context.viewLayout.getVerticalOffsetForLineNumber(q)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(N.get(66)),this._zoneManager.setPixelRatio(N.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return t.hasChanged(66)&&(this._zoneManager.setLineHeight(l.get(66)),this._render()),t.hasChanged(141)&&(this._zoneManager.setPixelRatio(l.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(t){return this._render(),!0}onScrollChanged(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0}onZonesChanged(t){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);let l=!1;l=this._zoneManager.setDOMWidth(t.width)||l,l=this._zoneManager.setDOMHeight(t.height)||l,l&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(t){this._zoneManager.setZones(t),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const t=this._zoneManager.getCanvasWidth(),l=this._zoneManager.getCanvasHeight(),N=this._zoneManager.resolveColorZones(),q=this._zoneManager.getId2Color(),oe=this._domNode.domNode.getContext("2d");return oe.clearRect(0,0,t,l),N.length>0&&this._renderOneLane(oe,N,q,t),!0}_renderOneLane(t,l,N,q){let oe=0,Ie=0,Ve=0;for(const ot of l){const mt=ot.colorId,Lt=ot.from,At=ot.to;mt!==oe?(t.fillRect(0,Ie,q,Ve-Ie),oe=mt,t.fillStyle=N[oe],Ie=Lt,Ve=At):Ve>=Lt?Ve=Math.max(Ve,At):(t.fillRect(0,Ie,q,Ve-Ie),Ie=Lt,Ve=At)}t.fillRect(0,Ie,q,Ve-Ie)}}class k extends le{constructor(t){super(t),this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const l=this._context.configuration.options;this._rulers=l.get(101),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return this._rulers=l.get(101),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(t){return t.scrollHeightChanged}prepareRender(t){}_ensureRulersCount(){const t=this._renderedRulers.length,l=this._rulers.length;if(t===l)return;if(t<l){const{tabSize:q}=this._context.viewModel.model.getOptions(),oe=q;let Ie=l-t;for(;Ie>0;){const Ve=(0,K.X)(document.createElement("div"));Ve.setClassName("view-ruler"),Ve.setWidth(oe),this.domNode.appendChild(Ve),this._renderedRulers.push(Ve),Ie--}return}let N=t-l;for(;N>0;){const q=this._renderedRulers.pop();this.domNode.removeChild(q),N--}}render(t){this._ensureRulersCount();for(let l=0,N=this._rulers.length;l<N;l++){const q=this._renderedRulers[l],oe=this._rulers[l];q.setBoxShadow(oe.color?`1px 0 0 0 ${oe.color} inset`:""),q.setHeight(Math.min(t.scrollHeight,1e6)),q.setLeft(oe.column*this._typicalHalfwidthCharacterWidth)}}}class te extends le{constructor(t){super(t),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const N=this._context.configuration.options.get(102);this._useShadows=N.useShadows,this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t?(this._shouldShow=t,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const l=this._context.configuration.options.get(143);l.minimap.renderMinimap===0||l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?this._width=l.width:this._width=l.width-l.verticalScrollbarWidth}onConfigurationChanged(t){const N=this._context.configuration.options.get(102);return this._useShadows=N.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()}prepareRender(t){}render(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class ue{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class Fe{constructor(t,l){this.lineNumber=t,this.ranges=l}}function Ze(Kt){return new ue(Kt)}function it(Kt){return new Fe(Kt.lineNumber,Kt.ranges.map(Ze))}class dt extends Bt{constructor(t){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=t;const l=this._context.configuration.options;this._lineHeight=l.get(66),this._roundedSelection=l.get(100),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options;return this._lineHeight=l.get(66),this._roundedSelection=l.get(100),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let l=0,N=t.length;l<N;l++)if(t[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,l,N){const q=this._typicalHalfwidthCharacterWidth/4;let oe=null,Ie=null;if(N&&N.length>0&&l.length>0){const Ve=l[0].lineNumber;if(Ve===t.startLineNumber)for(let mt=0;!oe&&mt<N.length;mt++)N[mt].lineNumber===Ve&&(oe=N[mt].ranges[0]);const ot=l[l.length-1].lineNumber;if(ot===t.endLineNumber)for(let mt=N.length-1;!Ie&&mt>=0;mt--)N[mt].lineNumber===ot&&(Ie=N[mt].ranges[0]);oe&&!oe.startStyle&&(oe=null),Ie&&!Ie.startStyle&&(Ie=null)}for(let Ve=0,ot=l.length;Ve<ot;Ve++){const mt=l[Ve].ranges[0],Lt=mt.left,At=mt.left+mt.width,jt={top:0,bottom:0},Jt={top:0,bottom:0};if(Ve>0){const fi=l[Ve-1].ranges[0].left,wi=l[Ve-1].ranges[0].left+l[Ve-1].ranges[0].width;_t(Lt-fi)<q?jt.top=2:Lt>fi&&(jt.top=1),_t(At-wi)<q?Jt.top=2:fi<At&&At<wi&&(Jt.top=1)}else oe&&(jt.top=oe.startStyle.top,Jt.top=oe.endStyle.top);if(Ve+1<ot){const fi=l[Ve+1].ranges[0].left,wi=l[Ve+1].ranges[0].left+l[Ve+1].ranges[0].width;_t(Lt-fi)<q?jt.bottom=2:fi<Lt&&Lt<wi&&(jt.bottom=1),_t(At-wi)<q?Jt.bottom=2:At<wi&&(Jt.bottom=1)}else Ie&&(jt.bottom=Ie.startStyle.bottom,Jt.bottom=Ie.endStyle.bottom);mt.startStyle=jt,mt.endStyle=Jt}}_getVisibleRangesWithStyle(t,l,N){const oe=(l.linesVisibleRangesForRange(t,!0)||[]).map(it);return!this._visibleRangesHaveGaps(oe)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,oe,N),oe}_createSelectionPiece(t,l,N,q,oe){return'<div class="cslr '+N+'" style="top:'+t.toString()+"px;left:"+q.toString()+"px;width:"+oe.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(t,l,N,q){if(q.length===0)return;const oe=!!q[0].ranges[0].startStyle,Ie=this._lineHeight.toString(),Ve=(this._lineHeight-1).toString(),ot=q[0].lineNumber,mt=q[q.length-1].lineNumber;for(let Lt=0,At=q.length;Lt<At;Lt++){const jt=q[Lt],Jt=jt.lineNumber,fi=Jt-l,wi=N&&(Jt===mt||Jt===ot)?Ve:Ie,Ni=N&&Jt===ot?1:0;let ki="",Ji="";for(let rn=0,En=jt.ranges.length;rn<En;rn++){const _n=jt.ranges[rn];if(oe){const Wn=_n.startStyle,Kn=_n.endStyle;if(Wn.top===1||Wn.bottom===1){ki+=this._createSelectionPiece(Ni,wi,dt.SELECTION_CLASS_NAME,_n.left-dt.ROUNDED_PIECE_WIDTH,dt.ROUNDED_PIECE_WIDTH);let Sn=dt.EDITOR_BACKGROUND_CLASS_NAME;Wn.top===1&&(Sn+=" "+dt.SELECTION_TOP_RIGHT),Wn.bottom===1&&(Sn+=" "+dt.SELECTION_BOTTOM_RIGHT),ki+=this._createSelectionPiece(Ni,wi,Sn,_n.left-dt.ROUNDED_PIECE_WIDTH,dt.ROUNDED_PIECE_WIDTH)}if(Kn.top===1||Kn.bottom===1){ki+=this._createSelectionPiece(Ni,wi,dt.SELECTION_CLASS_NAME,_n.left+_n.width,dt.ROUNDED_PIECE_WIDTH);let Sn=dt.EDITOR_BACKGROUND_CLASS_NAME;Kn.top===1&&(Sn+=" "+dt.SELECTION_TOP_LEFT),Kn.bottom===1&&(Sn+=" "+dt.SELECTION_BOTTOM_LEFT),ki+=this._createSelectionPiece(Ni,wi,Sn,_n.left+_n.width,dt.ROUNDED_PIECE_WIDTH)}}let zn=dt.SELECTION_CLASS_NAME;if(oe){const Wn=_n.startStyle,Kn=_n.endStyle;Wn.top===0&&(zn+=" "+dt.SELECTION_TOP_LEFT),Wn.bottom===0&&(zn+=" "+dt.SELECTION_BOTTOM_LEFT),Kn.top===0&&(zn+=" "+dt.SELECTION_TOP_RIGHT),Kn.bottom===0&&(zn+=" "+dt.SELECTION_BOTTOM_RIGHT)}Ji+=this._createSelectionPiece(Ni,wi,zn,_n.left,_n.width)}t[fi][0]+=ki,t[fi][1]+=Ji}}prepareRender(t){const l=[],N=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber;for(let Ie=N;Ie<=q;Ie++){const Ve=Ie-N;l[Ve]=["",""]}const oe=[];for(let Ie=0,Ve=this._selections.length;Ie<Ve;Ie++){const ot=this._selections[Ie];if(ot.isEmpty()){oe[Ie]=null;continue}const mt=this._getVisibleRangesWithStyle(ot,t,this._previousFrameVisibleRangesWithStyle[Ie]);oe[Ie]=mt,this._actualRenderOneSelection(l,N,this._selections.length>1,mt)}this._previousFrameVisibleRangesWithStyle=oe,this._renderResult=l.map(([Ie,Ve])=>Ie+Ve)}render(t,l){if(!this._renderResult)return"";const N=l-t;return N<0||N>=this._renderResult.length?"":this._renderResult[N]}}dt.SELECTION_CLASS_NAME="selected-text",dt.SELECTION_TOP_LEFT="top-left-radius",dt.SELECTION_BOTTOM_LEFT="bottom-left-radius",dt.SELECTION_TOP_RIGHT="top-right-radius",dt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",dt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",dt.ROUNDED_PIECE_WIDTH=10,(0,kt.Ic)((Kt,t)=>{const l=Kt.getColor(Ti.yb5);l&&!l.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function _t(Kt){return Kt<0?-Kt:Kt}class st{constructor(t,l,N,q,oe,Ie,Ve){this.top=t,this.left=l,this.paddingLeft=N,this.width=q,this.height=oe,this.textContent=Ie,this.textContentClassName=Ve}}class Q{constructor(t){this._context=t;const l=this._context.configuration.options,N=l.get(50);this._cursorStyle=l.get(28),this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=N.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${xi}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Ct.N)(this._domNode,N),this._domNode.setDisplay("none"),this._position=new pe.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(50);return this._cursorStyle=l.get(28),this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=N.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(31),this._typicalHalfwidthCharacterWidth),(0,Ct.N)(this._domNode,N),!0}onCursorPositionChanged(t,l){return l?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:l}=this._position,N=this._context.viewModel.getLineContent(t),[q,oe]=Xt.J_(N,l-1);return[new pe.L(t,q+1),N.substring(q,oe)]}_prepareRender(t){let l="",N="";const[q,oe]=this._getGraphemeAwarePosition();if(this._cursorStyle===O.d2.Line||this._cursorStyle===O.d2.LineThin){const jt=t.visibleRangeForPosition(q);if(!jt||jt.outsideRenderedLine)return null;const Jt=I.Jj(this._domNode.domNode);let fi;this._cursorStyle===O.d2.Line?(fi=I.Uh(Jt,this._lineCursorWidth>0?this._lineCursorWidth:2),fi>2&&(l=oe,N=this._getTokenClassName(q))):fi=I.Uh(Jt,1);let wi=jt.left,Ni=0;fi>=2&&wi>=1&&(Ni=1,wi-=Ni);const ki=t.getVerticalOffsetForLineNumber(q.lineNumber)-t.bigNumbersDelta;return new st(ki,wi,Ni,fi,this._lineHeight,l,N)}const Ie=t.linesVisibleRangesForRange(new W.e(q.lineNumber,q.column,q.lineNumber,q.column+oe.length),!1);if(!Ie||Ie.length===0)return null;const Ve=Ie[0];if(Ve.outsideRenderedLine||Ve.ranges.length===0)return null;const ot=Ve.ranges[0],mt=oe==="	"?this._typicalHalfwidthCharacterWidth:ot.width<1?this._typicalHalfwidthCharacterWidth:ot.width;this._cursorStyle===O.d2.Block&&(l=oe,N=this._getTokenClassName(q));let Lt=t.getVerticalOffsetForLineNumber(q.lineNumber)-t.bigNumbersDelta,At=this._lineHeight;return(this._cursorStyle===O.d2.Underline||this._cursorStyle===O.d2.UnderlineThin)&&(Lt+=this._lineHeight-2,At=2),new st(Lt,ot.left,0,mt,At,l,N)}_getTokenClassName(t){const l=this._context.viewModel.getViewLineData(t.lineNumber),N=l.tokens.findTokenIndexAtOffset(t.column-1);return l.tokens.getClassName(N)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${xi} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class he extends le{constructor(t){super(t);const l=this._context.configuration.options;this._readOnly=l.get(90),this._cursorBlinking=l.get(26),this._cursorStyle=l.get(28),this._cursorSmoothCaretAnimation=l.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Q(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,K.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new re._F,this._cursorFlatBlinkInterval=new I.ne,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const l=this._context.configuration.options;this._readOnly=l.get(90),this._cursorBlinking=l.get(26),this._cursorStyle=l.get(28),this._cursorSmoothCaretAnimation=l.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let N=0,q=this._secondaryCursors.length;N<q;N++)this._secondaryCursors[N].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,l,N){const q=this._secondaryCursors.length!==l.length||this._cursorSmoothCaretAnimation==="explicit"&&N!==3;if(this._primaryCursor.onCursorPositionChanged(t,q),this._updateBlinking(),this._secondaryCursors.length<l.length){const oe=l.length-this._secondaryCursors.length;for(let Ie=0;Ie<oe;Ie++){const Ve=new Q(this._context);this._domNode.domNode.insertBefore(Ve.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Ve)}}else if(this._secondaryCursors.length>l.length){const oe=this._secondaryCursors.length-l.length;for(let Ie=0;Ie<oe;Ie++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let oe=0;oe<l.length;oe++)this._secondaryCursors[oe].onCursorPositionChanged(l[oe],q)}onCursorStateChanged(t){const l=[];for(let q=0,oe=t.selections.length;q<oe;q++)l[q]=t.selections[q].getPosition();this._onCursorPositionChanged(l[0],l.slice(1),t.reason);const N=t.selections[0].isEmpty();return this._selectionIsEmpty!==N&&(this._selectionIsEmpty=N,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const l=N=>{for(let q=0,oe=t.ranges.length;q<oe;q++)if(t.ranges[q].fromLineNumber<=N.lineNumber&&N.lineNumber<=t.ranges[q].toLineNumber)return!0;return!1};if(l(this._primaryCursor.getPosition()))return!0;for(const N of this._secondaryCursors)if(l(N.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),l=t===0,N=t===5;l?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!l&&!N&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},he.BLINK_INTERVAL,(0,I.Jj)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},he.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case O.d2.Line:t+=" cursor-line-style";break;case O.d2.Block:t+=" cursor-block-style";break;case O.d2.Underline:t+=" cursor-underline-style";break;case O.d2.LineThin:t+=" cursor-line-thin-style";break;case O.d2.BlockOutline:t+=" cursor-block-outline-style";break;case O.d2.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,l=this._secondaryCursors.length;t<l;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,l=this._secondaryCursors.length;t<l;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let l=0,N=this._secondaryCursors.length;l<N;l++)this._secondaryCursors[l].prepareRender(t)}render(t){const l=[];let N=0;const q=this._primaryCursor.render(t);q&&(l[N++]=q);for(let oe=0,Ie=this._secondaryCursors.length;oe<Ie;oe++){const Ve=this._secondaryCursors[oe].render(t);Ve&&(l[N++]=Ve)}this._renderData=l}getLastRenderData(){return this._renderData}}he.BLINK_INTERVAL=500,(0,kt.Ic)((Kt,t)=>{const l=Kt.getColor(Ge.n0);if(l){let N=Kt.getColor(Ge.fY);N||(N=l.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${l}; border-color: ${l}; color: ${N}; }`),(0,Fn.c3)(Kt.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${N}; border-right: 1px solid ${N}; }`)}});const Be=()=>{throw new Error("Invalid change accessor")};class nt extends le{constructor(t){super(t);const l=this._context.configuration.options,N=l.get(143);this._lineHeight=l.get(66),this._contentWidth=N.contentWidth,this._contentLeft=N.contentLeft,this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,K.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const t=this._context.viewLayout.getWhitespaces(),l=new Map;for(const q of t)l.set(q.id,q);let N=!1;return this._context.viewModel.changeWhitespace(q=>{const oe=Object.keys(this._zones);for(let Ie=0,Ve=oe.length;Ie<Ve;Ie++){const ot=oe[Ie],mt=this._zones[ot],Lt=this._computeWhitespaceProps(mt.delegate);mt.isInHiddenArea=Lt.isInHiddenArea;const At=l.get(ot);At&&(At.afterLineNumber!==Lt.afterViewLineNumber||At.height!==Lt.heightInPx)&&(q.changeOneWhitespace(ot,Lt.afterViewLineNumber,Lt.heightInPx),this._safeCallOnComputedHeight(mt.delegate,Lt.heightInPx),N=!0)}}),N}onConfigurationChanged(t){const l=this._context.configuration.options,N=l.get(143);return this._lineHeight=l.get(66),this._contentWidth=N.contentWidth,this._contentLeft=N.contentLeft,t.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(t){return this._recomputeWhitespacesProps()}onLinesDeleted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}onLinesInserted(t){return!0}_getZoneOrdinal(t){var l,N;return(N=(l=t.ordinal)!==null&&l!==void 0?l:t.afterColumn)!==null&&N!==void 0?N:1e4}_computeWhitespaceProps(t){if(t.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};let l;if(typeof t.afterColumn!="undefined")l=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{const Ie=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;l=new pe.L(Ie,this._context.viewModel.model.getLineMaxColumn(Ie))}let N;l.column===this._context.viewModel.model.getLineMaxColumn(l.lineNumber)?N=this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber+1,column:1}):N=this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber,column:l.column+1});const q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l,t.afterColumnAffinity,!0),oe=t.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(N);return{isInHiddenArea:!oe,afterViewLineNumber:q.lineNumber,heightInPx:oe?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}}changeViewZones(t){let l=!1;return this._context.viewModel.changeWhitespace(N=>{const q={addZone:oe=>(l=!0,this._addZone(N,oe)),removeZone:oe=>{oe&&(l=this._removeZone(N,oe)||l)},layoutZone:oe=>{oe&&(l=this._layoutZone(N,oe)||l)}};pt(t,q),q.addZone=Be,q.removeZone=Be,q.layoutZone=Be}),l}_addZone(t,l){const N=this._computeWhitespaceProps(l),oe={whitespaceId:t.insertWhitespace(N.afterViewLineNumber,this._getZoneOrdinal(l),N.heightInPx,N.minWidthInPx),delegate:l,isInHiddenArea:N.isInHiddenArea,isVisible:!1,domNode:(0,K.X)(l.domNode),marginDomNode:l.marginDomNode?(0,K.X)(l.marginDomNode):null};return this._safeCallOnComputedHeight(oe.delegate,N.heightInPx),oe.domNode.setPosition("absolute"),oe.domNode.domNode.style.width="100%",oe.domNode.setDisplay("none"),oe.domNode.setAttribute("monaco-view-zone",oe.whitespaceId),this.domNode.appendChild(oe.domNode),oe.marginDomNode&&(oe.marginDomNode.setPosition("absolute"),oe.marginDomNode.domNode.style.width="100%",oe.marginDomNode.setDisplay("none"),oe.marginDomNode.setAttribute("monaco-view-zone",oe.whitespaceId),this.marginDomNode.appendChild(oe.marginDomNode)),this._zones[oe.whitespaceId]=oe,this.setShouldRender(),oe.whitespaceId}_removeZone(t,l){if(this._zones.hasOwnProperty(l)){const N=this._zones[l];return delete this._zones[l],t.removeWhitespace(N.whitespaceId),N.domNode.removeAttribute("monaco-visible-view-zone"),N.domNode.removeAttribute("monaco-view-zone"),N.domNode.domNode.parentNode.removeChild(N.domNode.domNode),N.marginDomNode&&(N.marginDomNode.removeAttribute("monaco-visible-view-zone"),N.marginDomNode.removeAttribute("monaco-view-zone"),N.marginDomNode.domNode.parentNode.removeChild(N.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(t,l){if(this._zones.hasOwnProperty(l)){const N=this._zones[l],q=this._computeWhitespaceProps(N.delegate);return N.isInHiddenArea=q.isInHiddenArea,t.changeOneWhitespace(N.whitespaceId,q.afterViewLineNumber,q.heightInPx),this._safeCallOnComputedHeight(N.delegate,q.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(t){return this._zones.hasOwnProperty(t)?!!this._zones[t].delegate.suppressMouseDown:!1}_heightInPixels(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight}_minWidthInPixels(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0}_safeCallOnComputedHeight(t,l){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(l)}catch(N){(0,M.dL)(N)}}_safeCallOnDomNodeTop(t,l){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(l)}catch(N){(0,M.dL)(N)}}prepareRender(t){}render(t){const l=t.viewportData.whitespaceViewportData,N={};let q=!1;for(const Ie of l)this._zones[Ie.id].isInHiddenArea||(N[Ie.id]=Ie,q=!0);const oe=Object.keys(this._zones);for(let Ie=0,Ve=oe.length;Ie<Ve;Ie++){const ot=oe[Ie],mt=this._zones[ot];let Lt=0,At=0,jt="none";N.hasOwnProperty(ot)?(Lt=N[ot].verticalOffset-t.bigNumbersDelta,At=N[ot].height,jt="block",mt.isVisible||(mt.domNode.setAttribute("monaco-visible-view-zone","true"),mt.isVisible=!0),this._safeCallOnDomNodeTop(mt.delegate,t.getScrolledTopFromAbsoluteTop(N[ot].verticalOffset))):(mt.isVisible&&(mt.domNode.removeAttribute("monaco-visible-view-zone"),mt.isVisible=!1),this._safeCallOnDomNodeTop(mt.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),mt.domNode.setTop(Lt),mt.domNode.setHeight(At),mt.domNode.setDisplay(jt),mt.marginDomNode&&(mt.marginDomNode.setTop(Lt),mt.marginDomNode.setHeight(At),mt.marginDomNode.setDisplay(jt))}q&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function pt(Kt,t){try{return Kt(t)}catch(l){(0,M.dL)(l)}}class Tt{get type(){return this._theme.type}get value(){return this._theme}constructor(t){this._theme=t}update(t){this._theme=t}getColor(t){return this._theme.getColor(t)}}class Vt{constructor(t,l,N){this.configuration=t,this.theme=new Tt(l),this.viewModel=N,this.viewLayout=N.viewLayout}addEventHandler(t){this.viewModel.addViewEventHandler(t)}removeEventHandler(t){this.viewModel.removeViewEventHandler(t)}}class oi{constructor(t,l,N,q){this.selections=t,this.startLineNumber=l.startLineNumber|0,this.endLineNumber=l.endLineNumber|0,this.relativeVerticalOffset=l.relativeVerticalOffset,this.bigNumbersDelta=l.bigNumbersDelta|0,this.whitespaceViewportData=N,this._model=q,this.visibleRange=new W.e(l.startLineNumber,this._model.getLineMinColumn(l.startLineNumber),l.endLineNumber,this._model.getLineMaxColumn(l.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Ai extends le{constructor(t){super(t),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let t=!1;const N=this._context.configuration.options.get(143),q=N.contentWidth-N.verticalScrollbarWidth;this.contentWidth!==q&&(this.contentWidth=q,t=!0);const oe=N.contentLeft;return this.contentLeft!==oe&&(this.contentLeft=oe,t=!0),t}dispose(){super.dispose()}onConfigurationChanged(t){return this.update()}onScrollChanged(t){return t.scrollTopChanged||t.scrollLeftChanged}onDecorationsChanged(t){return!0}onZonesChanged(t){return!0}prepareRender(t){}render(t){var l;let N=0;const q=t.getDecorationsInViewport();for(const oe of q){if(!oe.options.blockClassName)continue;let Ie=this.blocks[N];Ie||(Ie=this.blocks[N]=(0,K.X)(document.createElement("div")),this.domNode.appendChild(Ie));let Ve,ot;oe.options.blockIsAfterEnd?(Ve=t.getVerticalOffsetAfterLineNumber(oe.range.endLineNumber,!1),ot=t.getVerticalOffsetAfterLineNumber(oe.range.endLineNumber,!0)):(Ve=t.getVerticalOffsetForLineNumber(oe.range.startLineNumber,!0),ot=oe.range.isEmpty()&&!oe.options.blockDoesNotCollapse?t.getVerticalOffsetForLineNumber(oe.range.startLineNumber,!1):t.getVerticalOffsetAfterLineNumber(oe.range.endLineNumber,!0));const[mt,Lt,At,jt]=(l=oe.options.blockPadding)!==null&&l!==void 0?l:[0,0,0,0];Ie.setClassName("blockDecorations-block "+oe.options.blockClassName),Ie.setLeft(this.contentLeft-jt),Ie.setWidth(this.contentWidth+jt+Lt),Ie.setTop(Ve-t.scrollTop-mt),Ie.setHeight(ot-Ve+mt+At),N++}for(let oe=N;oe<this.blocks.length;oe++)this.blocks[oe].domNode.remove();this.blocks.length=N}}var zi=e(50795),cn=e(72202);class dn extends Bt{constructor(t){super(),this._context=t,this._options=new on(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=new on(this._context.configuration);return this._options.equals(l)?t.hasChanged(143):(this._options=l,!0)}onCursorStateChanged(t){return this._selection=t.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}prepareRender(t){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const l=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber-l+1,oe=new Array(q);for(let Ve=0;Ve<q;Ve++)oe[Ve]=!0;const Ie=this._context.viewModel.getMinimapLinesRenderingData(t.viewportData.startLineNumber,t.viewportData.endLineNumber,oe);this._renderResult=[];for(let Ve=t.viewportData.startLineNumber;Ve<=t.viewportData.endLineNumber;Ve++){const ot=Ve-t.viewportData.startLineNumber,mt=Ie.data[ot];let Lt=null;if(this._options.renderWhitespace==="selection"){const At=this._selection;for(const jt of At){if(jt.endLineNumber<Ve||jt.startLineNumber>Ve)continue;const Jt=jt.startLineNumber===Ve?jt.startColumn:mt.minColumn,fi=jt.endLineNumber===Ve?jt.endColumn:mt.maxColumn;Jt<fi&&(Lt||(Lt=[]),Lt.push(new cn.zG(Jt-1,fi-1)))}}this._renderResult[ot]=this._applyRenderWhitespace(t,Ve,Lt,mt)}}_applyRenderWhitespace(t,l,N,q){if(this._options.renderWhitespace==="selection"&&!N||this._options.renderWhitespace==="trailing"&&q.continuesWithWrappedLine)return"";const oe=this._context.theme.getColor(Ge.dI),Ie=this._options.renderWithSVG,Ve=q.content,ot=this._options.stopRenderingLineAfter===-1?Ve.length:Math.min(this._options.stopRenderingLineAfter,Ve.length),mt=q.continuesWithWrappedLine,Lt=q.minColumn-1,At=this._options.renderWhitespace==="boundary",jt=this._options.renderWhitespace==="trailing",Jt=this._options.lineHeight,fi=this._options.middotWidth,wi=this._options.wsmiddotWidth,Ni=this._options.spaceWidth,ki=Math.abs(wi-Ni),Ji=Math.abs(fi-Ni),rn=ki<Ji?11825:183,En=this._options.canUseHalfwidthRightwardsArrow;let _n="",zn=!1,Wn=Xt.LC(Ve),Kn;Wn===-1?(zn=!0,Wn=ot,Kn=ot):Kn=Xt.ow(Ve);let Sn=0,$n=N&&N[Sn],as=0;for(let Yn=Lt;Yn<ot;Yn++){const ls=Ve.charCodeAt(Yn);if($n&&Yn>=$n.endOffset&&(Sn++,$n=N&&N[Sn]),ls!==9&&ls!==32||jt&&!zn&&Yn<=Kn)continue;if(At&&Yn>=Wn&&Yn<=Kn&&ls===32){const Ls=Yn-1>=0?Ve.charCodeAt(Yn-1):0,Xs=Yn+1<ot?Ve.charCodeAt(Yn+1):0;if(Ls!==32&&Xs!==32)continue}if(At&&mt&&Yn===ot-1){const Ls=Yn-1>=0?Ve.charCodeAt(Yn-1):0;if(ls===32&&Ls!==32&&Ls!==9)continue}if(N&&(!$n||$n.startOffset>Yn||$n.endOffset<=Yn))continue;const Rs=t.visibleRangeForPosition(new pe.L(l,Yn+1));Rs&&(Ie?(as=Math.max(as,Rs.left),ls===9?_n+=this._renderArrow(Jt,Ni,Rs.left):_n+=`<circle cx="${(Rs.left+Ni/2).toFixed(2)}" cy="${(Jt/2).toFixed(2)}" r="${(Ni/7).toFixed(2)}" />`):ls===9?_n+=`<div class="mwh" style="left:${Rs.left}px;height:${Jt}px;">${En?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:_n+=`<div class="mwh" style="left:${Rs.left}px;height:${Jt}px;">${String.fromCharCode(rn)}</div>`)}return Ie?(as=Math.round(as+Ni),`<svg style="position:absolute;width:${as}px;height:${Jt}px" viewBox="0 0 ${as} ${Jt}" xmlns="http://www.w3.org/2000/svg" fill="${oe}">`+_n+"</svg>"):_n}_renderArrow(t,l,N){const q=l/7,oe=l,Ie=t/2,Ve=N,ot={x:0,y:q/2},mt={x:100/125*oe,y:ot.y},Lt={x:mt.x-.2*mt.x,y:mt.y+.2*mt.x},At={x:Lt.x+.1*mt.x,y:Lt.y+.1*mt.x},jt={x:At.x+.35*mt.x,y:At.y-.35*mt.x},Jt={x:jt.x,y:-jt.y},fi={x:At.x,y:-At.y},wi={x:Lt.x,y:-Lt.y},Ni={x:mt.x,y:-mt.y},ki={x:ot.x,y:-ot.y};return`<path d="M ${[ot,mt,Lt,At,jt,Jt,fi,wi,Ni,ki].map(En=>`${(Ve+En.x).toFixed(2)} ${(Ie+En.y).toFixed(2)}`).join(" L ")}" />`}render(t,l){if(!this._renderResult)return"";const N=l-t;return N<0||N>=this._renderResult.length?"":this._renderResult[N]}}class on{constructor(t){const l=t.options,N=l.get(50),q=l.get(38);q==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):q==="svg"?(this.renderWhitespace=l.get(98),this.renderWithSVG=!0):(this.renderWhitespace=l.get(98),this.renderWithSVG=!1),this.spaceWidth=N.spaceWidth,this.middotWidth=N.middotWidth,this.wsmiddotWidth=N.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=N.canUseHalfwidthRightwardsArrow,this.lineHeight=l.get(66),this.stopRenderingLineAfter=l.get(116)}equals(t){return this.renderWhitespace===t.renderWhitespace&&this.renderWithSVG===t.renderWithSVG&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter}}var Ki=function(Kt,t,l,N){var q=arguments.length,oe=q<3?t:N===null?N=Object.getOwnPropertyDescriptor(t,l):N,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Kt,t,l,N);else for(var Ve=Kt.length-1;Ve>=0;Ve--)(Ie=Kt[Ve])&&(oe=(q<3?Ie(oe):q>3?Ie(t,l,oe):Ie(t,l))||oe);return q>3&&oe&&Object.defineProperty(t,l,oe),oe},ln=function(Kt,t){return function(l,N){t(l,N,Kt)}};let pn=class extends ie{constructor(t,l,N,q,oe,Ie,Ve){super(),this._instantiationService=Ve,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new j.Y(1,1,1,1)],this._renderAnimationFrame=null;const ot=new cs(l,q,oe,t);this._context=new Vt(l,N,q),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(qn,this._context,ot,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,K.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,K.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,K.X)(document.createElement("div")),fe.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Zt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new He(this._context,this._linesContent),this._viewZones=new nt(this._context),this._viewParts.push(this._viewZones);const mt=new Hi(this._context);this._viewParts.push(mt);const Lt=new te(this._context);this._viewParts.push(Lt);const At=new Ot(this._context);this._viewParts.push(At),At.addDynamicOverlay(new Mi(this._context)),At.addDynamicOverlay(new dt(this._context)),At.addDynamicOverlay(new ee(this._context)),At.addDynamicOverlay(new Ht(this._context)),At.addDynamicOverlay(new dn(this._context));const jt=new yt(this._context);this._viewParts.push(jt),jt.addDynamicOverlay(new _i(this._context)),jt.addDynamicOverlay(new It(this._context)),jt.addDynamicOverlay(new Et(this._context)),jt.addDynamicOverlay(new St(this._context)),this._glyphMarginWidgets=new ci(this._context),this._viewParts.push(this._glyphMarginWidgets);const Jt=new Ci(this._context);Jt.getDomNode().appendChild(this._viewZones.marginDomNode),Jt.getDomNode().appendChild(jt.getDomNode()),Jt.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(Jt),this._contentWidgets=new si(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new he(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Pi(this._context),this._viewParts.push(this._overlayWidgets);const fi=new k(this._context);this._viewParts.push(fi);const wi=new Ai(this._context);this._viewParts.push(wi);const Ni=new bi(this._context);if(this._viewParts.push(Ni),mt){const ki=this._scrollbar.getOverviewRulerLayoutInfo();ki.parent.insertBefore(mt.getDomNode(),ki.insertBefore)}this._linesContent.appendChild(At.getDomNode()),this._linesContent.appendChild(fi.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Jt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Lt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Ni.getDomNode()),this._overflowGuardContainer.appendChild(wi.domNode),this.domNode.appendChild(this._overflowGuardContainer),Ie?Ie.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new ei(this._context,ot,this._createPointerHandlerHelper()))}_computeGlyphMarginLaneCount(){const t=this._context.viewModel.model;let l=[];l=l.concat(t.getAllMarginDecorations().map(oe=>{var Ie,Ve;const ot=(Ve=(Ie=oe.options.glyphMargin)===null||Ie===void 0?void 0:Ie.position)!==null&&Ve!==void 0?Ve:yn.U.Left;return{range:oe.range,lane:ot}})),l=l.concat(this._glyphMarginWidgets.getWidgets().map(oe=>({range:t.validateRange(oe.preference.range),lane:oe.preference.lane}))),l.sort((oe,Ie)=>W.e.compareRangesUsingStarts(oe.range,Ie.range));let N=null,q=null;for(const oe of l)if(oe.lane===yn.U.Left&&(!N||W.e.compareRangesUsingEnds(N,oe.range)<0)&&(N=oe.range),oe.lane===yn.U.Right&&(!q||W.e.compareRangesUsingEnds(q,oe.range)<0)&&(q=oe.range),N&&q){if(N.endLineNumber<q.startLineNumber){N=null;continue}if(q.endLineNumber<N.startLineNumber){q=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:t=>{this._textAreaHandler.textArea.domNode.dispatchEvent(t)},getLastRenderData:()=>{const t=this._viewCursors.getLastRenderData()||[],l=this._textAreaHandler.getLastRenderData();return new ze(t,l)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:t=>this._viewZones.shouldSuppressMouseDownOnViewZone(t),shouldSuppressMouseDownOnWidget:t=>this._contentWidgets.shouldSuppressMouseDownOnWidget(t),getPositionFromDOMInfo:(t,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(t,l)),visibleRangeForPosition:(t,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new pe.L(t,l))),getLineWidth:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(t))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(t))}}_applyLayout(){const l=this._context.configuration.options.get(143);this.domNode.setWidth(l.width),this.domNode.setHeight(l.height),this._overflowGuardContainer.setWidth(l.width),this._overflowGuardContainer.setHeight(l.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+(0,kt.m6)(this._context.theme.type)+t}handleEvents(t){super.handleEvents(t),this._scheduleRender()}onConfigurationChanged(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(t){return this._selections=t.selections,!1}onDecorationsChanged(t){return t.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(t){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const t of this._viewParts)t.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new M.he;if(this._renderAnimationFrame===null){const t=this._createCoordinatedRendering();this._renderAnimationFrame=xs.INSTANCE.scheduleCoordinatedRendering({window:I.Jj(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new M.he;try{return t.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new M.he;return t.renderText()},prepareRender:(l,N)=>{if(this._store.isDisposed)throw new M.he;return t.prepareRender(l,N)},render:(l,N)=>{if(this._store.isDisposed)throw new M.he;return t.render(l,N)}})}}_flushAccumulatedAndRenderNow(){const t=this._createCoordinatedRendering();Jn(()=>t.prepareRenderText());const l=Jn(()=>t.renderText());if(l){const[N,q]=l;Jn(()=>t.prepareRender(N,q)),Jn(()=>t.render(N,q))}}_getViewPartsToRender(){const t=[];let l=0;for(const N of this._viewParts)N.shouldRender()&&(t[l++]=N);return t}_createCoordinatedRendering(){return{prepareRenderText:()=>{this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),zi.B.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let t=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&t.length===0)return null;const l=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(l.startLineNumber,l.endLineNumber,l.centeredLineNumber);const N=new oi(this._selections,l,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(N),this._viewLines.shouldRender()&&(this._viewLines.renderText(N),this._viewLines.onDidRender(),t=this._getViewPartsToRender()),[t,new Ii.xh(this._context.viewLayout,N,this._viewLines)]},prepareRender:(t,l)=>{for(const N of t)N.prepareRender(l)},render:(t,l)=>{for(const N of t)N.render(l),N.onDidRender()}}}delegateVerticalScrollbarPointerDown(t){this._scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this._scrollbar.delegateScrollFromMouseWheelEvent(t)}restoreState(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(t,l){const N=this._context.viewModel.model.validatePosition({lineNumber:t,column:l}),q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N);this._flushAccumulatedAndRenderNow();const oe=this._viewLines.visibleRangeForPosition(new pe.L(q.lineNumber,q.column));return oe?oe.left:-1}getTargetAtClientPoint(t,l){const N=this._pointerHandler.getTargetAtClientPoint(t,l);return N?Ei.convertViewToModelMouseTarget(N,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(t){return new bt(this._context,t)}change(t){this._viewZones.changeViewZones(t),this._scheduleRender()}render(t,l){if(l){this._viewLines.forceShouldRender();for(const N of this._viewParts)N.forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(t){this._textAreaHandler.writeScreenReaderContent(t)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(t){this._textAreaHandler.setAriaOptions(t)}addContentWidget(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()}layoutContentWidget(t){var l,N,q,oe,Ie,Ve,ot,mt;this._contentWidgets.setWidgetPosition(t.widget,(N=(l=t.position)===null||l===void 0?void 0:l.position)!==null&&N!==void 0?N:null,(oe=(q=t.position)===null||q===void 0?void 0:q.secondaryPosition)!==null&&oe!==void 0?oe:null,(Ve=(Ie=t.position)===null||Ie===void 0?void 0:Ie.preference)!==null&&Ve!==void 0?Ve:null,(mt=(ot=t.position)===null||ot===void 0?void 0:ot.positionAffinity)!==null&&mt!==void 0?mt:null),this._scheduleRender()}removeContentWidget(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()}addOverlayWidget(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()}layoutOverlayWidget(t){const l=t.position?t.position.preference:null;this._overlayWidgets.setWidgetPosition(t.widget,l)&&this._scheduleRender()}removeOverlayWidget(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()}addGlyphMarginWidget(t){this._glyphMarginWidgets.addWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(t){const l=t.position;this._glyphMarginWidgets.setWidgetPosition(t.widget,l)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(t){this._glyphMarginWidgets.removeWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};pn=Ki([ln(6,Dn.TG)],pn);function Jn(Kt){try{return Kt()}catch(t){return(0,M.dL)(t),null}}class xs{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(t){return this._coordinatedRenderings.push(t),this._scheduleRender(t.window),{dispose:()=>{const l=this._coordinatedRenderings.indexOf(t);if(l!==-1&&(this._coordinatedRenderings.splice(l,1),this._coordinatedRenderings.length===0)){for(const[N,q]of this._animationFrameRunners)q.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(t){if(!this._animationFrameRunners.has(t)){const l=()=>{this._animationFrameRunners.delete(t),this._onRenderScheduled()};this._animationFrameRunners.set(t,I.lI(t,l,100))}}_onRenderScheduled(){const t=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const N of t)Jn(()=>N.prepareRenderText());const l=[];for(let N=0,q=t.length;N<q;N++){const oe=t[N];l[N]=Jn(()=>oe.renderText())}for(let N=0,q=t.length;N<q;N++){const oe=t[N],Ie=l[N];if(!Ie)continue;const[Ve,ot]=Ie;Jn(()=>oe.prepareRender(Ve,ot))}for(let N=0,q=t.length;N<q;N++){const oe=t[N],Ie=l[N];if(!Ie)continue;const[Ve,ot]=Ie;Jn(()=>oe.render(Ve,ot))}}}xs.INSTANCE=new xs;var rs=e(30653),Ys=e(96518),jn=e(29102),Es=e(84901),_s=e(35534),Qn=e(55343);class Ds{constructor(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new Qn.rS(new W.e(1,1,1,1),0,0,new pe.L(1,1),0),new Qn.rS(new W.e(1,1,1,1),0,0,new pe.L(1,1),0))}dispose(t){this._removeTrackedRange(t)}startTrackingSelection(t){this._trackSelection=!0,this._updateTrackedRange(t)}stopTrackingSelection(t){this._trackSelection=!1,this._removeTrackedRange(t)}_updateTrackedRange(t){this._trackSelection&&(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Qn.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(t){const l=t.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!l.isEmpty()?j.Y.fromRange(l.collapseToEnd(),this.modelState.selection.getDirection()):j.Y.fromRange(l,this.modelState.selection.getDirection())}ensureValidState(t){this._setState(t,this.modelState,this.viewState)}setState(t,l,N){this._setState(t,l,N)}static _validatePositionWithCache(t,l,N,q){return l.equals(N)?q:t.normalizePosition(l,2)}static _validateViewState(t,l){const N=l.position,q=l.selectionStart.getStartPosition(),oe=l.selectionStart.getEndPosition(),Ie=t.normalizePosition(N,2),Ve=this._validatePositionWithCache(t,q,N,Ie),ot=this._validatePositionWithCache(t,oe,q,Ve);return N.equals(Ie)&&q.equals(Ve)&&oe.equals(ot)?l:new Qn.rS(W.e.fromPositions(Ve,ot),l.selectionStartKind,l.selectionStartLeftoverVisibleColumns+q.column-Ve.column,Ie,l.leftoverVisibleColumns+N.column-Ie.column)}_setState(t,l,N){if(N&&(N=Ds._validateViewState(t.viewModel,N)),l){const q=t.model.validateRange(l.selectionStart),oe=l.selectionStart.equalsRange(q)?l.selectionStartLeftoverVisibleColumns:0,Ie=t.model.validatePosition(l.position),Ve=l.position.equals(Ie)?l.leftoverVisibleColumns:0;l=new Qn.rS(q,l.selectionStartKind,oe,Ie,Ve)}else{if(!N)return;const q=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(N.selectionStart)),oe=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(N.position));l=new Qn.rS(q,N.selectionStartKind,N.selectionStartLeftoverVisibleColumns,oe,N.leftoverVisibleColumns)}if(N){const q=t.coordinatesConverter.validateViewRange(N.selectionStart,l.selectionStart),oe=t.coordinatesConverter.validateViewPosition(N.position,l.position);N=new Qn.rS(q,l.selectionStartKind,l.selectionStartLeftoverVisibleColumns,oe,l.leftoverVisibleColumns)}else{const q=t.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(l.selectionStart.startLineNumber,l.selectionStart.startColumn)),oe=t.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(l.selectionStart.endLineNumber,l.selectionStart.endColumn)),Ie=new W.e(q.lineNumber,q.column,oe.lineNumber,oe.column),Ve=t.coordinatesConverter.convertModelPositionToViewPosition(l.position);N=new Qn.rS(Ie,l.selectionStartKind,l.selectionStartLeftoverVisibleColumns,Ve,l.leftoverVisibleColumns)}this.modelState=l,this.viewState=N,this._updateTrackedRange(t)}}class zs{constructor(t){this.context=t,this.cursors=[new Ds(t)],this.lastAddedCursorIndex=0}dispose(){for(const t of this.cursors)t.dispose(this.context)}startTrackingSelections(){for(const t of this.cursors)t.startTrackingSelection(this.context)}stopTrackingSelections(){for(const t of this.cursors)t.stopTrackingSelection(this.context)}updateContext(t){this.context=t}ensureValidState(){for(const t of this.cursors)t.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(t=>t.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(t=>t.asCursorState())}getViewPositions(){return this.cursors.map(t=>t.viewState.position)}getTopMostViewPosition(){return(0,_s.Ph)(this.cursors,(0,u.tT)(t=>t.viewState.position,pe.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,_s.jV)(this.cursors,(0,u.tT)(t=>t.viewState.position,pe.L.compare)).viewState.position}getSelections(){return this.cursors.map(t=>t.modelState.selection)}getViewSelections(){return this.cursors.map(t=>t.viewState.selection)}setSelections(t){this.setStates(Qn.Vi.fromModelSelections(t))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(t){t!==null&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))}_setSecondaryStates(t){const l=this.cursors.length-1,N=t.length;if(l<N){const q=N-l;for(let oe=0;oe<q;oe++)this._addSecondaryCursor()}else if(l>N){const q=l-N;for(let oe=0;oe<q;oe++)this._removeSecondaryCursor(this.cursors.length-2)}for(let q=0;q<N;q++)this.cursors[q+1].setState(this.context,t[q].modelState,t[q].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Ds(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)}normalize(){if(this.cursors.length===1)return;const t=this.cursors.slice(0),l=[];for(let N=0,q=t.length;N<q;N++)l.push({index:N,selection:t[N].modelState.selection});l.sort((0,u.tT)(N=>N.selection,W.e.compareRangesUsingStarts));for(let N=0;N<l.length-1;N++){const q=l[N],oe=l[N+1],Ie=q.selection,Ve=oe.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ot;if(Ve.isEmpty()||Ie.isEmpty()?ot=Ve.getStartPosition().isBeforeOrEqual(Ie.getEndPosition()):ot=Ve.getStartPosition().isBefore(Ie.getEndPosition()),ot){const mt=q.index<oe.index?N:N+1,Lt=q.index<oe.index?N+1:N,At=l[Lt].index,jt=l[mt].index,Jt=l[Lt].selection,fi=l[mt].selection;if(!Jt.equalsSelection(fi)){const wi=Jt.plusRange(fi),Ni=Jt.selectionStartLineNumber===Jt.startLineNumber&&Jt.selectionStartColumn===Jt.startColumn,ki=fi.selectionStartLineNumber===fi.startLineNumber&&fi.selectionStartColumn===fi.startColumn;let Ji;At===this.lastAddedCursorIndex?(Ji=Ni,this.lastAddedCursorIndex=jt):Ji=ki;let rn;Ji?rn=new j.Y(wi.startLineNumber,wi.startColumn,wi.endLineNumber,wi.endColumn):rn=new j.Y(wi.endLineNumber,wi.endColumn,wi.startLineNumber,wi.startColumn),l[mt].selection=rn;const En=Qn.Vi.fromModelSelection(rn);t[jt].setState(this.context,En.modelState,En.viewState)}for(const wi of l)wi.index>At&&wi.index--;t.splice(At,1),l.splice(Lt,1),this._removeSecondaryCursor(At-1),N--}}}}class ao{constructor(t,l,N,q){this._cursorContextBrand=void 0,this.model=t,this.viewModel=l,this.coordinatesConverter=N,this.cursorConfig=q}}var yr=e(29436),ws=e(94729),$s=e(14706);class Qo{constructor(){this.type=0}}class La{constructor(){this.type=1}}class Fo{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class cr{constructor(t,l,N){this.selections=t,this.modelSelections=l,this.reason=N,this.type=3}}class Lo{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler,this.affectsGlyphMargin=t.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class dr{constructor(){this.type=5}}class Sr{constructor(t){this.type=6,this.isFocused=t}}class Gr{constructor(){this.type=7}}class Us{constructor(){this.type=8}}class Bo{constructor(t,l){this.fromLineNumber=t,this.count=l,this.type=9}}class lo{constructor(t,l){this.type=10,this.fromLineNumber=t,this.toLineNumber=l}}class Wo{constructor(t,l){this.type=11,this.fromLineNumber=t,this.toLineNumber=l}}class Eo{constructor(t,l,N,q,oe,Ie,Ve){this.source=t,this.minimalReveal=l,this.range=N,this.selections=q,this.verticalType=oe,this.revealHorizontal=Ie,this.scrollType=Ve,this.type=12}}class wr{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class Ho{constructor(t){this.theme=t,this.type=14}}class Zr{constructor(t){this.type=15,this.ranges=t}}class Ea{constructor(){this.type=16}}class Ps{constructor(){this.type=17}}class Os extends p.JT{constructor(){super(),this._onEvent=this._register(new D.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let l=0,N=this._outgoingEvents.length;l<N;l++){const q=this._outgoingEvents[l].kind===t.kind?this._outgoingEvents[l].attemptToMerge(t):null;if(q){this._outgoingEvents[l]=q;return}}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let l=0,N=this._eventHandlers.length;l<N;l++)this._eventHandlers[l]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)}removeViewEventHandler(t){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===t){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Yo),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const t=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const N of t)this._addOutgoingEvent(N);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const N of l)N.handleEvents(t)}}}class Yo{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class xo{constructor(t,l,N,q){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=l,this.contentWidth=N,this.contentHeight=q,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new xo(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class ur{constructor(t,l){this.kind=1,this.oldHasFocus=t,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new ur(this.oldHasFocus,t.hasFocus)}}class Qr{constructor(t,l,N,q,oe,Ie,Ve,ot){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=l,this._oldScrollHeight=N,this._oldScrollTop=q,this.scrollWidth=oe,this.scrollLeft=Ie,this.scrollHeight=Ve,this.scrollTop=ot,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(t){return t.kind!==this.kind?null:new Qr(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class Yr{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Or{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Ar{constructor(t,l,N,q,oe,Ie,Ve){this.kind=6,this.oldSelections=t,this.selections=l,this.oldModelVersionId=N,this.modelVersionId=q,this.source=oe,this.reason=Ie,this.reachedMaxCursorCount=Ve}static _selectionsAreEqual(t,l){if(!t&&!l)return!0;if(!t||!l)return!1;const N=t.length,q=l.length;if(N!==q)return!1;for(let oe=0;oe<N;oe++)if(!t[oe].equalsSelection(l[oe]))return!1;return!0}isNoOp(){return Ar._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new Ar(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class hr{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Xr{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class Xo{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class kr{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class Jr{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class Co{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class go{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}class Vn extends p.JT{constructor(t,l,N,q){super(),this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=l,this._coordinatesConverter=N,this.context=new ao(this._model,this._viewModel,this._coordinatesConverter,q),this._cursors=new zs(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,p.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new ao(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const t=this._cursors.getSelections();for(let l=0;l<this._autoClosedActions.length;l++){const N=this._autoClosedActions[l];N.isValid(t)||(N.dispose(),this._autoClosedActions.splice(l,1),l--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,l,N,q){let oe=!1;const Ie=this.context.cursorConfig.multiCursorLimit;q!==null&&q.length>Ie&&(q=q.slice(0,Ie),oe=!0);const Ve=jo.from(this._model,this);return this._cursors.setStates(q),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,l,N,Ve,oe)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,l,N,q,oe,Ie){const Ve=this._cursors.getViewPositions();let ot=null,mt=null;Ve.length>1?mt=this._cursors.getViewSelections():ot=W.e.fromPositions(Ve[0],Ve[0]),t.emitViewEvent(new Eo(l,N,ot,mt,q,oe,Ie))}saveState(){const t=[],l=this._cursors.getSelections();for(let N=0,q=l.length;N<q;N++){const oe=l[N];t.push({inSelectionMode:!oe.isEmpty(),selectionStart:{lineNumber:oe.selectionStartLineNumber,column:oe.selectionStartColumn},position:{lineNumber:oe.positionLineNumber,column:oe.positionColumn}})}return t}restoreState(t,l){const N=[];for(let q=0,oe=l.length;q<oe;q++){const Ie=l[q];let Ve=1,ot=1;Ie.position&&Ie.position.lineNumber&&(Ve=Ie.position.lineNumber),Ie.position&&Ie.position.column&&(ot=Ie.position.column);let mt=Ve,Lt=ot;Ie.selectionStart&&Ie.selectionStart.lineNumber&&(mt=Ie.selectionStart.lineNumber),Ie.selectionStart&&Ie.selectionStart.column&&(Lt=Ie.selectionStart.column),N.push({selectionStartLineNumber:mt,selectionStartColumn:Lt,positionLineNumber:Ve,positionColumn:ot})}this.setStates(t,"restoreState",0,Qn.Vi.fromModelSelections(N)),this.revealPrimary(t,"restoreState",!1,0,!0,1)}onModelContentChanged(t,l){if(l instanceof $s.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const N=l.rawContentChangedEvent;if(this._knownModelVersionId=N.versionId,this._isHandling)return;const q=N.containsEvent(1);if(this._prevEditOperationType=0,q)this._cursors.dispose(),this._cursors=new zs(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&N.resultingSelection&&N.resultingSelection.length>0){const oe=Qn.Vi.fromModelSelections(N.resultingSelection);this.setStates(t,"modelChange",N.isUndoing?5:N.isRedoing?6:2,oe)&&this.revealPrimary(t,"modelChange",!1,0,!0,0)}else{const oe=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,Qn.Vi.fromModelSelections(oe))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),l=t.viewState.selectionStart.getStartPosition(),N=t.viewState.position;return{isReal:!1,fromViewLineNumber:l.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,l),toViewLineNumber:N.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,N)}}getSelections(){return this._cursors.getSelections()}setSelections(t,l,N,q){this.setStates(t,l,q,Qn.Vi.fromModelSelections(N))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,l){const N=[],q=[];for(let Ve=0,ot=t.length;Ve<ot;Ve++)N.push({range:t[Ve],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),q.push({range:l[Ve],options:{description:"auto-closed-enclosing",stickiness:1}});const oe=this._model.deltaDecorations([],N),Ie=this._model.deltaDecorations([],q);this._autoClosedActions.push(new qr(this._model,oe,Ie))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const l=ea.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(l){this._interpretCommandResult(l);const N=[],q=[];for(let oe=0;oe<t.commands.length;oe++){const Ie=t.commands[oe];Ie instanceof ws.g_&&Ie.enclosingRange&&Ie.closeCharacterRange&&(N.push(Ie.closeCharacterRange),q.push(Ie.enclosingRange))}N.length>0&&this._pushAutoClosedAction(N,q),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,l,N,q,oe){const Ie=jo.from(this._model,this);if(Ie.equals(q))return!1;const Ve=this._cursors.getSelections(),ot=this._cursors.getViewSelections();if(t.emitViewEvent(new cr(ot,Ve,N)),!q||q.cursorState.length!==Ie.cursorState.length||Ie.cursorState.some((mt,Lt)=>!mt.modelState.equals(q.cursorState[Lt].modelState))){const mt=q?q.cursorState.map(At=>At.modelState.selection):null,Lt=q?q.modelVersionId:0;t.emitOutgoingEvent(new Ar(mt,Ve,Lt,Ie.modelVersionId,l||"keyboard",N,oe))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;const l=[];for(let N=0,q=t.length;N<q;N++){const oe=t[N];if(!oe.text||oe.text.indexOf(`
`)>=0)return null;const Ie=oe.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Ie)return null;const Ve=Ie[1],ot=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ve);if(!ot||ot.length!==1)return null;const mt=ot[0].open,Lt=oe.text.length-Ie[2].length-1,At=oe.text.lastIndexOf(mt,Lt-1);if(At===-1)return null;l.push([At,Lt])}return l}executeEdits(t,l,N,q){let oe=null;l==="snippet"&&(oe=this._findAutoClosingPairs(N)),oe&&(N[0]._isTracked=!0);const Ie=[],Ve=[],ot=this._model.pushEditOperations(this.getSelections(),N,mt=>{if(oe)for(let At=0,jt=oe.length;At<jt;At++){const[Jt,fi]=oe[At],wi=mt[At],Ni=wi.range.startLineNumber,ki=wi.range.startColumn-1+Jt,Ji=wi.range.startColumn-1+fi;Ie.push(new W.e(Ni,Ji+1,Ni,Ji+2)),Ve.push(new W.e(Ni,ki+1,Ni,Ji+2))}const Lt=q(mt);return Lt&&(this._isHandling=!0),Lt});ot&&(this._isHandling=!1,this.setSelections(t,l,ot,0)),Ie.length>0&&this._pushAutoClosedAction(Ie,Ve)}_executeEdit(t,l,N,q=0){if(this.context.cursorConfig.readOnly)return;const oe=jo.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(Ie){(0,M.dL)(Ie)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,N,q,oe,!1)&&this.revealPrimary(l,N,!1,0,!0,0)}getAutoClosedCharacters(){return qr.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._compositionState=new Jo(this._model,this.getSelections())}endComposition(t,l){const N=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{l==="keyboard"&&this._executeEditOperation(ws.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,N,this.getSelections(),this.getAutoClosedCharacters()))},t,l)}type(t,l,N){this._executeEdit(()=>{if(N==="keyboard"){const q=l.length;let oe=0;for(;oe<q;){const Ie=Xt.vH(l,oe),Ve=l.substr(oe,Ie);this._executeEditOperation(ws.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Ve)),oe+=Ie}}else this._executeEditOperation(ws.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l))},t,N)}compositionType(t,l,N,q,oe,Ie){if(l.length===0&&N===0&&q===0){if(oe!==0){const Ve=this.getSelections().map(ot=>{const mt=ot.getPosition();return new j.Y(mt.lineNumber,mt.column+oe,mt.lineNumber,mt.column+oe)});this.setSelections(t,Ie,Ve,0)}return}this._executeEdit(()=>{this._executeEditOperation(ws.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l,N,q,oe))},t,Ie)}paste(t,l,N,q,oe){this._executeEdit(()=>{this._executeEditOperation(ws.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),l,N,q||[]))},t,oe,4)}cut(t,l){this._executeEdit(()=>{this._executeEditOperation(yr.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,l)}executeCommand(t,l,N){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Qn.Tp(0,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,N)}executeCommands(t,l,N){this._executeEdit(()=>{this._executeEditOperation(new Qn.Tp(0,l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,N)}}class jo{static from(t,l){return new jo(t.getVersionId(),l.getCursorStates())}constructor(t,l){this.modelVersionId=t,this.cursorState=l}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let l=0,N=this.cursorState.length;l<N;l++)if(!this.cursorState[l].equals(t.cursorState[l]))return!1;return!0}}class qr{static getAllAutoClosedCharacters(t){let l=[];for(const N of t)l=l.concat(N.getAutoClosedCharactersRanges());return l}constructor(t,l,N){this._model=t,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=N}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const t=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const N=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);N&&t.push(N)}return t}isValid(t){const l=[];for(let N=0;N<this._autoClosedEnclosingDecorations.length;N++){const q=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[N]);if(q&&(l.push(q),q.startLineNumber!==q.endLineNumber))return!1}l.sort(W.e.compareRangesUsingStarts),t.sort(W.e.compareRangesUsingStarts);for(let N=0;N<t.length;N++)if(N>=l.length||!l[N].strictContainsRange(t[N]))return!1;return!0}}class ea{static executeCommands(t,l,N){const q={model:t,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},oe=this._innerExecuteCommands(q,N);for(let Ie=0,Ve=q.trackedRanges.length;Ie<Ve;Ie++)q.model._setTrackedRange(q.trackedRanges[Ie],null,0);return oe}static _innerExecuteCommands(t,l){if(this._arrayIsEmpty(l))return null;const N=this._getEditOperations(t,l);if(N.operations.length===0)return null;const q=N.operations,oe=this._getLoserCursorMap(q);if(oe.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Ie=[];for(let mt=0,Lt=q.length;mt<Lt;mt++)oe.hasOwnProperty(q[mt].identifier.major.toString())||Ie.push(q[mt]);N.hadTrackedEditOperation&&Ie.length>0&&(Ie[0]._isTracked=!0);let Ve=t.model.pushEditOperations(t.selectionsBefore,Ie,mt=>{const Lt=[];for(let Jt=0;Jt<t.selectionsBefore.length;Jt++)Lt[Jt]=[];for(const Jt of mt)Jt.identifier&&Lt[Jt.identifier.major].push(Jt);const At=(Jt,fi)=>Jt.identifier.minor-fi.identifier.minor,jt=[];for(let Jt=0;Jt<t.selectionsBefore.length;Jt++)Lt[Jt].length>0?(Lt[Jt].sort(At),jt[Jt]=l[Jt].computeCursorState(t.model,{getInverseEditOperations:()=>Lt[Jt],getTrackedSelection:fi=>{const wi=parseInt(fi,10),Ni=t.model._getTrackedRange(t.trackedRanges[wi]);return t.trackedRangesDirection[wi]===0?new j.Y(Ni.startLineNumber,Ni.startColumn,Ni.endLineNumber,Ni.endColumn):new j.Y(Ni.endLineNumber,Ni.endColumn,Ni.startLineNumber,Ni.startColumn)}})):jt[Jt]=t.selectionsBefore[Jt];return jt});Ve||(Ve=t.selectionsBefore);const ot=[];for(const mt in oe)oe.hasOwnProperty(mt)&&ot.push(parseInt(mt,10));ot.sort((mt,Lt)=>Lt-mt);for(const mt of ot)Ve.splice(mt,1);return Ve}static _arrayIsEmpty(t){for(let l=0,N=t.length;l<N;l++)if(t[l])return!1;return!0}static _getEditOperations(t,l){let N=[],q=!1;for(let oe=0,Ie=l.length;oe<Ie;oe++){const Ve=l[oe];if(Ve){const ot=this._getEditOperationsFromCommand(t,oe,Ve);N=N.concat(ot.operations),q=q||ot.hadTrackedEditOperation}}return{operations:N,hadTrackedEditOperation:q}}static _getEditOperationsFromCommand(t,l,N){const q=[];let oe=0;const Ie=(At,jt,Jt=!1)=>{W.e.isEmpty(At)&&jt===""||q.push({identifier:{major:l,minor:oe++},range:At,text:jt,forceMoveMarkers:Jt,isAutoWhitespaceEdit:N.insertsAutoWhitespace})};let Ve=!1;const Lt={addEditOperation:Ie,addTrackedEditOperation:(At,jt,Jt)=>{Ve=!0,Ie(At,jt,Jt)},trackSelection:(At,jt)=>{const Jt=j.Y.liftSelection(At);let fi;if(Jt.isEmpty())if(typeof jt=="boolean")jt?fi=2:fi=3;else{const ki=t.model.getLineMaxColumn(Jt.startLineNumber);Jt.startColumn===ki?fi=2:fi=3}else fi=1;const wi=t.trackedRanges.length,Ni=t.model._setTrackedRange(null,Jt,fi);return t.trackedRanges[wi]=Ni,t.trackedRangesDirection[wi]=Jt.getDirection(),wi.toString()}};try{N.getEditOperations(t.model,Lt)}catch(At){return(0,M.dL)(At),{operations:[],hadTrackedEditOperation:!1}}return{operations:q,hadTrackedEditOperation:Ve}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((N,q)=>-W.e.compareRangesUsingEnds(N.range,q.range));const l={};for(let N=1;N<t.length;N++){const q=t[N-1],oe=t[N];if(W.e.getStartPosition(q.range).isBefore(W.e.getEndPosition(oe.range))){let Ie;q.identifier.major>oe.identifier.major?Ie=q.identifier.major:Ie=oe.identifier.major,l[Ie.toString()]=!0;for(let Ve=0;Ve<t.length;Ve++)t[Ve].identifier.major===Ie&&(t.splice(Ve,1),Ve<N&&N--,Ve--);N>0&&N--}}return l}}class mo{constructor(t,l,N){this.text=t,this.startSelection=l,this.endSelection=N}}class Jo{static _capture(t,l){const N=[];for(const q of l){if(q.startLineNumber!==q.endLineNumber)return null;N.push(new mo(t.getLineContent(q.startLineNumber),q.startColumn-1,q.endColumn-1))}return N}constructor(t,l){this._original=Jo._capture(t,l)}deduceOutcome(t,l){if(!this._original)return null;const N=Jo._capture(t,l);if(!N||this._original.length!==N.length)return null;const q=[];for(let oe=0,Ie=this._original.length;oe<Ie;oe++)q.push(Jo._deduceOutcome(this._original[oe],N[oe]));return q}static _deduceOutcome(t,l){const N=Math.min(t.startSelection,l.startSelection,Xt.Mh(t.text,l.text)),q=Math.min(t.text.length-t.endSelection,l.text.length-l.endSelection,Xt.P1(t.text,l.text)),oe=t.text.substring(N,t.text.length-q),Ie=l.text.substring(N,l.text.length-q);return new ws.Nu(oe,t.startSelection-N,t.endSelection-N,Ie,l.startSelection-N,l.endSelection-N)}}var qo=e(68801),Fr=e(82963),ds=e(76633);class ms{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const l=this._inserts,N=this._changes,q=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(l,N,q)}}class As{constructor(t,l,N,q,oe){this.id=t,this.afterLineNumber=l,this.ordinal=N,this.height=q,this.minWidth=oe,this.prefixSum=0}}class ks{constructor(t,l,N,q){this._instanceId=Xt.PJ(++ks.INSTANCE_COUNT),this._pendingChanges=new ms,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=l,this._paddingTop=N,this._paddingBottom=q}static findInsertionIndex(t,l,N){let q=0,oe=t.length;for(;q<oe;){const Ie=q+oe>>>1;l===t[Ie].afterLineNumber?N<t[Ie].ordinal?oe=Ie:q=Ie+1:l<t[Ie].afterLineNumber?oe=Ie:q=Ie+1}return q}setLineHeight(t){this._checkPendingChanges(),this._lineHeight=t}setPadding(t,l){this._paddingTop=t,this._paddingBottom=l}onFlushed(t){this._checkPendingChanges(),this._lineCount=t}changeWhitespace(t){let l=!1;try{t({insertWhitespace:(q,oe,Ie,Ve)=>{l=!0,q=q|0,oe=oe|0,Ie=Ie|0,Ve=Ve|0;const ot=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new As(ot,q,oe,Ie,Ve)),ot},changeOneWhitespace:(q,oe,Ie)=>{l=!0,oe=oe|0,Ie=Ie|0,this._pendingChanges.change({id:q,newAfterLineNumber:oe,newHeight:Ie})},removeWhitespace:q=>{l=!0,this._pendingChanges.remove({id:q})}})}finally{this._pendingChanges.commit(this)}return l}_commitPendingChanges(t,l,N){if((t.length>0||N.length>0)&&(this._minWidth=-1),t.length+l.length+N.length<=1){for(const ot of t)this._insertWhitespace(ot);for(const ot of l)this._changeOneWhitespace(ot.id,ot.newAfterLineNumber,ot.newHeight);for(const ot of N){const mt=this._findWhitespaceIndex(ot.id);mt!==-1&&this._removeWhitespace(mt)}return}const q=new Set;for(const ot of N)q.add(ot.id);const oe=new Map;for(const ot of l)oe.set(ot.id,ot);const Ie=ot=>{const mt=[];for(const Lt of ot)if(!q.has(Lt.id)){if(oe.has(Lt.id)){const At=oe.get(Lt.id);Lt.afterLineNumber=At.newAfterLineNumber,Lt.height=At.newHeight}mt.push(Lt)}return mt},Ve=Ie(this._arr).concat(Ie(t));Ve.sort((ot,mt)=>ot.afterLineNumber===mt.afterLineNumber?ot.ordinal-mt.ordinal:ot.afterLineNumber-mt.afterLineNumber),this._arr=Ve,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const l=ks.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(l,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,l-1)}_findWhitespaceIndex(t){const l=this._arr;for(let N=0,q=l.length;N<q;N++)if(l[N].id===t)return N;return-1}_changeOneWhitespace(t,l,N){const q=this._findWhitespaceIndex(t);if(q!==-1&&(this._arr[q].height!==N&&(this._arr[q].height=N,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,q-1)),this._arr[q].afterLineNumber!==l)){const oe=this._arr[q];this._removeWhitespace(q),oe.afterLineNumber=l,this._insertWhitespace(oe)}}_removeWhitespace(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}onLinesDeleted(t,l){this._checkPendingChanges(),t=t|0,l=l|0,this._lineCount-=l-t+1;for(let N=0,q=this._arr.length;N<q;N++){const oe=this._arr[N].afterLineNumber;t<=oe&&oe<=l?this._arr[N].afterLineNumber=t-1:oe>l&&(this._arr[N].afterLineNumber-=l-t+1)}}onLinesInserted(t,l){this._checkPendingChanges(),t=t|0,l=l|0,this._lineCount+=l-t+1;for(let N=0,q=this._arr.length;N<q;N++){const oe=this._arr[N].afterLineNumber;t<=oe&&(this._arr[N].afterLineNumber+=l-t+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(t){this._checkPendingChanges(),t=t|0;let l=Math.max(0,this._prefixSumValidIndex+1);l===0&&(this._arr[0].prefixSum=this._arr[0].height,l++);for(let N=l;N<=t;N++)this._arr[N].prefixSum=this._arr[N-1].prefixSum+this._arr[N].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const t=this._lineHeight*this._lineCount,l=this.getWhitespacesTotalHeight();return t+l+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(t){this._checkPendingChanges(),t=t|0;const l=this._findLastWhitespaceBeforeLineNumber(t);return l===-1?0:this.getWhitespacesAccumulatedHeight(l)}_findLastWhitespaceBeforeLineNumber(t){t=t|0;const l=this._arr;let N=0,q=l.length-1;for(;N<=q;){const Ie=(q-N|0)/2|0,Ve=N+Ie|0;if(l[Ve].afterLineNumber<t){if(Ve+1>=l.length||l[Ve+1].afterLineNumber>=t)return Ve;N=Ve+1|0}else q=Ve-1|0}return-1}_findFirstWhitespaceAfterLineNumber(t){t=t|0;const N=this._findLastWhitespaceBeforeLineNumber(t)+1;return N<this._arr.length?N:-1}getFirstWhitespaceIndexAfterLineNumber(t){return this._checkPendingChanges(),t=t|0,this._findFirstWhitespaceAfterLineNumber(t)}getVerticalOffsetForLineNumber(t,l=!1){this._checkPendingChanges(),t=t|0;let N;t>1?N=this._lineHeight*(t-1):N=0;const q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t-(l?1:0));return N+q+this._paddingTop}getVerticalOffsetAfterLineNumber(t,l=!1){this._checkPendingChanges(),t=t|0;const N=this._lineHeight*t,q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t+(l?1:0));return N+q+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let t=0;for(let l=0,N=this._arr.length;l<N;l++)t=Math.max(t,this._arr[l].minWidth);this._minWidth=t}return this._minWidth}isAfterLines(t){this._checkPendingChanges();const l=this.getLinesTotalHeight();return t>l}isInTopPadding(t){return this._paddingTop===0?!1:(this._checkPendingChanges(),t<this._paddingTop)}isInBottomPadding(t){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const l=this.getLinesTotalHeight();return t>=l-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(t){if(this._checkPendingChanges(),t=t|0,t<0)return 1;const l=this._lineCount|0,N=this._lineHeight;let q=1,oe=l;for(;q<oe;){const Ie=(q+oe)/2|0,Ve=this.getVerticalOffsetForLineNumber(Ie)|0;if(t>=Ve+N)q=Ie+1;else{if(t>=Ve)return Ie;oe=Ie}}return q>l?l:q}getLinesViewportData(t,l){this._checkPendingChanges(),t=t|0,l=l|0;const N=this._lineHeight,q=this.getLineNumberAtOrAfterVerticalOffset(t)|0,oe=this.getVerticalOffsetForLineNumber(q)|0;let Ie=this._lineCount|0,Ve=this.getFirstWhitespaceIndexAfterLineNumber(q)|0;const ot=this.getWhitespacesCount()|0;let mt,Lt;Ve===-1?(Ve=ot,Lt=Ie+1,mt=0):(Lt=this.getAfterLineNumberForWhitespaceIndex(Ve)|0,mt=this.getHeightForWhitespaceIndex(Ve)|0);let At=oe,jt=At;const Jt=5e5;let fi=0;oe>=Jt&&(fi=Math.floor(oe/Jt)*Jt,fi=Math.floor(fi/N)*N,jt-=fi);const wi=[],Ni=t+(l-t)/2;let ki=-1;for(let _n=q;_n<=Ie;_n++){if(ki===-1){const zn=At,Wn=At+N;(zn<=Ni&&Ni<Wn||zn>Ni)&&(ki=_n)}for(At+=N,wi[_n-q]=jt,jt+=N;Lt===_n;)jt+=mt,At+=mt,Ve++,Ve>=ot?Lt=Ie+1:(Lt=this.getAfterLineNumberForWhitespaceIndex(Ve)|0,mt=this.getHeightForWhitespaceIndex(Ve)|0);if(At>=l){Ie=_n;break}}ki===-1&&(ki=Ie);const Ji=this.getVerticalOffsetForLineNumber(Ie)|0;let rn=q,En=Ie;return rn<En&&oe<t&&rn++,rn<En&&Ji+N>l&&En--,{bigNumbersDelta:fi,startLineNumber:q,endLineNumber:Ie,relativeVerticalOffset:wi,centeredLineNumber:ki,completelyVisibleStartLineNumber:rn,completelyVisibleEndLineNumber:En}}getVerticalOffsetForWhitespaceIndex(t){this._checkPendingChanges(),t=t|0;const l=this.getAfterLineNumberForWhitespaceIndex(t);let N;l>=1?N=this._lineHeight*l:N=0;let q;return t>0?q=this.getWhitespacesAccumulatedHeight(t-1):q=0,N+q+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(t){this._checkPendingChanges(),t=t|0;let l=0,N=this.getWhitespacesCount()-1;if(N<0)return-1;const q=this.getVerticalOffsetForWhitespaceIndex(N),oe=this.getHeightForWhitespaceIndex(N);if(t>=q+oe)return-1;for(;l<N;){const Ie=Math.floor((l+N)/2),Ve=this.getVerticalOffsetForWhitespaceIndex(Ie),ot=this.getHeightForWhitespaceIndex(Ie);if(t>=Ve+ot)l=Ie+1;else{if(t>=Ve)return Ie;N=Ie}}return l}getWhitespaceAtVerticalOffset(t){this._checkPendingChanges(),t=t|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(l<0||l>=this.getWhitespacesCount())return null;const N=this.getVerticalOffsetForWhitespaceIndex(l);if(N>t)return null;const q=this.getHeightForWhitespaceIndex(l),oe=this.getIdForWhitespaceIndex(l),Ie=this.getAfterLineNumberForWhitespaceIndex(l);return{id:oe,afterLineNumber:Ie,verticalOffset:N,height:q}}getWhitespaceViewportData(t,l){this._checkPendingChanges(),t=t|0,l=l|0;const N=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),q=this.getWhitespacesCount()-1;if(N<0)return[];const oe=[];for(let Ie=N;Ie<=q;Ie++){const Ve=this.getVerticalOffsetForWhitespaceIndex(Ie),ot=this.getHeightForWhitespaceIndex(Ie);if(Ve>=l)break;oe.push({id:this.getIdForWhitespaceIndex(Ie),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Ie),verticalOffset:Ve,height:ot})}return oe}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].id}getAfterLineNumberForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].afterLineNumber}getHeightForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].height}}ks.INSTANCE_COUNT=0;const Fs=125;class oo{constructor(t,l,N,q){t=t|0,l=l|0,N=N|0,q=q|0,t<0&&(t=0),l<0&&(l=0),N<0&&(N=0),q<0&&(q=0),this.width=t,this.contentWidth=l,this.scrollWidth=Math.max(t,l),this.height=N,this.contentHeight=q,this.scrollHeight=Math.max(N,q)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class Ns extends p.JT{constructor(t,l){super(),this._onDidContentSizeChange=this._register(new D.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new oo(0,0,0,0),this._scrollable=this._register(new ds.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:l})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const l=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const N=l.contentWidth!==t.contentWidth,q=l.contentHeight!==t.contentHeight;(N||q)&&this._onDidContentSizeChange.fire(new xo(l.contentWidth,l.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class bo extends p.JT{constructor(t,l,N){super(),this._configuration=t;const q=this._configuration.options,oe=q.get(143),Ie=q.get(83);this._linesLayout=new ks(l,q.get(66),Ie.top,Ie.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Ns(0,N)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new oo(oe.contentWidth,0,oe.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?Fs:0)}onConfigurationChanged(t){const l=this._configuration.options;if(t.hasChanged(66)&&this._linesLayout.setLineHeight(l.get(66)),t.hasChanged(83)){const N=l.get(83);this._linesLayout.setPadding(N.top,N.bottom)}if(t.hasChanged(143)){const N=l.get(143),q=N.contentWidth,oe=N.height,Ie=this._scrollable.getScrollDimensions(),Ve=Ie.contentWidth;this._scrollable.setScrollDimensions(new oo(q,Ie.contentWidth,oe,this._getContentHeight(q,oe,Ve)))}else this._updateHeight();t.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,l){this._linesLayout.onLinesDeleted(t,l)}onLinesInserted(t,l){this._linesLayout.onLinesInserted(t,l)}_getHorizontalScrollbarHeight(t,l){const q=this._configuration.options.get(102);return q.horizontal===2||t>=l?0:q.horizontalScrollbarSize}_getContentHeight(t,l,N){const q=this._configuration.options;let oe=this._linesLayout.getLinesTotalHeight();return q.get(104)?oe+=Math.max(0,l-q.get(66)-q.get(83).bottom):q.get(102).ignoreHorizontalScrollbarInContentHeight||(oe+=this._getHorizontalScrollbarHeight(t,N)),oe}_updateHeight(){const t=this._scrollable.getScrollDimensions(),l=t.width,N=t.height,q=t.contentWidth;this._scrollable.setScrollDimensions(new oo(l,t.contentWidth,N,this._getContentHeight(l,N,q)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),l=this._scrollable.getCurrentScrollPosition();return new ui.l_(l.scrollTop,l.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),l=this._scrollable.getFutureScrollPosition();return new ui.l_(l.scrollTop,l.scrollLeft,t.width,t.height)}_computeContentWidth(){const t=this._configuration.options,l=this._maxLineWidth,N=t.get(144),q=t.get(50),oe=t.get(143);if(N.isViewportWrapping){const Ie=t.get(72);return l>oe.contentWidth+q.typicalHalfwidthCharacterWidth&&Ie.enabled&&Ie.side==="right"?l+oe.verticalScrollbarWidth:l}else{const Ie=t.get(103)*q.typicalHalfwidthCharacterWidth,Ve=this._linesLayout.getWhitespaceMinWidth();return Math.max(l+Ie+oe.verticalScrollbarWidth,Ve,this._overlayWidgetsMinWidth)}}setMaxLineWidth(t){this._maxLineWidth=t,this._updateContentWidth()}setOverlayWidgetsMinWidth(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()}_updateContentWidth(){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new oo(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),l=t.scrollTop,N=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l),q=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(N);return{scrollTop:l,scrollTopWithoutViewZones:l-q,scrollLeft:t.scrollLeft}}changeWhitespace(t){const l=this._linesLayout.changeWhitespace(t);return l&&this.onHeightMaybeChanged(),l}getVerticalOffsetForLineNumber(t,l=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,l)}getVerticalOffsetAfterLineNumber(t,l=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,l)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const l=this._scrollable.getScrollDimensions();return t+l.height>l.scrollHeight&&(t=l.scrollHeight-l.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+l.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,l){l===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,l){const N=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:N.scrollLeft+t,scrollTop:N.scrollTop+l})}}var ta=e(30168),Ko=e(77378);function Lr(Kt,t){return Kt===null?t?Er.INSTANCE:Vo.INSTANCE:new tl(Kt,t)}class tl{constructor(t,l){this._projectionData=t,this._isVisible=l}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,l,N){this._assertVisible();const q=N>0?this._projectionData.breakOffsets[N-1]:0,oe=this._projectionData.breakOffsets[N];let Ie;if(this._projectionData.injectionOffsets!==null){const Ve=this._projectionData.injectionOffsets.map((mt,Lt)=>new $s.gk(0,0,mt+1,this._projectionData.injectionOptions[Lt],0));Ie=$s.gk.applyInjectedText(t.getLineContent(l),Ve).substring(q,oe)}else Ie=t.getValueInRange({startLineNumber:l,startColumn:q+1,endLineNumber:l,endColumn:oe+1});return N>0&&(Ie=uo(this._projectionData.wrappedTextIndentLength)+Ie),Ie}getViewLineLength(t,l,N){return this._assertVisible(),this._projectionData.getLineLength(N)}getViewLineMinColumn(t,l,N){return this._assertVisible(),this._projectionData.getMinOutputOffset(N)+1}getViewLineMaxColumn(t,l,N){return this._assertVisible(),this._projectionData.getMaxOutputOffset(N)+1}getViewLineData(t,l,N){const q=new Array;return this.getViewLinesData(t,l,N,1,0,[!0],q),q[0]}getViewLinesData(t,l,N,q,oe,Ie,Ve){this._assertVisible();const ot=this._projectionData,mt=ot.injectionOffsets,Lt=ot.injectionOptions;let At=null;if(mt){At=[];let Jt=0,fi=0;for(let wi=0;wi<ot.getOutputLineCount();wi++){const Ni=new Array;At[wi]=Ni;const ki=wi>0?ot.breakOffsets[wi-1]:0,Ji=ot.breakOffsets[wi];for(;fi<mt.length;){const rn=Lt[fi].content.length,En=mt[fi]+Jt,_n=En+rn;if(En>Ji)break;if(ki<_n){const zn=Lt[fi];if(zn.inlineClassName){const Wn=wi>0?ot.wrappedTextIndentLength:0,Kn=Wn+Math.max(En-ki,0),Sn=Wn+Math.min(_n-ki,Ji-ki);Kn!==Sn&&Ni.push(new ui.Wx(Kn,Sn,zn.inlineClassName,zn.inlineClassNameAffectsLetterSpacing))}}if(_n<=Ji)Jt+=rn,fi++;else break}}}let jt;mt?jt=t.tokenization.getLineTokens(l).withInserted(mt.map((Jt,fi)=>({offset:Jt,text:Lt[fi].content,tokenMetadata:Ko.A.defaultTokenMetadata}))):jt=t.tokenization.getLineTokens(l);for(let Jt=N;Jt<N+q;Jt++){const fi=oe+Jt-N;if(!Ie[fi]){Ve[fi]=null;continue}Ve[fi]=this._getViewLineData(jt,At?At[Jt]:null,Jt)}}_getViewLineData(t,l,N){this._assertVisible();const q=this._projectionData,oe=N>0?q.wrappedTextIndentLength:0,Ie=N>0?q.breakOffsets[N-1]:0,Ve=q.breakOffsets[N],ot=t.sliceAndInflate(Ie,Ve,oe);let mt=ot.getLineContent();N>0&&(mt=uo(q.wrappedTextIndentLength)+mt);const Lt=this._projectionData.getMinOutputOffset(N)+1,At=mt.length+1,jt=N+1<this.getViewLineCount(),Jt=N===0?0:q.breakOffsetsVisibleColumn[N-1];return new ui.IP(mt,jt,Lt,At,Jt,ot,l)}getModelColumnOfViewPosition(t,l){return this._assertVisible(),this._projectionData.translateToInputOffset(t,l-1)+1}getViewPositionOfModelPosition(t,l,N=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,N).toPosition(t)}getViewLineNumberOfModelPosition(t,l){this._assertVisible();const N=this._projectionData.translateToOutputPosition(l-1);return t+N.outputLineIndex}normalizePosition(t,l,N){const q=l.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,l.column-1,N).toPosition(q)}getInjectedTextAt(t,l){return this._projectionData.getInjectedText(t,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Er{constructor(){}isVisible(){return!0}setVisible(t){return t?this:Vo.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,l,N){return t.getLineContent(l)}getViewLineLength(t,l,N){return t.getLineLength(l)}getViewLineMinColumn(t,l,N){return t.getLineMinColumn(l)}getViewLineMaxColumn(t,l,N){return t.getLineMaxColumn(l)}getViewLineData(t,l,N){const q=t.tokenization.getLineTokens(l),oe=q.getLineContent();return new ui.IP(oe,!1,1,oe.length+1,0,q.inflate(),null)}getViewLinesData(t,l,N,q,oe,Ie,Ve){if(!Ie[oe]){Ve[oe]=null;return}Ve[oe]=this.getViewLineData(t,l,0)}getModelColumnOfViewPosition(t,l){return l}getViewPositionOfModelPosition(t,l){return new pe.L(t,l)}getViewLineNumberOfModelPosition(t,l){return t}normalizePosition(t,l,N){return l}getInjectedTextAt(t,l){return null}}Er.INSTANCE=new Er;class Vo{constructor(){}isVisible(){return!1}setVisible(t){return t?Er.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,l,N){throw new Error("Not supported")}getViewLineLength(t,l,N){throw new Error("Not supported")}getViewLineMinColumn(t,l,N){throw new Error("Not supported")}getViewLineMaxColumn(t,l,N){throw new Error("Not supported")}getViewLineData(t,l,N){throw new Error("Not supported")}getViewLinesData(t,l,N,q,oe,Ie,Ve){throw new Error("Not supported")}getModelColumnOfViewPosition(t,l){throw new Error("Not supported")}getViewPositionOfModelPosition(t,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,l){throw new Error("Not supported")}normalizePosition(t,l,N){throw new Error("Not supported")}getInjectedTextAt(t,l){throw new Error("Not supported")}}Vo.INSTANCE=new Vo;const Br=[""];function uo(Kt){if(Kt>=Br.length)for(let t=1;t<=Kt;t++)Br[t]=ia(t);return Br[Kt]}function ia(Kt){return new Array(Kt+1).join(" ")}var xa=e(90310);class xr{constructor(t,l,N,q,oe,Ie,Ve,ot,mt,Lt){this._editorId=t,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=N,this._monospaceLineBreaksComputerFactory=q,this.fontInfo=oe,this.tabSize=Ie,this.wrappingStrategy=Ve,this.wrappingColumn=ot,this.wrappingIndent=mt,this.wordBreak=Lt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new il(this)}_constructLines(t,l){this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const N=this.model.getLinesContent(),q=this.model.getInjectedTextDecorations(this._editorId),oe=N.length,Ie=this.createLineBreaksComputer(),Ve=new u.H9($s.gk.fromDecorations(q));for(let wi=0;wi<oe;wi++){const Ni=Ve.takeWhile(ki=>ki.lineNumber===wi+1);Ie.addRequest(N[wi],Ni,l?l[wi]:null)}const ot=Ie.finalize(),mt=[],Lt=this.hiddenAreasDecorationIds.map(wi=>this.model.getDecorationRange(wi)).sort(W.e.compareRangesUsingStarts);let At=1,jt=0,Jt=-1,fi=Jt+1<Lt.length?jt+1:oe+2;for(let wi=0;wi<oe;wi++){const Ni=wi+1;Ni===fi&&(Jt++,At=Lt[Jt].startLineNumber,jt=Lt[Jt].endLineNumber,fi=Jt+1<Lt.length?jt+1:oe+2);const ki=Ni>=At&&Ni<=jt,Ji=Lr(ot[wi],!ki);mt[wi]=Ji.getViewLineCount(),this.modelLineProjections[wi]=Ji}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new xa.Ck(mt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(t=>this.model.getDecorationRange(t))}setHiddenAreas(t){const l=t.map(jt=>this.model.validateRange(jt)),N=Dr(l),q=this.hiddenAreasDecorationIds.map(jt=>this.model.getDecorationRange(jt)).sort(W.e.compareRangesUsingStarts);if(N.length===q.length){let jt=!1;for(let Jt=0;Jt<N.length;Jt++)if(!N[Jt].equalsRange(q[Jt])){jt=!0;break}if(!jt)return!1}const oe=N.map(jt=>({range:jt,options:Es.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,oe);const Ie=N;let Ve=1,ot=0,mt=-1,Lt=mt+1<Ie.length?ot+1:this.modelLineProjections.length+2,At=!1;for(let jt=0;jt<this.modelLineProjections.length;jt++){const Jt=jt+1;Jt===Lt&&(mt++,Ve=Ie[mt].startLineNumber,ot=Ie[mt].endLineNumber,Lt=mt+1<Ie.length?ot+1:this.modelLineProjections.length+2);let fi=!1;if(Jt>=Ve&&Jt<=ot?this.modelLineProjections[jt].isVisible()&&(this.modelLineProjections[jt]=this.modelLineProjections[jt].setVisible(!1),fi=!0):(At=!0,this.modelLineProjections[jt].isVisible()||(this.modelLineProjections[jt]=this.modelLineProjections[jt].setVisible(!0),fi=!0)),fi){const wi=this.modelLineProjections[jt].getViewLineCount();this.projectedModelLineLineCounts.setValue(jt,wi)}}return At||this.setHiddenAreas([]),!0}modelPositionIsVisible(t,l){return t<1||t>this.modelLineProjections.length?!1:this.modelLineProjections[t-1].isVisible()}getModelLineViewLineCount(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()}setTabSize(t){return this.tabSize===t?!1:(this.tabSize=t,this._constructLines(!1,null),!0)}setWrappingSettings(t,l,N,q,oe){const Ie=this.fontInfo.equals(t),Ve=this.wrappingStrategy===l,ot=this.wrappingColumn===N,mt=this.wrappingIndent===q,Lt=this.wordBreak===oe;if(Ie&&Ve&&ot&&mt&&Lt)return!1;const At=Ie&&Ve&&!ot&&mt&&Lt;this.fontInfo=t,this.wrappingStrategy=l,this.wrappingColumn=N,this.wrappingIndent=q,this.wordBreak=oe;let jt=null;if(At){jt=[];for(let Jt=0,fi=this.modelLineProjections.length;Jt<fi;Jt++)jt[Jt]=this.modelLineProjections[Jt].getProjectionData()}return this._constructLines(!1,jt),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(t,l,N){if(!t||t<=this._validModelVersionId)return null;const q=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,oe=this.projectedModelLineLineCounts.getPrefixSum(N);return this.modelLineProjections.splice(l-1,N-l+1),this.projectedModelLineLineCounts.removeValues(l-1,N-l+1),new lo(q,oe)}onModelLinesInserted(t,l,N,q){if(!t||t<=this._validModelVersionId)return null;const oe=l>2&&!this.modelLineProjections[l-2].isVisible(),Ie=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let Ve=0;const ot=[],mt=[];for(let Lt=0,At=q.length;Lt<At;Lt++){const jt=Lr(q[Lt],!oe);ot.push(jt);const Jt=jt.getViewLineCount();Ve+=Jt,mt[Lt]=Jt}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(ot).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,mt),new Wo(Ie,Ie+Ve-1)}onModelLineChanged(t,l,N){if(t!==null&&t<=this._validModelVersionId)return[!1,null,null,null];const q=l-1,oe=this.modelLineProjections[q].getViewLineCount(),Ie=this.modelLineProjections[q].isVisible(),Ve=Lr(N,Ie);this.modelLineProjections[q]=Ve;const ot=this.modelLineProjections[q].getViewLineCount();let mt=!1,Lt=0,At=-1,jt=0,Jt=-1,fi=0,wi=-1;oe>ot?(Lt=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,At=Lt+ot-1,fi=At+1,wi=fi+(oe-ot)-1,mt=!0):oe<ot?(Lt=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,At=Lt+oe-1,jt=At+1,Jt=jt+(ot-oe)-1,mt=!0):(Lt=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,At=Lt+ot-1),this.projectedModelLineLineCounts.setValue(q,ot);const Ni=Lt<=At?new Bo(Lt,At-Lt+1):null,ki=jt<=Jt?new Wo(jt,Jt):null,Ji=fi<=wi?new lo(fi,wi):null;return[mt,Ni,ki,Ji]}acceptVersionId(t){this._validModelVersionId=t,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(t){if(t<1)return 1;const l=this.getViewLineCount();return t>l?l:t|0}getActiveIndentGuide(t,l,N){t=this._toValidViewLineNumber(t),l=this._toValidViewLineNumber(l),N=this._toValidViewLineNumber(N);const q=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),oe=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),Ie=this.convertViewPositionToModelPosition(N,this.getViewLineMinColumn(N)),Ve=this.model.guides.getActiveIndentGuide(q.lineNumber,oe.lineNumber,Ie.lineNumber),ot=this.convertModelPositionToViewPosition(Ve.startLineNumber,1),mt=this.convertModelPositionToViewPosition(Ve.endLineNumber,this.model.getLineMaxColumn(Ve.endLineNumber));return{startLineNumber:ot.lineNumber,endLineNumber:mt.lineNumber,indent:Ve.indent}}getViewLineInfo(t){t=this._toValidViewLineNumber(t);const l=this.projectedModelLineLineCounts.getIndexOf(t-1),N=l.index,q=l.remainder;return new Da(N+1,q)}getMinColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(t){const l=this.modelLineProjections[t.modelLineNumber-1],N=l.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),q=l.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,N);return new pe.L(t.modelLineNumber,q)}getModelEndPositionOfViewLine(t){const l=this.modelLineProjections[t.modelLineNumber-1],N=l.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),q=l.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,N);return new pe.L(t.modelLineNumber,q)}getViewLineInfosGroupedByModelRanges(t,l){const N=this.getViewLineInfo(t),q=this.getViewLineInfo(l),oe=new Array;let Ie=this.getModelStartPositionOfViewLine(N),Ve=new Array;for(let ot=N.modelLineNumber;ot<=q.modelLineNumber;ot++){const mt=this.modelLineProjections[ot-1];if(mt.isVisible()){const Lt=ot===N.modelLineNumber?N.modelLineWrappedLineIdx:0,At=ot===q.modelLineNumber?q.modelLineWrappedLineIdx+1:mt.getViewLineCount();for(let jt=Lt;jt<At;jt++)Ve.push(new Da(ot,jt))}if(!mt.isVisible()&&Ie){const Lt=new pe.L(ot-1,this.model.getLineMaxColumn(ot-1)+1),At=W.e.fromPositions(Ie,Lt);oe.push(new Ia(At,Ve)),Ve=[],Ie=null}else mt.isVisible()&&!Ie&&(Ie=new pe.L(ot,1))}if(Ie){const ot=W.e.fromPositions(Ie,this.getModelEndPositionOfViewLine(q));oe.push(new Ia(ot,Ve))}return oe}getViewLinesBracketGuides(t,l,N,q){const oe=N?this.convertViewPositionToModelPosition(N.lineNumber,N.column):null,Ie=[];for(const Ve of this.getViewLineInfosGroupedByModelRanges(t,l)){const ot=Ve.modelRange.startLineNumber,mt=this.model.guides.getLinesBracketGuides(ot,Ve.modelRange.endLineNumber,oe,q);for(const Lt of Ve.viewLines){const jt=mt[Lt.modelLineNumber-ot].map(Jt=>{if(Jt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[Lt.modelLineNumber-1].getViewPositionOfModelPosition(0,Jt.forWrappedLinesAfterColumn).lineNumber>=Lt.modelLineWrappedLineIdx||Jt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[Lt.modelLineNumber-1].getViewPositionOfModelPosition(0,Jt.forWrappedLinesBeforeOrAtColumn).lineNumber<Lt.modelLineWrappedLineIdx)return;if(!Jt.horizontalLine)return Jt;let fi=-1;if(Jt.column!==-1){const ki=this.modelLineProjections[Lt.modelLineNumber-1].getViewPositionOfModelPosition(0,Jt.column);if(ki.lineNumber===Lt.modelLineWrappedLineIdx)fi=ki.column;else if(ki.lineNumber<Lt.modelLineWrappedLineIdx)fi=this.getMinColumnOfViewLine(Lt);else if(ki.lineNumber>Lt.modelLineWrappedLineIdx)return}const wi=this.convertModelPositionToViewPosition(Lt.modelLineNumber,Jt.horizontalLine.endColumn),Ni=this.modelLineProjections[Lt.modelLineNumber-1].getViewPositionOfModelPosition(0,Jt.horizontalLine.endColumn);return Ni.lineNumber===Lt.modelLineWrappedLineIdx?new qe.UO(Jt.visibleColumn,fi,Jt.className,new qe.vW(Jt.horizontalLine.top,wi.column),-1,-1):Ni.lineNumber<Lt.modelLineWrappedLineIdx||Jt.visibleColumn!==-1?void 0:new qe.UO(Jt.visibleColumn,fi,Jt.className,new qe.vW(Jt.horizontalLine.top,this.getMaxColumnOfViewLine(Lt)),-1,-1)});Ie.push(jt.filter(Jt=>!!Jt))}}return Ie}getViewLinesIndentGuides(t,l){t=this._toValidViewLineNumber(t),l=this._toValidViewLineNumber(l);const N=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),q=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let oe=[];const Ie=[],Ve=[],ot=N.lineNumber-1,mt=q.lineNumber-1;let Lt=null;for(let fi=ot;fi<=mt;fi++){const wi=this.modelLineProjections[fi];if(wi.isVisible()){const Ni=wi.getViewLineNumberOfModelPosition(0,fi===ot?N.column:1),ki=wi.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(fi+1)),Ji=ki-Ni+1;let rn=0;Ji>1&&wi.getViewLineMinColumn(this.model,fi+1,ki)===1&&(rn=Ni===0?1:2),Ie.push(Ji),Ve.push(rn),Lt===null&&(Lt=new pe.L(fi+1,0))}else Lt!==null&&(oe=oe.concat(this.model.guides.getLinesIndentGuides(Lt.lineNumber,fi)),Lt=null)}Lt!==null&&(oe=oe.concat(this.model.guides.getLinesIndentGuides(Lt.lineNumber,q.lineNumber)),Lt=null);const At=l-t+1,jt=new Array(At);let Jt=0;for(let fi=0,wi=oe.length;fi<wi;fi++){let Ni=oe[fi];const ki=Math.min(At-Jt,Ie[fi]),Ji=Ve[fi];let rn;Ji===2?rn=0:Ji===1?rn=1:rn=ki;for(let En=0;En<ki;En++)En===rn&&(Ni=0),jt[Jt++]=Ni}return jt}getViewLineContent(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(t){const l=this.getViewLineInfo(t);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(t,l,N){t=this._toValidViewLineNumber(t),l=this._toValidViewLineNumber(l);const q=this.projectedModelLineLineCounts.getIndexOf(t-1);let oe=t;const Ie=q.index,Ve=q.remainder,ot=[];for(let mt=Ie,Lt=this.model.getLineCount();mt<Lt;mt++){const At=this.modelLineProjections[mt];if(!At.isVisible())continue;const jt=mt===Ie?Ve:0;let Jt=At.getViewLineCount()-jt,fi=!1;if(oe+Jt>l&&(fi=!0,Jt=l-oe+1),At.getViewLinesData(this.model,mt+1,jt,Jt,oe-t,N,ot),oe+=Jt,fi)break}return ot}validateViewPosition(t,l,N){t=this._toValidViewLineNumber(t);const q=this.projectedModelLineLineCounts.getIndexOf(t-1),oe=q.index,Ie=q.remainder,Ve=this.modelLineProjections[oe],ot=Ve.getViewLineMinColumn(this.model,oe+1,Ie),mt=Ve.getViewLineMaxColumn(this.model,oe+1,Ie);l<ot&&(l=ot),l>mt&&(l=mt);const Lt=Ve.getModelColumnOfViewPosition(Ie,l);return this.model.validatePosition(new pe.L(oe+1,Lt)).equals(N)?new pe.L(t,l):this.convertModelPositionToViewPosition(N.lineNumber,N.column)}validateViewRange(t,l){const N=this.validateViewPosition(t.startLineNumber,t.startColumn,l.getStartPosition()),q=this.validateViewPosition(t.endLineNumber,t.endColumn,l.getEndPosition());return new W.e(N.lineNumber,N.column,q.lineNumber,q.column)}convertViewPositionToModelPosition(t,l){const N=this.getViewLineInfo(t),q=this.modelLineProjections[N.modelLineNumber-1].getModelColumnOfViewPosition(N.modelLineWrappedLineIdx,l);return this.model.validatePosition(new pe.L(N.modelLineNumber,q))}convertViewRangeToModelRange(t){const l=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),N=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new W.e(l.lineNumber,l.column,N.lineNumber,N.column)}convertModelPositionToViewPosition(t,l,N=2,q=!1,oe=!1){const Ie=this.model.validatePosition(new pe.L(t,l)),Ve=Ie.lineNumber,ot=Ie.column;let mt=Ve-1,Lt=!1;if(oe)for(;mt<this.modelLineProjections.length&&!this.modelLineProjections[mt].isVisible();)mt++,Lt=!0;else for(;mt>0&&!this.modelLineProjections[mt].isVisible();)mt--,Lt=!0;if(mt===0&&!this.modelLineProjections[mt].isVisible())return new pe.L(q?0:1,1);const At=1+this.projectedModelLineLineCounts.getPrefixSum(mt);let jt;return Lt?oe?jt=this.modelLineProjections[mt].getViewPositionOfModelPosition(At,1,N):jt=this.modelLineProjections[mt].getViewPositionOfModelPosition(At,this.model.getLineMaxColumn(mt+1),N):jt=this.modelLineProjections[Ve-1].getViewPositionOfModelPosition(At,ot,N),jt}convertModelRangeToViewRange(t,l=0){if(t.isEmpty()){const N=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,l);return W.e.fromPositions(N)}else{const N=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),q=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new W.e(N.lineNumber,N.column,q.lineNumber,q.column)}}getViewLineNumberOfModelPosition(t,l){let N=t-1;if(this.modelLineProjections[N].isVisible()){const oe=1+this.projectedModelLineLineCounts.getPrefixSum(N);return this.modelLineProjections[N].getViewLineNumberOfModelPosition(oe,l)}for(;N>0&&!this.modelLineProjections[N].isVisible();)N--;if(N===0&&!this.modelLineProjections[N].isVisible())return 1;const q=1+this.projectedModelLineLineCounts.getPrefixSum(N);return this.modelLineProjections[N].getViewLineNumberOfModelPosition(q,this.model.getLineMaxColumn(N+1))}getDecorationsInRange(t,l,N,q,oe){const Ie=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),Ve=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(Ve.lineNumber-Ie.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new W.e(Ie.lineNumber,1,Ve.lineNumber,Ve.column),l,N,q,oe);let ot=[];const mt=Ie.lineNumber-1,Lt=Ve.lineNumber-1;let At=null;for(let wi=mt;wi<=Lt;wi++)if(this.modelLineProjections[wi].isVisible())At===null&&(At=new pe.L(wi+1,wi===mt?Ie.column:1));else if(At!==null){const ki=this.model.getLineMaxColumn(wi);ot=ot.concat(this.model.getDecorationsInRange(new W.e(At.lineNumber,At.column,wi,ki),l,N,q)),At=null}At!==null&&(ot=ot.concat(this.model.getDecorationsInRange(new W.e(At.lineNumber,At.column,Ve.lineNumber,Ve.column),l,N,q)),At=null),ot.sort((wi,Ni)=>{const ki=W.e.compareRangesUsingStarts(wi.range,Ni.range);return ki===0?wi.id<Ni.id?-1:wi.id>Ni.id?1:0:ki});const jt=[];let Jt=0,fi=null;for(const wi of ot){const Ni=wi.id;fi!==Ni&&(fi=Ni,jt[Jt++]=wi)}return jt}getInjectedTextAt(t){const l=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,t.column)}normalizePosition(t,l){const N=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[N.modelLineNumber-1].normalizePosition(N.modelLineWrappedLineIdx,t,l)}getLineIndentColumn(t){const l=this.getViewLineInfo(t);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}function Dr(Kt){if(Kt.length===0)return[];const t=Kt.slice();t.sort(W.e.compareRangesUsingStarts);const l=[];let N=t[0].startLineNumber,q=t[0].endLineNumber;for(let oe=1,Ie=t.length;oe<Ie;oe++){const Ve=t[oe];Ve.startLineNumber>q+1?(l.push(new W.e(N,1,q,1)),N=Ve.startLineNumber,q=Ve.endLineNumber):Ve.endLineNumber>q&&(q=Ve.endLineNumber)}return l.push(new W.e(N,1,q,1)),l}class Da{constructor(t,l){this.modelLineNumber=t,this.modelLineWrappedLineIdx=l}}class Ia{constructor(t,l){this.modelRange=t,this.viewLines=l}}class il{constructor(t){this._lines=t}convertViewPositionToModelPosition(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)}convertViewRangeToModelRange(t){return this._lines.convertViewRangeToModelRange(t)}validateViewPosition(t,l){return this._lines.validateViewPosition(t.lineNumber,t.column,l)}validateViewRange(t,l){return this._lines.validateViewRange(t,l)}convertModelPositionToViewPosition(t,l,N,q){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,l,N,q)}convertModelRangeToViewRange(t,l){return this._lines.convertModelRangeToViewRange(t,l)}modelPositionIsVisible(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)}getModelLineViewLineCount(t){return this._lines.getModelLineViewLineCount(t)}getViewLineNumberOfModelPosition(t,l){return this._lines.getViewLineNumberOfModelPosition(t,l)}}class Pl{constructor(t){this.model=t}dispose(){}createCoordinatesConverter(){return new nl(this)}getHiddenAreas(){return[]}setHiddenAreas(t){return!1}setTabSize(t){return!1}setWrappingSettings(t,l,N,q){return!1}createLineBreaksComputer(){const t=[];return{addRequest:(l,N,q)=>{t.push(null)},finalize:()=>t}}onModelFlushed(){}onModelLinesDeleted(t,l,N){return new lo(l,N)}onModelLinesInserted(t,l,N,q){return new Wo(l,N)}onModelLineChanged(t,l,N){return[!1,new Bo(l,1),null,null]}acceptVersionId(t){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(t,l,N){return{startLineNumber:t,endLineNumber:t,indent:0}}getViewLinesBracketGuides(t,l,N){return new Array(l-t+1).fill([])}getViewLinesIndentGuides(t,l){const N=l-t+1,q=new Array(N);for(let oe=0;oe<N;oe++)q[oe]=0;return q}getViewLineContent(t){return this.model.getLineContent(t)}getViewLineLength(t){return this.model.getLineLength(t)}getViewLineMinColumn(t){return this.model.getLineMinColumn(t)}getViewLineMaxColumn(t){return this.model.getLineMaxColumn(t)}getViewLineData(t){const l=this.model.tokenization.getLineTokens(t),N=l.getLineContent();return new ui.IP(N,!1,1,N.length+1,0,l.inflate(),null)}getViewLinesData(t,l,N){const q=this.model.getLineCount();t=Math.min(Math.max(1,t),q),l=Math.min(Math.max(1,l),q);const oe=[];for(let Ie=t;Ie<=l;Ie++){const Ve=Ie-t;oe[Ve]=N[Ve]?this.getViewLineData(Ie):null}return oe}getDecorationsInRange(t,l,N,q,oe){return this.model.getDecorationsInRange(t,l,N,q,oe)}normalizePosition(t,l){return this.model.normalizePosition(t,l)}getLineIndentColumn(t){return this.model.getLineIndentColumn(t)}getInjectedTextAt(t){return null}}class nl{constructor(t){this._lines=t}_validPosition(t){return this._lines.model.validatePosition(t)}_validRange(t){return this._lines.model.validateRange(t)}convertViewPositionToModelPosition(t){return this._validPosition(t)}convertViewRangeToModelRange(t){return this._validRange(t)}validateViewPosition(t,l){return this._validPosition(l)}validateViewRange(t,l){return this._validRange(l)}convertModelPositionToViewPosition(t){return this._validPosition(t)}convertModelRangeToViewRange(t){return this._validRange(t)}modelPositionIsVisible(t){const l=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>l)}getModelLineViewLineCount(t){return 1}getViewLineNumberOfModelPosition(t,l){return t}}const sl=!0;class $o extends p.JT{constructor(t,l,N,q,oe,Ie,Ve,ot,mt){if(super(),this.languageConfigurationService=Ve,this._themeService=ot,this._attachedView=mt,this.hiddenAreasModel=new Io,this.previousHiddenAreas=[],this._editorId=t,this._configuration=l,this.model=N,this._eventDispatcher=new Os,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Qn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new re.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Na.create(this.model),sl&&this.model.isTooLargeForTokenization())this._lines=new Pl(this.model);else{const Lt=this._configuration.options,At=Lt.get(50),jt=Lt.get(137),Jt=Lt.get(144),fi=Lt.get(136),wi=Lt.get(128);this._lines=new xr(this._editorId,this.model,q,oe,At,this.model.getOptions().tabSize,jt,Jt.wrappingColumn,fi,wi)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Vn(N,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new bo(this._configuration,this.getLineCount(),Ie)),this._register(this.viewLayout.onDidScroll(Lt=>{Lt.scrollTopChanged&&this._handleVisibleLinesChanged(),Lt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new wr(Lt)),this._eventDispatcher.emitOutgoingEvent(new Qr(Lt.oldScrollWidth,Lt.oldScrollLeft,Lt.oldScrollHeight,Lt.oldScrollTop,Lt.scrollWidth,Lt.scrollLeft,Lt.scrollHeight,Lt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Lt=>{this._eventDispatcher.emitOutgoingEvent(Lt)})),this._decorations=new ta.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Lt=>{try{const At=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(At,Lt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(mi.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Ea)})),this._register(this._themeService.onDidColorThemeChange(Lt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Ho(Lt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(t){this._eventDispatcher.addViewEventHandler(t)}removeViewEventHandler(t){this._eventDispatcher.removeViewEventHandler(t)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const t=this.viewLayout.getLinesViewportData(),l=new W.e(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber));return this._toModelVisibleRanges(l)}visibleLinesStabilized(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!0)}_handleVisibleLinesChanged(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!1)}setHasFocus(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new Sr(t)),this._eventDispatcher.emitOutgoingEvent(new ur(!t,t))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Qo)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new La)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const t=new pe.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),l=this.coordinatesConverter.convertViewPositionToModelPosition(t);return new er(l,this._viewportStart.startLineDelta)}return new er(null,0)}_onConfigurationChanged(t,l){const N=this._captureStableViewport(),q=this._configuration.options,oe=q.get(50),Ie=q.get(137),Ve=q.get(144),ot=q.get(136),mt=q.get(128);this._lines.setWrappingSettings(oe,Ie,Ve.wrappingColumn,ot,mt)&&(t.emitViewEvent(new dr),t.emitViewEvent(new Us),t.emitViewEvent(new Lo(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),l.hasChanged(90)&&(this._decorations.reset(),t.emitViewEvent(new Lo(null))),l.hasChanged(97)&&(this._decorations.reset(),t.emitViewEvent(new Lo(null))),t.emitViewEvent(new Fo(l)),this.viewLayout.onConfigurationChanged(l),N.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Qn.LM.shouldRecreate(l)&&(this.cursorConfig=new Qn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(t=>{try{const N=this._eventDispatcher.beginEmitViewEvents();let q=!1,oe=!1;const Ie=t instanceof $s.fV?t.rawContentChangedEvent.changes:t.changes,Ve=t instanceof $s.fV?t.rawContentChangedEvent.versionId:null,ot=this._lines.createLineBreaksComputer();for(const At of Ie)switch(At.changeType){case 4:{for(let jt=0;jt<At.detail.length;jt++){const Jt=At.detail[jt];let fi=At.injectedTexts[jt];fi&&(fi=fi.filter(wi=>!wi.ownerId||wi.ownerId===this._editorId)),ot.addRequest(Jt,fi,null)}break}case 2:{let jt=null;At.injectedText&&(jt=At.injectedText.filter(Jt=>!Jt.ownerId||Jt.ownerId===this._editorId)),ot.addRequest(At.detail,jt,null);break}}const mt=ot.finalize(),Lt=new u.H9(mt);for(const At of Ie)switch(At.changeType){case 1:{this._lines.onModelFlushed(),N.emitViewEvent(new dr),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),q=!0;break}case 3:{const jt=this._lines.onModelLinesDeleted(Ve,At.fromLineNumber,At.toLineNumber);jt!==null&&(N.emitViewEvent(jt),this.viewLayout.onLinesDeleted(jt.fromLineNumber,jt.toLineNumber)),q=!0;break}case 4:{const jt=Lt.takeCount(At.detail.length),Jt=this._lines.onModelLinesInserted(Ve,At.fromLineNumber,At.toLineNumber,jt);Jt!==null&&(N.emitViewEvent(Jt),this.viewLayout.onLinesInserted(Jt.fromLineNumber,Jt.toLineNumber)),q=!0;break}case 2:{const jt=Lt.dequeue(),[Jt,fi,wi,Ni]=this._lines.onModelLineChanged(Ve,At.lineNumber,jt);oe=Jt,fi&&N.emitViewEvent(fi),wi&&(N.emitViewEvent(wi),this.viewLayout.onLinesInserted(wi.fromLineNumber,wi.toLineNumber)),Ni&&(N.emitViewEvent(Ni),this.viewLayout.onLinesDeleted(Ni.fromLineNumber,Ni.toLineNumber));break}case 5:break}Ve!==null&&this._lines.acceptVersionId(Ve),this.viewLayout.onHeightMaybeChanged(),!q&&oe&&(N.emitViewEvent(new Us),N.emitViewEvent(new Lo(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const l=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&l){const N=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(N){const q=this.coordinatesConverter.convertModelPositionToViewPosition(N.getStartPosition()),oe=this.viewLayout.getVerticalOffsetForLineNumber(q.lineNumber);this.viewLayout.setScrollPosition({scrollTop:oe+this._viewportStart.startLineDelta},1)}}try{const N=this._eventDispatcher.beginEmitViewEvents();t instanceof $s.fV&&N.emitOutgoingEvent(new Jr(t.contentChangedEvent)),this._cursor.onModelContentChanged(N,t)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(t=>{const l=[];for(let N=0,q=t.ranges.length;N<q;N++){const oe=t.ranges[N],Ie=this.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(oe.fromLineNumber,1)).lineNumber,Ve=this.coordinatesConverter.convertModelPositionToViewPosition(new pe.L(oe.toLineNumber,this.model.getLineMaxColumn(oe.toLineNumber))).lineNumber;l[N]={fromLineNumber:Ie,toLineNumber:Ve}}this._eventDispatcher.emitSingleViewEvent(new Zr(l)),this._eventDispatcher.emitOutgoingEvent(new go(t))})),this._register(this.model.onDidChangeLanguageConfiguration(t=>{this._eventDispatcher.emitSingleViewEvent(new Gr),this.cursorConfig=new Qn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new kr(t))})),this._register(this.model.onDidChangeLanguage(t=>{this.cursorConfig=new Qn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Xo(t))})),this._register(this.model.onDidChangeOptions(t=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const l=this._eventDispatcher.beginEmitViewEvents();l.emitViewEvent(new dr),l.emitViewEvent(new Us),l.emitViewEvent(new Lo(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Qn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Co(t))})),this._register(this.model.onDidChangeDecorations(t=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Lo(t)),this._eventDispatcher.emitOutgoingEvent(new Xr(t))}))}setHiddenAreas(t,l){var N;this.hiddenAreasModel.setHiddenAreas(l,t);const q=this.hiddenAreasModel.getMergedRanges();if(q===this.previousHiddenAreas)return;this.previousHiddenAreas=q;const oe=this._captureStableViewport();let Ie=!1;try{const Ve=this._eventDispatcher.beginEmitViewEvents();Ie=this._lines.setHiddenAreas(q),Ie&&(Ve.emitViewEvent(new dr),Ve.emitViewEvent(new Us),Ve.emitViewEvent(new Lo(null)),this._cursor.onLineMappingChanged(Ve),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const ot=(N=oe.viewportStartModelPosition)===null||N===void 0?void 0:N.lineNumber;ot&&q.some(Lt=>Lt.startLineNumber<=ot&&ot<=Lt.endLineNumber)||oe.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Ie&&this._eventDispatcher.emitOutgoingEvent(new Or)}getVisibleRangesPlusViewportAboveBelow(){const t=this._configuration.options.get(143),l=this._configuration.options.get(66),N=Math.max(20,Math.round(t.height/l)),q=this.viewLayout.getLinesViewportData(),oe=Math.max(1,q.completelyVisibleStartLineNumber-N),Ie=Math.min(this.getLineCount(),q.completelyVisibleEndLineNumber+N);return this._toModelVisibleRanges(new W.e(oe,this.getLineMinColumn(oe),Ie,this.getLineMaxColumn(Ie)))}getVisibleRanges(){const t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(t){const l=this.coordinatesConverter.convertViewRangeToModelRange(t),N=this._lines.getHiddenAreas();if(N.length===0)return[l];const q=[];let oe=0,Ie=l.startLineNumber,Ve=l.startColumn;const ot=l.endLineNumber,mt=l.endColumn;for(let Lt=0,At=N.length;Lt<At;Lt++){const jt=N[Lt].startLineNumber,Jt=N[Lt].endLineNumber;Jt<Ie||jt>ot||(Ie<jt&&(q[oe++]=new W.e(Ie,Ve,jt-1,this.model.getLineMaxColumn(jt-1))),Ie=Jt+1,Ve=1)}return(Ie<ot||Ie===ot&&Ve<mt)&&(q[oe++]=new W.e(Ie,Ve,ot,mt)),q}getCompletelyVisibleViewRange(){const t=this.viewLayout.getLinesViewportData(),l=t.completelyVisibleStartLineNumber,N=t.completelyVisibleEndLineNumber;return new W.e(l,this.getLineMinColumn(l),N,this.getLineMaxColumn(N))}getCompletelyVisibleViewRangeAtScrollTop(t){const l=this.viewLayout.getLinesViewportDataAtScrollTop(t),N=l.completelyVisibleStartLineNumber,q=l.completelyVisibleEndLineNumber;return new W.e(N,this.getLineMinColumn(N),q,this.getLineMaxColumn(q))}saveState(){const t=this.viewLayout.saveState(),l=t.scrollTop,N=this.viewLayout.getLineNumberAtVerticalOffset(l),q=this.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(N,this.getLineMinColumn(N))),oe=this.viewLayout.getVerticalOffsetForLineNumber(N)-l;return{scrollLeft:t.scrollLeft,firstPosition:q,firstPositionDeltaTop:oe}}reduceRestoreState(t){if(typeof t.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(t);const l=this.model.validatePosition(t.firstPosition),N=this.coordinatesConverter.convertModelPositionToViewPosition(l),q=this.viewLayout.getVerticalOffsetForLineNumber(N.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:q}}_reduceRestoreStateCompatibility(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(t,l,N){this._viewportStart.update(this,t)}getActiveIndentGuide(t,l,N){return this._lines.getActiveIndentGuide(t,l,N)}getLinesIndentGuides(t,l){return this._lines.getViewLinesIndentGuides(t,l)}getBracketGuidesInRangeByLine(t,l,N,q){return this._lines.getViewLinesBracketGuides(t,l,N,q)}getLineContent(t){return this._lines.getViewLineContent(t)}getLineLength(t){return this._lines.getViewLineLength(t)}getLineMinColumn(t){return this._lines.getViewLineMinColumn(t)}getLineMaxColumn(t){return this._lines.getViewLineMaxColumn(t)}getLineFirstNonWhitespaceColumn(t){const l=Xt.LC(this.getLineContent(t));return l===-1?0:l+1}getLineLastNonWhitespaceColumn(t){const l=Xt.ow(this.getLineContent(t));return l===-1?0:l+2}getMinimapDecorationsInRange(t){return this._decorations.getMinimapDecorationsInRange(t)}getDecorationsInViewport(t){return this._decorations.getDecorationsViewportData(t).decorations}getInjectedTextAt(t){return this._lines.getInjectedTextAt(t)}getViewportViewLineRenderingData(t,l){const q=this._decorations.getDecorationsViewportData(t).inlineDecorations[l-t.startLineNumber];return this._getViewLineRenderingData(l,q)}getViewLineRenderingData(t){const l=this._decorations.getInlineDecorationsOnLine(t);return this._getViewLineRenderingData(t,l)}_getViewLineRenderingData(t,l){const N=this.model.mightContainRTL(),q=this.model.mightContainNonBasicASCII(),oe=this.getTabSize(),Ie=this._lines.getViewLineData(t);return Ie.inlineDecorations&&(l=[...l,...Ie.inlineDecorations.map(Ve=>Ve.toInlineDecoration(t))]),new ui.wA(Ie.minColumn,Ie.maxColumn,Ie.content,Ie.continuesWithWrappedLine,N,q,Ie.tokens,l,oe,Ie.startVisibleColumn)}getViewLineData(t){return this._lines.getViewLineData(t)}getMinimapLinesRenderingData(t,l,N){const q=this._lines.getViewLinesData(t,l,N);return new ui.ud(this.getTabSize(),q)}getAllOverviewRulerDecorations(t){const l=this.model.getOverviewRulerDecorations(this._editorId,(0,O.$J)(this._configuration.options)),N=new Do;for(const q of l){const oe=q.options,Ie=oe.overviewRuler;if(!Ie)continue;const Ve=Ie.position;if(Ve===0)continue;const ot=Ie.getColor(t.value),mt=this.coordinatesConverter.getViewLineNumberOfModelPosition(q.range.startLineNumber,q.range.startColumn),Lt=this.coordinatesConverter.getViewLineNumberOfModelPosition(q.range.endLineNumber,q.range.endColumn);N.accept(ot,oe.zIndex,mt,Lt,Ve)}return N.asArray}_invalidateDecorationsColorCache(){const t=this.model.getOverviewRulerDecorations();for(const l of t){const N=l.options.overviewRuler;N==null||N.invalidateCachedColor();const q=l.options.minimap;q==null||q.invalidateCachedColor()}}getValueInRange(t,l){const N=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(N,l)}getValueLengthInRange(t,l){const N=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueLengthInRange(N,l)}modifyPosition(t,l){const N=this.coordinatesConverter.convertViewPositionToModelPosition(t);return this.model.modifyPosition(N,l)}deduceModelPositionRelativeToViewPosition(t,l,N){const q=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(l<0?l-=N:l+=N);const Ie=this.model.getOffsetAt(q)+l;return this.model.getPositionAt(Ie)}getPlainTextToCopy(t,l,N){const q=N?`\r
`:this.model.getEOL();t=t.slice(0),t.sort(W.e.compareRangesUsingStarts);let oe=!1,Ie=!1;for(const ot of t)ot.isEmpty()?oe=!0:Ie=!0;if(!Ie){if(!l)return"";const ot=t.map(Lt=>Lt.startLineNumber);let mt="";for(let Lt=0;Lt<ot.length;Lt++)Lt>0&&ot[Lt-1]===ot[Lt]||(mt+=this.model.getLineContent(ot[Lt])+q);return mt}if(oe&&l){const ot=[];let mt=0;for(const Lt of t){const At=Lt.startLineNumber;Lt.isEmpty()?At!==mt&&ot.push(this.model.getLineContent(At)):ot.push(this.model.getValueInRange(Lt,N?2:0)),mt=At}return ot.length===1?ot[0]:ot}const Ve=[];for(const ot of t)ot.isEmpty()||Ve.push(this.model.getValueInRange(ot,N?2:0));return Ve.length===1?Ve[0]:Ve}getRichTextToCopy(t,l){const N=this.model.getLanguageId();if(N===qo.bd||t.length!==1)return null;let q=t[0];if(q.isEmpty()){if(!l)return null;const Lt=q.startLineNumber;q=new W.e(Lt,this.model.getLineMinColumn(Lt),Lt,this.model.getLineMaxColumn(Lt))}const oe=this._configuration.options.get(50),Ie=this._getColorMap(),ot=/[:;\\\/<>]/.test(oe.fontFamily)||oe.fontFamily===O.hL.fontFamily;let mt;return ot?mt=O.hL.fontFamily:(mt=oe.fontFamily,mt=mt.replace(/"/g,"'"),/[,']/.test(mt)||/[+ ]/.test(mt)&&(mt=`'${mt}'`),mt=`${mt}, ${O.hL.fontFamily}`),{mode:N,html:`<div style="color: ${Ie[1]};background-color: ${Ie[2]};font-family: ${mt};font-weight: ${oe.fontWeight};font-size: ${oe.fontSize}px;line-height: ${oe.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(q,Ie)+"</div>"}}_getHTMLToCopy(t,l){const N=t.startLineNumber,q=t.startColumn,oe=t.endLineNumber,Ie=t.endColumn,Ve=this.getTabSize();let ot="";for(let mt=N;mt<=oe;mt++){const Lt=this.model.tokenization.getLineTokens(mt),At=Lt.getLineContent(),jt=mt===N?q-1:0,Jt=mt===oe?Ie-1:At.length;At===""?ot+="<br>":ot+=(0,Fr.Fq)(At,Lt.inflate(),l,jt,Jt,Ve,n.ED)}return ot}_getColorMap(){const t=Yi.RW.getColorMap(),l=["#000000"];if(t)for(let N=1,q=t.length;N<q;N++)l[N]=fn.Il.Format.CSS.formatHex(t[N]);return l}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(t,l,N){return this._withViewEventsCollector(q=>this._cursor.setStates(q,t,l,N))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(t){this._cursor.setCursorColumnSelectData(t)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(t){this._cursor.setPrevEditOperationType(t)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(t,l,N=0){this._withViewEventsCollector(q=>this._cursor.setSelections(q,t,l,N))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(t){this._withViewEventsCollector(l=>this._cursor.restoreState(l,t))}_executeCursorEdit(t){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new hr);return}this._withViewEventsCollector(t)}executeEdits(t,l,N){this._executeCursorEdit(q=>this._cursor.executeEdits(q,t,l,N))}startComposition(){this._executeCursorEdit(t=>this._cursor.startComposition(t))}endComposition(t){this._executeCursorEdit(l=>this._cursor.endComposition(l,t))}type(t,l){this._executeCursorEdit(N=>this._cursor.type(N,t,l))}compositionType(t,l,N,q,oe){this._executeCursorEdit(Ie=>this._cursor.compositionType(Ie,t,l,N,q,oe))}paste(t,l,N,q){this._executeCursorEdit(oe=>this._cursor.paste(oe,t,l,N,q))}cut(t){this._executeCursorEdit(l=>this._cursor.cut(l,t))}executeCommand(t,l){this._executeCursorEdit(N=>this._cursor.executeCommand(N,t,l))}executeCommands(t,l){this._executeCursorEdit(N=>this._cursor.executeCommands(N,t,l))}revealPrimaryCursor(t,l,N=!1){this._withViewEventsCollector(q=>this._cursor.revealPrimary(q,t,N,0,l,0))}revealTopMostCursor(t){const l=this._cursor.getTopMostViewPosition(),N=new W.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(q=>q.emitViewEvent(new Eo(t,!1,N,null,0,!0,0)))}revealBottomMostCursor(t){const l=this._cursor.getBottomMostViewPosition(),N=new W.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(q=>q.emitViewEvent(new Eo(t,!1,N,null,0,!0,0)))}revealRange(t,l,N,q,oe){this._withViewEventsCollector(Ie=>Ie.emitViewEvent(new Eo(t,!1,N,null,q,l,oe)))}changeWhitespace(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new Ps),this._eventDispatcher.emitOutgoingEvent(new Yr))}_withViewEventsCollector(t){try{const l=this._eventDispatcher.beginEmitViewEvents();return t(l)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(t,l){return this._lines.normalizePosition(t,l)}getLineIndentColumn(t){return this._lines.getLineIndentColumn(t)}}class Na{static create(t){const l=t._setTrackedRange(null,new W.e(1,1,1,1),1);return new Na(t,1,!1,l,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(t,l,N,q,oe){this._model=t,this._viewLineNumber=l,this._isValid=N,this._modelTrackedRange=q,this._startLineDelta=oe}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(t,l){const N=t.coordinatesConverter.convertViewPositionToModelPosition(new pe.L(l,t.getLineMinColumn(l))),q=t.model._setTrackedRange(this._modelTrackedRange,new W.e(N.lineNumber,N.column,N.lineNumber,N.column),1),oe=t.viewLayout.getVerticalOffsetForLineNumber(l),Ie=t.viewLayout.getCurrentScrollTop();this._viewLineNumber=l,this._isValid=!0,this._modelTrackedRange=q,this._startLineDelta=Ie-oe}invalidate(){this._isValid=!1}}class Do{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(t,l,N,q,oe){const Ie=this._asMap[t];if(Ie){const Ve=Ie.data,ot=Ve[Ve.length-3],mt=Ve[Ve.length-1];if(ot===oe&&mt+1>=N){q>mt&&(Ve[Ve.length-1]=q);return}Ve.push(oe,N,q)}else{const Ve=new ui.SQ(t,l,[oe,N,q]);this._asMap[t]=Ve,this.asArray.push(Ve)}}}class Io{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(t,l){const N=this.hiddenAreas.get(t);N&&gr(N,l)||(this.hiddenAreas.set(t,l),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const t=Array.from(this.hiddenAreas.values()).reduce((l,N)=>fr(l,N),[]);return gr(this.ranges,t)?this.ranges:(this.ranges=t,this.ranges)}}function fr(Kt,t){const l=[];let N=0,q=0;for(;N<Kt.length&&q<t.length;){const oe=Kt[N],Ie=t[q];if(oe.endLineNumber<Ie.startLineNumber-1)l.push(Kt[N++]);else if(Ie.endLineNumber<oe.startLineNumber-1)l.push(t[q++]);else{const Ve=Math.min(oe.startLineNumber,Ie.startLineNumber),ot=Math.max(oe.endLineNumber,Ie.endLineNumber);l.push(new W.e(Ve,1,ot,1)),N++,q++}}for(;N<Kt.length;)l.push(Kt[N++]);for(;q<t.length;)l.push(t[q++]);return l}function gr(Kt,t){if(Kt.length!==t.length)return!1;for(let l=0;l<Kt.length;l++)if(!Kt[l].equalsRange(t[l]))return!1;return!0}class er{constructor(t,l){this.viewportStartModelPosition=t,this.startLineDelta=l}recoverViewportStart(t,l){if(!this.viewportStartModelPosition)return;const N=t.convertModelPositionToViewPosition(this.viewportStartModelPosition),q=l.getVerticalOffsetForLineNumber(N.lineNumber);l.setScrollPosition({scrollTop:q+this.startLineDelta},1)}}var ol=e(94565),tr=e(32064),na=e(60972),sa=e(48894),oa=e(44906),Ta=e(35146);class mr{constructor(t,l,N,q,oe){this.injectionOffsets=t,this.injectionOptions=l,this.breakOffsets=N,this.breakOffsetsVisibleColumn=q,this.wrappedTextIndentLength=oe}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){const l=t>0?this.breakOffsets[t-1]:0;let q=this.breakOffsets[t]-l;return t>0&&(q+=this.wrappedTextIndentLength),q}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,l){t>0&&(l=Math.max(0,l-this.wrappedTextIndentLength));let q=t===0?l:this.breakOffsets[t-1]+l;if(this.injectionOffsets!==null)for(let oe=0;oe<this.injectionOffsets.length&&q>this.injectionOffsets[oe];oe++)q<this.injectionOffsets[oe]+this.injectionOptions[oe].content.length?q=this.injectionOffsets[oe]:q-=this.injectionOptions[oe].content.length;return q}translateToOutputPosition(t,l=2){let N=t;if(this.injectionOffsets!==null)for(let q=0;q<this.injectionOffsets.length&&!(t<this.injectionOffsets[q]||l!==1&&t===this.injectionOffsets[q]);q++)N+=this.injectionOptions[q].content.length;return this.offsetInInputWithInjectionsToOutputPosition(N,l)}offsetInInputWithInjectionsToOutputPosition(t,l=2){let N=0,q=this.breakOffsets.length-1,oe=0,Ie=0;for(;N<=q;){oe=N+(q-N)/2|0;const ot=this.breakOffsets[oe];if(Ie=oe>0?this.breakOffsets[oe-1]:0,l===0)if(t<=Ie)q=oe-1;else if(t>ot)N=oe+1;else break;else if(t<Ie)q=oe-1;else if(t>=ot)N=oe+1;else break}let Ve=t-Ie;return oe>0&&(Ve+=this.wrappedTextIndentLength),new Wr(oe,Ve)}normalizeOutputPosition(t,l,N){if(this.injectionOffsets!==null){const q=this.outputPositionToOffsetInInputWithInjections(t,l),oe=this.normalizeOffsetInInputWithInjectionsAroundInjections(q,N);if(oe!==q)return this.offsetInInputWithInjectionsToOutputPosition(oe,N)}if(N===0){if(t>0&&l===this.getMinOutputOffset(t))return new Wr(t-1,this.getMaxOutputOffset(t-1))}else if(N===1){const q=this.getOutputLineCount()-1;if(t<q&&l===this.getMaxOutputOffset(t))return new Wr(t+1,this.getMinOutputOffset(t+1))}return new Wr(t,l)}outputPositionToOffsetInInputWithInjections(t,l){return t>0&&(l=Math.max(0,l-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+l}normalizeOffsetInInputWithInjectionsAroundInjections(t,l){const N=this.getInjectedTextAtOffset(t);if(!N)return t;if(l===2){if(t===N.offsetInInputWithInjections+N.length&&Ma(this.injectionOptions[N.injectedTextIndex].cursorStops))return N.offsetInInputWithInjections+N.length;{let q=N.offsetInInputWithInjections;if(Pa(this.injectionOptions[N.injectedTextIndex].cursorStops))return q;let oe=N.injectedTextIndex-1;for(;oe>=0&&this.injectionOffsets[oe]===this.injectionOffsets[N.injectedTextIndex]&&!(Ma(this.injectionOptions[oe].cursorStops)||(q-=this.injectionOptions[oe].content.length,Pa(this.injectionOptions[oe].cursorStops)));)oe--;return q}}else if(l===1||l===4){let q=N.offsetInInputWithInjections+N.length,oe=N.injectedTextIndex;for(;oe+1<this.injectionOffsets.length&&this.injectionOffsets[oe+1]===this.injectionOffsets[oe];)q+=this.injectionOptions[oe+1].content.length,oe++;return q}else if(l===0||l===3){let q=N.offsetInInputWithInjections,oe=N.injectedTextIndex;for(;oe-1>=0&&this.injectionOffsets[oe-1]===this.injectionOffsets[oe];)q-=this.injectionOptions[oe-1].content.length,oe--;return q}(0,Ta.vE)(l)}getInjectedText(t,l){const N=this.outputPositionToOffsetInInputWithInjections(t,l),q=this.getInjectedTextAtOffset(N);return q?{options:this.injectionOptions[q.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const l=this.injectionOffsets,N=this.injectionOptions;if(l!==null){let q=0;for(let oe=0;oe<l.length;oe++){const Ie=N[oe].content.length,Ve=l[oe]+q,ot=l[oe]+q+Ie;if(Ve>t)break;if(t<=ot)return{injectedTextIndex:oe,offsetInInputWithInjections:Ve,length:Ie};q+=Ie}}}}function Ma(Kt){return Kt==null?!0:Kt===yn.RM.Right||Kt===yn.RM.Both}function Pa(Kt){return Kt==null?!0:Kt===yn.RM.Left||Kt===yn.RM.Both}class yo{constructor(t){this.options=t}}class Wr{constructor(t,l){this.outputLineIndex=t,this.outputOffset=l}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new pe.L(t+this.outputLineIndex,this.outputOffset+1)}}class Ws{static create(t){return new Ws(t.get(132),t.get(131))}constructor(t,l){this.classifier=new Rl(t,l)}createLineBreaksComputer(t,l,N,q,oe){const Ie=[],Ve=[],ot=[];return{addRequest:(mt,Lt,At)=>{Ie.push(mt),Ve.push(Lt),ot.push(At)},finalize:()=>{const mt=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,Lt=[];for(let At=0,jt=Ie.length;At<jt;At++){const Jt=Ve[At],fi=ot[At];fi&&!fi.injectionOptions&&!Jt?Lt[At]=Ra(this.classifier,fi,Ie[At],l,N,mt,q,oe):Lt[At]=Ol(this.classifier,Ie[At],Jt,l,N,mt,q,oe)}return rl.length=0,ra.length=0,Lt}}}}class Rl extends oa.N{constructor(t,l){super(0);for(let N=0;N<t.length;N++)this.set(t.charCodeAt(N),1);for(let N=0;N<l.length;N++)this.set(l.charCodeAt(N),2)}get(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue}}let rl=[],ra=[];function Ra(Kt,t,l,N,q,oe,Ie,Ve){if(q===-1)return null;const ot=l.length;if(ot<=1)return null;const mt=Ve==="keepAll",Lt=t.breakOffsets,At=t.breakOffsetsVisibleColumn,jt=Al(l,N,q,oe,Ie),Jt=q-jt,fi=rl,wi=ra;let Ni=0,ki=0,Ji=0,rn=q;const En=Lt.length;let _n=0;if(_n>=0){let zn=Math.abs(At[_n]-rn);for(;_n+1<En;){const Wn=Math.abs(At[_n+1]-rn);if(Wn>=zn)break;zn=Wn,_n++}}for(;_n<En;){let zn=_n<0?0:Lt[_n],Wn=_n<0?0:At[_n];ki>zn&&(zn=ki,Wn=Ji);let Kn=0,Sn=0,$n=0,as=0;if(Wn<=rn){let ls=Wn,Rs=zn===0?0:l.charCodeAt(zn-1),Ls=zn===0?0:Kt.get(Rs),Xs=!0;for(let Hs=zn;Hs<ot;Hs++){const Js=Hs,qs=l.charCodeAt(Hs);let Ss,co;if(Xt.ZG(qs)?(Hs++,Ss=0,co=2):(Ss=Kt.get(qs),co=Hr(qs,ls,N,oe)),Js>ki&&ir(Rs,Ls,qs,Ss,mt)&&(Kn=Js,Sn=ls),ls+=co,ls>rn){Js>ki?($n=Js,as=ls-co):($n=Hs+1,as=ls),ls-Sn>Jt&&(Kn=0),Xs=!1;break}Rs=qs,Ls=Ss}if(Xs){Ni>0&&(fi[Ni]=Lt[Lt.length-1],wi[Ni]=At[Lt.length-1],Ni++);break}}if(Kn===0){let ls=Wn,Rs=l.charCodeAt(zn),Ls=Kt.get(Rs),Xs=!1;for(let Hs=zn-1;Hs>=ki;Hs--){const Js=Hs+1,qs=l.charCodeAt(Hs);if(qs===9){Xs=!0;break}let Ss,co;if(Xt.YK(qs)?(Hs--,Ss=0,co=2):(Ss=Kt.get(qs),co=Xt.K7(qs)?oe:1),ls<=rn){if($n===0&&($n=Js,as=ls),ls<=rn-Jt)break;if(ir(qs,Ss,Rs,Ls,mt)){Kn=Js,Sn=ls;break}}ls-=co,Rs=qs,Ls=Ss}if(Kn!==0){const Hs=Jt-(as-Sn);if(Hs<=N){const Js=l.charCodeAt($n);let qs;Xt.ZG(Js)?qs=2:qs=Hr(Js,as,N,oe),Hs-qs<0&&(Kn=0)}}if(Xs){_n--;continue}}if(Kn===0&&(Kn=$n,Sn=as),Kn<=ki){const ls=l.charCodeAt(ki);Xt.ZG(ls)?(Kn=ki+2,Sn=Ji+2):(Kn=ki+1,Sn=Ji+Hr(ls,Ji,N,oe))}for(ki=Kn,fi[Ni]=Kn,Ji=Sn,wi[Ni]=Sn,Ni++,rn=Sn+Jt;_n<0||_n<En&&At[_n]<Sn;)_n++;let Yn=Math.abs(At[_n]-rn);for(;_n+1<En;){const ls=Math.abs(At[_n+1]-rn);if(ls>=Yn)break;Yn=ls,_n++}}return Ni===0?null:(fi.length=Ni,wi.length=Ni,rl=t.breakOffsets,ra=t.breakOffsetsVisibleColumn,t.breakOffsets=fi,t.breakOffsetsVisibleColumn=wi,t.wrappedTextIndentLength=jt,t)}function Ol(Kt,t,l,N,q,oe,Ie,Ve){const ot=$s.gk.applyInjectedText(t,l);let mt,Lt;if(l&&l.length>0?(mt=l.map(Sn=>Sn.options),Lt=l.map(Sn=>Sn.column-1)):(mt=null,Lt=null),q===-1)return mt?new mr(Lt,mt,[ot.length],[],0):null;const At=ot.length;if(At<=1)return mt?new mr(Lt,mt,[ot.length],[],0):null;const jt=Ve==="keepAll",Jt=Al(ot,N,q,oe,Ie),fi=q-Jt,wi=[],Ni=[];let ki=0,Ji=0,rn=0,En=q,_n=ot.charCodeAt(0),zn=Kt.get(_n),Wn=Hr(_n,0,N,oe),Kn=1;Xt.ZG(_n)&&(Wn+=1,_n=ot.charCodeAt(1),zn=Kt.get(_n),Kn++);for(let Sn=Kn;Sn<At;Sn++){const $n=Sn,as=ot.charCodeAt(Sn);let Yn,ls;Xt.ZG(as)?(Sn++,Yn=0,ls=2):(Yn=Kt.get(as),ls=Hr(as,Wn,N,oe)),ir(_n,zn,as,Yn,jt)&&(Ji=$n,rn=Wn),Wn+=ls,Wn>En&&((Ji===0||Wn-rn>fi)&&(Ji=$n,rn=Wn-ls),wi[ki]=Ji,Ni[ki]=rn,ki++,En=rn+fi,Ji=0),_n=as,zn=Yn}return ki===0&&(!l||l.length===0)?null:(wi[ki]=At,Ni[ki]=Wn,new mr(Lt,mt,wi,Ni,Jt))}function Hr(Kt,t,l,N){return Kt===9?l-t%l:Xt.K7(Kt)||Kt<32?N:1}function al(Kt,t){return t-Kt%t}function ir(Kt,t,l,N,q){return l!==32&&(t===2&&N!==2||t!==1&&N===1||!q&&t===3&&N!==2||!q&&N===3&&t!==1)}function Al(Kt,t,l,N,q){let oe=0;if(q!==0){const Ie=Xt.LC(Kt);if(Ie!==-1){for(let ot=0;ot<Ie;ot++){const mt=Kt.charCodeAt(ot)===9?al(oe,t):1;oe+=mt}const Ve=q===3?2:q===2?1:0;for(let ot=0;ot<Ve;ot++){const mt=al(oe,t);oe+=mt}oe+N>l&&(oe=0)}}return oe}const nr=(0,et.Z)("domLineBreaksComputer",{createHTML:Kt=>Kt});class aa{static create(t){return new aa(new WeakRef(t))}constructor(t){this.targetWindow=t}createLineBreaksComputer(t,l,N,q,oe){const Ie=[],Ve=[];return{addRequest:(ot,mt,Lt)=>{Ie.push(ot),Ve.push(mt)},finalize:()=>Vr((0,hi.cW)(this.targetWindow.deref()),Ie,t,l,N,q,oe,Ve)}}}function Vr(Kt,t,l,N,q,oe,Ie,Ve){var ot;function mt($n){const as=Ve[$n];if(as){const Yn=$s.gk.applyInjectedText(t[$n],as),ls=as.map(Ls=>Ls.options),Rs=as.map(Ls=>Ls.column-1);return new mr(Rs,ls,[Yn.length],[],0)}else return null}if(q===-1){const $n=[];for(let as=0,Yn=t.length;as<Yn;as++)$n[as]=mt(as);return $n}const Lt=Math.round(q*l.typicalHalfwidthCharacterWidth),jt=Math.round(N*(oe===3?2:oe===2?1:0)),Jt=Math.ceil(l.spaceWidth*jt),fi=document.createElement("div");(0,Ct.N)(fi,l);const wi=new wt.HT(1e4),Ni=[],ki=[],Ji=[],rn=[],En=[];for(let $n=0;$n<t.length;$n++){const as=$s.gk.applyInjectedText(t[$n],Ve[$n]);let Yn=0,ls=0,Rs=Lt;if(oe!==0)if(Yn=Xt.LC(as),Yn===-1)Yn=0;else{for(let Js=0;Js<Yn;Js++){const qs=as.charCodeAt(Js)===9?N-ls%N:1;ls+=qs}const Hs=Math.ceil(l.spaceWidth*ls);Hs+l.typicalFullwidthCharacterWidth>Lt?(Yn=0,ls=0):Rs=Lt-Hs}const Ls=as.substr(Yn),Xs=pr(Ls,ls,N,Rs,wi,Jt);Ni[$n]=Yn,ki[$n]=ls,Ji[$n]=Ls,rn[$n]=Xs[0],En[$n]=Xs[1]}const _n=wi.build(),zn=(ot=nr==null?void 0:nr.createHTML(_n))!==null&&ot!==void 0?ot:_n;fi.innerHTML=zn,fi.style.position="absolute",fi.style.top="10000",Ie==="keepAll"?(fi.style.wordBreak="keep-all",fi.style.overflowWrap="anywhere"):(fi.style.wordBreak="inherit",fi.style.overflowWrap="break-word"),Kt.document.body.appendChild(fi);const Wn=document.createRange(),Kn=Array.prototype.slice.call(fi.children,0),Sn=[];for(let $n=0;$n<t.length;$n++){const as=Kn[$n],Yn=sr(Wn,as,Ji[$n],rn[$n]);if(Yn===null){Sn[$n]=mt($n);continue}const ls=Ni[$n],Rs=ki[$n]+jt,Ls=En[$n],Xs=[];for(let Ss=0,co=Yn.length;Ss<co;Ss++)Xs[Ss]=Ls[Yn[Ss]];if(ls!==0)for(let Ss=0,co=Yn.length;Ss<co;Ss++)Yn[Ss]+=ls;let Hs,Js;const qs=Ve[$n];qs?(Hs=qs.map(Ss=>Ss.options),Js=qs.map(Ss=>Ss.column-1)):(Hs=null,Js=null),Sn[$n]=new mr(Js,Hs,Yn,Xs,Rs)}return Kt.document.body.removeChild(fi),Sn}function pr(Kt,t,l,N,q,oe){if(oe!==0){const jt=String(oe);q.appendString('<div style="text-indent: -'),q.appendString(jt),q.appendString("px; padding-left: "),q.appendString(jt),q.appendString("px; box-sizing: border-box; width:")}else q.appendString('<div style="width:');q.appendString(String(N)),q.appendString('px;">');const Ie=Kt.length;let Ve=t,ot=0;const mt=[],Lt=[];let At=0<Ie?Kt.charCodeAt(0):0;q.appendString("<span>");for(let jt=0;jt<Ie;jt++){jt!==0&&jt%16384===0&&q.appendString("</span><span>"),mt[jt]=ot,Lt[jt]=Ve;const Jt=At;At=jt+1<Ie?Kt.charCodeAt(jt+1):0;let fi=1,wi=1;switch(Jt){case 9:fi=l-Ve%l,wi=fi;for(let Ni=1;Ni<=fi;Ni++)Ni<fi?q.appendCharCode(160):q.appendASCIICharCode(32);break;case 32:At===32?q.appendCharCode(160):q.appendASCIICharCode(32);break;case 60:q.appendString("&lt;");break;case 62:q.appendString("&gt;");break;case 38:q.appendString("&amp;");break;case 0:q.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:q.appendCharCode(65533);break;default:Xt.K7(Jt)&&wi++,Jt<32?q.appendCharCode(9216+Jt):q.appendCharCode(Jt)}ot+=fi,Ve+=wi}return q.appendString("</span>"),mt[Kt.length]=ot,Lt[Kt.length]=Ve,q.appendString("</div>"),[mt,Lt]}function sr(Kt,t,l,N){if(l.length<=1)return null;const q=Array.prototype.slice.call(t.children,0),oe=[];try{la(Kt,q,N,0,null,l.length-1,null,oe)}catch(Ie){return console.log(Ie),null}return oe.length===0?null:(oe.push(l.length),oe)}function la(Kt,t,l,N,q,oe,Ie,Ve){if(N===oe||(q=q||Oa(Kt,t,l[N],l[N+1]),Ie=Ie||Oa(Kt,t,l[oe],l[oe+1]),Math.abs(q[0].top-Ie[0].top)<=.1))return;if(N+1===oe){Ve.push(oe);return}const ot=N+(oe-N)/2|0,mt=Oa(Kt,t,l[ot],l[ot+1]);la(Kt,t,l,N,q,ot,mt,Ve),la(Kt,t,l,ot,mt,oe,Ie,Ve)}function Oa(Kt,t,l,N){return Kt.setStart(t[l/16384|0].firstChild,l%16384),Kt.setEnd(t[N/16384|0].firstChild,N%16384),Kt.getClientRects()}var kl=e(92896),Aa=e(4256),Ir=e(71922);class ka extends p.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new p.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(t,l,N){this._editor=t,this._instantiationService=N;for(const q of l){if(this._pending.has(q.id)){(0,M.dL)(new Error(`Cannot have two contributions with the same id ${q.id}`));continue}this._pending.set(q.id,q)}this._instantiateSome(0),this._register((0,I.se)((0,I.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,I.se)((0,I.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,I.se)((0,I.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const t={};for(const[l,N]of this._instances)typeof N.saveViewState=="function"&&(t[l]=N.saveViewState());return t}restoreViewState(t){for(const[l,N]of this._instances)typeof N.restoreViewState=="function"&&N.restoreViewState(t[l])}get(t){return this._instantiateById(t),this._instances.get(t)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var t;this._register((0,I.se)((0,I.Jj)((t=this._editor)===null||t===void 0?void 0:t.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(t){if(this._finishedInstantiation[t])return;this._finishedInstantiation[t]=!0;const l=this._findPendingContributionsByInstantiation(t);for(const N of l)this._instantiateById(N.id)}_findPendingContributionsByInstantiation(t){const l=[];for(const[,N]of this._pending)N.instantiation===t&&l.push(N);return l}_instantiateById(t){const l=this._pending.get(t);if(l){if(this._pending.delete(t),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const N=this._instantiationService.createInstance(l.ctor,this._editor);this._instances.set(l.id,N),typeof N.restoreViewState=="function"&&l.instantiation!==0&&console.warn(`Editor contribution '${l.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(N){(0,M.dL)(N)}}}}var Fa=function(Kt,t,l,N){var q=arguments.length,oe=q<3?t:N===null?N=Object.getOwnPropertyDescriptor(t,l):N,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Kt,t,l,N);else for(var Ve=Kt.length-1;Ve>=0;Ve--)(Ie=Kt[Ve])&&(oe=(q<3?Ie(oe):q>3?Ie(t,l,oe):Ie(t,l))||oe);return q>3&&oe&&Object.defineProperty(t,l,oe),oe},to=function(Kt,t){return function(l,N){t(l,N,Kt)}},vr;let ll=0;class Ba{constructor(t,l,N,q,oe,Ie){this.model=t,this.viewModel=l,this.view=N,this.hasRealView=q,this.listenersToRemove=oe,this.attachedView=Ie}dispose(){(0,p.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let _r=vr=class extends p.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(t,l,N,q,oe,Ie,Ve,ot,mt,Lt,At,jt){var Jt;super(),this.languageConfigurationService=At,this._deliveryQueue=(0,D.Sp)(),this._contributions=this._register(new ka),this._onDidDispose=this._register(new D.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new no(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Wa({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Wa({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new no(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new no(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new no(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new no(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new no(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new no(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new no(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new no(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new no(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new no(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),oe.willCreateCodeEditor();const fi=Xi({},l);this._domElement=t,this._overflowWidgetsDomNode=fi.overflowWidgetsDomNode,delete fi.overflowWidgetsDomNode,this._id=++ll,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=N.telemetryData,this._configuration=this._register(this._createConfiguration(N.isSimpleWidget||!1,fi,Lt)),this._register(this._configuration.onDidChange(ki=>{this._onDidChangeConfiguration.fire(ki);const Ji=this._configuration.options;if(ki.hasChanged(143)){const rn=Ji.get(143);this._onDidLayoutChange.fire(rn)}})),this._contextKeyService=this._register(Ve.createScoped(this._domElement)),this._notificationService=mt,this._codeEditorService=oe,this._commandService=Ie,this._themeService=ot,this._register(new cl(this,this._contextKeyService)),this._register(new Ha(this,this._contextKeyService,jt)),this._instantiationService=q.createChild(new na.y([tr.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new Va(t),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let wi;Array.isArray(N.contributions)?wi=N.contributions:wi=z.Uc.getEditorContributions(),this._contributions.initialize(this,wi,this._instantiationService);for(const ki of z.Uc.getEditorActions()){if(this._actions.has(ki.id)){(0,M.dL)(new Error(`Cannot have two actions with the same id ${ki.id}`));continue}const Ji=new rs.p(ki.id,ki.label,ki.alias,ki.metadata,(Jt=ki.precondition)!==null&&Jt!==void 0?Jt:void 0,()=>this._instantiationService.invokeFunction(rn=>Promise.resolve(ki.runEditorCommand(rn,this,null))),this._contextKeyService);this._actions.set(Ji.id,Ji)}const Ni=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new I.eg(this._domElement,{onDragOver:ki=>{if(!Ni())return;const Ji=this.getTargetAtClientPoint(ki.clientX,ki.clientY);Ji!=null&&Ji.position&&this.showDropIndicatorAt(Ji.position)},onDrop:ki=>qt(this,null,function*(){if(!Ni()||(this.removeDropIndicator(),!ki.dataTransfer))return;const Ji=this.getTargetAtClientPoint(ki.clientX,ki.clientY);Ji!=null&&Ji.position&&this._onDropIntoEditor.fire({position:Ji.position,event:ki})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(t){var l;(l=this._modelData)===null||l===void 0||l.view.writeScreenReaderContent(t)}_createConfiguration(t,l,N){return new P(t,l,this._domElement,N)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ys.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(t){return this._instantiationService.invokeFunction(t)}updateOptions(t){this._configuration.updateOptions(t||{})}getOptions(){return this._configuration.options}getOption(t){return this._configuration.options.get(t)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(t){return this._modelData?kl.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),t):null}getValue(t=null){if(!this._modelData)return"";const l=!!(t&&t.preserveBOM);let N=0;return t&&t.lineEnding&&t.lineEnding===`
`?N=1:t&&t.lineEnding&&t.lineEnding===`\r
`&&(N=2),this._modelData.model.getValue(N,l)}setValue(t){this._modelData&&this._modelData.model.setValue(t)}getModel(){return this._modelData?this._modelData.model:null}setModel(t=null){const l=t;if(this._modelData===null&&l===null||this._modelData&&this._modelData.model===l)return;const N=this.hasTextFocus(),q=this._detachModel();this._attachModel(l),N&&this.hasModel()&&this.focus();const oe={oldModelUrl:q?q.uri:null,newModelUrl:l?l.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(oe),this._postDetachModelCleanup(q),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const t in this._decorationTypeSubtypes){const l=this._decorationTypeSubtypes[t];for(const N in l)this._removeDecorationType(t+"-"+N)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(t,l,N,q){const oe=t.model.validatePosition({lineNumber:l,column:N}),Ie=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(oe);return t.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Ie.lineNumber,q)}getTopForLineNumber(t,l=!1){return this._modelData?vr._getVerticalOffsetForPosition(this._modelData,t,1,l):-1}getTopForPosition(t,l){return this._modelData?vr._getVerticalOffsetForPosition(this._modelData,t,l,!1):-1}static _getVerticalOffsetForPosition(t,l,N,q=!1){const oe=t.model.validatePosition({lineNumber:l,column:N}),Ie=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(oe);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(Ie.lineNumber,q)}getBottomForLineNumber(t,l=!1){return this._modelData?vr._getVerticalOffsetAfterPosition(this._modelData,t,1,l):-1}setHiddenAreas(t,l){var N;(N=this._modelData)===null||N===void 0||N.viewModel.setHiddenAreas(t.map(q=>W.e.lift(q)),l)}getVisibleColumnFromPosition(t){if(!this._modelData)return t.column;const l=this._modelData.model.validatePosition(t),N=this._modelData.model.getOptions().tabSize;return Te.i.visibleColumnFromColumn(this._modelData.model.getLineContent(l.lineNumber),l.column,N)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(t,l="api"){if(this._modelData){if(!pe.L.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}}_sendRevealRange(t,l,N,q){if(!this._modelData)return;if(!W.e.isIRange(t))throw new Error("Invalid arguments");const oe=this._modelData.model.validateRange(t),Ie=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(oe);this._modelData.viewModel.revealRange("api",N,Ie,l,q)}revealLine(t,l=0){this._revealLine(t,0,l)}revealLineInCenter(t,l=0){this._revealLine(t,1,l)}revealLineInCenterIfOutsideViewport(t,l=0){this._revealLine(t,2,l)}revealLineNearTop(t,l=0){this._revealLine(t,5,l)}_revealLine(t,l,N){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new W.e(t,1,t,1),l,!1,N)}revealPosition(t,l=0){this._revealPosition(t,0,!0,l)}revealPositionInCenter(t,l=0){this._revealPosition(t,1,!0,l)}revealPositionInCenterIfOutsideViewport(t,l=0){this._revealPosition(t,2,!0,l)}revealPositionNearTop(t,l=0){this._revealPosition(t,5,!0,l)}_revealPosition(t,l,N,q){if(!pe.L.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new W.e(t.lineNumber,t.column,t.lineNumber,t.column),l,N,q)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(t,l="api"){const N=j.Y.isISelection(t),q=W.e.isIRange(t);if(!N&&!q)throw new Error("Invalid arguments");if(N)this._setSelectionImpl(t,l);else if(q){const oe={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(oe,l)}}_setSelectionImpl(t,l){if(!this._modelData)return;const N=new j.Y(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(l,[N])}revealLines(t,l,N=0){this._revealLines(t,l,0,N)}revealLinesInCenter(t,l,N=0){this._revealLines(t,l,1,N)}revealLinesInCenterIfOutsideViewport(t,l,N=0){this._revealLines(t,l,2,N)}revealLinesNearTop(t,l,N=0){this._revealLines(t,l,5,N)}_revealLines(t,l,N,q){if(typeof t!="number"||typeof l!="number")throw new Error("Invalid arguments");this._sendRevealRange(new W.e(t,1,l,1),N,!1,q)}revealRange(t,l=0,N=!1,q=!0){this._revealRange(t,N?1:0,q,l)}revealRangeInCenter(t,l=0){this._revealRange(t,1,!0,l)}revealRangeInCenterIfOutsideViewport(t,l=0){this._revealRange(t,2,!0,l)}revealRangeNearTop(t,l=0){this._revealRange(t,5,!0,l)}revealRangeNearTopIfOutsideViewport(t,l=0){this._revealRange(t,6,!0,l)}revealRangeAtTop(t,l=0){this._revealRange(t,3,!0,l)}_revealRange(t,l,N,q){if(!W.e.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(W.e.lift(t),l,N,q)}setSelections(t,l="api",N=0){if(this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(let q=0,oe=t.length;q<oe;q++)if(!j.Y.isISelection(t[q]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,t,N)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(t,l=1){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},l)}}setScrollTop(t,l=1){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},l)}}setScrollPosition(t,l=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(t,l)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const t=this._contributions.saveViewState(),l=this._modelData.viewModel.saveCursorState(),N=this._modelData.viewModel.saveState();return{cursorState:l,viewState:N,contributionsState:t}}restoreViewState(t){if(!this._modelData||!this._modelData.hasRealView)return;const l=t;if(l&&l.cursorState&&l.viewState){const N=l.cursorState;Array.isArray(N)?N.length>0&&this._modelData.viewModel.restoreCursorState(N):this._modelData.viewModel.restoreCursorState([N]),this._contributions.restoreViewState(l.contributionsState||{});const q=this._modelData.viewModel.reduceRestoreState(l.viewState);this._modelData.view.restoreState(q)}}handleInitialized(){var t;(t=this._getViewModel())===null||t===void 0||t.visibleLinesStabilized()}getContribution(t){return this._contributions.get(t)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let t=this.getActions();return t=t.filter(l=>l.isSupported()),t}getAction(t){return this._actions.get(t)||null}trigger(t,l,N){switch(N=N||{},l){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(t);return;case"type":{const oe=N;this._type(t,oe.text||"");return}case"replacePreviousChar":{const oe=N;this._compositionType(t,oe.text||"",oe.replaceCharCnt||0,0,0);return}case"compositionType":{const oe=N;this._compositionType(t,oe.text||"",oe.replacePrevCharCnt||0,oe.replaceNextCharCnt||0,oe.positionDelta||0);return}case"paste":{const oe=N;this._paste(t,oe.text||"",oe.pasteOnNewLine||!1,oe.multicursorText||null,oe.mode||null);return}case"cut":this._cut(t);return}const q=this.getAction(l);if(q){Promise.resolve(q.run(N)).then(void 0,M.dL);return}this._modelData&&(this._triggerEditorCommand(t,l,N)||this._triggerCommand(l,N))}_triggerCommand(t,l){this._commandService.executeCommand(t,l)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(t){this._modelData&&(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())}_type(t,l){!this._modelData||l.length===0||(t==="keyboard"&&this._onWillType.fire(l),this._modelData.viewModel.type(l,t),t==="keyboard"&&this._onDidType.fire(l))}_compositionType(t,l,N,q,oe){this._modelData&&this._modelData.viewModel.compositionType(l,N,q,oe,t)}_paste(t,l,N,q,oe){if(!this._modelData||l.length===0)return;const Ie=this._modelData.viewModel,Ve=Ie.getSelection().getStartPosition();Ie.paste(l,N,q,t);const ot=Ie.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire({range:new W.e(Ve.lineNumber,Ve.column,ot.lineNumber,ot.column),languageId:oe})}_cut(t){this._modelData&&this._modelData.viewModel.cut(t)}_triggerEditorCommand(t,l,N){const q=z.Uc.getEditorCommand(l);return q?(N=N||{},N.source=t,this._instantiationService.invokeFunction(oe=>{Promise.resolve(q.runEditorCommand(oe,this,N)).then(void 0,M.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(t,l,N){if(!this._modelData||this._configuration.options.get(90))return!1;let q;return N?Array.isArray(N)?q=()=>N:q=N:q=()=>null,this._modelData.viewModel.executeEdits(t,l,q),!0}executeCommand(t,l){this._modelData&&this._modelData.viewModel.executeCommand(l,t)}executeCommands(t,l){this._modelData&&this._modelData.viewModel.executeCommands(l,t)}createDecorationsCollection(t){return new dl(this,t)}changeDecorations(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null}getLineDecorations(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,(0,O.$J)(this._configuration.options)):null}getDecorationsInRange(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,(0,O.$J)(this._configuration.options)):null}deltaDecorations(t,l){return this._modelData?t.length===0&&l.length===0?t:this._modelData.model.deltaDecorations(t,l,this._id):[]}removeDecorations(t){!this._modelData||t.length===0||this._modelData.model.changeDecorations(l=>{l.deltaDecorations(t,[])})}removeDecorationsByType(t){const l=this._decorationTypeKeysToIds[t];l&&this.deltaDecorations(l,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(t)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(t)}layout(t,l=!1){this._configuration.observeContainer(t),l||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(t){const l={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id:"+t.getId()),this._contentWidgets[t.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(l)}layoutContentWidget(t){const l=t.getId();if(this._contentWidgets.hasOwnProperty(l)){const N=this._contentWidgets[l];N.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(N)}}removeContentWidget(t){const l=t.getId();if(this._contentWidgets.hasOwnProperty(l)){const N=this._contentWidgets[l];delete this._contentWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(N)}}addOverlayWidget(t){const l={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(l)}layoutOverlayWidget(t){const l=t.getId();if(this._overlayWidgets.hasOwnProperty(l)){const N=this._overlayWidgets[l];N.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(N)}}removeOverlayWidget(t){const l=t.getId();if(this._overlayWidgets.hasOwnProperty(l)){const N=this._overlayWidgets[l];delete this._overlayWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(N)}}addGlyphMarginWidget(t){const l={widget:t,position:t.getPosition()};this._glyphMarginWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[t.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(l)}layoutGlyphMarginWidget(t){const l=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(l)){const N=this._glyphMarginWidgets[l];N.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(N)}}removeGlyphMarginWidget(t){const l=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(l)){const N=this._glyphMarginWidgets[l];delete this._glyphMarginWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(N)}}changeViewZones(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(t)}getTargetAtClientPoint(t,l){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(t,l)}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const l=this._modelData.model.validatePosition(t),N=this._configuration.options,q=N.get(143),oe=vr._getVerticalOffsetForPosition(this._modelData,l.lineNumber,l.column)-this.getScrollTop(),Ie=this._modelData.view.getOffsetForColumn(l.lineNumber,l.column)+q.glyphMarginWidth+q.lineNumbersWidth+q.decorationsWidth-this.getScrollLeft();return{top:oe,left:Ie,height:N.get(66)}}getOffsetForColumn(t,l){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(t,l)}render(t=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,t)}setAriaOptions(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(t)}applyFontInfo(t){(0,Ct.N)(t,this._configuration.options.get(50))}setBanner(t,l){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?l:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(t){if(!t){this._modelData=null;return}const l=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount());const N=t.onBeforeAttached(),q=new $o(this._id,this._configuration,t,aa.create(I.Jj(this._domElement)),Ws.create(this._configuration.options),Ve=>I.jL(I.Jj(this._domElement),Ve),this.languageConfigurationService,this._themeService,N);l.push(t.onWillDispose(()=>this.setModel(null))),l.push(q.onEvent(Ve=>{switch(Ve.kind){case 0:this._onDidContentSizeChange.fire(Ve);break;case 1:this._editorTextFocus.setValue(Ve.hasFocus);break;case 2:this._onDidScrollChange.fire(Ve);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Ve.reachedMaxCursorCount){const At=this.getOption(79),jt=_.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",At);this._notificationService.prompt(sa.zb.Warning,jt,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:_.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ot=[];for(let At=0,jt=Ve.selections.length;At<jt;At++)ot[At]=Ve.selections[At].getPosition();const mt={position:ot[0],secondaryPositions:ot.slice(1),reason:Ve.reason,source:Ve.source};this._onDidChangeCursorPosition.fire(mt);const Lt={selection:Ve.selections[0],secondarySelections:Ve.selections.slice(1),modelVersionId:Ve.modelVersionId,oldSelections:Ve.oldSelections,oldModelVersionId:Ve.oldModelVersionId,source:Ve.source,reason:Ve.reason};this._onDidChangeCursorSelection.fire(Lt);break}case 7:this._onDidChangeModelDecorations.fire(Ve.event);break;case 8:this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._onDidChangeModelLanguage.fire(Ve.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Ve.event);break;case 10:this._onDidChangeModelContent.fire(Ve.event);break;case 11:this._onDidChangeModelOptions.fire(Ve.event);break;case 12:this._onDidChangeModelTokens.fire(Ve.event);break}}));const[oe,Ie]=this._createView(q);if(Ie){this._domElement.appendChild(oe.domNode.domNode);let Ve=Object.keys(this._contentWidgets);for(let ot=0,mt=Ve.length;ot<mt;ot++){const Lt=Ve[ot];oe.addContentWidget(this._contentWidgets[Lt])}Ve=Object.keys(this._overlayWidgets);for(let ot=0,mt=Ve.length;ot<mt;ot++){const Lt=Ve[ot];oe.addOverlayWidget(this._overlayWidgets[Lt])}Ve=Object.keys(this._glyphMarginWidgets);for(let ot=0,mt=Ve.length;ot<mt;ot++){const Lt=Ve[ot];oe.addGlyphMarginWidget(this._glyphMarginWidgets[Lt])}oe.render(!1,!0),oe.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new Ba(t,q,oe,Ie,l,N)}_createView(t){let l;this.isSimpleWidget?l={paste:(oe,Ie,Ve,ot)=>{this._paste("keyboard",oe,Ie,Ve,ot)},type:oe=>{this._type("keyboard",oe)},compositionType:(oe,Ie,Ve,ot)=>{this._compositionType("keyboard",oe,Ie,Ve,ot)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:l={paste:(oe,Ie,Ve,ot)=>{const mt={text:oe,pasteOnNewLine:Ie,multicursorText:Ve,mode:ot};this._commandService.executeCommand("paste",mt)},type:oe=>{const Ie={text:oe};this._commandService.executeCommand("type",Ie)},compositionType:(oe,Ie,Ve,ot)=>{if(Ve||ot){const mt={text:oe,replacePrevCharCnt:Ie,replaceNextCharCnt:Ve,positionDelta:ot};this._commandService.executeCommand("compositionType",mt)}else{const mt={text:oe,replaceCharCnt:Ie};this._commandService.executeCommand("replacePreviousChar",mt)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const N=new Ei(t.coordinatesConverter);return N.onKeyDown=oe=>this._onKeyDown.fire(oe),N.onKeyUp=oe=>this._onKeyUp.fire(oe),N.onContextMenu=oe=>this._onContextMenu.fire(oe),N.onMouseMove=oe=>this._onMouseMove.fire(oe),N.onMouseLeave=oe=>this._onMouseLeave.fire(oe),N.onMouseDown=oe=>this._onMouseDown.fire(oe),N.onMouseUp=oe=>this._onMouseUp.fire(oe),N.onMouseDrag=oe=>this._onMouseDrag.fire(oe),N.onMouseDrop=oe=>this._onMouseDrop.fire(oe),N.onMouseDropCanceled=oe=>this._onMouseDropCanceled.fire(oe),N.onMouseWheel=oe=>this._onMouseWheel.fire(oe),[new pn(l,this._configuration,this._themeService.getColorTheme(),t,N,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(t){t==null||t.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const t=this._modelData.model,l=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),l&&this._domElement.contains(l)&&this._domElement.removeChild(l),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),t}_removeDecorationType(t){this._codeEditorService.removeDecorationType(t)}hasModel(){return this._modelData!==null}showDropIndicatorAt(t){const l=[{range:new W.e(t.lineNumber,t.column,t.lineNumber,t.column),options:vr.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(l),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(t,l){this._contextKeyService.createKey(t,l)}};_r.dropIntoEditorDecorationOptions=Es.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),_r=vr=Fa([to(3,Dn.TG),to(4,G.$),to(5,ol.H),to(6,tr.i6),to(7,kt.XE),to(8,sa.lT),to(9,B.F7),to(10,Aa.c_),to(11,Ir.p)],_r);class Wa extends p.JT{constructor(t){super(),this._emitterOptions=t,this._onDidChangeToTrue=this._register(new D.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(t){const l=t?2:1;this._value!==l&&(this._value=l,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class no extends D.Q5{constructor(t,l){super({deliveryQueue:l}),this._contributions=t}fire(t){this._contributions.onBeforeInteractionEvent(),super.fire(t)}}class cl extends p.JT{constructor(t,l){super(),this._editor=t,l.createKey("editorId",t.getId()),this._editorSimpleInput=jn.u.editorSimpleInput.bindTo(l),this._editorFocus=jn.u.focus.bindTo(l),this._textInputFocus=jn.u.textInputFocus.bindTo(l),this._editorTextFocus=jn.u.editorTextFocus.bindTo(l),this._tabMovesFocus=jn.u.tabMovesFocus.bindTo(l),this._editorReadonly=jn.u.readOnly.bindTo(l),this._inDiffEditor=jn.u.inDiffEditor.bindTo(l),this._editorColumnSelection=jn.u.columnSelection.bindTo(l),this._hasMultipleSelections=jn.u.hasMultipleSelections.bindTo(l),this._hasNonEmptySelection=jn.u.hasNonEmptySelection.bindTo(l),this._canUndo=jn.u.canUndo.bindTo(l),this._canRedo=jn.u.canRedo.bindTo(l),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(L.n.onDidChangeTabFocus(N=>this._tabMovesFocus.set(N))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const t=this._editor.getOptions();this._tabMovesFocus.set(L.n.getTabFocusMode()),this._editorReadonly.set(t.get(90)),this._inDiffEditor.set(t.get(61)),this._editorColumnSelection.set(t.get(22))}_updateFromSelection(){const t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(l=>!l.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const t=this._editor.getModel();this._canUndo.set(!!(t&&t.canUndo())),this._canRedo.set(!!(t&&t.canRedo()))}}class Ha extends p.JT{constructor(t,l,N){super(),this._editor=t,this._contextKeyService=l,this._languageFeaturesService=N,this._langId=jn.u.languageId.bindTo(l),this._hasCompletionItemProvider=jn.u.hasCompletionItemProvider.bindTo(l),this._hasCodeActionsProvider=jn.u.hasCodeActionsProvider.bindTo(l),this._hasCodeLensProvider=jn.u.hasCodeLensProvider.bindTo(l),this._hasDefinitionProvider=jn.u.hasDefinitionProvider.bindTo(l),this._hasDeclarationProvider=jn.u.hasDeclarationProvider.bindTo(l),this._hasImplementationProvider=jn.u.hasImplementationProvider.bindTo(l),this._hasTypeDefinitionProvider=jn.u.hasTypeDefinitionProvider.bindTo(l),this._hasHoverProvider=jn.u.hasHoverProvider.bindTo(l),this._hasDocumentHighlightProvider=jn.u.hasDocumentHighlightProvider.bindTo(l),this._hasDocumentSymbolProvider=jn.u.hasDocumentSymbolProvider.bindTo(l),this._hasReferenceProvider=jn.u.hasReferenceProvider.bindTo(l),this._hasRenameProvider=jn.u.hasRenameProvider.bindTo(l),this._hasSignatureHelpProvider=jn.u.hasSignatureHelpProvider.bindTo(l),this._hasInlayHintsProvider=jn.u.hasInlayHintsProvider.bindTo(l),this._hasDocumentFormattingProvider=jn.u.hasDocumentFormattingProvider.bindTo(l),this._hasDocumentSelectionFormattingProvider=jn.u.hasDocumentSelectionFormattingProvider.bindTo(l),this._hasMultipleDocumentFormattingProvider=jn.u.hasMultipleDocumentFormattingProvider.bindTo(l),this._hasMultipleDocumentSelectionFormattingProvider=jn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(l),this._isInWalkThrough=jn.u.isInWalkThroughSnippet.bindTo(l);const q=()=>this._update();this._register(t.onDidChangeModel(q)),this._register(t.onDidChangeModelLanguage(q)),this._register(N.completionProvider.onDidChange(q)),this._register(N.codeActionProvider.onDidChange(q)),this._register(N.codeLensProvider.onDidChange(q)),this._register(N.definitionProvider.onDidChange(q)),this._register(N.declarationProvider.onDidChange(q)),this._register(N.implementationProvider.onDidChange(q)),this._register(N.typeDefinitionProvider.onDidChange(q)),this._register(N.hoverProvider.onDidChange(q)),this._register(N.documentHighlightProvider.onDidChange(q)),this._register(N.documentSymbolProvider.onDidChange(q)),this._register(N.referenceProvider.onDidChange(q)),this._register(N.renameProvider.onDidChange(q)),this._register(N.documentFormattingEditProvider.onDidChange(q)),this._register(N.documentRangeFormattingEditProvider.onDidChange(q)),this._register(N.signatureHelpProvider.onDidChange(q)),this._register(N.inlayHintsProvider.onDidChange(q)),q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const t=this._editor.getModel();if(!t){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(t.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(t)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(t)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(t)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(t)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(t)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(t)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(t)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(t)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(t)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(t)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(t)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(t)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(t)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(t)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(t)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(t).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._isInWalkThrough.set(t.uri.scheme===o.lg.walkThroughSnippet)})}}class Va extends p.JT{constructor(t){super(),this._onChange=this._register(new D.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.go(t)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class dl{get length(){return this._decorationIds.length}constructor(t,l){this._editor=t,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(l)&&l.length>0&&this.set(l)}onDidChange(t,l,N){return this._editor.onDidChangeModelDecorations(q=>{this._isChangingDecorations||t.call(l,q)},N)}getRange(t){return!this._editor.hasModel()||t>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[t])}getRanges(){if(!this._editor.hasModel())return[];const t=this._editor.getModel(),l=[];for(const N of this._decorationIds){const q=t.getDecorationRange(N);q&&l.push(q)}return l}has(t){return this._decorationIds.includes(t.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(t){try{this._isChangingDecorations=!0,this._editor.changeDecorations(l=>{this._decorationIds=l.deltaDecorations(this._decorationIds,t)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(t){let l=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(N=>{l=N.deltaDecorations([],t),this._decorationIds=this._decorationIds.concat(l)})}finally{this._isChangingDecorations=!1}return l}}const ca=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ul=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Ua(Kt){return ca+encodeURIComponent(Kt.toString())+ul}const To=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Ur=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function da(Kt){return To+encodeURIComponent(Kt.toString())+Ur}(0,kt.Ic)((Kt,t)=>{const l=Kt.getColor(Ti.lXJ);l&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Ua(l)}") repeat-x bottom left; }`);const N=Kt.getColor(Ti.uoC);N&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Ua(N)}") repeat-x bottom left; }`);const q=Kt.getColor(Ti.c63);q&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Ua(q)}") repeat-x bottom left; }`);const oe=Kt.getColor(Ti.Dut);oe&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${da(oe)}") no-repeat bottom left; }`);const Ie=Kt.getColor(Ge.zu);Ie&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Ie.rgba.a}; }`)})},36865:function(Pt,Ke,e){"use strict";var b=e(65321),z=e(73046),r=e(16830),E=e(11640),c=e(20591),_=e(29102),I=e(63580),M=e(84144),D=e(94565),p=e(33108),o=e(32064);class d extends M.Ke{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:(0,I.NC)("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),original:"Toggle Collapse Unchanged Regions"},icon:z.l.map,toggled:o.Ao.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:o.Ao.has("isInDiffEditor"),menu:{when:o.Ao.has("isInDiffEditor"),id:M.eH.EditorTitle,order:22,group:"navigation"}})}run(F,...B){const $=F.get(p.Ui),Y=!$.getValue("diffEditor.hideUnchangedRegions.enabled");$.updateValue("diffEditor.hideUnchangedRegions.enabled",Y)}}(0,M.r1)(d);class u extends M.Ke{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:{value:(0,I.NC)("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),original:"Toggle Show Moved Code Blocks"},precondition:o.Ao.has("isInDiffEditor")})}run(F,...B){const $=F.get(p.Ui),Y=!$.getValue("diffEditor.experimental.showMoves");$.updateValue("diffEditor.experimental.showMoves",Y)}}(0,M.r1)(u);class i extends M.Ke{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:{value:(0,I.NC)("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),original:"Toggle Use Inline View When Space Is Limited"},precondition:o.Ao.has("isInDiffEditor")})}run(F,...B){const $=F.get(p.Ui),Y=!$.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");$.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",Y)}}(0,M.r1)(i),M.BH.appendMenuItem(M.eH.EditorTitle,{command:{id:new i().desc.id,title:(0,I.NC)("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:o.Ao.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:o.Ao.has("isInDiffEditor")},order:11,group:"1_diff",when:o.Ao.and(_.u.diffEditorRenderSideBySideInlineBreakpointReached,o.Ao.has("isInDiffEditor"))}),M.BH.appendMenuItem(M.eH.EditorTitle,{command:{id:new u().desc.id,title:(0,I.NC)("showMoves","Show Moved Code Blocks"),icon:z.l.move,toggled:o.cP.create("config.diffEditor.experimental.showMoves",!0),precondition:o.Ao.has("isInDiffEditor")},order:10,group:"1_diff",when:o.Ao.has("isInDiffEditor")});const n={value:(0,I.NC)("diffEditor","Diff Editor"),original:"Diff Editor"};class f extends r.x1{constructor(){super({id:"diffEditor.switchSide",title:{value:(0,I.NC)("switchSide","Switch Side"),original:"Switch Side"},icon:z.l.arrowSwap,precondition:o.Ao.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(F,B,$){const Y=L(F);if(Y instanceof c.p){if($&&$.dryRun)return{destinationSelection:Y.mapToOtherSide().destinationSelection};Y.switchSide()}}}(0,M.r1)(f);class v extends r.x1{constructor(){super({id:"diffEditor.exitCompareMove",title:{value:(0,I.NC)("exitCompareMove","Exit Compare Move"),original:"Exit Compare Move"},icon:z.l.close,precondition:_.u.comparingMovedCode,f1:!1,category:n,keybinding:{weight:1e4,primary:9}})}runEditorCommand(F,B,...$){const Y=L(F);Y instanceof c.p&&Y.exitCompareMove()}}(0,M.r1)(v);class a extends r.x1{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:{value:(0,I.NC)("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),original:"Collapse All Unchanged Regions"},icon:z.l.fold,precondition:o.Ao.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(F,B,...$){const Y=L(F);Y instanceof c.p&&Y.collapseAllUnchangedRegions()}}(0,M.r1)(a);class S extends r.x1{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:{value:(0,I.NC)("showAllUnchangedRegions","Show All Unchanged Regions"),original:"Show All Unchanged Regions"},icon:z.l.unfold,precondition:o.Ao.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(F,B,...$){const Y=L(F);Y instanceof c.p&&Y.showAllUnchangedRegions()}}(0,M.r1)(S);const g={value:(0,I.NC)("accessibleDiffViewer","Accessible Diff Viewer"),original:"Accessible Diff Viewer"};class y extends M.Ke{constructor(){super({id:y.id,title:{value:(0,I.NC)("editor.action.accessibleDiffViewer.next","Go to Next Difference"),original:"Go to Next Difference"},category:g,precondition:o.Ao.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(F){const B=L(F);B==null||B.accessibleDiffViewerNext()}}y.id="editor.action.accessibleDiffViewer.next",M.BH.appendMenuItem(M.eH.EditorTitle,{command:{id:y.id,title:(0,I.NC)("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:o.Ao.has("isInDiffEditor")},order:10,group:"2_diff",when:o.Ao.and(_.u.accessibleDiffViewerVisible.negate(),o.Ao.has("isInDiffEditor"))});class C extends M.Ke{constructor(){super({id:C.id,title:{value:(0,I.NC)("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),original:"Go to Previous Difference"},category:g,precondition:o.Ao.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(F){const B=L(F);B==null||B.accessibleDiffViewerPrev()}}C.id="editor.action.accessibleDiffViewer.prev";function L(T){var F;const B=T.get(E.$),$=B.listDiffEditors(),Y=(F=B.getFocusedCodeEditor())!==null&&F!==void 0?F:B.getActiveCodeEditor();if(!Y)return null;for(let w=0,V=$.length;w<V;w++){const R=$[w];if(R.getModifiedEditor().getId()===Y.getId()||R.getOriginalEditor().getId()===Y.getId())return R}const P=(0,b.vY)();if(P)for(const w of $){const V=w.getContainerDomNode();if(O(V,P))return w}return null}function O(T,F){let B=F;for(;B;){if(B===T)return!0;B=B.parentElement}return!1}D.P.registerCommandAlias("editor.action.diffReview.next",y.id),(0,M.r1)(y),D.P.registerCommandAlias("editor.action.diffReview.prev",C.id),(0,M.r1)(C)},20591:function(Pt,Ke,e){"use strict";e.d(Ke,{p:function(){return ss}});var b=e(65321),z=e(35534),r=e(17301),E=e(4669),c=e(5976),_=e(99692),I=e(54282),M=e(16830),D=e(11640),p=e(43407),o=e(46445),d=e(77514),u=e(90317),i=e(59740),n=e(74741),f=e(9488),v=e(73046),a=e(25670),S=e(52136),g=e(31651),y=e(64141),C=e(45463),L=e(19247),O=e(50187),T=e(24314),F=e(54648),B=e(72042),$=e(77378),Y=e(72202),P=e(1118),w=e(63580),V=e(69149),R=e(72065),A=e(59554),H=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},U=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};const G=(0,A.q5)("diff-review-insert",v.l.add,(0,w.NC)("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),j=(0,A.q5)("diff-review-remove",v.l.remove,(0,w.NC)("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),W=(0,A.q5)("diff-review-close",v.l.close,(0,w.NC)("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let K=class extends c.JT{constructor($e,ht,gt,li,ni,bi,Si,yi,Pi){super(),this._parentNode=$e,this._visible=ht,this._setVisible=gt,this._canClose=li,this._width=ni,this._height=bi,this._diffs=Si,this._editors=yi,this._instantiationService=Pi,this._state=(0,_.Be)(this,(Qi,Hi)=>{const Fi=this._visible.read(Qi);if(this._parentNode.style.visibility=Fi?"visible":"hidden",!Fi)return null;const bt=Hi.add(this._instantiationService.createInstance(m,this._diffs,this._editors,this._setVisible,this._canClose)),k=Hi.add(this._instantiationService.createInstance(De,this._parentNode,bt,this._width,this._height,this._editors));return{model:bt,view:k}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,_.PS)($e=>{const ht=this._visible.get();this._setVisible(!0,$e),ht&&this._state.get().model.nextGroup($e)})}prev(){(0,_.PS)($e=>{this._setVisible(!0,$e),this._state.get().model.previousGroup($e)})}close(){(0,_.PS)($e=>{this._setVisible(!1,$e)})}};K._ttPolicy=(0,d.Z)("diffReview",{createHTML:pi=>pi}),K=H([U(8,R.TG)],K);let m=class extends c.JT{constructor($e,ht,gt,li,ni){super(),this._diffs=$e,this._editors=ht,this._setVisible=gt,this.canClose=li,this._audioCueService=ni,this._groups=(0,_.uh)(this,[]),this._currentGroupIdx=(0,_.uh)(this,0),this._currentElementIdx=(0,_.uh)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((bi,Si)=>this._groups.read(Si)[bi]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((bi,Si)=>{var yi;return(yi=this.currentGroup.read(Si))===null||yi===void 0?void 0:yi.lines[bi]}),this._register((0,_.EH)(bi=>{const Si=this._diffs.read(bi);if(!Si){this._groups.set([],void 0);return}const yi=X(Si,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,_.PS)(Pi=>{const Qi=this._editors.modified.getPosition();if(Qi){const Hi=yi.findIndex(Fi=>(Qi==null?void 0:Qi.lineNumber)<Fi.range.modified.endLineNumberExclusive);Hi!==-1&&this._currentGroupIdx.set(Hi,Pi)}this._groups.set(yi,Pi)})})),this._register((0,_.EH)(bi=>{const Si=this.currentElement.read(bi);(Si==null?void 0:Si.type)===ie.Deleted?this._audioCueService.playAudioCue(V.y$.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(Si==null?void 0:Si.type)===ie.Added&&this._audioCueService.playAudioCue(V.y$.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,_.EH)(bi=>{var Si;const yi=this.currentElement.read(bi);if(yi&&yi.type!==ie.Header){const Pi=(Si=yi.modifiedLineNumber)!==null&&Si!==void 0?Si:yi.diff.modified.startLineNumber;this._editors.modified.setSelection(T.e.fromPositions(new O.L(Pi,1)))}}))}_goToGroupDelta($e,ht){const gt=this.groups.get();!gt||gt.length<=1||(0,_.c8)(ht,li=>{this._currentGroupIdx.set(L.q.ofLength(gt.length).clipCyclic(this._currentGroupIdx.get()+$e),li),this._currentElementIdx.set(0,li)})}nextGroup($e){this._goToGroupDelta(1,$e)}previousGroup($e){this._goToGroupDelta(-1,$e)}_goToLineDelta($e){const ht=this.currentGroup.get();!ht||ht.lines.length<=1||(0,_.PS)(gt=>{this._currentElementIdx.set(L.q.ofLength(ht.lines.length).clip(this._currentElementIdx.get()+$e),gt)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($e){const ht=this.currentGroup.get();if(!ht)return;const gt=ht.lines.indexOf($e);gt!==-1&&(0,_.PS)(li=>{this._currentElementIdx.set(gt,li)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const $e=this.currentElement.get();$e&&($e.type===ie.Deleted?(this._editors.original.setSelection(T.e.fromPositions(new O.L($e.originalLineNumber,1))),this._editors.original.revealLine($e.originalLineNumber),this._editors.original.focus()):($e.type!==ie.Header&&(this._editors.modified.setSelection(T.e.fromPositions(new O.L($e.modifiedLineNumber,1))),this._editors.modified.revealLine($e.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};m=H([U(4,V.e7)],m);const J=3;function X(pi,$e,ht){const gt=[];for(const li of(0,f.mw)(pi,(ni,bi)=>bi.modified.startLineNumber-ni.modified.endLineNumberExclusive<2*J)){const ni=[];ni.push(new fe);const bi=new C.z(Math.max(1,li[0].original.startLineNumber-J),Math.min(li[li.length-1].original.endLineNumberExclusive+J,$e+1)),Si=new C.z(Math.max(1,li[0].modified.startLineNumber-J),Math.min(li[li.length-1].modified.endLineNumberExclusive+J,ht+1));(0,f.zy)(li,(Qi,Hi)=>{const Fi=new C.z(Qi?Qi.original.endLineNumberExclusive:bi.startLineNumber,Hi?Hi.original.startLineNumber:bi.endLineNumberExclusive),bt=new C.z(Qi?Qi.modified.endLineNumberExclusive:Si.startLineNumber,Hi?Hi.modified.startLineNumber:Si.endLineNumberExclusive);Fi.forEach(k=>{ni.push(new Te(k,bt.startLineNumber+(k-Fi.startLineNumber)))}),Hi&&(Hi.original.forEach(k=>{ni.push(new Le(Hi,k))}),Hi.modified.forEach(k=>{ni.push(new pe(Hi,k))}))});const yi=li[0].modified.join(li[li.length-1].modified),Pi=li[0].original.join(li[li.length-1].original);gt.push(new le(new F.f0(yi,Pi),ni))}return gt}var ie;(function(pi){pi[pi.Header=0]="Header",pi[pi.Unchanged=1]="Unchanged",pi[pi.Deleted=2]="Deleted",pi[pi.Added=3]="Added"})(ie||(ie={}));class le{constructor($e,ht){this.range=$e,this.lines=ht}}class fe{constructor(){this.type=ie.Header}}class Le{constructor($e,ht){this.diff=$e,this.originalLineNumber=ht,this.type=ie.Deleted,this.modifiedLineNumber=void 0}}class pe{constructor($e,ht){this.diff=$e,this.modifiedLineNumber=ht,this.type=ie.Added,this.originalLineNumber=void 0}}class Te{constructor($e,ht){this.originalLineNumber=$e,this.modifiedLineNumber=ht,this.type=ie.Unchanged}}let De=class extends c.JT{constructor($e,ht,gt,li,ni,bi){super(),this._element=$e,this._model=ht,this._width=gt,this._height=li,this._editors=ni,this._languageService=bi,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const Si=document.createElement("div");Si.className="diff-review-actions",this._actionBar=this._register(new u.o(Si)),this._register((0,_.EH)(yi=>{this._actionBar.clear(),this._model.canClose.read(yi)&&this._actionBar.push(new n.aU("diffreview.close",(0,w.NC)("label.close","Close"),"close-diff-review "+a.k.asClassName(W),!0,()=>qt(this,null,function*(){return ht.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new i.s$(this._content,{})),(0,b.mc)(this.domNode,this._scrollbar.getDomNode(),Si),this._register((0,c.OF)(()=>{(0,b.mc)(this.domNode)})),this._register((0,g.bg)(this.domNode,{width:this._width,height:this._height})),this._register((0,g.bg)(this._content,{width:this._width,height:this._height})),this._register((0,_.gp)((yi,Pi)=>{this._model.currentGroup.read(yi),this._render(Pi)})),this._register((0,b.mu)(this.domNode,"keydown",yi=>{(yi.equals(18)||yi.equals(2066)||yi.equals(530))&&(yi.preventDefault(),this._model.goToNextLine()),(yi.equals(16)||yi.equals(2064)||yi.equals(528))&&(yi.preventDefault(),this._model.goToPreviousLine()),(yi.equals(9)||yi.equals(2057)||yi.equals(521)||yi.equals(1033))&&(yi.preventDefault(),this._model.close()),(yi.equals(10)||yi.equals(3))&&(yi.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render($e){const ht=this._editors.original.getOptions(),gt=this._editors.modified.getOptions(),li=document.createElement("div");li.className="diff-review-table",li.setAttribute("role","list"),li.setAttribute("aria-label",(0,w.NC)("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,S.N)(li,gt.get(50)),(0,b.mc)(this._content,li);const ni=this._editors.original.getModel(),bi=this._editors.modified.getModel();if(!ni||!bi)return;const Si=ni.getOptions(),yi=bi.getOptions(),Pi=gt.get(66),Qi=this._model.currentGroup.get();for(const Hi of(Qi==null?void 0:Qi.lines)||[]){if(!Qi)break;let Fi;if(Hi.type===ie.Header){const k=document.createElement("div");k.className="diff-review-row",k.setAttribute("role","listitem");const te=Qi.range,ue=this._model.currentGroupIndex.get(),Fe=this._model.groups.get().length,Ze=st=>st===0?(0,w.NC)("no_lines_changed","no lines changed"):st===1?(0,w.NC)("one_line_changed","1 line changed"):(0,w.NC)("more_lines_changed","{0} lines changed",st),it=Ze(te.original.length),dt=Ze(te.modified.length);k.setAttribute("aria-label",(0,w.NC)({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",ue+1,Fe,te.original.startLineNumber,it,te.modified.startLineNumber,dt));const _t=document.createElement("div");_t.className="diff-review-cell diff-review-summary",_t.appendChild(document.createTextNode(`${ue+1}/${Fe}: @@ -${te.original.startLineNumber},${te.original.length} +${te.modified.startLineNumber},${te.modified.length} @@`)),k.appendChild(_t),Fi=k}else Fi=this._createRow(Hi,Pi,this._width.get(),ht,ni,Si,gt,bi,yi);li.appendChild(Fi);const bt=(0,_.nK)(k=>this._model.currentElement.read(k)===Hi);$e.add((0,_.EH)(k=>{const te=bt.read(k);Fi.tabIndex=te?0:-1,te&&Fi.focus()})),$e.add((0,b.nm)(Fi,"focus",()=>{this._model.goToLine(Hi)}))}this._scrollbar.scanDomNode()}_createRow($e,ht,gt,li,ni,bi,Si,yi,Pi){const Qi=li.get(143),Hi=Qi.glyphMarginWidth+Qi.lineNumbersWidth,Fi=Si.get(143),bt=10+Fi.glyphMarginWidth+Fi.lineNumbersWidth;let k="diff-review-row",te="";const ue="diff-review-spacer";let Fe=null;switch($e.type){case ie.Added:k="diff-review-row line-insert",te=" char-insert",Fe=G;break;case ie.Deleted:k="diff-review-row line-delete",te=" char-delete",Fe=j;break}const Ze=document.createElement("div");Ze.style.minWidth=gt+"px",Ze.className=k,Ze.setAttribute("role","listitem"),Ze.ariaLevel="";const it=document.createElement("div");it.className="diff-review-cell",it.style.height=`${ht}px`,Ze.appendChild(it);const dt=document.createElement("span");dt.style.width=Hi+"px",dt.style.minWidth=Hi+"px",dt.className="diff-review-line-number"+te,$e.originalLineNumber!==void 0?dt.appendChild(document.createTextNode(String($e.originalLineNumber))):dt.innerText="\xA0",it.appendChild(dt);const _t=document.createElement("span");_t.style.width=bt+"px",_t.style.minWidth=bt+"px",_t.style.paddingRight="10px",_t.className="diff-review-line-number"+te,$e.modifiedLineNumber!==void 0?_t.appendChild(document.createTextNode(String($e.modifiedLineNumber))):_t.innerText="\xA0",it.appendChild(_t);const st=document.createElement("span");if(st.className=ue,Fe){const Be=document.createElement("span");Be.className=a.k.asClassName(Fe),Be.innerText="\xA0\xA0",st.appendChild(Be)}else st.innerText="\xA0\xA0";it.appendChild(st);let Q;if($e.modifiedLineNumber!==void 0){let Be=this._getLineHtml(yi,Si,Pi.tabSize,$e.modifiedLineNumber,this._languageService.languageIdCodec);K._ttPolicy&&(Be=K._ttPolicy.createHTML(Be)),it.insertAdjacentHTML("beforeend",Be),Q=yi.getLineContent($e.modifiedLineNumber)}else{let Be=this._getLineHtml(ni,li,bi.tabSize,$e.originalLineNumber,this._languageService.languageIdCodec);K._ttPolicy&&(Be=K._ttPolicy.createHTML(Be)),it.insertAdjacentHTML("beforeend",Be),Q=ni.getLineContent($e.originalLineNumber)}Q.length===0&&(Q=(0,w.NC)("blankLine","blank"));let he="";switch($e.type){case ie.Unchanged:$e.originalLineNumber===$e.modifiedLineNumber?he=(0,w.NC)({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Q,$e.originalLineNumber):he=(0,w.NC)("equalLine","{0} original line {1} modified line {2}",Q,$e.originalLineNumber,$e.modifiedLineNumber);break;case ie.Added:he=(0,w.NC)("insertLine","+ {0} modified line {1}",Q,$e.modifiedLineNumber);break;case ie.Deleted:he=(0,w.NC)("deleteLine","- {0} original line {1}",Q,$e.originalLineNumber);break}return Ze.setAttribute("aria-label",he),Ze}_getLineHtml($e,ht,gt,li,ni){const bi=$e.getLineContent(li),Si=ht.get(50),yi=$.A.createEmpty(bi,ni),Pi=P.wA.isBasicASCII(bi,$e.mightContainNonBasicASCII()),Qi=P.wA.containsRTL(bi,Pi,$e.mightContainRTL());return(0,Y.tF)(new Y.IJ(Si.isMonospace&&!ht.get(33),Si.canUseHalfwidthRightwardsArrow,bi,!1,Pi,Qi,0,yi,[],gt,0,Si.spaceWidth,Si.middotWidth,Si.wsmiddotWidth,ht.get(116),ht.get(98),ht.get(93),ht.get(51)!==y.n0.OFF,null)).html}};De=H([U(5,B.O)],De);var ae=e(56811),Ne=e(84901);const We=(0,A.q5)("diff-insert",v.l.add,(0,w.NC)("diffInsertIcon","Line decoration for inserts in the diff editor.")),ze=(0,A.q5)("diff-remove",v.l.remove,(0,w.NC)("diffRemoveIcon","Line decoration for removals in the diff editor.")),Se=Ne.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+a.k.asClassName(We),marginClassName:"gutter-insert"}),ne=Ne.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+a.k.asClassName(ze),marginClassName:"gutter-delete"}),ce=Ne.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Oe=Ne.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),Pe=Ne.qx.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),Me=Ne.qx.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),ye=Ne.qx.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),_e=Ne.qx.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),se=Ne.qx.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),ve=Ne.qx.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});class xe extends c.JT{constructor($e,ht,gt,li,ni){super(),this._rootElement=$e,this._diffModel=ht,this._originalEditorLayoutInfo=gt,this._modifiedEditorLayoutInfo=li,this._editors=ni,this._originalScrollTop=(0,_.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,_.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,_.aq)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,_.uh)(this,0),this._modifiedViewZonesChangedSignal=(0,_.aq)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,_.aq)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,_.Be)(this,(Fi,bt)=>{var k;this._element.replaceChildren();const te=this._diffModel.read(Fi),ue=(k=te==null?void 0:te.diff.read(Fi))===null||k===void 0?void 0:k.movedTexts;if(!ue||ue.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(Fi);const Fe=this._originalEditorLayoutInfo.read(Fi),Ze=this._modifiedEditorLayoutInfo.read(Fi);if(!Fe||!Ze){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(Fi),this._originalViewZonesChangedSignal.read(Fi);const it=ue.map(nt=>{function pt(Ki,ln){const pn=ln.getTopForLineNumber(Ki.startLineNumber,!0),Jn=ln.getTopForLineNumber(Ki.endLineNumberExclusive,!0);return(pn+Jn)/2}const Tt=pt(nt.lineRangeMapping.original,this._editors.original),Vt=this._originalScrollTop.read(Fi),oi=pt(nt.lineRangeMapping.modified,this._editors.modified),Ai=this._modifiedScrollTop.read(Fi),zi=Tt-Vt,cn=oi-Ai,dn=Math.min(Tt,oi),on=Math.max(Tt,oi);return{range:new L.q(dn,on),from:zi,to:cn,fromWithoutScroll:Tt,toWithoutScroll:oi,move:nt}});it.sort((0,f.f_)((0,f.tT)(nt=>nt.fromWithoutScroll>nt.toWithoutScroll,f.nW),(0,f.tT)(nt=>nt.fromWithoutScroll>nt.toWithoutScroll?nt.fromWithoutScroll:-nt.toWithoutScroll,f.fv)));const dt=je.compute(it.map(nt=>nt.range)),_t=10,st=Fe.verticalScrollbarWidth,Q=(dt.getTrackCount()-1)*10+_t*2,he=st+Q+(Ze.contentLeft-xe.movedCodeBlockPadding);let Be=0;for(const nt of it){const pt=dt.getTrack(Be),Tt=st+_t+pt*10,Vt=15,oi=15,Ai=he,zi=Ze.glyphMarginWidth+Ze.lineNumbersWidth,cn=18,dn=document.createElementNS("http://www.w3.org/2000/svg","rect");dn.classList.add("arrow-rectangle"),dn.setAttribute("x",`${Ai-zi}`),dn.setAttribute("y",`${nt.to-cn/2}`),dn.setAttribute("width",`${zi}`),dn.setAttribute("height",`${cn}`),this._element.appendChild(dn);const on=document.createElementNS("http://www.w3.org/2000/svg","g"),Ki=document.createElementNS("http://www.w3.org/2000/svg","path");Ki.setAttribute("d",`M 0 ${nt.from} L ${Tt} ${nt.from} L ${Tt} ${nt.to} L ${Ai-oi} ${nt.to}`),Ki.setAttribute("fill","none"),on.appendChild(Ki);const ln=document.createElementNS("http://www.w3.org/2000/svg","polygon");ln.classList.add("arrow"),bt.add((0,_.EH)(pn=>{Ki.classList.toggle("currentMove",nt.move===te.activeMovedText.read(pn)),ln.classList.toggle("currentMove",nt.move===te.activeMovedText.read(pn))})),ln.setAttribute("points",`${Ai-oi},${nt.to-Vt/2} ${Ai},${nt.to} ${Ai-oi},${nt.to+Vt/2}`),on.appendChild(ln),this._element.appendChild(on),Be++}this.width.set(Q,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,c.OF)(()=>this._element.remove())),this._register((0,_.EH)(Fi=>{const bt=this._originalEditorLayoutInfo.read(Fi),k=this._modifiedEditorLayoutInfo.read(Fi);!bt||!k||(this._element.style.left=`${bt.width-bt.verticalScrollbarWidth}px`,this._element.style.height=`${bt.height}px`,this._element.style.width=`${bt.verticalScrollbarWidth+bt.contentLeft-xe.movedCodeBlockPadding+this.width.read(Fi)}px`)})),this._register((0,_.jx)(this._state));const bi=(0,_.nK)(Fi=>{const bt=this._diffModel.read(Fi),k=bt==null?void 0:bt.diff.read(Fi);return k?k.movedTexts.map(te=>({move:te,original:new g.GD((0,_.Dz)(te.lineRangeMapping.original.startLineNumber-1),18),modified:new g.GD((0,_.Dz)(te.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,g.Sv)(this._editors.original,bi.map(Fi=>Fi.map(bt=>bt.original)))),this._register((0,g.Sv)(this._editors.modified,bi.map(Fi=>Fi.map(bt=>bt.modified)))),this._register((0,_.gp)((Fi,bt)=>{const k=bi.read(Fi);for(const te of k)bt.add(new Ae(this._editors.original,te.original,te.move,"original",this._diffModel.get())),bt.add(new Ae(this._editors.modified,te.modified,te.move,"modified",this._diffModel.get()))}));const Si=(0,_.rD)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),yi=(0,_.rD)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),Pi=(0,_.aq)("original.onDidFocusEditorWidget",Fi=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>Fi(void 0),0))),Qi=(0,_.aq)("modified.onDidFocusEditorWidget",Fi=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>Fi(void 0),0)));let Hi="modified";this._register((0,_.nJ)({createEmptyChangeSummary:()=>{},handleChange:(Fi,bt)=>(Fi.didChange(Pi)&&(Hi="original"),Fi.didChange(Qi)&&(Hi="modified"),!0)},Fi=>{Pi.read(Fi),Qi.read(Fi);const bt=this._diffModel.read(Fi);if(!bt)return;const k=bt.diff.read(Fi);let te;if(k&&Hi==="original"){const ue=Si.read(Fi);ue&&(te=k.movedTexts.find(Fe=>Fe.lineRangeMapping.original.contains(ue.lineNumber)))}if(k&&Hi==="modified"){const ue=yi.read(Fi);ue&&(te=k.movedTexts.find(Fe=>Fe.lineRangeMapping.modified.contains(ue.lineNumber)))}te!==bt.movedTextToCompare.get()&&bt.movedTextToCompare.set(void 0,void 0),bt.setActiveMovedText(te)}))}}xe.movedCodeBlockPadding=4;class je{static compute($e){const ht=[],gt=[];for(const li of $e){let ni=ht.findIndex(bi=>!bi.intersectsStrict(li));ni===-1&&(ht.length>=6?ni=(0,z.tQ)(ht,(0,f.tT)(Si=>Si.intersectWithRangeLength(li),f.fv)):(ni=ht.length,ht.push(new L.M))),ht[ni].addRange(li),gt.push(ni)}return new je(ht.length,gt)}constructor($e,ht){this._trackCount=$e,this.trackPerLineIdx=ht}getTrack($e){return this.trackPerLineIdx[$e]}getTrackCount(){return this._trackCount}}class Ae extends g.N9{constructor($e,ht,gt,li,ni){const bi=(0,b.h)("div.diff-hidden-lines-widget");super($e,ht,bi.root),this._editor=$e,this._move=gt,this._kind=li,this._diffModel=ni,this._nodes=(0,b.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,b.h)("div.text-content@textContent"),(0,b.h)("div.action-bar@actionBar")]),bi.root.appendChild(this._nodes.root);const Si=(0,_.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,g.bg)(this._nodes.root,{paddingRight:Si.map(Fi=>Fi.verticalScrollbarWidth)}));let yi;gt.changes.length>0?yi=this._kind==="original"?(0,w.NC)("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,w.NC)("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):yi=this._kind==="original"?(0,w.NC)("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,w.NC)("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const Pi=this._register(new u.o(this._nodes.actionBar,{highlightToggledItems:!0})),Qi=new n.aU("",yi,"",!1);Pi.push(Qi,{icon:!1,label:!0});const Hi=new n.aU("","Compare",a.k.asClassName(v.l.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===gt?void 0:this._move,void 0)});this._register((0,_.EH)(Fi=>{const bt=this._diffModel.movedTextToCompare.read(Fi)===gt;Hi.checked=bt})),Pi.push(Hi,{icon:!1,label:!0})}}var Qe=e(84973);class rt extends c.JT{constructor($e,ht,gt,li){super(),this._editors=$e,this._diffModel=ht,this._options=gt,this._decorations=(0,_.nK)(this,ni=>{var bi;const Si=(bi=this._diffModel.read(ni))===null||bi===void 0?void 0:bi.diff.read(ni);if(!Si)return null;const yi=this._diffModel.read(ni).movedTextToCompare.read(ni),Pi=this._options.renderIndicators.read(ni),Qi=this._options.showEmptyDecorations.read(ni),Hi=[],Fi=[];if(!yi)for(const k of Si.mappings)if(k.lineRangeMapping.original.isEmpty||Hi.push({range:k.lineRangeMapping.original.toInclusiveRange(),options:Pi?ne:Oe}),k.lineRangeMapping.modified.isEmpty||Fi.push({range:k.lineRangeMapping.modified.toInclusiveRange(),options:Pi?Se:ce}),k.lineRangeMapping.modified.isEmpty||k.lineRangeMapping.original.isEmpty)k.lineRangeMapping.original.isEmpty||Hi.push({range:k.lineRangeMapping.original.toInclusiveRange(),options:se}),k.lineRangeMapping.modified.isEmpty||Fi.push({range:k.lineRangeMapping.modified.toInclusiveRange(),options:Me});else for(const te of k.lineRangeMapping.innerChanges||[])k.lineRangeMapping.original.contains(te.originalRange.startLineNumber)&&Hi.push({range:te.originalRange,options:te.originalRange.isEmpty()&&Qi?ve:_e}),k.lineRangeMapping.modified.contains(te.modifiedRange.startLineNumber)&&Fi.push({range:te.modifiedRange,options:te.modifiedRange.isEmpty()&&Qi?ye:Pe});if(yi)for(const k of yi.changes){const te=k.original.toInclusiveRange();te&&Hi.push({range:te,options:Pi?ne:Oe});const ue=k.modified.toInclusiveRange();ue&&Fi.push({range:ue,options:Pi?Se:ce});for(const Fe of k.innerChanges||[])Hi.push({range:Fe.originalRange,options:_e}),Fi.push({range:Fe.modifiedRange,options:Pe})}const bt=this._diffModel.read(ni).activeMovedText.read(ni);for(const k of Si.movedTexts)Hi.push({range:k.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(k===bt?" currentMove":""),blockPadding:[xe.movedCodeBlockPadding,0,xe.movedCodeBlockPadding,xe.movedCodeBlockPadding]}}),Fi.push({range:k.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(k===bt?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:Hi,modifiedDecorations:Fi}}),this._register(new Dt($e,ht,gt,li)),this._register((0,g.RP)(this._editors.original,this._decorations.map(ni=>(ni==null?void 0:ni.originalDecorations)||[]))),this._register((0,g.RP)(this._editors.modified,this._decorations.map(ni=>(ni==null?void 0:ni.modifiedDecorations)||[])))}}class Dt extends c.JT{constructor($e,ht,gt,li){super(),this._editors=$e,this._diffModel=ht,this._options=gt,this._widget=li;const ni=[],bi=(0,_.nK)(this,Si=>{const yi=this._diffModel.read(Si),Pi=yi==null?void 0:yi.diff.read(Si);if(!Pi)return ni;const Qi=this._editors.modifiedSelections.read(Si);if(Qi.every(k=>k.isEmpty()))return ni;const Hi=new C.i(Qi.map(k=>C.z.fromRangeInclusive(k))),bt=Pi.mappings.filter(k=>k.lineRangeMapping.innerChanges&&Hi.intersects(k.lineRangeMapping.modified)).map(k=>({mapping:k,rangeMappings:k.lineRangeMapping.innerChanges.filter(te=>Qi.some(ue=>T.e.areIntersecting(te.modifiedRange,ue)))}));return bt.length===0||bt.every(k=>k.rangeMappings.length===0)?ni:bt});this._register((0,_.gp)((Si,yi)=>{const Pi=this._diffModel.read(Si),Qi=Pi==null?void 0:Pi.diff.read(Si);if(!Pi||!Qi||this._diffModel.read(Si).movedTextToCompare.read(Si)||!this._options.shouldRenderRevertArrows.read(Si))return;const Fi=[],bt=bi.read(Si),k=new Set(bt.map(te=>te.mapping));if(bt.length>0){const te=this._editors.modifiedSelections.read(Si),ue=new at(te[te.length-1].positionLineNumber,this._widget,bt.flatMap(Fe=>Fe.rangeMappings),!0);this._editors.modified.addGlyphMarginWidget(ue),Fi.push(ue)}for(const te of Qi.mappings)if(!k.has(te)&&!te.lineRangeMapping.modified.isEmpty&&te.lineRangeMapping.innerChanges){const ue=new at(te.lineRangeMapping.modified.startLineNumber,this._widget,te.lineRangeMapping.innerChanges,!1);this._editors.modified.addGlyphMarginWidget(ue),Fi.push(ue)}yi.add((0,c.OF)(()=>{for(const te of Fi)this._editors.modified.removeGlyphMarginWidget(te)}))}))}}class at{getId(){return this._id}constructor($e,ht,gt,li){this._lineNumber=$e,this._widget=ht,this._diffs=gt,this._selection=li,this._id=`revertButton${at.counter++}`,this._domNode=(0,b.h)("div.revertButton",{title:this._selection?(0,w.NC)("revertSelectedChanges","Revert Selected Changes"):(0,w.NC)("revertChange","Revert Change")},[(0,ae.h)(v.l.arrowRight)]).root,this._domNode.onmousedown=ni=>{ni.button!==2&&(ni.stopPropagation(),ni.preventDefault())},this._domNode.onmouseup=ni=>{ni.stopPropagation(),ni.preventDefault()},this._domNode.onclick=ni=>{this._widget.revertRangeMappings(this._diffs),ni.stopPropagation(),ni.preventDefault()}}getDomNode(){return this._domNode}getPosition(){return{lane:Qe.U.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}at.counter=0;var vt=e(83080);class Mt extends c.JT{constructor($e,ht,gt,li){super(),this._options=$e,this._domNode=ht,this._dimensions=gt,this._sashes=li,this._sashRatio=(0,_.uh)(this,void 0),this.sashLeft=(0,_.nK)(this,ni=>{var bi;const Si=(bi=this._sashRatio.read(ni))!==null&&bi!==void 0?bi:this._options.splitViewDefaultRatio.read(ni);return this._computeSashLeft(Si,ni)}),this._sash=this._register(new vt.g(this._domNode,{getVerticalSashTop:ni=>0,getVerticalSashLeft:ni=>this.sashLeft.get(),getVerticalSashHeight:ni=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(ni=>{const bi=this._dimensions.width.get(),Si=this._computeSashLeft((this._startSashPosition+(ni.currentX-ni.startX))/bi,void 0);this._sashRatio.set(Si/bi,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,_.EH)(ni=>{const bi=this._sashes.read(ni);bi&&(this._sash.orthogonalEndSash=bi.bottom)})),this._register((0,_.EH)(ni=>{const bi=this._options.enableSplitViewResizing.read(ni);this._sash.state=bi?3:0,this.sashLeft.read(ni),this._dimensions.height.read(ni),this._sash.layout()}))}_computeSashLeft($e,ht){const gt=this._dimensions.width.read(ht),li=Math.floor(this._options.splitViewDefaultRatio.read(ht)*gt),ni=this._options.enableSplitViewResizing.read(ht)?Math.floor($e*gt):li,bi=100;return gt<=bi*2?li:ni<bi?bi:ni>gt-bi?gt-bi:ni}}var ti=e(59365),Ft=e(98401),ei=e(71050),Xt=e(53725);class Ct{remove(){var $e;($e=this.parent)===null||$e===void 0||$e.children.delete(this.id)}static findId($e,ht){let gt;typeof $e=="string"?gt=`${ht.id}/${$e}`:(gt=`${ht.id}/${$e.name}`,ht.children.get(gt)!==void 0&&(gt=`${ht.id}/${$e.name}_${$e.range.startLineNumber}_${$e.range.startColumn}`));let li=gt;for(let ni=0;ht.children.get(li)!==void 0;ni++)li=`${gt}_${ni}`;return li}static empty($e){return $e.children.size===0}}class ft extends Ct{constructor($e,ht,gt){super(),this.id=$e,this.parent=ht,this.symbol=gt,this.children=new Map}}class Bt extends Ct{constructor($e,ht,gt,li){super(),this.id=$e,this.parent=ht,this.label=gt,this.order=li,this.children=new Map}}class kt extends Ct{static create($e,ht,gt){const li=new ei.A(gt),ni=new kt(ht.uri),bi=$e.ordered(ht),Si=bi.map((Pi,Qi)=>{var Hi;const Fi=Ct.findId(`provider_${Qi}`,ni),bt=new Bt(Fi,ni,(Hi=Pi.displayName)!==null&&Hi!==void 0?Hi:"Unknown Outline Provider",Qi);return Promise.resolve(Pi.provideDocumentSymbols(ht,li.token)).then(k=>{for(const te of k||[])kt._makeOutlineElement(te,bt);return bt},k=>((0,r.Cp)(k),bt)).then(k=>{Ct.empty(k)?k.remove():ni._groups.set(Fi,k)})}),yi=$e.onDidChange(()=>{const Pi=$e.ordered(ht);(0,f.fS)(Pi,bi)||li.cancel()});return Promise.all(Si).then(()=>li.token.isCancellationRequested&&!gt.isCancellationRequested?kt.create($e,ht,gt):ni._compact()).finally(()=>{li.dispose(),yi.dispose()})}static _makeOutlineElement($e,ht){const gt=Ct.findId($e,ht),li=new ft(gt,ht,$e);if($e.children)for(const ni of $e.children)kt._makeOutlineElement(ni,li);ht.children.set(li.id,li)}constructor($e){super(),this.uri=$e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let $e=0;for(const[ht,gt]of this._groups)gt.children.size===0?this._groups.delete(ht):$e+=1;if($e!==1)this.children=this._groups;else{const ht=Xt.$.first(this._groups.values());for(const[,gt]of ht.children)gt.parent=this,this.children.set(gt.id,gt)}return this}getTopLevelSymbols(){const $e=[];for(const ht of this.children.values())ht instanceof ft?$e.push(ht.symbol):$e.push(...Xt.$.map(ht.children.values(),gt=>gt.symbol));return $e.sort((ht,gt)=>T.e.compareRangesUsingStarts(ht.range,gt.range))}asListOfDocumentSymbols(){const $e=this.getTopLevelSymbols(),ht=[];return kt._flattenDocumentSymbols(ht,$e,""),ht.sort((gt,li)=>O.L.compare(T.e.getStartPosition(gt.range),T.e.getStartPosition(li.range))||O.L.compare(T.e.getEndPosition(li.range),T.e.getEndPosition(gt.range)))}static _flattenDocumentSymbols($e,ht,gt){for(const li of ht)$e.push({kind:li.kind,tags:li.tags,name:li.name,detail:li.detail,containerName:li.containerName||gt,range:li.range,selectionRange:li.selectionRange,children:void 0}),li.children&&kt._flattenDocumentSymbols($e,li.children,li.name)}}var Ge=e(43155),St=e(71922),Ci=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},Oi=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};let xi=class extends c.JT{get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor($e,ht,gt,li){super(),this._editors=$e,this._diffModel=ht,this._options=gt,this._languageFeaturesService=li,this._modifiedOutlineSource=(0,I.kA)(this,yi=>{const Pi=this._editors.modifiedModel.read(yi);return Pi?new fn(this._languageFeaturesService,Pi):void 0}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(yi=>{if(yi.reason===3){const Pi=this._diffModel.get();(0,_.PS)(Qi=>{for(const Hi of this._editors.original.getSelections()||[])Pi==null||Pi.ensureOriginalLineIsVisible(Hi.getStartPosition().lineNumber,Qi),Pi==null||Pi.ensureOriginalLineIsVisible(Hi.getEndPosition().lineNumber,Qi)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(yi=>{if(yi.reason===3){const Pi=this._diffModel.get();(0,_.PS)(Qi=>{for(const Hi of this._editors.modified.getSelections()||[])Pi==null||Pi.ensureModifiedLineIsVisible(Hi.getStartPosition().lineNumber,Qi),Pi==null||Pi.ensureModifiedLineIsVisible(Hi.getEndPosition().lineNumber,Qi)})}}));const ni=this._diffModel.map((yi,Pi)=>{var Qi,Hi;return((Qi=yi==null?void 0:yi.diff.read(Pi))===null||Qi===void 0?void 0:Qi.mappings.length)===0?[]:(Hi=yi==null?void 0:yi.unchangedRegions.read(Pi))!==null&&Hi!==void 0?Hi:[]});this.viewZones=(0,_.Be)(this,(yi,Pi)=>{const Qi=this._modifiedOutlineSource.read(yi);if(!Qi)return{origViewZones:[],modViewZones:[]};const Hi=[],Fi=[],bt=this._options.renderSideBySide.read(yi),k=ni.read(yi);for(const te of k)if(!te.shouldHideControls(yi)){{const ue=(0,_.nK)(this,Ze=>te.getHiddenOriginalRange(Ze).startLineNumber-1),Fe=new g.GD(ue,24);Hi.push(Fe),Pi.add(new Yi(this._editors.original,Fe,te,te.originalUnchangedRange,!bt,Qi,Ze=>this._diffModel.get().ensureModifiedLineIsVisible(Ze,void 0),this._options))}{const ue=(0,_.nK)(this,Ze=>te.getHiddenModifiedRange(Ze).startLineNumber-1),Fe=new g.GD(ue,24);Fi.push(Fe),Pi.add(new Yi(this._editors.modified,Fe,te,te.modifiedUnchangedRange,!1,Qi,Ze=>this._diffModel.get().ensureModifiedLineIsVisible(Ze,void 0),this._options))}}return{origViewZones:Hi,modViewZones:Fi}});const bi={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},Si={description:"Fold Unchanged",glyphMarginHoverMessage:new ti.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,w.NC)("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+a.k.asClassName(v.l.fold),zIndex:10001};this._register((0,g.RP)(this._editors.original,(0,_.nK)(this,yi=>{const Pi=ni.read(yi),Qi=Pi.map(Hi=>({range:Hi.originalUnchangedRange.toInclusiveRange(),options:bi}));for(const Hi of Pi)Hi.shouldHideControls(yi)&&Qi.push({range:T.e.fromPositions(new O.L(Hi.originalLineNumber,1)),options:Si});return Qi}))),this._register((0,g.RP)(this._editors.modified,(0,_.nK)(this,yi=>{const Pi=ni.read(yi),Qi=Pi.map(Hi=>({range:Hi.modifiedUnchangedRange.toInclusiveRange(),options:bi}));for(const Hi of Pi)Hi.shouldHideControls(yi)&&Qi.push({range:C.z.ofLength(Hi.modifiedLineNumber,1).toInclusiveRange(),options:Si});return Qi}))),this._register((0,_.EH)(yi=>{const Pi=ni.read(yi);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(Pi.map(Qi=>Qi.getHiddenOriginalRange(yi).toInclusiveRange()).filter(Ft.$K)),this._editors.modified.setHiddenAreas(Pi.map(Qi=>Qi.getHiddenModifiedRange(yi).toInclusiveRange()).filter(Ft.$K))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(yi=>{var Pi;if(!yi.event.rightButton&&yi.target.position&&(!((Pi=yi.target.element)===null||Pi===void 0)&&Pi.className.includes("fold-unchanged"))){const Qi=yi.target.position.lineNumber,Hi=this._diffModel.get();if(!Hi)return;const Fi=Hi.unchangedRegions.get().find(bt=>bt.modifiedUnchangedRange.includes(Qi));if(!Fi)return;Fi.collapseAll(void 0),yi.event.stopPropagation(),yi.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(yi=>{var Pi;if(!yi.event.rightButton&&yi.target.position&&(!((Pi=yi.target.element)===null||Pi===void 0)&&Pi.className.includes("fold-unchanged"))){const Qi=yi.target.position.lineNumber,Hi=this._diffModel.get();if(!Hi)return;const Fi=Hi.unchangedRegions.get().find(bt=>bt.originalUnchangedRange.includes(Qi));if(!Fi)return;Fi.collapseAll(void 0),yi.event.stopPropagation(),yi.event.preventDefault()}}))}};xi=Ci([Oi(3,St.p)],xi);class Yi extends g.N9{constructor($e,ht,gt,li,ni,bi,Si,yi){const Pi=(0,b.h)("div.diff-hidden-lines-widget");super($e,ht,Pi.root),this._editor=$e,this._unchangedRegion=gt,this._unchangedRegionRange=li,this._hide=ni,this._modifiedOutlineSource=bi,this._revealModifiedHiddenLine=Si,this._options=yi,this._nodes=(0,b.h)("div.diff-hidden-lines",[(0,b.h)("div.top@top",{title:(0,w.NC)("diff.hiddenLines.top","Click or drag to show more above")}),(0,b.h)("div.center@content",{style:{display:"flex"}},[(0,b.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,b.$)("a",{title:(0,w.NC)("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,ae.T)("$(unfold)"))]),(0,b.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,b.h)("div.bottom@bottom",{title:(0,w.NC)("diff.bottom","Click or drag to show more below"),role:"button"})]),Pi.root.appendChild(this._nodes.root);const Qi=(0,_.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,b.mc)(this._nodes.first):this._register((0,g.bg)(this._nodes.first,{width:Qi.map(Fi=>Fi.contentLeft)})),this._register((0,_.EH)(Fi=>{const bt=this._unchangedRegion.visibleLineCountTop.read(Fi)+this._unchangedRegion.visibleLineCountBottom.read(Fi)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!bt),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Fi)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Fi)>0),this._nodes.top.classList.toggle("canMoveBottom",!bt);const k=this._unchangedRegion.isDragged.read(Fi),te=this._editor.getDomNode();te&&(te.classList.toggle("draggingUnchangedRegion",!!k),k==="top"?(te.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Fi)>0),te.classList.toggle("canMoveBottom",!bt)):k==="bottom"?(te.classList.toggle("canMoveTop",!bt),te.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Fi)>0)):(te.classList.toggle("canMoveTop",!1),te.classList.toggle("canMoveBottom",!1)))}));const Hi=this._editor;this._register((0,b.nm)(this._nodes.top,"mousedown",Fi=>{if(Fi.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Fi.preventDefault();const bt=Fi.clientY;let k=!1;const te=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const ue=(0,b.Jj)(this._nodes.top),Fe=(0,b.nm)(ue,"mousemove",it=>{const _t=it.clientY-bt;k=k||Math.abs(_t)>2;const st=Math.round(_t/Hi.getOption(66)),Q=Math.max(0,Math.min(te+st,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(Q,void 0)}),Ze=(0,b.nm)(ue,"mouseup",it=>{k||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),Fe.dispose(),Ze.dispose()})})),this._register((0,b.nm)(this._nodes.bottom,"mousedown",Fi=>{if(Fi.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Fi.preventDefault();const bt=Fi.clientY;let k=!1;const te=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const ue=(0,b.Jj)(this._nodes.bottom),Fe=(0,b.nm)(ue,"mousemove",it=>{const _t=it.clientY-bt;k=k||Math.abs(_t)>2;const st=Math.round(_t/Hi.getOption(66)),Q=Math.max(0,Math.min(te-st,this._unchangedRegion.getMaxVisibleLineCountBottom())),he=Hi.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(Q,void 0);const Be=Hi.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Hi.setScrollTop(Hi.getScrollTop()+(Be-he))}),Ze=(0,b.nm)(ue,"mouseup",it=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!k){const dt=Hi.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const _t=Hi.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Hi.setScrollTop(Hi.getScrollTop()+(_t-dt))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),Fe.dispose(),Ze.dispose()})})),this._register((0,_.EH)(Fi=>{const bt=[];if(!this._hide){const k=gt.getHiddenModifiedRange(Fi).length,te=(0,w.NC)("hiddenLines","{0} hidden lines",k),ue=(0,b.$)("span",{title:(0,w.NC)("diff.hiddenLines.expandAll","Double click to unfold")},te);ue.addEventListener("dblclick",it=>{it.button===0&&(it.preventDefault(),this._unchangedRegion.showAll(void 0))}),bt.push(ue);const Fe=this._unchangedRegion.getHiddenModifiedRange(Fi),Ze=this._modifiedOutlineSource.getBreadcrumbItems(Fe,Fi);if(Ze.length>0){bt.push((0,b.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let it=0;it<Ze.length;it++){const dt=Ze[it],_t=Ge.uZ.toIcon(dt.kind),st=(0,b.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,ae.h)(_t),"\xA0",dt.name,...it===Ze.length-1?[]:[(0,ae.h)(v.l.chevronRight)]]).root;bt.push(st),st.onclick=()=>{this._revealModifiedHiddenLine(dt.startLineNumber)}}}}(0,b.mc)(this._nodes.others,...bt)}))}}let fn=class extends c.JT{constructor($e,ht){super(),this._languageFeaturesService=$e,this._textModel=ht,this._currentModel=(0,_.uh)(this,void 0);const gt=(0,_.aq)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),li=(0,_.aq)("_textModel.onDidChangeContent",E.ju.debounce(ni=>this._textModel.onDidChangeContent(ni),()=>{},100));this._register((0,_.gp)((ni,bi)=>qt(this,null,function*(){gt.read(ni),li.read(ni);const Si=bi.add(new g.t2),yi=yield kt.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,Si.token);bi.isDisposed||this._currentModel.set(yi,void 0)})))}getBreadcrumbItems($e,ht){const gt=this._currentModel.read(ht);if(!gt)return[];const li=gt.asListOfDocumentSymbols().filter(ni=>$e.contains(ni.range.startLineNumber)&&!$e.contains(ni.range.endLineNumber));return li.sort((0,f.BV)((0,f.tT)(ni=>ni.range.endLineNumber-ni.range.startLineNumber,f.fv))),li.map(ni=>({name:ni.name,kind:ni.kind,startLineNumber:ni.range.startLineNumber}))}};fn=Ci([Oi(0,St.p)],fn);var un=e(15393),Pn=e(84013),Dn=e(85215),Gn=e(10829),Rn=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},ns=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}},ts;let qn=ts=class{constructor($e,ht,gt){this.editorWorkerService=ht,this.telemetryService=gt,this.onDidChangeEventEmitter=new E.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions($e)}dispose(){var $e;($e=this.diffAlgorithmOnDidChangeSubscription)===null||$e===void 0||$e.dispose()}computeDiff($e,ht,gt,li){return qt(this,null,function*(){var ni,bi;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff($e,ht,gt,li);if($e.getLineCount()===1&&$e.getLineMaxColumn(1)===1)return ht.getLineCount()===1&&ht.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new F.gB(new C.z(1,2),new C.z(1,ht.getLineCount()+1),[new F.iy($e.getFullModelRange(),ht.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const Si=JSON.stringify([$e.uri.toString(),ht.uri.toString()]),yi=JSON.stringify([$e.id,ht.id,$e.getAlternativeVersionId(),ht.getAlternativeVersionId(),JSON.stringify(gt)]),Pi=ts.diffCache.get(Si);if(Pi&&Pi.context===yi)return Pi.result;const Qi=Pn.G.create(),Hi=yield this.editorWorkerService.computeDiff($e.uri,ht.uri,gt,this.diffAlgorithm),Fi=Qi.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:Fi,timedOut:(ni=Hi==null?void 0:Hi.quitEarly)!==null&&ni!==void 0?ni:!0,detectedMoves:gt.computeMoves?(bi=Hi==null?void 0:Hi.moves.length)!==null&&bi!==void 0?bi:0:-1}),li.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!Hi)throw new Error("no diff result available");return ts.diffCache.size>10&&ts.diffCache.delete(ts.diffCache.keys().next().value),ts.diffCache.set(Si,{result:Hi,context:yi}),Hi})}setOptions($e){var ht;let gt=!1;$e.diffAlgorithm&&this.diffAlgorithm!==$e.diffAlgorithm&&((ht=this.diffAlgorithmOnDidChangeSubscription)===null||ht===void 0||ht.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=$e.diffAlgorithm,typeof $e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=$e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),gt=!0),gt&&this.onDidChangeEventEmitter.fire()}};qn.diffCache=new Map,qn=ts=Rn([ns(1,Dn.p),ns(2,Gn.b)],qn);var fs=e(65026),Nn=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},cs=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};const Ei=(0,R.yh)("diffProviderFactoryService");let et=class{constructor($e){this.instantiationService=$e}createDiffProvider($e){return this.instantiationService.createInstance(qn,$e)}};et=Nn([cs(0,R.TG)],et),(0,fs.z)(Ei,et,1);var wt=e(62549),Yt=e(2442),ri=e(41574),vi=e(39156),Wi=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},$i=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};let Ot=class extends c.JT{setActiveMovedText($e){this._activeMovedText.set($e,void 0)}constructor($e,ht,gt){super(),this.model=$e,this._options=ht,this._diffProviderFactoryService=gt,this._isDiffUpToDate=(0,_.uh)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,_.uh)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,_.uh)(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,_.nK)(this,Si=>this._options.hideUnchangedRegions.read(Si)?this._unchangedRegions.read(Si).regions:((0,_.PS)(yi=>{for(const Pi of this._unchangedRegions.get().regions)Pi.collapseAll(yi)}),[])),this.movedTextToCompare=(0,_.uh)(this,void 0),this._activeMovedText=(0,_.uh)(this,void 0),this._hoveredMovedText=(0,_.uh)(this,void 0),this.activeMovedText=(0,_.nK)(this,Si=>{var yi,Pi;return(Pi=(yi=this.movedTextToCompare.read(Si))!==null&&yi!==void 0?yi:this._hoveredMovedText.read(Si))!==null&&Pi!==void 0?Pi:this._activeMovedText.read(Si)}),this._cancellationTokenSource=new ei.A,this._diffProvider=(0,_.nK)(this,Si=>{const yi=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(Si)}),Pi=(0,_.aq)("onDidChange",yi.onDidChange);return{diffProvider:yi,onChangeSignal:Pi}}),this._register((0,c.OF)(()=>this._cancellationTokenSource.cancel()));const li=(0,_.GN)("contentChangedSignal"),ni=this._register(new un.pY(()=>li.trigger(void 0),200)),bi=(Si,yi,Pi)=>{const Qi=an.fromDiffs(Si.changes,$e.original.getLineCount(),$e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(Pi),this._options.hideUnchangedRegionsContextLineCount.read(Pi)),Hi=this._unchangedRegions.get(),Fi=Hi.originalDecorationIds.map(ue=>$e.original.getDecorationRange(ue)).map(ue=>ue?C.z.fromRange(ue):void 0),bt=Hi.modifiedDecorationIds.map(ue=>$e.modified.getDecorationRange(ue)).map(ue=>ue?C.z.fromRange(ue):void 0),k=$e.original.deltaDecorations(Hi.originalDecorationIds,Qi.map(ue=>({range:ue.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),te=$e.modified.deltaDecorations(Hi.modifiedDecorationIds,Qi.map(ue=>({range:ue.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const ue of Qi)for(let Fe=0;Fe<Hi.regions.length;Fe++)if(Fi[Fe]&&ue.originalUnchangedRange.intersectsStrict(Fi[Fe])&&bt[Fe]&&ue.modifiedUnchangedRange.intersectsStrict(bt[Fe])){ue.setHiddenModifiedRange(Hi.regions[Fe].getHiddenModifiedRange(void 0),yi);break}this._unchangedRegions.set({regions:Qi,originalDecorationIds:k,modifiedDecorationIds:te},yi)};this._register($e.modified.onDidChangeContent(Si=>{if(this._diff.get()){const Pi=Yt.Q.fromModelContentChanges(Si.changes),Qi=(this._lastDiff,$e.original,$e.modified,void 0);Qi&&(this._lastDiff=Qi,(0,_.PS)(Hi=>{this._diff.set(ii.fromDiffResult(this._lastDiff),Hi),bi(Qi,Hi);const Fi=this.movedTextToCompare.get();this.movedTextToCompare.set(Fi?this._lastDiff.moves.find(bt=>bt.lineRangeMapping.modified.intersect(Fi.lineRangeMapping.modified)):void 0,Hi)}))}this._isDiffUpToDate.set(!1,void 0),ni.schedule()})),this._register($e.original.onDidChangeContent(Si=>{if(this._diff.get()){const Pi=Yt.Q.fromModelContentChanges(Si.changes),Qi=(this._lastDiff,$e.original,$e.modified,void 0);Qi&&(this._lastDiff=Qi,(0,_.PS)(Hi=>{this._diff.set(ii.fromDiffResult(this._lastDiff),Hi),bi(Qi,Hi);const Fi=this.movedTextToCompare.get();this.movedTextToCompare.set(Fi?this._lastDiff.moves.find(bt=>bt.lineRangeMapping.modified.intersect(Fi.lineRangeMapping.modified)):void 0,Hi)}))}this._isDiffUpToDate.set(!1,void 0),ni.schedule()})),this._register((0,_.gp)((Si,yi)=>qt(this,null,function*(){var Pi,Qi;this._options.hideUnchangedRegionsMinimumLineCount.read(Si),this._options.hideUnchangedRegionsContextLineCount.read(Si),ni.cancel(),li.read(Si);const Hi=this._diffProvider.read(Si);Hi.onChangeSignal.read(Si),(0,g.NW)(wt.DW,Si),(0,g.NW)(vi.xG,Si),this._isDiffUpToDate.set(!1,void 0);let Fi=[];yi.add($e.original.onDidChangeContent(te=>{const ue=Yt.Q.fromModelContentChanges(te.changes);Fi=(0,ri.o)(Fi,ue)}));let bt=[];yi.add($e.modified.onDidChangeContent(te=>{const ue=Yt.Q.fromModelContentChanges(te.changes);bt=(0,ri.o)(bt,ue)}));let k=yield Hi.diffProvider.computeDiff($e.original,$e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(Si),maxComputationTimeMs:this._options.maxComputationTimeMs.read(Si),computeMoves:this._options.showMoves.read(Si)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(k=yt(k,$e.original,$e.modified),k=(Pi=($e.original,$e.modified,void 0))!==null&&Pi!==void 0?Pi:k,k=(Qi=($e.original,$e.modified,void 0))!==null&&Qi!==void 0?Qi:k,(0,_.PS)(te=>{bi(k,te),this._lastDiff=k;const ue=ii.fromDiffResult(k);this._diff.set(ue,te),this._isDiffUpToDate.set(!0,te);const Fe=this.movedTextToCompare.get();this.movedTextToCompare.set(Fe?this._lastDiff.moves.find(Ze=>Ze.lineRangeMapping.modified.intersect(Fe.lineRangeMapping.modified)):void 0,te)}))})))}ensureModifiedLineIsVisible($e,ht){var gt;if(((gt=this.diff.get())===null||gt===void 0?void 0:gt.mappings.length)===0)return;const li=this._unchangedRegions.get().regions;for(const ni of li)if(ni.getHiddenModifiedRange(void 0).contains($e)){ni.showModifiedLine($e,ht);return}}ensureOriginalLineIsVisible($e,ht){var gt;if(((gt=this.diff.get())===null||gt===void 0?void 0:gt.mappings.length)===0)return;const li=this._unchangedRegions.get().regions;for(const ni of li)if(ni.getHiddenOriginalRange(void 0).contains($e)){ni.showOriginalLine($e,ht);return}}waitForDiff(){return qt(this,null,function*(){yield(0,_.F_)(this.isDiffUpToDate,$e=>$e)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(ht=>({range:ht.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($e){const ht=$e.collapsedRegions.map(li=>C.z.deserialize(li.range)),gt=this._unchangedRegions.get();(0,_.PS)(li=>{for(const ni of gt.regions)for(const bi of ht)if(ni.modifiedUnchangedRange.intersect(bi)){ni.setHiddenModifiedRange(bi,li);break}})}};Ot=Wi([$i(2,Ei)],Ot);function yt(pi,$e,ht){return{changes:pi.changes.map(gt=>new F.gB(gt.original,gt.modified,gt.innerChanges?gt.innerChanges.map(li=>si(li,$e,ht)):void 0)),moves:pi.moves,identical:pi.identical,quitEarly:pi.quitEarly}}function si(pi,$e,ht){let gt=pi.originalRange,li=pi.modifiedRange;return(gt.endColumn!==1||li.endColumn!==1)&&gt.endColumn===$e.getLineMaxColumn(gt.endLineNumber)&&li.endColumn===ht.getLineMaxColumn(li.endLineNumber)&&gt.endLineNumber<$e.getLineCount()&&li.endLineNumber<ht.getLineCount()&&(gt=gt.setEndPosition(gt.endLineNumber+1,1),li=li.setEndPosition(li.endLineNumber+1,1)),new F.iy(gt,li)}class ii{static fromDiffResult($e){return new ii($e.changes.map(ht=>new Ui(ht)),$e.moves||[],$e.identical,$e.quitEarly)}constructor($e,ht,gt,li){this.mappings=$e,this.movedTexts=ht,this.identical=gt,this.quitEarly=li}}class Ui{constructor($e){this.lineRangeMapping=$e}}class an{static fromDiffs($e,ht,gt,li,ni){const bi=F.gB.inverse($e,ht,gt),Si=[];for(const yi of bi){let Pi=yi.original.startLineNumber,Qi=yi.modified.startLineNumber,Hi=yi.original.length;const Fi=Pi===1&&Qi===1,bt=Pi+Hi===ht+1&&Qi+Hi===gt+1;(Fi||bt)&&Hi>=ni+li?(Fi&&!bt&&(Hi-=ni),bt&&!Fi&&(Pi+=ni,Qi+=ni,Hi-=ni),Si.push(new an(Pi,Qi,Hi,0,0))):Hi>=ni*2+li&&(Pi+=ni,Qi+=ni,Hi-=ni*2,Si.push(new an(Pi,Qi,Hi,0,0)))}return Si}get originalUnchangedRange(){return C.z.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return C.z.ofLength(this.modifiedLineNumber,this.lineCount)}constructor($e,ht,gt,li,ni){this.originalLineNumber=$e,this.modifiedLineNumber=ht,this.lineCount=gt,this._visibleLineCountTop=(0,_.uh)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,_.uh)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,_.nK)(this,bi=>this.visibleLineCountTop.read(bi)+this.visibleLineCountBottom.read(bi)===this.lineCount&&!this.isDragged.read(bi)),this.isDragged=(0,_.uh)(this,void 0),this._visibleLineCountTop.set(li,void 0),this._visibleLineCountBottom.set(ni,void 0)}shouldHideControls($e){return this._shouldHideControls.read($e)}getHiddenOriginalRange($e){return C.z.ofLength(this.originalLineNumber+this._visibleLineCountTop.read($e),this.lineCount-this._visibleLineCountTop.read($e)-this._visibleLineCountBottom.read($e))}getHiddenModifiedRange($e){return C.z.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read($e),this.lineCount-this._visibleLineCountTop.read($e)-this._visibleLineCountBottom.read($e))}setHiddenModifiedRange($e,ht){const gt=$e.startLineNumber-this.modifiedLineNumber,li=this.modifiedLineNumber+this.lineCount-$e.endLineNumberExclusive;this.setState(gt,li,ht)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove($e=10,ht){const gt=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+$e,gt),ht)}showMoreBelow($e=10,ht){const gt=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+$e,gt),ht)}showAll($e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),$e)}showModifiedLine($e,ht){const gt=$e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),li=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-$e;gt<li?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+gt,ht):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+li,ht)}showOriginalLine($e,ht){const gt=$e-this.originalLineNumber,li=this.originalLineNumber+this.lineCount-$e;gt<li?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+li-gt,this.getMaxVisibleLineCountTop()),ht):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+gt-li,this.getMaxVisibleLineCountBottom()),ht)}collapseAll($e){this._visibleLineCountTop.set(0,$e),this._visibleLineCountBottom.set(0,$e)}setState($e,ht,gt){$e=Math.max(Math.min($e,this.lineCount),0),ht=Math.max(Math.min(ht,this.lineCount-$e),0),this._visibleLineCountTop.set($e,gt),this._visibleLineCountBottom.set(ht,gt)}}function en(pi,$e,ht,gt){}function In(pi,$e,ht,gt){}var Fn=e(1432);class On extends c.JT{get visibility(){return this._visibility}set visibility($e){this._visibility!==$e&&(this._visibility=$e,this._diffActions.style.visibility=$e?"visible":"hidden")}constructor($e,ht,gt,li,ni,bi,Si,yi,Pi){super(),this._getViewZoneId=$e,this._marginDomNode=ht,this._modifiedEditor=gt,this._diff=li,this._editor=ni,this._viewLineCounts=bi,this._originalTextModel=Si,this._contextMenuService=yi,this._clipboardService=Pi,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=a.k.asClassName(v.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const Qi=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Qi}px`,this._diffActions.style.lineHeight=`${Qi}px`,this._marginDomNode.appendChild(this._diffActions);let Hi=0;const Fi=gt.getOption(126)&&!Fn.gn,bt=(k,te)=>{var ue;this._contextMenuService.showContextMenu({domForShadowRoot:Fi&&(ue=gt.getDomNode())!==null&&ue!==void 0?ue:void 0,getAnchor:()=>({x:k,y:te}),getActions:()=>{const Fe=[],Ze=li.modified.isEmpty;return Fe.push(new n.aU("diff.clipboard.copyDeletedContent",Ze?li.original.length>1?(0,w.NC)("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):(0,w.NC)("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):li.original.length>1?(0,w.NC)("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):(0,w.NC)("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>qt(this,null,function*(){const dt=this._originalTextModel.getValueInRange(li.original.toExclusiveRange());yield this._clipboardService.writeText(dt)}))),li.original.length>1&&Fe.push(new n.aU("diff.clipboard.copyDeletedLineContent",Ze?(0,w.NC)("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",li.original.startLineNumber+Hi):(0,w.NC)("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",li.original.startLineNumber+Hi),void 0,!0,()=>qt(this,null,function*(){let dt=this._originalTextModel.getLineContent(li.original.startLineNumber+Hi);dt===""&&(dt=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(dt)}))),gt.getOption(90)||Fe.push(new n.aU("diff.inline.revertChange",(0,w.NC)("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>qt(this,null,function*(){this._editor.revert(this._diff)}))),Fe},autoSelectFirstItem:!0})};this._register((0,b.mu)(this._diffActions,"mousedown",k=>{if(!k.leftButton)return;const{top:te,height:ue}=(0,b.i)(this._diffActions),Fe=Math.floor(Qi/3);k.preventDefault(),bt(k.posx,te+ue+Fe)})),this._register(gt.onMouseMove(k=>{(k.target.type===8||k.target.type===5)&&k.target.detail.viewZoneId===this._getViewZoneId()?(Hi=this._updateLightBulbPosition(this._marginDomNode,k.event.browserEvent.y,Qi),this.visibility=!0):this.visibility=!1})),this._register(gt.onMouseDown(k=>{k.event.leftButton&&(k.target.type===8||k.target.type===5)&&k.target.detail.viewZoneId===this._getViewZoneId()&&(k.event.preventDefault(),Hi=this._updateLightBulbPosition(this._marginDomNode,k.event.browserEvent.y,Qi),bt(k.event.posx,k.event.posy+Qi))}))}_updateLightBulbPosition($e,ht,gt){const{top:li}=(0,b.i)($e),ni=ht-li,bi=Math.floor(ni/gt),Si=bi*gt;if(this._diffActions.style.top=`${Si}px`,this._viewLineCounts){let yi=0;for(let Pi=0;Pi<this._viewLineCounts.length;Pi++)if(yi+=this._viewLineCounts[Pi],bi<yi)return Pi}return bi}}var Mi=e(50072),_i=e(92550);const Ii=(0,d.Z)("diffEditorWidget",{createHTML:pi=>pi});function Ht(pi,$e,ht,gt){(0,S.N)(gt,$e.fontInfo);const li=ht.length>0,ni=new Mi.HT(1e4);let bi=0,Si=0;const yi=[];for(let Fi=0;Fi<pi.lineTokens.length;Fi++){const bt=Fi+1,k=pi.lineTokens[Fi],te=pi.lineBreakData[Fi],ue=_i.Kp.filter(ht,bt,1,Number.MAX_SAFE_INTEGER);if(te){let Fe=0;for(const Ze of te.breakOffsets){const it=k.sliceAndInflate(Fe,Ze,0);bi=Math.max(bi,Wt(Si,it,_i.Kp.extractWrapped(ue,Fe,Ze),li,pi.mightContainNonBasicASCII,pi.mightContainRTL,$e,ni)),Si++,Fe=Ze}yi.push(te.breakOffsets.length)}else yi.push(1),bi=Math.max(bi,Wt(Si,k,ue,li,pi.mightContainNonBasicASCII,pi.mightContainRTL,$e,ni)),Si++}bi+=$e.scrollBeyondLastColumn;const Pi=ni.build(),Qi=Ii?Ii.createHTML(Pi):Pi;gt.innerHTML=Qi;const Hi=bi*$e.typicalHalfwidthCharacterWidth;return{heightInLines:Si,minWidthInPx:Hi,viewLineCounts:yi}}class Zt{constructor($e,ht,gt,li){this.lineTokens=$e,this.lineBreakData=ht,this.mightContainNonBasicASCII=gt,this.mightContainRTL=li}}class hi{static fromEditor($e){var ht;const gt=$e.getOptions(),li=gt.get(50),ni=gt.get(143);return new hi(((ht=$e.getModel())===null||ht===void 0?void 0:ht.getOptions().tabSize)||0,li,gt.get(33),li.typicalHalfwidthCharacterWidth,gt.get(103),gt.get(66),ni.decorationsWidth,gt.get(116),gt.get(98),gt.get(93),gt.get(51))}constructor($e,ht,gt,li,ni,bi,Si,yi,Pi,Qi,Hi){this.tabSize=$e,this.fontInfo=ht,this.disableMonospaceOptimizations=gt,this.typicalHalfwidthCharacterWidth=li,this.scrollBeyondLastColumn=ni,this.lineHeight=bi,this.lineDecorationsWidth=Si,this.stopRenderingLineAfter=yi,this.renderWhitespace=Pi,this.renderControlCharacters=Qi,this.fontLigatures=Hi}}function Wt(pi,$e,ht,gt,li,ni,bi,Si){Si.appendString('<div class="view-line'),gt||Si.appendString(" char-delete"),Si.appendString('" style="top:'),Si.appendString(String(pi*bi.lineHeight)),Si.appendString('px;width:1000000px;">');const yi=$e.getLineContent(),Pi=P.wA.isBasicASCII(yi,li),Qi=P.wA.containsRTL(yi,Pi,ni),Hi=(0,Y.d1)(new Y.IJ(bi.fontInfo.isMonospace&&!bi.disableMonospaceOptimizations,bi.fontInfo.canUseHalfwidthRightwardsArrow,yi,!1,Pi,Qi,0,$e,ht,bi.tabSize,0,bi.fontInfo.spaceWidth,bi.fontInfo.middotWidth,bi.fontInfo.wsmiddotWidth,bi.stopRenderingLineAfter,bi.renderWhitespace,bi.renderControlCharacters,bi.fontLigatures!==y.n0.OFF,null),Si);return Si.appendString("</div>"),Hi.characterMapping.getHorizontalOffset(Hi.characterMapping.length)}var qe=e(84972),ee=e(5606),de=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},re=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};let Ce=class extends c.JT{constructor($e,ht,gt,li,ni,bi,Si,yi,Pi,Qi){super(),this._targetWindow=$e,this._editors=ht,this._diffModel=gt,this._options=li,this._diffEditorWidget=ni,this._canIgnoreViewZoneUpdateEvent=bi,this._origViewZonesToIgnore=Si,this._modViewZonesToIgnore=yi,this._clipboardService=Pi,this._contextMenuService=Qi,this._originalTopPadding=(0,_.uh)(this,0),this._originalScrollOffset=(0,_.uh)(this,0),this._originalScrollOffsetAnimated=(0,g.Vm)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,_.uh)(this,0),this._modifiedScrollOffset=(0,_.uh)(this,0),this._modifiedScrollOffsetAnimated=(0,g.Vm)(this._targetWindow,this._modifiedScrollOffset,this._store);const Hi=(0,_.uh)("invalidateAlignmentsState",0),Fi=this._register(new un.pY(()=>{Hi.set(Hi.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(it=>{this._canIgnoreViewZoneUpdateEvent()||Fi.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(it=>{this._canIgnoreViewZoneUpdateEvent()||Fi.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(it=>{(it.hasChanged(144)||it.hasChanged(66))&&Fi.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(it=>{(it.hasChanged(144)||it.hasChanged(66))&&Fi.schedule()}));const bt=this._diffModel.map(it=>it?(0,_.rD)(it.model.original.onDidChangeTokens,()=>it.model.original.tokenization.backgroundTokenizationState===2):void 0).map((it,dt)=>it==null?void 0:it.read(dt)),k=(0,_.nK)(it=>{const dt=this._diffModel.read(it),_t=dt==null?void 0:dt.diff.read(it);if(!dt||!_t)return null;Hi.read(it);const Q=this._options.renderSideBySide.read(it);return we(this._editors.original,this._editors.modified,_t.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,Q)}),te=(0,_.nK)(it=>{var dt;const _t=(dt=this._diffModel.read(it))===null||dt===void 0?void 0:dt.movedTextToCompare.read(it);if(!_t)return null;Hi.read(it);const st=_t.changes.map(Q=>new Ui(Q));return we(this._editors.original,this._editors.modified,st,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function ue(){const it=document.createElement("div");return it.className="diagonal-fill",it}const Fe=this._register(new c.SL);this.viewZones=(0,_.Be)(this,(it,dt)=>{var _t,st,Q,he,Be,nt,pt,Tt;Fe.clear();const Vt=k.read(it)||[],oi=[],Ai=[],zi=this._modifiedTopPadding.read(it);zi>0&&Ai.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:zi,showInHiddenAreas:!0,suppressMouseDown:!0});const cn=this._originalTopPadding.read(it);cn>0&&oi.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:cn,showInHiddenAreas:!0,suppressMouseDown:!0});const dn=this._options.renderSideBySide.read(it),on=dn||(_t=this._editors.modified._getViewModel())===null||_t===void 0?void 0:_t.createLineBreaksComputer();if(on){for(const jn of Vt)if(jn.diff)for(let Es=jn.originalRange.startLineNumber;Es<jn.originalRange.endLineNumberExclusive;Es++)on==null||on.addRequest(this._editors.original.getModel().getLineContent(Es),null,null)}const Ki=(st=on==null?void 0:on.finalize())!==null&&st!==void 0?st:[];let ln=0;const pn=this._editors.modified.getOption(66),Jn=(Q=this._diffModel.read(it))===null||Q===void 0?void 0:Q.movedTextToCompare.read(it),xs=(Be=(he=this._editors.original.getModel())===null||he===void 0?void 0:he.mightContainNonBasicASCII())!==null&&Be!==void 0?Be:!1,rs=(pt=(nt=this._editors.original.getModel())===null||nt===void 0?void 0:nt.mightContainRTL())!==null&&pt!==void 0?pt:!1,Ys=hi.fromEditor(this._editors.modified);for(const jn of Vt)if(jn.diff&&!dn){if(!jn.originalRange.isEmpty){bt.read(it);const _s=document.createElement("div");_s.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Qn=new Zt(jn.originalRange.mapToLineArray(ws=>this._editors.original.getModel().tokenization.getLineTokens(ws)),jn.originalRange.mapToLineArray(ws=>Ki[ln++]),xs,rs),Ds=[];for(const ws of jn.diff.innerChanges||[])Ds.push(new P.$t(ws.originalRange.delta(-(jn.diff.original.startLineNumber-1)),_e.className,0));const zs=Ht(Qn,Ys,Ds,_s),ao=document.createElement("div");if(ao.className="inline-deleted-margin-view-zone",(0,S.N)(ao,Ys.fontInfo),this._options.renderIndicators.read(it))for(let ws=0;ws<zs.heightInLines;ws++){const $s=document.createElement("div");$s.className=`delete-sign ${a.k.asClassName(ze)}`,$s.setAttribute("style",`position:absolute;top:${ws*pn}px;width:${Ys.lineDecorationsWidth}px;height:${pn}px;right:0;`),ao.appendChild($s)}let yr;Fe.add(new On(()=>(0,Ft.cW)(yr),ao,this._editors.modified,jn.diff,this._diffEditorWidget,zs.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let ws=0;ws<zs.viewLineCounts.length;ws++){const $s=zs.viewLineCounts[ws];$s>1&&oi.push({afterLineNumber:jn.originalRange.startLineNumber+ws,domNode:ue(),heightInPx:($s-1)*pn,showInHiddenAreas:!0,suppressMouseDown:!0})}Ai.push({afterLineNumber:jn.modifiedRange.startLineNumber-1,domNode:_s,heightInPx:zs.heightInLines*pn,minWidthInPx:zs.minWidthInPx,marginDomNode:ao,setZoneId(ws){yr=ws},showInHiddenAreas:!0,suppressMouseDown:!0})}const Es=document.createElement("div");Es.className="gutter-delete",oi.push({afterLineNumber:jn.originalRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:jn.modifiedHeightInPx,marginDomNode:Es,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Es=jn.modifiedHeightInPx-jn.originalHeightInPx;if(Es>0){if(Jn!=null&&Jn.lineRangeMapping.original.delta(-1).deltaLength(2).contains(jn.originalRange.endLineNumberExclusive-1))continue;oi.push({afterLineNumber:jn.originalRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:Es,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let _s=function(){const Ds=document.createElement("div");return Ds.className="arrow-revert-change "+a.k.asClassName(v.l.arrowRight),dt.add((0,b.nm)(Ds,"mousedown",zs=>zs.stopPropagation())),dt.add((0,b.nm)(Ds,"click",zs=>{zs.stopPropagation(),ni.revert(jn.diff)})),(0,b.$)("div",{},Ds)};if(Jn!=null&&Jn.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(jn.modifiedRange.endLineNumberExclusive-1))continue;let Qn;jn.diff&&jn.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(it)&&(Qn=_s()),Ai.push({afterLineNumber:jn.modifiedRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:-Es,marginDomNode:Qn,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const jn of(Tt=te.read(it))!==null&&Tt!==void 0?Tt:[]){if(!(Jn!=null&&Jn.lineRangeMapping.original.intersect(jn.originalRange))||!(Jn!=null&&Jn.lineRangeMapping.modified.intersect(jn.modifiedRange)))continue;const Es=jn.modifiedHeightInPx-jn.originalHeightInPx;Es>0?oi.push({afterLineNumber:jn.originalRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:Es,showInHiddenAreas:!0,suppressMouseDown:!0}):Ai.push({afterLineNumber:jn.modifiedRange.endLineNumberExclusive-1,domNode:ue(),heightInPx:-Es,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:oi,mod:Ai}});let Ze=!1;this._register(this._editors.original.onDidScrollChange(it=>{it.scrollLeftChanged&&!Ze&&(Ze=!0,this._editors.modified.setScrollLeft(it.scrollLeft),Ze=!1)})),this._register(this._editors.modified.onDidScrollChange(it=>{it.scrollLeftChanged&&!Ze&&(Ze=!0,this._editors.original.setScrollLeft(it.scrollLeft),Ze=!1)})),this._originalScrollTop=(0,_.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,_.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,_.EH)(it=>{const dt=this._originalScrollTop.read(it)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(it))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(it));dt!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(dt,1)})),this._register((0,_.EH)(it=>{const dt=this._modifiedScrollTop.read(it)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(it))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(it));dt!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(dt,1)})),this._register((0,_.EH)(it=>{var dt;const _t=(dt=this._diffModel.read(it))===null||dt===void 0?void 0:dt.movedTextToCompare.read(it);let st=0;if(_t){const Q=this._editors.original.getTopForLineNumber(_t.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();st=this._editors.modified.getTopForLineNumber(_t.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-Q}st>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(st,void 0)):st<0?(this._modifiedTopPadding.set(-st,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-st,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+st,void 0,!0)}))}};Ce=de([re(8,qe.p),re(9,ee.i)],Ce);function we(pi,$e,ht,gt,li,ni){const bi=new f.H9(be(pi,gt)),Si=new f.H9(be($e,li)),yi=pi.getOption(66),Pi=$e.getOption(66),Qi=[];let Hi=0,Fi=0;function bt(k,te){for(;;){let ue=bi.peek(),Fe=Si.peek();if(ue&&ue.lineNumber>=k&&(ue=void 0),Fe&&Fe.lineNumber>=te&&(Fe=void 0),!ue&&!Fe)break;const Ze=ue?ue.lineNumber-Hi:Number.MAX_VALUE,it=Fe?Fe.lineNumber-Fi:Number.MAX_VALUE;Ze<it?(bi.dequeue(),Fe={lineNumber:ue.lineNumber-Hi+Fi,heightInPx:0}):Ze>it?(Si.dequeue(),ue={lineNumber:Fe.lineNumber-Fi+Hi,heightInPx:0}):(bi.dequeue(),Si.dequeue()),Qi.push({originalRange:C.z.ofLength(ue.lineNumber,1),modifiedRange:C.z.ofLength(Fe.lineNumber,1),originalHeightInPx:yi+ue.heightInPx,modifiedHeightInPx:Pi+Fe.heightInPx,diff:void 0})}}for(const k of ht){let it=function(dt,_t){var st,Q,he,Be;if(dt<Ze||_t<Fe)return;if(ue)ue=!1;else if(dt===Ze||_t===Fe)return;const nt=new C.z(Ze,dt),pt=new C.z(Fe,_t);if(nt.isEmpty&&pt.isEmpty)return;const Tt=(Q=(st=bi.takeWhile(oi=>oi.lineNumber<dt))===null||st===void 0?void 0:st.reduce((oi,Ai)=>oi+Ai.heightInPx,0))!==null&&Q!==void 0?Q:0,Vt=(Be=(he=Si.takeWhile(oi=>oi.lineNumber<_t))===null||he===void 0?void 0:he.reduce((oi,Ai)=>oi+Ai.heightInPx,0))!==null&&Be!==void 0?Be:0;Qi.push({originalRange:nt,modifiedRange:pt,originalHeightInPx:nt.length*yi+Tt,modifiedHeightInPx:pt.length*Pi+Vt,diff:k.lineRangeMapping}),Ze=dt,Fe=_t};const te=k.lineRangeMapping;bt(te.original.startLineNumber,te.modified.startLineNumber);let ue=!0,Fe=te.modified.startLineNumber,Ze=te.original.startLineNumber;if(ni)for(const dt of te.innerChanges||[])dt.originalRange.startColumn>1&&dt.modifiedRange.startColumn>1&&it(dt.originalRange.startLineNumber,dt.modifiedRange.startLineNumber),dt.originalRange.endColumn<pi.getModel().getLineMaxColumn(dt.originalRange.endLineNumber)&&it(dt.originalRange.endLineNumber,dt.modifiedRange.endLineNumber);it(te.original.endLineNumberExclusive,te.modified.endLineNumberExclusive),Hi=te.original.endLineNumberExclusive,Fi=te.modified.endLineNumberExclusive}return bt(Number.MAX_VALUE,Number.MAX_VALUE),Qi}function be(pi,$e){const ht=[],gt=[],li=pi.getOption(144).wrappingColumn!==-1,ni=pi._getViewModel().coordinatesConverter,bi=pi.getOption(66);if(li)for(let yi=1;yi<=pi.getModel().getLineCount();yi++){const Pi=ni.getModelLineViewLineCount(yi);Pi>1&&gt.push({lineNumber:yi,heightInPx:bi*(Pi-1)})}for(const yi of pi.getWhitespaces()){if($e.has(yi.id))continue;const Pi=yi.afterLineNumber===0?0:ni.convertViewPositionToModelPosition(new O.L(yi.afterLineNumber,1)).lineNumber;ht.push({lineNumber:Pi,heightInPx:yi.height})}return(0,g.Ap)(ht,gt,yi=>yi.lineNumber,(yi,Pi)=>({lineNumber:yi.lineNumber,heightInPx:yi.heightInPx+Pi.heightInPx}))}var ke=e(38626),He=e(51203),Ye=e(30665),ut=e(73910),$t=e(97781),gi=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},ci=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}},ai;let ct=ai=class extends c.JT{constructor($e,ht,gt,li,ni,bi,Si){super(),this._editors=$e,this._rootElement=ht,this._diffModel=gt,this._rootWidth=li,this._rootHeight=ni,this._modifiedEditorLayoutInfo=bi,this._themeService=Si,this.width=ai.ENTIRE_DIFF_OVERVIEW_WIDTH;const yi=(0,_.rD)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),Pi=(0,_.nK)(Fi=>{const bt=yi.read(Fi),k=bt.getColor(ut.P6Y)||(bt.getColor(ut.ypS)||ut.CzK).transparent(2),te=bt.getColor(ut.F9q)||(bt.getColor(ut.P4M)||ut.keg).transparent(2);return{insertColor:k,removeColor:te}}),Qi=(0,ke.X)(document.createElement("div"));Qi.setClassName("diffViewport"),Qi.setPosition("absolute");const Hi=(0,b.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:ai.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,g.xx)(Hi,Qi.domNode)),this._register((0,b.mu)(Hi,b.tw.POINTER_DOWN,Fi=>{this._editors.modified.delegateVerticalScrollbarPointerDown(Fi)})),this._register((0,b.nm)(Hi,b.tw.MOUSE_WHEEL,Fi=>{this._editors.modified.delegateScrollFromMouseWheelEvent(Fi)},{passive:!1})),this._register((0,g.xx)(this._rootElement,Hi)),this._register((0,_.gp)((Fi,bt)=>{const k=this._diffModel.read(Fi),te=this._editors.original.createOverviewRuler("original diffOverviewRuler");te&&(bt.add(te),bt.add((0,g.xx)(Hi,te.getDomNode())));const ue=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(ue&&(bt.add(ue),bt.add((0,g.xx)(Hi,ue.getDomNode()))),!te||!ue)return;const Fe=(0,_.aq)("viewZoneChanged",this._editors.original.onDidChangeViewZones),Ze=(0,_.aq)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),it=(0,_.aq)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),dt=(0,_.aq)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);bt.add((0,_.EH)(_t=>{var st;Fe.read(_t),Ze.read(_t),it.read(_t),dt.read(_t);const Q=Pi.read(_t),he=(st=k==null?void 0:k.diff.read(_t))===null||st===void 0?void 0:st.mappings;function Be(Tt,Vt,oi){const Ai=oi._getViewModel();return Ai?Tt.filter(zi=>zi.length>0).map(zi=>{const cn=Ai.coordinatesConverter.convertModelPositionToViewPosition(new O.L(zi.startLineNumber,1)),dn=Ai.coordinatesConverter.convertModelPositionToViewPosition(new O.L(zi.endLineNumberExclusive,1)),on=dn.lineNumber-cn.lineNumber;return new Ye.EY(cn.lineNumber,dn.lineNumber,on,Vt.toString())}):[]}const nt=Be((he||[]).map(Tt=>Tt.lineRangeMapping.original),Q.removeColor,this._editors.original),pt=Be((he||[]).map(Tt=>Tt.lineRangeMapping.modified),Q.insertColor,this._editors.modified);te==null||te.setZones(nt),ue==null||ue.setZones(pt)})),bt.add((0,_.EH)(_t=>{const st=this._rootHeight.read(_t),Q=this._rootWidth.read(_t),he=this._modifiedEditorLayoutInfo.read(_t);if(he){const Be=ai.ENTIRE_DIFF_OVERVIEW_WIDTH-2*ai.ONE_OVERVIEW_WIDTH;te.setLayout({top:0,height:st,right:Be+ai.ONE_OVERVIEW_WIDTH,width:ai.ONE_OVERVIEW_WIDTH}),ue.setLayout({top:0,height:st,right:0,width:ai.ONE_OVERVIEW_WIDTH});const nt=this._editors.modifiedScrollTop.read(_t),pt=this._editors.modifiedScrollHeight.read(_t),Tt=this._editors.modified.getOption(102),Vt=new He.M(Tt.verticalHasArrows?Tt.arrowSize:0,Tt.verticalScrollbarSize,0,he.height,pt,nt);Qi.setTop(Vt.getSliderPosition()),Qi.setHeight(Vt.getSliderSize())}else Qi.setTop(0),Qi.setHeight(0);Hi.style.height=st+"px",Hi.style.left=Q-ai.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",Qi.setWidth(ai.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};ct.ONE_OVERVIEW_WIDTH=15,ct.ENTIRE_DIFF_OVERVIEW_WIDTH=ai.ONE_OVERVIEW_WIDTH*2,ct=ai=gi([ci(6,$t.XE)],ct);var Nt=e(96518),Et=e(29102),It=e(32064),Gt=e(60972),zt=e(90535);const mi=(0,ut.P6G)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,w.NC)("diffEditor.move.border","The border color for text that got moved in the diff editor.")),ui=(0,ut.P6G)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,w.NC)("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),Ti=(0,ut.P6G)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,w.NC)("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));class Ri extends c.JT{constructor(){super(...arguments),this._id=++Ri.idCounter,this._onDidDispose=this._register(new E.Q5),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition($e){return this._targetEditor.getVisibleColumnFromPosition($e)}getPosition(){return this._targetEditor.getPosition()}setPosition($e,ht="api"){this._targetEditor.setPosition($e,ht)}revealLine($e,ht=0){this._targetEditor.revealLine($e,ht)}revealLineInCenter($e,ht=0){this._targetEditor.revealLineInCenter($e,ht)}revealLineInCenterIfOutsideViewport($e,ht=0){this._targetEditor.revealLineInCenterIfOutsideViewport($e,ht)}revealLineNearTop($e,ht=0){this._targetEditor.revealLineNearTop($e,ht)}revealPosition($e,ht=0){this._targetEditor.revealPosition($e,ht)}revealPositionInCenter($e,ht=0){this._targetEditor.revealPositionInCenter($e,ht)}revealPositionInCenterIfOutsideViewport($e,ht=0){this._targetEditor.revealPositionInCenterIfOutsideViewport($e,ht)}revealPositionNearTop($e,ht=0){this._targetEditor.revealPositionNearTop($e,ht)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection($e,ht="api"){this._targetEditor.setSelection($e,ht)}setSelections($e,ht="api"){this._targetEditor.setSelections($e,ht)}revealLines($e,ht,gt=0){this._targetEditor.revealLines($e,ht,gt)}revealLinesInCenter($e,ht,gt=0){this._targetEditor.revealLinesInCenter($e,ht,gt)}revealLinesInCenterIfOutsideViewport($e,ht,gt=0){this._targetEditor.revealLinesInCenterIfOutsideViewport($e,ht,gt)}revealLinesNearTop($e,ht,gt=0){this._targetEditor.revealLinesNearTop($e,ht,gt)}revealRange($e,ht=0,gt=!1,li=!0){this._targetEditor.revealRange($e,ht,gt,li)}revealRangeInCenter($e,ht=0){this._targetEditor.revealRangeInCenter($e,ht)}revealRangeInCenterIfOutsideViewport($e,ht=0){this._targetEditor.revealRangeInCenterIfOutsideViewport($e,ht)}revealRangeNearTop($e,ht=0){this._targetEditor.revealRangeNearTop($e,ht)}revealRangeNearTopIfOutsideViewport($e,ht=0){this._targetEditor.revealRangeNearTopIfOutsideViewport($e,ht)}revealRangeAtTop($e,ht=0){this._targetEditor.revealRangeAtTop($e,ht)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger($e,ht,gt){this._targetEditor.trigger($e,ht,gt)}createDecorationsCollection($e){return this._targetEditor.createDecorationsCollection($e)}changeDecorations($e){return this._targetEditor.changeDecorations($e)}}Ri.idCounter=0;var tn=e(91847),gn=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},wn=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};let An=class extends c.JT{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor($e,ht,gt,li,ni,bi,Si){super(),this.originalEditorElement=$e,this.modifiedEditorElement=ht,this._options=gt,this._createInnerEditor=ni,this._instantiationService=bi,this._keybindingService=Si,this._onDidContentSizeChange=this._register(new E.Q5),this.original=this._register(this._createLeftHandSideEditor(gt.editorOptions.get(),li.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(gt.editorOptions.get(),li.modifiedEditor||{})),this.modifiedModel=(0,_.rD)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=(0,_.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,_.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=(0,_.rD)(this.modified.onDidChangeCursorSelection,()=>{var yi;return(yi=this.modified.getSelections())!==null&&yi!==void 0?yi:[]}),this.modifiedCursor=(0,_.rD)(this.modified.onDidChangeCursorPosition,()=>{var yi;return(yi=this.modified.getPosition())!==null&&yi!==void 0?yi:new O.L(1,1)}),this._register((0,_.nJ)({createEmptyChangeSummary:()=>({}),handleChange:(yi,Pi)=>(yi.didChange(gt.editorOptions)&&Object.assign(Pi,yi.change.changedOptions),!0)},(yi,Pi)=>{gt.editorOptions.read(yi),this._options.renderSideBySide.read(yi),this.modified.updateOptions(this._adjustOptionsForRightHandSide(yi,Pi)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(yi,Pi))}))}_createLeftHandSideEditor($e,ht){const gt=this._adjustOptionsForLeftHandSide(void 0,$e),li=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,gt,ht);return li.setContextValue("isInDiffLeftEditor",!0),li}_createRightHandSideEditor($e,ht){const gt=this._adjustOptionsForRightHandSide(void 0,$e),li=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,gt,ht);return li.setContextValue("isInDiffRightEditor",!0),li}_constructInnerEditor($e,ht,gt,li){const ni=this._createInnerEditor($e,ht,gt,li);return this._register(ni.onDidContentSizeChange(bi=>{const Si=this.original.getContentWidth()+this.modified.getContentWidth()+ct.ENTIRE_DIFF_OVERVIEW_WIDTH,yi=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:yi,contentWidth:Si,contentHeightChanged:bi.contentHeightChanged,contentWidthChanged:bi.contentWidthChanged})})),ni}_adjustOptionsForLeftHandSide($e,ht){const gt=this._adjustOptionsForSubEditor(ht);return this._options.renderSideBySide.get()?(gt.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},gt.wordWrapOverride1=this._options.diffWordWrap.get()):(gt.wordWrapOverride1="off",gt.wordWrapOverride2="off",gt.stickyScroll={enabled:!1},gt.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),gt.glyphMargin=this._options.renderSideBySide.get(),ht.originalAriaLabel&&(gt.ariaLabel=ht.originalAriaLabel),gt.ariaLabel=this._updateAriaLabel(gt.ariaLabel),gt.readOnly=!this._options.originalEditable.get(),gt.dropIntoEditor={enabled:!gt.readOnly},gt.extraEditorClassName="original-in-monaco-diff-editor",gt}_adjustOptionsForRightHandSide($e,ht){const gt=this._adjustOptionsForSubEditor(ht);return ht.modifiedAriaLabel&&(gt.ariaLabel=ht.modifiedAriaLabel),gt.ariaLabel=this._updateAriaLabel(gt.ariaLabel),gt.wordWrapOverride1=this._options.diffWordWrap.get(),gt.revealHorizontalRightPadding=y.BH.revealHorizontalRightPadding.defaultValue+ct.ENTIRE_DIFF_OVERVIEW_WIDTH,gt.scrollbar.verticalHasArrows=!1,gt.extraEditorClassName="modified-in-monaco-diff-editor",gt}_adjustOptionsForSubEditor($e){const ht=Ln(Xi({},$e),{dimension:{height:0,width:0}});return ht.inDiffEditor=!0,ht.automaticLayout=!1,ht.scrollbar=Xi({},ht.scrollbar||{}),ht.folding=!1,ht.codeLens=this._options.diffCodeLens.get(),ht.fixedOverflowWidgets=!0,ht.minimap=Xi({},ht.minimap||{}),ht.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?ht.stickyScroll={enabled:!1}:ht.stickyScroll=this._options.editorOptions.get().stickyScroll,ht}_updateAriaLabel($e){var ht;$e||($e="");const gt=(0,w.NC)("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(ht=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||ht===void 0?void 0:ht.getAriaLabel());return this._options.accessibilityVerbose.get()?$e+gt:$e?$e.replaceAll(gt,""):""}};An=gn([wn(5,R.TG),wn(6,tn.d)],An);var Bn=e(15115);class Tn{get editorOptions(){return this._options}constructor($e){this._diffEditorWidth=(0,_.uh)(this,0),this.couldShowInlineViewBecauseOfSize=(0,_.nK)(this,gt=>this._options.read(gt).renderSideBySide&&this._diffEditorWidth.read(gt)<=this._options.read(gt).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,_.nK)(this,gt=>this._options.read(gt).renderOverviewRuler),this.renderSideBySide=(0,_.nK)(this,gt=>this._options.read(gt).renderSideBySide&&!(this._options.read(gt).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(gt))),this.readOnly=(0,_.nK)(this,gt=>this._options.read(gt).readOnly),this.shouldRenderRevertArrows=(0,_.nK)(this,gt=>!(!this._options.read(gt).renderMarginRevertIcon||!this.renderSideBySide.read(gt)||this.readOnly.read(gt))),this.renderIndicators=(0,_.nK)(this,gt=>this._options.read(gt).renderIndicators),this.enableSplitViewResizing=(0,_.nK)(this,gt=>this._options.read(gt).enableSplitViewResizing),this.splitViewDefaultRatio=(0,_.nK)(this,gt=>this._options.read(gt).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,_.nK)(this,gt=>this._options.read(gt).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,_.nK)(this,gt=>this._options.read(gt).maxComputationTime),this.showMoves=(0,_.nK)(this,gt=>this._options.read(gt).experimental.showMoves&&this.renderSideBySide.read(gt)),this.isInEmbeddedEditor=(0,_.nK)(this,gt=>this._options.read(gt).isInEmbeddedEditor),this.diffWordWrap=(0,_.nK)(this,gt=>this._options.read(gt).diffWordWrap),this.originalEditable=(0,_.nK)(this,gt=>this._options.read(gt).originalEditable),this.diffCodeLens=(0,_.nK)(this,gt=>this._options.read(gt).diffCodeLens),this.accessibilityVerbose=(0,_.nK)(this,gt=>this._options.read(gt).accessibilityVerbose),this.diffAlgorithm=(0,_.nK)(this,gt=>this._options.read(gt).diffAlgorithm),this.showEmptyDecorations=(0,_.nK)(this,gt=>this._options.read(gt).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,_.nK)(this,gt=>this._options.read(gt).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,_.nK)(this,gt=>this._options.read(gt).hideUnchangedRegions.minimumLineCount);const ht=Xi(Xi({},$e),es($e,Bn.k));this._options=(0,_.uh)(this,ht)}updateOptions($e){const ht=es($e,this._options.get()),gt=Xi(Xi(Xi({},this._options.get()),$e),ht);this._options.set(gt,void 0,{changedOptions:$e})}setWidth($e){this._diffEditorWidth.set($e,void 0)}}function es(pi,$e){var ht,gt,li,ni,bi,Si,yi,Pi;return{enableSplitViewResizing:(0,y.O7)(pi.enableSplitViewResizing,$e.enableSplitViewResizing),splitViewDefaultRatio:(0,y.L_)(pi.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.O7)(pi.renderSideBySide,$e.renderSideBySide),renderMarginRevertIcon:(0,y.O7)(pi.renderMarginRevertIcon,$e.renderMarginRevertIcon),maxComputationTime:(0,y.Zc)(pi.maxComputationTime,$e.maxComputationTime,0,1073741824),maxFileSize:(0,y.Zc)(pi.maxFileSize,$e.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.O7)(pi.ignoreTrimWhitespace,$e.ignoreTrimWhitespace),renderIndicators:(0,y.O7)(pi.renderIndicators,$e.renderIndicators),originalEditable:(0,y.O7)(pi.originalEditable,$e.originalEditable),diffCodeLens:(0,y.O7)(pi.diffCodeLens,$e.diffCodeLens),renderOverviewRuler:(0,y.O7)(pi.renderOverviewRuler,$e.renderOverviewRuler),diffWordWrap:(0,y.NY)(pi.diffWordWrap,$e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.NY)(pi.diffAlgorithm,$e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.O7)(pi.accessibilityVerbose,$e.accessibilityVerbose),experimental:{showMoves:(0,y.O7)((ht=pi.experimental)===null||ht===void 0?void 0:ht.showMoves,$e.experimental.showMoves),showEmptyDecorations:(0,y.O7)((gt=pi.experimental)===null||gt===void 0?void 0:gt.showEmptyDecorations,$e.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.O7)((ni=(li=pi.hideUnchangedRegions)===null||li===void 0?void 0:li.enabled)!==null&&ni!==void 0?ni:(bi=pi.experimental)===null||bi===void 0?void 0:bi.collapseUnchangedRegions,$e.hideUnchangedRegions.enabled),contextLineCount:(0,y.Zc)((Si=pi.hideUnchangedRegions)===null||Si===void 0?void 0:Si.contextLineCount,$e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.Zc)((yi=pi.hideUnchangedRegions)===null||yi===void 0?void 0:yi.minimumLineCount,$e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.Zc)((Pi=pi.hideUnchangedRegions)===null||Pi===void 0?void 0:Pi.revealLineCount,$e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.O7)(pi.isInEmbeddedEditor,$e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.O7)(pi.onlyShowAccessibleDiffViewer,$e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.Zc)(pi.renderSideBySideInlineBreakpoint,$e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.O7)(pi.useInlineViewWhenSpaceIsLimited,$e.useInlineViewWhenSpaceIsLimited)}}var Un=function(pi,$e,ht,gt){var li=arguments.length,ni=li<3?$e:gt===null?gt=Object.getOwnPropertyDescriptor($e,ht):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ni=Reflect.decorate(pi,$e,ht,gt);else for(var Si=pi.length-1;Si>=0;Si--)(bi=pi[Si])&&(ni=(li<3?bi(ni):li>3?bi($e,ht,ni):bi($e,ht))||ni);return li>3&&ni&&Object.defineProperty($e,ht,ni),ni},yn=function(pi,$e){return function(ht,gt){$e(ht,gt,pi)}};let ss=class extends Ri{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor($e,ht,gt,li,ni,bi,Si,yi){var Pi;super(),this._domElement=$e,this._parentContextKeyService=li,this._parentInstantiationService=ni,this._audioCueService=Si,this._editorProgressService=yi,this.elements=(0,b.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,b.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,b.$)("span",{},"No Changes")]),(0,b.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,b.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,b.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,_.uh)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=E.ju.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new Gt.y([It.i6,this._contextKeyService])),this._boundarySashes=(0,_.uh)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,_.uh)(this,!1),this._accessibleDiffViewerVisible=(0,_.nK)(this,dt=>this._options.onlyShowAccessibleDiffViewer.read(dt)?!0:this._accessibleDiffViewerShouldBeVisible.read(dt)),this._movedBlocksLinesPart=(0,_.uh)(this,void 0),this._layoutInfo=(0,_.nK)(this,dt=>{var _t,st,Q,he,Be;const nt=this._rootSizeObserver.width.read(dt),pt=this._rootSizeObserver.height.read(dt),Tt=(_t=this._sash.read(dt))===null||_t===void 0?void 0:_t.sashLeft.read(dt),Vt=Tt!=null?Tt:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),oi=nt-Vt-((Q=(st=this._overviewRulerPart.read(dt))===null||st===void 0?void 0:st.width)!==null&&Q!==void 0?Q:0),Ai=(Be=(he=this._movedBlocksLinesPart.read(dt))===null||he===void 0?void 0:he.width.read(dt))!==null&&Be!==void 0?Be:0,zi=Vt-Ai;return this.elements.original.style.width=zi+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=oi+"px",this.elements.modified.style.left=Vt+"px",this._editors.original.layout({width:zi,height:pt},!0),this._editors.modified.layout({width:oi,height:pt},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((dt,_t)=>dt==null?void 0:dt.diff.read(_t)),this.onDidUpdateDiff=E.ju.fromObservableLight(this._diffValue),bi.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,c.OF)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new g.DU(this.elements.root,ht.dimension)),this._rootSizeObserver.setAutomaticLayout((Pi=ht.automaticLayout)!==null&&Pi!==void 0?Pi:!1),this._options=new Tn(ht),this._register((0,_.EH)(dt=>{this._options.setWidth(this._rootSizeObserver.width.read(dt))})),this._contextKeyService.createKey(Et.u.isEmbeddedDiffEditor.key,!1),this._register((0,g.GU)(Et.u.isEmbeddedDiffEditor,this._contextKeyService,dt=>this._options.isInEmbeddedEditor.read(dt))),this._register((0,g.GU)(Et.u.comparingMovedCode,this._contextKeyService,dt=>{var _t;return!!(!((_t=this._diffModel.read(dt))===null||_t===void 0)&&_t.movedTextToCompare.read(dt))})),this._register((0,g.GU)(Et.u.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,dt=>this._options.couldShowInlineViewBecauseOfSize.read(dt))),this._register((0,g.GU)(Et.u.hasChanges,this._contextKeyService,dt=>{var _t,st,Q;return((Q=(st=(_t=this._diffModel.read(dt))===null||_t===void 0?void 0:_t.diff.read(dt))===null||st===void 0?void 0:st.mappings.length)!==null&&Q!==void 0?Q:0)>0})),this._editors=this._register(this._instantiationService.createInstance(An,this.elements.original,this.elements.modified,this._options,gt,(dt,_t,st,Q)=>this._createInnerEditor(dt,_t,st,Q))),this._overviewRulerPart=(0,I.kA)(this,dt=>this._options.renderOverviewRuler.read(dt)?this._instantiationService.createInstance((0,g.NW)(ct,dt),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(_t=>_t.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,I.kA)(this,dt=>{const _t=this._options.renderSideBySide.read(dt);return this.elements.root.classList.toggle("side-by-side",_t),_t?new Mt(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((st,Q)=>{var he,Be;return st-((Be=(he=this._overviewRulerPart.read(Q))===null||he===void 0?void 0:he.width)!==null&&Be!==void 0?Be:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const Qi=(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(xi,dt),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(rt,dt),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Hi=new Set,Fi=new Set;let bt=!1;const k=(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(Ce,dt),(0,b.Jj)(this._domElement),this._editors,this._diffModel,this._options,this,()=>bt||Qi.get().isUpdatingHiddenAreas,Hi,Fi)).recomputeInitiallyAndOnChange(this._store),te=(0,_.nK)(this,dt=>{const _t=k.read(dt).viewZones.read(dt).orig,st=Qi.read(dt).viewZones.read(dt).origViewZones;return _t.concat(st)}),ue=(0,_.nK)(this,dt=>{const _t=k.read(dt).viewZones.read(dt).mod,st=Qi.read(dt).viewZones.read(dt).modViewZones;return _t.concat(st)});this._register((0,g.Sv)(this._editors.original,te,dt=>{bt=dt},Hi));let Fe;this._register((0,g.Sv)(this._editors.modified,ue,dt=>{bt=dt,bt?Fe=p.Z.capture(this._editors.modified):(Fe==null||Fe.restore(this._editors.modified),Fe=void 0)},Fi)),this._accessibleDiffViewer=(0,I.kA)(this,dt=>this._instantiationService.createInstance((0,g.NW)(K,dt),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(_t,st)=>this._accessibleDiffViewerShouldBeVisible.set(_t,st),this._options.onlyShowAccessibleDiffViewer.map(_t=>!_t),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((_t,st)=>{var Q;return(Q=_t==null?void 0:_t.diff.read(st))===null||Q===void 0?void 0:Q.mappings.map(he=>he.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);const Ze=this._accessibleDiffViewerVisible.map(dt=>dt?"hidden":"visible");this._register((0,g.bg)(this.elements.modified,{visibility:Ze})),this._register((0,g.bg)(this.elements.original,{visibility:Ze})),this._createDiffEditorContributions(),bi.addDiffEditor(this),this._register((0,_.jx)(this._layoutInfo)),(0,I.kA)(this,dt=>new((0,g.NW)(xe,dt))(this.elements.root,this._diffModel,this._layoutInfo.map(_t=>_t.originalEditor),this._layoutInfo.map(_t=>_t.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,dt=>{this._movedBlocksLinesPart.set(dt,void 0)}),this._register((0,g.bg)(this.elements.overlay,{width:this._layoutInfo.map((dt,_t)=>dt.originalEditor.width+(this._options.renderSideBySide.read(_t)?0:dt.modifiedEditor.width)),visibility:(0,_.nK)(dt=>{var _t,st;return this._options.hideUnchangedRegions.read(dt)&&((st=(_t=this._diffModel.read(dt))===null||_t===void 0?void 0:_t.diff.read(dt))===null||st===void 0?void 0:st.mappings.length)===0?"visible":"hidden"})})),this._register(E.ju.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,dt=>{var _t,st;if((dt==null?void 0:dt.reason)===3){const Q=(st=(_t=this._diffModel.get())===null||_t===void 0?void 0:_t.diff.get())===null||st===void 0?void 0:st.mappings.find(he=>he.lineRangeMapping.modified.contains(dt.position.lineNumber));Q!=null&&Q.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(V.y$.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):Q!=null&&Q.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(V.y$.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):Q&&this._audioCueService.playAudioCue(V.y$.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const it=this._diffModel.map(this,(dt,_t)=>{if(dt)return dt.diff.read(_t)===void 0&&!dt.isDiffUpToDate.read(_t)});this._register((0,_.gp)((dt,_t)=>{if(it.read(dt)===!0){const st=this._editorProgressService.show(!0,1e3);_t.add((0,c.OF)(()=>st.done()))}})),this._register((0,c.OF)(()=>{var dt;this._shouldDisposeDiffModel&&((dt=this._diffModel.get())===null||dt===void 0||dt.dispose())}))}_createInnerEditor($e,ht,gt,li){return $e.createInstance(o.Gm,ht,gt,li)}_createDiffEditorContributions(){const $e=M.Uc.getDiffEditorContributions();for(const ht of $e)try{this._register(this._instantiationService.createInstance(ht.ctor,this))}catch(gt){(0,r.dL)(gt)}}get _targetEditor(){return this._editors.modified}getEditorType(){return Nt.g.IDiffEditor}layout($e){this._rootSizeObserver.observe($e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var $e;const ht=this._editors.original.saveViewState(),gt=this._editors.modified.saveViewState();return{original:ht,modified:gt,modelState:($e=this._diffModel.get())===null||$e===void 0?void 0:$e.serializeState()}}restoreViewState($e){var ht;if($e&&$e.original&&$e.modified){const gt=$e;this._editors.original.restoreViewState(gt.original),this._editors.modified.restoreViewState(gt.modified),gt.modelState&&((ht=this._diffModel.get())===null||ht===void 0||ht.restoreSerializedState(gt.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel($e){return this._instantiationService.createInstance(Ot,$e,this._options)}getModel(){var $e,ht;return(ht=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.model)!==null&&ht!==void 0?ht:null}setModel($e,ht){!$e&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const gt=$e?"model"in $e?{model:$e,shouldDispose:!1}:{model:this.createViewModel($e),shouldDispose:!0}:void 0;this._diffModel.get()!==(gt==null?void 0:gt.model)&&(0,_.c8)(ht,li=>{var ni;_.rD.batchEventsGlobally(li,()=>{this._editors.original.setModel(gt?gt.model.model.original:null),this._editors.modified.setModel(gt?gt.model.model.modified:null)});const bi=this._diffModel.get(),Si=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(ni=gt==null?void 0:gt.shouldDispose)!==null&&ni!==void 0?ni:!1,this._diffModel.set(gt==null?void 0:gt.model,li),Si&&(bi==null||bi.dispose())})}updateOptions($e){this._options.updateOptions($e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var $e;const ht=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.diff.get();return ht?os(ht):null}revert($e){var ht;if($e.innerChanges){this.revertRangeMappings($e.innerChanges);return}const gt=(ht=this._diffModel.get())===null||ht===void 0?void 0:ht.model;gt&&this._editors.modified.executeEdits("diffEditor",[{range:$e.modified.toExclusiveRange(),text:gt.original.getValueInRange($e.original.toExclusiveRange())}])}revertRangeMappings($e){const ht=this._diffModel.get();if(!ht||!ht.isDiffUpToDate.get())return;const gt=$e.map(li=>({range:li.modifiedRange,text:ht.model.original.getValueInRange(li.originalRange)}));this._editors.modified.executeEdits("diffEditor",gt)}_goTo($e){this._editors.modified.setPosition(new O.L($e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter($e.lineRangeMapping.modified.toExclusiveRange())}goToDiff($e){var ht,gt,li,ni;const bi=(gt=(ht=this._diffModel.get())===null||ht===void 0?void 0:ht.diff.get())===null||gt===void 0?void 0:gt.mappings;if(!bi||bi.length===0)return;const Si=this._editors.modified.getPosition().lineNumber;let yi;$e==="next"?yi=(li=bi.find(Pi=>Pi.lineRangeMapping.modified.startLineNumber>Si))!==null&&li!==void 0?li:bi[0]:yi=(ni=(0,z.dF)(bi,Pi=>Pi.lineRangeMapping.modified.startLineNumber<Si))!==null&&ni!==void 0?ni:bi[bi.length-1],this._goTo(yi),yi.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(V.y$.diffLineDeleted,{source:"diffEditor.goToDiff"}):yi.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(V.y$.diffLineInserted,{source:"diffEditor.goToDiff"}):yi&&this._audioCueService.playAudioCue(V.y$.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const $e=this._diffModel.get();$e&&this.waitForDiff().then(()=>{var ht;const gt=(ht=$e.diff.get())===null||ht===void 0?void 0:ht.mappings;!gt||gt.length===0||this._goTo(gt[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}waitForDiff(){return qt(this,null,function*(){const $e=this._diffModel.get();$e&&(yield $e.waitForDiff())})}mapToOtherSide(){var $e,ht;const gt=this._editors.modified.hasWidgetFocus(),li=gt?this._editors.modified:this._editors.original,ni=gt?this._editors.original:this._editors.modified;let bi;const Si=li.getSelection();if(Si){const yi=(ht=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.diff.get())===null||ht===void 0?void 0:ht.mappings.map(Pi=>gt?Pi.lineRangeMapping.flip():Pi.lineRangeMapping);if(yi){const Pi=(0,g.cV)(Si.getStartPosition(),yi),Qi=(0,g.cV)(Si.getEndPosition(),yi);bi=T.e.plusRange(Pi,Qi)}}return{destination:ni,destinationSelection:bi}}switchSide(){const{destination:$e,destinationSelection:ht}=this.mapToOtherSide();$e.focus(),ht&&$e.setSelection(ht)}exitCompareMove(){const $e=this._diffModel.get();$e&&$e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var $e;const ht=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.unchangedRegions.get();ht&&(0,_.PS)(gt=>{for(const li of ht)li.collapseAll(gt)})}showAllUnchangedRegions(){var $e;const ht=($e=this._diffModel.get())===null||$e===void 0?void 0:$e.unchangedRegions.get();ht&&(0,_.PS)(gt=>{for(const li of ht)li.showAll(gt)})}};ss=Un([yn(3,It.i6),yn(4,R.TG),yn(5,D.$),yn(6,V.e7),yn(7,zt.ek)],ss);function os(pi){return pi.mappings.map($e=>{const ht=$e.lineRangeMapping;let gt,li,ni,bi,Si=ht.innerChanges;return ht.original.isEmpty?(gt=ht.original.startLineNumber-1,li=0,Si=void 0):(gt=ht.original.startLineNumber,li=ht.original.endLineNumberExclusive-1),ht.modified.isEmpty?(ni=ht.modified.startLineNumber-1,bi=0,Si=void 0):(ni=ht.modified.startLineNumber,bi=ht.modified.endLineNumberExclusive-1),{originalStartLineNumber:gt,originalEndLineNumber:li,modifiedStartLineNumber:ni,modifiedEndLineNumber:bi,charChanges:Si==null?void 0:Si.map(yi=>({originalStartLineNumber:yi.originalRange.startLineNumber,originalStartColumn:yi.originalRange.startColumn,originalEndLineNumber:yi.originalRange.endLineNumber,originalEndColumn:yi.originalRange.endColumn,modifiedStartLineNumber:yi.modifiedRange.startLineNumber,modifiedStartColumn:yi.modifiedRange.startColumn,modifiedEndLineNumber:yi.modifiedRange.endLineNumber,modifiedEndColumn:yi.modifiedRange.endColumn}))}})}},31651:function(Pt,Ke,e){"use strict";e.d(Ke,{t2:function(){return B},DU:function(){return v},GD:function(){return y},N9:function(){return g},Vm:function(){return a},xx:function(){return f},RP:function(){return n},bg:function(){return L},Sv:function(){return F},GU:function(){return w},Ap:function(){return i},NW:function(){return O},cV:function(){return $}});var b=e(35534),z=e(71050),r=e(76648);function E(){return r.OB&&!!r.OB.VSCODE_DEV}function c(V){if(E()){const R=_();return R.add(V),{dispose(){R.delete(V)}}}else return{dispose(){}}}function _(){I||(I=new Set);const V=globalThis;return V.$hotReload_applyNewExports||(V.$hotReload_applyNewExports=R=>{for(const A of I){const H=A(R);if(H)return H}}),I}let I;E()&&c(({oldExports:V,newSrc:R})=>{if(R.indexOf("/* hot-reload:patch-prototype-methods */")!==-1)return A=>{var H,U;for(const G in A){const j=A[G];if(console.log(`[hot-reload] Patching prototype methods of '${G}'`,{exportedItem:j}),typeof j=="function"&&j.prototype){const W=V[G];if(W){for(const K of Object.getOwnPropertyNames(j.prototype)){const m=Object.getOwnPropertyDescriptor(j.prototype,K),J=Object.getOwnPropertyDescriptor(W.prototype,K);((H=m==null?void 0:m.value)===null||H===void 0?void 0:H.toString())!==((U=J==null?void 0:J.value)===null||U===void 0?void 0:U.toString())&&console.log(`[hot-reload] Patching prototype method '${G}.${K}'`),Object.defineProperty(W.prototype,K,m)}A[G]=W}}}return!0}});var M=e(5976),D=e(99692),p=e(45476),o=e(50187),d=e(24314),u=e(45035);function i(V,R,A,H){if(V.length===0)return R;if(R.length===0)return V;const U=[];let G=0,j=0;for(;G<V.length&&j<R.length;){const W=V[G],K=R[j],m=A(W),J=A(K);m<J?(U.push(W),G++):m>J?(U.push(K),j++):(U.push(H(W,K)),G++,j++)}for(;G<V.length;)U.push(V[G]),G++;for(;j<R.length;)U.push(R[j]),j++;return U}function n(V,R){const A=new M.SL,H=V.createDecorationsCollection();return A.add((0,D.UV)({debugName:()=>`Apply decorations from ${R.debugName}`},U=>{const G=R.read(U);H.set(G)})),A.add({dispose:()=>{H.clear()}}),A}function f(V,R){return V.appendChild(R),(0,M.OF)(()=>{V.removeChild(R)})}class v extends M.JT{get width(){return this._width}get height(){return this._height}constructor(R,A){super(),this.elementSizeObserver=this._register(new p.I(R,A)),this._width=(0,D.uh)(this,this.elementSizeObserver.getWidth()),this._height=(0,D.uh)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(H=>(0,D.PS)(U=>{this._width.set(this.elementSizeObserver.getWidth(),U),this._height.set(this.elementSizeObserver.getHeight(),U)})))}observe(R){this.elementSizeObserver.observe(R)}setAutomaticLayout(R){R?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function a(V,R,A){let H=R.get(),U=H,G=H;const j=(0,D.uh)("animatedValue",H);let W=-1;const K=300;let m;A.add((0,D.nJ)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(X,ie)=>(X.didChange(R)&&(ie.animate=ie.animate||X.change),!0)},(X,ie)=>{m!==void 0&&(V.cancelAnimationFrame(m),m=void 0),U=G,H=R.read(X),W=Date.now()-(ie.animate?0:K),J()}));function J(){const X=Date.now()-W;G=Math.floor(S(X,U,H-U,K)),X<K?m=V.requestAnimationFrame(J):G=H,j.set(G,void 0)}return j}function S(V,R,A,H){return V===H?R+A:A*(-Math.pow(2,-10*V/H)+1)+R}class g extends M.JT{constructor(R,A,H){super(),this._register(new C(R,H)),this._register(L(H,{height:A.actualHeight,top:A.actualTop}))}}class y{get afterLineNumber(){return this._afterLineNumber.get()}constructor(R,A){this._afterLineNumber=R,this.heightInPx=A,this.domNode=document.createElement("div"),this._actualTop=(0,D.uh)(this,void 0),this._actualHeight=(0,D.uh)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=H=>{this._actualTop.set(H,void 0)},this.onComputedHeight=H=>{this._actualHeight.set(H,void 0)}}}class C{constructor(R,A){this._editor=R,this._domElement=A,this._overlayWidgetId=`managedOverlayWidget-${C._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}C._counter=0;function L(V,R){return(0,D.EH)(A=>{for(let[H,U]of Object.entries(R))U&&typeof U=="object"&&"read"in U&&(U=U.read(A)),typeof U=="number"&&(U=`${U}px`),H=H.replace(/[A-Z]/g,G=>"-"+G.toLowerCase()),V.style[H]=U})}function O(V,R){return T([V],R),V}function T(V,R){E()&&(0,D.aq)("reload",H=>c(({oldExports:U})=>{if([...Object.values(U)].some(G=>V.includes(G)))return G=>(H(void 0),!0)})).read(R)}function F(V,R,A,H){const U=new M.SL,G=[];return U.add((0,D.gp)((j,W)=>{const K=R.read(j),m=new Map,J=new Map;A&&A(!0),V.changeViewZones(X=>{for(const ie of G)X.removeZone(ie),H==null||H.delete(ie);G.length=0;for(const ie of K){const le=X.addZone(ie);ie.setZoneId&&ie.setZoneId(le),G.push(le),H==null||H.add(le),m.set(ie,le)}}),A&&A(!1),W.add((0,D.nJ)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(X,ie){const le=J.get(X.changedObservable);return le!==void 0&&ie.zoneIds.push(le),!0}},(X,ie)=>{for(const le of K)le.onChange&&(J.set(le.onChange,m.get(le)),le.onChange.read(X));A&&A(!0),V.changeViewZones(le=>{for(const fe of ie.zoneIds)le.layoutZone(fe)}),A&&A(!1)}))})),U.add({dispose(){A&&A(!0),V.changeViewZones(j=>{for(const W of G)j.removeZone(W)}),H==null||H.clear(),A&&A(!1)}}),U}class B extends z.A{dispose(){super.dispose(!0)}}function $(V,R){const A=(0,b.dF)(R,U=>U.original.startLineNumber<=V.lineNumber);if(!A)return d.e.fromPositions(V);if(A.original.endLineNumberExclusive<=V.lineNumber){const U=V.lineNumber-A.original.endLineNumberExclusive+A.modified.endLineNumberExclusive;return d.e.fromPositions(new o.L(U,V.column))}if(!A.innerChanges)return d.e.fromPositions(new o.L(A.modified.startLineNumber,1));const H=(0,b.dF)(A.innerChanges,U=>U.originalRange.getStartPosition().isBeforeOrEqual(V));if(!H){const U=V.lineNumber-A.original.startLineNumber+A.modified.startLineNumber;return d.e.fromPositions(new o.L(U,V.column))}if(H.originalRange.containsPosition(V))return H.modifiedRange;{const U=Y(H.originalRange.getEndPosition(),V);return d.e.fromPositions(P(H.modifiedRange.getEndPosition(),U))}}function Y(V,R){return V.lineNumber===R.lineNumber?new u.OE(0,R.column-V.column):new u.OE(R.lineNumber-V.lineNumber,R.column-1)}function P(V,R){return R.lineCount===0?new o.L(V.lineNumber,V.column+R.columnCount):new o.L(V.lineNumber+R.lineCount,R.columnCount+1)}function w(V,R,A){const H=V.bindTo(R);return(0,D.UV)({debugName:()=>`Update ${V.key}`},U=>{H.set(A(U))})}},84527:function(Pt,Ke,e){"use strict";e.d(Ke,{H:function(){return i}});var b=e(36248),z=e(11640),r=e(46445),E=e(4256),c=e(71922),_=e(31106),I=e(94565),M=e(32064),D=e(72065),p=e(48894),o=e(97781),d=function(n,f,v,a){var S=arguments.length,g=S<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,v):a,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(n,f,v,a);else for(var C=n.length-1;C>=0;C--)(y=n[C])&&(g=(S<3?y(g):S>3?y(f,v,g):y(f,v))||g);return S>3&&g&&Object.defineProperty(f,v,g),g},u=function(n,f){return function(v,a){f(v,a,n)}};let i=class extends r.Gm{constructor(f,v,a,S,g,y,C,L,O,T,F,B,$){super(f,Ln(Xi({},S.getRawOptions()),{overflowWidgetsDomNode:S.getOverflowWidgetsDomNode()}),a,g,y,C,L,O,T,F,B,$),this._parentEditor=S,this._overwriteOptions=v,super.updateOptions(this._overwriteOptions),this._register(S.onDidChangeConfiguration(Y=>this._onParentConfigurationChanged(Y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(f){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(f){b.jB(this._overwriteOptions,f,!0),super.updateOptions(this._overwriteOptions)}};i=d([u(4,D.TG),u(5,z.$),u(6,I.H),u(7,M.i6),u(8,o.XE),u(9,p.lT),u(10,_.F7),u(11,E.c_),u(12,c.p)],i)},61329:function(Pt,Ke,e){"use strict";e.d(Ke,{OY:function(){return r},Sj:function(){return E},T4:function(){return z},Uo:function(){return c},hP:function(){return _}});var b=e(3860);class z{constructor(M,D,p=!1){this._range=M,this._text=D,this.insertsAutoWhitespace=p}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromPositions(o.getEndPosition())}}class r{constructor(M,D){this._range=M,this._text=D}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromRange(o,0)}}class E{constructor(M,D,p=!1){this._range=M,this._text=D,this.insertsAutoWhitespace=p}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromPositions(o.getStartPosition())}}class c{constructor(M,D,p,o,d=!1){this._range=M,this._text=D,this._columnDeltaOffset=o,this._lineNumberDeltaOffset=p,this.insertsAutoWhitespace=d}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,D){const o=D.getInverseEditOperations()[0].range;return b.Y.fromPositions(o.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class _{constructor(M,D,p,o=!1){this._range=M,this._text=D,this._initialSelection=p,this._forceMoveMarkers=o,this._selectionId=null}getEditOperations(M,D){D.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=D.trackSelection(this._initialSelection)}computeCursorState(M,D){return D.getTrackedSelection(this._selectionId)}}},10291:function(Pt,Ke,e){"use strict";e.d(Ke,{U:function(){return d}});var b=e(97295),z=e(7988),r=e(24314),E=e(3860),c=e(1615),_=e(4256),I=function(u,i,n,f){var v=arguments.length,a=v<3?i:f===null?f=Object.getOwnPropertyDescriptor(i,n):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(u,i,n,f);else for(var g=u.length-1;g>=0;g--)(S=u[g])&&(a=(v<3?S(a):v>3?S(i,n,a):S(i,n))||a);return v>3&&a&&Object.defineProperty(i,n,a),a},M=function(u,i){return function(n,f){i(n,f,u)}},D;const p=Object.create(null);function o(u,i){if(i<=0)return"";p[u]||(p[u]=["",u]);const n=p[u];for(let f=n.length;f<=i;f++)n[f]=n[f-1]+u;return n[i]}let d=D=class{static unshiftIndent(i,n,f,v,a){const S=z.i.visibleColumnFromColumn(i,n,f);if(a){const g=o(" ",v),C=z.i.prevIndentTabStop(S,v)/v;return o(g,C)}else{const g="	",C=z.i.prevRenderTabStop(S,f)/f;return o(g,C)}}static shiftIndent(i,n,f,v,a){const S=z.i.visibleColumnFromColumn(i,n,f);if(a){const g=o(" ",v),C=z.i.nextIndentTabStop(S,v)/v;return o(g,C)}else{const g="	",C=z.i.nextRenderTabStop(S,f)/f;return o(g,C)}}constructor(i,n,f){this._languageConfigurationService=f,this._opts=n,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,n,f){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(n,f):i.addEditOperation(n,f)}getEditOperations(i,n){const f=this._selection.startLineNumber;let v=this._selection.endLineNumber;this._selection.endColumn===1&&f!==v&&(v=v-1);const{tabSize:a,indentSize:S,insertSpaces:g}=this._opts,y=f===v;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(f))&&(this._useLastEditRangeForCursorEndPosition=!0);let C=0,L=0;for(let O=f;O<=v;O++,C=L){L=0;const T=i.getLineContent(O);let F=b.LC(T);if(this._opts.isUnshift&&(T.length===0||F===0)||!y&&!this._opts.isUnshift&&T.length===0)continue;if(F===-1&&(F=T.length),O>1&&z.i.visibleColumnFromColumn(T,F+1,a)%S!==0&&i.tokenization.isCheapToTokenize(O-1)){const Y=(0,c.A)(this._opts.autoIndent,i,new r.e(O-1,i.getLineMaxColumn(O-1),O-1,i.getLineMaxColumn(O-1)),this._languageConfigurationService);if(Y){if(L=C,Y.appendText)for(let P=0,w=Y.appendText.length;P<w&&L<S&&Y.appendText.charCodeAt(P)===32;P++)L++;Y.removeText&&(L=Math.max(0,L-Y.removeText));for(let P=0;P<L&&!(F===0||T.charCodeAt(F-1)!==32);P++)F--}}if(this._opts.isUnshift&&F===0)continue;let B;this._opts.isUnshift?B=D.unshiftIndent(T,F+1,a,S,g):B=D.shiftIndent(T,F+1,a,S,g),this._addEditOperation(n,new r.e(O,1,O,F+1),B),O===f&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=F+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(f)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const C=g?o(" ",S):"	";for(let L=f;L<=v;L++){const O=i.getLineContent(L);let T=b.LC(O);if(!(this._opts.isUnshift&&(O.length===0||T===0))&&!(!y&&!this._opts.isUnshift&&O.length===0)&&(T===-1&&(T=O.length),!(this._opts.isUnshift&&T===0)))if(this._opts.isUnshift){T=Math.min(T,S);for(let F=0;F<T;F++)if(O.charCodeAt(F)===9){T=F+1;break}this._addEditOperation(n,new r.e(L,1,L,T+1),"")}else this._addEditOperation(n,new r.e(L,1,L,1),C),L===f&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(i,n){if(this._useLastEditRangeForCursorEndPosition){const v=n.getInverseEditOperations()[0];return new E.Y(v.range.endLineNumber,v.range.endColumn,v.range.endLineNumber,v.range.endColumn)}const f=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const v=this._selection.startColumn;return f.startColumn<=v?f:f.getDirection()===0?new E.Y(f.startLineNumber,v,f.endLineNumber,f.endColumn):new E.Y(f.endLineNumber,f.endColumn,f.startLineNumber,v)}return f}};d=D=I([M(2,_.c_)],d)},15115:function(Pt,Ke,e){"use strict";e.d(Ke,{k:function(){return b}});const b={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}},800:function(Pt,Ke,e){"use strict";e.d(Ke,{Pe:function(){return u},ei:function(){return d},wk:function(){return I}});var b=e(15115),z=e(64141),r=e(22075),E=e(63580),c=e(23193),_=e(89872);const I=Object.freeze({id:"editor",order:5,type:"object",title:E.NC("editorConfigurationTitle","Editor"),scope:5}),M=Ln(Xi({},I),{properties:{"editor.tabSize":{type:"number",default:r.D.tabSize,minimum:1,markdownDescription:E.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:E.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:r.D.insertSpaces,markdownDescription:E.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:r.D.detectIndentation,markdownDescription:E.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:r.D.trimAutoWhitespace,description:E.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:r.D.largeFileOptimizations,description:E.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[E.NC("wordBasedSuggestions.off","Turn off Word Based Suggestions."),E.NC("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),E.NC("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),E.NC("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:E.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[E.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),E.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),E.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:E.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:E.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:E.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:E.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:E.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:E.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:E.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:E.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:E.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:E.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:E.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:E.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:b.k.maxComputationTime,description:E.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:b.k.maxFileSize,description:E.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:b.k.renderSideBySide,description:E.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:b.k.renderSideBySideInlineBreakpoint,description:E.NC("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:b.k.useInlineViewWhenSpaceIsLimited,description:E.NC("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:b.k.renderMarginRevertIcon,description:E.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:b.k.ignoreTrimWhitespace,description:E.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:b.k.renderIndicators,description:E.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:b.k.diffCodeLens,description:E.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:b.k.diffWordWrap,markdownEnumDescriptions:[E.NC("wordWrap.off","Lines will never wrap."),E.NC("wordWrap.on","Lines will wrap at the viewport width."),E.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:b.k.diffAlgorithm,markdownEnumDescriptions:[E.NC("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),E.NC("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:b.k.hideUnchangedRegions.enabled,markdownDescription:E.NC("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:b.k.hideUnchangedRegions.revealLineCount,markdownDescription:E.NC("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:b.k.hideUnchangedRegions.minimumLineCount,markdownDescription:E.NC("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:b.k.hideUnchangedRegions.contextLineCount,markdownDescription:E.NC("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:b.k.experimental.showMoves,markdownDescription:E.NC("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:b.k.experimental.showEmptyDecorations,description:E.NC("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});function D(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of z.Bc){const f=n.schema;if(typeof f!="undefined")if(D(f))M.properties[`editor.${n.name}`]=f;else for(const v in f)Object.hasOwnProperty.call(f,v)&&(M.properties[v]=f[v])}let p=null;function o(){return p===null&&(p=Object.create(null),Object.keys(M.properties).forEach(n=>{p[n]=!0})),p}function d(n){return o()[`editor.${n}`]||!1}function u(n){return o()[`diffEditor.${n}`]||!1}_.B.as(c.IP.Configuration).registerConfiguration(M)},64141:function(Pt,Ke,e){"use strict";e.d(Ke,{$J:function(){return ne},Av:function(){return ye},BH:function(){return Bt},Bb:function(){return M},Bc:function(){return Ct},Bo:function(){return H},JO:function(){return X},LJ:function(){return D},L_:function(){return S},NY:function(){return C},O7:function(){return n},Zc:function(){return v},d2:function(){return Y},gk:function(){return m},hL:function(){return Xt},n0:function(){return A},qt:function(){return _e},rk:function(){return o},y0:function(){return I}});var b=e(9488),z=e(36248),r=e(1432),E=e(22075),c=e(270),_=e(63580);const I=8;class M{constructor(Ge){this._values=Ge}hasChanged(Ge){return this._values[Ge]}}class D{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class p{constructor(Ge,St,Ci,Oi){this.id=Ge,this.name=St,this.defaultValue=Ci,this.schema=Oi}applyUpdate(Ge,St){return d(Ge,St)}compute(Ge,St,Ci){return Ci}}class o{constructor(Ge,St){this.newValue=Ge,this.didChange=St}}function d(kt,Ge){if(typeof kt!="object"||typeof Ge!="object"||!kt||!Ge)return new o(Ge,kt!==Ge);if(Array.isArray(kt)||Array.isArray(Ge)){const Ci=Array.isArray(kt)&&Array.isArray(Ge)&&b.fS(kt,Ge);return new o(Ge,!Ci)}let St=!1;for(const Ci in Ge)if(Ge.hasOwnProperty(Ci)){const Oi=d(kt[Ci],Ge[Ci]);Oi.didChange&&(kt[Ci]=Oi.newValue,St=!0)}return new o(kt,St)}class u{constructor(Ge){this.schema=void 0,this.id=Ge,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ge,St){return d(Ge,St)}validate(Ge){return this.defaultValue}}class i{constructor(Ge,St,Ci,Oi){this.id=Ge,this.name=St,this.defaultValue=Ci,this.schema=Oi}applyUpdate(Ge,St){return d(Ge,St)}validate(Ge){return typeof Ge=="undefined"?this.defaultValue:Ge}compute(Ge,St,Ci){return Ci}}function n(kt,Ge){return typeof kt=="undefined"?Ge:kt==="false"?!1:!!kt}class f extends i{constructor(Ge,St,Ci,Oi=void 0){typeof Oi!="undefined"&&(Oi.type="boolean",Oi.default=Ci),super(Ge,St,Ci,Oi)}validate(Ge){return n(Ge,this.defaultValue)}}function v(kt,Ge,St,Ci){if(typeof kt=="undefined")return Ge;let Oi=parseInt(kt,10);return isNaN(Oi)?Ge:(Oi=Math.max(St,Oi),Oi=Math.min(Ci,Oi),Oi|0)}class a extends i{static clampedInt(Ge,St,Ci,Oi){return v(Ge,St,Ci,Oi)}constructor(Ge,St,Ci,Oi,xi,Yi=void 0){typeof Yi!="undefined"&&(Yi.type="integer",Yi.default=Ci,Yi.minimum=Oi,Yi.maximum=xi),super(Ge,St,Ci,Yi),this.minimum=Oi,this.maximum=xi}validate(Ge){return a.clampedInt(Ge,this.defaultValue,this.minimum,this.maximum)}}function S(kt,Ge,St,Ci){if(typeof kt=="undefined")return Ge;const Oi=g.float(kt,Ge);return g.clamp(Oi,St,Ci)}class g extends i{static clamp(Ge,St,Ci){return Ge<St?St:Ge>Ci?Ci:Ge}static float(Ge,St){if(typeof Ge=="number")return Ge;if(typeof Ge=="undefined")return St;const Ci=parseFloat(Ge);return isNaN(Ci)?St:Ci}constructor(Ge,St,Ci,Oi,xi){typeof xi!="undefined"&&(xi.type="number",xi.default=Ci),super(Ge,St,Ci,xi),this.validationFn=Oi}validate(Ge){return this.validationFn(g.float(Ge,this.defaultValue))}}class y extends i{static string(Ge,St){return typeof Ge!="string"?St:Ge}constructor(Ge,St,Ci,Oi=void 0){typeof Oi!="undefined"&&(Oi.type="string",Oi.default=Ci),super(Ge,St,Ci,Oi)}validate(Ge){return y.string(Ge,this.defaultValue)}}function C(kt,Ge,St,Ci){return typeof kt!="string"?Ge:Ci&&kt in Ci?Ci[kt]:St.indexOf(kt)===-1?Ge:kt}class L extends i{constructor(Ge,St,Ci,Oi,xi=void 0){typeof xi!="undefined"&&(xi.type="string",xi.enum=Oi,xi.default=Ci),super(Ge,St,Ci,xi),this._allowedValues=Oi}validate(Ge){return C(Ge,this.defaultValue,this._allowedValues)}}class O extends p{constructor(Ge,St,Ci,Oi,xi,Yi,fn=void 0){typeof fn!="undefined"&&(fn.type="string",fn.enum=xi,fn.default=Oi),super(Ge,St,Ci,fn),this._allowedValues=xi,this._convert=Yi}validate(Ge){return typeof Ge!="string"?this.defaultValue:this._allowedValues.indexOf(Ge)===-1?this.defaultValue:this._convert(Ge)}}function T(kt){switch(kt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class F extends p{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),_.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader."),_.NC("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:_.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Ge){switch(Ge){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ge,St,Ci){return Ci===0?Ge.accessibilitySupport:Ci}}class B extends p{constructor(){const Ge={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",Ge,{"editor.comments.insertSpace":{type:"boolean",default:Ge.insertSpace,description:_.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ge.ignoreEmptyLines,description:_.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{insertSpace:n(St.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:n(St.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function $(kt){switch(kt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Y;(function(kt){kt[kt.Line=1]="Line",kt[kt.Block=2]="Block",kt[kt.Underline=3]="Underline",kt[kt.LineThin=4]="LineThin",kt[kt.BlockOutline=5]="BlockOutline",kt[kt.UnderlineThin=6]="UnderlineThin"})(Y||(Y={}));function P(kt){switch(kt){case"line":return Y.Line;case"block":return Y.Block;case"underline":return Y.Underline;case"line-thin":return Y.LineThin;case"block-outline":return Y.BlockOutline;case"underline-thin":return Y.UnderlineThin}}class w extends u{constructor(){super(140)}compute(Ge,St,Ci){const Oi=["monaco-editor"];return St.get(39)&&Oi.push(St.get(39)),Ge.extraEditorClassName&&Oi.push(Ge.extraEditorClassName),St.get(73)==="default"?Oi.push("mouse-default"):St.get(73)==="copy"&&Oi.push("mouse-copy"),St.get(110)&&Oi.push("showUnused"),St.get(138)&&Oi.push("showDeprecated"),Oi.join(" ")}}class V extends f{constructor(){super(37,"emptySelectionClipboard",!0,{description:_.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ge,St,Ci){return Ci&&Ge.emptySelectionClipboard}}class R extends p{constructor(){const Ge={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",Ge,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ge.cursorMoveOnType,description:_.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ge.seedSearchStringFromSelection,enumDescriptions:[_.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),_.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),_.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:_.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ge.autoFindInSelection,enumDescriptions:[_.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),_.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),_.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:_.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ge.globalFindClipboard,description:_.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ge.addExtraSpaceOnTop,description:_.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ge.loop,description:_.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{cursorMoveOnType:n(St.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Ge.seedSearchStringFromSelection=="boolean"?Ge.seedSearchStringFromSelection?"always":"never":C(St.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Ge.autoFindInSelection=="boolean"?Ge.autoFindInSelection?"always":"never":C(St.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:n(St.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:n(St.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:n(St.loop,this.defaultValue.loop)}}}class A extends p{constructor(){super(51,"fontLigatures",A.OFF,{anyOf:[{type:"boolean",description:_.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:_.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:_.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ge){return typeof Ge=="undefined"?this.defaultValue:typeof Ge=="string"?Ge==="false"?A.OFF:Ge==="true"?A.ON:Ge:Ge?A.ON:A.OFF}}A.OFF='"liga" off, "calt" off',A.ON='"liga" on, "calt" on';class H extends p{constructor(){super(54,"fontVariations",H.OFF,{anyOf:[{type:"boolean",description:_.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:_.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:_.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Ge){return typeof Ge=="undefined"?this.defaultValue:typeof Ge=="string"?Ge==="false"?H.OFF:Ge==="true"?H.TRANSLATE:Ge:Ge?H.TRANSLATE:H.OFF}compute(Ge,St,Ci){return Ge.fontInfo.fontVariationSettings}}H.OFF="normal",H.TRANSLATE="translate";class U extends u{constructor(){super(50)}compute(Ge,St,Ci){return Ge.fontInfo}}class G extends i{constructor(){super(52,"fontSize",Xt.fontSize,{type:"number",minimum:6,maximum:100,default:Xt.fontSize,description:_.NC("fontSize","Controls the font size in pixels.")})}validate(Ge){const St=g.float(Ge,this.defaultValue);return St===0?Xt.fontSize:g.clamp(St,6,100)}compute(Ge,St,Ci){return Ge.fontInfo.fontSize}}class j extends p{constructor(){super(53,"fontWeight",Xt.fontWeight,{anyOf:[{type:"number",minimum:j.MINIMUM_VALUE,maximum:j.MAXIMUM_VALUE,errorMessage:_.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:j.SUGGESTION_VALUES}],default:Xt.fontWeight,description:_.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ge){return Ge==="normal"||Ge==="bold"?Ge:String(a.clampedInt(Ge,Xt.fontWeight,j.MINIMUM_VALUE,j.MAXIMUM_VALUE))}}j.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],j.MINIMUM_VALUE=1,j.MAXIMUM_VALUE=1e3;class W extends p{constructor(){const Ge={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},St={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ge.multiple,enumDescriptions:[_.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),_.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),_.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Ci=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",Ge,{"editor.gotoLocation.multiple":{deprecationMessage:_.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Xi({description:_.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleTypeDefinitions":Xi({description:_.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleDeclarations":Xi({description:_.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleImplementations":Xi({description:_.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleReferences":Xi({description:_.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},St),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ge.alternativeDefinitionCommand,enum:Ci,description:_.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ge.alternativeTypeDefinitionCommand,enum:Ci,description:_.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ge.alternativeDeclarationCommand,enum:Ci,description:_.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ge.alternativeImplementationCommand,enum:Ci,description:_.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ge.alternativeReferenceCommand,enum:Ci,description:_.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ge){var St,Ci,Oi,xi,Yi;if(!Ge||typeof Ge!="object")return this.defaultValue;const fn=Ge;return{multiple:C(fn.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(St=fn.multipleDefinitions)!==null&&St!==void 0?St:C(fn.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ci=fn.multipleTypeDefinitions)!==null&&Ci!==void 0?Ci:C(fn.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Oi=fn.multipleDeclarations)!==null&&Oi!==void 0?Oi:C(fn.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(xi=fn.multipleImplementations)!==null&&xi!==void 0?xi:C(fn.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Yi=fn.multipleReferences)!==null&&Yi!==void 0?Yi:C(fn.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(fn.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(fn.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(fn.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(fn.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(fn.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class K extends p{constructor(){const Ge={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",Ge,{"editor.hover.enabled":{type:"boolean",default:Ge.enabled,description:_.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ge.delay,minimum:0,maximum:1e4,description:_.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ge.sticky,description:_.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:Ge.hidingDelay,description:_.NC("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:Ge.above,description:_.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),delay:a.clampedInt(St.delay,this.defaultValue.delay,0,1e4),sticky:n(St.sticky,this.defaultValue.sticky),hidingDelay:a.clampedInt(St.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:n(St.above,this.defaultValue.above)}}}class m extends u{constructor(){super(143)}compute(Ge,St,Ci){return m.computeLayout(St,{memory:Ge.memory,outerWidth:Ge.outerWidth,outerHeight:Ge.outerHeight,isDominatedByLongLines:Ge.isDominatedByLongLines,lineHeight:Ge.fontInfo.lineHeight,viewLineCount:Ge.viewLineCount,lineNumbersDigitCount:Ge.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ge.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ge.fontInfo.maxDigitWidth,pixelRatio:Ge.pixelRatio,glyphMarginDecorationLaneCount:Ge.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(Ge){const St=Ge.height/Ge.lineHeight,Ci=Math.floor(Ge.paddingTop/Ge.lineHeight);let Oi=Math.floor(Ge.paddingBottom/Ge.lineHeight);Ge.scrollBeyondLastLine&&(Oi=Math.max(Oi,St-1));const xi=(Ci+Ge.viewLineCount+Oi)/(Ge.pixelRatio*Ge.height),Yi=Math.floor(Ge.viewLineCount/xi);return{typicalViewportLineCount:St,extraLinesBeforeFirstLine:Ci,extraLinesBeyondLastLine:Oi,desiredRatio:xi,minimapLineCount:Yi}}static _computeMinimapLayout(Ge,St){const Ci=Ge.outerWidth,Oi=Ge.outerHeight,xi=Ge.pixelRatio;if(!Ge.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(xi*Oi),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Oi};const Yi=St.stableMinimapLayoutInput,fn=Yi&&Ge.outerHeight===Yi.outerHeight&&Ge.lineHeight===Yi.lineHeight&&Ge.typicalHalfwidthCharacterWidth===Yi.typicalHalfwidthCharacterWidth&&Ge.pixelRatio===Yi.pixelRatio&&Ge.scrollBeyondLastLine===Yi.scrollBeyondLastLine&&Ge.paddingTop===Yi.paddingTop&&Ge.paddingBottom===Yi.paddingBottom&&Ge.minimap.enabled===Yi.minimap.enabled&&Ge.minimap.side===Yi.minimap.side&&Ge.minimap.size===Yi.minimap.size&&Ge.minimap.showSlider===Yi.minimap.showSlider&&Ge.minimap.renderCharacters===Yi.minimap.renderCharacters&&Ge.minimap.maxColumn===Yi.minimap.maxColumn&&Ge.minimap.scale===Yi.minimap.scale&&Ge.verticalScrollbarWidth===Yi.verticalScrollbarWidth&&Ge.isViewportWrapping===Yi.isViewportWrapping,un=Ge.lineHeight,Pn=Ge.typicalHalfwidthCharacterWidth,Dn=Ge.scrollBeyondLastLine,Gn=Ge.minimap.renderCharacters;let Rn=xi>=2?Math.round(Ge.minimap.scale*2):Ge.minimap.scale;const ns=Ge.minimap.maxColumn,ts=Ge.minimap.size,qn=Ge.minimap.side,fs=Ge.verticalScrollbarWidth,Nn=Ge.viewLineCount,cs=Ge.remainingWidth,Ei=Ge.isViewportWrapping,et=Gn?2:3;let wt=Math.floor(xi*Oi);const Yt=wt/xi;let ri=!1,vi=!1,Wi=et*Rn,$i=Rn/xi,Ot=1;if(ts==="fill"||ts==="fit"){const{typicalViewportLineCount:In,extraLinesBeforeFirstLine:Fn,extraLinesBeyondLastLine:On,desiredRatio:Mi,minimapLineCount:_i}=m.computeContainedMinimapLineCount({viewLineCount:Nn,scrollBeyondLastLine:Dn,paddingTop:Ge.paddingTop,paddingBottom:Ge.paddingBottom,height:Oi,lineHeight:un,pixelRatio:xi});if(Nn/_i>1)ri=!0,vi=!0,Rn=1,Wi=1,$i=Rn/xi;else{let Ht=!1,Zt=Rn+1;if(ts==="fit"){const hi=Math.ceil((Fn+Nn+On)*Wi);Ei&&fn&&cs<=St.stableFitRemainingWidth?(Ht=!0,Zt=St.stableFitMaxMinimapScale):Ht=hi>wt}if(ts==="fill"||Ht){ri=!0;const hi=Rn;Wi=Math.min(un*xi,Math.max(1,Math.floor(1/Mi))),Ei&&fn&&cs<=St.stableFitRemainingWidth&&(Zt=St.stableFitMaxMinimapScale),Rn=Math.min(Zt,Math.max(1,Math.floor(Wi/et))),Rn>hi&&(Ot=Math.min(2,Rn/hi)),$i=Rn/xi/Ot,wt=Math.ceil(Math.max(In,Fn+Nn+On)*Wi),Ei?(St.stableMinimapLayoutInput=Ge,St.stableFitRemainingWidth=cs,St.stableFitMaxMinimapScale=Rn):(St.stableMinimapLayoutInput=null,St.stableFitRemainingWidth=0)}}}const yt=Math.floor(ns*$i),si=Math.min(yt,Math.max(0,Math.floor((cs-fs-2)*$i/(Pn+$i)))+I);let ii=Math.floor(xi*si);const Ui=ii/xi;ii=Math.floor(ii*Ot);const an=Gn?1:2,en=qn==="left"?0:Ci-si-fs;return{renderMinimap:an,minimapLeft:en,minimapWidth:si,minimapHeightIsEditorHeight:ri,minimapIsSampling:vi,minimapScale:Rn,minimapLineHeight:Wi,minimapCanvasInnerWidth:ii,minimapCanvasInnerHeight:wt,minimapCanvasOuterWidth:Ui,minimapCanvasOuterHeight:Yt}}static computeLayout(Ge,St){const Ci=St.outerWidth|0,Oi=St.outerHeight|0,xi=St.lineHeight|0,Yi=St.lineNumbersDigitCount|0,fn=St.typicalHalfwidthCharacterWidth,un=St.maxDigitWidth,Pn=St.pixelRatio,Dn=St.viewLineCount,Gn=Ge.get(135),Rn=Gn==="inherit"?Ge.get(134):Gn,ns=Rn==="inherit"?Ge.get(130):Rn,ts=Ge.get(133),qn=St.isDominatedByLongLines,fs=Ge.get(57),Nn=Ge.get(67).renderType!==0,cs=Ge.get(68),Ei=Ge.get(104),et=Ge.get(83),wt=Ge.get(72),Yt=Ge.get(102),ri=Yt.verticalScrollbarSize,vi=Yt.verticalHasArrows,Wi=Yt.arrowSize,$i=Yt.horizontalScrollbarSize,Ot=Ge.get(43),yt=Ge.get(109)!=="never";let si=Ge.get(65);Ot&&yt&&(si+=16);let ii=0;if(Nn){const qe=Math.max(Yi,cs);ii=Math.round(qe*un)}let Ui=0;fs&&(Ui=xi*St.glyphMarginDecorationLaneCount);let an=0,en=an+Ui,In=en+ii,Fn=In+si;const On=Ci-Ui-ii-si;let Mi=!1,_i=!1,Ii=-1;Rn==="inherit"&&qn?(Mi=!0,_i=!0):ns==="on"||ns==="bounded"?_i=!0:ns==="wordWrapColumn"&&(Ii=ts);const Ht=m._computeMinimapLayout({outerWidth:Ci,outerHeight:Oi,lineHeight:xi,typicalHalfwidthCharacterWidth:fn,pixelRatio:Pn,scrollBeyondLastLine:Ei,paddingTop:et.top,paddingBottom:et.bottom,minimap:wt,verticalScrollbarWidth:ri,viewLineCount:Dn,remainingWidth:On,isViewportWrapping:_i},St.memory||new D);Ht.renderMinimap!==0&&Ht.minimapLeft===0&&(an+=Ht.minimapWidth,en+=Ht.minimapWidth,In+=Ht.minimapWidth,Fn+=Ht.minimapWidth);const Zt=On-Ht.minimapWidth,hi=Math.max(1,Math.floor((Zt-ri-2)/fn)),Wt=vi?Wi:0;return _i&&(Ii=Math.max(1,hi),ns==="bounded"&&(Ii=Math.min(Ii,ts))),{width:Ci,height:Oi,glyphMarginLeft:an,glyphMarginWidth:Ui,glyphMarginDecorationLaneCount:St.glyphMarginDecorationLaneCount,lineNumbersLeft:en,lineNumbersWidth:ii,decorationsLeft:In,decorationsWidth:si,contentLeft:Fn,contentWidth:Zt,minimap:Ht,viewportColumn:hi,isWordWrapMinified:Mi,isViewportWrapping:_i,wrappingColumn:Ii,verticalScrollbarWidth:ri,horizontalScrollbarHeight:$i,overviewRuler:{top:Wt,width:ri,height:Oi-2*Wt,right:0}}}}class J extends p{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[_.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),_.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:_.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Ge){return C(Ge,"simple",["simple","advanced"])}compute(Ge,St,Ci){return St.get(2)===2?"advanced":Ci}}var X;(function(kt){kt.Off="off",kt.OnCode="onCode",kt.On="on"})(X||(X={}));class ie extends p{constructor(){const Ge={enabled:!0,experimental:{showAiIcon:X.Off}};super(64,"lightbulb",Ge,{"editor.lightbulb.enabled":{type:"boolean",default:Ge.enabled,description:_.NC("codeActions","Enables the Code Action lightbulb in the editor.")},"editor.lightbulb.experimental.showAiIcon":{type:"string",enum:[X.Off,X.OnCode,X.On],default:Ge.experimental.showAiIcon,enumDescriptions:[_.NC("editor.lightbulb.showAiIcon.off","Don not show the AI icon."),_.NC("editor.lightbulb.showAiIcon.onCode","Show an AI icon when the code action menu contains an AI action, but only on code."),_.NC("editor.lightbulb.showAiIcon.on","Show an AI icon when the code action menu contains an AI action, on code and empty lines.")],description:_.NC("showAiIcons","Show an AI icon along with the lightbulb when the code action menu contains an AI action.")}})}validate(Ge){var St,Ci;if(!Ge||typeof Ge!="object")return this.defaultValue;const Oi=Ge;return{enabled:n(Oi.enabled,this.defaultValue.enabled),experimental:{showAiIcon:C((St=Oi.experimental)===null||St===void 0?void 0:St.showAiIcon,(Ci=this.defaultValue.experimental)===null||Ci===void 0?void 0:Ci.showAiIcon,[X.Off,X.OnCode,X.On])}}}}class le extends p{constructor(){const Ge={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",Ge,{"editor.stickyScroll.enabled":{type:"boolean",default:Ge.enabled,description:_.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Ge.maxLineCount,minimum:1,maximum:10,description:_.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Ge.defaultModel,description:_.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:Ge.scrollWithEditor,description:_.NC("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),maxLineCount:a.clampedInt(St.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:C(St.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:n(St.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class fe extends p{constructor(){const Ge={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",Ge,{"editor.inlayHints.enabled":{type:"string",default:Ge.enabled,description:_.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[_.NC("editor.inlayHints.on","Inlay hints are enabled"),_.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",r.dz?"Ctrl+Option":"Ctrl+Alt"),_.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",r.dz?"Ctrl+Option":"Ctrl+Alt"),_.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ge.fontSize,markdownDescription:_.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ge.fontFamily,markdownDescription:_.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ge.padding,description:_.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return typeof St.enabled=="boolean"&&(St.enabled=St.enabled?"on":"off"),{enabled:C(St.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:a.clampedInt(St.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(St.fontFamily,this.defaultValue.fontFamily),padding:n(St.padding,this.defaultValue.padding)}}}class Le extends p{constructor(){super(65,"lineDecorationsWidth",10)}validate(Ge){return typeof Ge=="string"&&/^\d+(\.\d+)?ch$/.test(Ge)?-parseFloat(Ge.substring(0,Ge.length-2)):a.clampedInt(Ge,this.defaultValue,0,1e3)}compute(Ge,St,Ci){return Ci<0?a.clampedInt(-Ci*Ge.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Ci}}class pe extends g{constructor(){super(66,"lineHeight",Xt.lineHeight,Ge=>g.clamp(Ge,0,150),{markdownDescription:_.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Ge,St,Ci){return Ge.fontInfo.lineHeight}}class Te extends p{constructor(){const Ge={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",Ge,{"editor.minimap.enabled":{type:"boolean",default:Ge.enabled,description:_.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ge.autohide,description:_.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),_.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),_.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ge.size,description:_.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ge.side,description:_.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ge.showSlider,description:_.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ge.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ge.renderCharacters,description:_.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ge.maxColumn,description:_.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),autohide:n(St.autohide,this.defaultValue.autohide),size:C(St.size,this.defaultValue.size,["proportional","fill","fit"]),side:C(St.side,this.defaultValue.side,["right","left"]),showSlider:C(St.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:n(St.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(St.scale,1,1,3),maxColumn:a.clampedInt(St.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function De(kt){return kt==="ctrlCmd"?r.dz?"metaKey":"ctrlKey":"altKey"}class ae extends p{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{top:a.clampedInt(St.top,0,0,1e3),bottom:a.clampedInt(St.bottom,0,0,1e3)}}}class Ne extends p{constructor(){const Ge={enabled:!0,cycle:!0};super(85,"parameterHints",Ge,{"editor.parameterHints.enabled":{type:"boolean",default:Ge.enabled,description:_.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ge.cycle,description:_.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),cycle:n(St.cycle,this.defaultValue.cycle)}}}class We extends u{constructor(){super(141)}compute(Ge,St,Ci){return Ge.pixelRatio}}class ze extends p{constructor(){const Ge={other:"on",comments:"off",strings:"off"},St=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[_.NC("on","Quick suggestions show inside the suggest widget"),_.NC("inline","Quick suggestions show as ghost text"),_.NC("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",Ge,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:St,default:Ge.strings,description:_.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:St,default:Ge.comments,description:_.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:St,default:Ge.other,description:_.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ge,markdownDescription:_.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ge}validate(Ge){if(typeof Ge=="boolean"){const Pn=Ge?"on":"off";return{comments:Pn,strings:Pn,other:Pn}}if(!Ge||typeof Ge!="object")return this.defaultValue;const{other:St,comments:Ci,strings:Oi}=Ge,xi=["on","inline","off"];let Yi,fn,un;return typeof St=="boolean"?Yi=St?"on":"off":Yi=C(St,this.defaultValue.other,xi),typeof Ci=="boolean"?fn=Ci?"on":"off":fn=C(Ci,this.defaultValue.comments,xi),typeof Oi=="boolean"?un=Oi?"on":"off":un=C(Oi,this.defaultValue.strings,xi),{other:Yi,comments:fn,strings:un}}}class Se extends p{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.NC("lineNumbers.off","Line numbers are not rendered."),_.NC("lineNumbers.on","Line numbers are rendered as absolute number."),_.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),_.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:_.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ge){let St=this.defaultValue.renderType,Ci=this.defaultValue.renderFn;return typeof Ge!="undefined"&&(typeof Ge=="function"?(St=4,Ci=Ge):Ge==="interval"?St=3:Ge==="relative"?St=2:Ge==="on"?St=1:St=0),{renderType:St,renderFn:Ci}}}function ne(kt){const Ge=kt.get(97);return Ge==="editable"?kt.get(90):Ge!=="on"}class ce extends p{constructor(){const Ge=[],St={type:"number",description:_.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",Ge,{type:"array",items:{anyOf:[St,{type:["object"],properties:{column:St,color:{type:"string",description:_.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ge,description:_.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ge){if(Array.isArray(Ge)){const St=[];for(const Ci of Ge)if(typeof Ci=="number")St.push({column:a.clampedInt(Ci,0,0,1e4),color:null});else if(Ci&&typeof Ci=="object"){const Oi=Ci;St.push({column:a.clampedInt(Oi.column,0,0,1e4),color:Oi.color})}return St.sort((Ci,Oi)=>Ci.column-Oi.column),St}return this.defaultValue}}class Oe extends p{constructor(){super(91,"readOnlyMessage",void 0)}validate(Ge){return!Ge||typeof Ge!="object"?this.defaultValue:Ge}}function Pe(kt,Ge){if(typeof kt!="string")return Ge;switch(kt){case"hidden":return 2;case"visible":return 3;default:return 1}}class Me extends p{constructor(){const Ge={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",Ge,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),_.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),_.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:_.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),_.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),_.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:_.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ge.verticalScrollbarSize,description:_.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ge.horizontalScrollbarSize,description:_.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ge.scrollByPage,description:_.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:Ge.ignoreHorizontalScrollbarInContentHeight,description:_.NC("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge,Ci=a.clampedInt(St.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Oi=a.clampedInt(St.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(St.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Pe(St.vertical,this.defaultValue.vertical),horizontal:Pe(St.horizontal,this.defaultValue.horizontal),useShadows:n(St.useShadows,this.defaultValue.useShadows),verticalHasArrows:n(St.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:n(St.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:n(St.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:n(St.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ci,horizontalSliderSize:a.clampedInt(St.horizontalSliderSize,Ci,0,1e3),verticalScrollbarSize:Oi,verticalSliderSize:a.clampedInt(St.verticalSliderSize,Oi,0,1e3),scrollByPage:n(St.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:n(St.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}const ye="inUntrustedWorkspace",_e={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class se extends p{constructor(){const Ge={nonBasicASCII:ye,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:ye,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",Ge,{[_e.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ye],default:Ge.nonBasicASCII,description:_.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[_e.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ge.invisibleCharacters,description:_.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[_e.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ge.ambiguousCharacters,description:_.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[_e.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ye],default:Ge.includeComments,description:_.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[_e.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ye],default:Ge.includeStrings,description:_.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[_e.allowedCharacters]:{restricted:!0,type:"object",default:Ge.allowedCharacters,description:_.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[_e.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ge.allowedLocales,description:_.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ge,St){let Ci=!1;St.allowedCharacters&&Ge&&(z.fS(Ge.allowedCharacters,St.allowedCharacters)||(Ge=Ln(Xi({},Ge),{allowedCharacters:St.allowedCharacters}),Ci=!0)),St.allowedLocales&&Ge&&(z.fS(Ge.allowedLocales,St.allowedLocales)||(Ge=Ln(Xi({},Ge),{allowedLocales:St.allowedLocales}),Ci=!0));const Oi=super.applyUpdate(Ge,St);return Ci?new o(Oi.newValue,!0):Oi}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{nonBasicASCII:Ae(St.nonBasicASCII,ye,[!0,!1,ye]),invisibleCharacters:n(St.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:n(St.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Ae(St.includeComments,ye,[!0,!1,ye]),includeStrings:Ae(St.includeStrings,ye,[!0,!1,ye]),allowedCharacters:this.validateBooleanMap(Ge.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ge.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ge,St){if(typeof Ge!="object"||!Ge)return St;const Ci={};for(const[Oi,xi]of Object.entries(Ge))xi===!0&&(Ci[Oi]=!0);return Ci}}class ve extends p{constructor(){const Ge={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",Ge,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ge.enabled,description:_.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Ge.showToolbar,enum:["always","onHover","never"],enumDescriptions:[_.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),_.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),_.NC("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:_.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Ge.suppressSuggestions,description:_.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),mode:C(St.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:C(St.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:n(St.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:n(St.keepOnBlur,this.defaultValue.keepOnBlur)}}}class xe extends p{constructor(){const Ge={enabled:E.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:E.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",Ge,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ge.enabled,markdownDescription:_.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ge.independentColorPoolPerBracketType,description:_.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:n(St.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class je extends p{constructor(){const Ge={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",Ge,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[_.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),_.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),_.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ge.bracketPairs,description:_.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[_.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),_.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),_.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ge.bracketPairsHorizontal,description:_.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ge.highlightActiveBracketPair,description:_.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ge.indentation,description:_.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[_.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),_.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),_.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ge.highlightActiveIndentation,description:_.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{bracketPairs:Ae(St.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Ae(St.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:n(St.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:n(St.indentation,this.defaultValue.indentation),highlightActiveIndentation:Ae(St.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Ae(kt,Ge,St){const Ci=St.indexOf(kt);return Ci===-1?Ge:St[Ci]}class Qe extends p{constructor(){const Ge={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",Ge,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),_.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ge.insertMode,description:_.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ge.filterGraceful,description:_.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ge.localityBonus,description:_.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ge.shareSuggestSelections,markdownDescription:_.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[_.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),_.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),_.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),_.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Ge.selectionMode,markdownDescription:_.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ge.snippetsPreventQuickSuggestions,description:_.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ge.showIcons,description:_.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ge.showStatusBar,description:_.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ge.preview,description:_.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ge.showInlineDetails,description:_.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{insertMode:C(St.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:n(St.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:n(St.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:n(St.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:n(St.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:C(St.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:n(St.showIcons,this.defaultValue.showIcons),showStatusBar:n(St.showStatusBar,this.defaultValue.showStatusBar),preview:n(St.preview,this.defaultValue.preview),previewMode:C(St.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:n(St.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:n(St.showMethods,this.defaultValue.showMethods),showFunctions:n(St.showFunctions,this.defaultValue.showFunctions),showConstructors:n(St.showConstructors,this.defaultValue.showConstructors),showDeprecated:n(St.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:n(St.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:n(St.showFields,this.defaultValue.showFields),showVariables:n(St.showVariables,this.defaultValue.showVariables),showClasses:n(St.showClasses,this.defaultValue.showClasses),showStructs:n(St.showStructs,this.defaultValue.showStructs),showInterfaces:n(St.showInterfaces,this.defaultValue.showInterfaces),showModules:n(St.showModules,this.defaultValue.showModules),showProperties:n(St.showProperties,this.defaultValue.showProperties),showEvents:n(St.showEvents,this.defaultValue.showEvents),showOperators:n(St.showOperators,this.defaultValue.showOperators),showUnits:n(St.showUnits,this.defaultValue.showUnits),showValues:n(St.showValues,this.defaultValue.showValues),showConstants:n(St.showConstants,this.defaultValue.showConstants),showEnums:n(St.showEnums,this.defaultValue.showEnums),showEnumMembers:n(St.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:n(St.showKeywords,this.defaultValue.showKeywords),showWords:n(St.showWords,this.defaultValue.showWords),showColors:n(St.showColors,this.defaultValue.showColors),showFiles:n(St.showFiles,this.defaultValue.showFiles),showReferences:n(St.showReferences,this.defaultValue.showReferences),showFolders:n(St.showFolders,this.defaultValue.showFolders),showTypeParameters:n(St.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:n(St.showSnippets,this.defaultValue.showSnippets),showUsers:n(St.showUsers,this.defaultValue.showUsers),showIssues:n(St.showIssues,this.defaultValue.showIssues)}}}class rt extends p{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:_.NC("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(Ge){return!Ge||typeof Ge!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:n(Ge.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:n(Ge.selectSubwords,this.defaultValue.selectSubwords)}}}class Dt extends p{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[_.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),_.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),_.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),_.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:_.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Ge){switch(Ge){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Ge,St,Ci){return St.get(2)===2?0:Ci}}class at extends u{constructor(){super(144)}compute(Ge,St,Ci){const Oi=St.get(143);return{isDominatedByLongLines:Ge.isDominatedByLongLines,isWordWrapMinified:Oi.isWordWrapMinified,isViewportWrapping:Oi.isViewportWrapping,wrappingColumn:Oi.wrappingColumn}}}class vt extends p{constructor(){const Ge={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",Ge,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ge.enabled,markdownDescription:_.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `Shift`-key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:_.NC("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[_.NC("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),_.NC("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),showDropSelector:C(St.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Mt extends p{constructor(){const Ge={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",Ge,{"editor.pasteAs.enabled":{type:"boolean",default:Ge.enabled,markdownDescription:_.NC("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:_.NC("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[_.NC("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),_.NC("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(Ge){if(!Ge||typeof Ge!="object")return this.defaultValue;const St=Ge;return{enabled:n(St.enabled,this.defaultValue.enabled),showPasteSelector:C(St.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const ti="Consolas, 'Courier New', monospace",Ft="Menlo, Monaco, 'Courier New', monospace",ei="'Droid Sans Mono', 'monospace', monospace",Xt={fontFamily:r.dz?Ft:r.IJ?ei:ti,fontWeight:"normal",fontSize:r.dz?12:14,lineHeight:0,letterSpacing:0},Ct=[];function ft(kt){return Ct[kt.id]=kt,kt}const Bt={acceptSuggestionOnCommitCharacter:ft(new f(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ft(new L(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:_.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ft(new F),accessibilityPageSize:ft(new a(3,"accessibilityPageSize",10,1,1073741824,{description:_.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:ft(new y(4,"ariaLabel",_.NC("editorViewAccessibleLabel","Editor content"))),ariaRequired:ft(new f(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:ft(new f(8,"screenReaderAnnounceInlineSuggestion",!0,{description:_.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:ft(new L(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),_.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:_.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:ft(new L(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.NC("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),_.NC("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:_.NC("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:ft(new L(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:_.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ft(new L(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:_.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ft(new L(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),_.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:_.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ft(new O(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],T,{enumDescriptions:[_.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),_.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),_.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),_.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),_.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:_.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ft(new f(13,"automaticLayout",!1)),autoSurround:ft(new L(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),_.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),_.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:_.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ft(new xe),bracketPairGuides:ft(new je),stickyTabStops:ft(new f(115,"stickyTabStops",!1,{description:_.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ft(new f(17,"codeLens",!0,{description:_.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ft(new y(18,"codeLensFontFamily","",{description:_.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ft(new a(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:_.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:ft(new f(20,"colorDecorators",!0,{description:_.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:ft(new L(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[_.NC("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),_.NC("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),_.NC("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:_.NC("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:ft(new a(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:_.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:ft(new f(22,"columnSelection",!1,{description:_.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ft(new B),contextmenu:ft(new f(24,"contextmenu",!0)),copyWithSyntaxHighlighting:ft(new f(25,"copyWithSyntaxHighlighting",!0,{description:_.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ft(new O(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],$,{description:_.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ft(new L(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[_.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),_.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),_.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:_.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ft(new O(28,"cursorStyle",Y.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],P,{description:_.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ft(new a(29,"cursorSurroundingLines",0,0,1073741824,{description:_.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ft(new L(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),_.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:_.NC("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:ft(new a(31,"cursorWidth",0,0,1073741824,{markdownDescription:_.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ft(new f(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:ft(new f(33,"disableMonospaceOptimizations",!1)),domReadOnly:ft(new f(34,"domReadOnly",!1)),dragAndDrop:ft(new f(35,"dragAndDrop",!0,{description:_.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ft(new V),dropIntoEditor:ft(new vt),stickyScroll:ft(new le),experimentalWhitespaceRendering:ft(new L(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[_.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),_.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),_.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:_.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:ft(new y(39,"extraEditorClassName","")),fastScrollSensitivity:ft(new g(40,"fastScrollSensitivity",5,kt=>kt<=0?5:kt,{markdownDescription:_.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ft(new R),fixedOverflowWidgets:ft(new f(42,"fixedOverflowWidgets",!1)),folding:ft(new f(43,"folding",!0,{description:_.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ft(new L(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),_.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:_.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ft(new f(45,"foldingHighlight",!0,{description:_.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ft(new f(46,"foldingImportsByDefault",!1,{description:_.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:ft(new a(47,"foldingMaximumRegions",5e3,10,65e3,{description:_.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:ft(new f(48,"unfoldOnClickAfterEndOfLine",!1,{description:_.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ft(new y(49,"fontFamily",Xt.fontFamily,{description:_.NC("fontFamily","Controls the font family.")})),fontInfo:ft(new U),fontLigatures2:ft(new A),fontSize:ft(new G),fontWeight:ft(new j),fontVariations:ft(new H),formatOnPaste:ft(new f(55,"formatOnPaste",!1,{description:_.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ft(new f(56,"formatOnType",!1,{description:_.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ft(new f(57,"glyphMargin",!0,{description:_.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ft(new W),hideCursorInOverviewRuler:ft(new f(59,"hideCursorInOverviewRuler",!1,{description:_.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ft(new K),inDiffEditor:ft(new f(61,"inDiffEditor",!1)),letterSpacing:ft(new g(63,"letterSpacing",Xt.letterSpacing,kt=>g.clamp(kt,-5,20),{description:_.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ft(new ie),lineDecorationsWidth:ft(new Le),lineHeight:ft(new pe),lineNumbers:ft(new Se),lineNumbersMinChars:ft(new a(68,"lineNumbersMinChars",5,1,300)),linkedEditing:ft(new f(69,"linkedEditing",!1,{description:_.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:ft(new f(70,"links",!0,{description:_.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ft(new L(71,"matchBrackets","always",["always","near","never"],{description:_.NC("matchBrackets","Highlight matching brackets.")})),minimap:ft(new Te),mouseStyle:ft(new L(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ft(new g(74,"mouseWheelScrollSensitivity",1,kt=>kt===0?1:kt,{markdownDescription:_.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ft(new f(75,"mouseWheelZoom",!1,{markdownDescription:_.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ft(new f(76,"multiCursorMergeOverlapping",!0,{description:_.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ft(new O(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],De,{markdownEnumDescriptions:[_.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),_.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:_.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ft(new L(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),_.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:_.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:ft(new a(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:_.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:ft(new L(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[_.NC("occurrencesHighlight.off","Does not highlight occurrences."),_.NC("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),_.NC("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:_.NC("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:ft(new f(81,"overviewRulerBorder",!0,{description:_.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ft(new a(82,"overviewRulerLanes",3,0,3)),padding:ft(new ae),pasteAs:ft(new Mt),parameterHints:ft(new Ne),peekWidgetDefaultFocus:ft(new L(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),_.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:_.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ft(new f(87,"definitionLinkOpensInPeek",!1,{description:_.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ft(new ze),quickSuggestionsDelay:ft(new a(89,"quickSuggestionsDelay",10,0,1073741824,{description:_.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ft(new f(90,"readOnly",!1)),readOnlyMessage:ft(new Oe),renameOnType:ft(new f(92,"renameOnType",!1,{description:_.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:_.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ft(new f(93,"renderControlCharacters",!0,{description:_.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ft(new L(94,"renderFinalNewline",r.IJ?"dimmed":"on",["off","on","dimmed"],{description:_.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ft(new L(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:_.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ft(new f(96,"renderLineHighlightOnlyWhenFocus",!1,{description:_.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ft(new L(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ft(new L(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),_.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),_.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:_.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ft(new a(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ft(new f(100,"roundedSelection",!0,{description:_.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ft(new ce),scrollbar:ft(new Me),scrollBeyondLastColumn:ft(new a(103,"scrollBeyondLastColumn",4,0,1073741824,{description:_.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ft(new f(104,"scrollBeyondLastLine",!0,{description:_.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ft(new f(105,"scrollPredominantAxis",!0,{description:_.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ft(new f(106,"selectionClipboard",!0,{description:_.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:r.IJ})),selectionHighlight:ft(new f(107,"selectionHighlight",!0,{description:_.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ft(new f(108,"selectOnLineNumbers",!0)),showFoldingControls:ft(new L(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[_.NC("showFoldingControls.always","Always show the folding controls."),_.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),_.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:_.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ft(new f(110,"showUnused",!0,{description:_.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:ft(new f(138,"showDeprecated",!0,{description:_.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ft(new fe),snippetSuggestions:ft(new L(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),_.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),_.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),_.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:_.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ft(new rt),smoothScrolling:ft(new f(113,"smoothScrolling",!1,{description:_.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ft(new a(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ft(new Qe),inlineSuggest:ft(new ve),inlineCompletionsAccessibilityVerbose:ft(new f(147,"inlineCompletionsAccessibilityVerbose",!1,{description:_.NC("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:ft(new a(118,"suggestFontSize",0,0,1e3,{markdownDescription:_.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:ft(new a(119,"suggestLineHeight",0,0,1e3,{markdownDescription:_.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ft(new f(120,"suggestOnTriggerCharacters",!0,{description:_.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ft(new L(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.NC("suggestSelection.first","Always select the first suggestion."),_.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),_.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:_.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ft(new L(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),_.NC("tabCompletion.off","Disable tab completions."),_.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:_.NC("tabCompletion","Enables tab completions.")})),tabIndex:ft(new a(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:ft(new se),unusualLineTerminators:ft(new L(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),_.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),_.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:_.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ft(new f(126,"useShadowDOM",!0)),useTabStops:ft(new f(127,"useTabStops",!0,{description:_.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:ft(new L(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[_.NC("wordBreak.normal","Use the default line break rule."),_.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:_.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:ft(new y(129,"wordSeparators",c.vu,{description:_.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ft(new L(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.NC("wordWrap.off","Lines will never wrap."),_.NC("wordWrap.on","Lines will wrap at the viewport width."),_.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),_.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:_.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ft(new y(131,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ft(new y(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ft(new a(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ft(new L(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ft(new L(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ft(new w),defaultColorDecorators:ft(new f(145,"defaultColorDecorators",!1,{markdownDescription:_.NC("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:ft(new We),tabFocusMode:ft(new f(142,"tabFocusMode",!1,{markdownDescription:_.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:ft(new m),wrappingInfo:ft(new at),wrappingIndent:ft(new Dt),wrappingStrategy:ft(new J)}},82334:function(Pt,Ke,e){"use strict";e.d(Ke,{C:function(){return z}});var b=e(4669);const z=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new b.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(r){r=Math.min(Math.max(-5,r),20),this._zoomLevel!==r&&(this._zoomLevel=r,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Pt,Ke,e){"use strict";e.d(Ke,{E4:function(){return _},pR:function(){return M}});var b=e(1432),z=e(64141),r=e(82334);const E=b.dz?1.5:1.35,c=8;class _{static createFromValidatedSettings(p,o,d){const u=p.get(49),i=p.get(53),n=p.get(52),f=p.get(51),v=p.get(54),a=p.get(66),S=p.get(63);return _._create(u,i,n,f,v,a,S,o,d)}static _create(p,o,d,u,i,n,f,v,a){n===0?n=E*d:n<c&&(n=n*d),n=Math.round(n),n<c&&(n=c);const S=1+(a?0:r.C.getZoomLevel()*.1);return d*=S,n*=S,i===z.Bo.TRANSLATE&&(o==="normal"||o==="bold"?i=z.Bo.OFF:(i=`'wght' ${parseInt(o,10)}`,o="normal")),new _({pixelRatio:v,fontFamily:p,fontWeight:o,fontSize:d,fontFeatureSettings:u,fontVariationSettings:i,lineHeight:n,letterSpacing:f})}constructor(p){this._bareFontInfoBrand=void 0,this.pixelRatio=p.pixelRatio,this.fontFamily=String(p.fontFamily),this.fontWeight=String(p.fontWeight),this.fontSize=p.fontSize,this.fontFeatureSettings=p.fontFeatureSettings,this.fontVariationSettings=p.fontVariationSettings,this.lineHeight=p.lineHeight|0,this.letterSpacing=p.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const p=z.hL.fontFamily,o=_._wrapInQuotes(this.fontFamily);return p&&this.fontFamily!==p?`${o}, ${p}`:o}static _wrapInQuotes(p){return/[,"']/.test(p)?p:/[+ ]/.test(p)?`"${p}"`:p}}const I=2;class M extends _{constructor(p,o){super(p),this._editorStylingBrand=void 0,this.version=I,this.isTrusted=o,this.isMonospace=p.isMonospace,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=p.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.maxDigitWidth=p.maxDigitWidth}equals(p){return this.fontFamily===p.fontFamily&&this.fontWeight===p.fontWeight&&this.fontSize===p.fontSize&&this.fontFeatureSettings===p.fontFeatureSettings&&this.fontVariationSettings===p.fontVariationSettings&&this.lineHeight===p.lineHeight&&this.letterSpacing===p.letterSpacing&&this.typicalHalfwidthCharacterWidth===p.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===p.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.maxDigitWidth===p.maxDigitWidth}}},44906:function(Pt,Ke,e){"use strict";e.d(Ke,{N:function(){return z},q:function(){return r}});var b=e(85427);class z{constructor(c){const _=(0,b.K)(c);this._defaultValue=_,this._asciiMap=z._createAsciiMap(_),this._map=new Map}static _createAsciiMap(c){const _=new Uint8Array(256);return _.fill(c),_}set(c,_){const I=(0,b.K)(_);c>=0&&c<256?this._asciiMap[c]=I:this._map.set(c,I)}get(c){return c>=0&&c<256?this._asciiMap[c]:this._map.get(c)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class r{constructor(){this._actual=new z(0)}add(c){this._actual.set(c,1)}has(c){return this._actual.get(c)===1}clear(){return this._actual.clear()}}},7988:function(Pt,Ke,e){"use strict";e.d(Ke,{i:function(){return z}});var b=e(97295);class z{static _nextVisibleColumn(E,c,_){return E===9?z.nextRenderTabStop(c,_):b.K7(E)||b.C8(E)?c+2:c+1}static visibleColumnFromColumn(E,c,_){const I=Math.min(c-1,E.length),M=E.substring(0,I),D=new b.W1(M);let p=0;for(;!D.eol();){const o=b.ZH(M,I,D.offset);D.nextGraphemeLength(),p=this._nextVisibleColumn(o,p,_)}return p}static columnFromVisibleColumn(E,c,_){if(c<=0)return 1;const I=E.length,M=new b.W1(E);let D=0,p=1;for(;!M.eol();){const o=b.ZH(E,I,M.offset);M.nextGraphemeLength();const d=this._nextVisibleColumn(o,D,_),u=M.offset+1;if(d>=c){const i=c-D;return d-c<i?u:p}D=d,p=u}return I+1}static nextRenderTabStop(E,c){return E+c-E%c}static nextIndentTabStop(E,c){return E+c-E%c}static prevRenderTabStop(E,c){return Math.max(0,E-1-(E-1)%c)}static prevIndentTabStop(E,c){return Math.max(0,E-1-(E-1)%c)}}},69386:function(Pt,Ke,e){"use strict";e.d(Ke,{h:function(){return z}});var b=e(24314);class z{static insert(E,c){return{range:new b.e(E.lineNumber,E.column,E.lineNumber,E.column),text:c,forceMoveMarkers:!0}}static delete(E){return{range:E,text:null}}static replace(E,c){return{range:E,text:c}}static replaceMove(E,c){return{range:E,text:c,forceMoveMarkers:!0}}}},8625:function(Pt,Ke,e){"use strict";e.d(Ke,{Bj:function(){return w},CE:function(){return ae},DS:function(){return Oe},HV:function(){return je},H_:function(){return S},Jn:function(){return Me},Kh:function(){return c},L7:function(){return xe},Mm:function(){return _},N8:function(){return F},Qb:function(){return _e},Re:function(){return Le},Tf:function(){return a},To:function(){return ve},UP:function(){return Ne},Vs:function(){return De},Xy:function(){return O},YF:function(){return ye},cK:function(){return T},dI:function(){return u},e9:function(){return C},eS:function(){return pe},e_:function(){return G},f9:function(){return Ae},fY:function(){return d},gS:function(){return v},h1:function(){return g},hw:function(){return i},lK:function(){return fe},lS:function(){return Pe},ll:function(){return $},m$:function(){return ce},m1:function(){return ze},m3:function(){return se},m9:function(){return le},n0:function(){return o},oV:function(){return ne},qe:function(){return L},r0:function(){return We},ts:function(){return Se},vP:function(){return y},zJ:function(){return Te},zd:function(){return B},zu:function(){return K},zw:function(){return U}});var b=e(63580),z=e(41264),r=e(73910),E=e(97781);const c=(0,r.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),_=(0,r.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:r.lRK},b.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),I=(0,r.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},b.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),M=(0,r.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:r.xL1,hcLight:r.xL1},b.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),D=(0,r.P6G)("editor.symbolHighlightBackground",{dark:r.MUv,light:r.MUv,hcDark:null,hcLight:null},b.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,r.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:r.xL1,hcLight:r.xL1},b.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),o=(0,r.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:z.Il.black,hcDark:z.Il.white,hcLight:"#0F4A85"},b.NC("caret","Color of the editor cursor.")),d=(0,r.P6G)("editorCursor.background",null,b.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),u=(0,r.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},b.NC("editorWhitespaces","Color of whitespace characters in the editor.")),i=(0,r.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:z.Il.white,hcLight:"#292929"},b.NC("editorLineNumbers","Color of editor line numbers.")),n=(0,r.P6G)("editorIndentGuide.background",{dark:u,light:u,hcDark:u,hcLight:u},b.NC("editorIndentGuides","Color of the editor indentation guides."),!1,b.NC("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),f=(0,r.P6G)("editorIndentGuide.activeBackground",{dark:u,light:u,hcDark:u,hcLight:u},b.NC("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,b.NC("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),v=(0,r.P6G)("editorIndentGuide.background1",{dark:n,light:n,hcDark:n,hcLight:n},b.NC("editorIndentGuides1","Color of the editor indentation guides (1).")),a=(0,r.P6G)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides2","Color of the editor indentation guides (2).")),S=(0,r.P6G)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides3","Color of the editor indentation guides (3).")),g=(0,r.P6G)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides4","Color of the editor indentation guides (4).")),y=(0,r.P6G)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides5","Color of the editor indentation guides (5).")),C=(0,r.P6G)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorIndentGuides6","Color of the editor indentation guides (6).")),L=(0,r.P6G)("editorIndentGuide.activeBackground1",{dark:f,light:f,hcDark:f,hcLight:f},b.NC("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),O=(0,r.P6G)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),T=(0,r.P6G)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),F=(0,r.P6G)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),B=(0,r.P6G)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),$=(0,r.P6G)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),Y=(0,r.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:r.xL1,hcLight:r.xL1},b.NC("editorActiveLineNumber","Color of editor active line number"),!1,b.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),P=(0,r.P6G)("editorLineNumber.activeForeground",{dark:Y,light:Y,hcDark:Y,hcLight:Y},b.NC("editorActiveLineNumber","Color of editor active line number")),w=(0,r.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),V=(0,r.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:z.Il.lightgrey,hcDark:z.Il.white,hcLight:"#292929"},b.NC("editorRuler","Color of the editor rulers.")),R=(0,r.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},b.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),A=(0,r.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},b.NC("editorBracketMatchBackground","Background color behind matching brackets")),H=(0,r.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:r.lRK,hcLight:r.lRK},b.NC("editorBracketMatchBorder","Color for matching brackets boxes")),U=(0,r.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},b.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),G=(0,r.P6G)("editorOverviewRuler.background",null,b.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),j=(0,r.P6G)("editorGutter.background",{dark:r.cvW,light:r.cvW,hcDark:r.cvW,hcLight:r.cvW},b.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),W=(0,r.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:z.Il.fromHex("#fff").transparent(.8),hcLight:r.lRK},b.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),K=(0,r.P6G)("editorUnnecessaryCode.opacity",{dark:z.Il.fromHex("#000a"),light:z.Il.fromHex("#0007"),hcDark:null,hcLight:null},b.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),m=(0,r.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:z.Il.fromHex("#fff").transparent(.8),hcLight:z.Il.fromHex("#292929").transparent(.8)},b.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),J=(0,r.P6G)("editorGhostText.foreground",{dark:z.Il.fromHex("#ffffff56"),light:z.Il.fromHex("#0007"),hcDark:null,hcLight:null},b.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),X=(0,r.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),ie=new z.Il(new z.VS(0,122,204,.6)),le=(0,r.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:ie,light:ie,hcDark:ie,hcLight:ie},b.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),fe=(0,r.P6G)("editorOverviewRuler.errorForeground",{dark:new z.Il(new z.VS(255,18,18,.7)),light:new z.Il(new z.VS(255,18,18,.7)),hcDark:new z.Il(new z.VS(255,50,50,1)),hcLight:"#B5200D"},b.NC("overviewRuleError","Overview ruler marker color for errors.")),Le=(0,r.P6G)("editorOverviewRuler.warningForeground",{dark:r.uoC,light:r.uoC,hcDark:r.pW3,hcLight:r.pW3},b.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),pe=(0,r.P6G)("editorOverviewRuler.infoForeground",{dark:r.c63,light:r.c63,hcDark:r.T83,hcLight:r.T83},b.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Te=(0,r.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},b.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),De=(0,r.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},b.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ae=(0,r.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},b.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Ne=(0,r.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),We=(0,r.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),ze=(0,r.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Se=(0,r.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new z.Il(new z.VS(255,18,18,.8)),light:new z.Il(new z.VS(255,18,18,.8)),hcDark:new z.Il(new z.VS(255,50,50,1)),hcLight:""},b.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ne=(0,r.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ce=(0,r.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Oe=(0,r.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Pe=(0,r.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Me=(0,r.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),ye=(0,r.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),_e=(0,r.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),se=(0,r.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ve=(0,r.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),xe=(0,r.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),je=(0,r.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Ae=(0,r.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Qe=(0,r.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},b.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),rt=(0,r.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},b.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,E.Ic)((Dt,at)=>{const vt=Dt.getColor(r.cvW),Mt=Dt.getColor(c),ti=Mt&&!Mt.isTransparent()?Mt:vt;ti&&at.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${ti}; }`)})},23795:function(Pt,Ke,e){"use strict";e.d(Ke,{Q:function(){return b}});function b(z){let r=0,E=0,c=0,_=0;for(let I=0,M=z.length;I<M;I++){const D=z.charCodeAt(I);D===13?(r===0&&(E=I),r++,I+1<M&&z.charCodeAt(I+1)===10?(_|=2,I++):_|=3,c=I+1):D===10&&(_|=1,r===0&&(E=I),r++,c=I+1)}return r===0&&(E=z.length),[r,E,z.length-c,_]}},83158:function(Pt,Ke,e){"use strict";e.d(Ke,{x:function(){return E}});var b=e(97295),z=e(7988);function r(c,_,I){let M=0;for(let p=0;p<c.length;p++)c.charAt(p)==="	"?M=z.i.nextIndentTabStop(M,_):M++;let D="";if(!I){const p=Math.floor(M/_);M=M%_;for(let o=0;o<p;o++)D+="	"}for(let p=0;p<M;p++)D+=" ";return D}function E(c,_,I){let M=b.LC(c);return M===-1&&(M=c.length),r(c.substring(0,M),_,I)+c.substring(M)}},45463:function(Pt,Ke,e){"use strict";e.d(Ke,{i:function(){return _},z:function(){return c}});var b=e(17301),z=e(19247),r=e(24314),E=e(35534);class c{static fromRange(M){return new c(M.startLineNumber,M.endLineNumber)}static fromRangeInclusive(M){return new c(M.startLineNumber,M.endLineNumber+1)}static joinMany(M){if(M.length===0)return[];let D=new _(M[0].slice());for(let p=1;p<M.length;p++)D=D.getUnion(new _(M[p].slice()));return D.ranges}static ofLength(M,D){return new c(M,M+D)}static deserialize(M){return new c(M[0],M[1])}constructor(M,D){if(M>D)throw new b.he(`startLineNumber ${M} cannot be after endLineNumberExclusive ${D}`);this.startLineNumber=M,this.endLineNumberExclusive=D}contains(M){return this.startLineNumber<=M&&M<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(M){return new c(this.startLineNumber+M,this.endLineNumberExclusive+M)}deltaLength(M){return new c(this.startLineNumber,this.endLineNumberExclusive+M)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(M){return new c(Math.min(this.startLineNumber,M.startLineNumber),Math.max(this.endLineNumberExclusive,M.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(M){const D=Math.max(this.startLineNumber,M.startLineNumber),p=Math.min(this.endLineNumberExclusive,M.endLineNumberExclusive);if(D<=p)return new c(D,p)}intersectsStrict(M){return this.startLineNumber<M.endLineNumberExclusive&&M.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(M){return this.startLineNumber<=M.endLineNumberExclusive&&M.startLineNumber<=this.endLineNumberExclusive}equals(M){return this.startLineNumber===M.startLineNumber&&this.endLineNumberExclusive===M.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new r.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new r.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(M){const D=[];for(let p=this.startLineNumber;p<this.endLineNumberExclusive;p++)D.push(M(p));return D}forEach(M){for(let D=this.startLineNumber;D<this.endLineNumberExclusive;D++)M(D)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(M){return this.startLineNumber<=M&&M<this.endLineNumberExclusive}toOffsetRange(){return new z.q(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class _{constructor(M=[]){this._normalizedRanges=M}get ranges(){return this._normalizedRanges}addRange(M){if(M.length===0)return;const D=(0,E.J_)(this._normalizedRanges,o=>o.endLineNumberExclusive>=M.startLineNumber),p=(0,E.Jw)(this._normalizedRanges,o=>o.startLineNumber<=M.endLineNumberExclusive)+1;if(D===p)this._normalizedRanges.splice(D,0,M);else if(D===p-1){const o=this._normalizedRanges[D];this._normalizedRanges[D]=o.join(M)}else{const o=this._normalizedRanges[D].join(this._normalizedRanges[p-1]).join(M);this._normalizedRanges.splice(D,p-D,o)}}contains(M){const D=(0,E.ti)(this._normalizedRanges,p=>p.startLineNumber<=M);return!!D&&D.endLineNumberExclusive>M}intersects(M){const D=(0,E.ti)(this._normalizedRanges,p=>p.startLineNumber<M.endLineNumberExclusive);return!!D&&D.endLineNumberExclusive>M.startLineNumber}getUnion(M){if(this._normalizedRanges.length===0)return M;if(M._normalizedRanges.length===0)return this;const D=[];let p=0,o=0,d=null;for(;p<this._normalizedRanges.length||o<M._normalizedRanges.length;){let u=null;if(p<this._normalizedRanges.length&&o<M._normalizedRanges.length){const i=this._normalizedRanges[p],n=M._normalizedRanges[o];i.startLineNumber<n.startLineNumber?(u=i,p++):(u=n,o++)}else p<this._normalizedRanges.length?(u=this._normalizedRanges[p],p++):(u=M._normalizedRanges[o],o++);d===null?d=u:d.endLineNumberExclusive>=u.startLineNumber?d=new c(d.startLineNumber,Math.max(d.endLineNumberExclusive,u.endLineNumberExclusive)):(D.push(d),d=u)}return d!==null&&D.push(d),new _(D)}subtractFrom(M){const D=(0,E.J_)(this._normalizedRanges,u=>u.endLineNumberExclusive>=M.startLineNumber),p=(0,E.Jw)(this._normalizedRanges,u=>u.startLineNumber<=M.endLineNumberExclusive)+1;if(D===p)return new _([M]);const o=[];let d=M.startLineNumber;for(let u=D;u<p;u++){const i=this._normalizedRanges[u];i.startLineNumber>d&&o.push(new c(d,i.startLineNumber)),d=i.endLineNumberExclusive}return d<M.endLineNumberExclusive&&o.push(new c(d,M.endLineNumberExclusive)),new _(o)}toString(){return this._normalizedRanges.map(M=>M.toString()).join(", ")}getIntersection(M){const D=[];let p=0,o=0;for(;p<this._normalizedRanges.length&&o<M._normalizedRanges.length;){const d=this._normalizedRanges[p],u=M._normalizedRanges[o],i=d.intersect(u);i&&!i.isEmpty&&D.push(i),d.endLineNumberExclusive<u.endLineNumberExclusive?p++:o++}return new _(D)}getWithDelta(M){return new _(this._normalizedRanges.map(D=>D.delta(M)))}}},19247:function(Pt,Ke,e){"use strict";e.d(Ke,{M:function(){return r},q:function(){return z}});var b=e(17301);class z{static addRange(c,_){let I=0;for(;I<_.length&&_[I].endExclusive<c.start;)I++;let M=I;for(;M<_.length&&_[M].start<=c.endExclusive;)M++;if(I===M)_.splice(I,0,c);else{const D=Math.min(c.start,_[I].start),p=Math.max(c.endExclusive,_[M-1].endExclusive);_.splice(I,M-I,new z(D,p))}}static tryCreate(c,_){if(!(c>_))return new z(c,_)}static ofLength(c){return new z(0,c)}static ofStartAndLength(c,_){return new z(c,c+_)}constructor(c,_){if(this.start=c,this.endExclusive=_,c>_)throw new b.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(c){return new z(this.start+c,this.endExclusive+c)}deltaStart(c){return new z(this.start+c,this.endExclusive)}deltaEnd(c){return new z(this.start,this.endExclusive+c)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(c){return this.start===c.start&&this.endExclusive===c.endExclusive}containsRange(c){return this.start<=c.start&&c.endExclusive<=this.endExclusive}contains(c){return this.start<=c&&c<this.endExclusive}join(c){return new z(Math.min(this.start,c.start),Math.max(this.endExclusive,c.endExclusive))}intersect(c){const _=Math.max(this.start,c.start),I=Math.min(this.endExclusive,c.endExclusive);if(_<=I)return new z(_,I)}isBefore(c){return this.endExclusive<=c.start}isAfter(c){return this.start>=c.endExclusive}slice(c){return c.slice(this.start,this.endExclusive)}clip(c){if(this.isEmpty)throw new b.he(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,c))}clipCyclic(c){if(this.isEmpty)throw new b.he(`Invalid clipping range: ${this.toString()}`);return c<this.start?this.endExclusive-(this.start-c)%this.length:c>=this.endExclusive?this.start+(c-this.start)%this.length:c}forEach(c){for(let _=this.start;_<this.endExclusive;_++)c(_)}}class r{constructor(){this._sortedRanges=[]}addRange(c){let _=0;for(;_<this._sortedRanges.length&&this._sortedRanges[_].endExclusive<c.start;)_++;let I=_;for(;I<this._sortedRanges.length&&this._sortedRanges[I].start<=c.endExclusive;)I++;if(_===I)this._sortedRanges.splice(_,0,c);else{const M=Math.min(c.start,this._sortedRanges[_].start),D=Math.max(c.endExclusive,this._sortedRanges[I-1].endExclusive);this._sortedRanges.splice(_,I-_,new z(M,D))}}toString(){return this._sortedRanges.map(c=>c.toString()).join(", ")}intersectsStrict(c){let _=0;for(;_<this._sortedRanges.length&&this._sortedRanges[_].endExclusive<=c.start;)_++;return _<this._sortedRanges.length&&this._sortedRanges[_].start<c.endExclusive}intersectWithRange(c){const _=new r;for(const I of this._sortedRanges){const M=I.intersect(c);M&&_.addRange(M)}return _}intersectWithRangeLength(c){return this.intersectWithRange(c).length}get length(){return this._sortedRanges.reduce((c,_)=>c+_.length,0)}}},50187:function(Pt,Ke,e){"use strict";e.d(Ke,{L:function(){return b}});class b{constructor(r,E){this.lineNumber=r,this.column=E}with(r=this.lineNumber,E=this.column){return r===this.lineNumber&&E===this.column?this:new b(r,E)}delta(r=0,E=0){return this.with(this.lineNumber+r,this.column+E)}equals(r){return b.equals(this,r)}static equals(r,E){return!r&&!E?!0:!!r&&!!E&&r.lineNumber===E.lineNumber&&r.column===E.column}isBefore(r){return b.isBefore(this,r)}static isBefore(r,E){return r.lineNumber<E.lineNumber?!0:E.lineNumber<r.lineNumber?!1:r.column<E.column}isBeforeOrEqual(r){return b.isBeforeOrEqual(this,r)}static isBeforeOrEqual(r,E){return r.lineNumber<E.lineNumber?!0:E.lineNumber<r.lineNumber?!1:r.column<=E.column}static compare(r,E){const c=r.lineNumber|0,_=E.lineNumber|0;if(c===_){const I=r.column|0,M=E.column|0;return I-M}return c-_}clone(){return new b(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(r){return new b(r.lineNumber,r.column)}static isIPosition(r){return r&&typeof r.lineNumber=="number"&&typeof r.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},24314:function(Pt,Ke,e){"use strict";e.d(Ke,{e:function(){return z}});var b=e(50187);class z{constructor(E,c,_,I){E>_||E===_&&c>I?(this.startLineNumber=_,this.startColumn=I,this.endLineNumber=E,this.endColumn=c):(this.startLineNumber=E,this.startColumn=c,this.endLineNumber=_,this.endColumn=I)}isEmpty(){return z.isEmpty(this)}static isEmpty(E){return E.startLineNumber===E.endLineNumber&&E.startColumn===E.endColumn}containsPosition(E){return z.containsPosition(this,E)}static containsPosition(E,c){return!(c.lineNumber<E.startLineNumber||c.lineNumber>E.endLineNumber||c.lineNumber===E.startLineNumber&&c.column<E.startColumn||c.lineNumber===E.endLineNumber&&c.column>E.endColumn)}static strictContainsPosition(E,c){return!(c.lineNumber<E.startLineNumber||c.lineNumber>E.endLineNumber||c.lineNumber===E.startLineNumber&&c.column<=E.startColumn||c.lineNumber===E.endLineNumber&&c.column>=E.endColumn)}containsRange(E){return z.containsRange(this,E)}static containsRange(E,c){return!(c.startLineNumber<E.startLineNumber||c.endLineNumber<E.startLineNumber||c.startLineNumber>E.endLineNumber||c.endLineNumber>E.endLineNumber||c.startLineNumber===E.startLineNumber&&c.startColumn<E.startColumn||c.endLineNumber===E.endLineNumber&&c.endColumn>E.endColumn)}strictContainsRange(E){return z.strictContainsRange(this,E)}static strictContainsRange(E,c){return!(c.startLineNumber<E.startLineNumber||c.endLineNumber<E.startLineNumber||c.startLineNumber>E.endLineNumber||c.endLineNumber>E.endLineNumber||c.startLineNumber===E.startLineNumber&&c.startColumn<=E.startColumn||c.endLineNumber===E.endLineNumber&&c.endColumn>=E.endColumn)}plusRange(E){return z.plusRange(this,E)}static plusRange(E,c){let _,I,M,D;return c.startLineNumber<E.startLineNumber?(_=c.startLineNumber,I=c.startColumn):c.startLineNumber===E.startLineNumber?(_=c.startLineNumber,I=Math.min(c.startColumn,E.startColumn)):(_=E.startLineNumber,I=E.startColumn),c.endLineNumber>E.endLineNumber?(M=c.endLineNumber,D=c.endColumn):c.endLineNumber===E.endLineNumber?(M=c.endLineNumber,D=Math.max(c.endColumn,E.endColumn)):(M=E.endLineNumber,D=E.endColumn),new z(_,I,M,D)}intersectRanges(E){return z.intersectRanges(this,E)}static intersectRanges(E,c){let _=E.startLineNumber,I=E.startColumn,M=E.endLineNumber,D=E.endColumn;const p=c.startLineNumber,o=c.startColumn,d=c.endLineNumber,u=c.endColumn;return _<p?(_=p,I=o):_===p&&(I=Math.max(I,o)),M>d?(M=d,D=u):M===d&&(D=Math.min(D,u)),_>M||_===M&&I>D?null:new z(_,I,M,D)}equalsRange(E){return z.equalsRange(this,E)}static equalsRange(E,c){return!E&&!c?!0:!!E&&!!c&&E.startLineNumber===c.startLineNumber&&E.startColumn===c.startColumn&&E.endLineNumber===c.endLineNumber&&E.endColumn===c.endColumn}getEndPosition(){return z.getEndPosition(this)}static getEndPosition(E){return new b.L(E.endLineNumber,E.endColumn)}getStartPosition(){return z.getStartPosition(this)}static getStartPosition(E){return new b.L(E.startLineNumber,E.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(E,c){return new z(this.startLineNumber,this.startColumn,E,c)}setStartPosition(E,c){return new z(E,c,this.endLineNumber,this.endColumn)}collapseToStart(){return z.collapseToStart(this)}static collapseToStart(E){return new z(E.startLineNumber,E.startColumn,E.startLineNumber,E.startColumn)}collapseToEnd(){return z.collapseToEnd(this)}static collapseToEnd(E){return new z(E.endLineNumber,E.endColumn,E.endLineNumber,E.endColumn)}delta(E){return new z(this.startLineNumber+E,this.startColumn,this.endLineNumber+E,this.endColumn)}static fromPositions(E,c=E){return new z(E.lineNumber,E.column,c.lineNumber,c.column)}static lift(E){return E?new z(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn):null}static isIRange(E){return E&&typeof E.startLineNumber=="number"&&typeof E.startColumn=="number"&&typeof E.endLineNumber=="number"&&typeof E.endColumn=="number"}static areIntersectingOrTouching(E,c){return!(E.endLineNumber<c.startLineNumber||E.endLineNumber===c.startLineNumber&&E.endColumn<c.startColumn||c.endLineNumber<E.startLineNumber||c.endLineNumber===E.startLineNumber&&c.endColumn<E.startColumn)}static areIntersecting(E,c){return!(E.endLineNumber<c.startLineNumber||E.endLineNumber===c.startLineNumber&&E.endColumn<=c.startColumn||c.endLineNumber<E.startLineNumber||c.endLineNumber===E.startLineNumber&&c.endColumn<=E.startColumn)}static compareRangesUsingStarts(E,c){if(E&&c){const M=E.startLineNumber|0,D=c.startLineNumber|0;if(M===D){const p=E.startColumn|0,o=c.startColumn|0;if(p===o){const d=E.endLineNumber|0,u=c.endLineNumber|0;if(d===u){const i=E.endColumn|0,n=c.endColumn|0;return i-n}return d-u}return p-o}return M-D}return(E?1:0)-(c?1:0)}static compareRangesUsingEnds(E,c){return E.endLineNumber===c.endLineNumber?E.endColumn===c.endColumn?E.startLineNumber===c.startLineNumber?E.startColumn-c.startColumn:E.startLineNumber-c.startLineNumber:E.endColumn-c.endColumn:E.endLineNumber-c.endLineNumber}static spansMultipleLines(E){return E.endLineNumber>E.startLineNumber}toJSON(){return this}}},3860:function(Pt,Ke,e){"use strict";e.d(Ke,{Y:function(){return r}});var b=e(50187),z=e(24314);class r extends z.e{constructor(c,_,I,M){super(c,_,I,M),this.selectionStartLineNumber=c,this.selectionStartColumn=_,this.positionLineNumber=I,this.positionColumn=M}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(c){return r.selectionsEqual(this,c)}static selectionsEqual(c,_){return c.selectionStartLineNumber===_.selectionStartLineNumber&&c.selectionStartColumn===_.selectionStartColumn&&c.positionLineNumber===_.positionLineNumber&&c.positionColumn===_.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(c,_){return this.getDirection()===0?new r(this.startLineNumber,this.startColumn,c,_):new r(c,_,this.startLineNumber,this.startColumn)}getPosition(){return new b.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new b.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(c,_){return this.getDirection()===0?new r(c,_,this.endLineNumber,this.endColumn):new r(this.endLineNumber,this.endColumn,c,_)}static fromPositions(c,_=c){return new r(c.lineNumber,c.column,_.lineNumber,_.column)}static fromRange(c,_){return _===0?new r(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn):new r(c.endLineNumber,c.endColumn,c.startLineNumber,c.startColumn)}static liftSelection(c){return new r(c.selectionStartLineNumber,c.selectionStartColumn,c.positionLineNumber,c.positionColumn)}static selectionsArrEqual(c,_){if(c&&!_||!c&&_)return!1;if(!c&&!_)return!0;if(c.length!==_.length)return!1;for(let I=0,M=c.length;I<M;I++)if(!this.selectionsEqual(c[I],_[I]))return!1;return!0}static isISelection(c){return c&&typeof c.selectionStartLineNumber=="number"&&typeof c.selectionStartColumn=="number"&&typeof c.positionLineNumber=="number"&&typeof c.positionColumn=="number"}static createWithDirection(c,_,I,M,D){return D===0?new r(c,_,I,M):new r(I,M,c,_)}}},50072:function(Pt,Ke,e){"use strict";e.d(Ke,{HT:function(){return d},kH:function(){return p},oe:function(){return D}});var b=e(97295),z=e(1432),r=e(53060);let E;function c(){return E||(E=new TextDecoder("UTF-16LE")),E}let _;function I(){return _||(_=new TextDecoder("UTF-16BE")),_}let M;function D(){return M||(M=z.r()?c():I()),M}function p(u,i,n){const f=new Uint16Array(u.buffer,i,n);return n>0&&(f[0]===65279||f[0]===65534)?o(u,i,n):c().decode(f)}function o(u,i,n){const f=[];let v=0;for(let a=0;a<n;a++){const S=r.mP(u,i);i+=2,f[v++]=String.fromCharCode(S)}return f.join("")}class d{constructor(i){this._capacity=i|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const i=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return D().decode(i)}_flushBuffer(){const i=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[i]:this._completedStrings[this._completedStrings.length]=i}appendCharCode(i){const n=this._capacity-this._bufferLength;n<=1&&(n===0||b.ZG(i))&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendASCIICharCode(i){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendString(i){const n=i.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=i;return}for(let f=0;f<n;f++)this._buffer[this._bufferLength++]=i.charCodeAt(f)}}},93033:function(Pt,Ke,e){"use strict";e.d(Ke,{b:function(){return c},q:function(){return E}});var b=e(53060),z=e(50072);function r(I){return I.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class E{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(M,D,p,o){this.oldPosition=M,this.oldText=D,this.newPosition=p,this.newText=o}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${r(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${r(this.oldText)}")`:`(replace@${this.oldPosition} "${r(this.oldText)}" with "${r(this.newText)}")`}static _writeStringSize(M){return 4+2*M.length}static _writeString(M,D,p){const o=D.length;b.T4(M,o,p),p+=4;for(let d=0;d<o;d++)b.oq(M,D.charCodeAt(d),p),p+=2;return p}static _readString(M,D){const p=b.Ag(M,D);return D+=4,(0,z.kH)(M,D,p)}writeSize(){return 4+4+E._writeStringSize(this.oldText)+E._writeStringSize(this.newText)}write(M,D){return b.T4(M,this.oldPosition,D),D+=4,b.T4(M,this.newPosition,D),D+=4,D=E._writeString(M,this.oldText,D),D=E._writeString(M,this.newText,D),D}static read(M,D,p){const o=b.Ag(M,D);D+=4;const d=b.Ag(M,D);D+=4;const u=E._readString(M,D);D+=E._writeStringSize(u);const i=E._readString(M,D);return D+=E._writeStringSize(i),p.push(new E(o,u,d,i)),D}}function c(I,M){return I===null||I.length===0?M:new _(I,M).compress()}class _{constructor(M,D){this._prevEdits=M,this._currEdits=D,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let M=0,D=0,p=this._getPrev(M),o=this._getCurr(D);for(;M<this._prevLen||D<this._currLen;){if(p===null){this._acceptCurr(o),o=this._getCurr(++D);continue}if(o===null){this._acceptPrev(p),p=this._getPrev(++M);continue}if(o.oldEnd<=p.newPosition){this._acceptCurr(o),o=this._getCurr(++D);continue}if(p.newEnd<=o.oldPosition){this._acceptPrev(p),p=this._getPrev(++M);continue}if(o.oldPosition<p.newPosition){const[f,v]=_._splitCurr(o,p.newPosition-o.oldPosition);this._acceptCurr(f),o=v;continue}if(p.newPosition<o.oldPosition){const[f,v]=_._splitPrev(p,o.oldPosition-p.newPosition);this._acceptPrev(f),p=v;continue}let i,n;if(o.oldEnd===p.newEnd)i=p,n=o,p=this._getPrev(++M),o=this._getCurr(++D);else if(o.oldEnd<p.newEnd){const[f,v]=_._splitPrev(p,o.oldLength);i=f,n=o,p=v,o=this._getCurr(++D)}else{const[f,v]=_._splitCurr(o,p.newLength);i=p,n=f,p=this._getPrev(++M),o=v}this._result[this._resultLen++]=new E(i.oldPosition,i.oldText,n.newPosition,n.newText),this._prevDeltaOffset+=i.newLength-i.oldLength,this._currDeltaOffset+=n.newLength-n.oldLength}const d=_._merge(this._result);return _._removeNoOps(d)}_acceptCurr(M){this._result[this._resultLen++]=_._rebaseCurr(this._prevDeltaOffset,M),this._currDeltaOffset+=M.newLength-M.oldLength}_getCurr(M){return M<this._currLen?this._currEdits[M]:null}_acceptPrev(M){this._result[this._resultLen++]=_._rebasePrev(this._currDeltaOffset,M),this._prevDeltaOffset+=M.newLength-M.oldLength}_getPrev(M){return M<this._prevLen?this._prevEdits[M]:null}static _rebaseCurr(M,D){return new E(D.oldPosition-M,D.oldText,D.newPosition,D.newText)}static _rebasePrev(M,D){return new E(D.oldPosition,D.oldText,D.newPosition+M,D.newText)}static _splitPrev(M,D){const p=M.newText.substr(0,D),o=M.newText.substr(D);return[new E(M.oldPosition,M.oldText,M.newPosition,p),new E(M.oldEnd,"",M.newPosition+D,o)]}static _splitCurr(M,D){const p=M.oldText.substr(0,D),o=M.oldText.substr(D);return[new E(M.oldPosition,p,M.newPosition,M.newText),new E(M.oldPosition+D,o,M.newEnd,"")]}static _merge(M){if(M.length===0)return M;const D=[];let p=0,o=M[0];for(let d=1;d<M.length;d++){const u=M[d];o.oldEnd===u.oldPosition?o=new E(o.oldPosition,o.oldText+u.oldText,o.newPosition,o.newText+u.newText):(D[p++]=o,o=u)}return D[p++]=o,D}static _removeNoOps(M){if(M.length===0)return M;const D=[];let p=0;for(let o=0;o<M.length;o++){const d=M[o];d.oldText!==d.newText&&(D[p++]=d)}return D}}},22075:function(Pt,Ke,e){"use strict";e.d(Ke,{D:function(){return b}});const b={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},24929:function(Pt,Ke,e){"use strict";e.d(Ke,{u:function(){return E}});var b=e(44906);class z extends b.N{constructor(_){super(0);for(let I=0,M=_.length;I<M;I++)this.set(_.charCodeAt(I),2);this.set(32,1),this.set(9,1)}}function r(c){const _={};return I=>(_.hasOwnProperty(I)||(_[I]=c(I)),_[I])}const E=r(c=>new z(c))},270:function(Pt,Ke,e){"use strict";e.d(Ke,{Af:function(){return c},eq:function(){return _},t2:function(){return M},vu:function(){return r}});var b=e(53725),z=e(91741);const r="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function E(p=""){let o="(-?\\d*\\.\\d\\w*)|([^";for(const d of r)p.indexOf(d)>=0||(o+="\\"+d);return o+="\\s]+)",new RegExp(o,"g")}const c=E();function _(p){let o=c;if(p&&p instanceof RegExp)if(p.global)o=p;else{let d="g";p.ignoreCase&&(d+="i"),p.multiline&&(d+="m"),p.unicode&&(d+="u"),o=new RegExp(p.source,d)}return o.lastIndex=0,o}const I=new z.S;I.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function M(p,o,d,u,i){if(o=_(o),i||(i=b.$.first(I)),d.length>i.maxLen){let S=p-i.maxLen/2;return S<0?S=0:u+=S,d=d.substring(S,p+i.maxLen/2),M(p,o,d,u,i)}const n=Date.now(),f=p-1-u;let v=-1,a=null;for(let S=1;!(Date.now()-n>=i.timeBudget);S++){const g=f-i.windowSize*S;o.lastIndex=Math.max(0,g);const y=D(o,d,f,v);if(!y&&a||(a=y,g<=0))break;v=g}if(a){const S={word:a[0],startColumn:u+1+a.index,endColumn:u+1+a.index+a[0].length};return o.lastIndex=0,S}return null}function D(p,o,d,u){let i;for(;i=p.exec(o);){const n=i.index||0;if(n<=d&&p.lastIndex>=d)return i;if(u>0&&n>u)return null}return null}},55343:function(Pt,Ke,e){"use strict";e.d(Ke,{LM:function(){return p},LN:function(){return f},Tp:function(){return n},Vi:function(){return o},rS:function(){return i}});var b=e(50187),z=e(24314),r=e(3860),E=e(19111),c=e(7988),_=e(83158);const I=()=>!0,M=()=>!1,D=v=>v===" "||v==="	";class p{static shouldRecreate(a){return a.hasChanged(143)||a.hasChanged(129)||a.hasChanged(37)||a.hasChanged(76)||a.hasChanged(78)||a.hasChanged(79)||a.hasChanged(6)||a.hasChanged(7)||a.hasChanged(11)||a.hasChanged(9)||a.hasChanged(10)||a.hasChanged(14)||a.hasChanged(127)||a.hasChanged(50)||a.hasChanged(90)}constructor(a,S,g,y){var C;this.languageConfigurationService=y,this._cursorMoveConfigurationBrand=void 0,this._languageId=a;const L=g.options,O=L.get(143),T=L.get(50);this.readOnly=L.get(90),this.tabSize=S.tabSize,this.indentSize=S.indentSize,this.insertSpaces=S.insertSpaces,this.stickyTabStops=L.get(115),this.lineHeight=T.lineHeight,this.typicalHalfwidthCharacterWidth=T.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(O.height/this.lineHeight)-2),this.useTabStops=L.get(127),this.wordSeparators=L.get(129),this.emptySelectionClipboard=L.get(37),this.copyWithSyntaxHighlighting=L.get(25),this.multiCursorMergeOverlapping=L.get(76),this.multiCursorPaste=L.get(78),this.multiCursorLimit=L.get(79),this.autoClosingBrackets=L.get(6),this.autoClosingComments=L.get(7),this.autoClosingQuotes=L.get(11),this.autoClosingDelete=L.get(9),this.autoClosingOvertype=L.get(10),this.autoSurround=L.get(14),this.autoIndent=L.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(a,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(a,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(a,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(a).getAutoClosingPairs();const F=this.languageConfigurationService.getLanguageConfiguration(a).getSurroundingPairs();if(F)for(const $ of F)this.surroundingPairs[$.open]=$.close;const B=this.languageConfigurationService.getLanguageConfiguration(a).comments;this.blockCommentStartToken=(C=B==null?void 0:B.blockCommentStartToken)!==null&&C!==void 0?C:null}get electricChars(){var a;if(!this._electricChars){this._electricChars={};const S=(a=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||a===void 0?void 0:a.getElectricCharacters();if(S)for(const g of S)this._electricChars[g]=!0}return this._electricChars}onElectricCharacter(a,S,g){const y=(0,E.wH)(S,g-1),C=this.languageConfigurationService.getLanguageConfiguration(y.languageId).electricCharacter;return C?C.onElectricCharacter(a,y,g-y.firstCharOffset):null}normalizeIndentation(a){return(0,_.x)(a,this.indentSize,this.insertSpaces)}_getShouldAutoClose(a,S,g){switch(S){case"beforeWhitespace":return D;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(a,g);case"always":return I;case"never":return M}}_getLanguageDefinedShouldAutoClose(a,S){const g=this.languageConfigurationService.getLanguageConfiguration(a).getAutoCloseBeforeSet(S);return y=>g.indexOf(y)!==-1}visibleColumnFromColumn(a,S){return c.i.visibleColumnFromColumn(a.getLineContent(S.lineNumber),S.column,this.tabSize)}columnFromVisibleColumn(a,S,g){const y=c.i.columnFromVisibleColumn(a.getLineContent(S),g,this.tabSize),C=a.getLineMinColumn(S);if(y<C)return C;const L=a.getLineMaxColumn(S);return y>L?L:y}}class o{static fromModelState(a){return new d(a)}static fromViewState(a){return new u(a)}static fromModelSelection(a){const S=r.Y.liftSelection(a),g=new i(z.e.fromPositions(S.getSelectionStart()),0,0,S.getPosition(),0);return o.fromModelState(g)}static fromModelSelections(a){const S=[];for(let g=0,y=a.length;g<y;g++)S[g]=this.fromModelSelection(a[g]);return S}constructor(a,S){this._cursorStateBrand=void 0,this.modelState=a,this.viewState=S}equals(a){return this.viewState.equals(a.viewState)&&this.modelState.equals(a.modelState)}}class d{constructor(a){this.modelState=a,this.viewState=null}}class u{constructor(a){this.modelState=null,this.viewState=a}}class i{constructor(a,S,g,y,C){this.selectionStart=a,this.selectionStartKind=S,this.selectionStartLeftoverVisibleColumns=g,this.position=y,this.leftoverVisibleColumns=C,this._singleCursorStateBrand=void 0,this.selection=i._computeSelection(this.selectionStart,this.position)}equals(a){return this.selectionStartLeftoverVisibleColumns===a.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===a.leftoverVisibleColumns&&this.selectionStartKind===a.selectionStartKind&&this.position.equals(a.position)&&this.selectionStart.equalsRange(a.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(a,S,g,y){return a?new i(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new b.L(S,g),y):new i(new z.e(S,g,S,g),0,y,new b.L(S,g),y)}static _computeSelection(a,S){return a.isEmpty()||!S.isBeforeOrEqual(a.getStartPosition())?r.Y.fromPositions(a.getStartPosition(),S):r.Y.fromPositions(a.getEndPosition(),S)}}class n{constructor(a,S,g){this._editOperationResultBrand=void 0,this.type=a,this.commands=S,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}function f(v){return v==="'"||v==='"'||v==="`"}},47128:function(Pt,Ke,e){"use strict";e.d(Ke,{l:function(){return z}});var b=e(7988);class z{static whitespaceVisibleColumn(E,c,_){const I=E.length;let M=0,D=-1,p=-1;for(let o=0;o<I;o++){if(o===c)return[D,p,M];switch(M%_===0&&(D=o,p=M),E.charCodeAt(o)){case 32:M+=1;break;case 9:M=b.i.nextRenderTabStop(M,_);break;default:return[-1,-1,-1]}}return c===I?[D,p,M]:[-1,-1,-1]}static atomicPosition(E,c,_,I){const M=E.length,[D,p,o]=z.whitespaceVisibleColumn(E,c,_);if(o===-1)return-1;let d;switch(I){case 0:d=!0;break;case 1:d=!1;break;case 2:if(o%_===0)return c;d=o%_<=_/2;break}if(d){if(D===-1)return-1;let n=p;for(let f=D;f<M;++f){if(n===p+_)return D;switch(E.charCodeAt(f)){case 32:n+=1;break;case 9:n=b.i.nextRenderTabStop(n,_);break;default:return-1}}return n===p+_?D:-1}const u=b.i.nextRenderTabStop(o,_);let i=o;for(let n=c;n<M;n++){if(i===u)return n;switch(E.charCodeAt(n)){case 32:i+=1;break;case 9:i=b.i.nextRenderTabStop(i,_);break;default:return-1}}return i===u?M:-1}}},29436:function(Pt,Ke,e){"use strict";e.d(Ke,{A:function(){return M}});var b=e(97295),z=e(61329),r=e(55343),E=e(7988),c=e(10839),_=e(24314),I=e(50187);class M{static deleteRight(p,o,d,u){const i=[];let n=p!==3;for(let f=0,v=u.length;f<v;f++){const a=u[f];let S=a;if(S.isEmpty()){const g=a.getPosition(),y=c.o.right(o,d,g);S=new _.e(y.lineNumber,y.column,g.lineNumber,g.column)}if(S.isEmpty()){i[f]=null;continue}S.startLineNumber!==S.endLineNumber&&(n=!0),i[f]=new z.T4(S,"")}return[n,i]}static isAutoClosingPairDelete(p,o,d,u,i,n,f){if(o==="never"&&d==="never"||p==="never")return!1;for(let v=0,a=n.length;v<a;v++){const S=n[v],g=S.getPosition();if(!S.isEmpty())return!1;const y=i.getLineContent(g.lineNumber);if(g.column<2||g.column>=y.length+1)return!1;const C=y.charAt(g.column-2),L=u.get(C);if(!L)return!1;if((0,r.LN)(C)){if(d==="never")return!1}else if(o==="never")return!1;const O=y.charAt(g.column-1);let T=!1;for(const F of L)F.open===C&&F.close===O&&(T=!0);if(!T)return!1;if(p==="auto"){let F=!1;for(let B=0,$=f.length;B<$;B++){const Y=f[B];if(g.lineNumber===Y.startLineNumber&&g.column===Y.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingPairDelete(p,o,d){const u=[];for(let i=0,n=d.length;i<n;i++){const f=d[i].getPosition(),v=new _.e(f.lineNumber,f.column-1,f.lineNumber,f.column+1);u[i]=new z.T4(v,"")}return[!0,u]}static deleteLeft(p,o,d,u,i){if(this.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,d,u,i))return this._runAutoClosingPairDelete(o,d,u);const n=[];let f=p!==2;for(let v=0,a=u.length;v<a;v++){const S=M.getDeleteRange(u[v],d,o);if(S.isEmpty()){n[v]=null;continue}S.startLineNumber!==S.endLineNumber&&(f=!0),n[v]=new z.T4(S,"")}return[f,n]}static getDeleteRange(p,o,d){if(!p.isEmpty())return p;const u=p.getPosition();if(d.useTabStops&&u.column>1){const i=o.getLineContent(u.lineNumber),n=b.LC(i),f=n===-1?i.length+1:n+1;if(u.column<=f){const v=d.visibleColumnFromColumn(o,u),a=E.i.prevIndentTabStop(v,d.indentSize),S=d.columnFromVisibleColumn(o,u.lineNumber,a);return new _.e(u.lineNumber,S,u.lineNumber,u.column)}}return _.e.fromPositions(M.getPositionAfterDeleteLeft(u,o),u)}static getPositionAfterDeleteLeft(p,o){if(p.column>1){const d=b.oH(p.column-1,o.getLineContent(p.lineNumber));return p.with(void 0,d+1)}else if(p.lineNumber>1){const d=p.lineNumber-1;return new I.L(d,o.getLineMaxColumn(d))}else return p}static cut(p,o,d){const u=[];let i=null;d.sort((n,f)=>I.L.compare(n.getStartPosition(),f.getEndPosition()));for(let n=0,f=d.length;n<f;n++){const v=d[n];if(v.isEmpty())if(p.emptySelectionClipboard){const a=v.getPosition();let S,g,y,C;a.lineNumber<o.getLineCount()?(S=a.lineNumber,g=1,y=a.lineNumber+1,C=1):a.lineNumber>1&&(i==null?void 0:i.endLineNumber)!==a.lineNumber?(S=a.lineNumber-1,g=o.getLineMaxColumn(a.lineNumber-1),y=a.lineNumber,C=o.getLineMaxColumn(a.lineNumber)):(S=a.lineNumber,g=1,y=a.lineNumber,C=o.getLineMaxColumn(a.lineNumber));const L=new _.e(S,g,y,C);i=L,L.isEmpty()?u[n]=null:u[n]=new z.T4(L,"")}else u[n]=null;else u[n]=new z.T4(v,"")}return new r.Tp(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},28108:function(Pt,Ke,e){"use strict";e.d(Ke,{N:function(){return M},P:function(){return I}});var b=e(98401),z=e(55343),r=e(10839),E=e(92896),c=e(50187),_=e(24314);class I{static addCursorDown(p,o,d){const u=[];let i=0;for(let n=0,f=o.length;n<f;n++){const v=o[n];u[i++]=new z.Vi(v.modelState,v.viewState),d?u[i++]=z.Vi.fromModelState(r.o.translateDown(p.cursorConfig,p.model,v.modelState)):u[i++]=z.Vi.fromViewState(r.o.translateDown(p.cursorConfig,p,v.viewState))}return u}static addCursorUp(p,o,d){const u=[];let i=0;for(let n=0,f=o.length;n<f;n++){const v=o[n];u[i++]=new z.Vi(v.modelState,v.viewState),d?u[i++]=z.Vi.fromModelState(r.o.translateUp(p.cursorConfig,p.model,v.modelState)):u[i++]=z.Vi.fromViewState(r.o.translateUp(p.cursorConfig,p,v.viewState))}return u}static moveToBeginningOfLine(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i];u[i]=this._moveToLineStart(p,f,d)}return u}static _moveToLineStart(p,o,d){const u=o.viewState.position.column,i=o.modelState.position.column,n=u===i,f=o.viewState.position.lineNumber,v=p.getLineFirstNonWhitespaceColumn(f);return!n&&!(u===v)?this._moveToLineStartByView(p,o,d):this._moveToLineStartByModel(p,o,d)}static _moveToLineStartByView(p,o,d){return z.Vi.fromViewState(r.o.moveToBeginningOfLine(p.cursorConfig,p,o.viewState,d))}static _moveToLineStartByModel(p,o,d){return z.Vi.fromModelState(r.o.moveToBeginningOfLine(p.cursorConfig,p.model,o.modelState,d))}static moveToEndOfLine(p,o,d,u){const i=[];for(let n=0,f=o.length;n<f;n++){const v=o[n];i[n]=this._moveToLineEnd(p,v,d,u)}return i}static _moveToLineEnd(p,o,d,u){const i=o.viewState.position,n=p.getLineMaxColumn(i.lineNumber),f=i.column===n,v=o.modelState.position,a=p.model.getLineMaxColumn(v.lineNumber),S=n-i.column===a-v.column;return f||S?this._moveToLineEndByModel(p,o,d,u):this._moveToLineEndByView(p,o,d,u)}static _moveToLineEndByView(p,o,d,u){return z.Vi.fromViewState(r.o.moveToEndOfLine(p.cursorConfig,p,o.viewState,d,u))}static _moveToLineEndByModel(p,o,d,u){return z.Vi.fromModelState(r.o.moveToEndOfLine(p.cursorConfig,p.model,o.modelState,d,u))}static expandLineSelection(p,o){const d=[];for(let u=0,i=o.length;u<i;u++){const n=o[u],f=n.modelState.selection.startLineNumber,v=p.model.getLineCount();let a=n.modelState.selection.endLineNumber,S;a===v?S=p.model.getLineMaxColumn(v):(a++,S=1),d[u]=z.Vi.fromModelState(new z.rS(new _.e(f,1,f,1),0,0,new c.L(a,S),0))}return d}static moveToBeginningOfBuffer(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i];u[i]=z.Vi.fromModelState(r.o.moveToBeginningOfBuffer(p.cursorConfig,p.model,f.modelState,d))}return u}static moveToEndOfBuffer(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i];u[i]=z.Vi.fromModelState(r.o.moveToEndOfBuffer(p.cursorConfig,p.model,f.modelState,d))}return u}static selectAll(p,o){const d=p.model.getLineCount(),u=p.model.getLineMaxColumn(d);return z.Vi.fromModelState(new z.rS(new _.e(1,1,1,1),0,0,new c.L(d,u),0))}static line(p,o,d,u,i){const n=p.model.validatePosition(u),f=i?p.coordinatesConverter.validateViewPosition(new c.L(i.lineNumber,i.column),n):p.coordinatesConverter.convertModelPositionToViewPosition(n);if(!d){const a=p.model.getLineCount();let S=n.lineNumber+1,g=1;return S>a&&(S=a,g=p.model.getLineMaxColumn(S)),z.Vi.fromModelState(new z.rS(new _.e(n.lineNumber,1,S,g),2,0,new c.L(S,g),0))}const v=o.modelState.selectionStart.getStartPosition().lineNumber;if(n.lineNumber<v)return z.Vi.fromViewState(o.viewState.move(!0,f.lineNumber,1,0));if(n.lineNumber>v){const a=p.getLineCount();let S=f.lineNumber+1,g=1;return S>a&&(S=a,g=p.getLineMaxColumn(S)),z.Vi.fromViewState(o.viewState.move(!0,S,g,0))}else{const a=o.modelState.selectionStart.getEndPosition();return z.Vi.fromModelState(o.modelState.move(!0,a.lineNumber,a.column,0))}}static word(p,o,d,u){const i=p.model.validatePosition(u);return z.Vi.fromModelState(E.w.word(p.cursorConfig,p.model,o.modelState,d,i))}static cancelSelection(p,o){if(!o.modelState.hasSelection())return new z.Vi(o.modelState,o.viewState);const d=o.viewState.position.lineNumber,u=o.viewState.position.column;return z.Vi.fromViewState(new z.rS(new _.e(d,u,d,u),0,0,new c.L(d,u),0))}static moveTo(p,o,d,u,i){if(d){if(o.modelState.selectionStartKind===1)return this.word(p,o,d,u);if(o.modelState.selectionStartKind===2)return this.line(p,o,d,u,i)}const n=p.model.validatePosition(u),f=i?p.coordinatesConverter.validateViewPosition(new c.L(i.lineNumber,i.column),n):p.coordinatesConverter.convertModelPositionToViewPosition(n);return z.Vi.fromViewState(o.viewState.move(d,f.lineNumber,f.column,0))}static simpleMove(p,o,d,u,i,n){switch(d){case 0:return n===4?this._moveHalfLineLeft(p,o,u):this._moveLeft(p,o,u,i);case 1:return n===4?this._moveHalfLineRight(p,o,u):this._moveRight(p,o,u,i);case 2:return n===2?this._moveUpByViewLines(p,o,u,i):this._moveUpByModelLines(p,o,u,i);case 3:return n===2?this._moveDownByViewLines(p,o,u,i):this._moveDownByModelLines(p,o,u,i);case 4:return n===2?o.map(f=>z.Vi.fromViewState(r.o.moveToPrevBlankLine(p.cursorConfig,p,f.viewState,u))):o.map(f=>z.Vi.fromModelState(r.o.moveToPrevBlankLine(p.cursorConfig,p.model,f.modelState,u)));case 5:return n===2?o.map(f=>z.Vi.fromViewState(r.o.moveToNextBlankLine(p.cursorConfig,p,f.viewState,u))):o.map(f=>z.Vi.fromModelState(r.o.moveToNextBlankLine(p.cursorConfig,p.model,f.modelState,u)));case 6:return this._moveToViewMinColumn(p,o,u);case 7:return this._moveToViewFirstNonWhitespaceColumn(p,o,u);case 8:return this._moveToViewCenterColumn(p,o,u);case 9:return this._moveToViewMaxColumn(p,o,u);case 10:return this._moveToViewLastNonWhitespaceColumn(p,o,u);default:return null}}static viewportMove(p,o,d,u,i){const n=p.getCompletelyVisibleViewRange(),f=p.coordinatesConverter.convertViewRangeToModelRange(n);switch(d){case 11:{const v=this._firstLineNumberInRange(p.model,f,i),a=p.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(p,o[0],u,v,a)]}case 13:{const v=this._lastLineNumberInRange(p.model,f,i),a=p.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(p,o[0],u,v,a)]}case 12:{const v=Math.round((f.startLineNumber+f.endLineNumber)/2),a=p.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(p,o[0],u,v,a)]}case 14:{const v=[];for(let a=0,S=o.length;a<S;a++){const g=o[a];v[a]=this.findPositionInViewportIfOutside(p,g,n,u)}return v}default:return null}}static findPositionInViewportIfOutside(p,o,d,u){const i=o.viewState.position.lineNumber;if(d.startLineNumber<=i&&i<=d.endLineNumber-1)return new z.Vi(o.modelState,o.viewState);{let n;i>d.endLineNumber-1?n=d.endLineNumber-1:i<d.startLineNumber?n=d.startLineNumber:n=i;const f=r.o.vertical(p.cursorConfig,p,i,o.viewState.position.column,o.viewState.leftoverVisibleColumns,n,!1);return z.Vi.fromViewState(o.viewState.move(u,f.lineNumber,f.column,f.leftoverVisibleColumns))}}static _firstLineNumberInRange(p,o,d){let u=o.startLineNumber;return o.startColumn!==p.getLineMinColumn(u)&&u++,Math.min(o.endLineNumber,u+d-1)}static _lastLineNumberInRange(p,o,d){let u=o.startLineNumber;return o.startColumn!==p.getLineMinColumn(u)&&u++,Math.max(u,o.endLineNumber-d+1)}static _moveLeft(p,o,d,u){return o.map(i=>z.Vi.fromViewState(r.o.moveLeft(p.cursorConfig,p,i.viewState,d,u)))}static _moveHalfLineLeft(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=Math.round(p.getLineLength(v)/2);u[i]=z.Vi.fromViewState(r.o.moveLeft(p.cursorConfig,p,f.viewState,d,a))}return u}static _moveRight(p,o,d,u){return o.map(i=>z.Vi.fromViewState(r.o.moveRight(p.cursorConfig,p,i.viewState,d,u)))}static _moveHalfLineRight(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=Math.round(p.getLineLength(v)/2);u[i]=z.Vi.fromViewState(r.o.moveRight(p.cursorConfig,p,f.viewState,d,a))}return u}static _moveDownByViewLines(p,o,d,u){const i=[];for(let n=0,f=o.length;n<f;n++){const v=o[n];i[n]=z.Vi.fromViewState(r.o.moveDown(p.cursorConfig,p,v.viewState,d,u))}return i}static _moveDownByModelLines(p,o,d,u){const i=[];for(let n=0,f=o.length;n<f;n++){const v=o[n];i[n]=z.Vi.fromModelState(r.o.moveDown(p.cursorConfig,p.model,v.modelState,d,u))}return i}static _moveUpByViewLines(p,o,d,u){const i=[];for(let n=0,f=o.length;n<f;n++){const v=o[n];i[n]=z.Vi.fromViewState(r.o.moveUp(p.cursorConfig,p,v.viewState,d,u))}return i}static _moveUpByModelLines(p,o,d,u){const i=[];for(let n=0,f=o.length;n<f;n++){const v=o[n];i[n]=z.Vi.fromModelState(r.o.moveUp(p.cursorConfig,p.model,v.modelState,d,u))}return i}static _moveToViewPosition(p,o,d,u,i){return z.Vi.fromViewState(o.viewState.move(d,u,i,0))}static _moveToModelPosition(p,o,d,u,i){return z.Vi.fromModelState(o.modelState.move(d,u,i,0))}static _moveToViewMinColumn(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=p.getLineMinColumn(v);u[i]=this._moveToViewPosition(p,f,d,v,a)}return u}static _moveToViewFirstNonWhitespaceColumn(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=p.getLineFirstNonWhitespaceColumn(v);u[i]=this._moveToViewPosition(p,f,d,v,a)}return u}static _moveToViewCenterColumn(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=Math.round((p.getLineMaxColumn(v)+p.getLineMinColumn(v))/2);u[i]=this._moveToViewPosition(p,f,d,v,a)}return u}static _moveToViewMaxColumn(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=p.getLineMaxColumn(v);u[i]=this._moveToViewPosition(p,f,d,v,a)}return u}static _moveToViewLastNonWhitespaceColumn(p,o,d){const u=[];for(let i=0,n=o.length;i<n;i++){const f=o[i],v=f.viewState.position.lineNumber,a=p.getLineLastNonWhitespaceColumn(v);u[i]=this._moveToViewPosition(p,f,d,v,a)}return u}}var M;(function(D){const p=function(d){if(!b.Kn(d))return!1;const u=d;return!(!b.HD(u.to)||!b.o8(u.select)&&!b.jn(u.select)||!b.o8(u.by)&&!b.HD(u.by)||!b.o8(u.value)&&!b.hj(u.value))};D.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:p,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},D.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function o(d){if(!d.to)return null;let u;switch(d.to){case D.RawDirection.Left:u=0;break;case D.RawDirection.Right:u=1;break;case D.RawDirection.Up:u=2;break;case D.RawDirection.Down:u=3;break;case D.RawDirection.PrevBlankLine:u=4;break;case D.RawDirection.NextBlankLine:u=5;break;case D.RawDirection.WrappedLineStart:u=6;break;case D.RawDirection.WrappedLineFirstNonWhitespaceCharacter:u=7;break;case D.RawDirection.WrappedLineColumnCenter:u=8;break;case D.RawDirection.WrappedLineEnd:u=9;break;case D.RawDirection.WrappedLineLastNonWhitespaceCharacter:u=10;break;case D.RawDirection.ViewPortTop:u=11;break;case D.RawDirection.ViewPortBottom:u=13;break;case D.RawDirection.ViewPortCenter:u=12;break;case D.RawDirection.ViewPortIfOutside:u=14;break;default:return null}let i=0;switch(d.by){case D.RawUnit.Line:i=1;break;case D.RawUnit.WrappedLine:i=2;break;case D.RawUnit.Character:i=3;break;case D.RawUnit.HalfLine:i=4;break}return{direction:u,unit:i,select:!!d.select,value:d.value||1}}D.parse=o})(M||(M={}))},10839:function(Pt,Ke,e){"use strict";e.d(Ke,{o:function(){return M}});var b=e(97295),z=e(7988),r=e(50187),E=e(24314),c=e(47128),_=e(55343);class I{constructor(p,o,d){this._cursorPositionBrand=void 0,this.lineNumber=p,this.column=o,this.leftoverVisibleColumns=d}}class M{static leftPosition(p,o){if(o.column>p.getLineMinColumn(o.lineNumber))return o.delta(void 0,-b.HO(p.getLineContent(o.lineNumber),o.column-1));if(o.lineNumber>1){const d=o.lineNumber-1;return new r.L(d,p.getLineMaxColumn(d))}else return o}static leftPositionAtomicSoftTabs(p,o,d){if(o.column<=p.getLineIndentColumn(o.lineNumber)){const u=p.getLineMinColumn(o.lineNumber),i=p.getLineContent(o.lineNumber),n=c.l.atomicPosition(i,o.column-1,d,0);if(n!==-1&&n+1>=u)return new r.L(o.lineNumber,n+1)}return this.leftPosition(p,o)}static left(p,o,d){const u=p.stickyTabStops?M.leftPositionAtomicSoftTabs(o,d,p.tabSize):M.leftPosition(o,d);return new I(u.lineNumber,u.column,0)}static moveLeft(p,o,d,u,i){let n,f;if(d.hasSelection()&&!u)n=d.selection.startLineNumber,f=d.selection.startColumn;else{const v=d.position.delta(void 0,-(i-1)),a=o.normalizePosition(M.clipPositionColumn(v,o),0),S=M.left(p,o,a);n=S.lineNumber,f=S.column}return d.move(u,n,f,0)}static clipPositionColumn(p,o){return new r.L(p.lineNumber,M.clipRange(p.column,o.getLineMinColumn(p.lineNumber),o.getLineMaxColumn(p.lineNumber)))}static clipRange(p,o,d){return p<o?o:p>d?d:p}static rightPosition(p,o,d){return d<p.getLineMaxColumn(o)?d=d+b.vH(p.getLineContent(o),d-1):o<p.getLineCount()&&(o=o+1,d=p.getLineMinColumn(o)),new r.L(o,d)}static rightPositionAtomicSoftTabs(p,o,d,u,i){if(d<p.getLineIndentColumn(o)){const n=p.getLineContent(o),f=c.l.atomicPosition(n,d-1,u,1);if(f!==-1)return new r.L(o,f+1)}return this.rightPosition(p,o,d)}static right(p,o,d){const u=p.stickyTabStops?M.rightPositionAtomicSoftTabs(o,d.lineNumber,d.column,p.tabSize,p.indentSize):M.rightPosition(o,d.lineNumber,d.column);return new I(u.lineNumber,u.column,0)}static moveRight(p,o,d,u,i){let n,f;if(d.hasSelection()&&!u)n=d.selection.endLineNumber,f=d.selection.endColumn;else{const v=d.position.delta(void 0,i-1),a=o.normalizePosition(M.clipPositionColumn(v,o),1),S=M.right(p,o,a);n=S.lineNumber,f=S.column}return d.move(u,n,f,0)}static vertical(p,o,d,u,i,n,f,v){const a=z.i.visibleColumnFromColumn(o.getLineContent(d),u,p.tabSize)+i,S=o.getLineCount(),g=d===1&&u===1,y=d===S&&u===o.getLineMaxColumn(d),C=n<d?g:y;if(d=n,d<1?(d=1,f?u=o.getLineMinColumn(d):u=Math.min(o.getLineMaxColumn(d),u)):d>S?(d=S,f?u=o.getLineMaxColumn(d):u=Math.min(o.getLineMaxColumn(d),u)):u=p.columnFromVisibleColumn(o,d,a),C?i=0:i=a-z.i.visibleColumnFromColumn(o.getLineContent(d),u,p.tabSize),v!==void 0){const L=new r.L(d,u),O=o.normalizePosition(L,v);i=i+(u-O.column),d=O.lineNumber,u=O.column}return new I(d,u,i)}static down(p,o,d,u,i,n,f){return this.vertical(p,o,d,u,i,d+n,f,4)}static moveDown(p,o,d,u,i){let n,f;d.hasSelection()&&!u?(n=d.selection.endLineNumber,f=d.selection.endColumn):(n=d.position.lineNumber,f=d.position.column);let v=0,a;do if(a=M.down(p,o,n+v,f,d.leftoverVisibleColumns,i,!0),o.normalizePosition(new r.L(a.lineNumber,a.column),2).lineNumber>n)break;while(v++<10&&n+v<o.getLineCount());return d.move(u,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(p,o,d){const u=d.selection,i=M.down(p,o,u.selectionStartLineNumber,u.selectionStartColumn,d.selectionStartLeftoverVisibleColumns,1,!1),n=M.down(p,o,u.positionLineNumber,u.positionColumn,d.leftoverVisibleColumns,1,!1);return new _.rS(new E.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new r.L(n.lineNumber,n.column),n.leftoverVisibleColumns)}static up(p,o,d,u,i,n,f){return this.vertical(p,o,d,u,i,d-n,f,3)}static moveUp(p,o,d,u,i){let n,f;d.hasSelection()&&!u?(n=d.selection.startLineNumber,f=d.selection.startColumn):(n=d.position.lineNumber,f=d.position.column);const v=M.up(p,o,n,f,d.leftoverVisibleColumns,i,!0);return d.move(u,v.lineNumber,v.column,v.leftoverVisibleColumns)}static translateUp(p,o,d){const u=d.selection,i=M.up(p,o,u.selectionStartLineNumber,u.selectionStartColumn,d.selectionStartLeftoverVisibleColumns,1,!1),n=M.up(p,o,u.positionLineNumber,u.positionColumn,d.leftoverVisibleColumns,1,!1);return new _.rS(new E.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new r.L(n.lineNumber,n.column),n.leftoverVisibleColumns)}static _isBlankLine(p,o){return p.getLineFirstNonWhitespaceColumn(o)===0}static moveToPrevBlankLine(p,o,d,u){let i=d.position.lineNumber;for(;i>1&&this._isBlankLine(o,i);)i--;for(;i>1&&!this._isBlankLine(o,i);)i--;return d.move(u,i,o.getLineMinColumn(i),0)}static moveToNextBlankLine(p,o,d,u){const i=o.getLineCount();let n=d.position.lineNumber;for(;n<i&&this._isBlankLine(o,n);)n++;for(;n<i&&!this._isBlankLine(o,n);)n++;return d.move(u,n,o.getLineMinColumn(n),0)}static moveToBeginningOfLine(p,o,d,u){const i=d.position.lineNumber,n=o.getLineMinColumn(i),f=o.getLineFirstNonWhitespaceColumn(i)||n;let v;return d.position.column===f?v=n:v=f,d.move(u,i,v,0)}static moveToEndOfLine(p,o,d,u,i){const n=d.position.lineNumber,f=o.getLineMaxColumn(n);return d.move(u,n,f,i?1073741824-f:0)}static moveToBeginningOfBuffer(p,o,d,u){return d.move(u,1,1,0)}static moveToEndOfBuffer(p,o,d,u){const i=o.getLineCount(),n=o.getLineMaxColumn(i);return d.move(u,i,n,0)}}},94729:function(Pt,Ke,e){"use strict";e.d(Ke,{Nu:function(){return S},u6:function(){return v},g_:function(){return a}});var b=e(17301),z=e(97295),r=e(61329),E=e(10291),c=e(24314),_=e(3860);class I{constructor(T,F,B){this._range=T,this._charBeforeSelection=F,this._charAfterSelection=B}getEditOperations(T,F){F.addTrackedEditOperation(new c.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),F.addTrackedEditOperation(new c.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(T,F){const B=F.getInverseEditOperations(),$=B[0].range,Y=B[1].range;return new _.Y($.endLineNumber,$.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class M{constructor(T,F,B){this._position=T,this._text=F,this._charAfter=B}getEditOperations(T,F){F.addTrackedEditOperation(new c.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(T,F){const $=F.getInverseEditOperations()[0].range;return new _.Y($.endLineNumber,$.startColumn,$.endLineNumber,$.endColumn-this._charAfter.length)}}var D=e(55343),p=e(24929),o=e(50187),d=e(49119),u=e(4256),i=e(19111),n=e(75383),f=e(1615);class v{static indent(T,F,B){if(F===null||B===null)return[];const $=[];for(let Y=0,P=B.length;Y<P;Y++)$[Y]=new E.U(B[Y],{isUnshift:!1,tabSize:T.tabSize,indentSize:T.indentSize,insertSpaces:T.insertSpaces,useTabStops:T.useTabStops,autoIndent:T.autoIndent},T.languageConfigurationService);return $}static outdent(T,F,B){const $=[];for(let Y=0,P=B.length;Y<P;Y++)$[Y]=new E.U(B[Y],{isUnshift:!0,tabSize:T.tabSize,indentSize:T.indentSize,insertSpaces:T.insertSpaces,useTabStops:T.useTabStops,autoIndent:T.autoIndent},T.languageConfigurationService);return $}static shiftIndent(T,F,B){return B=B||1,E.U.shiftIndent(F,F.length+B,T.tabSize,T.indentSize,T.insertSpaces)}static unshiftIndent(T,F,B){return B=B||1,E.U.unshiftIndent(F,F.length+B,T.tabSize,T.indentSize,T.insertSpaces)}static _distributedPaste(T,F,B,$){const Y=[];for(let P=0,w=B.length;P<w;P++)Y[P]=new r.T4(B[P],$[P]);return new D.Tp(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(T,F,B,$,Y){const P=[];for(let w=0,V=B.length;w<V;w++){const R=B[w],A=R.getPosition();if(Y&&!R.isEmpty()&&(Y=!1),Y&&$.indexOf(`
`)!==$.length-1&&(Y=!1),Y){const H=new c.e(A.lineNumber,1,A.lineNumber,1);P[w]=new r.hP(H,$,R,!0)}else P[w]=new r.T4(R,$)}return new D.Tp(0,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(T,F,B,$,Y){if($||F.length===1)return null;if(Y&&Y.length===F.length)return Y;if(T.multiCursorPaste==="spread"){B.charCodeAt(B.length-1)===10&&(B=B.substr(0,B.length-1)),B.charCodeAt(B.length-1)===13&&(B=B.substr(0,B.length-1));const P=z.uq(B);if(P.length===F.length)return P}return null}static paste(T,F,B,$,Y,P){const w=this._distributePasteToCursors(T,B,$,Y,P);return w?(B=B.sort(c.e.compareRangesUsingStarts),this._distributedPaste(T,F,B,w)):this._simplePaste(T,F,B,$,Y)}static _goodIndentForLine(T,F,B){let $=null,Y="";const P=(0,n.r7)(T.autoIndent,F,B,!1,T.languageConfigurationService);if(P)$=P.action,Y=P.indentation;else if(B>1){let w;for(w=B-1;w>=1;w--){const A=F.getLineContent(w);if(z.ow(A)>=0)break}if(w<1)return null;const V=F.getLineMaxColumn(w),R=(0,f.A)(T.autoIndent,F,new c.e(w,V,w,V),T.languageConfigurationService);R&&(Y=R.indentation+R.appendText)}return $&&($===d.wU.Indent&&(Y=v.shiftIndent(T,Y)),$===d.wU.Outdent&&(Y=v.unshiftIndent(T,Y)),Y=T.normalizeIndentation(Y)),Y||null}static _replaceJumpToNextIndent(T,F,B,$){let Y="";const P=B.getStartPosition();if(T.insertSpaces){const w=T.visibleColumnFromColumn(F,P),V=T.indentSize,R=V-w%V;for(let A=0;A<R;A++)Y+=" "}else Y="	";return new r.T4(B,Y,$)}static tab(T,F,B){const $=[];for(let Y=0,P=B.length;Y<P;Y++){const w=B[Y];if(w.isEmpty()){const V=F.getLineContent(w.startLineNumber);if(/^\s*$/.test(V)&&F.tokenization.isCheapToTokenize(w.startLineNumber)){let R=this._goodIndentForLine(T,F,w.startLineNumber);R=R||"	";const A=T.normalizeIndentation(R);if(!V.startsWith(A)){$[Y]=new r.T4(new c.e(w.startLineNumber,1,w.startLineNumber,V.length+1),A,!0);continue}}$[Y]=this._replaceJumpToNextIndent(T,F,w,!0)}else{if(w.startLineNumber===w.endLineNumber){const V=F.getLineMaxColumn(w.startLineNumber);if(w.startColumn!==1||w.endColumn!==V){$[Y]=this._replaceJumpToNextIndent(T,F,w,!1);continue}}$[Y]=new E.U(w,{isUnshift:!1,tabSize:T.tabSize,indentSize:T.indentSize,insertSpaces:T.insertSpaces,useTabStops:T.useTabStops,autoIndent:T.autoIndent},T.languageConfigurationService)}}return $}static compositionType(T,F,B,$,Y,P,w,V){const R=$.map(A=>this._compositionType(B,A,Y,P,w,V));return new D.Tp(4,R,{shouldPushStackElementBefore:y(T,4),shouldPushStackElementAfter:!1})}static _compositionType(T,F,B,$,Y,P){if(!F.isEmpty())return null;const w=F.getPosition(),V=Math.max(1,w.column-$),R=Math.min(T.getLineMaxColumn(w.lineNumber),w.column+Y),A=new c.e(w.lineNumber,V,w.lineNumber,R);return T.getValueInRange(A)===B&&P===0?null:new r.Uo(A,B,0,P)}static _typeCommand(T,F,B){return B?new r.Sj(T,F,!0):new r.T4(T,F,!0)}static _enter(T,F,B,$){if(T.autoIndent===0)return v._typeCommand($,`
`,B);if(!F.tokenization.isCheapToTokenize($.getStartPosition().lineNumber)||T.autoIndent===1){const V=F.getLineContent($.startLineNumber),R=z.V8(V).substring(0,$.startColumn-1);return v._typeCommand($,`
`+T.normalizeIndentation(R),B)}const Y=(0,f.A)(T.autoIndent,F,$,T.languageConfigurationService);if(Y){if(Y.indentAction===d.wU.None)return v._typeCommand($,`
`+T.normalizeIndentation(Y.indentation+Y.appendText),B);if(Y.indentAction===d.wU.Indent)return v._typeCommand($,`
`+T.normalizeIndentation(Y.indentation+Y.appendText),B);if(Y.indentAction===d.wU.IndentOutdent){const V=T.normalizeIndentation(Y.indentation),R=T.normalizeIndentation(Y.indentation+Y.appendText),A=`
`+R+`
`+V;return B?new r.Sj($,A,!0):new r.Uo($,A,-1,R.length-V.length,!0)}else if(Y.indentAction===d.wU.Outdent){const V=v.unshiftIndent(T,Y.indentation);return v._typeCommand($,`
`+T.normalizeIndentation(V+Y.appendText),B)}}const P=F.getLineContent($.startLineNumber),w=z.V8(P).substring(0,$.startColumn-1);if(T.autoIndent>=4){const V=(0,n.UF)(T.autoIndent,F,$,{unshiftIndent:R=>v.unshiftIndent(T,R),shiftIndent:R=>v.shiftIndent(T,R),normalizeIndentation:R=>T.normalizeIndentation(R)},T.languageConfigurationService);if(V){let R=T.visibleColumnFromColumn(F,$.getEndPosition());const A=$.endColumn,H=F.getLineContent($.endLineNumber),U=z.LC(H);if(U>=0?$=$.setEndPosition($.endLineNumber,Math.max($.endColumn,U+1)):$=$.setEndPosition($.endLineNumber,F.getLineMaxColumn($.endLineNumber)),B)return new r.Sj($,`
`+T.normalizeIndentation(V.afterEnter),!0);{let G=0;return A<=U+1&&(T.insertSpaces||(R=Math.ceil(R/T.indentSize)),G=Math.min(R+1-T.normalizeIndentation(V.afterEnter).length-1,0)),new r.Uo($,`
`+T.normalizeIndentation(V.afterEnter),0,G,!0)}}}return v._typeCommand($,`
`+T.normalizeIndentation(w),B)}static _isAutoIndentType(T,F,B){if(T.autoIndent<4)return!1;for(let $=0,Y=B.length;$<Y;$++)if(!F.tokenization.isCheapToTokenize(B[$].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(T,F,B,$){const Y=(0,u.u0)(F,B.startLineNumber,B.startColumn),P=(0,n.$9)(T.autoIndent,F,B,$,{shiftIndent:w=>v.shiftIndent(T,w),unshiftIndent:w=>v.unshiftIndent(T,w)},T.languageConfigurationService);if(P===null)return null;if(P!==T.normalizeIndentation(Y)){const w=F.getLineFirstNonWhitespaceColumn(B.startLineNumber);return w===0?v._typeCommand(new c.e(B.startLineNumber,1,B.endLineNumber,B.endColumn),T.normalizeIndentation(P)+$,!1):v._typeCommand(new c.e(B.startLineNumber,1,B.endLineNumber,B.endColumn),T.normalizeIndentation(P)+F.getLineContent(B.startLineNumber).substring(w-1,B.startColumn-1)+$,!1)}return null}static _isAutoClosingOvertype(T,F,B,$,Y){if(T.autoClosingOvertype==="never"||!T.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let P=0,w=B.length;P<w;P++){const V=B[P];if(!V.isEmpty())return!1;const R=V.getPosition(),A=F.getLineContent(R.lineNumber);if(A.charAt(R.column-1)!==Y)return!1;const U=(0,D.LN)(Y);if((R.column>2?A.charCodeAt(R.column-2):0)===92&&U)return!1;if(T.autoClosingOvertype==="auto"){let j=!1;for(let W=0,K=$.length;W<K;W++){const m=$[W];if(R.lineNumber===m.startLineNumber&&R.column===m.startColumn){j=!0;break}}if(!j)return!1}}return!0}static _runAutoClosingOvertype(T,F,B,$,Y){const P=[];for(let w=0,V=$.length;w<V;w++){const A=$[w].getPosition(),H=new c.e(A.lineNumber,A.column,A.lineNumber,A.column+1);P[w]=new r.T4(H,Y)}return new D.Tp(4,P,{shouldPushStackElementBefore:y(T,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(T,F){const B=F.charAt(0),$=T.autoClosingPairs.autoClosingPairsOpenByStart.get(B)||[],Y=T.autoClosingPairs.autoClosingPairsCloseByStart.get(B)||[],P=$.some(V=>F.startsWith(V.open)),w=Y.some(V=>F.startsWith(V.close));return!P&&w}static _findAutoClosingPairOpen(T,F,B,$){const Y=T.autoClosingPairs.autoClosingPairsOpenByEnd.get($);if(!Y)return null;let P=null;for(const w of Y)if(P===null||w.open.length>P.open.length){let V=!0;for(const R of B)if(F.getValueInRange(new c.e(R.lineNumber,R.column-w.open.length+1,R.lineNumber,R.column))+$!==w.open){V=!1;break}V&&(P=w)}return P}static _findContainedAutoClosingPair(T,F){if(F.open.length<=1)return null;const B=F.close.charAt(F.close.length-1),$=T.autoClosingPairs.autoClosingPairsCloseByEnd.get(B)||[];let Y=null;for(const P of $)P.open!==F.open&&F.open.includes(P.open)&&F.close.endsWith(P.close)&&(!Y||P.open.length>Y.open.length)&&(Y=P);return Y}static _getAutoClosingPairClose(T,F,B,$,Y){for(const j of B)if(!j.isEmpty())return null;const P=B.map(j=>{const W=j.getPosition();return Y?{lineNumber:W.lineNumber,beforeColumn:W.column-$.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),w=this._findAutoClosingPairOpen(T,F,P.map(j=>new o.L(j.lineNumber,j.beforeColumn)),$);if(!w)return null;let V,R;if((0,D.LN)($)?(V=T.autoClosingQuotes,R=T.shouldAutoCloseBefore.quote):(T.blockCommentStartToken?w.open.includes(T.blockCommentStartToken):!1)?(V=T.autoClosingComments,R=T.shouldAutoCloseBefore.comment):(V=T.autoClosingBrackets,R=T.shouldAutoCloseBefore.bracket),V==="never")return null;const H=this._findContainedAutoClosingPair(T,w),U=H?H.close:"";let G=!0;for(const j of P){const{lineNumber:W,beforeColumn:K,afterColumn:m}=j,J=F.getLineContent(W),X=J.substring(0,K-1),ie=J.substring(m-1);if(ie.startsWith(U)||(G=!1),ie.length>0){const pe=ie.charAt(0);if(!v._isBeforeClosingBrace(T,ie)&&!R(pe))return null}if(w.open.length===1&&($==="'"||$==='"')&&V!=="always"){const pe=(0,p.u)(T.wordSeparators);if(X.length>0){const Te=X.charCodeAt(X.length-1);if(pe.get(Te)===0)return null}}if(!F.tokenization.isCheapToTokenize(W))return null;F.tokenization.forceTokenization(W);const le=F.tokenization.getLineTokens(W),fe=(0,i.wH)(le,K-1);if(!w.shouldAutoClose(fe,K-fe.firstCharOffset))return null;const Le=w.findNeutralCharacter();if(Le){const pe=F.tokenization.getTokenTypeIfInsertingCharacter(W,K,Le);if(!w.isOK(pe))return null}}return G?w.close.substring(0,w.close.length-U.length):w.close}static _runAutoClosingOpenCharType(T,F,B,$,Y,P,w){const V=[];for(let R=0,A=$.length;R<A;R++){const H=$[R];V[R]=new a(H,Y,!P,w)}return new D.Tp(4,V,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(T,F){return(0,D.LN)(F)?T.autoSurround==="quotes"||T.autoSurround==="languageDefined":T.autoSurround==="brackets"||T.autoSurround==="languageDefined"}static _isSurroundSelectionType(T,F,B,$){if(!v._shouldSurroundChar(T,$)||!T.surroundingPairs.hasOwnProperty($))return!1;const Y=(0,D.LN)($);for(const P of B){if(P.isEmpty())return!1;let w=!0;for(let V=P.startLineNumber;V<=P.endLineNumber;V++){const R=F.getLineContent(V),A=V===P.startLineNumber?P.startColumn-1:0,H=V===P.endLineNumber?P.endColumn-1:R.length,U=R.substring(A,H);if(/[^ \t]/.test(U)){w=!1;break}}if(w)return!1;if(Y&&P.startLineNumber===P.endLineNumber&&P.startColumn+1===P.endColumn){const V=F.getValueInRange(P);if((0,D.LN)(V))return!1}}return!0}static _runSurroundSelectionType(T,F,B,$,Y){const P=[];for(let w=0,V=$.length;w<V;w++){const R=$[w],A=F.surroundingPairs[Y];P[w]=new I(R,Y,A)}return new D.Tp(0,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(T,F,B){return!!(B.length===1&&F.tokenization.isCheapToTokenize(B[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(T,F,B,$,Y){if(!F.electricChars.hasOwnProperty(Y)||!$.isEmpty())return null;const P=$.getPosition();B.tokenization.forceTokenization(P.lineNumber);const w=B.tokenization.getLineTokens(P.lineNumber);let V;try{V=F.onElectricCharacter(Y,w,P.column)}catch(R){return(0,b.dL)(R),null}if(!V)return null;if(V.matchOpenBracket){const R=(w.getLineContent()+Y).lastIndexOf(V.matchOpenBracket)+1,A=B.bracketPairs.findMatchingBracketUp(V.matchOpenBracket,{lineNumber:P.lineNumber,column:R},500);if(A){if(A.startLineNumber===P.lineNumber)return null;const H=B.getLineContent(A.startLineNumber),U=z.V8(H),G=F.normalizeIndentation(U),j=B.getLineContent(P.lineNumber),W=B.getLineFirstNonWhitespaceColumn(P.lineNumber)||P.column,K=j.substring(W-1,P.column-1),m=G+K+Y,J=new c.e(P.lineNumber,1,P.lineNumber,P.column),X=new r.T4(J,m);return new D.Tp(g(m,T),[X],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(T,F,B,$,Y,P){if(!$)return null;let w=null;for(const H of $)if(w===null)w=H.insertedText;else if(w!==H.insertedText)return null;if(!w||w.length!==1)return null;const V=w;let R=!1;for(const H of $)if(H.deletedText.length!==0){R=!0;break}if(R){if(!v._shouldSurroundChar(F,V)||!F.surroundingPairs.hasOwnProperty(V))return null;const H=(0,D.LN)(V);for(const j of $)if(j.deletedSelectionStart!==0||j.deletedSelectionEnd!==j.deletedText.length||/^[ \t]+$/.test(j.deletedText)||H&&(0,D.LN)(j.deletedText))return null;const U=[];for(const j of Y){if(!j.isEmpty())return null;U.push(j.getPosition())}if(U.length!==$.length)return null;const G=[];for(let j=0,W=U.length;j<W;j++)G.push(new M(U[j],$[j].deletedText,F.surroundingPairs[V]));return new D.Tp(4,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(F,B,Y,P,V)){const H=Y.map(U=>new r.T4(new c.e(U.positionLineNumber,U.positionColumn,U.positionLineNumber,U.positionColumn+1),"",!1));return new D.Tp(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const A=this._getAutoClosingPairClose(F,B,Y,V,!0);return A!==null?this._runAutoClosingOpenCharType(T,F,B,Y,V,!0,A):null}static typeWithInterceptors(T,F,B,$,Y,P,w){if(!T&&w===`
`){const A=[];for(let H=0,U=Y.length;H<U;H++)A[H]=v._enter(B,$,!1,Y[H]);return new D.Tp(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!T&&this._isAutoIndentType(B,$,Y)){const A=[];let H=!1;for(let U=0,G=Y.length;U<G;U++)if(A[U]=this._runAutoIndentType(B,$,Y[U],w),!A[U]){H=!0;break}if(!H)return new D.Tp(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(B,$,Y,P,w))return this._runAutoClosingOvertype(F,B,$,Y,w);if(!T){const A=this._getAutoClosingPairClose(B,$,Y,w,!1);if(A)return this._runAutoClosingOpenCharType(F,B,$,Y,w,!1,A)}if(!T&&this._isSurroundSelectionType(B,$,Y,w))return this._runSurroundSelectionType(F,B,$,Y,w);if(!T&&this._isTypeInterceptorElectricChar(B,$,Y)){const A=this._typeInterceptorElectricChar(F,B,$,Y[0],w);if(A)return A}const V=[];for(let A=0,H=Y.length;A<H;A++)V[A]=new r.T4(Y[A],w);const R=g(w,F);return new D.Tp(R,V,{shouldPushStackElementBefore:y(F,R),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(T,F,B,$,Y){const P=[];for(let V=0,R=$.length;V<R;V++)P[V]=new r.T4($[V],Y);const w=g(Y,T);return new D.Tp(w,P,{shouldPushStackElementBefore:y(T,w),shouldPushStackElementAfter:!1})}static lineInsertBefore(T,F,B){if(F===null||B===null)return[];const $=[];for(let Y=0,P=B.length;Y<P;Y++){let w=B[Y].positionLineNumber;if(w===1)$[Y]=new r.Sj(new c.e(1,1,1,1),`
`);else{w--;const V=F.getLineMaxColumn(w);$[Y]=this._enter(T,F,!1,new c.e(w,V,w,V))}}return $}static lineInsertAfter(T,F,B){if(F===null||B===null)return[];const $=[];for(let Y=0,P=B.length;Y<P;Y++){const w=B[Y].positionLineNumber,V=F.getLineMaxColumn(w);$[Y]=this._enter(T,F,!1,new c.e(w,V,w,V))}return $}static lineBreakInsert(T,F,B){const $=[];for(let Y=0,P=B.length;Y<P;Y++)$[Y]=this._enter(T,F,!0,B[Y]);return $}}class a extends r.Uo{constructor(T,F,B,$){super(T,(B?F:"")+$,0,-$.length),this._openCharacter=F,this._closeCharacter=$,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(T,F){const $=F.getInverseEditOperations()[0].range;return this.closeCharacterRange=new c.e($.startLineNumber,$.endColumn-this._closeCharacter.length,$.endLineNumber,$.endColumn),this.enclosingRange=new c.e($.startLineNumber,$.endColumn-this._openCharacter.length-this._closeCharacter.length,$.endLineNumber,$.endColumn),super.computeCursorState(T,F)}}class S{constructor(T,F,B,$,Y,P){this.deletedText=T,this.deletedSelectionStart=F,this.deletedSelectionEnd=B,this.insertedText=$,this.insertedSelectionStart=Y,this.insertedSelectionEnd=P}}function g(O,T){return O===" "?T===5||T===6?6:5:4}function y(O,T){return L(O)&&!L(T)?!0:O===5?!1:C(O)!==C(T)}function C(O){return O===6||O===5?"space":O}function L(O){return O===4||O===5||O===6}},92896:function(Pt,Ke,e){"use strict";e.d(Ke,{L:function(){return M},w:function(){return I}});var b=e(97295),z=e(55343),r=e(29436),E=e(24929),c=e(50187),_=e(24314);class I{static _createWord(o,d,u,i,n){return{start:i,end:n,wordType:d,nextCharClass:u}}static _findPreviousWordOnLine(o,d,u){const i=d.getLineContent(u.lineNumber);return this._doFindPreviousWordOnLine(i,o,u)}static _doFindPreviousWordOnLine(o,d,u){let i=0;for(let n=u.column-2;n>=0;n--){const f=o.charCodeAt(n),v=d.get(f);if(v===0){if(i===2)return this._createWord(o,i,v,n+1,this._findEndOfWord(o,d,i,n+1));i=1}else if(v===2){if(i===1)return this._createWord(o,i,v,n+1,this._findEndOfWord(o,d,i,n+1));i=2}else if(v===1&&i!==0)return this._createWord(o,i,v,n+1,this._findEndOfWord(o,d,i,n+1))}return i!==0?this._createWord(o,i,1,0,this._findEndOfWord(o,d,i,0)):null}static _findEndOfWord(o,d,u,i){const n=o.length;for(let f=i;f<n;f++){const v=o.charCodeAt(f),a=d.get(v);if(a===1||u===1&&a===2||u===2&&a===0)return f}return n}static _findNextWordOnLine(o,d,u){const i=d.getLineContent(u.lineNumber);return this._doFindNextWordOnLine(i,o,u)}static _doFindNextWordOnLine(o,d,u){let i=0;const n=o.length;for(let f=u.column-1;f<n;f++){const v=o.charCodeAt(f),a=d.get(v);if(a===0){if(i===2)return this._createWord(o,i,a,this._findStartOfWord(o,d,i,f-1),f);i=1}else if(a===2){if(i===1)return this._createWord(o,i,a,this._findStartOfWord(o,d,i,f-1),f);i=2}else if(a===1&&i!==0)return this._createWord(o,i,a,this._findStartOfWord(o,d,i,f-1),f)}return i!==0?this._createWord(o,i,1,this._findStartOfWord(o,d,i,n-1),n):null}static _findStartOfWord(o,d,u,i){for(let n=i;n>=0;n--){const f=o.charCodeAt(n),v=d.get(f);if(v===1||u===1&&v===2||u===2&&v===0)return n+1}return 0}static moveWordLeft(o,d,u,i){let n=u.lineNumber,f=u.column;f===1&&n>1&&(n=n-1,f=d.getLineMaxColumn(n));let v=I._findPreviousWordOnLine(o,d,new c.L(n,f));if(i===0)return new c.L(n,v?v.start+1:1);if(i===1)return v&&v.wordType===2&&v.end-v.start===1&&v.nextCharClass===0&&(v=I._findPreviousWordOnLine(o,d,new c.L(n,v.start+1))),new c.L(n,v?v.start+1:1);if(i===3){for(;v&&v.wordType===2;)v=I._findPreviousWordOnLine(o,d,new c.L(n,v.start+1));return new c.L(n,v?v.start+1:1)}return v&&f<=v.end+1&&(v=I._findPreviousWordOnLine(o,d,new c.L(n,v.start+1))),new c.L(n,v?v.end+1:1)}static _moveWordPartLeft(o,d){const u=d.lineNumber,i=o.getLineMaxColumn(u);if(d.column===1)return u>1?new c.L(u-1,o.getLineMaxColumn(u-1)):d;const n=o.getLineContent(u);for(let f=d.column-1;f>1;f--){const v=n.charCodeAt(f-2),a=n.charCodeAt(f-1);if(v===95&&a!==95)return new c.L(u,f);if(v===45&&a!==45)return new c.L(u,f);if((b.mK(v)||b.T5(v))&&b.df(a))return new c.L(u,f);if(b.df(v)&&b.df(a)&&f+1<i){const S=n.charCodeAt(f);if(b.mK(S)||b.T5(S))return new c.L(u,f)}}return new c.L(u,1)}static moveWordRight(o,d,u,i){let n=u.lineNumber,f=u.column,v=!1;f===d.getLineMaxColumn(n)&&n<d.getLineCount()&&(v=!0,n=n+1,f=1);let a=I._findNextWordOnLine(o,d,new c.L(n,f));if(i===2)a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=I._findNextWordOnLine(o,d,new c.L(n,a.end+1))),a?f=a.end+1:f=d.getLineMaxColumn(n);else if(i===3){for(v&&(f=0);a&&(a.wordType===2||a.start+1<=f);)a=I._findNextWordOnLine(o,d,new c.L(n,a.end+1));a?f=a.start+1:f=d.getLineMaxColumn(n)}else a&&!v&&f>=a.start+1&&(a=I._findNextWordOnLine(o,d,new c.L(n,a.end+1))),a?f=a.start+1:f=d.getLineMaxColumn(n);return new c.L(n,f)}static _moveWordPartRight(o,d){const u=d.lineNumber,i=o.getLineMaxColumn(u);if(d.column===i)return u<o.getLineCount()?new c.L(u+1,1):d;const n=o.getLineContent(u);for(let f=d.column+1;f<i;f++){const v=n.charCodeAt(f-2),a=n.charCodeAt(f-1);if(v!==95&&a===95)return new c.L(u,f);if(v!==45&&a===45)return new c.L(u,f);if((b.mK(v)||b.T5(v))&&b.df(a))return new c.L(u,f);if(b.df(v)&&b.df(a)&&f+1<i){const S=n.charCodeAt(f);if(b.mK(S)||b.T5(S))return new c.L(u,f)}}return new c.L(u,i)}static _deleteWordLeftWhitespace(o,d){const u=o.getLineContent(d.lineNumber),i=d.column-2,n=b.ow(u,i);return n+1<i?new _.e(d.lineNumber,n+2,d.lineNumber,d.column):null}static deleteWordLeft(o,d){const u=o.wordSeparators,i=o.model,n=o.selection,f=o.whitespaceHeuristics;if(!n.isEmpty())return n;if(r.A.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,o.model,[o.selection],o.autoClosedCharacters)){const y=o.selection.getPosition();return new _.e(y.lineNumber,y.column-1,y.lineNumber,y.column+1)}const v=new c.L(n.positionLineNumber,n.positionColumn);let a=v.lineNumber,S=v.column;if(a===1&&S===1)return null;if(f){const y=this._deleteWordLeftWhitespace(i,v);if(y)return y}let g=I._findPreviousWordOnLine(u,i,v);return d===0?g?S=g.start+1:S>1?S=1:(a--,S=i.getLineMaxColumn(a)):(g&&S<=g.end+1&&(g=I._findPreviousWordOnLine(u,i,new c.L(a,g.start+1))),g?S=g.end+1:S>1?S=1:(a--,S=i.getLineMaxColumn(a))),new _.e(a,S,v.lineNumber,v.column)}static deleteInsideWord(o,d,u){if(!u.isEmpty())return u;const i=new c.L(u.positionLineNumber,u.positionColumn),n=this._deleteInsideWordWhitespace(d,i);return n||this._deleteInsideWordDetermineDeleteRange(o,d,i)}static _charAtIsWhitespace(o,d){const u=o.charCodeAt(d);return u===32||u===9}static _deleteInsideWordWhitespace(o,d){const u=o.getLineContent(d.lineNumber),i=u.length;if(i===0)return null;let n=Math.max(d.column-2,0);if(!this._charAtIsWhitespace(u,n))return null;let f=Math.min(d.column-1,i-1);if(!this._charAtIsWhitespace(u,f))return null;for(;n>0&&this._charAtIsWhitespace(u,n-1);)n--;for(;f+1<i&&this._charAtIsWhitespace(u,f+1);)f++;return new _.e(d.lineNumber,n+1,d.lineNumber,f+2)}static _deleteInsideWordDetermineDeleteRange(o,d,u){const i=d.getLineContent(u.lineNumber),n=i.length;if(n===0)return u.lineNumber>1?new _.e(u.lineNumber-1,d.getLineMaxColumn(u.lineNumber-1),u.lineNumber,1):u.lineNumber<d.getLineCount()?new _.e(u.lineNumber,1,u.lineNumber+1,1):new _.e(u.lineNumber,1,u.lineNumber,1);const f=y=>y.start+1<=u.column&&u.column<=y.end+1,v=(y,C)=>(y=Math.min(y,u.column),C=Math.max(C,u.column),new _.e(u.lineNumber,y,u.lineNumber,C)),a=y=>{let C=y.start+1,L=y.end+1,O=!1;for(;L-1<n&&this._charAtIsWhitespace(i,L-1);)O=!0,L++;if(!O)for(;C>1&&this._charAtIsWhitespace(i,C-2);)C--;return v(C,L)},S=I._findPreviousWordOnLine(o,d,u);if(S&&f(S))return a(S);const g=I._findNextWordOnLine(o,d,u);return g&&f(g)?a(g):S&&g?v(S.end+1,g.start+1):S?v(S.start+1,S.end+1):g?v(g.start+1,g.end+1):v(1,n+1)}static _deleteWordPartLeft(o,d){if(!d.isEmpty())return d;const u=d.getPosition(),i=I._moveWordPartLeft(o,u);return new _.e(u.lineNumber,u.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(o,d){const u=o.length;for(let i=d;i<u;i++){const n=o.charAt(i);if(n!==" "&&n!=="	")return i}return u}static _deleteWordRightWhitespace(o,d){const u=o.getLineContent(d.lineNumber),i=d.column-1,n=this._findFirstNonWhitespaceChar(u,i);return i+1<n?new _.e(d.lineNumber,d.column,d.lineNumber,n+1):null}static deleteWordRight(o,d){const u=o.wordSeparators,i=o.model,n=o.selection,f=o.whitespaceHeuristics;if(!n.isEmpty())return n;const v=new c.L(n.positionLineNumber,n.positionColumn);let a=v.lineNumber,S=v.column;const g=i.getLineCount(),y=i.getLineMaxColumn(a);if(a===g&&S===y)return null;if(f){const L=this._deleteWordRightWhitespace(i,v);if(L)return L}let C=I._findNextWordOnLine(u,i,v);return d===2?C?S=C.end+1:S<y||a===g?S=y:(a++,C=I._findNextWordOnLine(u,i,new c.L(a,1)),C?S=C.start+1:S=i.getLineMaxColumn(a)):(C&&S>=C.start+1&&(C=I._findNextWordOnLine(u,i,new c.L(a,C.end+1))),C?S=C.start+1:S<y||a===g?S=y:(a++,C=I._findNextWordOnLine(u,i,new c.L(a,1)),C?S=C.start+1:S=i.getLineMaxColumn(a))),new _.e(a,S,v.lineNumber,v.column)}static _deleteWordPartRight(o,d){if(!d.isEmpty())return d;const u=d.getPosition(),i=I._moveWordPartRight(o,u);return new _.e(u.lineNumber,u.column,i.lineNumber,i.column)}static _createWordAtPosition(o,d,u){const i=new _.e(d,u.start+1,d,u.end+1);return{word:o.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(o,d,u){const i=(0,E.u)(d),n=I._findPreviousWordOnLine(i,o,u);if(n&&n.wordType===1&&n.start<=u.column-1&&u.column-1<=n.end)return I._createWordAtPosition(o,u.lineNumber,n);const f=I._findNextWordOnLine(i,o,u);return f&&f.wordType===1&&f.start<=u.column-1&&u.column-1<=f.end?I._createWordAtPosition(o,u.lineNumber,f):null}static word(o,d,u,i,n){const f=(0,E.u)(o.wordSeparators),v=I._findPreviousWordOnLine(f,d,n),a=I._findNextWordOnLine(f,d,n);if(!i){let L,O;return v&&v.wordType===1&&v.start<=n.column-1&&n.column-1<=v.end?(L=v.start+1,O=v.end+1):a&&a.wordType===1&&a.start<=n.column-1&&n.column-1<=a.end?(L=a.start+1,O=a.end+1):(v?L=v.end+1:L=1,a?O=a.start+1:O=d.getLineMaxColumn(n.lineNumber)),new z.rS(new _.e(n.lineNumber,L,n.lineNumber,O),1,0,new c.L(n.lineNumber,O),0)}let S,g;v&&v.wordType===1&&v.start<n.column-1&&n.column-1<v.end?(S=v.start+1,g=v.end+1):a&&a.wordType===1&&a.start<n.column-1&&n.column-1<a.end?(S=a.start+1,g=a.end+1):(S=n.column,g=n.column);const y=n.lineNumber;let C;if(u.selectionStart.containsPosition(n))C=u.selectionStart.endColumn;else if(n.isBeforeOrEqual(u.selectionStart.getStartPosition())){C=S;const L=new c.L(y,C);u.selectionStart.containsPosition(L)&&(C=u.selectionStart.endColumn)}else{C=g;const L=new c.L(y,C);u.selectionStart.containsPosition(L)&&(C=u.selectionStart.startColumn)}return u.move(!0,y,C,0)}}class M extends I{static deleteWordPartLeft(o){const d=D([I.deleteWordLeft(o,0),I.deleteWordLeft(o,2),I._deleteWordPartLeft(o.model,o.selection)]);return d.sort(_.e.compareRangesUsingEnds),d[2]}static deleteWordPartRight(o){const d=D([I.deleteWordRight(o,0),I.deleteWordRight(o,2),I._deleteWordPartRight(o.model,o.selection)]);return d.sort(_.e.compareRangesUsingStarts),d[0]}static moveWordPartLeft(o,d,u){const i=D([I.moveWordLeft(o,d,u,0),I.moveWordLeft(o,d,u,2),I._moveWordPartLeft(d,u)]);return i.sort(c.L.compare),i[2]}static moveWordPartRight(o,d,u){const i=D([I.moveWordRight(o,d,u,0),I.moveWordRight(o,d,u,2),I._moveWordPartRight(d,u)]);return i.sort(c.L.compare),i[0]}}function D(p){return p.filter(o=>!!o)}},25919:function(Pt,Ke,e){"use strict";e.d(Ke,{KU:function(){return E},NT:function(){return M},i8:function(){return c},n0:function(){return I},zl:function(){return _}});var b=e(9488),z=e(17301),r=e(19247);class E{static trivial(p,o){return new E([new c(r.q.ofLength(p.length),r.q.ofLength(o.length))],!1)}static trivialTimedOut(p,o){return new E([new c(r.q.ofLength(p.length),r.q.ofLength(o.length))],!0)}constructor(p,o){this.diffs=p,this.hitTimeout=o}}class c{static invert(p,o){const d=[];return(0,b.zy)(p,(u,i)=>{d.push(c.fromOffsetPairs(u?u.getEndExclusives():_.zero,i?i.getStarts():new _(o,(u?u.seq2Range.endExclusive-u.seq1Range.endExclusive:0)+o)))}),d}static fromOffsetPairs(p,o){return new c(new r.q(p.offset1,o.offset1),new r.q(p.offset2,o.offset2))}constructor(p,o){this.seq1Range=p,this.seq2Range=o}swap(){return new c(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(p){return new c(this.seq1Range.join(p.seq1Range),this.seq2Range.join(p.seq2Range))}delta(p){return p===0?this:new c(this.seq1Range.delta(p),this.seq2Range.delta(p))}deltaStart(p){return p===0?this:new c(this.seq1Range.deltaStart(p),this.seq2Range.deltaStart(p))}deltaEnd(p){return p===0?this:new c(this.seq1Range.deltaEnd(p),this.seq2Range.deltaEnd(p))}intersect(p){const o=this.seq1Range.intersect(p.seq1Range),d=this.seq2Range.intersect(p.seq2Range);if(!(!o||!d))return new c(o,d)}getStarts(){return new _(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new _(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class _{constructor(p,o){this.offset1=p,this.offset2=o}toString(){return`${this.offset1} <-> ${this.offset2}`}}_.zero=new _(0,0),_.max=new _(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class I{isValid(){return!0}}I.instance=new I;class M{constructor(p){if(this.timeout=p,this.startTime=Date.now(),this.valid=!0,p<=0)throw new z.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}},62549:function(Pt,Ke,e){"use strict";e.d(Ke,{DW:function(){return H}});var b=e(9488),z=e(35146),r=e(45463),E=e(19247),c=e(24314),_=e(25919);class I{constructor(W,K){this.width=W,this.height=K,this.array=[],this.array=new Array(W*K)}get(W,K){return this.array[W+K*this.width]}set(W,K,m){this.array[W+K*this.width]=m}}function M(j){return j===32||j===9}class D{static getKey(W){let K=this.chrKeys.get(W);return K===void 0&&(K=this.chrKeys.size,this.chrKeys.set(W,K)),K}constructor(W,K,m){this.range=W,this.lines=K,this.source=m,this.histogram=[];let J=0;for(let X=W.startLineNumber-1;X<W.endLineNumberExclusive-1;X++){const ie=K[X];for(let fe=0;fe<ie.length;fe++){J++;const Le=ie[fe],pe=D.getKey(Le);this.histogram[pe]=(this.histogram[pe]||0)+1}J++;const le=D.getKey(`
`);this.histogram[le]=(this.histogram[le]||0)+1}this.totalCount=J}computeSimilarity(W){var K,m;let J=0;const X=Math.max(this.histogram.length,W.histogram.length);for(let ie=0;ie<X;ie++)J+=Math.abs(((K=this.histogram[ie])!==null&&K!==void 0?K:0)-((m=W.histogram[ie])!==null&&m!==void 0?m:0));return 1-J/(this.totalCount+W.totalCount)}}D.chrKeys=new Map;class p{compute(W,K,m=_.n0.instance,J){if(W.length===0||K.length===0)return _.KU.trivial(W,K);const X=new I(W.length,K.length),ie=new I(W.length,K.length),le=new I(W.length,K.length);for(let Ne=0;Ne<W.length;Ne++)for(let We=0;We<K.length;We++){if(!m.isValid())return _.KU.trivialTimedOut(W,K);const ze=Ne===0?0:X.get(Ne-1,We),Se=We===0?0:X.get(Ne,We-1);let ne;W.getElement(Ne)===K.getElement(We)?(Ne===0||We===0?ne=0:ne=X.get(Ne-1,We-1),Ne>0&&We>0&&ie.get(Ne-1,We-1)===3&&(ne+=le.get(Ne-1,We-1)),ne+=J?J(Ne,We):1):ne=-1;const ce=Math.max(ze,Se,ne);if(ce===ne){const Oe=Ne>0&&We>0?le.get(Ne-1,We-1):0;le.set(Ne,We,Oe+1),ie.set(Ne,We,3)}else ce===ze?(le.set(Ne,We,0),ie.set(Ne,We,1)):ce===Se&&(le.set(Ne,We,0),ie.set(Ne,We,2));X.set(Ne,We,ce)}const fe=[];let Le=W.length,pe=K.length;function Te(Ne,We){(Ne+1!==Le||We+1!==pe)&&fe.push(new _.i8(new E.q(Ne+1,Le),new E.q(We+1,pe))),Le=Ne,pe=We}let De=W.length-1,ae=K.length-1;for(;De>=0&&ae>=0;)ie.get(De,ae)===3?(Te(De,ae),De--,ae--):ie.get(De,ae)===1?De--:ae--;return Te(-1,-1),fe.reverse(),new _.KU(fe,!1)}}class o{compute(W,K,m=_.n0.instance){if(W.length===0||K.length===0)return _.KU.trivial(W,K);const J=W,X=K;function ie(We,ze){for(;We<J.length&&ze<X.length&&J.getElement(We)===X.getElement(ze);)We++,ze++;return We}let le=0;const fe=new u;fe.set(0,ie(0,0));const Le=new i;Le.set(0,fe.get(0)===0?null:new d(null,0,0,fe.get(0)));let pe=0;e:for(;;){if(le++,!m.isValid())return _.KU.trivialTimedOut(J,X);const We=-Math.min(le,X.length+le%2),ze=Math.min(le,J.length+le%2);for(pe=We;pe<=ze;pe+=2){let Se=0;const ne=pe===ze?-1:fe.get(pe+1),ce=pe===We?-1:fe.get(pe-1)+1;Se++;const Oe=Math.min(Math.max(ne,ce),J.length),Pe=Oe-pe;if(Se++,Oe>J.length||Pe>X.length)continue;const Me=ie(Oe,Pe);fe.set(pe,Me);const ye=Oe===ne?Le.get(pe+1):Le.get(pe-1);if(Le.set(pe,Me!==Oe?new d(ye,Oe,Pe,Me-Oe):ye),fe.get(pe)===J.length&&fe.get(pe)-pe===X.length)break e}}let Te=Le.get(pe);const De=[];let ae=J.length,Ne=X.length;for(;;){const We=Te?Te.x+Te.length:0,ze=Te?Te.y+Te.length:0;if((We!==ae||ze!==Ne)&&De.push(new _.i8(new E.q(We,ae),new E.q(ze,Ne))),!Te)break;ae=Te.x,Ne=Te.y,Te=Te.prev}return De.reverse(),new _.KU(De,!1)}}class d{constructor(W,K,m,J){this.prev=W,this.x=K,this.y=m,this.length=J}}class u{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(W){return W<0?(W=-W-1,this.negativeArr[W]):this.positiveArr[W]}set(W,K){if(W<0){if(W=-W-1,W>=this.negativeArr.length){const m=this.negativeArr;this.negativeArr=new Int32Array(m.length*2),this.negativeArr.set(m)}this.negativeArr[W]=K}else{if(W>=this.positiveArr.length){const m=this.positiveArr;this.positiveArr=new Int32Array(m.length*2),this.positiveArr.set(m)}this.positiveArr[W]=K}}}class i{constructor(){this.positiveArr=[],this.negativeArr=[]}get(W){return W<0?(W=-W-1,this.negativeArr[W]):this.positiveArr[W]}set(W,K){W<0?(W=-W-1,this.negativeArr[W]=K):this.positiveArr[W]=K}}var n=e(54648),f=e(35534),v=e(43702),a=e(50187);class S{constructor(W,K,m){this.lines=W,this.considerWhitespaceChanges=m,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let J=!1;K.start>0&&K.endExclusive>=W.length&&(K=new E.q(K.start-1,K.endExclusive),J=!0),this.lineRange=K,this.firstCharOffsetByLine[0]=0;for(let X=this.lineRange.start;X<this.lineRange.endExclusive;X++){let ie=W[X],le=0;if(J)le=ie.length,ie="",J=!1;else if(!m){const fe=ie.trimStart();le=ie.length-fe.length,ie=fe.trimEnd()}this.additionalOffsetByLine.push(le);for(let fe=0;fe<ie.length;fe++)this.elements.push(ie.charCodeAt(fe));X<W.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLine[X-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new E.q(0,this.length))}getText(W){return this.elements.slice(W.start,W.endExclusive).map(K=>String.fromCharCode(K)).join("")}getElement(W){return this.elements[W]}get length(){return this.elements.length}getBoundaryScore(W){const K=L(W>0?this.elements[W-1]:-1),m=L(W<this.elements.length?this.elements[W]:-1);if(K===7&&m===8)return 0;let J=0;return K!==m&&(J+=10,K===0&&m===1&&(J+=1)),J+=C(K),J+=C(m),J}translateOffset(W){if(this.lineRange.isEmpty)return new a.L(this.lineRange.start+1,1);const K=(0,f.Jw)(this.firstCharOffsetByLine,m=>m<=W);return new a.L(this.lineRange.start+K+1,W-this.firstCharOffsetByLine[K]+this.additionalOffsetByLine[K]+1)}translateRange(W){return c.e.fromPositions(this.translateOffset(W.start),this.translateOffset(W.endExclusive))}findWordContaining(W){if(W<0||W>=this.elements.length||!g(this.elements[W]))return;let K=W;for(;K>0&&g(this.elements[K-1]);)K--;let m=W;for(;m<this.elements.length&&g(this.elements[m]);)m++;return new E.q(K,m)}countLinesIn(W){return this.translateOffset(W.endExclusive).lineNumber-this.translateOffset(W.start).lineNumber}isStronglyEqual(W,K){return this.elements[W]===this.elements[K]}extendToFullLines(W){var K,m;const J=(K=(0,f.ti)(this.firstCharOffsetByLine,ie=>ie<=W.start))!==null&&K!==void 0?K:0,X=(m=(0,f.cn)(this.firstCharOffsetByLine,ie=>W.endExclusive<=ie))!==null&&m!==void 0?m:this.elements.length;return new E.q(J,X)}}function g(j){return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57}const y={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:3,[7]:10,[8]:10};function C(j){return y[j]}function L(j){return j===10?8:j===13?7:M(j)?6:j>=97&&j<=122?0:j>=65&&j<=90?1:j>=48&&j<=57?2:j===-1?3:j===44||j===59?5:4}function O(j,W,K,m,J,X){let{moves:ie,excludedChanges:le}=F(j,W,K,X);if(!X.isValid())return[];const fe=j.filter(pe=>!le.has(pe)),Le=B(fe,m,J,W,K,X);return(0,b.vA)(ie,Le),ie=Y(ie),ie=ie.filter(pe=>{const Te=pe.original.toOffsetRange().slice(W).map(ae=>ae.trim());return Te.join(`
`).length>=15&&T(Te,ae=>ae.length>=2)>=2}),ie=P(j,ie),ie}function T(j,W){let K=0;for(const m of j)W(m)&&K++;return K}function F(j,W,K,m){const J=[],X=j.filter(fe=>fe.modified.isEmpty&&fe.original.length>=3).map(fe=>new D(fe.original,W,fe)),ie=new Set(j.filter(fe=>fe.original.isEmpty&&fe.modified.length>=3).map(fe=>new D(fe.modified,K,fe))),le=new Set;for(const fe of X){let Le=-1,pe;for(const Te of ie){const De=fe.computeSimilarity(Te);De>Le&&(Le=De,pe=Te)}if(Le>.9&&pe&&(ie.delete(pe),J.push(new n.f0(fe.range,pe.range)),le.add(fe.source),le.add(pe.source)),!m.isValid())return{moves:J,excludedChanges:le}}return{moves:J,excludedChanges:le}}function B(j,W,K,m,J,X){const ie=[],le=new v.ri;for(const De of j)for(let ae=De.original.startLineNumber;ae<De.original.endLineNumberExclusive-2;ae++){const Ne=`${W[ae-1]}:${W[ae+1-1]}:${W[ae+2-1]}`;le.add(Ne,{range:new r.z(ae,ae+3)})}const fe=[];j.sort((0,b.tT)(De=>De.modified.startLineNumber,b.fv));for(const De of j){let ae=[];for(let Ne=De.modified.startLineNumber;Ne<De.modified.endLineNumberExclusive-2;Ne++){const We=`${K[Ne-1]}:${K[Ne+1-1]}:${K[Ne+2-1]}`,ze=new r.z(Ne,Ne+3),Se=[];le.forEach(We,({range:ne})=>{for(const Oe of ae)if(Oe.originalLineRange.endLineNumberExclusive+1===ne.endLineNumberExclusive&&Oe.modifiedLineRange.endLineNumberExclusive+1===ze.endLineNumberExclusive){Oe.originalLineRange=new r.z(Oe.originalLineRange.startLineNumber,ne.endLineNumberExclusive),Oe.modifiedLineRange=new r.z(Oe.modifiedLineRange.startLineNumber,ze.endLineNumberExclusive),Se.push(Oe);return}const ce={modifiedLineRange:ze,originalLineRange:ne};fe.push(ce),Se.push(ce)}),ae=Se}if(!X.isValid())return[]}fe.sort((0,b.BV)((0,b.tT)(De=>De.modifiedLineRange.length,b.fv)));const Le=new r.i,pe=new r.i;for(const De of fe){const ae=De.modifiedLineRange.startLineNumber-De.originalLineRange.startLineNumber,Ne=Le.subtractFrom(De.modifiedLineRange),We=pe.subtractFrom(De.originalLineRange).getWithDelta(ae),ze=Ne.getIntersection(We);for(const Se of ze.ranges){if(Se.length<3)continue;const ne=Se,ce=Se.delta(-ae);ie.push(new n.f0(ce,ne)),Le.addRange(ne),pe.addRange(ce)}}ie.sort((0,b.tT)(De=>De.original.startLineNumber,b.fv));const Te=new f.b1(j);for(let De=0;De<ie.length;De++){const ae=ie[De],Ne=Te.findLastMonotonous(Me=>Me.original.startLineNumber<=ae.original.startLineNumber),We=(0,f.ti)(j,Me=>Me.modified.startLineNumber<=ae.modified.startLineNumber),ze=Math.max(ae.original.startLineNumber-Ne.original.startLineNumber,ae.modified.startLineNumber-We.modified.startLineNumber),Se=Te.findLastMonotonous(Me=>Me.original.startLineNumber<ae.original.endLineNumberExclusive),ne=(0,f.ti)(j,Me=>Me.modified.startLineNumber<ae.modified.endLineNumberExclusive),ce=Math.max(Se.original.endLineNumberExclusive-ae.original.endLineNumberExclusive,ne.modified.endLineNumberExclusive-ae.modified.endLineNumberExclusive);let Oe;for(Oe=0;Oe<ze;Oe++){const Me=ae.original.startLineNumber-Oe-1,ye=ae.modified.startLineNumber-Oe-1;if(Me>m.length||ye>J.length||Le.contains(ye)||pe.contains(Me)||!$(m[Me-1],J[ye-1],X))break}Oe>0&&(pe.addRange(new r.z(ae.original.startLineNumber-Oe,ae.original.startLineNumber)),Le.addRange(new r.z(ae.modified.startLineNumber-Oe,ae.modified.startLineNumber)));let Pe;for(Pe=0;Pe<ce;Pe++){const Me=ae.original.endLineNumberExclusive+Pe,ye=ae.modified.endLineNumberExclusive+Pe;if(Me>m.length||ye>J.length||Le.contains(ye)||pe.contains(Me)||!$(m[Me-1],J[ye-1],X))break}Pe>0&&(pe.addRange(new r.z(ae.original.endLineNumberExclusive,ae.original.endLineNumberExclusive+Pe)),Le.addRange(new r.z(ae.modified.endLineNumberExclusive,ae.modified.endLineNumberExclusive+Pe))),(Oe>0||Pe>0)&&(ie[De]=new n.f0(new r.z(ae.original.startLineNumber-Oe,ae.original.endLineNumberExclusive+Pe),new r.z(ae.modified.startLineNumber-Oe,ae.modified.endLineNumberExclusive+Pe)))}return ie}function $(j,W,K){if(j.trim()===W.trim())return!0;if(j.length>300&&W.length>300)return!1;const J=new o().compute(new S([j],new E.q(0,1),!1),new S([W],new E.q(0,1),!1),K);let X=0;const ie=_.i8.invert(J.diffs,j.length);for(const pe of ie)pe.seq1Range.forEach(Te=>{M(j.charCodeAt(Te))||X++});function le(pe){let Te=0;for(let De=0;De<j.length;De++)M(pe.charCodeAt(De))||Te++;return Te}const fe=le(j.length>W.length?j:W);return X/fe>.6&&fe>10}function Y(j){if(j.length===0)return j;j.sort((0,b.tT)(K=>K.original.startLineNumber,b.fv));const W=[j[0]];for(let K=1;K<j.length;K++){const m=W[W.length-1],J=j[K],X=J.original.startLineNumber-m.original.endLineNumberExclusive,ie=J.modified.startLineNumber-m.modified.endLineNumberExclusive;if(X>=0&&ie>=0&&X+ie<=2){W[W.length-1]=m.join(J);continue}W.push(J)}return W}function P(j,W){const K=new f.b1(j);return W=W.filter(m=>{const J=K.findLastMonotonous(le=>le.original.startLineNumber<m.original.endLineNumberExclusive)||new n.f0(new r.z(1,1),new r.z(1,1)),X=(0,f.ti)(j,le=>le.modified.startLineNumber<m.modified.endLineNumberExclusive);return J!==X}),W}var w=e(39156),V=e(60652);class R{constructor(W,K){this.trimmedHash=W,this.lines=K}getElement(W){return this.trimmedHash[W]}get length(){return this.trimmedHash.length}getBoundaryScore(W){const K=W===0?0:A(this.lines[W-1]),m=W===this.lines.length?0:A(this.lines[W]);return 1e3-(K+m)}getText(W){return this.lines.slice(W.start,W.endExclusive).join(`
`)}isStronglyEqual(W,K){return this.lines[W]===this.lines[K]}}function A(j){let W=0;for(;W<j.length&&(j.charCodeAt(W)===32||j.charCodeAt(W)===9);)W++;return W}class H{constructor(){this.dynamicProgrammingDiffing=new p,this.myersDiffingAlgorithm=new o}computeDiff(W,K,m){if(W.length<=1&&(0,b.fS)(W,K,(Pe,Me)=>Pe===Me))return new V.h([],[],!1);if(W.length===1&&W[0].length===0||K.length===1&&K[0].length===0)return new V.h([new n.gB(new r.z(1,W.length+1),new r.z(1,K.length+1),[new n.iy(new c.e(1,1,W.length,W[0].length+1),new c.e(1,1,K.length,K[0].length+1))])],[],!1);const J=m.maxComputationTimeMs===0?_.n0.instance:new _.NT(m.maxComputationTimeMs),X=!m.ignoreTrimWhitespace,ie=new Map;function le(Pe){let Me=ie.get(Pe);return Me===void 0&&(Me=ie.size,ie.set(Pe,Me)),Me}const fe=W.map(Pe=>le(Pe.trim())),Le=K.map(Pe=>le(Pe.trim())),pe=new R(fe,W),Te=new R(Le,K),De=(()=>pe.length+Te.length<1700?this.dynamicProgrammingDiffing.compute(pe,Te,J,(Pe,Me)=>W[Pe]===K[Me]?K[Me].length===0?.1:1+Math.log(1+K[Me].length):.99):this.myersDiffingAlgorithm.compute(pe,Te))();let ae=De.diffs,Ne=De.hitTimeout;ae=(0,w.xG)(pe,Te,ae),ae=(0,w.rh)(pe,Te,ae);const We=[],ze=Pe=>{if(X)for(let Me=0;Me<Pe;Me++){const ye=Se+Me,_e=ne+Me;if(W[ye]!==K[_e]){const se=this.refineDiff(W,K,new _.i8(new E.q(ye,ye+1),new E.q(_e,_e+1)),J,X);for(const ve of se.mappings)We.push(ve);se.hitTimeout&&(Ne=!0)}}};let Se=0,ne=0;for(const Pe of ae){(0,z.eZ)(()=>Pe.seq1Range.start-Se===Pe.seq2Range.start-ne);const Me=Pe.seq1Range.start-Se;ze(Me),Se=Pe.seq1Range.endExclusive,ne=Pe.seq2Range.endExclusive;const ye=this.refineDiff(W,K,Pe,J,X);ye.hitTimeout&&(Ne=!0);for(const _e of ye.mappings)We.push(_e)}ze(W.length-Se);const ce=U(We,W,K);let Oe=[];return m.computeMoves&&(Oe=this.computeMoves(ce,W,K,fe,Le,J,X)),(0,z.eZ)(()=>{function Pe(ye,_e){if(ye.lineNumber<1||ye.lineNumber>_e.length)return!1;const se=_e[ye.lineNumber-1];return!(ye.column<1||ye.column>se.length+1)}function Me(ye,_e){return!(ye.startLineNumber<1||ye.startLineNumber>_e.length+1||ye.endLineNumberExclusive<1||ye.endLineNumberExclusive>_e.length+1)}for(const ye of ce){if(!ye.innerChanges)return!1;for(const _e of ye.innerChanges)if(!(Pe(_e.modifiedRange.getStartPosition(),K)&&Pe(_e.modifiedRange.getEndPosition(),K)&&Pe(_e.originalRange.getStartPosition(),W)&&Pe(_e.originalRange.getEndPosition(),W)))return!1;if(!Me(ye.modified,K)||!Me(ye.original,W))return!1}return!0}),new V.h(ce,Oe,Ne)}computeMoves(W,K,m,J,X,ie,le){return O(W,K,m,J,X,ie).map(pe=>{const Te=this.refineDiff(K,m,new _.i8(pe.original.toOffsetRange(),pe.modified.toOffsetRange()),ie,le),De=U(Te.mappings,K,m,!0);return new V.y(pe,De)})}refineDiff(W,K,m,J,X){const ie=new S(W,m.seq1Range,X),le=new S(K,m.seq2Range,X),fe=ie.length+le.length<500?this.dynamicProgrammingDiffing.compute(ie,le,J):this.myersDiffingAlgorithm.compute(ie,le,J);let Le=fe.diffs;return Le=(0,w.xG)(ie,le,Le),Le=(0,w.g0)(ie,le,Le),Le=(0,w.oK)(ie,le,Le),Le=(0,w.DI)(ie,le,Le),{mappings:Le.map(Te=>new n.iy(ie.translateRange(Te.seq1Range),le.translateRange(Te.seq2Range))),hitTimeout:fe.hitTimeout}}}function U(j,W,K,m=!1){const J=[];for(const X of(0,b.mw)(j.map(ie=>G(ie,W,K)),(ie,le)=>ie.original.overlapOrTouch(le.original)||ie.modified.overlapOrTouch(le.modified))){const ie=X[0],le=X[X.length-1];J.push(new n.gB(ie.original.join(le.original),ie.modified.join(le.modified),X.map(fe=>fe.innerChanges[0])))}return(0,z.eZ)(()=>!m&&J.length>0&&J[0].original.startLineNumber!==J[0].modified.startLineNumber?!1:(0,z.DM)(J,(X,ie)=>ie.original.startLineNumber-X.original.endLineNumberExclusive===ie.modified.startLineNumber-X.modified.endLineNumberExclusive&&X.original.endLineNumberExclusive<ie.original.startLineNumber&&X.modified.endLineNumberExclusive<ie.modified.startLineNumber)),J}function G(j,W,K){let m=0,J=0;j.modifiedRange.endColumn===1&&j.originalRange.endColumn===1&&j.originalRange.startLineNumber+m<=j.originalRange.endLineNumber&&j.modifiedRange.startLineNumber+m<=j.modifiedRange.endLineNumber&&(J=-1),j.modifiedRange.startColumn-1>=K[j.modifiedRange.startLineNumber-1].length&&j.originalRange.startColumn-1>=W[j.originalRange.startLineNumber-1].length&&j.originalRange.startLineNumber<=j.originalRange.endLineNumber+J&&j.modifiedRange.startLineNumber<=j.modifiedRange.endLineNumber+J&&(m=1);const X=new r.z(j.originalRange.startLineNumber+m,j.originalRange.endLineNumber+1+J),ie=new r.z(j.modifiedRange.startLineNumber+m,j.modifiedRange.endLineNumber+1+J);return new n.gB(X,ie,[j])}},39156:function(Pt,Ke,e){"use strict";e.d(Ke,{DI:function(){return d},g0:function(){return D},oK:function(){return M},rh:function(){return o},xG:function(){return E}});var b=e(9488),z=e(19247),r=e(25919);function E(u,i,n){let f=n;return f=c(u,i,f),f=c(u,i,f),f=_(u,i,f),f}function c(u,i,n){if(n.length===0)return n;const f=[];f.push(n[0]);for(let a=1;a<n.length;a++){const S=f[f.length-1];let g=n[a];if(g.seq1Range.isEmpty||g.seq2Range.isEmpty){const y=g.seq1Range.start-S.seq1Range.endExclusive;let C;for(C=1;C<=y&&!(u.getElement(g.seq1Range.start-C)!==u.getElement(g.seq1Range.endExclusive-C)||i.getElement(g.seq2Range.start-C)!==i.getElement(g.seq2Range.endExclusive-C));C++);if(C--,C===y){f[f.length-1]=new r.i8(new z.q(S.seq1Range.start,g.seq1Range.endExclusive-y),new z.q(S.seq2Range.start,g.seq2Range.endExclusive-y));continue}g=g.delta(-C)}f.push(g)}const v=[];for(let a=0;a<f.length-1;a++){const S=f[a+1];let g=f[a];if(g.seq1Range.isEmpty||g.seq2Range.isEmpty){const y=S.seq1Range.start-g.seq1Range.endExclusive;let C;for(C=0;C<y&&!(!u.isStronglyEqual(g.seq1Range.start+C,g.seq1Range.endExclusive+C)||!i.isStronglyEqual(g.seq2Range.start+C,g.seq2Range.endExclusive+C));C++);if(C===y){f[a+1]=new r.i8(new z.q(g.seq1Range.start+y,S.seq1Range.endExclusive),new z.q(g.seq2Range.start+y,S.seq2Range.endExclusive));continue}C>0&&(g=g.delta(C))}v.push(g)}return f.length>0&&v.push(f[f.length-1]),v}function _(u,i,n){if(!u.getBoundaryScore||!i.getBoundaryScore)return n;for(let f=0;f<n.length;f++){const v=f>0?n[f-1]:void 0,a=n[f],S=f+1<n.length?n[f+1]:void 0,g=new z.q(v?v.seq1Range.start+1:0,S?S.seq1Range.endExclusive-1:u.length),y=new z.q(v?v.seq2Range.start+1:0,S?S.seq2Range.endExclusive-1:i.length);a.seq1Range.isEmpty?n[f]=I(a,u,i,g,y):a.seq2Range.isEmpty&&(n[f]=I(a.swap(),i,u,y,g).swap())}return n}function I(u,i,n,f,v){let S=1;for(;u.seq1Range.start-S>=f.start&&u.seq2Range.start-S>=v.start&&n.isStronglyEqual(u.seq2Range.start-S,u.seq2Range.endExclusive-S)&&S<100;)S++;S--;let g=0;for(;u.seq1Range.start+g<f.endExclusive&&u.seq2Range.endExclusive+g<v.endExclusive&&n.isStronglyEqual(u.seq2Range.start+g,u.seq2Range.endExclusive+g)&&g<100;)g++;if(S===0&&g===0)return u;let y=0,C=-1;for(let L=-S;L<=g;L++){const O=u.seq2Range.start+L,T=u.seq2Range.endExclusive+L,F=u.seq1Range.start+L,B=i.getBoundaryScore(F)+n.getBoundaryScore(O)+n.getBoundaryScore(T);B>C&&(C=B,y=L)}return u.delta(y)}function M(u,i,n){const f=[];for(const v of n){const a=f[f.length-1];if(!a){f.push(v);continue}v.seq1Range.start-a.seq1Range.endExclusive<=2||v.seq2Range.start-a.seq2Range.endExclusive<=2?f[f.length-1]=new r.i8(a.seq1Range.join(v.seq1Range),a.seq2Range.join(v.seq2Range)):f.push(v)}return f}function D(u,i,n){const f=[];let v;function a(){if(!v)return;const g=v.s1Range.length-v.deleted,y=v.s2Range.length-v.added;Math.max(v.deleted,v.added)+(v.count-1)>g&&f.push(new r.i8(v.s1Range,v.s2Range)),v=void 0}for(const g of n){let y=function(F,B){var $,Y,P,w;if(!v||!v.s1Range.containsRange(F)||!v.s2Range.containsRange(B))if(v&&!(v.s1Range.endExclusive<F.start&&v.s2Range.endExclusive<B.start)){const A=z.q.tryCreate(v.s1Range.endExclusive,F.start),H=z.q.tryCreate(v.s2Range.endExclusive,B.start);v.deleted+=($=A==null?void 0:A.length)!==null&&$!==void 0?$:0,v.added+=(Y=H==null?void 0:H.length)!==null&&Y!==void 0?Y:0,v.s1Range=v.s1Range.join(F),v.s2Range=v.s2Range.join(B)}else a(),v={added:0,deleted:0,count:0,s1Range:F,s2Range:B};const V=F.intersect(g.seq1Range),R=B.intersect(g.seq2Range);v.count++,v.deleted+=(P=V==null?void 0:V.length)!==null&&P!==void 0?P:0,v.added+=(w=R==null?void 0:R.length)!==null&&w!==void 0?w:0};const C=u.findWordContaining(g.seq1Range.start-1),L=i.findWordContaining(g.seq2Range.start-1),O=u.findWordContaining(g.seq1Range.endExclusive),T=i.findWordContaining(g.seq2Range.endExclusive);C&&O&&L&&T&&C.equals(O)&&L.equals(T)?y(C,L):(C&&L&&y(C,L),O&&T&&y(O,T))}return a(),p(n,f)}function p(u,i){const n=[];for(;u.length>0||i.length>0;){const f=u[0],v=i[0];let a;f&&(!v||f.seq1Range.start<v.seq1Range.start)?a=u.shift():a=i.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=a.seq1Range.start?n[n.length-1]=n[n.length-1].join(a):n.push(a)}return n}function o(u,i,n){let f=n;if(f.length===0)return f;let v=0,a;do{a=!1;const S=[f[0]];for(let g=1;g<f.length;g++){let L=function(T,F){const B=new z.q(C.seq1Range.endExclusive,y.seq1Range.start);return u.getText(B).replace(/\s/g,"").length<=4&&(T.seq1Range.length+T.seq2Range.length>5||F.seq1Range.length+F.seq2Range.length>5)};const y=f[g],C=S[S.length-1];L(C,y)?(a=!0,S[S.length-1]=S[S.length-1].join(y)):S.push(y)}f=S}while(v++<10&&a);return f}function d(u,i,n){let f=n;if(f.length===0)return f;let v=0,a;do{a=!1;const g=[f[0]];for(let y=1;y<f.length;y++){let O=function(F,B){const $=new z.q(L.seq1Range.endExclusive,C.seq1Range.start);if(u.countLinesIn($)>5||$.length>500)return!1;const P=u.getText($).trim();if(P.length>20||P.split(/\r\n|\r|\n/).length>1)return!1;const w=u.countLinesIn(F.seq1Range),V=F.seq1Range.length,R=i.countLinesIn(F.seq2Range),A=F.seq2Range.length,H=u.countLinesIn(B.seq1Range),U=B.seq1Range.length,G=i.countLinesIn(B.seq2Range),j=B.seq2Range.length,W=2*40+50;function K(m){return Math.min(m,W)}return Math.pow(Math.pow(K(w*40+V),1.5)+Math.pow(K(R*40+A),1.5),1.5)+Math.pow(Math.pow(K(H*40+U),1.5)+Math.pow(K(G*40+j),1.5),1.5)>Sa(Sa(W,1.5),1.5)*1.3};const C=f[y],L=g[g.length-1];O(L,C)?(a=!0,g[g.length-1]=g[g.length-1].join(C)):g.push(C)}f=g}while(v++<10&&a);const S=[];return(0,b.KO)(f,(g,y,C)=>{let L=y;function O(P){return P.length>0&&P.trim().length<=3&&y.seq1Range.length+y.seq2Range.length>100}const T=u.extendToFullLines(y.seq1Range),F=u.getText(new z.q(T.start,y.seq1Range.start));O(F)&&(L=L.deltaStart(-F.length));const B=u.getText(new z.q(y.seq1Range.endExclusive,T.endExclusive));O(B)&&(L=L.deltaEnd(B.length));const $=r.i8.fromOffsetPairs(g?g.getEndExclusives():r.zl.zero,C?C.getStarts():r.zl.max),Y=L.intersect($);S.push(Y)}),S}},60652:function(Pt,Ke,e){"use strict";e.d(Ke,{h:function(){return b},y:function(){return z}});class b{constructor(E,c,_){this.changes=E,this.moves=c,this.hitTimeout=_}}class z{constructor(E,c){this.lineRangeMapping=E,this.changes=c}}},54648:function(Pt,Ke,e){"use strict";e.d(Ke,{f0:function(){return z},gB:function(){return r},iy:function(){return E}});var b=e(45463);class z{static inverse(_,I,M){const D=[];let p=1,o=1;for(const u of _){const i=new r(new b.z(p,u.original.startLineNumber),new b.z(o,u.modified.startLineNumber),void 0);i.modified.isEmpty||D.push(i),p=u.original.endLineNumberExclusive,o=u.modified.endLineNumberExclusive}const d=new r(new b.z(p,I+1),new b.z(o,M+1),void 0);return d.modified.isEmpty||D.push(d),D}constructor(_,I){this.original=_,this.modified=I}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new z(this.modified,this.original)}join(_){return new z(this.original.join(_.original),this.modified.join(_.modified))}}class r extends z{constructor(_,I,M){super(_,I),this.innerChanges=M}flip(){var _;return new r(this.modified,this.original,(_=this.innerChanges)===null||_===void 0?void 0:_.map(I=>I.flip()))}}class E{constructor(_,I){this.originalRange=_,this.modifiedRange=I}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new E(this.modifiedRange,this.originalRange)}}},30653:function(Pt,Ke,e){"use strict";e.d(Ke,{p:function(){return b}});class b{constructor(r,E,c,_,I,M,D){this.id=r,this.label=E,this.alias=c,this.metadata=_,this._precondition=I,this._run=M,this._contextKeyService=D}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(r){return this.isSupported()?this._run(r):Promise.resolve(void 0)}}},96518:function(Pt,Ke,e){"use strict";e.d(Ke,{g:function(){return b}});const b={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Pt,Ke,e){"use strict";e.d(Ke,{u:function(){return r}});var b=e(63580),z=e(32064),r;(function(E){E.editorSimpleInput=new z.uy("editorSimpleInput",!1,!0),E.editorTextFocus=new z.uy("editorTextFocus",!1,b.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),E.focus=new z.uy("editorFocus",!1,b.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),E.textInputFocus=new z.uy("textInputFocus",!1,b.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),E.readOnly=new z.uy("editorReadonly",!1,b.NC("editorReadonly","Whether the editor is read-only")),E.inDiffEditor=new z.uy("inDiffEditor",!1,b.NC("inDiffEditor","Whether the context is a diff editor")),E.isEmbeddedDiffEditor=new z.uy("isEmbeddedDiffEditor",!1,b.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),E.inMultiDiffEditor=new z.uy("inMultiDiffEditor",!1,b.NC("inMultiDiffEditor","Whether the context is a multi diff editor")),E.multiDiffEditorAllCollapsed=new z.uy("multiDiffEditorAllCollapsed",void 0,b.NC("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),E.hasChanges=new z.uy("diffEditorHasChanges",!1,b.NC("diffEditorHasChanges","Whether the diff editor has changes")),E.comparingMovedCode=new z.uy("comparingMovedCode",!1,b.NC("comparingMovedCode","Whether a moved code block is selected for comparison")),E.accessibleDiffViewerVisible=new z.uy("accessibleDiffViewerVisible",!1,b.NC("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),E.diffEditorRenderSideBySideInlineBreakpointReached=new z.uy("diffEditorRenderSideBySideInlineBreakpointReached",!1,b.NC("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),E.columnSelection=new z.uy("editorColumnSelection",!1,b.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),E.writable=E.readOnly.toNegated(),E.hasNonEmptySelection=new z.uy("editorHasSelection",!1,b.NC("editorHasSelection","Whether the editor has text selected")),E.hasOnlyEmptySelection=E.hasNonEmptySelection.toNegated(),E.hasMultipleSelections=new z.uy("editorHasMultipleSelections",!1,b.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),E.hasSingleSelection=E.hasMultipleSelections.toNegated(),E.tabMovesFocus=new z.uy("editorTabMovesFocus",!1,b.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),E.tabDoesNotMoveFocus=E.tabMovesFocus.toNegated(),E.isInWalkThroughSnippet=new z.uy("isInEmbeddedEditor",!1,!0),E.canUndo=new z.uy("canUndo",!1,!0),E.canRedo=new z.uy("canRedo",!1,!0),E.hoverVisible=new z.uy("editorHoverVisible",!1,b.NC("editorHoverVisible","Whether the editor hover is visible")),E.hoverFocused=new z.uy("editorHoverFocused",!1,b.NC("editorHoverFocused","Whether the editor hover is focused")),E.stickyScrollFocused=new z.uy("stickyScrollFocused",!1,b.NC("stickyScrollFocused","Whether the sticky scroll is focused")),E.stickyScrollVisible=new z.uy("stickyScrollVisible",!1,b.NC("stickyScrollVisible","Whether the sticky scroll is visible")),E.standaloneColorPickerVisible=new z.uy("standaloneColorPickerVisible",!1,b.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),E.standaloneColorPickerFocused=new z.uy("standaloneColorPickerFocused",!1,b.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),E.inCompositeEditor=new z.uy("inCompositeEditor",void 0,b.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),E.notInCompositeEditor=E.inCompositeEditor.toNegated(),E.languageId=new z.uy("editorLangId","",b.NC("editorLangId","The language identifier of the editor")),E.hasCompletionItemProvider=new z.uy("editorHasCompletionItemProvider",!1,b.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),E.hasCodeActionsProvider=new z.uy("editorHasCodeActionsProvider",!1,b.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),E.hasCodeLensProvider=new z.uy("editorHasCodeLensProvider",!1,b.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),E.hasDefinitionProvider=new z.uy("editorHasDefinitionProvider",!1,b.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),E.hasDeclarationProvider=new z.uy("editorHasDeclarationProvider",!1,b.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),E.hasImplementationProvider=new z.uy("editorHasImplementationProvider",!1,b.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),E.hasTypeDefinitionProvider=new z.uy("editorHasTypeDefinitionProvider",!1,b.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),E.hasHoverProvider=new z.uy("editorHasHoverProvider",!1,b.NC("editorHasHoverProvider","Whether the editor has a hover provider")),E.hasDocumentHighlightProvider=new z.uy("editorHasDocumentHighlightProvider",!1,b.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),E.hasDocumentSymbolProvider=new z.uy("editorHasDocumentSymbolProvider",!1,b.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),E.hasReferenceProvider=new z.uy("editorHasReferenceProvider",!1,b.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),E.hasRenameProvider=new z.uy("editorHasRenameProvider",!1,b.NC("editorHasRenameProvider","Whether the editor has a rename provider")),E.hasSignatureHelpProvider=new z.uy("editorHasSignatureHelpProvider",!1,b.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),E.hasInlayHintsProvider=new z.uy("editorHasInlayHintsProvider",!1,b.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),E.hasDocumentFormattingProvider=new z.uy("editorHasDocumentFormattingProvider",!1,b.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),E.hasDocumentSelectionFormattingProvider=new z.uy("editorHasDocumentSelectionFormattingProvider",!1,b.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),E.hasMultipleDocumentFormattingProvider=new z.uy("editorHasMultipleDocumentFormattingProvider",!1,b.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),E.hasMultipleDocumentSelectionFormattingProvider=new z.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,b.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(r||(r={}))},10637:function(Pt,Ke,e){"use strict";e.d(Ke,{n:function(){return r},y:function(){return z}});const b=[];function z(E){b.push(E)}function r(){return b.slice(0)}},45797:function(Pt,Ke,e){"use strict";e.d(Ke,{N:function(){return b}});class b{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&768)>>>8}static containsBalancedBrackets(r){return(r&1024)!==0}static getFontStyle(r){return(r&30720)>>>11}static getForeground(r){return(r&16744448)>>>15}static getBackground(r){return(r&4278190080)>>>24}static getClassNameFromMetadata(r){let c="mtk"+this.getForeground(r);const _=this.getFontStyle(r);return _&1&&(c+=" mtki"),_&2&&(c+=" mtkb"),_&4&&(c+=" mtku"),_&8&&(c+=" mtks"),c}static getInlineStyleFromMetadata(r,E){const c=this.getForeground(r),_=this.getFontStyle(r);let I=`color: ${E[c]};`;_&1&&(I+="font-style: italic;"),_&2&&(I+="font-weight: bold;");let M="";return _&4&&(M+=" underline"),_&8&&(M+=" line-through"),M&&(I+=`text-decoration:${M};`),I}static getPresentationFromMetadata(r){const E=this.getForeground(r),c=this.getFontStyle(r);return{foreground:E,italic:!!(c&1),bold:!!(c&2),underline:!!(c&4),strikethrough:!!(c&8)}}}},22970:function(Pt,Ke,e){"use strict";e.d(Ke,{G:function(){return r}});var b=e(14118),z=e(82663);function r(E,c,_,I,M,D){if(Array.isArray(E)){let p=0;for(const o of E){const d=r(o,c,_,I,M,D);if(d===10)return d;d>p&&(p=d)}return p}else{if(typeof E=="string")return I?E==="*"?5:E===_?10:0:0;if(E){const{language:p,pattern:o,scheme:d,hasAccessToAllModels:u,notebookType:i}=E;if(!I&&!u)return 0;i&&M&&(c=M);let n=0;if(d)if(d===c.scheme)n=10;else if(d==="*")n=5;else return 0;if(p)if(p===_)n=10;else if(p==="*")n=Math.max(n,5);else return 0;if(i)if(i===D)n=10;else if(i==="*"&&D!==void 0)n=Math.max(n,5);else return 0;if(o){let f;if(typeof o=="string"?f=o:f=Ln(Xi({},o),{base:(0,z.Fv)(o.base)}),f===c.fsPath||(0,b.EQ)(f,c.fsPath))n=10;else return 0}return n}else return 0}}},43155:function(Pt,Ke,e){"use strict";e.d(Ke,{mY:function(){return L},gX:function(){return d},MY:function(){return f},DI:function(){return o},AD:function(){return C},gl:function(){return O},bw:function(){return u},MO:function(){return T},ln:function(){return i},WW:function(){return n},uZ:function(){return g},WU:function(){return D},RW:function(){return F},hG:function(){return p},R4:function(){return S},vx:function(){return v}});var b=e(73046),z=e(70666),r=e(24314),E=e(4669),c=e(5976);class _{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange($){this._onDidChange.fire({changedLanguages:$,changedColorMap:!1})}register($,Y){return this._tokenizationSupports.set($,Y),this.handleChange([$]),(0,c.OF)(()=>{this._tokenizationSupports.get($)===Y&&(this._tokenizationSupports.delete($),this.handleChange([$]))})}get($){return this._tokenizationSupports.get($)||null}registerFactory($,Y){var P;(P=this._factories.get($))===null||P===void 0||P.dispose();const w=new I(this,$,Y);return this._factories.set($,w),(0,c.OF)(()=>{const V=this._factories.get($);!V||V!==w||(this._factories.delete($),V.dispose())})}getOrCreate($){return qt(this,null,function*(){const Y=this.get($);if(Y)return Y;const P=this._factories.get($);return!P||P.isResolved?null:(yield P.resolve(),this.get($))})}isResolved($){if(this.get($))return!0;const P=this._factories.get($);return!!(!P||P.isResolved)}setColorMap($){this._colorMap=$,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class I extends c.JT{get isResolved(){return this._isResolved}constructor($,Y,P){super(),this._registry=$,this._languageId=Y,this._factory=P,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return qt(this,null,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return qt(this,null,function*(){const $=yield this._factory.tokenizationSupport;this._isResolved=!0,$&&!this._isDisposed&&this._register(this._registry.register(this._languageId,$))})}}var M=e(63580);class D{constructor($,Y,P){this.offset=$,this.type=Y,this.language=P,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class p{constructor($,Y){this.tokens=$,this.endState=Y,this._tokenizationResultBrand=void 0}}class o{constructor($,Y){this.tokens=$,this.endState=Y,this._encodedTokenizationResultBrand=void 0}}var d;(function(B){const $=new Map;$.set(0,b.l.symbolMethod),$.set(1,b.l.symbolFunction),$.set(2,b.l.symbolConstructor),$.set(3,b.l.symbolField),$.set(4,b.l.symbolVariable),$.set(5,b.l.symbolClass),$.set(6,b.l.symbolStruct),$.set(7,b.l.symbolInterface),$.set(8,b.l.symbolModule),$.set(9,b.l.symbolProperty),$.set(10,b.l.symbolEvent),$.set(11,b.l.symbolOperator),$.set(12,b.l.symbolUnit),$.set(13,b.l.symbolValue),$.set(15,b.l.symbolEnum),$.set(14,b.l.symbolConstant),$.set(15,b.l.symbolEnum),$.set(16,b.l.symbolEnumMember),$.set(17,b.l.symbolKeyword),$.set(27,b.l.symbolSnippet),$.set(18,b.l.symbolText),$.set(19,b.l.symbolColor),$.set(20,b.l.symbolFile),$.set(21,b.l.symbolReference),$.set(22,b.l.symbolCustomColor),$.set(23,b.l.symbolFolder),$.set(24,b.l.symbolTypeParameter),$.set(25,b.l.account),$.set(26,b.l.issues);function Y(V){let R=$.get(V);return R||(console.info("No codicon found for CompletionItemKind "+V),R=b.l.symbolProperty),R}B.toIcon=Y;const P=new Map;P.set("method",0),P.set("function",1),P.set("constructor",2),P.set("field",3),P.set("variable",4),P.set("class",5),P.set("struct",6),P.set("interface",7),P.set("module",8),P.set("property",9),P.set("event",10),P.set("operator",11),P.set("unit",12),P.set("value",13),P.set("constant",14),P.set("enum",15),P.set("enum-member",16),P.set("enumMember",16),P.set("keyword",17),P.set("snippet",27),P.set("text",18),P.set("color",19),P.set("file",20),P.set("reference",21),P.set("customcolor",22),P.set("folder",23),P.set("type-parameter",24),P.set("typeParameter",24),P.set("account",25),P.set("issue",26);function w(V,R){let A=P.get(V);return typeof A=="undefined"&&!R&&(A=9),A}B.fromString=w})(d||(d={}));var u;(function(B){B[B.Automatic=0]="Automatic",B[B.Explicit=1]="Explicit"})(u||(u={}));class i{constructor($,Y,P,w){this.range=$,this.text=Y,this.completionKind=P,this.isSnippetText=w}equals($){return r.e.lift(this.range).equalsRange($.range)&&this.text===$.text&&this.completionKind===$.completionKind&&this.isSnippetText===$.isSnippetText}}var n;(function(B){B[B.Invoke=1]="Invoke",B[B.TriggerCharacter=2]="TriggerCharacter",B[B.ContentChange=3]="ContentChange"})(n||(n={}));var f;(function(B){B[B.Text=0]="Text",B[B.Read=1]="Read",B[B.Write=2]="Write"})(f||(f={}));function v(B){return B&&z.o.isUri(B.uri)&&r.e.isIRange(B.range)&&(r.e.isIRange(B.originSelectionRange)||r.e.isIRange(B.targetSelectionRange))}const a={[17]:(0,M.NC)("Array","array"),[16]:(0,M.NC)("Boolean","boolean"),[4]:(0,M.NC)("Class","class"),[13]:(0,M.NC)("Constant","constant"),[8]:(0,M.NC)("Constructor","constructor"),[9]:(0,M.NC)("Enum","enumeration"),[21]:(0,M.NC)("EnumMember","enumeration member"),[23]:(0,M.NC)("Event","event"),[7]:(0,M.NC)("Field","field"),[0]:(0,M.NC)("File","file"),[11]:(0,M.NC)("Function","function"),[10]:(0,M.NC)("Interface","interface"),[19]:(0,M.NC)("Key","key"),[5]:(0,M.NC)("Method","method"),[1]:(0,M.NC)("Module","module"),[2]:(0,M.NC)("Namespace","namespace"),[20]:(0,M.NC)("Null","null"),[15]:(0,M.NC)("Number","number"),[18]:(0,M.NC)("Object","object"),[24]:(0,M.NC)("Operator","operator"),[3]:(0,M.NC)("Package","package"),[6]:(0,M.NC)("Property","property"),[14]:(0,M.NC)("String","string"),[22]:(0,M.NC)("Struct","struct"),[25]:(0,M.NC)("TypeParameter","type parameter"),[12]:(0,M.NC)("Variable","variable")};function S(B,$){return(0,M.NC)("symbolAriaLabel","{0} ({1})",B,a[$])}var g;(function(B){const $=new Map;$.set(0,b.l.symbolFile),$.set(1,b.l.symbolModule),$.set(2,b.l.symbolNamespace),$.set(3,b.l.symbolPackage),$.set(4,b.l.symbolClass),$.set(5,b.l.symbolMethod),$.set(6,b.l.symbolProperty),$.set(7,b.l.symbolField),$.set(8,b.l.symbolConstructor),$.set(9,b.l.symbolEnum),$.set(10,b.l.symbolInterface),$.set(11,b.l.symbolFunction),$.set(12,b.l.symbolVariable),$.set(13,b.l.symbolConstant),$.set(14,b.l.symbolString),$.set(15,b.l.symbolNumber),$.set(16,b.l.symbolBoolean),$.set(17,b.l.symbolArray),$.set(18,b.l.symbolObject),$.set(19,b.l.symbolKey),$.set(20,b.l.symbolNull),$.set(21,b.l.symbolEnumMember),$.set(22,b.l.symbolStruct),$.set(23,b.l.symbolEvent),$.set(24,b.l.symbolOperator),$.set(25,b.l.symbolTypeParameter);function Y(P){let w=$.get(P);return w||(console.info("No codicon found for SymbolKind "+P),w=b.l.symbolProperty),w}B.toIcon=Y})(g||(g={}));class y{}class C{static fromValue($){switch($){case"comment":return C.Comment;case"imports":return C.Imports;case"region":return C.Region}return new C($)}constructor($){this.value=$}}C.Comment=new C("comment"),C.Imports=new C("imports"),C.Region=new C("region");var L;(function(B){function $(Y){return!Y||typeof Y!="object"?!1:typeof Y.id=="string"&&typeof Y.title=="string"}B.is=$})(L||(L={}));var O;(function(B){B[B.Type=1]="Type",B[B.Parameter=2]="Parameter"})(O||(O={}));class T{constructor($){this.createSupport=$,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then($=>{$&&$.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const F=new _},75383:function(Pt,Ke,e){"use strict";e.d(Ke,{$9:function(){return D},UF:function(){return M},n8:function(){return I},r7:function(){return _},tI:function(){return p}});var b=e(97295),z=e(49119),r=e(19111),E=e(4256);function c(o,d,u){const i=o.tokenization.getLanguageIdAtPosition(d,0);if(d>1){let n,f=-1;for(n=d-1;n>=1;n--){if(o.tokenization.getLanguageIdAtPosition(n,0)!==i)return f;const v=o.getLineContent(n);if(u.shouldIgnore(v)||/^\s+$/.test(v)||v===""){f=n;continue}return n}}return-1}function _(o,d,u,i=!0,n){if(o<4)return null;const f=n.getLanguageConfiguration(d.tokenization.getLanguageId()).indentRulesSupport;if(!f)return null;if(u<=1)return{indentation:"",action:null};for(let S=u-1;S>0&&d.getLineContent(S)==="";S--)if(S===1)return{indentation:"",action:null};const v=c(d,u,f);if(v<0)return null;if(v<1)return{indentation:"",action:null};const a=d.getLineContent(v);if(f.shouldIncrease(a)||f.shouldIndentNextLine(a))return{indentation:b.V8(a),action:z.wU.Indent,line:v};if(f.shouldDecrease(a))return{indentation:b.V8(a),action:null,line:v};{if(v===1)return{indentation:b.V8(d.getLineContent(v)),action:null,line:v};const S=v-1,g=f.getIndentMetadata(d.getLineContent(S));if(!(g&3)&&g&4){let y=0;for(let C=S-1;C>0;C--)if(!f.shouldIndentNextLine(d.getLineContent(C))){y=C;break}return{indentation:b.V8(d.getLineContent(y+1)),action:null,line:y+1}}if(i)return{indentation:b.V8(d.getLineContent(v)),action:null,line:v};for(let y=v;y>0;y--){const C=d.getLineContent(y);if(f.shouldIncrease(C))return{indentation:b.V8(C),action:z.wU.Indent,line:y};if(f.shouldIndentNextLine(C)){let L=0;for(let O=y-1;O>0;O--)if(!f.shouldIndentNextLine(d.getLineContent(y))){L=O;break}return{indentation:b.V8(d.getLineContent(L+1)),action:null,line:L+1}}else if(f.shouldDecrease(C))return{indentation:b.V8(C),action:null,line:y}}return{indentation:b.V8(d.getLineContent(1)),action:null,line:1}}}function I(o,d,u,i,n,f){if(o<4)return null;const v=f.getLanguageConfiguration(u);if(!v)return null;const a=f.getLanguageConfiguration(u).indentRulesSupport;if(!a)return null;const S=_(o,d,i,void 0,f),g=d.getLineContent(i);if(S){const y=S.line;if(y!==void 0){let C=!0;for(let L=y;L<i-1;L++)if(!/^\s*$/.test(d.getLineContent(L))){C=!1;break}if(C){const L=v.onEnter(o,"",d.getLineContent(y),"");if(L){let O=b.V8(d.getLineContent(y));return L.removeText&&(O=O.substring(0,O.length-L.removeText)),L.indentAction===z.wU.Indent||L.indentAction===z.wU.IndentOutdent?O=n.shiftIndent(O):L.indentAction===z.wU.Outdent&&(O=n.unshiftIndent(O)),a.shouldDecrease(g)&&(O=n.unshiftIndent(O)),L.appendText&&(O+=L.appendText),b.V8(O)}}}return a.shouldDecrease(g)?S.action===z.wU.Indent?S.indentation:n.unshiftIndent(S.indentation):S.action===z.wU.Indent?n.shiftIndent(S.indentation):S.indentation}return null}function M(o,d,u,i,n){if(o<4)return null;d.tokenization.forceTokenization(u.startLineNumber);const f=d.tokenization.getLineTokens(u.startLineNumber),v=(0,r.wH)(f,u.startColumn-1),a=v.getLineContent();let S=!1,g;v.firstCharOffset>0&&f.getLanguageId(0)!==v.languageId?(S=!0,g=a.substr(0,u.startColumn-1-v.firstCharOffset)):g=f.getLineContent().substring(0,u.startColumn-1);let y;u.isEmpty()?y=a.substr(u.startColumn-1-v.firstCharOffset):y=(0,E.n2)(d,u.endLineNumber,u.endColumn).getLineContent().substr(u.endColumn-1-v.firstCharOffset);const C=n.getLanguageConfiguration(v.languageId).indentRulesSupport;if(!C)return null;const L=g,O=b.V8(g),T={tokenization:{getLineTokens:Y=>d.tokenization.getLineTokens(Y),getLanguageId:()=>d.getLanguageId(),getLanguageIdAtPosition:(Y,P)=>d.getLanguageIdAtPosition(Y,P)},getLineContent:Y=>Y===u.startLineNumber?L:d.getLineContent(Y)},F=b.V8(f.getLineContent()),B=_(o,T,u.startLineNumber+1,void 0,n);if(!B){const Y=S?F:O;return{beforeEnter:Y,afterEnter:Y}}let $=S?F:B.indentation;return B.action===z.wU.Indent&&($=i.shiftIndent($)),C.shouldDecrease(y)&&($=i.unshiftIndent($)),{beforeEnter:S?F:O,afterEnter:$}}function D(o,d,u,i,n,f){if(o<4)return null;const v=(0,E.n2)(d,u.startLineNumber,u.startColumn);if(v.firstCharOffset)return null;const a=f.getLanguageConfiguration(v.languageId).indentRulesSupport;if(!a)return null;const S=v.getLineContent(),g=S.substr(0,u.startColumn-1-v.firstCharOffset);let y;if(u.isEmpty()?y=S.substr(u.startColumn-1-v.firstCharOffset):y=(0,E.n2)(d,u.endLineNumber,u.endColumn).getLineContent().substr(u.endColumn-1-v.firstCharOffset),!a.shouldDecrease(g+y)&&a.shouldDecrease(g+i+y)){const C=_(o,d,u.startLineNumber,!1,f);if(!C)return null;let L=C.indentation;return C.action!==z.wU.Indent&&(L=n.unshiftIndent(L)),L}return null}function p(o,d,u){const i=u.getLanguageConfiguration(o.getLanguageId()).indentRulesSupport;return!i||d<1||d>o.getLineCount()?null:i.getIndentMetadata(o.getLineContent(d))}},1615:function(Pt,Ke,e){"use strict";e.d(Ke,{A:function(){return r}});var b=e(49119),z=e(4256);function r(E,c,_,I){const M=(0,z.n2)(c,_.startLineNumber,_.startColumn),D=I.getLanguageConfiguration(M.languageId);if(!D)return null;const p=M.getLineContent(),o=p.substr(0,_.startColumn-1-M.firstCharOffset);let d;_.isEmpty()?d=p.substr(_.startColumn-1-M.firstCharOffset):d=(0,z.n2)(c,_.endLineNumber,_.endColumn).getLineContent().substr(_.endColumn-1-M.firstCharOffset);let u="";if(_.startLineNumber>1&&M.firstCharOffset===0){const S=(0,z.n2)(c,_.startLineNumber-1);S.languageId===M.languageId&&(u=S.getLineContent())}const i=D.onEnter(E,u,o,d);if(!i)return null;const n=i.indentAction;let f=i.appendText;const v=i.removeText||0;f?n===b.wU.Indent&&(f="	"+f):n===b.wU.Indent||n===b.wU.IndentOutdent?f="	":f="";let a=(0,z.u0)(c,_.startLineNumber,_.startColumn);return v&&(a=a.substring(0,a.length-v)),{indentAction:n,appendText:f,removeText:v,indentation:a}}},72042:function(Pt,Ke,e){"use strict";e.d(Ke,{O:function(){return z}});var b=e(72065);const z=(0,b.yh)("languageService")},49119:function(Pt,Ke,e){"use strict";e.d(Ke,{V6:function(){return z},c$:function(){return r},wU:function(){return b}});var b;(function(c){c[c.None=0]="None",c[c.Indent=1]="Indent",c[c.IndentOutdent=2]="IndentOutdent",c[c.Outdent=3]="Outdent"})(b||(b={}));class z{constructor(_){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=_.open,this.close=_.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(_.notIn))for(let I=0,M=_.notIn.length;I<M;I++)switch(_.notIn[I]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(_){switch(_){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(_,I){if(_.getTokenCount()===0)return!0;const M=_.findTokenIndexAtOffset(I-2),D=_.getStandardTokenType(M);return this.isOK(D)}_findNeutralCharacterInRange(_,I){for(let M=_;M<=I;M++){const D=String.fromCharCode(M);if(!this.open.includes(D)&&!this.close.includes(D))return D}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class r{constructor(_){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const I of _)E(this.autoClosingPairsOpenByStart,I.open.charAt(0),I),E(this.autoClosingPairsOpenByEnd,I.open.charAt(I.open.length-1),I),E(this.autoClosingPairsCloseByStart,I.close.charAt(0),I),E(this.autoClosingPairsCloseByEnd,I.close.charAt(I.close.length-1),I),I.close.length===1&&I.open.length===1&&E(this.autoClosingPairsCloseSingleChar,I.close,I)}}function E(c,_,I){c.has(_)?c.get(_).push(I):c.set(_,[I])}},4256:function(Pt,Ke,e){"use strict";e.d(Ke,{c_:function(){return Y},u0:function(){return H},n2:function(){return U}});var b=e(4669),z=e(5976),r=e(97295),E=e(270),c=e(49119),_=e(19111);class I{constructor(ie){if(ie.autoClosingPairs?this._autoClosingPairs=ie.autoClosingPairs.map(le=>new c.V6(le)):ie.brackets?this._autoClosingPairs=ie.brackets.map(le=>new c.V6({open:le[0],close:le[1]})):this._autoClosingPairs=[],ie.__electricCharacterSupport&&ie.__electricCharacterSupport.docComment){const le=ie.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new c.V6({open:le.open,close:le.close||""}))}this._autoCloseBeforeForQuotes=typeof ie.autoCloseBefore=="string"?ie.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof ie.autoCloseBefore=="string"?ie.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=ie.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(ie){return ie?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var M=e(9488),D=e(34302);class p{constructor(ie){this._richEditBrackets=ie}getElectricCharacters(){const ie=[];if(this._richEditBrackets)for(const le of this._richEditBrackets.brackets)for(const fe of le.close){const Le=fe.charAt(fe.length-1);ie.push(Le)}return(0,M.EB)(ie)}onElectricCharacter(ie,le,fe){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const Le=le.findTokenIndexAtOffset(fe-1);if((0,_.Bu)(le.getStandardTokenType(Le)))return null;const pe=this._richEditBrackets.reversedRegex,Te=le.getLineContent().substring(0,fe-1)+ie,De=D.Vr.findPrevBracketInRange(pe,1,Te,0,Te.length);if(!De)return null;const ae=Te.substring(De.startColumn-1,De.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[ae])return null;const We=le.getActualLineContentBefore(De.startColumn-1);return/^\s*$/.test(We)?{matchOpenBracket:ae}:null}}function o(X){return X.global&&(X.lastIndex=0),!0}class d{constructor(ie){this._indentationRules=ie}shouldIncrease(ie){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&o(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ie))}shouldDecrease(ie){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&o(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ie))}shouldIndentNextLine(ie){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&o(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ie))}shouldIgnore(ie){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&o(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ie))}getIndentMetadata(ie){let le=0;return this.shouldIncrease(ie)&&(le+=1),this.shouldDecrease(ie)&&(le+=2),this.shouldIndentNextLine(ie)&&(le+=4),this.shouldIgnore(ie)&&(le+=8),le}}var u=e(17301);class i{constructor(ie){ie=ie||{},ie.brackets=ie.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ie.brackets.forEach(le=>{const fe=i._createOpenBracketRegExp(le[0]),Le=i._createCloseBracketRegExp(le[1]);fe&&Le&&this._brackets.push({open:le[0],openRegExp:fe,close:le[1],closeRegExp:Le})}),this._regExpRules=ie.onEnterRules||[]}onEnter(ie,le,fe,Le){if(ie>=3)for(let pe=0,Te=this._regExpRules.length;pe<Te;pe++){const De=this._regExpRules[pe];if([{reg:De.beforeText,text:fe},{reg:De.afterText,text:Le},{reg:De.previousLineText,text:le}].every(Ne=>Ne.reg?(Ne.reg.lastIndex=0,Ne.reg.test(Ne.text)):!0))return De.action}if(ie>=2&&fe.length>0&&Le.length>0)for(let pe=0,Te=this._brackets.length;pe<Te;pe++){const De=this._brackets[pe];if(De.openRegExp.test(fe)&&De.closeRegExp.test(Le))return{indentAction:c.wU.IndentOutdent}}if(ie>=2&&fe.length>0){for(let pe=0,Te=this._brackets.length;pe<Te;pe++)if(this._brackets[pe].openRegExp.test(fe))return{indentAction:c.wU.Indent}}return null}static _createOpenBracketRegExp(ie){let le=r.ec(ie);return/\B/.test(le.charAt(0))||(le="\\b"+le),le+="\\s*$",i._safeRegExp(le)}static _createCloseBracketRegExp(ie){let le=r.ec(ie);return/\B/.test(le.charAt(le.length-1))||(le=le+"\\b"),le="^\\s*"+le,i._safeRegExp(le)}static _safeRegExp(ie){try{return new RegExp(ie)}catch(le){return(0,u.dL)(le),null}}}var n=e(72065),f=e(33108),v=e(72042),a=e(65026),S=e(68801),g=e(701);class y{constructor(ie,le){this.languageId=ie;const fe=le.brackets?C(le.brackets):[],Le=new g.b(De=>{const ae=new Set;return{info:new O(this,De,ae),closing:ae}}),pe=new g.b(De=>{const ae=new Set,Ne=new Set;return{info:new T(this,De,ae,Ne),opening:ae,openingColorized:Ne}});for(const[De,ae]of fe){const Ne=Le.get(De),We=pe.get(ae);Ne.closing.add(We.info),We.opening.add(Ne.info)}const Te=le.colorizedBracketPairs?C(le.colorizedBracketPairs):fe.filter(De=>!(De[0]==="<"&&De[1]===">"));for(const[De,ae]of Te){const Ne=Le.get(De),We=pe.get(ae);Ne.closing.add(We.info),We.openingColorized.add(Ne.info),We.opening.add(Ne.info)}this._openingBrackets=new Map([...Le.cachedValues].map(([De,ae])=>[De,ae.info])),this._closingBrackets=new Map([...pe.cachedValues].map(([De,ae])=>[De,ae.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(ie){return this._openingBrackets.get(ie)}getClosingBracketInfo(ie){return this._closingBrackets.get(ie)}getBracketInfo(ie){return this.getOpeningBracketInfo(ie)||this.getClosingBracketInfo(ie)}}function C(X){return X.filter(([ie,le])=>ie!==""&&le!=="")}class L{constructor(ie,le){this.config=ie,this.bracketText=le}get languageId(){return this.config.languageId}}class O extends L{constructor(ie,le,fe){super(ie,le),this.openedBrackets=fe,this.isOpeningBracket=!0}}class T extends L{constructor(ie,le,fe,Le){super(ie,le),this.openingBrackets=fe,this.openingColorizedBrackets=Le,this.isOpeningBracket=!1}closes(ie){return ie.config!==this.config?!1:this.openingBrackets.has(ie)}closesColorized(ie){return ie.config!==this.config?!1:this.openingColorizedBrackets.has(ie)}getOpeningBrackets(){return[...this.openingBrackets]}}var F=function(X,ie,le,fe){var Le=arguments.length,pe=Le<3?ie:fe===null?fe=Object.getOwnPropertyDescriptor(ie,le):fe,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(X,ie,le,fe);else for(var De=X.length-1;De>=0;De--)(Te=X[De])&&(pe=(Le<3?Te(pe):Le>3?Te(ie,le,pe):Te(ie,le))||pe);return Le>3&&pe&&Object.defineProperty(ie,le,pe),pe},B=function(X,ie){return function(le,fe){ie(le,fe,X)}};class ${constructor(ie){this.languageId=ie}affects(ie){return this.languageId?this.languageId===ie:!0}}const Y=(0,n.yh)("languageConfigurationService");let P=class extends z.JT{constructor(ie,le){super(),this.configurationService=ie,this.languageService=le,this._registry=this._register(new m),this.onDidChangeEmitter=this._register(new b.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const fe=new Set(Object.values(V));this._register(this.configurationService.onDidChangeConfiguration(Le=>{const pe=Le.change.keys.some(De=>fe.has(De)),Te=Le.change.overrides.filter(([De,ae])=>ae.some(Ne=>fe.has(Ne))).map(([De])=>De);if(pe)this.configurations.clear(),this.onDidChangeEmitter.fire(new $(void 0));else for(const De of Te)this.languageService.isRegisteredLanguageId(De)&&(this.configurations.delete(De),this.onDidChangeEmitter.fire(new $(De)))})),this._register(this._registry.onDidChange(Le=>{this.configurations.delete(Le.languageId),this.onDidChangeEmitter.fire(new $(Le.languageId))}))}register(ie,le,fe){return this._registry.register(ie,le,fe)}getLanguageConfiguration(ie){let le=this.configurations.get(ie);return le||(le=w(ie,this._registry,this.configurationService,this.languageService),this.configurations.set(ie,le)),le}};P=F([B(0,f.Ui),B(1,v.O)],P);function w(X,ie,le,fe){let Le=ie.getLanguageConfiguration(X);if(!Le){if(!fe.isRegisteredLanguageId(X))return new J(X,{});Le=new J(X,{})}const pe=R(Le.languageId,le),Te=j([Le.underlyingConfig,pe]);return new J(Le.languageId,Te)}const V={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function R(X,ie){const le=ie.getValue(V.brackets,{overrideIdentifier:X}),fe=ie.getValue(V.colorizedBracketPairs,{overrideIdentifier:X});return{brackets:A(le),colorizedBracketPairs:A(fe)}}function A(X){if(Array.isArray(X))return X.map(ie=>{if(!(!Array.isArray(ie)||ie.length!==2))return[ie[0],ie[1]]}).filter(ie=>!!ie)}function H(X,ie,le){const fe=X.getLineContent(ie);let Le=r.V8(fe);return Le.length>le-1&&(Le=Le.substring(0,le-1)),Le}function U(X,ie,le){X.tokenization.forceTokenization(ie);const fe=X.tokenization.getLineTokens(ie),Le=typeof le=="undefined"?X.getLineMaxColumn(ie)-1:le-1;return(0,_.wH)(fe,Le)}class G{constructor(ie){this.languageId=ie,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ie,le){const fe=new W(ie,le,++this._order);return this._entries.push(fe),this._resolved=null,(0,z.OF)(()=>{for(let Le=0;Le<this._entries.length;Le++)if(this._entries[Le]===fe){this._entries.splice(Le,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ie=this._resolve();ie&&(this._resolved=new J(this.languageId,ie))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(W.cmp),j(this._entries.map(ie=>ie.configuration)))}}function j(X){let ie={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const le of X)ie={comments:le.comments||ie.comments,brackets:le.brackets||ie.brackets,wordPattern:le.wordPattern||ie.wordPattern,indentationRules:le.indentationRules||ie.indentationRules,onEnterRules:le.onEnterRules||ie.onEnterRules,autoClosingPairs:le.autoClosingPairs||ie.autoClosingPairs,surroundingPairs:le.surroundingPairs||ie.surroundingPairs,autoCloseBefore:le.autoCloseBefore||ie.autoCloseBefore,folding:le.folding||ie.folding,colorizedBracketPairs:le.colorizedBracketPairs||ie.colorizedBracketPairs,__electricCharacterSupport:le.__electricCharacterSupport||ie.__electricCharacterSupport};return ie}class W{constructor(ie,le,fe){this.configuration=ie,this.priority=le,this.order=fe}static cmp(ie,le){return ie.priority===le.priority?ie.order-le.order:ie.priority-le.priority}}class K{constructor(ie){this.languageId=ie}}class m extends z.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(S.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(ie,le,fe=0){let Le=this._entries.get(ie);Le||(Le=new G(ie),this._entries.set(ie,Le));const pe=Le.register(le,fe);return this._onDidChange.fire(new K(ie)),(0,z.OF)(()=>{pe.dispose(),this._onDidChange.fire(new K(ie))})}getLanguageConfiguration(ie){const le=this._entries.get(ie);return(le==null?void 0:le.getResolvedConfiguration())||null}}class J{constructor(ie,le){this.languageId=ie,this.underlyingConfig=le,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i(this.underlyingConfig):null,this.comments=J._handleComments(this.underlyingConfig),this.characterPair=new I(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||E.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new d(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new y(ie,this.underlyingConfig)}getWordDefinition(){return(0,E.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new D.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new p(this.brackets)),this._electricCharacter}onEnter(ie,le,fe,Le){return this._onEnterSupport?this._onEnterSupport.onEnter(ie,le,fe,Le):null}getAutoClosingPairs(){return new c.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(ie){return this.characterPair.getAutoCloseBeforeSet(ie)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ie){const le=ie.comments;if(!le)return null;const fe={};if(le.lineComment&&(fe.lineCommentToken=le.lineComment),le.blockComment){const[Le,pe]=le.blockComment;fe.blockCommentStartToken=Le,fe.blockCommentEndToken=pe}return fe}}(0,a.z)(Y,P,1)},68801:function(Pt,Ke,e){"use strict";e.d(Ke,{bd:function(){return D},dQ:function(){return M}});var b=e(63580),z=e(4669),r=e(89872),E=e(81170),c=e(23193);const _={ModesRegistry:"editor.modesRegistry"};class I{constructor(){this._onDidChangeLanguages=new z.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(d){return this._languages.push(d),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let u=0,i=this._languages.length;u<i;u++)if(this._languages[u]===d){this._languages.splice(u,1);return}}}}getLanguages(){return this._languages}}const M=new I;r.B.add(_.ModesRegistry,M);const D="plaintext",p=".txt";M.registerLanguage({id:D,extensions:[p],aliases:[b.NC("plainText.alias","Plain Text"),"text"],mimetypes:[E.v.text]}),r.B.as(c.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},276:function(Pt,Ke,e){"use strict";e.d(Ke,{Dy:function(){return E},Ri:function(){return r},TJ:function(){return z}});var b=e(43155);const z=new class{clone(){return this}equals(c){return this===c}};function r(c,_){return new b.hG([new b.WU(0,"",c)],_)}function E(c,_){const I=new Uint32Array(2);return I[0]=0,I[1]=(c<<0|0|0|32768|2<<24)>>>0,new b.DI(I,_===null?z:_)}},19111:function(Pt,Ke,e){"use strict";e.d(Ke,{Bu:function(){return r},wH:function(){return b}});function b(E,c){const _=E.getCount(),I=E.findTokenIndexAtOffset(c),M=E.getLanguageId(I);let D=I;for(;D+1<_&&E.getLanguageId(D+1)===M;)D++;let p=I;for(;p>0&&E.getLanguageId(p-1)===M;)p--;return new z(E,M,p,D+1,E.getStartOffset(p),E.getEndOffset(D))}class z{constructor(c,_,I,M,D,p){this._scopedLineTokensBrand=void 0,this._actual=c,this.languageId=_,this._firstTokenIndex=I,this._lastTokenIndex=M,this.firstCharOffset=D,this._lastCharOffset=p}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(c){return this._actual.getLineContent().substring(0,this.firstCharOffset+c)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(c){return this._actual.findTokenIndexAtOffset(c+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(c){return this._actual.getStandardTokenType(c+this._firstTokenIndex)}}function r(E){return(E&3)!==0}},34302:function(Pt,Ke,e){"use strict";e.d(Ke,{EA:function(){return _},Vr:function(){return v}});var b=e(97295),z=e(50072),r=e(24314);class E{constructor(S,g,y,C,L,O){this._richEditBracketBrand=void 0,this.languageId=S,this.index=g,this.open=y,this.close=C,this.forwardRegex=L,this.reversedRegex=O,this._openSet=E._toSet(this.open),this._closeSet=E._toSet(this.close)}isOpen(S){return this._openSet.has(S)}isClose(S){return this._closeSet.has(S)}static _toSet(S){const g=new Set;for(const y of S)g.add(y);return g}}function c(a){const S=a.length;a=a.map(O=>[O[0].toLowerCase(),O[1].toLowerCase()]);const g=[];for(let O=0;O<S;O++)g[O]=O;const y=(O,T)=>{const[F,B]=O,[$,Y]=T;return F===$||F===Y||B===$||B===Y},C=(O,T)=>{const F=Math.min(O,T),B=Math.max(O,T);for(let $=0;$<S;$++)g[$]===B&&(g[$]=F)};for(let O=0;O<S;O++){const T=a[O];for(let F=O+1;F<S;F++){const B=a[F];y(T,B)&&C(g[O],g[F])}}const L=[];for(let O=0;O<S;O++){const T=[],F=[];for(let B=0;B<S;B++)if(g[B]===O){const[$,Y]=a[B];T.push($),F.push(Y)}T.length>0&&L.push({open:T,close:F})}return L}class _{constructor(S,g){this._richEditBracketsBrand=void 0;const y=c(g);this.brackets=y.map((C,L)=>new E(S,L,C.open,C.close,p(C.open,C.close,y,L),o(C.open,C.close,y,L))),this.forwardRegex=d(this.brackets),this.reversedRegex=u(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const C of this.brackets){for(const L of C.open)this.textIsBracket[L]=C,this.textIsOpenBracket[L]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,L.length);for(const L of C.close)this.textIsBracket[L]=C,this.textIsOpenBracket[L]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,L.length)}}}function I(a,S,g,y){for(let C=0,L=S.length;C<L;C++){if(C===g)continue;const O=S[C];for(const T of O.open)T.indexOf(a)>=0&&y.push(T);for(const T of O.close)T.indexOf(a)>=0&&y.push(T)}}function M(a,S){return a.length-S.length}function D(a){if(a.length<=1)return a;const S=[],g=new Set;for(const y of a)g.has(y)||(S.push(y),g.add(y));return S}function p(a,S,g,y){let C=[];C=C.concat(a),C=C.concat(S);for(let L=0,O=C.length;L<O;L++)I(C[L],g,y,C);return C=D(C),C.sort(M),C.reverse(),n(C)}function o(a,S,g,y){let C=[];C=C.concat(a),C=C.concat(S);for(let L=0,O=C.length;L<O;L++)I(C[L],g,y,C);return C=D(C),C.sort(M),C.reverse(),n(C.map(f))}function d(a){let S=[];for(const g of a){for(const y of g.open)S.push(y);for(const y of g.close)S.push(y)}return S=D(S),n(S)}function u(a){let S=[];for(const g of a){for(const y of g.open)S.push(y);for(const y of g.close)S.push(y)}return S=D(S),n(S.map(f))}function i(a){const S=/^[\w ]+$/.test(a);return a=b.ec(a),S?`\\b${a}\\b`:a}function n(a){const S=`(${a.map(i).join(")|(")})`;return b.GF(S,!0)}const f=function(){function a(y){const C=new Uint16Array(y.length);let L=0;for(let O=y.length-1;O>=0;O--)C[L++]=y.charCodeAt(O);return z.oe().decode(C)}let S=null,g=null;return function(C){return S!==C&&(S=C,g=a(S)),g}}();class v{static _findPrevBracketInText(S,g,y,C){const L=y.match(S);if(!L)return null;const O=y.length-(L.index||0),T=L[0].length,F=C+O;return new r.e(g,F-T+1,g,F+1)}static findPrevBracketInRange(S,g,y,C,L){const T=f(y).substring(y.length-L,y.length-C);return this._findPrevBracketInText(S,g,T,C)}static findNextBracketInText(S,g,y,C){const L=y.match(S);if(!L)return null;const O=L.index||0,T=L[0].length;if(T===0)return null;const F=C+O;return new r.e(g,F+1,g,F+1+T)}static findNextBracketInRange(S,g,y,C,L){const O=y.substring(C,L);return this.findNextBracketInText(S,g,O,C)}}},82963:function(Pt,Ke,e){"use strict";e.d(Ke,{C2:function(){return _},Fq:function(){return I}});var b=e(97295),z=e(77378),r=e(43155),E=e(276);const c={getInitialState:()=>E.TJ,tokenizeEncoded:(D,p,o)=>(0,E.Dy)(0,o)};function _(D,p,o){return qt(this,null,function*(){if(!o)return M(p,D.languageIdCodec,c);const d=yield r.RW.getOrCreate(o);return M(p,D.languageIdCodec,d||c)})}function I(D,p,o,d,u,i,n){let f="<div>",v=d,a=0,S=!0;for(let g=0,y=p.getCount();g<y;g++){const C=p.getEndOffset(g);if(C<=d)continue;let L="";for(;v<C&&v<u;v++){const O=D.charCodeAt(v);switch(O){case 9:{let T=i-(v+a)%i;for(a+=T-1;T>0;)n&&S?(L+="&#160;",S=!1):(L+=" ",S=!0),T--;break}case 60:L+="&lt;",S=!1;break;case 62:L+="&gt;",S=!1;break;case 38:L+="&amp;",S=!1;break;case 0:L+="&#00;",S=!1;break;case 65279:case 8232:case 8233:case 133:L+="\uFFFD",S=!1;break;case 13:L+="&#8203",S=!1;break;case 32:n&&S?(L+="&#160;",S=!1):(L+=" ",S=!0);break;default:L+=String.fromCharCode(O),S=!1}}if(f+=`<span style="${p.getInlineStyle(g,o)}">${L}</span>`,C>u||v>=u)break}return f+="</div>",f}function M(D,p,o){let d='<div class="monaco-tokenized-source">';const u=b.uq(D);let i=o.getInitialState();for(let n=0,f=u.length;n<f;n++){const v=u[n];n>0&&(d+="<br/>");const a=o.tokenizeEncoded(v,!0,i);z.A.convertToEndOffset(a.tokens,v.length);const g=new z.A(a.tokens,v,p).inflate();let y=0;for(let C=0,L=g.getCount();C<L;C++){const O=g.getClassName(C),T=g.getEndOffset(C);d+=`<span class="${O}">${b.YU(v.substring(y,T))}</span>`,y=T}i=a.endState}return d+="</div>",d}},84973:function(Pt,Ke,e){"use strict";e.d(Ke,{F5:function(){return E},Hf:function(){return M},Qi:function(){return D},RM:function(){return c},Tx:function(){return p},U:function(){return r},dJ:function(){return _},je:function(){return o},pt:function(){return d},sh:function(){return z},tk:function(){return I}});var b=e(36248),z;(function(u){u[u.Left=1]="Left",u[u.Center=2]="Center",u[u.Right=4]="Right",u[u.Full=7]="Full"})(z||(z={}));var r;(function(u){u[u.Left=1]="Left",u[u.Right=2]="Right"})(r||(r={}));var E;(function(u){u[u.Inline=1]="Inline",u[u.Gutter=2]="Gutter"})(E||(E={}));var c;(function(u){u[u.Both=0]="Both",u[u.Right=1]="Right",u[u.Left=2]="Left",u[u.None=3]="None"})(c||(c={}));class _{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(i){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,i.tabSize|0),i.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,i.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!i.insertSpaces,this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=!!i.trimAutoWhitespace,this.bracketPairColorizationOptions=i.bracketPairColorizationOptions}equals(i){return this.tabSize===i.tabSize&&this._indentSizeIsTabSize===i._indentSizeIsTabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace&&(0,b.fS)(this.bracketPairColorizationOptions,i.bracketPairColorizationOptions)}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}class I{constructor(i,n){this._findMatchBrand=void 0,this.range=i,this.matches=n}}function M(u){return u&&typeof u.read=="function"}class D{constructor(i,n,f,v,a,S){this.identifier=i,this.range=n,this.text=f,this.forceMoveMarkers=v,this.isAutoWhitespaceEdit=a,this._isTracked=S}}class p{constructor(i,n,f){this.regex=i,this.wordSeparators=n,this.simpleSearch=f}}class o{constructor(i,n,f){this.reverseEdits=i,this.changes=n,this.trimAutoWhitespaceLineNumbers=f}}function d(u){return!u.isTooLargeForSyncing()&&!u.isForSimpleWidget}},41720:function(Pt,Ke,e){"use strict";e.d(Ke,{BH:function(){return i},Dm:function(){return f},Kd:function(){return _},Y0:function(){return I},n2:function(){return n}});var b=e(17301),z=e(7988),r=e(45035),E=e(61761);class c{get length(){return this._length}constructor(a){this._length=a}}class _ extends c{static create(a,S,g){let y=a.length;return S&&(y=(0,r.Ii)(y,S.length)),g&&(y=(0,r.Ii)(y,g.length)),new _(y,a,S,g,S?S.missingOpeningBracketIds:E.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(a){switch(a){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const a=[];return a.push(this.openingBracket),this.child&&a.push(this.child),this.closingBracket&&a.push(this.closingBracket),a}constructor(a,S,g,y,C){super(a),this.openingBracket=S,this.child=g,this.closingBracket=y,this.missingOpeningBracketIds=C}canBeReused(a){return!(this.closingBracket===null||a.intersects(this.missingOpeningBracketIds))}deepClone(){return new _(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(a,S){return this.child?this.child.computeMinIndentation((0,r.Ii)(a,this.openingBracket.length),S):Number.MAX_SAFE_INTEGER}}class I extends c{static create23(a,S,g,y=!1){let C=a.length,L=a.missingOpeningBracketIds;if(a.listHeight!==S.listHeight)throw new Error("Invalid list heights");if(C=(0,r.Ii)(C,S.length),L=L.merge(S.missingOpeningBracketIds),g){if(a.listHeight!==g.listHeight)throw new Error("Invalid list heights");C=(0,r.Ii)(C,g.length),L=L.merge(g.missingOpeningBracketIds)}return y?new D(C,a.listHeight+1,a,S,g,L):new M(C,a.listHeight+1,a,S,g,L)}static getEmpty(){return new o(r.xl,0,[],E.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(a,S,g){super(a),this.listHeight=S,this._missingOpeningBracketIds=g,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const a=this.childrenLength;if(a===0)return;const S=this.getChild(a-1),g=S.kind===4?S.toMutable():S;return S!==g&&this.setChild(a-1,g),g}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const S=this.getChild(0),g=S.kind===4?S.toMutable():S;return S!==g&&this.setChild(0,g),g}canBeReused(a){if(a.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let S=this;for(;S.kind===4;){const g=S.childrenLength;if(g===0)throw new b.he;S=S.getChild(g-1)}return S.canBeReused(a)}handleChildrenChanged(){this.throwIfImmutable();const a=this.childrenLength;let S=this.getChild(0).length,g=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<a;y++){const C=this.getChild(y);S=(0,r.Ii)(S,C.length),g=g.merge(C.missingOpeningBracketIds)}this._length=S,this._missingOpeningBracketIds=g,this.cachedMinIndentation=-1}computeMinIndentation(a,S){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let g=Number.MAX_SAFE_INTEGER,y=a;for(let C=0;C<this.childrenLength;C++){const L=this.getChild(C);L&&(g=Math.min(g,L.computeMinIndentation(y,S)),y=(0,r.Ii)(y,L.length))}return this.cachedMinIndentation=g,g}}class M extends I{get childrenLength(){return this._item3!==null?3:2}getChild(a){switch(a){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(a,S){switch(a){case 0:this._item1=S;return;case 1:this._item2=S;return;case 2:this._item3=S;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(a,S,g,y,C,L){super(a,S,L),this._item1=g,this._item2=y,this._item3=C}deepClone(){return new M(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=a,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item3;return this._item3=null,this.handleChildrenChanged(),a}prependChildOfSameHeight(a){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=a,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),a}toMutable(){return this}}class D extends M{toMutable(){return new M(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class p extends I{get childrenLength(){return this._children.length}getChild(a){return this._children[a]}setChild(a,S){this._children[a]=S}get children(){return this._children}constructor(a,S,g,y){super(a,S,y),this._children=g}deepClone(){const a=new Array(this._children.length);for(let S=0;S<this._children.length;S++)a[S]=this._children[S].deepClone();return new p(this.length,this.listHeight,a,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){this.throwIfImmutable(),this._children.push(a),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const a=this._children.pop();return this.handleChildrenChanged(),a}prependChildOfSameHeight(a){this.throwIfImmutable(),this._children.unshift(a),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const a=this._children.shift();return this.handleChildrenChanged(),a}toMutable(){return this}}class o extends p{toMutable(){return new p(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const d=[];class u extends c{get listHeight(){return 0}get childrenLength(){return 0}getChild(a){return null}get children(){return d}deepClone(){return this}}class i extends u{get kind(){return 0}get missingOpeningBracketIds(){return E.tS.getEmpty()}canBeReused(a){return!0}computeMinIndentation(a,S){const g=(0,r.Hw)(a),y=(g.columnCount===0?g.lineCount:g.lineCount+1)+1,C=(0,r.W9)((0,r.Ii)(a,this.length))+1;let L=Number.MAX_SAFE_INTEGER;for(let O=y;O<=C;O++){const T=S.getLineFirstNonWhitespaceColumn(O),F=S.getLineContent(O);if(T===0)continue;const B=z.i.visibleColumnFromColumn(F,T,S.getOptions().tabSize);L=Math.min(L,B)}return L}}class n extends u{static create(a,S,g){return new n(a,S,g)}get kind(){return 1}get missingOpeningBracketIds(){return E.tS.getEmpty()}constructor(a,S,g){super(a),this.bracketInfo=S,this.bracketIds=g}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(a){return!1}computeMinIndentation(a,S){return Number.MAX_SAFE_INTEGER}}class f extends u{get kind(){return 3}constructor(a,S){super(S),this.missingOpeningBracketIds=a}canBeReused(a){return!a.intersects(this.missingOpeningBracketIds)}computeMinIndentation(a,S){return Number.MAX_SAFE_INTEGER}}},2442:function(Pt,Ke,e){"use strict";e.d(Ke,{Q:function(){return r},Y:function(){return E}});var b=e(24314),z=e(45035);class r{static fromModelContentChanges(I){return I.map(D=>{const p=b.e.lift(D.range);return new r((0,z.PZ)(p.getStartPosition()),(0,z.PZ)(p.getEndPosition()),(0,z.oR)(D.text))}).reverse()}constructor(I,M,D){this.startOffset=I,this.endOffset=M,this.newLength=D}toString(){return`[${(0,z.Hw)(this.startOffset)}...${(0,z.Hw)(this.endOffset)}) -> ${(0,z.Hw)(this.newLength)}`}}class E{constructor(I){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=I.map(M=>c.from(M))}getOffsetBeforeChange(I){return this.adjustNextEdit(I),this.translateCurToOld(I)}getDistanceToNextChange(I){this.adjustNextEdit(I);const M=this.edits[this.nextEditIdx],D=M?this.translateOldToCur(M.offsetObj):null;return D===null?null:(0,z.BE)(I,D)}translateOldToCur(I){return I.lineCount===this.deltaLineIdxInOld?(0,z.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.columnCount+this.deltaOldToNewColumnCount):(0,z.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.columnCount)}translateCurToOld(I){const M=(0,z.Hw)(I);return M.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,z.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount-this.deltaOldToNewColumnCount):(0,z.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount)}adjustNextEdit(I){for(;this.nextEditIdx<this.edits.length;){const M=this.edits[this.nextEditIdx],D=this.translateOldToCur(M.endOffsetAfterObj);if((0,z.By)(D,I)){this.nextEditIdx++;const p=(0,z.Hw)(D),o=(0,z.Hw)(this.translateOldToCur(M.endOffsetBeforeObj)),d=p.lineCount-o.lineCount;this.deltaOldToNewLineCount+=d;const u=this.deltaLineIdxInOld===M.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,i=p.columnCount-o.columnCount;this.deltaOldToNewColumnCount=u+i,this.deltaLineIdxInOld=M.endOffsetBeforeObj.lineCount}else break}}}class c{static from(I){return new c(I.startOffset,I.endOffset,I.newLength)}constructor(I,M,D){this.endOffsetBeforeObj=(0,z.Hw)(M),this.endOffsetAfterObj=(0,z.Hw)((0,z.Ii)(I,D)),this.offsetObj=(0,z.Hw)(I)}}},35382:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return M}});var b=e(97295),z=e(41720),r=e(45035),E=e(61761),c=e(6735);class _{static createFromLanguage(p,o){function d(i){return o.getKey(`${i.languageId}:::${i.bracketText}`)}const u=new Map;for(const i of p.bracketsNew.openingBrackets){const n=(0,r.Hg)(0,i.bracketText.length),f=d(i),v=E.tS.getEmpty().add(f,E.Qw);u.set(i.bracketText,new c.WU(n,1,f,v,z.n2.create(n,i,v)))}for(const i of p.bracketsNew.closingBrackets){const n=(0,r.Hg)(0,i.bracketText.length);let f=E.tS.getEmpty();const v=i.getOpeningBrackets();for(const a of v)f=f.add(d(a),E.Qw);u.set(i.bracketText,new c.WU(n,2,d(v[0]),f,z.n2.create(n,i,f)))}return new _(u)}constructor(p){this.map=p,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const p=[...this.map.keys()];return p.sort(),p.reverse(),p.map(o=>I(o)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const p=this.getRegExpStr();this._regExpGlobal=p?new RegExp(p,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(p){return this.map.get(p.toLowerCase())}findClosingTokenText(p){for(const[o,d]of this.map)if(d.kind===2&&d.bracketIds.intersects(p))return o}get isEmpty(){return this.map.size===0}}function I(D){let p=(0,b.ec)(D);return/^[\w ]+/.test(D)&&(p=`\\b${p}`),/[\w ]+$/.test(D)&&(p=`${p}\\b`),p}class M{constructor(p,o){this.denseKeyProvider=p,this.getLanguageConfiguration=o,this.languageIdToBracketTokens=new Map}didLanguageChange(p){return this.languageIdToBracketTokens.has(p)}getSingleLanguageBracketTokens(p){let o=this.languageIdToBracketTokens.get(p);return o||(o=_.createFromLanguage(this.getLanguageConfiguration(p),this.denseKeyProvider),this.languageIdToBracketTokens.set(p,o)),o}}},41574:function(Pt,Ke,e){"use strict";e.d(Ke,{o:function(){return E}});var b=e(9488),z=e(2442),r=e(45035);function E(I,M){if(I.length===0)return M;if(M.length===0)return I;const D=new b.H9(_(I)),p=_(M);p.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let o=D.dequeue();function d(f){if(f===void 0){const a=D.takeWhile(S=>!0)||[];return o&&a.unshift(o),a}const v=[];for(;o&&!(0,r.xd)(f);){const[a,S]=o.splitAt(f);v.push(a),f=(0,r.BE)(a.lengthAfter,f),o=S!=null?S:D.dequeue()}return(0,r.xd)(f)||v.push(new c(!1,f,f)),v}const u=[];function i(f,v,a){if(u.length>0&&(0,r.rM)(u[u.length-1].endOffset,f)){const S=u[u.length-1];u[u.length-1]=new z.Q(S.startOffset,v,(0,r.Ii)(S.newLength,a))}else u.push({startOffset:f,endOffset:v,newLength:a})}let n=r.xl;for(const f of p){const v=d(f.lengthBefore);if(f.modified){const a=(0,r.tQ)(v,g=>g.lengthBefore),S=(0,r.Ii)(n,a);i(n,S,f.lengthAfter),n=S}else for(const a of v){const S=n;n=(0,r.Ii)(n,a.lengthBefore),a.modified&&i(S,n,a.lengthAfter)}}return u}class c{constructor(M,D,p){this.modified=M,this.lengthBefore=D,this.lengthAfter=p}splitAt(M){const D=(0,r.BE)(M,this.lengthAfter);return(0,r.rM)(D,r.xl)?[this,void 0]:this.modified?[new c(this.modified,this.lengthBefore,M),new c(this.modified,r.xl,D)]:[new c(this.modified,M,M),new c(this.modified,D,D)]}toString(){return`${this.modified?"M":"U"}:${(0,r.Hw)(this.lengthBefore)} -> ${(0,r.Hw)(this.lengthAfter)}`}}function _(I){const M=[];let D=r.xl;for(const p of I){const o=(0,r.BE)(D,p.startOffset);(0,r.xd)(o)||M.push(new c(!1,o,o));const d=(0,r.BE)(p.startOffset,p.endOffset);M.push(new c(!0,d,p.newLength)),D=p.endOffset}return M}},45035:function(Pt,Ke,e){"use strict";e.d(Ke,{BE:function(){return n},By:function(){return v},F_:function(){return o},Hg:function(){return M},Hw:function(){return D},Ii:function(){return d},OE:function(){return r},PZ:function(){return S},Qw:function(){return g},VR:function(){return f},W9:function(){return p},Zq:function(){return a},av:function(){return E},oR:function(){return y},rM:function(){return i},tQ:function(){return u},xd:function(){return _},xl:function(){return c}});var b=e(97295),z=e(24314);class r{constructor(L,O){this.lineCount=L,this.columnCount=O}toString(){return`${this.lineCount},${this.columnCount}`}}r.zero=new r(0,0);function E(C,L,O,T){return C!==O?M(O-C,T):M(0,T-L)}const c=0;function _(C){return C===0}const I=Sa(2,26);function M(C,L){return C*I+L}function D(C){const L=C,O=Math.floor(L/I),T=L-O*I;return new r(O,T)}function p(C){return Math.floor(C/I)}function o(C){return C}function d(C,L){let O=C+L;return L>=I&&(O=O-C%I),O}function u(C,L){return C.reduce((O,T)=>d(O,L(T)),c)}function i(C,L){return C===L}function n(C,L){const O=C,T=L;if(T-O<=0)return c;const B=Math.floor(O/I),$=Math.floor(T/I),Y=T-$*I;if(B===$){const P=O-B*I;return M(0,Y-P)}else return M($-B,Y)}function f(C,L){return C<L}function v(C,L){return C<=L}function a(C,L){return C>=L}function S(C){return M(C.lineNumber-1,C.column-1)}function g(C,L){const O=C,T=Math.floor(O/I),F=O-T*I,B=L,$=Math.floor(B/I),Y=B-$*I;return new z.e(T+1,F+1,$+1,Y+1)}function y(C){const L=(0,b.uq)(C);return M(L.length-1,L[L.length-1].length)}},64837:function(Pt,Ke,e){"use strict";e.d(Ke,{w:function(){return i}});var b=e(41720),z=e(2442),r=e(61761),E=e(45035);function c(f){if(f.length===0)return null;if(f.length===1)return f[0];let v=0;function a(){if(v>=f.length)return null;const C=v,L=f[C].listHeight;for(v++;v<f.length&&f[v].listHeight===L;)v++;return v-C>=2?_(C===0&&v===f.length?f:f.slice(C,v),!1):f[C]}let S=a(),g=a();if(!g)return S;for(let C=a();C;C=a())I(S,g)<=I(g,C)?(S=M(S,g),g=C):g=M(g,C);return M(S,g)}function _(f,v=!1){if(f.length===0)return null;if(f.length===1)return f[0];let a=f.length;for(;a>3;){const S=a>>1;for(let g=0;g<S;g++){const y=g<<1;f[g]=b.Y0.create23(f[y],f[y+1],y+3===a?f[y+2]:null,v)}a=S}return b.Y0.create23(f[0],f[1],a>=3?f[2]:null,v)}function I(f,v){return Math.abs(f.listHeight-v.listHeight)}function M(f,v){return f.listHeight===v.listHeight?b.Y0.create23(f,v,null,!1):f.listHeight>v.listHeight?D(f,v):p(v,f)}function D(f,v){f=f.toMutable();let a=f;const S=[];let g;for(;;){if(v.listHeight===a.listHeight){g=v;break}if(a.kind!==4)throw new Error("unexpected");S.push(a),a=a.makeLastElementMutable()}for(let y=S.length-1;y>=0;y--){const C=S[y];g?C.childrenLength>=3?g=b.Y0.create23(C.unappendChild(),g,null,!1):(C.appendChildOfSameHeight(g),g=void 0):C.handleChildrenChanged()}return g?b.Y0.create23(f,g,null,!1):f}function p(f,v){f=f.toMutable();let a=f;const S=[];for(;v.listHeight!==a.listHeight;){if(a.kind!==4)throw new Error("unexpected");S.push(a),a=a.makeFirstElementMutable()}let g=v;for(let y=S.length-1;y>=0;y--){const C=S[y];g?C.childrenLength>=3?g=b.Y0.create23(g,C.unprependChild(),null,!1):(C.prependChildOfSameHeight(g),g=void 0):C.handleChildrenChanged()}return g?b.Y0.create23(g,f,null,!1):f}class o{constructor(v){this.lastOffset=E.xl,this.nextNodes=[v],this.offsets=[E.xl],this.idxs=[]}readLongestNodeAt(v,a){if((0,E.VR)(v,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=v;;){const S=u(this.nextNodes);if(!S)return;const g=u(this.offsets);if((0,E.VR)(v,g))return;if((0,E.VR)(g,v))if((0,E.Ii)(g,S.length)<=v)this.nextNodeAfterCurrent();else{const y=d(S);y!==-1?(this.nextNodes.push(S.getChild(y)),this.offsets.push(g),this.idxs.push(y)):this.nextNodeAfterCurrent()}else{if(a(S))return this.nextNodeAfterCurrent(),S;{const y=d(S);if(y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(S.getChild(y)),this.offsets.push(g),this.idxs.push(y)}}}}nextNodeAfterCurrent(){for(;;){const v=u(this.offsets),a=u(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const S=u(this.nextNodes),g=d(S,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(S.getChild(g)),this.offsets.push((0,E.Ii)(v,a.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}function d(f,v=-1){for(;;){if(v++,v>=f.childrenLength)return-1;if(f.getChild(v))return v}}function u(f){return f.length>0?f[f.length-1]:void 0}function i(f,v,a,S){return new n(f,v,a,S).parseDocument()}class n{constructor(v,a,S,g){if(this.tokenizer=v,this.createImmutableLists=g,this._itemsConstructed=0,this._itemsFromCache=0,S&&g)throw new Error("Not supported");this.oldNodeReader=S?new o(S):void 0,this.positionMapper=new z.Y(a)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let v=this.parseList(r.tS.getEmpty(),0);return v||(v=b.Y0.getEmpty()),v}parseList(v,a){const S=[];for(;;){let y=this.tryReadChildFromCache(v);if(!y){const C=this.tokenizer.peek();if(!C||C.kind===2&&C.bracketIds.intersects(v))break;y=this.parseChild(v,a+1)}y.kind===4&&y.childrenLength===0||S.push(y)}return this.oldNodeReader?c(S):_(S,this.createImmutableLists)}tryReadChildFromCache(v){if(this.oldNodeReader){const a=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(a===null||!(0,E.xd)(a)){const S=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),g=>a!==null&&!(0,E.VR)(g.length,a)?!1:g.canBeReused(v));if(S)return this._itemsFromCache++,this.tokenizer.skip(S.length),S}}}parseChild(v,a){this._itemsConstructed++;const S=this.tokenizer.read();switch(S.kind){case 2:return new b.Dm(S.bracketIds,S.length);case 0:return S.astNode;case 1:{if(a>300)return new b.BH(S.length);const g=v.merge(S.bracketIds),y=this.parseList(g,a+1),C=this.tokenizer.peek();return C&&C.kind===2&&(C.bracketId===S.bracketId||C.bracketIds.intersects(S.bracketIds))?(this.tokenizer.read(),b.Kd.create(S.astNode,y,C.astNode)):b.Kd.create(S.astNode,y,null)}default:throw new Error("unexpected")}}}},61761:function(Pt,Ke,e){"use strict";e.d(Ke,{FE:function(){return E},Qw:function(){return r},tS:function(){return z}});const b=[];class z{static create(_,I){if(_<=128&&I.length===0){let M=z.cache[_];return M||(M=new z(_,I),z.cache[_]=M),M}return new z(_,I)}static getEmpty(){return this.empty}constructor(_,I){this.items=_,this.additionalItems=I}add(_,I){const M=I.getKey(_);let D=M>>5;if(D===0){const o=1<<M|this.items;return o===this.items?this:z.create(o,this.additionalItems)}D--;const p=this.additionalItems.slice(0);for(;p.length<D;)p.push(0);return p[D]|=1<<(M&31),z.create(this.items,p)}merge(_){const I=this.items|_.items;if(this.additionalItems===b&&_.additionalItems===b)return I===this.items?this:I===_.items?_:z.create(I,b);const M=[];for(let D=0;D<Math.max(this.additionalItems.length,_.additionalItems.length);D++){const p=this.additionalItems[D]||0,o=_.additionalItems[D]||0;M.push(p|o)}return z.create(I,M)}intersects(_){if(this.items&_.items)return!0;for(let I=0;I<Math.min(this.additionalItems.length,_.additionalItems.length);I++)if(this.additionalItems[I]&_.additionalItems[I])return!0;return!1}}z.cache=new Array(129),z.empty=z.create(0,b);const r={getKey(c){return c}};class E{constructor(){this.items=new Map}getKey(_){let I=this.items.get(_);return I===void 0&&(I=this.items.size,this.items.set(_,I)),I}}},6735:function(Pt,Ke,e){"use strict";e.d(Ke,{WU:function(){return _},g:function(){return D},xH:function(){return I}});var b=e(17301),z=e(45797),r=e(41720),E=e(45035),c=e(61761);class _{constructor(o,d,u,i,n){this.length=o,this.kind=d,this.bracketId=u,this.bracketIds=i,this.astNode=n}}class I{constructor(o,d){this.textModel=o,this.bracketTokens=d,this.reader=new M(this.textModel,this.bracketTokens),this._offset=E.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,E.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(o){this.didPeek=!1,this._offset=(0,E.Ii)(this._offset,o);const d=(0,E.Hw)(this._offset);this.reader.setPosition(d.lineCount,d.columnCount)}read(){let o;return this.peeked?(this.didPeek=!1,o=this.peeked):o=this.reader.read(),o&&(this._offset=(0,E.Ii)(this._offset,o.length)),o}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class M{constructor(o,d){this.textModel=o,this.bracketTokens=d,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}setPosition(o,d){o===this.lineIdx?(this.lineCharOffset=d,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=o,this.lineCharOffset=d,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const n=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,E.F_)(n.length),n}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const o=this.lineIdx,d=this.lineCharOffset;let u=0;for(;;){const n=this.lineTokens,f=n.getCount();let v=null;if(this.lineTokenOffset<f){const a=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<f&&a===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const S=z.N.getTokenType(a)===0,g=z.N.containsBalancedBrackets(a),y=n.getEndOffset(this.lineTokenOffset);if(g&&S&&this.lineCharOffset<y){const C=n.getLanguageId(this.lineTokenOffset),L=this.line.substring(this.lineCharOffset,y),O=this.bracketTokens.getSingleLanguageBracketTokens(C),T=O.regExpGlobal;if(T){T.lastIndex=0;const F=T.exec(L);F&&(v=O.getToken(F[0]),v&&(this.lineCharOffset+=F.index))}}if(u+=y-this.lineCharOffset,v)if(o!==this.lineIdx||d!==this.lineCharOffset){this.peekedToken=v;break}else return this.lineCharOffset+=(0,E.F_)(v.length),v;else this.lineTokenOffset++,this.lineCharOffset=y}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,u+=33,u>1e3))break;if(u>1500)break}const i=(0,E.av)(o,d,this.lineIdx,this.lineCharOffset);return new _(i,0,-1,c.tS.getEmpty(),new r.BH(i))}}class D{constructor(o,d){this.text=o,this._offset=E.xl,this.idx=0;const u=d.getRegExpStr(),i=u?new RegExp(u+`|
`,"gi"):null,n=[];let f,v=0,a=0,S=0,g=0;const y=[];for(let O=0;O<60;O++)y.push(new _((0,E.Hg)(0,O),0,-1,c.tS.getEmpty(),new r.BH((0,E.Hg)(0,O))));const C=[];for(let O=0;O<60;O++)C.push(new _((0,E.Hg)(1,O),0,-1,c.tS.getEmpty(),new r.BH((0,E.Hg)(1,O))));if(i)for(i.lastIndex=0;(f=i.exec(o))!==null;){const O=f.index,T=f[0];if(T===`
`)v++,a=O+1;else{if(S!==O){let F;if(g===v){const B=O-S;if(B<y.length)F=y[B];else{const $=(0,E.Hg)(0,B);F=new _($,0,-1,c.tS.getEmpty(),new r.BH($))}}else{const B=v-g,$=O-a;if(B===1&&$<C.length)F=C[$];else{const Y=(0,E.Hg)(B,$);F=new _(Y,0,-1,c.tS.getEmpty(),new r.BH(Y))}}n.push(F)}n.push(d.getToken(T)),S=O+T.length,g=v}}const L=o.length;if(S!==L){const O=g===v?(0,E.Hg)(0,L-S):(0,E.Hg)(v-g,L-a);n.push(new _(O,0,-1,c.tS.getEmpty(),new r.BH(O)))}this.length=(0,E.Hg)(v,L-a),this.tokens=n}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(o){throw new b.B8}}},95215:function(Pt,Ke,e){"use strict";e.d(Ke,{NL:function(){return i},e9:function(){return u}});var b=e(63580),z=e(17301),r=e(3860),E=e(70666),c=e(93033),_=e(53060),I=e(95935);function M(n){return n.toString()}class D{static create(f,v){const a=f.getAlternativeVersionId(),S=d(f);return new D(a,a,S,S,v,v,[])}constructor(f,v,a,S,g,y,C){this.beforeVersionId=f,this.afterVersionId=v,this.beforeEOL=a,this.afterEOL=S,this.beforeCursorState=g,this.afterCursorState=y,this.changes=C}append(f,v,a,S,g){v.length>0&&(this.changes=(0,c.b)(this.changes,v)),this.afterEOL=a,this.afterVersionId=S,this.afterCursorState=g}static _writeSelectionsSize(f){return 4+4*4*(f?f.length:0)}static _writeSelections(f,v,a){if(_.T4(f,v?v.length:0,a),a+=4,v)for(const S of v)_.T4(f,S.selectionStartLineNumber,a),a+=4,_.T4(f,S.selectionStartColumn,a),a+=4,_.T4(f,S.positionLineNumber,a),a+=4,_.T4(f,S.positionColumn,a),a+=4;return a}static _readSelections(f,v,a){const S=_.Ag(f,v);v+=4;for(let g=0;g<S;g++){const y=_.Ag(f,v);v+=4;const C=_.Ag(f,v);v+=4;const L=_.Ag(f,v);v+=4;const O=_.Ag(f,v);v+=4,a.push(new r.Y(y,C,L,O))}return v}serialize(){let f=10+D._writeSelectionsSize(this.beforeCursorState)+D._writeSelectionsSize(this.afterCursorState)+4;for(const S of this.changes)f+=S.writeSize();const v=new Uint8Array(f);let a=0;_.T4(v,this.beforeVersionId,a),a+=4,_.T4(v,this.afterVersionId,a),a+=4,_.Cg(v,this.beforeEOL,a),a+=1,_.Cg(v,this.afterEOL,a),a+=1,a=D._writeSelections(v,this.beforeCursorState,a),a=D._writeSelections(v,this.afterCursorState,a),_.T4(v,this.changes.length,a),a+=4;for(const S of this.changes)a=S.write(v,a);return v.buffer}static deserialize(f){const v=new Uint8Array(f);let a=0;const S=_.Ag(v,a);a+=4;const g=_.Ag(v,a);a+=4;const y=_.Q$(v,a);a+=1;const C=_.Q$(v,a);a+=1;const L=[];a=D._readSelections(v,a,L);const O=[];a=D._readSelections(v,a,O);const T=_.Ag(v,a);a+=4;const F=[];for(let B=0;B<T;B++)a=c.q.read(v,a,F);return new D(S,g,y,C,L,O,F)}}class p{get type(){return 0}get resource(){return E.o.isUri(this.model)?this.model:this.model.uri}constructor(f,v,a,S){this.label=f,this.code=v,this.model=a,this._data=D.create(a,S)}toString(){return(this._data instanceof D?this._data:D.deserialize(this._data)).changes.map(v=>v.toString()).join(", ")}matchesResource(f){return(E.o.isUri(this.model)?this.model:this.model.uri).toString()===f.toString()}setModel(f){this.model=f}canAppend(f){return this.model===f&&this._data instanceof D}append(f,v,a,S,g){this._data instanceof D&&this._data.append(f,v,a,S,g)}close(){this._data instanceof D&&(this._data=this._data.serialize())}open(){this._data instanceof D||(this._data=D.deserialize(this._data))}undo(){if(E.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const f=D.deserialize(this._data);this.model._applyUndo(f.changes,f.beforeEOL,f.beforeVersionId,f.beforeCursorState)}redo(){if(E.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const f=D.deserialize(this._data);this.model._applyRedo(f.changes,f.afterEOL,f.afterVersionId,f.afterCursorState)}heapSize(){return this._data instanceof D&&(this._data=this._data.serialize()),this._data.byteLength+168}}class o{get resources(){return this._editStackElementsArr.map(f=>f.resource)}constructor(f,v,a){this.label=f,this.code=v,this.type=1,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;for(const S of this._editStackElementsArr){const g=M(S.resource);this._editStackElementsMap.set(g,S)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(f){const v=M(f);return this._editStackElementsMap.has(v)}setModel(f){const v=M(E.o.isUri(f)?f:f.uri);this._editStackElementsMap.has(v)&&this._editStackElementsMap.get(v).setModel(f)}canAppend(f){if(!this._isOpen)return!1;const v=M(f.uri);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).canAppend(f):!1}append(f,v,a,S,g){const y=M(f.uri);this._editStackElementsMap.get(y).append(f,v,a,S,g)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const f of this._editStackElementsArr)f.undo()}redo(){for(const f of this._editStackElementsArr)f.redo()}heapSize(f){const v=M(f);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).heapSize():0}split(){return this._editStackElementsArr}toString(){const f=[];for(const v of this._editStackElementsArr)f.push(`${(0,I.EZ)(v.resource)}: ${v}`);return`{${f.join(", ")}}`}}function d(n){return n.getEOL()===`
`?0:1}function u(n){return n?n instanceof p||n instanceof o:!1}class i{constructor(f,v){this._model=f,this._undoRedoService=v}pushStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);u(f)&&f.close()}popStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);u(f)&&f.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(f,v){const a=this._undoRedoService.getLastElement(this._model.uri);if(u(a)&&a.canAppend(this._model))return a;const S=new p(b.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,f);return this._undoRedoService.pushElement(S,v),S}pushEOL(f){const v=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(f),v.append(this._model,[],d(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(f,v,a,S){const g=this._getOrCreateEditStackElement(f,S),y=this._model.applyEdits(v,!0),C=i._computeCursorState(a,y),L=y.map((O,T)=>({index:T,textChange:O.textChange}));return L.sort((O,T)=>O.textChange.oldPosition===T.textChange.oldPosition?O.index-T.index:O.textChange.oldPosition-T.textChange.oldPosition),g.append(this._model,L.map(O=>O.textChange),d(this._model),this._model.getAlternativeVersionId(),C),C}static _computeCursorState(f,v){try{return f?f(v):null}catch(a){return(0,z.dL)(a),null}}}},1516:function(Pt,Ke,e){"use strict";e.d(Ke,{W:function(){return p},l:function(){return D}});var b=e(35534),z=e(97295),r=e(7988),E=e(24314),c=e(94954),_=e(59616),I=e(65094),M=e(17301);class D extends c.U{constructor(d,u){super(),this.textModel=d,this.languageConfigurationService=u}getLanguageConfiguration(d){return this.languageConfigurationService.getLanguageConfiguration(d)}_computeIndentLevel(d){return(0,_.q)(this.textModel.getLineContent(d+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(d,u,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(d<1||d>n)throw new M.he("Illegal value for lineNumber");const f=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,v=!!(f&&f.offSide);let a=-2,S=-1,g=-2,y=-1;const C=A=>{if(a!==-1&&(a===-2||a>A-1)){a=-1,S=-1;for(let H=A-2;H>=0;H--){const U=this._computeIndentLevel(H);if(U>=0){a=H,S=U;break}}}if(g===-2){g=-1,y=-1;for(let H=A;H<n;H++){const U=this._computeIndentLevel(H);if(U>=0){g=H,y=U;break}}}};let L=-2,O=-1,T=-2,F=-1;const B=A=>{if(L===-2){L=-1,O=-1;for(let H=A-2;H>=0;H--){const U=this._computeIndentLevel(H);if(U>=0){L=H,O=U;break}}}if(T!==-1&&(T===-2||T<A-1)){T=-1,F=-1;for(let H=A;H<n;H++){const U=this._computeIndentLevel(H);if(U>=0){T=H,F=U;break}}}};let $=0,Y=!0,P=0,w=!0,V=0,R=0;for(let A=0;Y||w;A++){const H=d-A,U=d+A;A>1&&(H<1||H<u)&&(Y=!1),A>1&&(U>n||U>i)&&(w=!1),A>5e4&&(Y=!1,w=!1);let G=-1;if(Y&&H>=1){const W=this._computeIndentLevel(H-1);W>=0?(g=H-1,y=W,G=Math.ceil(W/this.textModel.getOptions().indentSize)):(C(H),G=this._getIndentLevelForWhitespaceLine(v,S,y))}let j=-1;if(w&&U<=n){const W=this._computeIndentLevel(U-1);W>=0?(L=U-1,O=W,j=Math.ceil(W/this.textModel.getOptions().indentSize)):(B(U),j=this._getIndentLevelForWhitespaceLine(v,O,F))}if(A===0){R=G;continue}if(A===1){if(U<=n&&j>=0&&R+1===j){Y=!1,$=U,P=U,V=j;continue}if(H>=1&&G>=0&&G-1===R){w=!1,$=H,P=H,V=G;continue}if($=d,P=d,V=R,V===0)return{startLineNumber:$,endLineNumber:P,indent:V}}Y&&(G>=V?$=H:Y=!1),w&&(j>=V?P=U:w=!1)}return{startLineNumber:$,endLineNumber:P,indent:V}}getLinesBracketGuides(d,u,i,n){var f;const v=[];for(let L=d;L<=u;L++)v.push([]);const a=!0,S=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new E.e(d,1,u,this.textModel.getLineMaxColumn(u))).toArray();let g;if(i&&S.length>0){const L=(d<=i.lineNumber&&i.lineNumber<=u?S:this.textModel.bracketPairs.getBracketPairsInRange(E.e.fromPositions(i)).toArray()).filter(O=>E.e.strictContainsPosition(O.range,i));g=(f=(0,b.dF)(L,O=>a||O.range.startLineNumber!==O.range.endLineNumber))===null||f===void 0?void 0:f.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,C=new p;for(const L of S){if(!L.closingBracketRange)continue;const O=g&&L.range.equalsRange(g);if(!O&&!n.includeInactive)continue;const T=C.getInlineClassName(L.nestingLevel,L.nestingLevelOfEqualBracketType,y)+(n.highlightActive&&O?" "+C.activeClassName:""),F=L.openingBracketRange.getStartPosition(),B=L.closingBracketRange.getStartPosition(),$=n.horizontalGuides===I.s6.Enabled||n.horizontalGuides===I.s6.EnabledForActive&&O;if(L.range.startLineNumber===L.range.endLineNumber){a&&$&&v[L.range.startLineNumber-d].push(new I.UO(-1,L.openingBracketRange.getEndPosition().column,T,new I.vW(!1,B.column),-1,-1));continue}const Y=this.getVisibleColumnFromPosition(B),P=this.getVisibleColumnFromPosition(L.openingBracketRange.getStartPosition()),w=Math.min(P,Y,L.minVisibleColumnIndentation+1);let V=!1;z.LC(this.textModel.getLineContent(L.closingBracketRange.startLineNumber))<L.closingBracketRange.startColumn-1&&(V=!0);const H=Math.max(F.lineNumber,d),U=Math.min(B.lineNumber,u),G=V?1:0;for(let j=H;j<U+G;j++)v[j-d].push(new I.UO(w,-1,T,null,j===F.lineNumber?F.column:-1,j===B.lineNumber?B.column:-1));$&&(F.lineNumber>=d&&P>w&&v[F.lineNumber-d].push(new I.UO(w,-1,T,new I.vW(!1,F.column),-1,-1)),B.lineNumber<=u&&Y>w&&v[B.lineNumber-d].push(new I.UO(w,-1,T,new I.vW(!V,B.column),-1,-1)))}for(const L of v)L.sort((O,T)=>O.visibleColumn-T.visibleColumn);return v}getVisibleColumnFromPosition(d){return r.i.visibleColumnFromColumn(this.textModel.getLineContent(d.lineNumber),d.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(d,u){this.assertNotDisposed();const i=this.textModel.getLineCount();if(d<1||d>i)throw new Error("Illegal value for startLineNumber");if(u<1||u>i)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),f=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,v=!!(f&&f.offSide),a=new Array(u-d+1);let S=-2,g=-1,y=-2,C=-1;for(let L=d;L<=u;L++){const O=L-d,T=this._computeIndentLevel(L-1);if(T>=0){S=L-1,g=T,a[O]=Math.ceil(T/n.indentSize);continue}if(S===-2){S=-1,g=-1;for(let F=L-2;F>=0;F--){const B=this._computeIndentLevel(F);if(B>=0){S=F,g=B;break}}}if(y!==-1&&(y===-2||y<L-1)){y=-1,C=-1;for(let F=L;F<i;F++){const B=this._computeIndentLevel(F);if(B>=0){y=F,C=B;break}}}a[O]=this._getIndentLevelForWhitespaceLine(v,g,C)}return a}_getIndentLevelForWhitespaceLine(d,u,i){const n=this.textModel.getOptions();return u===-1||i===-1?0:u<i?1+Math.floor(u/n.indentSize):u===i||d?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}}class p{constructor(){this.activeClassName="indent-active"}getInlineClassName(d,u,i){return this.getInlineClassNameOfLevel(i?u:d)}getInlineClassNameOfLevel(d){return`bracket-indent-guide lvl-${d%30}`}}},90310:function(Pt,Ke,e){"use strict";e.d(Ke,{Ck:function(){return E},oQ:function(){return r}});var b=e(9488),z=e(85427);class r{constructor(I){this.values=I,this.prefixSum=new Uint32Array(I.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(I,M){I=(0,z.A)(I);const D=this.values,p=this.prefixSum,o=M.length;return o===0?!1:(this.values=new Uint32Array(D.length+o),this.values.set(D.subarray(0,I),0),this.values.set(D.subarray(I),I+o),this.values.set(M,I),I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(I,M){return I=(0,z.A)(I),M=(0,z.A)(M),this.values[I]===M?!1:(this.values[I]=M,I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),!0)}removeValues(I,M){I=(0,z.A)(I),M=(0,z.A)(M);const D=this.values,p=this.prefixSum;if(I>=D.length)return!1;const o=D.length-I;return M>=o&&(M=o),M===0?!1:(this.values=new Uint32Array(D.length-M),this.values.set(D.subarray(0,I),0),this.values.set(D.subarray(I+M),I),this.prefixSum=new Uint32Array(this.values.length),I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(I){return I<0?0:(I=(0,z.A)(I),this._getPrefixSum(I))}_getPrefixSum(I){if(I<=this.prefixSumValidIndex[0])return this.prefixSum[I];let M=this.prefixSumValidIndex[0]+1;M===0&&(this.prefixSum[0]=this.values[0],M++),I>=this.values.length&&(I=this.values.length-1);for(let D=M;D<=I;D++)this.prefixSum[D]=this.prefixSum[D-1]+this.values[D];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],I),this.prefixSum[I]}getIndexOf(I){I=Math.floor(I),this.getTotalSum();let M=0,D=this.values.length-1,p=0,o=0,d=0;for(;M<=D;)if(p=M+(D-M)/2|0,o=this.prefixSum[p],d=o-this.values[p],I<d)D=p-1;else if(I>=o)M=p+1;else break;return new c(p,I-d)}}class E{constructor(I){this._values=I,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(I){return this._ensureValid(),I===0?0:this._prefixSum[I-1]}getIndexOf(I){this._ensureValid();const M=this._indexBySum[I],D=M>0?this._prefixSum[M-1]:0;return new c(M,I-D)}removeValues(I,M){this._values.splice(I,M),this._invalidate(I)}insertValues(I,M){this._values=(0,b.Zv)(this._values,I,M),this._invalidate(I)}_invalidate(I){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,I-1)}_ensureValid(){if(!this._isValid){for(let I=this._validEndIndex+1,M=this._values.length;I<M;I++){const D=this._values[I],p=I>0?this._prefixSum[I-1]:0;this._prefixSum[I]=p+D;for(let o=0;o<D;o++)this._indexBySum[p+o]=I}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(I,M){this._values[I]!==M&&(this._values[I]=M,this._invalidate(I))}}class c{constructor(I,M){this.index=I,this.remainder=M,this._prefixSumIndexOfResultBrand=void 0,this.index=I,this.remainder=M}}},84901:function(Pt,Ke,e){"use strict";e.d(Ke,{HS:function(){return ni},qx:function(){return bi},yO:function(){return es}});var b=e(9488),z=e(41264),r=e(17301),E=e(4669),c=e(5976),_=e(97295),I=e(70666),M=e(23795),D=e(83158),p=e(45463),o=e(50187),d=e(24314),u=e(3860),i=e(22075),n=e(72042),f=e(4256),v=e(84973),a=e(19111),S=e(34302);class g{constructor(k,te,ue,Fe){this.range=k,this.nestingLevel=te,this.nestingLevelOfEqualBracketType=ue,this.isInvalid=Fe}}class y{constructor(k,te,ue,Fe,Ze,it){this.range=k,this.openingBracketRange=te,this.closingBracketRange=ue,this.nestingLevel=Fe,this.nestingLevelOfEqualBracketType=Ze,this.bracketPairNode=it}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class C extends y{constructor(k,te,ue,Fe,Ze,it,dt){super(k,te,ue,Fe,Ze,it),this.minVisibleColumnIndentation=dt}}var L=e(2442),O=e(35382),T=e(45035),F=e(64837),B=e(61761),$=e(6735),Y=e(41574);class P extends c.JT{didLanguageChange(k){return this.brackets.didLanguageChange(k)}constructor(k,te){if(super(),this.textModel=k,this.getLanguageConfiguration=te,this.didChangeEmitter=new E.Q5,this.denseKeyProvider=new B.FE,this.brackets=new O.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],k.tokenization.hasTokens)k.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const ue=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Fe=new $.g(this.textModel.getValue(),ue);this.initialAstWithoutTokens=(0,F.w)(Fe,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const k=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,k||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:k}){const te=k.map(ue=>new L.Q((0,T.Hg)(ue.fromLineNumber-1,0),(0,T.Hg)(ue.toLineNumber,0),(0,T.Hg)(ue.toLineNumber-ue.fromLineNumber+1,0)));this.handleEdits(te,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(k){const te=L.Q.fromModelContentChanges(k.changes);this.handleEdits(te,!1)}handleEdits(k,te){const ue=(0,Y.o)(this.queuedTextEdits,k);this.queuedTextEdits=ue,this.initialAstWithoutTokens&&!te&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,Y.o)(this.queuedTextEditsForInitialAstWithoutTokens,k))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(k,te,ue){const Ze=te,it=new $.xH(this.textModel,this.brackets);return(0,F.w)(it,k,Ze,ue)}getBracketsInRange(k,te){this.flushQueue();const ue=(0,T.Hg)(k.startLineNumber-1,k.startColumn-1),Fe=(0,T.Hg)(k.endLineNumber-1,k.endColumn-1);return new b.W$(Ze=>{const it=this.initialAstWithoutTokens||this.astWithTokens;R(it,T.xl,it.length,ue,Fe,Ze,0,0,new Map,te)})}getBracketPairsInRange(k,te){this.flushQueue();const ue=(0,T.PZ)(k.getStartPosition()),Fe=(0,T.PZ)(k.getEndPosition());return new b.W$(Ze=>{const it=this.initialAstWithoutTokens||this.astWithTokens,dt=new A(Ze,te,this.textModel);H(it,T.xl,it.length,ue,Fe,dt,0,new Map)})}getFirstBracketAfter(k){this.flushQueue();const te=this.initialAstWithoutTokens||this.astWithTokens;return V(te,T.xl,te.length,(0,T.PZ)(k))}getFirstBracketBefore(k){this.flushQueue();const te=this.initialAstWithoutTokens||this.astWithTokens;return w(te,T.xl,te.length,(0,T.PZ)(k))}}function w(bt,k,te,ue){if(bt.kind===4||bt.kind===2){const Fe=[];for(const Ze of bt.children)te=(0,T.Ii)(k,Ze.length),Fe.push({nodeOffsetStart:k,nodeOffsetEnd:te}),k=te;for(let Ze=Fe.length-1;Ze>=0;Ze--){const{nodeOffsetStart:it,nodeOffsetEnd:dt}=Fe[Ze];if((0,T.VR)(it,ue)){const _t=w(bt.children[Ze],it,dt,ue);if(_t)return _t}}return null}else{if(bt.kind===3)return null;if(bt.kind===1){const Fe=(0,T.Qw)(k,te);return{bracketInfo:bt.bracketInfo,range:Fe}}}return null}function V(bt,k,te,ue){if(bt.kind===4||bt.kind===2){for(const Fe of bt.children){if(te=(0,T.Ii)(k,Fe.length),(0,T.VR)(ue,te)){const Ze=V(Fe,k,te,ue);if(Ze)return Ze}k=te}return null}else{if(bt.kind===3)return null;if(bt.kind===1){const Fe=(0,T.Qw)(k,te);return{bracketInfo:bt.bracketInfo,range:Fe}}}return null}function R(bt,k,te,ue,Fe,Ze,it,dt,_t,st,Q=!1){if(it>200)return!0;e:for(;;)switch(bt.kind){case 4:{const he=bt.childrenLength;for(let Be=0;Be<he;Be++){const nt=bt.getChild(Be);if(nt){if(te=(0,T.Ii)(k,nt.length),(0,T.By)(k,Fe)&&(0,T.Zq)(te,ue)){if((0,T.Zq)(te,Fe)){bt=nt;continue e}if(!R(nt,k,te,ue,Fe,Ze,it,0,_t,st))return!1}k=te}}return!0}case 2:{const he=!st||!bt.closingBracket||bt.closingBracket.bracketInfo.closesColorized(bt.openingBracket.bracketInfo);let Be=0;if(_t){let pt=_t.get(bt.openingBracket.text);pt===void 0&&(pt=0),Be=pt,he&&(pt++,_t.set(bt.openingBracket.text,pt))}const nt=bt.childrenLength;for(let pt=0;pt<nt;pt++){const Tt=bt.getChild(pt);if(Tt){if(te=(0,T.Ii)(k,Tt.length),(0,T.By)(k,Fe)&&(0,T.Zq)(te,ue)){if((0,T.Zq)(te,Fe)&&Tt.kind!==1){bt=Tt,he?(it++,dt=Be+1):dt=Be;continue e}if((he||Tt.kind!==1||!bt.closingBracket)&&!R(Tt,k,te,ue,Fe,Ze,he?it+1:it,he?Be+1:Be,_t,st,!bt.closingBracket))return!1}k=te}}return _t==null||_t.set(bt.openingBracket.text,Be),!0}case 3:{const he=(0,T.Qw)(k,te);return Ze(new g(he,it-1,0,!0))}case 1:{const he=(0,T.Qw)(k,te);return Ze(new g(he,it-1,dt-1,Q))}case 0:return!0}}class A{constructor(k,te,ue){this.push=k,this.includeMinIndentation=te,this.textModel=ue}}function H(bt,k,te,ue,Fe,Ze,it,dt){var _t;if(it>200)return!0;let st=!0;if(bt.kind===2){let Q=0;if(dt){let nt=dt.get(bt.openingBracket.text);nt===void 0&&(nt=0),Q=nt,nt++,dt.set(bt.openingBracket.text,nt)}const he=(0,T.Ii)(k,bt.openingBracket.length);let Be=-1;if(Ze.includeMinIndentation&&(Be=bt.computeMinIndentation(k,Ze.textModel)),st=Ze.push(new C((0,T.Qw)(k,te),(0,T.Qw)(k,he),bt.closingBracket?(0,T.Qw)((0,T.Ii)(he,((_t=bt.child)===null||_t===void 0?void 0:_t.length)||T.xl),te):void 0,it,Q,bt,Be)),k=he,st&&bt.child){const nt=bt.child;if(te=(0,T.Ii)(k,nt.length),(0,T.By)(k,Fe)&&(0,T.Zq)(te,ue)&&(st=H(nt,k,te,ue,Fe,Ze,it+1,dt),!st))return!1}dt==null||dt.set(bt.openingBracket.text,Q)}else{let Q=k;for(const he of bt.children){const Be=Q;if(Q=(0,T.Ii)(Q,he.length),(0,T.By)(Be,Fe)&&(0,T.By)(ue,Q)&&(st=H(he,Be,Q,ue,Fe,Ze,it,dt),!st))return!1}}return st}class U extends c.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(k,te){super(),this.textModel=k,this.languageConfigurationService=te,this.bracketPairsTree=this._register(new c.XK),this.onDidChangeEmitter=new E.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(ue=>{var Fe;(!ue.languageId||!((Fe=this.bracketPairsTree.value)===null||Fe===void 0)&&Fe.object.didLanguageChange(ue.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(k){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(k){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(k){var te;(te=this.bracketPairsTree.value)===null||te===void 0||te.object.handleContentChanged(k)}handleDidChangeBackgroundTokenizationState(){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(k){var te;(te=this.bracketPairsTree.value)===null||te===void 0||te.object.handleDidChangeTokens(k)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const k=new c.SL;this.bracketPairsTree.value=G(k.add(new P(this.textModel,te=>this.languageConfigurationService.getLanguageConfiguration(te))),k),k.add(this.bracketPairsTree.value.object.onDidChange(te=>this.onDidChangeEmitter.fire(te))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(k){var te;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((te=this.bracketPairsTree.value)===null||te===void 0?void 0:te.object.getBracketPairsInRange(k,!1))||b.W$.empty}getBracketPairsInRangeWithMinIndentation(k){var te;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((te=this.bracketPairsTree.value)===null||te===void 0?void 0:te.object.getBracketPairsInRange(k,!0))||b.W$.empty}getBracketsInRange(k,te=!1){var ue;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ue=this.bracketPairsTree.value)===null||ue===void 0?void 0:ue.object.getBracketsInRange(k,te))||b.W$.empty}findMatchingBracketUp(k,te,ue){const Fe=this.textModel.validatePosition(te),Ze=this.textModel.getLanguageIdAtPosition(Fe.lineNumber,Fe.column);if(this.canBuildAST){const it=this.languageConfigurationService.getLanguageConfiguration(Ze).bracketsNew.getClosingBracketInfo(k);if(!it)return null;const dt=this.getBracketPairsInRange(d.e.fromPositions(te,te)).findLast(_t=>it.closes(_t.openingBracketInfo));return dt?dt.openingBracketRange:null}else{const it=k.toLowerCase(),dt=this.languageConfigurationService.getLanguageConfiguration(Ze).brackets;if(!dt)return null;const _t=dt.textIsBracket[it];return _t?K(this._findMatchingBracketUp(_t,Fe,j(ue))):null}}matchBracket(k,te){if(this.canBuildAST){const ue=this.getBracketPairsInRange(d.e.fromPositions(k,k)).filter(Fe=>Fe.closingBracketRange!==void 0&&(Fe.openingBracketRange.containsPosition(k)||Fe.closingBracketRange.containsPosition(k))).findLastMaxBy((0,b.tT)(Fe=>Fe.openingBracketRange.containsPosition(k)?Fe.openingBracketRange:Fe.closingBracketRange,d.e.compareRangesUsingStarts));return ue?[ue.openingBracketRange,ue.closingBracketRange]:null}else{const ue=j(te);return this._matchBracket(this.textModel.validatePosition(k),ue)}}_establishBracketSearchOffsets(k,te,ue,Fe){const Ze=te.getCount(),it=te.getLanguageId(Fe);let dt=Math.max(0,k.column-1-ue.maxBracketLength);for(let st=Fe-1;st>=0;st--){const Q=te.getEndOffset(st);if(Q<=dt)break;if((0,a.Bu)(te.getStandardTokenType(st))||te.getLanguageId(st)!==it){dt=Q;break}}let _t=Math.min(te.getLineContent().length,k.column-1+ue.maxBracketLength);for(let st=Fe+1;st<Ze;st++){const Q=te.getStartOffset(st);if(Q>=_t)break;if((0,a.Bu)(te.getStandardTokenType(st))||te.getLanguageId(st)!==it){_t=Q;break}}return{searchStartOffset:dt,searchEndOffset:_t}}_matchBracket(k,te){const ue=k.lineNumber,Fe=this.textModel.tokenization.getLineTokens(ue),Ze=this.textModel.getLineContent(ue),it=Fe.findTokenIndexAtOffset(k.column-1);if(it<0)return null;const dt=this.languageConfigurationService.getLanguageConfiguration(Fe.getLanguageId(it)).brackets;if(dt&&!(0,a.Bu)(Fe.getStandardTokenType(it))){let{searchStartOffset:_t,searchEndOffset:st}=this._establishBracketSearchOffsets(k,Fe,dt,it),Q=null;for(;;){const he=S.Vr.findNextBracketInRange(dt.forwardRegex,ue,Ze,_t,st);if(!he)break;if(he.startColumn<=k.column&&k.column<=he.endColumn){const Be=Ze.substring(he.startColumn-1,he.endColumn-1).toLowerCase(),nt=this._matchFoundBracket(he,dt.textIsBracket[Be],dt.textIsOpenBracket[Be],te);if(nt){if(nt instanceof W)return null;Q=nt}}_t=he.endColumn-1}if(Q)return Q}if(it>0&&Fe.getStartOffset(it)===k.column-1){const _t=it-1,st=this.languageConfigurationService.getLanguageConfiguration(Fe.getLanguageId(_t)).brackets;if(st&&!(0,a.Bu)(Fe.getStandardTokenType(_t))){const{searchStartOffset:Q,searchEndOffset:he}=this._establishBracketSearchOffsets(k,Fe,st,_t),Be=S.Vr.findPrevBracketInRange(st.reversedRegex,ue,Ze,Q,he);if(Be&&Be.startColumn<=k.column&&k.column<=Be.endColumn){const nt=Ze.substring(Be.startColumn-1,Be.endColumn-1).toLowerCase(),pt=this._matchFoundBracket(Be,st.textIsBracket[nt],st.textIsOpenBracket[nt],te);if(pt)return pt instanceof W?null:pt}}}return null}_matchFoundBracket(k,te,ue,Fe){if(!te)return null;const Ze=ue?this._findMatchingBracketDown(te,k.getEndPosition(),Fe):this._findMatchingBracketUp(te,k.getStartPosition(),Fe);return Ze?Ze instanceof W?Ze:[k,Ze]:null}_findMatchingBracketUp(k,te,ue){const Fe=k.languageId,Ze=k.reversedRegex;let it=-1,dt=0;const _t=(st,Q,he,Be)=>{for(;;){if(ue&&++dt%100===0&&!ue())return W.INSTANCE;const nt=S.Vr.findPrevBracketInRange(Ze,st,Q,he,Be);if(!nt)break;const pt=Q.substring(nt.startColumn-1,nt.endColumn-1).toLowerCase();if(k.isOpen(pt)?it++:k.isClose(pt)&&it--,it===0)return nt;Be=nt.startColumn-1}return null};for(let st=te.lineNumber;st>=1;st--){const Q=this.textModel.tokenization.getLineTokens(st),he=Q.getCount(),Be=this.textModel.getLineContent(st);let nt=he-1,pt=Be.length,Tt=Be.length;st===te.lineNumber&&(nt=Q.findTokenIndexAtOffset(te.column-1),pt=te.column-1,Tt=te.column-1);let Vt=!0;for(;nt>=0;nt--){const oi=Q.getLanguageId(nt)===Fe&&!(0,a.Bu)(Q.getStandardTokenType(nt));if(oi)Vt?pt=Q.getStartOffset(nt):(pt=Q.getStartOffset(nt),Tt=Q.getEndOffset(nt));else if(Vt&&pt!==Tt){const Ai=_t(st,Be,pt,Tt);if(Ai)return Ai}Vt=oi}if(Vt&&pt!==Tt){const oi=_t(st,Be,pt,Tt);if(oi)return oi}}return null}_findMatchingBracketDown(k,te,ue){const Fe=k.languageId,Ze=k.forwardRegex;let it=1,dt=0;const _t=(Q,he,Be,nt)=>{for(;;){if(ue&&++dt%100===0&&!ue())return W.INSTANCE;const pt=S.Vr.findNextBracketInRange(Ze,Q,he,Be,nt);if(!pt)break;const Tt=he.substring(pt.startColumn-1,pt.endColumn-1).toLowerCase();if(k.isOpen(Tt)?it++:k.isClose(Tt)&&it--,it===0)return pt;Be=pt.endColumn-1}return null},st=this.textModel.getLineCount();for(let Q=te.lineNumber;Q<=st;Q++){const he=this.textModel.tokenization.getLineTokens(Q),Be=he.getCount(),nt=this.textModel.getLineContent(Q);let pt=0,Tt=0,Vt=0;Q===te.lineNumber&&(pt=he.findTokenIndexAtOffset(te.column-1),Tt=te.column-1,Vt=te.column-1);let oi=!0;for(;pt<Be;pt++){const Ai=he.getLanguageId(pt)===Fe&&!(0,a.Bu)(he.getStandardTokenType(pt));if(Ai)oi||(Tt=he.getStartOffset(pt)),Vt=he.getEndOffset(pt);else if(oi&&Tt!==Vt){const zi=_t(Q,nt,Tt,Vt);if(zi)return zi}oi=Ai}if(oi&&Tt!==Vt){const Ai=_t(Q,nt,Tt,Vt);if(Ai)return Ai}}return null}findPrevBracket(k){var te;const ue=this.textModel.validatePosition(k);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((te=this.bracketPairsTree.value)===null||te===void 0?void 0:te.object.getFirstBracketBefore(ue))||null;let Fe=null,Ze=null,it=null;for(let dt=ue.lineNumber;dt>=1;dt--){const _t=this.textModel.tokenization.getLineTokens(dt),st=_t.getCount(),Q=this.textModel.getLineContent(dt);let he=st-1,Be=Q.length,nt=Q.length;if(dt===ue.lineNumber){he=_t.findTokenIndexAtOffset(ue.column-1),Be=ue.column-1,nt=ue.column-1;const Tt=_t.getLanguageId(he);Fe!==Tt&&(Fe=Tt,Ze=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets,it=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew)}let pt=!0;for(;he>=0;he--){const Tt=_t.getLanguageId(he);if(Fe!==Tt){if(Ze&&it&&pt&&Be!==nt){const oi=S.Vr.findPrevBracketInRange(Ze.reversedRegex,dt,Q,Be,nt);if(oi)return this._toFoundBracket(it,oi);pt=!1}Fe=Tt,Ze=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets,it=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew}const Vt=!!Ze&&!(0,a.Bu)(_t.getStandardTokenType(he));if(Vt)pt?Be=_t.getStartOffset(he):(Be=_t.getStartOffset(he),nt=_t.getEndOffset(he));else if(it&&Ze&&pt&&Be!==nt){const oi=S.Vr.findPrevBracketInRange(Ze.reversedRegex,dt,Q,Be,nt);if(oi)return this._toFoundBracket(it,oi)}pt=Vt}if(it&&Ze&&pt&&Be!==nt){const Tt=S.Vr.findPrevBracketInRange(Ze.reversedRegex,dt,Q,Be,nt);if(Tt)return this._toFoundBracket(it,Tt)}}return null}findNextBracket(k){var te;const ue=this.textModel.validatePosition(k);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((te=this.bracketPairsTree.value)===null||te===void 0?void 0:te.object.getFirstBracketAfter(ue))||null;const Fe=this.textModel.getLineCount();let Ze=null,it=null,dt=null;for(let _t=ue.lineNumber;_t<=Fe;_t++){const st=this.textModel.tokenization.getLineTokens(_t),Q=st.getCount(),he=this.textModel.getLineContent(_t);let Be=0,nt=0,pt=0;if(_t===ue.lineNumber){Be=st.findTokenIndexAtOffset(ue.column-1),nt=ue.column-1,pt=ue.column-1;const Vt=st.getLanguageId(Be);Ze!==Vt&&(Ze=Vt,it=this.languageConfigurationService.getLanguageConfiguration(Ze).brackets,dt=this.languageConfigurationService.getLanguageConfiguration(Ze).bracketsNew)}let Tt=!0;for(;Be<Q;Be++){const Vt=st.getLanguageId(Be);if(Ze!==Vt){if(dt&&it&&Tt&&nt!==pt){const Ai=S.Vr.findNextBracketInRange(it.forwardRegex,_t,he,nt,pt);if(Ai)return this._toFoundBracket(dt,Ai);Tt=!1}Ze=Vt,it=this.languageConfigurationService.getLanguageConfiguration(Ze).brackets,dt=this.languageConfigurationService.getLanguageConfiguration(Ze).bracketsNew}const oi=!!it&&!(0,a.Bu)(st.getStandardTokenType(Be));if(oi)Tt||(nt=st.getStartOffset(Be)),pt=st.getEndOffset(Be);else if(dt&&it&&Tt&&nt!==pt){const Ai=S.Vr.findNextBracketInRange(it.forwardRegex,_t,he,nt,pt);if(Ai)return this._toFoundBracket(dt,Ai)}Tt=oi}if(dt&&it&&Tt&&nt!==pt){const Vt=S.Vr.findNextBracketInRange(it.forwardRegex,_t,he,nt,pt);if(Vt)return this._toFoundBracket(dt,Vt)}}return null}findEnclosingBrackets(k,te){const ue=this.textModel.validatePosition(k);if(this.canBuildAST){const nt=d.e.fromPositions(ue),pt=this.getBracketPairsInRange(d.e.fromPositions(ue,ue)).findLast(Tt=>Tt.closingBracketRange!==void 0&&Tt.range.strictContainsRange(nt));return pt?[pt.openingBracketRange,pt.closingBracketRange]:null}const Fe=j(te),Ze=this.textModel.getLineCount(),it=new Map;let dt=[];const _t=(nt,pt)=>{if(!it.has(nt)){const Tt=[];for(let Vt=0,oi=pt?pt.brackets.length:0;Vt<oi;Vt++)Tt[Vt]=0;it.set(nt,Tt)}dt=it.get(nt)};let st=0;const Q=(nt,pt,Tt,Vt,oi)=>{for(;;){if(Fe&&++st%100===0&&!Fe())return W.INSTANCE;const Ai=S.Vr.findNextBracketInRange(nt.forwardRegex,pt,Tt,Vt,oi);if(!Ai)break;const zi=Tt.substring(Ai.startColumn-1,Ai.endColumn-1).toLowerCase(),cn=nt.textIsBracket[zi];if(cn&&(cn.isOpen(zi)?dt[cn.index]++:cn.isClose(zi)&&dt[cn.index]--,dt[cn.index]===-1))return this._matchFoundBracket(Ai,cn,!1,Fe);Vt=Ai.endColumn-1}return null};let he=null,Be=null;for(let nt=ue.lineNumber;nt<=Ze;nt++){const pt=this.textModel.tokenization.getLineTokens(nt),Tt=pt.getCount(),Vt=this.textModel.getLineContent(nt);let oi=0,Ai=0,zi=0;if(nt===ue.lineNumber){oi=pt.findTokenIndexAtOffset(ue.column-1),Ai=ue.column-1,zi=ue.column-1;const dn=pt.getLanguageId(oi);he!==dn&&(he=dn,Be=this.languageConfigurationService.getLanguageConfiguration(he).brackets,_t(he,Be))}let cn=!0;for(;oi<Tt;oi++){const dn=pt.getLanguageId(oi);if(he!==dn){if(Be&&cn&&Ai!==zi){const Ki=Q(Be,nt,Vt,Ai,zi);if(Ki)return K(Ki);cn=!1}he=dn,Be=this.languageConfigurationService.getLanguageConfiguration(he).brackets,_t(he,Be)}const on=!!Be&&!(0,a.Bu)(pt.getStandardTokenType(oi));if(on)cn||(Ai=pt.getStartOffset(oi)),zi=pt.getEndOffset(oi);else if(Be&&cn&&Ai!==zi){const Ki=Q(Be,nt,Vt,Ai,zi);if(Ki)return K(Ki)}cn=on}if(Be&&cn&&Ai!==zi){const dn=Q(Be,nt,Vt,Ai,zi);if(dn)return K(dn)}}return null}_toFoundBracket(k,te){if(!te)return null;let ue=this.textModel.getValueInRange(te);ue=ue.toLowerCase();const Fe=k.getBracketInfo(ue);return Fe?{range:te,bracketInfo:Fe}:null}}function G(bt,k){return{object:bt,dispose:()=>k==null?void 0:k.dispose()}}function j(bt){if(typeof bt=="undefined")return()=>!0;{const k=Date.now();return()=>Date.now()-k<=bt}}class W{constructor(){this._searchCanceledBrand=void 0}}W.INSTANCE=new W;function K(bt){return bt instanceof W?null:bt}var m=e(8625),J=e(97781);class X extends c.JT{constructor(k){super(),this.textModel=k,this.colorProvider=new ie,this.onDidChangeEmitter=new E.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=k.getOptions().bracketPairColorizationOptions,this._register(k.bracketPairs.onDidChange(te=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(k){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(k,te,ue,Fe){return Fe?[]:te===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(k,!0).map(it=>({id:`bracket${it.range.toString()}-${it.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(it,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:it.range})).toArray():[]}getAllDecorations(k,te){return k===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new d.e(1,1,this.textModel.getLineCount(),1),k,te):[]}}class ie{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(k,te){return k.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(te?k.nestingLevelOfEqualBracketType:k.nestingLevel)}getInlineClassNameOfLevel(k){return`bracket-highlighting-${k%30}`}}(0,J.Ic)((bt,k)=>{const te=[m.zJ,m.Vs,m.CE,m.UP,m.r0,m.m1],ue=new ie;k.addRule(`.monaco-editor .${ue.unexpectedClosingBracketClassName} { color: ${bt.getColor(m.ts)}; }`);const Fe=te.map(Ze=>bt.getColor(Ze)).filter(Ze=>!!Ze).filter(Ze=>!Ze.isTransparent());for(let Ze=0;Ze<30;Ze++){const it=Fe[Ze%Fe.length];k.addRule(`.monaco-editor .${ue.getInlineClassNameOfLevel(Ze)} { color: ${it}; }`)}});var le=e(95215),fe=e(1516);class Le{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function pe(bt,k,te,ue,Fe){Fe.spacesDiff=0,Fe.looksLikeAlignment=!1;let Ze;for(Ze=0;Ze<k&&Ze<ue;Ze++){const Be=bt.charCodeAt(Ze),nt=te.charCodeAt(Ze);if(Be!==nt)break}let it=0,dt=0;for(let Be=Ze;Be<k;Be++)bt.charCodeAt(Be)===32?it++:dt++;let _t=0,st=0;for(let Be=Ze;Be<ue;Be++)te.charCodeAt(Be)===32?_t++:st++;if(it>0&&dt>0||_t>0&&st>0)return;const Q=Math.abs(dt-st),he=Math.abs(it-_t);if(Q===0){Fe.spacesDiff=he,he>0&&0<=_t-1&&_t-1<bt.length&&_t<te.length&&te.charCodeAt(_t)!==32&&bt.charCodeAt(_t-1)===32&&bt.charCodeAt(bt.length-1)===44&&(Fe.looksLikeAlignment=!0);return}if(he%Q===0){Fe.spacesDiff=he/Q;return}}function Te(bt,k,te){const ue=Math.min(bt.getLineCount(),1e4);let Fe=0,Ze=0,it="",dt=0;const _t=[2,4,6,8,3,5,7],st=8,Q=[0,0,0,0,0,0,0,0,0],he=new Le;for(let pt=1;pt<=ue;pt++){const Tt=bt.getLineLength(pt),Vt=bt.getLineContent(pt),oi=Tt<=65536;let Ai=!1,zi=0,cn=0,dn=0;for(let Ki=0,ln=Tt;Ki<ln;Ki++){const pn=oi?Vt.charCodeAt(Ki):bt.getLineCharCode(pt,Ki);if(pn===9)dn++;else if(pn===32)cn++;else{Ai=!0,zi=Ki;break}}if(!Ai||(dn>0?Fe++:cn>1&&Ze++,pe(it,dt,Vt,zi,he),he.looksLikeAlignment&&!(te&&k===he.spacesDiff)))continue;const on=he.spacesDiff;on<=st&&Q[on]++,it=Vt,dt=zi}let Be=te;Fe!==Ze&&(Be=Fe<Ze);let nt=k;if(Be){let pt=Be?0:.1*ue;_t.forEach(Tt=>{const Vt=Q[Tt];Vt>pt&&(pt=Vt,nt=Tt)}),nt===4&&Q[4]>0&&Q[2]>0&&Q[2]>=Q[4]/2&&(nt=2)}return{insertSpaces:Be,tabSize:nt}}function De(bt){return(bt.metadata&1)>>>0}function ae(bt,k){bt.metadata=bt.metadata&254|k<<0}function Ne(bt){return(bt.metadata&2)>>>1===1}function We(bt,k){bt.metadata=bt.metadata&253|(k?1:0)<<1}function ze(bt){return(bt.metadata&4)>>>2===1}function Se(bt,k){bt.metadata=bt.metadata&251|(k?1:0)<<2}function ne(bt){return(bt.metadata&64)>>>6===1}function ce(bt,k){bt.metadata=bt.metadata&191|(k?1:0)<<6}function Oe(bt){return(bt.metadata&24)>>>3}function Pe(bt,k){bt.metadata=bt.metadata&231|k<<3}function Me(bt){return(bt.metadata&32)>>>5===1}function ye(bt,k){bt.metadata=bt.metadata&223|(k?1:0)<<5}class _e{constructor(k,te,ue){this.metadata=0,this.parent=this,this.left=this,this.right=this,ae(this,1),this.start=te,this.end=ue,this.delta=0,this.maxEnd=ue,this.id=k,this.ownerId=0,this.options=null,Se(this,!1),ce(this,!1),Pe(this,1),ye(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=te,this.cachedAbsoluteEnd=ue,this.range=null,We(this,!1)}reset(k,te,ue,Fe){this.start=te,this.end=ue,this.maxEnd=ue,this.cachedVersionId=k,this.cachedAbsoluteStart=te,this.cachedAbsoluteEnd=ue,this.range=Fe}setOptions(k){this.options=k;const te=this.options.className;Se(this,te==="squiggly-error"||te==="squiggly-warning"||te==="squiggly-info"),ce(this,this.options.glyphMarginClassName!==null),Pe(this,this.options.stickiness),ye(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(k,te,ue){this.cachedVersionId!==ue&&(this.range=null),this.cachedVersionId=ue,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=te}detach(){this.parent=null,this.left=null,this.right=null}}const se=new _e(null,0,0);se.parent=se,se.left=se,se.right=se,ae(se,0);class ve{constructor(){this.root=se,this.requestNormalizeDelta=!1}intervalSearch(k,te,ue,Fe,Ze,it){return this.root===se?[]:Mt(this,k,te,ue,Fe,Ze,it)}search(k,te,ue,Fe){return this.root===se?[]:vt(this,k,te,ue,Fe)}collectNodesFromOwner(k){return Dt(this,k)}collectNodesPostOrder(){return at(this)}insert(k){ti(this,k),this._normalizeDeltaIfNecessary()}delete(k){ei(this,k),this._normalizeDeltaIfNecessary()}resolveNode(k,te){const ue=k;let Fe=0;for(;k!==this.root;)k===k.parent.right&&(Fe+=k.parent.delta),k=k.parent;const Ze=ue.start+Fe,it=ue.end+Fe;ue.setCachedOffsets(Ze,it,te)}acceptReplace(k,te,ue,Fe){const Ze=Qe(this,k,k+te);for(let it=0,dt=Ze.length;it<dt;it++){const _t=Ze[it];ei(this,_t)}this._normalizeDeltaIfNecessary(),rt(this,k,k+te,ue),this._normalizeDeltaIfNecessary();for(let it=0,dt=Ze.length;it<dt;it++){const _t=Ze[it];_t.start=_t.cachedAbsoluteStart,_t.end=_t.cachedAbsoluteEnd,Ae(_t,k,k+te,ue,Fe),_t.maxEnd=_t.end,ti(this,_t)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,xe(this))}}function xe(bt){let k=bt.root,te=0;for(;k!==se;){if(k.left!==se&&!Ne(k.left)){k=k.left;continue}if(k.right!==se&&!Ne(k.right)){te+=k.delta,k=k.right;continue}k.start=te+k.start,k.end=te+k.end,k.delta=0,Ge(k),We(k,!0),We(k.left,!1),We(k.right,!1),k===k.parent.right&&(te-=k.parent.delta),k=k.parent}We(bt.root,!1)}function je(bt,k,te,ue){return bt<te?!0:bt>te||ue===1?!1:ue===2?!0:k}function Ae(bt,k,te,ue,Fe){const Ze=Oe(bt),it=Ze===0||Ze===2,dt=Ze===1||Ze===2,_t=te-k,st=ue,Q=Math.min(_t,st),he=bt.start;let Be=!1;const nt=bt.end;let pt=!1;k<=he&&nt<=te&&Me(bt)&&(bt.start=k,Be=!0,bt.end=k,pt=!0);{const Vt=Fe?1:_t>0?2:0;!Be&&je(he,it,k,Vt)&&(Be=!0),!pt&&je(nt,dt,k,Vt)&&(pt=!0)}if(Q>0&&!Fe){const Vt=_t>st?2:0;!Be&&je(he,it,k+Q,Vt)&&(Be=!0),!pt&&je(nt,dt,k+Q,Vt)&&(pt=!0)}{const Vt=Fe?1:0;!Be&&je(he,it,te,Vt)&&(bt.start=k+st,Be=!0),!pt&&je(nt,dt,te,Vt)&&(bt.end=k+st,pt=!0)}const Tt=st-_t;Be||(bt.start=Math.max(0,he+Tt)),pt||(bt.end=Math.max(0,nt+Tt)),bt.start>bt.end&&(bt.end=bt.start)}function Qe(bt,k,te){let ue=bt.root,Fe=0,Ze=0,it=0,dt=0;const _t=[];let st=0;for(;ue!==se;){if(Ne(ue)){We(ue.left,!1),We(ue.right,!1),ue===ue.parent.right&&(Fe-=ue.parent.delta),ue=ue.parent;continue}if(!Ne(ue.left)){if(Ze=Fe+ue.maxEnd,Ze<k){We(ue,!0);continue}if(ue.left!==se){ue=ue.left;continue}}if(it=Fe+ue.start,it>te){We(ue,!0);continue}if(dt=Fe+ue.end,dt>=k&&(ue.setCachedOffsets(it,dt,0),_t[st++]=ue),We(ue,!0),ue.right!==se&&!Ne(ue.right)){Fe+=ue.delta,ue=ue.right;continue}}return We(bt.root,!1),_t}function rt(bt,k,te,ue){let Fe=bt.root,Ze=0,it=0,dt=0;const _t=ue-(te-k);for(;Fe!==se;){if(Ne(Fe)){We(Fe.left,!1),We(Fe.right,!1),Fe===Fe.parent.right&&(Ze-=Fe.parent.delta),Ge(Fe),Fe=Fe.parent;continue}if(!Ne(Fe.left)){if(it=Ze+Fe.maxEnd,it<k){We(Fe,!0);continue}if(Fe.left!==se){Fe=Fe.left;continue}}if(dt=Ze+Fe.start,dt>te){Fe.start+=_t,Fe.end+=_t,Fe.delta+=_t,(Fe.delta<-1073741824||Fe.delta>1073741824)&&(bt.requestNormalizeDelta=!0),We(Fe,!0);continue}if(We(Fe,!0),Fe.right!==se&&!Ne(Fe.right)){Ze+=Fe.delta,Fe=Fe.right;continue}}We(bt.root,!1)}function Dt(bt,k){let te=bt.root;const ue=[];let Fe=0;for(;te!==se;){if(Ne(te)){We(te.left,!1),We(te.right,!1),te=te.parent;continue}if(te.left!==se&&!Ne(te.left)){te=te.left;continue}if(te.ownerId===k&&(ue[Fe++]=te),We(te,!0),te.right!==se&&!Ne(te.right)){te=te.right;continue}}return We(bt.root,!1),ue}function at(bt){let k=bt.root;const te=[];let ue=0;for(;k!==se;){if(Ne(k)){We(k.left,!1),We(k.right,!1),k=k.parent;continue}if(k.left!==se&&!Ne(k.left)){k=k.left;continue}if(k.right!==se&&!Ne(k.right)){k=k.right;continue}te[ue++]=k,We(k,!0)}return We(bt.root,!1),te}function vt(bt,k,te,ue,Fe){let Ze=bt.root,it=0,dt=0,_t=0;const st=[];let Q=0;for(;Ze!==se;){if(Ne(Ze)){We(Ze.left,!1),We(Ze.right,!1),Ze===Ze.parent.right&&(it-=Ze.parent.delta),Ze=Ze.parent;continue}if(Ze.left!==se&&!Ne(Ze.left)){Ze=Ze.left;continue}dt=it+Ze.start,_t=it+Ze.end,Ze.setCachedOffsets(dt,_t,ue);let he=!0;if(k&&Ze.ownerId&&Ze.ownerId!==k&&(he=!1),te&&ze(Ze)&&(he=!1),Fe&&!ne(Ze)&&(he=!1),he&&(st[Q++]=Ze),We(Ze,!0),Ze.right!==se&&!Ne(Ze.right)){it+=Ze.delta,Ze=Ze.right;continue}}return We(bt.root,!1),st}function Mt(bt,k,te,ue,Fe,Ze,it){let dt=bt.root,_t=0,st=0,Q=0,he=0;const Be=[];let nt=0;for(;dt!==se;){if(Ne(dt)){We(dt.left,!1),We(dt.right,!1),dt===dt.parent.right&&(_t-=dt.parent.delta),dt=dt.parent;continue}if(!Ne(dt.left)){if(st=_t+dt.maxEnd,st<k){We(dt,!0);continue}if(dt.left!==se){dt=dt.left;continue}}if(Q=_t+dt.start,Q>te){We(dt,!0);continue}if(he=_t+dt.end,he>=k){dt.setCachedOffsets(Q,he,Ze);let pt=!0;ue&&dt.ownerId&&dt.ownerId!==ue&&(pt=!1),Fe&&ze(dt)&&(pt=!1),it&&!ne(dt)&&(pt=!1),pt&&(Be[nt++]=dt)}if(We(dt,!0),dt.right!==se&&!Ne(dt.right)){_t+=dt.delta,dt=dt.right;continue}}return We(bt.root,!1),Be}function ti(bt,k){if(bt.root===se)return k.parent=se,k.left=se,k.right=se,ae(k,0),bt.root=k,bt.root;Ft(bt,k),St(k.parent);let te=k;for(;te!==bt.root&&De(te.parent)===1;)if(te.parent===te.parent.parent.left){const ue=te.parent.parent.right;De(ue)===1?(ae(te.parent,0),ae(ue,0),ae(te.parent.parent,1),te=te.parent.parent):(te===te.parent.right&&(te=te.parent,ft(bt,te)),ae(te.parent,0),ae(te.parent.parent,1),Bt(bt,te.parent.parent))}else{const ue=te.parent.parent.left;De(ue)===1?(ae(te.parent,0),ae(ue,0),ae(te.parent.parent,1),te=te.parent.parent):(te===te.parent.left&&(te=te.parent,Bt(bt,te)),ae(te.parent,0),ae(te.parent.parent,1),ft(bt,te.parent.parent))}return ae(bt.root,0),k}function Ft(bt,k){let te=0,ue=bt.root;const Fe=k.start,Ze=k.end;for(;;)if(Ci(Fe,Ze,ue.start+te,ue.end+te)<0)if(ue.left===se){k.start-=te,k.end-=te,k.maxEnd-=te,ue.left=k;break}else ue=ue.left;else if(ue.right===se){k.start-=te+ue.delta,k.end-=te+ue.delta,k.maxEnd-=te+ue.delta,ue.right=k;break}else te+=ue.delta,ue=ue.right;k.parent=ue,k.left=se,k.right=se,ae(k,1)}function ei(bt,k){let te,ue;if(k.left===se?(te=k.right,ue=k,te.delta+=k.delta,(te.delta<-1073741824||te.delta>1073741824)&&(bt.requestNormalizeDelta=!0),te.start+=k.delta,te.end+=k.delta):k.right===se?(te=k.left,ue=k):(ue=Xt(k.right),te=ue.right,te.start+=ue.delta,te.end+=ue.delta,te.delta+=ue.delta,(te.delta<-1073741824||te.delta>1073741824)&&(bt.requestNormalizeDelta=!0),ue.start+=k.delta,ue.end+=k.delta,ue.delta=k.delta,(ue.delta<-1073741824||ue.delta>1073741824)&&(bt.requestNormalizeDelta=!0)),ue===bt.root){bt.root=te,ae(te,0),k.detach(),Ct(),Ge(te),bt.root.parent=se;return}const Fe=De(ue)===1;if(ue===ue.parent.left?ue.parent.left=te:ue.parent.right=te,ue===k?te.parent=ue.parent:(ue.parent===k?te.parent=ue:te.parent=ue.parent,ue.left=k.left,ue.right=k.right,ue.parent=k.parent,ae(ue,De(k)),k===bt.root?bt.root=ue:k===k.parent.left?k.parent.left=ue:k.parent.right=ue,ue.left!==se&&(ue.left.parent=ue),ue.right!==se&&(ue.right.parent=ue)),k.detach(),Fe){St(te.parent),ue!==k&&(St(ue),St(ue.parent)),Ct();return}St(te),St(te.parent),ue!==k&&(St(ue),St(ue.parent));let Ze;for(;te!==bt.root&&De(te)===0;)te===te.parent.left?(Ze=te.parent.right,De(Ze)===1&&(ae(Ze,0),ae(te.parent,1),ft(bt,te.parent),Ze=te.parent.right),De(Ze.left)===0&&De(Ze.right)===0?(ae(Ze,1),te=te.parent):(De(Ze.right)===0&&(ae(Ze.left,0),ae(Ze,1),Bt(bt,Ze),Ze=te.parent.right),ae(Ze,De(te.parent)),ae(te.parent,0),ae(Ze.right,0),ft(bt,te.parent),te=bt.root)):(Ze=te.parent.left,De(Ze)===1&&(ae(Ze,0),ae(te.parent,1),Bt(bt,te.parent),Ze=te.parent.left),De(Ze.left)===0&&De(Ze.right)===0?(ae(Ze,1),te=te.parent):(De(Ze.left)===0&&(ae(Ze.right,0),ae(Ze,1),ft(bt,Ze),Ze=te.parent.left),ae(Ze,De(te.parent)),ae(te.parent,0),ae(Ze.left,0),Bt(bt,te.parent),te=bt.root));ae(te,0),Ct()}function Xt(bt){for(;bt.left!==se;)bt=bt.left;return bt}function Ct(){se.parent=se,se.delta=0,se.start=0,se.end=0}function ft(bt,k){const te=k.right;te.delta+=k.delta,(te.delta<-1073741824||te.delta>1073741824)&&(bt.requestNormalizeDelta=!0),te.start+=k.delta,te.end+=k.delta,k.right=te.left,te.left!==se&&(te.left.parent=k),te.parent=k.parent,k.parent===se?bt.root=te:k===k.parent.left?k.parent.left=te:k.parent.right=te,te.left=k,k.parent=te,Ge(k),Ge(te)}function Bt(bt,k){const te=k.left;k.delta-=te.delta,(k.delta<-1073741824||k.delta>1073741824)&&(bt.requestNormalizeDelta=!0),k.start-=te.delta,k.end-=te.delta,k.left=te.right,te.right!==se&&(te.right.parent=k),te.parent=k.parent,k.parent===se?bt.root=te:k===k.parent.right?k.parent.right=te:k.parent.left=te,te.right=k,k.parent=te,Ge(k),Ge(te)}function kt(bt){let k=bt.end;if(bt.left!==se){const te=bt.left.maxEnd;te>k&&(k=te)}if(bt.right!==se){const te=bt.right.maxEnd+bt.delta;te>k&&(k=te)}return k}function Ge(bt){bt.maxEnd=kt(bt)}function St(bt){for(;bt!==se;){const k=kt(bt);if(bt.maxEnd===k)return;bt.maxEnd=k,bt=bt.parent}}function Ci(bt,k,te,ue){return bt===te?k-ue:bt-te}class Oi{constructor(k,te){this.piece=k,this.color=te,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==xi)return Yi(this.right);let k=this;for(;k.parent!==xi&&k.parent.left!==k;)k=k.parent;return k.parent===xi?xi:k.parent}prev(){if(this.left!==xi)return fn(this.left);let k=this;for(;k.parent!==xi&&k.parent.right!==k;)k=k.parent;return k.parent===xi?xi:k.parent}detach(){this.parent=null,this.left=null,this.right=null}}const xi=new Oi(null,0);xi.parent=xi,xi.left=xi,xi.right=xi,xi.color=0;function Yi(bt){for(;bt.left!==xi;)bt=bt.left;return bt}function fn(bt){for(;bt.right!==xi;)bt=bt.right;return bt}function un(bt){return bt===xi?0:bt.size_left+bt.piece.length+un(bt.right)}function Pn(bt){return bt===xi?0:bt.lf_left+bt.piece.lineFeedCnt+Pn(bt.right)}function Dn(){xi.parent=xi}function Gn(bt,k){const te=k.right;te.size_left+=k.size_left+(k.piece?k.piece.length:0),te.lf_left+=k.lf_left+(k.piece?k.piece.lineFeedCnt:0),k.right=te.left,te.left!==xi&&(te.left.parent=k),te.parent=k.parent,k.parent===xi?bt.root=te:k.parent.left===k?k.parent.left=te:k.parent.right=te,te.left=k,k.parent=te}function Rn(bt,k){const te=k.left;k.left=te.right,te.right!==xi&&(te.right.parent=k),te.parent=k.parent,k.size_left-=te.size_left+(te.piece?te.piece.length:0),k.lf_left-=te.lf_left+(te.piece?te.piece.lineFeedCnt:0),k.parent===xi?bt.root=te:k===k.parent.right?k.parent.right=te:k.parent.left=te,te.right=k,k.parent=te}function ns(bt,k){let te,ue;if(k.left===xi?(ue=k,te=ue.right):k.right===xi?(ue=k,te=ue.left):(ue=Yi(k.right),te=ue.right),ue===bt.root){bt.root=te,te.color=0,k.detach(),Dn(),bt.root.parent=xi;return}const Fe=ue.color===1;if(ue===ue.parent.left?ue.parent.left=te:ue.parent.right=te,ue===k?(te.parent=ue.parent,fs(bt,te)):(ue.parent===k?te.parent=ue:te.parent=ue.parent,fs(bt,te),ue.left=k.left,ue.right=k.right,ue.parent=k.parent,ue.color=k.color,k===bt.root?bt.root=ue:k===k.parent.left?k.parent.left=ue:k.parent.right=ue,ue.left!==xi&&(ue.left.parent=ue),ue.right!==xi&&(ue.right.parent=ue),ue.size_left=k.size_left,ue.lf_left=k.lf_left,fs(bt,ue)),k.detach(),te.parent.left===te){const it=un(te),dt=Pn(te);if(it!==te.parent.size_left||dt!==te.parent.lf_left){const _t=it-te.parent.size_left,st=dt-te.parent.lf_left;te.parent.size_left=it,te.parent.lf_left=dt,qn(bt,te.parent,_t,st)}}if(fs(bt,te.parent),Fe){Dn();return}let Ze;for(;te!==bt.root&&te.color===0;)te===te.parent.left?(Ze=te.parent.right,Ze.color===1&&(Ze.color=0,te.parent.color=1,Gn(bt,te.parent),Ze=te.parent.right),Ze.left.color===0&&Ze.right.color===0?(Ze.color=1,te=te.parent):(Ze.right.color===0&&(Ze.left.color=0,Ze.color=1,Rn(bt,Ze),Ze=te.parent.right),Ze.color=te.parent.color,te.parent.color=0,Ze.right.color=0,Gn(bt,te.parent),te=bt.root)):(Ze=te.parent.left,Ze.color===1&&(Ze.color=0,te.parent.color=1,Rn(bt,te.parent),Ze=te.parent.left),Ze.left.color===0&&Ze.right.color===0?(Ze.color=1,te=te.parent):(Ze.left.color===0&&(Ze.right.color=0,Ze.color=1,Gn(bt,Ze),Ze=te.parent.left),Ze.color=te.parent.color,te.parent.color=0,Ze.left.color=0,Rn(bt,te.parent),te=bt.root));te.color=0,Dn()}function ts(bt,k){for(fs(bt,k);k!==bt.root&&k.parent.color===1;)if(k.parent===k.parent.parent.left){const te=k.parent.parent.right;te.color===1?(k.parent.color=0,te.color=0,k.parent.parent.color=1,k=k.parent.parent):(k===k.parent.right&&(k=k.parent,Gn(bt,k)),k.parent.color=0,k.parent.parent.color=1,Rn(bt,k.parent.parent))}else{const te=k.parent.parent.left;te.color===1?(k.parent.color=0,te.color=0,k.parent.parent.color=1,k=k.parent.parent):(k===k.parent.left&&(k=k.parent,Rn(bt,k)),k.parent.color=0,k.parent.parent.color=1,Gn(bt,k.parent.parent))}bt.root.color=0}function qn(bt,k,te,ue){for(;k!==bt.root&&k!==xi;)k.parent.left===k&&(k.parent.size_left+=te,k.parent.lf_left+=ue),k=k.parent}function fs(bt,k){let te=0,ue=0;if(k!==bt.root){for(;k!==bt.root&&k===k.parent.right;)k=k.parent;if(k!==bt.root)for(k=k.parent,te=un(k.left)-k.size_left,ue=Pn(k.left)-k.lf_left,k.size_left+=te,k.lf_left+=ue;k!==bt.root&&(te!==0||ue!==0);)k.parent.left===k&&(k.parent.size_left+=te,k.parent.lf_left+=ue),k=k.parent}}var Nn=e(77277);const cs=65535;function Ei(bt){let k;return bt[bt.length-1]<65536?k=new Uint16Array(bt.length):k=new Uint32Array(bt.length),k.set(bt,0),k}class et{constructor(k,te,ue,Fe,Ze){this.lineStarts=k,this.cr=te,this.lf=ue,this.crlf=Fe,this.isBasicASCII=Ze}}function wt(bt,k=!0){const te=[0];let ue=1;for(let Fe=0,Ze=bt.length;Fe<Ze;Fe++){const it=bt.charCodeAt(Fe);it===13?Fe+1<Ze&&bt.charCodeAt(Fe+1)===10?(te[ue++]=Fe+2,Fe++):te[ue++]=Fe+1:it===10&&(te[ue++]=Fe+1)}return k?Ei(te):te}function Yt(bt,k){bt.length=0,bt[0]=0;let te=1,ue=0,Fe=0,Ze=0,it=!0;for(let _t=0,st=k.length;_t<st;_t++){const Q=k.charCodeAt(_t);Q===13?_t+1<st&&k.charCodeAt(_t+1)===10?(Ze++,bt[te++]=_t+2,_t++):(ue++,bt[te++]=_t+1):Q===10?(Fe++,bt[te++]=_t+1):it&&Q!==9&&(Q<32||Q>126)&&(it=!1)}const dt=new et(Ei(bt),ue,Fe,Ze,it);return bt.length=0,dt}class ri{constructor(k,te,ue,Fe,Ze){this.bufferIndex=k,this.start=te,this.end=ue,this.lineFeedCnt=Fe,this.length=Ze}}class vi{constructor(k,te){this.buffer=k,this.lineStarts=te}}class Wi{constructor(k,te){this._pieces=[],this._tree=k,this._BOM=te,this._index=0,k.root!==xi&&k.iterate(k.root,ue=>(ue!==xi&&this._pieces.push(ue.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class $i{constructor(k){this._limit=k,this._cache=[]}get(k){for(let te=this._cache.length-1;te>=0;te--){const ue=this._cache[te];if(ue.nodeStartOffset<=k&&ue.nodeStartOffset+ue.node.piece.length>=k)return ue}return null}get2(k){for(let te=this._cache.length-1;te>=0;te--){const ue=this._cache[te];if(ue.nodeStartLineNumber&&ue.nodeStartLineNumber<k&&ue.nodeStartLineNumber+ue.node.piece.lineFeedCnt>=k)return ue}return null}set(k){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(k)}validate(k){let te=!1;const ue=this._cache;for(let Fe=0;Fe<ue.length;Fe++){const Ze=ue[Fe];if(Ze.node.parent===null||Ze.nodeStartOffset>=k){ue[Fe]=null,te=!0;continue}}if(te){const Fe=[];for(const Ze of ue)Ze!==null&&Fe.push(Ze);this._cache=Fe}}}class Ot{constructor(k,te,ue){this.create(k,te,ue)}create(k,te,ue){this._buffers=[new vi("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=xi,this._lineCnt=1,this._length=0,this._EOL=te,this._EOLLength=te.length,this._EOLNormalized=ue;let Fe=null;for(let Ze=0,it=k.length;Ze<it;Ze++)if(k[Ze].buffer.length>0){k[Ze].lineStarts||(k[Ze].lineStarts=wt(k[Ze].buffer));const dt=new ri(Ze+1,{line:0,column:0},{line:k[Ze].lineStarts.length-1,column:k[Ze].buffer.length-k[Ze].lineStarts[k[Ze].lineStarts.length-1]},k[Ze].lineStarts.length-1,k[Ze].buffer.length);this._buffers.push(k[Ze]),Fe=this.rbInsertRight(Fe,dt)}this._searchCache=new $i(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(k){const te=cs,ue=te-Math.floor(te/3),Fe=ue*2;let Ze="",it=0;const dt=[];if(this.iterate(this.root,_t=>{const st=this.getNodeContent(_t),Q=st.length;if(it<=ue||it+Q<Fe)return Ze+=st,it+=Q,!0;const he=Ze.replace(/\r\n|\r|\n/g,k);return dt.push(new vi(he,wt(he))),Ze=st,it=Q,!0}),it>0){const _t=Ze.replace(/\r\n|\r|\n/g,k);dt.push(new vi(_t,wt(_t)))}this.create(dt,k,!0)}getEOL(){return this._EOL}setEOL(k){this._EOL=k,this._EOLLength=this._EOL.length,this.normalizeEOL(k)}createSnapshot(k){return new Wi(this,k)}getOffsetAt(k,te){let ue=0,Fe=this.root;for(;Fe!==xi;)if(Fe.left!==xi&&Fe.lf_left+1>=k)Fe=Fe.left;else if(Fe.lf_left+Fe.piece.lineFeedCnt+1>=k){ue+=Fe.size_left;const Ze=this.getAccumulatedValue(Fe,k-Fe.lf_left-2);return ue+=Ze+te-1}else k-=Fe.lf_left+Fe.piece.lineFeedCnt,ue+=Fe.size_left+Fe.piece.length,Fe=Fe.right;return ue}getPositionAt(k){k=Math.floor(k),k=Math.max(0,k);let te=this.root,ue=0;const Fe=k;for(;te!==xi;)if(te.size_left!==0&&te.size_left>=k)te=te.left;else if(te.size_left+te.piece.length>=k){const Ze=this.getIndexOf(te,k-te.size_left);if(ue+=te.lf_left+Ze.index,Ze.index===0){const it=this.getOffsetAt(ue+1,1),dt=Fe-it;return new o.L(ue+1,dt+1)}return new o.L(ue+1,Ze.remainder+1)}else if(k-=te.size_left+te.piece.length,ue+=te.lf_left+te.piece.lineFeedCnt,te.right===xi){const Ze=this.getOffsetAt(ue+1,1),it=Fe-k-Ze;return new o.L(ue+1,it+1)}else te=te.right;return new o.L(1,1)}getValueInRange(k,te){if(k.startLineNumber===k.endLineNumber&&k.startColumn===k.endColumn)return"";const ue=this.nodeAt2(k.startLineNumber,k.startColumn),Fe=this.nodeAt2(k.endLineNumber,k.endColumn),Ze=this.getValueInRange2(ue,Fe);return te?te!==this._EOL||!this._EOLNormalized?Ze.replace(/\r\n|\r|\n/g,te):te===this.getEOL()&&this._EOLNormalized?Ze:Ze.replace(/\r\n|\r|\n/g,te):Ze}getValueInRange2(k,te){if(k.node===te.node){const dt=k.node,_t=this._buffers[dt.piece.bufferIndex].buffer,st=this.offsetInBuffer(dt.piece.bufferIndex,dt.piece.start);return _t.substring(st+k.remainder,st+te.remainder)}let ue=k.node;const Fe=this._buffers[ue.piece.bufferIndex].buffer,Ze=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);let it=Fe.substring(Ze+k.remainder,Ze+ue.piece.length);for(ue=ue.next();ue!==xi;){const dt=this._buffers[ue.piece.bufferIndex].buffer,_t=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);if(ue===te.node){it+=dt.substring(_t,_t+te.remainder);break}else it+=dt.substr(_t,ue.piece.length);ue=ue.next()}return it}getLinesContent(){const k=[];let te=0,ue="",Fe=!1;return this.iterate(this.root,Ze=>{if(Ze===xi)return!0;const it=Ze.piece;let dt=it.length;if(dt===0)return!0;const _t=this._buffers[it.bufferIndex].buffer,st=this._buffers[it.bufferIndex].lineStarts,Q=it.start.line,he=it.end.line;let Be=st[Q]+it.start.column;if(Fe&&(_t.charCodeAt(Be)===10&&(Be++,dt--),k[te++]=ue,ue="",Fe=!1,dt===0))return!0;if(Q===he)return!this._EOLNormalized&&_t.charCodeAt(Be+dt-1)===13?(Fe=!0,ue+=_t.substr(Be,dt-1)):ue+=_t.substr(Be,dt),!0;ue+=this._EOLNormalized?_t.substring(Be,Math.max(Be,st[Q+1]-this._EOLLength)):_t.substring(Be,st[Q+1]).replace(/(\r\n|\r|\n)$/,""),k[te++]=ue;for(let nt=Q+1;nt<he;nt++)ue=this._EOLNormalized?_t.substring(st[nt],st[nt+1]-this._EOLLength):_t.substring(st[nt],st[nt+1]).replace(/(\r\n|\r|\n)$/,""),k[te++]=ue;return!this._EOLNormalized&&_t.charCodeAt(st[he]+it.end.column-1)===13?(Fe=!0,it.end.column===0?te--:ue=_t.substr(st[he],it.end.column-1)):ue=_t.substr(st[he],it.end.column),!0}),Fe&&(k[te++]=ue,ue=""),k[te++]=ue,k}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(k){return this._lastVisitedLine.lineNumber===k?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=k,k===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(k):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(k,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(k).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(k){if(k.remainder===k.node.piece.length){const te=k.node.next();if(!te)return 0;const ue=this._buffers[te.piece.bufferIndex],Fe=this.offsetInBuffer(te.piece.bufferIndex,te.piece.start);return ue.buffer.charCodeAt(Fe)}else{const te=this._buffers[k.node.piece.bufferIndex],Fe=this.offsetInBuffer(k.node.piece.bufferIndex,k.node.piece.start)+k.remainder;return te.buffer.charCodeAt(Fe)}}getLineCharCode(k,te){const ue=this.nodeAt2(k,te+1);return this._getCharCode(ue)}getLineLength(k){if(k===this.getLineCount()){const te=this.getOffsetAt(k,1);return this.getLength()-te}return this.getOffsetAt(k+1,1)-this.getOffsetAt(k,1)-this._EOLLength}findMatchesInNode(k,te,ue,Fe,Ze,it,dt,_t,st,Q,he){const Be=this._buffers[k.piece.bufferIndex],nt=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start),pt=this.offsetInBuffer(k.piece.bufferIndex,Ze),Tt=this.offsetInBuffer(k.piece.bufferIndex,it);let Vt;const oi={line:0,column:0};let Ai,zi;te._wordSeparators?(Ai=Be.buffer.substring(pt,Tt),zi=cn=>cn+pt,te.reset(0)):(Ai=Be.buffer,zi=cn=>cn,te.reset(pt));do if(Vt=te.next(Ai),Vt){if(zi(Vt.index)>=Tt)return Q;this.positionInBuffer(k,zi(Vt.index)-nt,oi);const cn=this.getLineFeedCnt(k.piece.bufferIndex,Ze,oi),dn=oi.line===Ze.line?oi.column-Ze.column+Fe:oi.column+1,on=dn+Vt[0].length;if(he[Q++]=(0,Nn.iE)(new d.e(ue+cn,dn,ue+cn,on),Vt,_t),zi(Vt.index)+Vt[0].length>=Tt||Q>=st)return Q}while(Vt);return Q}findMatchesLineByLine(k,te,ue,Fe){const Ze=[];let it=0;const dt=new Nn.sz(te.wordSeparators,te.regex);let _t=this.nodeAt2(k.startLineNumber,k.startColumn);if(_t===null)return[];const st=this.nodeAt2(k.endLineNumber,k.endColumn);if(st===null)return[];let Q=this.positionInBuffer(_t.node,_t.remainder);const he=this.positionInBuffer(st.node,st.remainder);if(_t.node===st.node)return this.findMatchesInNode(_t.node,dt,k.startLineNumber,k.startColumn,Q,he,te,ue,Fe,it,Ze),Ze;let Be=k.startLineNumber,nt=_t.node;for(;nt!==st.node;){const Tt=this.getLineFeedCnt(nt.piece.bufferIndex,Q,nt.piece.end);if(Tt>=1){const oi=this._buffers[nt.piece.bufferIndex].lineStarts,Ai=this.offsetInBuffer(nt.piece.bufferIndex,nt.piece.start),zi=oi[Q.line+Tt],cn=Be===k.startLineNumber?k.startColumn:1;if(it=this.findMatchesInNode(nt,dt,Be,cn,Q,this.positionInBuffer(nt,zi-Ai),te,ue,Fe,it,Ze),it>=Fe)return Ze;Be+=Tt}const Vt=Be===k.startLineNumber?k.startColumn-1:0;if(Be===k.endLineNumber){const oi=this.getLineContent(Be).substring(Vt,k.endColumn-1);return it=this._findMatchesInLine(te,dt,oi,k.endLineNumber,Vt,it,Ze,ue,Fe),Ze}if(it=this._findMatchesInLine(te,dt,this.getLineContent(Be).substr(Vt),Be,Vt,it,Ze,ue,Fe),it>=Fe)return Ze;Be++,_t=this.nodeAt2(Be,1),nt=_t.node,Q=this.positionInBuffer(_t.node,_t.remainder)}if(Be===k.endLineNumber){const Tt=Be===k.startLineNumber?k.startColumn-1:0,Vt=this.getLineContent(Be).substring(Tt,k.endColumn-1);return it=this._findMatchesInLine(te,dt,Vt,k.endLineNumber,Tt,it,Ze,ue,Fe),Ze}const pt=Be===k.startLineNumber?k.startColumn:1;return it=this.findMatchesInNode(st.node,dt,Be,pt,Q,he,te,ue,Fe,it,Ze),Ze}_findMatchesInLine(k,te,ue,Fe,Ze,it,dt,_t,st){const Q=k.wordSeparators;if(!_t&&k.simpleSearch){const Be=k.simpleSearch,nt=Be.length,pt=ue.length;let Tt=-nt;for(;(Tt=ue.indexOf(Be,Tt+nt))!==-1;)if((!Q||(0,Nn.cM)(Q,ue,pt,Tt,nt))&&(dt[it++]=new v.tk(new d.e(Fe,Tt+1+Ze,Fe,Tt+1+nt+Ze),null),it>=st))return it;return it}let he;te.reset(0);do if(he=te.next(ue),he&&(dt[it++]=(0,Nn.iE)(new d.e(Fe,he.index+1+Ze,Fe,he.index+1+he[0].length+Ze),he,_t),it>=st))return it;while(he);return it}insert(k,te,ue=!1){if(this._EOLNormalized=this._EOLNormalized&&ue,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==xi){const{node:Fe,remainder:Ze,nodeStartOffset:it}=this.nodeAt(k),dt=Fe.piece,_t=dt.bufferIndex,st=this.positionInBuffer(Fe,Ze);if(Fe.piece.bufferIndex===0&&dt.end.line===this._lastChangeBufferPos.line&&dt.end.column===this._lastChangeBufferPos.column&&it+dt.length===k&&te.length<cs){this.appendToNode(Fe,te),this.computeBufferMetadata();return}if(it===k)this.insertContentToNodeLeft(te,Fe),this._searchCache.validate(k);else if(it+Fe.piece.length>k){const Q=[];let he=new ri(dt.bufferIndex,st,dt.end,this.getLineFeedCnt(dt.bufferIndex,st,dt.end),this.offsetInBuffer(_t,dt.end)-this.offsetInBuffer(_t,st));if(this.shouldCheckCRLF()&&this.endWithCR(te)&&this.nodeCharCodeAt(Fe,Ze)===10){const Tt={line:he.start.line+1,column:0};he=new ri(he.bufferIndex,Tt,he.end,this.getLineFeedCnt(he.bufferIndex,Tt,he.end),he.length-1),te+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(te))if(this.nodeCharCodeAt(Fe,Ze-1)===13){const Tt=this.positionInBuffer(Fe,Ze-1);this.deleteNodeTail(Fe,Tt),te="\r"+te,Fe.piece.length===0&&Q.push(Fe)}else this.deleteNodeTail(Fe,st);else this.deleteNodeTail(Fe,st);const Be=this.createNewPieces(te);he.length>0&&this.rbInsertRight(Fe,he);let nt=Fe;for(let pt=0;pt<Be.length;pt++)nt=this.rbInsertRight(nt,Be[pt]);this.deleteNodes(Q)}else this.insertContentToNodeRight(te,Fe)}else{const Fe=this.createNewPieces(te);let Ze=this.rbInsertLeft(null,Fe[0]);for(let it=1;it<Fe.length;it++)Ze=this.rbInsertRight(Ze,Fe[it])}this.computeBufferMetadata()}delete(k,te){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",te<=0||this.root===xi)return;const ue=this.nodeAt(k),Fe=this.nodeAt(k+te),Ze=ue.node,it=Fe.node;if(Ze===it){const Be=this.positionInBuffer(Ze,ue.remainder),nt=this.positionInBuffer(Ze,Fe.remainder);if(ue.nodeStartOffset===k){if(te===Ze.piece.length){const pt=Ze.next();ns(this,Ze),this.validateCRLFWithPrevNode(pt),this.computeBufferMetadata();return}this.deleteNodeHead(Ze,nt),this._searchCache.validate(k),this.validateCRLFWithPrevNode(Ze),this.computeBufferMetadata();return}if(ue.nodeStartOffset+Ze.piece.length===k+te){this.deleteNodeTail(Ze,Be),this.validateCRLFWithNextNode(Ze),this.computeBufferMetadata();return}this.shrinkNode(Ze,Be,nt),this.computeBufferMetadata();return}const dt=[],_t=this.positionInBuffer(Ze,ue.remainder);this.deleteNodeTail(Ze,_t),this._searchCache.validate(k),Ze.piece.length===0&&dt.push(Ze);const st=this.positionInBuffer(it,Fe.remainder);this.deleteNodeHead(it,st),it.piece.length===0&&dt.push(it);const Q=Ze.next();for(let Be=Q;Be!==xi&&Be!==it;Be=Be.next())dt.push(Be);const he=Ze.piece.length===0?Ze.prev():Ze;this.deleteNodes(dt),this.validateCRLFWithNextNode(he),this.computeBufferMetadata()}insertContentToNodeLeft(k,te){const ue=[];if(this.shouldCheckCRLF()&&this.endWithCR(k)&&this.startWithLF(te)){const it=te.piece,dt={line:it.start.line+1,column:0},_t=new ri(it.bufferIndex,dt,it.end,this.getLineFeedCnt(it.bufferIndex,dt,it.end),it.length-1);te.piece=_t,k+=`
`,qn(this,te,-1,-1),te.piece.length===0&&ue.push(te)}const Fe=this.createNewPieces(k);let Ze=this.rbInsertLeft(te,Fe[Fe.length-1]);for(let it=Fe.length-2;it>=0;it--)Ze=this.rbInsertLeft(Ze,Fe[it]);this.validateCRLFWithPrevNode(Ze),this.deleteNodes(ue)}insertContentToNodeRight(k,te){this.adjustCarriageReturnFromNext(k,te)&&(k+=`
`);const ue=this.createNewPieces(k),Fe=this.rbInsertRight(te,ue[0]);let Ze=Fe;for(let it=1;it<ue.length;it++)Ze=this.rbInsertRight(Ze,ue[it]);this.validateCRLFWithPrevNode(Fe)}positionInBuffer(k,te,ue){const Fe=k.piece,Ze=k.piece.bufferIndex,it=this._buffers[Ze].lineStarts,_t=it[Fe.start.line]+Fe.start.column+te;let st=Fe.start.line,Q=Fe.end.line,he=0,Be=0,nt=0;for(;st<=Q&&(he=st+(Q-st)/2|0,nt=it[he],he!==Q);)if(Be=it[he+1],_t<nt)Q=he-1;else if(_t>=Be)st=he+1;else break;return ue?(ue.line=he,ue.column=_t-nt,null):{line:he,column:_t-nt}}getLineFeedCnt(k,te,ue){if(ue.column===0)return ue.line-te.line;const Fe=this._buffers[k].lineStarts;if(ue.line===Fe.length-1)return ue.line-te.line;const Ze=Fe[ue.line+1],it=Fe[ue.line]+ue.column;if(Ze>it+1)return ue.line-te.line;const dt=it-1;return this._buffers[k].buffer.charCodeAt(dt)===13?ue.line-te.line+1:ue.line-te.line}offsetInBuffer(k,te){return this._buffers[k].lineStarts[te.line]+te.column}deleteNodes(k){for(let te=0;te<k.length;te++)ns(this,k[te])}createNewPieces(k){if(k.length>cs){const Q=[];for(;k.length>cs;){const Be=k.charCodeAt(cs-1);let nt;Be===13||Be>=55296&&Be<=56319?(nt=k.substring(0,cs-1),k=k.substring(cs-1)):(nt=k.substring(0,cs),k=k.substring(cs));const pt=wt(nt);Q.push(new ri(this._buffers.length,{line:0,column:0},{line:pt.length-1,column:nt.length-pt[pt.length-1]},pt.length-1,nt.length)),this._buffers.push(new vi(nt,pt))}const he=wt(k);return Q.push(new ri(this._buffers.length,{line:0,column:0},{line:he.length-1,column:k.length-he[he.length-1]},he.length-1,k.length)),this._buffers.push(new vi(k,he)),Q}let te=this._buffers[0].buffer.length;const ue=wt(k,!1);let Fe=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===te&&te!==0&&this.startWithLF(k)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Fe=this._lastChangeBufferPos;for(let Q=0;Q<ue.length;Q++)ue[Q]+=te+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ue.slice(1)),this._buffers[0].buffer+="_"+k,te+=1}else{if(te!==0)for(let Q=0;Q<ue.length;Q++)ue[Q]+=te;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ue.slice(1)),this._buffers[0].buffer+=k}const Ze=this._buffers[0].buffer.length,it=this._buffers[0].lineStarts.length-1,dt=Ze-this._buffers[0].lineStarts[it],_t={line:it,column:dt},st=new ri(0,Fe,_t,this.getLineFeedCnt(0,Fe,_t),Ze-te);return this._lastChangeBufferPos=_t,[st]}getLineRawContent(k,te=0){let ue=this.root,Fe="";const Ze=this._searchCache.get2(k);if(Ze){ue=Ze.node;const it=this.getAccumulatedValue(ue,k-Ze.nodeStartLineNumber-1),dt=this._buffers[ue.piece.bufferIndex].buffer,_t=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);if(Ze.nodeStartLineNumber+ue.piece.lineFeedCnt===k)Fe=dt.substring(_t+it,_t+ue.piece.length);else{const st=this.getAccumulatedValue(ue,k-Ze.nodeStartLineNumber);return dt.substring(_t+it,_t+st-te)}}else{let it=0;const dt=k;for(;ue!==xi;)if(ue.left!==xi&&ue.lf_left>=k-1)ue=ue.left;else if(ue.lf_left+ue.piece.lineFeedCnt>k-1){const _t=this.getAccumulatedValue(ue,k-ue.lf_left-2),st=this.getAccumulatedValue(ue,k-ue.lf_left-1),Q=this._buffers[ue.piece.bufferIndex].buffer,he=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);return it+=ue.size_left,this._searchCache.set({node:ue,nodeStartOffset:it,nodeStartLineNumber:dt-(k-1-ue.lf_left)}),Q.substring(he+_t,he+st-te)}else if(ue.lf_left+ue.piece.lineFeedCnt===k-1){const _t=this.getAccumulatedValue(ue,k-ue.lf_left-2),st=this._buffers[ue.piece.bufferIndex].buffer,Q=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);Fe=st.substring(Q+_t,Q+ue.piece.length);break}else k-=ue.lf_left+ue.piece.lineFeedCnt,it+=ue.size_left+ue.piece.length,ue=ue.right}for(ue=ue.next();ue!==xi;){const it=this._buffers[ue.piece.bufferIndex].buffer;if(ue.piece.lineFeedCnt>0){const dt=this.getAccumulatedValue(ue,0),_t=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);return Fe+=it.substring(_t,_t+dt-te),Fe}else{const dt=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);Fe+=it.substr(dt,ue.piece.length)}ue=ue.next()}return Fe}computeBufferMetadata(){let k=this.root,te=1,ue=0;for(;k!==xi;)te+=k.lf_left+k.piece.lineFeedCnt,ue+=k.size_left+k.piece.length,k=k.right;this._lineCnt=te,this._length=ue,this._searchCache.validate(this._length)}getIndexOf(k,te){const ue=k.piece,Fe=this.positionInBuffer(k,te),Ze=Fe.line-ue.start.line;if(this.offsetInBuffer(ue.bufferIndex,ue.end)-this.offsetInBuffer(ue.bufferIndex,ue.start)===te){const it=this.getLineFeedCnt(k.piece.bufferIndex,ue.start,Fe);if(it!==Ze)return{index:it,remainder:0}}return{index:Ze,remainder:Fe.column}}getAccumulatedValue(k,te){if(te<0)return 0;const ue=k.piece,Fe=this._buffers[ue.bufferIndex].lineStarts,Ze=ue.start.line+te+1;return Ze>ue.end.line?Fe[ue.end.line]+ue.end.column-Fe[ue.start.line]-ue.start.column:Fe[Ze]-Fe[ue.start.line]-ue.start.column}deleteNodeTail(k,te){const ue=k.piece,Fe=ue.lineFeedCnt,Ze=this.offsetInBuffer(ue.bufferIndex,ue.end),it=te,dt=this.offsetInBuffer(ue.bufferIndex,it),_t=this.getLineFeedCnt(ue.bufferIndex,ue.start,it),st=_t-Fe,Q=dt-Ze,he=ue.length+Q;k.piece=new ri(ue.bufferIndex,ue.start,it,_t,he),qn(this,k,Q,st)}deleteNodeHead(k,te){const ue=k.piece,Fe=ue.lineFeedCnt,Ze=this.offsetInBuffer(ue.bufferIndex,ue.start),it=te,dt=this.getLineFeedCnt(ue.bufferIndex,it,ue.end),_t=this.offsetInBuffer(ue.bufferIndex,it),st=dt-Fe,Q=Ze-_t,he=ue.length+Q;k.piece=new ri(ue.bufferIndex,it,ue.end,dt,he),qn(this,k,Q,st)}shrinkNode(k,te,ue){const Fe=k.piece,Ze=Fe.start,it=Fe.end,dt=Fe.length,_t=Fe.lineFeedCnt,st=te,Q=this.getLineFeedCnt(Fe.bufferIndex,Fe.start,st),he=this.offsetInBuffer(Fe.bufferIndex,te)-this.offsetInBuffer(Fe.bufferIndex,Ze);k.piece=new ri(Fe.bufferIndex,Fe.start,st,Q,he),qn(this,k,he-dt,Q-_t);const Be=new ri(Fe.bufferIndex,ue,it,this.getLineFeedCnt(Fe.bufferIndex,ue,it),this.offsetInBuffer(Fe.bufferIndex,it)-this.offsetInBuffer(Fe.bufferIndex,ue)),nt=this.rbInsertRight(k,Be);this.validateCRLFWithPrevNode(nt)}appendToNode(k,te){this.adjustCarriageReturnFromNext(te,k)&&(te+=`
`);const ue=this.shouldCheckCRLF()&&this.startWithLF(te)&&this.endWithCR(k),Fe=this._buffers[0].buffer.length;this._buffers[0].buffer+=te;const Ze=wt(te,!1);for(let nt=0;nt<Ze.length;nt++)Ze[nt]+=Fe;if(ue){const nt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Fe-nt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ze.slice(1));const it=this._buffers[0].lineStarts.length-1,dt=this._buffers[0].buffer.length-this._buffers[0].lineStarts[it],_t={line:it,column:dt},st=k.piece.length+te.length,Q=k.piece.lineFeedCnt,he=this.getLineFeedCnt(0,k.piece.start,_t),Be=he-Q;k.piece=new ri(k.piece.bufferIndex,k.piece.start,_t,he,st),this._lastChangeBufferPos=_t,qn(this,k,te.length,Be)}nodeAt(k){let te=this.root;const ue=this._searchCache.get(k);if(ue)return{node:ue.node,nodeStartOffset:ue.nodeStartOffset,remainder:k-ue.nodeStartOffset};let Fe=0;for(;te!==xi;)if(te.size_left>k)te=te.left;else if(te.size_left+te.piece.length>=k){Fe+=te.size_left;const Ze={node:te,remainder:k-te.size_left,nodeStartOffset:Fe};return this._searchCache.set(Ze),Ze}else k-=te.size_left+te.piece.length,Fe+=te.size_left+te.piece.length,te=te.right;return null}nodeAt2(k,te){let ue=this.root,Fe=0;for(;ue!==xi;)if(ue.left!==xi&&ue.lf_left>=k-1)ue=ue.left;else if(ue.lf_left+ue.piece.lineFeedCnt>k-1){const Ze=this.getAccumulatedValue(ue,k-ue.lf_left-2),it=this.getAccumulatedValue(ue,k-ue.lf_left-1);return Fe+=ue.size_left,{node:ue,remainder:Math.min(Ze+te-1,it),nodeStartOffset:Fe}}else if(ue.lf_left+ue.piece.lineFeedCnt===k-1){const Ze=this.getAccumulatedValue(ue,k-ue.lf_left-2);if(Ze+te-1<=ue.piece.length)return{node:ue,remainder:Ze+te-1,nodeStartOffset:Fe};te-=ue.piece.length-Ze;break}else k-=ue.lf_left+ue.piece.lineFeedCnt,Fe+=ue.size_left+ue.piece.length,ue=ue.right;for(ue=ue.next();ue!==xi;){if(ue.piece.lineFeedCnt>0){const Ze=this.getAccumulatedValue(ue,0),it=this.offsetOfNode(ue);return{node:ue,remainder:Math.min(te-1,Ze),nodeStartOffset:it}}else if(ue.piece.length>=te-1){const Ze=this.offsetOfNode(ue);return{node:ue,remainder:te-1,nodeStartOffset:Ze}}else te-=ue.piece.length;ue=ue.next()}return null}nodeCharCodeAt(k,te){if(k.piece.lineFeedCnt<1)return-1;const ue=this._buffers[k.piece.bufferIndex],Fe=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start)+te;return ue.buffer.charCodeAt(Fe)}offsetOfNode(k){if(!k)return 0;let te=k.size_left;for(;k!==this.root;)k.parent.right===k&&(te+=k.parent.size_left+k.parent.piece.length),k=k.parent;return te}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(k){if(typeof k=="string")return k.charCodeAt(0)===10;if(k===xi||k.piece.lineFeedCnt===0)return!1;const te=k.piece,ue=this._buffers[te.bufferIndex].lineStarts,Fe=te.start.line,Ze=ue[Fe]+te.start.column;return Fe===ue.length-1||ue[Fe+1]>Ze+1?!1:this._buffers[te.bufferIndex].buffer.charCodeAt(Ze)===10}endWithCR(k){return typeof k=="string"?k.charCodeAt(k.length-1)===13:k===xi||k.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(k,k.piece.length-1)===13}validateCRLFWithPrevNode(k){if(this.shouldCheckCRLF()&&this.startWithLF(k)){const te=k.prev();this.endWithCR(te)&&this.fixCRLF(te,k)}}validateCRLFWithNextNode(k){if(this.shouldCheckCRLF()&&this.endWithCR(k)){const te=k.next();this.startWithLF(te)&&this.fixCRLF(k,te)}}fixCRLF(k,te){const ue=[],Fe=this._buffers[k.piece.bufferIndex].lineStarts;let Ze;k.piece.end.column===0?Ze={line:k.piece.end.line-1,column:Fe[k.piece.end.line]-Fe[k.piece.end.line-1]-1}:Ze={line:k.piece.end.line,column:k.piece.end.column-1};const it=k.piece.length-1,dt=k.piece.lineFeedCnt-1;k.piece=new ri(k.piece.bufferIndex,k.piece.start,Ze,dt,it),qn(this,k,-1,-1),k.piece.length===0&&ue.push(k);const _t={line:te.piece.start.line+1,column:0},st=te.piece.length-1,Q=this.getLineFeedCnt(te.piece.bufferIndex,_t,te.piece.end);te.piece=new ri(te.piece.bufferIndex,_t,te.piece.end,Q,st),qn(this,te,-1,-1),te.piece.length===0&&ue.push(te);const he=this.createNewPieces(`\r
`);this.rbInsertRight(k,he[0]);for(let Be=0;Be<ue.length;Be++)ns(this,ue[Be])}adjustCarriageReturnFromNext(k,te){if(this.shouldCheckCRLF()&&this.endWithCR(k)){const ue=te.next();if(this.startWithLF(ue)){if(k+=`
`,ue.piece.length===1)ns(this,ue);else{const Fe=ue.piece,Ze={line:Fe.start.line+1,column:0},it=Fe.length-1,dt=this.getLineFeedCnt(Fe.bufferIndex,Ze,Fe.end);ue.piece=new ri(Fe.bufferIndex,Ze,Fe.end,dt,it),qn(this,ue,-1,-1)}return!0}}return!1}iterate(k,te){if(k===xi)return te(xi);const ue=this.iterate(k.left,te);return ue&&te(k)&&this.iterate(k.right,te)}getNodeContent(k){if(k===xi)return"";const te=this._buffers[k.piece.bufferIndex],ue=k.piece,Fe=this.offsetInBuffer(ue.bufferIndex,ue.start),Ze=this.offsetInBuffer(ue.bufferIndex,ue.end);return te.buffer.substring(Fe,Ze)}getPieceContent(k){const te=this._buffers[k.bufferIndex],ue=this.offsetInBuffer(k.bufferIndex,k.start),Fe=this.offsetInBuffer(k.bufferIndex,k.end);return te.buffer.substring(ue,Fe)}rbInsertRight(k,te){const ue=new Oi(te,1);if(ue.left=xi,ue.right=xi,ue.parent=xi,ue.size_left=0,ue.lf_left=0,this.root===xi)this.root=ue,ue.color=0;else if(k.right===xi)k.right=ue,ue.parent=k;else{const Ze=Yi(k.right);Ze.left=ue,ue.parent=Ze}return ts(this,ue),ue}rbInsertLeft(k,te){const ue=new Oi(te,1);if(ue.left=xi,ue.right=xi,ue.parent=xi,ue.size_left=0,ue.lf_left=0,this.root===xi)this.root=ue,ue.color=0;else if(k.left===xi)k.left=ue,ue.parent=k;else{const Fe=fn(k.left);Fe.right=ue,ue.parent=Fe}return ts(this,ue),ue}}var yt=e(93033);class si extends c.JT{constructor(k,te,ue,Fe,Ze,it,dt){super(),this._onDidChangeContent=this._register(new E.Q5),this._BOM=te,this._mightContainNonBasicASCII=!it,this._mightContainRTL=Fe,this._mightContainUnusualLineTerminators=Ze,this._pieceTree=new Ot(k,ue,dt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(k){return this._pieceTree.createSnapshot(k?this._BOM:"")}getOffsetAt(k,te){return this._pieceTree.getOffsetAt(k,te)}getPositionAt(k){return this._pieceTree.getPositionAt(k)}getRangeAt(k,te){const ue=k+te,Fe=this.getPositionAt(k),Ze=this.getPositionAt(ue);return new d.e(Fe.lineNumber,Fe.column,Ze.lineNumber,Ze.column)}getValueInRange(k,te=0){if(k.isEmpty())return"";const ue=this._getEndOfLine(te);return this._pieceTree.getValueInRange(k,ue)}getValueLengthInRange(k,te=0){if(k.isEmpty())return 0;if(k.startLineNumber===k.endLineNumber)return k.endColumn-k.startColumn;const ue=this.getOffsetAt(k.startLineNumber,k.startColumn),Fe=this.getOffsetAt(k.endLineNumber,k.endColumn);let Ze=0;const it=this._getEndOfLine(te),dt=this.getEOL();if(it.length!==dt.length){const _t=it.length-dt.length,st=k.endLineNumber-k.startLineNumber;Ze=_t*st}return Fe-ue+Ze}getCharacterCountInRange(k,te=0){if(this._mightContainNonBasicASCII){let ue=0;const Fe=k.startLineNumber,Ze=k.endLineNumber;for(let it=Fe;it<=Ze;it++){const dt=this.getLineContent(it),_t=it===Fe?k.startColumn-1:0,st=it===Ze?k.endColumn-1:dt.length;for(let Q=_t;Q<st;Q++)_.ZG(dt.charCodeAt(Q))?(ue=ue+1,Q=Q+1):ue=ue+1}return ue+=this._getEndOfLine(te).length*(Ze-Fe),ue}return this.getValueLengthInRange(k,te)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(k){return this._pieceTree.getLineContent(k)}getLineCharCode(k,te){return this._pieceTree.getLineCharCode(k,te)}getLineLength(k){return this._pieceTree.getLineLength(k)}getLineFirstNonWhitespaceColumn(k){const te=_.LC(this.getLineContent(k));return te===-1?0:te+1}getLineLastNonWhitespaceColumn(k){const te=_.ow(this.getLineContent(k));return te===-1?0:te+2}_getEndOfLine(k){switch(k){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(k){this._pieceTree.setEOL(k)}applyEdits(k,te,ue){let Fe=this._mightContainRTL,Ze=this._mightContainUnusualLineTerminators,it=this._mightContainNonBasicASCII,dt=!0,_t=[];for(let Tt=0;Tt<k.length;Tt++){const Vt=k[Tt];dt&&Vt._isTracked&&(dt=!1);const oi=Vt.range;if(Vt.text){let on=!0;it||(on=!_.$i(Vt.text),it=on),!Fe&&on&&(Fe=_.Ut(Vt.text)),!Ze&&on&&(Ze=_.ab(Vt.text))}let Ai="",zi=0,cn=0,dn=0;if(Vt.text){let on;[zi,cn,dn,on]=(0,M.Q)(Vt.text);const Ki=this.getEOL();on===0||on===(Ki===`\r
`?2:1)?Ai=Vt.text:Ai=Vt.text.replace(/\r\n|\r|\n/g,Ki)}_t[Tt]={sortIndex:Tt,identifier:Vt.identifier||null,range:oi,rangeOffset:this.getOffsetAt(oi.startLineNumber,oi.startColumn),rangeLength:this.getValueLengthInRange(oi),text:Ai,eolCount:zi,firstLineLength:cn,lastLineLength:dn,forceMoveMarkers:!!Vt.forceMoveMarkers,isAutoWhitespaceEdit:Vt.isAutoWhitespaceEdit||!1}}_t.sort(si._sortOpsAscending);let st=!1;for(let Tt=0,Vt=_t.length-1;Tt<Vt;Tt++){const oi=_t[Tt].range.getEndPosition(),Ai=_t[Tt+1].range.getStartPosition();if(Ai.isBeforeOrEqual(oi)){if(Ai.isBefore(oi))throw new Error("Overlapping ranges are not allowed!");st=!0}}dt&&(_t=this._reduceOperations(_t));const Q=ue||te?si._getInverseEditRanges(_t):[],he=[];if(te)for(let Tt=0;Tt<_t.length;Tt++){const Vt=_t[Tt],oi=Q[Tt];if(Vt.isAutoWhitespaceEdit&&Vt.range.isEmpty())for(let Ai=oi.startLineNumber;Ai<=oi.endLineNumber;Ai++){let zi="";Ai===oi.startLineNumber&&(zi=this.getLineContent(Vt.range.startLineNumber),_.LC(zi)!==-1)||he.push({lineNumber:Ai,oldContent:zi})}}let Be=null;if(ue){let Tt=0;Be=[];for(let Vt=0;Vt<_t.length;Vt++){const oi=_t[Vt],Ai=Q[Vt],zi=this.getValueInRange(oi.range),cn=oi.rangeOffset+Tt;Tt+=oi.text.length-zi.length,Be[Vt]={sortIndex:oi.sortIndex,identifier:oi.identifier,range:Ai,text:zi,textChange:new yt.q(oi.rangeOffset,zi,cn,oi.text)}}st||Be.sort((Vt,oi)=>Vt.sortIndex-oi.sortIndex)}this._mightContainRTL=Fe,this._mightContainUnusualLineTerminators=Ze,this._mightContainNonBasicASCII=it;const nt=this._doApplyEdits(_t);let pt=null;if(te&&he.length>0){he.sort((Tt,Vt)=>Vt.lineNumber-Tt.lineNumber),pt=[];for(let Tt=0,Vt=he.length;Tt<Vt;Tt++){const oi=he[Tt].lineNumber;if(Tt>0&&he[Tt-1].lineNumber===oi)continue;const Ai=he[Tt].oldContent,zi=this.getLineContent(oi);zi.length===0||zi===Ai||_.LC(zi)!==-1||pt.push(oi)}}return this._onDidChangeContent.fire(),new v.je(Be,nt,pt)}_reduceOperations(k){return k.length<1e3?k:[this._toSingleEditOperation(k)]}_toSingleEditOperation(k){let te=!1;const ue=k[0].range,Fe=k[k.length-1].range,Ze=new d.e(ue.startLineNumber,ue.startColumn,Fe.endLineNumber,Fe.endColumn);let it=ue.startLineNumber,dt=ue.startColumn;const _t=[];for(let nt=0,pt=k.length;nt<pt;nt++){const Tt=k[nt],Vt=Tt.range;te=te||Tt.forceMoveMarkers,_t.push(this.getValueInRange(new d.e(it,dt,Vt.startLineNumber,Vt.startColumn))),Tt.text.length>0&&_t.push(Tt.text),it=Vt.endLineNumber,dt=Vt.endColumn}const st=_t.join(""),[Q,he,Be]=(0,M.Q)(st);return{sortIndex:0,identifier:k[0].identifier,range:Ze,rangeOffset:this.getOffsetAt(Ze.startLineNumber,Ze.startColumn),rangeLength:this.getValueLengthInRange(Ze,0),text:st,eolCount:Q,firstLineLength:he,lastLineLength:Be,forceMoveMarkers:te,isAutoWhitespaceEdit:!1}}_doApplyEdits(k){k.sort(si._sortOpsDescending);const te=[];for(let ue=0;ue<k.length;ue++){const Fe=k[ue],Ze=Fe.range.startLineNumber,it=Fe.range.startColumn,dt=Fe.range.endLineNumber,_t=Fe.range.endColumn;if(Ze===dt&&it===_t&&Fe.text.length===0)continue;Fe.text?(this._pieceTree.delete(Fe.rangeOffset,Fe.rangeLength),this._pieceTree.insert(Fe.rangeOffset,Fe.text,!0)):this._pieceTree.delete(Fe.rangeOffset,Fe.rangeLength);const st=new d.e(Ze,it,dt,_t);te.push({range:st,rangeLength:Fe.rangeLength,text:Fe.text,rangeOffset:Fe.rangeOffset,forceMoveMarkers:Fe.forceMoveMarkers})}return te}findMatchesLineByLine(k,te,ue,Fe){return this._pieceTree.findMatchesLineByLine(k,te,ue,Fe)}static _getInverseEditRanges(k){const te=[];let ue=0,Fe=0,Ze=null;for(let it=0,dt=k.length;it<dt;it++){const _t=k[it];let st,Q;Ze?Ze.range.endLineNumber===_t.range.startLineNumber?(st=ue,Q=Fe+(_t.range.startColumn-Ze.range.endColumn)):(st=ue+(_t.range.startLineNumber-Ze.range.endLineNumber),Q=_t.range.startColumn):(st=_t.range.startLineNumber,Q=_t.range.startColumn);let he;if(_t.text.length>0){const Be=_t.eolCount+1;Be===1?he=new d.e(st,Q,st,Q+_t.firstLineLength):he=new d.e(st,Q,st+Be-1,_t.lastLineLength+1)}else he=new d.e(st,Q,st,Q);ue=he.endLineNumber,Fe=he.endColumn,te.push(he),Ze=_t}return te}static _sortOpsAscending(k,te){const ue=d.e.compareRangesUsingEnds(k.range,te.range);return ue===0?k.sortIndex-te.sortIndex:ue}static _sortOpsDescending(k,te){const ue=d.e.compareRangesUsingEnds(k.range,te.range);return ue===0?te.sortIndex-k.sortIndex:-ue}}class ii{constructor(k,te,ue,Fe,Ze,it,dt,_t,st){this._chunks=k,this._bom=te,this._cr=ue,this._lf=Fe,this._crlf=Ze,this._containsRTL=it,this._containsUnusualLineTerminators=dt,this._isBasicASCII=_t,this._normalizeEOL=st}_getEOL(k){const te=this._cr+this._lf+this._crlf,ue=this._cr+this._crlf;return te===0?k===1?`
`:`\r
`:ue>te/2?`\r
`:`
`}create(k){const te=this._getEOL(k),ue=this._chunks;if(this._normalizeEOL&&(te===`\r
`&&(this._cr>0||this._lf>0)||te===`
`&&(this._cr>0||this._crlf>0)))for(let Ze=0,it=ue.length;Ze<it;Ze++){const dt=ue[Ze].buffer.replace(/\r\n|\r|\n/g,te),_t=wt(dt);ue[Ze]=new vi(dt,_t)}const Fe=new si(ue,this._bom,te,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Fe,disposable:Fe}}}class Ui{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(k){if(k.length===0)return;this.chunks.length===0&&_.uS(k)&&(this.BOM=_.c1,k=k.substr(1));const te=k.charCodeAt(k.length-1);te===13||te>=55296&&te<=56319?(this._acceptChunk1(k.substr(0,k.length-1),!1),this._hasPreviousChar=!0,this._previousChar=te):(this._acceptChunk1(k,!1),this._hasPreviousChar=!1,this._previousChar=te)}_acceptChunk1(k,te){!te&&k.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+k):this._acceptChunk2(k))}_acceptChunk2(k){const te=Yt(this._tmpLineStarts,k);this.chunks.push(new vi(k,te.lineStarts)),this.cr+=te.cr,this.lf+=te.lf,this.crlf+=te.crlf,te.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=_.Ut(k)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=_.ab(k)))}finish(k=!0){return this._finish(),new ii(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,k)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const k=this.chunks[this.chunks.length-1];k.buffer+=String.fromCharCode(this._previousChar);const te=wt(k.buffer);k.lineStarts=te,this._previousChar===13&&this.cr++}}}var an=e(15393),en=e(270),In=e(43155),Fn=e(94954),On=e(1432),Mi=e(84013),_i=e(19247),Ii=e(276);class Ht{constructor(k){this._default=k,this._store=[]}get(k){return k<this._store.length?this._store[k]:this._default}set(k,te){for(;k>=this._store.length;)this._store[this._store.length]=this._default;this._store[k]=te}replace(k,te,ue){if(k>=this._store.length)return;if(te===0){this.insert(k,ue);return}else if(ue===0){this.delete(k,te);return}const Fe=this._store.slice(0,k),Ze=this._store.slice(k+te),it=Zt(ue,this._default);this._store=Fe.concat(it,Ze)}delete(k,te){te===0||k>=this._store.length||this._store.splice(k,te)}insert(k,te){if(te===0||k>=this._store.length)return;const ue=[];for(let Fe=0;Fe<te;Fe++)ue[Fe]=this._default;this._store=(0,b.Zv)(this._store,k,ue)}}function Zt(bt,k){const te=[];for(let ue=0;ue<bt;ue++)te[ue]=k;return te}class hi{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(k,te){this._startLineNumber=k,this._tokens=te}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}class Wt{constructor(){this._tokens=[]}add(k,te){if(this._tokens.length>0){const ue=this._tokens[this._tokens.length-1];if(ue.endLineNumber+1===k){ue.appendLineTokens(te);return}}this._tokens.push(new hi(k,[te]))}finalize(){return this._tokens}}var qe=e(77378);class ee{constructor(k,te){this.tokenizationSupport=te,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new re(k)}getStartState(k){return this.store.getStartState(k,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class de extends ee{constructor(k,te,ue,Fe){super(k,te),this._textModel=ue,this._languageIdCodec=Fe}updateTokensUntilLine(k,te){const ue=this._textModel.getLanguageId();for(;;){const Fe=this.getFirstInvalidLine();if(!Fe||Fe.lineNumber>te)break;const Ze=this._textModel.getLineContent(Fe.lineNumber),it=be(this._languageIdCodec,ue,this.tokenizationSupport,Ze,!0,Fe.startState);k.add(Fe.lineNumber,it.tokens),this.store.setEndState(Fe.lineNumber,it.endState)}}getTokenTypeIfInsertingCharacter(k,te){const ue=this.getStartState(k.lineNumber);if(!ue)return 0;const Fe=this._textModel.getLanguageId(),Ze=this._textModel.getLineContent(k.lineNumber),it=Ze.substring(0,k.column-1)+te+Ze.substring(k.column-1),dt=be(this._languageIdCodec,Fe,this.tokenizationSupport,it,!0,ue),_t=new qe.A(dt.tokens,it,this._languageIdCodec);if(_t.getCount()===0)return 0;const st=_t.findTokenIndexAtOffset(k.column-1);return _t.getStandardTokenType(st)}tokenizeLineWithEdit(k,te,ue){const Fe=k.lineNumber,Ze=k.column,it=this.getStartState(Fe);if(!it)return null;const dt=this._textModel.getLineContent(Fe),_t=dt.substring(0,Ze-1)+ue+dt.substring(Ze-1+te),st=this._textModel.getLanguageIdAtPosition(Fe,0),Q=be(this._languageIdCodec,st,this.tokenizationSupport,_t,!0,it);return new qe.A(Q.tokens,_t,this._languageIdCodec)}isCheapToTokenize(k){const te=this.store.getFirstInvalidEndStateLineNumberOrMax();return k<te||k===te&&this._textModel.getLineLength(k)<2048}tokenizeHeuristically(k,te,ue){if(ue<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(te<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(k,ue),{heuristicTokens:!1};let Fe=this.guessStartState(te);const Ze=this._textModel.getLanguageId();for(let it=te;it<=ue;it++){const dt=this._textModel.getLineContent(it),_t=be(this._languageIdCodec,Ze,this.tokenizationSupport,dt,!0,Fe);k.add(it,_t.tokens),Fe=_t.endState}return{heuristicTokens:!0}}guessStartState(k){let te=this._textModel.getLineFirstNonWhitespaceColumn(k);const ue=[];let Fe=null;for(let dt=k-1;te>1&&dt>=1;dt--){const _t=this._textModel.getLineFirstNonWhitespaceColumn(dt);if(_t!==0&&_t<te&&(ue.push(this._textModel.getLineContent(dt)),te=_t,Fe=this.getStartState(dt),Fe))break}Fe||(Fe=this.tokenizationSupport.getInitialState()),ue.reverse();const Ze=this._textModel.getLanguageId();let it=Fe;for(const dt of ue)it=be(this._languageIdCodec,Ze,this.tokenizationSupport,dt,!1,it).endState;return it}}class re{constructor(k){this.lineCount=k,this._tokenizationStateStore=new Ce,this._invalidEndStatesLineNumbers=new we,this._invalidEndStatesLineNumbers.addRange(new _i.q(1,k+1))}getEndState(k){return this._tokenizationStateStore.getEndState(k)}setEndState(k,te){if(!te)throw new r.he("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(k);const ue=this._tokenizationStateStore.setEndState(k,te);return ue&&k<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new _i.q(k+1,k+2)),ue}acceptChange(k,te){this.lineCount+=te-k.length,this._tokenizationStateStore.acceptChange(k,te),this._invalidEndStatesLineNumbers.addRangeAndResize(new _i.q(k.startLineNumber,k.endLineNumberExclusive),te)}acceptChanges(k){for(const te of k){const[ue]=(0,M.Q)(te.text);this.acceptChange(new p.z(te.range.startLineNumber,te.range.endLineNumber+1),ue+1)}}invalidateEndStateRange(k){this._invalidEndStatesLineNumbers.addRange(new _i.q(k.startLineNumber,k.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(k,te){return k===1?te:this.getEndState(k-1)}getFirstInvalidLine(k){const te=this.getFirstInvalidEndStateLineNumber();if(te===null)return null;const ue=this.getStartState(te,k);if(!ue)throw new r.he("Start state must be defined");return{lineNumber:te,startState:ue}}}class Ce{constructor(){this._lineEndStates=new Ht(null)}getEndState(k){return this._lineEndStates.get(k)}setEndState(k,te){const ue=this._lineEndStates.get(k);return ue&&ue.equals(te)?!1:(this._lineEndStates.set(k,te),!0)}acceptChange(k,te){let ue=k.length;te>0&&ue>0&&(ue--,te--),this._lineEndStates.replace(k.startLineNumber,ue,te)}}class we{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(k){const te=this._ranges.findIndex(ue=>ue.contains(k));if(te!==-1){const ue=this._ranges[te];ue.start===k?ue.endExclusive===k+1?this._ranges.splice(te,1):this._ranges[te]=new _i.q(k+1,ue.endExclusive):ue.endExclusive===k+1?this._ranges[te]=new _i.q(ue.start,k):this._ranges.splice(te,1,new _i.q(ue.start,k),new _i.q(k+1,ue.endExclusive))}}addRange(k){_i.q.addRange(k,this._ranges)}addRangeAndResize(k,te){let ue=0;for(;!(ue>=this._ranges.length||k.start<=this._ranges[ue].endExclusive);)ue++;let Fe=ue;for(;!(Fe>=this._ranges.length||k.endExclusive<this._ranges[Fe].start);)Fe++;const Ze=te-k.length;for(let it=Fe;it<this._ranges.length;it++)this._ranges[it]=this._ranges[it].delta(Ze);if(ue===Fe){const it=new _i.q(k.start,k.start+te);it.isEmpty||this._ranges.splice(ue,0,it)}else{const it=Math.min(k.start,this._ranges[ue].start),dt=Math.max(k.endExclusive,this._ranges[Fe-1].endExclusive),_t=new _i.q(it,dt+Ze);_t.isEmpty?this._ranges.splice(ue,Fe-ue):this._ranges.splice(ue,Fe-ue,_t)}}toString(){return this._ranges.map(k=>k.toString()).join(" + ")}}function be(bt,k,te,ue,Fe,Ze){let it=null;if(te)try{it=te.tokenizeEncoded(ue,Fe,Ze.clone())}catch(dt){(0,r.dL)(dt)}return it||(it=(0,Ii.Dy)(bt.encodeLanguageId(k),Ze)),qe.A.convertToEndOffset(it.tokens,ue.length),it}class ke{constructor(k,te){this._tokenizerWithStateStore=k,this._backgroundTokenStore=te,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,an.jg)(k=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(k)}))}_backgroundTokenizeWithDeadline(k){const te=Date.now()+k.timeRemaining(),ue=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<te?(0,On.fn)(ue):this._beginBackgroundTokenization())};ue()}_backgroundTokenizeForAtLeast1ms(){const k=this._tokenizerWithStateStore._textModel.getLineCount(),te=new Wt,ue=Mi.G.create(!1);do if(ue.elapsed()>1||this._tokenizeOneInvalidLine(te)>=k)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(te.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(k){var te;const ue=(te=this._tokenizerWithStateStore)===null||te===void 0?void 0:te.getFirstInvalidLine();return ue?(this._tokenizerWithStateStore.updateTokensUntilLine(k,ue.lineNumber),ue.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(k,te){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.z(k,te))}}const He=new Uint32Array(0).buffer;class Ye{static deleteBeginning(k,te){return k===null||k===He?k:Ye.delete(k,0,te)}static deleteEnding(k,te){if(k===null||k===He)return k;const ue=ut(k),Fe=ue[ue.length-2];return Ye.delete(k,te,Fe)}static delete(k,te,ue){if(k===null||k===He||te===ue)return k;const Fe=ut(k),Ze=Fe.length>>>1;if(te===0&&Fe[Fe.length-2]===ue)return He;const it=qe.A.findIndexInTokensArray(Fe,te),dt=it>0?Fe[it-1<<1]:0,_t=Fe[it<<1];if(ue<_t){const nt=ue-te;for(let pt=it;pt<Ze;pt++)Fe[pt<<1]-=nt;return k}let st,Q;dt!==te?(Fe[it<<1]=te,st=it+1<<1,Q=te):(st=it<<1,Q=dt);const he=ue-te;for(let nt=it+1;nt<Ze;nt++){const pt=Fe[nt<<1]-he;pt>Q&&(Fe[st++]=pt,Fe[st++]=Fe[(nt<<1)+1],Q=pt)}if(st===Fe.length)return k;const Be=new Uint32Array(st);return Be.set(Fe.subarray(0,st),0),Be.buffer}static append(k,te){if(te===He)return k;if(k===He)return te;if(k===null)return k;if(te===null)return null;const ue=ut(k),Fe=ut(te),Ze=Fe.length>>>1,it=new Uint32Array(ue.length+Fe.length);it.set(ue,0);let dt=ue.length;const _t=ue[ue.length-2];for(let st=0;st<Ze;st++)it[dt++]=Fe[st<<1]+_t,it[dt++]=Fe[(st<<1)+1];return it.buffer}static insert(k,te,ue){if(k===null||k===He)return k;const Fe=ut(k),Ze=Fe.length>>>1;let it=qe.A.findIndexInTokensArray(Fe,te);it>0&&Fe[it-1<<1]===te&&it--;for(let dt=it;dt<Ze;dt++)Fe[dt<<1]+=ue;return k}}function ut(bt){return bt instanceof Uint32Array?bt:new Uint32Array(bt)}var $t=e(45797);class gi{constructor(k){this._lineTokens=[],this._len=0,this._languageIdCodec=k}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(k,te,ue){let Fe=null;if(te<this._len&&(Fe=this._lineTokens[te]),Fe!==null&&Fe!==He)return new qe.A(ut(Fe),ue,this._languageIdCodec);const Ze=new Uint32Array(2);return Ze[0]=ue.length,Ze[1]=ci(this._languageIdCodec.encodeLanguageId(k)),new qe.A(Ze,ue,this._languageIdCodec)}static _massageTokens(k,te,ue){const Fe=ue?ut(ue):null;if(te===0){let Ze=!1;if(Fe&&Fe.length>1&&(Ze=$t.N.getLanguageId(Fe[1])!==k),!Ze)return He}if(!Fe||Fe.length===0){const Ze=new Uint32Array(2);return Ze[0]=te,Ze[1]=ci(k),Ze.buffer}return Fe[Fe.length-2]=te,Fe.byteOffset===0&&Fe.byteLength===Fe.buffer.byteLength?Fe.buffer:Fe}_ensureLine(k){for(;k>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(k,te){te!==0&&(k+te>this._len&&(te=this._len-k),this._lineTokens.splice(k,te),this._len-=te)}_insertLines(k,te){if(te===0)return;const ue=[];for(let Fe=0;Fe<te;Fe++)ue[Fe]=null;this._lineTokens=b.Zv(this._lineTokens,k,ue),this._len+=te}setTokens(k,te,ue,Fe,Ze){const it=gi._massageTokens(this._languageIdCodec.encodeLanguageId(k),ue,Fe);this._ensureLine(te);const dt=this._lineTokens[te];return this._lineTokens[te]=it,Ze?!gi._equals(dt,it):!1}static _equals(k,te){if(!k||!te)return!k&&!te;const ue=ut(k),Fe=ut(te);if(ue.length!==Fe.length)return!1;for(let Ze=0,it=ue.length;Ze<it;Ze++)if(ue[Ze]!==Fe[Ze])return!1;return!0}acceptEdit(k,te,ue){this._acceptDeleteRange(k),this._acceptInsertText(new o.L(k.startLineNumber,k.startColumn),te,ue)}_acceptDeleteRange(k){const te=k.startLineNumber-1;if(te>=this._len)return;if(k.startLineNumber===k.endLineNumber){if(k.startColumn===k.endColumn)return;this._lineTokens[te]=Ye.delete(this._lineTokens[te],k.startColumn-1,k.endColumn-1);return}this._lineTokens[te]=Ye.deleteEnding(this._lineTokens[te],k.startColumn-1);const ue=k.endLineNumber-1;let Fe=null;ue<this._len&&(Fe=Ye.deleteBeginning(this._lineTokens[ue],k.endColumn-1)),this._lineTokens[te]=Ye.append(this._lineTokens[te],Fe),this._deleteLines(k.startLineNumber,k.endLineNumber-k.startLineNumber)}_acceptInsertText(k,te,ue){if(te===0&&ue===0)return;const Fe=k.lineNumber-1;if(!(Fe>=this._len)){if(te===0){this._lineTokens[Fe]=Ye.insert(this._lineTokens[Fe],k.column-1,ue);return}this._lineTokens[Fe]=Ye.deleteEnding(this._lineTokens[Fe],k.column-1),this._lineTokens[Fe]=Ye.insert(this._lineTokens[Fe],k.column-1,ue),this._insertLines(k.lineNumber,te)}}setMultilineTokens(k,te){if(k.length===0)return{changes:[]};const ue=[];for(let Fe=0,Ze=k.length;Fe<Ze;Fe++){const it=k[Fe];let dt=0,_t=0,st=!1;for(let Q=it.startLineNumber;Q<=it.endLineNumber;Q++)st?(this.setTokens(te.getLanguageId(),Q-1,te.getLineLength(Q),it.getLineTokens(Q),!1),_t=Q):this.setTokens(te.getLanguageId(),Q-1,te.getLineLength(Q),it.getLineTokens(Q),!0)&&(st=!0,dt=Q,_t=Q);st&&ue.push({fromLineNumber:dt,toLineNumber:_t})}return{changes:ue}}}function ci(bt){return(bt<<0|0|0|32768|2<<24|1024)>>>0}class ai{constructor(k){this._pieces=[],this._isComplete=!1,this._languageIdCodec=k}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(k,te){this._pieces=k||[],this._isComplete=te}setPartial(k,te){let ue=k;if(te.length>0){const Ze=te[0].getRange(),it=te[te.length-1].getRange();if(!Ze||!it)return k;ue=k.plusRange(Ze).plusRange(it)}let Fe=null;for(let Ze=0,it=this._pieces.length;Ze<it;Ze++){const dt=this._pieces[Ze];if(dt.endLineNumber<ue.startLineNumber)continue;if(dt.startLineNumber>ue.endLineNumber){Fe=Fe||{index:Ze};break}if(dt.removeTokens(ue),dt.isEmpty()){this._pieces.splice(Ze,1),Ze--,it--;continue}if(dt.endLineNumber<ue.startLineNumber)continue;if(dt.startLineNumber>ue.endLineNumber){Fe=Fe||{index:Ze};continue}const[_t,st]=dt.split(ue);if(_t.isEmpty()){Fe=Fe||{index:Ze};continue}st.isEmpty()||(this._pieces.splice(Ze,1,_t,st),Ze++,it++,Fe=Fe||{index:Ze})}return Fe=Fe||{index:this._pieces.length},te.length>0&&(this._pieces=b.Zv(this._pieces,Fe.index,te)),ue}isComplete(){return this._isComplete}addSparseTokens(k,te){if(te.getLineContent().length===0)return te;const ue=this._pieces;if(ue.length===0)return te;const Fe=ai._findFirstPieceWithLine(ue,k),Ze=ue[Fe].getLineTokens(k);if(!Ze)return te;const it=te.getCount(),dt=Ze.getCount();let _t=0;const st=[];let Q=0,he=0;const Be=(nt,pt)=>{nt!==he&&(he=nt,st[Q++]=nt,st[Q++]=pt)};for(let nt=0;nt<dt;nt++){const pt=Ze.getStartCharacter(nt),Tt=Ze.getEndCharacter(nt),Vt=Ze.getMetadata(nt),oi=((Vt&1?2048:0)|(Vt&2?4096:0)|(Vt&4?8192:0)|(Vt&8?16384:0)|(Vt&16?16744448:0)|(Vt&32?4278190080:0))>>>0,Ai=~oi>>>0;for(;_t<it&&te.getEndOffset(_t)<=pt;)Be(te.getEndOffset(_t),te.getMetadata(_t)),_t++;for(_t<it&&te.getStartOffset(_t)<pt&&Be(pt,te.getMetadata(_t));_t<it&&te.getEndOffset(_t)<Tt;)Be(te.getEndOffset(_t),te.getMetadata(_t)&Ai|Vt&oi),_t++;if(_t<it)Be(Tt,te.getMetadata(_t)&Ai|Vt&oi),te.getEndOffset(_t)===Tt&&_t++;else{const zi=Math.min(Math.max(0,_t-1),it-1);Be(Tt,te.getMetadata(zi)&Ai|Vt&oi)}}for(;_t<it;)Be(te.getEndOffset(_t),te.getMetadata(_t)),_t++;return new qe.A(new Uint32Array(st),te.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(k,te){let ue=0,Fe=k.length-1;for(;ue<Fe;){let Ze=ue+Math.floor((Fe-ue)/2);if(k[Ze].endLineNumber<te)ue=Ze+1;else if(k[Ze].startLineNumber>te)Fe=Ze-1;else{for(;Ze>ue&&k[Ze-1].startLineNumber<=te&&te<=k[Ze-1].endLineNumber;)Ze--;return Ze}}return ue}acceptEdit(k,te,ue,Fe,Ze){for(const it of this._pieces)it.acceptEdit(k,te,ue,Fe,Ze)}}class ct extends Fn.U{constructor(k,te,ue,Fe,Ze,it){super(),this._languageService=k,this._languageConfigurationService=te,this._textModel=ue,this._bracketPairsTextModelPart=Fe,this._languageId=Ze,this._attachedViews=it,this._semanticTokens=new ai(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new E.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new E.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new E.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new Nt(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(dt=>{dt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(dt=>{this._emitModelTokensChangedEvent(dt)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(dt=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(k){if(k.isFlush)this._semanticTokens.flush();else if(!k.isEolChange)for(const te of k.changes){const[ue,Fe,Ze]=(0,M.Q)(te.text);this._semanticTokens.acceptEdit(te.range,ue,Fe,Ze,te.text.length>0?te.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(k)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(k){this.validateLineNumber(k);const te=this.grammarTokens.getLineTokens(k);return this._semanticTokens.addSparseTokens(k,te)}_emitModelTokensChangedEvent(k){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(k),this._onDidChangeTokens.fire(k))}validateLineNumber(k){if(k<1||k>this._textModel.getLineCount())throw new r.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(k){this.validateLineNumber(k),this.grammarTokens.forceTokenization(k)}isCheapToTokenize(k){return this.validateLineNumber(k),this.grammarTokens.isCheapToTokenize(k)}tokenizeIfCheap(k){this.validateLineNumber(k),this.grammarTokens.tokenizeIfCheap(k)}getTokenTypeIfInsertingCharacter(k,te,ue){return this.grammarTokens.getTokenTypeIfInsertingCharacter(k,te,ue)}tokenizeLineWithEdit(k,te,ue){return this.grammarTokens.tokenizeLineWithEdit(k,te,ue)}setSemanticTokens(k,te){this._semanticTokens.set(k,te),this._emitModelTokensChangedEvent({semanticTokensApplied:k!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(k,te){if(this.hasCompleteSemanticTokens())return;const ue=this._textModel.validateRange(this._semanticTokens.setPartial(k,te));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:ue.startLineNumber,toLineNumber:ue.endLineNumber}]})}getWordAtPosition(k){this.assertNotDisposed();const te=this._textModel.validatePosition(k),ue=this._textModel.getLineContent(te.lineNumber),Fe=this.getLineTokens(te.lineNumber),Ze=Fe.findTokenIndexAtOffset(te.column-1),[it,dt]=ct._findLanguageBoundaries(Fe,Ze),_t=(0,en.t2)(te.column,this.getLanguageConfiguration(Fe.getLanguageId(Ze)).getWordDefinition(),ue.substring(it,dt),it);if(_t&&_t.startColumn<=k.column&&k.column<=_t.endColumn)return _t;if(Ze>0&&it===te.column-1){const[st,Q]=ct._findLanguageBoundaries(Fe,Ze-1),he=(0,en.t2)(te.column,this.getLanguageConfiguration(Fe.getLanguageId(Ze-1)).getWordDefinition(),ue.substring(st,Q),st);if(he&&he.startColumn<=k.column&&k.column<=he.endColumn)return he}return null}getLanguageConfiguration(k){return this._languageConfigurationService.getLanguageConfiguration(k)}static _findLanguageBoundaries(k,te){const ue=k.getLanguageId(te);let Fe=0;for(let it=te;it>=0&&k.getLanguageId(it)===ue;it--)Fe=k.getStartOffset(it);let Ze=k.getLineContent().length;for(let it=te,dt=k.getCount();it<dt&&k.getLanguageId(it)===ue;it++)Ze=k.getEndOffset(it);return[Fe,Ze]}getWordUntilPosition(k){const te=this.getWordAtPosition(k);return te?{word:te.word.substr(0,k.column-te.startColumn),startColumn:te.startColumn,endColumn:k.column}:{word:"",startColumn:k.column,endColumn:k.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(k,te){const ue=this._textModel.validatePosition(new o.L(k,te)),Fe=this.getLineTokens(ue.lineNumber);return Fe.getLanguageId(Fe.findTokenIndexAtOffset(ue.column-1))}setLanguageId(k,te="api"){if(this._languageId===k)return;const ue={oldLanguage:this._languageId,newLanguage:k,source:te};this._languageId=k,this._bracketPairsTextModelPart.handleDidChangeLanguage(ue),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(ue),this._onDidChangeLanguageConfiguration.fire({})}}class Nt extends c.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(k,te,ue,Fe){super(),this._languageIdCodec=k,this._textModel=te,this.getLanguageId=ue,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new c.XK),this._tokens=new gi(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new c.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new E.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new E.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new c.b2),this._register(In.RW.onDidChange(Ze=>{const it=this.getLanguageId();Ze.changedLanguages.indexOf(it)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(Fe.onDidChangeVisibleRanges(({view:Ze,state:it})=>{if(it){let dt=this._attachedViewStates.get(Ze);dt||(dt=new Et(()=>this.refreshRanges(dt.lineRanges)),this._attachedViewStates.set(Ze,dt)),dt.handleStateChange(it)}else this._attachedViewStates.deleteAndDispose(Ze)}))}resetTokenization(k=!0){var te;this._tokens.flush(),(te=this._debugBackgroundTokens)===null||te===void 0||te.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new re(this._textModel.getLineCount())),k&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const ue=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const it=In.RW.get(this.getLanguageId());if(!it)return[null,null];let dt;try{dt=it.getInitialState()}catch(_t){return(0,r.dL)(_t),[null,null]}return[it,dt]},[Fe,Ze]=ue();if(Fe&&Ze?this._tokenizer=new de(this._textModel.getLineCount(),Fe,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const it={setTokens:dt=>{this.setTokens(dt)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const dt=2;this._backgroundTokenizationState=dt,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(dt,_t)=>{var st;if(!this._tokenizer)return;const Q=this._tokenizer.store.getFirstInvalidEndStateLineNumber();Q!==null&&dt>=Q&&((st=this._tokenizer)===null||st===void 0||st.store.setEndState(dt,_t))}};Fe&&Fe.createBackgroundTokenizer&&!Fe.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=Fe.createBackgroundTokenizer(this._textModel,it)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new ke(this._tokenizer,it),this._defaultBackgroundTokenizer.handleChanges()),Fe!=null&&Fe.backgroundTokenizerShouldOnlyVerifyTokens&&Fe.createBackgroundTokenizer?(this._debugBackgroundTokens=new gi(this._languageIdCodec),this._debugBackgroundStates=new re(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Fe.createBackgroundTokenizer(this._textModel,{setTokens:dt=>{var _t;(_t=this._debugBackgroundTokens)===null||_t===void 0||_t.setMultilineTokens(dt,this._textModel)},backgroundTokenizationFinished(){},setEndState:(dt,_t)=>{var st;(st=this._debugBackgroundStates)===null||st===void 0||st.setEndState(dt,_t)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var k;(k=this._defaultBackgroundTokenizer)===null||k===void 0||k.handleChanges()}handleDidChangeContent(k){var te,ue,Fe;if(k.isFlush)this.resetTokenization(!1);else if(!k.isEolChange){for(const Ze of k.changes){const[it,dt]=(0,M.Q)(Ze.text);this._tokens.acceptEdit(Ze.range,it,dt),(te=this._debugBackgroundTokens)===null||te===void 0||te.acceptEdit(Ze.range,it,dt)}(ue=this._debugBackgroundStates)===null||ue===void 0||ue.acceptChanges(k.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(k.changes),(Fe=this._defaultBackgroundTokenizer)===null||Fe===void 0||Fe.handleChanges()}}setTokens(k){const{changes:te}=this._tokens.setMultilineTokens(k,this._textModel);return te.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:te}),{changes:te}}refreshAllVisibleLineTokens(){const k=p.z.joinMany([...this._attachedViewStates].map(([te,ue])=>ue.lineRanges));this.refreshRanges(k)}refreshRanges(k){for(const te of k)this.refreshRange(te.startLineNumber,te.endLineNumberExclusive-1)}refreshRange(k,te){var ue,Fe;if(!this._tokenizer)return;k=Math.max(1,Math.min(this._textModel.getLineCount(),k)),te=Math.min(this._textModel.getLineCount(),te);const Ze=new Wt,{heuristicTokens:it}=this._tokenizer.tokenizeHeuristically(Ze,k,te),dt=this.setTokens(Ze.finalize());if(it)for(const _t of dt.changes)(ue=this._backgroundTokenizer.value)===null||ue===void 0||ue.requestTokens(_t.fromLineNumber,_t.toLineNumber+1);(Fe=this._defaultBackgroundTokenizer)===null||Fe===void 0||Fe.checkFinished()}forceTokenization(k){var te,ue;const Fe=new Wt;(te=this._tokenizer)===null||te===void 0||te.updateTokensUntilLine(Fe,k),this.setTokens(Fe.finalize()),(ue=this._defaultBackgroundTokenizer)===null||ue===void 0||ue.checkFinished()}isCheapToTokenize(k){return this._tokenizer?this._tokenizer.isCheapToTokenize(k):!0}tokenizeIfCheap(k){this.isCheapToTokenize(k)&&this.forceTokenization(k)}getLineTokens(k){var te;const ue=this._textModel.getLineContent(k),Fe=this._tokens.getTokens(this._textModel.getLanguageId(),k-1,ue);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>k&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>k){const Ze=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),k-1,ue);!Fe.equals(Ze)&&(!((te=this._debugBackgroundTokenizer.value)===null||te===void 0)&&te.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(k)}return Fe}getTokenTypeIfInsertingCharacter(k,te,ue){if(!this._tokenizer)return 0;const Fe=this._textModel.validatePosition(new o.L(k,te));return this.forceTokenization(Fe.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Fe,ue)}tokenizeLineWithEdit(k,te,ue){if(!this._tokenizer)return null;const Fe=this._textModel.validatePosition(k);return this.forceTokenization(Fe.lineNumber),this._tokenizer.tokenizeLineWithEdit(Fe,te,ue)}get hasTokens(){return this._tokens.hasTokens}}class Et extends c.JT{get lineRanges(){return this._lineRanges}constructor(k){super(),this._refreshTokens=k,this.runner=this._register(new an.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,b.fS)(this._computedLineRanges,this._lineRanges,(k,te)=>k.equals(te))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(k){this._lineRanges=k.visibleLineRanges,k.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var It=e(14706),Gt=e(64862),zt=function(bt,k,te,ue){var Fe=arguments.length,Ze=Fe<3?k:ue===null?ue=Object.getOwnPropertyDescriptor(k,te):ue,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ze=Reflect.decorate(bt,k,te,ue);else for(var dt=bt.length-1;dt>=0;dt--)(it=bt[dt])&&(Ze=(Fe<3?it(Ze):Fe>3?it(k,te,Ze):it(k,te))||Ze);return Fe>3&&Ze&&Object.defineProperty(k,te,Ze),Ze},mi=function(bt,k){return function(te,ue){k(te,ue,bt)}},ui;function Ti(bt){const k=new Ui;return k.acceptChunk(bt),k.finish()}function Ri(bt){const k=new Ui;let te;for(;typeof(te=bt.read())=="string";)k.acceptChunk(te);return k.finish()}function tn(bt,k){let te;return typeof bt=="string"?te=Ti(bt):v.Hf(bt)?te=Ri(bt):te=bt,te.create(k)}let gn=0;const wn=999,An=1e4;class Bn{constructor(k){this._source=k,this._eos=!1}read(){if(this._eos)return null;const k=[];let te=0,ue=0;do{const Fe=this._source.read();if(Fe===null)return this._eos=!0,te===0?null:k.join("");if(Fe.length>0&&(k[te++]=Fe,ue+=Fe.length),ue>=64*1024)return k.join("")}while(!0)}}const Tn=()=>{throw new Error("Invalid change accessor")};let es=ui=class extends c.JT{static resolveOptions(k,te){if(te.detectIndentation){const ue=Te(k,te.tabSize,te.insertSpaces);return new v.dJ({tabSize:ue.tabSize,indentSize:"tabSize",insertSpaces:ue.insertSpaces,trimAutoWhitespace:te.trimAutoWhitespace,defaultEOL:te.defaultEOL,bracketPairColorizationOptions:te.bracketPairColorizationOptions})}return new v.dJ(te)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(k){return this._eventEmitter.slowEvent(te=>k(te.contentChangedEvent))}onDidChangeContentOrInjectedText(k){return(0,c.F8)(this._eventEmitter.fastEvent(te=>k(te)),this._onDidChangeInjectedText.event(te=>k(te)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(k,te,ue,Fe=null,Ze,it,dt){super(),this._undoRedoService=Ze,this._languageService=it,this._languageConfigurationService=dt,this._onWillDispose=this._register(new E.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Pi(nt=>this.handleBeforeFireDecorationsChangedEvent(nt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new E.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new E.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new E.Q5),this._eventEmitter=this._register(new Qi),this._languageSelectionListener=this._register(new c.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new Hi,gn++,this.id="$model"+gn,this.isForSimpleWidget=ue.isForSimpleWidget,typeof Fe=="undefined"||Fe===null?this._associatedResource=I.o.parse("inmemory://model/"+gn):this._associatedResource=Fe,this._attachedEditorCount=0;const{textBuffer:_t,disposable:st}=tn(k,ue.defaultEOL);this._buffer=_t,this._bufferDisposable=st,this._options=ui.resolveOptions(this._buffer,ue);const Q=typeof te=="string"?te:te.languageId;typeof te!="string"&&(this._languageSelectionListener.value=te.onDidChange(()=>this._setLanguage(te.languageId))),this._bracketPairs=this._register(new U(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new fe.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new X(this)),this._tokenizationTextModelPart=new ct(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Q,this._attachedViews);const he=this._buffer.getLineCount(),Be=this._buffer.getValueLengthInRange(new d.e(1,1,he,this._buffer.getLineLength(he)+1),0);ue.largeFileOptimizations?(this._isTooLargeForTokenization=Be>ui.LARGE_FILE_SIZE_THRESHOLD||he>ui.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Be>ui.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Be>ui._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=_.PJ(gn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new os,this._commandManager=new le.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Q)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const k=new si([],"",`
`,!1,!1,!0,!0);k.dispose(),this._buffer=k,this._bufferDisposable=c.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(k,te){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(te),this._bracketPairs.handleDidChangeContent(te),this._eventEmitter.fire(new It.fV(k,te)))}setValue(k){if(this._assertNotDisposed(),k==null)throw(0,r.b1)();const{textBuffer:te,disposable:ue}=tn(k,this._options.defaultEOL);this._setValueFromTextBuffer(te,ue)}_createContentChanged2(k,te,ue,Fe,Ze,it,dt,_t){return{changes:[{range:k,rangeOffset:te,rangeLength:ue,text:Fe}],eol:this._buffer.getEOL(),isEolChange:_t,versionId:this.getVersionId(),isUndoing:Ze,isRedoing:it,isFlush:dt}}_setValueFromTextBuffer(k,te){this._assertNotDisposed();const ue=this.getFullModelRange(),Fe=this.getValueLengthInRange(ue),Ze=this.getLineCount(),it=this.getLineMaxColumn(Ze);this._buffer=k,this._bufferDisposable.dispose(),this._bufferDisposable=te,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new os,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new It.dQ([new It.Jx],this._versionId,!1,!1),this._createContentChanged2(new d.e(1,1,Ze,it),0,Fe,this.getValue(),!1,!1,!0,!1))}setEOL(k){this._assertNotDisposed();const te=k===1?`\r
`:`
`;if(this._buffer.getEOL()===te)return;const ue=this.getFullModelRange(),Fe=this.getValueLengthInRange(ue),Ze=this.getLineCount(),it=this.getLineMaxColumn(Ze);this._onBeforeEOLChange(),this._buffer.setEOL(te),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new It.dQ([new It.CZ],this._versionId,!1,!1),this._createContentChanged2(new d.e(1,1,Ze,it),0,Fe,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const k=this.getVersionId(),te=this._decorationsTree.collectNodesPostOrder();for(let ue=0,Fe=te.length;ue<Fe;ue++){const Ze=te[ue],it=Ze.range,dt=Ze.cachedAbsoluteStart-Ze.start,_t=this._buffer.getOffsetAt(it.startLineNumber,it.startColumn),st=this._buffer.getOffsetAt(it.endLineNumber,it.endColumn);Ze.cachedAbsoluteStart=_t,Ze.cachedAbsoluteEnd=st,Ze.cachedVersionId=k,Ze.start=_t-dt,Ze.end=st-dt,Ge(Ze)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(k){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(k)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let k=0,te=0;const ue=this._buffer.getLineCount();for(let Fe=1;Fe<=ue;Fe++){const Ze=this._buffer.getLineLength(Fe);Ze>=An?te+=Ze:k+=Ze}return te>k}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(k){this._assertNotDisposed();const te=typeof k.tabSize!="undefined"?k.tabSize:this._options.tabSize,ue=typeof k.indentSize!="undefined"?k.indentSize:this._options.originalIndentSize,Fe=typeof k.insertSpaces!="undefined"?k.insertSpaces:this._options.insertSpaces,Ze=typeof k.trimAutoWhitespace!="undefined"?k.trimAutoWhitespace:this._options.trimAutoWhitespace,it=typeof k.bracketColorizationOptions!="undefined"?k.bracketColorizationOptions:this._options.bracketPairColorizationOptions,dt=new v.dJ({tabSize:te,indentSize:ue,insertSpaces:Fe,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Ze,bracketPairColorizationOptions:it});if(this._options.equals(dt))return;const _t=this._options.createChangeEvent(dt);this._options=dt,this._bracketPairs.handleDidChangeOptions(_t),this._decorationProvider.handleDidChangeOptions(_t),this._onDidChangeOptions.fire(_t)}detectIndentation(k,te){this._assertNotDisposed();const ue=Te(this._buffer,te,k);this.updateOptions({insertSpaces:ue.insertSpaces,tabSize:ue.tabSize,indentSize:ue.tabSize})}normalizeIndentation(k){return this._assertNotDisposed(),(0,D.x)(k,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(k=null){const te=this.findMatches(_.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(k,te.map(ue=>({range:ue.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(k){this._assertNotDisposed();const te=this._validatePosition(k.lineNumber,k.column,0);return this._buffer.getOffsetAt(te.lineNumber,te.column)}getPositionAt(k){this._assertNotDisposed();const te=Math.min(this._buffer.getLength(),Math.max(0,k));return this._buffer.getPositionAt(te)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(k){this._versionId=k}_overwriteAlternativeVersionId(k){this._alternativeVersionId=k}_overwriteInitialUndoRedoSnapshot(k){this._initialUndoRedoSnapshot=k}getValue(k,te=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new r.he("Operation would exceed heap memory limits");const ue=this.getFullModelRange(),Fe=this.getValueInRange(ue,k);return te?this._buffer.getBOM()+Fe:Fe}createSnapshot(k=!1){return new Bn(this._buffer.createSnapshot(k))}getValueLength(k,te=!1){this._assertNotDisposed();const ue=this.getFullModelRange(),Fe=this.getValueLengthInRange(ue,k);return te?this._buffer.getBOM().length+Fe:Fe}getValueInRange(k,te=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(k),te)}getValueLengthInRange(k,te=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(k),te)}getCharacterCountInRange(k,te=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(k),te)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineContent(k)}getLineLength(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLength(k)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new r.he("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(k){return this._assertNotDisposed(),1}getLineMaxColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLength(k)+1}getLineFirstNonWhitespaceColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(k)}getLineLastNonWhitespaceColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(k)}_validateRangeRelaxedNoAllocations(k){const te=this._buffer.getLineCount(),ue=k.startLineNumber,Fe=k.startColumn;let Ze=Math.floor(typeof ue=="number"&&!isNaN(ue)?ue:1),it=Math.floor(typeof Fe=="number"&&!isNaN(Fe)?Fe:1);if(Ze<1)Ze=1,it=1;else if(Ze>te)Ze=te,it=this.getLineMaxColumn(Ze);else if(it<=1)it=1;else{const he=this.getLineMaxColumn(Ze);it>=he&&(it=he)}const dt=k.endLineNumber,_t=k.endColumn;let st=Math.floor(typeof dt=="number"&&!isNaN(dt)?dt:1),Q=Math.floor(typeof _t=="number"&&!isNaN(_t)?_t:1);if(st<1)st=1,Q=1;else if(st>te)st=te,Q=this.getLineMaxColumn(st);else if(Q<=1)Q=1;else{const he=this.getLineMaxColumn(st);Q>=he&&(Q=he)}return ue===Ze&&Fe===it&&dt===st&&_t===Q&&k instanceof d.e&&!(k instanceof u.Y)?k:new d.e(Ze,it,st,Q)}_isValidPosition(k,te,ue){if(typeof k!="number"||typeof te!="number"||isNaN(k)||isNaN(te)||k<1||te<1||(k|0)!==k||(te|0)!==te)return!1;const Fe=this._buffer.getLineCount();if(k>Fe)return!1;if(te===1)return!0;const Ze=this.getLineMaxColumn(k);if(te>Ze)return!1;if(ue===1){const it=this._buffer.getLineCharCode(k,te-2);if(_.ZG(it))return!1}return!0}_validatePosition(k,te,ue){const Fe=Math.floor(typeof k=="number"&&!isNaN(k)?k:1),Ze=Math.floor(typeof te=="number"&&!isNaN(te)?te:1),it=this._buffer.getLineCount();if(Fe<1)return new o.L(1,1);if(Fe>it)return new o.L(it,this.getLineMaxColumn(it));if(Ze<=1)return new o.L(Fe,1);const dt=this.getLineMaxColumn(Fe);if(Ze>=dt)return new o.L(Fe,dt);if(ue===1){const _t=this._buffer.getLineCharCode(Fe,Ze-2);if(_.ZG(_t))return new o.L(Fe,Ze-1)}return new o.L(Fe,Ze)}validatePosition(k){return this._assertNotDisposed(),k instanceof o.L&&this._isValidPosition(k.lineNumber,k.column,1)?k:this._validatePosition(k.lineNumber,k.column,1)}_isValidRange(k,te){const ue=k.startLineNumber,Fe=k.startColumn,Ze=k.endLineNumber,it=k.endColumn;if(!this._isValidPosition(ue,Fe,0)||!this._isValidPosition(Ze,it,0))return!1;if(te===1){const dt=Fe>1?this._buffer.getLineCharCode(ue,Fe-2):0,_t=it>1&&it<=this._buffer.getLineLength(Ze)?this._buffer.getLineCharCode(Ze,it-2):0,st=_.ZG(dt),Q=_.ZG(_t);return!st&&!Q}return!0}validateRange(k){if(this._assertNotDisposed(),k instanceof d.e&&!(k instanceof u.Y)&&this._isValidRange(k,1))return k;const ue=this._validatePosition(k.startLineNumber,k.startColumn,0),Fe=this._validatePosition(k.endLineNumber,k.endColumn,0),Ze=ue.lineNumber,it=ue.column,dt=Fe.lineNumber,_t=Fe.column;{const st=it>1?this._buffer.getLineCharCode(Ze,it-2):0,Q=_t>1&&_t<=this._buffer.getLineLength(dt)?this._buffer.getLineCharCode(dt,_t-2):0,he=_.ZG(st),Be=_.ZG(Q);return!he&&!Be?new d.e(Ze,it,dt,_t):Ze===dt&&it===_t?new d.e(Ze,it-1,dt,_t-1):he&&Be?new d.e(Ze,it-1,dt,_t+1):he?new d.e(Ze,it-1,dt,_t):new d.e(Ze,it,dt,_t+1)}return new d.e(Ze,it,dt,_t)}modifyPosition(k,te){this._assertNotDisposed();const ue=this.getOffsetAt(k)+te;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ue)))}getFullModelRange(){this._assertNotDisposed();const k=this.getLineCount();return new d.e(1,1,k,this.getLineMaxColumn(k))}findMatchesLineByLine(k,te,ue,Fe){return this._buffer.findMatchesLineByLine(k,te,ue,Fe)}findMatches(k,te,ue,Fe,Ze,it,dt=wn){this._assertNotDisposed();let _t=null;te!==null&&(Array.isArray(te)||(te=[te]),te.every(he=>d.e.isIRange(he))&&(_t=te.map(he=>this.validateRange(he)))),_t===null&&(_t=[this.getFullModelRange()]),_t=_t.sort((he,Be)=>he.startLineNumber-Be.startLineNumber||he.startColumn-Be.startColumn);const st=[];st.push(_t.reduce((he,Be)=>d.e.areIntersecting(he,Be)?he.plusRange(Be):(st.push(he),Be)));let Q;if(!ue&&k.indexOf(`
`)<0){const Be=new Nn.bc(k,ue,Fe,Ze).parseSearchRequest();if(!Be)return[];Q=nt=>this.findMatchesLineByLine(nt,Be,it,dt)}else Q=he=>Nn.pM.findMatches(this,new Nn.bc(k,ue,Fe,Ze),he,it,dt);return st.map(Q).reduce((he,Be)=>he.concat(Be),[])}findNextMatch(k,te,ue,Fe,Ze,it){this._assertNotDisposed();const dt=this.validatePosition(te);if(!ue&&k.indexOf(`
`)<0){const st=new Nn.bc(k,ue,Fe,Ze).parseSearchRequest();if(!st)return null;const Q=this.getLineCount();let he=new d.e(dt.lineNumber,dt.column,Q,this.getLineMaxColumn(Q)),Be=this.findMatchesLineByLine(he,st,it,1);return Nn.pM.findNextMatch(this,new Nn.bc(k,ue,Fe,Ze),dt,it),Be.length>0||(he=new d.e(1,1,dt.lineNumber,this.getLineMaxColumn(dt.lineNumber)),Be=this.findMatchesLineByLine(he,st,it,1),Be.length>0)?Be[0]:null}return Nn.pM.findNextMatch(this,new Nn.bc(k,ue,Fe,Ze),dt,it)}findPreviousMatch(k,te,ue,Fe,Ze,it){this._assertNotDisposed();const dt=this.validatePosition(te);return Nn.pM.findPreviousMatch(this,new Nn.bc(k,ue,Fe,Ze),dt,it)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(k){if((this.getEOL()===`
`?0:1)!==k)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(k)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(k){return k instanceof v.Qi?k:new v.Qi(k.identifier||null,this.validateRange(k.range),k.text,k.forceMoveMarkers||!1,k.isAutoWhitespaceEdit||!1,k._isTracked||!1)}_validateEditOperations(k){const te=[];for(let ue=0,Fe=k.length;ue<Fe;ue++)te[ue]=this._validateEditOperation(k[ue]);return te}pushEditOperations(k,te,ue,Fe){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(k,this._validateEditOperations(te),ue,Fe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(k,te,ue,Fe){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Ze=te.map(dt=>({range:this.validateRange(dt.range),text:dt.text}));let it=!0;if(k)for(let dt=0,_t=k.length;dt<_t;dt++){const st=k[dt];let Q=!1;for(let he=0,Be=Ze.length;he<Be;he++){const nt=Ze[he].range,pt=nt.startLineNumber>st.endLineNumber,Tt=st.startLineNumber>nt.endLineNumber;if(!pt&&!Tt){Q=!0;break}}if(!Q){it=!1;break}}if(it)for(let dt=0,_t=this._trimAutoWhitespaceLines.length;dt<_t;dt++){const st=this._trimAutoWhitespaceLines[dt],Q=this.getLineMaxColumn(st);let he=!0;for(let Be=0,nt=Ze.length;Be<nt;Be++){const pt=Ze[Be].range,Tt=Ze[Be].text;if(!(st<pt.startLineNumber||st>pt.endLineNumber)&&!(st===pt.startLineNumber&&pt.startColumn===Q&&pt.isEmpty()&&Tt&&Tt.length>0&&Tt.charAt(0)===`
`)&&!(st===pt.startLineNumber&&pt.startColumn===1&&pt.isEmpty()&&Tt&&Tt.length>0&&Tt.charAt(Tt.length-1)===`
`)){he=!1;break}}if(he){const Be=new d.e(st,1,st,Q);te.push(new v.Qi(null,Be,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(k,te,ue,Fe)}_applyUndo(k,te,ue,Fe){const Ze=k.map(it=>{const dt=this.getPositionAt(it.newPosition),_t=this.getPositionAt(it.newEnd);return{range:new d.e(dt.lineNumber,dt.column,_t.lineNumber,_t.column),text:it.oldText}});this._applyUndoRedoEdits(Ze,te,!0,!1,ue,Fe)}_applyRedo(k,te,ue,Fe){const Ze=k.map(it=>{const dt=this.getPositionAt(it.oldPosition),_t=this.getPositionAt(it.oldEnd);return{range:new d.e(dt.lineNumber,dt.column,_t.lineNumber,_t.column),text:it.newText}});this._applyUndoRedoEdits(Ze,te,!1,!0,ue,Fe)}_applyUndoRedoEdits(k,te,ue,Fe,Ze,it){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ue,this._isRedoing=Fe,this.applyEdits(k,!1),this.setEOL(te),this._overwriteAlternativeVersionId(Ze)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(it),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(k,te=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ue=this._validateEditOperations(k);return this._doApplyEdits(ue,te)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(k,te){const ue=this._buffer.getLineCount(),Fe=this._buffer.applyEdits(k,this._options.trimAutoWhitespace,te),Ze=this._buffer.getLineCount(),it=Fe.changes;if(this._trimAutoWhitespaceLines=Fe.trimAutoWhitespaceLineNumbers,it.length!==0){for(let st=0,Q=it.length;st<Q;st++){const he=it[st];this._decorationsTree.acceptReplace(he.rangeOffset,he.rangeLength,he.text.length,he.forceMoveMarkers)}const dt=[];this._increaseVersionId();let _t=ue;for(let st=0,Q=it.length;st<Q;st++){const he=it[st],[Be]=(0,M.Q)(he.text);this._onDidChangeDecorations.fire();const nt=he.range.startLineNumber,pt=he.range.endLineNumber,Tt=pt-nt,Vt=Be,oi=Math.min(Tt,Vt),Ai=Vt-Tt,zi=Ze-_t-Ai+nt,cn=zi,dn=zi+Vt,on=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new o.L(cn,1)),this.getOffsetAt(new o.L(dn,this.getLineMaxColumn(dn))),0),Ki=It.gk.fromDecorations(on),ln=new b.H9(Ki);for(let pn=oi;pn>=0;pn--){const Jn=nt+pn,xs=zi+pn;ln.takeFromEndWhile(Ys=>Ys.lineNumber>xs);const rs=ln.takeFromEndWhile(Ys=>Ys.lineNumber===xs);dt.push(new It.rU(Jn,this.getLineContent(xs),rs))}if(oi<Tt){const pn=nt+oi;dt.push(new It.lN(pn+1,pt))}if(oi<Vt){const pn=new b.H9(Ki),Jn=nt+oi,xs=Vt-oi,rs=Ze-_t-xs+Jn+1,Ys=[],jn=[];for(let Es=0;Es<xs;Es++){const _s=rs+Es;jn[Es]=this.getLineContent(_s),pn.takeWhile(Qn=>Qn.lineNumber<_s),Ys[Es]=pn.takeWhile(Qn=>Qn.lineNumber===_s)}dt.push(new It.Tx(Jn+1,nt+Vt,jn,Ys))}_t+=Ai}this._emitContentChangedEvent(new It.dQ(dt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:it,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Fe.reverseEdits===null?void 0:Fe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(k){if(k===null||k.size===0)return;const ue=Array.from(k).map(Fe=>new It.rU(Fe,this.getLineContent(Fe),this._getInjectedTextInLine(Fe)));this._onDidChangeInjectedText.fire(new It.D8(ue))}changeDecorations(k,te=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(te,k)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(k,te){const ue={addDecoration:(Ze,it)=>this._deltaDecorationsImpl(k,[],[{range:Ze,options:it}])[0],changeDecoration:(Ze,it)=>{this._changeDecorationImpl(Ze,it)},changeDecorationOptions:(Ze,it)=>{this._changeDecorationOptionsImpl(Ze,yi(it))},removeDecoration:Ze=>{this._deltaDecorationsImpl(k,[Ze],[])},deltaDecorations:(Ze,it)=>Ze.length===0&&it.length===0?[]:this._deltaDecorationsImpl(k,Ze,it)};let Fe=null;try{Fe=te(ue)}catch(Ze){(0,r.dL)(Ze)}return ue.addDecoration=Tn,ue.changeDecoration=Tn,ue.changeDecorationOptions=Tn,ue.removeDecoration=Tn,ue.deltaDecorations=Tn,Fe}deltaDecorations(k,te,ue=0){if(this._assertNotDisposed(),k||(k=[]),k.length===0&&te.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,r.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ue,k,te)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(k){return this.getDecorationRange(k)}_setTrackedRange(k,te,ue){const Fe=k?this._decorations[k]:null;if(!Fe)return te?this._deltaDecorationsImpl(0,[],[{range:te,options:Si[ue]}],!0)[0]:null;if(!te)return this._decorationsTree.delete(Fe),delete this._decorations[Fe.id],null;const Ze=this._validateRangeRelaxedNoAllocations(te),it=this._buffer.getOffsetAt(Ze.startLineNumber,Ze.startColumn),dt=this._buffer.getOffsetAt(Ze.endLineNumber,Ze.endColumn);return this._decorationsTree.delete(Fe),Fe.reset(this.getVersionId(),it,dt,Ze),Fe.setOptions(Si[ue]),this._decorationsTree.insert(Fe),Fe.id}removeAllDecorationsWithOwnerId(k){if(this._isDisposed)return;const te=this._decorationsTree.collectNodesFromOwner(k);for(let ue=0,Fe=te.length;ue<Fe;ue++){const Ze=te[ue];this._decorationsTree.delete(Ze),delete this._decorations[Ze.id]}}getDecorationOptions(k){const te=this._decorations[k];return te?te.options:null}getDecorationRange(k){const te=this._decorations[k];return te?this._decorationsTree.getNodeRange(this,te):null}getLineDecorations(k,te=0,ue=!1){return k<1||k>this.getLineCount()?[]:this.getLinesDecorations(k,k,te,ue)}getLinesDecorations(k,te,ue=0,Fe=!1,Ze=!1){const it=this.getLineCount(),dt=Math.min(it,Math.max(1,k)),_t=Math.min(it,Math.max(1,te)),st=this.getLineMaxColumn(_t),Q=new d.e(dt,1,_t,st),he=this._getDecorationsInRange(Q,ue,Fe,Ze);return(0,b.vA)(he,this._decorationProvider.getDecorationsInRange(Q,ue,Fe)),he}getDecorationsInRange(k,te=0,ue=!1,Fe=!1,Ze=!1){const it=this.validateRange(k),dt=this._getDecorationsInRange(it,te,ue,Ze);return(0,b.vA)(dt,this._decorationProvider.getDecorationsInRange(it,te,ue,Fe)),dt}getOverviewRulerDecorations(k=0,te=!1){return this._decorationsTree.getAll(this,k,te,!0,!1)}getInjectedTextDecorations(k=0){return this._decorationsTree.getAllInjectedText(this,k)}_getInjectedTextInLine(k){const te=this._buffer.getOffsetAt(k,1),ue=te+this._buffer.getLineLength(k),Fe=this._decorationsTree.getInjectedTextInInterval(this,te,ue,0);return It.gk.fromDecorations(Fe).filter(Ze=>Ze.lineNumber===k)}getAllDecorations(k=0,te=!1){let ue=this._decorationsTree.getAll(this,k,te,!1,!1);return ue=ue.concat(this._decorationProvider.getAllDecorations(k,te)),ue}getAllMarginDecorations(k=0){return this._decorationsTree.getAll(this,k,!1,!1,!0)}_getDecorationsInRange(k,te,ue,Fe){const Ze=this._buffer.getOffsetAt(k.startLineNumber,k.startColumn),it=this._buffer.getOffsetAt(k.endLineNumber,k.endColumn);return this._decorationsTree.getAllInInterval(this,Ze,it,te,ue,Fe)}getRangeAt(k,te){return this._buffer.getRangeAt(k,te-k)}_changeDecorationImpl(k,te){const ue=this._decorations[k];if(!ue)return;if(ue.options.after){const dt=this.getDecorationRange(k);this._onDidChangeDecorations.recordLineAffectedByInjectedText(dt.endLineNumber)}if(ue.options.before){const dt=this.getDecorationRange(k);this._onDidChangeDecorations.recordLineAffectedByInjectedText(dt.startLineNumber)}const Fe=this._validateRangeRelaxedNoAllocations(te),Ze=this._buffer.getOffsetAt(Fe.startLineNumber,Fe.startColumn),it=this._buffer.getOffsetAt(Fe.endLineNumber,Fe.endColumn);this._decorationsTree.delete(ue),ue.reset(this.getVersionId(),Ze,it,Fe),this._decorationsTree.insert(ue),this._onDidChangeDecorations.checkAffectedAndFire(ue.options),ue.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Fe.endLineNumber),ue.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Fe.startLineNumber)}_changeDecorationOptionsImpl(k,te){const ue=this._decorations[k];if(!ue)return;const Fe=!!(ue.options.overviewRuler&&ue.options.overviewRuler.color),Ze=!!(te.overviewRuler&&te.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ue.options),this._onDidChangeDecorations.checkAffectedAndFire(te),ue.options.after||te.after){const it=this._decorationsTree.getNodeRange(this,ue);this._onDidChangeDecorations.recordLineAffectedByInjectedText(it.endLineNumber)}if(ue.options.before||te.before){const it=this._decorationsTree.getNodeRange(this,ue);this._onDidChangeDecorations.recordLineAffectedByInjectedText(it.startLineNumber)}Fe!==Ze?(this._decorationsTree.delete(ue),ue.setOptions(te),this._decorationsTree.insert(ue)):ue.setOptions(te)}_deltaDecorationsImpl(k,te,ue,Fe=!1){const Ze=this.getVersionId(),it=te.length;let dt=0;const _t=ue.length;let st=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Q=new Array(_t);for(;dt<it||st<_t;){let he=null;if(dt<it){do he=this._decorations[te[dt++]];while(!he&&dt<it);if(he){if(he.options.after){const Be=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Be.endLineNumber)}if(he.options.before){const Be=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Be.startLineNumber)}this._decorationsTree.delete(he),Fe||this._onDidChangeDecorations.checkAffectedAndFire(he.options)}}if(st<_t){if(!he){const oi=++this._lastDecorationId,Ai=`${this._instanceId};${oi}`;he=new _e(Ai,0,0),this._decorations[Ai]=he}const Be=ue[st],nt=this._validateRangeRelaxedNoAllocations(Be.range),pt=yi(Be.options),Tt=this._buffer.getOffsetAt(nt.startLineNumber,nt.startColumn),Vt=this._buffer.getOffsetAt(nt.endLineNumber,nt.endColumn);he.ownerId=k,he.reset(Ze,Tt,Vt,nt),he.setOptions(pt),he.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(nt.endLineNumber),he.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(nt.startLineNumber),Fe||this._onDidChangeDecorations.checkAffectedAndFire(pt),this._decorationsTree.insert(he),Q[st]=he.id,st++}else he&&delete this._decorations[he.id]}return Q}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(k,te){typeof k=="string"?(this._languageSelectionListener.clear(),this._setLanguage(k,te)):(this._languageSelectionListener.value=k.onDidChange(()=>this._setLanguage(k.languageId,te)),this._setLanguage(k.languageId,te))}_setLanguage(k,te){this.tokenization.setLanguageId(k,te),this._languageService.requestRichLanguageFeatures(k)}getLanguageIdAtPosition(k,te){return this.tokenization.getLanguageIdAtPosition(k,te)}getWordAtPosition(k){return this._tokenizationTextModelPart.getWordAtPosition(k)}getWordUntilPosition(k){return this._tokenizationTextModelPart.getWordUntilPosition(k)}normalizePosition(k,te){return k}getLineIndentColumn(k){return Un(this.getLineContent(k))+1}};es._MODEL_SYNC_LIMIT=50*1024*1024,es.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,es.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,es.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,es.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:i.D.tabSize,indentSize:i.D.indentSize,insertSpaces:i.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:i.D.trimAutoWhitespace,largeFileOptimizations:i.D.largeFileOptimizations,bracketPairColorizationOptions:i.D.bracketPairColorizationOptions},es=ui=zt([mi(4,Gt.tJ),mi(5,n.O),mi(6,f.c_)],es);function Un(bt){let k=0;for(const te of bt)if(te===" "||te==="	")k++;else break;return k}function yn(bt){return!!(bt.options.overviewRuler&&bt.options.overviewRuler.color)}function ss(bt){return!!bt.options.after||!!bt.options.before}class os{constructor(){this._decorationsTree0=new ve,this._decorationsTree1=new ve,this._injectedTextDecorationsTree=new ve}ensureAllNodesHaveRanges(k){this.getAll(k,0,!1,!1,!1)}_ensureNodesHaveRanges(k,te){for(const ue of te)ue.range===null&&(ue.range=k.getRangeAt(ue.cachedAbsoluteStart,ue.cachedAbsoluteEnd));return te}getAllInInterval(k,te,ue,Fe,Ze,it){const dt=k.getVersionId(),_t=this._intervalSearch(te,ue,Fe,Ze,dt,it);return this._ensureNodesHaveRanges(k,_t)}_intervalSearch(k,te,ue,Fe,Ze,it){const dt=this._decorationsTree0.intervalSearch(k,te,ue,Fe,Ze,it),_t=this._decorationsTree1.intervalSearch(k,te,ue,Fe,Ze,it),st=this._injectedTextDecorationsTree.intervalSearch(k,te,ue,Fe,Ze,it);return dt.concat(_t).concat(st)}getInjectedTextInInterval(k,te,ue,Fe){const Ze=k.getVersionId(),it=this._injectedTextDecorationsTree.intervalSearch(te,ue,Fe,!1,Ze,!1);return this._ensureNodesHaveRanges(k,it).filter(dt=>dt.options.showIfCollapsed||!dt.range.isEmpty())}getAllInjectedText(k,te){const ue=k.getVersionId(),Fe=this._injectedTextDecorationsTree.search(te,!1,ue,!1);return this._ensureNodesHaveRanges(k,Fe).filter(Ze=>Ze.options.showIfCollapsed||!Ze.range.isEmpty())}getAll(k,te,ue,Fe,Ze){const it=k.getVersionId(),dt=this._search(te,ue,Fe,it,Ze);return this._ensureNodesHaveRanges(k,dt)}_search(k,te,ue,Fe,Ze){if(ue)return this._decorationsTree1.search(k,te,Fe,Ze);{const it=this._decorationsTree0.search(k,te,Fe,Ze),dt=this._decorationsTree1.search(k,te,Fe,Ze),_t=this._injectedTextDecorationsTree.search(k,te,Fe,Ze);return it.concat(dt).concat(_t)}}collectNodesFromOwner(k){const te=this._decorationsTree0.collectNodesFromOwner(k),ue=this._decorationsTree1.collectNodesFromOwner(k),Fe=this._injectedTextDecorationsTree.collectNodesFromOwner(k);return te.concat(ue).concat(Fe)}collectNodesPostOrder(){const k=this._decorationsTree0.collectNodesPostOrder(),te=this._decorationsTree1.collectNodesPostOrder(),ue=this._injectedTextDecorationsTree.collectNodesPostOrder();return k.concat(te).concat(ue)}insert(k){ss(k)?this._injectedTextDecorationsTree.insert(k):yn(k)?this._decorationsTree1.insert(k):this._decorationsTree0.insert(k)}delete(k){ss(k)?this._injectedTextDecorationsTree.delete(k):yn(k)?this._decorationsTree1.delete(k):this._decorationsTree0.delete(k)}getNodeRange(k,te){const ue=k.getVersionId();return te.cachedVersionId!==ue&&this._resolveNode(te,ue),te.range===null&&(te.range=k.getRangeAt(te.cachedAbsoluteStart,te.cachedAbsoluteEnd)),te.range}_resolveNode(k,te){ss(k)?this._injectedTextDecorationsTree.resolveNode(k,te):yn(k)?this._decorationsTree1.resolveNode(k,te):this._decorationsTree0.resolveNode(k,te)}acceptReplace(k,te,ue,Fe){this._decorationsTree0.acceptReplace(k,te,ue,Fe),this._decorationsTree1.acceptReplace(k,te,ue,Fe),this._injectedTextDecorationsTree.acceptReplace(k,te,ue,Fe)}}function pi(bt){return bt.replace(/[^a-z0-9\-_]/gi," ")}class $e{constructor(k){this.color=k.color||"",this.darkColor=k.darkColor||""}}class ht extends $e{constructor(k){super(k),this._resolvedColor=null,this.position=typeof k.position=="number"?k.position:v.sh.Center}getColor(k){return this._resolvedColor||(k.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,k):this._resolvedColor=this._resolveColor(this.color,k)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(k,te){if(typeof k=="string")return k;const ue=k?te.getColor(k.id):null;return ue?ue.toString():""}}class gt{constructor(k){var te;this.position=(te=k==null?void 0:k.position)!==null&&te!==void 0?te:v.U.Left}}class li extends $e{constructor(k){super(k),this.position=k.position}getColor(k){return this._resolvedColor||(k.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,k):this._resolvedColor=this._resolveColor(this.color,k)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(k,te){return typeof k=="string"?z.Il.fromHex(k):te.getColor(k.id)}}class ni{static from(k){return k instanceof ni?k:new ni(k)}constructor(k){this.content=k.content||"",this.inlineClassName=k.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=k.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=k.attachedData||null,this.cursorStops=k.cursorStops||null}}class bi{static register(k){return new bi(k)}static createDynamic(k){return new bi(k)}constructor(k){var te,ue,Fe,Ze,it,dt;this.description=k.description,this.blockClassName=k.blockClassName?pi(k.blockClassName):null,this.blockDoesNotCollapse=(te=k.blockDoesNotCollapse)!==null&&te!==void 0?te:null,this.blockIsAfterEnd=(ue=k.blockIsAfterEnd)!==null&&ue!==void 0?ue:null,this.blockPadding=(Fe=k.blockPadding)!==null&&Fe!==void 0?Fe:null,this.stickiness=k.stickiness||0,this.zIndex=k.zIndex||0,this.className=k.className?pi(k.className):null,this.shouldFillLineOnLineBreak=(Ze=k.shouldFillLineOnLineBreak)!==null&&Ze!==void 0?Ze:null,this.hoverMessage=k.hoverMessage||null,this.glyphMarginHoverMessage=k.glyphMarginHoverMessage||null,this.isWholeLine=k.isWholeLine||!1,this.showIfCollapsed=k.showIfCollapsed||!1,this.collapseOnReplaceEdit=k.collapseOnReplaceEdit||!1,this.overviewRuler=k.overviewRuler?new ht(k.overviewRuler):null,this.minimap=k.minimap?new li(k.minimap):null,this.glyphMargin=k.glyphMarginClassName?new gt(k.glyphMargin):null,this.glyphMarginClassName=k.glyphMarginClassName?pi(k.glyphMarginClassName):null,this.linesDecorationsClassName=k.linesDecorationsClassName?pi(k.linesDecorationsClassName):null,this.firstLineDecorationClassName=k.firstLineDecorationClassName?pi(k.firstLineDecorationClassName):null,this.marginClassName=k.marginClassName?pi(k.marginClassName):null,this.inlineClassName=k.inlineClassName?pi(k.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=k.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=k.beforeContentClassName?pi(k.beforeContentClassName):null,this.afterContentClassName=k.afterContentClassName?pi(k.afterContentClassName):null,this.after=k.after?ni.from(k.after):null,this.before=k.before?ni.from(k.before):null,this.hideInCommentTokens=(it=k.hideInCommentTokens)!==null&&it!==void 0?it:!1,this.hideInStringTokens=(dt=k.hideInStringTokens)!==null&&dt!==void 0?dt:!1}}bi.EMPTY=bi.register({description:"empty"});const Si=[bi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),bi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),bi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),bi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function yi(bt){return bt instanceof bi?bt:bi.createDynamic(bt)}class Pi extends c.JT{constructor(k){super(),this.handleBeforeFire=k,this._actual=this._register(new E.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var k;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(k=this._affectedInjectedTextLines)===null||k===void 0||k.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(k){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(k)}checkAffectedAndFire(k){this._affectsMinimap||(this._affectsMinimap=!!(k.minimap&&k.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(k.overviewRuler&&k.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!k.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const k={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(k)}}class Qi extends c.JT{constructor(){super(),this._fastEmitter=this._register(new E.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new E.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(k=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=k;const te=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(te),this._slowEmitter.fire(te)}}fire(k){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(k):this._deferredEvent=k;return}this._fastEmitter.fire(k),this._slowEmitter.fire(k)}}class Hi{constructor(){this._onDidChangeVisibleRanges=new E.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const k=new Fi(te=>{this._onDidChangeVisibleRanges.fire({view:k,state:te})});return this._views.add(k),k}detachView(k){this._views.delete(k),this._onDidChangeVisibleRanges.fire({view:k,state:void 0})}}class Fi{constructor(k){this.handleStateChange=k}setVisibleLines(k,te){const ue=k.map(Fe=>new p.z(Fe.startLineNumber,Fe.endLineNumber+1));this.handleStateChange({visibleLineRanges:ue,stabilized:te})}}},94954:function(Pt,Ke,e){"use strict";e.d(Ke,{U:function(){return z}});var b=e(5976);class z extends b.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},77277:function(Pt,Ke,e){"use strict";e.d(Ke,{bc:function(){return I},cM:function(){return i},iE:function(){return D},pM:function(){return o},sz:function(){return n}});var b=e(97295),z=e(24929),r=e(50187),E=e(24314),c=e(84973);const _=999;class I{constructor(v,a,S,g){this.searchString=v,this.isRegex=a,this.matchCase=S,this.wordSeparators=g}parseSearchRequest(){if(this.searchString==="")return null;let v;this.isRegex?v=M(this.searchString):v=this.searchString.indexOf(`
`)>=0;let a=null;try{a=b.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:v,global:!0,unicode:!0})}catch(g){return null}if(!a)return null;let S=!this.isRegex&&!v;return S&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(S=this.matchCase),new c.Tx(a,this.wordSeparators?(0,z.u)(this.wordSeparators):null,S?this.searchString:null)}}function M(f){if(!f||f.length===0)return!1;for(let v=0,a=f.length;v<a;v++){const S=f.charCodeAt(v);if(S===10)return!0;if(S===92){if(v++,v>=a)break;const g=f.charCodeAt(v);if(g===110||g===114||g===87)return!0}}return!1}function D(f,v,a){if(!a)return new c.tk(f,null);const S=[];for(let g=0,y=v.length;g<y;g++)S[g]=v[g];return new c.tk(f,S)}class p{constructor(v){const a=[];let S=0;for(let g=0,y=v.length;g<y;g++)v.charCodeAt(g)===10&&(a[S++]=g);this._lineFeedsOffsets=a}findLineFeedCountBeforeOffset(v){const a=this._lineFeedsOffsets;let S=0,g=a.length-1;if(g===-1||v<=a[0])return 0;for(;S<g;){const y=S+((g-S)/2>>0);a[y]>=v?g=y-1:a[y+1]>=v?(S=y,g=y):S=y+1}return S+1}}class o{static findMatches(v,a,S,g,y){const C=a.parseSearchRequest();return C?C.regex.multiline?this._doFindMatchesMultiline(v,S,new n(C.wordSeparators,C.regex),g,y):this._doFindMatchesLineByLine(v,S,C,g,y):[]}static _getMultilineMatchRange(v,a,S,g,y,C){let L,O=0;g?(O=g.findLineFeedCountBeforeOffset(y),L=a+y+O):L=a+y;let T;if(g){const Y=g.findLineFeedCountBeforeOffset(y+C.length)-O;T=L+C.length+Y}else T=L+C.length;const F=v.getPositionAt(L),B=v.getPositionAt(T);return new E.e(F.lineNumber,F.column,B.lineNumber,B.column)}static _doFindMatchesMultiline(v,a,S,g,y){const C=v.getOffsetAt(a.getStartPosition()),L=v.getValueInRange(a,1),O=v.getEOL()===`\r
`?new p(L):null,T=[];let F=0,B;for(S.reset(0);B=S.next(L);)if(T[F++]=D(this._getMultilineMatchRange(v,C,L,O,B.index,B[0]),B,g),F>=y)return T;return T}static _doFindMatchesLineByLine(v,a,S,g,y){const C=[];let L=0;if(a.startLineNumber===a.endLineNumber){const T=v.getLineContent(a.startLineNumber).substring(a.startColumn-1,a.endColumn-1);return L=this._findMatchesInLine(S,T,a.startLineNumber,a.startColumn-1,L,C,g,y),C}const O=v.getLineContent(a.startLineNumber).substring(a.startColumn-1);L=this._findMatchesInLine(S,O,a.startLineNumber,a.startColumn-1,L,C,g,y);for(let T=a.startLineNumber+1;T<a.endLineNumber&&L<y;T++)L=this._findMatchesInLine(S,v.getLineContent(T),T,0,L,C,g,y);if(L<y){const T=v.getLineContent(a.endLineNumber).substring(0,a.endColumn-1);L=this._findMatchesInLine(S,T,a.endLineNumber,0,L,C,g,y)}return C}static _findMatchesInLine(v,a,S,g,y,C,L,O){const T=v.wordSeparators;if(!L&&v.simpleSearch){const $=v.simpleSearch,Y=$.length,P=a.length;let w=-Y;for(;(w=a.indexOf($,w+Y))!==-1;)if((!T||i(T,a,P,w,Y))&&(C[y++]=new c.tk(new E.e(S,w+1+g,S,w+1+Y+g),null),y>=O))return y;return y}const F=new n(v.wordSeparators,v.regex);let B;F.reset(0);do if(B=F.next(a),B&&(C[y++]=D(new E.e(S,B.index+1+g,S,B.index+1+B[0].length+g),B,L),y>=O))return y;while(B);return y}static findNextMatch(v,a,S,g){const y=a.parseSearchRequest();if(!y)return null;const C=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(v,S,C,g):this._doFindNextMatchLineByLine(v,S,C,g)}static _doFindNextMatchMultiline(v,a,S,g){const y=new r.L(a.lineNumber,1),C=v.getOffsetAt(y),L=v.getLineCount(),O=v.getValueInRange(new E.e(y.lineNumber,y.column,L,v.getLineMaxColumn(L)),1),T=v.getEOL()===`\r
`?new p(O):null;S.reset(a.column-1);const F=S.next(O);return F?D(this._getMultilineMatchRange(v,C,O,T,F.index,F[0]),F,g):a.lineNumber!==1||a.column!==1?this._doFindNextMatchMultiline(v,new r.L(1,1),S,g):null}static _doFindNextMatchLineByLine(v,a,S,g){const y=v.getLineCount(),C=a.lineNumber,L=v.getLineContent(C),O=this._findFirstMatchInLine(S,L,C,a.column,g);if(O)return O;for(let T=1;T<=y;T++){const F=(C+T-1)%y,B=v.getLineContent(F+1),$=this._findFirstMatchInLine(S,B,F+1,1,g);if($)return $}return null}static _findFirstMatchInLine(v,a,S,g,y){v.reset(g-1);const C=v.next(a);return C?D(new E.e(S,C.index+1,S,C.index+1+C[0].length),C,y):null}static findPreviousMatch(v,a,S,g){const y=a.parseSearchRequest();if(!y)return null;const C=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(v,S,C,g):this._doFindPreviousMatchLineByLine(v,S,C,g)}static _doFindPreviousMatchMultiline(v,a,S,g){const y=this._doFindMatchesMultiline(v,new E.e(1,1,a.lineNumber,a.column),S,g,10*_);if(y.length>0)return y[y.length-1];const C=v.getLineCount();return a.lineNumber!==C||a.column!==v.getLineMaxColumn(C)?this._doFindPreviousMatchMultiline(v,new r.L(C,v.getLineMaxColumn(C)),S,g):null}static _doFindPreviousMatchLineByLine(v,a,S,g){const y=v.getLineCount(),C=a.lineNumber,L=v.getLineContent(C).substring(0,a.column-1),O=this._findLastMatchInLine(S,L,C,g);if(O)return O;for(let T=1;T<=y;T++){const F=(y+C-T-1)%y,B=v.getLineContent(F+1),$=this._findLastMatchInLine(S,B,F+1,g);if($)return $}return null}static _findLastMatchInLine(v,a,S,g){let y=null,C;for(v.reset(0);C=v.next(a);)y=D(new E.e(S,C.index+1,S,C.index+1+C[0].length),C,g);return y}}function d(f,v,a,S,g){if(S===0)return!0;const y=v.charCodeAt(S-1);if(f.get(y)!==0||y===13||y===10)return!0;if(g>0){const C=v.charCodeAt(S);if(f.get(C)!==0)return!0}return!1}function u(f,v,a,S,g){if(S+g===a)return!0;const y=v.charCodeAt(S+g);if(f.get(y)!==0||y===13||y===10)return!0;if(g>0){const C=v.charCodeAt(S+g-1);if(f.get(C)!==0)return!0}return!1}function i(f,v,a,S,g){return d(f,v,a,S,g)&&u(f,v,a,S,g)}class n{constructor(v,a){this._wordSeparators=v,this._searchRegex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(v){this._searchRegex.lastIndex=v,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(v){const a=v.length;let S;do{if(this._prevMatchStartIndex+this._prevMatchLength===a||(S=this._searchRegex.exec(v),!S))return null;const g=S.index,y=S[0].length;if(g===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){b.ZH(v,a,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=g,this._prevMatchLength=y,!this._wordSeparators||i(this._wordSeparators,v,a,g,y))return S}while(S);return null}}},59616:function(Pt,Ke,e){"use strict";e.d(Ke,{q:function(){return b}});function b(z,r){let E=0,c=0;const _=z.length;for(;c<_;){const I=z.charCodeAt(c);if(I===32)E++;else if(I===9)E=E-E%r+r;else break;c++}return c===_?-1:E}},20927:function(Pt,Ke,e){"use strict";e.d(Ke,{O:function(){return o}});var b=e(71050),z=e(4669),r=e(22258),E=e(70666),c=e(50187),_=e(24314),I=e(3860),M=e(43155),D=e(70902);class p{static chord(u,i){return(0,r.gx)(u,i)}}p.CtrlCmd=2048,p.Shift=1024,p.Alt=512,p.WinCtrl=256;function o(){return{editor:void 0,languages:void 0,CancellationTokenSource:b.A,Emitter:z.Q5,KeyCode:D.VD,KeyMod:p,Position:c.L,Range:_.e,Selection:I.Y,SelectionDirection:D.a$,MarkerSeverity:D.ZL,MarkerTag:D.eB,Uri:E.o,Token:M.WU}}},85215:function(Pt,Ke,e){"use strict";e.d(Ke,{p:function(){return z}});var b=e(72065);const z=(0,b.yh)("editorWorkerService")},88191:function(Pt,Ke,e){"use strict";e.d(Ke,{A:function(){return o}});var b=e(89954),z=e(43702),r=e(59870),E=e(48814),c=e(65026),_=e(72065),I=e(43557),M=e(66663),D=function(f,v,a,S){var g=arguments.length,y=g<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,a):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,v,a,S);else for(var L=f.length-1;L>=0;L--)(C=f[L])&&(y=(g<3?C(y):g>3?C(v,a,y):C(v,a))||y);return g>3&&y&&Object.defineProperty(v,a,y),y},p=function(f,v){return function(a,S){v(a,S,f)}};const o=(0,_.yh)("ILanguageFeatureDebounceService");var d;(function(f){const v=new WeakMap;let a=0;function S(g){let y=v.get(g);return y===void 0&&(y=++a,v.set(g,y)),y}f.of=S})(d||(d={}));class u{constructor(v){this._default=v}get(v){return this._default}update(v,a){return this._default}default(){return this._default}}class i{constructor(v,a,S,g,y,C){this._logService=v,this._name=a,this._registry=S,this._default=g,this._min=y,this._max=C,this._cache=new z.z6(50,.7)}_key(v){return v.id+this._registry.all(v).reduce((a,S)=>(0,b.SP)(d.of(S),a),0)}get(v){const a=this._key(v),S=this._cache.get(a);return S?(0,r.uZ)(S.value,this._min,this._max):this.default()}update(v,a){const S=this._key(v);let g=this._cache.get(S);g||(g=new r.N(6),this._cache.set(S,g));const y=(0,r.uZ)(g.update(a),this._min,this._max);return(0,M.xn)(v.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${v.uri.toString()} is ${y}ms`),y}_overall(){const v=new r.nM;for(const[,a]of this._cache)v.update(a.value);return v.value}default(){const v=this._overall()|0||this._default;return(0,r.uZ)(v,this._min,this._max)}}let n=class{constructor(v,a){this._logService=v,this._data=new Map,this._isDev=a.isExtensionDevelopment||!a.isBuilt}for(v,a,S){var g,y,C;const L=(g=S==null?void 0:S.min)!==null&&g!==void 0?g:50,O=(y=S==null?void 0:S.max)!==null&&y!==void 0?y:Sa(L,2),T=(C=S==null?void 0:S.key)!==null&&C!==void 0?C:void 0,F=`${d.of(v)},${L}${T?","+T:""}`;let B=this._data.get(F);return B||(this._isDev?B=new i(this._logService,a,v,this._overallAverage()|0||L*1.5,L,O):(this._logService.debug(`[DEBOUNCE: ${a}] is disabled in developed mode`),B=new u(L*1.5)),this._data.set(F,B)),B}_overallAverage(){const v=new r.nM;for(const a of this._data.values())v.update(a.default());return v.value}};n=D([p(0,I.VZ),p(1,E.Y)],n),(0,c.z)(o,n,1)},71922:function(Pt,Ke,e){"use strict";e.d(Ke,{p:function(){return z}});var b=e(72065);const z=(0,b.yh)("ILanguageFeaturesService")},36357:function(Pt,Ke,e){"use strict";e.d(Ke,{i:function(){return z}});var b=e(72065);const z=(0,b.yh)("markerDecorationsService")},73733:function(Pt,Ke,e){"use strict";e.d(Ke,{q:function(){return z}});var b=e(72065);const z=(0,b.yh)("modelService")},88216:function(Pt,Ke,e){"use strict";e.d(Ke,{S:function(){return z}});var b=e(72065);const z=(0,b.yh)("textModelService")},68997:function(Pt,Ke,e){"use strict";e.d(Ke,{$:function(){return u},h:function(){return i}});var b=e(45797),z=e(97781),r=e(43557),E=e(50187),c=e(24314),_=e(23795);class I{static create(a,S){return new I(a,new M(S))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(a,S){this._startLineNumber=a,this._tokens=S,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(a){return this._startLineNumber<=a&&a<=this._endLineNumber?this._tokens.getLineTokens(a-this._startLineNumber):null}getRange(){const a=this._tokens.getRange();return a&&new c.e(this._startLineNumber+a.startLineNumber,a.startColumn,this._startLineNumber+a.endLineNumber,a.endColumn)}removeTokens(a){const S=a.startLineNumber-this._startLineNumber,g=a.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(S,a.startColumn-1,g,a.endColumn-1),this._updateEndLineNumber()}split(a){const S=a.startLineNumber-this._startLineNumber,g=a.endLineNumber-this._startLineNumber,[y,C,L]=this._tokens.split(S,a.startColumn-1,g,a.endColumn-1);return[new I(this._startLineNumber,y),new I(this._startLineNumber+L,C)]}applyEdit(a,S){const[g,y,C]=(0,_.Q)(S);this.acceptEdit(a,g,y,C,S.length>0?S.charCodeAt(0):0)}acceptEdit(a,S,g,y,C){this._acceptDeleteRange(a),this._acceptInsertText(new E.L(a.startLineNumber,a.startColumn),S,g,y,C),this._updateEndLineNumber()}_acceptDeleteRange(a){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return;const S=a.startLineNumber-this._startLineNumber,g=a.endLineNumber-this._startLineNumber;if(g<0){const C=g-S;this._startLineNumber-=C;return}const y=this._tokens.getMaxDeltaLine();if(!(S>=y+1)){if(S<0&&g>=y+1){this._startLineNumber=0,this._tokens.clear();return}if(S<0){const C=-S;this._startLineNumber-=C,this._tokens.acceptDeleteRange(a.startColumn-1,0,0,g,a.endColumn-1)}else this._tokens.acceptDeleteRange(0,S,a.startColumn-1,g,a.endColumn-1)}}_acceptInsertText(a,S,g,y,C){if(S===0&&g===0)return;const L=a.lineNumber-this._startLineNumber;if(L<0){this._startLineNumber+=S;return}const O=this._tokens.getMaxDeltaLine();L>=O+1||this._tokens.acceptInsertText(L,a.column-1,S,g,y,C)}}class M{constructor(a){this._tokens=a,this._tokenCount=a.length/4}toString(a){const S=[];for(let g=0;g<this._tokenCount;g++)S.push(`(${this._getDeltaLine(g)+a},${this._getStartCharacter(g)}-${this._getEndCharacter(g)})`);return`[${S.join(",")}]`}getMaxDeltaLine(){const a=this._getTokenCount();return a===0?-1:this._getDeltaLine(a-1)}getRange(){const a=this._getTokenCount();if(a===0)return null;const S=this._getStartCharacter(0),g=this._getDeltaLine(a-1),y=this._getEndCharacter(a-1);return new c.e(0,S+1,g,y+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(a){return this._tokens[4*a]}_getStartCharacter(a){return this._tokens[4*a+1]}_getEndCharacter(a){return this._tokens[4*a+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(a){let S=0,g=this._getTokenCount()-1;for(;S<g;){const y=S+Math.floor((g-S)/2),C=this._getDeltaLine(y);if(C<a)S=y+1;else if(C>a)g=y-1;else{let L=y;for(;L>S&&this._getDeltaLine(L-1)===a;)L--;let O=y;for(;O<g&&this._getDeltaLine(O+1)===a;)O++;return new D(this._tokens.subarray(4*L,4*O+4))}}return this._getDeltaLine(S)===a?new D(this._tokens.subarray(4*S,4*S+4)):null}clear(){this._tokenCount=0}removeTokens(a,S,g,y){const C=this._tokens,L=this._tokenCount;let O=0,T=!1,F=0;for(let B=0;B<L;B++){const $=4*B,Y=C[$],P=C[$+1],w=C[$+2],V=C[$+3];if((Y>a||Y===a&&w>=S)&&(Y<g||Y===g&&P<=y))T=!0;else{if(O===0&&(F=Y),T){const R=4*O;C[R]=Y-F,C[R+1]=P,C[R+2]=w,C[R+3]=V}O++}}return this._tokenCount=O,F}split(a,S,g,y){const C=this._tokens,L=this._tokenCount,O=[],T=[];let F=O,B=0,$=0;for(let Y=0;Y<L;Y++){const P=4*Y,w=C[P],V=C[P+1],R=C[P+2],A=C[P+3];if(w>a||w===a&&R>=S){if(w<g||w===g&&V<=y)continue;F!==T&&(F=T,B=0,$=w)}F[B++]=w-$,F[B++]=V,F[B++]=R,F[B++]=A}return[new M(new Uint32Array(O)),new M(new Uint32Array(T)),$]}acceptDeleteRange(a,S,g,y,C){const L=this._tokens,O=this._tokenCount,T=y-S;let F=0,B=!1;for(let $=0;$<O;$++){const Y=4*$;let P=L[Y],w=L[Y+1],V=L[Y+2];const R=L[Y+3];if(P<S||P===S&&V<=g){F++;continue}else if(P===S&&w<g)P===y&&V>C?V-=C-g:V=g;else if(P===S&&w===g)if(P===y&&V>C)V-=C-g;else{B=!0;continue}else if(P<y||P===y&&w<C)if(P===y&&V>C)P=S,w=g,V=w+(V-C);else{B=!0;continue}else if(P>y){if(T===0&&!B){F=O;break}P-=T}else if(P===y&&w>=C)a&&P===0&&(w+=a,V+=a),P-=T,w-=C-g,V-=C-g;else throw new Error("Not possible!");const A=4*F;L[A]=P,L[A+1]=w,L[A+2]=V,L[A+3]=R,F++}this._tokenCount=F}acceptInsertText(a,S,g,y,C,L){const O=g===0&&y===1&&(L>=48&&L<=57||L>=65&&L<=90||L>=97&&L<=122),T=this._tokens,F=this._tokenCount;for(let B=0;B<F;B++){const $=4*B;let Y=T[$],P=T[$+1],w=T[$+2];if(!(Y<a||Y===a&&w<S)){if(Y===a&&w===S)if(O)w+=1;else continue;else if(Y===a&&P<S&&S<w)g===0?w+=y:w=S;else{if(Y===a&&P===S&&O)continue;if(Y===a)if(Y+=g,g===0)P+=y,w+=y;else{const V=w-P;P=C+(P-S),w=P+V}else Y+=g}T[$]=Y,T[$+1]=P,T[$+2]=w}}}}class D{constructor(a){this._tokens=a}getCount(){return this._tokens.length/4}getStartCharacter(a){return this._tokens[4*a+1]}getEndCharacter(a){return this._tokens[4*a+2]}getMetadata(a){return this._tokens[4*a+3]}}var p=e(72042),o=function(v,a,S,g){var y=arguments.length,C=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,S):g,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(v,a,S,g);else for(var O=v.length-1;O>=0;O--)(L=v[O])&&(C=(y<3?L(C):y>3?L(a,S,C):L(a,S))||C);return y>3&&C&&Object.defineProperty(a,S,C),C},d=function(v,a){return function(S,g){a(S,g,v)}};let u=class{constructor(a,S,g,y){this._legend=a,this._themeService=S,this._languageService=g,this._logService=y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new f}getMetadata(a,S,g){const y=this._languageService.languageIdCodec.encodeLanguageId(g),C=this._hashTable.get(a,S,y);let L;if(C)L=C.metadata,this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${a} / ${S}: foreground ${b.N.getForeground(L)}, fontStyle ${b.N.getFontStyle(L).toString(2)}`);else{let O=this._legend.tokenTypes[a];const T=[];if(O){let F=S;for(let $=0;F>0&&$<this._legend.tokenModifiers.length;$++)F&1&&T.push(this._legend.tokenModifiers[$]),F=F>>1;F>0&&this._logService.getLevel()===r.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${S.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),T.push("not-in-legend"));const B=this._themeService.getColorTheme().getTokenStyleMetadata(O,T,g);if(typeof B=="undefined")L=2147483647;else{if(L=0,typeof B.italic!="undefined"){const $=(B.italic?1:0)<<11;L|=$|1}if(typeof B.bold!="undefined"){const $=(B.bold?2:0)<<11;L|=$|2}if(typeof B.underline!="undefined"){const $=(B.underline?4:0)<<11;L|=$|4}if(typeof B.strikethrough!="undefined"){const $=(B.strikethrough?8:0)<<11;L|=$|8}if(B.foreground){const $=B.foreground<<15;L|=$|16}L===0&&(L=2147483647)}}else this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${a} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),L=2147483647,O="not-in-legend";this._hashTable.add(a,S,y,L),this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${a} (${O}) / ${S} (${T.join(" ")}): foreground ${b.N.getForeground(L)}, fontStyle ${b.N.getFontStyle(L).toString(2)}`)}return L}warnOverlappingSemanticTokens(a,S){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${a}, column ${S}`))}warnInvalidLengthSemanticTokens(a,S){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${a}, column ${S}`))}warnInvalidEditStart(a,S,g,y,C){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${a}, resultId: ${S}) at edit #${g}: The provided start offset ${y} is outside the previous data (length ${C}).`))}};u=o([d(1,z.XE),d(2,p.O),d(3,r.VZ)],u);function i(v,a,S){const g=v.data,y=v.data.length/5|0,C=Math.max(Math.ceil(y/1024),400),L=[];let O=0,T=1,F=0;for(;O<y;){const B=O;let $=Math.min(B+C,y);if($<y){let H=$;for(;H-1>B&&g[5*H]===0;)H--;if(H-1===B){let U=$;for(;U+1<y&&g[5*U]===0;)U++;$=U}else $=H}let Y=new Uint32Array(($-B)*4),P=0,w=0,V=0,R=0;for(;O<$;){const H=5*O,U=g[H],G=g[H+1],j=T+U|0,W=U===0?F+G|0:G,K=g[H+2],m=W+K|0,J=g[H+3],X=g[H+4];if(m<=W)a.warnInvalidLengthSemanticTokens(j,W+1);else if(V===j&&R>W)a.warnOverlappingSemanticTokens(j,W+1);else{const ie=a.getMetadata(J,X,S);ie!==2147483647&&(w===0&&(w=j),Y[P]=j-w,Y[P+1]=W,Y[P+2]=m,Y[P+3]=ie,P+=4,V=j,R=m)}T=j,F=W,O++}P!==Y.length&&(Y=Y.subarray(0,P));const A=I.create(w,Y);L.push(A)}return L}class n{constructor(a,S,g,y){this.tokenTypeIndex=a,this.tokenModifierSet=S,this.languageId=g,this.metadata=y,this.next=null}}class f{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=f._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<f._SIZES.length?2/3*this._currentLength:0),this._elements=[],f._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(a,S){for(let g=0;g<S;g++)a[g]=null}_hash2(a,S){return(a<<5)-a+S|0}_hashFunc(a,S,g){return this._hash2(this._hash2(a,S),g)%this._currentLength}get(a,S,g){const y=this._hashFunc(a,S,g);let C=this._elements[y];for(;C;){if(C.tokenTypeIndex===a&&C.tokenModifierSet===S&&C.languageId===g)return C;C=C.next}return null}add(a,S,g,y){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const C=this._elements;this._currentLengthIndex++,this._currentLength=f._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<f._SIZES.length?2/3*this._currentLength:0),this._elements=[],f._nullOutEntries(this._elements,this._currentLength);for(const L of C){let O=L;for(;O;){const T=O.next;O.next=null,this._add(O),O=T}}}this._add(new n(a,S,g,y))}_add(a){const S=this._hashFunc(a.tokenTypeIndex,a.tokenModifierSet,a.languageId);a.next=this._elements[S],this._elements[S]=a}}f._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},73343:function(Pt,Ke,e){"use strict";e.d(Ke,{s:function(){return z}});var b=e(72065);const z=(0,b.yh)("semanticTokensStylingService")},71765:function(Pt,Ke,e){"use strict";e.d(Ke,{V:function(){return z},y:function(){return r}});var b=e(72065);const z=(0,b.yh)("textResourceConfigurationService"),r=(0,b.yh)("textResourcePropertiesService")},31446:function(Pt,Ke,e){"use strict";e.d(Ke,{a:function(){return _}});var b=e(24314),z=e(77277),r=e(97295),E=e(35146),c=e(270);class _{static computeUnicodeHighlights(o,d,u){const i=u?u.startLineNumber:1,n=u?u.endLineNumber:o.getLineCount(),f=new M(d),v=f.getCandidateCodePoints();let a;v==="allNonBasicAscii"?a=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):a=new RegExp(`${I(Array.from(v))}`,"g");const S=new z.sz(null,a),g=[];let y=!1,C,L=0,O=0,T=0;e:for(let F=i,B=n;F<=B;F++){const $=o.getLineContent(F),Y=$.length;S.reset(0);do if(C=S.next($),C){let P=C.index,w=C.index+C[0].length;if(P>0){const H=$.charCodeAt(P-1);r.ZG(H)&&P--}if(w+1<Y){const H=$.charCodeAt(w-1);r.ZG(H)&&w++}const V=$.substring(P,w);let R=(0,c.t2)(P+1,c.Af,$,0);R&&R.endColumn<=P+1&&(R=null);const A=f.shouldHighlightNonBasicASCII(V,R?R.word:null);if(A!==0){A===3?L++:A===2?O++:A===1?T++:(0,E.vE)(A);const H=1e3;if(g.length>=H){y=!0;break e}g.push(new b.e(F,P+1,F,w+1))}}while(C)}return{ranges:g,hasMore:y,ambiguousCharacterCount:L,invisibleCharacterCount:O,nonBasicAsciiCharacterCount:T}}static computeUnicodeHighlightReason(o,d){const u=new M(d);switch(u.shouldHighlightNonBasicASCII(o,null)){case 0:return null;case 2:return{kind:1};case 3:{const n=o.codePointAt(0),f=u.ambiguousCharacters.getPrimaryConfusable(n),v=r.ZK.getLocales().filter(a=>!r.ZK.getInstance(new Set([...d.allowedLocales,a])).isAmbiguous(n));return{kind:0,confusableWith:String.fromCodePoint(f),notAmbiguousInLocales:v}}case 1:return{kind:2}}}}function I(p,o){return`[${r.ec(p.map(u=>String.fromCodePoint(u)).join(""))}]`}class M{constructor(o){this.options=o,this.allowedCodePoints=new Set(o.allowedCodePoints),this.ambiguousCharacters=r.ZK.getInstance(new Set(o.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const o=new Set;if(this.options.invisibleCharacters)for(const d of r.vU.codePoints)D(String.fromCodePoint(d))||o.add(d);if(this.options.ambiguousCharacters)for(const d of this.ambiguousCharacters.getConfusableCodePoints())o.add(d);for(const d of this.allowedCodePoints)o.delete(d);return o}shouldHighlightNonBasicASCII(o,d){const u=o.codePointAt(0);if(this.allowedCodePoints.has(u))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,n=!1;if(d)for(const f of d){const v=f.codePointAt(0),a=r.$i(f);i=i||a,!a&&!this.ambiguousCharacters.isAmbiguous(v)&&!r.vU.isInvisibleCharacter(v)&&(n=!0)}return!i&&n?0:this.options.invisibleCharacters&&!D(o)&&r.vU.isInvisibleCharacter(u)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(u)?3:0}}function D(p){return p===" "||p===`
`||p==="	"}},20913:function(Pt,Ke,e){"use strict";e.d(Ke,{B8:function(){return I},UX:function(){return c},aq:function(){return _},iN:function(){return D},ld:function(){return E},qq:function(){return r},ug:function(){return z},xi:function(){return M}});var b=e(63580),z;(function(p){p.inspectTokensAction=b.NC("inspectTokens","Developer: Inspect Tokens")})(z||(z={}));var r;(function(p){p.gotoLineActionLabel=b.NC("gotoLineActionLabel","Go to Line/Column...")})(r||(r={}));var E;(function(p){p.helpQuickAccessActionLabel=b.NC("helpQuickAccess","Show all Quick Access Providers")})(E||(E={}));var c;(function(p){p.quickCommandActionLabel=b.NC("quickCommandActionLabel","Command Palette"),p.quickCommandHelp=b.NC("quickCommandActionHelp","Show And Run Commands")})(c||(c={}));var _;(function(p){p.quickOutlineActionLabel=b.NC("quickOutlineActionLabel","Go to Symbol..."),p.quickOutlineByCategoryActionLabel=b.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(_||(_={}));var I;(function(p){p.editorViewAccessibleLabel=b.NC("editorViewAccessibleLabel","Editor content"),p.accessibilityHelpMessage=b.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(I||(I={}));var M;(function(p){p.toggleHighContrast=b.NC("toggleHighContrast","Toggle High Contrast Theme")})(M||(M={}));var D;(function(p){p.bulkEditServiceSummary=b.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(D||(D={}))},70902:function(Pt,Ke,e){"use strict";e.d(Ke,{E$:function(){return T},F5:function(){return L},Ij:function(){return _},In:function(){return G},JO:function(){return R},Lu:function(){return $},MG:function(){return O},MY:function(){return p},OI:function(){return W},RM:function(){return v},U:function(){return n},VD:function(){return g},Vi:function(){return M},WW:function(){return A},ZL:function(){return y},_x:function(){return D},a$:function(){return V},a7:function(){return r},ao:function(){return b},bw:function(){return S},cR:function(){return H},cm:function(){return E},d2:function(){return j},eB:function(){return C},g4:function(){return P},g_:function(){return w},gl:function(){return a},gm:function(){return u},jl:function(){return i},np:function(){return z},py:function(){return B},r3:function(){return I},r4:function(){return U},rf:function(){return o},sh:function(){return F},up:function(){return K},vQ:function(){return Y},wT:function(){return d},wU:function(){return f},we:function(){return c}});var b;(function(m){m[m.Unknown=0]="Unknown",m[m.Disabled=1]="Disabled",m[m.Enabled=2]="Enabled"})(b||(b={}));var z;(function(m){m[m.Invoke=1]="Invoke",m[m.Auto=2]="Auto"})(z||(z={}));var r;(function(m){m[m.None=0]="None",m[m.KeepWhitespace=1]="KeepWhitespace",m[m.InsertAsSnippet=4]="InsertAsSnippet"})(r||(r={}));var E;(function(m){m[m.Method=0]="Method",m[m.Function=1]="Function",m[m.Constructor=2]="Constructor",m[m.Field=3]="Field",m[m.Variable=4]="Variable",m[m.Class=5]="Class",m[m.Struct=6]="Struct",m[m.Interface=7]="Interface",m[m.Module=8]="Module",m[m.Property=9]="Property",m[m.Event=10]="Event",m[m.Operator=11]="Operator",m[m.Unit=12]="Unit",m[m.Value=13]="Value",m[m.Constant=14]="Constant",m[m.Enum=15]="Enum",m[m.EnumMember=16]="EnumMember",m[m.Keyword=17]="Keyword",m[m.Text=18]="Text",m[m.Color=19]="Color",m[m.File=20]="File",m[m.Reference=21]="Reference",m[m.Customcolor=22]="Customcolor",m[m.Folder=23]="Folder",m[m.TypeParameter=24]="TypeParameter",m[m.User=25]="User",m[m.Issue=26]="Issue",m[m.Snippet=27]="Snippet"})(E||(E={}));var c;(function(m){m[m.Deprecated=1]="Deprecated"})(c||(c={}));var _;(function(m){m[m.Invoke=0]="Invoke",m[m.TriggerCharacter=1]="TriggerCharacter",m[m.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(_||(_={}));var I;(function(m){m[m.EXACT=0]="EXACT",m[m.ABOVE=1]="ABOVE",m[m.BELOW=2]="BELOW"})(I||(I={}));var M;(function(m){m[m.NotSet=0]="NotSet",m[m.ContentFlush=1]="ContentFlush",m[m.RecoverFromMarkers=2]="RecoverFromMarkers",m[m.Explicit=3]="Explicit",m[m.Paste=4]="Paste",m[m.Undo=5]="Undo",m[m.Redo=6]="Redo"})(M||(M={}));var D;(function(m){m[m.LF=1]="LF",m[m.CRLF=2]="CRLF"})(D||(D={}));var p;(function(m){m[m.Text=0]="Text",m[m.Read=1]="Read",m[m.Write=2]="Write"})(p||(p={}));var o;(function(m){m[m.None=0]="None",m[m.Keep=1]="Keep",m[m.Brackets=2]="Brackets",m[m.Advanced=3]="Advanced",m[m.Full=4]="Full"})(o||(o={}));var d;(function(m){m[m.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",m[m.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",m[m.accessibilitySupport=2]="accessibilitySupport",m[m.accessibilityPageSize=3]="accessibilityPageSize",m[m.ariaLabel=4]="ariaLabel",m[m.ariaRequired=5]="ariaRequired",m[m.autoClosingBrackets=6]="autoClosingBrackets",m[m.autoClosingComments=7]="autoClosingComments",m[m.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",m[m.autoClosingDelete=9]="autoClosingDelete",m[m.autoClosingOvertype=10]="autoClosingOvertype",m[m.autoClosingQuotes=11]="autoClosingQuotes",m[m.autoIndent=12]="autoIndent",m[m.automaticLayout=13]="automaticLayout",m[m.autoSurround=14]="autoSurround",m[m.bracketPairColorization=15]="bracketPairColorization",m[m.guides=16]="guides",m[m.codeLens=17]="codeLens",m[m.codeLensFontFamily=18]="codeLensFontFamily",m[m.codeLensFontSize=19]="codeLensFontSize",m[m.colorDecorators=20]="colorDecorators",m[m.colorDecoratorsLimit=21]="colorDecoratorsLimit",m[m.columnSelection=22]="columnSelection",m[m.comments=23]="comments",m[m.contextmenu=24]="contextmenu",m[m.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",m[m.cursorBlinking=26]="cursorBlinking",m[m.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",m[m.cursorStyle=28]="cursorStyle",m[m.cursorSurroundingLines=29]="cursorSurroundingLines",m[m.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",m[m.cursorWidth=31]="cursorWidth",m[m.disableLayerHinting=32]="disableLayerHinting",m[m.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",m[m.domReadOnly=34]="domReadOnly",m[m.dragAndDrop=35]="dragAndDrop",m[m.dropIntoEditor=36]="dropIntoEditor",m[m.emptySelectionClipboard=37]="emptySelectionClipboard",m[m.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",m[m.extraEditorClassName=39]="extraEditorClassName",m[m.fastScrollSensitivity=40]="fastScrollSensitivity",m[m.find=41]="find",m[m.fixedOverflowWidgets=42]="fixedOverflowWidgets",m[m.folding=43]="folding",m[m.foldingStrategy=44]="foldingStrategy",m[m.foldingHighlight=45]="foldingHighlight",m[m.foldingImportsByDefault=46]="foldingImportsByDefault",m[m.foldingMaximumRegions=47]="foldingMaximumRegions",m[m.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",m[m.fontFamily=49]="fontFamily",m[m.fontInfo=50]="fontInfo",m[m.fontLigatures=51]="fontLigatures",m[m.fontSize=52]="fontSize",m[m.fontWeight=53]="fontWeight",m[m.fontVariations=54]="fontVariations",m[m.formatOnPaste=55]="formatOnPaste",m[m.formatOnType=56]="formatOnType",m[m.glyphMargin=57]="glyphMargin",m[m.gotoLocation=58]="gotoLocation",m[m.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",m[m.hover=60]="hover",m[m.inDiffEditor=61]="inDiffEditor",m[m.inlineSuggest=62]="inlineSuggest",m[m.letterSpacing=63]="letterSpacing",m[m.lightbulb=64]="lightbulb",m[m.lineDecorationsWidth=65]="lineDecorationsWidth",m[m.lineHeight=66]="lineHeight",m[m.lineNumbers=67]="lineNumbers",m[m.lineNumbersMinChars=68]="lineNumbersMinChars",m[m.linkedEditing=69]="linkedEditing",m[m.links=70]="links",m[m.matchBrackets=71]="matchBrackets",m[m.minimap=72]="minimap",m[m.mouseStyle=73]="mouseStyle",m[m.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",m[m.mouseWheelZoom=75]="mouseWheelZoom",m[m.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",m[m.multiCursorModifier=77]="multiCursorModifier",m[m.multiCursorPaste=78]="multiCursorPaste",m[m.multiCursorLimit=79]="multiCursorLimit",m[m.occurrencesHighlight=80]="occurrencesHighlight",m[m.overviewRulerBorder=81]="overviewRulerBorder",m[m.overviewRulerLanes=82]="overviewRulerLanes",m[m.padding=83]="padding",m[m.pasteAs=84]="pasteAs",m[m.parameterHints=85]="parameterHints",m[m.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",m[m.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",m[m.quickSuggestions=88]="quickSuggestions",m[m.quickSuggestionsDelay=89]="quickSuggestionsDelay",m[m.readOnly=90]="readOnly",m[m.readOnlyMessage=91]="readOnlyMessage",m[m.renameOnType=92]="renameOnType",m[m.renderControlCharacters=93]="renderControlCharacters",m[m.renderFinalNewline=94]="renderFinalNewline",m[m.renderLineHighlight=95]="renderLineHighlight",m[m.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",m[m.renderValidationDecorations=97]="renderValidationDecorations",m[m.renderWhitespace=98]="renderWhitespace",m[m.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",m[m.roundedSelection=100]="roundedSelection",m[m.rulers=101]="rulers",m[m.scrollbar=102]="scrollbar",m[m.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",m[m.scrollBeyondLastLine=104]="scrollBeyondLastLine",m[m.scrollPredominantAxis=105]="scrollPredominantAxis",m[m.selectionClipboard=106]="selectionClipboard",m[m.selectionHighlight=107]="selectionHighlight",m[m.selectOnLineNumbers=108]="selectOnLineNumbers",m[m.showFoldingControls=109]="showFoldingControls",m[m.showUnused=110]="showUnused",m[m.snippetSuggestions=111]="snippetSuggestions",m[m.smartSelect=112]="smartSelect",m[m.smoothScrolling=113]="smoothScrolling",m[m.stickyScroll=114]="stickyScroll",m[m.stickyTabStops=115]="stickyTabStops",m[m.stopRenderingLineAfter=116]="stopRenderingLineAfter",m[m.suggest=117]="suggest",m[m.suggestFontSize=118]="suggestFontSize",m[m.suggestLineHeight=119]="suggestLineHeight",m[m.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",m[m.suggestSelection=121]="suggestSelection",m[m.tabCompletion=122]="tabCompletion",m[m.tabIndex=123]="tabIndex",m[m.unicodeHighlighting=124]="unicodeHighlighting",m[m.unusualLineTerminators=125]="unusualLineTerminators",m[m.useShadowDOM=126]="useShadowDOM",m[m.useTabStops=127]="useTabStops",m[m.wordBreak=128]="wordBreak",m[m.wordSeparators=129]="wordSeparators",m[m.wordWrap=130]="wordWrap",m[m.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",m[m.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",m[m.wordWrapColumn=133]="wordWrapColumn",m[m.wordWrapOverride1=134]="wordWrapOverride1",m[m.wordWrapOverride2=135]="wordWrapOverride2",m[m.wrappingIndent=136]="wrappingIndent",m[m.wrappingStrategy=137]="wrappingStrategy",m[m.showDeprecated=138]="showDeprecated",m[m.inlayHints=139]="inlayHints",m[m.editorClassName=140]="editorClassName",m[m.pixelRatio=141]="pixelRatio",m[m.tabFocusMode=142]="tabFocusMode",m[m.layoutInfo=143]="layoutInfo",m[m.wrappingInfo=144]="wrappingInfo",m[m.defaultColorDecorators=145]="defaultColorDecorators",m[m.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",m[m.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(d||(d={}));var u;(function(m){m[m.TextDefined=0]="TextDefined",m[m.LF=1]="LF",m[m.CRLF=2]="CRLF"})(u||(u={}));var i;(function(m){m[m.LF=0]="LF",m[m.CRLF=1]="CRLF"})(i||(i={}));var n;(function(m){m[m.Left=1]="Left",m[m.Right=2]="Right"})(n||(n={}));var f;(function(m){m[m.None=0]="None",m[m.Indent=1]="Indent",m[m.IndentOutdent=2]="IndentOutdent",m[m.Outdent=3]="Outdent"})(f||(f={}));var v;(function(m){m[m.Both=0]="Both",m[m.Right=1]="Right",m[m.Left=2]="Left",m[m.None=3]="None"})(v||(v={}));var a;(function(m){m[m.Type=1]="Type",m[m.Parameter=2]="Parameter"})(a||(a={}));var S;(function(m){m[m.Automatic=0]="Automatic",m[m.Explicit=1]="Explicit"})(S||(S={}));var g;(function(m){m[m.DependsOnKbLayout=-1]="DependsOnKbLayout",m[m.Unknown=0]="Unknown",m[m.Backspace=1]="Backspace",m[m.Tab=2]="Tab",m[m.Enter=3]="Enter",m[m.Shift=4]="Shift",m[m.Ctrl=5]="Ctrl",m[m.Alt=6]="Alt",m[m.PauseBreak=7]="PauseBreak",m[m.CapsLock=8]="CapsLock",m[m.Escape=9]="Escape",m[m.Space=10]="Space",m[m.PageUp=11]="PageUp",m[m.PageDown=12]="PageDown",m[m.End=13]="End",m[m.Home=14]="Home",m[m.LeftArrow=15]="LeftArrow",m[m.UpArrow=16]="UpArrow",m[m.RightArrow=17]="RightArrow",m[m.DownArrow=18]="DownArrow",m[m.Insert=19]="Insert",m[m.Delete=20]="Delete",m[m.Digit0=21]="Digit0",m[m.Digit1=22]="Digit1",m[m.Digit2=23]="Digit2",m[m.Digit3=24]="Digit3",m[m.Digit4=25]="Digit4",m[m.Digit5=26]="Digit5",m[m.Digit6=27]="Digit6",m[m.Digit7=28]="Digit7",m[m.Digit8=29]="Digit8",m[m.Digit9=30]="Digit9",m[m.KeyA=31]="KeyA",m[m.KeyB=32]="KeyB",m[m.KeyC=33]="KeyC",m[m.KeyD=34]="KeyD",m[m.KeyE=35]="KeyE",m[m.KeyF=36]="KeyF",m[m.KeyG=37]="KeyG",m[m.KeyH=38]="KeyH",m[m.KeyI=39]="KeyI",m[m.KeyJ=40]="KeyJ",m[m.KeyK=41]="KeyK",m[m.KeyL=42]="KeyL",m[m.KeyM=43]="KeyM",m[m.KeyN=44]="KeyN",m[m.KeyO=45]="KeyO",m[m.KeyP=46]="KeyP",m[m.KeyQ=47]="KeyQ",m[m.KeyR=48]="KeyR",m[m.KeyS=49]="KeyS",m[m.KeyT=50]="KeyT",m[m.KeyU=51]="KeyU",m[m.KeyV=52]="KeyV",m[m.KeyW=53]="KeyW",m[m.KeyX=54]="KeyX",m[m.KeyY=55]="KeyY",m[m.KeyZ=56]="KeyZ",m[m.Meta=57]="Meta",m[m.ContextMenu=58]="ContextMenu",m[m.F1=59]="F1",m[m.F2=60]="F2",m[m.F3=61]="F3",m[m.F4=62]="F4",m[m.F5=63]="F5",m[m.F6=64]="F6",m[m.F7=65]="F7",m[m.F8=66]="F8",m[m.F9=67]="F9",m[m.F10=68]="F10",m[m.F11=69]="F11",m[m.F12=70]="F12",m[m.F13=71]="F13",m[m.F14=72]="F14",m[m.F15=73]="F15",m[m.F16=74]="F16",m[m.F17=75]="F17",m[m.F18=76]="F18",m[m.F19=77]="F19",m[m.F20=78]="F20",m[m.F21=79]="F21",m[m.F22=80]="F22",m[m.F23=81]="F23",m[m.F24=82]="F24",m[m.NumLock=83]="NumLock",m[m.ScrollLock=84]="ScrollLock",m[m.Semicolon=85]="Semicolon",m[m.Equal=86]="Equal",m[m.Comma=87]="Comma",m[m.Minus=88]="Minus",m[m.Period=89]="Period",m[m.Slash=90]="Slash",m[m.Backquote=91]="Backquote",m[m.BracketLeft=92]="BracketLeft",m[m.Backslash=93]="Backslash",m[m.BracketRight=94]="BracketRight",m[m.Quote=95]="Quote",m[m.OEM_8=96]="OEM_8",m[m.IntlBackslash=97]="IntlBackslash",m[m.Numpad0=98]="Numpad0",m[m.Numpad1=99]="Numpad1",m[m.Numpad2=100]="Numpad2",m[m.Numpad3=101]="Numpad3",m[m.Numpad4=102]="Numpad4",m[m.Numpad5=103]="Numpad5",m[m.Numpad6=104]="Numpad6",m[m.Numpad7=105]="Numpad7",m[m.Numpad8=106]="Numpad8",m[m.Numpad9=107]="Numpad9",m[m.NumpadMultiply=108]="NumpadMultiply",m[m.NumpadAdd=109]="NumpadAdd",m[m.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",m[m.NumpadSubtract=111]="NumpadSubtract",m[m.NumpadDecimal=112]="NumpadDecimal",m[m.NumpadDivide=113]="NumpadDivide",m[m.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",m[m.ABNT_C1=115]="ABNT_C1",m[m.ABNT_C2=116]="ABNT_C2",m[m.AudioVolumeMute=117]="AudioVolumeMute",m[m.AudioVolumeUp=118]="AudioVolumeUp",m[m.AudioVolumeDown=119]="AudioVolumeDown",m[m.BrowserSearch=120]="BrowserSearch",m[m.BrowserHome=121]="BrowserHome",m[m.BrowserBack=122]="BrowserBack",m[m.BrowserForward=123]="BrowserForward",m[m.MediaTrackNext=124]="MediaTrackNext",m[m.MediaTrackPrevious=125]="MediaTrackPrevious",m[m.MediaStop=126]="MediaStop",m[m.MediaPlayPause=127]="MediaPlayPause",m[m.LaunchMediaPlayer=128]="LaunchMediaPlayer",m[m.LaunchMail=129]="LaunchMail",m[m.LaunchApp2=130]="LaunchApp2",m[m.Clear=131]="Clear",m[m.MAX_VALUE=132]="MAX_VALUE"})(g||(g={}));var y;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(y||(y={}));var C;(function(m){m[m.Unnecessary=1]="Unnecessary",m[m.Deprecated=2]="Deprecated"})(C||(C={}));var L;(function(m){m[m.Inline=1]="Inline",m[m.Gutter=2]="Gutter"})(L||(L={}));var O;(function(m){m[m.UNKNOWN=0]="UNKNOWN",m[m.TEXTAREA=1]="TEXTAREA",m[m.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",m[m.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",m[m.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",m[m.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",m[m.CONTENT_TEXT=6]="CONTENT_TEXT",m[m.CONTENT_EMPTY=7]="CONTENT_EMPTY",m[m.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",m[m.CONTENT_WIDGET=9]="CONTENT_WIDGET",m[m.OVERVIEW_RULER=10]="OVERVIEW_RULER",m[m.SCROLLBAR=11]="SCROLLBAR",m[m.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",m[m.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(O||(O={}));var T;(function(m){m[m.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",m[m.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",m[m.TOP_CENTER=2]="TOP_CENTER"})(T||(T={}));var F;(function(m){m[m.Left=1]="Left",m[m.Center=2]="Center",m[m.Right=4]="Right",m[m.Full=7]="Full"})(F||(F={}));var B;(function(m){m[m.Left=0]="Left",m[m.Right=1]="Right",m[m.None=2]="None",m[m.LeftOfInjectedText=3]="LeftOfInjectedText",m[m.RightOfInjectedText=4]="RightOfInjectedText"})(B||(B={}));var $;(function(m){m[m.Off=0]="Off",m[m.On=1]="On",m[m.Relative=2]="Relative",m[m.Interval=3]="Interval",m[m.Custom=4]="Custom"})($||($={}));var Y;(function(m){m[m.None=0]="None",m[m.Text=1]="Text",m[m.Blocks=2]="Blocks"})(Y||(Y={}));var P;(function(m){m[m.Smooth=0]="Smooth",m[m.Immediate=1]="Immediate"})(P||(P={}));var w;(function(m){m[m.Auto=1]="Auto",m[m.Hidden=2]="Hidden",m[m.Visible=3]="Visible"})(w||(w={}));var V;(function(m){m[m.LTR=0]="LTR",m[m.RTL=1]="RTL"})(V||(V={}));var R;(function(m){m.Off="off",m.OnCode="onCode",m.On="on"})(R||(R={}));var A;(function(m){m[m.Invoke=1]="Invoke",m[m.TriggerCharacter=2]="TriggerCharacter",m[m.ContentChange=3]="ContentChange"})(A||(A={}));var H;(function(m){m[m.File=0]="File",m[m.Module=1]="Module",m[m.Namespace=2]="Namespace",m[m.Package=3]="Package",m[m.Class=4]="Class",m[m.Method=5]="Method",m[m.Property=6]="Property",m[m.Field=7]="Field",m[m.Constructor=8]="Constructor",m[m.Enum=9]="Enum",m[m.Interface=10]="Interface",m[m.Function=11]="Function",m[m.Variable=12]="Variable",m[m.Constant=13]="Constant",m[m.String=14]="String",m[m.Number=15]="Number",m[m.Boolean=16]="Boolean",m[m.Array=17]="Array",m[m.Object=18]="Object",m[m.Key=19]="Key",m[m.Null=20]="Null",m[m.EnumMember=21]="EnumMember",m[m.Struct=22]="Struct",m[m.Event=23]="Event",m[m.Operator=24]="Operator",m[m.TypeParameter=25]="TypeParameter"})(H||(H={}));var U;(function(m){m[m.Deprecated=1]="Deprecated"})(U||(U={}));var G;(function(m){m[m.Hidden=0]="Hidden",m[m.Blink=1]="Blink",m[m.Smooth=2]="Smooth",m[m.Phase=3]="Phase",m[m.Expand=4]="Expand",m[m.Solid=5]="Solid"})(G||(G={}));var j;(function(m){m[m.Line=1]="Line",m[m.Block=2]="Block",m[m.Underline=3]="Underline",m[m.LineThin=4]="LineThin",m[m.BlockOutline=5]="BlockOutline",m[m.UnderlineThin=6]="UnderlineThin"})(j||(j={}));var W;(function(m){m[m.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",m[m.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",m[m.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",m[m.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W||(W={}));var K;(function(m){m[m.None=0]="None",m[m.Same=1]="Same",m[m.Indent=2]="Indent",m[m.DeepIndent=3]="DeepIndent"})(K||(K={}))},14706:function(Pt,Ke,e){"use strict";e.d(Ke,{CZ:function(){return _},D8:function(){return M},Jx:function(){return b},Tx:function(){return c},dQ:function(){return I},fV:function(){return D},gk:function(){return z},lN:function(){return E},rU:function(){return r}});class b{constructor(){this.changeType=1}}class z{static applyInjectedText(o,d){if(!d||d.length===0)return o;let u="",i=0;for(const n of d)u+=o.substring(i,n.column-1),i=n.column-1,u+=n.options.content;return u+=o.substring(i),u}static fromDecorations(o){const d=[];for(const u of o)u.options.before&&u.options.before.content.length>0&&d.push(new z(u.ownerId,u.range.startLineNumber,u.range.startColumn,u.options.before,0)),u.options.after&&u.options.after.content.length>0&&d.push(new z(u.ownerId,u.range.endLineNumber,u.range.endColumn,u.options.after,1));return d.sort((u,i)=>u.lineNumber===i.lineNumber?u.column===i.column?u.order-i.order:u.column-i.column:u.lineNumber-i.lineNumber),d}constructor(o,d,u,i,n){this.ownerId=o,this.lineNumber=d,this.column=u,this.options=i,this.order=n}}class r{constructor(o,d,u){this.changeType=2,this.lineNumber=o,this.detail=d,this.injectedText=u}}class E{constructor(o,d){this.changeType=3,this.fromLineNumber=o,this.toLineNumber=d}}class c{constructor(o,d,u,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=o,this.toLineNumber=d,this.detail=u}}class _{constructor(){this.changeType=5}}class I{constructor(o,d,u,i){this.changes=o,this.versionId=d,this.isUndoing=u,this.isRedoing=i,this.resultingSelection=null}containsEvent(o){for(let d=0,u=this.changes.length;d<u;d++)if(this.changes[d].changeType===o)return!0;return!1}static merge(o,d){const u=[].concat(o.changes).concat(d.changes),i=d.versionId,n=o.isUndoing||d.isUndoing,f=o.isRedoing||d.isRedoing;return new I(u,i,n,f)}}class M{constructor(o){this.changes=o}}class D{constructor(o,d){this.rawContentChangedEvent=o,this.contentChangedEvent=d}merge(o){const d=I.merge(this.rawContentChangedEvent,o.rawContentChangedEvent),u=D._mergeChangeEvents(this.contentChangedEvent,o.contentChangedEvent);return new D(d,u)}static _mergeChangeEvents(o,d){const u=[].concat(o.changes).concat(d.changes),i=d.eol,n=d.versionId,f=o.isUndoing||d.isUndoing,v=o.isRedoing||d.isRedoing,a=o.isFlush||d.isFlush,S=o.isEolChange&&d.isEolChange;return{changes:u,eol:i,isEolChange:S,versionId:n,isUndoing:f,isRedoing:v,isFlush:a}}}},65094:function(Pt,Ke,e){"use strict";e.d(Ke,{UO:function(){return z},s6:function(){return b},vW:function(){return r}});var b;(function(E){E[E.Disabled=0]="Disabled",E[E.EnabledForActive=1]="EnabledForActive",E[E.Enabled=2]="Enabled"})(b||(b={}));class z{constructor(c,_,I,M,D,p){if(this.visibleColumn=c,this.column=_,this.className=I,this.horizontalLine=M,this.forWrappedLinesAfterColumn=D,this.forWrappedLinesBeforeOrAtColumn=p,c!==-1==(_!==-1))throw new Error}}class r{constructor(c,_){this.top=c,this.endColumn=_}}},77378:function(Pt,Ke,e){"use strict";e.d(Ke,{A:function(){return z}});var b=e(45797);class z{static createEmpty(c,_){const I=z.defaultTokenMetadata,M=new Uint32Array(2);return M[0]=c.length,M[1]=I,new z(M,c,_)}constructor(c,_,I){this._lineTokensBrand=void 0,this._tokens=c,this._tokensCount=this._tokens.length>>>1,this._text=_,this._languageIdCodec=I}equals(c){return c instanceof z?this.slicedEquals(c,0,this._tokensCount):!1}slicedEquals(c,_,I){if(this._text!==c._text||this._tokensCount!==c._tokensCount)return!1;const M=_<<1,D=M+(I<<1);for(let p=M;p<D;p++)if(this._tokens[p]!==c._tokens[p])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(c){return c>0?this._tokens[c-1<<1]:0}getMetadata(c){return this._tokens[(c<<1)+1]}getLanguageId(c){const _=this._tokens[(c<<1)+1],I=b.N.getLanguageId(_);return this._languageIdCodec.decodeLanguageId(I)}getStandardTokenType(c){const _=this._tokens[(c<<1)+1];return b.N.getTokenType(_)}getForeground(c){const _=this._tokens[(c<<1)+1];return b.N.getForeground(_)}getClassName(c){const _=this._tokens[(c<<1)+1];return b.N.getClassNameFromMetadata(_)}getInlineStyle(c,_){const I=this._tokens[(c<<1)+1];return b.N.getInlineStyleFromMetadata(I,_)}getPresentation(c){const _=this._tokens[(c<<1)+1];return b.N.getPresentationFromMetadata(_)}getEndOffset(c){return this._tokens[c<<1]}findTokenIndexAtOffset(c){return z.findIndexInTokensArray(this._tokens,c)}inflate(){return this}sliceAndInflate(c,_,I){return new r(this,c,_,I)}static convertToEndOffset(c,_){const M=(c.length>>>1)-1;for(let D=0;D<M;D++)c[D<<1]=c[D+1<<1];c[M<<1]=_}static findIndexInTokensArray(c,_){if(c.length<=2)return 0;let I=0,M=(c.length>>>1)-1;for(;I<M;){const D=I+Math.floor((M-I)/2),p=c[D<<1];if(p===_)return D+1;p<_?I=D+1:p>_&&(M=D)}return I}withInserted(c){if(c.length===0)return this;let _=0,I=0,M="";const D=new Array;let p=0;for(;;){const o=_<this._tokensCount?this._tokens[_<<1]:-1,d=I<c.length?c[I]:null;if(o!==-1&&(d===null||o<=d.offset)){M+=this._text.substring(p,o);const u=this._tokens[(_<<1)+1];D.push(M.length,u),_++,p=o}else if(d){if(d.offset>p){M+=this._text.substring(p,d.offset);const u=this._tokens[(_<<1)+1];D.push(M.length,u),p=d.offset}M+=d.text,D.push(M.length,d.tokenMetadata),I++}else break}return new z(new Uint32Array(D),M,this._languageIdCodec)}}z.defaultTokenMetadata=(32768|2<<24)>>>0;class r{constructor(c,_,I,M){this._source=c,this._startOffset=_,this._endOffset=I,this._deltaOffset=M,this._firstTokenIndex=c.findTokenIndexAtOffset(_),this._tokensCount=0;for(let D=this._firstTokenIndex,p=c.getCount();D<p&&!(c.getStartOffset(D)>=I);D++)this._tokensCount++}getMetadata(c){return this._source.getMetadata(this._firstTokenIndex+c)}getLanguageId(c){return this._source.getLanguageId(this._firstTokenIndex+c)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(c){return c instanceof r?this._startOffset===c._startOffset&&this._endOffset===c._endOffset&&this._deltaOffset===c._deltaOffset&&this._source.slicedEquals(c._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(c){return this._source.getForeground(this._firstTokenIndex+c)}getEndOffset(c){const _=this._source.getEndOffset(this._firstTokenIndex+c);return Math.min(this._endOffset,_)-this._startOffset+this._deltaOffset}getClassName(c){return this._source.getClassName(this._firstTokenIndex+c)}getInlineStyle(c,_){return this._source.getInlineStyle(this._firstTokenIndex+c,_)}getPresentation(c){return this._source.getPresentation(this._firstTokenIndex+c)}findTokenIndexAtOffset(c){return this._source.findTokenIndexAtOffset(c+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},92550:function(Pt,Ke,e){"use strict";e.d(Ke,{Kp:function(){return z},k:function(){return c}});var b=e(97295);class z{constructor(I,M,D,p){this.startColumn=I,this.endColumn=M,this.className=D,this.type=p,this._lineDecorationBrand=void 0}static _equals(I,M){return I.startColumn===M.startColumn&&I.endColumn===M.endColumn&&I.className===M.className&&I.type===M.type}static equalsArr(I,M){const D=I.length,p=M.length;if(D!==p)return!1;for(let o=0;o<D;o++)if(!z._equals(I[o],M[o]))return!1;return!0}static extractWrapped(I,M,D){if(I.length===0)return I;const p=M+1,o=D+1,d=D-M,u=[];let i=0;for(const n of I)n.endColumn<=p||n.startColumn>=o||(u[i++]=new z(Math.max(1,n.startColumn-p+1),Math.min(d+1,n.endColumn-p+1),n.className,n.type));return u}static filter(I,M,D,p){if(I.length===0)return[];const o=[];let d=0;for(let u=0,i=I.length;u<i;u++){const n=I[u],f=n.range;if(f.endLineNumber<M||f.startLineNumber>M||f.isEmpty()&&(n.type===0||n.type===3))continue;const v=f.startLineNumber===M?f.startColumn:D,a=f.endLineNumber===M?f.endColumn:p;o[d++]=new z(v,a,n.inlineClassName,n.type)}return o}static _typeCompare(I,M){const D=[2,0,1,3];return D[I]-D[M]}static compare(I,M){if(I.startColumn!==M.startColumn)return I.startColumn-M.startColumn;if(I.endColumn!==M.endColumn)return I.endColumn-M.endColumn;const D=z._typeCompare(I.type,M.type);return D!==0?D:I.className!==M.className?I.className<M.className?-1:1:0}}class r{constructor(I,M,D,p){this.startOffset=I,this.endOffset=M,this.className=D,this.metadata=p}}class E{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(I){let M=0;for(let D=0,p=I.length;D<p;D++)M|=I[D];return M}consumeLowerThan(I,M,D){for(;this.count>0&&this.stopOffsets[0]<I;){let p=0;for(;p+1<this.count&&this.stopOffsets[p]===this.stopOffsets[p+1];)p++;D.push(new r(M,this.stopOffsets[p],this.classNames.join(" "),E._metadata(this.metadata))),M=this.stopOffsets[p]+1,this.stopOffsets.splice(0,p+1),this.classNames.splice(0,p+1),this.metadata.splice(0,p+1),this.count-=p+1}return this.count>0&&M<I&&(D.push(new r(M,I-1,this.classNames.join(" "),E._metadata(this.metadata))),M=I),M}insert(I,M,D){if(this.count===0||this.stopOffsets[this.count-1]<=I)this.stopOffsets.push(I),this.classNames.push(M),this.metadata.push(D);else for(let p=0;p<this.count;p++)if(this.stopOffsets[p]>=I){this.stopOffsets.splice(p,0,I),this.classNames.splice(p,0,M),this.metadata.splice(p,0,D);break}this.count++}}class c{static normalize(I,M){if(M.length===0)return[];const D=[],p=new E;let o=0;for(let d=0,u=M.length;d<u;d++){const i=M[d];let n=i.startColumn,f=i.endColumn;const v=i.className,a=i.type===1?2:i.type===2?4:0;if(n>1){const y=I.charCodeAt(n-2);b.ZG(y)&&n--}if(f>1){const y=I.charCodeAt(f-2);b.ZG(y)&&f--}const S=n-1,g=f-2;o=p.consumeLowerThan(S,o,D),p.count===0&&(o=S),p.insert(g,v,a)}return p.consumeLowerThan(1073741824,o,D),D}}},72202:function(Pt,Ke,e){"use strict";e.d(Ke,{Nd:function(){return M},zG:function(){return _},IJ:function(){return I},d1:function(){return o},tF:function(){return u}});var b=e(63580),z=e(97295),r=e(50072),E=e(92550);class c{constructor(F,B,$,Y){this.endIndex=F,this.type=B,this.metadata=$,this.containsRTL=Y,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class _{constructor(F,B){this.startOffset=F,this.endOffset=B}equals(F){return this.startOffset===F.startOffset&&this.endOffset===F.endOffset}}class I{constructor(F,B,$,Y,P,w,V,R,A,H,U,G,j,W,K,m,J,X,ie){this.useMonospaceOptimizations=F,this.canUseHalfwidthRightwardsArrow=B,this.lineContent=$,this.continuesWithWrappedLine=Y,this.isBasicASCII=P,this.containsRTL=w,this.fauxIndentLength=V,this.lineTokens=R,this.lineDecorations=A.sort(E.Kp.compare),this.tabSize=H,this.startVisibleColumn=U,this.spaceWidth=G,this.stopRenderingLineAfter=K,this.renderWhitespace=m==="all"?4:m==="boundary"?1:m==="selection"?2:m==="trailing"?3:0,this.renderControlCharacters=J,this.fontLigatures=X,this.selectionsOnLine=ie&&ie.sort((Le,pe)=>Le.startOffset<pe.startOffset?-1:1);const le=Math.abs(W-G),fe=Math.abs(j-G);le<fe?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=j,this.renderSpaceCharCode=183)}sameSelection(F){if(this.selectionsOnLine===null)return F===null;if(F===null||F.length!==this.selectionsOnLine.length)return!1;for(let B=0;B<this.selectionsOnLine.length;B++)if(!this.selectionsOnLine[B].equals(F[B]))return!1;return!0}equals(F){return this.useMonospaceOptimizations===F.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===F.canUseHalfwidthRightwardsArrow&&this.lineContent===F.lineContent&&this.continuesWithWrappedLine===F.continuesWithWrappedLine&&this.isBasicASCII===F.isBasicASCII&&this.containsRTL===F.containsRTL&&this.fauxIndentLength===F.fauxIndentLength&&this.tabSize===F.tabSize&&this.startVisibleColumn===F.startVisibleColumn&&this.spaceWidth===F.spaceWidth&&this.renderSpaceWidth===F.renderSpaceWidth&&this.renderSpaceCharCode===F.renderSpaceCharCode&&this.stopRenderingLineAfter===F.stopRenderingLineAfter&&this.renderWhitespace===F.renderWhitespace&&this.renderControlCharacters===F.renderControlCharacters&&this.fontLigatures===F.fontLigatures&&E.Kp.equalsArr(this.lineDecorations,F.lineDecorations)&&this.lineTokens.equals(F.lineTokens)&&this.sameSelection(F.selectionsOnLine)}}class M{constructor(F,B){this.partIndex=F,this.charIndex=B}}class D{static getPartIndex(F){return(F&4294901760)>>>16}static getCharIndex(F){return(F&65535)>>>0}constructor(F,B){this.length=F,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(F,B,$,Y){const P=(B<<16|$<<0)>>>0;this._data[F-1]=P,this._horizontalOffset[F-1]=Y}getHorizontalOffset(F){return this._horizontalOffset.length===0?0:this._horizontalOffset[F-1]}charOffsetToPartData(F){return this.length===0?0:F<0?this._data[0]:F>=this.length?this._data[this.length-1]:this._data[F]}getDomPosition(F){const B=this.charOffsetToPartData(F-1),$=D.getPartIndex(B),Y=D.getCharIndex(B);return new M($,Y)}getColumn(F,B){return this.partDataToCharOffset(F.partIndex,B,F.charIndex)+1}partDataToCharOffset(F,B,$){if(this.length===0)return 0;const Y=(F<<16|$<<0)>>>0;let P=0,w=this.length-1;for(;P+1<w;){const K=P+w>>>1,m=this._data[K];if(m===Y)return K;m>Y?w=K:P=K}if(P===w)return P;const V=this._data[P],R=this._data[w];if(V===Y)return P;if(R===Y)return w;const A=D.getPartIndex(V),H=D.getCharIndex(V),U=D.getPartIndex(R);let G;A!==U?G=B:G=D.getCharIndex(R);const j=$-H,W=G-$;return j<=W?P:w}}class p{constructor(F,B,$){this._renderLineOutputBrand=void 0,this.characterMapping=F,this.containsRTL=B,this.containsForeignElements=$}}function o(T,F){if(T.lineContent.length===0){if(T.lineDecorations.length>0){F.appendString("<span>");let B=0,$=0,Y=0;for(const w of T.lineDecorations)(w.type===1||w.type===2)&&(F.appendString('<span class="'),F.appendString(w.className),F.appendString('"></span>'),w.type===1&&(Y|=1,B++),w.type===2&&(Y|=2,$++));F.appendString("</span>");const P=new D(1,B+$);return P.setColumnInfo(1,B,0,0),new p(P,!1,Y)}return F.appendString("<span><span></span></span>"),new p(new D(0,0),!1,0)}return C(n(T),F)}class d{constructor(F,B,$,Y){this.characterMapping=F,this.html=B,this.containsRTL=$,this.containsForeignElements=Y}}function u(T){const F=new r.HT(1e4),B=o(T,F);return new d(B.characterMapping,F.build(),B.containsRTL,B.containsForeignElements)}class i{constructor(F,B,$,Y,P,w,V,R,A,H,U,G,j,W,K,m){this.fontIsMonospace=F,this.canUseHalfwidthRightwardsArrow=B,this.lineContent=$,this.len=Y,this.isOverflowing=P,this.overflowingCharCount=w,this.parts=V,this.containsForeignElements=R,this.fauxIndentLength=A,this.tabSize=H,this.startVisibleColumn=U,this.containsRTL=G,this.spaceWidth=j,this.renderSpaceCharCode=W,this.renderWhitespace=K,this.renderControlCharacters=m}}function n(T){const F=T.lineContent;let B,$,Y;T.stopRenderingLineAfter!==-1&&T.stopRenderingLineAfter<F.length?(B=!0,$=F.length-T.stopRenderingLineAfter,Y=T.stopRenderingLineAfter):(B=!1,$=0,Y=F.length);let P=f(F,T.containsRTL,T.lineTokens,T.fauxIndentLength,Y);T.renderControlCharacters&&!T.isBasicASCII&&(P=S(F,P)),(T.renderWhitespace===4||T.renderWhitespace===1||T.renderWhitespace===2&&T.selectionsOnLine||T.renderWhitespace===3&&!T.continuesWithWrappedLine)&&(P=g(T,F,Y,P));let w=0;if(T.lineDecorations.length>0){for(let V=0,R=T.lineDecorations.length;V<R;V++){const A=T.lineDecorations[V];A.type===3||A.type===1?w|=1:A.type===2&&(w|=2)}P=y(F,Y,P,T.lineDecorations)}return T.containsRTL||(P=v(F,P,!T.isBasicASCII||T.fontLigatures)),new i(T.useMonospaceOptimizations,T.canUseHalfwidthRightwardsArrow,F,Y,B,$,P,w,T.fauxIndentLength,T.tabSize,T.startVisibleColumn,T.containsRTL,T.spaceWidth,T.renderSpaceCharCode,T.renderWhitespace,T.renderControlCharacters)}function f(T,F,B,$,Y){const P=[];let w=0;$>0&&(P[w++]=new c($,"",0,!1));let V=$;for(let R=0,A=B.getCount();R<A;R++){const H=B.getEndOffset(R);if(H<=$)continue;const U=B.getClassName(R);if(H>=Y){const j=F?z.Ut(T.substring(V,Y)):!1;P[w++]=new c(Y,U,0,j);break}const G=F?z.Ut(T.substring(V,H)):!1;P[w++]=new c(H,U,0,G),V=H}return P}function v(T,F,B){let $=0;const Y=[];let P=0;if(B)for(let w=0,V=F.length;w<V;w++){const R=F[w],A=R.endIndex;if($+50<A){const H=R.type,U=R.metadata,G=R.containsRTL;let j=-1,W=$;for(let K=$;K<A;K++)T.charCodeAt(K)===32&&(j=K),j!==-1&&K-W>=50&&(Y[P++]=new c(j+1,H,U,G),W=j+1,j=-1);W!==A&&(Y[P++]=new c(A,H,U,G))}else Y[P++]=R;$=A}else for(let w=0,V=F.length;w<V;w++){const R=F[w],A=R.endIndex,H=A-$;if(H>50){const U=R.type,G=R.metadata,j=R.containsRTL,W=Math.ceil(H/50);for(let K=1;K<W;K++){const m=$+K*50;Y[P++]=new c(m,U,G,j)}Y[P++]=new c(A,U,G,j)}else Y[P++]=R;$=A}return Y}function a(T){return T<32?T!==9:T===127||T>=8234&&T<=8238||T>=8294&&T<=8297||T>=8206&&T<=8207||T===1564}function S(T,F){const B=[];let $=new c(0,"",0,!1),Y=0;for(const P of F){const w=P.endIndex;for(;Y<w;Y++){const V=T.charCodeAt(Y);a(V)&&(Y>$.endIndex&&($=new c(Y,P.type,P.metadata,P.containsRTL),B.push($)),$=new c(Y+1,"mtkcontrol",P.metadata,!1),B.push($))}Y>$.endIndex&&($=new c(w,P.type,P.metadata,P.containsRTL),B.push($))}return B}function g(T,F,B,$){const Y=T.continuesWithWrappedLine,P=T.fauxIndentLength,w=T.tabSize,V=T.startVisibleColumn,R=T.useMonospaceOptimizations,A=T.selectionsOnLine,H=T.renderWhitespace===1,U=T.renderWhitespace===3,G=T.renderSpaceWidth!==T.spaceWidth,j=[];let W=0,K=0,m=$[K].type,J=$[K].containsRTL,X=$[K].endIndex;const ie=$.length;let le=!1,fe=z.LC(F),Le;fe===-1?(le=!0,fe=B,Le=B):Le=z.ow(F);let pe=!1,Te=0,De=A&&A[Te],ae=V%w;for(let We=P;We<B;We++){const ze=F.charCodeAt(We);De&&We>=De.endOffset&&(Te++,De=A&&A[Te]);let Se;if(We<fe||We>Le)Se=!0;else if(ze===9)Se=!0;else if(ze===32)if(H)if(pe)Se=!0;else{const ne=We+1<B?F.charCodeAt(We+1):0;Se=ne===32||ne===9}else Se=!0;else Se=!1;if(Se&&A&&(Se=!!De&&De.startOffset<=We&&De.endOffset>We),Se&&U&&(Se=le||We>Le),Se&&J&&We>=fe&&We<=Le&&(Se=!1),pe){if(!Se||!R&&ae>=w){if(G){const ne=W>0?j[W-1].endIndex:P;for(let ce=ne+1;ce<=We;ce++)j[W++]=new c(ce,"mtkw",1,!1)}else j[W++]=new c(We,"mtkw",1,!1);ae=ae%w}}else(We===X||Se&&We>P)&&(j[W++]=new c(We,m,0,J),ae=ae%w);for(ze===9?ae=w:z.K7(ze)?ae+=2:ae++,pe=Se;We===X&&(K++,K<ie);)m=$[K].type,J=$[K].containsRTL,X=$[K].endIndex}let Ne=!1;if(pe)if(Y&&H){const We=B>0?F.charCodeAt(B-1):0,ze=B>1?F.charCodeAt(B-2):0;We===32&&ze!==32&&ze!==9||(Ne=!0)}else Ne=!0;if(Ne)if(G){const We=W>0?j[W-1].endIndex:P;for(let ze=We+1;ze<=B;ze++)j[W++]=new c(ze,"mtkw",1,!1)}else j[W++]=new c(B,"mtkw",1,!1);else j[W++]=new c(B,m,0,J);return j}function y(T,F,B,$){$.sort(E.Kp.compare);const Y=E.k.normalize(T,$),P=Y.length;let w=0;const V=[];let R=0,A=0;for(let U=0,G=B.length;U<G;U++){const j=B[U],W=j.endIndex,K=j.type,m=j.metadata,J=j.containsRTL;for(;w<P&&Y[w].startOffset<W;){const X=Y[w];if(X.startOffset>A&&(A=X.startOffset,V[R++]=new c(A,K,m,J)),X.endOffset+1<=W)A=X.endOffset+1,V[R++]=new c(A,K+" "+X.className,m|X.metadata,J),w++;else{A=W,V[R++]=new c(A,K+" "+X.className,m|X.metadata,J);break}}W>A&&(A=W,V[R++]=new c(A,K,m,J))}const H=B[B.length-1].endIndex;if(w<P&&Y[w].startOffset===H)for(;w<P&&Y[w].startOffset===H;){const U=Y[w];V[R++]=new c(A,U.className,U.metadata,!1),w++}return V}function C(T,F){const B=T.fontIsMonospace,$=T.canUseHalfwidthRightwardsArrow,Y=T.containsForeignElements,P=T.lineContent,w=T.len,V=T.isOverflowing,R=T.overflowingCharCount,A=T.parts,H=T.fauxIndentLength,U=T.tabSize,G=T.startVisibleColumn,j=T.containsRTL,W=T.spaceWidth,K=T.renderSpaceCharCode,m=T.renderWhitespace,J=T.renderControlCharacters,X=new D(w+1,A.length);let ie=!1,le=0,fe=G,Le=0,pe=0,Te=0;j?F.appendString('<span dir="ltr">'):F.appendString("<span>");for(let De=0,ae=A.length;De<ae;De++){const Ne=A[De],We=Ne.endIndex,ze=Ne.type,Se=Ne.containsRTL,ne=m!==0&&Ne.isWhitespace(),ce=ne&&!B&&(ze==="mtkw"||!Y),Oe=le===We&&Ne.isPseudoAfter();if(Le=0,F.appendString("<span "),Se&&F.appendString('style="unicode-bidi:isolate" '),F.appendString('class="'),F.appendString(ce?"mtkz":ze),F.appendASCIICharCode(34),ne){let Pe=0;{let Me=le,ye=fe;for(;Me<We;Me++){const se=(P.charCodeAt(Me)===9?U-ye%U:1)|0;Pe+=se,Me>=H&&(ye+=se)}}for(ce&&(F.appendString(' style="width:'),F.appendString(String(W*Pe)),F.appendString('px"')),F.appendASCIICharCode(62);le<We;le++){X.setColumnInfo(le+1,De-Te,Le,pe),Te=0;const Me=P.charCodeAt(le);let ye,_e;if(Me===9){ye=U-fe%U|0,_e=ye,!$||_e>1?F.appendCharCode(8594):F.appendCharCode(65515);for(let se=2;se<=_e;se++)F.appendCharCode(160)}else ye=2,_e=1,F.appendCharCode(K),F.appendCharCode(8204);Le+=ye,pe+=_e,le>=H&&(fe+=_e)}}else for(F.appendASCIICharCode(62);le<We;le++){X.setColumnInfo(le+1,De-Te,Le,pe),Te=0;const Pe=P.charCodeAt(le);let Me=1,ye=1;switch(Pe){case 9:Me=U-fe%U,ye=Me;for(let _e=1;_e<=Me;_e++)F.appendCharCode(160);break;case 32:F.appendCharCode(160);break;case 60:F.appendString("&lt;");break;case 62:F.appendString("&gt;");break;case 38:F.appendString("&amp;");break;case 0:J?F.appendCharCode(9216):F.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:F.appendCharCode(65533);break;default:z.K7(Pe)&&ye++,J&&Pe<32?F.appendCharCode(9216+Pe):J&&Pe===127?F.appendCharCode(9249):J&&a(Pe)?(F.appendString("[U+"),F.appendString(L(Pe)),F.appendString("]"),Me=8,ye=Me):F.appendCharCode(Pe)}Le+=Me,pe+=ye,le>=H&&(fe+=ye)}Oe?Te++:Te=0,le>=w&&!ie&&Ne.isPseudoAfter()&&(ie=!0,X.setColumnInfo(le+1,De,Le,pe)),F.appendString("</span>")}return ie||X.setColumnInfo(w+1,A.length-1,Le,pe),V&&(F.appendString('<span class="mtkoverflow">'),F.appendString(b.NC("showMore","Show more ({0})",O(R))),F.appendString("</span>")),F.appendString("</span>"),new p(X,j,Y)}function L(T){return T.toString(16).toUpperCase().padStart(4,"0")}function O(T){return T<1024?b.NC("overflow.chars","{0} chars",T):T<1024*1024?`${(T/1024).toFixed(1)} KB`:`${(T/1024/1024).toFixed(1)} MB`}},1118:function(Pt,Ke,e){"use strict";e.d(Ke,{$l:function(){return p},$t:function(){return M},IP:function(){return _},SQ:function(){return o},Wx:function(){return D},l_:function(){return E},ud:function(){return c},wA:function(){return I}});var b=e(9488),z=e(97295),r=e(24314);class E{constructor(u,i,n,f){this._viewportBrand=void 0,this.top=u|0,this.left=i|0,this.width=n|0,this.height=f|0}}class c{constructor(u,i){this.tabSize=u,this.data=i}}class _{constructor(u,i,n,f,v,a,S){this._viewLineDataBrand=void 0,this.content=u,this.continuesWithWrappedLine=i,this.minColumn=n,this.maxColumn=f,this.startVisibleColumn=v,this.tokens=a,this.inlineDecorations=S}}class I{constructor(u,i,n,f,v,a,S,g,y,C){this.minColumn=u,this.maxColumn=i,this.content=n,this.continuesWithWrappedLine=f,this.isBasicASCII=I.isBasicASCII(n,a),this.containsRTL=I.containsRTL(n,this.isBasicASCII,v),this.tokens=S,this.inlineDecorations=g,this.tabSize=y,this.startVisibleColumn=C}static isBasicASCII(u,i){return i?z.$i(u):!0}static containsRTL(u,i,n){return!i&&n?z.Ut(u):!1}}class M{constructor(u,i,n){this.range=u,this.inlineClassName=i,this.type=n}}class D{constructor(u,i,n,f){this.startOffset=u,this.endOffset=i,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=f}toInlineDecoration(u){return new M(new r.e(u,this.startOffset+1,u,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class p{constructor(u,i){this._viewModelDecorationBrand=void 0,this.range=u,this.options=i}}class o{constructor(u,i,n){this.color=u,this.zIndex=i,this.data=n}static compareByRenderingProps(u,i){return u.zIndex===i.zIndex?u.color<i.color?-1:u.color>i.color?1:0:u.zIndex-i.zIndex}static equals(u,i){return u.color===i.color&&u.zIndex===i.zIndex&&b.fS(u.data,i.data)}static equalsArr(u,i){return b.fS(u,i,o.equals)}}},30665:function(Pt,Ke,e){"use strict";e.d(Ke,{EY:function(){return z},Tj:function(){return r}});class b{constructor(c,_,I){this._colorZoneBrand=void 0,this.from=c|0,this.to=_|0,this.colorId=I|0}static compare(c,_){return c.colorId===_.colorId?c.from===_.from?c.to-_.to:c.from-_.from:c.colorId-_.colorId}}class z{constructor(c,_,I,M){this._overviewRulerZoneBrand=void 0,this.startLineNumber=c,this.endLineNumber=_,this.heightInLines=I,this.color=M,this._colorZone=null}static compare(c,_){return c.color===_.color?c.startLineNumber===_.startLineNumber?c.heightInLines===_.heightInLines?c.endLineNumber-_.endLineNumber:c.heightInLines-_.heightInLines:c.startLineNumber-_.startLineNumber:c.color<_.color?-1:1}setColorZone(c){this._colorZone=c}getColorZones(){return this._colorZone}}class r{constructor(c){this._getVerticalOffsetForLine=c,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(c){this._zones=c,this._zones.sort(z.compare)}setLineHeight(c){return this._lineHeight===c?!1:(this._lineHeight=c,this._colorZonesInvalid=!0,!0)}setPixelRatio(c){this._pixelRatio=c,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(c){return this._domWidth===c?!1:(this._domWidth=c,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(c){return this._domHeight===c?!1:(this._domHeight=c,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(c){return this._outerHeight===c?!1:(this._outerHeight=c,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const c=this._colorZonesInvalid,_=Math.floor(this._lineHeight),I=Math.floor(this.getCanvasHeight()),M=Math.floor(this._outerHeight),D=I/M,p=Math.floor(4*this._pixelRatio/2),o=[];for(let d=0,u=this._zones.length;d<u;d++){const i=this._zones[d];if(!c){const O=i.getColorZones();if(O){o.push(O);continue}}const n=this._getVerticalOffsetForLine(i.startLineNumber),f=i.heightInLines===0?this._getVerticalOffsetForLine(i.endLineNumber)+_:n+i.heightInLines*_,v=Math.floor(D*n),a=Math.floor(D*f);let S=Math.floor((v+a)/2),g=a-S;g<p&&(g=p),S-g<0&&(S=g),S+g>I&&(S=I-g);const y=i.color;let C=this._color2Id[y];C||(C=++this._lastAssignedId,this._color2Id[y]=C,this._id2Color[C]=y);const L=new b(S-g,S+g,C);i.setColorZone(L),o.push(L)}return this._colorZonesInvalid=!1,o.sort(b.compare),o}}},30168:function(Pt,Ke,e){"use strict";e.d(Ke,{$t:function(){return I},CU:function(){return c},Fd:function(){return _},zg:function(){return M}});var b=e(50187),z=e(24314),r=e(1118),E=e(64141);class c{constructor(o,d,u,i,n){this.editorId=o,this.model=d,this.configuration=u,this._linesCollection=i,this._coordinatesConverter=n,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(o){const d=o.id;let u=this._decorationsCache[d];if(!u){const i=o.range,n=o.options;let f;if(n.isWholeLine){const v=this._coordinatesConverter.convertModelPositionToViewPosition(new b.L(i.startLineNumber,1),0,!1,!0),a=this._coordinatesConverter.convertModelPositionToViewPosition(new b.L(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);f=new z.e(v.lineNumber,v.column,a.lineNumber,a.column)}else f=this._coordinatesConverter.convertModelRangeToViewRange(i,1);u=new r.$l(f,n),this._decorationsCache[d]=u}return u}getMinimapDecorationsInRange(o){return this._getDecorationsInRange(o,!0,!1).decorations}getDecorationsViewportData(o){let d=this._cachedModelDecorationsResolver!==null;return d=d&&o.equalsRange(this._cachedModelDecorationsResolverViewRange),d||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(o,!1,!1),this._cachedModelDecorationsResolverViewRange=o),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(o,d=!1,u=!1){const i=new z.e(o,this._linesCollection.getViewLineMinColumn(o),o,this._linesCollection.getViewLineMaxColumn(o));return this._getDecorationsInRange(i,d,u).inlineDecorations[0]}_getDecorationsInRange(o,d,u){const i=this._linesCollection.getDecorationsInRange(o,this.editorId,(0,E.$J)(this.configuration.options),d,u),n=o.startLineNumber,f=o.endLineNumber,v=[];let a=0;const S=[];for(let g=n;g<=f;g++)S[g-n]=[];for(let g=0,y=i.length;g<y;g++){const C=i[g],L=C.options;if(!_(this.model,C))continue;const O=this._getOrCreateViewModelDecoration(C),T=O.range;if(v[a++]=O,L.inlineClassName){const F=new r.$t(T,L.inlineClassName,L.inlineClassNameAffectsLetterSpacing?3:0),B=Math.max(n,T.startLineNumber),$=Math.min(f,T.endLineNumber);for(let Y=B;Y<=$;Y++)S[Y-n].push(F)}if(L.beforeContentClassName&&n<=T.startLineNumber&&T.startLineNumber<=f){const F=new r.$t(new z.e(T.startLineNumber,T.startColumn,T.startLineNumber,T.startColumn),L.beforeContentClassName,1);S[T.startLineNumber-n].push(F)}if(L.afterContentClassName&&n<=T.endLineNumber&&T.endLineNumber<=f){const F=new r.$t(new z.e(T.endLineNumber,T.endColumn,T.endLineNumber,T.endColumn),L.afterContentClassName,2);S[T.endLineNumber-n].push(F)}}return{decorations:v,inlineDecorations:S}}}function _(p,o){return!(o.options.hideInCommentTokens&&I(p,o)||o.options.hideInStringTokens&&M(p,o))}function I(p,o){return D(p,o.range,d=>d===1)}function M(p,o){return D(p,o.range,d=>d===2)}function D(p,o,d){for(let u=o.startLineNumber;u<=o.endLineNumber;u++){const i=p.tokenization.getLineTokens(u),n=u===o.startLineNumber,f=u===o.endLineNumber;let v=n?i.findTokenIndexAtOffset(o.startColumn-1):0;for(;v<i.getCount()&&!(f&&i.getStartOffset(v)>o.endColumn-1);){if(!d(i.getStandardTokenType(v)))return!1;v++}}return!0}},51624:function(Pt,Ke,e){"use strict";var b=e(35996),z=e(59365),r=e(22258),E=e(16830),c=e(3860),_=e(29102),I=e(63580),M=e(32064),D=function(a,S,g,y){var C=arguments.length,L=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(a,S,g,y);else for(var T=a.length-1;T>=0;T--)(O=a[T])&&(L=(C<3?O(L):C>3?O(S,g,L):O(S,g))||L);return C>3&&L&&Object.defineProperty(S,g,L),L},p=function(a,S){return function(g,y){S(g,y,a)}},o;const d=new M.uy("selectionAnchorSet",!1);let u=o=class{static get(S){return S.getContribution(o.ID)}constructor(S,g){this.editor=S,this.selectionAnchorSetContextKey=d.bindTo(g),this.modelChangeListener=S.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const S=this.editor.getPosition();this.editor.changeDecorations(g=>{this.decorationId&&g.removeDecoration(this.decorationId),this.decorationId=g.addDecoration(c.Y.fromPositions(S,S),{description:"selection-anchor",stickiness:1,hoverMessage:new z.W5().appendText((0,I.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,b.Z9)((0,I.NC)("anchorSet","Anchor set at {0}:{1}",S.lineNumber,S.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const S=this.editor.getModel().getDecorationRange(this.decorationId);S&&this.editor.setPosition(S.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const S=this.editor.getModel().getDecorationRange(this.decorationId);if(S){const g=this.editor.getPosition();this.editor.setSelection(c.Y.fromPositions(S.getStartPosition(),g)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const S=this.decorationId;this.editor.changeDecorations(g=>{g.removeDecoration(S),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};u.ID="editor.contrib.selectionAnchorController",u=o=D([p(1,M.i6)],u);class i extends E.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,I.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,r.gx)(2089,2080),weight:100}})}run(S,g){return qt(this,null,function*(){var y;(y=u.get(g))===null||y===void 0||y.setSelectionAnchor()})}}class n extends E.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,I.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:d})}run(S,g){return qt(this,null,function*(){var y;(y=u.get(g))===null||y===void 0||y.goToSelectionAnchor()})}}class f extends E.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,I.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:d,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,r.gx)(2089,2089),weight:100}})}run(S,g){return qt(this,null,function*(){var y;(y=u.get(g))===null||y===void 0||y.selectFromAnchorToCursor()})}}class v extends E.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,I.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:d,kbOpts:{kbExpr:_.u.editorTextFocus,primary:9,weight:100}})}run(S,g){return qt(this,null,function*(){var y;(y=u.get(g))===null||y===void 0||y.cancelSelectionAnchor()})}}(0,E._K)(u.ID,u,4),(0,E.Qr)(i),(0,E.Qr)(n),(0,E.Qr)(f),(0,E.Qr)(v)},13468:function(Pt,Ke,e){"use strict";var b=e(15393),z=e(5976),r=e(16830),E=e(50187),c=e(24314),_=e(3860),I=e(29102),M=e(84973),D=e(84901),p=e(63580),o=e(84144),d=e(73910),u=e(97781);const i=(0,d.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},p.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class n extends r.R6{constructor(){super({id:"editor.action.jumpToBracket",label:p.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3165,weight:100}})}run(y,C){var L;(L=S.get(C))===null||L===void 0||L.jumpToBracket()}}class f extends r.R6{constructor(){super({id:"editor.action.selectToBracket",label:p.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:p.vv("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(y,C,L){var O;let T=!0;L&&L.selectBrackets===!1&&(T=!1),(O=S.get(C))===null||O===void 0||O.selectToBracket(T)}}class v extends r.R6{constructor(){super({id:"editor.action.removeBrackets",label:p.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:2561,weight:100}})}run(y,C){var L;(L=S.get(C))===null||L===void 0||L.removeBrackets(this.id)}}class a{constructor(y,C,L){this.position=y,this.brackets=C,this.options=L}}class S extends z.JT{static get(y){return y.getContribution(S.ID)}constructor(y){super(),this._editor=y,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new b.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(71),this._updateBracketsSoon.schedule(),this._register(y.onDidChangeCursorPosition(C=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModelContent(C=>{this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModel(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModelLanguageConfiguration(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeConfiguration(C=>{C.hasChanged(71)&&(this._matchBrackets=this._editor.getOption(71),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(y.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(y.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const y=this._editor.getModel(),C=this._editor.getSelections().map(L=>{const O=L.getStartPosition(),T=y.bracketPairs.matchBracket(O);let F=null;if(T)T[0].containsPosition(O)&&!T[1].containsPosition(O)?F=T[1].getStartPosition():T[1].containsPosition(O)&&(F=T[0].getStartPosition());else{const B=y.bracketPairs.findEnclosingBrackets(O);if(B)F=B[1].getStartPosition();else{const $=y.bracketPairs.findNextBracket(O);$&&$.range&&(F=$.range.getStartPosition())}}return F?new _.Y(F.lineNumber,F.column,F.lineNumber,F.column):new _.Y(O.lineNumber,O.column,O.lineNumber,O.column)});this._editor.setSelections(C),this._editor.revealRange(C[0])}selectToBracket(y){if(!this._editor.hasModel())return;const C=this._editor.getModel(),L=[];this._editor.getSelections().forEach(O=>{const T=O.getStartPosition();let F=C.bracketPairs.matchBracket(T);if(!F&&(F=C.bracketPairs.findEnclosingBrackets(T),!F)){const Y=C.bracketPairs.findNextBracket(T);Y&&Y.range&&(F=C.bracketPairs.matchBracket(Y.range.getStartPosition()))}let B=null,$=null;if(F){F.sort(c.e.compareRangesUsingStarts);const[Y,P]=F;if(B=y?Y.getStartPosition():Y.getEndPosition(),$=y?P.getEndPosition():P.getStartPosition(),P.containsPosition(T)){const w=B;B=$,$=w}}B&&$&&L.push(new _.Y(B.lineNumber,B.column,$.lineNumber,$.column))}),L.length>0&&(this._editor.setSelections(L),this._editor.revealRange(L[0]))}removeBrackets(y){if(!this._editor.hasModel())return;const C=this._editor.getModel();this._editor.getSelections().forEach(L=>{const O=L.getPosition();let T=C.bracketPairs.matchBracket(O);T||(T=C.bracketPairs.findEnclosingBrackets(O)),T&&(this._editor.pushUndoStop(),this._editor.executeEdits(y,[{range:T[0],text:""},{range:T[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const y=[];let C=0;for(const L of this._lastBracketsData){const O=L.brackets;O&&(y[C++]={range:O[0],options:L.options},y[C++]={range:O[1],options:L.options})}this._decorations.set(y)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const y=this._editor.getSelections();if(y.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const C=this._editor.getModel(),L=C.getVersionId();let O=[];this._lastVersionId===L&&(O=this._lastBracketsData);const T=[];let F=0;for(let w=0,V=y.length;w<V;w++){const R=y[w];R.isEmpty()&&(T[F++]=R.getStartPosition())}T.length>1&&T.sort(E.L.compare);const B=[];let $=0,Y=0;const P=O.length;for(let w=0,V=T.length;w<V;w++){const R=T[w];for(;Y<P&&O[Y].position.isBefore(R);)Y++;if(Y<P&&O[Y].position.equals(R))B[$++]=O[Y];else{let A=C.bracketPairs.matchBracket(R,20),H=S._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=C.bracketPairs.findEnclosingBrackets(R,20),H=S._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),B[$++]=new a(R,A,H)}}this._lastBracketsData=B,this._lastVersionId=L}}S.ID="editor.contrib.bracketMatchingController",S._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=D.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,u.EN)(i),position:M.sh.Center}}),S._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=D.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,r._K)(S.ID,S,1),(0,r.Qr)(f),(0,r.Qr)(n),(0,r.Qr)(v),o.BH.appendMenuItem(o.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:p.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},24336:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(29102),r=e(24314),E=e(3860);class c{constructor(o,d){this._selection=o,this._isMovingLeft=d}getEditOperations(o,d){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const u=this._selection.startLineNumber,i=this._selection.startColumn,n=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&n===o.getLineMaxColumn(u)))if(this._isMovingLeft){const f=new r.e(u,i-1,u,i),v=o.getValueInRange(f);d.addEditOperation(f,null),d.addEditOperation(new r.e(u,n,u,n),v)}else{const f=new r.e(u,n,u,n+1),v=o.getValueInRange(f);d.addEditOperation(f,null),d.addEditOperation(new r.e(u,i,u,i),v)}}computeCursorState(o,d){return this._isMovingLeft?new E.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new E.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var _=e(63580);class I extends b.R6{constructor(o,d){super(d),this.left=o}run(o,d){if(!d.hasModel())return;const u=[],i=d.getSelections();for(const n of i)u.push(new c(n,this.left));d.pushUndoStop(),d.executeCommands(this.id,u),d.pushUndoStop()}}class M extends I{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:z.u.writable})}}class D extends I{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:z.u.writable})}}(0,b.Qr)(M),(0,b.Qr)(D)},72102:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(61329),r=e(10839),E=e(24314),c=e(29102),_=e(63580);class I extends b.R6{constructor(){super({id:"editor.action.transposeLetters",label:_.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(D,p){if(!p.hasModel())return;const o=p.getModel(),d=[],u=p.getSelections();for(const i of u){if(!i.isEmpty())continue;const n=i.startLineNumber,f=i.startColumn,v=o.getLineMaxColumn(n);if(n===1&&(f===1||f===2&&v===2))continue;const a=f===v?i.getPosition():r.o.rightPosition(o,i.getPosition().lineNumber,i.getPosition().column),S=r.o.leftPosition(o,a),g=r.o.leftPosition(o,S),y=o.getValueInRange(E.e.fromPositions(g,S)),C=o.getValueInRange(E.e.fromPositions(S,a)),L=E.e.fromPositions(g,a);d.push(new z.T4(L,C+y))}d.length>0&&(p.pushUndoStop(),p.executeCommands(this.id,d),p.pushUndoStop())}}(0,b.Qr)(I)},55833:function(Pt,Ke,e){"use strict";var b=e(16268),z=e(65321),r=e(1432),E=e(35715),c=e(16830),_=e(11640),I=e(29102),M=e(63580),D=e(84144),p=e(84972),o=e(32064);const d="9_cutcopypaste",u=r.tY||document.queryCommandSupported("cut"),i=r.tY||document.queryCommandSupported("copy"),n=typeof navigator.clipboard=="undefined"||b.vU?document.queryCommandSupported("paste"):!0;function f(C){return C.register(),C}const v=u?f(new c.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:r.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:D.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:D.eH.EditorContext,group:d,title:M.NC("actions.clipboard.cutLabel","Cut"),when:I.u.writable,order:1},{menuId:D.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:D.eH.SimpleEditorContext,group:d,title:M.NC("actions.clipboard.cutLabel","Cut"),when:I.u.writable,order:1}]})):void 0,a=i?f(new c.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:r.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:D.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:D.eH.EditorContext,group:d,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:D.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:D.eH.SimpleEditorContext,group:d,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;D.BH.appendMenuItem(D.eH.MenubarEditMenu,{submenu:D.eH.MenubarCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),D.BH.appendMenuItem(D.eH.EditorContext,{submenu:D.eH.EditorContextCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:d,order:3}),D.BH.appendMenuItem(D.eH.EditorContext,{submenu:D.eH.EditorContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:o.Ao.and(o.Ao.notEquals("resourceScheme","output"),I.u.editorTextFocus)}),D.BH.appendMenuItem(D.eH.EditorTitleContext,{submenu:D.eH.EditorTitleContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),D.BH.appendMenuItem(D.eH.ExplorerContext,{submenu:D.eH.ExplorerContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const S=n?f(new c.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:r.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:D.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:D.eH.EditorContext,group:d,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:I.u.writable,order:4},{menuId:D.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:D.eH.SimpleEditorContext,group:d,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:I.u.writable,order:4}]})):void 0;class g extends c.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:M.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:I.u.textInputFocus,primary:0,weight:100}})}run(L,O){!O.hasModel()||!O.getOption(37)&&O.getSelection().isEmpty()||(E.RA.forceCopyWithSyntaxHighlighting=!0,O.focus(),O.getContainerDomNode().ownerDocument.execCommand("copy"),E.RA.forceCopyWithSyntaxHighlighting=!1)}}function y(C,L){C&&(C.addImplementation(1e4,"code-editor",(O,T)=>{const F=O.get(_.$).getFocusedCodeEditor();if(F&&F.hasTextFocus()){const B=F.getOption(37),$=F.getSelection();return $&&$.isEmpty()&&!B||F.getContainerDomNode().ownerDocument.execCommand(L),!0}return!1}),C.addImplementation(0,"generic-dom",(O,T)=>((0,z.uP)().execCommand(L),!0)))}y(v,"cut"),y(a,"copy"),S&&(S.addImplementation(1e4,"code-editor",(C,L)=>{const O=C.get(_.$),T=C.get(p.p),F=O.getFocusedCodeEditor();return F&&F.hasTextFocus()?!F.getContainerDomNode().ownerDocument.execCommand("paste")&&r.$L?(()=>qt(this,null,function*(){const $=yield T.readText();if($!==""){const Y=E.Nl.INSTANCE.get($);let P=!1,w=null,V=null;Y&&(P=F.getOption(37)&&!!Y.isFromEmptySelection,w=typeof Y.multicursorText!="undefined"?Y.multicursorText:null,V=Y.mode),F.trigger("keyboard","paste",{text:$,pasteOnNewLine:P,multicursorText:w,mode:V})}}))():!0:!1}),S.addImplementation(0,"generic-dom",(C,L)=>((0,z.uP)().execCommand("paste"),!0))),i&&(0,c.Qr)(g)},75396:function(Pt,Ke,e){"use strict";e.d(Ke,{Bb:function(){return y},LR:function(){return V},MN:function(){return C},RB:function(){return a},TM:function(){return O},UX:function(){return w},aI:function(){return B},cz:function(){return S},pZ:function(){return g},uH:function(){return L}});var b=e(9488),z=e(71050),r=e(17301),E=e(5976),c=e(70666),_=e(66007),I=e(24314),M=e(3860),D=e(71922),p=e(73733),o=e(14410),d=e(63580),u=e(94565),i=e(48894),n=e(90535),f=e(10829),v=e(87997);const a="editor.action.codeAction",S="editor.action.quickFix",g="editor.action.autoFix",y="editor.action.refactor",C="editor.action.sourceAction",L="editor.action.organizeImports",O="editor.action.fixAll";class T extends E.JT{static codeActionsPreferredComparator(H,U){return H.isPreferred&&!U.isPreferred?-1:!H.isPreferred&&U.isPreferred?1:0}static codeActionsComparator({action:H},{action:U}){return H.isAI&&!U.isAI?1:!H.isAI&&U.isAI?-1:(0,b.Of)(H.diagnostics)?(0,b.Of)(U.diagnostics)?T.codeActionsPreferredComparator(H,U):-1:(0,b.Of)(U.diagnostics)?1:T.codeActionsPreferredComparator(H,U)}constructor(H,U,G){super(),this.documentation=U,this._register(G),this.allActions=[...H].sort(T.codeActionsComparator),this.validActions=this.allActions.filter(({action:j})=>!j.disabled)}get hasAutoFix(){return this.validActions.some(({action:H})=>!!H.kind&&v.yN.QuickFix.contains(new v.yN(H.kind))&&!!H.isPreferred)}get hasAIFix(){return this.validActions.some(({action:H})=>!!H.isAI)}get allAIFixes(){return this.validActions.every(({action:H})=>!!H.isAI)}}const F={actions:[],documentation:void 0};function B(A,H,U,G,j,W){return qt(this,null,function*(){var K;const m=G.filter||{},J=Ln(Xi({},m),{excludes:[...m.excludes||[],v.yN.Notebook]}),X={only:(K=m.include)===null||K===void 0?void 0:K.value,trigger:G.type},ie=new o.YQ(H,W),le=G.type===2,fe=$(A,H,le?J:m),Le=new E.SL,pe=fe.map(De=>qt(this,null,function*(){try{j.report(De);const ae=yield De.provideCodeActions(H,U,X,ie.token);if(ae&&Le.add(ae),ie.token.isCancellationRequested)return F;const Ne=((ae==null?void 0:ae.actions)||[]).filter(ze=>ze&&(0,v.Yl)(m,ze)),We=P(De,Ne,m.include);return{actions:Ne.map(ze=>new v.bA(ze,De)),documentation:We}}catch(ae){if((0,r.n2)(ae))throw ae;return(0,r.Cp)(ae),F}})),Te=A.onDidChange(()=>{const De=A.all(H);(0,b.fS)(De,fe)||ie.cancel()});try{const De=yield Promise.all(pe),ae=De.map(We=>We.actions).flat(),Ne=[...(0,b.kX)(De.map(We=>We.documentation)),...Y(A,H,G,ae)];return new T(ae,Ne,Le)}finally{Te.dispose(),ie.dispose()}})}function $(A,H,U){return A.all(H).filter(G=>G.providedCodeActionKinds?G.providedCodeActionKinds.some(j=>(0,v.EU)(U,new v.yN(j))):!0)}function*Y(A,H,U,G){var j,W,K;if(H&&G.length)for(const m of A.all(H))m._getAdditionalMenuItems&&(yield*(j=m._getAdditionalMenuItems)===null||j===void 0?void 0:j.call(m,{trigger:U.type,only:(K=(W=U.filter)===null||W===void 0?void 0:W.include)===null||K===void 0?void 0:K.value},G.map(J=>J.action)))}function P(A,H,U){if(!A.documentation)return;const G=A.documentation.map(j=>({kind:new v.yN(j.kind),command:j.command}));if(U){let j;for(const W of G)W.kind.contains(U)&&(j?j.kind.contains(W.kind)&&(j=W):j=W);if(j)return j==null?void 0:j.command}for(const j of H)if(j.kind){for(const W of G)if(W.kind.contains(new v.yN(j.kind)))return W.command}}var w;(function(A){A.OnSave="onSave",A.FromProblemsView="fromProblemsView",A.FromCodeActions="fromCodeActions"})(w||(w={}));function V(W,K,m,J){return qt(this,arguments,function*(A,H,U,G,j=z.T.None){var X;const ie=A.get(_.vu),le=A.get(u.H),fe=A.get(f.b),Le=A.get(i.lT);if(fe.publicLog2("codeAction.applyCodeAction",{codeActionTitle:H.action.title,codeActionKind:H.action.kind,codeActionIsPreferred:!!H.action.isPreferred,reason:U}),yield H.resolve(j),!j.isCancellationRequested&&!(!((X=H.action.edit)===null||X===void 0)&&X.edits.length&&!(yield ie.apply(H.action.edit,{editor:G==null?void 0:G.editor,label:H.action.title,quotableLabel:H.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:U!==w.OnSave,showPreview:G==null?void 0:G.preview})).isApplied)&&H.action.command)try{yield le.executeCommand(H.action.command.id,...H.action.command.arguments||[])}catch(pe){const Te=R(pe);Le.error(typeof Te=="string"?Te:d.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function R(A){return typeof A=="string"?A:A instanceof Error&&typeof A.message=="string"?A.message:void 0}u.P.registerCommand("_executeCodeActionProvider",function(A,H,U,G,j){return qt(this,null,function*(){if(!(H instanceof c.o))throw(0,r.b1)();const{codeActionProvider:W}=A.get(D.p),K=A.get(p.q).getModel(H);if(!K)throw(0,r.b1)();const m=M.Y.isISelection(U)?M.Y.liftSelection(U):I.e.isIRange(U)?K.validateRange(U):void 0;if(!m)throw(0,r.b1)();const J=typeof G=="string"?new v.yN(G):void 0,X=yield B(W,K,m,{type:1,triggerAction:v.aQ.Default,filter:{includeSourceActions:!0,include:J}},n.Ex.None,z.T.None),ie=[],le=Math.min(X.validActions.length,typeof j=="number"?j:0);for(let fe=0;fe<le;fe++)ie.push(X.validActions[fe].resolve(z.T.None));try{return yield Promise.all(ie),X.validActions.map(fe=>fe.action)}finally{setTimeout(()=>X.dispose(),100)}})})},86687:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(800),r=e(97295),E=e(29102),c=e(75396),_=e(63580),I=e(32064),M=e(87997),D=e(70522),p=e(17016);function o(O){return I.Ao.regex(p.fj.keys()[0],new RegExp("(\\s|^)"+(0,r.ec)(O.value)+"\\b"))}const d={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_.NC("args.schema.apply.first","Always apply the first returned code action."),_.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function u(O,T,F,B,$=M.aQ.Default){if(O.hasModel()){const Y=D.G.get(O);Y==null||Y.manualTriggerAtCurrentPosition(T,$,F,B)}}class i extends b.R6{constructor(){super({id:c.cz,label:_.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:I.Ao.and(E.u.writable,E.u.hasCodeActionsProvider),kbOpts:{kbExpr:E.u.textInputFocus,primary:2137,weight:100}})}run(T,F){return u(F,_.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,M.aQ.QuickFix)}}class n extends b._l{constructor(){super({id:c.RB,precondition:I.Ao.and(E.u.writable,E.u.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:d}]}})}runEditorCommand(T,F,B){const $=M.wZ.fromUser(B,{kind:M.yN.Empty,apply:"ifSingle"});return u(F,typeof(B==null?void 0:B.kind)=="string"?$.preferred?_.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",B.kind):_.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",B.kind):$.preferred?_.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:$.kind,includeSourceActions:!0,onlyIncludePreferredActions:$.preferred},$.apply)}}class f extends b.R6{constructor(){super({id:c.Bb,label:_.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:I.Ao.and(E.u.writable,E.u.hasCodeActionsProvider),kbOpts:{kbExpr:E.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:I.Ao.and(E.u.writable,o(M.yN.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:d}]}})}run(T,F,B){const $=M.wZ.fromUser(B,{kind:M.yN.Refactor,apply:"never"});return u(F,typeof(B==null?void 0:B.kind)=="string"?$.preferred?_.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",B.kind):_.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",B.kind):$.preferred?_.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:M.yN.Refactor.contains($.kind)?$.kind:M.yN.None,onlyIncludePreferredActions:$.preferred},$.apply,M.aQ.Refactor)}}class v extends b.R6{constructor(){super({id:c.MN,label:_.NC("source.label","Source Action..."),alias:"Source Action...",precondition:I.Ao.and(E.u.writable,E.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:I.Ao.and(E.u.writable,o(M.yN.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:d}]}})}run(T,F,B){const $=M.wZ.fromUser(B,{kind:M.yN.Source,apply:"never"});return u(F,typeof(B==null?void 0:B.kind)=="string"?$.preferred?_.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",B.kind):_.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",B.kind):$.preferred?_.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):_.NC("editor.action.source.noneMessage","No source actions available"),{include:M.yN.Source.contains($.kind)?$.kind:M.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:$.preferred},$.apply,M.aQ.SourceAction)}}class a extends b.R6{constructor(){super({id:c.uH,label:_.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:I.Ao.and(E.u.writable,o(M.yN.SourceOrganizeImports)),kbOpts:{kbExpr:E.u.textInputFocus,primary:1581,weight:100}})}run(T,F){return u(F,_.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:M.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",M.aQ.OrganizeImports)}}class S extends b.R6{constructor(){super({id:c.TM,label:_.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:I.Ao.and(E.u.writable,o(M.yN.SourceFixAll))})}run(T,F){return u(F,_.NC("fixAll.noneMessage","No fix all action available"),{include:M.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",M.aQ.FixAll)}}class g extends b.R6{constructor(){super({id:c.pZ,label:_.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:I.Ao.and(E.u.writable,o(M.yN.QuickFix)),kbOpts:{kbExpr:E.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(T,F){return u(F,_.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:M.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",M.aQ.AutoFix)}}var y=e(3366),C=e(23193),L=e(89872);(0,b._K)(D.G.ID,D.G,3),(0,b._K)(y.f.ID,y.f,4),(0,b.Qr)(i),(0,b.Qr)(f),(0,b.Qr)(v),(0,b.Qr)(a),(0,b.Qr)(g),(0,b.Qr)(S),(0,b.fK)(new n),L.B.as(C.IP.Configuration).registerConfiguration(Ln(Xi({},z.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:_.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}})),L.B.as(C.IP.Configuration).registerConfiguration(Ln(Xi({},z.wk),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:_.NC("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}))},70522:function(Pt,Ke,e){"use strict";e.d(Ke,{G:function(){return je}});var b=e(65321),z=e(35996),r=e(17301),E=e(79579),c=e(5976),_=e(50187),I=e(84901),M=e(71922),D=e(75396),p=e(87997),o=e(91847),d=function(Ae,Qe,rt,Dt){var at=arguments.length,vt=at<3?Qe:Dt===null?Dt=Object.getOwnPropertyDescriptor(Qe,rt):Dt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vt=Reflect.decorate(Ae,Qe,rt,Dt);else for(var ti=Ae.length-1;ti>=0;ti--)(Mt=Ae[ti])&&(vt=(at<3?Mt(vt):at>3?Mt(Qe,rt,vt):Mt(Qe,rt))||vt);return at>3&&vt&&Object.defineProperty(Qe,rt,vt),vt},u=function(Ae,Qe){return function(rt,Dt){Qe(rt,Dt,Ae)}},i;let n=i=class{constructor(Qe){this.keybindingService=Qe}getResolver(){const Qe=new E.o(()=>this.keybindingService.getKeybindings().filter(rt=>i.codeActionCommands.indexOf(rt.command)>=0).filter(rt=>rt.resolvedKeybinding).map(rt=>{let Dt=rt.commandArgs;return rt.command===D.uH?Dt={kind:p.yN.SourceOrganizeImports.value}:rt.command===D.TM&&(Dt={kind:p.yN.SourceFixAll.value}),Xi({resolvedKeybinding:rt.resolvedKeybinding},p.wZ.fromUser(Dt,{kind:p.yN.None,apply:"never"}))}));return rt=>{if(rt.kind){const Dt=this.bestKeybindingForCodeAction(rt,Qe.value);return Dt==null?void 0:Dt.resolvedKeybinding}}}bestKeybindingForCodeAction(Qe,rt){if(!Qe.kind)return;const Dt=new p.yN(Qe.kind);return rt.filter(at=>at.kind.contains(Dt)).filter(at=>at.preferred?Qe.isPreferred:!0).reduceRight((at,vt)=>at?at.kind.contains(vt.kind)?vt:at:vt,void 0)}};n.codeActionCommands=[D.Bb,D.RB,D.MN,D.uH,D.TM],n=i=d([u(0,o.d)],n);var f=e(15375),v=e(73046),a=e(34066),S=e(63580);const g=Object.freeze({kind:p.yN.Empty,title:(0,S.NC)("codeAction.widget.id.more","More Actions...")}),y=Object.freeze([{kind:p.yN.QuickFix,title:(0,S.NC)("codeAction.widget.id.quickfix","Quick Fix")},{kind:p.yN.RefactorExtract,title:(0,S.NC)("codeAction.widget.id.extract","Extract"),icon:v.l.wrench},{kind:p.yN.RefactorInline,title:(0,S.NC)("codeAction.widget.id.inline","Inline"),icon:v.l.wrench},{kind:p.yN.RefactorRewrite,title:(0,S.NC)("codeAction.widget.id.convert","Rewrite"),icon:v.l.wrench},{kind:p.yN.RefactorMove,title:(0,S.NC)("codeAction.widget.id.move","Move"),icon:v.l.wrench},{kind:p.yN.SurroundWith,title:(0,S.NC)("codeAction.widget.id.surround","Surround With"),icon:v.l.symbolSnippet},{kind:p.yN.Source,title:(0,S.NC)("codeAction.widget.id.source","Source Action"),icon:v.l.symbolFile},g]);function C(Ae,Qe,rt){if(!Qe)return Ae.map(vt=>{var Mt;return{kind:"action",item:vt,group:g,disabled:!!vt.action.disabled,label:vt.action.disabled||vt.action.title,canPreview:!!(!((Mt=vt.action.edit)===null||Mt===void 0)&&Mt.edits.length)}});const Dt=y.map(vt=>({group:vt,actions:[]}));for(const vt of Ae){const Mt=vt.action.kind?new p.yN(vt.action.kind):p.yN.None;for(const ti of Dt)if(ti.group.kind.contains(Mt)){ti.actions.push(vt);break}}const at=[];for(const vt of Dt)if(vt.actions.length){at.push({kind:"header",group:vt.group});for(const Mt of vt.actions){const ti=vt.group;at.push({kind:"action",item:Mt,group:Mt.action.isAI?{title:ti.title,kind:ti.kind,icon:v.l.sparkle}:ti,label:Mt.action.title,disabled:!!Mt.action.disabled,keybinding:rt(Mt.action)})}}return at}var L=e(3366),O=e(27863),T=e(90317),F=e(35190),B=e(69047),$=e(71050),Y=e(1432),P=e(25670),w=e(5606),V=e(86253),R=e(73910),A=function(Ae,Qe,rt,Dt){var at=arguments.length,vt=at<3?Qe:Dt===null?Dt=Object.getOwnPropertyDescriptor(Qe,rt):Dt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vt=Reflect.decorate(Ae,Qe,rt,Dt);else for(var ti=Ae.length-1;ti>=0;ti--)(Mt=Ae[ti])&&(vt=(at<3?Mt(vt):at>3?Mt(Qe,rt,vt):Mt(Qe,rt))||vt);return at>3&&vt&&Object.defineProperty(Qe,rt,vt),vt},H=function(Ae,Qe){return function(rt,Dt){Qe(rt,Dt,Ae)}};const U="acceptSelectedCodeAction",G="previewSelectedCodeAction";class j{get templateId(){return"header"}renderTemplate(Qe){Qe.classList.add("group-header");const rt=document.createElement("span");return Qe.append(rt),{container:Qe,text:rt}}renderElement(Qe,rt,Dt){var at,vt;Dt.text.textContent=(vt=(at=Qe.group)===null||at===void 0?void 0:at.title)!==null&&vt!==void 0?vt:""}disposeTemplate(Qe){}}let W=class{get templateId(){return"action"}constructor(Qe,rt){this._supportsPreview=Qe,this._keybindingService=rt}renderTemplate(Qe){Qe.classList.add(this.templateId);const rt=document.createElement("div");rt.className="icon",Qe.append(rt);const Dt=document.createElement("span");Dt.className="title",Qe.append(Dt);const at=new F.e(Qe,Y.OS);return{container:Qe,icon:rt,text:Dt,keybinding:at}}renderElement(Qe,rt,Dt){var at,vt,Mt;if(!((at=Qe.group)===null||at===void 0)&&at.icon?(Dt.icon.className=P.k.asClassName(Qe.group.icon),Qe.group.icon.color&&(Dt.icon.style.color=(0,R.n_1)(Qe.group.icon.color.id))):(Dt.icon.className=P.k.asClassName(v.l.lightBulb),Dt.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!Qe.item||!Qe.label)return;Dt.text.textContent=ie(Qe.label),Dt.keybinding.set(Qe.keybinding),b.iJ(!!Qe.keybinding,Dt.keybinding.element);const ti=(vt=this._keybindingService.lookupKeybinding(U))===null||vt===void 0?void 0:vt.getLabel(),Ft=(Mt=this._keybindingService.lookupKeybinding(G))===null||Mt===void 0?void 0:Mt.getLabel();Dt.container.classList.toggle("option-disabled",Qe.disabled),Qe.disabled?Dt.container.title=Qe.label:ti&&Ft?this._supportsPreview&&Qe.canPreview?Dt.container.title=(0,S.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",ti,Ft):Dt.container.title=(0,S.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",ti):Dt.container.title=""}disposeTemplate(Qe){}};W=A([H(1,o.d)],W);class K extends UIEvent{constructor(){super("acceptSelectedAction")}}class m extends UIEvent{constructor(){super("previewSelectedAction")}}function J(Ae){if(Ae.kind==="action")return Ae.label}let X=class extends c.JT{constructor(Qe,rt,Dt,at,vt,Mt){super(),this._delegate=at,this._contextViewService=vt,this._keybindingService=Mt,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new $.A),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const ti={getHeight:Ft=>Ft.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:Ft=>Ft.kind};this._list=this._register(new B.aV(Qe,this.domNode,ti,[new W(rt,this._keybindingService),new j],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:J},accessibilityProvider:{getAriaLabel:Ft=>{if(Ft.kind==="action"){let ei=Ft.label?ie(Ft==null?void 0:Ft.label):"";return Ft.disabled&&(ei=(0,S.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",ei,Ft.disabled)),ei}return null},getWidgetAriaLabel:()=>(0,S.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:Ft=>Ft.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(V.O2),this._register(this._list.onMouseClick(Ft=>this.onListClick(Ft))),this._register(this._list.onMouseOver(Ft=>this.onListHover(Ft))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(Ft=>this.onListSelection(Ft))),this._allMenuItems=Dt,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(Qe){return!Qe.disabled&&Qe.kind==="action"}hide(Qe){this._delegate.onHide(Qe),this.cts.cancel(),this._contextViewService.hideContextView()}layout(Qe){const rt=this._allMenuItems.filter(Ft=>Ft.kind==="header").length,at=this._allMenuItems.length*this._actionLineHeight+rt*this._headerLineHeight-rt*this._actionLineHeight;this._list.layout(at);let vt=Qe;if(this._allMenuItems.length>=50)vt=380;else{const Ft=this._allMenuItems.map((ei,Xt)=>{const Ct=this.domNode.ownerDocument.getElementById(this._list.getElementID(Xt));if(Ct){Ct.style.width="auto";const ft=Ct.getBoundingClientRect().width;return Ct.style.width="",ft}return 0});vt=Math.max(...Ft,Qe)}const Mt=.7,ti=Math.min(at,this.domNode.ownerDocument.body.clientHeight*Mt);return this._list.layout(ti,vt),this.domNode.style.height=`${ti}px`,this._list.domFocus(),vt}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(Qe){const rt=this._list.getFocus();if(rt.length===0)return;const Dt=rt[0],at=this._list.element(Dt);if(!this.focusCondition(at))return;const vt=Qe?new m:new K;this._list.setSelection([Dt],vt)}onListSelection(Qe){if(!Qe.elements.length)return;const rt=Qe.elements[0];rt.item&&this.focusCondition(rt)?this._delegate.onSelect(rt.item,Qe.browserEvent instanceof m):this._list.setSelection([])}onFocus(){var Qe,rt;this._list.domFocus();const Dt=this._list.getFocus();if(Dt.length===0)return;const at=Dt[0],vt=this._list.element(at);(rt=(Qe=this._delegate).onFocus)===null||rt===void 0||rt.call(Qe,vt.item)}onListHover(Qe){return qt(this,null,function*(){const rt=Qe.element;if(rt&&rt.item&&this.focusCondition(rt)){if(this._delegate.onHover&&!rt.disabled&&rt.kind==="action"){const Dt=yield this._delegate.onHover(rt.item,this.cts.token);rt.canPreview=Dt?Dt.canPreview:void 0}Qe.index&&this._list.splice(Qe.index,1,[rt])}this._list.setFocus(typeof Qe.index=="number"?[Qe.index]:[])})}onListClick(Qe){Qe.element&&this.focusCondition(Qe.element)&&this._list.setFocus([])}};X=A([H(4,w.u),H(5,o.d)],X);function ie(Ae){return Ae.replace(/\r\n|\r|\n/g," ")}var le=e(84144),fe=e(32064),Le=e(65026),pe=e(72065),Te=function(Ae,Qe,rt,Dt){var at=arguments.length,vt=at<3?Qe:Dt===null?Dt=Object.getOwnPropertyDescriptor(Qe,rt):Dt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vt=Reflect.decorate(Ae,Qe,rt,Dt);else for(var ti=Ae.length-1;ti>=0;ti--)(Mt=Ae[ti])&&(vt=(at<3?Mt(vt):at>3?Mt(Qe,rt,vt):Mt(Qe,rt))||vt);return at>3&&vt&&Object.defineProperty(Qe,rt,vt),vt},De=function(Ae,Qe){return function(rt,Dt){Qe(rt,Dt,Ae)}};(0,R.P6G)("actionBar.toggledBackground",{dark:R.XEs,light:R.XEs,hcDark:R.XEs,hcLight:R.XEs},(0,S.NC)("actionBar.toggledBackground","Background color for toggled action items in action bar."));const ae={Visible:new fe.uy("codeActionMenuVisible",!1,(0,S.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},Ne=(0,pe.yh)("actionWidgetService");let We=class extends c.JT{get isVisible(){return ae.Visible.getValue(this._contextKeyService)||!1}constructor(Qe,rt,Dt){super(),this._contextViewService=Qe,this._contextKeyService=rt,this._instantiationService=Dt,this._list=this._register(new c.XK)}show(Qe,rt,Dt,at,vt,Mt,ti){const Ft=ae.Visible.bindTo(this._contextKeyService),ei=this._instantiationService.createInstance(X,Qe,rt,Dt,at);this._contextViewService.showContextView({getAnchor:()=>vt,render:Xt=>(Ft.set(!0),this._renderWidget(Xt,ei,ti!=null?ti:[])),onHide:Xt=>{Ft.reset(),this._onWidgetClosed(Xt)}},Mt,!1)}acceptSelected(Qe){var rt;(rt=this._list.value)===null||rt===void 0||rt.acceptSelected(Qe)}focusPrevious(){var Qe,rt;(rt=(Qe=this._list)===null||Qe===void 0?void 0:Qe.value)===null||rt===void 0||rt.focusPrevious()}focusNext(){var Qe,rt;(rt=(Qe=this._list)===null||Qe===void 0?void 0:Qe.value)===null||rt===void 0||rt.focusNext()}hide(){var Qe;(Qe=this._list.value)===null||Qe===void 0||Qe.hide(),this._list.clear()}_renderWidget(Qe,rt,Dt){var at;const vt=document.createElement("div");if(vt.classList.add("action-widget"),Qe.appendChild(vt),this._list.value=rt,this._list.value)vt.appendChild(this._list.value.domNode);else throw new Error("List has no value");const Mt=new c.SL,ti=document.createElement("div"),Ft=Qe.appendChild(ti);Ft.classList.add("context-view-block"),Mt.add(b.nm(Ft,b.tw.MOUSE_DOWN,kt=>kt.stopPropagation()));const ei=document.createElement("div"),Xt=Qe.appendChild(ei);Xt.classList.add("context-view-pointerBlock"),Mt.add(b.nm(Xt,b.tw.POINTER_MOVE,()=>Xt.remove())),Mt.add(b.nm(Xt,b.tw.MOUSE_DOWN,()=>Xt.remove()));let Ct=0;if(Dt.length){const kt=this._createActionBar(".action-widget-action-bar",Dt);kt&&(vt.appendChild(kt.getContainer().parentElement),Mt.add(kt),Ct=kt.getContainer().offsetWidth)}const ft=(at=this._list.value)===null||at===void 0?void 0:at.layout(Ct);vt.style.width=`${ft}px`;const Bt=Mt.add(b.go(Qe));return Mt.add(Bt.onDidBlur(()=>this.hide())),Mt}_createActionBar(Qe,rt){if(!rt.length)return;const Dt=b.$(Qe),at=new T.o(Dt);return at.push(rt,{icon:!1,label:!0}),at}_onWidgetClosed(Qe){var rt;(rt=this._list.value)===null||rt===void 0||rt.hide(Qe)}};We=Te([De(0,w.u),De(1,fe.i6),De(2,pe.TG)],We),(0,Le.z)(Ne,We,1);const ze=100+1e3;(0,le.r1)(class extends le.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,S.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:ae.Visible,keybinding:{weight:ze,primary:9,secondary:[1033]}})}run(Ae){Ae.get(Ne).hide()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,S.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:ae.Visible,keybinding:{weight:ze,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(Ae){const Qe=Ae.get(Ne);Qe instanceof We&&Qe.focusPrevious()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,S.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:ae.Visible,keybinding:{weight:ze,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(Ae){const Qe=Ae.get(Ne);Qe instanceof We&&Qe.focusNext()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:U,title:{value:(0,S.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:ae.Visible,keybinding:{weight:ze,primary:3,secondary:[2137]}})}run(Ae){const Qe=Ae.get(Ne);Qe instanceof We&&Qe.acceptSelected()}}),(0,le.r1)(class extends le.Ke{constructor(){super({id:G,title:{value:(0,S.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:ae.Visible,keybinding:{weight:ze,primary:2051}})}run(Ae){const Qe=Ae.get(Ne);Qe instanceof We&&Qe.acceptSelected(!0)}});var Se=e(94565),ne=e(33108),ce=e(98674),Oe=e(90535),Pe=e(92321),Me=e(97781),ye=e(17016),_e=function(Ae,Qe,rt,Dt){var at=arguments.length,vt=at<3?Qe:Dt===null?Dt=Object.getOwnPropertyDescriptor(Qe,rt):Dt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vt=Reflect.decorate(Ae,Qe,rt,Dt);else for(var ti=Ae.length-1;ti>=0;ti--)(Mt=Ae[ti])&&(vt=(at<3?Mt(vt):at>3?Mt(Qe,rt,vt):Mt(Qe,rt))||vt);return at>3&&vt&&Object.defineProperty(Qe,rt,vt),vt},se=function(Ae,Qe){return function(rt,Dt){Qe(rt,Dt,Ae)}},ve;const xe="quickfix-edit-highlight";let je=ve=class extends c.JT{static get(Qe){return Qe.getContribution(ve.ID)}constructor(Qe,rt,Dt,at,vt,Mt,ti,Ft,ei,Xt){super(),this._commandService=ti,this._configurationService=Ft,this._actionWidgetService=ei,this._instantiationService=Xt,this._activeCodeActions=this._register(new c.XK),this._showDisabled=!1,this._disposed=!1,this._editor=Qe,this._model=this._register(new ye.Jt(this._editor,vt.codeActionProvider,rt,Dt,Mt,Ft)),this._register(this._model.onDidChangeState(Ct=>this.update(Ct))),this._lightBulbWidget=new E.o(()=>{const Ct=this._editor.getContribution(L.f.ID);return Ct&&this._register(Ct.onClick(ft=>this.showCodeActionList(ft.actions,ft,{includeDisabledActions:!1,fromLightbulb:!0}))),Ct}),this._resolver=at.createInstance(n),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(Qe,rt,Dt){return this.showCodeActionList(rt,Dt,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Qe,rt,Dt,at){var vt;if(!this._editor.hasModel())return;(vt=O.O.get(this._editor))===null||vt===void 0||vt.closeMessage();const Mt=this._editor.getPosition();this._trigger({type:1,triggerAction:rt,filter:Dt,autoApply:at,context:{notAvailableMessage:Qe,position:Mt}})}_trigger(Qe){return this._model.trigger(Qe)}_applyCodeAction(Qe,rt,Dt){return qt(this,null,function*(){try{yield this._instantiationService.invokeFunction(D.LR,Qe,D.UX.FromCodeActions,{preview:Dt,editor:this._editor})}finally{rt&&this._trigger({type:2,triggerAction:p.aQ.QuickFix,filter:{}})}})}update(Qe){return qt(this,null,function*(){var rt,Dt,at,vt,Mt,ti,Ft;if(Qe.type!==1){(rt=this._lightBulbWidget.rawValue)===null||rt===void 0||rt.hide();return}let ei;try{ei=yield Qe.actions}catch(Xt){(0,r.dL)(Xt);return}if(!this._disposed)if((Dt=this._lightBulbWidget.value)===null||Dt===void 0||Dt.update(ei,Qe.trigger,Qe.position),Qe.trigger.type===1){if(!((at=Qe.trigger.filter)===null||at===void 0)&&at.include){const Ct=this.tryGetValidActionToApply(Qe.trigger,ei);if(Ct){try{(vt=this._lightBulbWidget.value)===null||vt===void 0||vt.hide(),yield this._applyCodeAction(Ct,!1,!1)}finally{ei.dispose()}return}if(Qe.trigger.context){const ft=this.getInvalidActionThatWouldHaveBeenApplied(Qe.trigger,ei);if(ft&&ft.action.disabled){(Mt=O.O.get(this._editor))===null||Mt===void 0||Mt.showMessage(ft.action.disabled,Qe.trigger.context.position),ei.dispose();return}}}const Xt=!!(!((ti=Qe.trigger.filter)===null||ti===void 0)&&ti.include);if(Qe.trigger.context&&(!ei.allActions.length||!Xt&&!ei.validActions.length)){(Ft=O.O.get(this._editor))===null||Ft===void 0||Ft.showMessage(Qe.trigger.context.notAvailableMessage,Qe.trigger.context.position),this._activeCodeActions.value=ei,ei.dispose();return}this._activeCodeActions.value=ei,this.showCodeActionList(ei,this.toCoords(Qe.position),{includeDisabledActions:Xt,fromLightbulb:!1})}else this._actionWidgetService.isVisible?ei.dispose():this._activeCodeActions.value=ei})}getInvalidActionThatWouldHaveBeenApplied(Qe,rt){if(rt.allActions.length&&(Qe.autoApply==="first"&&rt.validActions.length===0||Qe.autoApply==="ifSingle"&&rt.allActions.length===1))return rt.allActions.find(({action:Dt})=>Dt.disabled)}tryGetValidActionToApply(Qe,rt){if(rt.validActions.length&&(Qe.autoApply==="first"&&rt.validActions.length>0||Qe.autoApply==="ifSingle"&&rt.validActions.length===1))return rt.validActions[0]}showCodeActionList(Qe,rt,Dt){return qt(this,null,function*(){const at=this._editor.createDecorationsCollection(),vt=this._editor.getDomNode();if(!vt)return;const Mt=Dt.includeDisabledActions&&(this._showDisabled||Qe.validActions.length===0)?Qe.allActions:Qe.validActions;if(!Mt.length)return;const ti=_.L.isIPosition(rt)?this.toCoords(rt):rt,Ft={onSelect:(ei,Xt)=>qt(this,null,function*(){this._applyCodeAction(ei,!0,!!Xt),this._actionWidgetService.hide(),at.clear()}),onHide:()=>{var ei;(ei=this._editor)===null||ei===void 0||ei.focus(),at.clear()},onHover:(ei,Xt)=>qt(this,null,function*(){var Ct;if(yield ei.resolve(Xt),!Xt.isCancellationRequested)return{canPreview:!!(!((Ct=ei.action.edit)===null||Ct===void 0)&&Ct.edits.length)}}),onFocus:ei=>{var Xt,Ct;if(ei&&ei.highlightRange&&ei.action.diagnostics){const ft=[{range:ei.action.diagnostics[0],options:ve.DECORATION}];at.set(ft);const Bt=ei.action.diagnostics[0],kt=(Ct=(Xt=this._editor.getModel())===null||Xt===void 0?void 0:Xt.getWordAtPosition({lineNumber:Bt.startLineNumber,column:Bt.startColumn}))===null||Ct===void 0?void 0:Ct.word;z.i7((0,S.NC)("editingNewSelection","Context: {0} at line {1} and column {2}.",kt,Bt.startLineNumber,Bt.startColumn))}else at.clear()}};this._actionWidgetService.show("codeActionWidget",!0,C(Mt,this._shouldShowHeaders(),this._resolver.getResolver()),Ft,ti,vt,this._getActionBarActions(Qe,rt,Dt))})}toCoords(Qe){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Qe,1),this._editor.render();const rt=this._editor.getScrolledVisiblePosition(Qe),Dt=(0,b.i)(this._editor.getDomNode()),at=Dt.left+rt.left,vt=Dt.top+rt.top+rt.height;return{x:at,y:vt}}_shouldShowHeaders(){var Qe;const rt=(Qe=this._editor)===null||Qe===void 0?void 0:Qe.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:rt==null?void 0:rt.uri})}_getActionBarActions(Qe,rt,Dt){if(Dt.fromLightbulb)return[];const at=Qe.documentation.map(vt=>{var Mt;return{id:vt.id,label:vt.title,tooltip:(Mt=vt.tooltip)!==null&&Mt!==void 0?Mt:"",class:void 0,enabled:!0,run:()=>{var ti;return this._commandService.executeCommand(vt.id,...(ti=vt.arguments)!==null&&ti!==void 0?ti:[])}}});return Dt.includeDisabledActions&&Qe.validActions.length>0&&Qe.allActions.length!==Qe.validActions.length&&at.push(this._showDisabled?{id:"hideMoreActions",label:(0,S.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(Qe,rt,Dt))}:{id:"showMoreActions",label:(0,S.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(Qe,rt,Dt))}),at}};je.ID="editor.contrib.codeActionController",je.DECORATION=I.qx.register({description:"quickfix-highlight",className:xe}),je=ve=_e([se(1,ce.lT),se(2,fe.i6),se(3,pe.TG),se(4,M.p),se(5,Oe.ek),se(6,Se.H),se(7,ne.Ui),se(8,Ne),se(9,pe.TG)],je),(0,Me.Ic)((Ae,Qe)=>{((at,vt)=>{vt&&Qe.addRule(`.monaco-editor ${at} { background-color: ${vt}; }`)})(".quickfix-edit-highlight",Ae.getColor(R.MUv));const Dt=Ae.getColor(R.EiJ);Dt&&Qe.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,Pe.c3)(Ae.type)?"dotted":"solid"} ${Dt}; box-sizing: border-box; }`)})},17016:function(Pt,Ke,e){"use strict";e.d(Ke,{Jt:function(){return v},fj:function(){return u}});var b=e(15393),z=e(17301),r=e(4669),E=e(5976),c=e(95935),_=e(64141),I=e(50187),M=e(3860),D=e(32064),p=e(90535),o=e(87997),d=e(75396);const u=new D.uy("supportedCodeAction","");class i extends E.JT{constructor(S,g,y,C=250){super(),this._editor=S,this._markerService=g,this._signalChange=y,this._delay=C,this._autoTriggerTimer=this._register(new b._F),this._register(this._markerService.onMarkerChanged(L=>this._onMarkerChanges(L))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(S){const g=this._getRangeOfSelectionUnlessWhitespaceEnclosed(S);this._signalChange(g?{trigger:S,selection:g}:void 0)}_onMarkerChanges(S){const g=this._editor.getModel();g&&S.some(y=>(0,c.Xy)(y,g.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:o.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(S){var g;if(!this._editor.hasModel())return;const y=this._editor.getModel(),C=this._editor.getSelection();if(C.isEmpty()&&S.type===2){const{lineNumber:L,column:O}=C.getPosition(),T=y.getLineContent(L);if(T.length===0){if(!(((g=this._editor.getOption(64).experimental)===null||g===void 0?void 0:g.showAiIcon)===_.JO.On))return}else if(O===1){if(/\s/.test(T[0]))return}else if(O===y.getLineMaxColumn(L)){if(/\s/.test(T[T.length-1]))return}else if(/\s/.test(T[O-2])&&/\s/.test(T[O-1]))return}return C}}var n;(function(a){a.Empty={type:0};class S{constructor(y,C,L){this.trigger=y,this.position=C,this._cancellablePromise=L,this.type=1,this.actions=L.catch(O=>{if((0,z.n2)(O))return f;throw O})}cancel(){this._cancellablePromise.cancel()}}a.Triggered=S})(n||(n={}));const f=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class v extends E.JT{constructor(S,g,y,C,L,O){super(),this._editor=S,this._registry=g,this._markerService=y,this._progressService=L,this._configurationService=O,this._codeActionOracle=this._register(new E.XK),this._state=n.Empty,this._onDidChangeState=this._register(new r.Q5),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=u.bindTo(C),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(n.Empty,!0))}_settingEnabledNearbyQuickfixes(){var S;const g=(S=this._editor)===null||S===void 0?void 0:S.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:g==null?void 0:g.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(n.Empty);const S=this._editor.getModel();if(S&&this._registry.has(S)&&!this._editor.getOption(90)){const g=this._registry.all(S).flatMap(y=>{var C;return(C=y.providedCodeActionKinds)!==null&&C!==void 0?C:[]});this._supportedCodeActions.set(g.join(" ")),this._codeActionOracle.value=new i(this._editor,this._markerService,y=>{var C;if(!y){this.setState(n.Empty);return}const L=y.selection.getStartPosition(),O=(0,b.PG)(T=>qt(this,null,function*(){var F,B,$,Y,P,w;if(this._settingEnabledNearbyQuickfixes()&&y.trigger.type===1&&(y.trigger.triggerAction===o.aQ.QuickFix||!((B=(F=y.trigger.filter)===null||F===void 0?void 0:F.include)===null||B===void 0)&&B.contains(o.yN.QuickFix))){const V=yield(0,d.aI)(this._registry,S,y.selection,y.trigger,p.Ex.None,T),R=[...V.allActions];if(T.isCancellationRequested)return f;if(!(($=V.validActions)===null||$===void 0?void 0:$.some(H=>H.action.kind?o.yN.QuickFix.contains(new o.yN(H.action.kind)):!1))){const H=this._markerService.read({resource:S.uri});if(H.length>0){const U=y.selection.getPosition();let G=U,j=Number.MAX_VALUE;const W=[...V.validActions];for(const m of H){const J=m.endColumn,X=m.endLineNumber,ie=m.startLineNumber;if(X===U.lineNumber||ie===U.lineNumber){G=new I.L(X,J);const le={type:y.trigger.type,triggerAction:y.trigger.triggerAction,filter:{include:!((Y=y.trigger.filter)===null||Y===void 0)&&Y.include?(P=y.trigger.filter)===null||P===void 0?void 0:P.include:o.yN.QuickFix},autoApply:y.trigger.autoApply,context:{notAvailableMessage:((w=y.trigger.context)===null||w===void 0?void 0:w.notAvailableMessage)||"",position:G}},fe=new M.Y(G.lineNumber,G.column,G.lineNumber,G.column),Le=yield(0,d.aI)(this._registry,S,fe,le,p.Ex.None,T);if(Le.validActions.length!==0){for(const pe of Le.validActions)pe.highlightRange=pe.action.isPreferred;V.allActions.length===0&&R.push(...Le.allActions),Math.abs(U.column-J)<j?W.unshift(...Le.validActions):W.push(...Le.validActions)}j=Math.abs(U.column-J)}}const K=W.filter((m,J,X)=>X.findIndex(ie=>ie.action.title===m.action.title)===J);return K.sort((m,J)=>m.action.isPreferred&&!J.action.isPreferred?-1:!m.action.isPreferred&&J.action.isPreferred||m.action.isAI&&!J.action.isAI?1:!m.action.isAI&&J.action.isAI?-1:0),{validActions:K,allActions:R,documentation:V.documentation,hasAutoFix:V.hasAutoFix,hasAIFix:V.hasAIFix,allAIFixes:V.allAIFixes,dispose:()=>{V.dispose()}}}}}return(0,d.aI)(this._registry,S,y.selection,y.trigger,p.Ex.None,T)}));y.trigger.type===1&&((C=this._progressService)===null||C===void 0||C.showWhile(O,250)),this.setState(new n.Triggered(y.trigger,L,O))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:o.aQ.Default})}else this._supportedCodeActions.reset()}trigger(S){var g;(g=this._codeActionOracle.value)===null||g===void 0||g.trigger(S)}setState(S,g){S!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=S,!g&&!this._disposed&&this._onDidChangeState.fire(S))}}},3366:function(Pt,Ke,e){"use strict";e.d(Ke,{f:function(){return v}});var b=e(65321),z=e(10553),r=e(73046),E=e(4669),c=e(5976),_=e(25670),I=e(64141),M=e(59616),D=e(75396),p=e(63580),o=e(94565),d=e(91847),u=function(a,S,g,y){var C=arguments.length,L=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(a,S,g,y);else for(var T=a.length-1;T>=0;T--)(O=a[T])&&(L=(C<3?O(L):C>3?O(S,g,L):O(S,g))||L);return C>3&&L&&Object.defineProperty(S,g,L),L},i=function(a,S){return function(g,y){S(g,y,a)}},n,f;(function(a){a.Hidden={type:0};class S{constructor(y,C,L,O){this.actions=y,this.trigger=C,this.editorPosition=L,this.widgetPosition=O,this.type=1}}a.Showing=S})(f||(f={}));let v=n=class extends c.JT{constructor(S,g,y){super(),this._editor=S,this._keybindingService=g,this._onClick=this._register(new E.Q5),this.onClick=this._onClick.event,this._state=f.Hidden,this._iconClasses=[],this._domNode=b.$("div.lightBulbWidget"),this._register(z.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(C=>{const L=this._editor.getModel();(this.state.type!==1||!L||this.state.editorPosition.lineNumber>=L.getLineCount())&&this.hide()})),this._register(b.GQ(this._domNode,C=>{var L;if(this.state.type!==1)return;const O=this._editor.getOption(64).experimental.showAiIcon;if((O===I.JO.On||O===I.JO.OnCode)&&this.state.actions.allAIFixes&&this.state.actions.validActions.length===1){const Y=this.state.actions.validActions[0].action;if(!((L=Y.command)===null||L===void 0)&&L.id){y.executeCommand(Y.command.id,...Y.command.arguments||[]),C.preventDefault();return}}this._editor.focus(),C.preventDefault();const{top:T,height:F}=b.i(this._domNode),B=this._editor.getOption(66);let $=Math.floor(B/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&($+=B),this._onClick.fire({x:C.posx,y:T+F+$,actions:this.state.actions,trigger:this.state.trigger})})),this._register(b.nm(this._domNode,"mouseenter",C=>{(C.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(C=>{C.hasChanged(64)&&(this._editor.getOption(64).enabled||this.hide(),this._updateLightBulbTitleAndIcon())})),this._register(E.ju.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var C,L,O,T;this._preferredKbLabel=(L=(C=this._keybindingService.lookupKeybinding(D.pZ))===null||C===void 0?void 0:C.getLabel())!==null&&L!==void 0?L:void 0,this._quickFixKbLabel=(T=(O=this._keybindingService.lookupKeybinding(D.cz))===null||O===void 0?void 0:O.getLabel())!==null&&T!==void 0?T:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(S,g,y){if(S.validActions.length<=0)return this.hide();const C=this._editor.getOptions();if(!C.get(64).enabled)return this.hide();const L=this._editor.getModel();if(!L)return this.hide();const{lineNumber:O,column:T}=L.validatePosition(y),F=L.getOptions().tabSize,B=C.get(50),$=L.getLineContent(O),Y=(0,M.q)($,F),P=B.spaceWidth*Y>22,w=R=>R>2&&this._editor.getTopForLineNumber(R)===this._editor.getTopForLineNumber(R-1);let V=O;if(!P){if(O>1&&!w(O-1))V-=1;else if(!w(O+1))V+=1;else if(T*B.spaceWidth<22)return this.hide()}this.state=new f.Showing(S,g,y,{position:{lineNumber:V,column:L.getLineContent(V).match(/^\S\s*$/)?2:1},preference:n._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==f.Hidden&&(this.state=f.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(S){this._state=S,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){var S,g,y;if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;const C=()=>{this._preferredKbLabel&&(this.title=p.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel))},L=()=>{this._quickFixKbLabel?this.title=p.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=p.NC("codeAction","Show Code Actions")};let O;const T=this._editor.getOption(64).experimental.showAiIcon;if(T===I.JO.On||T===I.JO.OnCode)if(T===I.JO.On&&this.state.actions.allAIFixes)if(O=r.l.sparkleFilled,this.state.actions.allAIFixes&&this.state.actions.validActions.length===1)if(((S=this.state.actions.validActions[0].action.command)===null||S===void 0?void 0:S.id)==="inlineChat.start"){const F=(y=(g=this._keybindingService.lookupKeybinding("inlineChat.start"))===null||g===void 0?void 0:g.getLabel())!==null&&y!==void 0?y:void 0;this.title=F?p.NC("codeActionStartInlineChatWithKb","Start Inline Chat ({0})",F):p.NC("codeActionStartInlineChat","Start Inline Chat")}else this.title=p.NC("codeActionTriggerAiAction","Trigger AI Action");else L();else this.state.actions.hasAutoFix?(this.state.actions.hasAIFix?O=r.l.lightbulbSparkleAutofix:O=r.l.lightbulbAutofix,C()):this.state.actions.hasAIFix?(O=r.l.lightbulbSparkle,L()):(O=r.l.lightBulb,L());else this.state.actions.hasAutoFix?(O=r.l.lightbulbAutofix,C()):(O=r.l.lightBulb,L());this._iconClasses=_.k.asClassNameArray(O),this._domNode.classList.add(...this._iconClasses)}set title(S){this._domNode.title=S}};v.ID="editor.contrib.lightbulbWidget",v._posPref=[0],v=n=u([i(1,d.d),i(2,o.H)],v)},87997:function(Pt,Ke,e){"use strict";e.d(Ke,{EU:function(){return E},Yl:function(){return c},aQ:function(){return r},bA:function(){return M},wZ:function(){return I},yN:function(){return z}});var b=e(17301);class z{constructor(p){this.value=p}equals(p){return this.value===p.value}contains(p){return this.equals(p)||this.value===""||p.value.startsWith(this.value+z.sep)}intersects(p){return this.contains(p)||p.contains(this)}append(p){return new z(this.value+z.sep+p)}}z.sep=".",z.None=new z("@@none@@"),z.Empty=new z(""),z.QuickFix=new z("quickfix"),z.Refactor=new z("refactor"),z.RefactorExtract=z.Refactor.append("extract"),z.RefactorInline=z.Refactor.append("inline"),z.RefactorMove=z.Refactor.append("move"),z.RefactorRewrite=z.Refactor.append("rewrite"),z.Notebook=new z("notebook"),z.Source=new z("source"),z.SourceOrganizeImports=z.Source.append("organizeImports"),z.SourceFixAll=z.Source.append("fixAll"),z.SurroundWith=z.Refactor.append("surround");var r;(function(D){D.Refactor="refactor",D.RefactorPreview="refactor preview",D.Lightbulb="lightbulb",D.Default="other (default)",D.SourceAction="source action",D.QuickFix="quick fix action",D.FixAll="fix all",D.OrganizeImports="organize imports",D.AutoFix="auto fix",D.QuickFixHover="quick fix hover window",D.OnSave="save participants",D.ProblemsView="problems view"})(r||(r={}));function E(D,p){return!(D.include&&!D.include.intersects(p)||D.excludes&&D.excludes.some(o=>_(p,o,D.include))||!D.includeSourceActions&&z.Source.contains(p))}function c(D,p){const o=p.kind?new z(p.kind):void 0;return!(D.include&&(!o||!D.include.contains(o))||D.excludes&&o&&D.excludes.some(d=>_(o,d,D.include))||!D.includeSourceActions&&o&&z.Source.contains(o)||D.onlyIncludePreferredActions&&!p.isPreferred)}function _(D,p,o){return!(!p.contains(D)||o&&p.contains(o))}class I{static fromUser(p,o){return!p||typeof p!="object"?new I(o.kind,o.apply,!1):new I(I.getKindFromUser(p,o.kind),I.getApplyFromUser(p,o.apply),I.getPreferredUser(p))}static getApplyFromUser(p,o){switch(typeof p.apply=="string"?p.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return o}}static getKindFromUser(p,o){return typeof p.kind=="string"?new z(p.kind):o}static getPreferredUser(p){return typeof p.preferred=="boolean"?p.preferred:!1}constructor(p,o,d){this.kind=p,this.apply=o,this.preferred=d}}class M{constructor(p,o,d){this.action=p,this.provider=o,this.highlightRange=d}resolve(p){return qt(this,null,function*(){var o;if(!((o=this.provider)===null||o===void 0)&&o.resolveCodeAction&&!this.action.edit){let d;try{d=yield this.provider.resolveCodeAction(this.action,p)}catch(u){(0,b.Cp)(u)}d&&(this.action.edit=d.edit)}return this})}}},32871:function(Pt,Ke,e){"use strict";var b=e(15393),z=e(17301),r=e(5976),E=e(43407),c=e(16830),_=e(64141),I=e(29102),M=e(71050),D=e(98401),p=e(70666),o=e(73733),d=e(94565),u=e(71922);class i{constructor(){this.lenses=[],this._disposables=new r.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(ie,le){this._disposables.add(ie);for(const fe of ie.lenses)this.lenses.push({symbol:fe,provider:le})}}function n(X,ie,le){return qt(this,null,function*(){const fe=X.ordered(ie),Le=new Map,pe=new i,Te=fe.map((De,ae)=>qt(this,null,function*(){Le.set(De,ae);try{const Ne=yield Promise.resolve(De.provideCodeLenses(ie,le));Ne&&pe.add(Ne,De)}catch(Ne){(0,z.Cp)(Ne)}}));return yield Promise.all(Te),pe.lenses=pe.lenses.sort((De,ae)=>De.symbol.range.startLineNumber<ae.symbol.range.startLineNumber?-1:De.symbol.range.startLineNumber>ae.symbol.range.startLineNumber?1:Le.get(De.provider)<Le.get(ae.provider)?-1:Le.get(De.provider)>Le.get(ae.provider)?1:De.symbol.range.startColumn<ae.symbol.range.startColumn?-1:De.symbol.range.startColumn>ae.symbol.range.startColumn?1:0),pe})}d.P.registerCommand("_executeCodeLensProvider",function(X,...ie){let[le,fe]=ie;(0,D.p_)(p.o.isUri(le)),(0,D.p_)(typeof fe=="number"||!fe);const{codeLensProvider:Le}=X.get(u.p),pe=X.get(o.q).getModel(le);if(!pe)throw(0,z.b1)();const Te=[],De=new r.SL;return n(Le,pe,M.T.None).then(ae=>{De.add(ae);const Ne=[];for(const We of ae.lenses)fe==null||We.symbol.command?Te.push(We.symbol):fe-- >0&&We.provider.resolveCodeLens&&Ne.push(Promise.resolve(We.provider.resolveCodeLens(pe,We.symbol,M.T.None)).then(ze=>Te.push(ze||We.symbol)));return Promise.all(Ne)}).then(()=>Te).finally(()=>{setTimeout(()=>De.dispose(),100)})});var f=e(4669),v=e(43702),a=e(24314),S=e(65026),g=e(72065),y=e(87060),C=e(48906),L=e(65321),O=function(X,ie,le,fe){var Le=arguments.length,pe=Le<3?ie:fe===null?fe=Object.getOwnPropertyDescriptor(ie,le):fe,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(X,ie,le,fe);else for(var De=X.length-1;De>=0;De--)(Te=X[De])&&(pe=(Le<3?Te(pe):Le>3?Te(ie,le,pe):Te(ie,le))||pe);return Le>3&&pe&&Object.defineProperty(ie,le,pe),pe},T=function(X,ie){return function(le,fe){ie(le,fe,X)}};const F=(0,g.yh)("ICodeLensCache");class B{constructor(ie,le){this.lineCount=ie,this.data=le}}let $=class{constructor(ie){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new v.z6(20,.75);const le="codelens/cache";(0,L.se)(C.Ex,()=>ie.remove(le,1));const fe="codelens/cache2",Le=ie.get(fe,1,"{}");this._deserialize(Le),f.ju.once(ie.onWillSaveState)(pe=>{pe.reason===y.fk.SHUTDOWN&&ie.store(fe,this._serialize(),1,1)})}put(ie,le){const fe=le.lenses.map(Te=>{var De;return{range:Te.symbol.range,command:Te.symbol.command&&{id:"",title:(De=Te.symbol.command)===null||De===void 0?void 0:De.title}}}),Le=new i;Le.add({lenses:fe,dispose:()=>{}},this._fakeProvider);const pe=new B(ie.getLineCount(),Le);this._cache.set(ie.uri.toString(),pe)}get(ie){const le=this._cache.get(ie.uri.toString());return le&&le.lineCount===ie.getLineCount()?le.data:void 0}delete(ie){this._cache.delete(ie.uri.toString())}_serialize(){const ie=Object.create(null);for(const[le,fe]of this._cache){const Le=new Set;for(const pe of fe.data.lenses)Le.add(pe.symbol.range.startLineNumber);ie[le]={lineCount:fe.lineCount,lines:[...Le.values()]}}return JSON.stringify(ie)}_deserialize(ie){try{const le=JSON.parse(ie);for(const fe in le){const Le=le[fe],pe=[];for(const De of Le.lines)pe.push({range:new a.e(De,1,De,11)});const Te=new i;Te.add({lenses:pe,dispose(){}},this._fakeProvider),this._cache.set(fe,new B(Le.lineCount,Te))}}catch(le){}}};$=O([T(0,y.Uy)],$),(0,S.z)(F,$,1);var Y=e(56811),P=e(84901);class w{constructor(ie,le,fe){this.afterColumn=1073741824,this.afterLineNumber=ie,this.heightInPx=le,this._onHeight=fe,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(ie){this._lastHeight===void 0?this._lastHeight=ie:this._lastHeight!==ie&&(this._lastHeight=ie,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class V{constructor(ie,le){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=ie,this._id=`codelens.widget-${V._idPool++}`,this.updatePosition(le),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(ie,le){this._commands.clear();const fe=[];let Le=!1;for(let pe=0;pe<ie.length;pe++){const Te=ie[pe];if(Te&&(Le=!0,Te.command)){const De=(0,Y.T)(Te.command.title.trim());Te.command.id?(fe.push(L.$("a",{id:String(pe),title:Te.command.tooltip,role:"button"},...De)),this._commands.set(String(pe),Te.command)):fe.push(L.$("span",{title:Te.command.tooltip},...De)),pe+1<ie.length&&fe.push(L.$("span",void 0,"\xA0|\xA0"))}}Le?(L.mc(this._domNode,...fe),this._isEmpty&&le&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.mc(this._domNode,L.$("span",void 0,"no commands"))}getCommand(ie){return ie.parentElement===this._domNode?this._commands.get(ie.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(ie){const le=this._editor.getModel().getLineFirstNonWhitespaceColumn(ie);this._widgetPosition={position:{lineNumber:ie,column:le},preference:[1]}}getPosition(){return this._widgetPosition||null}}V._idPool=0;class R{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(ie,le){this._addDecorations.push(ie),this._addDecorationsCallbacks.push(le)}removeDecoration(ie){this._removeDecorations.push(ie)}commit(ie){const le=ie.deltaDecorations(this._removeDecorations,this._addDecorations);for(let fe=0,Le=le.length;fe<Le;fe++)this._addDecorationsCallbacks[fe](le[fe])}}const A=P.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class H{constructor(ie,le,fe,Le,pe,Te){this._isDisposed=!1,this._editor=le,this._data=ie,this._decorationIds=[];let De;const ae=[];this._data.forEach((Ne,We)=>{Ne.symbol.command&&ae.push(Ne.symbol),fe.addDecoration({range:Ne.symbol.range,options:A},ze=>this._decorationIds[We]=ze),De?De=a.e.plusRange(De,Ne.symbol.range):De=a.e.lift(Ne.symbol.range)}),this._viewZone=new w(De.startLineNumber-1,pe,Te),this._viewZoneId=Le.addZone(this._viewZone),ae.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ae,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new V(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(ie,le){this._decorationIds.forEach(ie.removeDecoration,ie),this._decorationIds=[],le==null||le.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((ie,le)=>{const fe=this._editor.getModel().getDecorationRange(ie),Le=this._data[le].symbol;return!!(fe&&a.e.isEmpty(Le.range)===fe.isEmpty())})}updateCodeLensSymbols(ie,le){this._decorationIds.forEach(le.removeDecoration,le),this._decorationIds=[],this._data=ie,this._data.forEach((fe,Le)=>{le.addDecoration({range:fe.symbol.range,options:A},pe=>this._decorationIds[Le]=pe)})}updateHeight(ie,le){this._viewZone.heightInPx=ie,le.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(ie){if(!this._viewZone.isVisible())return null;for(let le=0;le<this._decorationIds.length;le++){const fe=ie.getDecorationRange(this._decorationIds[le]);fe&&(this._data[le].symbol.range=fe)}return this._data}updateCommands(ie){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ie,!0);for(let le=0;le<this._data.length;le++){const fe=ie[le];if(fe){const{symbol:Le}=this._data[le];Le.command=fe.command||Le.command}}}getCommand(ie){var le;return(le=this._contentWidget)===null||le===void 0?void 0:le.getCommand(ie)}getLineNumber(){const ie=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return ie?ie.startLineNumber:-1}update(ie){if(this.isValid()){const le=this._editor.getModel().getDecorationRange(this._decorationIds[0]);le&&(this._viewZone.afterLineNumber=le.startLineNumber-1,ie.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(le.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var U=e(63580),G=e(48894),j=e(41157),W=e(88191),K=function(X,ie,le,fe){var Le=arguments.length,pe=Le<3?ie:fe===null?fe=Object.getOwnPropertyDescriptor(ie,le):fe,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(X,ie,le,fe);else for(var De=X.length-1;De>=0;De--)(Te=X[De])&&(pe=(Le<3?Te(pe):Le>3?Te(ie,le,pe):Te(ie,le))||pe);return Le>3&&pe&&Object.defineProperty(ie,le,pe),pe},m=function(X,ie){return function(le,fe){ie(le,fe,X)}};let J=class{constructor(ie,le,fe,Le,pe,Te){this._editor=ie,this._languageFeaturesService=le,this._commandService=Le,this._notificationService=pe,this._codeLensCache=Te,this._disposables=new r.SL,this._localToDispose=new r.SL,this._lenses=[],this._oldCodeLensModels=new r.SL,this._provideCodeLensDebounce=fe.for(le.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=fe.for(le.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new b.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(De=>{(De.hasChanged(50)||De.hasChanged(19)||De.hasChanged(18))&&this._updateLensStyle(),De.hasChanged(17)&&this._onModelChange()})),this._disposables.add(le.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var ie;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(ie=this._currentCodeLensModel)===null||ie===void 0||ie.dispose()}_getLayoutInfo(){const ie=Math.max(1.3,this._editor.getOption(66)/this._editor.getOption(52));let le=this._editor.getOption(19);return(!le||le<5)&&(le=this._editor.getOption(52)*.9|0),{fontSize:le,codeLensHeight:le*ie|0}}_updateLensStyle(){const{codeLensHeight:ie,fontSize:le}=this._getLayoutInfo(),fe=this._editor.getOption(18),Le=this._editor.getOption(50),{style:pe}=this._editor.getContainerDomNode();pe.setProperty("--vscode-editorCodeLens-lineHeight",`${ie}px`),pe.setProperty("--vscode-editorCodeLens-fontSize",`${le}px`),pe.setProperty("--vscode-editorCodeLens-fontFeatureSettings",Le.fontFeatureSettings),fe&&(pe.setProperty("--vscode-editorCodeLens-fontFamily",fe),pe.setProperty("--vscode-editorCodeLens-fontFamilyDefault",_.hL.fontFamily)),this._editor.changeViewZones(Te=>{for(const De of this._lenses)De.updateHeight(ie,Te)})}_localDispose(){var ie,le,fe;(ie=this._getCodeLensModelPromise)===null||ie===void 0||ie.cancel(),this._getCodeLensModelPromise=void 0,(le=this._resolveCodeLensesPromise)===null||le===void 0||le.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(fe=this._currentCodeLensModel)===null||fe===void 0||fe.dispose()}_onModelChange(){this._localDispose();const ie=this._editor.getModel();if(!ie||!this._editor.getOption(17)||ie.isTooLargeForTokenization())return;const le=this._codeLensCache.get(ie);if(le&&this._renderCodeLensSymbols(le),!this._languageFeaturesService.codeLensProvider.has(ie)){le&&(0,b.Vg)(()=>{const Le=this._codeLensCache.get(ie);le===Le&&(this._codeLensCache.delete(ie),this._onModelChange())},30*1e3,this._localToDispose);return}for(const Le of this._languageFeaturesService.codeLensProvider.all(ie))if(typeof Le.onDidChange=="function"){const pe=Le.onDidChange(()=>fe.schedule());this._localToDispose.add(pe)}const fe=new b.pY(()=>{var Le;const pe=Date.now();(Le=this._getCodeLensModelPromise)===null||Le===void 0||Le.cancel(),this._getCodeLensModelPromise=(0,b.PG)(Te=>n(this._languageFeaturesService.codeLensProvider,ie,Te)),this._getCodeLensModelPromise.then(Te=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Te,this._codeLensCache.put(ie,Te);const De=this._provideCodeLensDebounce.update(ie,Date.now()-pe);fe.delay=De,this._renderCodeLensSymbols(Te),this._resolveCodeLensesInViewportSoon()},z.dL)},this._provideCodeLensDebounce.get(ie));this._localToDispose.add(fe),this._localToDispose.add((0,r.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var Le;this._editor.changeDecorations(pe=>{this._editor.changeViewZones(Te=>{const De=[];let ae=-1;this._lenses.forEach(We=>{!We.isValid()||ae===We.getLineNumber()?De.push(We):(We.update(Te),ae=We.getLineNumber())});const Ne=new R;De.forEach(We=>{We.dispose(Ne,Te),this._lenses.splice(this._lenses.indexOf(We),1)}),Ne.commit(pe)})}),fe.schedule(),this._resolveCodeLensesScheduler.cancel(),(Le=this._resolveCodeLensesPromise)===null||Le===void 0||Le.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{fe.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{fe.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(Le=>{Le.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,r.OF)(()=>{if(this._editor.getModel()){const Le=E.Z.capture(this._editor);this._editor.changeDecorations(pe=>{this._editor.changeViewZones(Te=>{this._disposeAllLenses(pe,Te)})}),Le.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(Le=>{if(Le.target.type!==9)return;let pe=Le.target.element;if((pe==null?void 0:pe.tagName)==="SPAN"&&(pe=pe.parentElement),(pe==null?void 0:pe.tagName)==="A")for(const Te of this._lenses){const De=Te.getCommand(pe);if(De){this._commandService.executeCommand(De.id,...De.arguments||[]).catch(ae=>this._notificationService.error(ae));break}}})),fe.schedule()}_disposeAllLenses(ie,le){const fe=new R;for(const Le of this._lenses)Le.dispose(fe,le);ie&&fe.commit(ie),this._lenses.length=0}_renderCodeLensSymbols(ie){if(!this._editor.hasModel())return;const le=this._editor.getModel().getLineCount(),fe=[];let Le;for(const De of ie.lenses){const ae=De.symbol.range.startLineNumber;ae<1||ae>le||(Le&&Le[Le.length-1].symbol.range.startLineNumber===ae?Le.push(De):(Le=[De],fe.push(Le)))}if(!fe.length&&!this._lenses.length)return;const pe=E.Z.capture(this._editor),Te=this._getLayoutInfo();this._editor.changeDecorations(De=>{this._editor.changeViewZones(ae=>{const Ne=new R;let We=0,ze=0;for(;ze<fe.length&&We<this._lenses.length;){const Se=fe[ze][0].symbol.range.startLineNumber,ne=this._lenses[We].getLineNumber();ne<Se?(this._lenses[We].dispose(Ne,ae),this._lenses.splice(We,1)):ne===Se?(this._lenses[We].updateCodeLensSymbols(fe[ze],Ne),ze++,We++):(this._lenses.splice(We,0,new H(fe[ze],this._editor,Ne,ae,Te.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),We++,ze++)}for(;We<this._lenses.length;)this._lenses[We].dispose(Ne,ae),this._lenses.splice(We,1);for(;ze<fe.length;)this._lenses.push(new H(fe[ze],this._editor,Ne,ae,Te.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ze++;Ne.commit(De)})}),pe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var ie;(ie=this._resolveCodeLensesPromise)===null||ie===void 0||ie.cancel(),this._resolveCodeLensesPromise=void 0;const le=this._editor.getModel();if(!le)return;const fe=[],Le=[];if(this._lenses.forEach(De=>{const ae=De.computeIfNecessary(le);ae&&(fe.push(ae),Le.push(De))}),fe.length===0)return;const pe=Date.now(),Te=(0,b.PG)(De=>{const ae=fe.map((Ne,We)=>{const ze=new Array(Ne.length),Se=Ne.map((ne,ce)=>!ne.symbol.command&&typeof ne.provider.resolveCodeLens=="function"?Promise.resolve(ne.provider.resolveCodeLens(le,ne.symbol,De)).then(Oe=>{ze[ce]=Oe},z.Cp):(ze[ce]=ne.symbol,Promise.resolve(void 0)));return Promise.all(Se).then(()=>{!De.isCancellationRequested&&!Le[We].isDisposed()&&Le[We].updateCommands(ze)})});return Promise.all(ae)});this._resolveCodeLensesPromise=Te,this._resolveCodeLensesPromise.then(()=>{const De=this._resolveCodeLensesDebounce.update(le,Date.now()-pe);this._resolveCodeLensesScheduler.delay=De,this._currentCodeLensModel&&this._codeLensCache.put(le,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Te===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},De=>{(0,z.dL)(De),Te===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return qt(this,null,function*(){var ie;return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((ie=this._currentCodeLensModel)===null||ie===void 0)&&ie.isDisposed?void 0:this._currentCodeLensModel})}};J.ID="css.editor.codeLens",J=K([m(1,u.p),m(2,W.A),m(3,d.H),m(4,G.lT),m(5,F)],J),(0,c._K)(J.ID,J,1),(0,c.Qr)(class extends c.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:I.u.hasCodeLensProvider,label:(0,U.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(ie,le){return qt(this,null,function*(){if(!le.hasModel())return;const fe=ie.get(j.eJ),Le=ie.get(d.H),pe=ie.get(G.lT),Te=le.getSelection().positionLineNumber,De=le.getContribution(J.ID);if(!De)return;const ae=yield De.getModel();if(!ae)return;const Ne=[];for(const Se of ae.lenses)Se.symbol.command&&Se.symbol.range.startLineNumber===Te&&Ne.push({label:Se.symbol.command.title,command:Se.symbol.command});if(Ne.length===0)return;const We=yield fe.pick(Ne,{canPickMany:!1,placeHolder:(0,U.NC)("placeHolder","Select a command")});if(!We)return;let ze=We.command;if(ae.isDisposed){const Se=yield De.getModel(),ne=Se==null?void 0:Se.lenses.find(ce=>{var Oe;return ce.symbol.range.startLineNumber===Te&&((Oe=ce.symbol.command)===null||Oe===void 0?void 0:Oe.title)===ze.title});if(!ne||!ne.symbol.command)return;ze=ne.symbol.command}try{yield Le.executeCommand(ze.id,...ze.arguments||[])}catch(Se){pe.error(Se)}})}})},52640:function(Pt,Ke,e){"use strict";e.d(Ke,{E:function(){return p},R:function(){return o}});var b=e(71050),z=e(17301),r=e(70666),E=e(24314),c=e(73733),_=e(94565),I=e(71922),M=e(15418),D=e(33108);function p(v,a,S,g=!0){return qt(this,null,function*(){return n(new d,v,a,S,g)})}function o(v,a,S,g){return Promise.resolve(S.provideColorPresentations(v,a,g))}class d{constructor(){}compute(a,S,g,y){return qt(this,null,function*(){const C=yield a.provideDocumentColors(S,g);if(Array.isArray(C))for(const L of C)y.push({colorInfo:L,provider:a});return Array.isArray(C)})}}class u{constructor(){}compute(a,S,g,y){return qt(this,null,function*(){const C=yield a.provideDocumentColors(S,g);if(Array.isArray(C))for(const L of C)y.push({range:L.range,color:[L.color.red,L.color.green,L.color.blue,L.color.alpha]});return Array.isArray(C)})}}class i{constructor(a){this.colorInfo=a}compute(a,S,g,y){return qt(this,null,function*(){const C=yield a.provideColorPresentations(S,this.colorInfo,b.T.None);return Array.isArray(C)&&y.push(...C),Array.isArray(C)})}}function n(v,a,S,g,y){return qt(this,null,function*(){let C=!1,L;const O=[],T=a.ordered(S);for(let F=T.length-1;F>=0;F--){const B=T[F];if(B instanceof M.G)L=B;else try{(yield v.compute(B,S,g,O))&&(C=!0)}catch($){(0,z.Cp)($)}}return C?O:L&&y?(yield v.compute(L,S,g,O),O):[]})}function f(v,a){const{colorProvider:S}=v.get(I.p),g=v.get(c.q).getModel(a);if(!g)throw(0,z.b1)();const y=v.get(D.Ui).getValue("editor.defaultColorDecorators",{resource:a});return{model:g,colorProviderRegistry:S,isDefaultColorDecoratorsEnabled:y}}_.P.registerCommand("_executeDocumentColorProvider",function(v,...a){const[S]=a;if(!(S instanceof r.o))throw(0,z.b1)();const{model:g,colorProviderRegistry:y,isDefaultColorDecoratorsEnabled:C}=f(v,S);return n(new u,y,g,b.T.None,C)}),_.P.registerCommand("_executeColorPresentationProvider",function(v,...a){const[S,g]=a,{uri:y,range:C}=g;if(!(y instanceof r.o)||!Array.isArray(S)||S.length!==4||!E.e.isIRange(C))throw(0,z.b1)();const{model:L,colorProviderRegistry:O,isDefaultColorDecoratorsEnabled:T}=f(v,y),[F,B,$,Y]=S;return n(new i({range:C,color:{red:F,green:B,blue:$,alpha:Y}}),O,L,b.T.None,T)})},46838:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(16830),r=e(24314),E=e(89431),c=e(1227),_=e(93463),I=e(66520);class M extends b.JT{constructor(p){super(),this._editor=p,this._register(p.onMouseDown(o=>this.onMouseDown(o)))}dispose(){super.dispose()}onMouseDown(p){const o=this._editor.getOption(146);if(o!=="click"&&o!=="clickAndHover")return;const d=p.target;if(d.type!==6||!d.detail.injectedText||d.detail.injectedText.options.attachedData!==E.Ak||!d.range)return;const u=this._editor.getContribution(_.E.ID);if(u&&!u.isColorPickerVisible){const i=new r.e(d.range.startLineNumber,d.range.startColumn+1,d.range.endLineNumber,d.range.endColumn+1);u.showContentHover(i,1,0,!1,!0)}}}M.ID="editor.contrib.colorContribution",(0,z._K)(M.ID,M,2),I.Ae.register(c.nh)},89431:function(Pt,Ke,e){"use strict";e.d(Ke,{Ak:function(){return S},if:function(){return g}});var b=e(15393),z=e(41264),r=e(17301),E=e(4669),c=e(5976),_=e(84013),I=e(97295),M=e(29994),D=e(16830),p=e(24314),o=e(84901),d=e(88191),u=e(71922),i=e(52640),n=e(33108),f=function(C,L,O,T){var F=arguments.length,B=F<3?L:T===null?T=Object.getOwnPropertyDescriptor(L,O):T,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,L,O,T);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(B=(F<3?$(B):F>3?$(L,O,B):$(L,O))||B);return F>3&&B&&Object.defineProperty(L,O,B),B},v=function(C,L){return function(O,T){L(O,T,C)}},a;const S=Object.create({});let g=a=class extends c.JT{constructor(L,O,T,F){super(),this._editor=L,this._configurationService=O,this._languageFeaturesService=T,this._localToDispose=this._register(new c.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new M.t7(this._editor),this._decoratorLimitReporter=new y,this._colorDecorationClassRefs=this._register(new c.SL),this._debounceInformation=F.for(T.colorProvider,"Document Colors",{min:a.RECOMPUTE_TIME}),this._register(L.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(L.onDidChangeModelLanguage(()=>this.updateColors())),this._register(T.colorProvider.onDidChange(()=>this.updateColors())),this._register(L.onDidChangeConfiguration(B=>{const $=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145);const Y=$!==this._isColorDecoratorsEnabled||B.hasChanged(21),P=B.hasChanged(145);(Y||P)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145),this.updateColors()}isEnabled(){const L=this._editor.getModel();if(!L)return!1;const O=L.getLanguageId(),T=this._configurationService.getValue(O);if(T&&typeof T=="object"){const F=T.colorDecorators;if(F&&F.enable!==void 0&&!F.enable)return F.enable}return this._editor.getOption(20)}static get(L){return L.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const L=this._editor.getModel();!L||!this._languageFeaturesService.colorProvider.has(L)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new b._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(L)))})),this.beginCompute())}beginCompute(){return qt(this,null,function*(){this._computePromise=(0,b.PG)(L=>qt(this,null,function*(){const O=this._editor.getModel();if(!O)return[];const T=new _.G(!1),F=yield(0,i.E)(this._languageFeaturesService.colorProvider,O,L,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(O,T.elapsed()),F}));try{const L=yield this._computePromise;this.updateDecorations(L),this.updateColorDecorators(L),this._computePromise=null}catch(L){(0,r.dL)(L)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(L){const O=L.map(T=>({range:{startLineNumber:T.colorInfo.range.startLineNumber,startColumn:T.colorInfo.range.startColumn,endLineNumber:T.colorInfo.range.endLineNumber,endColumn:T.colorInfo.range.endColumn},options:o.qx.EMPTY}));this._editor.changeDecorations(T=>{this._decorationsIds=T.deltaDecorations(this._decorationsIds,O),this._colorDatas=new Map,this._decorationsIds.forEach((F,B)=>this._colorDatas.set(F,L[B]))})}updateColorDecorators(L){this._colorDecorationClassRefs.clear();const O=[],T=this._editor.getOption(21);for(let B=0;B<L.length&&O.length<T;B++){const{red:$,green:Y,blue:P,alpha:w}=L[B].colorInfo.color,V=new z.VS(Math.round($*255),Math.round(Y*255),Math.round(P*255),w),R=`rgba(${V.r}, ${V.g}, ${V.b}, ${V.a})`,A=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:R}));O.push({range:{startLineNumber:L[B].colorInfo.range.startLineNumber,startColumn:L[B].colorInfo.range.startColumn,endLineNumber:L[B].colorInfo.range.endLineNumber,endColumn:L[B].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:I.B4,inlineClassName:`${A.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:S}}})}const F=T<L.length?T:!1;this._decoratorLimitReporter.update(L.length,F),this._colorDecoratorIds.set(O)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(L){const O=this._editor.getModel();if(!O)return null;const T=O.getDecorationsInRange(p.e.fromPositions(L,L)).filter(F=>this._colorDatas.has(F.id));return T.length===0?null:this._colorDatas.get(T[0].id)}isColorDecoration(L){return this._colorDecoratorIds.has(L)}};g.ID="editor.contrib.colorDetector",g.RECOMPUTE_TIME=1e3,g=a=f([v(1,n.Ui),v(2,u.p),v(3,d.A)],g);class y{constructor(){this._onDidChange=new E.Q5,this._computed=0,this._limited=!1}update(L,O){(L!==this._computed||O!==this._limited)&&(this._computed=L,this._limited=O,this._onDidChange.fire())}}(0,D._K)(g.ID,g,1)},1227:function(Pt,Ke,e){"use strict";e.d(Ke,{nh:function(){return A},PQ:function(){return U}});var b=e(15393),z=e(71050),r=e(41264),E=e(5976),c=e(24314),_=e(52640),I=e(89431),M=e(4669);class D{get color(){return this._color}set color(J){this._color.equals(J)||(this._color=J,this._onDidChangeColor.fire(J))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(J){this._colorPresentations=J,this.presentationIndex>J.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(J,X,ie){this.presentationIndex=ie,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new M.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new M.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=J,this._color=J,this._colorPresentations=X}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(J,X){let ie=-1;for(let le=0;le<this.colorPresentations.length;le++)if(X.toLowerCase()===this.colorPresentations[le].label){ie=le;break}if(ie===-1){const le=X.split("(")[0].toLowerCase();for(let fe=0;fe<this.colorPresentations.length;fe++)if(this.colorPresentations[fe].label.toLowerCase().startsWith(le)){ie=fe;break}}ie!==-1&&ie!==this.presentationIndex&&(this.presentationIndex=ie,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var p=e(16268),o=e(65321),d=e(93911),u=e(93794),i=e(73046),n=e(25670),f=e(27761),v=e(63580),a=e(73910),S=e(59554);const g=o.$;class y extends E.JT{constructor(J,X,ie,le=!1){super(),this.model=X,this.showingStandaloneColorPicker=le,this._closeButton=null,this._domNode=g(".colorpicker-header"),o.R3(J,this._domNode),this._pickedColorNode=o.R3(this._domNode,g(".picked-color")),o.R3(this._pickedColorNode,g("span.codicon.codicon-color-mode")),this._pickedColorPresentation=o.R3(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const fe=(0,v.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",fe),this._originalColorNode=o.R3(this._domNode,g(".original-color")),this._originalColorNode.style.backgroundColor=r.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ie.getColorTheme().getColor(a.yJx)||r.Il.white,this._register(ie.onDidColorThemeChange(Le=>{this.backgroundColor=Le.getColor(a.yJx)||r.Il.white})),this._register(o.nm(this._pickedColorNode,o.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(o.nm(this._originalColorNode,o.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(X.onDidChangeColor(this.onDidChangeColor,this)),this._register(X.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=r.Il.Format.CSS.format(X.color)||"",this._pickedColorNode.classList.toggle("light",X.color.rgba.a<.5?this.backgroundColor.isLighter():X.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new C(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(J){this._pickedColorNode.style.backgroundColor=r.Il.Format.CSS.format(J)||"",this._pickedColorNode.classList.toggle("light",J.rgba.a<.5?this.backgroundColor.isLighter():J.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class C extends E.JT{constructor(J){super(),this._onClicked=this._register(new M.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),o.R3(J,this._button);const X=document.createElement("div");X.classList.add("close-button-inner-div"),o.R3(this._button,X),o.R3(X,g(".button"+n.k.asCSSSelector((0,S.q5)("color-picker-close",i.l.close,(0,v.NC)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class L extends E.JT{constructor(J,X,ie,le=!1){super(),this.model=X,this.pixelRatio=ie,this._insertButton=null,this._domNode=g(".colorpicker-body"),o.R3(J,this._domNode),this._saturationBox=new O(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new F(this._domNode,this.model,le),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new B(this._domNode,this.model,le),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),le&&(this._insertButton=this._register(new $(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:J,v:X}){const ie=this.model.color.hsva;this.model.color=new r.Il(new r.tx(ie.h,J,X,ie.a))}onDidOpacityChange(J){const X=this.model.color.hsva;this.model.color=new r.Il(new r.tx(X.h,X.s,X.v,J))}onDidHueChange(J){const X=this.model.color.hsva,ie=(1-J)*360;this.model.color=new r.Il(new r.tx(ie===360?0:ie,X.s,X.v,X.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class O extends E.JT{constructor(J,X,ie){super(),this.model=X,this.pixelRatio=ie,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=g(".saturation-wrap"),o.R3(J,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",o.R3(this._domNode,this._canvas),this.selection=g(".saturation-selection"),o.R3(this._domNode,this.selection),this.layout(),this._register(o.nm(this._domNode,o.tw.POINTER_DOWN,le=>this.onPointerDown(le))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(J){if(!J.target||!(J.target instanceof Element))return;this.monitor=this._register(new d.C);const X=o.i(this._domNode);J.target!==this.selection&&this.onDidChangePosition(J.offsetX,J.offsetY),this.monitor.startMonitoring(J.target,J.pointerId,J.buttons,le=>this.onDidChangePosition(le.pageX-X.left,le.pageY-X.top),()=>null);const ie=o.nm(J.target.ownerDocument,o.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ie.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(J,X){const ie=Math.max(0,Math.min(1,J/this.width)),le=Math.max(0,Math.min(1,1-X/this.height));this.paintSelection(ie,le),this._onDidChange.fire({s:ie,v:le})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const J=this.model.color.hsva;this.paintSelection(J.s,J.v)}paint(){const J=this.model.color.hsva,X=new r.Il(new r.tx(J.h,1,1,1)),ie=this._canvas.getContext("2d"),le=ie.createLinearGradient(0,0,this._canvas.width,0);le.addColorStop(0,"rgba(255, 255, 255, 1)"),le.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),le.addColorStop(1,"rgba(255, 255, 255, 0)");const fe=ie.createLinearGradient(0,0,0,this._canvas.height);fe.addColorStop(0,"rgba(0, 0, 0, 0)"),fe.addColorStop(1,"rgba(0, 0, 0, 1)"),ie.rect(0,0,this._canvas.width,this._canvas.height),ie.fillStyle=r.Il.Format.CSS.format(X),ie.fill(),ie.fillStyle=le,ie.fill(),ie.fillStyle=fe,ie.fill()}paintSelection(J,X){this.selection.style.left=`${J*this.width}px`,this.selection.style.top=`${this.height-X*this.height}px`}onDidChangeColor(J){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const X=J.hsva;this.paintSelection(X.s,X.v)}}class T extends E.JT{constructor(J,X,ie=!1){super(),this.model=X,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,ie?(this.domNode=o.R3(J,g(".standalone-strip")),this.overlay=o.R3(this.domNode,g(".standalone-overlay"))):(this.domNode=o.R3(J,g(".strip")),this.overlay=o.R3(this.domNode,g(".overlay"))),this.slider=o.R3(this.domNode,g(".slider")),this.slider.style.top="0px",this._register(o.nm(this.domNode,o.tw.POINTER_DOWN,le=>this.onPointerDown(le))),this._register(X.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const J=this.getValue(this.model.color);this.updateSliderPosition(J)}onDidChangeColor(J){const X=this.getValue(J);this.updateSliderPosition(X)}onPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const X=this._register(new d.C),ie=o.i(this.domNode);this.domNode.classList.add("grabbing"),J.target!==this.slider&&this.onDidChangeTop(J.offsetY),X.startMonitoring(J.target,J.pointerId,J.buttons,fe=>this.onDidChangeTop(fe.pageY-ie.top),()=>null);const le=o.nm(J.target.ownerDocument,o.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),le.dispose(),X.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(J){const X=Math.max(0,Math.min(1,1-J/this.height));this.updateSliderPosition(X),this._onDidChange.fire(X)}updateSliderPosition(J){this.slider.style.top=`${(1-J)*this.height}px`}}class F extends T{constructor(J,X,ie=!1){super(J,X,ie),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(J){super.onDidChangeColor(J);const{r:X,g:ie,b:le}=J.rgba,fe=new r.Il(new r.VS(X,ie,le,1)),Le=new r.Il(new r.VS(X,ie,le,0));this.overlay.style.background=`linear-gradient(to bottom, ${fe} 0%, ${Le} 100%)`}getValue(J){return J.hsva.a}}class B extends T{constructor(J,X,ie=!1){super(J,X,ie),this.domNode.classList.add("hue-strip")}getValue(J){return 1-J.hsva.h/360}}class $ extends E.JT{constructor(J){super(),this._onClicked=this._register(new M.Q5),this.onClicked=this._onClicked.event,this._button=o.R3(J,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=X=>{this._onClicked.fire()}}get button(){return this._button}}class Y extends u.${constructor(J,X,ie,le,fe=!1){super(),this.model=X,this.pixelRatio=ie,this._register(p.Tz.onDidChange(()=>this.layout()));const Le=g(".colorpicker-widget");J.appendChild(Le),this.header=this._register(new y(Le,this.model,le,fe)),this.body=this._register(new L(Le,this.model,this.pixelRatio,fe))}layout(){this.body.layout()}}var P=e(97781),w=function(m,J,X,ie){var le=arguments.length,fe=le<3?J:ie===null?ie=Object.getOwnPropertyDescriptor(J,X):ie,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(m,J,X,ie);else for(var pe=m.length-1;pe>=0;pe--)(Le=m[pe])&&(fe=(le<3?Le(fe):le>3?Le(J,X,fe):Le(J,X))||fe);return le>3&&fe&&Object.defineProperty(J,X,fe),fe},V=function(m,J){return function(X,ie){J(X,ie,m)}};class R{constructor(J,X,ie,le){this.owner=J,this.range=X,this.model=ie,this.provider=le,this.forceShowAtRange=!0}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}}let A=class{constructor(J,X){this._editor=J,this._themeService=X,this.hoverOrdinal=2}computeSync(J,X){return[]}computeAsync(J,X,ie){return b.Aq.fromPromise(this._computeAsync(J,X,ie))}_computeAsync(J,X,ie){return qt(this,null,function*(){if(!this._editor.hasModel())return[];const le=I.if.get(this._editor);if(!le)return[];for(const fe of X){if(!le.isColorDecoration(fe))continue;const Le=le.getColorData(fe.range.getStartPosition());if(Le)return[yield G(this,this._editor.getModel(),Le.colorInfo,Le.provider)]}return[]})}renderHoverParts(J,X){return j(this,this._editor,this._themeService,X,J)}};A=w([V(1,P.XE)],A);class H{constructor(J,X,ie,le){this.owner=J,this.range=X,this.model=ie,this.provider=le}}let U=class{constructor(J,X){this._editor=J,this._themeService=X,this._color=null}createColorHover(J,X,ie){return qt(this,null,function*(){if(!this._editor.hasModel()||!I.if.get(this._editor))return null;const fe=yield(0,_.E)(ie,this._editor.getModel(),z.T.None);let Le=null,pe=null;for(const Ne of fe){const We=Ne.colorInfo;c.e.containsRange(We.range,J.range)&&(Le=We,pe=Ne.provider)}const Te=Le!=null?Le:J,De=pe!=null?pe:X,ae=!!Le;return{colorHover:yield G(this,this._editor.getModel(),Te,De),foundInEditor:ae}})}updateEditorModel(J){return qt(this,null,function*(){if(!this._editor.hasModel())return;const X=J.model;let ie=new c.e(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn);this._color&&(yield K(this._editor.getModel(),X,this._color,ie,J),ie=W(this._editor,ie,X))})}renderHoverParts(J,X){return j(this,this._editor,this._themeService,X,J)}set color(J){this._color=J}get color(){return this._color}};U=w([V(1,P.XE)],U);function G(m,J,X,ie){return qt(this,null,function*(){const le=J.getValueInRange(X.range),{red:fe,green:Le,blue:pe,alpha:Te}=X.color,De=new r.VS(Math.round(fe*255),Math.round(Le*255),Math.round(pe*255),Te),ae=new r.Il(De),Ne=yield(0,_.R)(J,X,ie,z.T.None),We=new D(ae,[],0);return We.colorPresentations=Ne||[],We.guessColorPresentation(ae,le),m instanceof A?new R(m,c.e.lift(X.range),We,ie):new H(m,c.e.lift(X.range),We,ie)})}function j(m,J,X,ie,le){if(ie.length===0||!J.hasModel())return E.JT.None;if(le.setMinimumDimensions){const We=J.getOption(66)+8;le.setMinimumDimensions(new o.Ro(302,We))}const fe=new E.SL,Le=ie[0],pe=J.getModel(),Te=Le.model,De=fe.add(new Y(le.fragment,Te,J.getOption(141),X,m instanceof U));le.setColorPicker(De);let ae=!1,Ne=new c.e(Le.range.startLineNumber,Le.range.startColumn,Le.range.endLineNumber,Le.range.endColumn);if(m instanceof U){const We=ie[0].model.color;m.color=We,K(pe,Te,We,Ne,Le),fe.add(Te.onColorFlushed(ze=>{m.color=ze}))}else fe.add(Te.onColorFlushed(We=>qt(this,null,function*(){yield K(pe,Te,We,Ne,Le),ae=!0,Ne=W(J,Ne,Te,le)})));return fe.add(Te.onDidChangeColor(We=>{K(pe,Te,We,Ne,Le)})),fe.add(J.onDidChangeModelContent(We=>{ae?ae=!1:(le.hide(),J.focus())})),fe}function W(m,J,X,ie){let le,fe;if(X.presentation.textEdit){le=[X.presentation.textEdit],fe=new c.e(X.presentation.textEdit.range.startLineNumber,X.presentation.textEdit.range.startColumn,X.presentation.textEdit.range.endLineNumber,X.presentation.textEdit.range.endColumn);const Le=m.getModel()._setTrackedRange(null,fe,3);m.pushUndoStop(),m.executeEdits("colorpicker",le),fe=m.getModel()._getTrackedRange(Le)||fe}else le=[{range:J,text:X.presentation.label,forceMoveMarkers:!1}],fe=J.setEndPosition(J.endLineNumber,J.startColumn+X.presentation.label.length),m.pushUndoStop(),m.executeEdits("colorpicker",le);return X.presentation.additionalTextEdits&&(le=[...X.presentation.additionalTextEdits],m.executeEdits("colorpicker",le),ie&&ie.hide()),m.pushUndoStop(),fe}function K(m,J,X,ie,le){return qt(this,null,function*(){const fe=yield(0,_.R)(m,{range:ie,color:{red:X.rgba.r/255,green:X.rgba.g/255,blue:X.rgba.b/255,alpha:X.rgba.a}},le.provider,z.T.None);J.colorPresentations=fe||[]})}},15418:function(Pt,Ke,e){"use strict";e.d(Ke,{G:function(){return p}});var b=e(41264),z=e(83379),r=e(73733),E=e(4256),c=e(5976),_=e(71922),I=e(10637),M=function(d,u,i,n){var f=arguments.length,v=f<3?u:n===null?n=Object.getOwnPropertyDescriptor(u,i):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,u,i,n);else for(var S=d.length-1;S>=0;S--)(a=d[S])&&(v=(f<3?a(v):f>3?a(u,i,v):a(u,i))||v);return f>3&&v&&Object.defineProperty(u,i,v),v},D=function(d,u){return function(i,n){u(i,n,d)}};class p{constructor(u,i){this._editorWorkerClient=new z.Q8(u,!1,"editorWorkerService",i)}provideDocumentColors(u,i){return qt(this,null,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(u.uri)})}provideColorPresentations(u,i,n){const f=i.range,v=i.color,a=v.alpha,S=new b.Il(new b.VS(Math.round(255*v.red),Math.round(255*v.green),Math.round(255*v.blue),a)),g=a?b.Il.Format.CSS.formatRGB(S):b.Il.Format.CSS.formatRGBA(S),y=a?b.Il.Format.CSS.formatHSL(S):b.Il.Format.CSS.formatHSLA(S),C=a?b.Il.Format.CSS.formatHex(S):b.Il.Format.CSS.formatHexA(S),L=[];return L.push({label:g,textEdit:{range:f,text:g}}),L.push({label:y,textEdit:{range:f,text:y}}),L.push({label:C,textEdit:{range:f,text:C}}),L}}let o=class extends c.JT{constructor(u,i,n){super(),this._register(n.colorProvider.register("*",new p(u,i)))}};o=M([D(0,r.q),D(1,E.c_),D(2,_.p)],o),(0,I.y)(o)},44536:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(63580),r=e(5976),E=e(1227),c=e(72065),_=e(41470),I=e(91847),M=e(4669),D=e(71922),p=e(29102),o=e(32064),d=e(73733),u=e(4256),i=e(15418),n=e(65321),f=e(27761),v=function(P,w,V,R){var A=arguments.length,H=A<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,V):R,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(P,w,V,R);else for(var G=P.length-1;G>=0;G--)(U=P[G])&&(H=(A<3?U(H):A>3?U(w,V,H):U(w,V))||H);return A>3&&H&&Object.defineProperty(w,V,H),H},a=function(P,w){return function(V,R){w(V,R,P)}},S,g;let y=S=class extends r.JT{constructor(w,V,R,A,H,U,G){super(),this._editor=w,this._modelService=R,this._keybindingService=A,this._instantiationService=H,this._languageFeatureService=U,this._languageConfigurationService=G,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=p.u.standaloneColorPickerVisible.bindTo(V),this._standaloneColorPickerFocused=p.u.standaloneColorPickerFocused.bindTo(V)}showOrFocus(){var w;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(w=this._standaloneColorPickerWidget)===null||w===void 0||w.focus():this._standaloneColorPickerWidget=new O(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var w;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(w=this._standaloneColorPickerWidget)===null||w===void 0||w.hide(),this._editor.focus()}insertColor(){var w;(w=this._standaloneColorPickerWidget)===null||w===void 0||w.updateEditor(),this.hide()}static get(w){return w.getContribution(S.ID)}};y.ID="editor.contrib.standaloneColorPickerController",y=S=v([a(1,o.i6),a(2,d.q),a(3,I.d),a(4,c.TG),a(5,D.p),a(6,u.c_)],y),(0,b._K)(y.ID,y,1);const C=8,L=22;let O=g=class extends r.JT{constructor(w,V,R,A,H,U,G,j){var W;super(),this._editor=w,this._standaloneColorPickerVisible=V,this._standaloneColorPickerFocused=R,this._modelService=H,this._keybindingService=U,this._languageFeaturesService=G,this._languageConfigurationService=j,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new M.Q5),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=A.createInstance(E.PQ,this._editor),this._position=(W=this._editor._getViewModel())===null||W===void 0?void 0:W.getPrimaryCursorState().modelState.position;const K=this._editor.getSelection(),m=K?{startLineNumber:K.startLineNumber,startColumn:K.startColumn,endLineNumber:K.endLineNumber,endColumn:K.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},J=this._register(n.go(this._body));this._register(J.onDidBlur(X=>{this.hide()})),this._register(J.onDidFocus(X=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(X=>{var ie;const le=(ie=X.target.element)===null||ie===void 0?void 0:ie.classList;le&&le.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(X=>{this._render(X.value,X.foundInEditor)})),this._start(m),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return g.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const w=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:w?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(w){return qt(this,null,function*(){const V=yield this._computeAsync(w);V&&this._onResult.fire(new T(V.result,V.foundInEditor))})}_computeAsync(w){return qt(this,null,function*(){if(!this._editor.hasModel())return null;const V={range:w,color:{red:0,green:0,blue:0,alpha:1}},R=yield this._standaloneColorPickerParticipant.createColorHover(V,new i.G(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return R?{result:R.colorHover,foundInEditor:R.foundInEditor}:null})}_render(w,V){const R=document.createDocumentFragment(),A=this._register(new _.mR(this._keybindingService));let H;const U={fragment:R,statusBar:A,setColorPicker:le=>H=le,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=w,this._register(this._standaloneColorPickerParticipant.renderHoverParts(U,[w])),H===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(R),H.layout();const G=H.body,j=G.saturationBox.domNode.clientWidth,W=G.domNode.clientWidth-j-L-C,K=H.body.enterButton;K==null||K.onClicked(()=>{this.updateEditor(),this.hide()});const m=H.header,J=m.pickedColorNode;J.style.width=j+C+"px";const X=m.originalColorNode;X.style.width=W+"px";const ie=H.header.closeButton;ie==null||ie.onClicked(()=>{this.hide()}),V&&(K&&(K.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(w.range)),this._editor.layoutContentWidget(this)}};O.ID="editor.contrib.standaloneColorPickerWidget",O=g=v([a(3,c.TG),a(4,d.q),a(5,I.d),a(6,D.p),a(7,u.c_)],O);class T{constructor(w,V){this.value=w,this.foundInEditor=V}}var F=e(84144);class B extends b.x1{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,z.NC)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:(0,z.NC)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:F.eH.CommandPalette}]})}runEditorCommand(w,V){var R;(R=y.get(V))===null||R===void 0||R.showOrFocus()}}class $ extends b.R6{constructor(){super({id:"editor.action.hideColorPicker",label:(0,z.NC)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:p.u.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(w,V){var R;(R=y.get(V))===null||R===void 0||R.hide()}}class Y extends b.R6{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,z.NC)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:p.u.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(w,V){var R;(R=y.get(V))===null||R===void 0||R.insertColor()}}(0,b.Qr)($),(0,b.Qr)(Y),(0,F.r1)(B)},39956:function(Pt,Ke,e){"use strict";var b=e(22258),z=e(16830),r=e(24314),E=e(29102),c=e(4256),_=e(69386),I=e(50187),M=e(3860);class D{constructor(g,y,C){this.languageConfigurationService=C,this._selection=g,this._insertSpace=y,this._usedEndToken=null}static _haystackHasNeedleAtOffset(g,y,C){if(C<0)return!1;const L=y.length,O=g.length;if(C+L>O)return!1;for(let T=0;T<L;T++){const F=g.charCodeAt(C+T),B=y.charCodeAt(T);if(F!==B&&!(F>=65&&F<=90&&F+32===B)&&!(B>=65&&B<=90&&B+32===F))return!1}return!0}_createOperationsForBlockComment(g,y,C,L,O,T){const F=g.startLineNumber,B=g.startColumn,$=g.endLineNumber,Y=g.endColumn,P=O.getLineContent(F),w=O.getLineContent($);let V=P.lastIndexOf(y,B-1+y.length),R=w.indexOf(C,Y-1-C.length);if(V!==-1&&R!==-1)if(F===$)P.substring(V+y.length,R).indexOf(C)>=0&&(V=-1,R=-1);else{const H=P.substring(V+y.length),U=w.substring(0,R);(H.indexOf(C)>=0||U.indexOf(C)>=0)&&(V=-1,R=-1)}let A;V!==-1&&R!==-1?(L&&V+y.length<P.length&&P.charCodeAt(V+y.length)===32&&(y=y+" "),L&&R>0&&w.charCodeAt(R-1)===32&&(C=" "+C,R-=1),A=D._createRemoveBlockCommentOperations(new r.e(F,V+y.length+1,$,R+1),y,C)):(A=D._createAddBlockCommentOperations(g,y,C,this._insertSpace),this._usedEndToken=A.length===1?C:null);for(const H of A)T.addTrackedEditOperation(H.range,H.text)}static _createRemoveBlockCommentOperations(g,y,C){const L=[];return r.e.isEmpty(g)?L.push(_.h.delete(new r.e(g.startLineNumber,g.startColumn-y.length,g.endLineNumber,g.endColumn+C.length))):(L.push(_.h.delete(new r.e(g.startLineNumber,g.startColumn-y.length,g.startLineNumber,g.startColumn))),L.push(_.h.delete(new r.e(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn+C.length)))),L}static _createAddBlockCommentOperations(g,y,C,L){const O=[];return r.e.isEmpty(g)?O.push(_.h.replace(new r.e(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn),y+"  "+C)):(O.push(_.h.insert(new I.L(g.startLineNumber,g.startColumn),y+(L?" ":""))),O.push(_.h.insert(new I.L(g.endLineNumber,g.endColumn),(L?" ":"")+C))),O}getEditOperations(g,y){const C=this._selection.startLineNumber,L=this._selection.startColumn;g.tokenization.tokenizeIfCheap(C);const O=g.getLanguageIdAtPosition(C,L),T=this.languageConfigurationService.getLanguageConfiguration(O).comments;!T||!T.blockCommentStartToken||!T.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,T.blockCommentStartToken,T.blockCommentEndToken,this._insertSpace,g,y)}computeCursorState(g,y){const C=y.getInverseEditOperations();if(C.length===2){const L=C[0],O=C[1];return new M.Y(L.range.endLineNumber,L.range.endColumn,O.range.startLineNumber,O.range.startColumn)}else{const L=C[0].range,O=this._usedEndToken?-this._usedEndToken.length-1:0;return new M.Y(L.endLineNumber,L.endColumn+O,L.endLineNumber,L.endColumn+O)}}}var p=e(97295);class o{constructor(g,y,C,L,O,T,F){this.languageConfigurationService=g,this._selection=y,this._tabSize=C,this._type=L,this._insertSpace=O,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=T,this._ignoreFirstLine=F||!1}static _gatherPreflightCommentStrings(g,y,C,L){g.tokenization.tokenizeIfCheap(y);const O=g.getLanguageIdAtPosition(y,1),T=L.getLanguageConfiguration(O).comments,F=T?T.lineCommentToken:null;if(!F)return null;const B=[];for(let $=0,Y=C-y+1;$<Y;$++)B[$]={ignore:!1,commentStr:F,commentStrOffset:0,commentStrLength:F.length};return B}static _analyzeLines(g,y,C,L,O,T,F,B){let $=!0,Y;g===0?Y=!0:g===1?Y=!1:Y=!0;for(let P=0,w=L.length;P<w;P++){const V=L[P],R=O+P;if(R===O&&F){V.ignore=!0;continue}const A=C.getLineContent(R),H=p.LC(A);if(H===-1){V.ignore=T,V.commentStrOffset=A.length;continue}if($=!1,V.ignore=!1,V.commentStrOffset=H,Y&&!D._haystackHasNeedleAtOffset(A,V.commentStr,H)&&(g===0?Y=!1:g===1||(V.ignore=!0)),Y&&y){const U=H+V.commentStrLength;U<A.length&&A.charCodeAt(U)===32&&(V.commentStrLength+=1)}}if(g===0&&$){Y=!1;for(let P=0,w=L.length;P<w;P++)L[P].ignore=!1}return{supported:!0,shouldRemoveComments:Y,lines:L}}static _gatherPreflightData(g,y,C,L,O,T,F,B){const $=o._gatherPreflightCommentStrings(C,L,O,B);return $===null?{supported:!1}:o._analyzeLines(g,y,C,$,L,T,F,B)}_executeLineComments(g,y,C,L){let O;C.shouldRemoveComments?O=o._createRemoveLineCommentsOperations(C.lines,L.startLineNumber):(o._normalizeInsertionPoint(g,C.lines,L.startLineNumber,this._tabSize),O=this._createAddLineCommentsOperations(C.lines,L.startLineNumber));const T=new I.L(L.positionLineNumber,L.positionColumn);for(let F=0,B=O.length;F<B;F++)y.addEditOperation(O[F].range,O[F].text),r.e.isEmpty(O[F].range)&&r.e.getStartPosition(O[F].range).equals(T)&&g.getLineContent(T.lineNumber).length+1===T.column&&(this._deltaColumn=(O[F].text||"").length);this._selectionId=y.trackSelection(L)}_attemptRemoveBlockComment(g,y,C,L){let O=y.startLineNumber,T=y.endLineNumber;const F=L.length+Math.max(g.getLineFirstNonWhitespaceColumn(y.startLineNumber),y.startColumn);let B=g.getLineContent(O).lastIndexOf(C,F-1),$=g.getLineContent(T).indexOf(L,y.endColumn-1-C.length);return B!==-1&&$===-1&&($=g.getLineContent(O).indexOf(L,B+C.length),T=O),B===-1&&$!==-1&&(B=g.getLineContent(T).lastIndexOf(C,$),O=T),y.isEmpty()&&(B===-1||$===-1)&&(B=g.getLineContent(O).indexOf(C),B!==-1&&($=g.getLineContent(O).indexOf(L,B+C.length))),B!==-1&&g.getLineContent(O).charCodeAt(B+C.length)===32&&(C+=" "),$!==-1&&g.getLineContent(T).charCodeAt($-1)===32&&(L=" "+L,$-=1),B!==-1&&$!==-1?D._createRemoveBlockCommentOperations(new r.e(O,B+C.length+1,T,$+1),C,L):null}_executeBlockComment(g,y,C){g.tokenization.tokenizeIfCheap(C.startLineNumber);const L=g.getLanguageIdAtPosition(C.startLineNumber,1),O=this.languageConfigurationService.getLanguageConfiguration(L).comments;if(!O||!O.blockCommentStartToken||!O.blockCommentEndToken)return;const T=O.blockCommentStartToken,F=O.blockCommentEndToken;let B=this._attemptRemoveBlockComment(g,C,T,F);if(!B){if(C.isEmpty()){const $=g.getLineContent(C.startLineNumber);let Y=p.LC($);Y===-1&&(Y=$.length),B=D._createAddBlockCommentOperations(new r.e(C.startLineNumber,Y+1,C.startLineNumber,$.length+1),T,F,this._insertSpace)}else B=D._createAddBlockCommentOperations(new r.e(C.startLineNumber,g.getLineFirstNonWhitespaceColumn(C.startLineNumber),C.endLineNumber,g.getLineMaxColumn(C.endLineNumber)),T,F,this._insertSpace);B.length===1&&(this._deltaColumn=T.length+1)}this._selectionId=y.trackSelection(C);for(const $ of B)y.addEditOperation($.range,$.text)}getEditOperations(g,y){let C=this._selection;if(this._moveEndPositionDown=!1,C.startLineNumber===C.endLineNumber&&this._ignoreFirstLine){y.addEditOperation(new r.e(C.startLineNumber,g.getLineMaxColumn(C.startLineNumber),C.startLineNumber+1,1),C.startLineNumber===g.getLineCount()?"":`
`),this._selectionId=y.trackSelection(C);return}C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._moveEndPositionDown=!0,C=C.setEndPosition(C.endLineNumber-1,g.getLineMaxColumn(C.endLineNumber-1)));const L=o._gatherPreflightData(this._type,this._insertSpace,g,C.startLineNumber,C.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return L.supported?this._executeLineComments(g,y,L,C):this._executeBlockComment(g,y,C)}computeCursorState(g,y){let C=y.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(C=C.setEndPosition(C.endLineNumber+1,1)),new M.Y(C.selectionStartLineNumber,C.selectionStartColumn+this._deltaColumn,C.positionLineNumber,C.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(g,y){const C=[];for(let L=0,O=g.length;L<O;L++){const T=g[L];T.ignore||C.push(_.h.delete(new r.e(y+L,T.commentStrOffset+1,y+L,T.commentStrOffset+T.commentStrLength+1)))}return C}_createAddLineCommentsOperations(g,y){const C=[],L=this._insertSpace?" ":"";for(let O=0,T=g.length;O<T;O++){const F=g[O];F.ignore||C.push(_.h.insert(new I.L(y+O,F.commentStrOffset+1),F.commentStr+L))}return C}static nextVisibleColumn(g,y,C,L){return C?g+(y-g%y):g+L}static _normalizeInsertionPoint(g,y,C,L){let O=1073741824,T,F;for(let B=0,$=y.length;B<$;B++){if(y[B].ignore)continue;const Y=g.getLineContent(C+B);let P=0;for(let w=0,V=y[B].commentStrOffset;P<O&&w<V;w++)P=o.nextVisibleColumn(P,L,Y.charCodeAt(w)===9,1);P<O&&(O=P)}O=Math.floor(O/L)*L;for(let B=0,$=y.length;B<$;B++){if(y[B].ignore)continue;const Y=g.getLineContent(C+B);let P=0;for(T=0,F=y[B].commentStrOffset;P<O&&T<F;T++)P=o.nextVisibleColumn(P,L,Y.charCodeAt(T)===9,1);P>O?y[B].commentStrOffset=T-1:y[B].commentStrOffset=T}}}var d=e(63580),u=e(84144);class i extends z.R6{constructor(g,y){super(y),this._type=g}run(g,y){const C=g.get(c.c_);if(!y.hasModel())return;const L=y.getModel(),O=[],T=L.getOptions(),F=y.getOption(23),B=y.getSelections().map((Y,P)=>({selection:Y,index:P,ignoreFirstLine:!1}));B.sort((Y,P)=>r.e.compareRangesUsingStarts(Y.selection,P.selection));let $=B[0];for(let Y=1;Y<B.length;Y++){const P=B[Y];$.selection.endLineNumber===P.selection.startLineNumber&&($.index<P.index?P.ignoreFirstLine=!0:($.ignoreFirstLine=!0,$=P))}for(const Y of B)O.push(new o(C,Y.selection,T.tabSize,this._type,F.insertSpace,F.ignoreEmptyLines,Y.ignoreFirstLine));y.pushUndoStop(),y.executeCommands(this.id,O),y.pushUndoStop()}}class n extends i{constructor(){super(0,{id:"editor.action.commentLine",label:d.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:E.u.writable,kbOpts:{kbExpr:E.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:u.eH.MenubarEditMenu,group:"5_insert",title:d.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class f extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:d.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:E.u.writable,kbOpts:{kbExpr:E.u.editorTextFocus,primary:(0,b.gx)(2089,2081),weight:100}})}}class v extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:d.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:E.u.writable,kbOpts:{kbExpr:E.u.editorTextFocus,primary:(0,b.gx)(2089,2099),weight:100}})}}class a extends z.R6{constructor(){super({id:"editor.action.blockComment",label:d.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:E.u.writable,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:u.eH.MenubarEditMenu,group:"5_insert",title:d.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(g,y){const C=g.get(c.c_);if(!y.hasModel())return;const L=y.getOption(23),O=[],T=y.getSelections();for(const F of T)O.push(new D(F,L.insertSpace,C));y.pushUndoStop(),y.executeCommands(this.id,O),y.pushUndoStop()}}(0,z.Qr)(n),(0,z.Qr)(f),(0,z.Qr)(v),(0,z.Qr)(a)},93740:function(Pt,Ke,e){"use strict";var b=e(65321),z=e(41923),r=e(74741),E=e(5976),c=e(1432),_=e(16830),I=e(29102),M=e(63580),D=e(84144),p=e(32064),o=e(5606),d=e(91847),u=e(33108),i=e(40382),n=function(g,y,C,L){var O=arguments.length,T=O<3?y:L===null?L=Object.getOwnPropertyDescriptor(y,C):L,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(g,y,C,L);else for(var B=g.length-1;B>=0;B--)(F=g[B])&&(T=(O<3?F(T):O>3?F(y,C,T):F(y,C))||T);return O>3&&T&&Object.defineProperty(y,C,T),T},f=function(g,y){return function(C,L){y(C,L,g)}},v;let a=v=class{static get(y){return y.getContribution(v.ID)}constructor(y,C,L,O,T,F,B,$){this._contextMenuService=C,this._contextViewService=L,this._contextKeyService=O,this._keybindingService=T,this._menuService=F,this._configurationService=B,this._workspaceContextService=$,this._toDispose=new E.SL,this._contextMenuIsBeingShownCount=0,this._editor=y,this._toDispose.add(this._editor.onContextMenu(Y=>this._onContextMenu(Y))),this._toDispose.add(this._editor.onMouseWheel(Y=>{if(this._contextMenuIsBeingShownCount>0){const P=this._contextViewService.getContextViewElement(),w=Y.srcElement;w.shadowRoot&&b.Ay(P)===w.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(Y=>{this._editor.getOption(24)&&Y.keyCode===58&&(Y.preventDefault(),Y.stopPropagation(),this.showContextMenu())}))}_onContextMenu(y){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),y.target.position&&!this._editor.getSelection().containsPosition(y.target.position)&&this._editor.setPosition(y.target.position);return}if(y.target.type===12||y.target.type===6&&y.target.detail.injectedText)return;if(y.event.preventDefault(),y.event.stopPropagation(),y.target.type===11)return this._showScrollbarContextMenu(y.event);if(y.target.type!==6&&y.target.type!==7&&y.target.type!==1)return;if(this._editor.focus(),y.target.position){let L=!1;for(const O of this._editor.getSelections())if(O.containsPosition(y.target.position)){L=!0;break}L||this._editor.setPosition(y.target.position)}let C=null;y.target.type!==1&&(C=y.event),this.showContextMenu(C)}showContextMenu(y){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const C=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?D.eH.SimpleEditorContext:D.eH.EditorContext);C.length>0&&this._doShowContextMenu(C,y)}_getMenuActions(y,C){const L=[],O=this._menuService.createMenu(C,this._contextKeyService),T=O.getActions({arg:y.uri});O.dispose();for(const F of T){const[,B]=F;let $=0;for(const Y of B)if(Y instanceof D.NZ){const P=this._getMenuActions(y,Y.item.submenu);P.length>0&&(L.push(new r.wY(Y.id,Y.label,P)),$++)}else L.push(Y),$++;$&&L.push(new r.Z0)}return L.length&&L.pop(),L}_doShowContextMenu(y,C=null){if(!this._editor.hasModel())return;const L=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let O=C;if(!O){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const F=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),B=b.i(this._editor.getDomNode()),$=B.left+F.left,Y=B.top+F.top+F.height;O={x:$,y:Y}}const T=this._editor.getOption(126)&&!c.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:T?this._editor.getDomNode():void 0,getAnchor:()=>O,getActions:()=>y,getActionViewItem:F=>{const B=this._keybindingFor(F);if(B)return new z.gU(F,F,{label:!0,keybinding:B.getLabel(),isMenu:!0});const $=F;return typeof $.getActionViewItem=="function"?$.getActionViewItem():new z.gU(F,F,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:F=>this._keybindingFor(F),onHide:F=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:L})}})}_showScrollbarContextMenu(y){if(!this._editor.hasModel()||(0,i.x)(this._workspaceContextService.getWorkspace()))return;const C=this._editor.getOption(72);let L=0;const O=Y=>({id:`menu-action-${++L}`,label:Y.label,tooltip:"",class:void 0,enabled:typeof Y.enabled=="undefined"?!0:Y.enabled,checked:Y.checked,run:Y.run}),T=(Y,P)=>new r.wY(`menu-action-${++L}`,Y,P,void 0),F=(Y,P,w,V,R)=>{if(!P)return O({label:Y,enabled:P,run:()=>{}});const A=U=>()=>{this._configurationService.updateValue(w,U)},H=[];for(const U of R)H.push(O({label:U.label,checked:V===U.value,run:A(U.value)}));return T(Y,H)},B=[];B.push(O({label:M.NC("context.minimap.minimap","Minimap"),checked:C.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!C.enabled)}})),B.push(new r.Z0),B.push(O({label:M.NC("context.minimap.renderCharacters","Render Characters"),enabled:C.enabled,checked:C.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!C.renderCharacters)}})),B.push(F(M.NC("context.minimap.size","Vertical size"),C.enabled,"editor.minimap.size",C.size,[{label:M.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:M.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:M.NC("context.minimap.size.fit","Fit"),value:"fit"}])),B.push(F(M.NC("context.minimap.slider","Slider"),C.enabled,"editor.minimap.showSlider",C.showSlider,[{label:M.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:M.NC("context.minimap.slider.always","Always"),value:"always"}]));const $=this._editor.getOption(126)&&!c.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:$?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>B,onHide:Y=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(y){return this._keybindingService.lookupKeybinding(y.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};a.ID="editor.contrib.contextmenu",a=v=n([f(1,o.i),f(2,o.u),f(3,p.i6),f(4,d.d),f(5,D.co),f(6,u.Ui),f(7,i.ec)],a);class S extends _.R6{constructor(){super({id:"editor.action.showContextMenu",label:M.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:I.u.textInputFocus,primary:1092,weight:100}})}run(y,C){var L;(L=a.get(C))===null||L===void 0||L.showContextMenu()}}(0,_._K)(a.ID,a,2),(0,_.Qr)(S)},41895:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(16830),r=e(29102),E=e(63580);class c{constructor(o){this.selections=o}equals(o){const d=this.selections.length,u=o.selections.length;if(d!==u)return!1;for(let i=0;i<d;i++)if(!this.selections[i].equalsSelection(o.selections[i]))return!1;return!0}}class _{constructor(o,d,u){this.cursorState=o,this.scrollTop=d,this.scrollLeft=u}}class I extends b.JT{static get(o){return o.getContribution(I.ID)}constructor(o){super(),this._editor=o,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(o.onDidChangeModel(d=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeModelContent(d=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeCursorSelection(d=>{if(this._isCursorUndoRedo||!d.oldSelections||d.oldModelVersionId!==d.modelVersionId)return;const u=new c(d.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(u)||(this._undoStack.push(new _(u,o.getScrollTop(),o.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _(new c(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _(new c(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(o){this._isCursorUndoRedo=!0,this._editor.setSelections(o.cursorState.selections),this._editor.setScrollPosition({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),this._isCursorUndoRedo=!1}}I.ID="editor.contrib.cursorUndoRedoController";class M extends z.R6{constructor(){super({id:"cursorUndo",label:E.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:2099,weight:100}})}run(o,d,u){var i;(i=I.get(d))===null||i===void 0||i.cursorUndo()}}class D extends z.R6{constructor(){super({id:"cursorRedo",label:E.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(o,d,u){var i;(i=I.get(d))===null||i===void 0||i.cursorRedo()}}(0,z._K)(I.ID,I,0),(0,z.Qr)(M),(0,z.Qr)(D)},2062:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(1432),r=e(16830),E=e(50187),c=e(24314),_=e(3860),I=e(84901);class M{constructor(d,u,i){this.selection=d,this.targetPosition=u,this.copy=i,this.targetSelection=null}getEditOperations(d,u){const i=d.getValueInRange(this.selection);if(this.copy||u.addEditOperation(this.selection,null),u.addEditOperation(new c.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new _.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new _.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new _.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new _.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new _.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(d,u){return this.targetSelection}}function D(o){return z.dz?o.altKey:o.ctrlKey}class p extends b.JT{constructor(d){super(),this._editor=d,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(u=>this._onEditorMouseDown(u))),this._register(this._editor.onMouseUp(u=>this._onEditorMouseUp(u))),this._register(this._editor.onMouseDrag(u=>this._onEditorMouseDrag(u))),this._register(this._editor.onMouseDrop(u=>this._onEditorMouseDrop(u))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(u=>this.onEditorKeyDown(u))),this._register(this._editor.onKeyUp(u=>this.onEditorKeyUp(u))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(d){!this._editor.getOption(35)||this._editor.getOption(22)||(D(d)&&(this._modifierPressed=!0),this._mouseDown&&D(d)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(d){!this._editor.getOption(35)||this._editor.getOption(22)||(D(d)&&(this._modifierPressed=!1),this._mouseDown&&d.keyCode===p.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(d){this._mouseDown=!0}_onEditorMouseUp(d){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(d){const u=d.target;if(this._dragSelection===null){const n=(this._editor.getSelections()||[]).filter(f=>u.position&&f.containsPosition(u.position));if(n.length===1)this._dragSelection=n[0];else return}D(d.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),u.position&&(this._dragSelection.containsPosition(u.position)?this._removeDecoration():this.showAt(u.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(d){if(d.target&&(this._hitContent(d.target)||this._hitMargin(d.target))&&d.target.position){const u=new E.L(d.target.position.lineNumber,d.target.position.column);if(this._dragSelection===null){let i=null;if(d.event.shiftKey){const n=this._editor.getSelection();if(n){const{selectionStartLineNumber:f,selectionStartColumn:v}=n;i=[new _.Y(f,v,u.lineNumber,u.column)]}}else i=(this._editor.getSelections()||[]).map(n=>n.containsPosition(u)?new _.Y(u.lineNumber,u.column,u.lineNumber,u.column):n);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(u)||(D(d.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(u)||this._dragSelection.getStartPosition().equals(u)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(p.ID,new M(this._dragSelection,u,D(d.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(d){this._dndDecorationIds.set([{range:new c.e(d.lineNumber,d.column,d.lineNumber,d.column),options:p._DECORATION_OPTIONS}]),this._editor.revealPosition(d,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(d){return d.type===6||d.type===7}_hitMargin(d){return d.type===2||d.type===3||d.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}p.ID="editor.contrib.dragAndDrop",p.TRIGGER_KEY_VALUE=z.dz?6:5,p._DECORATION_OPTIONS=I.qx.register({description:"dnd-target",className:"dnd-target"}),(0,r._K)(p.ID,p,2)},76917:function(Pt,Ke,e){"use strict";var b=e(71050),z=e(98401),r=e(70666),E=e(88216),c=e(30335),_=e(94565);_.P.registerCommand("_executeDocumentSymbolProvider",function(I,...M){return qt(this,null,function*(){const[D]=M;(0,z.p_)(r.o.isUri(D));const p=I.get(c.Je),d=yield I.get(E.S).createModelReference(D);try{return(yield p.getOrCreate(d.object.textEditorModel,b.T.None)).getTopLevelSymbols()}finally{d.dispose()}})})},30335:function(Pt,Ke,e){"use strict";e.d(Ke,{C3:function(){return S},H3:function(){return a},Je:function(){return g},sT:function(){return v}});var b=e(9488),z=e(71050),r=e(17301),E=e(53725),c=e(43702),_=e(50187),I=e(24314),M=e(88191),D=e(72065),p=e(65026),o=e(73733),d=e(5976),u=e(71922),i=function(C,L,O,T){var F=arguments.length,B=F<3?L:T===null?T=Object.getOwnPropertyDescriptor(L,O):T,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,L,O,T);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(B=(F<3?$(B):F>3?$(L,O,B):$(L,O))||B);return F>3&&B&&Object.defineProperty(L,O,B),B},n=function(C,L){return function(O,T){L(O,T,C)}};class f{remove(){var L;(L=this.parent)===null||L===void 0||L.children.delete(this.id)}static findId(L,O){let T;typeof L=="string"?T=`${O.id}/${L}`:(T=`${O.id}/${L.name}`,O.children.get(T)!==void 0&&(T=`${O.id}/${L.name}_${L.range.startLineNumber}_${L.range.startColumn}`));let F=T;for(let B=0;O.children.get(F)!==void 0;B++)F=`${T}_${B}`;return F}static empty(L){return L.children.size===0}}class v extends f{constructor(L,O,T){super(),this.id=L,this.parent=O,this.symbol=T,this.children=new Map}}class a extends f{constructor(L,O,T,F){super(),this.id=L,this.parent=O,this.label=T,this.order=F,this.children=new Map}}class S extends f{static create(L,O,T){const F=new z.A(T),B=new S(O.uri),$=L.ordered(O),Y=$.map((w,V)=>{var R;const A=f.findId(`provider_${V}`,B),H=new a(A,B,(R=w.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",V);return Promise.resolve(w.provideDocumentSymbols(O,F.token)).then(U=>{for(const G of U||[])S._makeOutlineElement(G,H);return H},U=>((0,r.Cp)(U),H)).then(U=>{f.empty(U)?U.remove():B._groups.set(A,U)})}),P=L.onDidChange(()=>{const w=L.ordered(O);(0,b.fS)(w,$)||F.cancel()});return Promise.all(Y).then(()=>F.token.isCancellationRequested&&!T.isCancellationRequested?S.create(L,O,T):B._compact()).finally(()=>{F.dispose(),P.dispose(),F.dispose()})}static _makeOutlineElement(L,O){const T=f.findId(L,O),F=new v(T,O,L);if(L.children)for(const B of L.children)S._makeOutlineElement(B,F);O.children.set(F.id,F)}constructor(L){super(),this.uri=L,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let L=0;for(const[O,T]of this._groups)T.children.size===0?this._groups.delete(O):L+=1;if(L!==1)this.children=this._groups;else{const O=E.$.first(this._groups.values());for(const[,T]of O.children)T.parent=this,this.children.set(T.id,T)}return this}getTopLevelSymbols(){const L=[];for(const O of this.children.values())O instanceof v?L.push(O.symbol):L.push(...E.$.map(O.children.values(),T=>T.symbol));return L.sort((O,T)=>I.e.compareRangesUsingStarts(O.range,T.range))}asListOfDocumentSymbols(){const L=this.getTopLevelSymbols(),O=[];return S._flattenDocumentSymbols(O,L,""),O.sort((T,F)=>_.L.compare(I.e.getStartPosition(T.range),I.e.getStartPosition(F.range))||_.L.compare(I.e.getEndPosition(F.range),I.e.getEndPosition(T.range)))}static _flattenDocumentSymbols(L,O,T){for(const F of O)L.push({kind:F.kind,tags:F.tags,name:F.name,detail:F.detail,containerName:F.containerName||T,range:F.range,selectionRange:F.selectionRange,children:void 0}),F.children&&S._flattenDocumentSymbols(L,F.children,F.name)}}const g=(0,D.yh)("IOutlineModelService");let y=class{constructor(L,O,T){this._languageFeaturesService=L,this._disposables=new d.SL,this._cache=new c.z6(10,.7),this._debounceInformation=O.for(L.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(T.onModelRemoved(F=>{this._cache.delete(F.id)}))}dispose(){this._disposables.dispose()}getOrCreate(L,O){return qt(this,null,function*(){const T=this._languageFeaturesService.documentSymbolProvider,F=T.ordered(L);let B=this._cache.get(L.id);if(!B||B.versionId!==L.getVersionId()||!(0,b.fS)(B.provider,F)){const Y=new z.A;B={versionId:L.getVersionId(),provider:F,promiseCnt:0,source:Y,promise:S.create(T,L,Y.token),model:void 0},this._cache.set(L.id,B);const P=Date.now();B.promise.then(w=>{B.model=w,this._debounceInformation.update(L,Date.now()-P)}).catch(w=>{this._cache.delete(L.id)})}if(B.model)return B.model;B.promiseCnt+=1;const $=O.onCancellationRequested(()=>{--B.promiseCnt===0&&(B.source.cancel(),this._cache.delete(L.id))});try{return yield B.promise}finally{$.dispose()}})}};y=i([n(0,u.p),n(1,M.A),n(2,o.q)],y),(0,p.z)(g,y,1)},95329:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(10637),r=e(65321),E=e(9488),c=e(15393),_=e(73278),I=e(5976),M=e(81170),D=e(1432),p=e(98e3),o=e(35715),d=e(92944),u=e(66007),i=e(24314),n=e(71922),f=e(91092),v=e(14410),a=e(3665),S=e(63580),g=e(84972),y=e(32064),C=e(72065),L=e(90535),O=e(41157),T=e(17782),F=function(H,U,G,j){var W=arguments.length,K=W<3?U:j===null?j=Object.getOwnPropertyDescriptor(U,G):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,U,G,j);else for(var J=H.length-1;J>=0;J--)(m=H[J])&&(K=(W<3?m(K):W>3?m(U,G,K):m(U,G))||K);return W>3&&K&&Object.defineProperty(U,G,K),K},B=function(H,U){return function(G,j){U(G,j,H)}},$;const Y="editor.changePasteType",P=new y.uy("pasteWidgetVisible",!1,(0,S.NC)("pasteWidgetVisible","Whether the paste widget is showing")),w="application/vnd.code.copyMetadata";let V=$=class extends I.JT{static get(U){return U.getContribution($.ID)}constructor(U,G,j,W,K,m,J){super(),this._bulkEditService=j,this._clipboardService=W,this._languageFeaturesService=K,this._quickInputService=m,this._progressService=J,this._editor=U;const X=U.getContainerDomNode();this._register((0,r.nm)(X,"copy",ie=>this.handleCopy(ie))),this._register((0,r.nm)(X,"cut",ie=>this.handleCopy(ie))),this._register((0,r.nm)(X,"paste",ie=>this.handlePaste(ie),!0)),this._pasteProgressManager=this._register(new a.r("pasteIntoEditor",U,G)),this._postPasteWidgetManager=this._register(G.createInstance(T.p,"pasteIntoEditor",U,P,{id:Y,label:(0,S.NC)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(U){this._editor.focus();try{this._pasteAsActionContext={preferredId:U},(0,r.uP)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(84).enabled&&!this._editor.getOption(90)}handleCopy(U){var G,j;if(!this._editor.hasTextFocus()||(D.$L&&this._clipboardService.writeResources([]),!U.clipboardData||!this.isPasteAsEnabled()))return;const W=this._editor.getModel(),K=this._editor.getSelections();if(!W||!(K!=null&&K.length))return;const m=this._editor.getOption(37);let J=K;const X=K.length===1&&K[0].isEmpty();if(X){if(!m)return;J=[new i.e(J[0].startLineNumber,1,J[0].startLineNumber,1+W.getLineLength(J[0].startLineNumber))]}const ie=(G=this._editor._getViewModel())===null||G===void 0?void 0:G.getPlainTextToCopy(K,m,D.ED),fe={multicursorText:Array.isArray(ie)?ie:null,pasteOnNewLine:X,mode:null},Le=this._languageFeaturesService.documentPasteEditProvider.ordered(W).filter(Ne=>!!Ne.prepareDocumentPaste);if(!Le.length){this.setCopyMetadata(U.clipboardData,{defaultPastePayload:fe});return}const pe=(0,d.B)(U.clipboardData),Te=Le.flatMap(Ne=>{var We;return(We=Ne.copyMimeTypes)!==null&&We!==void 0?We:[]}),De=(0,p.R)();this.setCopyMetadata(U.clipboardData,{id:De,providerCopyMimeTypes:Te,defaultPastePayload:fe});const ae=(0,c.PG)(Ne=>qt(this,null,function*(){const We=(0,E.kX)(yield Promise.all(Le.map(ze=>qt(this,null,function*(){try{return yield ze.prepareDocumentPaste(W,J,pe,Ne)}catch(Se){console.error(Se);return}}))));We.reverse();for(const ze of We)for(const[Se,ne]of ze)pe.replace(Se,ne);return pe}));(j=this._currentCopyOperation)===null||j===void 0||j.dataTransferPromise.cancel(),this._currentCopyOperation={handle:De,dataTransferPromise:ae}}handlePaste(U){return qt(this,null,function*(){var G,j;if(!U.clipboardData||!this._editor.hasTextFocus())return;(G=this._currentPasteOperation)===null||G===void 0||G.cancel(),this._currentPasteOperation=void 0;const W=this._editor.getModel(),K=this._editor.getSelections();if(!(K!=null&&K.length)||!W||!this.isPasteAsEnabled())return;const m=this.fetchCopyMetadata(U),J=(0,d.L)(U.clipboardData);J.delete(w);const X=[...U.clipboardData.types,...(j=m==null?void 0:m.providerCopyMimeTypes)!==null&&j!==void 0?j:[],M.v.uriList],ie=this._languageFeaturesService.documentPasteEditProvider.ordered(W).filter(le=>{var fe;return(fe=le.pasteMimeTypes)===null||fe===void 0?void 0:fe.some(Le=>(0,_.SN)(Le,X))});ie.length&&(U.preventDefault(),U.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,ie,K,J,m):this.doPasteInline(ie,K,J,m))})}doPasteInline(U,G,j,W){const K=(0,c.PG)(m=>qt(this,null,function*(){const J=this._editor;if(!J.hasModel())return;const X=J.getModel(),ie=new v.Dl(J,3,void 0,m);try{if(yield this.mergeInDataFromCopy(j,W,ie.token),ie.token.isCancellationRequested)return;const le=U.filter(Le=>R(Le,j));if(!le.length||le.length===1&&le[0].id==="text"){yield this.applyDefaultPasteHandler(j,W,ie.token);return}const fe=yield this.getPasteEdits(le,j,X,G,ie.token);if(ie.token.isCancellationRequested)return;if(fe.length===1&&fe[0].providerId==="text"){yield this.applyDefaultPasteHandler(j,W,ie.token);return}if(fe.length){const Le=J.getOption(84).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(G,{activeEditIndex:0,allEdits:fe},Le,ie.token)}yield this.applyDefaultPasteHandler(j,W,ie.token)}finally{ie.dispose(),this._currentPasteOperation===K&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(G[0].getEndPosition(),(0,S.NC)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),K),this._currentPasteOperation=K}showPasteAsPick(U,G,j,W,K){const m=(0,c.PG)(J=>qt(this,null,function*(){const X=this._editor;if(!X.hasModel())return;const ie=X.getModel(),le=new v.Dl(X,3,void 0,J);try{if(yield this.mergeInDataFromCopy(W,K,le.token),le.token.isCancellationRequested)return;let fe=G.filter(De=>R(De,W));U&&(fe=fe.filter(De=>De.id===U));const Le=yield this.getPasteEdits(fe,W,ie,j,le.token);if(le.token.isCancellationRequested||!Le.length)return;let pe;if(U)pe=Le.at(0);else{const De=yield this._quickInputService.pick(Le.map(ae=>({label:ae.label,description:ae.providerId,detail:ae.detail,edit:ae})),{placeHolder:(0,S.NC)("pasteAsPickerPlaceholder","Select Paste Action")});pe=De==null?void 0:De.edit}if(!pe)return;const Te=(0,f.n)(ie.uri,j,pe);yield this._bulkEditService.apply(Te,{editor:this._editor})}finally{le.dispose(),this._currentPasteOperation===m&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,S.NC)("pasteAsProgress","Running paste handlers")},()=>m)}setCopyMetadata(U,G){U.setData(w,JSON.stringify(G))}fetchCopyMetadata(U){var G;if(!U.clipboardData)return;const j=U.clipboardData.getData(w);if(j)try{return JSON.parse(j)}catch(m){return}const[W,K]=o.b6.getTextData(U.clipboardData);if(K)return{defaultPastePayload:{mode:K.mode,multicursorText:(G=K.multicursorText)!==null&&G!==void 0?G:null,pasteOnNewLine:!!K.isFromEmptySelection}}}mergeInDataFromCopy(U,G,j){return qt(this,null,function*(){var W;if(G!=null&&G.id&&((W=this._currentCopyOperation)===null||W===void 0?void 0:W.handle)===G.id){const K=yield this._currentCopyOperation.dataTransferPromise;if(j.isCancellationRequested)return;for(const[m,J]of K)U.replace(m,J)}if(!U.has(M.v.uriList)){const K=yield this._clipboardService.readResources();if(j.isCancellationRequested)return;K.length&&U.append(M.v.uriList,(0,_.ZO)(_.Z0.create(K)))}})}getPasteEdits(U,G,j,W,K){return qt(this,null,function*(){const m=yield(0,c.eP)(Promise.all(U.map(X=>qt(this,null,function*(){var ie;try{const le=yield(ie=X.provideDocumentPasteEdits)===null||ie===void 0?void 0:ie.call(X,j,W,G,K);if(le)return Ln(Xi({},le),{providerId:X.id})}catch(le){console.error(le)}}))),K),J=(0,E.kX)(m!=null?m:[]);return(0,f.C)(J)})}applyDefaultPasteHandler(U,G,j){return qt(this,null,function*(){var W,K,m;const J=(W=U.get(M.v.text))!==null&&W!==void 0?W:U.get("text");if(!J)return;const X=yield J.asString();if(j.isCancellationRequested)return;const ie={text:X,pasteOnNewLine:(K=G==null?void 0:G.defaultPastePayload.pasteOnNewLine)!==null&&K!==void 0?K:!1,multicursorText:(m=G==null?void 0:G.defaultPastePayload.multicursorText)!==null&&m!==void 0?m:null,mode:null};this._editor.trigger("keyboard","paste",ie)})}};V.ID="editor.contrib.copyPasteActionController",V=$=F([B(1,C.TG),B(2,u.vu),B(3,g.p),B(4,n.p),B(5,O.eJ),B(6,L.R9)],V);function R(H,U){var G;return!!(!((G=H.pasteMimeTypes)===null||G===void 0)&&G.some(j=>U.matches(j)))}var A=e(51512);(0,b._K)(V.ID,V,0),(0,z.y)(A.v),(0,b.fK)(new class extends b._l{constructor(){super({id:Y,precondition:P,kbOpts:{weight:100,primary:2137}})}runEditorCommand(H,U,G){var j;return(j=V.get(U))===null||j===void 0?void 0:j.changePasteType()}}),(0,b.Qr)(class extends b.R6{constructor(){super({id:"editor.action.pasteAs",label:S.NC("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,metadata:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:S.NC("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(H,U,G){var j;const W=typeof(G==null?void 0:G.id)=="string"?G.id:void 0;return(j=V.get(U))===null||j===void 0?void 0:j.pasteAs(W)}})},51512:function(Pt,Ke,e){"use strict";e.d(Ke,{P:function(){return S},v:function(){return g}});var b=e(9488),z=e(73278),r=e(5976),E=e(81170),c=e(66663),_=e(95935),I=e(70666),M=e(71922),D=e(63580),p=e(40382),o=function(y,C,L,O){var T=arguments.length,F=T<3?C:O===null?O=Object.getOwnPropertyDescriptor(C,L):O,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(y,C,L,O);else for(var $=y.length-1;$>=0;$--)(B=y[$])&&(F=(T<3?B(F):T>3?B(C,L,F):B(C,L))||F);return T>3&&F&&Object.defineProperty(C,L,F),F},d=function(y,C){return function(L,O){C(L,O,y)}};const u=(0,D.NC)("builtIn","Built-in");class i{provideDocumentPasteEdits(C,L,O,T){return qt(this,null,function*(){const F=yield this.getEdit(O,T);return F?{insertText:F.insertText,label:F.label,detail:F.detail,handledMimeType:F.handledMimeType,yieldTo:F.yieldTo}:void 0})}provideDocumentOnDropEdits(C,L,O,T){return qt(this,null,function*(){const F=yield this.getEdit(O,T);return F?{insertText:F.insertText,label:F.label,handledMimeType:F.handledMimeType,yieldTo:F.yieldTo}:void 0})}}class n extends i{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[E.v.text],this.pasteMimeTypes=[E.v.text]}getEdit(C,L){return qt(this,null,function*(){const O=C.get(E.v.text);if(!O||C.has(E.v.uriList))return;const T=yield O.asString();return{handledMimeType:E.v.text,label:(0,D.NC)("text.label","Insert Plain Text"),detail:u,insertText:T}})}}class f extends i{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[E.v.uriList],this.pasteMimeTypes=[E.v.uriList]}getEdit(C,L){return qt(this,null,function*(){const O=yield a(C);if(!O.length||L.isCancellationRequested)return;let T=0;const F=O.map(({uri:$,originalText:Y})=>$.scheme===c.lg.file?$.fsPath:(T++,Y)).join(" ");let B;return T>0?B=O.length>1?(0,D.NC)("defaultDropProvider.uriList.uris","Insert Uris"):(0,D.NC)("defaultDropProvider.uriList.uri","Insert Uri"):B=O.length>1?(0,D.NC)("defaultDropProvider.uriList.paths","Insert Paths"):(0,D.NC)("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:E.v.uriList,insertText:F,label:B,detail:u}})}}let v=class extends i{constructor(C){super(),this._workspaceContextService=C,this.id="relativePath",this.dropMimeTypes=[E.v.uriList],this.pasteMimeTypes=[E.v.uriList]}getEdit(C,L){return qt(this,null,function*(){const O=yield a(C);if(!O.length||L.isCancellationRequested)return;const T=(0,b.kX)(O.map(({uri:F})=>{const B=this._workspaceContextService.getWorkspaceFolder(F);return B?(0,_.lX)(B.uri,F):void 0}));if(T.length)return{handledMimeType:E.v.uriList,insertText:T.join(" "),label:O.length>1?(0,D.NC)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,D.NC)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:u}})}};v=o([d(0,p.ec)],v);function a(y){return qt(this,null,function*(){const C=y.get(E.v.uriList);if(!C)return[];const L=yield C.asString(),O=[];for(const T of z.Z0.parse(L))try{O.push({uri:I.o.parse(T),originalText:T})}catch(F){}return O})}let S=class extends r.JT{constructor(C,L){super(),this._register(C.documentOnDropEditProvider.register("*",new n)),this._register(C.documentOnDropEditProvider.register("*",new f)),this._register(C.documentOnDropEditProvider.register("*",new v(L)))}};S=o([d(0,M.p),d(1,p.ec)],S);let g=class extends r.JT{constructor(C,L){super(),this._register(C.documentPasteEditProvider.register("*",new n)),this._register(C.documentPasteEditProvider.register("*",new f)),this._register(C.documentPasteEditProvider.register("*",new v(L)))}};g=o([d(0,M.p),d(1,p.ec)],g)},76454:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(800),r=e(10637),E=e(51512),c=e(63580),_=e(23193),I=e(89872),M=e(9488),D=e(15393),p=e(73278),o=e(5976),d=e(92944),u=e(24314),i=e(71922);class n{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(H){if(H&&this._dragOperations.has(H)){const U=this._dragOperations.get(H);return this._dragOperations.delete(H),U}}}class f{constructor(H){this.identifier=H}}var v=e(65026),a=e(72065);const S=(0,a.yh)("treeViewsDndService");(0,v.z)(S,n,1);var g=e(14410),y=e(3665),C=e(33108),L=e(32064),O=e(16021),T=e(91092),F=e(17782),B=function(A,H,U,G){var j=arguments.length,W=j<3?H:G===null?G=Object.getOwnPropertyDescriptor(H,U):G,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(A,H,U,G);else for(var m=A.length-1;m>=0;m--)(K=A[m])&&(W=(j<3?K(W):j>3?K(H,U,W):K(H,U))||W);return j>3&&W&&Object.defineProperty(H,U,W),W},$=function(A,H){return function(U,G){H(U,G,A)}},Y;const P="editor.experimental.dropIntoEditor.defaultProvider",w="editor.changeDropType",V=new L.uy("dropWidgetVisible",!1,(0,c.NC)("dropWidgetVisible","Whether the drop widget is showing"));let R=Y=class extends o.JT{static get(H){return H.getContribution(Y.ID)}constructor(H,U,G,j,W){super(),this._configService=G,this._languageFeaturesService=j,this._treeViewsDragAndDropService=W,this.treeItemsTransfer=O.Ej.getInstance(),this._dropProgressManager=this._register(U.createInstance(y.r,"dropIntoEditor",H)),this._postDropWidgetManager=this._register(U.createInstance(F.p,"dropIntoEditor",H,V,{id:w,label:(0,c.NC)("postDropWidgetTitle","Show drop options...")})),this._register(H.onDropIntoEditor(K=>this.onDropIntoEditor(H,K.position,K.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(H,U,G){return qt(this,null,function*(){var j;if(!G.dataTransfer||!H.hasModel())return;(j=this._currentOperation)===null||j===void 0||j.cancel(),H.focus(),H.setPosition(U);const W=(0,D.PG)(K=>qt(this,null,function*(){const m=new g.Dl(H,1,void 0,K);try{const J=yield this.extractDataTransferData(G);if(J.size===0||m.token.isCancellationRequested)return;const X=H.getModel();if(!X)return;const ie=this._languageFeaturesService.documentOnDropEditProvider.ordered(X).filter(fe=>fe.dropMimeTypes?fe.dropMimeTypes.some(Le=>J.matches(Le)):!0),le=yield this.getDropEdits(ie,X,U,J,m);if(m.token.isCancellationRequested)return;if(le.length){const fe=this.getInitialActiveEditIndex(X,le),Le=H.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([u.e.fromPositions(U)],{activeEditIndex:fe,allEdits:le},Le,K)}}finally{m.dispose(),this._currentOperation===W&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(U,(0,c.NC)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),W),this._currentOperation=W})}getDropEdits(H,U,G,j,W){return qt(this,null,function*(){const K=yield(0,D.eP)(Promise.all(H.map(J=>qt(this,null,function*(){try{const X=yield J.provideDocumentOnDropEdits(U,G,j,W.token);if(X)return Ln(Xi({},X),{providerId:J.id})}catch(X){console.error(X)}}))),W.token),m=(0,M.kX)(K!=null?K:[]);return(0,T.C)(m)})}getInitialActiveEditIndex(H,U){const G=this._configService.getValue(P,{resource:H.uri});for(const[j,W]of Object.entries(G)){const K=U.findIndex(m=>W===m.providerId&&m.handledMimeType&&(0,p.SN)(j,[m.handledMimeType]));if(K>=0)return K}return 0}extractDataTransferData(H){return qt(this,null,function*(){if(!H.dataTransfer)return new p.Hl;const U=(0,d.L)(H.dataTransfer);if(this.treeItemsTransfer.hasData(f.prototype)){const G=this.treeItemsTransfer.getData(f.prototype);if(Array.isArray(G))for(const j of G){const W=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(j.identifier);if(W)for(const[K,m]of W)U.replace(K,m)}}return U})}};R.ID="editor.contrib.dropIntoEditorController",R=Y=B([$(1,a.TG),$(2,C.Ui),$(3,i.p),$(4,S)],R),(0,b._K)(R.ID,R,2),(0,b.fK)(new class extends b._l{constructor(){super({id:w,precondition:V,kbOpts:{weight:100,primary:2137}})}runEditorCommand(A,H,U){var G;(G=R.get(H))===null||G===void 0||G.changeDropType()}}),(0,r.y)(E.P),I.B.as(_.IP.Configuration).registerConfiguration(Ln(Xi({},z.wk),{properties:{[P]:{type:"object",scope:5,description:c.NC("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}))},91092:function(Pt,Ke,e){"use strict";e.d(Ke,{C:function(){return r},n:function(){return z}});var b=e(66007);function z(E,c,_){var I,M;return{edits:[...c.map(D=>new b.Gl(E,typeof _.insertText=="string"?{range:D,text:_.insertText,insertAsSnippet:!1}:{range:D,text:_.insertText.snippet,insertAsSnippet:!0})),...(M=(I=_.additionalEdit)===null||I===void 0?void 0:I.edits)!==null&&M!==void 0?M:[]]}}function r(E){var c;function _(o,d){return"providerId"in o&&o.providerId===d.providerId||"mimeType"in o&&o.mimeType===d.handledMimeType}const I=new Map;for(const o of E)for(const d of(c=o.yieldTo)!==null&&c!==void 0?c:[])for(const u of E)if(u!==o&&_(d,u)){let i=I.get(o);i||(i=[],I.set(o,i)),i.push(u)}if(!I.size)return Array.from(E);const M=new Set,D=[];function p(o){if(!o.length)return[];const d=o[0];if(D.includes(d))return console.warn(`Yield to cycle detected for ${d.providerId}`),o;if(M.has(d))return p(o.slice(1));let u=[];const i=I.get(d);return i&&(D.push(d),u=p(i),D.pop()),M.add(d),[...u,d,...p(o.slice(1))]}return p(Array.from(E))}},17782:function(Pt,Ke,e){"use strict";e.d(Ke,{p:function(){return n}});var b=e(65321),z=e(36289),r=e(74741),E=e(4669),c=e(5976),_=e(66007),I=e(32064),M=e(5606),D=e(72065),p=e(91847),o=function(f,v,a,S){var g=arguments.length,y=g<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,a):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,v,a,S);else for(var L=f.length-1;L>=0;L--)(C=f[L])&&(y=(g<3?C(y):g>3?C(v,a,y):C(v,a))||y);return g>3&&y&&Object.defineProperty(v,a,y),y},d=function(f,v){return function(a,S){v(a,S,f)}},u;let i=u=class extends c.JT{constructor(v,a,S,g,y,C,L,O,T,F){super(),this.typeId=v,this.editor=a,this.showCommand=g,this.range=y,this.edits=C,this.onSelectNewEdit=L,this._contextMenuService=O,this._keybindingService=F,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=S.bindTo(T),this.visibleContext.set(!0),this._register((0,c.OF)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,c.OF)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(B=>{y.containsPosition(B.position)||this.dispose()})),this._register(E.ju.runAndSubscribe(F.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var v;const a=(v=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||v===void 0?void 0:v.getLabel();this.button.element.title=this.showCommand.label+(a?` (${a})`:"")}create(){this.domNode=b.$(".post-edit-widget"),this.button=this._register(new z.z(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(b.nm(this.domNode,b.tw.CLICK,()=>this.showSelector()))}getId(){return u.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const v=b.i(this.button.element);return{x:v.left+v.width,y:v.top+v.height}},getActions:()=>this.edits.allEdits.map((v,a)=>(0,r.xw)({id:"",label:v.label,checked:a===this.edits.activeEditIndex,run:()=>{if(a!==this.edits.activeEditIndex)return this.onSelectNewEdit(a)}}))})}};i.baseId="editor.widget.postEditWidget",i=u=o([d(7,M.i),d(8,I.i6),d(9,p.d)],i);let n=class extends c.JT{constructor(v,a,S,g,y,C){super(),this._id=v,this._editor=a,this._visibleContext=S,this._showCommand=g,this._instantiationService=y,this._bulkEditService=C,this._currentWidget=this._register(new c.XK),this._register(E.ju.any(a.onDidChangeModel,a.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(v,a,S,g){return qt(this,null,function*(){var y,C;const L=this._editor.getModel();if(!L||!v.length)return;const O=a.allEdits[a.activeEditIndex];if(!O)return;let T=[];(typeof O.insertText=="string"?O.insertText==="":O.insertText.snippet==="")?T=[]:T=v.map(V=>new _.Gl(L.uri,typeof O.insertText=="string"?{range:V,text:O.insertText,insertAsSnippet:!1}:{range:V,text:O.insertText.snippet,insertAsSnippet:!0}));const B={edits:[...T,...(C=(y=O.additionalEdit)===null||y===void 0?void 0:y.edits)!==null&&C!==void 0?C:[]]},$=v[0],Y=L.deltaDecorations([],[{range:$,options:{description:"paste-line-suffix",stickiness:0}}]);let P,w;try{P=yield this._bulkEditService.apply(B,{editor:this._editor,token:g}),w=L.getDecorationRange(Y[0])}finally{L.deltaDecorations(Y,[])}S&&P.isApplied&&a.allEdits.length>1&&this.show(w!=null?w:$,a,V=>qt(this,null,function*(){const R=this._editor.getModel();R&&(yield R.undo(),this.applyEditAndShowIfNeeded(v,{activeEditIndex:V,allEdits:a.allEdits},S,g))}))})}show(v,a,S){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(i,this._id,this._editor,this._visibleContext,this._showCommand,v,a,S))}clear(){this._currentWidget.clear()}tryShowSelector(){var v;(v=this._currentWidget.value)===null||v===void 0||v.showSelector()}};n=o([d(4,D.TG),d(5,_.vu)],n)},14410:function(Pt,Ke,e){"use strict";e.d(Ke,{yy:function(){return i},Dl:function(){return n},YQ:function(){return f}});var b=e(97295),z=e(24314),r=e(71050),E=e(5976),c=e(16830),_=e(32064),I=e(91741),M=e(72065),D=e(65026),p=e(63580);const o=(0,M.yh)("IEditorCancelService"),d=new _.uy("cancellableOperation",!1,(0,p.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,D.z)(o,class{constructor(){this._tokens=new WeakMap}add(v,a){let S=this._tokens.get(v);S||(S=v.invokeWithinContext(y=>{const C=d.bindTo(y.get(_.i6)),L=new I.S;return{key:C,tokens:L}}),this._tokens.set(v,S));let g;return S.key.set(!0),g=S.tokens.push(a),()=>{g&&(g(),S.key.set(!S.tokens.isEmpty()),g=void 0)}}cancel(v){const a=this._tokens.get(v);if(!a)return;const S=a.tokens.pop();S&&(S.cancel(),a.key.set(!a.tokens.isEmpty()))}},1);class u extends r.A{constructor(a,S){super(S),this.editor=a,this._unregister=a.invokeWithinContext(g=>g.get(o).add(a,this))}dispose(){this._unregister(),super.dispose()}}(0,c.fK)(new class extends c._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:d})}runEditorCommand(v,a){v.get(o).cancel(a)}});class i{constructor(a,S){if(this.flags=S,this.flags&1){const g=a.getModel();this.modelVersionId=g?b.WU("{0}#{1}",g.uri.toString(),g.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=a.getPosition():this.position=null,this.flags&2?this.selection=a.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof i))return!1;const S=a;return!(this.modelVersionId!==S.modelVersionId||this.scrollLeft!==S.scrollLeft||this.scrollTop!==S.scrollTop||!this.position&&S.position||this.position&&!S.position||this.position&&S.position&&!this.position.equals(S.position)||!this.selection&&S.selection||this.selection&&!S.selection||this.selection&&S.selection&&!this.selection.equalsRange(S.selection))}validate(a){return this._equals(new i(a,this.flags))}}class n extends u{constructor(a,S,g,y){super(a,y),this._listener=new E.SL,S&4&&this._listener.add(a.onDidChangeCursorPosition(C=>{(!g||!z.e.containsPosition(g,C.position))&&this.cancel()})),S&2&&this._listener.add(a.onDidChangeCursorSelection(C=>{(!g||!z.e.containsRange(g,C.selection))&&this.cancel()})),S&8&&this._listener.add(a.onDidScrollChange(C=>this.cancel())),S&1&&(this._listener.add(a.onDidChangeModel(C=>this.cancel())),this._listener.add(a.onDidChangeModelContent(C=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class f extends r.A{constructor(a,S){super(S),this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},63980:function(Pt,Ke,e){"use strict";e.d(Ke,{pR:function(){return yt}});var b=e(15393),z=e(5976),r=e(97295),E=e(16830),c=e(8625),_=e(29102),I=e(84973),M=e(35534),D=e(61329),p=e(50187),o=e(24314),d=e(3860),u=e(77277),i=e(84901),n=e(73910),f=e(97781);class v{constructor(qe){this._editor=qe,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const qe=this._findScopeDecorationIds.map(ee=>this._editor.getModel().getDecorationRange(ee)).filter(ee=>!!ee);if(qe.length)return qe}return null}getStartPosition(){return this._startPosition}setStartPosition(qe){this._startPosition=qe,this.setCurrentFindMatch(null)}_getDecorationIndex(qe){const ee=this._decorations.indexOf(qe);return ee>=0?ee+1:1}getDecorationRangeAt(qe){const ee=qe<this._decorations.length?this._decorations[qe]:null;return ee?this._editor.getModel().getDecorationRange(ee):null}getCurrentMatchesPosition(qe){const ee=this._editor.getModel().getDecorationsInRange(qe);for(const de of ee){const re=de.options;if(re===v._FIND_MATCH_DECORATION||re===v._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(de.id)}return 0}setCurrentFindMatch(qe){let ee=null,de=0;if(qe)for(let re=0,Ce=this._decorations.length;re<Ce;re++){const we=this._editor.getModel().getDecorationRange(this._decorations[re]);if(qe.equalsRange(we)){ee=this._decorations[re],de=re+1;break}}return(this._highlightedDecorationId!==null||ee!==null)&&this._editor.changeDecorations(re=>{if(this._highlightedDecorationId!==null&&(re.changeDecorationOptions(this._highlightedDecorationId,v._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),ee!==null&&(this._highlightedDecorationId=ee,re.changeDecorationOptions(this._highlightedDecorationId,v._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(re.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),ee!==null){let Ce=this._editor.getModel().getDecorationRange(ee);if(Ce.startLineNumber!==Ce.endLineNumber&&Ce.endColumn===1){const we=Ce.endLineNumber-1,be=this._editor.getModel().getLineMaxColumn(we);Ce=new o.e(Ce.startLineNumber,Ce.startColumn,we,be)}this._rangeHighlightDecorationId=re.addDecoration(Ce,v._RANGE_HIGHLIGHT_DECORATION)}}),de}set(qe,ee){this._editor.changeDecorations(de=>{let re=v._FIND_MATCH_DECORATION;const Ce=[];if(qe.length>1e3){re=v._FIND_MATCH_NO_OVERVIEW_DECORATION;const be=this._editor.getModel().getLineCount(),He=this._editor.getLayoutInfo().height/be,Ye=Math.max(2,Math.ceil(3/He));let ut=qe[0].range.startLineNumber,$t=qe[0].range.endLineNumber;for(let gi=1,ci=qe.length;gi<ci;gi++){const ai=qe[gi].range;$t+Ye>=ai.startLineNumber?ai.endLineNumber>$t&&($t=ai.endLineNumber):(Ce.push({range:new o.e(ut,1,$t,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ut=ai.startLineNumber,$t=ai.endLineNumber)}Ce.push({range:new o.e(ut,1,$t,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const we=new Array(qe.length);for(let be=0,ke=qe.length;be<ke;be++)we[be]={range:qe[be].range,options:re};this._decorations=de.deltaDecorations(this._decorations,we),this._overviewRulerApproximateDecorations=de.deltaDecorations(this._overviewRulerApproximateDecorations,Ce),this._rangeHighlightDecorationId&&(de.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(be=>de.removeDecoration(be)),this._findScopeDecorationIds=[]),ee!=null&&ee.length&&(this._findScopeDecorationIds=ee.map(be=>de.addDecoration(be,v._FIND_SCOPE_DECORATION)))})}matchBeforePosition(qe){if(this._decorations.length===0)return null;for(let ee=this._decorations.length-1;ee>=0;ee--){const de=this._decorations[ee],re=this._editor.getModel().getDecorationRange(de);if(!(!re||re.endLineNumber>qe.lineNumber)){if(re.endLineNumber<qe.lineNumber)return re;if(!(re.endColumn>qe.column))return re}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(qe){if(this._decorations.length===0)return null;for(let ee=0,de=this._decorations.length;ee<de;ee++){const re=this._decorations[ee],Ce=this._editor.getModel().getDecorationRange(re);if(!(!Ce||Ce.startLineNumber<qe.lineNumber)){if(Ce.startLineNumber>qe.lineNumber)return Ce;if(!(Ce.startColumn<qe.column))return Ce}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let qe=[];return qe=qe.concat(this._decorations),qe=qe.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&qe.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&qe.push(this._rangeHighlightDecorationId),qe}}v._CURRENT_FIND_MATCH_DECORATION=i.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,f.EN)(n.Fm_),position:I.sh.Center},minimap:{color:(0,f.EN)(n.SUY),position:I.F5.Inline}}),v._FIND_MATCH_DECORATION=i.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,f.EN)(n.Fm_),position:I.sh.Center},minimap:{color:(0,f.EN)(n.SUY),position:I.F5.Inline}}),v._FIND_MATCH_NO_OVERVIEW_DECORATION=i.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),v._FIND_MATCH_ONLY_OVERVIEW_DECORATION=i.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,f.EN)(n.Fm_),position:I.sh.Center}}),v._RANGE_HIGHLIGHT_DECORATION=i.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),v._FIND_SCOPE_DECORATION=i.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class a{constructor(qe,ee,de){this._editorSelection=qe,this._ranges=ee,this._replaceStrings=de,this._trackedEditorSelectionId=null}getEditOperations(qe,ee){if(this._ranges.length>0){const de=[];for(let we=0;we<this._ranges.length;we++)de.push({range:this._ranges[we],text:this._replaceStrings[we]});de.sort((we,be)=>o.e.compareRangesUsingStarts(we.range,be.range));const re=[];let Ce=de[0];for(let we=1;we<de.length;we++)Ce.range.endLineNumber===de[we].range.startLineNumber&&Ce.range.endColumn===de[we].range.startColumn?(Ce.range=Ce.range.plusRange(de[we].range),Ce.text=Ce.text+de[we].text):(re.push(Ce),Ce=de[we]);re.push(Ce);for(const we of re)ee.addEditOperation(we.range,we.text)}this._trackedEditorSelectionId=ee.trackSelection(this._editorSelection)}computeCursorState(qe,ee){return ee.getTrackedSelection(this._trackedEditorSelectionId)}}function S(Wt,qe){if(Wt&&Wt[0]!==""){const ee=g(Wt,qe,"-"),de=g(Wt,qe,"_");return ee&&!de?y(Wt,qe,"-"):!ee&&de?y(Wt,qe,"_"):Wt[0].toUpperCase()===Wt[0]?qe.toUpperCase():Wt[0].toLowerCase()===Wt[0]?qe.toLowerCase():r.Kw(Wt[0][0])&&qe.length>0?qe[0].toUpperCase()+qe.substr(1):Wt[0][0].toUpperCase()!==Wt[0][0]&&qe.length>0?qe[0].toLowerCase()+qe.substr(1):qe}else return qe}function g(Wt,qe,ee){return Wt[0].indexOf(ee)!==-1&&qe.indexOf(ee)!==-1&&Wt[0].split(ee).length===qe.split(ee).length}function y(Wt,qe,ee){const de=qe.split(ee),re=Wt[0].split(ee);let Ce="";return de.forEach((we,be)=>{Ce+=S([re[be]],we)+ee}),Ce.slice(0,-1)}class C{constructor(qe){this.staticValue=qe,this.kind=0}}class L{constructor(qe){this.pieces=qe,this.kind=1}}class O{static fromStaticValue(qe){return new O([T.staticValue(qe)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(qe){!qe||qe.length===0?this._state=new C(""):qe.length===1&&qe[0].staticValue!==null?this._state=new C(qe[0].staticValue):this._state=new L(qe)}buildReplaceString(qe,ee){if(this._state.kind===0)return ee?S(qe,this._state.staticValue):this._state.staticValue;let de="";for(let re=0,Ce=this._state.pieces.length;re<Ce;re++){const we=this._state.pieces[re];if(we.staticValue!==null){de+=we.staticValue;continue}let be=O._substitute(we.matchIndex,qe);if(we.caseOps!==null&&we.caseOps.length>0){const ke=[],He=we.caseOps.length;let Ye=0;for(let ut=0,$t=be.length;ut<$t;ut++){if(Ye>=He){ke.push(be.slice(ut));break}switch(we.caseOps[Ye]){case"U":ke.push(be[ut].toUpperCase());break;case"u":ke.push(be[ut].toUpperCase()),Ye++;break;case"L":ke.push(be[ut].toLowerCase());break;case"l":ke.push(be[ut].toLowerCase()),Ye++;break;default:ke.push(be[ut])}}be=ke.join("")}de+=be}return de}static _substitute(qe,ee){if(ee===null)return"";if(qe===0)return ee[0];let de="";for(;qe>0;){if(qe<ee.length)return(ee[qe]||"")+de;de=String(qe%10)+de,qe=Math.floor(qe/10)}return"$"+de}}class T{static staticValue(qe){return new T(qe,-1,null)}static caseOps(qe,ee){return new T(null,qe,ee)}constructor(qe,ee,de){this.staticValue=qe,this.matchIndex=ee,!de||de.length===0?this.caseOps=null:this.caseOps=de.slice(0)}}class F{constructor(qe){this._source=qe,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(qe){this._emitStatic(this._source.substring(this._lastCharIndex,qe)),this._lastCharIndex=qe}emitStatic(qe,ee){this._emitStatic(qe),this._lastCharIndex=ee}_emitStatic(qe){qe.length!==0&&(this._currentStaticPiece+=qe)}emitMatchIndex(qe,ee,de){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=T.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=T.caseOps(qe,de),this._lastCharIndex=ee}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=T.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new O(this._result)}}function B(Wt){if(!Wt||Wt.length===0)return new O(null);const qe=[],ee=new F(Wt);for(let de=0,re=Wt.length;de<re;de++){const Ce=Wt.charCodeAt(de);if(Ce===92){if(de++,de>=re)break;const we=Wt.charCodeAt(de);switch(we){case 92:ee.emitUnchanged(de-1),ee.emitStatic("\\",de+1);break;case 110:ee.emitUnchanged(de-1),ee.emitStatic(`
`,de+1);break;case 116:ee.emitUnchanged(de-1),ee.emitStatic("	",de+1);break;case 117:case 85:case 108:case 76:ee.emitUnchanged(de-1),ee.emitStatic("",de+1),qe.push(String.fromCharCode(we));break}continue}if(Ce===36){if(de++,de>=re)break;const we=Wt.charCodeAt(de);if(we===36){ee.emitUnchanged(de-1),ee.emitStatic("$",de+1);continue}if(we===48||we===38){ee.emitUnchanged(de-1),ee.emitMatchIndex(0,de+1,qe),qe.length=0;continue}if(49<=we&&we<=57){let be=we-48;if(de+1<re){const ke=Wt.charCodeAt(de+1);if(48<=ke&&ke<=57){de++,be=be*10+(ke-48),ee.emitUnchanged(de-2),ee.emitMatchIndex(be,de+1,qe),qe.length=0;continue}}ee.emitUnchanged(de-1),ee.emitMatchIndex(be,de+1,qe),qe.length=0;continue}}}return ee.finalize()}var $=e(32064);const Y=new $.uy("findWidgetVisible",!1),P=Y.toNegated(),w=new $.uy("findInputFocussed",!1),V=new $.uy("replaceInputFocussed",!1),R={primary:545,mac:{primary:2593}},A={primary:565,mac:{primary:2613}},H={primary:560,mac:{primary:2608}},U={primary:554,mac:{primary:2602}},G={primary:558,mac:{primary:2606}},j={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},W=19999,K=240;class m{constructor(qe,ee){this._toDispose=new z.SL,this._editor=qe,this._state=ee,this._isDisposed=!1,this._startSearchingTimer=new b._F,this._decorations=new v(qe),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new b.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(de=>{(de.reason===3||de.reason===5||de.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(de=>{this._ignoreModelContentChanged||(de.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(de=>this._onStateChanged(de))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,z.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(qe){this._isDisposed||this._editor.hasModel()&&(qe.searchString||qe.isReplaceRevealed||qe.isRegex||qe.wholeWord||qe.matchCase||qe.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{qe.searchScope?this.research(qe.moveCursor,this._state.searchScope):this.research(qe.moveCursor)},K)):qe.searchScope?this.research(qe.moveCursor,this._state.searchScope):this.research(qe.moveCursor))}static _getSearchRange(qe,ee){return ee||qe.getFullModelRange()}research(qe,ee){let de=null;typeof ee!="undefined"?ee!==null&&(Array.isArray(ee)?de=ee:de=[ee]):de=this._decorations.getFindScopes(),de!==null&&(de=de.map(be=>{if(be.startLineNumber!==be.endLineNumber){let ke=be.endLineNumber;return be.endColumn===1&&(ke=ke-1),new o.e(be.startLineNumber,1,ke,this._editor.getModel().getLineMaxColumn(ke))}return be}));const re=this._findMatches(de,!1,W);this._decorations.set(re,de);const Ce=this._editor.getSelection();let we=this._decorations.getCurrentMatchesPosition(Ce);if(we===0&&re.length>0){const be=(0,M.J_)(re.map(ke=>ke.range),ke=>o.e.compareRangesUsingStarts(ke,Ce)>=0);we=be>0?be-1+1:we}this._state.changeMatchInfo(we,this._decorations.getCount(),void 0),qe&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const qe=this._decorations.getFindScope();return qe&&this._editor.revealRangeInCenterIfOutsideViewport(qe,0),!0}return!1}_setCurrentFindMatch(qe){const ee=this._decorations.setCurrentFindMatch(qe);this._state.changeMatchInfo(ee,this._decorations.getCount(),qe),this._editor.setSelection(qe),this._editor.revealRangeInCenterIfOutsideViewport(qe,0)}_prevSearchPosition(qe){const ee=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:de,column:re}=qe;const Ce=this._editor.getModel();return ee||re===1?(de===1?de=Ce.getLineCount():de--,re=Ce.getLineMaxColumn(de)):re--,new p.L(de,re)}_moveToPrevMatch(qe,ee=!1){if(!this._state.canNavigateBack()){const Ye=this._decorations.matchAfterPosition(qe);Ye&&this._setCurrentFindMatch(Ye);return}if(this._decorations.getCount()<W){let Ye=this._decorations.matchBeforePosition(qe);Ye&&Ye.isEmpty()&&Ye.getStartPosition().equals(qe)&&(qe=this._prevSearchPosition(qe),Ye=this._decorations.matchBeforePosition(qe)),Ye&&this._setCurrentFindMatch(Ye);return}if(this._cannotFind())return;const de=this._decorations.getFindScope(),re=m._getSearchRange(this._editor.getModel(),de);re.getEndPosition().isBefore(qe)&&(qe=re.getEndPosition()),qe.isBefore(re.getStartPosition())&&(qe=re.getEndPosition());const{lineNumber:Ce,column:we}=qe,be=this._editor.getModel();let ke=new p.L(Ce,we),He=be.findPreviousMatch(this._state.searchString,ke,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1);if(He&&He.range.isEmpty()&&He.range.getStartPosition().equals(ke)&&(ke=this._prevSearchPosition(ke),He=be.findPreviousMatch(this._state.searchString,ke,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1)),!!He){if(!ee&&!re.containsRange(He.range))return this._moveToPrevMatch(He.range.getStartPosition(),!0);this._setCurrentFindMatch(He.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(qe){const ee=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:de,column:re}=qe;const Ce=this._editor.getModel();return ee||re===Ce.getLineMaxColumn(de)?(de===Ce.getLineCount()?de=1:de++,re=1):re++,new p.L(de,re)}_moveToNextMatch(qe){if(!this._state.canNavigateForward()){const de=this._decorations.matchBeforePosition(qe);de&&this._setCurrentFindMatch(de);return}if(this._decorations.getCount()<W){let de=this._decorations.matchAfterPosition(qe);de&&de.isEmpty()&&de.getStartPosition().equals(qe)&&(qe=this._nextSearchPosition(qe),de=this._decorations.matchAfterPosition(qe)),de&&this._setCurrentFindMatch(de);return}const ee=this._getNextMatch(qe,!1,!0);ee&&this._setCurrentFindMatch(ee.range)}_getNextMatch(qe,ee,de,re=!1){if(this._cannotFind())return null;const Ce=this._decorations.getFindScope(),we=m._getSearchRange(this._editor.getModel(),Ce);we.getEndPosition().isBefore(qe)&&(qe=we.getStartPosition()),qe.isBefore(we.getStartPosition())&&(qe=we.getStartPosition());const{lineNumber:be,column:ke}=qe,He=this._editor.getModel();let Ye=new p.L(be,ke),ut=He.findNextMatch(this._state.searchString,Ye,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,ee);return de&&ut&&ut.range.isEmpty()&&ut.range.getStartPosition().equals(Ye)&&(Ye=this._nextSearchPosition(Ye),ut=He.findNextMatch(this._state.searchString,Ye,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,ee)),ut?!re&&!we.containsRange(ut.range)?this._getNextMatch(ut.range.getEndPosition(),ee,de,!0):ut:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(qe){const ee=this._decorations.getDecorationRangeAt(qe);ee&&this._setCurrentFindMatch(ee)}moveToMatch(qe){this._moveToMatch(qe)}_getReplacePattern(){return this._state.isRegex?B(this._state.replaceString):O.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const qe=this._getReplacePattern(),ee=this._editor.getSelection(),de=this._getNextMatch(ee.getStartPosition(),!0,!1);if(de)if(ee.equalsRange(de.range)){const re=qe.buildReplaceString(de.matches,this._state.preserveCase),Ce=new D.T4(ee,re);this._executeEditorCommand("replace",Ce),this._decorations.setStartPosition(new p.L(ee.startLineNumber,ee.startColumn+re.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(de.range)}_findMatches(qe,ee,de){const re=(qe||[null]).map(Ce=>m._getSearchRange(this._editor.getModel(),Ce));return this._editor.getModel().findMatches(this._state.searchString,re,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,ee,de)}replaceAll(){if(!this._hasMatches())return;const qe=this._decorations.getFindScopes();qe===null&&this._state.matchesCount>=W?this._largeReplaceAll():this._regularReplaceAll(qe),this.research(!1)}_largeReplaceAll(){const ee=new u.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null).parseSearchRequest();if(!ee)return;let de=ee.regex;if(!de.multiline){let ut="mu";de.ignoreCase&&(ut+="i"),de.global&&(ut+="g"),de=new RegExp(de.source,ut)}const re=this._editor.getModel(),Ce=re.getValue(1),we=re.getFullModelRange(),be=this._getReplacePattern();let ke;const He=this._state.preserveCase;be.hasReplacementPatterns||He?ke=Ce.replace(de,function(){return be.buildReplaceString(arguments,He)}):ke=Ce.replace(de,be.buildReplaceString(null,He));const Ye=new D.hP(we,ke,this._editor.getSelection());this._executeEditorCommand("replaceAll",Ye)}_regularReplaceAll(qe){const ee=this._getReplacePattern(),de=this._findMatches(qe,ee.hasReplacementPatterns||this._state.preserveCase,1073741824),re=[];for(let we=0,be=de.length;we<be;we++)re[we]=ee.buildReplaceString(de[we].matches,this._state.preserveCase);const Ce=new a(this._editor.getSelection(),de.map(we=>we.range),re);this._executeEditorCommand("replaceAll",Ce)}selectAllMatches(){if(!this._hasMatches())return;const qe=this._decorations.getFindScopes();let de=this._findMatches(qe,!1,1073741824).map(Ce=>new d.Y(Ce.range.startLineNumber,Ce.range.startColumn,Ce.range.endLineNumber,Ce.range.endColumn));const re=this._editor.getSelection();for(let Ce=0,we=de.length;Ce<we;Ce++)if(de[Ce].equalsRange(re)){de=[re].concat(de.slice(0,Ce)).concat(de.slice(Ce+1));break}this._editor.setSelections(de)}_executeEditorCommand(qe,ee){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(qe,ee),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var J=e(65321),X=e(51307),ie=e(93794);class le extends ie.${constructor(qe,ee,de){super(),this._hideSoon=this._register(new b.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=qe,this._state=ee,this._keybindingService=de,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const re={inputActiveOptionBorder:(0,n.n_1)(n.PRb),inputActiveOptionForeground:(0,n.n_1)(n.Pvw),inputActiveOptionBackground:(0,n.n_1)(n.XEs)};this.caseSensitive=this._register(new X.rk(Xi({appendTitle:this._keybindingLabelFor(j.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},re))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new X.Qx(Xi({appendTitle:this._keybindingLabelFor(j.ToggleWholeWordCommand),isChecked:this._state.wholeWord},re))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new X.eH(Xi({appendTitle:this._keybindingLabelFor(j.ToggleRegexCommand),isChecked:this._state.isRegex},re))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Ce=>{let we=!1;Ce.isRegex&&(this.regex.checked=this._state.isRegex,we=!0),Ce.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,we=!0),Ce.matchCase&&(this.caseSensitive.checked=this._state.matchCase,we=!0),!this._state.isRevealed&&we&&this._revealTemporarily()})),this._register(J.nm(this._domNode,J.tw.MOUSE_LEAVE,Ce=>this._onMouseLeave())),this._register(J.nm(this._domNode,"mouseover",Ce=>this._onMouseOver()))}_keybindingLabelFor(qe){const ee=this._keybindingService.lookupKeybinding(qe);return ee?` (${ee.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return le.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}le.ID="editor.contrib.findOptionsWidget";var fe=e(4669);function Le(Wt,qe){return Wt===1?!0:Wt===2?!1:qe}class pe extends z.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Le(this._isRegexOverride,this._isRegex)}get wholeWord(){return Le(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Le(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Le(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new fe.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(qe,ee,de){const re={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Ce=!1;ee===0&&(qe=0),qe>ee&&(qe=ee),this._matchesPosition!==qe&&(this._matchesPosition=qe,re.matchesPosition=!0,Ce=!0),this._matchesCount!==ee&&(this._matchesCount=ee,re.matchesCount=!0,Ce=!0),typeof de!="undefined"&&(o.e.equalsRange(this._currentMatch,de)||(this._currentMatch=de,re.currentMatch=!0,Ce=!0)),Ce&&this._onFindReplaceStateChange.fire(re)}change(qe,ee,de=!0){var re;const Ce={moveCursor:ee,updateHistory:de,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let we=!1;const be=this.isRegex,ke=this.wholeWord,He=this.matchCase,Ye=this.preserveCase;typeof qe.searchString!="undefined"&&this._searchString!==qe.searchString&&(this._searchString=qe.searchString,Ce.searchString=!0,we=!0),typeof qe.replaceString!="undefined"&&this._replaceString!==qe.replaceString&&(this._replaceString=qe.replaceString,Ce.replaceString=!0,we=!0),typeof qe.isRevealed!="undefined"&&this._isRevealed!==qe.isRevealed&&(this._isRevealed=qe.isRevealed,Ce.isRevealed=!0,we=!0),typeof qe.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==qe.isReplaceRevealed&&(this._isReplaceRevealed=qe.isReplaceRevealed,Ce.isReplaceRevealed=!0,we=!0),typeof qe.isRegex!="undefined"&&(this._isRegex=qe.isRegex),typeof qe.wholeWord!="undefined"&&(this._wholeWord=qe.wholeWord),typeof qe.matchCase!="undefined"&&(this._matchCase=qe.matchCase),typeof qe.preserveCase!="undefined"&&(this._preserveCase=qe.preserveCase),typeof qe.searchScope!="undefined"&&(!((re=qe.searchScope)===null||re===void 0)&&re.every(ut=>{var $t;return($t=this._searchScope)===null||$t===void 0?void 0:$t.some(gi=>!o.e.equalsRange(gi,ut))})||(this._searchScope=qe.searchScope,Ce.searchScope=!0,we=!0)),typeof qe.loop!="undefined"&&this._loop!==qe.loop&&(this._loop=qe.loop,Ce.loop=!0,we=!0),typeof qe.isSearching!="undefined"&&this._isSearching!==qe.isSearching&&(this._isSearching=qe.isSearching,Ce.isSearching=!0,we=!0),typeof qe.filters!="undefined"&&(this._filters?this._filters.update(qe.filters):this._filters=qe.filters,Ce.filters=!0,we=!0),this._isRegexOverride=typeof qe.isRegexOverride!="undefined"?qe.isRegexOverride:0,this._wholeWordOverride=typeof qe.wholeWordOverride!="undefined"?qe.wholeWordOverride:0,this._matchCaseOverride=typeof qe.matchCaseOverride!="undefined"?qe.matchCaseOverride:0,this._preserveCaseOverride=typeof qe.preserveCaseOverride!="undefined"?qe.preserveCaseOverride:0,be!==this.isRegex&&(we=!0,Ce.isRegex=!0),ke!==this.wholeWord&&(we=!0,Ce.wholeWord=!0),He!==this.matchCase&&(we=!0,Ce.matchCase=!0),Ye!==this.preserveCase&&(we=!0,Ce.preserveCase=!0),we&&this._onFindReplaceStateChange.fire(Ce)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=W}}var Te=e(35996),De=e(40032),ae=e(83080),Ne=e(73046),We=e(17301),ze=e(1432),Se=e(63580),ne=e(37726);function ce(Wt){var qe,ee;return((qe=Wt.lookupKeybinding("history.showPrevious"))===null||qe===void 0?void 0:qe.getElectronAccelerator())==="Up"&&((ee=Wt.lookupKeybinding("history.showNext"))===null||ee===void 0?void 0:ee.getElectronAccelerator())==="Down"}var Oe=e(59554),Pe=e(25670),Me=e(92321),ye=e(98401),_e=e(86253);const se=(0,Oe.q5)("find-selection",Ne.l.selection,Se.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ve=(0,Oe.q5)("find-collapsed",Ne.l.chevronRight,Se.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),xe=(0,Oe.q5)("find-expanded",Ne.l.chevronDown,Se.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),je=(0,Oe.q5)("find-replace",Ne.l.replace,Se.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Ae=(0,Oe.q5)("find-replace-all",Ne.l.replaceAll,Se.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Qe=(0,Oe.q5)("find-previous-match",Ne.l.arrowUp,Se.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),rt=(0,Oe.q5)("find-next-match",Ne.l.arrowDown,Se.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Dt=Se.NC("label.findDialog","Find / Replace"),at=Se.NC("label.find","Find"),vt=Se.NC("placeholder.find","Find"),Mt=Se.NC("label.previousMatchButton","Previous Match"),ti=Se.NC("label.nextMatchButton","Next Match"),Ft=Se.NC("label.toggleSelectionFind","Find in Selection"),ei=Se.NC("label.closeButton","Close"),Xt=Se.NC("label.replace","Replace"),Ct=Se.NC("placeholder.replace","Replace"),ft=Se.NC("label.replaceButton","Replace"),Bt=Se.NC("label.replaceAllButton","Replace All"),kt=Se.NC("label.toggleReplaceButton","Toggle Replace"),Ge=Se.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",W),St=Se.NC("label.matchesLocation","{0} of {1}"),Ci=Se.NC("label.noResults","No results"),Oi=419,Yi=275-54;let fn=69;const un=33,Pn="ctrlEnterReplaceAll.windows.donotask",Dn=ze.dz?256:2048;class Gn{constructor(qe){this.afterLineNumber=qe,this.heightInPx=un,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Rn(Wt,qe,ee){const de=!!qe.match(/\n/);if(ee&&de&&ee.selectionStart>0){Wt.stopPropagation();return}}function ns(Wt,qe,ee){const de=!!qe.match(/\n/);if(ee&&de&&ee.selectionEnd<ee.value.length){Wt.stopPropagation();return}}class ts extends ie.${constructor(qe,ee,de,re,Ce,we,be,ke,He){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=qe,this._controller=ee,this._state=de,this._contextViewProvider=re,this._keybindingService=Ce,this._contextKeyService=we,this._storageService=ke,this._notificationService=He,this._ctrlEnterReplaceAllWarningPrompted=!!ke.getBoolean(Pn,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.vp(500),this._register((0,z.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Ye=>this._onStateChanged(Ye))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Ye=>{if(Ye.hasChanged(90)&&(this._codeEditor.getOption(90)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Ye.hasChanged(143)&&this._tryUpdateWidgetWidth(),Ye.hasChanged(2)&&this.updateAccessibilitySupport(),Ye.hasChanged(41)){const ut=this._codeEditor.getOption(41).loop;this._state.change({loop:ut},!1);const $t=this._codeEditor.getOption(41).addExtraSpaceOnTop;$t&&!this._viewZone&&(this._viewZone=new Gn(0),this._showViewZone()),!$t&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>qt(this,null,function*(){if(this._isVisible){const Ye=yield this._controller.getGlobalBufferTerm();Ye&&Ye!==this._state.searchString&&(this._state.change({searchString:Ye},!1),this._findInput.select())}}))),this._findInputFocused=w.bindTo(we),this._findFocusTracker=this._register(J.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=V.bindTo(we),this._replaceFocusTracker=this._register(J.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Gn(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Ye=>{if(Ye.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ts.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(qe){if(qe.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(qe.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),qe.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),qe.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(90)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=J.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(qe.isRevealed||qe.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),qe.isRegex&&this._findInput.setRegex(this._state.isRegex),qe.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),qe.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),qe.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),qe.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),qe.searchString||qe.matchesCount||qe.matchesPosition){const ee=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ee),this._updateMatchesCount(),this._updateButtons()}(qe.searchString||qe.currentMatch)&&this._layoutViewZone(),qe.updateHistory&&this._delayedUpdateHistory(),qe.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,We.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=fn+"px",this._state.matchesCount>=W?this._matchesCount.title=Ge:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let qe;if(this._state.matchesCount>0){let ee=String(this._state.matchesCount);this._state.matchesCount>=W&&(ee+="+");let de=String(this._state.matchesPosition);de==="0"&&(de="?"),qe=r.WU(St,de,ee)}else qe=Ci;this._matchesCount.appendChild(document.createTextNode(qe)),(0,Te.Z9)(this._getAriaLabel(qe,this._state.currentMatch,this._state.searchString)),fn=Math.max(fn,this._matchesCount.clientWidth)}_getAriaLabel(qe,ee,de){if(qe===Ci)return de===""?Se.NC("ariaSearchNoResultEmpty","{0} found",qe):Se.NC("ariaSearchNoResult","{0} found for '{1}'",qe,de);if(ee){const re=Se.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",qe,de,ee.startLineNumber+":"+ee.startColumn),Ce=this._codeEditor.getModel();return Ce&&ee.startLineNumber<=Ce.getLineCount()&&ee.startLineNumber>=1?`${Ce.getLineContent(ee.startLineNumber)}, ${re}`:re}return Se.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",qe,de)}_updateToggleSelectionFindButton(){const qe=this._codeEditor.getSelection(),ee=qe?qe.startLineNumber!==qe.endLineNumber||qe.startColumn!==qe.endColumn:!1,de=this._toggleSelectionFind.checked;this._isVisible&&(de||ee)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const qe=this._state.searchString.length>0,ee=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&qe&&ee&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&qe&&ee&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&qe),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&qe),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const de=!this._codeEditor.getOption(90);this._toggleReplaceBtn.setEnabled(this._isVisible&&de)}_reveal(){if(this._revealTimeouts.forEach(qe=>{clearTimeout(qe)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const qe=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const de=!!qe&&qe.startLineNumber!==qe.endLineNumber;this._toggleSelectionFind.checked=de;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ee=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&qe){const de=this._codeEditor.getDomNode();if(de){const re=J.i(de),Ce=this._codeEditor.getScrolledVisiblePosition(qe.getStartPosition()),we=re.left+(Ce?Ce.left:0),be=Ce?Ce.top:0;if(this._viewZone&&be<this._viewZone.heightInPx){qe.endLineNumber>qe.startLineNumber&&(ee=!1);const ke=J.xQ(this._domNode).left;we>ke&&(ee=!1);const He=this._codeEditor.getScrolledVisiblePosition(qe.getEndPosition());re.left+(He?He.left:0)>ke&&(ee=!1)}}}this._showViewZone(ee)}}_hide(qe){this._revealTimeouts.forEach(ee=>{clearTimeout(ee)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),qe&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(qe){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const de=this._viewZone;this._viewZoneId!==void 0||!de||this._codeEditor.changeViewZones(re=>{de.heightInPx=this._getHeight(),this._viewZoneId=re.addZone(de),this._codeEditor.setScrollTop(qe||this._codeEditor.getScrollTop()+de.heightInPx)})}_showViewZone(qe=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Gn(0));const de=this._viewZone;this._codeEditor.changeViewZones(re=>{if(this._viewZoneId!==void 0){const Ce=this._getHeight();if(Ce===de.heightInPx)return;const we=Ce-de.heightInPx;de.heightInPx=Ce,re.layoutZone(this._viewZoneId),qe&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+we);return}else{let Ce=this._getHeight();if(Ce-=this._codeEditor.getOption(83).top,Ce<=0)return;de.heightInPx=Ce,this._viewZoneId=re.addZone(de),qe&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Ce)}})}_removeViewZone(){this._codeEditor.changeViewZones(qe=>{this._viewZoneId!==void 0&&(qe.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const qe=this._codeEditor.getLayoutInfo();if(qe.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const de=qe.width,re=qe.minimap.minimapWidth;let Ce=!1,we=!1,be=!1;if(this._resized&&J.w(this._domNode)>Oi){this._domNode.style.maxWidth=`${de-28-re-15}px`,this._replaceInput.width=J.w(this._findInput.domNode);return}if(Oi+28+re>=de&&(we=!0),Oi+28+re-fn>=de&&(be=!0),Oi+28+re-fn>=de+50&&(Ce=!0),this._domNode.classList.toggle("collapsed-find-widget",Ce),this._domNode.classList.toggle("narrow-find-widget",be),this._domNode.classList.toggle("reduced-find-widget",we),!be&&!Ce&&(this._domNode.style.maxWidth=`${de-28-re-15}px`),this._findInput.layout({collapsedFindWidget:Ce,narrowFindWidget:be,reducedFindWidget:we}),this._resized){const ke=this._findInput.inputBox.element.clientWidth;ke>0&&(this._replaceInput.width=ke)}else this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode))}_getHeight(){let qe=0;return qe+=4,qe+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(qe+=4,qe+=this._replaceInput.inputBox.height+2),qe+=4,qe}_tryUpdateHeight(){const qe=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===qe?!1:(this._cachedHeight=qe,this._domNode.style.height=`${qe}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const qe=this._codeEditor.getSelections();qe.map(ee=>{ee.endColumn===1&&ee.endLineNumber>ee.startLineNumber&&(ee=ee.setEndPosition(ee.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ee.endLineNumber-1)));const de=this._state.currentMatch;return ee.startLineNumber!==ee.endLineNumber&&!o.e.equalsRange(ee,de)?ee:null}).filter(ee=>!!ee),qe.length&&this._state.change({searchScope:qe},!0)}}_onFindInputMouseDown(qe){qe.middleButton&&qe.stopPropagation()}_onFindInputKeyDown(qe){if(qe.equals(Dn|3))if(this._keybindingService.dispatchEvent(qe,qe.target)){qe.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),qe.preventDefault();return}if(qe.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),qe.preventDefault();return}if(qe.equals(2066)){this._codeEditor.focus(),qe.preventDefault();return}if(qe.equals(16))return Rn(qe,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(qe.equals(18))return ns(qe,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(qe){if(qe.equals(Dn|3))if(this._keybindingService.dispatchEvent(qe,qe.target)){qe.preventDefault();return}else{ze.ED&&ze.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Se.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Pn,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),qe.preventDefault();return}if(qe.equals(2)){this._findInput.focusOnCaseSensitive(),qe.preventDefault();return}if(qe.equals(1026)){this._findInput.focus(),qe.preventDefault();return}if(qe.equals(2066)){this._codeEditor.focus(),qe.preventDefault();return}if(qe.equals(16))return Rn(qe,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(qe.equals(18))return ns(qe,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(qe){return 0}_keybindingLabelFor(qe){const ee=this._keybindingService.lookupKeybinding(qe);return ee?` (${ee.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new ne.Yb(null,this._contextViewProvider,{width:Yi,label:at,placeholder:vt,appendCaseSensitiveLabel:this._keybindingLabelFor(j.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(j.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(j.ToggleRegexCommand),validation:ke=>{if(ke.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ke,"gu"),null}catch(He){return{content:He.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>ce(this._keybindingService),inputBoxStyles:_e.Hc,toggleStyles:_e.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ke=>this._onFindInputKeyDown(ke))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ke=>{ke.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ke.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ke=>{ke.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ke.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ke=>{this._tryUpdateHeight()&&this._showViewZone()})),ze.IJ&&this._register(this._findInput.onMouseDown(ke=>this._onFindInputMouseDown(ke))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new qn({label:Mt+this._keybindingLabelFor(j.PreviousMatchFindAction),icon:Qe,onTrigger:()=>{(0,ye.cW)(this._codeEditor.getAction(j.PreviousMatchFindAction)).run().then(void 0,We.dL)}})),this._nextBtn=this._register(new qn({label:ti+this._keybindingLabelFor(j.NextMatchFindAction),icon:rt,onTrigger:()=>{(0,ye.cW)(this._codeEditor.getAction(j.NextMatchFindAction)).run().then(void 0,We.dL)}}));const de=document.createElement("div");de.className="find-part",de.appendChild(this._findInput.domNode);const re=document.createElement("div");re.className="find-actions",de.appendChild(re),re.appendChild(this._matchesCount),re.appendChild(this._prevBtn.domNode),re.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new De.Z({icon:se,title:Ft+this._keybindingLabelFor(j.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,n.n_1)(n.XEs),inputActiveOptionBorder:(0,n.n_1)(n.PRb),inputActiveOptionForeground:(0,n.n_1)(n.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const ke=this._codeEditor.getSelections();ke.map(He=>(He.endColumn===1&&He.endLineNumber>He.startLineNumber&&(He=He.setEndPosition(He.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(He.endLineNumber-1))),He.isEmpty()?null:He)).filter(He=>!!He),ke.length&&this._state.change({searchScope:ke},!0)}}else this._state.change({searchScope:null},!0)})),re.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new qn({label:ei+this._keybindingLabelFor(j.CloseFindWidgetCommand),icon:Oe.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ke=>{ke.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ke.preventDefault())}})),this._replaceInput=this._register(new ne.Nq(null,void 0,{label:Xt,placeholder:Ct,appendPreserveCaseLabel:this._keybindingLabelFor(j.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ce(this._keybindingService),inputBoxStyles:_e.Hc,toggleStyles:_e.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ke=>this._onReplaceInputKeyDown(ke))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ke=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ke=>{ke.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ke.preventDefault())})),this._replaceBtn=this._register(new qn({label:ft+this._keybindingLabelFor(j.ReplaceOneAction),icon:je,onTrigger:()=>{this._controller.replace()},onKeyDown:ke=>{ke.equals(1026)&&(this._closeBtn.focus(),ke.preventDefault())}})),this._replaceAllBtn=this._register(new qn({label:Bt+this._keybindingLabelFor(j.ReplaceAllAction),icon:Ae,onTrigger:()=>{this._controller.replaceAll()}}));const Ce=document.createElement("div");Ce.className="replace-part",Ce.appendChild(this._replaceInput.domNode);const we=document.createElement("div");we.className="replace-actions",Ce.appendChild(we),we.appendChild(this._replaceBtn.domNode),we.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new qn({label:kt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Dt,this._domNode.role="dialog",this._domNode.style.width=`${Oi}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(de),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(Ce),this._resizeSash=new ae.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let be=Oi;this._register(this._resizeSash.onDidStart(()=>{be=J.w(this._domNode)})),this._register(this._resizeSash.onDidChange(ke=>{this._resized=!0;const He=be+ke.startX-ke.currentX;if(He<Oi)return;const Ye=parseFloat(J.Dx(this._domNode).maxWidth)||0;He>Ye||(this._domNode.style.width=`${He}px`,this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ke=J.w(this._domNode);if(ke<Oi)return;let He=Oi;if(!this._resized||ke===Oi){const Ye=this._codeEditor.getLayoutInfo();He=Ye.width-28-Ye.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${He}px`,this._isReplaceVisible&&(this._replaceInput.width=J.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const qe=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(qe!==2)}}ts.ID="editor.contrib.findWidget";class qn extends ie.${constructor(qe){super(),this._opts=qe;let ee="button";this._opts.className&&(ee=ee+" "+this._opts.className),this._opts.icon&&(ee=ee+" "+Pe.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ee,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,de=>{this._opts.onTrigger(),de.preventDefault()}),this.onkeydown(this._domNode,de=>{var re,Ce;if(de.equals(10)||de.equals(3)){this._opts.onTrigger(),de.preventDefault();return}(Ce=(re=this._opts).onKeyDown)===null||Ce===void 0||Ce.call(re,de)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(qe){this._domNode.classList.toggle("disabled",!qe),this._domNode.setAttribute("aria-disabled",String(!qe)),this._domNode.tabIndex=qe?0:-1}setExpanded(qe){this._domNode.setAttribute("aria-expanded",String(!!qe)),qe?(this._domNode.classList.remove(...Pe.k.asClassNameArray(ve)),this._domNode.classList.add(...Pe.k.asClassNameArray(xe))):(this._domNode.classList.remove(...Pe.k.asClassNameArray(xe)),this._domNode.classList.add(...Pe.k.asClassNameArray(ve)))}}(0,f.Ic)((Wt,qe)=>{const ee=(ai,ct)=>{ct&&qe.addRule(`.monaco-editor ${ai} { background-color: ${ct}; }`)};ee(".findMatch",Wt.getColor(n.MUv)),ee(".currentFindMatch",Wt.getColor(n.nyM)),ee(".findScope",Wt.getColor(n.jUe));const de=Wt.getColor(n.D0T);ee(".find-widget",de);const re=Wt.getColor(n.rh);re&&qe.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${re}; }`);const Ce=Wt.getColor(n.A42);Ce&&qe.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${Ce}; border-right: 1px solid ${Ce}; border-bottom: 1px solid ${Ce}; }`);const we=Wt.getColor(n.EiJ);we&&qe.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Me.c3)(Wt.type)?"dotted":"solid"} ${we}; box-sizing: border-box; }`);const be=Wt.getColor(n.pnM);be&&qe.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${be}; padding: 1px; box-sizing: border-box; }`);const ke=Wt.getColor(n.gkn);ke&&qe.addRule(`.monaco-editor .findScope { border: 1px ${(0,Me.c3)(Wt.type)?"dashed":"solid"} ${ke}; }`);const He=Wt.getColor(n.lRK);He&&qe.addRule(`.monaco-editor .find-widget { border: 1px solid ${He}; }`);const Ye=Wt.getColor(n.Hfx);Ye&&qe.addRule(`.monaco-editor .find-widget { color: ${Ye}; }`);const ut=Wt.getColor(n.Ido);ut&&qe.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ut}; }`);const $t=Wt.getColor(n.Ng6);if($t)qe.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${$t}; }`);else{const ai=Wt.getColor(n.D1_);ai&&qe.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ai}; }`)}const gi=Wt.getColor(n.lUq);gi&&qe.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${gi} !important;
		}
	`);const ci=Wt.getColor(n.R80);ci&&qe.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ci}; }`)});var fs=e(84144),Nn=e(84972),cs=e(5606),Ei=e(91847),et=e(48894),wt=e(41157),Yt=e(87060),ri=function(Wt,qe,ee,de){var re=arguments.length,Ce=re<3?qe:de===null?de=Object.getOwnPropertyDescriptor(qe,ee):de,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(Wt,qe,ee,de);else for(var be=Wt.length-1;be>=0;be--)(we=Wt[be])&&(Ce=(re<3?we(Ce):re>3?we(qe,ee,Ce):we(qe,ee))||Ce);return re>3&&Ce&&Object.defineProperty(qe,ee,Ce),Ce},vi=function(Wt,qe){return function(ee,de){qe(ee,de,Wt)}},Wi;const $i=524288;function Ot(Wt,qe="single",ee=!1){if(!Wt.hasModel())return null;const de=Wt.getSelection();if(qe==="single"&&de.startLineNumber===de.endLineNumber||qe==="multiple"){if(de.isEmpty()){const re=Wt.getConfiguredWordAtPosition(de.getStartPosition());if(re&&ee===!1)return re.word}else if(Wt.getModel().getValueLengthInRange(de)<$i)return Wt.getModel().getValueInRange(de)}return null}let yt=Wi=class extends z.JT{get editor(){return this._editor}static get(qe){return qe.getContribution(Wi.ID)}constructor(qe,ee,de,re,Ce){super(),this._editor=qe,this._findWidgetVisible=Y.bindTo(ee),this._contextKeyService=ee,this._storageService=de,this._clipboardService=re,this._notificationService=Ce,this._updateHistoryDelayer=new b.vp(500),this._state=this._register(new pe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(we=>this._onStateChanged(we))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const we=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),we&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(qe){this.saveQueryState(qe),qe.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),qe.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(qe){qe.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),qe.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),qe.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),qe.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!w.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const qe=this._editor.getSelections();qe.map(ee=>(ee.endColumn===1&&ee.endLineNumber>ee.startLineNumber&&(ee=ee.setEndPosition(ee.endLineNumber-1,this._editor.getModel().getLineMaxColumn(ee.endLineNumber-1))),ee.isEmpty()?null:ee)).filter(ee=>!!ee),qe.length&&this._state.change({searchScope:qe},!0)}}setSearchString(qe){this._state.isRegex&&(qe=r.ec(qe)),this._state.change({searchString:qe},!1)}highlightFindOptions(qe=!1){}_start(qe,ee){return qt(this,null,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const de=Ln(Xi({},ee),{isRevealed:!0});if(qe.seedSearchStringFromSelection==="single"){const re=Ot(this._editor,qe.seedSearchStringFromSelection,qe.seedSearchStringFromNonEmptySelection);re&&(this._state.isRegex?de.searchString=r.ec(re):de.searchString=re)}else if(qe.seedSearchStringFromSelection==="multiple"&&!qe.updateSearchScope){const re=Ot(this._editor,qe.seedSearchStringFromSelection);re&&(de.searchString=re)}if(!de.searchString&&qe.seedSearchStringFromGlobalClipboard){const re=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;re&&(de.searchString=re)}if(qe.forceRevealReplace||de.isReplaceRevealed?de.isReplaceRevealed=!0:this._findWidgetVisible.get()||(de.isReplaceRevealed=!1),qe.updateSearchScope){const re=this._editor.getSelections();re.some(Ce=>!Ce.isEmpty())&&(de.searchScope=re)}de.loop=qe.loop,this._state.change(de,!1),this._model||(this._model=new m(this._editor,this._state))})}start(qe,ee){return this._start(qe,ee)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(qe){return this._model?(this._model.moveToMatch(qe),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var qe;return this._model?!((qe=this._editor.getModel())===null||qe===void 0)&&qe.isTooLargeForHeapOperation()?(this._notificationService.warn(Se.NC("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return qt(this,null,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(qe){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(qe)}};yt.ID="editor.contrib.findController",yt=Wi=ri([vi(1,$.i6),vi(2,Yt.Uy),vi(3,Nn.p),vi(4,et.lT)],yt);let si=class Kd extends yt{constructor(qe,ee,de,re,Ce,we,be,ke){super(qe,de,be,ke,we),this._contextViewService=ee,this._keybindingService=re,this._themeService=Ce,this._widget=null,this._findOptionsWidget=null}_start(qe,ee){return qt(this,null,function*(){this._widget||this._createFindWidget();const de=this._editor.getSelection();let re=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":re=!0;break;case"never":re=!1;break;case"multiline":{re=!!de&&de.startLineNumber!==de.endLineNumber;break}default:break}qe.updateSearchScope=qe.updateSearchScope||re,yield pd(Kd.prototype,this,"_start").call(this,qe,ee),this._widget&&(qe.shouldFocus===2?this._widget.focusReplaceInput():qe.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(qe=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!qe?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new ts(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new le(this._editor,this._state,this._keybindingService))}};si=ri([vi(1,cs.u),vi(2,$.i6),vi(3,Ei.d),vi(4,f.XE),vi(5,et.lT),vi(6,Yt.Uy),vi(7,Nn.p)],si),(0,E.rn)(new E.jY({id:j.StartFindAction,label:Se.NC("startFindAction","Find"),alias:"Find",precondition:$.Ao.or(_.u.focus,$.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:fs.eH.MenubarEditMenu,group:"3_find",title:Se.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(Wt,qe,ee)=>{const de=yt.get(qe);return de?de.start({forceRevealReplace:!1,seedSearchStringFromSelection:qe.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:qe.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:qe.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:qe.getOption(41).loop}):!1});const Ui={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Se.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Se.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Se.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Se.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class an extends E.R6{constructor(){super({id:j.StartFindWithArgs,label:Se.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:Ui})}run(qe,ee,de){return qt(this,null,function*(){const re=yt.get(ee);if(re){const Ce=de?{searchString:de.searchString,replaceString:de.replaceString,isReplaceRevealed:de.replaceString!==void 0,isRegex:de.isRegex,wholeWord:de.matchWholeWord,matchCase:de.isCaseSensitive,preserveCase:de.preserveCase}:{};yield re.start({forceRevealReplace:!1,seedSearchStringFromSelection:re.getState().searchString.length===0&&ee.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ee.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(de==null?void 0:de.findInSelection)||!1,loop:ee.getOption(41).loop},Ce),re.setGlobalBufferTerm(re.getState().searchString)}})}}class en extends E.R6{constructor(){super({id:j.StartFindWithSelection,label:Se.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(qe,ee){return qt(this,null,function*(){const de=yt.get(ee);de&&(yield de.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ee.getOption(41).loop}),de.setGlobalBufferTerm(de.getState().searchString))})}}class In extends E.R6{run(qe,ee){return qt(this,null,function*(){const de=yt.get(ee);de&&!this._run(de)&&(yield de.start({forceRevealReplace:!1,seedSearchStringFromSelection:de.getState().searchString.length===0&&ee.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ee.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ee.getOption(41).loop}),this._run(de))})}}class Fn extends In{constructor(){super({id:j.NextMatchFindAction,label:Se.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:_.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:$.Ao.and(_.u.focus,w),primary:3,weight:100}]})}_run(qe){return qe.moveToNextMatch()?(qe.editor.pushUndoStop(),!0):!1}}class On extends In{constructor(){super({id:j.PreviousMatchFindAction,label:Se.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:_.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:$.Ao.and(_.u.focus,w),primary:1027,weight:100}]})}_run(qe){return qe.moveToPrevMatch()}}class Mi extends E.R6{constructor(){super({id:j.GoToMatchFindAction,label:Se.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Y}),this._highlightDecorations=[]}run(qe,ee,de){const re=yt.get(ee);if(!re)return;const Ce=re.getState().matchesCount;if(Ce<1){qe.get(et.lT).notify({severity:et.zb.Warning,message:Se.NC("findMatchAction.noResults","No matches. Try searching for something else.")});return}const be=qe.get(wt.eJ).createInputBox();be.placeholder=Se.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Ce);const ke=Ye=>{const ut=parseInt(Ye);if(isNaN(ut))return;const $t=re.getState().matchesCount;if(ut>0&&ut<=$t)return ut-1;if(ut<0&&ut>=-$t)return $t+ut},He=Ye=>{const ut=ke(Ye);if(typeof ut=="number"){be.validationMessage=void 0,re.goToMatch(ut);const $t=re.getState().currentMatch;$t&&this.addDecorations(ee,$t)}else be.validationMessage=Se.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",re.getState().matchesCount),this.clearDecorations(ee)};be.onDidChangeValue(Ye=>{He(Ye)}),be.onDidAccept(()=>{const Ye=ke(be.value);typeof Ye=="number"?(re.goToMatch(Ye),be.hide()):be.validationMessage=Se.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",re.getState().matchesCount)}),be.onDidHide(()=>{this.clearDecorations(ee),be.dispose()}),be.show()}clearDecorations(qe){qe.changeDecorations(ee=>{this._highlightDecorations=ee.deltaDecorations(this._highlightDecorations,[])})}addDecorations(qe,ee){qe.changeDecorations(de=>{this._highlightDecorations=de.deltaDecorations(this._highlightDecorations,[{range:ee,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:ee,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,f.EN)(c.m9),position:I.sh.Full}}}])})}}class _i extends E.R6{run(qe,ee){return qt(this,null,function*(){const de=yt.get(ee);if(!de)return;const re=Ot(ee,"single",!1);re&&de.setSearchString(re),this._run(de)||(yield de.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ee.getOption(41).loop}),this._run(de))})}}class Ii extends _i{constructor(){super({id:j.NextSelectionMatchFindAction,label:Se.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:_.u.focus,primary:2109,weight:100}})}_run(qe){return qe.moveToNextMatch()}}class Ht extends _i{constructor(){super({id:j.PreviousSelectionMatchFindAction,label:Se.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:_.u.focus,primary:3133,weight:100}})}_run(qe){return qe.moveToPrevMatch()}}(0,E.rn)(new E.jY({id:j.StartFindReplaceAction,label:Se.NC("startReplace","Replace"),alias:"Replace",precondition:$.Ao.or(_.u.focus,$.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:fs.eH.MenubarEditMenu,group:"3_find",title:Se.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(Wt,qe,ee)=>{if(!qe.hasModel()||qe.getOption(90))return!1;const de=yt.get(qe);if(!de)return!1;const re=qe.getSelection(),Ce=de.isFindInputFocused(),we=!re.isEmpty()&&re.startLineNumber===re.endLineNumber&&qe.getOption(41).seedSearchStringFromSelection!=="never"&&!Ce,be=Ce||we?2:1;return de.start({forceRevealReplace:!0,seedSearchStringFromSelection:we?"single":"none",seedSearchStringFromNonEmptySelection:qe.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:qe.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:be,shouldAnimate:!0,updateSearchScope:!1,loop:qe.getOption(41).loop})}),(0,E._K)(yt.ID,si,0),(0,E.Qr)(an),(0,E.Qr)(en),(0,E.Qr)(Fn),(0,E.Qr)(On),(0,E.Qr)(Mi),(0,E.Qr)(Ii),(0,E.Qr)(Ht);const hi=E._l.bindToContribution(yt.get);(0,E.fK)(new hi({id:j.CloseFindWidgetCommand,precondition:Y,handler:Wt=>Wt.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:$.Ao.and(_.u.focus,$.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,E.fK)(new hi({id:j.ToggleCaseSensitiveCommand,precondition:void 0,handler:Wt=>Wt.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:R.primary,mac:R.mac,win:R.win,linux:R.linux}})),(0,E.fK)(new hi({id:j.ToggleWholeWordCommand,precondition:void 0,handler:Wt=>Wt.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:A.primary,mac:A.mac,win:A.win,linux:A.linux}})),(0,E.fK)(new hi({id:j.ToggleRegexCommand,precondition:void 0,handler:Wt=>Wt.toggleRegex(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:H.primary,mac:H.mac,win:H.win,linux:H.linux}})),(0,E.fK)(new hi({id:j.ToggleSearchScopeCommand,precondition:void 0,handler:Wt=>Wt.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:U.primary,mac:U.mac,win:U.win,linux:U.linux}})),(0,E.fK)(new hi({id:j.TogglePreserveCaseCommand,precondition:void 0,handler:Wt=>Wt.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,E.fK)(new hi({id:j.ReplaceOneAction,precondition:Y,handler:Wt=>Wt.replace(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:3094}})),(0,E.fK)(new hi({id:j.ReplaceOneAction,precondition:Y,handler:Wt=>Wt.replace(),kbOpts:{weight:100+5,kbExpr:$.Ao.and(_.u.focus,V),primary:3}})),(0,E.fK)(new hi({id:j.ReplaceAllAction,precondition:Y,handler:Wt=>Wt.replaceAll(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:2563}})),(0,E.fK)(new hi({id:j.ReplaceAllAction,precondition:Y,handler:Wt=>Wt.replaceAll(),kbOpts:{weight:100+5,kbExpr:$.Ao.and(_.u.focus,V),primary:void 0,mac:{primary:2051}}})),(0,E.fK)(new hi({id:j.SelectAllMatchesAction,precondition:Y,handler:Wt=>Wt.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:_.u.focus,primary:515}}))},23369:function(Pt,Ke,e){"use strict";e.d(Ke,{f:function(){return W},n:function(){return K}});var b=e(15393),z=e(71050),r=e(17301),E=e(22258),c=e(5976),_=e(97295),I=e(98401),M=e(43407),D=e(16830),p=e(29102),o=e(43155),d=e(4256),u=e(71705),i=e(35534),n=e(4669),f=e(24314),v=e(23795);class a{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(_e){this._updateEventEmitter=new n.Q5,this._hasLineChanges=!1,this._foldingModel=_e,this._foldingModelListener=_e.onDidChange(se=>this.updateHiddenRanges()),this._hiddenRanges=[],_e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(_e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=_e.changes.some(se=>se.range.endLineNumber!==se.range.startLineNumber||(0,v.Q)(se.text)[0]!==0))}updateHiddenRanges(){let _e=!1;const se=[];let ve=0,xe=0,je=Number.MAX_VALUE,Ae=-1;const Qe=this._foldingModel.regions;for(;ve<Qe.length;ve++){if(!Qe.isCollapsed(ve))continue;const rt=Qe.getStartLineNumber(ve)+1,Dt=Qe.getEndLineNumber(ve);je<=rt&&Dt<=Ae||(!_e&&xe<this._hiddenRanges.length&&this._hiddenRanges[xe].startLineNumber===rt&&this._hiddenRanges[xe].endLineNumber===Dt?(se.push(this._hiddenRanges[xe]),xe++):(_e=!0,se.push(new f.e(rt,1,Dt,1))),je=rt,Ae=Dt)}(this._hasLineChanges||_e||xe<this._hiddenRanges.length)&&this.applyHiddenRanges(se)}applyHiddenRanges(_e){this._hiddenRanges=_e,this._hasLineChanges=!1,this._updateEventEmitter.fire(_e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(_e){return g(this._hiddenRanges,_e)!==null}adjustSelections(_e){let se=!1;const ve=this._foldingModel.textModel;let xe=null;const je=Ae=>((!xe||!S(Ae,xe))&&(xe=g(this._hiddenRanges,Ae)),xe?xe.startLineNumber-1:null);for(let Ae=0,Qe=_e.length;Ae<Qe;Ae++){let rt=_e[Ae];const Dt=je(rt.startLineNumber);Dt&&(rt=rt.setStartPosition(Dt,ve.getLineMaxColumn(Dt)),se=!0);const at=je(rt.endLineNumber);at&&(rt=rt.setEndPosition(at,ve.getLineMaxColumn(at)),se=!0),_e[Ae]=rt}return se}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function S(ye,_e){return ye>=_e.startLineNumber&&ye<=_e.endLineNumber}function g(ye,_e){const se=(0,i.J_)(ye,ve=>_e<ve.startLineNumber)-1;return se>=0&&ye[se].endLineNumber>=_e?ye[se]:null}var y=e(84990),C=e(63580),L=e(32064),O=e(83973),T=e(37702),F=e(99155),B=e(48894),$=e(88191),Y=e(84013),P=e(71922),w=e(94565),V=e(70666),R=e(73733),A=e(33108),H=function(ye,_e,se,ve){var xe=arguments.length,je=xe<3?_e:ve===null?ve=Object.getOwnPropertyDescriptor(_e,se):ve,Ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(ye,_e,se,ve);else for(var Qe=ye.length-1;Qe>=0;Qe--)(Ae=ye[Qe])&&(je=(xe<3?Ae(je):xe>3?Ae(_e,se,je):Ae(_e,se))||je);return xe>3&&je&&Object.defineProperty(_e,se,je),je},U=function(ye,_e){return function(se,ve){_e(se,ve,ye)}},G;const j=new L.uy("foldingEnabled",!1);let W=G=class extends c.JT{static get(_e){return _e.getContribution(G.ID)}static getFoldingRangeProviders(_e,se){var ve,xe;const je=_e.foldingRangeProvider.ordered(se);return(xe=(ve=G._foldingRangeSelector)===null||ve===void 0?void 0:ve.call(G,je,se))!==null&&xe!==void 0?xe:je}constructor(_e,se,ve,xe,je,Ae){super(),this.contextKeyService=se,this.languageConfigurationService=ve,this.languageFeaturesService=Ae,this.localToDispose=this._register(new c.SL),this.editor=_e,this._foldingLimitReporter=new K(_e);const Qe=this.editor.getOptions();this._isEnabled=Qe.get(43),this._useFoldingProviders=Qe.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=Qe.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Qe.get(46),this.updateDebounceInfo=je.for(Ae.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new O.fF(_e),this.foldingDecorationProvider.showFoldingControls=Qe.get(109),this.foldingDecorationProvider.showFoldingHighlights=Qe.get(45),this.foldingEnabled=j.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(rt=>{if(rt.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),rt.hasChanged(47)&&this.onModelChanged(),rt.hasChanged(109)||rt.hasChanged(45)){const Dt=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Dt.get(109),this.foldingDecorationProvider.showFoldingHighlights=Dt.get(45),this.triggerFoldingModelChanged()}rt.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),rt.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),rt.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const _e=this.editor.getModel();if(!_e||!this._isEnabled||_e.isTooLargeForTokenization())return{};if(this.foldingModel){const se=this.foldingModel.getMemento(),ve=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:se,lineCount:_e.getLineCount(),provider:ve,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(_e){const se=this.editor.getModel();if(!(!se||!this._isEnabled||se.isTooLargeForTokenization()||!this.hiddenRangeModel)&&_e&&(this._currentModelHasFoldedImports=!!_e.foldedImports,_e.collapsedRegions&&_e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(_e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const _e=this.editor.getModel();!this._isEnabled||!_e||_e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new u.av(_e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(se=>this.onHiddenRangesChanges(se))),this.updateScheduler=new b.vp(this.updateDebounceInfo.get(_e)),this.cursorChangedScheduler=new b.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(se=>this.onDidChangeModelContent(se))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(se=>this.onEditorMouseDown(se))),this.localToDispose.add(this.editor.onMouseUp(se=>this.onEditorMouseUp(se))),this.localToDispose.add({dispose:()=>{var se,ve;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(se=this.updateScheduler)===null||se===void 0||se.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(ve=this.rangeProvider)===null||ve===void 0||ve.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var _e;(_e=this.rangeProvider)===null||_e===void 0||_e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(_e){if(this.rangeProvider)return this.rangeProvider;const se=new y.aI(_e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=se,this._useFoldingProviders&&this.foldingModel){const ve=G.getFoldingRangeProviders(this.languageFeaturesService,_e);ve.length>0&&(this.rangeProvider=new F.e(_e,ve,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,se))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(_e){var se;(se=this.hiddenRangeModel)===null||se===void 0||se.notifyChangeModelContent(_e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const _e=this.foldingModel;if(!_e)return null;const se=new Y.G,ve=this.getRangeProvider(_e.textModel),xe=this.foldingRegionPromise=(0,b.PG)(je=>ve.compute(je));return xe.then(je=>{if(je&&xe===this.foldingRegionPromise){let Ae;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const at=je.setCollapsedAllOfType(o.AD.Imports.value,!0);at&&(Ae=M.Z.capture(this.editor),this._currentModelHasFoldedImports=at)}const Qe=this.editor.getSelections(),rt=Qe?Qe.map(at=>at.startLineNumber):[];_e.update(je,rt),Ae==null||Ae.restore(this.editor);const Dt=this.updateDebounceInfo.update(_e.textModel,se.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Dt)}return _e})}).then(void 0,_e=>((0,r.dL)(_e),null)))}onHiddenRangesChanges(_e){if(this.hiddenRangeModel&&_e.length&&!this._restoringViewState){const se=this.editor.getSelections();se&&this.hiddenRangeModel.adjustSelections(se)&&this.editor.setSelections(se)}this.editor.setHiddenAreas(_e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const _e=this.getFoldingModel();_e&&_e.then(se=>{if(se){const ve=this.editor.getSelections();if(ve&&ve.length>0){const xe=[];for(const je of ve){const Ae=je.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(Ae)&&xe.push(...se.getAllRegionsAtLine(Ae,Qe=>Qe.isCollapsed&&Ae>Qe.startLineNumber))}xe.length&&(se.toggleCollapseState(xe),this.reveal(ve[0].getPosition()))}}}).then(void 0,r.dL)}onEditorMouseDown(_e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!_e.target||!_e.target.range||!_e.event.leftButton&&!_e.event.middleButton)return;const se=_e.target.range;let ve=!1;switch(_e.target.type){case 4:{const xe=_e.target.detail,je=_e.target.element.offsetLeft;if(xe.offsetX-je<4)return;ve=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!_e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const xe=this.editor.getModel();if(xe&&se.startColumn===xe.getLineMaxColumn(se.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:se.startLineNumber,iconClicked:ve}}onEditorMouseUp(_e){const se=this.foldingModel;if(!se||!this.mouseDownInfo||!_e.target)return;const ve=this.mouseDownInfo.lineNumber,xe=this.mouseDownInfo.iconClicked,je=_e.target.range;if(!je||je.startLineNumber!==ve)return;if(xe){if(_e.target.type!==4)return}else{const Qe=this.editor.getModel();if(!Qe||je.startColumn!==Qe.getLineMaxColumn(ve))return}const Ae=se.getRegionAtLine(ve);if(Ae&&Ae.startLineNumber===ve){const Qe=Ae.isCollapsed;if(xe||Qe){const rt=_e.event.altKey;let Dt=[];if(rt){const at=Mt=>!Mt.containedBy(Ae)&&!Ae.containedBy(Mt),vt=se.getRegionsInside(null,at);for(const Mt of vt)Mt.isCollapsed&&Dt.push(Mt);Dt.length===0&&(Dt=vt)}else{const at=_e.event.middleButton||_e.event.shiftKey;if(at)for(const vt of se.getRegionsInside(Ae))vt.isCollapsed===Qe&&Dt.push(vt);(Qe||!at||Dt.length===0)&&Dt.push(Ae)}se.toggleCollapseState(Dt),this.reveal({lineNumber:ve,column:1})}}}reveal(_e){this.editor.revealPositionInCenterIfOutsideViewport(_e,0)}};W.ID="editor.contrib.folding",W=G=H([U(1,L.i6),U(2,d.c_),U(3,B.lT),U(4,$.A),U(5,P.p)],W);class K{constructor(_e){this.editor=_e,this._onDidChange=new n.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(_e,se){(_e!==this._computed||se!==this._limited)&&(this._computed=_e,this._limited=se,this._onDidChange.fire())}}class m extends D.R6{runEditorCommand(_e,se,ve){const xe=_e.get(d.c_),je=W.get(se);if(!je)return;const Ae=je.getFoldingModel();if(Ae)return this.reportTelemetry(_e,se),Ae.then(Qe=>{if(Qe){this.invoke(je,Qe,se,ve,xe);const rt=se.getSelection();rt&&je.reveal(rt.getStartPosition())}})}getSelectedLines(_e){const se=_e.getSelections();return se?se.map(ve=>ve.startLineNumber):[]}getLineNumbers(_e,se){return _e&&_e.selectionLines?_e.selectionLines.map(ve=>ve+1):this.getSelectedLines(se)}run(_e,se){}}function J(ye){if(!I.o8(ye)){if(!I.Kn(ye))return!1;const _e=ye;if(!I.o8(_e.levels)&&!I.hj(_e.levels)||!I.o8(_e.direction)&&!I.HD(_e.direction)||!I.o8(_e.selectionLines)&&(!Array.isArray(_e.selectionLines)||!_e.selectionLines.every(I.hj)))return!1}return!0}class X extends m{constructor(){super({id:"editor.unfold",label:C.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:J,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(_e,se,ve,xe){const je=xe&&xe.levels||1,Ae=this.getLineNumbers(xe,ve);xe&&xe.direction==="up"?(0,u.gU)(se,!1,je,Ae):(0,u.R$)(se,!1,je,Ae)}}class ie extends m{constructor(){super({id:"editor.unfoldRecursively",label:C.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2142),weight:100}})}invoke(_e,se,ve,xe){(0,u.R$)(se,!1,Number.MAX_VALUE,this.getSelectedLines(ve))}}class le extends m{constructor(){super({id:"editor.fold",label:C.NC("foldAction.label","Fold"),alias:"Fold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:J,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(_e,se,ve,xe){const je=this.getLineNumbers(xe,ve),Ae=xe&&xe.levels,Qe=xe&&xe.direction;typeof Ae!="number"&&typeof Qe!="string"?(0,u.HX)(se,!0,je):Qe==="up"?(0,u.gU)(se,!0,Ae||1,je):(0,u.R$)(se,!0,Ae||1,je)}}class fe extends m{constructor(){super({id:"editor.toggleFold",label:C.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2090),weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);(0,u.d8)(se,1,xe)}}class Le extends m{constructor(){super({id:"editor.foldRecursively",label:C.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2140),weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);(0,u.R$)(se,!0,Number.MAX_VALUE,xe)}}class pe extends m{constructor(){super({id:"editor.foldAllBlockComments",label:C.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2138),weight:100}})}invoke(_e,se,ve,xe,je){if(se.regions.hasTypes())(0,u.MW)(se,o.AD.Comment.value,!0);else{const Ae=ve.getModel();if(!Ae)return;const Qe=je.getLanguageConfiguration(Ae.getLanguageId()).comments;if(Qe&&Qe.blockCommentStartToken){const rt=new RegExp("^\\s*"+(0,_.ec)(Qe.blockCommentStartToken));(0,u.DW)(se,rt,!0)}}}}class Te extends m{constructor(){super({id:"editor.foldAllMarkerRegions",label:C.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2077),weight:100}})}invoke(_e,se,ve,xe,je){if(se.regions.hasTypes())(0,u.MW)(se,o.AD.Region.value,!0);else{const Ae=ve.getModel();if(!Ae)return;const Qe=je.getLanguageConfiguration(Ae.getLanguageId()).foldingRules;if(Qe&&Qe.markers&&Qe.markers.start){const rt=new RegExp(Qe.markers.start);(0,u.DW)(se,rt,!0)}}}}class De extends m{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:C.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2078),weight:100}})}invoke(_e,se,ve,xe,je){if(se.regions.hasTypes())(0,u.MW)(se,o.AD.Region.value,!1);else{const Ae=ve.getModel();if(!Ae)return;const Qe=je.getLanguageConfiguration(Ae.getLanguageId()).foldingRules;if(Qe&&Qe.markers&&Qe.markers.start){const rt=new RegExp(Qe.markers.start);(0,u.DW)(se,rt,!1)}}}}class ae extends m{constructor(){super({id:"editor.foldAllExcept",label:C.NC("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2136),weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);(0,u.YT)(se,!0,xe)}}class Ne extends m{constructor(){super({id:"editor.unfoldAllExcept",label:C.NC("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2134),weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);(0,u.YT)(se,!1,xe)}}class We extends m{constructor(){super({id:"editor.foldAll",label:C.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2069),weight:100}})}invoke(_e,se,ve){(0,u.R$)(se,!0)}}class ze extends m{constructor(){super({id:"editor.unfoldAll",label:C.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2088),weight:100}})}invoke(_e,se,ve){(0,u.R$)(se,!1)}}class Se extends m{getFoldingLevel(){return parseInt(this.id.substr(Se.ID_PREFIX.length))}invoke(_e,se,ve){(0,u.Ln)(se,this.getFoldingLevel(),!0,this.getSelectedLines(ve))}}Se.ID_PREFIX="editor.foldLevel",Se.ID=ye=>Se.ID_PREFIX+ye;class ne extends m{constructor(){super({id:"editor.gotoParentFold",label:C.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);if(xe.length>0){const je=(0,u.PV)(xe[0],se);je!==null&&ve.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class ce extends m{constructor(){super({id:"editor.gotoPreviousFold",label:C.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);if(xe.length>0){const je=(0,u.sK)(xe[0],se);je!==null&&ve.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class Oe extends m{constructor(){super({id:"editor.gotoNextFold",label:C.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(_e,se,ve){const xe=this.getSelectedLines(ve);if(xe.length>0){const je=(0,u.hE)(xe[0],se);je!==null&&ve.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class Pe extends m{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:C.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2135),weight:100}})}invoke(_e,se,ve){var xe;const je=[],Ae=ve.getSelections();if(Ae){for(const Qe of Ae){let rt=Qe.endLineNumber;Qe.endColumn===1&&--rt,rt>Qe.startLineNumber&&(je.push({startLineNumber:Qe.startLineNumber,endLineNumber:rt,type:void 0,isCollapsed:!0,source:1}),ve.setSelection({startLineNumber:Qe.startLineNumber,startColumn:1,endLineNumber:Qe.startLineNumber,endColumn:1}))}if(je.length>0){je.sort((rt,Dt)=>rt.startLineNumber-Dt.startLineNumber);const Qe=T.MN.sanitizeAndMerge(se.regions,je,(xe=ve.getModel())===null||xe===void 0?void 0:xe.getLineCount());se.updatePost(T.MN.fromFoldRanges(Qe))}}}}class Me extends m{constructor(){super({id:"editor.removeManualFoldingRanges",label:C.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2137),weight:100}})}invoke(_e,se,ve){const xe=ve.getSelections();if(xe){const je=[];for(const Ae of xe){const{startLineNumber:Qe,endLineNumber:rt}=Ae;je.push(rt>=Qe?{startLineNumber:Qe,endLineNumber:rt}:{endLineNumber:rt,startLineNumber:Qe})}se.removeManualRanges(je),_e.triggerFoldingModelChanged()}}}(0,D._K)(W.ID,W,0),(0,D.Qr)(X),(0,D.Qr)(ie),(0,D.Qr)(le),(0,D.Qr)(Le),(0,D.Qr)(We),(0,D.Qr)(ze),(0,D.Qr)(pe),(0,D.Qr)(Te),(0,D.Qr)(De),(0,D.Qr)(ae),(0,D.Qr)(Ne),(0,D.Qr)(fe),(0,D.Qr)(ne),(0,D.Qr)(ce),(0,D.Qr)(Oe),(0,D.Qr)(Pe),(0,D.Qr)(Me);for(let ye=1;ye<=7;ye++)(0,D.QG)(new Se({id:Se.ID(ye),label:C.NC("foldLevelAction.label","Fold Level {0}",ye),alias:`Fold Level ${ye}`,precondition:j,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2048|21+ye),weight:100}}));w.P.registerCommand("_executeFoldingRangeProvider",function(ye,..._e){return qt(this,null,function*(){const[se]=_e;if(!(se instanceof V.o))throw(0,r.b1)();const ve=ye.get(P.p),xe=ye.get(R.q).getModel(se);if(!xe)throw(0,r.b1)();const je=ye.get(A.Ui);if(!je.getValue("editor.folding",{resource:se}))return[];const Ae=ye.get(d.c_),Qe=je.getValue("editor.foldingStrategy",{resource:se}),rt={get limit(){return je.getValue("editor.foldingMaximumRegions",{resource:se})},update:(ti,Ft)=>{}},Dt=new y.aI(xe,Ae,rt);let at=Dt;if(Qe!=="indentation"){const ti=W.getFoldingRangeProviders(ve,xe);ti.length&&(at=new F.e(xe,ti,()=>{},rt,Dt))}const vt=yield at.compute(z.T.None),Mt=[];try{if(vt)for(let ti=0;ti<vt.length;ti++){const Ft=vt.getType(ti);Mt.push({start:vt.getStartLineNumber(ti),end:vt.getEndLineNumber(ti),kind:Ft?o.AD.fromValue(Ft):void 0})}return Mt}finally{at.dispose()}})})},83973:function(Pt,Ke,e){"use strict";e.d(Ke,{Iy:function(){return p},f5:function(){return o},fF:function(){return n}});var b=e(73046),z=e(84973),r=e(84901),E=e(63580),c=e(73910),_=e(59554),I=e(97781),M=e(25670);const D=(0,c.P6G)("editor.foldBackground",{light:(0,c.ZnX)(c.hEj,.3),dark:(0,c.ZnX)(c.hEj,.3),hcDark:null,hcLight:null},(0,E.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,c.P6G)("editorGutter.foldingControlForeground",{dark:c.XZx,light:c.XZx,hcDark:c.XZx,hcLight:c.XZx},(0,E.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const p=(0,_.q5)("folding-expanded",b.l.chevronDown,(0,E.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),o=(0,_.q5)("folding-collapsed",b.l.chevronRight,(0,E.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),d=(0,_.q5)("folding-manual-collapsed",o,(0,E.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),u=(0,_.q5)("folding-manual-expanded",p,(0,E.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),i={color:(0,I.EN)(D),position:z.F5.Inline};class n{constructor(v){this.editor=v,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(v,a,S){return a?n.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?v?this.showFoldingHighlights?n.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:n.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:n.NO_CONTROLS_EXPANDED_RANGE_DECORATION:v?S?this.showFoldingHighlights?n.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?n.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?S?n.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:S?n.MANUALLY_EXPANDED_VISUAL_DECORATION:n.EXPANDED_VISUAL_DECORATION}changeDecorations(v){return this.editor.changeDecorations(v)}removeDecorations(v){this.editor.removeDecorations(v)}}n.COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(o)}),n.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(o)}),n.MANUALLY_COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(d)}),n.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(d)}),n.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),n.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0}),n.EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+M.k.asClassName(p)}),n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(p)}),n.MANUALLY_EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+M.k.asClassName(u)}),n.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:M.k.asClassName(u)}),n.NO_CONTROLS_EXPANDED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),n.HIDDEN_RANGE_DECORATION=r.qx.register({description:"folding-hidden-range-decoration",stickiness:1})},71705:function(Pt,Ke,e){"use strict";e.d(Ke,{DW:function(){return o},HX:function(){return M},Ln:function(){return D},MW:function(){return d},PV:function(){return u},R$:function(){return _},YT:function(){return p},av:function(){return E},d8:function(){return c},gU:function(){return I},hE:function(){return n},sK:function(){return i}});var b=e(4669),z=e(37702),r=e(89954);class E{get regions(){return this._regions}get textModel(){return this._textModel}constructor(v,a){this._updateEventEmitter=new b.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=v,this._decorationProvider=a,this._regions=new z.MN(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(v){if(!v.length)return;v=v.sort((S,g)=>S.regionIndex-g.regionIndex);const a={};this._decorationProvider.changeDecorations(S=>{let g=0,y=-1,C=-1;const L=O=>{for(;g<O;){const T=this._regions.getEndLineNumber(g),F=this._regions.isCollapsed(g);if(T<=y){const B=this.regions.getSource(g)!==0;S.changeDecorationOptions(this._editorDecorationIds[g],this._decorationProvider.getDecorationOption(F,T<=C,B))}F&&T>C&&(C=T),g++}};for(const O of v){const T=O.regionIndex,F=this._editorDecorationIds[T];if(F&&!a[F]){a[F]=!0,L(T);const B=!this._regions.isCollapsed(T);this._regions.setCollapsed(T,B),y=Math.max(y,this._regions.getEndLineNumber(T))}}L(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:v})}removeManualRanges(v){const a=new Array,S=g=>{for(const y of v)if(!(y.startLineNumber>g.endLineNumber||g.startLineNumber>y.endLineNumber))return!0;return!1};for(let g=0;g<this._regions.length;g++){const y=this._regions.toFoldRange(g);(y.source===0||!S(y))&&a.push(y)}this.updatePost(z.MN.fromFoldRanges(a))}update(v,a=[]){const S=this._currentFoldedOrManualRanges(a),g=z.MN.sanitizeAndMerge(v,S,this._textModel.getLineCount());this.updatePost(z.MN.fromFoldRanges(g))}updatePost(v){const a=[];let S=-1;for(let g=0,y=v.length;g<y;g++){const C=v.getStartLineNumber(g),L=v.getEndLineNumber(g),O=v.isCollapsed(g),T=v.getSource(g)!==0,F={startLineNumber:C,startColumn:this._textModel.getLineMaxColumn(C),endLineNumber:L,endColumn:this._textModel.getLineMaxColumn(L)+1};a.push({range:F,options:this._decorationProvider.getDecorationOption(O,L<=S,T)}),O&&L>S&&(S=L)}this._decorationProvider.changeDecorations(g=>this._editorDecorationIds=g.deltaDecorations(this._editorDecorationIds,a)),this._regions=v,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(v=[]){const a=(g,y)=>{for(const C of v)if(g<C&&C<=y)return!0;return!1},S=[];for(let g=0,y=this._regions.length;g<y;g++){let C=this.regions.isCollapsed(g);const L=this.regions.getSource(g);if(C||L!==0){const O=this._regions.toFoldRange(g),T=this._textModel.getDecorationRange(this._editorDecorationIds[g]);T&&(C&&a(T.startLineNumber,T.endLineNumber)&&(C=!1),S.push({startLineNumber:T.startLineNumber,endLineNumber:T.endLineNumber,type:O.type,isCollapsed:C,source:L}))}}return S}getMemento(){const v=this._currentFoldedOrManualRanges(),a=[],S=this._textModel.getLineCount();for(let g=0,y=v.length;g<y;g++){const C=v[g];if(C.startLineNumber>=C.endLineNumber||C.startLineNumber<1||C.endLineNumber>S)continue;const L=this._getLinesChecksum(C.startLineNumber+1,C.endLineNumber);a.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,isCollapsed:C.isCollapsed,source:C.source,checksum:L})}return a.length>0?a:void 0}applyMemento(v){var a,S;if(!Array.isArray(v))return;const g=[],y=this._textModel.getLineCount();for(const L of v){if(L.startLineNumber>=L.endLineNumber||L.startLineNumber<1||L.endLineNumber>y)continue;const O=this._getLinesChecksum(L.startLineNumber+1,L.endLineNumber);(!L.checksum||O===L.checksum)&&g.push({startLineNumber:L.startLineNumber,endLineNumber:L.endLineNumber,type:void 0,isCollapsed:(a=L.isCollapsed)!==null&&a!==void 0?a:!0,source:(S=L.source)!==null&&S!==void 0?S:0})}const C=z.MN.sanitizeAndMerge(this._regions,g,y);this.updatePost(z.MN.fromFoldRanges(C))}_getLinesChecksum(v,a){return(0,r.vp)(this._textModel.getLineContent(v)+this._textModel.getLineContent(a))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(v,a){const S=[];if(this._regions){let g=this._regions.findRange(v),y=1;for(;g>=0;){const C=this._regions.toRegion(g);(!a||a(C,y))&&S.push(C),y++,g=C.parentIndex}}return S}getRegionAtLine(v){if(this._regions){const a=this._regions.findRange(v);if(a>=0)return this._regions.toRegion(a)}return null}getRegionsInside(v,a){const S=[],g=v?v.regionIndex+1:0,y=v?v.endLineNumber:Number.MAX_VALUE;if(a&&a.length===2){const C=[];for(let L=g,O=this._regions.length;L<O;L++){const T=this._regions.toRegion(L);if(this._regions.getStartLineNumber(L)<y){for(;C.length>0&&!T.containedBy(C[C.length-1]);)C.pop();C.push(T),a(T,C.length)&&S.push(T)}else break}}else for(let C=g,L=this._regions.length;C<L;C++){const O=this._regions.toRegion(C);if(this._regions.getStartLineNumber(C)<y)(!a||a(O))&&S.push(O);else break}return S}}function c(f,v,a){const S=[];for(const g of a){const y=f.getRegionAtLine(g);if(y){const C=!y.isCollapsed;if(S.push(y),v>1){const L=f.getRegionsInside(y,(O,T)=>O.isCollapsed!==C&&T<v);S.push(...L)}}}f.toggleCollapseState(S)}function _(f,v,a=Number.MAX_VALUE,S){const g=[];if(S&&S.length>0)for(const y of S){const C=f.getRegionAtLine(y);if(C&&(C.isCollapsed!==v&&g.push(C),a>1)){const L=f.getRegionsInside(C,(O,T)=>O.isCollapsed!==v&&T<a);g.push(...L)}}else{const y=f.getRegionsInside(null,(C,L)=>C.isCollapsed!==v&&L<a);g.push(...y)}f.toggleCollapseState(g)}function I(f,v,a,S){const g=[];for(const y of S){const C=f.getAllRegionsAtLine(y,(L,O)=>L.isCollapsed!==v&&O<=a);g.push(...C)}f.toggleCollapseState(g)}function M(f,v,a){const S=[];for(const g of a){const y=f.getAllRegionsAtLine(g,C=>C.isCollapsed!==v);y.length>0&&S.push(y[0])}f.toggleCollapseState(S)}function D(f,v,a,S){const g=(C,L)=>L===v&&C.isCollapsed!==a&&!S.some(O=>C.containsLine(O)),y=f.getRegionsInside(null,g);f.toggleCollapseState(y)}function p(f,v,a){const S=[];for(const C of a){const L=f.getAllRegionsAtLine(C,void 0);L.length>0&&S.push(L[0])}const g=C=>S.every(L=>!L.containedBy(C)&&!C.containedBy(L))&&C.isCollapsed!==v,y=f.getRegionsInside(null,g);f.toggleCollapseState(y)}function o(f,v,a){const S=f.textModel,g=f.regions,y=[];for(let C=g.length-1;C>=0;C--)if(a!==g.isCollapsed(C)){const L=g.getStartLineNumber(C);v.test(S.getLineContent(L))&&y.push(g.toRegion(C))}f.toggleCollapseState(y)}function d(f,v,a){const S=f.regions,g=[];for(let y=S.length-1;y>=0;y--)a!==S.isCollapsed(y)&&v===S.getType(y)&&g.push(S.toRegion(y));f.toggleCollapseState(g)}function u(f,v){let a=null;const S=v.getRegionAtLine(f);if(S!==null&&(a=S.startLineNumber,f===a)){const g=S.parentIndex;g!==-1?a=v.regions.getStartLineNumber(g):a=null}return a}function i(f,v){let a=v.getRegionAtLine(f);if(a!==null&&a.startLineNumber===f){if(f!==a.startLineNumber)return a.startLineNumber;{const S=a.parentIndex;let g=0;for(S!==-1&&(g=v.regions.getStartLineNumber(a.parentIndex));a!==null;)if(a.regionIndex>0){if(a=v.regions.toRegion(a.regionIndex-1),a.startLineNumber<=g)return null;if(a.parentIndex===S)return a.startLineNumber}else return null}}else if(v.regions.length>0)for(a=v.regions.toRegion(v.regions.length-1);a!==null;){if(a.startLineNumber<f)return a.startLineNumber;a.regionIndex>0?a=v.regions.toRegion(a.regionIndex-1):a=null}return null}function n(f,v){let a=v.getRegionAtLine(f);if(a!==null&&a.startLineNumber===f){const S=a.parentIndex;let g=0;if(S!==-1)g=v.regions.getEndLineNumber(a.parentIndex);else{if(v.regions.length===0)return null;g=v.regions.getEndLineNumber(v.regions.length-1)}for(;a!==null;)if(a.regionIndex<v.regions.length){if(a=v.regions.toRegion(a.regionIndex+1),a.startLineNumber>=g)return null;if(a.parentIndex===S)return a.startLineNumber}else return null}else if(v.regions.length>0)for(a=v.regions.toRegion(0);a!==null;){if(a.startLineNumber>f)return a.startLineNumber;a.regionIndex<v.regions.length?a=v.regions.toRegion(a.regionIndex+1):a=null}return null}},37702:function(Pt,Ke,e){"use strict";e.d(Ke,{MN:function(){return _},Xl:function(){return r}});const b={[0]:" ",[1]:"u",[2]:"r"},z=65535,r=16777215,E=4278190080;class c{constructor(D){const p=Math.ceil(D/32);this._states=new Uint32Array(p)}get(D){const p=D/32|0,o=D%32;return(this._states[p]&1<<o)!==0}set(D,p){const o=D/32|0,d=D%32,u=this._states[o];p?this._states[o]=u|1<<d:this._states[o]=u&~(1<<d)}}class _{constructor(D,p,o){if(D.length!==p.length||D.length>z)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=D,this._endIndexes=p,this._collapseStates=new c(D.length),this._userDefinedStates=new c(D.length),this._recoveredStates=new c(D.length),this._types=o,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const D=[],p=(o,d)=>{const u=D[D.length-1];return this.getStartLineNumber(u)<=o&&this.getEndLineNumber(u)>=d};for(let o=0,d=this._startIndexes.length;o<d;o++){const u=this._startIndexes[o],i=this._endIndexes[o];if(u>r||i>r)throw new Error("startLineNumber or endLineNumber must not exceed "+r);for(;D.length>0&&!p(u,i);)D.pop();const n=D.length>0?D[D.length-1]:-1;D.push(o),this._startIndexes[o]=u+((n&255)<<24),this._endIndexes[o]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(D){return this._startIndexes[D]&r}getEndLineNumber(D){return this._endIndexes[D]&r}getType(D){return this._types?this._types[D]:void 0}hasTypes(){return!!this._types}isCollapsed(D){return this._collapseStates.get(D)}setCollapsed(D,p){this._collapseStates.set(D,p)}isUserDefined(D){return this._userDefinedStates.get(D)}setUserDefined(D,p){return this._userDefinedStates.set(D,p)}isRecovered(D){return this._recoveredStates.get(D)}setRecovered(D,p){return this._recoveredStates.set(D,p)}getSource(D){return this.isUserDefined(D)?1:this.isRecovered(D)?2:0}setSource(D,p){p===1?(this.setUserDefined(D,!0),this.setRecovered(D,!1)):p===2?(this.setUserDefined(D,!1),this.setRecovered(D,!0)):(this.setUserDefined(D,!1),this.setRecovered(D,!1))}setCollapsedAllOfType(D,p){let o=!1;if(this._types)for(let d=0;d<this._types.length;d++)this._types[d]===D&&(this.setCollapsed(d,p),o=!0);return o}toRegion(D){return new I(this,D)}getParentIndex(D){this.ensureParentIndices();const p=((this._startIndexes[D]&E)>>>24)+((this._endIndexes[D]&E)>>>16);return p===z?-1:p}contains(D,p){return this.getStartLineNumber(D)<=p&&this.getEndLineNumber(D)>=p}findIndex(D){let p=0,o=this._startIndexes.length;if(o===0)return-1;for(;p<o;){const d=Math.floor((p+o)/2);D<this.getStartLineNumber(d)?o=d:p=d+1}return p-1}findRange(D){let p=this.findIndex(D);if(p>=0){if(this.getEndLineNumber(p)>=D)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,D))return p;p=this.getParentIndex(p)}}return-1}toString(){const D=[];for(let p=0;p<this.length;p++)D[p]=`[${b[this.getSource(p)]}${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return D.join(", ")}toFoldRange(D){return{startLineNumber:this._startIndexes[D]&r,endLineNumber:this._endIndexes[D]&r,type:this._types?this._types[D]:void 0,isCollapsed:this.isCollapsed(D),source:this.getSource(D)}}static fromFoldRanges(D){const p=D.length,o=new Uint32Array(p),d=new Uint32Array(p);let u=[],i=!1;for(let f=0;f<p;f++){const v=D[f];o[f]=v.startLineNumber,d[f]=v.endLineNumber,u.push(v.type),v.type&&(i=!0)}i||(u=void 0);const n=new _(o,d,u);for(let f=0;f<p;f++)D[f].isCollapsed&&n.setCollapsed(f,!0),n.setSource(f,D[f].source);return n}static sanitizeAndMerge(D,p,o){o=o!=null?o:Number.MAX_VALUE;const d=(L,O)=>Array.isArray(L)?T=>T<O?L[T]:void 0:T=>T<O?L.toFoldRange(T):void 0,u=d(D,D.length),i=d(p,p.length);let n=0,f=0,v=u(0),a=i(0);const S=[];let g,y=0;const C=[];for(;v||a;){let L;if(a&&(!v||v.startLineNumber>=a.startLineNumber))v&&v.startLineNumber===a.startLineNumber?(a.source===1?L=a:(L=v,L.isCollapsed=a.isCollapsed&&v.endLineNumber===a.endLineNumber,L.source=0),v=u(++n)):(L=a,a.isCollapsed&&a.source===0&&(L.source=2)),a=i(++f);else{let O=f,T=a;for(;;){if(!T||T.startLineNumber>v.endLineNumber){L=v;break}if(T.source===1&&T.endLineNumber>v.endLineNumber)break;T=i(++O)}v=u(++n)}if(L){for(;g&&g.endLineNumber<L.startLineNumber;)g=S.pop();L.endLineNumber>L.startLineNumber&&L.startLineNumber>y&&L.endLineNumber<=o&&(!g||g.endLineNumber>=L.endLineNumber)&&(C.push(L),y=L.startLineNumber,g&&S.push(g),g=L)}}return C}}class I{constructor(D,p){this.ranges=D,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(D){return D.startLineNumber<=this.startLineNumber&&D.endLineNumber>=this.endLineNumber}containsLine(D){return this.startLineNumber<=D&&D<=this.endLineNumber}}},84990:function(Pt,Ke,e){"use strict";e.d(Ke,{aI:function(){return c}});var b=e(59616),z=e(37702);const r=5e3,E="indent";class c{constructor(p,o,d){this.editorModel=p,this.languageConfigurationService=o,this.foldingRangesLimit=d,this.id=E}dispose(){}compute(p){const o=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,d=o&&!!o.offSide,u=o&&o.markers;return Promise.resolve(M(this.editorModel,d,u,this.foldingRangesLimit))}}class _{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,o,d){if(p>z.Xl||o>z.Xl)return;const u=this._length;this._startIndexes[u]=p,this._endIndexes[u]=o,this._length++,d<1e3&&(this._indentOccurrences[d]=(this._indentOccurrences[d]||0)+1)}toIndentRanges(p){const o=this._foldingRangesLimit.limit;if(this._length<=o){this._foldingRangesLimit.update(this._length,!1);const d=new Uint32Array(this._length),u=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)d[n]=this._startIndexes[i],u[n]=this._endIndexes[i];return new z.MN(d,u)}else{this._foldingRangesLimit.update(this._length,o);let d=0,u=this._indentOccurrences.length;for(let v=0;v<this._indentOccurrences.length;v++){const a=this._indentOccurrences[v];if(a){if(a+d>o){u=v;break}d+=a}}const i=p.getOptions().tabSize,n=new Uint32Array(o),f=new Uint32Array(o);for(let v=this._length-1,a=0;v>=0;v--){const S=this._startIndexes[v],g=p.getLineContent(S),y=(0,b.q)(g,i);(y<u||y===u&&d++<o)&&(n[a]=S,f[a]=this._endIndexes[v],a++)}return new z.MN(n,f)}}}const I={limit:r,update:()=>{}};function M(D,p,o,d=I){const u=D.getOptions().tabSize,i=new _(d);let n;o&&(n=new RegExp(`(${o.start.source})|(?:${o.end.source})`));const f=[],v=D.getLineCount()+1;f.push({indent:-1,endAbove:v,line:v});for(let a=D.getLineCount();a>0;a--){const S=D.getLineContent(a),g=(0,b.q)(S,u);let y=f[f.length-1];if(g===-1){p&&(y.endAbove=a);continue}let C;if(n&&(C=S.match(n)))if(C[1]){let L=f.length-1;for(;L>0&&f[L].indent!==-2;)L--;if(L>0){f.length=L+1,y=f[L],i.insertFirst(a,y.line,g),y.line=a,y.indent=g,y.endAbove=a;continue}}else{f.push({indent:-2,endAbove:a,line:a});continue}if(y.indent>g){do f.pop(),y=f[f.length-1];while(y.indent>g);const L=y.endAbove-1;L-a>=1&&i.insertFirst(a,L,g)}y.indent===g?y.endAbove=a:f.push({indent:g,endAbove:a,line:a})}return i.toIndentRanges(D)}},99155:function(Pt,Ke,e){"use strict";e.d(Ke,{e:function(){return _}});var b=e(17301),z=e(5976),r=e(37702);const E={},c="syntax";class _{constructor(o,d,u,i,n){this.editorModel=o,this.providers=d,this.handleFoldingRangesChange=u,this.foldingRangesLimit=i,this.fallbackRangeProvider=n,this.id=c,this.disposables=new z.SL,n&&this.disposables.add(n);for(const f of d)typeof f.onDidChange=="function"&&this.disposables.add(f.onDidChange(u))}compute(o){return I(this.providers,this.editorModel,o).then(d=>{var u,i;return d?D(d,this.foldingRangesLimit):(i=(u=this.fallbackRangeProvider)===null||u===void 0?void 0:u.compute(o))!==null&&i!==void 0?i:null})}dispose(){this.disposables.dispose()}}function I(p,o,d){let u=null;const i=p.map((n,f)=>Promise.resolve(n.provideFoldingRanges(o,E,d)).then(v=>{if(!d.isCancellationRequested&&Array.isArray(v)){Array.isArray(u)||(u=[]);const a=o.getLineCount();for(const S of v)S.start>0&&S.end>S.start&&S.end<=a&&u.push({start:S.start,end:S.end,rank:f,kind:S.kind})}},b.Cp));return Promise.all(i).then(n=>u)}class M{constructor(o){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}add(o,d,u,i){if(o>r.Xl||d>r.Xl)return;const n=this._length;this._startIndexes[n]=o,this._endIndexes[n]=d,this._nestingLevels[n]=i,this._types[n]=u,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}toIndentRanges(){const o=this._foldingRangesLimit.limit;if(this._length<=o){this._foldingRangesLimit.update(this._length,!1);const d=new Uint32Array(this._length),u=new Uint32Array(this._length);for(let i=0;i<this._length;i++)d[i]=this._startIndexes[i],u[i]=this._endIndexes[i];return new r.MN(d,u,this._types)}else{this._foldingRangesLimit.update(this._length,o);let d=0,u=this._nestingLevelCounts.length;for(let v=0;v<this._nestingLevelCounts.length;v++){const a=this._nestingLevelCounts[v];if(a){if(a+d>o){u=v;break}d+=a}}const i=new Uint32Array(o),n=new Uint32Array(o),f=[];for(let v=0,a=0;v<this._length;v++){const S=this._nestingLevels[v];(S<u||S===u&&d++<o)&&(i[a]=this._startIndexes[v],n[a]=this._endIndexes[v],f[a]=this._types[v],a++)}return new r.MN(i,n,f)}}}function D(p,o){const d=p.sort((f,v)=>{let a=f.start-v.start;return a===0&&(a=f.rank-v.rank),a}),u=new M(o);let i;const n=[];for(const f of d)if(!i)i=f,u.add(f.start,f.end,f.kind&&f.kind.value,n.length);else if(f.start>i.start)if(f.end<=i.end)n.push(i),i=f,u.add(f.start,f.end,f.kind&&f.kind.value,n.length);else{if(f.start>i.end){do i=n.pop();while(i&&f.start>i.end);i&&n.push(i),i=f}u.add(f.start,f.end,f.kind&&f.kind.value,n.length)}return u.toIndentRanges()}},44125:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(82334),r=e(63580);class E extends b.R6{constructor(){super({id:"editor.action.fontZoomIn",label:r.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(M,D){z.C.setZoomLevel(z.C.getZoomLevel()+1)}}class c extends b.R6{constructor(){super({id:"editor.action.fontZoomOut",label:r.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(M,D){z.C.setZoomLevel(z.C.getZoomLevel()-1)}}class _ extends b.R6{constructor(){super({id:"editor.action.fontZoomReset",label:r.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(M,D){z.C.setZoomLevel(0)}}(0,b.Qr)(E),(0,b.Qr)(c),(0,b.Qr)(_)},71373:function(Pt,Ke,e){"use strict";e.d(Ke,{xC:function(){return O},x$:function(){return T},Qq:function(){return B},Qs:function(){return w}});var b=e(9488),z=e(71050),r=e(17301),E=e(53725),c=e(91741),_=e(98401),I=e(70666),M=e(14410),D=e(65520),p=e(50187),o=e(24314),d=e(3860),u=e(85215),i=e(88216),n=e(35120),f=e(94565);class v{constructor(R){this.value=R,this._lower=R.toLowerCase()}static toKey(R){return typeof R=="string"?R.toLowerCase():R._lower}}class a{constructor(R){if(this._set=new Set,R)for(const A of R)this.add(A)}add(R){this._set.add(v.toKey(R))}has(R){return this._set.has(v.toKey(R))}}var S=e(72065),g=e(71922),y=e(43557),C=e(31106);function L(V,R,A){const H=[],U=new a,G=V.ordered(A);for(const W of G)H.push(W),W.extensionId&&U.add(W.extensionId);const j=R.ordered(A);for(const W of j){if(W.extensionId){if(U.has(W.extensionId))continue;U.add(W.extensionId)}H.push({displayName:W.displayName,extensionId:W.extensionId,provideDocumentFormattingEdits(K,m,J){return W.provideDocumentRangeFormattingEdits(K,K.getFullModelRange(),m,J)}})}return H}class O{static setFormatterSelector(R){return{dispose:O._selectors.unshift(R)}}static select(R,A,H){return qt(this,null,function*(){if(R.length===0)return;const U=E.$.first(O._selectors);if(U)return yield U(R,A,H)})}}O._selectors=new c.S;function T(V,R,A,H,U,G,j){return qt(this,null,function*(){const W=V.get(S.TG),{documentRangeFormattingEditProvider:K}=V.get(g.p),m=(0,D.CL)(R)?R.getModel():R,J=K.ordered(m),X=yield O.select(J,m,H);X&&(U.report(X),yield W.invokeFunction(F,X,R,A,G,j))})}function F(V,R,A,H,U,G){return qt(this,null,function*(){var j,W;const K=V.get(u.p),m=V.get(y.VZ),J=V.get(C.VX);let X,ie;(0,D.CL)(A)?(X=A.getModel(),ie=new M.Dl(A,5,void 0,U)):(X=A,ie=new M.YQ(A,U));const le=[];let fe=0;for(const ae of(0,b._2)(H).sort(o.e.compareRangesUsingStarts))fe>0&&o.e.areIntersectingOrTouching(le[fe-1],ae)?le[fe-1]=o.e.fromPositions(le[fe-1].getStartPosition(),ae.getEndPosition()):fe=le.push(ae);const Le=ae=>qt(this,null,function*(){var Ne,We;m.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Ne=R.extensionId)===null||Ne===void 0?void 0:Ne.value,ae);const ze=(yield R.provideDocumentRangeFormattingEdits(X,ae,X.getFormattingOptions(),ie.token))||[];return m.trace("[format][provideDocumentRangeFormattingEdits] (response)",(We=R.extensionId)===null||We===void 0?void 0:We.value,ze),ze}),pe=(ae,Ne)=>{if(!ae.length||!Ne.length)return!1;const We=ae.reduce((ze,Se)=>o.e.plusRange(ze,Se.range),ae[0].range);if(!Ne.some(ze=>o.e.intersectRanges(We,ze.range)))return!1;for(const ze of ae)for(const Se of Ne)if(o.e.intersectRanges(ze.range,Se.range))return!0;return!1},Te=[],De=[];try{if(typeof R.provideDocumentRangesFormattingEdits=="function"){m.trace("[format][provideDocumentRangeFormattingEdits] (request)",(j=R.extensionId)===null||j===void 0?void 0:j.value,le);const ae=(yield R.provideDocumentRangesFormattingEdits(X,le,X.getFormattingOptions(),ie.token))||[];m.trace("[format][provideDocumentRangeFormattingEdits] (response)",(W=R.extensionId)===null||W===void 0?void 0:W.value,ae),De.push(ae)}else{for(const ae of le){if(ie.token.isCancellationRequested)return!0;De.push(yield Le(ae))}for(let ae=0;ae<le.length;++ae)for(let Ne=ae+1;Ne<le.length;++Ne){if(ie.token.isCancellationRequested)return!0;if(pe(De[ae],De[Ne])){const We=o.e.plusRange(le[ae],le[Ne]),ze=yield Le(We);le.splice(Ne,1),le.splice(ae,1),le.push(We),De.splice(Ne,1),De.splice(ae,1),De.push(ze),ae=0,Ne=0}}}for(const ae of De){if(ie.token.isCancellationRequested)return!0;const Ne=yield K.computeMoreMinimalEdits(X.uri,ae);Ne&&Te.push(...Ne)}}finally{ie.dispose()}if(Te.length===0)return!1;if((0,D.CL)(A))n.V.execute(A,Te,!0),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:ae}]=Te,Ne=new d.Y(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn);X.pushEditOperations([Ne],Te.map(We=>({text:We.text,range:o.e.lift(We.range),forceMoveMarkers:!0})),We=>{for(const{range:ze}of We)if(o.e.areIntersectingOrTouching(ze,Ne))return[new d.Y(ze.startLineNumber,ze.startColumn,ze.endLineNumber,ze.endColumn)];return null})}return J.notify("format",G),!0})}function B(V,R,A,H,U,G){return qt(this,null,function*(){const j=V.get(S.TG),W=V.get(g.p),K=(0,D.CL)(R)?R.getModel():R,m=L(W.documentFormattingEditProvider,W.documentRangeFormattingEditProvider,K),J=yield O.select(m,K,A);J&&(H.report(J),yield j.invokeFunction($,J,R,A,U,G))})}function $(V,R,A,H,U,G){return qt(this,null,function*(){const j=V.get(u.p),W=V.get(C.VX);let K,m;(0,D.CL)(A)?(K=A.getModel(),m=new M.Dl(A,5,void 0,U)):(K=A,m=new M.YQ(A,U));let J;try{const X=yield R.provideDocumentFormattingEdits(K,K.getFormattingOptions(),m.token);if(J=yield j.computeMoreMinimalEdits(K.uri,X),m.token.isCancellationRequested)return!0}finally{m.dispose()}if(!J||J.length===0)return!1;if((0,D.CL)(A))n.V.execute(A,J,H!==2),H!==2&&A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:X}]=J,ie=new d.Y(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);K.pushEditOperations([ie],J.map(le=>({text:le.text,range:o.e.lift(le.range),forceMoveMarkers:!0})),le=>{for(const{range:fe}of le)if(o.e.areIntersectingOrTouching(fe,ie))return[new d.Y(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn)];return null})}return W.notify("format",G),!0})}function Y(V,R,A,H,U,G){return qt(this,null,function*(){const j=R.documentRangeFormattingEditProvider.ordered(A);for(const W of j){const K=yield Promise.resolve(W.provideDocumentRangeFormattingEdits(A,H,U,G)).catch(r.Cp);if((0,b.Of)(K))return yield V.computeMoreMinimalEdits(A.uri,K)}})}function P(V,R,A,H,U){return qt(this,null,function*(){const G=L(R.documentFormattingEditProvider,R.documentRangeFormattingEditProvider,A);for(const j of G){const W=yield Promise.resolve(j.provideDocumentFormattingEdits(A,H,U)).catch(r.Cp);if((0,b.Of)(W))return yield V.computeMoreMinimalEdits(A.uri,W)}})}function w(V,R,A,H,U,G,j){const W=R.onTypeFormattingEditProvider.ordered(A);return W.length===0||W[0].autoFormatTriggerCharacters.indexOf(U)<0?Promise.resolve(void 0):Promise.resolve(W[0].provideOnTypeFormattingEdits(A,H,U,G,j)).catch(r.Cp).then(K=>V.computeMoreMinimalEdits(A.uri,K))}f.P.registerCommand("_executeFormatRangeProvider",function(V,...R){return qt(this,null,function*(){const[A,H,U]=R;(0,_.p_)(I.o.isUri(A)),(0,_.p_)(o.e.isIRange(H));const G=V.get(i.S),j=V.get(u.p),W=V.get(g.p),K=yield G.createModelReference(A);try{return Y(j,W,K.object.textEditorModel,o.e.lift(H),U,z.T.None)}finally{K.dispose()}})}),f.P.registerCommand("_executeFormatDocumentProvider",function(V,...R){return qt(this,null,function*(){const[A,H]=R;(0,_.p_)(I.o.isUri(A));const U=V.get(i.S),G=V.get(u.p),j=V.get(g.p),W=yield U.createModelReference(A);try{return P(G,j,W.object.textEditorModel,H,z.T.None)}finally{W.dispose()}})}),f.P.registerCommand("_executeFormatOnTypeProvider",function(V,...R){return qt(this,null,function*(){const[A,H,U,G]=R;(0,_.p_)(I.o.isUri(A)),(0,_.p_)(p.L.isIPosition(H)),(0,_.p_)(typeof U=="string");const j=V.get(i.S),W=V.get(u.p),K=V.get(g.p),m=yield j.createModelReference(A);try{return w(W,K,m.object.textEditorModel,p.L.lift(H),U,G,z.T.None)}finally{m.dispose()}})})},61097:function(Pt,Ke,e){"use strict";var b=e(9488),z=e(71050),r=e(17301),E=e(22258),c=e(5976),_=e(16830),I=e(11640),M=e(44906),D=e(24314),p=e(29102),o=e(85215),d=e(71922),u=e(71373),i=e(35120),n=e(63580),f=e(31106),v=e(94565),a=e(32064),S=e(72065),g=e(90535),y=function(B,$,Y,P){var w=arguments.length,V=w<3?$:P===null?P=Object.getOwnPropertyDescriptor($,Y):P,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(B,$,Y,P);else for(var A=B.length-1;A>=0;A--)(R=B[A])&&(V=(w<3?R(V):w>3?R($,Y,V):R($,Y))||V);return w>3&&V&&Object.defineProperty($,Y,V),V},C=function(B,$){return function(Y,P){$(Y,P,B)}};let L=class{constructor($,Y,P,w){this._editor=$,this._languageFeaturesService=Y,this._workerService=P,this._accessibleNotificationService=w,this._disposables=new c.SL,this._sessionDisposables=new c.SL,this._disposables.add(Y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration(V=>{V.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const $=this._editor.getModel(),[Y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered($);if(!Y||!Y.autoFormatTriggerCharacters)return;const P=new M.q;for(const w of Y.autoFormatTriggerCharacters)P.add(w.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(w=>{const V=w.charCodeAt(w.length-1);P.has(V)&&this._trigger(String.fromCharCode(V))}))}_trigger($){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const Y=this._editor.getModel(),P=this._editor.getPosition(),w=new z.A,V=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){w.cancel(),V.dispose();return}for(let A=0,H=R.changes.length;A<H;A++)if(R.changes[A].range.endLineNumber<=P.lineNumber){w.cancel(),V.dispose();return}});(0,u.Qs)(this._workerService,this._languageFeaturesService,Y,P,$,Y.getFormattingOptions(),w.token).then(R=>{w.token.isCancellationRequested||(0,b.Of)(R)&&(this._accessibleNotificationService.notify("format",!1),i.V.execute(this._editor,R,!0))}).finally(()=>{V.dispose()})}};L.ID="editor.contrib.autoFormat",L=y([C(1,d.p),C(2,o.p),C(3,f.VX)],L);let O=class{constructor($,Y,P){this.editor=$,this._languageFeaturesService=Y,this._instantiationService=P,this._callOnDispose=new c.SL,this._callOnModel=new c.SL,this._callOnDispose.add($.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add($.onDidChangeModel(()=>this._update())),this._callOnDispose.add($.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:$})=>this._trigger($)))}_trigger($){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(u.x$,this.editor,$,2,g.Ex.None,z.T.None,!1).catch(r.dL))}};O.ID="editor.contrib.formatOnPaste",O=y([C(1,d.p),C(2,S.TG)],O);class T extends _.R6{constructor(){super({id:"editor.action.formatDocument",label:n.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:a.Ao.and(p.u.notInCompositeEditor,p.u.writable,p.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run($,Y){return qt(this,null,function*(){if(Y.hasModel()){const P=$.get(S.TG);yield $.get(g.ek).showWhile(P.invokeFunction(u.Qq,Y,1,g.Ex.None,z.T.None,!0),250)}})}}class F extends _.R6{constructor(){super({id:"editor.action.formatSelection",label:n.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:a.Ao.and(p.u.writable,p.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,E.gx)(2089,2084),weight:100},contextMenuOpts:{when:p.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run($,Y){return qt(this,null,function*(){if(!Y.hasModel())return;const P=$.get(S.TG),w=Y.getModel(),V=Y.getSelections().map(A=>A.isEmpty()?new D.e(A.startLineNumber,1,A.startLineNumber,w.getLineMaxColumn(A.startLineNumber)):A);yield $.get(g.ek).showWhile(P.invokeFunction(u.x$,Y,V,1,g.Ex.None,z.T.None,!0),250)})}}(0,_._K)(L.ID,L,2),(0,_._K)(O.ID,O,2),(0,_.Qr)(T),(0,_.Qr)(F),v.P.registerCommand("editor.action.format",B=>qt(this,null,function*(){const $=B.get(I.$).getFocusedCodeEditor();if(!$||!$.hasModel())return;const Y=B.get(v.H);$.getSelection().isEmpty()?yield Y.executeCommand("editor.action.formatDocument"):yield Y.executeCommand("editor.action.formatSelection")}))},35120:function(Pt,Ke,e){"use strict";e.d(Ke,{V:function(){return E}});var b=e(69386),z=e(24314),r=e(43407);class E{static _handleEolEdits(_,I){let M;const D=[];for(const p of I)typeof p.eol=="number"&&(M=p.eol),p.range&&typeof p.text=="string"&&D.push(p);return typeof M=="number"&&_.hasModel()&&_.getModel().pushEOL(M),D}static _isFullModelReplaceEdit(_,I){if(!_.hasModel())return!1;const M=_.getModel(),D=M.validateRange(I.range);return M.getFullModelRange().equalsRange(D)}static execute(_,I,M){M&&_.pushUndoStop();const D=r.Z.capture(_),p=E._handleEolEdits(_,I);p.length===1&&E._isFullModelReplaceEdit(_,p[0])?_.executeEdits("formatEditsCommand",p.map(o=>b.h.replace(z.e.lift(o.range),o.text))):_.executeEdits("formatEditsCommand",p.map(o=>b.h.replaceMove(z.e.lift(o.range),o.text))),M&&_.pushUndoStop(),D.restoreRelativeVerticalPositionOfCursor(_)}}},10355:function(Pt,Ke,e){"use strict";e.d(Ke,{c:function(){return Oe},v:function(){return Me}});var b=e(73046),z=e(5976),r=e(16830),E=e(11640),c=e(50187),_=e(24314),I=e(29102),M=e(9488),D=e(4669),p=e(91741),o=e(97295),d=e(70666),u=e(65026),i=e(72065),n=e(98674),f=e(33108),v=function(je,Ae,Qe,rt){var Dt=arguments.length,at=Dt<3?Ae:rt===null?rt=Object.getOwnPropertyDescriptor(Ae,Qe):rt,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(je,Ae,Qe,rt);else for(var Mt=je.length-1;Mt>=0;Mt--)(vt=je[Mt])&&(at=(Dt<3?vt(at):Dt>3?vt(Ae,Qe,at):vt(Ae,Qe))||at);return Dt>3&&at&&Object.defineProperty(Ae,Qe,at),at},a=function(je,Ae){return function(Qe,rt){Ae(Qe,rt,je)}};class S{constructor(Ae,Qe,rt){this.marker=Ae,this.index=Qe,this.total=rt}}let g=class{constructor(Ae,Qe,rt){this._markerService=Qe,this._configService=rt,this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new z.SL,this._markers=[],this._nextIdx=-1,d.o.isUri(Ae)?this._resourceFilter=Mt=>Mt.toString()===Ae.toString():Ae&&(this._resourceFilter=Ae);const Dt=this._configService.getValue("problems.sortOrder"),at=(Mt,ti)=>{let Ft=(0,o.qu)(Mt.resource.toString(),ti.resource.toString());return Ft===0&&(Dt==="position"?Ft=_.e.compareRangesUsingStarts(Mt,ti)||n.ZL.compare(Mt.severity,ti.severity):Ft=n.ZL.compare(Mt.severity,ti.severity)||_.e.compareRangesUsingStarts(Mt,ti)),Ft},vt=()=>{this._markers=this._markerService.read({resource:d.o.isUri(Ae)?Ae:void 0,severities:n.ZL.Error|n.ZL.Warning|n.ZL.Info}),typeof Ae=="function"&&(this._markers=this._markers.filter(Mt=>this._resourceFilter(Mt.resource))),this._markers.sort(at)};vt(),this._dispoables.add(Qe.onMarkerChanged(Mt=>{(!this._resourceFilter||Mt.some(ti=>this._resourceFilter(ti)))&&(vt(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Ae){return!this._resourceFilter&&!Ae?!0:!this._resourceFilter||!Ae?!1:this._resourceFilter(Ae)}get selected(){const Ae=this._markers[this._nextIdx];return Ae&&new S(Ae,this._nextIdx+1,this._markers.length)}_initIdx(Ae,Qe,rt){let Dt=!1,at=this._markers.findIndex(vt=>vt.resource.toString()===Ae.uri.toString());at<0&&(at=(0,M.ry)(this._markers,{resource:Ae.uri},(vt,Mt)=>(0,o.qu)(vt.resource.toString(),Mt.resource.toString())),at<0&&(at=~at));for(let vt=at;vt<this._markers.length;vt++){let Mt=_.e.lift(this._markers[vt]);if(Mt.isEmpty()){const ti=Ae.getWordAtPosition(Mt.getStartPosition());ti&&(Mt=new _.e(Mt.startLineNumber,ti.startColumn,Mt.startLineNumber,ti.endColumn))}if(Qe&&(Mt.containsPosition(Qe)||Qe.isBeforeOrEqual(Mt.getStartPosition()))){this._nextIdx=vt,Dt=!0;break}if(this._markers[vt].resource.toString()!==Ae.uri.toString())break}Dt||(this._nextIdx=rt?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Ae,Qe,rt){if(this._markers.length===0)return!1;const Dt=this._nextIdx;return this._nextIdx===-1?this._initIdx(Qe,rt,Ae):Ae?this._nextIdx=(this._nextIdx+1)%this._markers.length:Ae||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Dt!==this._nextIdx}find(Ae,Qe){let rt=this._markers.findIndex(Dt=>Dt.resource.toString()===Ae.toString());if(!(rt<0)){for(;rt<this._markers.length;rt++)if(_.e.containsPosition(this._markers[rt],Qe))return new S(this._markers[rt],rt+1,this._markers.length)}}};g=v([a(1,n.lT),a(2,f.Ui)],g);const y=(0,i.yh)("IMarkerNavigationService");let C=class{constructor(Ae,Qe){this._markerService=Ae,this._configService=Qe,this._provider=new p.S}getMarkerList(Ae){for(const Qe of this._provider){const rt=Qe.getMarkerList(Ae);if(rt)return rt}return new g(Ae,this._markerService,this._configService)}};C=v([a(0,n.lT),a(1,f.Ui)],C),(0,u.z)(y,C,1);var L=e(63580),O=e(84144),T=e(32064),F=e(59554),B=e(65321),$=e(59740),Y=e(41264),P=e(95935),w=e(60865),V=e(80677),R=e(44349),A=e(50988),H=e(25670),U=e(14603),G;(function(je){function Ae(Qe){switch(Qe){case U.Z.Ignore:return"severity-ignore "+H.k.asClassName(b.l.info);case U.Z.Info:return H.k.asClassName(b.l.info);case U.Z.Warning:return H.k.asClassName(b.l.warning);case U.Z.Error:return H.k.asClassName(b.l.error);default:return""}}je.className=Ae})(G||(G={}));var j=e(73910),W=e(97781),K=function(je,Ae,Qe,rt){var Dt=arguments.length,at=Dt<3?Ae:rt===null?rt=Object.getOwnPropertyDescriptor(Ae,Qe):rt,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(je,Ae,Qe,rt);else for(var Mt=je.length-1;Mt>=0;Mt--)(vt=je[Mt])&&(at=(Dt<3?vt(at):Dt>3?vt(Ae,Qe,at):vt(Ae,Qe))||at);return Dt>3&&at&&Object.defineProperty(Ae,Qe,at),at},m=function(je,Ae){return function(Qe,rt){Ae(Qe,rt,je)}},J;class X{constructor(Ae,Qe,rt,Dt,at){this._openerService=Dt,this._labelService=at,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new z.SL,this._editor=Qe;const vt=document.createElement("div");vt.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),vt.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),vt.appendChild(this._relatedBlock),this._disposables.add(B.mu(this._relatedBlock,"click",Mt=>{Mt.preventDefault();const ti=this._relatedDiagnostics.get(Mt.target);ti&&rt(ti)})),this._scrollable=new $.NB(vt,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),Ae.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Mt=>{vt.style.left=`-${Mt.scrollLeft}px`,vt.style.top=`-${Mt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,z.B9)(this._disposables)}update(Ae){const{source:Qe,message:rt,relatedInformation:Dt,code:at}=Ae;let vt=((Qe==null?void 0:Qe.length)||0)+2;at&&(typeof at=="string"?vt+=at.length:vt+=at.value.length);const Mt=(0,o.uq)(rt);this._lines=Mt.length,this._longestLineLength=0;for(const Ct of Mt)this._longestLineLength=Math.max(Ct.length+vt,this._longestLineLength);B.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Ae)),this._editor.applyFontInfo(this._messageBlock);let ti=this._messageBlock;for(const Ct of Mt)ti=document.createElement("div"),ti.innerText=Ct,Ct===""&&(ti.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(ti);if(Qe||at){const Ct=document.createElement("span");if(Ct.classList.add("details"),ti.appendChild(Ct),Qe){const ft=document.createElement("span");ft.innerText=Qe,ft.classList.add("source"),Ct.appendChild(ft)}if(at)if(typeof at=="string"){const ft=document.createElement("span");ft.innerText=`(${at})`,ft.classList.add("code"),Ct.appendChild(ft)}else{this._codeLink=B.$("a.code-link"),this._codeLink.setAttribute("href",`${at.target.toString()}`),this._codeLink.onclick=Bt=>{this._openerService.open(at.target,{allowCommands:!0}),Bt.preventDefault(),Bt.stopPropagation()};const ft=B.R3(this._codeLink,B.$("span"));ft.innerText=at.value,Ct.appendChild(this._codeLink)}}if(B.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,M.Of)(Dt)){const Ct=this._relatedBlock.appendChild(document.createElement("div"));Ct.style.paddingTop=`${Math.floor(this._editor.getOption(66)*.66)}px`,this._lines+=1;for(const ft of Dt){const Bt=document.createElement("div"),kt=document.createElement("a");kt.classList.add("filename"),kt.innerText=`${this._labelService.getUriBasenameLabel(ft.resource)}(${ft.startLineNumber}, ${ft.startColumn}): `,kt.title=this._labelService.getUriLabel(ft.resource),this._relatedDiagnostics.set(kt,ft);const Ge=document.createElement("span");Ge.innerText=ft.message,Bt.appendChild(kt),Bt.appendChild(Ge),this._lines+=1,Ct.appendChild(Bt)}}const Ft=this._editor.getOption(50),ei=Math.ceil(Ft.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Xt=Ft.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:ei,scrollHeight:Xt})}layout(Ae,Qe){this._scrollable.getDomNode().style.height=`${Ae}px`,this._scrollable.getDomNode().style.width=`${Qe}px`,this._scrollable.setScrollDimensions({width:Qe,height:Ae})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Ae){let Qe="";switch(Ae.severity){case n.ZL.Error:Qe=L.NC("Error","Error");break;case n.ZL.Warning:Qe=L.NC("Warning","Warning");break;case n.ZL.Info:Qe=L.NC("Info","Info");break;case n.ZL.Hint:Qe=L.NC("Hint","Hint");break}let rt=L.NC("marker aria","{0} at {1}. ",Qe,Ae.startLineNumber+":"+Ae.startColumn);const Dt=this._editor.getModel();return Dt&&Ae.startLineNumber<=Dt.getLineCount()&&Ae.startLineNumber>=1&&(rt=`${Dt.getLineContent(Ae.startLineNumber)}, ${rt}`),rt}}let ie=J=class extends w.vk{constructor(Ae,Qe,rt,Dt,at,vt,Mt){super(Ae,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},at),this._themeService=Qe,this._openerService=rt,this._menuService=Dt,this._contextKeyService=vt,this._labelService=Mt,this._callOnDispose=new z.SL,this._onDidSelectRelatedInformation=new D.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=n.ZL.Warning,this._backgroundColor=Y.Il.white,this._applyTheme(Qe.getColorTheme()),this._callOnDispose.add(Qe.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Ae){this._backgroundColor=Ae.getColor(ze);let Qe=pe,rt=Te;this._severity===n.ZL.Warning?(Qe=De,rt=ae):this._severity===n.ZL.Info&&(Qe=Ne,rt=We);const Dt=Ae.getColor(Qe),at=Ae.getColor(rt);this.style({arrowColor:Dt,frameColor:Dt,headerBackgroundColor:at,primaryHeadingColor:Ae.getColor(w.IH),secondaryHeadingColor:Ae.getColor(w.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Ae){super._fillHead(Ae),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(Dt=>this.editor.focus()));const Qe=[],rt=this._menuService.createMenu(J.TitleMenu,this._contextKeyService);(0,V.vr)(rt,void 0,Qe),this._actionbarWidget.push(Qe,{label:!1,icon:!0,index:0}),rt.dispose()}_fillTitleIcon(Ae){this._icon=B.R3(Ae,B.$(""))}_fillBody(Ae){this._parentContainer=Ae,Ae.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Ae.appendChild(this._container),this._message=new X(this._container,this.editor,Qe=>this._onDidSelectRelatedInformation.fire(Qe),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Ae,Qe,rt){this._container.classList.remove("stale"),this._message.update(Ae),this._severity=Ae.severity,this._applyTheme(this._themeService.getColorTheme());const Dt=_.e.lift(Ae),at=this.editor.getPosition(),vt=at&&Dt.containsPosition(at)?at:Dt.getStartPosition();super.show(vt,this.computeRequiredHeight());const Mt=this.editor.getModel();if(Mt){const ti=rt>1?L.NC("problems","{0} of {1} problems",Qe,rt):L.NC("change","{0} of {1} problem",Qe,rt);this.setTitle((0,P.EZ)(Mt.uri),ti)}this._icon.className=`codicon ${G.className(n.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(vt,0),this.editor.focus()}updateMarker(Ae){this._container.classList.remove("stale"),this._message.update(Ae)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Ae,Qe){super._doLayoutBody(Ae,Qe),this._heightInPixel=Ae,this._message.layout(Ae,Qe),this._container.style.height=`${Ae}px`}_onWidth(Ae){this._message.layout(this._heightInPixel,Ae)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};ie.TitleMenu=new O.eH("gotoErrorTitleMenu"),ie=J=K([m(1,W.XE),m(2,A.v),m(3,O.co),m(4,i.TG),m(5,T.i6),m(6,R.e)],ie);const le=(0,j.kwl)(j.lXJ,j.b6y),fe=(0,j.kwl)(j.uoC,j.pW3),Le=(0,j.kwl)(j.c63,j.T83),pe=(0,j.P6G)("editorMarkerNavigationError.background",{dark:le,light:le,hcDark:j.lRK,hcLight:j.lRK},L.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Te=(0,j.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,j.ZnX)(pe,.1),light:(0,j.ZnX)(pe,.1),hcDark:null,hcLight:null},L.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),De=(0,j.P6G)("editorMarkerNavigationWarning.background",{dark:fe,light:fe,hcDark:j.lRK,hcLight:j.lRK},L.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),ae=(0,j.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,j.ZnX)(De,.1),light:(0,j.ZnX)(De,.1),hcDark:"#0C141F",hcLight:(0,j.ZnX)(De,.2)},L.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Ne=(0,j.P6G)("editorMarkerNavigationInfo.background",{dark:Le,light:Le,hcDark:j.lRK,hcLight:j.lRK},L.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),We=(0,j.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,j.ZnX)(Ne,.1),light:(0,j.ZnX)(Ne,.1),hcDark:null,hcLight:null},L.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),ze=(0,j.P6G)("editorMarkerNavigation.background",{dark:j.cvW,light:j.cvW,hcDark:j.cvW,hcLight:j.cvW},L.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Se=function(je,Ae,Qe,rt){var Dt=arguments.length,at=Dt<3?Ae:rt===null?rt=Object.getOwnPropertyDescriptor(Ae,Qe):rt,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(je,Ae,Qe,rt);else for(var Mt=je.length-1;Mt>=0;Mt--)(vt=je[Mt])&&(at=(Dt<3?vt(at):Dt>3?vt(Ae,Qe,at):vt(Ae,Qe))||at);return Dt>3&&at&&Object.defineProperty(Ae,Qe,at),at},ne=function(je,Ae){return function(Qe,rt){Ae(Qe,rt,je)}},ce;let Oe=ce=class{static get(Ae){return Ae.getContribution(ce.ID)}constructor(Ae,Qe,rt,Dt,at){this._markerNavigationService=Qe,this._contextKeyService=rt,this._editorService=Dt,this._instantiationService=at,this._sessionDispoables=new z.SL,this._editor=Ae,this._widgetVisible=ve.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Ae){if(this._model&&this._model.matches(Ae))return this._model;let Qe=!1;return this._model&&(Qe=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Ae),Qe&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(ie,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(rt=>{var Dt,at,vt;(!(!((Dt=this._model)===null||Dt===void 0)&&Dt.selected)||!_.e.containsPosition((at=this._model)===null||at===void 0?void 0:at.selected.marker,rt.position))&&((vt=this._model)===null||vt===void 0||vt.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const rt=this._model.find(this._editor.getModel().uri,this._widget.position);rt?this._widget.updateMarker(rt.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(rt=>{this._editorService.openCodeEditor({resource:rt.resource,options:{pinned:!0,revealIfOpened:!0,selection:_.e.lift(rt).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Ae=!0){this._cleanUp(),Ae&&this._editor.focus()}showAtMarker(Ae){if(this._editor.hasModel()){const Qe=this._getOrCreateModel(this._editor.getModel().uri);Qe.resetIndex(),Qe.move(!0,this._editor.getModel(),new c.L(Ae.startLineNumber,Ae.startColumn)),Qe.selected&&this._widget.showAtMarker(Qe.selected.marker,Qe.selected.index,Qe.selected.total)}}nagivate(Ae,Qe){return qt(this,null,function*(){var rt,Dt;if(this._editor.hasModel()){const at=this._getOrCreateModel(Qe?void 0:this._editor.getModel().uri);if(at.move(Ae,this._editor.getModel(),this._editor.getPosition()),!at.selected)return;if(at.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const vt=yield this._editorService.openCodeEditor({resource:at.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:at.selected.marker}},this._editor);vt&&((rt=ce.get(vt))===null||rt===void 0||rt.close(),(Dt=ce.get(vt))===null||Dt===void 0||Dt.nagivate(Ae,Qe))}else this._widget.showAtMarker(at.selected.marker,at.selected.index,at.selected.total)}})}};Oe.ID="editor.contrib.markerController",Oe=ce=Se([ne(1,y),ne(2,T.i6),ne(3,E.$),ne(4,i.TG)],Oe);class Pe extends r.R6{constructor(Ae,Qe,rt){super(rt),this._next=Ae,this._multiFile=Qe}run(Ae,Qe){return qt(this,null,function*(){var rt;Qe.hasModel()&&((rt=Oe.get(Qe))===null||rt===void 0||rt.nagivate(this._next,this._multiFile))})}}class Me extends Pe{constructor(){super(!0,!1,{id:Me.ID,label:Me.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:578,weight:100},menuOpts:{menuId:ie.TitleMenu,title:Me.LABEL,icon:(0,F.q5)("marker-navigation-next",b.l.arrowDown,L.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Me.ID="editor.action.marker.next",Me.LABEL=L.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class ye extends Pe{constructor(){super(!1,!1,{id:ye.ID,label:ye.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:1602,weight:100},menuOpts:{menuId:ie.TitleMenu,title:ye.LABEL,icon:(0,F.q5)("marker-navigation-previous",b.l.arrowUp,L.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}ye.ID="editor.action.marker.prev",ye.LABEL=L.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class _e extends Pe{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:L.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:66,weight:100},menuOpts:{menuId:O.eH.MenubarGoMenu,title:L.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class se extends Pe{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:L.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:1090,weight:100},menuOpts:{menuId:O.eH.MenubarGoMenu,title:L.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,r._K)(Oe.ID,Oe,4),(0,r.Qr)(Me),(0,r.Qr)(ye),(0,r.Qr)(_e),(0,r.Qr)(se);const ve=new T.uy("markersNavigationVisible",!1),xe=r._l.bindToContribution(Oe.get);(0,r.fK)(new xe({id:"closeMarkersNavigation",precondition:ve,handler:je=>je.close(),kbOpts:{weight:100+50,kbExpr:I.u.focus,primary:9,secondary:[1033]}}))},95817:function(Pt,Ke,e){"use strict";e.d(Ke,{BT:function(){return Ne},Bj:function(){return ae},_k:function(){return De}});var b=e(35996),z=e(15393),r=e(22258),E=e(98401),c=e(70666),_=e(14410),I=e(65520),M=e(16830),D=e(11640),p=e(84527),o=e(50187),d=e(24314),u=e(29102),i=e(43155),n=e(2444),f=e(1293),v=e(4669),a=e(5976),S=e(95935),g=e(63580),y=e(32064),C=e(65026),L=e(72065),O=e(91847),T=e(49989),F=e(48894),B=function(Oe,Pe,Me,ye){var _e=arguments.length,se=_e<3?Pe:ye===null?ye=Object.getOwnPropertyDescriptor(Pe,Me):ye,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Oe,Pe,Me,ye);else for(var xe=Oe.length-1;xe>=0;xe--)(ve=Oe[xe])&&(se=(_e<3?ve(se):_e>3?ve(Pe,Me,se):ve(Pe,Me))||se);return _e>3&&se&&Object.defineProperty(Pe,Me,se),se},$=function(Oe,Pe){return function(Me,ye){Pe(Me,ye,Oe)}};const Y=new y.uy("hasSymbols",!1,(0,g.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),P=(0,L.yh)("ISymbolNavigationService");let w=class{constructor(Pe,Me,ye,_e){this._editorService=Me,this._notificationService=ye,this._keybindingService=_e,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Y.bindTo(Pe)}reset(){var Pe,Me;this._ctxHasSymbols.reset(),(Pe=this._currentState)===null||Pe===void 0||Pe.dispose(),(Me=this._currentMessage)===null||Me===void 0||Me.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Pe){const Me=Pe.parent.parent;if(Me.references.length<=1){this.reset();return}this._currentModel=Me,this._currentIdx=Me.references.indexOf(Pe),this._ctxHasSymbols.set(!0),this._showMessage();const ye=new V(this._editorService),_e=ye.onDidChange(se=>{if(this._ignoreEditorChange)return;const ve=this._editorService.getActiveCodeEditor();if(!ve)return;const xe=ve.getModel(),je=ve.getPosition();if(!xe||!je)return;let Ae=!1,Qe=!1;for(const rt of Me.references)if((0,S.Xy)(rt.uri,xe.uri))Ae=!0,Qe=Qe||d.e.containsPosition(rt.range,je);else if(Ae)break;(!Ae||!Qe)&&this.reset()});this._currentState=(0,a.F8)(ye,_e)}revealNext(Pe){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Me=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Me.uri,options:{selection:d.e.collapseToStart(Me.range),selectionRevealType:3}},Pe).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Pe;(Pe=this._currentMessage)===null||Pe===void 0||Pe.dispose();const Me=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),ye=Me?(0,g.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Me.getLabel()):(0,g.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(ye)}};w=B([$(0,y.i6),$(1,D.$),$(2,F.lT),$(3,O.d)],w),(0,C.z)(P,w,1),(0,M.fK)(new class extends M._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Y,kbOpts:{weight:100,primary:70}})}runEditorCommand(Oe,Pe){return Oe.get(P).revealNext(Pe)}}),T.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Y,primary:9,handler(Oe){Oe.get(P).reset()}});let V=class{constructor(Pe){this._listener=new Map,this._disposables=new a.SL,this._onDidChange=new v.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Pe.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Pe.onCodeEditorAdd(this._onDidAddEditor,this)),Pe.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,a.B9)(this._listener.values())}_onDidAddEditor(Pe){this._listener.set(Pe,(0,a.F8)(Pe.onDidChangeCursorPosition(Me=>this._onDidChange.fire({editor:Pe})),Pe.onDidChangeModelContent(Me=>this._onDidChange.fire({editor:Pe}))))}_onDidRemoveEditor(Pe){var Me;(Me=this._listener.get(Pe))===null||Me===void 0||Me.dispose(),this._listener.delete(Pe)}};V=B([$(0,D.$)],V);var R=e(27863),A=e(60865),H=e(84144),U=e(94565),G=e(90535),j=e(40184),W=e(71922),K=e(53725),m=e(39282),J,X,ie,le,fe,Le,pe,Te;H.BH.appendMenuItem(H.eH.EditorContext,{submenu:H.eH.EditorContextPeek,title:g.NC("peek.submenu","Peek"),group:"navigation",order:100});class De{static is(Pe){return!Pe||typeof Pe!="object"?!1:!!(Pe instanceof De||o.L.isIPosition(Pe.position)&&Pe.model)}constructor(Pe,Me){this.model=Pe,this.position=Me}}class ae extends M.x1{static all(){return ae._allSymbolNavigationCommands.values()}static _patchConfig(Pe){const Me=Ln(Xi({},Pe),{f1:!0});if(Me.menu)for(const ye of K.$.wrap(Me.menu))(ye.id===H.eH.EditorContext||ye.id===H.eH.EditorContextPeek)&&(ye.when=y.Ao.and(Pe.precondition,ye.when));return Me}constructor(Pe,Me){super(ae._patchConfig(Me)),this.configuration=Pe,ae._allSymbolNavigationCommands.set(Me.id,this)}runEditorCommand(Pe,Me,ye,_e){if(!Me.hasModel())return Promise.resolve(void 0);const se=Pe.get(F.lT),ve=Pe.get(D.$),xe=Pe.get(G.ek),je=Pe.get(P),Ae=Pe.get(W.p),Qe=Pe.get(L.TG),rt=Me.getModel(),Dt=Me.getPosition(),at=De.is(ye)?ye:new De(rt,Dt),vt=new _.Dl(Me,5),Mt=(0,z.eP)(this._getLocationModel(Ae,at.model,at.position,vt.token),vt.token).then(ti=>qt(this,null,function*(){var Ft;if(!ti||vt.token.isCancellationRequested)return;(0,b.Z9)(ti.ariaMessage);let ei;if(ti.referenceAt(rt.uri,Dt)){const Ct=this._getAlternativeCommand(Me);!ae._activeAlternativeCommands.has(Ct)&&ae._allSymbolNavigationCommands.has(Ct)&&(ei=ae._allSymbolNavigationCommands.get(Ct))}const Xt=ti.references.length;if(Xt===0){if(!this.configuration.muteMessage){const Ct=rt.getWordAtPosition(Dt);(Ft=R.O.get(Me))===null||Ft===void 0||Ft.showMessage(this._getNoResultFoundMessage(Ct),Dt)}}else if(Xt===1&&ei)ae._activeAlternativeCommands.add(this.desc.id),Qe.invokeFunction(Ct=>ei.runEditorCommand(Ct,Me,ye,_e).finally(()=>{ae._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ve,je,Me,ti,_e)}),ti=>{se.error(ti)}).finally(()=>{vt.dispose()});return xe.showWhile(Mt,250),Mt}_onResult(Pe,Me,ye,_e,se){return qt(this,null,function*(){const ve=this._getGoToPreference(ye);if(!(ye instanceof p.H)&&(this.configuration.openInPeek||ve==="peek"&&_e.references.length>1))this._openInPeek(ye,_e,se);else{const xe=_e.firstReference(),je=_e.references.length>1&&ve==="gotoAndPeek",Ae=yield this._openReference(ye,Pe,xe,this.configuration.openToSide,!je);je&&Ae?this._openInPeek(Ae,_e,se):_e.dispose(),ve==="goto"&&Me.put(xe)}})}_openReference(Pe,Me,ye,_e,se){return qt(this,null,function*(){let ve;if((0,i.vx)(ye)&&(ve=ye.targetSelectionRange),ve||(ve=ye.range),!ve)return;const xe=yield Me.openCodeEditor({resource:ye.uri,options:{selection:d.e.collapseToStart(ve),selectionRevealType:3,selectionSource:"code.jump"}},Pe,_e);if(xe){if(se){const je=xe.getModel(),Ae=xe.createDecorationsCollection([{range:ve,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{xe.getModel()===je&&Ae.clear()},350)}return xe}})}_openInPeek(Pe,Me,ye){const _e=n.J.get(Pe);_e&&Pe.hasModel()?_e.toggleWidget(ye!=null?ye:Pe.getSelection(),(0,z.PG)(se=>Promise.resolve(Me)),this.configuration.openInPeek):Me.dispose()}}ae._allSymbolNavigationCommands=new Map,ae._activeAlternativeCommands=new Set;class Ne extends ae{_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(yield(0,j.nD)(Pe.definitionProvider,Me,ye,_e),g.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Pe){return Pe&&Pe.word?g.NC("noResultWord","No definition found for '{0}'",Pe.word):g.NC("generic.noResults","No definition found")}_getAlternativeCommand(Pe){return Pe.getOption(58).alternativeDefinitionCommand}_getGoToPreference(Pe){return Pe.getOption(58).multipleDefinitions}}(0,H.r1)((J=class extends Ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:J.id,title:{value:g.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:g.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:y.Ao.and(u.u.hasDefinitionProvider,u.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:u.u.editorTextFocus,primary:70,weight:100},{when:y.Ao.and(u.u.editorTextFocus,m.Pf),primary:2118,weight:100}],menu:[{id:H.eH.EditorContext,group:"navigation",order:1.1},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),U.P.registerCommandAlias("editor.action.goToDeclaration",J.id)}},J.id="editor.action.revealDefinition",J)),(0,H.r1)((X=class extends Ne{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:X.id,title:{value:g.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:y.Ao.and(u.u.hasDefinitionProvider,u.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:u.u.editorTextFocus,primary:(0,r.gx)(2089,70),weight:100},{when:y.Ao.and(u.u.editorTextFocus,m.Pf),primary:(0,r.gx)(2089,2118),weight:100}]}),U.P.registerCommandAlias("editor.action.openDeclarationToTheSide",X.id)}},X.id="editor.action.revealDefinitionAside",X)),(0,H.r1)((ie=class extends Ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ie.id,title:{value:g.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:y.Ao.and(u.u.hasDefinitionProvider,A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:u.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:H.eH.EditorContextPeek,group:"peek",order:2}}),U.P.registerCommandAlias("editor.action.previewDeclaration",ie.id)}},ie.id="editor.action.peekDefinition",ie));class We extends ae{_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(yield(0,j.zq)(Pe.declarationProvider,Me,ye,_e),g.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Pe){return Pe&&Pe.word?g.NC("decl.noResultWord","No declaration found for '{0}'",Pe.word):g.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Pe){return Pe.getOption(58).alternativeDeclarationCommand}_getGoToPreference(Pe){return Pe.getOption(58).multipleDeclarations}}(0,H.r1)((le=class extends We{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:le.id,title:{value:g.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:g.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:y.Ao.and(u.u.hasDeclarationProvider,u.u.isInWalkThroughSnippet.toNegated()),menu:[{id:H.eH.EditorContext,group:"navigation",order:1.3},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Pe){return Pe&&Pe.word?g.NC("decl.noResultWord","No declaration found for '{0}'",Pe.word):g.NC("decl.generic.noResults","No declaration found")}},le.id="editor.action.revealDeclaration",le)),(0,H.r1)(class extends We{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:g.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:y.Ao.and(u.u.hasDeclarationProvider,A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated()),menu:{id:H.eH.EditorContextPeek,group:"peek",order:3}})}});class ze extends ae{_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(yield(0,j.L3)(Pe.typeDefinitionProvider,Me,ye,_e),g.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Pe){return Pe&&Pe.word?g.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Pe.word):g.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Pe){return Pe.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(Pe){return Pe.getOption(58).multipleTypeDefinitions}}(0,H.r1)((fe=class extends ze{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:fe.ID,title:{value:g.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:g.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:y.Ao.and(u.u.hasTypeDefinitionProvider,u.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:u.u.editorTextFocus,primary:0,weight:100},menu:[{id:H.eH.EditorContext,group:"navigation",order:1.4},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},fe.ID="editor.action.goToTypeDefinition",fe)),(0,H.r1)((Le=class extends ze{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Le.ID,title:{value:g.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:y.Ao.and(u.u.hasTypeDefinitionProvider,A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated()),menu:{id:H.eH.EditorContextPeek,group:"peek",order:4}})}},Le.ID="editor.action.peekTypeDefinition",Le));class Se extends ae{_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(yield(0,j.f4)(Pe.implementationProvider,Me,ye,_e),g.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Pe){return Pe&&Pe.word?g.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Pe.word):g.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Pe){return Pe.getOption(58).alternativeImplementationCommand}_getGoToPreference(Pe){return Pe.getOption(58).multipleImplementations}}(0,H.r1)((pe=class extends Se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:pe.ID,title:{value:g.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:g.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:y.Ao.and(u.u.hasImplementationProvider,u.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:u.u.editorTextFocus,primary:2118,weight:100},menu:[{id:H.eH.EditorContext,group:"navigation",order:1.45},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},pe.ID="editor.action.goToImplementation",pe)),(0,H.r1)((Te=class extends Se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Te.ID,title:{value:g.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:y.Ao.and(u.u.hasImplementationProvider,A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:u.u.editorTextFocus,primary:3142,weight:100},menu:{id:H.eH.EditorContextPeek,group:"peek",order:5}})}},Te.ID="editor.action.peekImplementation",Te));class ne extends ae{_getNoResultFoundMessage(Pe){return Pe?g.NC("references.no","No references found for '{0}'",Pe.word):g.NC("references.noGeneric","No references found")}_getAlternativeCommand(Pe){return Pe.getOption(58).alternativeReferenceCommand}_getGoToPreference(Pe){return Pe.getOption(58).multipleReferences}}(0,H.r1)(class extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:g.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:g.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:y.Ao.and(u.u.hasReferenceProvider,A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:u.u.editorTextFocus,primary:1094,weight:100},menu:[{id:H.eH.EditorContext,group:"navigation",order:1.45},{id:H.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(yield(0,j.aA)(Pe.referenceProvider,Me,ye,!0,_e),g.NC("ref.title","References"))})}}),(0,H.r1)(class extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:g.NC("references.action.label","Peek References"),original:"Peek References"},precondition:y.Ao.and(u.u.hasReferenceProvider,A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated()),menu:{id:H.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(yield(0,j.aA)(Pe.referenceProvider,Me,ye,!1,_e),g.NC("ref.title","References"))})}});class ce extends ae{constructor(Pe,Me,ye){super(Pe,{id:"editor.action.goToLocation",title:{value:g.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:y.Ao.and(A.Jy.notInPeekEditor,u.u.isInWalkThroughSnippet.toNegated())}),this._references=Me,this._gotoMultipleBehaviour=ye}_getLocationModel(Pe,Me,ye,_e){return qt(this,null,function*(){return new f.oQ(this._references,g.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Pe){return Pe&&g.NC("generic.noResult","No results for '{0}'",Pe.word)||""}_getGoToPreference(Pe){var Me;return(Me=this._gotoMultipleBehaviour)!==null&&Me!==void 0?Me:Pe.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}U.P.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.o},{name:"position",description:"The position at which to start",constraint:o.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Oe,Pe,Me,ye,_e,se,ve)=>qt(this,null,function*(){(0,E.p_)(c.o.isUri(Pe)),(0,E.p_)(o.L.isIPosition(Me)),(0,E.p_)(Array.isArray(ye)),(0,E.p_)(typeof _e=="undefined"||typeof _e=="string"),(0,E.p_)(typeof ve=="undefined"||typeof ve=="boolean");const xe=Oe.get(D.$),je=yield xe.openCodeEditor({resource:Pe},xe.getFocusedCodeEditor());if((0,I.CL)(je))return je.setPosition(Me),je.revealPositionInCenterIfOutsideViewport(Me,0),je.invokeWithinContext(Ae=>{const Qe=new class extends ce{_getNoResultFoundMessage(rt){return se||super._getNoResultFoundMessage(rt)}}({muteMessage:!se,openInPeek:!!ve,openToSide:!1},ye,_e);Ae.get(L.TG).invokeFunction(Qe.run.bind(Qe),je)})})}),U.P.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.o},{name:"position",description:"The position at which to start",constraint:o.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Oe,Pe,Me,ye,_e)=>qt(this,null,function*(){Oe.get(U.H).executeCommand("editor.action.goToLocations",Pe,Me,ye,_e,void 0,!0)})}),U.P.registerCommand({id:"editor.action.findReferences",handler:(Oe,Pe,Me)=>{(0,E.p_)(c.o.isUri(Pe)),(0,E.p_)(o.L.isIPosition(Me));const ye=Oe.get(W.p),_e=Oe.get(D.$);return _e.openCodeEditor({resource:Pe},_e.getFocusedCodeEditor()).then(se=>{if(!(0,I.CL)(se)||!se.hasModel())return;const ve=n.J.get(se);if(!ve)return;const xe=(0,z.PG)(Ae=>(0,j.aA)(ye.referenceProvider,se.getModel(),o.L.lift(Me),!1,Ae).then(Qe=>new f.oQ(Qe,g.NC("ref.title","References")))),je=new d.e(Me.lineNumber,Me.column,Me.lineNumber,Me.column);return Promise.resolve(ve.toggleWidget(je,xe,!1))})}}),U.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},40184:function(Pt,Ke,e){"use strict";e.d(Ke,{L3:function(){return o},aA:function(){return d},f4:function(){return p},nD:function(){return M},zq:function(){return D}});var b=e(9488),z=e(71050),r=e(17301),E=e(16830),c=e(71922),_=e(1293);function I(i,n,f,v){return qt(this,null,function*(){const S=f.ordered(i).map(y=>Promise.resolve(v(y,i,n)).then(void 0,C=>{(0,r.Cp)(C)})),g=yield Promise.all(S);return(0,b.kX)(g.flat())})}function M(i,n,f,v){return I(n,f,i,(a,S,g)=>a.provideDefinition(S,g,v))}function D(i,n,f,v){return I(n,f,i,(a,S,g)=>a.provideDeclaration(S,g,v))}function p(i,n,f,v){return I(n,f,i,(a,S,g)=>a.provideImplementation(S,g,v))}function o(i,n,f,v){return I(n,f,i,(a,S,g)=>a.provideTypeDefinition(S,g,v))}function d(i,n,f,v,a){return I(n,f,i,(S,g,y)=>qt(this,null,function*(){const C=yield S.provideReferences(g,y,{includeDeclaration:!0},a);if(!v||!C||C.length!==2)return C;const L=yield S.provideReferences(g,y,{includeDeclaration:!1},a);return L&&L.length===1?L:C}))}function u(i){return qt(this,null,function*(){const n=yield i(),f=new _.oQ(n,""),v=f.references.map(a=>a.link);return f.dispose(),v})}(0,E.sb)("_executeDefinitionProvider",(i,n,f)=>{const v=i.get(c.p),a=M(v.definitionProvider,n,f,z.T.None);return u(()=>a)}),(0,E.sb)("_executeTypeDefinitionProvider",(i,n,f)=>{const v=i.get(c.p),a=o(v.typeDefinitionProvider,n,f,z.T.None);return u(()=>a)}),(0,E.sb)("_executeDeclarationProvider",(i,n,f)=>{const v=i.get(c.p),a=D(v.declarationProvider,n,f,z.T.None);return u(()=>a)}),(0,E.sb)("_executeReferenceProvider",(i,n,f)=>{const v=i.get(c.p),a=d(v.referenceProvider,n,f,!1,z.T.None);return u(()=>a)}),(0,E.sb)("_executeImplementationProvider",(i,n,f)=>{const v=i.get(c.p),a=p(v.implementationProvider,n,f,z.T.None);return u(()=>a)})},82005:function(Pt,Ke,e){"use strict";e.d(Ke,{yN:function(){return D}});var b=e(4669),z=e(5976),r=e(1432);function E(p,o){return!!p[o]}class c{constructor(o,d){this.target=o.target,this.isLeftClick=o.event.leftButton,this.isMiddleClick=o.event.middleButton,this.isRightClick=o.event.rightButton,this.hasTriggerModifier=E(o.event,d.triggerModifier),this.hasSideBySideModifier=E(o.event,d.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}}class _{constructor(o,d){this.keyCodeIsTriggerKey=o.keyCode===d.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===d.triggerSideBySideKey,this.hasTriggerModifier=E(o,d.triggerModifier)}}class I{constructor(o,d,u,i){this.triggerKey=o,this.triggerModifier=d,this.triggerSideBySideKey=u,this.triggerSideBySideModifier=i}equals(o){return this.triggerKey===o.triggerKey&&this.triggerModifier===o.triggerModifier&&this.triggerSideBySideKey===o.triggerSideBySideKey&&this.triggerSideBySideModifier===o.triggerSideBySideModifier}}function M(p){return p==="altKey"?r.dz?new I(57,"metaKey",6,"altKey"):new I(5,"ctrlKey",6,"altKey"):r.dz?new I(6,"altKey",57,"metaKey"):new I(6,"altKey",5,"ctrlKey")}class D extends z.JT{constructor(o,d){var u;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new b.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new b.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new b.Q5),this.onCancel=this._onCancel.event,this._editor=o,this._extractLineNumberFromMouseEvent=(u=d==null?void 0:d.extractLineNumberFromMouseEvent)!==null&&u!==void 0?u:i=>i.target.position?i.target.position.lineNumber:0,this._opts=M(this._editor.getOption(77)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(i=>{if(i.hasChanged(77)){const n=M(this._editor.getOption(77));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(i=>this._onEditorMouseMove(new c(i,this._opts)))),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(new c(i,this._opts)))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(new c(i,this._opts)))),this._register(this._editor.onKeyDown(i=>this._onEditorKeyDown(new _(i,this._opts)))),this._register(this._editor.onKeyUp(i=>this._onEditorKeyUp(new _(i,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(i=>this._onDidChangeCursorSelection(i))),this._register(this._editor.onDidChangeModel(i=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(i=>{(i.scrollTopChanged||i.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(o){o.selection&&o.selection.startColumn!==o.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(o){this._lastMouseMoveEvent=o,this._onMouseMoveOrRelevantKeyDown.fire([o,null])}_onEditorMouseDown(o){this._hasTriggerKeyOnMouseDown=o.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(o)}_onEditorMouseUp(o){const d=this._extractLineNumberFromMouseEvent(o);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===d&&this._onExecute.fire(o)}_onEditorKeyDown(o){this._lastMouseMoveEvent&&(o.keyCodeIsTriggerKey||o.keyCodeIsSideBySideKey&&o.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,o]):o.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(o){o.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},56334:function(Pt,Ke,e){"use strict";e.d(Ke,{S:function(){return y}});var b=e(15393),z=e(17301),r=e(59365),E=e(5976),c=e(14410),_=e(16830),I=e(24314),M=e(72042),D=e(88216),p=e(82005),o=e(60865),d=e(63580),u=e(32064),i=e(95817),n=e(40184),f=e(71922),v=e(84901),a=function(C,L,O,T){var F=arguments.length,B=F<3?L:T===null?T=Object.getOwnPropertyDescriptor(L,O):T,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,L,O,T);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(B=(F<3?$(B):F>3?$(L,O,B):$(L,O))||B);return F>3&&B&&Object.defineProperty(L,O,B),B},S=function(C,L){return function(O,T){L(O,T,C)}},g;let y=g=class{constructor(L,O,T,F){this.textModelResolverService=O,this.languageService=T,this.languageFeaturesService=F,this.toUnhook=new E.SL,this.toUnhookForKeyboard=new E.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=L,this.linkDecorations=this.editor.createDecorationsCollection();const B=new p.yN(L);this.toUnhook.add(B),this.toUnhook.add(B.onMouseMoveOrRelevantKeyDown(([$,Y])=>{this.startFindDefinitionFromMouse($,Y!=null?Y:void 0)})),this.toUnhook.add(B.onExecute($=>{this.isEnabled($)&&this.gotoDefinition($.target.position,$.hasSideBySideModifier).catch(Y=>{(0,z.dL)(Y)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(B.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(L){return L.getContribution(g.ID)}startFindDefinitionFromCursor(L){return qt(this,null,function*(){yield this.startFindDefinition(L),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(O=>{O&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(L,O){if(L.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(L,O)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const T=L.target.position;this.startFindDefinition(T)}startFindDefinition(L){return qt(this,null,function*(){var O;this.toUnhookForKeyboard.clear();const T=L?(O=this.editor.getModel())===null||O===void 0?void 0:O.getWordAtPosition(L):null;if(!T){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===T.startColumn&&this.currentWordAtPosition.endColumn===T.endColumn&&this.currentWordAtPosition.word===T.word)return;this.currentWordAtPosition=T;const F=new c.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,b.PG)(Y=>this.findDefinition(L,Y));let B;try{B=yield this.previousPromise}catch(Y){(0,z.dL)(Y);return}if(!B||!B.length||!F.validate(this.editor)){this.removeLinkDecorations();return}const $=B[0].originSelectionRange?I.e.lift(B[0].originSelectionRange):new I.e(L.lineNumber,T.startColumn,L.lineNumber,T.endColumn);if(B.length>1){let Y=$;for(const{originSelectionRange:P}of B)P&&(Y=I.e.plusRange(Y,P));this.addDecoration(Y,new r.W5().appendText(d.NC("multipleResults","Click to show {0} definitions.",B.length)))}else{const Y=B[0];if(!Y.uri)return;this.textModelResolverService.createModelReference(Y.uri).then(P=>{if(!P.object||!P.object.textEditorModel){P.dispose();return}const{object:{textEditorModel:w}}=P,{startLineNumber:V}=Y.range;if(V<1||V>w.getLineCount()){P.dispose();return}const R=this.getPreviewValue(w,V,Y),A=this.languageService.guessLanguageIdByFilepathOrFirstLine(w.uri);this.addDecoration($,R?new r.W5().appendCodeblock(A||"",R):void 0),P.dispose()})}})}getPreviewValue(L,O,T){let F=T.range;return F.endLineNumber-F.startLineNumber>=g.MAX_SOURCE_PREVIEW_LINES&&(F=this.getPreviewRangeBasedOnIndentation(L,O)),this.stripIndentationFromPreviewRange(L,O,F)}stripIndentationFromPreviewRange(L,O,T){let B=L.getLineFirstNonWhitespaceColumn(O);for(let Y=O+1;Y<T.endLineNumber;Y++){const P=L.getLineFirstNonWhitespaceColumn(Y);B=Math.min(B,P)}return L.getValueInRange(T).replace(new RegExp(`^\\s{${B-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(L,O){const T=L.getLineFirstNonWhitespaceColumn(O),F=Math.min(L.getLineCount(),O+g.MAX_SOURCE_PREVIEW_LINES);let B=O+1;for(;B<F;B++){const $=L.getLineFirstNonWhitespaceColumn(B);if(T===$)break}return new I.e(O,1,B+1,1)}addDecoration(L,O){const T={range:L,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:O}};this.linkDecorations.set([T])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(L,O){var T;return this.editor.hasModel()&&L.isLeftClick&&L.isNoneOrSingleMouseDown&&L.target.type===6&&!(((T=L.target.detail.injectedText)===null||T===void 0?void 0:T.options)instanceof v.HS)&&(L.hasTriggerModifier||(O?O.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(L,O){const T=this.editor.getModel();return T?(0,n.nD)(this.languageFeaturesService.definitionProvider,T,L,O):Promise.resolve(null)}gotoDefinition(L,O){return this.editor.setPosition(L),this.editor.invokeWithinContext(T=>{const F=!O&&this.editor.getOption(87)&&!this.isInPeekEditor(T);return new i.BT({openToSide:O,openInPeek:F,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(T)})}isInPeekEditor(L){const O=L.get(u.i6);return o.Jy.inPeekEditor.getValue(O)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};y.ID="editor.contrib.gotodefinitionatposition",y.MAX_SOURCE_PREVIEW_LINES=8,y=g=a([S(1,D.S),S(2,M.O),S(3,f.p)],y),(0,_._K)(y.ID,y,2)},2444:function(Pt,Ke,e){"use strict";e.d(Ke,{J:function(){return _e}});var b=e(15393),z=e(17301),r=e(22258),E=e(5976),c=e(11640),_=e(50187),I=e(24314),M=e(60865),D=e(63580),p=e(94565),o=e(33108),d=e(32064),u=e(72065),i=e(49989),n=e(14107),f=e(48894),v=e(87060),a=e(1293),S=e(65321),g=e(33225),y=e(41264),C=e(4669),L=e(66663),O=e(95935),T=e(84527),F=e(84901),B=e(4256),$=e(68801),Y=e(72042),P=e(88216),w=e(85207),V=e(34650),R=e(93923),A=e(60075),H=e(91847),U=e(44349),G=e(86253),j=function(ve,xe,je,Ae){var Qe=arguments.length,rt=Qe<3?xe:Ae===null?Ae=Object.getOwnPropertyDescriptor(xe,je):Ae,Dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ve,xe,je,Ae);else for(var at=ve.length-1;at>=0;at--)(Dt=ve[at])&&(rt=(Qe<3?Dt(rt):Qe>3?Dt(xe,je,rt):Dt(xe,je))||rt);return Qe>3&&rt&&Object.defineProperty(xe,je,rt),rt},W=function(ve,xe){return function(je,Ae){xe(je,Ae,ve)}},K;let m=class{constructor(xe){this._resolverService=xe}hasChildren(xe){return xe instanceof a.oQ||xe instanceof a.F2}getChildren(xe){if(xe instanceof a.oQ)return xe.groups;if(xe instanceof a.F2)return xe.resolve(this._resolverService).then(je=>je.children);throw new Error("bad tree")}};m=j([W(0,P.S)],m);class J{getHeight(){return 23}getTemplateId(xe){return xe instanceof a.F2?fe.id:pe.id}}let X=class{constructor(xe){this._keybindingService=xe}getKeyboardNavigationLabel(xe){var je;if(xe instanceof a.WX){const Ae=(je=xe.parent.getPreview(xe))===null||je===void 0?void 0:je.preview(xe.range);if(Ae)return Ae.value}return(0,O.EZ)(xe.uri)}};X=j([W(0,H.d)],X);class ie{getId(xe){return xe instanceof a.WX?xe.id:xe.uri}}let le=class extends E.JT{constructor(xe,je){super(),this._labelService=je;const Ae=document.createElement("div");Ae.classList.add("reference-file"),this.file=this._register(new R.g(Ae,{supportHighlights:!0})),this.badge=new w.Z(S.R3(Ae,S.$(".count")),{},G.ku),xe.appendChild(Ae)}set(xe,je){const Ae=(0,O.XX)(xe.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(xe.uri),this._labelService.getUriLabel(Ae,{relative:!0}),{title:this._labelService.getUriLabel(xe.uri),matches:je});const Qe=xe.children.length;this.badge.setCount(Qe),Qe>1?this.badge.setTitleFormat((0,D.NC)("referencesCount","{0} references",Qe)):this.badge.setTitleFormat((0,D.NC)("referenceCount","{0} reference",Qe))}};le=j([W(1,U.e)],le);let fe=K=class{constructor(xe){this._instantiationService=xe,this.templateId=K.id}renderTemplate(xe){return this._instantiationService.createInstance(le,xe)}renderElement(xe,je,Ae){Ae.set(xe.element,(0,A.mB)(xe.filterData))}disposeTemplate(xe){xe.dispose()}};fe.id="FileReferencesRenderer",fe=K=j([W(0,u.TG)],fe);class Le{constructor(xe){this.label=new V.q(xe)}set(xe,je){var Ae;const Qe=(Ae=xe.parent.getPreview(xe))===null||Ae===void 0?void 0:Ae.preview(xe.range);if(!Qe||!Qe.value)this.label.set(`${(0,O.EZ)(xe.uri)}:${xe.range.startLineNumber+1}:${xe.range.startColumn+1}`);else{const{value:rt,highlight:Dt}=Qe;je&&!A.CL.isDefault(je)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(rt,(0,A.mB)(je))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(rt,[Dt]))}}}class pe{constructor(){this.templateId=pe.id}renderTemplate(xe){return new Le(xe)}renderElement(xe,je,Ae){Ae.set(xe.element,xe.filterData)}disposeTemplate(){}}pe.id="OneReferenceRenderer";class Te{getWidgetAriaLabel(){return(0,D.NC)("treeAriaLabel","References")}getAriaLabel(xe){return xe.ariaMessage}}var De=e(97781),ae=e(64862),Ne=function(ve,xe,je,Ae){var Qe=arguments.length,rt=Qe<3?xe:Ae===null?Ae=Object.getOwnPropertyDescriptor(xe,je):Ae,Dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ve,xe,je,Ae);else for(var at=ve.length-1;at>=0;at--)(Dt=ve[at])&&(rt=(Qe<3?Dt(rt):Qe>3?Dt(xe,je,rt):Dt(xe,je))||rt);return Qe>3&&rt&&Object.defineProperty(xe,je,rt),rt},We=function(ve,xe){return function(je,Ae){xe(je,Ae,ve)}};class ze{constructor(xe,je){this._editor=xe,this._model=je,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new E.SL,this._callOnModelChange=new E.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const xe=this._editor.getModel();if(xe){for(const je of this._model.references)if(je.uri.toString()===xe.uri.toString()){this._addDecorations(je.parent);return}}}_addDecorations(xe){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const je=[],Ae=[];for(let Qe=0,rt=xe.children.length;Qe<rt;Qe++){const Dt=xe.children[Qe];this._decorationIgnoreSet.has(Dt.id)||Dt.uri.toString()===this._editor.getModel().uri.toString()&&(je.push({range:Dt.range,options:ze.DecorationOptions}),Ae.push(Qe))}this._editor.changeDecorations(Qe=>{const rt=Qe.deltaDecorations([],je);for(let Dt=0;Dt<rt.length;Dt++)this._decorations.set(rt[Dt],xe.children[Ae[Dt]])})}_onDecorationChanged(){const xe=[],je=this._editor.getModel();if(je){for(const[Ae,Qe]of this._decorations){const rt=je.getDecorationRange(Ae);if(!rt)continue;let Dt=!1;if(!I.e.equalsRange(rt,Qe.range)){if(I.e.spansMultipleLines(rt))Dt=!0;else{const at=Qe.range.endColumn-Qe.range.startColumn,vt=rt.endColumn-rt.startColumn;at!==vt&&(Dt=!0)}Dt?(this._decorationIgnoreSet.add(Qe.id),xe.push(Ae)):Qe.range=rt}}for(let Ae=0,Qe=xe.length;Ae<Qe;Ae++)this._decorations.delete(xe[Ae]);this._editor.removeDecorations(xe)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ze.DecorationOptions=F.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Se{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(xe){let je,Ae;try{const Qe=JSON.parse(xe);je=Qe.ratio,Ae=Qe.heightInLines}catch(Qe){}return{ratio:je||.7,heightInLines:Ae||18}}}class ne extends n.ls{}let ce=class extends M.vk{constructor(xe,je,Ae,Qe,rt,Dt,at,vt,Mt,ti,Ft,ei){super(xe,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Dt),this._defaultTreeKeyboardSupport=je,this.layoutData=Ae,this._textModelResolverService=rt,this._instantiationService=Dt,this._peekViewService=at,this._uriLabel=vt,this._undoRedoService=Mt,this._keybindingService=ti,this._languageService=Ft,this._languageConfigurationService=ei,this._disposeOnNewModel=new E.SL,this._callOnDispose=new E.SL,this._onDidSelectReference=new C.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new S.Ro(0,0),this._applyTheme(Qe.getColorTheme()),this._callOnDispose.add(Qe.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(xe,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,E.B9)(this._preview),(0,E.B9)(this._previewNotAvailableMessage),(0,E.B9)(this._tree),(0,E.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(xe){const je=xe.getColor(M.SC)||y.Il.transparent;this.style({arrowColor:je,frameColor:je,headerBackgroundColor:xe.getColor(M.KY)||y.Il.transparent,primaryHeadingColor:xe.getColor(M.IH),secondaryHeadingColor:xe.getColor(M.R7)})}show(xe){super.show(xe,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(xe){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:xe.ctrlKey||xe.metaKey||xe.altKey?"side":"open",source:"title"})}_fillBody(xe){this.setCssClass("reference-zone-widget"),this._messageContainer=S.R3(xe,S.$("div.messages")),S.Cp(this._messageContainer),this._splitView=new g.z(xe,{orientation:1}),this._previewContainer=S.R3(xe,S.$("div.preview.inline"));const je={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(T.H,this._previewContainer,je,{},this.editor),S.Cp(this._previewContainer),this._previewNotAvailableMessage=new F.yO(D.NC("missingPreviewMessage","no preview available"),$.bd,F.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=S.R3(xe,S.$("div.ref-tree.inline"));const Ae={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Te,keyboardNavigationLabelProvider:this._instantiationService.createInstance(X),identityProvider:new ie,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:M.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(S.mu(this._treeContainer,"keydown",rt=>{rt.equals(9)&&(this._keybindingService.dispatchEvent(rt,rt.target),rt.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ne,"ReferencesWidget",this._treeContainer,new J,[this._instantiationService.createInstance(fe),this._instantiationService.createInstance(pe)],this._instantiationService.createInstance(m),Ae),this._splitView.addView({onDidChange:C.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:rt=>{this._preview.layout({height:this._dim.height,width:rt})}},g.M.Distribute),this._splitView.addView({onDidChange:C.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:rt=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${rt}px`,this._tree.layout(this._dim.height,rt)}},g.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Qe=(rt,Dt)=>{rt instanceof a.WX&&(Dt==="show"&&this._revealReference(rt,!1),this._onDidSelectReference.fire({element:rt,kind:Dt,source:"tree"}))};this._tree.onDidOpen(rt=>{rt.sideBySide?Qe(rt.element,"side"):rt.editorOptions.pinned?Qe(rt.element,"goto"):Qe(rt.element,"show")}),S.Cp(this._treeContainer)}_onWidth(xe){this._dim&&this._doLayoutBody(this._dim.height,xe)}_doLayoutBody(xe,je){super._doLayoutBody(xe,je),this._dim=new S.Ro(je,xe),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(je),this._splitView.resizeView(0,je*this.layoutData.ratio)}setSelection(xe){return this._revealReference(xe,!0).then(()=>{this._model&&(this._tree.setSelection([xe]),this._tree.setFocus([xe]))})}setModel(xe){return this._disposeOnNewModel.clear(),this._model=xe,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=D.NC("noResults","No results"),S.$Z(this._messageContainer),Promise.resolve(void 0)):(S.Cp(this._messageContainer),this._decorationsManager=new ze(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(xe=>this._tree.rerender(xe))),this._disposeOnNewModel.add(this._preview.onMouseDown(xe=>{const{event:je,target:Ae}=xe;if(je.detail!==2)return;const Qe=this._getFocusedReference();Qe&&this._onDidSelectReference.fire({element:{uri:Qe.uri,range:Ae.range},kind:je.ctrlKey||je.metaKey||je.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),S.$Z(this._treeContainer),S.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[xe]=this._tree.getFocus();if(xe instanceof a.WX)return xe;if(xe instanceof a.F2&&xe.children.length>0)return xe.children[0]}revealReference(xe){return qt(this,null,function*(){yield this._revealReference(xe,!1),this._onDidSelectReference.fire({element:xe,kind:"goto",source:"tree"})})}_revealReference(xe,je){return qt(this,null,function*(){if(this._revealedReference===xe)return;this._revealedReference=xe,xe.uri.scheme!==L.lg.inMemory?this.setTitle((0,O.Hx)(xe.uri),this._uriLabel.getUriLabel((0,O.XX)(xe.uri))):this.setTitle(D.NC("peekView.alternateTitle","References"));const Ae=this._textModelResolverService.createModelReference(xe.uri);this._tree.getInput()===xe.parent?this._tree.reveal(xe):(je&&this._tree.reveal(xe.parent),yield this._tree.expand(xe.parent),this._tree.reveal(xe));const Qe=yield Ae;if(!this._model){Qe.dispose();return}(0,E.B9)(this._previewModelReference);const rt=Qe.object;if(rt){const Dt=this._preview.getModel()===rt.textEditorModel?0:1,at=I.e.lift(xe.range).collapseToStart();this._previewModelReference=Qe,this._preview.setModel(rt.textEditorModel),this._preview.setSelection(at),this._preview.revealRangeInCenter(at,Dt)}else this._preview.setModel(this._previewNotAvailableMessage),Qe.dispose()})}};ce=Ne([We(3,De.XE),We(4,P.S),We(5,u.TG),We(6,M.Fw),We(7,U.e),We(8,ae.tJ),We(9,H.d),We(10,Y.O),We(11,B.c_)],ce);var Oe=function(ve,xe,je,Ae){var Qe=arguments.length,rt=Qe<3?xe:Ae===null?Ae=Object.getOwnPropertyDescriptor(xe,je):Ae,Dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ve,xe,je,Ae);else for(var at=ve.length-1;at>=0;at--)(Dt=ve[at])&&(rt=(Qe<3?Dt(rt):Qe>3?Dt(xe,je,rt):Dt(xe,je))||rt);return Qe>3&&rt&&Object.defineProperty(xe,je,rt),rt},Pe=function(ve,xe){return function(je,Ae){xe(je,Ae,ve)}},Me;const ye=new d.uy("referenceSearchVisible",!1,D.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let _e=Me=class{static get(xe){return xe.getContribution(Me.ID)}constructor(xe,je,Ae,Qe,rt,Dt,at,vt){this._defaultTreeKeyboardSupport=xe,this._editor=je,this._editorService=Qe,this._notificationService=rt,this._instantiationService=Dt,this._storageService=at,this._configurationService=vt,this._disposables=new E.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ye.bindTo(Ae)}dispose(){var xe,je;this._referenceSearchVisible.reset(),this._disposables.dispose(),(xe=this._widget)===null||xe===void 0||xe.dispose(),(je=this._model)===null||je===void 0||je.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(xe,je,Ae){let Qe;if(this._widget&&(Qe=this._widget.position),this.closeWidget(),Qe&&xe.containsPosition(Qe))return;this._peekMode=Ae,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const rt="peekViewLayout",Dt=Se.fromJSON(this._storageService.get(rt,0,"{}"));this._widget=this._instantiationService.createInstance(ce,this._editor,this._defaultTreeKeyboardSupport,Dt),this._widget.setTitle(D.NC("labelLoading","Loading...")),this._widget.show(xe),this._disposables.add(this._widget.onDidClose(()=>{je.cancel(),this._widget&&(this._storageService.store(rt,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(vt=>{const{element:Mt,kind:ti}=vt;if(Mt)switch(ti){case"open":(vt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Mt,!1,!1);break;case"side":this.openReference(Mt,!0,!1);break;case"goto":Ae?this._gotoReference(Mt,!0):this.openReference(Mt,!1,!0);break}}));const at=++this._requestIdPool;je.then(vt=>{var Mt;if(at!==this._requestIdPool||!this._widget){vt.dispose();return}return(Mt=this._model)===null||Mt===void 0||Mt.dispose(),this._model=vt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(D.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const ti=this._editor.getModel().uri,Ft=new _.L(xe.startLineNumber,xe.startColumn),ei=this._model.nearestReference(ti,Ft);if(ei)return this._widget.setSelection(ei).then(()=>{this._widget&&this._editor.getOption(86)==="editor"&&this._widget.focusOnPreviewEditor()})}})},vt=>{this._notificationService.error(vt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(xe){return qt(this,null,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const je=this._widget.position;if(!je)return;const Ae=this._model.nearestReference(this._editor.getModel().uri,je);if(!Ae)return;const Qe=this._model.nextOrPreviousReference(Ae,xe),rt=this._editor.hasTextFocus(),Dt=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Qe),yield this._gotoReference(Qe,!1),rt?this._editor.focus():this._widget&&Dt&&this._widget.focusOnPreviewEditor()})}revealReference(xe){return qt(this,null,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(xe))})}closeWidget(xe=!0){var je,Ae;(je=this._widget)===null||je===void 0||je.dispose(),(Ae=this._model)===null||Ae===void 0||Ae.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,xe&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(xe,je){var Ae;(Ae=this._widget)===null||Ae===void 0||Ae.hide(),this._ignoreModelChangeEvent=!0;const Qe=I.e.lift(xe.range).collapseToStart();return this._editorService.openCodeEditor({resource:xe.uri,options:{selection:Qe,selectionSource:"code.jump",pinned:je}},this._editor).then(rt=>{var Dt;if(this._ignoreModelChangeEvent=!1,!rt||!this._widget){this.closeWidget();return}if(this._editor===rt)this._widget.show(Qe),this._widget.focusOnReferenceTree();else{const at=Me.get(rt),vt=this._model.clone();this.closeWidget(),rt.focus(),at==null||at.toggleWidget(Qe,(0,b.PG)(Mt=>Promise.resolve(vt)),(Dt=this._peekMode)!==null&&Dt!==void 0?Dt:!1)}},rt=>{this._ignoreModelChangeEvent=!1,(0,z.dL)(rt)})}openReference(xe,je,Ae){je||this.closeWidget();const{uri:Qe,range:rt}=xe;this._editorService.openCodeEditor({resource:Qe,options:{selection:rt,selectionSource:"code.jump",pinned:Ae}},this._editor,je)}};_e.ID="editor.contrib.referencesController",_e=Me=Oe([Pe(2,d.i6),Pe(3,c.$),Pe(4,f.lT),Pe(5,u.TG),Pe(6,v.Uy),Pe(7,o.Ui)],_e);function se(ve,xe){const je=(0,M.rc)(ve);if(!je)return;const Ae=_e.get(je);Ae&&xe(Ae)}i.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,r.gx)(2089,60),when:d.Ao.or(ye,M.Jy.inPeekEditor),handler(ve){se(ve,xe=>{xe.changeFocusBetweenPreviewAndReferences()})}}),i.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:d.Ao.or(ye,M.Jy.inPeekEditor),handler(ve){se(ve,xe=>{xe.goToNextOrPreviousReference(!0)})}}),i.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:d.Ao.or(ye,M.Jy.inPeekEditor),handler(ve){se(ve,xe=>{xe.goToNextOrPreviousReference(!1)})}}),p.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),p.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),p.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),p.P.registerCommand("closeReferenceSearch",ve=>se(ve,xe=>xe.closeWidget())),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:d.Ao.and(M.Jy.inPeekEditor,d.Ao.not("config.editor.stablePeek"))}),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:d.Ao.and(ye,d.Ao.not("config.editor.stablePeek"))}),i.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:d.Ao.and(ye,n.CQ,n.PS.negate(),n.uJ.negate()),handler(ve){var xe;const Ae=(xe=ve.get(n.Lw).lastFocusedList)===null||xe===void 0?void 0:xe.getFocus();Array.isArray(Ae)&&Ae[0]instanceof a.WX&&se(ve,Qe=>Qe.revealReference(Ae[0]))}}),i.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:d.Ao.and(ye,n.CQ,n.PS.negate(),n.uJ.negate()),handler(ve){var xe;const Ae=(xe=ve.get(n.Lw).lastFocusedList)===null||xe===void 0?void 0:xe.getFocus();Array.isArray(Ae)&&Ae[0]instanceof a.WX&&se(ve,Qe=>Qe.openReference(Ae[0],!0,!0))}}),p.P.registerCommand("openReference",ve=>{var xe;const Ae=(xe=ve.get(n.Lw).lastFocusedList)===null||xe===void 0?void 0:xe.getFocus();Array.isArray(Ae)&&Ae[0]instanceof a.WX&&se(ve,Qe=>Qe.openReference(Ae[0],!1,!0))})},1293:function(Pt,Ke,e){"use strict";e.d(Ke,{F2:function(){return d},WX:function(){return p},oQ:function(){return u}});var b=e(17301),z=e(4669),r=e(44742),E=e(5976),c=e(43702),_=e(95935),I=e(97295),M=e(24314),D=e(63580);class p{constructor(n,f,v,a){this.isProviderFirst=n,this.parent=f,this.link=v,this._rangeCallback=a,this.id=r.a.nextId()}get uri(){return this.link.uri}get range(){var n,f;return(f=(n=this._range)!==null&&n!==void 0?n:this.link.targetSelectionRange)!==null&&f!==void 0?f:this.link.range}set range(n){this._range=n,this._rangeCallback(this)}get ariaMessage(){var n;const f=(n=this.parent.getPreview(this))===null||n===void 0?void 0:n.preview(this.range);return f?(0,D.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",f.value,(0,_.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,D.NC)("aria.oneReference","in {0} on line {1} at column {2}",(0,_.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class o{constructor(n){this._modelReference=n}dispose(){this._modelReference.dispose()}preview(n,f=8){const v=this._modelReference.object.textEditorModel;if(!v)return;const{startLineNumber:a,startColumn:S,endLineNumber:g,endColumn:y}=n,C=v.getWordUntilPosition({lineNumber:a,column:S-f}),L=new M.e(a,C.startColumn,a,S),O=new M.e(g,y,g,1073741824),T=v.getValueInRange(L).replace(/^\s+/,""),F=v.getValueInRange(n),B=v.getValueInRange(O).replace(/\s+$/,"");return{value:T+F+B,highlight:{start:T.length,end:T.length+F.length}}}}class d{constructor(n,f){this.parent=n,this.uri=f,this.children=[],this._previews=new c.Y9}dispose(){(0,E.B9)(this._previews.values()),this._previews.clear()}getPreview(n){return this._previews.get(n.uri)}get ariaMessage(){const n=this.children.length;return n===1?(0,D.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,_.EZ)(this.uri),this.uri.fsPath):(0,D.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",n,(0,_.EZ)(this.uri),this.uri.fsPath)}resolve(n){return qt(this,null,function*(){if(this._previews.size!==0)return this;for(const f of this.children)if(!this._previews.has(f.uri))try{const v=yield n.createModelReference(f.uri);this._previews.set(f.uri,new o(v))}catch(v){(0,b.dL)(v)}return this})}}class u{constructor(n,f){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new z.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=n,this._title=f;const[v]=n;n.sort(u._compareReferences);let a;for(const S of n)if((!a||!_.SF.isEqual(a.uri,S.uri,!0))&&(a=new d(this,S.uri),this.groups.push(a)),a.children.length===0||u._compareReferences(S,a.children[a.children.length-1])!==0){const g=new p(v===S,a,S,y=>this._onDidChangeReferenceRange.fire(y));this.references.push(g),a.children.push(g)}}dispose(){(0,E.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new u(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,D.NC)("aria.result.0","No results found"):this.references.length===1?(0,D.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,D.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,D.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(n,f){const{parent:v}=n;let a=v.children.indexOf(n);const S=v.children.length,g=v.parent.groups.length;return g===1||f&&a+1<S||!f&&a>0?(f?a=(a+1)%S:a=(a+S-1)%S,v.children[a]):(a=v.parent.groups.indexOf(v),f?(a=(a+1)%g,v.parent.groups[a].children[0]):(a=(a+g-1)%g,v.parent.groups[a].children[v.parent.groups[a].children.length-1]))}nearestReference(n,f){const v=this.references.map((a,S)=>({idx:S,prefixLen:I.Mh(a.uri.toString(),n.toString()),offsetDist:Math.abs(a.range.startLineNumber-f.lineNumber)*100+Math.abs(a.range.startColumn-f.column)})).sort((a,S)=>a.prefixLen>S.prefixLen?-1:a.prefixLen<S.prefixLen?1:a.offsetDist<S.offsetDist?-1:a.offsetDist>S.offsetDist?1:0)[0];if(v)return this.references[v.idx]}referenceAt(n,f){for(const v of this.references)if(v.uri.toString()===n.toString()&&M.e.containsPosition(v.range,f))return v}firstReference(){for(const n of this.references)if(n.isProviderFirst)return n;return this.references[0]}static _compareReferences(n,f){return _.SF.compare(n.uri,f.uri)||M.e.compareRangesUsingStarts(n.range,f.range)}}},41470:function(Pt,Ke,e){"use strict";e.d(Ke,{hT:function(){return B},Hb:function(){return A},mR:function(){return H}});var b=e(65321),z=e(41168),r=e(9488),E=e(5976),c=e(50187),_=e(24314),I=e(84901),M=e(43155),D=e(12457),p=e(66520),o=e(72065),d=e(91847),u=e(15393),i=e(29102),n=e(32064),f=e(17735);const v=30,a=24;class S extends E.JT{constructor(W,K=new b.Ro(10,10)){super(),this._editor=W,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new f.f),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=b.Ro.lift(K),this._resizableNode.layout(K.height,K.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(m=>{this._resize(new b.Ro(m.dimension.width,m.dimension.height)),m.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var W;return!((W=this._contentPosition)===null||W===void 0)&&W.position?c.L.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(W){const K=this._editor.getDomNode(),m=this._editor.getScrolledVisiblePosition(W);return!K||!m?void 0:b.i(K).top+m.top-v}_availableVerticalSpaceBelow(W){const K=this._editor.getDomNode(),m=this._editor.getScrolledVisiblePosition(W);if(!K||!m)return;const J=b.i(K),X=b.D6(K.ownerDocument.body),ie=J.top+m.top+m.height;return X.height-ie-a}_findPositionPreference(W,K){var m,J;const X=Math.min((m=this._availableVerticalSpaceBelow(K))!==null&&m!==void 0?m:1/0,W),ie=Math.min((J=this._availableVerticalSpaceAbove(K))!==null&&J!==void 0?J:1/0,W),le=Math.min(Math.max(ie,X),W),fe=Math.min(W,le);let Le;return this._editor.getOption(60).above?Le=fe<=ie?1:2:Le=fe<=X?2:1,Le===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),Le}_resize(W){this._resizableNode.layout(W.height,W.width)}}var g=e(33108),y=e(31106),C=function(j,W,K,m){var J=arguments.length,X=J<3?W:m===null?m=Object.getOwnPropertyDescriptor(W,K):m,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(j,W,K,m);else for(var le=j.length-1;le>=0;le--)(ie=j[le])&&(X=(J<3?ie(X):J>3?ie(W,K,X):ie(W,K))||X);return J>3&&X&&Object.defineProperty(W,K,X),X},L=function(j,W){return function(K,m){W(K,m,j)}},O,T;const F=b.$;let B=O=class extends E.JT{constructor(W,K,m){super(),this._editor=W,this._instantiationService=K,this._keybindingService=m,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(A,this._editor)),this._participants=[];for(const J of p.Ae.getAll())this._participants.push(this._instantiationService.createInstance(J,this._editor));this._participants.sort((J,X)=>J.hoverOrdinal-X.hoverOrdinal),this._computer=new U(this._editor,this._participants),this._hoverOperation=this._register(new D.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(J=>{if(!this._computer.anchor)return;const X=J.hasLoadingMessage?this._addLoadingMessage(J.value):J.value;this._withResult(new $(this._computer.anchor,X,J.isComplete))})),this._register(b.mu(this._widget.getDomNode(),"keydown",J=>{J.equals(9)&&this.hide()})),this._register(M.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(W){if(this._widget.isResizing)return!0;const K=[];for(const J of this._participants)if(J.suggestHoverAnchor){const X=J.suggestHoverAnchor(W);X&&K.push(X)}const m=W.target;if(m.type===6&&K.push(new p.Qj(0,m.range,W.event.posx,W.event.posy)),m.type===7){const J=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!m.detail.isAfterLines&&typeof m.detail.horizontalDistanceToText=="number"&&m.detail.horizontalDistanceToText<J&&K.push(new p.Qj(0,m.range,W.event.posx,W.event.posy))}return K.length===0?this._startShowingOrUpdateHover(null,0,0,!1,W):(K.sort((J,X)=>X.priority-J.priority),this._startShowingOrUpdateHover(K[0],0,0,!1,W))}startShowingAtRange(W,K,m,J){this._startShowingOrUpdateHover(new p.Qj(0,W,void 0,void 0),K,m,J,null)}_startShowingOrUpdateHover(W,K,m,J,X){return!this._widget.position||!this._currentResult?W?(this._startHoverOperationIfNecessary(W,K,m,J,!1),!0):!1:this._editor.getOption(60).sticky&&X&&this._widget.isMouseGettingCloser(X.event.posx,X.event.posy)?(W&&this._startHoverOperationIfNecessary(W,K,m,J,!0),!0):W?W&&this._currentResult.anchor.equals(W)?!0:W.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(W)),this._startHoverOperationIfNecessary(W,K,m,J,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(W,K,m,J,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(W,K,m,J,X){this._computer.anchor&&this._computer.anchor.equals(W)||(this._hoverOperation.cancel(),this._computer.anchor=W,this._computer.shouldFocus=J,this._computer.source=m,this._computer.insistOnKeepingHoverVisible=X,this._hoverOperation.start(K))}_setCurrentResult(W){this._currentResult!==W&&(W&&W.messages.length===0&&(W=null),this._currentResult=W,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(W){return W?this._widget.getDomNode().contains(W):!1}_addLoadingMessage(W){if(this._computer.anchor){for(const K of this._participants)if(K.createLoadingMessage){const m=K.createLoadingMessage(this._computer.anchor);if(m)return W.slice(0).concat([m])}}return W}_withResult(W){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!W.isComplete||this._computer.insistOnKeepingHoverVisible&&W.messages.length===0)||this._setCurrentResult(W)}_renderMessages(W,K){const{showAtPosition:m,showAtSecondaryPosition:J,highlightRange:X}=O.computeHoverRanges(this._editor,W.range,K),ie=new E.SL,le=ie.add(new H(this._keybindingService)),fe=document.createDocumentFragment();let Le=null;const pe={fragment:fe,statusBar:le,setColorPicker:De=>Le=De,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:De=>this._widget.setMinimumDimensions(De),hide:()=>this.hide()};for(const De of this._participants){const ae=K.filter(Ne=>Ne.owner===De);ae.length>0&&ie.add(De.renderHoverParts(pe,ae))}const Te=K.some(De=>De.isBeforeContent);if(le.hasContent&&fe.appendChild(le.hoverElement),fe.hasChildNodes()){if(X){const De=this._editor.createDecorationsCollection();De.set([{range:X,options:O._DECORATION_OPTIONS}]),ie.add((0,E.OF)(()=>{De.clear()}))}this._widget.showAt(fe,new P(Le,m,J,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,Te,W.initialMousePosX,W.initialMousePosY,ie))}else ie.dispose()}static computeHoverRanges(W,K,m){let J=1;if(W.hasModel()){const Le=W._getViewModel(),pe=Le.coordinatesConverter,Te=pe.convertModelRangeToViewRange(K),De=new c.L(Te.startLineNumber,Le.getLineMinColumn(Te.startLineNumber));J=pe.convertViewPositionToModelPosition(De).column}const X=K.startLineNumber;let ie=K.startColumn,le=m[0].range,fe=null;for(const Le of m)le=_.e.plusRange(le,Le.range),Le.range.startLineNumber===X&&Le.range.endLineNumber===X&&(ie=Math.max(Math.min(ie,Le.range.startColumn),J)),Le.forceShowAtRange&&(fe=Le.range);return{showAtPosition:fe?fe.getStartPosition():new c.L(X,K.startColumn),showAtSecondaryPosition:fe?fe.getStartPosition():new c.L(X,ie),highlightRange:le}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};B._DECORATION_OPTIONS=I.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),B=O=C([L(1,o.TG),L(2,d.d)],B);class ${constructor(W,K,m){this.anchor=W,this.messages=K,this.isComplete=m}filter(W){const K=this.messages.filter(m=>m.isValidForHoverAnchor(W));return K.length===this.messages.length?this:new Y(this,this.anchor,K,this.isComplete)}}class Y extends ${constructor(W,K,m,J){super(K,m,J),this.original=W}filter(W){return this.original.filter(W)}}class P{constructor(W,K,m,J,X,ie,le,fe,Le,pe){this.colorPicker=W,this.showAtPosition=K,this.showAtSecondaryPosition=m,this.preferAbove=J,this.stoleFocus=X,this.source=ie,this.isBeforeContent=le,this.initialMousePosX=fe,this.initialMousePosY=Le,this.disposables=pe,this.closestMouseDistance=void 0}}const w=30,V=10,R=6;let A=T=class extends S{get isColorPickerVisible(){var W;return!!(!((W=this._visibleData)===null||W===void 0)&&W.colorPicker)}get isVisibleFromKeyboard(){var W;return((W=this._visibleData)===null||W===void 0?void 0:W.source)===1}get isVisible(){var W;return(W=this._hoverVisibleKey.get())!==null&&W!==void 0?W:!1}get isFocused(){var W;return(W=this._hoverFocusedKey.get())!==null&&W!==void 0?W:!1}constructor(W,K,m,J,X){const ie=W.getOption(66)+8,le=150,fe=new b.Ro(le,ie);super(W,fe),this._configurationService=m,this._accessibilityService=J,this._keybindingService=X,this._hover=this._register(new z.c8),this._minimumSize=fe,this._hoverVisibleKey=i.u.hoverVisible.bindTo(K),this._hoverFocusedKey=i.u.hoverFocused.bindTo(K),b.R3(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(pe=>{pe.hasChanged(50)&&this._updateFont()}));const Le=this._register(b.go(this._resizableNode.domNode));this._register(Le.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(Le.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var W;super.dispose(),(W=this._visibleData)===null||W===void 0||W.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return T.ID}static _applyDimensions(W,K,m){const J=typeof K=="number"?`${K}px`:K,X=typeof m=="number"?`${m}px`:m;W.style.width=J,W.style.height=X}_setContentsDomNodeDimensions(W,K){const m=this._hover.contentsDomNode;return T._applyDimensions(m,W,K)}_setContainerDomNodeDimensions(W,K){const m=this._hover.containerDomNode;return T._applyDimensions(m,W,K)}_setHoverWidgetDimensions(W,K){this._setContentsDomNodeDimensions(W,K),this._setContainerDomNodeDimensions(W,K),this._layoutContentWidget()}static _applyMaxDimensions(W,K,m){const J=typeof K=="number"?`${K}px`:K,X=typeof m=="number"?`${m}px`:m;W.style.maxWidth=J,W.style.maxHeight=X}_setHoverWidgetMaxDimensions(W,K){T._applyMaxDimensions(this._hover.contentsDomNode,W,K),T._applyMaxDimensions(this._hover.containerDomNode,W,K),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof W=="number"?`${W}px`:W),this._layoutContentWidget()}_hasHorizontalScrollbar(){const W=this._hover.scrollbar.getScrollDimensions();return W.scrollWidth>W.width}_adjustContentsBottomPadding(){const W=this._hover.contentsDomNode,K=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;W.style.paddingBottom!==K&&(W.style.paddingBottom=K)}_setAdjustedHoverWidgetDimensions(W){this._setHoverWidgetMaxDimensions("none","none");const K=W.width,m=W.height;this._setHoverWidgetDimensions(K,m),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(K,m-V))}_updateResizableNodeMaxDimensions(){var W,K;const m=(W=this._findMaximumRenderingWidth())!==null&&W!==void 0?W:1/0,J=(K=this._findMaximumRenderingHeight())!==null&&K!==void 0?K:1/0;this._resizableNode.maxSize=new b.Ro(m,J),this._setHoverWidgetMaxDimensions(m,J)}_resize(W){var K,m;T._lastDimensions=new b.Ro(W.width,W.height),this._setAdjustedHoverWidgetDimensions(W),this._resizableNode.layout(W.height,W.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(m=(K=this._visibleData)===null||K===void 0?void 0:K.colorPicker)===null||m===void 0||m.layout()}_findAvailableSpaceVertically(){var W;const K=(W=this._visibleData)===null||W===void 0?void 0:W.showAtPosition;if(K)return this._positionPreference===1?this._availableVerticalSpaceAbove(K):this._availableVerticalSpaceBelow(K)}_findMaximumRenderingHeight(){const W=this._findAvailableSpaceVertically();if(!W)return;let K=R;return Array.from(this._hover.contentsDomNode.children).forEach(m=>{K+=m.clientHeight}),this._hasHorizontalScrollbar()&&(K+=V),Math.min(W,K)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const W=Array.from(this._hover.contentsDomNode.children).some(K=>K.scrollWidth>K.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),W}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const W=this._isHoverTextOverflowing(),K=typeof this._contentWidth=="undefined"?0:this._contentWidth-2;return W||this._hover.containerDomNode.clientWidth<K?b.D6(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(W,K){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=W,this._visibleData.initialMousePosY=K,!1;const m=b.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=G(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,m.left,m.top,m.width,m.height));const J=G(W,K,m.left,m.top,m.width,m.height);return J>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,J),!0)}_setHoverData(W){var K;(K=this._visibleData)===null||K===void 0||K.disposables.dispose(),this._visibleData=W,this._hoverVisibleKey.set(!!W),this._hover.containerDomNode.classList.toggle("hidden",!W)}_updateFont(){const{fontSize:W,lineHeight:K}=this._editor.getOption(50),m=this._hover.contentsDomNode;m.style.fontSize=`${W}px`,m.style.lineHeight=`${K/W}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(X=>this._editor.applyFontInfo(X))}_updateContent(W){const K=this._hover.contentsDomNode;K.style.paddingBottom="",K.textContent="",K.appendChild(W)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const W=Math.max(this._editor.getLayoutInfo().height/4,250,T._lastDimensions.height),K=Math.max(this._editor.getLayoutInfo().width*.66,500,T._lastDimensions.width);this._setHoverWidgetMaxDimensions(K,W)}_render(W,K){this._setHoverData(K),this._updateFont(),this._updateContent(W),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var W;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(W=this._positionPreference)!==null&&W!==void 0?W:1]}:null}showAt(W,K){var m,J,X,ie;if(!this._editor||!this._editor.hasModel())return;this._render(W,K);const le=b.wn(this._hover.containerDomNode),fe=K.showAtPosition;this._positionPreference=(m=this._findPositionPreference(le,fe))!==null&&m!==void 0?m:1,this.onContentsChanged(),K.stoleFocus&&this._hover.containerDomNode.focus(),(J=K.colorPicker)===null||J===void 0||J.layout();const pe=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,z.uX)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(ie=(X=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||X===void 0?void 0:X.getAriaLabel())!==null&&ie!==void 0?ie:"");pe&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+pe)}hide(){if(!this._visibleData)return;const W=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new b.Ro(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),W&&this._editor.focus()}_removeConstraintsRenderNormally(){const W=this._editor.getLayoutInfo();this._resizableNode.layout(W.height,W.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(W){var K;const m=this._hover.containerDomNode,J=this._hover.contentsDomNode,X=(K=this._findMaximumRenderingHeight())!==null&&K!==void 0?K:1/0;this._setContainerDomNodeDimensions(b.w(m),Math.min(X,W)),this._setContentsDomNodeDimensions(b.w(J),Math.min(X,W-V))}setMinimumDimensions(W){this._minimumSize=new b.Ro(Math.max(this._minimumSize.width,W.width),Math.max(this._minimumSize.height,W.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const W=typeof this._contentWidth=="undefined"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new b.Ro(W,this._minimumSize.height)}onContentsChanged(){var W;this._removeConstraintsRenderNormally();const K=this._hover.containerDomNode;let m=b.wn(K),J=b.w(K);if(this._resizableNode.layout(m,J),this._setHoverWidgetDimensions(J,m),m=b.wn(K),J=b.w(K),this._contentWidth=J,this._updateMinimumWidth(),this._resizableNode.layout(m,J),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(m)),!((W=this._visibleData)===null||W===void 0)&&W.showAtPosition){const X=b.wn(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(X,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const W=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:W-K.lineHeight})}scrollDown(){const W=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:W+K.lineHeight})}scrollLeft(){const W=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:W-w})}scrollRight(){const W=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:W+w})}pageUp(){const W=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:W-K})}pageDown(){const W=this._hover.scrollbar.getScrollPosition().scrollTop,K=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:W+K})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};A.ID="editor.contrib.resizableContentHoverWidget",A._lastDimensions=new b.Ro(0,0),A=T=C([L(1,n.i6),L(2,g.Ui),L(3,y.F7),L(4,d.d)],A);let H=class extends E.JT{get hasContent(){return this._hasContent}constructor(W){super(),this._keybindingService=W,this._hasContent=!1,this.hoverElement=F("div.hover-row.status-bar"),this.actionsElement=b.R3(this.hoverElement,F("div.actions"))}addAction(W){const K=this._keybindingService.lookupKeybinding(W.commandId),m=K?K.getLabel():null;return this._hasContent=!0,this._register(z.Sr.render(this.actionsElement,W,m))}append(W){const K=b.R3(this.actionsElement,W);return this._hasContent=!0,K}};H=C([L(0,d.d)],H);class U{get anchor(){return this._anchor}set anchor(W){this._anchor=W}get shouldFocus(){return this._shouldFocus}set shouldFocus(W){this._shouldFocus=W}get source(){return this._source}set source(W){this._source=W}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(W){this._insistOnKeepingHoverVisible=W}constructor(W,K){this._editor=W,this._participants=K,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(W,K){if(K.type!==1&&!K.supportsMarkerHover)return[];const m=W.getModel(),J=K.range.startLineNumber;if(J>m.getLineCount())return[];const X=m.getLineMaxColumn(J);return W.getLineDecorations(J).filter(ie=>{if(ie.options.isWholeLine)return!0;const le=ie.range.startLineNumber===J?ie.range.startColumn:1,fe=ie.range.endLineNumber===J?ie.range.endColumn:X;if(ie.options.showIfCollapsed){if(le>K.range.startColumn+1||K.range.endColumn-1>fe)return!1}else if(le>K.range.startColumn||K.range.endColumn>fe)return!1;return!0})}computeAsync(W){const K=this._anchor;if(!this._editor.hasModel()||!K)return u.Aq.EMPTY;const m=U._getLineDecorations(this._editor,K);return u.Aq.merge(this._participants.map(J=>J.computeAsync?J.computeAsync(K,m,W):u.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const W=U._getLineDecorations(this._editor,this._anchor);let K=[];for(const m of this._participants)K=K.concat(m.computeSync(this._anchor,W));return(0,r.kX)(K)}}function G(j,W,K,m,J,X){const ie=K+J/2,le=m+X/2,fe=Math.max(Math.abs(j-ie)-J/2,0),Le=Math.max(Math.abs(W-le)-X/2,0);return Math.sqrt(fe*fe+Le*Le)}},41095:function(Pt,Ke,e){"use strict";e.d(Ke,{R8:function(){return M}});var b=e(15393),z=e(71050),r=e(17301),E=e(16830),c=e(71922);class _{constructor(d,u,i){this.provider=d,this.hover=u,this.ordinal=i}}function I(o,d,u,i,n){return qt(this,null,function*(){try{const f=yield Promise.resolve(o.provideHover(u,i,n));if(f&&p(f))return new _(o,f,d)}catch(f){(0,r.Cp)(f)}})}function M(o,d,u,i){const f=o.ordered(d).map((v,a)=>I(v,a,d,u,i));return b.Aq.fromPromises(f).coalesce()}function D(o,d,u,i){return M(o,d,u,i).map(n=>n.hover).toPromise()}(0,E.sb)("_executeHoverProvider",(o,d,u)=>{const i=o.get(c.p);return D(i.hoverProvider,d,u,z.T.None)});function p(o){const d=typeof o.range!="undefined",u=typeof o.contents!="undefined"&&o.contents&&o.contents.length>0;return d&&u}},93463:function(Pt,Ke,e){"use strict";e.d(Ke,{E:function(){return pe}});var b=e(22258),z=e(5976),r=e(16830),E=e(24314),c=e(29102),_=e(72042),I=e(56334),M=e(41470),D=e(65321),p=e(9488),o=e(59365),d=e(33772),u=e(12457),i=e(41168);const n=D.$;class f extends z.JT{constructor(ye,_e,se){super(),this._renderDisposeables=this._register(new z.SL),this._editor=ye,this._isVisible=!1,this._messages=[],this._hover=this._register(new i.c8),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new d.$({editor:this._editor},_e,se)),this._computer=new v(this._editor),this._hoverOperation=this._register(new u.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(ve=>{this._withResult(ve.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(ve=>{ve.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return f.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(_e=>this._editor.applyFontInfo(_e))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(ye){this._computer.lineNumber!==ye&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=ye,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(ye){this._messages=ye,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(ye,_e){this._renderDisposeables.clear();const se=document.createDocumentFragment();for(const ve of _e){const xe=n("div.hover-row.markdown-hover"),je=D.R3(xe,n("div.hover-contents")),Ae=this._renderDisposeables.add(this._markdownRenderer.render(ve.value));je.appendChild(Ae.element),se.appendChild(xe)}this._updateContents(se),this._showAt(ye)}_updateContents(ye){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(ye),this._updateFont()}_showAt(ye){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const _e=this._editor.getLayoutInfo(),se=this._editor.getTopForLineNumber(ye),ve=this._editor.getScrollTop(),xe=this._editor.getOption(66),je=this._hover.containerDomNode.clientHeight,Ae=se-ve-(je-xe)/2;this._hover.containerDomNode.style.left=`${_e.glyphMarginLeft+_e.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Ae),0)}px`}}f.ID="editor.contrib.modesGlyphHoverWidget";class v{get lineNumber(){return this._lineNumber}set lineNumber(ye){this._lineNumber=ye}constructor(ye){this._editor=ye,this._lineNumber=-1}computeSync(){const ye=ve=>({value:ve}),_e=this._editor.getLineDecorations(this._lineNumber),se=[];if(!_e)return se;for(const ve of _e){if(!ve.options.glyphMarginClassName)continue;const xe=ve.options.glyphMarginHoverMessage;!xe||(0,o.CP)(xe)||se.push(...(0,p._2)(xe).map(ye))}return se}}var a=e(72065),S=e(50988),g=e(73910),y=e(97781),C=e(66520),L=e(22374),O=e(15393),T=e(17301),F=e(95935),B=e(71922),$=e(36357),Y=e(75396),P=e(70522),w=e(87997),V=e(10355),R=e(63580),A=e(98674),H=e(90535),U=function(Me,ye,_e,se){var ve=arguments.length,xe=ve<3?ye:se===null?se=Object.getOwnPropertyDescriptor(ye,_e):se,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(Me,ye,_e,se);else for(var Ae=Me.length-1;Ae>=0;Ae--)(je=Me[Ae])&&(xe=(ve<3?je(xe):ve>3?je(ye,_e,xe):je(ye,_e))||xe);return ve>3&&xe&&Object.defineProperty(ye,_e,xe),xe},G=function(Me,ye){return function(_e,se){ye(_e,se,Me)}};const j=D.$;class W{constructor(ye,_e,se){this.owner=ye,this.range=_e,this.marker=se}isValidForHoverAnchor(ye){return ye.type===1&&this.range.startColumn<=ye.range.startColumn&&this.range.endColumn>=ye.range.endColumn}}const K={type:1,filter:{include:w.yN.QuickFix},triggerAction:w.aQ.QuickFixHover};let m=class{constructor(ye,_e,se,ve){this._editor=ye,this._markerDecorationsService=_e,this._openerService=se,this._languageFeaturesService=ve,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(ye,_e){if(!this._editor.hasModel()||ye.type!==1&&!ye.supportsMarkerHover)return[];const se=this._editor.getModel(),ve=ye.range.startLineNumber,xe=se.getLineMaxColumn(ve),je=[];for(const Ae of _e){const Qe=Ae.range.startLineNumber===ve?Ae.range.startColumn:1,rt=Ae.range.endLineNumber===ve?Ae.range.endColumn:xe,Dt=this._markerDecorationsService.getMarker(se.uri,Ae);if(!Dt)continue;const at=new E.e(ye.range.startLineNumber,Qe,ye.range.startLineNumber,rt);je.push(new W(this,at,Dt))}return je}renderHoverParts(ye,_e){if(!_e.length)return z.JT.None;const se=new z.SL;_e.forEach(xe=>ye.fragment.appendChild(this.renderMarkerHover(xe,se)));const ve=_e.length===1?_e[0]:_e.sort((xe,je)=>A.ZL.compare(xe.marker.severity,je.marker.severity))[0];return this.renderMarkerStatusbar(ye,ve,se),se}renderMarkerHover(ye,_e){const se=j("div.hover-row"),ve=D.R3(se,j("div.marker.hover-contents")),{source:xe,message:je,code:Ae,relatedInformation:Qe}=ye.marker;this._editor.applyFontInfo(ve);const rt=D.R3(ve,j("span"));if(rt.style.whiteSpace="pre-wrap",rt.innerText=je,xe||Ae)if(Ae&&typeof Ae!="string"){const Dt=j("span");if(xe){const ti=D.R3(Dt,j("span"));ti.innerText=xe}const at=D.R3(Dt,j("a.code-link"));at.setAttribute("href",Ae.target.toString()),_e.add(D.nm(at,"click",ti=>{this._openerService.open(Ae.target,{allowCommands:!0}),ti.preventDefault(),ti.stopPropagation()}));const vt=D.R3(at,j("span"));vt.innerText=Ae.value;const Mt=D.R3(ve,Dt);Mt.style.opacity="0.6",Mt.style.paddingLeft="6px"}else{const Dt=D.R3(ve,j("span"));Dt.style.opacity="0.6",Dt.style.paddingLeft="6px",Dt.innerText=xe&&Ae?`${xe}(${Ae})`:xe||`(${Ae})`}if((0,p.Of)(Qe))for(const{message:Dt,resource:at,startLineNumber:vt,startColumn:Mt}of Qe){const ti=D.R3(ve,j("div"));ti.style.marginTop="8px";const Ft=D.R3(ti,j("a"));Ft.innerText=`${(0,F.EZ)(at)}(${vt}, ${Mt}): `,Ft.style.cursor="pointer",_e.add(D.nm(Ft,"click",Xt=>{Xt.stopPropagation(),Xt.preventDefault(),this._openerService&&this._openerService.open(at,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:vt,startColumn:Mt}}}).catch(T.dL)}));const ei=D.R3(ti,j("span"));ei.innerText=Dt,this._editor.applyFontInfo(ei)}return se}renderMarkerStatusbar(ye,_e,se){if((_e.marker.severity===A.ZL.Error||_e.marker.severity===A.ZL.Warning||_e.marker.severity===A.ZL.Info)&&ye.statusBar.addAction({label:R.NC("view problem","View Problem"),commandId:V.v.ID,run:()=>{var ve;ye.hide(),(ve=V.c.get(this._editor))===null||ve===void 0||ve.showAtMarker(_e.marker),this._editor.focus()}}),!this._editor.getOption(90)){const ve=ye.statusBar.append(j("div"));this.recentMarkerCodeActionsInfo&&(A.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===A.H0.makeKey(_e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(ve.textContent=R.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const xe=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?z.JT.None:se.add((0,O.Vg)(()=>ve.textContent=R.NC("checkingForQuickFixes","Checking for quick fixes..."),200));ve.textContent||(ve.textContent=String.fromCharCode(160));const je=this.getCodeActions(_e.marker);se.add((0,z.OF)(()=>je.cancel())),je.then(Ae=>{if(xe.dispose(),this.recentMarkerCodeActionsInfo={marker:_e.marker,hasCodeActions:Ae.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Ae.dispose(),ve.textContent=R.NC("noQuickFixes","No quick fixes available");return}ve.style.display="none";let Qe=!1;se.add((0,z.OF)(()=>{Qe||Ae.dispose()})),ye.statusBar.addAction({label:R.NC("quick fixes","Quick Fix..."),commandId:Y.cz,run:rt=>{Qe=!0;const Dt=P.G.get(this._editor),at=D.i(rt);ye.hide(),Dt==null||Dt.showCodeActions(K,Ae,{x:at.left,y:at.top,width:at.width,height:at.height})}})},T.dL)}}getCodeActions(ye){return(0,O.PG)(_e=>(0,Y.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new E.e(ye.startLineNumber,ye.startColumn,ye.endLineNumber,ye.endColumn),K,H.Ex.None,_e))}};m=U([G(1,$.i),G(2,S.v),G(3,B.p)],m);var J=e(73485),X=e(91847),ie=function(Me,ye,_e,se){var ve=arguments.length,xe=ve<3?ye:se===null?se=Object.getOwnPropertyDescriptor(ye,_e):se,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(Me,ye,_e,se);else for(var Ae=Me.length-1;Ae>=0;Ae--)(je=Me[Ae])&&(xe=(ve<3?je(xe):ve>3?je(ye,_e,xe):je(ye,_e))||xe);return ve>3&&xe&&Object.defineProperty(ye,_e,xe),xe},le=function(Me,ye){return function(_e,se){ye(_e,se,Me)}},fe;const Le=!1;let pe=fe=class extends z.JT{static get(ye){return ye.getContribution(fe.ID)}constructor(ye,_e,se,ve,xe){super(),this._editor=ye,this._instantiationService=_e,this._openerService=se,this._languageService=ve,this._keybindingService=xe,this._toUnhook=new z.SL,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._reactToEditorMouseMoveRunner=this._register(new O.pY(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookEvents(),this._register(this._editor.onDidChangeConfiguration(je=>{je.hasChanged(60)&&(this._unhookEvents(),this._hookEvents())}))}_hookEvents(){const ye=this._editor.getOption(60);this._isHoverEnabled=ye.enabled,this._isHoverSticky=ye.sticky,this._hidingDelay=ye.hidingDelay,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(_e=>this._onEditorMouseDown(_e))),this._toUnhook.add(this._editor.onMouseUp(_e=>this._onEditorMouseUp(_e))),this._toUnhook.add(this._editor.onMouseMove(_e=>this._onEditorMouseMove(_e))),this._toUnhook.add(this._editor.onKeyDown(_e=>this._onKeyDown(_e)))):(this._toUnhook.add(this._editor.onMouseMove(_e=>this._onEditorMouseMove(_e))),this._toUnhook.add(this._editor.onKeyDown(_e=>this._onKeyDown(_e)))),this._toUnhook.add(this._editor.onMouseLeave(_e=>this._onEditorMouseLeave(_e))),this._toUnhook.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._toUnhook.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._toUnhook.add(this._editor.onDidScrollChange(_e=>this._onEditorScrollChanged(_e)))}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(ye){(ye.scrollTopChanged||ye.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(ye){var _e;this._isMouseDown=!0;const se=ye.target;if(se.type===9&&se.detail===M.Hb.ID){this._hoverClicked=!0;return}se.type===12&&se.detail===f.ID||(se.type!==12&&(this._hoverClicked=!1),!((_e=this._contentWidget)===null||_e===void 0)&&_e.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(ye){this._isMouseDown=!1}_onEditorMouseLeave(ye){var _e,se;this._cancelScheduler();const ve=ye.event.browserEvent.relatedTarget;!((_e=this._contentWidget)===null||_e===void 0)&&_e.widget.isResizing||!((se=this._contentWidget)===null||se===void 0)&&se.containsNode(ve)||Le||this._hideWidgets()}_isMouseOverWidget(ye){var _e,se,ve,xe,je;const Ae=ye.target;return!!(this._isHoverSticky&&Ae.type===9&&Ae.detail===M.Hb.ID||this._isHoverSticky&&(!((_e=this._contentWidget)===null||_e===void 0)&&_e.containsNode((se=ye.event.browserEvent.view)===null||se===void 0?void 0:se.document.activeElement))&&!(!((xe=(ve=ye.event.browserEvent.view)===null||ve===void 0?void 0:ve.getSelection())===null||xe===void 0)&&xe.isCollapsed)||!this._isHoverSticky&&Ae.type===9&&Ae.detail===M.Hb.ID&&(!((je=this._contentWidget)===null||je===void 0)&&je.isColorPickerVisible)||this._isHoverSticky&&Ae.type===12&&Ae.detail===f.ID)}_onEditorMouseMove(ye){var _e,se,ve,xe;if(this._mouseMoveEvent=ye,!((_e=this._contentWidget)===null||_e===void 0)&&_e.isFocused||!((se=this._contentWidget)===null||se===void 0)&&se.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&(!((ve=this._contentWidget)===null||ve===void 0)&&ve.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(ye)){this._reactToEditorMouseMoveRunner.cancel();return}if(!((xe=this._contentWidget)===null||xe===void 0)&&xe.isVisible&&this._isHoverSticky&&this._hidingDelay>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);return}this._reactToEditorMouseMove(ye)}_reactToEditorMouseMove(ye){var _e,se,ve;if(!ye)return;const xe=ye.target,je=(_e=xe.element)===null||_e===void 0?void 0:_e.classList.contains("colorpicker-color-decoration"),Ae=this._editor.getOption(146);if(je&&(Ae==="click"&&!this._hoverActivatedByColorDecoratorClick||Ae==="hover"&&!this._isHoverEnabled&&!Le||Ae==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!je&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(ye)){(se=this._glyphWidget)===null||se===void 0||se.hide();return}if(xe.type===2&&xe.position){(ve=this._contentWidget)===null||ve===void 0||ve.hide(),this._glyphWidget||(this._glyphWidget=new f(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(xe.position.lineNumber);return}Le||this._hideWidgets()}_onKeyDown(ye){var _e;if(!this._editor.hasModel())return;const se=this._keybindingService.softDispatch(ye,this._editor.getDomNode()),ve=se.kind===1||se.kind===2&&se.commandId==="editor.action.showHover"&&((_e=this._contentWidget)===null||_e===void 0?void 0:_e.isVisible);ye.keyCode!==5&&ye.keyCode!==6&&ye.keyCode!==57&&ye.keyCode!==4&&!ve&&this._hideWidgets()}_hideWidgets(){var ye,_e,se;Le||this._isMouseDown&&this._hoverClicked&&(!((ye=this._contentWidget)===null||ye===void 0)&&ye.isColorPickerVisible)||J.QG.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(_e=this._glyphWidget)===null||_e===void 0||_e.hide(),(se=this._contentWidget)===null||se===void 0||se.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(M.hT,this._editor)),this._contentWidget}showContentHover(ye,_e,se,ve,xe=!1){this._hoverActivatedByColorDecoratorClick=xe,this._getOrCreateContentWidget().startShowingAtRange(ye,_e,se,ve)}focus(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.focus()}scrollUp(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.scrollUp()}scrollDown(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.scrollDown()}scrollLeft(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.scrollLeft()}scrollRight(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.scrollRight()}pageUp(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.pageUp()}pageDown(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.pageDown()}goToTop(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.goToTop()}goToBottom(){var ye;(ye=this._contentWidget)===null||ye===void 0||ye.goToBottom()}get isColorPickerVisible(){var ye;return(ye=this._contentWidget)===null||ye===void 0?void 0:ye.isColorPickerVisible}get isHoverVisible(){var ye;return(ye=this._contentWidget)===null||ye===void 0?void 0:ye.isVisible}dispose(){var ye,_e;super.dispose(),this._unhookEvents(),this._toUnhook.dispose(),(ye=this._glyphWidget)===null||ye===void 0||ye.dispose(),(_e=this._contentWidget)===null||_e===void 0||_e.dispose()}};pe.ID="editor.contrib.hover",pe=fe=ie([le(1,a.TG),le(2,S.v),le(3,_.O),le(4,X.d)],pe);var Te;(function(Me){Me.NoAutoFocus="noAutoFocus",Me.FocusIfVisible="focusIfVisible",Me.AutoFocusImmediately="autoFocusImmediately"})(Te||(Te={}));class De extends r.R6{constructor(){super({id:"editor.action.showHover",label:R.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Te.NoAutoFocus,Te.FocusIfVisible,Te.AutoFocusImmediately],enumDescriptions:[R.NC("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),R.NC("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),R.NC("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:Te.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,b.gx)(2089,2087),weight:100}})}run(ye,_e,se){if(!_e.hasModel())return;const ve=pe.get(_e);if(!ve)return;const xe=se==null?void 0:se.focus;let je=Te.FocusIfVisible;xe in Te?je=xe:typeof xe=="boolean"&&xe&&(je=Te.AutoFocusImmediately);const Ae=rt=>{const Dt=_e.getPosition(),at=new E.e(Dt.lineNumber,Dt.column,Dt.lineNumber,Dt.column);ve.showContentHover(at,1,1,rt)},Qe=_e.getOption(2)===2;ve.isHoverVisible?je!==Te.NoAutoFocus?ve.focus():Ae(Qe):Ae(Qe||je===Te.AutoFocusImmediately)}}class ae extends r.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:R.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(ye,_e){const se=pe.get(_e);if(!se)return;const ve=_e.getPosition();if(!ve)return;const xe=new E.e(ve.lineNumber,ve.column,ve.lineNumber,ve.column),je=I.S.get(_e);if(!je)return;je.startFindDefinitionFromCursor(ve).then(()=>{se.showContentHover(xe,1,1,!0)})}}class Ne extends r.R6{constructor(){super({id:"editor.action.scrollUpHover",label:R.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:16,weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.scrollUp()}}class We extends r.R6{constructor(){super({id:"editor.action.scrollDownHover",label:R.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:18,weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.scrollDown()}}class ze extends r.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:R.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:15,weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.scrollLeft()}}class Se extends r.R6{constructor(){super({id:"editor.action.scrollRightHover",label:R.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:17,weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.scrollRight()}}class ne extends r.R6{constructor(){super({id:"editor.action.pageUpHover",label:R.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.pageUp()}}class ce extends r.R6{constructor(){super({id:"editor.action.pageDownHover",label:R.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.pageDown()}}class Oe extends r.R6{constructor(){super({id:"editor.action.goToTopHover",label:R.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.goToTop()}}class Pe extends r.R6{constructor(){super({id:"editor.action.goToBottomHover",label:R.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:c.u.hoverFocused,kbOpts:{kbExpr:c.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(ye,_e){const se=pe.get(_e);se&&se.goToBottom()}}(0,r._K)(pe.ID,pe,2),(0,r.Qr)(De),(0,r.Qr)(ae),(0,r.Qr)(Ne),(0,r.Qr)(We),(0,r.Qr)(ze),(0,r.Qr)(Se),(0,r.Qr)(ne),(0,r.Qr)(ce),(0,r.Qr)(Oe),(0,r.Qr)(Pe),C.Ae.register(L.D5),C.Ae.register(m),(0,y.Ic)((Me,ye)=>{const _e=Me.getColor(g.CNo);_e&&(ye.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${_e.transparent(.5)}; }`),ye.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${_e.transparent(.5)}; }`),ye.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${_e.transparent(.5)}; }`))})},12457:function(Pt,Ke,e){"use strict";e.d(Ke,{H:function(){return _}});var b=e(15393),z=e(17301),r=e(4669),E=e(5976);class c{constructor(M,D,p){this.value=M,this.isComplete=D,this.hasLoadingMessage=p}}class _ extends E.JT{constructor(M,D){super(),this._editor=M,this._computer=D,this._onResult=this._register(new r.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new b.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new b.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new b.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(M,D=!0){this._state=M,D&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,b.zS)(M=>this._computer.computeAsync(M)),qt(this,null,function*(){try{try{for(var M=wa(this._asyncIterable),D,p,o;D=!(p=yield M.next()).done;D=!1){const d=p.value;d&&(this._result.push(d),this._fireResult())}}catch(p){o=[p]}finally{try{D&&(p=M.return)&&(yield p.call(M))}finally{if(o)throw o[0]}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(d){(0,z.dL)(d)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const M=this._state===0,D=this._state===4;this._onResult.fire(new c(this._result.slice(0),M,D))}start(M){if(M===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}},66520:function(Pt,Ke,e){"use strict";e.d(Ke,{Ae:function(){return r},Qj:function(){return b},YM:function(){return z}});class b{constructor(c,_,I,M){this.priority=c,this.range=_,this.initialMousePosX=I,this.initialMousePosY=M,this.type=1}equals(c){return c.type===1&&this.range.equalsRange(c.range)}canAdoptVisibleHover(c,_){return c.type===1&&_.lineNumber===this.range.startLineNumber}}class z{constructor(c,_,I,M,D,p){this.priority=c,this.owner=_,this.range=I,this.initialMousePosX=M,this.initialMousePosY=D,this.supportsMarkerHover=p,this.type=2}equals(c){return c.type===2&&this.owner===c.owner}canAdoptVisibleHover(c,_){return c.type===2&&this.owner===c.owner}}const r=new class{constructor(){this._participants=[]}register(c){this._participants.push(c)}getAll(){return this._participants}}},22374:function(Pt,Ke,e){"use strict";e.d(Ke,{D5:function(){return S},c:function(){return g},hU:function(){return a}});var b=e(65321),z=e(9488),r=e(15393),E=e(59365),c=e(5976),_=e(33772),I=e(50187),M=e(24314),D=e(72042),p=e(41095),o=e(63580),d=e(33108),u=e(50988),i=e(71922),n=function(y,C,L,O){var T=arguments.length,F=T<3?C:O===null?O=Object.getOwnPropertyDescriptor(C,L):O,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(y,C,L,O);else for(var $=y.length-1;$>=0;$--)(B=y[$])&&(F=(T<3?B(F):T>3?B(C,L,F):B(C,L))||F);return T>3&&F&&Object.defineProperty(C,L,F),F},f=function(y,C){return function(L,O){C(L,O,y)}};const v=b.$;class a{constructor(C,L,O,T,F){this.owner=C,this.range=L,this.contents=O,this.isBeforeContent=T,this.ordinal=F}isValidForHoverAnchor(C){return C.type===1&&this.range.startColumn<=C.range.startColumn&&this.range.endColumn>=C.range.endColumn}}let S=class{constructor(C,L,O,T,F){this._editor=C,this._languageService=L,this._openerService=O,this._configurationService=T,this._languageFeaturesService=F,this.hoverOrdinal=3}createLoadingMessage(C){return new a(this,C.range,[new E.W5().appendText(o.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(C,L){if(!this._editor.hasModel()||C.type!==1)return[];const O=this._editor.getModel(),T=C.range.startLineNumber,F=O.getLineMaxColumn(T),B=[];let $=1e3;const Y=O.getLineLength(T),P=O.getLanguageIdAtPosition(C.range.startLineNumber,C.range.startColumn),w=this._editor.getOption(116),V=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:P});let R=!1;w>=0&&Y>w&&C.range.startColumn>=w&&(R=!0,B.push(new a(this,C.range,[{value:o.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,$++))),!R&&typeof V=="number"&&Y>=V&&B.push(new a(this,C.range,[{value:o.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,$++));let A=!1;for(const H of L){const U=H.range.startLineNumber===T?H.range.startColumn:1,G=H.range.endLineNumber===T?H.range.endColumn:F,j=H.options.hoverMessage;if(!j||(0,E.CP)(j))continue;H.options.beforeContentClassName&&(A=!0);const W=new M.e(C.range.startLineNumber,U,C.range.startLineNumber,G);B.push(new a(this,W,(0,z._2)(j),A,$++))}return B}computeAsync(C,L,O){if(!this._editor.hasModel()||C.type!==1)return r.Aq.EMPTY;const T=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(T))return r.Aq.EMPTY;const F=new I.L(C.range.startLineNumber,C.range.startColumn);return(0,p.R8)(this._languageFeaturesService.hoverProvider,T,F,O).filter(B=>!(0,E.CP)(B.hover.contents)).map(B=>{const $=B.hover.range?M.e.lift(B.hover.range):C.range;return new a(this,$,B.hover.contents,!1,B.ordinal)})}renderHoverParts(C,L){return g(C,L,this._editor,this._languageService,this._openerService)}};S=n([f(1,D.O),f(2,u.v),f(3,d.Ui),f(4,i.p)],S);function g(y,C,L,O,T){C.sort((B,$)=>B.ordinal-$.ordinal);const F=new c.SL;for(const B of C)for(const $ of B.contents){if((0,E.CP)($))continue;const Y=v("div.hover-row.markdown-hover"),P=b.R3(Y,v("div.hover-contents")),w=F.add(new _.$({editor:L},O,T));F.add(w.onDidRenderAsync(()=>{P.className="hover-contents code-hover-contents",y.onContentsChanged()}));const V=F.add(w.render($));P.appendChild(V.element),y.fragment.appendChild(Y)}return F}},69901:function(Pt,Ke,e){"use strict";var b=e(15393),z=e(17301),r=e(14410),E=e(16830),c=e(24314),_=e(3860),I=e(29102),M=e(84901),D=e(85215),p=e(63580);class o{constructor(S,g,y){this._editRange=S,this._originalSelection=g,this._text=y}getEditOperations(S,g){g.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(S,g){const C=g.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new _.Y(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new _.Y(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}var d=function(a,S,g,y){var C=arguments.length,L=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(a,S,g,y);else for(var T=a.length-1;T>=0;T--)(O=a[T])&&(L=(C<3?O(L):C>3?O(S,g,L):O(S,g))||L);return C>3&&L&&Object.defineProperty(S,g,L),L},u=function(a,S){return function(g,y){S(g,y,a)}},i;let n=i=class{static get(S){return S.getContribution(i.ID)}constructor(S,g){this.editor=S,this.editorWorkerService=g,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(S,g){var y;(y=this.currentRequest)===null||y===void 0||y.cancel();const C=this.editor.getSelection(),L=this.editor.getModel();if(!L||!C)return;let O=C;if(O.startLineNumber!==O.endLineNumber)return;const T=new r.yy(this.editor,5),F=L.uri;return this.editorWorkerService.canNavigateValueSet(F)?(this.currentRequest=(0,b.PG)(B=>this.editorWorkerService.navigateValueSet(F,O,g)),this.currentRequest.then(B=>{var $;if(!B||!B.range||!B.value||!T.validate(this.editor))return;const Y=c.e.lift(B.range);let P=B.range;const w=B.value.length-(O.endColumn-O.startColumn);P={startLineNumber:P.startLineNumber,startColumn:P.startColumn,endLineNumber:P.endLineNumber,endColumn:P.startColumn+B.value.length},w>1&&(O=new _.Y(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn+w-1));const V=new o(Y,O,B.value);this.editor.pushUndoStop(),this.editor.executeCommand(S,V),this.editor.pushUndoStop(),this.decorations.set([{range:P,options:i.DECORATION}]),($=this.decorationRemover)===null||$===void 0||$.cancel(),this.decorationRemover=(0,b.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(z.dL)}).catch(z.dL)):Promise.resolve(void 0)}};n.ID="editor.contrib.inPlaceReplaceController",n.DECORATION=M.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),n=i=d([u(1,D.p)],n);class f extends E.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:I.u.writable,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3159,weight:100}})}run(S,g){const y=n.get(g);return y?y.run(this.id,!1):Promise.resolve(void 0)}}class v extends E.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:I.u.writable,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3161,weight:100}})}run(S,g){const y=n.get(g);return y?y.run(this.id,!0):Promise.resolve(void 0)}}(0,E._K)(n.ID,n,4),(0,E.Qr)(f),(0,E.Qr)(v)},18279:function(Pt,Ke,e){"use strict";e.d(Ke,{J:function(){return z},Y:function(){return b}});function b(r,E){let c=0;for(let _=0;_<r.length;_++)r.charAt(_)==="	"?c+=E:c++;return c}function z(r,E,c){r=r<0?0:r;let _="";if(!c){const I=Math.floor(r/E);r=r%E;for(let M=0;M<I;M++)_+="	"}for(let I=0;I<r;I++)_+=" ";return _}},84602:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(97295),r=e(16830),E=e(10291),c=e(69386),_=e(24314),I=e(3860),M=e(29102),D=e(4256),p=e(73733),o=e(18279),d=e(63580),u=e(41157),i=e(83158),n=e(75383),f=function(R,A,H,U){var G=arguments.length,j=G<3?A:U===null?U=Object.getOwnPropertyDescriptor(A,H):U,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(R,A,H,U);else for(var K=R.length-1;K>=0;K--)(W=R[K])&&(j=(G<3?W(j):G>3?W(A,H,j):W(A,H))||j);return G>3&&j&&Object.defineProperty(A,H,j),j},v=function(R,A){return function(H,U){A(H,U,R)}};function a(R,A,H,U,G){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return[];const j=A.getLanguageConfiguration(R.getLanguageId()).indentationRules;if(!j)return[];for(U=Math.min(U,R.getLineCount());H<=U&&j.unIndentedLinePattern;){const Te=R.getLineContent(H);if(!j.unIndentedLinePattern.test(Te))break;H++}if(H>U-1)return[];const{tabSize:W,indentSize:K,insertSpaces:m}=R.getOptions(),J=(Te,De)=>(De=De||1,E.U.shiftIndent(Te,Te.length+De,W,K,m)),X=(Te,De)=>(De=De||1,E.U.unshiftIndent(Te,Te.length+De,W,K,m)),ie=[];let le;const fe=R.getLineContent(H);let Le=fe;if(G!=null){le=G;const Te=z.V8(fe);Le=le+fe.substring(Te.length),j.decreaseIndentPattern&&j.decreaseIndentPattern.test(Le)&&(le=X(le),Le=le+fe.substring(Te.length)),fe!==Le&&ie.push(c.h.replaceMove(new I.Y(H,1,H,Te.length+1),(0,i.x)(le,K,m)))}else le=z.V8(fe);let pe=le;j.increaseIndentPattern&&j.increaseIndentPattern.test(Le)?(pe=J(pe),le=J(le)):j.indentNextLinePattern&&j.indentNextLinePattern.test(Le)&&(pe=J(pe)),H++;for(let Te=H;Te<=U;Te++){const De=R.getLineContent(Te),ae=z.V8(De),Ne=pe+De.substring(ae.length);j.decreaseIndentPattern&&j.decreaseIndentPattern.test(Ne)&&(pe=X(pe),le=X(le)),ae!==pe&&ie.push(c.h.replaceMove(new I.Y(Te,1,Te,ae.length+1),(0,i.x)(pe,K,m))),!(j.unIndentedLinePattern&&j.unIndentedLinePattern.test(De))&&(j.increaseIndentPattern&&j.increaseIndentPattern.test(Ne)?(le=J(le),pe=le):j.indentNextLinePattern&&j.indentNextLinePattern.test(Ne)?pe=J(pe):pe=le)}return ie}class S extends r.R6{constructor(){super({id:S.ID,label:d.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:M.u.writable})}run(A,H){const U=H.getModel();if(!U)return;const G=U.getOptions(),j=H.getSelection();if(!j)return;const W=new w(j,G.tabSize);H.pushUndoStop(),H.executeCommands(this.id,[W]),H.pushUndoStop(),U.updateOptions({insertSpaces:!0})}}S.ID="editor.action.indentationToSpaces";class g extends r.R6{constructor(){super({id:g.ID,label:d.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:M.u.writable})}run(A,H){const U=H.getModel();if(!U)return;const G=U.getOptions(),j=H.getSelection();if(!j)return;const W=new V(j,G.tabSize);H.pushUndoStop(),H.executeCommands(this.id,[W]),H.pushUndoStop(),U.updateOptions({insertSpaces:!1})}}g.ID="editor.action.indentationToTabs";class y extends r.R6{constructor(A,H,U){super(U),this.insertSpaces=A,this.displaySizeOnly=H}run(A,H){const U=A.get(u.eJ),G=A.get(p.q),j=H.getModel();if(!j)return;const W=G.getCreationOptions(j.getLanguageId(),j.uri,j.isForSimpleWidget),K=j.getOptions(),m=[1,2,3,4,5,6,7,8].map(X=>({id:X.toString(),label:X.toString(),description:X===W.tabSize&&X===K.tabSize?d.NC("configuredTabSize","Configured Tab Size"):X===W.tabSize?d.NC("defaultTabSize","Default Tab Size"):X===K.tabSize?d.NC("currentTabSize","Current Tab Size"):void 0})),J=Math.min(j.getOptions().tabSize-1,7);setTimeout(()=>{U.pick(m,{placeHolder:d.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:m[J]}).then(X=>{if(X&&j&&!j.isDisposed()){const ie=parseInt(X.label,10);this.displaySizeOnly?j.updateOptions({tabSize:ie}):j.updateOptions({tabSize:ie,indentSize:ie,insertSpaces:this.insertSpaces})}})},50)}}class C extends y{constructor(){super(!1,!1,{id:C.ID,label:d.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}C.ID="editor.action.indentUsingTabs";class L extends y{constructor(){super(!0,!1,{id:L.ID,label:d.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}L.ID="editor.action.indentUsingSpaces";class O extends y{constructor(){super(!0,!0,{id:O.ID,label:d.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}O.ID="editor.action.changeTabDisplaySize";class T extends r.R6{constructor(){super({id:T.ID,label:d.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(A,H){const U=A.get(p.q),G=H.getModel();if(!G)return;const j=U.getCreationOptions(G.getLanguageId(),G.uri,G.isForSimpleWidget);G.detectIndentation(j.insertSpaces,j.tabSize)}}T.ID="editor.action.detectIndentation";class F extends r.R6{constructor(){super({id:"editor.action.reindentlines",label:d.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:M.u.writable})}run(A,H){const U=A.get(D.c_),G=H.getModel();if(!G)return;const j=a(G,U,1,G.getLineCount());j.length>0&&(H.pushUndoStop(),H.executeEdits(this.id,j),H.pushUndoStop())}}class B extends r.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:d.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:M.u.writable})}run(A,H){const U=A.get(D.c_),G=H.getModel();if(!G)return;const j=H.getSelections();if(j===null)return;const W=[];for(const K of j){let m=K.startLineNumber,J=K.endLineNumber;if(m!==J&&K.endColumn===1&&J--,m===1){if(m===J)continue}else m--;const X=a(G,U,m,J);W.push(...X)}W.length>0&&(H.pushUndoStop(),H.executeEdits(this.id,W),H.pushUndoStop())}}class ${constructor(A,H){this._initialSelection=H,this._edits=[],this._selectionId=null;for(const U of A)U.range&&typeof U.text=="string"&&this._edits.push(U)}getEditOperations(A,H){for(const G of this._edits)H.addEditOperation(_.e.lift(G.range),G.text);let U=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(U=!0,this._selectionId=H.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(U=!0,this._selectionId=H.trackSelection(this._initialSelection,!1))),U||(this._selectionId=H.trackSelection(this._initialSelection))}computeCursorState(A,H){return H.getTrackedSelection(this._selectionId)}}let Y=class{constructor(A,H){this.editor=A,this._languageConfigurationService=H,this.callOnDispose=new b.SL,this.callOnModel=new b.SL,this.callOnDispose.add(A.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(A.onDidChangeModel(()=>this.update())),this.callOnDispose.add(A.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:A})=>{this.trigger(A)}))}trigger(A){const H=this.editor.getSelections();if(H===null||H.length>1)return;const U=this.editor.getModel();if(!U||!U.tokenization.isCheapToTokenize(A.getStartPosition().lineNumber))return;const G=this.editor.getOption(12),{tabSize:j,indentSize:W,insertSpaces:K}=U.getOptions(),m=[],J={shiftIndent:fe=>E.U.shiftIndent(fe,fe.length+1,j,W,K),unshiftIndent:fe=>E.U.unshiftIndent(fe,fe.length+1,j,W,K)};let X=A.startLineNumber;for(;X<=A.endLineNumber;){if(this.shouldIgnoreLine(U,X)){X++;continue}break}if(X>A.endLineNumber)return;let ie=U.getLineContent(X);if(!/\S/.test(ie.substring(0,A.startColumn-1))){const fe=(0,n.n8)(G,U,U.getLanguageId(),X,J,this._languageConfigurationService);if(fe!==null){const Le=z.V8(ie),pe=o.Y(fe,j),Te=o.Y(Le,j);if(pe!==Te){const De=o.J(pe,j,K);m.push({range:new _.e(X,1,X,Le.length+1),text:De}),ie=De+ie.substr(Le.length)}else{const De=(0,n.tI)(U,X,this._languageConfigurationService);if(De===0||De===8)return}}}const le=X;for(;X<A.endLineNumber;){if(!/\S/.test(U.getLineContent(X+1))){X++;continue}break}if(X!==A.endLineNumber){const fe={tokenization:{getLineTokens:pe=>U.tokenization.getLineTokens(pe),getLanguageId:()=>U.getLanguageId(),getLanguageIdAtPosition:(pe,Te)=>U.getLanguageIdAtPosition(pe,Te)},getLineContent:pe=>pe===le?ie:U.getLineContent(pe)},Le=(0,n.n8)(G,fe,U.getLanguageId(),X+1,J,this._languageConfigurationService);if(Le!==null){const pe=o.Y(Le,j),Te=o.Y(z.V8(U.getLineContent(X+1)),j);if(pe!==Te){const De=pe-Te;for(let ae=X+1;ae<=A.endLineNumber;ae++){const Ne=U.getLineContent(ae),We=z.V8(Ne),Se=o.Y(We,j)+De,ne=o.J(Se,j,K);ne!==We&&m.push({range:new _.e(ae,1,ae,We.length+1),text:ne})}}}}if(m.length>0){this.editor.pushUndoStop();const fe=new $(m,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",fe),this.editor.pushUndoStop()}}shouldIgnoreLine(A,H){A.tokenization.forceTokenization(H);const U=A.getLineFirstNonWhitespaceColumn(H);if(U===0)return!0;const G=A.tokenization.getLineTokens(H);if(G.getCount()>0){const j=G.findTokenIndexAtOffset(U);if(j>=0&&G.getStandardTokenType(j)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};Y.ID="editor.contrib.autoIndentOnPaste",Y=f([v(1,D.c_)],Y);function P(R,A,H,U){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return;let G="";for(let W=0;W<H;W++)G+=" ";const j=new RegExp(G,"gi");for(let W=1,K=R.getLineCount();W<=K;W++){let m=R.getLineFirstNonWhitespaceColumn(W);if(m===0&&(m=R.getLineMaxColumn(W)),m===1)continue;const J=new _.e(W,1,W,m),X=R.getValueInRange(J),ie=U?X.replace(/\t/ig,G):X.replace(j,"	");A.addEditOperation(J,ie)}}class w{constructor(A,H){this.selection=A,this.tabSize=H,this.selectionId=null}getEditOperations(A,H){this.selectionId=H.trackSelection(this.selection),P(A,H,this.tabSize,!0)}computeCursorState(A,H){return H.getTrackedSelection(this.selectionId)}}class V{constructor(A,H){this.selection=A,this.tabSize=H,this.selectionId=null}getEditOperations(A,H){this.selectionId=H.trackSelection(this.selection),P(A,H,this.tabSize,!1)}computeCursorState(A,H){return H.getTrackedSelection(this.selectionId)}}(0,r._K)(Y.ID,Y,2),(0,r.Qr)(S),(0,r.Qr)(g),(0,r.Qr)(C),(0,r.Qr)(L),(0,r.Qr)(O),(0,r.Qr)(T),(0,r.Qr)(F),(0,r.Qr)(B)},8469:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(66520),r=e(65321),E=e(9488),c=e(15393),_=e(71050),I=e(17301),M=e(5976),D=e(43702),p=e(98401),o=e(70666),d=e(29994),u=e(43407),i=e(64141),n=e(69386),f=e(24314),v=e(43155),a=e(84973),S=e(84901),g=e(88191),y=e(71922),C=e(88216),L=e(82005),O=e(50187),T=e(66663);class F{constructor(Pe,Me){this.range=Pe,this.direction=Me}}class B{constructor(Pe,Me,ye){this.hint=Pe,this.anchor=Me,this.provider=ye,this._isResolved=!1}with(Pe){const Me=new B(this.hint,Pe.anchor,this.provider);return Me._isResolved=this._isResolved,Me._currentResolve=this._currentResolve,Me}resolve(Pe){return qt(this,null,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,Pe.isCancellationRequested?void 0:this.resolve(Pe);this._isResolved||(this._currentResolve=this._doResolve(Pe).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Pe){return qt(this,null,function*(){var Me,ye;try{const _e=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Pe));this.hint.tooltip=(Me=_e==null?void 0:_e.tooltip)!==null&&Me!==void 0?Me:this.hint.tooltip,this.hint.label=(ye=_e==null?void 0:_e.label)!==null&&ye!==void 0?ye:this.hint.label,this._isResolved=!0}catch(_e){(0,I.Cp)(_e),this._isResolved=!1}})}}class ${static create(Pe,Me,ye,_e){return qt(this,null,function*(){const se=[],ve=Pe.ordered(Me).reverse().map(xe=>ye.map(je=>qt(this,null,function*(){try{const Ae=yield xe.provideInlayHints(Me,je,_e);Ae!=null&&Ae.hints.length&&se.push([Ae,xe])}catch(Ae){(0,I.Cp)(Ae)}})));if(yield Promise.all(ve.flat()),_e.isCancellationRequested||Me.isDisposed())throw new I.FU;return new $(ye,se,Me)})}constructor(Pe,Me,ye){this._disposables=new M.SL,this.ranges=Pe,this.provider=new Set;const _e=[];for(const[se,ve]of Me){this._disposables.add(se),this.provider.add(ve);for(const xe of se.hints){const je=ye.validatePosition(xe.position);let Ae="before";const Qe=$._getRangeAtPosition(ye,je);let rt;Qe.getStartPosition().isBefore(je)?(rt=f.e.fromPositions(Qe.getStartPosition(),je),Ae="after"):(rt=f.e.fromPositions(je,Qe.getEndPosition()),Ae="before"),_e.push(new B(xe,new F(rt,Ae),ve))}}this.items=_e.sort((se,ve)=>O.L.compare(se.hint.position,ve.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Pe,Me){const ye=Me.lineNumber,_e=Pe.getWordAtPosition(Me);if(_e)return new f.e(ye,_e.startColumn,ye,_e.endColumn);Pe.tokenization.tokenizeIfCheap(ye);const se=Pe.tokenization.getLineTokens(ye),ve=Me.column-1,xe=se.findTokenIndexAtOffset(ve);let je=se.getStartOffset(xe),Ae=se.getEndOffset(xe);return Ae-je===1&&(je===ve&&xe>1?(je=se.getStartOffset(xe-1),Ae=se.getEndOffset(xe-1)):Ae===ve&&xe<se.getCount()-1&&(je=se.getStartOffset(xe+1),Ae=se.getEndOffset(xe+1))),new f.e(ye,je+1,ye,Ae+1)}}function Y(Oe){return o.o.from({scheme:T.lg.command,path:Oe.id,query:Oe.arguments&&encodeURIComponent(JSON.stringify(Oe.arguments))}).toString()}var P=e(58722),w=e(94565),V=e(65026),R=e(72065),A=e(48894),H=e(73910),U=e(97781),G=function(Oe,Pe,Me,ye){var _e=arguments.length,se=_e<3?Pe:ye===null?ye=Object.getOwnPropertyDescriptor(Pe,Me):ye,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Oe,Pe,Me,ye);else for(var xe=Oe.length-1;xe>=0;xe--)(ve=Oe[xe])&&(se=(_e<3?ve(se):_e>3?ve(Pe,Me,se):ve(Pe,Me))||se);return _e>3&&se&&Object.defineProperty(Pe,Me,se),se},j=function(Oe,Pe){return function(Me,ye){Pe(Me,ye,Oe)}},W;class K{constructor(){this._entries=new D.z6(50)}get(Pe){const Me=K._key(Pe);return this._entries.get(Me)}set(Pe,Me){const ye=K._key(Pe);this._entries.set(ye,Me)}static _key(Pe){return`${Pe.uri.toString()}/${Pe.getVersionId()}`}}const m=(0,R.yh)("IInlayHintsCache");(0,V.z)(m,K,1);class J{constructor(Pe,Me){this.item=Pe,this.index=Me}get part(){const Pe=this.item.hint.label;return typeof Pe=="string"?{label:Pe}:Pe[this.index]}}class X{constructor(Pe,Me){this.part=Pe,this.hasTriggerModifier=Me}}let ie=W=class{static get(Pe){var Me;return(Me=Pe.getContribution(W.ID))!==null&&Me!==void 0?Me:void 0}constructor(Pe,Me,ye,_e,se,ve,xe){this._editor=Pe,this._languageFeaturesService=Me,this._inlayHintsCache=_e,this._commandService=se,this._notificationService=ve,this._instaService=xe,this._disposables=new M.SL,this._sessionDisposables=new M.SL,this._decorationsMetadata=new Map,this._ruleFactory=new d.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=ye.for(Me.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Me.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Pe.onDidChangeModel(()=>this._update())),this._disposables.add(Pe.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Pe.onDidChangeConfiguration(je=>{je.hasChanged(139)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Pe=this._editor.getOption(139);if(Pe.enabled==="off")return;const Me=this._editor.getModel();if(!Me||!this._languageFeaturesService.inlayHintsProvider.has(Me))return;const ye=this._inlayHintsCache.get(Me);ye&&this._updateHintsDecorators([Me.getFullModelRange()],ye),this._sessionDisposables.add((0,M.OF)(()=>{Me.isDisposed()||this._cacheHintsForFastRestore(Me)}));let _e;const se=new Set,ve=new c.pY(()=>qt(this,null,function*(){const xe=Date.now();_e==null||_e.dispose(!0),_e=new _.A;const je=Me.onWillDispose(()=>_e==null?void 0:_e.cancel());try{const Ae=_e.token,Qe=yield $.create(this._languageFeaturesService.inlayHintsProvider,Me,this._getHintsRanges(),Ae);if(ve.delay=this._debounceInfo.update(Me,Date.now()-xe),Ae.isCancellationRequested){Qe.dispose();return}for(const rt of Qe.provider)typeof rt.onDidChangeInlayHints=="function"&&!se.has(rt)&&(se.add(rt),this._sessionDisposables.add(rt.onDidChangeInlayHints(()=>{ve.isScheduled()||ve.schedule()})));this._sessionDisposables.add(Qe),this._updateHintsDecorators(Qe.ranges,Qe.items),this._cacheHintsForFastRestore(Me)}catch(Ae){(0,I.dL)(Ae)}finally{_e.dispose(),je.dispose()}}),this._debounceInfo.get(Me));if(this._sessionDisposables.add(ve),this._sessionDisposables.add((0,M.OF)(()=>_e==null?void 0:_e.dispose(!0))),ve.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(xe=>{(xe.scrollTopChanged||!ve.isScheduled())&&ve.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(xe=>{const je=Math.max(ve.delay,1250);ve.schedule(je)})),Pe.enabled==="on")this._activeRenderMode=0;else{let xe,je;Pe.enabled==="onUnlessPressed"?(xe=0,je=1):(xe=1,je=0),this._activeRenderMode=xe,this._sessionDisposables.add(r._q.getInstance().event(Ae=>{if(!this._editor.hasModel())return;const Qe=Ae.altKey&&Ae.ctrlKey&&!(Ae.shiftKey||Ae.metaKey)?je:xe;if(Qe!==this._activeRenderMode){this._activeRenderMode=Qe;const rt=this._editor.getModel(),Dt=this._copyInlayHintsWithCurrentAnchor(rt);this._updateHintsDecorators([rt.getFullModelRange()],Dt),ve.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ve.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Pe=new M.SL,Me=Pe.add(new L.yN(this._editor)),ye=new M.SL;return Pe.add(ye),Pe.add(Me.onMouseMoveOrRelevantKeyDown(_e=>{const[se]=_e,ve=this._getInlayHintLabelPart(se),xe=this._editor.getModel();if(!ve||!xe){ye.clear();return}const je=new _.A;ye.add((0,M.OF)(()=>je.dispose(!0))),ve.item.resolve(je.token),this._activeInlayHintPart=ve.part.command||ve.part.location?new X(ve,se.hasTriggerModifier):void 0;const Ae=xe.validatePosition(ve.item.hint.position).lineNumber,Qe=new f.e(Ae,1,Ae,xe.getLineMaxColumn(Ae)),rt=this._getInlineHintsForRange(Qe);this._updateHintsDecorators([Qe],rt),ye.add((0,M.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Qe],rt)}))})),Pe.add(Me.onCancel(()=>ye.clear())),Pe.add(Me.onExecute(_e=>qt(this,null,function*(){const se=this._getInlayHintLabelPart(_e);if(se){const ve=se.part;ve.location?this._instaService.invokeFunction(P.K,_e,this._editor,ve.location):v.mY.is(ve.command)&&(yield this._invokeCommand(ve.command,se.item))}}))),Pe}_getInlineHintsForRange(Pe){const Me=new Set;for(const ye of this._decorationsMetadata.values())Pe.containsRange(ye.item.anchor.range)&&Me.add(ye.item);return Array.from(Me)}_installDblClickGesture(Pe){return this._editor.onMouseUp(Me=>qt(this,null,function*(){if(Me.event.detail!==2)return;const ye=this._getInlayHintLabelPart(Me);if(ye&&(Me.event.preventDefault(),yield ye.item.resolve(_.T.None),(0,E.Of)(ye.item.hint.textEdits))){const _e=ye.item.hint.textEdits.map(se=>n.h.replace(f.e.lift(se.range),se.text));this._editor.executeEdits("inlayHint.default",_e),Pe()}}))}_installContextMenu(){return this._editor.onContextMenu(Pe=>qt(this,null,function*(){if(!(Pe.event.target instanceof HTMLElement))return;const Me=this._getInlayHintLabelPart(Pe);Me&&(yield this._instaService.invokeFunction(P.u,this._editor,Pe.event.target,Me))}))}_getInlayHintLabelPart(Pe){var Me;if(Pe.target.type!==6)return;const ye=(Me=Pe.target.detail.injectedText)===null||Me===void 0?void 0:Me.options;if(ye instanceof S.HS&&(ye==null?void 0:ye.attachedData)instanceof J)return ye.attachedData}_invokeCommand(Pe,Me){return qt(this,null,function*(){var ye;try{yield this._commandService.executeCommand(Pe.id,...(ye=Pe.arguments)!==null&&ye!==void 0?ye:[])}catch(_e){this._notificationService.notify({severity:A.zb.Error,source:Me.provider.displayName,message:_e})}})}_cacheHintsForFastRestore(Pe){const Me=this._copyInlayHintsWithCurrentAnchor(Pe);this._inlayHintsCache.set(Pe,Me)}_copyInlayHintsWithCurrentAnchor(Pe){const Me=new Map;for(const[ye,_e]of this._decorationsMetadata){if(Me.has(_e.item))continue;const se=Pe.getDecorationRange(ye);if(se){const ve=new F(se,_e.item.anchor.direction),xe=_e.item.with({anchor:ve});Me.set(_e.item,xe)}}return Array.from(Me.values())}_getHintsRanges(){const Me=this._editor.getModel(),ye=this._editor.getVisibleRangesPlusViewportAboveBelow(),_e=[];for(const se of ye.sort(f.e.compareRangesUsingStarts)){const ve=Me.validateRange(new f.e(se.startLineNumber-30,se.startColumn,se.endLineNumber+30,se.endColumn));_e.length===0||!f.e.areIntersectingOrTouching(_e[_e.length-1],ve)?_e.push(ve):_e[_e.length-1]=f.e.plusRange(_e[_e.length-1],ve)}return _e}_updateHintsDecorators(Pe,Me){var ye,_e;const se=[],ve=(Mt,ti,Ft,ei,Xt)=>{const Ct={content:Ft,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ti.className,cursorStops:ei,attachedData:Xt};se.push({item:Mt,classNameRef:ti,decoration:{range:Mt.anchor.range,options:{description:"InlayHint",showIfCollapsed:Mt.anchor.range.isEmpty(),collapseOnReplaceEdit:!Mt.anchor.range.isEmpty(),stickiness:0,[Mt.anchor.direction]:this._activeRenderMode===0?Ct:void 0}}})},xe=(Mt,ti)=>{const Ft=this._ruleFactory.createClassNameRef({width:`${je/3|0}px`,display:"inline-block"});ve(Mt,Ft,"\u200A",ti?a.RM.Right:a.RM.None)},{fontSize:je,fontFamily:Ae,padding:Qe,isUniform:rt}=this._getLayoutInfo(),Dt="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Dt,Ae);for(const Mt of Me){Mt.hint.paddingLeft&&xe(Mt,!1);const ti=typeof Mt.hint.label=="string"?[{label:Mt.hint.label}]:Mt.hint.label;for(let Ft=0;Ft<ti.length;Ft++){const ei=ti[Ft],Xt=Ft===0,Ct=Ft===ti.length-1,ft={fontSize:`${je}px`,fontFamily:`var(${Dt}), ${i.hL.fontFamily}`,verticalAlign:rt?"baseline":"middle",unicodeBidi:"isolate"};(0,E.Of)(Mt.hint.textEdits)&&(ft.cursor="default"),this._fillInColors(ft,Mt.hint),(ei.command||ei.location)&&((ye=this._activeInlayHintPart)===null||ye===void 0?void 0:ye.part.item)===Mt&&this._activeInlayHintPart.part.index===Ft&&(ft.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(ft.color=(0,U.EN)(H._Yy),ft.cursor="pointer")),Qe&&(Xt&&Ct?(ft.padding=`1px ${Math.max(1,je/4)|0}px`,ft.borderRadius=`${je/4|0}px`):Xt?(ft.padding=`1px 0 1px ${Math.max(1,je/4)|0}px`,ft.borderRadius=`${je/4|0}px 0 0 ${je/4|0}px`):Ct?(ft.padding=`1px ${Math.max(1,je/4)|0}px 1px 0`,ft.borderRadius=`0 ${je/4|0}px ${je/4|0}px 0`):ft.padding="1px 0 1px 0"),ve(Mt,this._ruleFactory.createClassNameRef(ft),le(ei.label),Ct&&!Mt.hint.paddingRight?a.RM.Right:a.RM.None,new J(Mt,Ft))}if(Mt.hint.paddingRight&&xe(Mt,!0),se.length>W._MAX_DECORATORS)break}const at=[];for(const Mt of Pe)for(const{id:ti}of(_e=this._editor.getDecorationsInRange(Mt))!==null&&_e!==void 0?_e:[]){const Ft=this._decorationsMetadata.get(ti);Ft&&(at.push(ti),Ft.classNameRef.dispose(),this._decorationsMetadata.delete(ti))}const vt=u.Z.capture(this._editor);this._editor.changeDecorations(Mt=>{const ti=Mt.deltaDecorations(at,se.map(Ft=>Ft.decoration));for(let Ft=0;Ft<ti.length;Ft++){const ei=se[Ft];this._decorationsMetadata.set(ti[Ft],ei)}}),vt.restore(this._editor)}_fillInColors(Pe,Me){Me.kind===v.gl.Parameter?(Pe.backgroundColor=(0,U.EN)(H.phM),Pe.color=(0,U.EN)(H.HCL)):Me.kind===v.gl.Type?(Pe.backgroundColor=(0,U.EN)(H.bKB),Pe.color=(0,U.EN)(H.hX8)):(Pe.backgroundColor=(0,U.EN)(H.PpC),Pe.color=(0,U.EN)(H.VVv))}_getLayoutInfo(){const Pe=this._editor.getOption(139),Me=Pe.padding,ye=this._editor.getOption(52),_e=this._editor.getOption(49);let se=Pe.fontSize;(!se||se<5||se>ye)&&(se=ye);const ve=Pe.fontFamily||_e;return{fontSize:se,fontFamily:ve,padding:Me,isUniform:!Me&&ve===_e&&se===ye}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Pe of this._decorationsMetadata.values())Pe.classNameRef.dispose();this._decorationsMetadata.clear()}};ie.ID="editor.contrib.InlayHints",ie._MAX_DECORATORS=1500,ie=W=G([j(1,y.p),j(2,g.A),j(3,m),j(4,w.H),j(5,A.lT),j(6,R.TG)],ie);function le(Oe){const Pe="\xA0";return Oe.replace(/[ \t]/g,Pe)}w.P.registerCommand("_executeInlayHintProvider",(Oe,...Pe)=>qt(this,null,function*(){const[Me,ye]=Pe;(0,p.p_)(o.o.isUri(Me)),(0,p.p_)(f.e.isIRange(ye));const{inlayHintsProvider:_e}=Oe.get(y.p),se=yield Oe.get(C.S).createModelReference(Me);try{const ve=yield $.create(_e,se.object.textEditorModel,[f.e.lift(ye)],_.T.None),xe=ve.items.map(je=>je.hint);return setTimeout(()=>ve.dispose(),0),xe}finally{se.dispose()}}));var fe=e(59365),Le=e(72042),pe=e(41095),Te=e(22374),De=e(33108),ae=e(50988),Ne=e(63580),We=e(1432),ze=function(Oe,Pe,Me,ye){var _e=arguments.length,se=_e<3?Pe:ye===null?ye=Object.getOwnPropertyDescriptor(Pe,Me):ye,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Oe,Pe,Me,ye);else for(var xe=Oe.length-1;xe>=0;xe--)(ve=Oe[xe])&&(se=(_e<3?ve(se):_e>3?ve(Pe,Me,se):ve(Pe,Me))||se);return _e>3&&se&&Object.defineProperty(Pe,Me,se),se},Se=function(Oe,Pe){return function(Me,ye){Pe(Me,ye,Oe)}};class ne extends z.YM{constructor(Pe,Me,ye,_e){super(10,Me,Pe.item.anchor.range,ye,_e,!0),this.part=Pe}}let ce=class extends Te.D5{constructor(Pe,Me,ye,_e,se,ve){super(Pe,Me,ye,_e,ve),this._resolverService=se,this.hoverOrdinal=6}suggestHoverAnchor(Pe){var Me;if(!ie.get(this._editor)||Pe.target.type!==6)return null;const _e=(Me=Pe.target.detail.injectedText)===null||Me===void 0?void 0:Me.options;return _e instanceof S.HS&&_e.attachedData instanceof J?new ne(_e.attachedData,this,Pe.event.posx,Pe.event.posy):null}computeSync(){return[]}computeAsync(Pe,Me,ye){return Pe instanceof ne?new c.Aq(_e=>qt(this,null,function*(){const{part:se}=Pe;if(yield se.item.resolve(ye),ye.isCancellationRequested)return;let ve;typeof se.item.hint.tooltip=="string"?ve=new fe.W5().appendText(se.item.hint.tooltip):se.item.hint.tooltip&&(ve=se.item.hint.tooltip),ve&&_e.emitOne(new Te.hU(this,Pe.range,[ve],!1,0)),(0,E.Of)(se.item.hint.textEdits)&&_e.emitOne(new Te.hU(this,Pe.range,[new fe.W5().appendText((0,Ne.NC)("hint.dbl","Double-click to insert"))],!1,10001));let xe;if(typeof se.part.tooltip=="string"?xe=new fe.W5().appendText(se.part.tooltip):se.part.tooltip&&(xe=se.part.tooltip),xe&&_e.emitOne(new Te.hU(this,Pe.range,[xe],!1,1)),se.part.location||se.part.command){let at;const Mt=this._editor.getOption(77)==="altKey"?We.dz?(0,Ne.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,Ne.NC)("links.navigate.kb.meta","ctrl + click"):We.dz?(0,Ne.NC)("links.navigate.kb.alt.mac","option + click"):(0,Ne.NC)("links.navigate.kb.alt","alt + click");se.part.location&&se.part.command?at=new fe.W5().appendText((0,Ne.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Mt)):se.part.location?at=new fe.W5().appendText((0,Ne.NC)("hint.def","Go to Definition ({0})",Mt)):se.part.command&&(at=new fe.W5(`[${(0,Ne.NC)("hint.cmd","Execute Command")}](${Y(se.part.command)} "${se.part.command.title}") (${Mt})`,{isTrusted:!0})),at&&_e.emitOne(new Te.hU(this,Pe.range,[at],!1,1e4))}const je=yield this._resolveInlayHintLabelPartHover(se,ye);try{for(var Ae=wa(je),Qe,rt,Dt;Qe=!(rt=yield Ae.next()).done;Qe=!1){const at=rt.value;_e.emitOne(at)}}catch(rt){Dt=[rt]}finally{try{Qe&&(rt=Ae.return)&&(yield rt.call(Ae))}finally{if(Dt)throw Dt[0]}}})):c.Aq.EMPTY}_resolveInlayHintLabelPartHover(Pe,Me){return qt(this,null,function*(){if(!Pe.part.location)return c.Aq.EMPTY;const{uri:ye,range:_e}=Pe.part.location,se=yield this._resolverService.createModelReference(ye);try{const ve=se.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(ve)?(0,pe.R8)(this._languageFeaturesService.hoverProvider,ve,new O.L(_e.startLineNumber,_e.startColumn),Me).filter(xe=>!(0,fe.CP)(xe.hover.contents)).map(xe=>new Te.hU(this,Pe.item.anchor.range,xe.hover.contents,!1,2+xe.ordinal)):c.Aq.EMPTY}finally{se.dispose()}})}};ce=ze([Se(1,Le.O),Se(2,ae.v),Se(3,De.Ui),Se(4,C.S),Se(5,y.p)],ce),(0,b._K)(ie.ID,ie,1),z.Ae.register(ce)},58722:function(Pt,Ke,e){"use strict";e.d(Ke,{K:function(){return f},u:function(){return n}});var b=e(65321),z=e(74741),r=e(71050),E=e(98e3),c=e(24314),_=e(88216),I=e(95817),M=e(60865),D=e(84144),p=e(94565),o=e(32064),d=e(5606),u=e(72065),i=e(48894);function n(v,a,S,g){return qt(this,null,function*(){var y;const C=v.get(_.S),L=v.get(d.i),O=v.get(p.H),T=v.get(u.TG),F=v.get(i.lT);if(yield g.item.resolve(r.T.None),!g.part.location)return;const B=g.part.location,$=[],Y=new Set(D.BH.getMenuItems(D.eH.EditorContext).map(w=>(0,D.vr)(w)?w.command.id:(0,E.R)()));for(const w of I.Bj.all())Y.has(w.desc.id)&&$.push(new z.aU(w.desc.id,D.U8.label(w.desc,{renderShortTitle:!0}),void 0,!0,()=>qt(this,null,function*(){const V=yield C.createModelReference(B.uri);try{const R=new I._k(V.object.textEditorModel,c.e.getStartPosition(B.range)),A=g.item.anchor.range;yield T.invokeFunction(w.runEditorCommand.bind(w),a,R,A)}finally{V.dispose()}})));if(g.part.command){const{command:w}=g.part;$.push(new z.Z0),$.push(new z.aU(w.id,w.title,void 0,!0,()=>qt(this,null,function*(){var V;try{yield O.executeCommand(w.id,...(V=w.arguments)!==null&&V!==void 0?V:[])}catch(R){F.notify({severity:i.zb.Error,source:g.item.provider.displayName,message:R})}})))}const P=a.getOption(126);L.showContextMenu({domForShadowRoot:P&&(y=a.getDomNode())!==null&&y!==void 0?y:void 0,getAnchor:()=>{const w=b.i(S);return{x:w.left,y:w.top+w.height+8}},getActions:()=>$,onHide:()=>{a.focus()},autoSelectFirstItem:!0})})}function f(v,a,S,g){return qt(this,null,function*(){const C=yield v.get(_.S).createModelReference(g.uri);yield S.invokeWithinContext(L=>qt(this,null,function*(){const O=a.hasSideBySideModifier,T=L.get(o.i6),F=M.Jy.inPeekEditor.getValue(T),B=!O&&S.getOption(87)&&!F;return new I.BT({openToSide:O,openInPeek:B,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(L,new I._k(C.object.textEditorModel,c.e.getStartPosition(g.range)),c.e.lift(g.range))})),C.dispose()})}},96020:function(Pt,Ke,e){"use strict";e.d(Ke,{Np:function(){return z},OW:function(){return r},Ou:function(){return b}});const b="editor.action.inlineSuggest.commit",z="editor.action.inlineSuggest.showPrevious",r="editor.action.inlineSuggest.showNext"},78573:function(Pt,Ke,e){"use strict";e.d(Ke,{f:function(){return I}});var b=e(99692),z=e(97295),r=e(7988),E=e(32064),c=e(5976),_=e(63580);class I extends c.JT{constructor(D,p){super(),this.contextKeyService=D,this.model=p,this.inlineCompletionVisible=I.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=I.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=I.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=I.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,b.EH)(o=>{const d=this.model.read(o),u=d==null?void 0:d.state.read(o),i=!!(u!=null&&u.inlineCompletion)&&(u==null?void 0:u.ghostText)!==void 0&&!(u!=null&&u.ghostText.isEmpty());this.inlineCompletionVisible.set(i),u!=null&&u.ghostText&&(u!=null&&u.inlineCompletion)&&this.suppressSuggestions.set(u.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,b.EH)(o=>{const d=this.model.read(o);let u=!1,i=!0;const n=d==null?void 0:d.ghostText.read(o);if(d!=null&&d.selectedSuggestItem&&n&&n.parts.length>0){const{column:f,lines:v}=n.parts[0],a=v[0],S=d.textModel.getLineIndentColumn(n.lineNumber);if(f<=S){let y=(0,z.LC)(a);y===-1&&(y=a.length-1),u=y>0;const C=d.textModel.getOptions().tabSize;i=r.i.visibleColumnFromColumn(a,y+1,C)<C}}this.inlineCompletionSuggestsIndentation.set(u),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}))}}I.inlineSuggestionVisible=new E.uy("inlineSuggestionVisible",!1,(0,_.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),I.inlineSuggestionHasIndentation=new E.uy("inlineSuggestionHasIndentation",!1,(0,_.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),I.inlineSuggestionHasIndentationLessThanTabSize=new E.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,_.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),I.suppressSuggestions=new E.uy("inlineSuggestionSuppressSuggestions",void 0,(0,_.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},42961:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(66520),r=e(99692),E=e(96512),c=e(29102),_=e(96020),I=e(78573),M=e(35996),D=e(5976),p=e(42549),o=e(50187),d=e(88191),u=e(71922),i=e(77514),n=e(4669),f=e(97295),v=e(52136),a=e(64141),S=e(24314),g=e(50072),y=e(72042),C=e(84973),L=e(77378),O=e(92550),T=e(72202),F=e(17301);function B(we,be){const ke=new $(we),He=be.map(Ye=>{const ut=S.e.lift(Ye.range);return{startOffset:ke.getOffset(ut.getStartPosition()),endOffset:ke.getOffset(ut.getEndPosition()),text:Ye.text}});He.sort((Ye,ut)=>ut.startOffset-Ye.startOffset);for(const Ye of He)we=we.substring(0,Ye.startOffset)+Ye.text+we.substring(Ye.endOffset);return we}class ${constructor(be){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let ke=0;ke<be.length;ke++)be.charAt(ke)===`
`&&this.lineStartOffsetByLineIdx.push(ke+1)}getOffset(be){return this.lineStartOffsetByLineIdx[be.lineNumber-1]+be.column-1}}const Y=[];function P(){return Y}class w{constructor(be,ke){if(this.startColumn=be,this.endColumnExclusive=ke,be>ke)throw new F.he(`startColumn ${be} cannot be after endColumnExclusive ${ke}`)}toRange(be){return new S.e(be,this.startColumn,be,this.endColumnExclusive)}equals(be){return this.startColumn===be.startColumn&&this.endColumnExclusive===be.endColumnExclusive}}function V(we,be){const ke=new D.SL,He=we.createDecorationsCollection();return ke.add((0,r.UV)({debugName:()=>`Apply decorations from ${be.debugName}`},Ye=>{const ut=be.read(Ye);He.set(ut)})),ke.add({dispose:()=>{He.clear()}}),ke}function R(we,be){return new o.L(we.lineNumber+be.lineNumber-1,be.lineNumber===1?we.column+be.column-1:be.column)}function A(we){let be=1,ke=1;for(const He of we)He===`
`?(be++,ke=1):ke++;return new o.L(be,ke)}class H{constructor(be,ke){this.lineNumber=be,this.parts=ke}equals(be){return this.lineNumber===be.lineNumber&&this.parts.length===be.parts.length&&this.parts.every((ke,He)=>ke.equals(be.parts[He]))}renderForScreenReader(be){if(this.parts.length===0)return"";const ke=this.parts[this.parts.length-1],He=be.substr(0,ke.column-1);return B(He,this.parts.map(ut=>({range:{startLineNumber:1,endLineNumber:1,startColumn:ut.column,endColumn:ut.column},text:ut.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(be=>be.lines.length===0)}get lineCount(){return 1+this.parts.reduce((be,ke)=>be+ke.lines.length-1,0)}}class U{constructor(be,ke,He){this.column=be,this.lines=ke,this.preview=He}equals(be){return this.column===be.column&&this.lines.length===be.lines.length&&this.lines.every((ke,He)=>ke===be.lines[He])}}class G{constructor(be,ke,He,Ye=0){this.lineNumber=be,this.columnRange=ke,this.newLines=He,this.additionalReservedLineCount=Ye,this.parts=[new U(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(be){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(be=>be.lines.length===0)}equals(be){return this.lineNumber===be.lineNumber&&this.columnRange.equals(be.columnRange)&&this.newLines.length===be.newLines.length&&this.newLines.every((ke,He)=>ke===be.newLines[He])&&this.additionalReservedLineCount===be.additionalReservedLineCount}}function j(we,be){return we===be?!0:!we||!be?!1:we instanceof H&&be instanceof H||we instanceof G&&be instanceof G?we.equals(be):!1}var W=function(we,be,ke,He){var Ye=arguments.length,ut=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,ke):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(we,be,ke,He);else for(var gi=we.length-1;gi>=0;gi--)($t=we[gi])&&(ut=(Ye<3?$t(ut):Ye>3?$t(be,ke,ut):$t(be,ke))||ut);return Ye>3&&ut&&Object.defineProperty(be,ke,ut),ut},K=function(we,be){return function(ke,He){be(ke,He,we)}};const m="ghost-text";let J=class extends D.JT{constructor(be,ke,He){super(),this.editor=be,this.model=ke,this.languageService=He,this.isDisposed=(0,r.uh)(this,!1),this.currentTextModel=(0,r.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,r.nK)(this,Ye=>{if(this.isDisposed.read(Ye))return;const ut=this.currentTextModel.read(Ye);if(ut!==this.model.targetTextModel.read(Ye))return;const $t=this.model.ghostText.read(Ye);if(!$t)return;const gi=$t instanceof G?$t.columnRange:void 0,ci=[],ai=[];function ct(zt,mi){if(ai.length>0){const ui=ai[ai.length-1];mi&&ui.decorations.push(new O.Kp(ui.content.length+1,ui.content.length+1+zt[0].length,mi,0)),ui.content+=zt[0],zt=zt.slice(1)}for(const ui of zt)ai.push({content:ui,decorations:mi?[new O.Kp(1,ui.length+1,mi,0)]:[]})}const Nt=ut.getLineContent($t.lineNumber);let Et,It=0;for(const zt of $t.parts){let mi=zt.lines;Et===void 0?(ci.push({column:zt.column,text:mi[0],preview:zt.preview}),mi=mi.slice(1)):ct([Nt.substring(It,zt.column-1)],void 0),mi.length>0&&(ct(mi,m),Et===void 0&&zt.column<=Nt.length&&(Et=zt.column)),It=zt.column-1}Et!==void 0&&ct([Nt.substring(It)],void 0);const Gt=Et!==void 0?new w(Et,Nt.length+1):void 0;return{replacedRange:gi,inlineTexts:ci,additionalLines:ai,hiddenRange:Gt,lineNumber:$t.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(Ye),targetTextModel:ut}}),this.decorations=(0,r.nK)(this,Ye=>{const ut=this.uiState.read(Ye);if(!ut)return[];const $t=[];ut.replacedRange&&$t.push({range:ut.replacedRange.toRange(ut.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),ut.hiddenRange&&$t.push({range:ut.hiddenRange.toRange(ut.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const gi of ut.inlineTexts)$t.push({range:S.e.fromPositions(new o.L(ut.lineNumber,gi.column)),options:{description:m,after:{content:gi.text,inlineClassName:gi.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:C.RM.Left},showIfCollapsed:!0}});return $t}),this.additionalLinesWidget=this._register(new X(this.editor,this.languageService.languageIdCodec,(0,r.nK)(Ye=>{const ut=this.uiState.read(Ye);return ut?{lineNumber:ut.lineNumber,additionalLines:ut.additionalLines,minReservedLineCount:ut.additionalReservedLineCount,targetTextModel:ut.targetTextModel}:void 0}))),this._register((0,D.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register(V(this.editor,this.decorations))}ownsViewZone(be){return this.additionalLinesWidget.viewZoneId===be}};J=W([K(2,y.O)],J);class X extends D.JT{get viewZoneId(){return this._viewZoneId}constructor(be,ke,He){super(),this.editor=be,this.languageIdCodec=ke,this.lines=He,this._viewZoneId=void 0,this.editorOptionsChanged=(0,r.aq)("editorOptionChanged",n.ju.filter(this.editor.onDidChangeConfiguration,Ye=>Ye.hasChanged(33)||Ye.hasChanged(116)||Ye.hasChanged(98)||Ye.hasChanged(93)||Ye.hasChanged(51)||Ye.hasChanged(50)||Ye.hasChanged(66))),this._register((0,r.EH)(Ye=>{const ut=this.lines.read(Ye);this.editorOptionsChanged.read(Ye),ut?this.updateLines(ut.lineNumber,ut.additionalLines,ut.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(be=>{this._viewZoneId&&(be.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(be,ke,He){const Ye=this.editor.getModel();if(!Ye)return;const{tabSize:ut}=Ye.getOptions();this.editor.changeViewZones($t=>{this._viewZoneId&&($t.removeZone(this._viewZoneId),this._viewZoneId=void 0);const gi=Math.max(ke.length,He);if(gi>0){const ci=document.createElement("div");ie(ci,ut,ke,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=$t.addZone({afterLineNumber:be,heightInLines:gi,domNode:ci,afterColumnAffinity:1})}})}}function ie(we,be,ke,He,Ye){const ut=He.get(33),$t=He.get(116),gi="none",ci=He.get(93),ai=He.get(51),ct=He.get(50),Nt=He.get(66),Et=new g.HT(1e4);Et.appendString('<div class="suggest-preview-text">');for(let zt=0,mi=ke.length;zt<mi;zt++){const ui=ke[zt],Ti=ui.content;Et.appendString('<div class="view-line'),Et.appendString('" style="top:'),Et.appendString(String(zt*Nt)),Et.appendString('px;width:1000000px;">');const Ri=f.$i(Ti),tn=f.Ut(Ti),gn=L.A.createEmpty(Ti,Ye);(0,T.d1)(new T.IJ(ct.isMonospace&&!ut,ct.canUseHalfwidthRightwardsArrow,Ti,!1,Ri,tn,0,gn,ui.decorations,be,0,ct.spaceWidth,ct.middotWidth,ct.wsmiddotWidth,$t,gi,ci,ai!==a.n0.OFF,null),Et),Et.appendString("</div>")}Et.appendString("</div>"),(0,v.N)(we,ct);const It=Et.build(),Gt=le?le.createHTML(It):It;we.innerHTML=Gt}const le=(0,i.Z)("editorGhostText",{createHTML:we=>we});var fe=e(73485),Le=e(35534),pe=e(98401),Te=e(69386),De=e(43155),ae=e(4256),Ne=e(71050),We=e(60075),ze=e(35146),Se=e(15393),ne=e(43702),ce=e(35382),Oe=e(45035),Pe=e(64837),Me=e(61761),ye=e(6735);function _e(we,be){const ke=new Me.FE,He=new ce.Z(ke,ai=>be.getLanguageConfiguration(ai)),Ye=new ye.xH(new se([we]),He),ut=(0,Pe.w)(Ye,[],void 0,!0);let $t="";const gi=we.getLineContent();function ci(ai,ct){if(ai.kind===2)if(ci(ai.openingBracket,ct),ct=(0,Oe.Ii)(ct,ai.openingBracket.length),ai.child&&(ci(ai.child,ct),ct=(0,Oe.Ii)(ct,ai.child.length)),ai.closingBracket)ci(ai.closingBracket,ct),ct=(0,Oe.Ii)(ct,ai.closingBracket.length);else{const Et=He.getSingleLanguageBracketTokens(ai.openingBracket.languageId).findClosingTokenText(ai.openingBracket.bracketIds);$t+=Et}else if(ai.kind!==3){if(ai.kind===0||ai.kind===1)$t+=gi.substring((0,Oe.F_)(ct),(0,Oe.F_)((0,Oe.Ii)(ct,ai.length)));else if(ai.kind===4)for(const Nt of ai.children)ci(Nt,ct),ct=(0,Oe.Ii)(ct,Nt.length)}}return ci(ut,Oe.xl),$t}class se{constructor(be){this.lines=be,this.tokenization={getLineTokens:ke=>this.lines[ke-1]}}getLineCount(){return this.lines.length}getLineLength(be){return this.lines[be-1].getLineContent().length}}var ve=e(35084);function xe($t,gi,ci,ai){return qt(this,arguments,function*(we,be,ke,He,Ye=Ne.T.None,ut){const ct=rt(be,ke),Nt=we.all(ke),Et=new ne.ri;for(const gn of Nt)gn.groupId&&Et.add(gn.groupId,gn);function It(gn){if(!gn.yieldsToGroupIds)return[];const wn=[];for(const An of gn.yieldsToGroupIds||[]){const Bn=Et.get(An);for(const Tn of Bn)wn.push(Tn)}return wn}const Gt=new Map,zt=new Set;function mi(gn,wn){if(wn=[...wn,gn],zt.has(gn))return wn;zt.add(gn);try{const An=It(gn);for(const Bn of An){const Tn=mi(Bn,wn);if(Tn)return Tn}}finally{zt.delete(gn)}}function ui(gn){const wn=Gt.get(gn);if(wn)return wn;const An=mi(gn,[]);An&&(0,F.Cp)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${An.map(Tn=>Tn.toString?Tn.toString():""+Tn).join(" -> ")}`));const Bn=new Se.CR;return Gt.set(gn,Bn.p),(()=>qt(this,null,function*(){if(!An){const Tn=It(gn);for(const es of Tn){const Un=yield ui(es);if(Un&&Un.items.length>0)return}}try{return yield gn.provideInlineCompletions(ke,be,He,Ye)}catch(Tn){(0,F.Cp)(Tn);return}}))().then(Tn=>Bn.complete(Tn),Tn=>Bn.error(Tn)),Bn.p}const Ti=yield Promise.all(Nt.map(gn=>qt(this,null,function*(){return{provider:gn,completions:yield ui(gn)}}))),Ri=new Map,tn=[];for(const gn of Ti){const wn=gn.completions;if(!wn)continue;const An=new Ae(wn,gn.provider);tn.push(An);for(const Bn of wn.items){const Tn=Qe.from(Bn,An,ct,ke,ut);Ri.set(Tn.hash(),Tn)}}return new je(Array.from(Ri.values()),new Set(Ri.keys()),tn)})}class je{constructor(be,ke,He){this.completions=be,this.hashs=ke,this.providerResults=He}has(be){return this.hashs.has(be.hash())}dispose(){for(const be of this.providerResults)be.removeRef()}}class Ae{constructor(be,ke){this.inlineCompletions=be,this.provider=ke,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class Qe{static from(be,ke,He,Ye,ut){let $t,gi,ci=be.range?S.e.lift(be.range):He;if(typeof be.insertText=="string"){if($t=be.insertText,ut&&be.completeBracketPairs){$t=Dt($t,ci.getStartPosition(),Ye,ut);const ai=$t.length-be.insertText.length;ai!==0&&(ci=new S.e(ci.startLineNumber,ci.startColumn,ci.endLineNumber,ci.endColumn+ai))}gi=void 0}else if("snippet"in be.insertText){const ai=be.insertText.snippet.length;if(ut&&be.completeBracketPairs){be.insertText.snippet=Dt(be.insertText.snippet,ci.getStartPosition(),Ye,ut);const Nt=be.insertText.snippet.length-ai;Nt!==0&&(ci=new S.e(ci.startLineNumber,ci.startColumn,ci.endLineNumber,ci.endColumn+Nt))}const ct=new ve.Yj().parse(be.insertText.snippet);ct.children.length===1&&ct.children[0]instanceof ve.xv?($t=ct.children[0].value,gi=void 0):($t=ct.toString(),gi={snippet:be.insertText.snippet,range:ci})}else(0,ze.vE)(be.insertText);return new Qe($t,be.command,ci,$t,gi,be.additionalTextEdits||P(),be,ke)}constructor(be,ke,He,Ye,ut,$t,gi,ci){this.filterText=be,this.command=ke,this.range=He,this.insertText=Ye,this.snippetInfo=ut,this.additionalTextEdits=$t,this.sourceInlineCompletion=gi,this.source=ci,be=be.replace(/\r\n|\r/g,`
`),Ye=be.replace(/\r\n|\r/g,`
`)}withRange(be){return new Qe(this.filterText,this.command,be,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function rt(we,be){const ke=be.getWordAtPosition(we),He=be.getLineMaxColumn(we.lineNumber);return ke?new S.e(we.lineNumber,ke.startColumn,we.lineNumber,He):S.e.fromPositions(we,we.with(void 0,He))}function Dt(we,be,ke,He){const ut=ke.getLineContent(be.lineNumber).substring(0,be.column-1)+we,$t=ke.tokenization.tokenizeLineWithEdit(be,ut.length-(be.column-1),we),gi=$t==null?void 0:$t.sliceAndInflate(be.column-1,ut.length,0);return gi?_e(gi,He):we}var at=e(22571);class vt{constructor(be,ke){this.range=be,this.text=ke}removeCommonPrefix(be,ke){const He=ke?this.range.intersectRanges(ke):this.range;if(!He)return this;const Ye=be.getValueInRange(He,1),ut=(0,f.Mh)(Ye,this.text),$t=R(this.range.getStartPosition(),A(Ye.substring(0,ut))),gi=this.text.substring(ut),ci=S.e.fromPositions($t,this.range.getEndPosition());return new vt(ci,gi)}augments(be){return this.text.startsWith(be.text)&&Mt(this.range,be.range)}computeGhostText(be,ke,He,Ye=0){let ut=this.removeCommonPrefix(be);if(ut.range.endLineNumber!==ut.range.startLineNumber)return;const $t=be.getLineContent(ut.range.startLineNumber),gi=(0,f.V8)($t).length;if(ut.range.startColumn-1<=gi){const Gt=(0,f.V8)(ut.text).length,zt=$t.substring(ut.range.startColumn-1,gi),[mi,ui]=[ut.range.getStartPosition(),ut.range.getEndPosition()],Ti=mi.column+zt.length<=ui.column?mi.delta(0,zt.length):ui,Ri=S.e.fromPositions(Ti,ui),tn=ut.text.startsWith(zt)?ut.text.substring(zt.length):ut.text.substring(Gt);ut=new vt(Ri,tn)}const ai=be.getValueInRange(ut.range),ct=Ft(ai,ut.text);if(!ct)return;const Nt=ut.range.startLineNumber,Et=new Array;if(ke==="prefix"){const Gt=ct.filter(zt=>zt.originalLength===0);if(Gt.length>1||Gt.length===1&&Gt[0].originalStart!==ai.length)return}const It=ut.text.length-Ye;for(const Gt of ct){const zt=ut.range.startColumn+Gt.originalStart+Gt.originalLength;if(ke==="subwordSmart"&&He&&He.lineNumber===ut.range.startLineNumber&&zt<He.column||Gt.originalLength>0)return;if(Gt.modifiedLength===0)continue;const mi=Gt.modifiedStart+Gt.modifiedLength,ui=Math.max(Gt.modifiedStart,Math.min(mi,It)),Ti=ut.text.substring(Gt.modifiedStart,ui),Ri=ut.text.substring(ui,Math.max(Gt.modifiedStart,mi));if(Ti.length>0){const tn=(0,f.uq)(Ti);Et.push(new U(zt,tn,!1))}if(Ri.length>0){const tn=(0,f.uq)(Ri);Et.push(new U(zt,tn,!0))}}return new H(Nt,Et)}}function Mt(we,be){return be.getStartPosition().equals(we.getStartPosition())&&be.getEndPosition().isBeforeOrEqual(we.getEndPosition())}let ti;function Ft(we,be){if((ti==null?void 0:ti.originalValue)===we&&(ti==null?void 0:ti.newValue)===be)return ti==null?void 0:ti.changes;{let ke=Xt(we,be,!0);if(ke){const He=ei(ke);if(He>0){const Ye=Xt(we,be,!1);Ye&&ei(Ye)<He&&(ke=Ye)}}return ti={originalValue:we,newValue:be,changes:ke},ke}}function ei(we){let be=0;for(const ke of we)be+=ke.originalLength;return be}function Xt(we,be,ke){if(we.length>5e3||be.length>5e3)return;function He(ai){let ct=0;for(let Nt=0,Et=ai.length;Nt<Et;Nt++){const It=ai.charCodeAt(Nt);It>ct&&(ct=It)}return ct}const Ye=Math.max(He(we),He(be));function ut(ai){if(ai<0)throw new Error("unexpected");return Ye+ai+1}function $t(ai){let ct=0,Nt=0;const Et=new Int32Array(ai.length);for(let It=0,Gt=ai.length;It<Gt;It++)if(ke&&ai[It]==="("){const zt=Nt*100+ct;Et[It]=ut(2*zt),ct++}else if(ke&&ai[It]===")"){ct=Math.max(ct-1,0);const zt=Nt*100+ct;Et[It]=ut(2*zt+1),ct===0&&Nt++}else Et[It]=ai.charCodeAt(It);return Et}const gi=$t(we),ci=$t(be);return new at.Hs({getElements:()=>gi},{getElements:()=>ci}).ComputeDiff(!1).changes}var Ct=function(we,be,ke,He){var Ye=arguments.length,ut=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,ke):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(we,be,ke,He);else for(var gi=we.length-1;gi>=0;gi--)($t=we[gi])&&(ut=(Ye<3?$t(ut):Ye>3?$t(be,ke,ut):$t(be,ke))||ut);return Ye>3&&ut&&Object.defineProperty(be,ke,ut),ut},ft=function(we,be){return function(ke,He){be(ke,He,we)}};let Bt=class extends D.JT{constructor(be,ke,He,Ye,ut){super(),this.textModel=be,this.versionId=ke,this._debounceValue=He,this.languageFeaturesService=Ye,this.languageConfigurationService=ut,this._updateOperation=this._register(new D.XK),this.inlineCompletions=(0,r.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,r.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(be,ke,He){var Ye,ut;const $t=new Ge(be,ke,this.textModel.getVersionId()),gi=ke.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((Ye=this._updateOperation.value)===null||Ye===void 0)&&Ye.request.satisfies($t))return this._updateOperation.value.promise;if(!((ut=gi.get())===null||ut===void 0)&&ut.request.satisfies($t))return Promise.resolve(!0);const ci=!!this._updateOperation.value;this._updateOperation.clear();const ai=new Ne.A,ct=(()=>qt(this,null,function*(){if((ci||ke.triggerKind===De.bw.Automatic)&&(yield kt(this._debounceValue.get(this.textModel))),ai.token.isCancellationRequested||this.textModel.getVersionId()!==$t.versionId)return!1;const It=new Date,Gt=yield xe(this.languageFeaturesService.inlineCompletionsProvider,be,this.textModel,ke,ai.token,this.languageConfigurationService);if(ai.token.isCancellationRequested||this.textModel.getVersionId()!==$t.versionId)return!1;const zt=new Date;this._debounceValue.update(this.textModel,zt.getTime()-It.getTime());const mi=new Oi(Gt,$t,this.textModel,this.versionId);if(He){const ui=He.toInlineCompletion(void 0);He.canBeReused(this.textModel,be)&&!Gt.has(ui)&&mi.prepend(He.inlineCompletion,ui.range,!0)}return this._updateOperation.clear(),(0,r.PS)(ui=>{gi.set(mi,ui)}),!0}))(),Nt=new Ci($t,ai,ct);return this._updateOperation.value=Nt,ct}clear(be){this._updateOperation.clear(),this.inlineCompletions.set(void 0,be),this.suggestWidgetInlineCompletions.set(void 0,be)}clearSuggestWidgetInlineCompletions(be){var ke;!((ke=this._updateOperation.value)===null||ke===void 0)&&ke.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,be)}cancelUpdate(){this._updateOperation.clear()}};Bt=Ct([ft(3,u.p),ft(4,ae.c_)],Bt);function kt(we,be){return new Promise(ke=>{let He;const Ye=setTimeout(()=>{He&&He.dispose(),ke()},we);be&&(He=be.onCancellationRequested(()=>{clearTimeout(Ye),He&&He.dispose(),ke()}))})}class Ge{constructor(be,ke,He){this.position=be,this.context=ke,this.versionId=He}satisfies(be){return this.position.equals(be.position)&&St(this.context.selectedSuggestionInfo,be.context.selectedSuggestionInfo,(ke,He)=>ke.equals(He))&&(be.context.triggerKind===De.bw.Automatic||this.context.triggerKind===De.bw.Explicit)&&this.versionId===be.versionId}}function St(we,be,ke){return!we||!be?we===be:ke(we,be)}class Ci{constructor(be,ke,He){this.request=be,this.cancellationTokenSource=ke,this.promise=He}dispose(){this.cancellationTokenSource.cancel()}}class Oi{get inlineCompletions(){return this._inlineCompletions}constructor(be,ke,He,Ye){this.inlineCompletionProviderResult=be,this.request=ke,this.textModel=He,this.versionId=Ye,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,r.nK)(this,$t=>{this.versionId.read($t);let gi=!1;for(const ci of this._inlineCompletions)gi=gi||ci._updateRange(this.textModel);return gi&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const ut=He.deltaDecorations([],be.completions.map($t=>({range:$t.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=be.completions.map(($t,gi)=>new xi($t,ut[gi],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(be=>be.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const be of this._prependedInlineCompletionItems)be.source.removeRef()}}prepend(be,ke,He){He&&be.source.addRef();const Ye=this.textModel.deltaDecorations([],[{range:ke,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new xi(be,Ye,this._rangeVersionId,ke)),this._prependedInlineCompletionItems.push(be)}}class xi{get forwardStable(){var be;return(be=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&be!==void 0?be:!1}constructor(be,ke,He,Ye){this.inlineCompletion=be,this.decorationId=ke,this.rangeVersion=He,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=Ye!=null?Ye:be.range}toInlineCompletion(be){return this.inlineCompletion.withRange(this._getUpdatedRange(be))}toSingleTextEdit(be){return new vt(this._getUpdatedRange(be),this.inlineCompletion.insertText)}isVisible(be,ke,He){const Ye=this._toFilterTextReplacement(He).removeCommonPrefix(be);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(He).getStartPosition())||ke.lineNumber!==Ye.range.startLineNumber)return!1;const ut=be.getValueInRange(Ye.range,1),$t=Ye.text,gi=Math.max(0,ke.column-Ye.range.startColumn);let ci=$t.substring(0,gi),ai=$t.substring(gi),ct=ut.substring(0,gi),Nt=ut.substring(gi);const Et=be.getLineIndentColumn(Ye.range.startLineNumber);return Ye.range.startColumn<=Et&&(ct=ct.trimStart(),ct.length===0&&(Nt=Nt.trimStart()),ci=ci.trimStart(),ci.length===0&&(ai=ai.trimStart())),ci.startsWith(ct)&&!!(0,We.Sy)(Nt,ai)}canBeReused(be,ke){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(ke)&&this.isVisible(be,ke,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(be){return new vt(this._getUpdatedRange(be),this.inlineCompletion.filterText)}_isSmallerThanOriginal(be){return Yi(this._getUpdatedRange(be)).isBefore(Yi(this.inlineCompletion.range))}_getUpdatedRange(be){return this.rangeVersion.read(be),this._updatedRange}_updateRange(be){const ke=be.getDecorationRange(this.decorationId);return ke?this._updatedRange.equalsRange(ke)?!1:(this._updatedRange=ke,!0):(this._isValid=!1,!0)}}function Yi(we){return we.startLineNumber===we.endLineNumber?new o.L(1,1+we.endColumn-we.startColumn):new o.L(1+we.endLineNumber-we.startLineNumber,we.endColumn)}var fn=e(98762),un=e(94565),Pn=e(72065),Dn=function(we,be,ke,He){var Ye=arguments.length,ut=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,ke):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(we,be,ke,He);else for(var gi=we.length-1;gi>=0;gi--)($t=we[gi])&&(ut=(Ye<3?$t(ut):Ye>3?$t(be,ke,ut):$t(be,ke))||ut);return Ye>3&&ut&&Object.defineProperty(be,ke,ut),ut},Gn=function(we,be){return function(ke,He){be(ke,He,we)}},Rn;(function(we){we[we.Undo=0]="Undo",we[we.Redo=1]="Redo",we[we.AcceptWord=2]="AcceptWord",we[we.Other=3]="Other"})(Rn||(Rn={}));let ns=class extends D.JT{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(be,ke,He,Ye,ut,$t,gi,ci,ai,ct,Nt,Et){super(),this.textModel=be,this.selectedSuggestItem=ke,this.cursorPosition=He,this.textModelVersionId=Ye,this._debounceValue=ut,this._suggestPreviewEnabled=$t,this._suggestPreviewMode=gi,this._inlineSuggestMode=ci,this._enabled=ai,this._instantiationService=ct,this._commandService=Nt,this._languageConfigurationService=Et,this._source=this._register(this._instantiationService.createInstance(Bt,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,r.uh)(this,!1),this._forceUpdateSignal=(0,r.GN)("forceUpdate"),this._selectedInlineCompletionId=(0,r.uh)(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Rn.Redo,Rn.Undo,Rn.AcceptWord]),this._fetchInlineCompletions=(0,r.aK)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:De.bw.Automatic}),handleChange:(Gt,zt)=>(Gt.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(Gt.change)?zt.preserveCurrentCompletion=!0:Gt.didChange(this._forceUpdateSignal)&&(zt.inlineCompletionTriggerKind=Gt.change),!0)},(Gt,zt)=>{if(this._forceUpdateSignal.read(Gt),!(this._enabled.read(Gt)&&this.selectedSuggestItem.read(Gt)||this._isActive.read(Gt))){this._source.cancelUpdate();return}this.textModelVersionId.read(Gt);const ui=this.selectedInlineCompletion.get(),Ti=zt.preserveCurrentCompletion||ui!=null&&ui.forwardStable?ui:void 0,Ri=this._source.suggestWidgetInlineCompletions.get(),tn=this.selectedSuggestItem.read(Gt);if(Ri&&!tn){const An=this._source.inlineCompletions.get();(0,r.PS)(Bn=>{(!An||Ri.request.versionId>An.request.versionId)&&this._source.inlineCompletions.set(Ri.clone(),Bn),this._source.clearSuggestWidgetInlineCompletions(Bn)})}const gn=this.cursorPosition.read(Gt),wn={triggerKind:zt.inlineCompletionTriggerKind,selectedSuggestionInfo:tn==null?void 0:tn.toSelectedSuggestionInfo()};return this._source.fetch(gn,wn,Ti)}),this._filteredInlineCompletionItems=(0,r.nK)(this,Gt=>{const zt=this._source.inlineCompletions.read(Gt);if(!zt)return[];const mi=this.cursorPosition.read(Gt);return zt.inlineCompletions.filter(Ti=>Ti.isVisible(this.textModel,mi,Gt))}),this.selectedInlineCompletionIndex=(0,r.nK)(this,Gt=>{const zt=this._selectedInlineCompletionId.read(Gt),mi=this._filteredInlineCompletionItems.read(Gt),ui=this._selectedInlineCompletionId===void 0?-1:mi.findIndex(Ti=>Ti.semanticId===zt);return ui===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):ui}),this.selectedInlineCompletion=(0,r.nK)(this,Gt=>{const zt=this._filteredInlineCompletionItems.read(Gt),mi=this.selectedInlineCompletionIndex.read(Gt);return zt[mi]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,Gt=>Gt==null?void 0:Gt.request.context.triggerKind),this.inlineCompletionsCount=(0,r.nK)(this,Gt=>{if(this.lastTriggerKind.read(Gt)===De.bw.Explicit)return this._filteredInlineCompletionItems.read(Gt).length}),this.state=(0,r.bk)({owner:this,equalityComparer:(Gt,zt)=>!Gt||!zt?Gt===zt:j(Gt.ghostText,zt.ghostText)&&Gt.inlineCompletion===zt.inlineCompletion&&Gt.suggestItem===zt.suggestItem},Gt=>{var zt;const mi=this.textModel,ui=this.selectedSuggestItem.read(Gt);if(ui){const Ti=ui.toSingleTextEdit().removeCommonPrefix(mi),Ri=this._computeAugmentedCompletion(Ti,Gt);if(!this._suggestPreviewEnabled.read(Gt)&&!Ri)return;const gn=(zt=Ri==null?void 0:Ri.edit)!==null&&zt!==void 0?zt:Ti,wn=Ri?Ri.edit.text.length-Ti.text.length:0,An=this._suggestPreviewMode.read(Gt),Bn=this.cursorPosition.read(Gt),Tn=gn.computeGhostText(mi,An,Bn,wn);return{ghostText:Tn!=null?Tn:new H(gn.range.endLineNumber,[]),inlineCompletion:Ri==null?void 0:Ri.completion,suggestItem:ui}}else{if(!this._isActive.read(Gt))return;const Ti=this.selectedInlineCompletion.read(Gt);if(!Ti)return;const Ri=Ti.toSingleTextEdit(Gt),tn=this._inlineSuggestMode.read(Gt),gn=this.cursorPosition.read(Gt),wn=Ri.computeGhostText(mi,tn,gn);return wn?{ghostText:wn,inlineCompletion:Ti,suggestItem:void 0}:void 0}}),this.ghostText=(0,r.bk)({owner:this,equalityComparer:j},Gt=>{const zt=this.state.read(Gt);if(zt)return zt.ghostText}),this._register((0,r.jx)(this._fetchInlineCompletions));let It;this._register((0,r.EH)(Gt=>{var zt,mi;const ui=this.state.read(Gt),Ti=ui==null?void 0:ui.inlineCompletion;if((Ti==null?void 0:Ti.semanticId)!==(It==null?void 0:It.semanticId)&&(It=Ti,Ti)){const Ri=Ti.inlineCompletion,tn=Ri.source;(mi=(zt=tn.provider).handleItemDidShow)===null||mi===void 0||mi.call(zt,tn.inlineCompletions,Ri.sourceInlineCompletion,Ri.insertText)}}))}trigger(be){return qt(this,null,function*(){this._isActive.set(!0,be),yield this._fetchInlineCompletions.get()})}triggerExplicitly(be){return qt(this,null,function*(){(0,r.c8)(be,ke=>{this._isActive.set(!0,ke),this._forceUpdateSignal.trigger(ke,De.bw.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(be){(0,r.c8)(be,ke=>{this._isActive.set(!1,ke),this._source.clear(ke)})}_computeAugmentedCompletion(be,ke){const He=this.textModel,Ye=this._source.suggestWidgetInlineCompletions.read(ke),ut=Ye?Ye.inlineCompletions:[this.selectedInlineCompletion.read(ke)].filter(pe.$K);return(0,Le.Fr)(ut,gi=>{let ci=gi.toSingleTextEdit(ke);return ci=ci.removeCommonPrefix(He,S.e.fromPositions(ci.range.getStartPosition(),be.range.getEndPosition())),ci.augments(be)?{edit:ci,completion:gi}:void 0})}_deltaSelectedInlineCompletionIndex(be){return qt(this,null,function*(){yield this.triggerExplicitly();const ke=this._filteredInlineCompletionItems.get()||[];if(ke.length>0){const He=(this.selectedInlineCompletionIndex.get()+be+ke.length)%ke.length;this._selectedInlineCompletionId.set(ke[He].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return qt(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return qt(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(be){return qt(this,null,function*(){var ke;if(be.getModel()!==this.textModel)throw new F.he;const He=this.state.get();if(!He||He.ghostText.isEmpty()||!He.inlineCompletion)return;const Ye=He.inlineCompletion.toInlineCompletion(void 0);be.pushUndoStop(),Ye.snippetInfo?(be.executeEdits("inlineSuggestion.accept",[Te.h.replaceMove(Ye.range,""),...Ye.additionalTextEdits]),be.setPosition(Ye.snippetInfo.range.getStartPosition()),(ke=fn.f.get(be))===null||ke===void 0||ke.insert(Ye.snippetInfo.snippet,{undoStopBefore:!1})):be.executeEdits("inlineSuggestion.accept",[Te.h.replaceMove(Ye.range,Ye.insertText),...Ye.additionalTextEdits]),Ye.command&&Ye.source.addRef(),(0,r.PS)(ut=>{this._source.clear(ut),this._isActive.set(!1,ut)}),Ye.command&&(yield this._commandService.executeCommand(Ye.command.id,...Ye.command.arguments||[]).then(void 0,F.Cp),Ye.source.removeRef())})}acceptNextWord(be){return qt(this,null,function*(){yield this._acceptNext(be,(ke,He)=>{const Ye=this.textModel.getLanguageIdAtPosition(ke.lineNumber,ke.column),ut=this._languageConfigurationService.getLanguageConfiguration(Ye),$t=new RegExp(ut.wordDefinition.source,ut.wordDefinition.flags.replace("g","")),gi=He.match($t);let ci=0;gi&&gi.index!==void 0?gi.index===0?ci=gi[0].length:ci=gi.index:ci=He.length;const ct=/\s+/g.exec(He);return ct&&ct.index!==void 0&&ct.index+ct[0].length<ci&&(ci=ct.index+ct[0].length),ci})})}acceptNextLine(be){return qt(this,null,function*(){yield this._acceptNext(be,(ke,He)=>{const Ye=He.match(/\n/);return Ye&&Ye.index!==void 0?Ye.index+1:He.length})})}_acceptNext(be,ke){return qt(this,null,function*(){if(be.getModel()!==this.textModel)throw new F.he;const He=this.state.get();if(!He||He.ghostText.isEmpty()||!He.inlineCompletion)return;const Ye=He.ghostText,ut=He.inlineCompletion.toInlineCompletion(void 0);if(ut.snippetInfo||ut.filterText!==ut.insertText){yield this.accept(be);return}const $t=Ye.parts[0],gi=new o.L(Ye.lineNumber,$t.column),ci=$t.lines.join(`
`),ai=ke(gi,ci);if(ai===ci.length&&Ye.parts.length===1){this.accept(be);return}const ct=ci.substring(0,ai);ut.source.addRef();try{this._isAcceptingPartially=!0;try{be.pushUndoStop(),be.executeEdits("inlineSuggestion.accept",[Te.h.replace(S.e.fromPositions(gi),ct)]);const Nt=A(ct);be.setPosition(R(gi,Nt))}finally{this._isAcceptingPartially=!1}if(ut.source.provider.handlePartialAccept){const Nt=S.e.fromPositions(ut.range.getStartPosition(),R(gi,A(ct))),Et=be.getModel().getValueInRange(Nt,1);ut.source.provider.handlePartialAccept(ut.source.inlineCompletions,ut.sourceInlineCompletion,Et.length)}}finally{ut.source.removeRef()}})}handleSuggestAccepted(be){var ke,He;const Ye=be.toSingleTextEdit().removeCommonPrefix(this.textModel),ut=this._computeAugmentedCompletion(Ye,void 0);if(!ut)return;const $t=ut.completion.inlineCompletion;(He=(ke=$t.source.provider).handlePartialAccept)===null||He===void 0||He.call(ke,$t.source.inlineCompletions,$t.sourceInlineCompletion,Ye.text.length)}};ns=Dn([Gn(9,Pn.TG),Gn(10,un.H),Gn(11,ae.c_)],ns);var ts=e(3461),qn=e(22704),fs=e(9488);class Nn extends D.JT{get selectedItem(){return this._selectedItem}constructor(be,ke,He,Ye){super(),this.editor=be,this.suggestControllerPreselector=ke,this.checkModelVersion=He,this.onWillAccept=Ye,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,r.uh)(this,void 0),this._register(be.onKeyDown($t=>{$t.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(be.onKeyUp($t=>{$t.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const ut=qn.n.get(this.editor);if(ut){this._register(ut.registerSelector({priority:100,select:(ci,ai,ct)=>{var Nt;(0,r.PS)(ui=>this.checkModelVersion(ui));const Et=this.editor.getModel();if(!Et)return-1;const It=(Nt=this.suggestControllerPreselector())===null||Nt===void 0?void 0:Nt.removeCommonPrefix(Et);if(!It)return-1;const Gt=o.L.lift(ai),zt=ct.map((ui,Ti)=>{const tn=cs.fromSuggestion(ut,Et,Gt,ui,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(Et),gn=It.augments(tn);return{index:Ti,valid:gn,prefixLength:tn.text.length,suggestItem:ui}}).filter(ui=>ui&&ui.valid&&ui.prefixLength>0),mi=(0,Le.dI)(zt,(0,fs.tT)(ui=>ui.prefixLength,fs.fv));return mi?mi.index:-1}}));let $t=!1;const gi=()=>{$t||($t=!0,this._register(ut.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(ut.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(ut.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(n.ju.once(ut.model.onDidTrigger)(ci=>{gi()})),this._register(ut.onWillInsertSuggestItem(ci=>{const ai=this.editor.getPosition(),ct=this.editor.getModel();if(!ai||!ct)return;const Nt=cs.fromSuggestion(ut,ct,ai,ci.item,this.isShiftKeyPressed);this.onWillAccept(Nt)}))}this.update(this._isActive)}update(be){const ke=this.getSuggestItemInfo();(this._isActive!==be||!Ei(this._currentSuggestItemInfo,ke))&&(this._isActive=be,this._currentSuggestItemInfo=ke,(0,r.PS)(He=>{this.checkModelVersion(He),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,He)}))}getSuggestItemInfo(){const be=qn.n.get(this.editor);if(!be||!this.isSuggestWidgetVisible)return;const ke=be.widget.value.getFocusedItem(),He=this.editor.getPosition(),Ye=this.editor.getModel();if(!(!ke||!He||!Ye))return cs.fromSuggestion(be,Ye,He,ke.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const be=qn.n.get(this.editor);be==null||be.stopForceRenderingAbove()}forceRenderingAbove(){const be=qn.n.get(this.editor);be==null||be.forceRenderingAbove()}}class cs{static fromSuggestion(be,ke,He,Ye,ut){let{insertText:$t}=Ye.completion,gi=!1;if(Ye.completion.insertTextRules&4){const ai=new ve.Yj().parse($t);ai.children.length<100&&ts.l.adjustWhitespace(ke,He,!0,ai),$t=ai.toString(),gi=!0}const ci=be.getOverwriteInfo(Ye,ut);return new cs(S.e.fromPositions(He.delta(0,-ci.overwriteBefore),He.delta(0,Math.max(ci.overwriteAfter,0))),$t,Ye.completion.kind,gi)}constructor(be,ke,He,Ye){this.range=be,this.insertText=ke,this.completionItemKind=He,this.isSnippetText=Ye}equals(be){return this.range.equalsRange(be.range)&&this.insertText===be.insertText&&this.completionItemKind===be.completionItemKind&&this.isSnippetText===be.isSnippetText}toSelectedSuggestionInfo(){return new De.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new vt(this.range,this.insertText)}}function Ei(we,be){return we===be?!0:!we||!be?!1:we.equals(be)}var et=e(63580),wt=e(69149),Yt=e(33108),ri=e(32064),vi=e(91847),Wi=function(we,be,ke,He){var Ye=arguments.length,ut=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,ke):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(we,be,ke,He);else for(var gi=we.length-1;gi>=0;gi--)($t=we[gi])&&(ut=(Ye<3?$t(ut):Ye>3?$t(be,ke,ut):$t(be,ke))||ut);return Ye>3&&ut&&Object.defineProperty(be,ke,ut),ut},$i=function(we,be){return function(ke,He){be(ke,He,we)}},Ot;let yt=Ot=class extends D.JT{static get(be){return be.getContribution(Ot.ID)}constructor(be,ke,He,Ye,ut,$t,gi,ci,ai){super(),this.editor=be,this._instantiationService=ke,this._contextKeyService=He,this._configurationService=Ye,this._commandService=ut,this._debounceService=$t,this._languageFeaturesService=gi,this._audioCueService=ci,this._keybindingService=ai,this.model=(0,r.DN)("inlineCompletionModel",void 0),this._textModelVersionId=(0,r.uh)(this,-1),this._cursorPosition=(0,r.uh)(this,new o.L(1,1)),this._suggestWidgetAdaptor=this._register(new Nn(this.editor,()=>{var Et,It;return(It=(Et=this.model.get())===null||Et===void 0?void 0:Et.selectedInlineCompletion.get())===null||It===void 0?void 0:It.toSingleTextEdit(void 0)},Et=>this.updateObservables(Et,Rn.Other),Et=>{(0,r.PS)(It=>{var Gt;this.updateObservables(It,Rn.Other),(Gt=this.model.get())===null||Gt===void 0||Gt.handleSuggestAccepted(Et)})})),this._enabled=(0,r.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._ghostTextWidget=this._register(this._instantiationService.createInstance(J,this.editor,{ghostText:this.model.map((Et,It)=>Et==null?void 0:Et.ghostText.read(It)),minReservedLineCount:(0,r.Dz)(0),targetTextModel:this.model.map(Et=>Et==null?void 0:Et.textModel)})),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAudioCueSignal=(0,r.GN)(this),this._isReadonly=(0,r.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(90)),this._textModel=(0,r.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,r.nK)(Et=>this._isReadonly.read(Et)?void 0:this._textModel.read(Et)),this._register(new I.f(this._contextKeyService,this.model)),this._register((0,r.EH)(Et=>{const It=this._textModelIfWritable.read(Et);(0,r.PS)(Gt=>{if(this.model.set(void 0,Gt),this.updateObservables(Gt,Rn.Other),It){const zt=ke.createInstance(ns,It,this._suggestWidgetAdaptor.selectedItem,this._cursorPosition,this._textModelVersionId,this._debounceValue,(0,r.rD)(be.onDidChangeConfiguration,()=>be.getOption(117).preview),(0,r.rD)(be.onDidChangeConfiguration,()=>be.getOption(117).previewMode),(0,r.rD)(be.onDidChangeConfiguration,()=>be.getOption(62).mode),this._enabled);this.model.set(zt,Gt)}})}));const ct=Et=>{var It;return Et.isUndoing?Rn.Undo:Et.isRedoing?Rn.Redo:!((It=this.model.get())===null||It===void 0)&&It.isAcceptingPartially?Rn.AcceptWord:Rn.Other};this._register(be.onDidChangeModelContent(Et=>(0,r.PS)(It=>this.updateObservables(It,ct(Et))))),this._register(be.onDidChangeCursorPosition(Et=>(0,r.PS)(It=>{var Gt;this.updateObservables(It,Rn.Other),(Et.reason===3||Et.source==="api")&&((Gt=this.model.get())===null||Gt===void 0||Gt.stop(It))}))),this._register(be.onDidType(()=>(0,r.PS)(Et=>{var It;this.updateObservables(Et,Rn.Other),this._enabled.get()&&((It=this.model.get())===null||It===void 0||It.trigger(Et))}))),this._register(this._commandService.onDidExecuteCommand(Et=>{new Set([p.wk.Tab.id,p.wk.DeleteLeft.id,p.wk.DeleteRight.id,_.Ou,"acceptSelectedSuggestion"]).has(Et.commandId)&&be.hasTextFocus()&&this._enabled.get()&&(0,r.PS)(Gt=>{var zt;(zt=this.model.get())===null||zt===void 0||zt.trigger(Gt)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||be.getOption(62).keepOnBlur||fe.QG.dropDownVisible||(0,r.PS)(Et=>{var It;(It=this.model.get())===null||It===void 0||It.stop(Et)})})),this._register((0,r.EH)(Et=>{var It;const Gt=(It=this.model.read(Et))===null||It===void 0?void 0:It.state.read(Et);Gt!=null&&Gt.suggestItem?Gt.ghostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,D.OF)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let Nt;this._register((0,r.nJ)({handleChange:(Et,It)=>(Et.didChange(this._playAudioCueSignal)&&(Nt=void 0),!0)},Et=>qt(this,null,function*(){this._playAudioCueSignal.read(Et);const It=this.model.read(Et),Gt=It==null?void 0:It.state.read(Et);if(!It||!Gt||!Gt.inlineCompletion){Nt=void 0;return}if(Gt.inlineCompletion.semanticId!==Nt){Nt=Gt.inlineCompletion.semanticId;const zt=It.textModel.getLineContent(Gt.ghostText.lineNumber);this._audioCueService.playAudioCue(wt.y$.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(Gt.ghostText.renderForScreenReader(zt))})}}))),this._register(new fe.oU(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(Et=>{Et.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAudioCue(be){this._playAudioCueSignal.trigger(be)}provideScreenReaderUpdate(be){const ke=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),He=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let Ye;!ke&&He&&this.editor.getOption(147)&&(Ye=(0,et.NC)("showAccessibleViewHint","Inspect this in the accessible view ({0})",He.getAriaLabel())),Ye?(0,M.Z9)(be+", "+Ye):(0,M.Z9)(be)}updateObservables(be,ke){var He,Ye;const ut=this.editor.getModel();this._textModelVersionId.set((He=ut==null?void 0:ut.getVersionId())!==null&&He!==void 0?He:-1,be,ke),this._cursorPosition.set((Ye=this.editor.getPosition())!==null&&Ye!==void 0?Ye:new o.L(1,1),be)}shouldShowHoverAt(be){var ke;const He=(ke=this.model.get())===null||ke===void 0?void 0:ke.ghostText.get();return He?He.parts.some(Ye=>be.containsPosition(new o.L(He.lineNumber,Ye.column))):!1}shouldShowHoverAtViewZone(be){return this._ghostTextWidget.ownsViewZone(be)}};yt.ID="editor.contrib.inlineCompletionsController",yt=Ot=Wi([$i(1,Pn.TG),$i(2,ri.i6),$i(3,Yt.Ui),$i(4,un.H),$i(5,d.A),$i(6,u.p),$i(7,wt.e7),$i(8,vi.d)],yt);var si=e(55621),ii=e(84144);class Ui extends b.R6{constructor(){super({id:Ui.ID,label:et.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ri.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(be,ke){return qt(this,null,function*(){var He;const Ye=yt.get(ke);(He=Ye==null?void 0:Ye.model.get())===null||He===void 0||He.next()})}}Ui.ID=_.OW;class an extends b.R6{constructor(){super({id:an.ID,label:et.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ri.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(be,ke){return qt(this,null,function*(){var He;const Ye=yt.get(ke);(He=Ye==null?void 0:Ye.model.get())===null||He===void 0||He.previous()})}}an.ID=_.Np;class en extends b.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:et.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:c.u.writable})}run(be,ke){return qt(this,null,function*(){const He=yt.get(ke);yield(0,E.Hr)(Ye=>qt(this,null,function*(){var ut;yield(ut=He==null?void 0:He.model.get())===null||ut===void 0?void 0:ut.triggerExplicitly(Ye),He==null||He.playAudioCue(Ye)}))})}}class In extends b.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:et.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:ri.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:ri.Ao.and(c.u.writable,I.f.inlineSuggestionVisible)},menuOpts:[{menuId:ii.eH.InlineSuggestionToolbar,title:et.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(be,ke){return qt(this,null,function*(){var He;const Ye=yt.get(ke);yield(He=Ye==null?void 0:Ye.model.get())===null||He===void 0?void 0:He.acceptNextWord(Ye.editor)})}}class Fn extends b.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:et.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:ri.Ao.and(c.u.writable,I.f.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:ii.eH.InlineSuggestionToolbar,title:et.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(be,ke){return qt(this,null,function*(){var He;const Ye=yt.get(ke);yield(He=Ye==null?void 0:Ye.model.get())===null||He===void 0?void 0:He.acceptNextLine(Ye.editor)})}}class On extends b.R6{constructor(){super({id:_.Ou,label:et.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:I.f.inlineSuggestionVisible,menuOpts:[{menuId:ii.eH.InlineSuggestionToolbar,title:et.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:ri.Ao.and(I.f.inlineSuggestionVisible,c.u.tabMovesFocus.toNegated(),I.f.inlineSuggestionHasIndentationLessThanTabSize,si._y.Visible.toNegated(),c.u.hoverFocused.toNegated())}})}run(be,ke){return qt(this,null,function*(){var He;const Ye=yt.get(ke);Ye&&((He=Ye.model.get())===null||He===void 0||He.accept(Ye.editor),Ye.editor.focus())})}}class Mi extends b.R6{constructor(){super({id:Mi.ID,label:et.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:I.f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(be,ke){return qt(this,null,function*(){const He=yt.get(ke);(0,r.PS)(Ye=>{var ut;(ut=He==null?void 0:He.model.get())===null||ut===void 0||ut.stop(Ye)})})}}Mi.ID="editor.action.inlineSuggest.hide";class _i extends ii.Ke{constructor(){super({id:_i.ID,title:et.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:ii.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:ri.Ao.equals("config.editor.inlineSuggest.showToolbar","always")})}run(be,ke){return qt(this,null,function*(){const He=be.get(Yt.Ui),ut=He.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";He.updateValue("editor.inlineSuggest.showToolbar",ut)})}}_i.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var Ii=e(65321),Ht=e(59365),Zt=e(33772),hi=e(31106),Wt=e(50988),qe=e(10829),ee=function(we,be,ke,He){var Ye=arguments.length,ut=Ye<3?be:He===null?He=Object.getOwnPropertyDescriptor(be,ke):He,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(we,be,ke,He);else for(var gi=we.length-1;gi>=0;gi--)($t=we[gi])&&(ut=(Ye<3?$t(ut):Ye>3?$t(be,ke,ut):$t(be,ke))||ut);return Ye>3&&ut&&Object.defineProperty(be,ke,ut),ut},de=function(we,be){return function(ke,He){be(ke,He,we)}};class re{constructor(be,ke,He){this.owner=be,this.range=ke,this.controller=He}isValidForHoverAnchor(be){return be.type===1&&this.range.startColumn<=be.range.startColumn&&this.range.endColumn>=be.range.endColumn}}let Ce=class{constructor(be,ke,He,Ye,ut,$t){this._editor=be,this._languageService=ke,this._openerService=He,this.accessibilityService=Ye,this._instantiationService=ut,this._telemetryService=$t,this.hoverOrdinal=4}suggestHoverAnchor(be){const ke=yt.get(this._editor);if(!ke)return null;const He=be.target;if(He.type===8){const Ye=He.detail;if(ke.shouldShowHoverAtViewZone(Ye.viewZoneId))return new z.YM(1e3,this,S.e.fromPositions(this._editor.getModel().validatePosition(Ye.positionBefore||Ye.position)),be.event.posx,be.event.posy,!1)}return He.type===7&&ke.shouldShowHoverAt(He.range)?new z.YM(1e3,this,He.range,be.event.posx,be.event.posy,!1):He.type===6&&He.detail.mightBeForeignElement&&ke.shouldShowHoverAt(He.range)?new z.YM(1e3,this,He.range,be.event.posx,be.event.posy,!1):null}computeSync(be,ke){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const He=yt.get(this._editor);return He&&He.shouldShowHoverAt(be.range)?[new re(this,be.range,He)]:[]}renderHoverParts(be,ke){const He=new D.SL,Ye=ke[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(be,Ye,He);const ut=Ye.controller.model.get(),$t=this._instantiationService.createInstance(fe.QG,this._editor,!1,(0,r.Dz)(null),ut.selectedInlineCompletionIndex,ut.inlineCompletionsCount,ut.selectedInlineCompletion.map(gi=>{var ci;return(ci=gi==null?void 0:gi.inlineCompletion.source.inlineCompletions.commands)!==null&&ci!==void 0?ci:[]}));return be.fragment.appendChild($t.getDomNode()),ut.triggerExplicitly(),He.add($t),He}renderScreenReaderText(be,ke,He){const Ye=Ii.$,ut=Ye("div.hover-row.markdown-hover"),$t=Ii.R3(ut,Ye("div.hover-contents",{["aria-live"]:"assertive"})),gi=He.add(new Zt.$({editor:this._editor},this._languageService,this._openerService)),ci=ai=>{He.add(gi.onDidRenderAsync(()=>{$t.className="hover-contents code-hover-contents",be.onContentsChanged()}));const ct=et.NC("inlineSuggestionFollows","Suggestion:"),Nt=He.add(gi.render(new Ht.W5().appendText(ct).appendCodeblock("text",ai)));$t.replaceChildren(Nt.element)};He.add((0,r.EH)(ai=>{var ct;const Nt=(ct=ke.controller.model.read(ai))===null||ct===void 0?void 0:ct.ghostText.read(ai);if(Nt){const Et=this._editor.getModel().getLineContent(Nt.lineNumber);ci(Nt.renderForScreenReader(Et))}else Ii.mc($t)})),be.fragment.appendChild(ut)}};Ce=ee([de(1,y.O),de(2,Wt.v),de(3,hi.F7),de(4,Pn.TG),de(5,qe.b)],Ce),(0,b._K)(yt.ID,yt,3),(0,b.Qr)(en),(0,b.Qr)(Ui),(0,b.Qr)(an),(0,b.Qr)(In),(0,b.Qr)(Fn),(0,b.Qr)(On),(0,b.Qr)(Mi),(0,ii.r1)(_i),z.Ae.register(Ce)},73485:function(Pt,Ke,e){"use strict";e.d(Ke,{oU:function(){return Y},QG:function(){return V}});var b=e(65321),z=e(41923),r=e(35190),E=e(74741),c=e(9488),_=e(15393),I=e(73046),M=e(5976),D=e(99692),p=e(1432),o=e(25670),d=e(50187),u=e(43155),i=e(96020),n=e(63580),f=e(80677),v=e(98190),a=e(84144),S=e(94565),g=e(32064),y=e(5606),C=e(72065),L=e(91847),O=e(10829),T=e(59554),F=function(U,G,j,W){var K=arguments.length,m=K<3?G:W===null?W=Object.getOwnPropertyDescriptor(G,j):W,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(U,G,j,W);else for(var X=U.length-1;X>=0;X--)(J=U[X])&&(m=(K<3?J(m):K>3?J(G,j,m):J(G,j))||m);return K>3&&m&&Object.defineProperty(G,j,m),m},B=function(U,G){return function(j,W){G(j,W,U)}},$;let Y=class extends M.JT{constructor(G,j,W){super(),this.editor=G,this.model=j,this.instantiationService=W,this.alwaysShowToolbar=(0,D.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,D.nK)(this,K=>{var m,J,X;const ie=(m=this.model.read(K))===null||m===void 0?void 0:m.ghostText.read(K);if(!this.alwaysShowToolbar.read(K)||!ie||ie.parts.length===0)return this.sessionPosition=void 0,null;const le=ie.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==ie.lineNumber&&(this.sessionPosition=void 0);const fe=new d.L(ie.lineNumber,Math.min(le,(X=(J=this.sessionPosition)===null||J===void 0?void 0:J.column)!==null&&X!==void 0?X:Number.MAX_SAFE_INTEGER));return this.sessionPosition=fe,fe}),this._register((0,D.gp)((K,m)=>{const J=this.model.read(K);if(!J||!this.alwaysShowToolbar.read(K))return;const X=m.add(this.instantiationService.createInstance(V,this.editor,!0,this.position,J.selectedInlineCompletionIndex,J.inlineCompletionsCount,J.selectedInlineCompletion.map(ie=>{var le;return(le=ie==null?void 0:ie.inlineCompletion.source.inlineCompletions.commands)!==null&&le!==void 0?le:[]})));G.addContentWidget(X),m.add((0,M.OF)(()=>G.removeContentWidget(X))),m.add((0,D.EH)(ie=>{this.position.read(ie)&&J.lastTriggerKind.read(ie)!==u.bw.Explicit&&J.triggerExplicitly()}))}))}};Y=F([B(2,C.TG)],Y);const P=(0,T.q5)("inline-suggestion-hints-next",I.l.chevronRight,(0,n.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),w=(0,T.q5)("inline-suggestion-hints-previous",I.l.chevronLeft,(0,n.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let V=$=class extends M.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(G,j,W){const K=new E.aU(G,j,W,!0,()=>this._commandService.executeCommand(G)),m=this.keybindingService.lookupKeybinding(G,this._contextKeyService);let J=j;return m&&(J=(0,n.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",j,m.getLabel())),K.tooltip=J,K}constructor(G,j,W,K,m,J,X,ie,le,fe,Le){super(),this.editor=G,this.withBorder=j,this._position=W,this._currentSuggestionIdx=K,this._suggestionCount=m,this._extraCommands=J,this._commandService=X,this.keybindingService=le,this._contextKeyService=fe,this._menuService=Le,this.id=`InlineSuggestionHintsContentWidget${$.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,b.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,b.h)("div@toolBar")]),this.previousAction=this.createCommandAction(i.Np,(0,n.NC)("previous","Previous"),o.k.asClassName(w)),this.availableSuggestionCountAction=new E.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(i.OW,(0,n.NC)("next","Next"),o.k.asClassName(P)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(a.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new _.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new _.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(ie.createInstance(H,this.nodes.toolBar,a.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:pe=>pe.startsWith("primary")},actionViewItemProvider:(pe,Te)=>{if(pe instanceof a.U8)return ie.createInstance(A,pe,void 0);if(pe===this.availableSuggestionCountAction){const De=new R(void 0,pe,{label:!0,icon:!1});return De.setClass("availableSuggestionCount"),De}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(pe=>{$._dropDownVisible=pe})),this._register((0,D.EH)(pe=>{this._position.read(pe),this.editor.layoutContentWidget(this)})),this._register((0,D.EH)(pe=>{const Te=this._suggestionCount.read(pe),De=this._currentSuggestionIdx.read(pe);Te!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${De+1}/${Te}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),Te!==void 0&&Te>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,D.EH)(pe=>{const Te=this._extraCommands.read(pe);if((0,c.fS)(this.lastCommands,Te))return;this.lastCommands=Te;const De=Te.map(ae=>({class:void 0,id:ae.id,enabled:!0,tooltip:ae.tooltip||"",label:ae.title,run:Ne=>this._commandService.executeCommand(ae.id)}));for(const[ae,Ne]of this.inlineCompletionsActionsMenus.getActions())for(const We of Ne)We instanceof a.U8&&De.push(We);De.length>0&&De.unshift(new E.Z0),this.toolBar.setAdditionalSecondaryActions(De)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};V._dropDownVisible=!1,V.id=0,V=$=F([B(6,S.H),B(7,C.TG),B(8,L.d),B(9,g.i6),B(10,a.co)],V);class R extends z.gU{constructor(){super(...arguments),this._className=void 0}setClass(G){this._className=G}render(G){super.render(G),this._className&&G.classList.add(this._className)}}class A extends f.Mm{updateLabel(){const G=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!G)return super.updateLabel();if(this.label){const j=(0,b.h)("div.keybinding").root;new r.e(j,p.OS,Xi({disableTitle:!0},r.F)).set(G),this.label.textContent=this._action.label,this.label.appendChild(j),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let H=class extends v.T{constructor(G,j,W,K,m,J,X,ie){super(G,Xi({resetMenu:j},W),K,m,J,X,ie),this.menuId=j,this.options2=W,this.menuService=K,this.contextKeyService=m,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var G,j,W,K,m,J,X;const ie=[],le=[];(0,f.vr)(this.menu,(G=this.options2)===null||G===void 0?void 0:G.menuOptions,{primary:ie,secondary:le},(W=(j=this.options2)===null||j===void 0?void 0:j.toolbarOptions)===null||W===void 0?void 0:W.primaryGroup,(m=(K=this.options2)===null||K===void 0?void 0:K.toolbarOptions)===null||m===void 0?void 0:m.shouldInlineSubmenu,(X=(J=this.options2)===null||J===void 0?void 0:J.toolbarOptions)===null||X===void 0?void 0:X.useSeparatorsInPrimaryActions),le.push(...this.additionalActions),ie.unshift(...this.prependedPrimaryActions),this.setActions(ie,le)}setPrependedPrimaryActions(G){(0,c.fS)(this.prependedPrimaryActions,G,(j,W)=>j===W)||(this.prependedPrimaryActions=G,this.updateToolbar())}setAdditionalSecondaryActions(G){(0,c.fS)(this.additionalActions,G,(j,W)=>j===W)||(this.additionalActions=G,this.updateToolbar())}};H=F([B(3,a.co),B(4,g.i6),B(5,y.i),B(6,L.d),B(7,O.b)],H)},3665:function(Pt,Ke,e){"use strict";e.d(Ke,{r:function(){return i}});var b=e(65321),z=e(15393),r=e(73046),E=e(5976),c=e(97295),_=e(25670),I=e(24314),M=e(84901),D=e(72065),p=function(n,f,v,a){var S=arguments.length,g=S<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,v):a,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(n,f,v,a);else for(var C=n.length-1;C>=0;C--)(y=n[C])&&(g=(S<3?y(g):S>3?y(f,v,g):y(f,v))||g);return S>3&&g&&Object.defineProperty(f,v,g),g},o=function(n,f){return function(v,a){f(v,a,n)}};const d=M.qx.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:c.B4,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class u extends E.JT{constructor(f,v,a,S,g){super(),this.typeId=f,this.editor=v,this.range=a,this.delegate=g,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(S),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(f){this.domNode=b.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=f;const v=b.$("span.icon");this.domNode.append(v),v.classList.add(..._.k.asClassNameArray(r.l.loading),"codicon-modifier-spin");const a=()=>{const S=this.editor.getOption(66);this.domNode.style.height=`${S}px`,this.domNode.style.width=`${Math.ceil(.8*S)}px`};a(),this._register(this.editor.onDidChangeConfiguration(S=>{(S.hasChanged(52)||S.hasChanged(66))&&a()})),this._register(b.nm(this.domNode,b.tw.CLICK,S=>{this.delegate.cancel()}))}getId(){return u.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}u.baseId="editor.widget.inlineProgressWidget";let i=class extends E.JT{constructor(f,v,a){super(),this.id=f,this._editor=v,this._instantiationService=a,this._showDelay=500,this._showPromise=this._register(new E.XK),this._currentWidget=new E.XK,this._operationIdPool=0,this._currentDecorations=v.createDecorationsCollection()}showWhile(f,v,a){return qt(this,null,function*(){const S=this._operationIdPool++;this._currentOperation=S,this.clear(),this._showPromise.value=(0,z.Vg)(()=>{const g=I.e.fromPositions(f);this._currentDecorations.set([{range:g,options:d}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(u,this.id,this._editor,g,v,a))},this._showDelay);try{return yield a}finally{this._currentOperation===S&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};i=p([o(2,D.TG)],i)},97615:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(28108),r=e(29102),E=e(63580);class c extends b.R6{constructor(){super({id:"expandLineSelection",label:E.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:r.u.textInputFocus,primary:2090}})}run(I,M,D){if(D=D||{},!M.hasModel())return;const p=M._getViewModel();p.model.pushStackElement(),p.setCursorStates(D.source,3,z.P.expandLineSelection(p,p.getCursorStates())),p.revealPrimaryCursor(D.source,!0)}}(0,b.Qr)(c)},49504:function(Pt,Ke,e){"use strict";var b=e(22258),z=e(42549),r=e(16830),E=e(61329),c=e(97295),_=e(69386),I=e(24314);class M{constructor(Me,ye){this._selection=Me,this._cursors=ye,this._selectionId=null}getEditOperations(Me,ye){const _e=D(Me,this._cursors);for(let se=0,ve=_e.length;se<ve;se++){const xe=_e[se];ye.addEditOperation(xe.range,xe.text)}this._selectionId=ye.trackSelection(this._selection)}computeCursorState(Me,ye){return ye.getTrackedSelection(this._selectionId)}}function D(Pe,Me){Me.sort((xe,je)=>xe.lineNumber===je.lineNumber?xe.column-je.column:xe.lineNumber-je.lineNumber);for(let xe=Me.length-2;xe>=0;xe--)Me[xe].lineNumber===Me[xe+1].lineNumber&&Me.splice(xe,1);const ye=[];let _e=0,se=0;const ve=Me.length;for(let xe=1,je=Pe.getLineCount();xe<=je;xe++){const Ae=Pe.getLineContent(xe),Qe=Ae.length+1;let rt=0;if(se<ve&&Me[se].lineNumber===xe&&(rt=Me[se].column,se++,rt===Qe)||Ae.length===0)continue;const Dt=c.ow(Ae);let at=0;if(Dt===-1)at=1;else if(Dt!==Ae.length-1)at=Dt+2;else continue;at=Math.max(rt,at),ye[_e++]=_.h.delete(new I.e(xe,at,xe,Qe))}return ye}var p=e(94729),o=e(50187),d=e(3860),u=e(29102);class i{constructor(Me,ye,_e){this._selection=Me,this._isCopyingDown=ye,this._noop=_e||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(Me,ye){let _e=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,_e.startLineNumber<_e.endLineNumber&&_e.endColumn===1&&(this._endLineNumberDelta=1,_e=_e.setEndPosition(_e.endLineNumber-1,Me.getLineMaxColumn(_e.endLineNumber-1)));const se=[];for(let xe=_e.startLineNumber;xe<=_e.endLineNumber;xe++)se.push(Me.getLineContent(xe));const ve=se.join(`
`);ve===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?ye.addEditOperation(new I.e(_e.endLineNumber,Me.getLineMaxColumn(_e.endLineNumber),_e.endLineNumber+1,1),_e.endLineNumber===Me.getLineCount()?"":`
`):this._isCopyingDown?ye.addEditOperation(new I.e(_e.startLineNumber,1,_e.startLineNumber,1),ve+`
`):ye.addEditOperation(new I.e(_e.endLineNumber,Me.getLineMaxColumn(_e.endLineNumber),_e.endLineNumber,Me.getLineMaxColumn(_e.endLineNumber)),`
`+ve),this._selectionId=ye.trackSelection(_e),this._selectionDirection=this._selection.getDirection()}computeCursorState(Me,ye){let _e=ye.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let se=_e.startLineNumber,ve=_e.startColumn,xe=_e.endLineNumber,je=_e.endColumn;this._startLineNumberDelta!==0&&(se=se+this._startLineNumberDelta,ve=1),this._endLineNumberDelta!==0&&(xe=xe+this._endLineNumberDelta,je=1),_e=d.Y.createWithDirection(se,ve,xe,je,this._selectionDirection)}return _e}}var n=e(10291),f=e(49119),v=e(4256),a=e(18279),S=e(75383),g=e(1615),y=function(Pe,Me,ye,_e){var se=arguments.length,ve=se<3?Me:_e===null?_e=Object.getOwnPropertyDescriptor(Me,ye):_e,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ve=Reflect.decorate(Pe,Me,ye,_e);else for(var je=Pe.length-1;je>=0;je--)(xe=Pe[je])&&(ve=(se<3?xe(ve):se>3?xe(Me,ye,ve):xe(Me,ye))||ve);return se>3&&ve&&Object.defineProperty(Me,ye,ve),ve},C=function(Pe,Me){return function(ye,_e){Me(ye,_e,Pe)}};let L=class{constructor(Me,ye,_e,se){this._languageConfigurationService=se,this._selection=Me,this._isMovingDown=ye,this._autoIndent=_e,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(Me,ye){const _e=Me.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===_e){this._selectionId=ye.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=ye.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let se=this._selection;se.startLineNumber<se.endLineNumber&&se.endColumn===1&&(this._moveEndPositionDown=!0,se=se.setEndPosition(se.endLineNumber-1,Me.getLineMaxColumn(se.endLineNumber-1)));const{tabSize:ve,indentSize:xe,insertSpaces:je}=Me.getOptions(),Ae=this.buildIndentConverter(ve,xe,je),Qe={tokenization:{getLineTokens:rt=>Me.tokenization.getLineTokens(rt),getLanguageId:()=>Me.getLanguageId(),getLanguageIdAtPosition:(rt,Dt)=>Me.getLanguageIdAtPosition(rt,Dt)},getLineContent:null};if(se.startLineNumber===se.endLineNumber&&Me.getLineMaxColumn(se.startLineNumber)===1){const rt=se.startLineNumber,Dt=this._isMovingDown?rt+1:rt-1;Me.getLineMaxColumn(Dt)===1?ye.addEditOperation(new I.e(1,1,1,1),null):(ye.addEditOperation(new I.e(rt,1,rt,1),Me.getLineContent(Dt)),ye.addEditOperation(new I.e(Dt,1,Dt,Me.getLineMaxColumn(Dt)),null)),se=new d.Y(Dt,1,Dt,1)}else{let rt,Dt;if(this._isMovingDown){rt=se.endLineNumber+1,Dt=Me.getLineContent(rt),ye.addEditOperation(new I.e(rt-1,Me.getLineMaxColumn(rt-1),rt,Me.getLineMaxColumn(rt)),null);let at=Dt;if(this.shouldAutoIndent(Me,se)){const vt=this.matchEnterRule(Me,Ae,ve,rt,se.startLineNumber-1);if(vt!==null){const ti=c.V8(Me.getLineContent(rt)),Ft=vt+a.Y(ti,ve);at=a.J(Ft,ve,je)+this.trimStart(Dt)}else{Qe.getLineContent=Ft=>Ft===se.startLineNumber?Me.getLineContent(rt):Me.getLineContent(Ft);const ti=(0,S.n8)(this._autoIndent,Qe,Me.getLanguageIdAtPosition(rt,1),se.startLineNumber,Ae,this._languageConfigurationService);if(ti!==null){const Ft=c.V8(Me.getLineContent(rt)),ei=a.Y(ti,ve),Xt=a.Y(Ft,ve);ei!==Xt&&(at=a.J(ei,ve,je)+this.trimStart(Dt))}}ye.addEditOperation(new I.e(se.startLineNumber,1,se.startLineNumber,1),at+`
`);const Mt=this.matchEnterRuleMovingDown(Me,Ae,ve,se.startLineNumber,rt,at);if(Mt!==null)Mt!==0&&this.getIndentEditsOfMovingBlock(Me,ye,se,ve,je,Mt);else{Qe.getLineContent=Ft=>Ft===se.startLineNumber?at:Ft>=se.startLineNumber+1&&Ft<=se.endLineNumber+1?Me.getLineContent(Ft-1):Me.getLineContent(Ft);const ti=(0,S.n8)(this._autoIndent,Qe,Me.getLanguageIdAtPosition(rt,1),se.startLineNumber+1,Ae,this._languageConfigurationService);if(ti!==null){const Ft=c.V8(Me.getLineContent(se.startLineNumber)),ei=a.Y(ti,ve),Xt=a.Y(Ft,ve);if(ei!==Xt){const Ct=ei-Xt;this.getIndentEditsOfMovingBlock(Me,ye,se,ve,je,Ct)}}}}else ye.addEditOperation(new I.e(se.startLineNumber,1,se.startLineNumber,1),at+`
`)}else if(rt=se.startLineNumber-1,Dt=Me.getLineContent(rt),ye.addEditOperation(new I.e(rt,1,rt+1,1),null),ye.addEditOperation(new I.e(se.endLineNumber,Me.getLineMaxColumn(se.endLineNumber),se.endLineNumber,Me.getLineMaxColumn(se.endLineNumber)),`
`+Dt),this.shouldAutoIndent(Me,se)){Qe.getLineContent=vt=>vt===rt?Me.getLineContent(se.startLineNumber):Me.getLineContent(vt);const at=this.matchEnterRule(Me,Ae,ve,se.startLineNumber,se.startLineNumber-2);if(at!==null)at!==0&&this.getIndentEditsOfMovingBlock(Me,ye,se,ve,je,at);else{const vt=(0,S.n8)(this._autoIndent,Qe,Me.getLanguageIdAtPosition(se.startLineNumber,1),rt,Ae,this._languageConfigurationService);if(vt!==null){const Mt=c.V8(Me.getLineContent(se.startLineNumber)),ti=a.Y(vt,ve),Ft=a.Y(Mt,ve);if(ti!==Ft){const ei=ti-Ft;this.getIndentEditsOfMovingBlock(Me,ye,se,ve,je,ei)}}}}}this._selectionId=ye.trackSelection(se)}buildIndentConverter(Me,ye,_e){return{shiftIndent:se=>n.U.shiftIndent(se,se.length+1,Me,ye,_e),unshiftIndent:se=>n.U.unshiftIndent(se,se.length+1,Me,ye,_e)}}parseEnterResult(Me,ye,_e,se,ve){if(ve){let xe=ve.indentation;ve.indentAction===f.wU.None||ve.indentAction===f.wU.Indent?xe=ve.indentation+ve.appendText:ve.indentAction===f.wU.IndentOutdent?xe=ve.indentation:ve.indentAction===f.wU.Outdent&&(xe=ye.unshiftIndent(ve.indentation)+ve.appendText);const je=Me.getLineContent(se);if(this.trimStart(je).indexOf(this.trimStart(xe))>=0){const Ae=c.V8(Me.getLineContent(se));let Qe=c.V8(xe);const rt=(0,S.tI)(Me,se,this._languageConfigurationService);rt!==null&&rt&2&&(Qe=ye.unshiftIndent(Qe));const Dt=a.Y(Qe,_e),at=a.Y(Ae,_e);return Dt-at}}return null}matchEnterRuleMovingDown(Me,ye,_e,se,ve,xe){if(c.ow(xe)>=0){const je=Me.getLineMaxColumn(ve),Ae=(0,g.A)(this._autoIndent,Me,new I.e(ve,je,ve,je),this._languageConfigurationService);return this.parseEnterResult(Me,ye,_e,se,Ae)}else{let je=se-1;for(;je>=1;){const rt=Me.getLineContent(je);if(c.ow(rt)>=0)break;je--}if(je<1||se>Me.getLineCount())return null;const Ae=Me.getLineMaxColumn(je),Qe=(0,g.A)(this._autoIndent,Me,new I.e(je,Ae,je,Ae),this._languageConfigurationService);return this.parseEnterResult(Me,ye,_e,se,Qe)}}matchEnterRule(Me,ye,_e,se,ve,xe){let je=ve;for(;je>=1;){let rt;if(je===ve&&xe!==void 0?rt=xe:rt=Me.getLineContent(je),c.ow(rt)>=0)break;je--}if(je<1||se>Me.getLineCount())return null;const Ae=Me.getLineMaxColumn(je),Qe=(0,g.A)(this._autoIndent,Me,new I.e(je,Ae,je,Ae),this._languageConfigurationService);return this.parseEnterResult(Me,ye,_e,se,Qe)}trimStart(Me){return Me.replace(/^\s+/,"")}shouldAutoIndent(Me,ye){if(this._autoIndent<4||!Me.tokenization.isCheapToTokenize(ye.startLineNumber))return!1;const _e=Me.getLanguageIdAtPosition(ye.startLineNumber,1),se=Me.getLanguageIdAtPosition(ye.endLineNumber,1);return!(_e!==se||this._languageConfigurationService.getLanguageConfiguration(_e).indentRulesSupport===null)}getIndentEditsOfMovingBlock(Me,ye,_e,se,ve,xe){for(let je=_e.startLineNumber;je<=_e.endLineNumber;je++){const Ae=Me.getLineContent(je),Qe=c.V8(Ae),Dt=a.Y(Qe,se)+xe,at=a.J(Dt,se,ve);at!==Qe&&(ye.addEditOperation(new I.e(je,1,je,Qe.length+1),at),je===_e.endLineNumber&&_e.endColumn<=Qe.length+1&&at===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(Me,ye){let _e=ye.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(_e=_e.setEndPosition(_e.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&_e.startLineNumber<_e.endLineNumber&&(_e=_e.setEndPosition(_e.endLineNumber,2)),_e}};L=y([C(3,v.c_)],L);class O{static getCollator(){return O._COLLATOR||(O._COLLATOR=new Intl.Collator),O._COLLATOR}constructor(Me,ye){this.selection=Me,this.descending=ye,this.selectionId=null}getEditOperations(Me,ye){const _e=F(Me,this.selection,this.descending);_e&&ye.addEditOperation(_e.range,_e.text),this.selectionId=ye.trackSelection(this.selection)}computeCursorState(Me,ye){return ye.getTrackedSelection(this.selectionId)}static canRun(Me,ye,_e){if(Me===null)return!1;const se=T(Me,ye,_e);if(!se)return!1;for(let ve=0,xe=se.before.length;ve<xe;ve++)if(se.before[ve]!==se.after[ve])return!0;return!1}}O._COLLATOR=null;function T(Pe,Me,ye){const _e=Me.startLineNumber;let se=Me.endLineNumber;if(Me.endColumn===1&&se--,_e>=se)return null;const ve=[];for(let je=_e;je<=se;je++)ve.push(Pe.getLineContent(je));let xe=ve.slice(0);return xe.sort(O.getCollator().compare),ye===!0&&(xe=xe.reverse()),{startLineNumber:_e,endLineNumber:se,before:ve,after:xe}}function F(Pe,Me,ye){const _e=T(Pe,Me,ye);return _e?_.h.replace(new I.e(_e.startLineNumber,1,_e.endLineNumber,Pe.getLineMaxColumn(_e.endLineNumber)),_e.after.join(`
`)):null}var B=e(63580),$=e(84144);class Y extends r.R6{constructor(Me,ye){super(ye),this.down=Me}run(Me,ye){if(!ye.hasModel())return;const _e=ye.getSelections().map((xe,je)=>({selection:xe,index:je,ignore:!1}));_e.sort((xe,je)=>I.e.compareRangesUsingStarts(xe.selection,je.selection));let se=_e[0];for(let xe=1;xe<_e.length;xe++){const je=_e[xe];se.selection.endLineNumber===je.selection.startLineNumber&&(se.index<je.index?je.ignore=!0:(se.ignore=!0,se=je))}const ve=[];for(const xe of _e)ve.push(new i(xe.selection,this.down,xe.ignore));ye.pushUndoStop(),ye.executeCommands(this.id,ve),ye.pushUndoStop()}}class P extends Y{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:B.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class w extends Y{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:B.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class V extends r.R6{constructor(){super({id:"editor.action.duplicateSelection",label:B.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:u.u.writable,menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(Me,ye,_e){if(!ye.hasModel())return;const se=[],ve=ye.getSelections(),xe=ye.getModel();for(const je of ve)if(je.isEmpty())se.push(new i(je,!0));else{const Ae=new d.Y(je.endLineNumber,je.endColumn,je.endLineNumber,je.endColumn);se.push(new E.OY(Ae,xe.getValueInRange(je)))}ye.pushUndoStop(),ye.executeCommands(this.id,se),ye.pushUndoStop()}}class R extends r.R6{constructor(Me,ye){super(ye),this.down=Me}run(Me,ye){const _e=Me.get(v.c_),se=[],ve=ye.getSelections()||[],xe=ye.getOption(12);for(const je of ve)se.push(new L(je,this.down,xe,_e));ye.pushUndoStop(),ye.executeCommands(this.id,se),ye.pushUndoStop()}}class A extends R{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:B.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class H extends R{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:B.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:$.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class U extends r.R6{constructor(Me,ye){super(ye),this.descending=Me}run(Me,ye){const _e=ye.getSelections()||[];for(const ve of _e)if(!O.canRun(ye.getModel(),ve,this.descending))return;const se=[];for(let ve=0,xe=_e.length;ve<xe;ve++)se[ve]=new O(_e[ve],this.descending);ye.pushUndoStop(),ye.executeCommands(this.id,se),ye.pushUndoStop()}}class G extends U{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:B.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:u.u.writable})}}class j extends U{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:B.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:u.u.writable})}}class W extends r.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:B.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:u.u.writable})}run(Me,ye){if(!ye.hasModel())return;const _e=ye.getModel();if(_e.getLineCount()===1&&_e.getLineMaxColumn(1)===1)return;const se=[],ve=[];let xe=0;for(const je of ye.getSelections()){const Ae=new Set,Qe=[];for(let vt=je.startLineNumber;vt<=je.endLineNumber;vt++){const Mt=_e.getLineContent(vt);Ae.has(Mt)||(Qe.push(Mt),Ae.add(Mt))}const rt=new d.Y(je.startLineNumber,1,je.endLineNumber,_e.getLineMaxColumn(je.endLineNumber)),Dt=je.startLineNumber-xe,at=new d.Y(Dt,1,Dt+Qe.length-1,Qe[Qe.length-1].length);se.push(_.h.replace(rt,Qe.join(`
`))),ve.push(at),xe+=je.endLineNumber-je.startLineNumber+1-Qe.length}ye.pushUndoStop(),ye.executeEdits(this.id,se,ve),ye.pushUndoStop()}}class K extends r.R6{constructor(){super({id:K.ID,label:B.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:(0,b.gx)(2089,2102),weight:100}})}run(Me,ye,_e){let se=[];_e.reason==="auto-save"&&(se=(ye.getSelections()||[]).map(je=>new o.L(je.positionLineNumber,je.positionColumn)));const ve=ye.getSelection();if(ve===null)return;const xe=new M(ve,se);ye.pushUndoStop(),ye.executeCommands(this.id,[xe]),ye.pushUndoStop()}}K.ID="editor.action.trimTrailingWhitespace";class m extends r.R6{constructor(){super({id:"editor.action.deleteLines",label:B.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:3113,weight:100}})}run(Me,ye){if(!ye.hasModel())return;const _e=this._getLinesToRemove(ye),se=ye.getModel();if(se.getLineCount()===1&&se.getLineMaxColumn(1)===1)return;let ve=0;const xe=[],je=[];for(let Ae=0,Qe=_e.length;Ae<Qe;Ae++){const rt=_e[Ae];let Dt=rt.startLineNumber,at=rt.endLineNumber,vt=1,Mt=se.getLineMaxColumn(at);at<se.getLineCount()?(at+=1,Mt=1):Dt>1&&(Dt-=1,vt=se.getLineMaxColumn(Dt)),xe.push(_.h.replace(new d.Y(Dt,vt,at,Mt),"")),je.push(new d.Y(Dt-ve,rt.positionColumn,Dt-ve,rt.positionColumn)),ve+=rt.endLineNumber-rt.startLineNumber+1}ye.pushUndoStop(),ye.executeEdits(this.id,xe,je),ye.pushUndoStop()}_getLinesToRemove(Me){const ye=Me.getSelections().map(ve=>{let xe=ve.endLineNumber;return ve.startLineNumber<ve.endLineNumber&&ve.endColumn===1&&(xe-=1),{startLineNumber:ve.startLineNumber,selectionStartColumn:ve.selectionStartColumn,endLineNumber:xe,positionColumn:ve.positionColumn}});ye.sort((ve,xe)=>ve.startLineNumber===xe.startLineNumber?ve.endLineNumber-xe.endLineNumber:ve.startLineNumber-xe.startLineNumber);const _e=[];let se=ye[0];for(let ve=1;ve<ye.length;ve++)se.endLineNumber+1>=ye[ve].startLineNumber?se.endLineNumber=ye[ve].endLineNumber:(_e.push(se),se=ye[ve]);return _e.push(se),_e}}class J extends r.R6{constructor(){super({id:"editor.action.indentLines",label:B.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2142,weight:100}})}run(Me,ye){const _e=ye._getViewModel();_e&&(ye.pushUndoStop(),ye.executeCommands(this.id,p.u6.indent(_e.cursorConfig,ye.getModel(),ye.getSelections())),ye.pushUndoStop())}}class X extends r.R6{constructor(){super({id:"editor.action.outdentLines",label:B.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2140,weight:100}})}run(Me,ye){z.wk.Outdent.runEditorCommand(Me,ye,null)}}class ie extends r.R6{constructor(){super({id:"editor.action.insertLineBefore",label:B.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:3075,weight:100}})}run(Me,ye){const _e=ye._getViewModel();_e&&(ye.pushUndoStop(),ye.executeCommands(this.id,p.u6.lineInsertBefore(_e.cursorConfig,ye.getModel(),ye.getSelections())))}}class le extends r.R6{constructor(){super({id:"editor.action.insertLineAfter",label:B.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2051,weight:100}})}run(Me,ye){const _e=ye._getViewModel();_e&&(ye.pushUndoStop(),ye.executeCommands(this.id,p.u6.lineInsertAfter(_e.cursorConfig,ye.getModel(),ye.getSelections())))}}class fe extends r.R6{run(Me,ye){if(!ye.hasModel())return;const _e=ye.getSelection(),se=this._getRangesToDelete(ye),ve=[];for(let Ae=0,Qe=se.length-1;Ae<Qe;Ae++){const rt=se[Ae],Dt=se[Ae+1];I.e.intersectRanges(rt,Dt)===null?ve.push(rt):se[Ae+1]=I.e.plusRange(rt,Dt)}ve.push(se[se.length-1]);const xe=this._getEndCursorState(_e,ve),je=ve.map(Ae=>_.h.replace(Ae,""));ye.pushUndoStop(),ye.executeEdits(this.id,je,xe),ye.pushUndoStop()}}class Le extends fe{constructor(){super({id:"deleteAllLeft",label:B.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Me,ye){let _e=null;const se=[];let ve=0;return ye.forEach(xe=>{let je;if(xe.endColumn===1&&ve>0){const Ae=xe.startLineNumber-ve;je=new d.Y(Ae,xe.startColumn,Ae,xe.startColumn)}else je=new d.Y(xe.startLineNumber,xe.startColumn,xe.startLineNumber,xe.startColumn);ve+=xe.endLineNumber-xe.startLineNumber,xe.intersectRanges(Me)?_e=je:se.push(je)}),_e&&se.unshift(_e),se}_getRangesToDelete(Me){const ye=Me.getSelections();if(ye===null)return[];let _e=ye;const se=Me.getModel();return se===null?[]:(_e.sort(I.e.compareRangesUsingStarts),_e=_e.map(ve=>{if(ve.isEmpty())if(ve.startColumn===1){const xe=Math.max(1,ve.startLineNumber-1),je=ve.startLineNumber===1?1:se.getLineLength(xe)+1;return new I.e(xe,je,ve.startLineNumber,1)}else return new I.e(ve.startLineNumber,1,ve.startLineNumber,ve.startColumn);else return new I.e(ve.startLineNumber,1,ve.endLineNumber,ve.endColumn)}),_e)}}class pe extends fe{constructor(){super({id:"deleteAllRight",label:B.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Me,ye){let _e=null;const se=[];for(let ve=0,xe=ye.length,je=0;ve<xe;ve++){const Ae=ye[ve],Qe=new d.Y(Ae.startLineNumber-je,Ae.startColumn,Ae.startLineNumber-je,Ae.startColumn);Ae.intersectRanges(Me)?_e=Qe:se.push(Qe)}return _e&&se.unshift(_e),se}_getRangesToDelete(Me){const ye=Me.getModel();if(ye===null)return[];const _e=Me.getSelections();if(_e===null)return[];const se=_e.map(ve=>{if(ve.isEmpty()){const xe=ye.getLineMaxColumn(ve.startLineNumber);return ve.startColumn===xe?new I.e(ve.startLineNumber,ve.startColumn,ve.startLineNumber+1,1):new I.e(ve.startLineNumber,ve.startColumn,ve.startLineNumber,xe)}return ve});return se.sort(I.e.compareRangesUsingStarts),se}}class Te extends r.R6{constructor(){super({id:"editor.action.joinLines",label:B.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Me,ye){const _e=ye.getSelections();if(_e===null)return;let se=ye.getSelection();if(se===null)return;_e.sort(I.e.compareRangesUsingStarts);const ve=[],xe=_e.reduce((at,vt)=>at.isEmpty()?at.endLineNumber===vt.startLineNumber?(se.equalsSelection(at)&&(se=vt),vt):vt.startLineNumber>at.endLineNumber+1?(ve.push(at),vt):new d.Y(at.startLineNumber,at.startColumn,vt.endLineNumber,vt.endColumn):vt.startLineNumber>at.endLineNumber?(ve.push(at),vt):new d.Y(at.startLineNumber,at.startColumn,vt.endLineNumber,vt.endColumn));ve.push(xe);const je=ye.getModel();if(je===null)return;const Ae=[],Qe=[];let rt=se,Dt=0;for(let at=0,vt=ve.length;at<vt;at++){const Mt=ve[at],ti=Mt.startLineNumber,Ft=1;let ei=0,Xt,Ct;const ft=je.getLineLength(Mt.endLineNumber)-Mt.endColumn;if(Mt.isEmpty()||Mt.startLineNumber===Mt.endLineNumber){const Ge=Mt.getStartPosition();Ge.lineNumber<je.getLineCount()?(Xt=ti+1,Ct=je.getLineMaxColumn(Xt)):(Xt=Ge.lineNumber,Ct=je.getLineMaxColumn(Ge.lineNumber))}else Xt=Mt.endLineNumber,Ct=je.getLineMaxColumn(Xt);let Bt=je.getLineContent(ti);for(let Ge=ti+1;Ge<=Xt;Ge++){const St=je.getLineContent(Ge),Ci=je.getLineFirstNonWhitespaceColumn(Ge);if(Ci>=1){let Oi=!0;Bt===""&&(Oi=!1),Oi&&(Bt.charAt(Bt.length-1)===" "||Bt.charAt(Bt.length-1)==="	")&&(Oi=!1,Bt=Bt.replace(/[\s\uFEFF\xA0]+$/g," "));const xi=St.substr(Ci-1);Bt+=(Oi?" ":"")+xi,Oi?ei=xi.length+1:ei=xi.length}else ei=0}const kt=new I.e(ti,Ft,Xt,Ct);if(!kt.isEmpty()){let Ge;Mt.isEmpty()?(Ae.push(_.h.replace(kt,Bt)),Ge=new d.Y(kt.startLineNumber-Dt,Bt.length-ei+1,ti-Dt,Bt.length-ei+1)):Mt.startLineNumber===Mt.endLineNumber?(Ae.push(_.h.replace(kt,Bt)),Ge=new d.Y(Mt.startLineNumber-Dt,Mt.startColumn,Mt.endLineNumber-Dt,Mt.endColumn)):(Ae.push(_.h.replace(kt,Bt)),Ge=new d.Y(Mt.startLineNumber-Dt,Mt.startColumn,Mt.startLineNumber-Dt,Bt.length-ft)),I.e.intersectRanges(kt,se)!==null?rt=Ge:Qe.push(Ge)}Dt+=kt.endLineNumber-kt.startLineNumber}Qe.unshift(rt),ye.pushUndoStop(),ye.executeEdits(this.id,Ae,Qe),ye.pushUndoStop()}}class De extends r.R6{constructor(){super({id:"editor.action.transpose",label:B.NC("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:u.u.writable})}run(Me,ye){const _e=ye.getSelections();if(_e===null)return;const se=ye.getModel();if(se===null)return;const ve=[];for(let xe=0,je=_e.length;xe<je;xe++){const Ae=_e[xe];if(!Ae.isEmpty())continue;const Qe=Ae.getStartPosition(),rt=se.getLineMaxColumn(Qe.lineNumber);if(Qe.column>=rt){if(Qe.lineNumber===se.getLineCount())continue;const Dt=new I.e(Qe.lineNumber,Math.max(1,Qe.column-1),Qe.lineNumber+1,1),at=se.getValueInRange(Dt).split("").reverse().join("");ve.push(new E.T4(new d.Y(Qe.lineNumber,Math.max(1,Qe.column-1),Qe.lineNumber+1,1),at))}else{const Dt=new I.e(Qe.lineNumber,Math.max(1,Qe.column-1),Qe.lineNumber,Qe.column+1),at=se.getValueInRange(Dt).split("").reverse().join("");ve.push(new E.hP(Dt,at,new d.Y(Qe.lineNumber,Qe.column+1,Qe.lineNumber,Qe.column+1)))}}ye.pushUndoStop(),ye.executeCommands(this.id,ve),ye.pushUndoStop()}}class ae extends r.R6{run(Me,ye){const _e=ye.getSelections();if(_e===null)return;const se=ye.getModel();if(se===null)return;const ve=ye.getOption(129),xe=[];for(const je of _e)if(je.isEmpty()){const Ae=je.getStartPosition(),Qe=ye.getConfiguredWordAtPosition(Ae);if(!Qe)continue;const rt=new I.e(Ae.lineNumber,Qe.startColumn,Ae.lineNumber,Qe.endColumn),Dt=se.getValueInRange(rt);xe.push(_.h.replace(rt,this._modifyText(Dt,ve)))}else{const Ae=se.getValueInRange(je);xe.push(_.h.replace(je,this._modifyText(Ae,ve)))}ye.pushUndoStop(),ye.executeEdits(this.id,xe),ye.pushUndoStop()}}class Ne extends ae{constructor(){super({id:"editor.action.transformToUppercase",label:B.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:u.u.writable})}_modifyText(Me,ye){return Me.toLocaleUpperCase()}}class We extends ae{constructor(){super({id:"editor.action.transformToLowercase",label:B.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:u.u.writable})}_modifyText(Me,ye){return Me.toLocaleLowerCase()}}class ze{constructor(Me,ye){this._pattern=Me,this._flags=ye,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(Me){}}return this._actual}isSupported(){return this.get()!==null}}class Se extends ae{constructor(){super({id:"editor.action.transformToTitlecase",label:B.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:u.u.writable})}_modifyText(Me,ye){const _e=Se.titleBoundary.get();return _e?Me.toLocaleLowerCase().replace(_e,se=>se.toLocaleUpperCase()):Me}}Se.titleBoundary=new ze("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ne extends ae{constructor(){super({id:"editor.action.transformToSnakecase",label:B.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:u.u.writable})}_modifyText(Me,ye){const _e=ne.caseBoundary.get(),se=ne.singleLetters.get();return!_e||!se?Me:Me.replace(_e,"$1_$2").replace(se,"$1_$2$3").toLocaleLowerCase()}}ne.caseBoundary=new ze("(\\p{Ll})(\\p{Lu})","gmu"),ne.singleLetters=new ze("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class ce extends ae{constructor(){super({id:"editor.action.transformToCamelcase",label:B.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:u.u.writable})}_modifyText(Me,ye){const _e=ce.wordBoundary.get();if(!_e)return Me;const se=Me.split(_e);return se.shift()+se.map(xe=>xe.substring(0,1).toLocaleUpperCase()+xe.substring(1)).join("")}}ce.wordBoundary=new ze("[_\\s-]","gm");class Oe extends ae{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(ye=>ye.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:B.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:u.u.writable})}_modifyText(Me,ye){const _e=Oe.caseBoundary.get(),se=Oe.singleLetters.get(),ve=Oe.underscoreBoundary.get();return!_e||!se||!ve?Me:Me.replace(ve,"$1-$3").replace(_e,"$1-$2").replace(se,"$1-$2").toLocaleLowerCase()}}Oe.caseBoundary=new ze("(\\p{Ll})(\\p{Lu})","gmu"),Oe.singleLetters=new ze("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Oe.underscoreBoundary=new ze("(\\S)(_)(\\S)","gm"),(0,r.Qr)(P),(0,r.Qr)(w),(0,r.Qr)(V),(0,r.Qr)(A),(0,r.Qr)(H),(0,r.Qr)(G),(0,r.Qr)(j),(0,r.Qr)(W),(0,r.Qr)(K),(0,r.Qr)(m),(0,r.Qr)(J),(0,r.Qr)(X),(0,r.Qr)(ie),(0,r.Qr)(le),(0,r.Qr)(Le),(0,r.Qr)(pe),(0,r.Qr)(Te),(0,r.Qr)(De),(0,r.Qr)(Ne),(0,r.Qr)(We),ne.caseBoundary.isSupported()&&ne.singleLetters.isSupported()&&(0,r.Qr)(ne),ce.wordBoundary.isSupported()&&(0,r.Qr)(ce),Se.titleBoundary.isSupported()&&(0,r.Qr)(Se),Oe.isSupported()&&(0,r.Qr)(Oe)},69949:function(Pt,Ke,e){"use strict";var b=e(9488),z=e(15393),r=e(71050),E=e(41264),c=e(17301),_=e(4669),I=e(5976),M=e(97295),D=e(70666),p=e(16830),o=e(11640),d=e(50187),u=e(24314),i=e(29102),n=e(84901),f=e(4256),v=e(63580),a=e(32064),S=e(71922),g=e(73910),y=e(88191),C=e(84013),L=function(R,A,H,U){var G=arguments.length,j=G<3?A:U===null?U=Object.getOwnPropertyDescriptor(A,H):U,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(R,A,H,U);else for(var K=R.length-1;K>=0;K--)(W=R[K])&&(j=(G<3?W(j):G>3?W(A,H,j):W(A,H))||j);return G>3&&j&&Object.defineProperty(A,H,j),j},O=function(R,A){return function(H,U){A(H,U,R)}},T;const F=new a.uy("LinkedEditingInputVisible",!1),B="linked-editing-decoration";let $=T=class extends I.JT{static get(A){return A.getContribution(T.ID)}constructor(A,H,U,G,j){super(),this.languageConfigurationService=G,this._syncRangesToken=0,this._localToDispose=this._register(new I.SL),this._editor=A,this._providers=U.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=F.bindTo(H),this._debounceInformation=j.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new I.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(W=>{(W.hasChanged(69)||W.hasChanged(92))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(A){const H=this._editor.getModel(),U=H!==null&&(this._editor.getOption(69)||this._editor.getOption(92))&&this._providers.has(H);if(U===this._enabled&&!A||(this._enabled=U,this.clearRanges(),this._localToDispose.clear(),!U||H===null))return;this._localToDispose.add(_.ju.runAndSubscribe(H.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(H.getLanguageId()).getWordDefinition()}));const G=new z.vp(this._debounceInformation.get(H)),j=()=>{var m;this._rangeUpdateTriggerPromise=G.trigger(()=>this.updateRanges(),(m=this._debounceDuration)!==null&&m!==void 0?m:this._debounceInformation.get(H))},W=new z.vp(0),K=m=>{this._rangeSyncTriggerPromise=W.trigger(()=>this._syncRanges(m))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{j()})),this._localToDispose.add(this._editor.onDidChangeModelContent(m=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const J=this._currentDecorations.getRange(0);if(J&&m.changes.every(X=>J.intersectRanges(X.range))){K(this._syncRangesToken);return}}j()})),this._localToDispose.add({dispose:()=>{G.dispose(),W.dispose()}}),this.updateRanges()}_syncRanges(A){if(!this._editor.hasModel()||A!==this._syncRangesToken||this._currentDecorations.length===0)return;const H=this._editor.getModel(),U=this._currentDecorations.getRange(0);if(!U||U.startLineNumber!==U.endLineNumber)return this.clearRanges();const G=H.getValueInRange(U);if(this._currentWordPattern){const W=G.match(this._currentWordPattern);if((W?W[0].length:0)!==G.length)return this.clearRanges()}const j=[];for(let W=1,K=this._currentDecorations.length;W<K;W++){const m=this._currentDecorations.getRange(W);if(m)if(m.startLineNumber!==m.endLineNumber)j.push({range:m,text:G});else{let J=H.getValueInRange(m),X=G,ie=m.startColumn,le=m.endColumn;const fe=M.Mh(J,X);ie+=fe,J=J.substr(fe),X=X.substr(fe);const Le=M.P1(J,X);le-=Le,J=J.substr(0,J.length-Le),X=X.substr(0,X.length-Le),(ie!==le||X.length!==0)&&j.push({range:new u.e(m.startLineNumber,ie,m.endLineNumber,le),text:X})}}if(j.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const W=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",j),this._editor._getViewModel().setPrevEditOperationType(W)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(A=!1){return qt(this,null,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const H=this._editor.getPosition();if(!this._enabled&&!A||this._editor.getSelections().length>1){this.clearRanges();return}const U=this._editor.getModel(),G=U.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===G){if(H.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const W=this._currentDecorations.getRange(0);if(W&&W.containsPosition(H))return}}this.clearRanges(),this._currentRequestPosition=H,this._currentRequestModelVersion=G;const j=(0,z.PG)(W=>qt(this,null,function*(){try{const K=new C.G(!1),m=yield w(this._providers,U,H,W);if(this._debounceInformation.update(U,K.elapsed()),j!==this._currentRequest||(this._currentRequest=null,G!==U.getVersionId()))return;let J=[];m!=null&&m.ranges&&(J=m.ranges),this._currentWordPattern=(m==null?void 0:m.wordPattern)||this._languageWordPattern;let X=!1;for(let le=0,fe=J.length;le<fe;le++)if(u.e.containsPosition(J[le],H)){if(X=!0,le!==0){const Le=J[le];J.splice(le,1),J.unshift(Le)}break}if(!X){this.clearRanges();return}const ie=J.map(le=>({range:le,options:T.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(ie),this._syncRangesToken++}catch(K){(0,c.n2)(K)||(0,c.dL)(K),(this._currentRequest===j||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=j,j})}};$.ID="editor.contrib.linkedEditing",$.DECORATION=n.qx.register({description:"linked-editing",stickiness:0,className:B}),$=T=L([O(1,a.i6),O(2,S.p),O(3,f.c_),O(4,y.A)],$);class Y extends p.R6{constructor(){super({id:"editor.action.linkedEditing",label:v.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:a.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:3132,weight:100}})}runCommand(A,H){const U=A.get(o.$),[G,j]=Array.isArray(H)&&H||[void 0,void 0];return D.o.isUri(G)&&d.L.isIPosition(j)?U.openCodeEditor({resource:G},U.getActiveCodeEditor()).then(W=>{W&&(W.setPosition(j),W.invokeWithinContext(K=>(this.reportTelemetry(K,W),this.run(K,W))))},c.dL):super.runCommand(A,H)}run(A,H){const U=$.get(H);return U?Promise.resolve(U.updateRanges(!0)):Promise.resolve()}}const P=p._l.bindToContribution($.get);(0,p.fK)(new P({id:"cancelLinkedEditingInput",precondition:F,handler:R=>R.clearRanges(),kbOpts:{kbExpr:i.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function w(R,A,H,U){const G=R.ordered(A);return(0,z.Ps)(G.map(j=>()=>qt(this,null,function*(){try{return yield j.provideLinkedEditingRanges(A,H,U)}catch(W){(0,c.Cp)(W);return}})),j=>!!j&&b.Of(j==null?void 0:j.ranges))}const V=(0,g.P6G)("editor.linkedEditingBackground",{dark:E.Il.fromHex("#f00").transparent(.3),light:E.Il.fromHex("#f00").transparent(.3),hcDark:E.Il.fromHex("#f00").transparent(.3),hcLight:E.Il.white},v.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,p.sb)("_executeLinkedEditingProvider",(R,A,H)=>{const{linkedEditingRangeProvider:U}=R.get(S.p);return w(U,A,H,r.T.None)}),(0,p._K)($.ID,$,1),(0,p.Qr)(Y)},60468:function(Pt,Ke,e){"use strict";var b=e(15393),z=e(71050),r=e(17301),E=e(59365),c=e(5976),_=e(66663),I=e(1432),M=e(95935),D=e(84013),p=e(70666),o=e(16830),d=e(84901),u=e(88191),i=e(71922),n=e(82005),f=e(9488),v=e(98401),a=e(24314),S=e(73733),g=e(94565);class y{constructor(U,G){this._link=U,this._provider=G}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(U){return qt(this,null,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,U)).then(G=>(this._link=G||this._link,this._link.url?this.resolve(U):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class C{constructor(U){this._disposables=new c.SL;let G=[];for(const[j,W]of U){const K=j.links.map(m=>new y(m,W));G=C._union(G,K),(0,c.Wf)(j)&&this._disposables.add(j)}this.links=G}dispose(){this._disposables.dispose(),this.links.length=0}static _union(U,G){const j=[];let W,K,m,J;for(W=0,m=0,K=U.length,J=G.length;W<K&&m<J;){const X=U[W],ie=G[m];if(a.e.areIntersectingOrTouching(X.range,ie.range)){W++;continue}a.e.compareRangesUsingStarts(X.range,ie.range)<0?(j.push(X),W++):(j.push(ie),m++)}for(;W<K;W++)j.push(U[W]);for(;m<J;m++)j.push(G[m]);return j}}function L(H,U,G){const j=[],W=H.ordered(U).reverse().map((K,m)=>Promise.resolve(K.provideLinks(U,G)).then(J=>{J&&(j[m]=[J,K])},r.Cp));return Promise.all(W).then(()=>{const K=new C((0,f.kX)(j));return G.isCancellationRequested?(K.dispose(),new C([])):K})}g.P.registerCommand("_executeLinkProvider",(H,...U)=>qt(this,null,function*(){let[G,j]=U;(0,v.p_)(G instanceof p.o),typeof j!="number"&&(j=0);const{linkProvider:W}=H.get(i.p),K=H.get(S.q).getModel(G);if(!K)return[];const m=yield L(W,K,z.T.None);if(!m)return[];for(let X=0;X<Math.min(j,m.links.length);X++)yield m.links[X].resolve(z.T.None);const J=m.links.slice(0);return m.dispose(),J}));var O=e(63580),T=e(48894),F=e(50988),B=function(H,U,G,j){var W=arguments.length,K=W<3?U:j===null?j=Object.getOwnPropertyDescriptor(U,G):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,U,G,j);else for(var J=H.length-1;J>=0;J--)(m=H[J])&&(K=(W<3?m(K):W>3?m(U,G,K):m(U,G))||K);return W>3&&K&&Object.defineProperty(U,G,K),K},$=function(H,U){return function(G,j){U(G,j,H)}},Y;let P=Y=class extends c.JT{static get(U){return U.getContribution(Y.ID)}constructor(U,G,j,W,K){super(),this.editor=U,this.openerService=G,this.notificationService=j,this.languageFeaturesService=W,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=K.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new b.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const m=this._register(new n.yN(U));this._register(m.onMouseMoveOrRelevantKeyDown(([J,X])=>{this._onEditorMouseMove(J,X)})),this._register(m.onExecute(J=>{this.onEditorMouseUp(J)})),this._register(m.onCancel(J=>{this.cleanUpActiveLinkDecoration()})),this._register(U.onDidChangeConfiguration(J=>{J.hasChanged(70)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(U.onDidChangeModelContent(J=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(U.onDidChangeModel(J=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(U.onDidChangeModelLanguage(J=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(J=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return qt(this,null,function*(){if(!this.editor.hasModel()||!this.editor.getOption(70))return;const U=this.editor.getModel();if(!U.isTooLargeForSyncing()&&this.providers.has(U)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,b.PG)(G=>L(this.providers,U,G));try{const G=new D.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(U,G.elapsed()),U.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(G){(0,r.dL)(G)}finally{this.computePromise=null}}})}updateDecorations(U){const G=this.editor.getOption(77)==="altKey",j=[],W=Object.keys(this.currentOccurrences);for(const m of W){const J=this.currentOccurrences[m];j.push(J.decorationId)}const K=[];if(U)for(const m of U)K.push(V.decoration(m,G));this.editor.changeDecorations(m=>{const J=m.deltaDecorations(j,K);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let X=0,ie=J.length;X<ie;X++){const le=new V(U[X],J[X]);this.currentOccurrences[le.decorationId]=le}})}_onEditorMouseMove(U,G){const j=this.editor.getOption(77)==="altKey";if(this.isEnabled(U,G)){this.cleanUpActiveLinkDecoration();const W=this.getLinkOccurrence(U.target.position);W&&this.editor.changeDecorations(K=>{W.activate(K,j),this.activeLinkDecorationId=W.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const U=this.editor.getOption(77)==="altKey";if(this.activeLinkDecorationId){const G=this.currentOccurrences[this.activeLinkDecorationId];G&&this.editor.changeDecorations(j=>{G.deactivate(j,U)}),this.activeLinkDecorationId=null}}onEditorMouseUp(U){if(!this.isEnabled(U))return;const G=this.getLinkOccurrence(U.target.position);G&&this.openLinkOccurrence(G,U.hasSideBySideModifier,!0)}openLinkOccurrence(U,G,j=!1){if(!this.openerService)return;const{link:W}=U;W.resolve(z.T.None).then(K=>{if(typeof K=="string"&&this.editor.hasModel()){const m=this.editor.getModel().uri;if(m.scheme===_.lg.file&&K.startsWith(`${_.lg.file}:`)){const J=p.o.parse(K);if(J.scheme===_.lg.file){const X=M.z_(J);let ie=null;X.startsWith("/./")?ie=`.${X.substr(1)}`:X.startsWith("//./")&&(ie=`.${X.substr(2)}`),ie&&(K=M.Vo(m,ie))}}}return this.openerService.open(K,{openToSide:G,fromUserGesture:j,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},K=>{const m=K instanceof Error?K.message:K;m==="invalid"?this.notificationService.warn(O.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",W.url.toString())):m==="missing"?this.notificationService.warn(O.NC("missing.url","Failed to open this link because its target is missing.")):(0,r.dL)(K)})}getLinkOccurrence(U){if(!this.editor.hasModel()||!U)return null;const G=this.editor.getModel().getDecorationsInRange({startLineNumber:U.lineNumber,startColumn:U.column,endLineNumber:U.lineNumber,endColumn:U.column},0,!0);for(const j of G){const W=this.currentOccurrences[j.id];if(W)return W}return null}isEnabled(U,G){return!!(U.target.type===6&&(U.hasTriggerModifier||G&&G.keyCodeIsTriggerKey))}stop(){var U;this.computeLinks.cancel(),this.activeLinksList&&((U=this.activeLinksList)===null||U===void 0||U.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};P.ID="editor.linkDetector",P=Y=B([$(1,F.v),$(2,T.lT),$(3,i.p),$(4,u.A)],P);const w={general:d.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:d.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class V{static decoration(U,G){return{range:U.range,options:V._getOptions(U,G,!1)}}static _getOptions(U,G,j){const W=Xi({},j?w.active:w.general);return W.hoverMessage=R(U,G),W}constructor(U,G){this.link=U,this.decorationId=G}activate(U,G){U.changeDecorationOptions(this.decorationId,V._getOptions(this.link,G,!0))}deactivate(U,G){U.changeDecorationOptions(this.decorationId,V._getOptions(this.link,G,!1))}}function R(H,U){const G=H.url&&/^command:/i.test(H.url.toString()),j=H.tooltip?H.tooltip:G?O.NC("links.navigate.executeCmd","Execute command"):O.NC("links.navigate.follow","Follow link"),W=U?I.dz?O.NC("links.navigate.kb.meta.mac","cmd + click"):O.NC("links.navigate.kb.meta","ctrl + click"):I.dz?O.NC("links.navigate.kb.alt.mac","option + click"):O.NC("links.navigate.kb.alt","alt + click");if(H.url){let K="";if(/^command:/i.test(H.url.toString())){const J=H.url.toString().match(/^command:([^?#]+)/);if(J){const X=J[1];K=O.NC("tooltip.explanation","Execute command {0}",X)}}return new E.W5("",!0).appendLink(H.url.toString(!0).replace(/ /g,"%20"),j,K).appendMarkdown(` (${W})`)}else return new E.W5().appendText(`${j} (${W})`)}class A extends o.R6{constructor(){super({id:"editor.action.openLink",label:O.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(U,G){const j=P.get(G);if(!j||!G.hasModel())return;const W=G.getSelections();for(const K of W){const m=j.getLinkOccurrence(K.getEndPosition());m&&j.openLinkOccurrence(m,!1)}}}(0,o._K)(P.ID,P,1),(0,o.Qr)(A)},93519:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(16830);class r extends b.JT{constructor(c){super(),this._editor=c,this._register(this._editor.onMouseDown(_=>{const I=this._editor.getOption(116);I>=0&&_.target.type===6&&_.target.position.column>=I&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}r.ID="editor.contrib.longLinesHelper",(0,z._K)(r.ID,r,2)},33772:function(Pt,Ke,e){"use strict";e.d(Ke,{$:function(){return i},N:function(){return n}});var b=e(53253),z=e(77514),r=e(17301),E=e(4669),c=e(5976),_=e(52136),I=e(72042),M=e(68801),D=e(82963),p=e(50988),o=function(v,a,S,g){var y=arguments.length,C=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,S):g,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(v,a,S,g);else for(var O=v.length-1;O>=0;O--)(L=v[O])&&(C=(y<3?L(C):y>3?L(a,S,C):L(a,S))||C);return y>3&&C&&Object.defineProperty(a,S,C),C},d=function(v,a){return function(S,g){a(S,g,v)}},u;let i=u=class{constructor(a,S,g){this._options=a,this._languageService=S,this._openerService=g,this._onDidRenderAsync=new E.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(a,S,g){if(!a)return{element:document.createElement("span"),dispose:()=>{}};const y=new c.SL,C=y.add((0,b.ap)(a,Xi(Xi({},this._getRenderOptions(a,y)),S),g));return C.element.classList.add("rendered-markdown"),{element:C.element,dispose:()=>y.dispose()}}_getRenderOptions(a,S){return{codeBlockRenderer:(g,y)=>qt(this,null,function*(){var C,L,O;let T;g?T=this._languageService.getLanguageIdByLanguageName(g):this._options.editor&&(T=(C=this._options.editor.getModel())===null||C===void 0?void 0:C.getLanguageId()),T||(T=M.bd);const F=yield(0,D.C2)(this._languageService,y,T),B=document.createElement("span");if(B.innerHTML=(O=(L=u._ttpTokenizer)===null||L===void 0?void 0:L.createHTML(F))!==null&&O!==void 0?O:F,this._options.editor){const $=this._options.editor.getOption(50);(0,_.N)(B,$)}else this._options.codeBlockFontFamily&&(B.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(B.style.fontSize=this._options.codeBlockFontSize),B}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:g=>n(this._openerService,g,a.isTrusted),disposables:S}}}};i._ttpTokenizer=(0,z.Z)("tokenizeToString",{createHTML(v){return v}}),i=u=o([d(1,I.O),d(2,p.v)],i);function n(v,a,S){return qt(this,null,function*(){try{return yield v.open(a,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:f(S)})}catch(g){return(0,r.dL)(g),!1}})}function f(v){return v===!0?!0:v&&Array.isArray(v.enabledCommands)?v.enabledCommands:!1}},27863:function(Pt,Ke,e){"use strict";e.d(Ke,{O:function(){return f}});var b=e(53253),z=e(35996),r=e(4669),E=e(59365),c=e(5976),_=e(16830),I=e(24314),M=e(33772),D=e(63580),p=e(32064),o=e(50988),d=e(65321),u=function(S,g,y,C){var L=arguments.length,O=L<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(S,g,y,C);else for(var F=S.length-1;F>=0;F--)(T=S[F])&&(O=(L<3?T(O):L>3?T(g,y,O):T(g,y))||O);return L>3&&O&&Object.defineProperty(g,y,O),O},i=function(S,g){return function(y,C){g(y,C,S)}},n;let f=n=class{static get(g){return g.getContribution(n.ID)}constructor(g,y,C){this._openerService=C,this._messageWidget=new c.XK,this._messageListeners=new c.SL,this._mouseOverMessage=!1,this._editor=g,this._visible=n.MESSAGE_VISIBLE.bindTo(y)}dispose(){var g;(g=this._message)===null||g===void 0||g.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(g,y){(0,z.Z9)((0,E.Fr)(g)?g.value:g),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,E.Fr)(g)?(0,b.ap)(g,{actionHandler:{callback:L=>(0,M.N)(this._openerService,L,(0,E.Fr)(g)?g.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new a(this._editor,y,typeof g=="string"?g:this._message.element),this._messageListeners.add(r.ju.debounce(this._editor.onDidBlurEditorText,(L,O)=>O,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&d.jg(d.vY(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(d.nm(this._messageWidget.value.getDomNode(),d.tw.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(d.nm(this._messageWidget.value.getDomNode(),d.tw.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let C;this._messageListeners.add(this._editor.onMouseMove(L=>{L.target.position&&(C?C.containsPosition(L.target.position)||this.closeMessage():C=new I.e(y.lineNumber-3,1,L.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(a.fadeOut(this._messageWidget.value))}};f.ID="editor.contrib.messageController",f.MESSAGE_VISIBLE=new p.uy("messageVisible",!1,D.NC("messageVisible","Whether the editor is currently showing an inline message")),f=n=u([i(1,p.i6),i(2,o.v)],f);const v=_._l.bindToContribution(f.get);(0,_.fK)(new v({id:"leaveEditorMessage",precondition:f.MESSAGE_VISIBLE,handler:S=>S.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class a{static fadeOut(g){const y=()=>{g.dispose(),clearTimeout(C),g.getDomNode().removeEventListener("animationend",y)},C=setTimeout(y,110);return g.getDomNode().addEventListener("animationend",y),g.getDomNode().classList.add("fadeOut"),{dispose:y}}constructor(g,{lineNumber:y,column:C},L){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=g,this._editor.revealLinesInCenterIfOutsideViewport(y,y,0),this._position={lineNumber:y,column:C},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const O=document.createElement("div");O.classList.add("anchor","top"),this._domNode.appendChild(O);const T=document.createElement("div");typeof L=="string"?(T.classList.add("message"),T.textContent=L):(L.classList.add("message"),T.appendChild(L)),this._domNode.appendChild(T);const F=document.createElement("div");F.classList.add("anchor","below"),this._domNode.appendChild(F),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(g){this._domNode.classList.toggle("below",g===2)}}(0,_._K)(f.ID,f,4)},77061:function(Pt,Ke,e){"use strict";var b=e(35996),z=e(15393),r=e(22258),E=e(5976),c=e(16830),_=e(28108),I=e(24314),M=e(3860),D=e(29102),p=e(63980),o=e(63580),d=e(84144),u=e(32064),i=e(71922),n=e(71828),f=e(72065),v=function(J,X,ie,le){var fe=arguments.length,Le=fe<3?X:le===null?le=Object.getOwnPropertyDescriptor(X,ie):le,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(J,X,ie,le);else for(var Te=J.length-1;Te>=0;Te--)(pe=J[Te])&&(Le=(fe<3?pe(Le):fe>3?pe(X,ie,Le):pe(X,ie))||Le);return fe>3&&Le&&Object.defineProperty(X,ie,Le),Le},a=function(J,X){return function(ie,le){X(ie,le,J)}},S;function g(J,X){const ie=X.filter(le=>!J.find(fe=>fe.equals(le)));if(ie.length>=1){const le=ie.map(Le=>`line ${Le.viewState.position.lineNumber} column ${Le.viewState.position.column}`).join(", "),fe=ie.length===1?o.NC("cursorAdded","Cursor added: {0}",le):o.NC("cursorsAdded","Cursors added: {0}",le);(0,b.i7)(fe)}}class y extends c.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:o.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(X,ie,le){if(!ie.hasModel())return;let fe=!0;le&&le.logicalLine===!1&&(fe=!1);const Le=ie._getViewModel();if(Le.cursorConfig.readOnly)return;Le.model.pushStackElement();const pe=Le.getCursorStates();Le.setCursorStates(le.source,3,_.P.addCursorUp(Le,pe,fe)),Le.revealTopMostCursor(le.source),g(pe,Le.getCursorStates())}}class C extends c.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:o.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(X,ie,le){if(!ie.hasModel())return;let fe=!0;le&&le.logicalLine===!1&&(fe=!1);const Le=ie._getViewModel();if(Le.cursorConfig.readOnly)return;Le.model.pushStackElement();const pe=Le.getCursorStates();Le.setCursorStates(le.source,3,_.P.addCursorDown(Le,pe,fe)),Le.revealBottomMostCursor(le.source),g(pe,Le.getCursorStates())}}class L extends c.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(X,ie,le){if(!X.isEmpty()){for(let fe=X.startLineNumber;fe<X.endLineNumber;fe++){const Le=ie.getLineMaxColumn(fe);le.push(new M.Y(fe,Le,fe,Le))}X.endColumn>1&&le.push(new M.Y(X.endLineNumber,X.endColumn,X.endLineNumber,X.endColumn))}}run(X,ie){if(!ie.hasModel())return;const le=ie.getModel(),fe=ie.getSelections(),Le=ie._getViewModel(),pe=Le.getCursorStates(),Te=[];fe.forEach(De=>this.getCursorsForSelection(De,le,Te)),Te.length>0&&ie.setSelections(Te),g(pe,Le.getCursorStates())}}class O extends c.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:o.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(X,ie){if(!ie.hasModel())return;const le=ie.getSelections(),fe=ie.getModel().getLineCount(),Le=[];for(let De=le[0].startLineNumber;De<=fe;De++)Le.push(new M.Y(De,le[0].startColumn,De,le[0].endColumn));const pe=ie._getViewModel(),Te=pe.getCursorStates();Le.length>0&&ie.setSelections(Le),g(Te,pe.getCursorStates())}}class T extends c.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:o.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(X,ie){if(!ie.hasModel())return;const le=ie.getSelections(),fe=[];for(let Te=le[0].startLineNumber;Te>=1;Te--)fe.push(new M.Y(Te,le[0].startColumn,Te,le[0].endColumn));const Le=ie._getViewModel(),pe=Le.getCursorStates();fe.length>0&&ie.setSelections(fe),g(pe,Le.getCursorStates())}}class F{constructor(X,ie,le){this.selections=X,this.revealRange=ie,this.revealScrollType=le}}class B{static create(X,ie){if(!X.hasModel())return null;const le=ie.getState();if(!X.hasTextFocus()&&le.isRevealed&&le.searchString.length>0)return new B(X,ie,!1,le.searchString,le.wholeWord,le.matchCase,null);let fe=!1,Le,pe;const Te=X.getSelections();Te.length===1&&Te[0].isEmpty()?(fe=!0,Le=!0,pe=!0):(Le=le.wholeWord,pe=le.matchCase);const De=X.getSelection();let ae,Ne=null;if(De.isEmpty()){const We=X.getConfiguredWordAtPosition(De.getStartPosition());if(!We)return null;ae=We.word,Ne=new M.Y(De.startLineNumber,We.startColumn,De.startLineNumber,We.endColumn)}else ae=X.getModel().getValueInRange(De).replace(/\r\n/g,`
`);return new B(X,ie,fe,ae,Le,pe,Ne)}constructor(X,ie,le,fe,Le,pe,Te){this._editor=X,this.findController=ie,this.isDisconnectedFromFindController=le,this.searchText=fe,this.wholeWord=Le,this.matchCase=pe,this.currentMatch=Te}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const ie=this._editor.getSelections();return new F(ie.concat(X),X,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const ie=this._editor.getSelections();return new F(ie.slice(0,ie.length-1).concat(X),X,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const fe=this.currentMatch;return this.currentMatch=null,fe}this.findController.highlightFindOptions();const X=this._editor.getSelections(),ie=X[X.length-1],le=this._editor.getModel().findNextMatch(this.searchText,ie.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return le?new M.Y(le.range.startLineNumber,le.range.startColumn,le.range.endLineNumber,le.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const ie=this._editor.getSelections();return new F(ie.concat(X),X,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const ie=this._editor.getSelections();return new F(ie.slice(0,ie.length-1).concat(X),X,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const fe=this.currentMatch;return this.currentMatch=null,fe}this.findController.highlightFindOptions();const X=this._editor.getSelections(),ie=X[X.length-1],le=this._editor.getModel().findPreviousMatch(this.searchText,ie.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return le?new M.Y(le.range.startLineNumber,le.range.startColumn,le.range.endLineNumber,le.range.endColumn):null}selectAll(X){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const ie=this._editor.getModel();return X?ie.findMatches(this.searchText,X,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824):ie.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824)}}class $ extends E.JT{static get(X){return X.getContribution($.ID)}constructor(X){super(),this._sessionDispose=this._register(new E.SL),this._editor=X,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(X){if(!this._session){const ie=B.create(this._editor,X);if(!ie)return;this._session=ie;const le={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(le.wholeWordOverride=1,le.matchCaseOverride=1,le.isRegexOverride=2),X.getState().change(le,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(fe=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(X.getState().onFindReplaceStateChange(fe=>{(fe.matchCase||fe.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const X={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(X,!1)}this._session=null}_setSelections(X){this._ignoreSelectionChange=!0,this._editor.setSelections(X),this._ignoreSelectionChange=!1}_expandEmptyToWord(X,ie){if(!ie.isEmpty())return ie;const le=this._editor.getConfiguredWordAtPosition(ie.getStartPosition());return le?new M.Y(ie.startLineNumber,le.startColumn,ie.startLineNumber,le.endColumn):ie}_applySessionResult(X){X&&(this._setSelections(X.selections),X.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(X.revealRange,X.revealScrollType))}getSession(X){return this._session}addSelectionToNextFindMatch(X){if(this._editor.hasModel()){if(!this._session){const ie=this._editor.getSelections();if(ie.length>1){const fe=X.getState().matchCase;if(!j(this._editor.getModel(),ie,fe)){const pe=this._editor.getModel(),Te=[];for(let De=0,ae=ie.length;De<ae;De++)Te[De]=this._expandEmptyToWord(pe,ie[De]);this._editor.setSelections(Te);return}}}this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(X){if(!this._editor.hasModel())return;let ie=null;const le=X.getState();if(le.isRevealed&&le.searchString.length>0&&le.isRegex){const fe=this._editor.getModel();le.searchScope?ie=fe.findMatches(le.searchString,le.searchScope,le.isRegex,le.matchCase,le.wholeWord?this._editor.getOption(129):null,!1,1073741824):ie=fe.findMatches(le.searchString,!0,le.isRegex,le.matchCase,le.wholeWord?this._editor.getOption(129):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(X),!this._session)return;ie=this._session.selectAll(le.searchScope)}if(ie.length>0){const fe=this._editor.getSelection();for(let Le=0,pe=ie.length;Le<pe;Le++){const Te=ie[Le];if(Te.range.intersectRanges(fe)){ie[Le]=ie[0],ie[0]=Te;break}}this._setSelections(ie.map(Le=>new M.Y(Le.range.startLineNumber,Le.range.startColumn,Le.range.endLineNumber,Le.range.endColumn)))}}}$.ID="editor.contrib.multiCursorController";class Y extends c.R6{run(X,ie){const le=$.get(ie);if(!le)return;const fe=ie._getViewModel();if(fe){const Le=fe.getCursorStates(),pe=p.pR.get(ie);if(pe)this._run(le,pe);else{const Te=X.get(f.TG).createInstance(p.pR,ie);this._run(le,Te),Te.dispose()}g(Le,fe.getCursorStates())}}}class P extends Y{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:o.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:2082,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(X,ie){X.addSelectionToNextFindMatch(ie)}}class w extends Y{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:o.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(X,ie){X.addSelectionToPreviousFindMatch(ie)}}class V extends Y{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:o.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:(0,r.gx)(2089,2082),weight:100}})}_run(X,ie){X.moveSelectionToNextFindMatch(ie)}}class R extends Y{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:o.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(X,ie){X.moveSelectionToPreviousFindMatch(ie)}}class A extends Y{constructor(){super({id:"editor.action.selectHighlights",label:o.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:3114,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:o.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(X,ie){X.selectAll(ie)}}class H extends Y{constructor(){super({id:"editor.action.changeAll",label:o.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:u.Ao.and(D.u.writable,D.u.editorTextFocus),kbOpts:{kbExpr:D.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(X,ie){X.selectAll(ie)}}class U{constructor(X,ie,le,fe,Le){this._model=X,this._searchText=ie,this._matchCase=le,this._wordSeparators=fe,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Le&&this._model===Le._model&&this._searchText===Le._searchText&&this._matchCase===Le._matchCase&&this._wordSeparators===Le._wordSeparators&&this._modelVersionId===Le._modelVersionId&&(this._cachedFindMatches=Le._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(X=>X.range),this._cachedFindMatches.sort(I.e.compareRangesUsingStarts)),this._cachedFindMatches}}let G=S=class extends E.JT{constructor(X,ie){super(),this._languageFeaturesService=ie,this.editor=X,this._isEnabled=X.getOption(107),this._decorations=X.createDecorationsCollection(),this.updateSoon=this._register(new z.pY(()=>this._update(),300)),this.state=null,this._register(X.onDidChangeConfiguration(fe=>{this._isEnabled=X.getOption(107)})),this._register(X.onDidChangeCursorSelection(fe=>{this._isEnabled&&(fe.selection.isEmpty()?fe.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(X.onDidChangeModel(fe=>{this._setState(null)})),this._register(X.onDidChangeModelContent(fe=>{this._isEnabled&&this.updateSoon.schedule()}));const le=p.pR.get(X);le&&this._register(le.getState().onFindReplaceStateChange(fe=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(S._createState(this.state,this._isEnabled,this.editor))}static _createState(X,ie,le){if(!ie||!le.hasModel())return null;const fe=le.getSelection();if(fe.startLineNumber!==fe.endLineNumber)return null;const Le=$.get(le);if(!Le)return null;const pe=p.pR.get(le);if(!pe)return null;let Te=Le.getSession(pe);if(!Te){const Ne=le.getSelections();if(Ne.length>1){const ze=pe.getState().matchCase;if(!j(le.getModel(),Ne,ze))return null}Te=B.create(le,pe)}if(!Te||Te.currentMatch||/^[ \t]+$/.test(Te.searchText)||Te.searchText.length>200)return null;const De=pe.getState(),ae=De.matchCase;if(De.isRevealed){let Ne=De.searchString;ae||(Ne=Ne.toLowerCase());let We=Te.searchText;if(ae||(We=We.toLowerCase()),Ne===We&&Te.matchCase===De.matchCase&&Te.wholeWord===De.wholeWord&&!De.isRegex)return null}return new U(le.getModel(),Te.searchText,Te.matchCase,Te.wholeWord?le.getOption(129):null,X)}_setState(X){if(this.state=X,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const ie=this.editor.getModel();if(ie.isTooLargeForTokenization())return;const le=this.state.findMatches(),fe=this.editor.getSelections();fe.sort(I.e.compareRangesUsingStarts);const Le=[];for(let ae=0,Ne=0,We=le.length,ze=fe.length;ae<We;){const Se=le[ae];if(Ne>=ze)Le.push(Se),ae++;else{const ne=I.e.compareRangesUsingStarts(Se,fe[Ne]);ne<0?((fe[Ne].isEmpty()||!I.e.areIntersecting(Se,fe[Ne]))&&Le.push(Se),ae++):(ne>0||ae++,Ne++)}}const pe=this.editor.getOption(80)!=="off",Te=this._languageFeaturesService.documentHighlightProvider.has(ie)&&pe,De=Le.map(ae=>({range:ae,options:(0,n.w)(Te)}));this._decorations.set(De)}dispose(){this._setState(null),super.dispose()}};G.ID="editor.contrib.selectionHighlighter",G=S=v([a(1,i.p)],G);function j(J,X,ie){const le=W(J,X[0],!ie);for(let fe=1,Le=X.length;fe<Le;fe++){const pe=X[fe];if(pe.isEmpty())return!1;const Te=W(J,pe,!ie);if(le!==Te)return!1}return!0}function W(J,X,ie){const le=J.getValueInRange(X);return ie?le.toLowerCase():le}class K extends c.R6{constructor(){super({id:"editor.action.focusNextCursor",label:o.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:o.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(X,ie,le){if(!ie.hasModel())return;const fe=ie._getViewModel();if(fe.cursorConfig.readOnly)return;fe.model.pushStackElement();const Le=Array.from(fe.getCursorStates()),pe=Le.shift();pe&&(Le.push(pe),fe.setCursorStates(le.source,3,Le),fe.revealPrimaryCursor(le.source,!0),g(Le,fe.getCursorStates()))}}class m extends c.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:o.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:o.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(X,ie,le){if(!ie.hasModel())return;const fe=ie._getViewModel();if(fe.cursorConfig.readOnly)return;fe.model.pushStackElement();const Le=Array.from(fe.getCursorStates()),pe=Le.pop();pe&&(Le.unshift(pe),fe.setCursorStates(le.source,3,Le),fe.revealPrimaryCursor(le.source,!0),g(Le,fe.getCursorStates()))}}(0,c._K)($.ID,$,4),(0,c._K)(G.ID,G,1),(0,c.Qr)(y),(0,c.Qr)(C),(0,c.Qr)(L),(0,c.Qr)(P),(0,c.Qr)(w),(0,c.Qr)(V),(0,c.Qr)(R),(0,c.Qr)(A),(0,c.Qr)(H),(0,c.Qr)(O),(0,c.Qr)(T),(0,c.Qr)(K),(0,c.Qr)(m)},9776:function(Pt,Ke,e){"use strict";var b=e(79579),z=e(5976),r=e(16830),E=e(29102),c=e(43155),_=e(71922),I=e(15393),M=e(17301),D=e(4669),p=e(44906),o=e(71050),d=e(98401),u=e(70666),i=e(50187),n=e(88216),f=e(94565),v=e(32064);const a={Visible:new v.uy("parameterHintsVisible",!1),MultipleSignatures:new v.uy("parameterHintsMultipleSignatures",!1)};function S(De,ae,Ne,We,ze){return qt(this,null,function*(){const Se=De.ordered(ae);for(const ne of Se)try{const ce=yield ne.provideSignatureHelp(ae,Ne,ze,We);if(ce)return ce}catch(ce){(0,M.Cp)(ce)}})}f.P.registerCommand("_executeSignatureHelpProvider",(De,...ae)=>qt(this,null,function*(){const[Ne,We,ze]=ae;(0,d.p_)(u.o.isUri(Ne)),(0,d.p_)(i.L.isIPosition(We)),(0,d.p_)(typeof ze=="string"||!ze);const Se=De.get(_.p),ne=yield De.get(n.S).createModelReference(Ne);try{const ce=yield S(Se.signatureHelpProvider,ne.object.textEditorModel,i.L.lift(We),{triggerKind:c.WW.Invoke,isRetrigger:!1,triggerCharacter:ze},o.T.None);return ce?(setTimeout(()=>ce.dispose(),0),ce.value):void 0}finally{ne.dispose()}}));var g;(function(De){De.Default={type:0};class ae{constructor(ze,Se){this.request=ze,this.previouslyActiveHints=Se,this.type=2}}De.Pending=ae;class Ne{constructor(ze){this.hints=ze,this.type=1}}De.Active=Ne})(g||(g={}));class y extends z.JT{constructor(ae,Ne,We=y.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new D.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=g.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new z.XK),this.triggerChars=new p.q,this.retriggerChars=new p.q,this.triggerId=0,this.editor=ae,this.providers=Ne,this.throttledDelayer=new I.vp(We),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(ze=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(ze=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(ze=>this.onCursorChange(ze))),this._register(this.editor.onDidChangeModelContent(ze=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(ze=>this.onDidType(ze))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(ae){this._state.type===2&&this._state.request.cancel(),this._state=ae}cancel(ae=!1){this.state=g.Default,this.throttledDelayer.cancel(),ae||this._onChangedHints.fire(void 0)}trigger(ae,Ne){const We=this.editor.getModel();if(!We||!this.providers.has(We))return;const ze=++this.triggerId;this._pendingTriggers.push(ae),this.throttledDelayer.trigger(()=>this.doTrigger(ze),Ne).catch(M.dL)}next(){if(this.state.type!==1)return;const ae=this.state.hints.signatures.length,Ne=this.state.hints.activeSignature,We=Ne%ae===ae-1,ze=this.editor.getOption(85).cycle;if((ae<2||We)&&!ze){this.cancel();return}this.updateActiveSignature(We&&ze?0:Ne+1)}previous(){if(this.state.type!==1)return;const ae=this.state.hints.signatures.length,Ne=this.state.hints.activeSignature,We=Ne===0,ze=this.editor.getOption(85).cycle;if((ae<2||We)&&!ze){this.cancel();return}this.updateActiveSignature(We&&ze?ae-1:Ne-1)}updateActiveSignature(ae){this.state.type===1&&(this.state=new g.Active(Ln(Xi({},this.state.hints),{activeSignature:ae})),this._onChangedHints.fire(this.state.hints))}doTrigger(ae){return qt(this,null,function*(){const Ne=this.state.type===1||this.state.type===2,We=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const ze=this._pendingTriggers.reduce(C);this._pendingTriggers=[];const Se={triggerKind:ze.triggerKind,triggerCharacter:ze.triggerCharacter,isRetrigger:Ne,activeSignatureHelp:We};if(!this.editor.hasModel())return!1;const ne=this.editor.getModel(),ce=this.editor.getPosition();this.state=new g.Pending((0,I.PG)(Oe=>S(this.providers,ne,ce,Se,Oe)),We);try{const Oe=yield this.state.request;return ae!==this.triggerId?(Oe==null||Oe.dispose(),!1):!Oe||!Oe.value.signatures||Oe.value.signatures.length===0?(Oe==null||Oe.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new g.Active(Oe.value),this._lastSignatureHelpResult.value=Oe,this._onChangedHints.fire(this.state.hints),!0)}catch(Oe){return ae===this.triggerId&&(this.state=g.Default),(0,M.dL)(Oe),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const ae=this.editor.getModel();if(ae)for(const Ne of this.providers.ordered(ae)){for(const We of Ne.signatureHelpTriggerCharacters||[])if(We.length){const ze=We.charCodeAt(0);this.triggerChars.add(ze),this.retriggerChars.add(ze)}for(const We of Ne.signatureHelpRetriggerCharacters||[])We.length&&this.retriggerChars.add(We.charCodeAt(0))}}onDidType(ae){if(!this.triggerOnType)return;const Ne=ae.length-1,We=ae.charCodeAt(Ne);(this.triggerChars.has(We)||this.isTriggered&&this.retriggerChars.has(We))&&this.trigger({triggerKind:c.WW.TriggerCharacter,triggerCharacter:ae.charAt(Ne)})}onCursorChange(ae){ae.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:c.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:c.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(85).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}y.DEFAULT_DELAY=120;function C(De,ae){switch(ae.triggerKind){case c.WW.Invoke:return ae;case c.WW.ContentChange:return De;case c.WW.TriggerCharacter:default:return ae}}var L=e(63580),O=e(72065),T=e(65321),F=e(35996),B=e(59740),$=e(73046),Y=e(97295),P=e(72042),w=e(33772),V=e(50988),R=e(73910),A=e(59554),H=e(25670),U=function(De,ae,Ne,We){var ze=arguments.length,Se=ze<3?ae:We===null?We=Object.getOwnPropertyDescriptor(ae,Ne):We,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(De,ae,Ne,We);else for(var ce=De.length-1;ce>=0;ce--)(ne=De[ce])&&(Se=(ze<3?ne(Se):ze>3?ne(ae,Ne,Se):ne(ae,Ne))||Se);return ze>3&&Se&&Object.defineProperty(ae,Ne,Se),Se},G=function(De,ae){return function(Ne,We){ae(Ne,We,De)}},j;const W=T.$,K=(0,A.q5)("parameter-hints-next",$.l.chevronDown,L.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),m=(0,A.q5)("parameter-hints-previous",$.l.chevronUp,L.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let J=j=class extends z.JT{constructor(ae,Ne,We,ze,Se){super(),this.editor=ae,this.model=Ne,this.renderDisposeables=this._register(new z.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new w.$({editor:ae},Se,ze)),this.keyVisible=a.Visible.bindTo(We),this.keyMultipleSignatures=a.MultipleSignatures.bindTo(We)}createParameterHintDOMNodes(){const ae=W(".editor-widget.parameter-hints-widget"),Ne=T.R3(ae,W(".phwrapper"));Ne.tabIndex=-1;const We=T.R3(Ne,W(".controls")),ze=T.R3(We,W(".button"+H.k.asCSSSelector(m))),Se=T.R3(We,W(".overloads")),ne=T.R3(We,W(".button"+H.k.asCSSSelector(K)));this._register(T.nm(ze,"click",_e=>{T.zB.stop(_e),this.previous()})),this._register(T.nm(ne,"click",_e=>{T.zB.stop(_e),this.next()}));const ce=W(".body"),Oe=new B.s$(ce,{alwaysConsumeMouseWheel:!0});this._register(Oe),Ne.appendChild(Oe.getDomNode());const Pe=T.R3(ce,W(".signature")),Me=T.R3(ce,W(".docs"));ae.style.userSelect="text",this.domNodes={element:ae,signature:Pe,overloads:Se,docs:Me,scrollbar:Oe},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(_e=>{this.visible&&this.editor.layoutContentWidget(this)}));const ye=()=>{if(!this.domNodes)return;const _e=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${_e.fontSize}px`,this.domNodes.element.style.lineHeight=`${_e.lineHeight/_e.fontSize}`};ye(),this._register(D.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor),_e=>_e.filter(se=>se.hasChanged(50)))(ye)),this._register(this.editor.onDidLayoutChange(_e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var ae;(ae=this.domNodes)===null||ae===void 0||ae.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var ae;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(ae=this.domNodes)===null||ae===void 0||ae.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(ae){var Ne;if(this.renderDisposeables.clear(),!this.domNodes)return;const We=ae.signatures.length>1;this.domNodes.element.classList.toggle("multiple",We),this.keyMultipleSignatures.set(We),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const ze=ae.signatures[ae.activeSignature];if(!ze)return;const Se=T.R3(this.domNodes.signature,W(".code")),ne=this.editor.getOption(50);Se.style.fontSize=`${ne.fontSize}px`,Se.style.fontFamily=ne.fontFamily;const ce=ze.parameters.length>0,Oe=(Ne=ze.activeParameter)!==null&&Ne!==void 0?Ne:ae.activeParameter;if(ce)this.renderParameters(Se,ze,Oe);else{const ye=T.R3(Se,W("span"));ye.textContent=ze.label}const Pe=ze.parameters[Oe];if(Pe!=null&&Pe.documentation){const ye=W("span.documentation");if(typeof Pe.documentation=="string")ye.textContent=Pe.documentation;else{const _e=this.renderMarkdownDocs(Pe.documentation);ye.appendChild(_e.element)}T.R3(this.domNodes.docs,W("p",{},ye))}if(ze.documentation!==void 0)if(typeof ze.documentation=="string")T.R3(this.domNodes.docs,W("p",{},ze.documentation));else{const ye=this.renderMarkdownDocs(ze.documentation);T.R3(this.domNodes.docs,ye.element)}const Me=this.hasDocs(ze,Pe);if(this.domNodes.signature.classList.toggle("has-docs",Me),this.domNodes.docs.classList.toggle("empty",!Me),this.domNodes.overloads.textContent=String(ae.activeSignature+1).padStart(ae.signatures.length.toString().length,"0")+"/"+ae.signatures.length,Pe){let ye="";const _e=ze.parameters[Oe];Array.isArray(_e.label)?ye=ze.label.substring(_e.label[0],_e.label[1]):ye=_e.label,_e.documentation&&(ye+=typeof _e.documentation=="string"?`, ${_e.documentation}`:`, ${_e.documentation.value}`),ze.documentation&&(ye+=typeof ze.documentation=="string"?`, ${ze.documentation}`:`, ${ze.documentation.value}`),this.announcedLabel!==ye&&(F.Z9(L.NC("hint","{0}, hint",ye)),this.announcedLabel=ye)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(ae){const Ne=this.renderDisposeables.add(this.markdownRenderer.render(ae,{asyncRenderCallback:()=>{var We;(We=this.domNodes)===null||We===void 0||We.scrollbar.scanDomNode()}}));return Ne.element.classList.add("markdown-docs"),Ne}hasDocs(ae,Ne){return!!(Ne&&typeof Ne.documentation=="string"&&(0,d.cW)(Ne.documentation).length>0||Ne&&typeof Ne.documentation=="object"&&(0,d.cW)(Ne.documentation).value.length>0||ae.documentation&&typeof ae.documentation=="string"&&(0,d.cW)(ae.documentation).length>0||ae.documentation&&typeof ae.documentation=="object"&&(0,d.cW)(ae.documentation.value).length>0)}renderParameters(ae,Ne,We){const[ze,Se]=this.getParameterLabelOffsets(Ne,We),ne=document.createElement("span");ne.textContent=Ne.label.substring(0,ze);const ce=document.createElement("span");ce.textContent=Ne.label.substring(ze,Se),ce.className="parameter active";const Oe=document.createElement("span");Oe.textContent=Ne.label.substring(Se),T.R3(ae,ne,ce,Oe)}getParameterLabelOffsets(ae,Ne){const We=ae.parameters[Ne];if(We){if(Array.isArray(We.label))return We.label;if(We.label.length){const ze=new RegExp(`(\\W|^)${(0,Y.ec)(We.label)}(?=\\W|$)`,"g");ze.test(ae.label);const Se=ze.lastIndex-We.label.length;return Se>=0?[Se,ze.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return j.ID}updateMaxHeight(){if(!this.domNodes)return;const Ne=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Ne;const We=this.domNodes.element.getElementsByClassName("phwrapper");We.length&&(We[0].style.maxHeight=Ne)}};J.ID="editor.widget.parameterHintsWidget",J=j=U([G(2,v.i6),G(3,V.v),G(4,P.O)],J),(0,R.P6G)("editorHoverWidget.highlightForeground",{dark:R.Gwp,light:R.Gwp,hcDark:R.Gwp,hcLight:R.Gwp},L.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var X=function(De,ae,Ne,We){var ze=arguments.length,Se=ze<3?ae:We===null?We=Object.getOwnPropertyDescriptor(ae,Ne):We,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(De,ae,Ne,We);else for(var ce=De.length-1;ce>=0;ce--)(ne=De[ce])&&(Se=(ze<3?ne(Se):ze>3?ne(ae,Ne,Se):ne(ae,Ne))||Se);return ze>3&&Se&&Object.defineProperty(ae,Ne,Se),Se},ie=function(De,ae){return function(Ne,We){ae(Ne,We,De)}},le;let fe=le=class extends z.JT{static get(ae){return ae.getContribution(le.ID)}constructor(ae,Ne,We){super(),this.editor=ae,this.model=this._register(new y(ae,We.signatureHelpProvider)),this._register(this.model.onChangedHints(ze=>{var Se;ze?(this.widget.value.show(),this.widget.value.render(ze)):(Se=this.widget.rawValue)===null||Se===void 0||Se.hide()})),this.widget=new b.o(()=>this._register(Ne.createInstance(J,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var ae;(ae=this.widget.rawValue)===null||ae===void 0||ae.previous()}next(){var ae;(ae=this.widget.rawValue)===null||ae===void 0||ae.next()}trigger(ae){this.model.trigger(ae,0)}};fe.ID="editor.controller.parameterHints",fe=le=X([ie(1,O.TG),ie(2,_.p)],fe);class Le extends r.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:L.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:E.u.hasSignatureHelpProvider,kbOpts:{kbExpr:E.u.editorTextFocus,primary:3082,weight:100}})}run(ae,Ne){const We=fe.get(Ne);We==null||We.trigger({triggerKind:c.WW.Invoke})}}(0,r._K)(fe.ID,fe,2),(0,r.Qr)(Le);const pe=100+75,Te=r._l.bindToContribution(fe.get);(0,r.fK)(new Te({id:"closeParameterHints",precondition:a.Visible,handler:De=>De.cancel(),kbOpts:{weight:pe,kbExpr:E.u.focus,primary:9,secondary:[1033]}})),(0,r.fK)(new Te({id:"showPrevParameterHint",precondition:v.Ao.and(a.Visible,a.MultipleSignatures),handler:De=>De.previous(),kbOpts:{weight:pe,kbExpr:E.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,r.fK)(new Te({id:"showNextParameterHint",precondition:v.Ao.and(a.Visible,a.MultipleSignatures),handler:De=>De.next(),kbOpts:{weight:pe,kbExpr:E.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},60865:function(Pt,Ke,e){"use strict";e.d(Ke,{Fw:function(){return V},Jy:function(){return R},vk:function(){return G},rc:function(){return H},SC:function(){return m},M8:function(){return J},KY:function(){return j},IH:function(){return W},R7:function(){return K}});var b=e(65321),z=e(90317),r=e(74741),E=e(73046),c=e(25670),_=e(41264),I=e(4669),M=e(36248),D=e(16830),p=e(11640),o=e(84527),d=e(83080),u=e(44742),i=e(5976),n=e(24314),f=e(84901);const v=new _.Il(new _.VS(0,122,204)),a={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},S="vs.editor.contrib.zoneWidget";class g{constructor(ze,Se,ne,ce,Oe,Pe,Me,ye){this.id="",this.domNode=ze,this.afterLineNumber=Se,this.afterColumn=ne,this.heightInLines=ce,this.showInHiddenAreas=Me,this.ordinal=ye,this._onDomNodeTop=Oe,this._onComputedHeight=Pe}onDomNodeTop(ze){this._onDomNodeTop(ze)}onComputedHeight(ze){this._onComputedHeight(ze)}}class y{constructor(ze,Se){this._id=ze,this._domNode=Se}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class C{constructor(ze){this._editor=ze,this._ruleName=C._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),b.uN(this._ruleName)}set color(ze){this._color!==ze&&(this._color=ze,this._updateStyle())}set height(ze){this._height!==ze&&(this._height=ze,this._updateStyle())}_updateStyle(){b.uN(this._ruleName),b.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(ze){ze.column===1&&(ze={lineNumber:ze.lineNumber,column:2}),this._decorations.set([{range:n.e.fromPositions(ze),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}C._IdGenerator=new u.R(".arrow-decoration-");class L{constructor(ze,Se={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new i.SL,this.container=null,this._isShowing=!1,this.editor=ze,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=M.I8(Se),M.jB(this.options,a,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(ne=>{const ce=this._getWidth(ne);this.domNode.style.width=ce+"px",this.domNode.style.left=this._getLeft(ne)+"px",this._onWidth(ce)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(ze=>{this._viewZone&&ze.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new C(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(ze){ze.frameColor&&(this.options.frameColor=ze.frameColor),ze.arrowColor&&(this.options.arrowColor=ze.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const ze=this.options.frameColor.toString();this.container.style.borderTopColor=ze,this.container.style.borderBottomColor=ze}if(this._arrow&&this.options.arrowColor){const ze=this.options.arrowColor.toString();this._arrow.color=ze}}_getWidth(ze){return ze.width-ze.minimap.minimapWidth-ze.verticalScrollbarWidth}_getLeft(ze){return ze.minimap.minimapWidth>0&&ze.minimap.minimapLeft===0?ze.minimap.minimapWidth:0}_onViewZoneTop(ze){this.domNode.style.top=ze+"px"}_onViewZoneHeight(ze){var Se;if(this.domNode.style.height=`${ze}px`,this.container){const ne=ze-this._decoratingElementsHeight();this.container.style.height=`${ne}px`;const ce=this.editor.getLayoutInfo();this._doLayout(ne,this._getWidth(ce))}(Se=this._resizeSash)===null||Se===void 0||Se.layout()}get position(){const ze=this._positionMarkerId.getRange(0);if(ze)return ze.getStartPosition()}show(ze,Se){const ne=n.e.isIRange(ze)?n.e.lift(ze):n.e.fromPositions(ze);this._isShowing=!0,this._showImpl(ne,Se),this._isShowing=!1,this._positionMarkerId.set([{range:ne,options:f.qx.EMPTY}])}hide(){var ze;this._viewZone&&(this.editor.changeViewZones(Se=>{this._viewZone&&Se.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(ze=this._arrow)===null||ze===void 0||ze.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const ze=this.editor.getOption(66);let Se=0;if(this.options.showArrow){const ne=Math.round(ze/3);Se+=2*ne}if(this.options.showFrame){const ne=Math.round(ze/9);Se+=2*ne}return Se}_showImpl(ze,Se){const ne=ze.getStartPosition(),ce=this.editor.getLayoutInfo(),Oe=this._getWidth(ce);this.domNode.style.width=`${Oe}px`,this.domNode.style.left=this._getLeft(ce)+"px";const Pe=document.createElement("div");Pe.style.overflow="hidden";const Me=this.editor.getOption(66);if(!this.options.allowUnlimitedHeight){const xe=Math.max(12,this.editor.getLayoutInfo().height/Me*.8);Se=Math.min(Se,xe)}let ye=0,_e=0;if(this._arrow&&this.options.showArrow&&(ye=Math.round(Me/3),this._arrow.height=ye,this._arrow.show(ne)),this.options.showFrame&&(_e=Math.round(Me/9)),this.editor.changeViewZones(xe=>{this._viewZone&&xe.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new g(Pe,ne.lineNumber,ne.column,Se,je=>this._onViewZoneTop(je),je=>this._onViewZoneHeight(je),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=xe.addZone(this._viewZone),this._overlayWidget=new y(S+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const xe=this.options.frameWidth?this.options.frameWidth:_e;this.container.style.borderTopWidth=xe+"px",this.container.style.borderBottomWidth=xe+"px"}const se=Se*Me-this._decoratingElementsHeight();this.container&&(this.container.style.top=ye+"px",this.container.style.height=se+"px",this.container.style.overflow="hidden"),this._doLayout(se,Oe),this.options.keepEditorSelection||this.editor.setSelection(ze);const ve=this.editor.getModel();if(ve){const xe=ve.validateRange(new n.e(ze.startLineNumber,1,ze.endLineNumber+1,1));this.revealRange(xe,xe.startLineNumber===ve.getLineCount())}}revealRange(ze,Se){Se?this.editor.revealLineNearTop(ze.endLineNumber,0):this.editor.revealRange(ze,0)}setCssClass(ze,Se){this.container&&(Se&&this.container.classList.remove(Se),this.container.classList.add(ze))}_onWidth(ze){}_doLayout(ze,Se){}_relayout(ze){this._viewZone&&this._viewZone.heightInLines!==ze&&this.editor.changeViewZones(Se=>{this._viewZone&&(this._viewZone.heightInLines=ze,Se.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new d.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let ze;this._disposables.add(this._resizeSash.onDidStart(Se=>{this._viewZone&&(ze={startY:Se.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{ze=void 0})),this._disposables.add(this._resizeSash.onDidChange(Se=>{if(ze){const ne=(Se.currentY-ze.startY)/this.editor.getOption(66),ce=ne<0?Math.ceil(ne):Math.floor(ne),Oe=ze.heightInLines+ce;Oe>5&&Oe<35&&this._relayout(Oe)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const ze=this.editor.getLayoutInfo();return ze.width-ze.minimap.minimapWidth}}var O=e(63580),T=e(80677),F=e(32064),B=e(65026),$=e(72065),Y=e(73910),P=function(We,ze,Se,ne){var ce=arguments.length,Oe=ce<3?ze:ne===null?ne=Object.getOwnPropertyDescriptor(ze,Se):ne,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(We,ze,Se,ne);else for(var Me=We.length-1;Me>=0;Me--)(Pe=We[Me])&&(Oe=(ce<3?Pe(Oe):ce>3?Pe(ze,Se,Oe):Pe(ze,Se))||Oe);return ce>3&&Oe&&Object.defineProperty(ze,Se,Oe),Oe},w=function(We,ze){return function(Se,ne){ze(Se,ne,We)}};const V=(0,$.yh)("IPeekViewService");(0,B.z)(V,class{constructor(){this._widgets=new Map}addExclusiveWidget(We,ze){const Se=this._widgets.get(We);Se&&(Se.listener.dispose(),Se.widget.dispose());const ne=()=>{const ce=this._widgets.get(We);ce&&ce.widget===ze&&(ce.listener.dispose(),this._widgets.delete(We))};this._widgets.set(We,{widget:ze,listener:ze.onDidClose(ne)})}},1);var R;(function(We){We.inPeekEditor=new F.uy("inReferenceSearchEditor",!0,O.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),We.notInPeekEditor=We.inPeekEditor.toNegated()})(R||(R={}));let A=class{constructor(ze,Se){ze instanceof o.H&&R.inPeekEditor.bindTo(Se)}dispose(){}};A.ID="editor.contrib.referenceController",A=P([w(1,F.i6)],A),(0,D._K)(A.ID,A,0);function H(We){const ze=We.get(p.$).getFocusedCodeEditor();return ze instanceof o.H?ze.getParentEditor():ze}const U={headerBackgroundColor:_.Il.white,primaryHeadingColor:_.Il.fromHex("#333333"),secondaryHeadingColor:_.Il.fromHex("#6c6c6cb3")};let G=class extends L{constructor(ze,Se,ne){super(ze,Se),this.instantiationService=ne,this._onDidClose=new I.Q5,this.onDidClose=this._onDidClose.event,M.jB(this.options,U,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(ze){const Se=this.options;ze.headerBackgroundColor&&(Se.headerBackgroundColor=ze.headerBackgroundColor),ze.primaryHeadingColor&&(Se.primaryHeadingColor=ze.primaryHeadingColor),ze.secondaryHeadingColor&&(Se.secondaryHeadingColor=ze.secondaryHeadingColor),super.style(ze)}_applyStyles(){super._applyStyles();const ze=this.options;this._headElement&&ze.headerBackgroundColor&&(this._headElement.style.backgroundColor=ze.headerBackgroundColor.toString()),this._primaryHeading&&ze.primaryHeadingColor&&(this._primaryHeading.style.color=ze.primaryHeadingColor.toString()),this._secondaryHeading&&ze.secondaryHeadingColor&&(this._secondaryHeading.style.color=ze.secondaryHeadingColor.toString()),this._bodyElement&&ze.frameColor&&(this._bodyElement.style.borderColor=ze.frameColor.toString())}_fillContainer(ze){this.setCssClass("peekview-widget"),this._headElement=b.$(".head"),this._bodyElement=b.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),ze.appendChild(this._headElement),ze.appendChild(this._bodyElement)}_fillHead(ze,Se){this._titleElement=b.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),b.mu(this._titleElement,"click",Oe=>this._onTitleClick(Oe))),b.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=b.$("span.filename"),this._secondaryHeading=b.$("span.dirname"),this._metaHeading=b.$("span.meta"),b.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const ne=b.$(".peekview-actions");b.R3(this._headElement,ne);const ce=this._getActionBarOptions();this._actionbarWidget=new z.o(ne,ce),this._disposables.add(this._actionbarWidget),Se||this._actionbarWidget.push(new r.aU("peekview.close",O.NC("label.close","Close"),c.k.asClassName(E.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(ze){}_getActionBarOptions(){return{actionViewItemProvider:T.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(ze){}setTitle(ze,Se){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=ze,this._primaryHeading.setAttribute("title",ze),Se?this._secondaryHeading.innerText=Se:b.PO(this._secondaryHeading))}setMetaTitle(ze){this._metaHeading&&(ze?(this._metaHeading.innerText=ze,b.$Z(this._metaHeading)):b.Cp(this._metaHeading))}_doLayout(ze,Se){if(!this._isShowing&&ze<0){this.dispose();return}const ne=Math.ceil(this.editor.getOption(66)*1.2),ce=Math.round(ze-(ne+2));this._doLayoutHead(ne,Se),this._doLayoutBody(ce,Se)}_doLayoutHead(ze,Se){this._headElement&&(this._headElement.style.height=`${ze}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(ze,Se){this._bodyElement&&(this._bodyElement.style.height=`${ze}px`)}};G=P([w(2,$.TG)],G);const j=(0,Y.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:_.Il.black,hcLight:_.Il.white},O.NC("peekViewTitleBackground","Background color of the peek view title area.")),W=(0,Y.P6G)("peekViewTitleLabel.foreground",{dark:_.Il.white,light:_.Il.black,hcDark:_.Il.white,hcLight:Y.NOs},O.NC("peekViewTitleForeground","Color of the peek view title.")),K=(0,Y.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},O.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),m=(0,Y.P6G)("peekView.border",{dark:Y.c63,light:Y.c63,hcDark:Y.lRK,hcLight:Y.lRK},O.NC("peekViewBorder","Color of the peek view borders and arrow.")),J=(0,Y.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:_.Il.black,hcLight:_.Il.white},O.NC("peekViewResultsBackground","Background color of the peek view result list.")),X=(0,Y.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:_.Il.white,hcLight:Y.NOs},O.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),ie=(0,Y.P6G)("peekViewResult.fileForeground",{dark:_.Il.white,light:"#1E1E1E",hcDark:_.Il.white,hcLight:Y.NOs},O.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),le=(0,Y.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},O.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),fe=(0,Y.P6G)("peekViewResult.selectionForeground",{dark:_.Il.white,light:"#6C6C6C",hcDark:_.Il.white,hcLight:Y.NOs},O.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Le=(0,Y.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:_.Il.black,hcLight:_.Il.white},O.NC("peekViewEditorBackground","Background color of the peek view editor.")),pe=(0,Y.P6G)("peekViewEditorGutter.background",{dark:Le,light:Le,hcDark:Le,hcLight:Le},O.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Te=(0,Y.P6G)("peekViewEditorStickyScroll.background",{dark:Le,light:Le,hcDark:Le,hcLight:Le},O.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),De=(0,Y.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},O.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),ae=(0,Y.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},O.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Ne=(0,Y.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Y.xL1,hcLight:Y.xL1},O.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},83943:function(Pt,Ke,e){"use strict";e.d(Ke,{X:function(){return M}});var b=e(88289),z=e(5976),r=e(65520),E=e(84973),c=e(8625),_=e(97781),I=e(35996);class M{constructor(p){this.options=p,this.rangeHighlightDecorationId=void 0}provide(p,o){var d;const u=new z.SL;p.canAcceptInBackground=!!(!((d=this.options)===null||d===void 0)&&d.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;const i=u.add(new z.XK);return i.value=this.doProvide(p,o),u.add(this.onDidActiveTextEditorControlChange(()=>{i.value=void 0,i.value=this.doProvide(p,o)})),u}doProvide(p,o){var d;const u=new z.SL,i=this.activeTextEditorControl;if(i&&this.canProvideWithTextEditor(i)){const n={editor:i},f=(0,r.Pi)(i);if(f){let v=(d=i.saveViewState())!==null&&d!==void 0?d:void 0;u.add(f.onDidChangeCursorPosition(()=>{var a;v=(a=i.saveViewState())!==null&&a!==void 0?a:void 0})),n.restoreViewState=()=>{v&&i===this.activeTextEditorControl&&i.restoreViewState(v)},u.add((0,b.M)(o.onCancellationRequested)(()=>{var a;return(a=n.restoreViewState)===null||a===void 0?void 0:a.call(n)}))}u.add((0,z.OF)(()=>this.clearDecorations(i))),u.add(this.provideWithTextEditor(n,p,o))}else u.add(this.provideWithoutTextEditor(p,o));return u}canProvideWithTextEditor(p){return!0}gotoLocation({editor:p},o){p.setSelection(o.range),p.revealRangeInCenter(o.range,0),o.preserveFocus||p.focus();const d=p.getModel();d&&"getLineContent"in d&&(0,I.i7)(`${d.getLineContent(o.range.startLineNumber)}`)}getModel(p){var o;return(0,r.QI)(p)?(o=p.getModel())===null||o===void 0?void 0:o.modified:p.getModel()}addDecorations(p,o){p.changeDecorations(d=>{const u=[];this.rangeHighlightDecorationId&&(u.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),u.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const i=[{range:o,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:o,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,_.EN)(c.m9),position:E.sh.Full}}}],[n,f]=d.deltaDecorations(u,i);this.rangeHighlightDecorationId={rangeHighlightId:n,overviewRulerDecorationId:f}})}clearDecorations(p){const o=this.rangeHighlightDecorationId;o&&(p.changeDecorations(d=>{d.deltaDecorations([o.overviewRulerDecorationId,o.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},73945:function(Pt,Ke,e){"use strict";var b=e(59365),z=e(5976),r=e(16830),E=e(27863),c=e(63580);class _ extends z.JT{constructor(M){super(),this.editor=M,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const M=E.O.get(this.editor);if(M&&this.editor.hasModel()){let D=this.editor.getOptions().get(91);D||(this.editor.isSimpleWidget?D=new b.W5(c.NC("editor.simple.readonly","Cannot edit in read-only input")):D=new b.W5(c.NC("editor.readonly","Cannot edit in read-only editor"))),M.showMessage(D,this.editor.getPosition())}}}_.ID="editor.contrib.readOnlyMessageController",(0,r._K)(_.ID,_,2)},31975:function(Pt,Ke,e){"use strict";var b=e(35996),z=e(15393),r=e(71050),E=e(17301),c=e(5976),_=e(98401),I=e(70666),M=e(14410),D=e(16830),p=e(66007),o=e(11640),d=e(50187),u=e(24314),i=e(29102),n=e(71765),f=e(27863),v=e(63580),a=e(23193),S=e(32064),g=e(72065),y=e(43557),C=e(48894),L=e(90535),O=e(89872),T=e(91847),F=e(73910),B=e(97781),$=function(m,J,X,ie){var le=arguments.length,fe=le<3?J:ie===null?ie=Object.getOwnPropertyDescriptor(J,X):ie,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(m,J,X,ie);else for(var pe=m.length-1;pe>=0;pe--)(Le=m[pe])&&(fe=(le<3?Le(fe):le>3?Le(J,X,fe):Le(J,X))||fe);return le>3&&fe&&Object.defineProperty(J,X,fe),fe},Y=function(m,J){return function(X,ie){J(X,ie,m)}};const P=new S.uy("renameInputVisible",!1,(0,v.NC)("renameInputVisible","Whether the rename input widget is visible"));let w=class{constructor(J,X,ie,le,fe){this._editor=J,this._acceptKeybindings=X,this._themeService=ie,this._keybindingService=le,this._disposables=new c.SL,this.allowEditorOverflow=!0,this._visibleContextKey=P.bindTo(fe),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(Le=>{Le.hasChanged(50)&&this._updateFont()})),this._disposables.add(ie.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,v.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(J){var X,ie,le,fe;if(!this._input||!this._domNode)return;const Le=J.getColor(F.rh),pe=J.getColor(F.A42);this._domNode.style.backgroundColor=String((X=J.getColor(F.D0T))!==null&&X!==void 0?X:""),this._domNode.style.boxShadow=Le?` 0 0 8px 2px ${Le}`:"",this._domNode.style.border=pe?`1px solid ${pe}`:"",this._domNode.style.color=String((ie=J.getColor(F.zJb))!==null&&ie!==void 0?ie:""),this._input.style.backgroundColor=String((le=J.getColor(F.sEe))!==null&&le!==void 0?le:"");const Te=J.getColor(F.dt_);this._input.style.borderWidth=Te?"1px":"0px",this._input.style.borderStyle=Te?"solid":"none",this._input.style.borderColor=(fe=Te==null?void 0:Te.toString())!==null&&fe!==void 0?fe:"none"}_updateFont(){if(!this._input||!this._label)return;const J=this._editor.getOption(50);this._input.style.fontFamily=J.fontFamily,this._input.style.fontWeight=J.fontWeight,this._input.style.fontSize=`${J.fontSize}px`,this._label.style.fontSize=`${J.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var J,X;const[ie,le]=this._acceptKeybindings;return this._label.innerText=(0,v.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(J=this._keybindingService.lookupKeybinding(ie))===null||J===void 0?void 0:J.getLabel(),(X=this._keybindingService.lookupKeybinding(le))===null||X===void 0?void 0:X.getLabel()),null}afterRender(J){J||this.cancelInput(!0)}acceptInput(J){var X;(X=this._currentAcceptInput)===null||X===void 0||X.call(this,J)}cancelInput(J){var X;(X=this._currentCancelInput)===null||X===void 0||X.call(this,J)}getInput(J,X,ie,le,fe,Le){this._domNode.classList.toggle("preview",fe),this._position=new d.L(J.startLineNumber,J.startColumn),this._input.value=X,this._input.setAttribute("selectionStart",ie.toString()),this._input.setAttribute("selectionEnd",le.toString()),this._input.size=Math.max((J.endColumn-J.startColumn)*1.1,20);const pe=new c.SL;return new Promise(Te=>{this._currentCancelInput=De=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Te(De),!0),this._currentAcceptInput=De=>{if(this._input.value.trim().length===0||this._input.value===X){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Te({newName:this._input.value,wantsPreview:fe&&De})},pe.add(Le.onCancellationRequested(()=>this.cancelInput(!0))),pe.add(this._editor.onDidBlurEditorWidget(()=>{var De;return this.cancelInput(!(!((De=this._domNode)===null||De===void 0)&&De.ownerDocument.hasFocus()))})),this._show()}).finally(()=>{pe.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};w=$([Y(2,B.XE),Y(3,T.d),Y(4,S.i6)],w);var V=e(71922),R=function(m,J,X,ie){var le=arguments.length,fe=le<3?J:ie===null?ie=Object.getOwnPropertyDescriptor(J,X):ie,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(m,J,X,ie);else for(var pe=m.length-1;pe>=0;pe--)(Le=m[pe])&&(fe=(le<3?Le(fe):le>3?Le(J,X,fe):Le(J,X))||fe);return le>3&&fe&&Object.defineProperty(J,X,fe),fe},A=function(m,J){return function(X,ie){J(X,ie,m)}},H;class U{constructor(J,X,ie){this.model=J,this.position=X,this._providerRenameIdx=0,this._providers=ie.ordered(J)}hasProvider(){return this._providers.length>0}resolveRenameLocation(J){return qt(this,null,function*(){const X=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const le=this._providers[this._providerRenameIdx];if(!le.resolveRenameLocation)break;const fe=yield le.resolveRenameLocation(this.model,this.position,J);if(fe){if(fe.rejectReason){X.push(fe.rejectReason);continue}return fe}}this._providerRenameIdx=0;const ie=this.model.getWordAtPosition(this.position);return ie?{range:new u.e(this.position.lineNumber,ie.startColumn,this.position.lineNumber,ie.endColumn),text:ie.word,rejectReason:X.length>0?X.join(`
`):void 0}:{range:u.e.fromPositions(this.position),text:"",rejectReason:X.length>0?X.join(`
`):void 0}})}provideRenameEdits(J,X){return qt(this,null,function*(){return this._provideRenameEdits(J,this._providerRenameIdx,[],X)})}_provideRenameEdits(J,X,ie,le){return qt(this,null,function*(){const fe=this._providers[X];if(!fe)return{edits:[],rejectReason:ie.join(`
`)};const Le=yield fe.provideRenameEdits(this.model,this.position,J,le);if(Le){if(Le.rejectReason)return this._provideRenameEdits(J,X+1,ie.concat(Le.rejectReason),le)}else return this._provideRenameEdits(J,X+1,ie.concat(v.NC("no result","No result.")),le);return Le})}}function G(m,J,X,ie){return qt(this,null,function*(){const le=new U(J,X,m),fe=yield le.resolveRenameLocation(r.T.None);return fe!=null&&fe.rejectReason?{edits:[],rejectReason:fe.rejectReason}:le.provideRenameEdits(ie,r.T.None)})}let j=H=class{static get(J){return J.getContribution(H.ID)}constructor(J,X,ie,le,fe,Le,pe,Te){this.editor=J,this._instaService=X,this._notificationService=ie,this._bulkEditService=le,this._progressService=fe,this._logService=Le,this._configService=pe,this._languageFeaturesService=Te,this._disposableStore=new c.SL,this._cts=new r.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(w,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){return qt(this,null,function*(){var J,X;if(this._cts.dispose(!0),this._cts=new r.A,!this.editor.hasModel())return;const ie=this.editor.getPosition(),le=new U(this.editor.getModel(),ie,this._languageFeaturesService.renameProvider);if(!le.hasProvider())return;const fe=new M.Dl(this.editor,5,void 0,this._cts.token);let Le;try{const Se=le.resolveRenameLocation(fe.token);this._progressService.showWhile(Se,250),Le=yield Se}catch(Se){(J=f.O.get(this.editor))===null||J===void 0||J.showMessage(Se||v.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),ie);return}finally{fe.dispose()}if(!Le)return;if(Le.rejectReason){(X=f.O.get(this.editor))===null||X===void 0||X.showMessage(Le.rejectReason,ie);return}if(fe.token.isCancellationRequested)return;const pe=new M.Dl(this.editor,5,Le.range,this._cts.token),Te=this.editor.getSelection();let De=0,ae=Le.text.length;!u.e.isEmpty(Te)&&!u.e.spansMultipleLines(Te)&&u.e.containsRange(Le.range,Te)&&(De=Math.max(0,Te.startColumn-Le.range.startColumn),ae=Math.min(Le.range.endColumn,Te.endColumn)-Le.range.startColumn);const Ne=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),We=yield this._renameInputField.getInput(Le.range,Le.text,De,ae,Ne,pe.token);if(typeof We=="boolean"){We&&this.editor.focus(),pe.dispose();return}this.editor.focus();const ze=(0,z.eP)(le.provideRenameEdits(We.newName,pe.token),pe.token).then(Se=>qt(this,null,function*(){if(!(!Se||!this.editor.hasModel())){if(Se.rejectReason){this._notificationService.info(Se.rejectReason);return}this.editor.setSelection(u.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Se,{editor:this.editor,showPreview:We.wantsPreview,label:v.NC("label","Renaming '{0}' to '{1}'",Le==null?void 0:Le.text,We.newName),code:"undoredo.rename",quotableLabel:v.NC("quotableLabel","Renaming {0} to {1}",Le==null?void 0:Le.text,We.newName),respectAutoSaveConfig:!0}).then(ne=>{ne.ariaSummary&&(0,b.Z9)(v.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",Le.text,We.newName,ne.ariaSummary))}).catch(ne=>{this._notificationService.error(v.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ne)})}}),Se=>{this._notificationService.error(v.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Se)}).finally(()=>{pe.dispose()});return this._progressService.showWhile(ze,250),ze})}acceptRenameInput(J){this._renameInputField.acceptInput(J)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};j.ID="editor.contrib.renameController",j=H=R([A(1,g.TG),A(2,C.lT),A(3,p.vu),A(4,L.ek),A(5,y.VZ),A(6,n.V),A(7,V.p)],j);class W extends D.R6{constructor(){super({id:"editor.action.rename",label:v.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:S.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(J,X){const ie=J.get(o.$),[le,fe]=Array.isArray(X)&&X||[void 0,void 0];return I.o.isUri(le)&&d.L.isIPosition(fe)?ie.openCodeEditor({resource:le},ie.getActiveCodeEditor()).then(Le=>{Le&&(Le.setPosition(fe),Le.invokeWithinContext(pe=>(this.reportTelemetry(pe,Le),this.run(pe,Le))))},E.dL):super.runCommand(J,X)}run(J,X){const ie=j.get(X);return ie?ie.run():Promise.resolve()}}(0,D._K)(j.ID,j,4),(0,D.Qr)(W);const K=D._l.bindToContribution(j.get);(0,D.fK)(new K({id:"acceptRenameInput",precondition:P,handler:m=>m.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:S.Ao.and(i.u.focus,S.Ao.not("isComposing")),primary:3}})),(0,D.fK)(new K({id:"acceptRenameInputWithPreview",precondition:S.Ao.and(P,S.Ao.has("config.editor.rename.enablePreview")),handler:m=>m.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:S.Ao.and(i.u.focus,S.Ao.not("isComposing")),primary:1024+3}})),(0,D.fK)(new K({id:"cancelRenameInput",precondition:P,handler:m=>m.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:i.u.focus,primary:9,secondary:[1033]}})),(0,D.sb)("_executeDocumentRenameProvider",function(m,J,X,...ie){const[le]=ie;(0,_.p_)(typeof le=="string");const{renameProvider:fe}=m.get(V.p);return G(fe,J,X,le)}),(0,D.sb)("_executePrepareRename",function(m,J,X){return qt(this,null,function*(){const{renameProvider:ie}=m.get(V.p),fe=yield new U(J,X,ie).resolveRenameLocation(r.T.None);if(fe!=null&&fe.rejectReason)throw new Error(fe.rejectReason);return fe})}),O.B.as(a.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:v.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},61168:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(17301),r=e(73733),E=e(33108),c=e(15393),_=e(71050),I=e(97781),M=e(68997),D=e(40018),p=e(88191),o=e(84013),d=e(71922),u=e(73343),i=e(10637),n=e(44408),f=function(C,L,O,T){var F=arguments.length,B=F<3?L:T===null?T=Object.getOwnPropertyDescriptor(L,O):T,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,L,O,T);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(B=(F<3?$(B):F>3?$(L,O,B):$(L,O))||B);return F>3&&B&&Object.defineProperty(L,O,B),B},v=function(C,L){return function(O,T){L(O,T,C)}},a;let S=class extends b.JT{constructor(L,O,T,F,B,$){super(),this._watchers=Object.create(null);const Y=V=>{this._watchers[V.uri.toString()]=new g(V,L,T,B,$)},P=(V,R)=>{R.dispose(),delete this._watchers[V.uri.toString()]},w=()=>{for(const V of O.getModels()){const R=this._watchers[V.uri.toString()];(0,n.t)(V,T,F)?R||Y(V):R&&P(V,R)}};this._register(O.onModelAdded(V=>{(0,n.t)(V,T,F)&&Y(V)})),this._register(O.onModelRemoved(V=>{const R=this._watchers[V.uri.toString()];R&&P(V,R)})),this._register(F.onDidChangeConfiguration(V=>{V.affectsConfiguration(n.e)&&w()})),this._register(T.onDidColorThemeChange(w))}dispose(){for(const L of Object.values(this._watchers))L.dispose();super.dispose()}};S=f([v(0,u.s),v(1,r.q),v(2,I.XE),v(3,E.Ui),v(4,p.A),v(5,d.p)],S);let g=a=class extends b.JT{constructor(L,O,T,F,B){super(),this._semanticTokensStylingService=O,this._isDisposed=!1,this._model=L,this._provider=B.documentSemanticTokensProvider,this._debounceInformation=F.for(this._provider,"DocumentSemanticTokens",{min:a.REQUEST_MIN_DELAY,max:a.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new c.pY(()=>this._fetchDocumentSemanticTokensNow(),a.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const $=()=>{(0,b.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Y of this._provider.all(L))typeof Y.onDidChange=="function"&&this._documentProvidersChangeListeners.push(Y.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};$(),this._register(this._provider.onDidChange(()=>{$(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(T.onDidColorThemeChange(Y=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,b.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,D.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const L=new _.A,O=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,T=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,F=(0,D.ML)(this._provider,this._model,O,T,L.token);this._currentDocumentRequestCancellationTokenSource=L,this._providersChangedDuringRequest=!1;const B=[],$=this._model.onDidChangeContent(P=>{B.push(P)}),Y=new o.G(!1);F.then(P=>{if(this._debounceInformation.update(this._model,Y.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,$.dispose(),!P)this._setDocumentSemanticTokens(null,null,null,B);else{const{provider:w,tokens:V}=P,R=this._semanticTokensStylingService.getStyling(w);this._setDocumentSemanticTokens(w,V||null,R,B)}},P=>{P&&(z.n2(P)||typeof P.message=="string"&&P.message.indexOf("busy")!==-1)||z.dL(P),this._currentDocumentRequestCancellationTokenSource=null,$.dispose(),(B.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(L,O,T,F,B){B=Math.min(B,T.length-F,L.length-O);for(let $=0;$<B;$++)T[F+$]=L[O+$]}_setDocumentSemanticTokens(L,O,T,F){const B=this._currentDocumentResponse,$=()=>{(F.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){L&&O&&L.releaseDocumentSemanticTokens(O.resultId);return}if(!L||!T){this._model.tokenization.setSemanticTokens(null,!1);return}if(!O){this._model.tokenization.setSemanticTokens(null,!0),$();return}if((0,D.Vj)(O)){if(!B){this._model.tokenization.setSemanticTokens(null,!0);return}if(O.edits.length===0)O={resultId:O.resultId,data:B.data};else{let Y=0;for(const A of O.edits)Y+=(A.data?A.data.length:0)-A.deleteCount;const P=B.data,w=new Uint32Array(P.length+Y);let V=P.length,R=w.length;for(let A=O.edits.length-1;A>=0;A--){const H=O.edits[A];if(H.start>P.length){T.warnInvalidEditStart(B.resultId,O.resultId,A,H.start,P.length),this._model.tokenization.setSemanticTokens(null,!0);return}const U=V-(H.start+H.deleteCount);U>0&&(a._copy(P,V-U,w,R-U,U),R-=U),H.data&&(a._copy(H.data,0,w,R-H.data.length,H.data.length),R-=H.data.length),V=H.start}V>0&&a._copy(P,0,w,0,V),O={resultId:O.resultId,data:w}}}if((0,D.Vl)(O)){this._currentDocumentResponse=new y(L,O.resultId,O.data);const Y=(0,M.h)(O,T,this._model.getLanguageId());if(F.length>0)for(const P of F)for(const w of Y)for(const V of P.changes)w.applyEdit(V.range,V.text);this._model.tokenization.setSemanticTokens(Y,!0)}else this._model.tokenization.setSemanticTokens(null,!0);$()}};g.REQUEST_MIN_DELAY=300,g.REQUEST_MAX_DELAY=2e3,g=a=f([v(1,u.s),v(2,I.XE),v(3,p.A),v(4,d.p)],g);class y{constructor(L,O,T){this.provider=L,this.resultId=O,this.data=T}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,i.y)(S)},89995:function(Pt,Ke,e){"use strict";var b=e(15393),z=e(5976),r=e(16830),E=e(40018),c=e(44408),_=e(68997),I=e(33108),M=e(97781),D=e(88191),p=e(84013),o=e(71922),d=e(73343),u=function(f,v,a,S){var g=arguments.length,y=g<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,a):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,v,a,S);else for(var L=f.length-1;L>=0;L--)(C=f[L])&&(y=(g<3?C(y):g>3?C(v,a,y):C(v,a))||y);return g>3&&y&&Object.defineProperty(v,a,y),y},i=function(f,v){return function(a,S){v(a,S,f)}};let n=class extends z.JT{constructor(v,a,S,g,y,C){super(),this._semanticTokensStylingService=a,this._themeService=S,this._configurationService=g,this._editor=v,this._provider=C.documentRangeSemanticTokensProvider,this._debounceInformation=y.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new b.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const L=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{L()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),L()})),this._register(this._editor.onDidChangeModelContent(O=>{this._cancelAll(),L()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),L()})),this._register(this._configurationService.onDidChangeConfiguration(O=>{O.affectsConfiguration(c.e)&&(this._cancelAll(),L())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),L()})),L()}_cancelAll(){for(const v of this._outstandingRequests)v.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(v){for(let a=0,S=this._outstandingRequests.length;a<S;a++)if(this._outstandingRequests[a]===v){this._outstandingRequests.splice(a,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const v=this._editor.getModel();if(v.tokenization.hasCompleteSemanticTokens())return;if(!(0,c.t)(v,this._themeService,this._configurationService)){v.tokenization.hasSomeSemanticTokens()&&v.tokenization.setSemanticTokens(null,!1);return}if(!(0,E.KO)(this._provider,v)){v.tokenization.hasSomeSemanticTokens()&&v.tokenization.setSemanticTokens(null,!1);return}const a=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(a.map(S=>this._requestRange(v,S)))}_requestRange(v,a){const S=v.getVersionId(),g=(0,b.PG)(C=>Promise.resolve((0,E.OG)(this._provider,v,a,C))),y=new p.G(!1);return g.then(C=>{if(this._debounceInformation.update(v,y.elapsed()),!C||!C.tokens||v.isDisposed()||v.getVersionId()!==S)return;const{provider:L,tokens:O}=C,T=this._semanticTokensStylingService.getStyling(L);v.tokenization.setPartialSemanticTokens(a,(0,_.h)(O,T,v.getLanguageId()))}).then(()=>this._removeOutstandingRequest(g),()=>this._removeOutstandingRequest(g)),g}};n.ID="editor.contrib.viewportSemanticTokens",n=u([i(1,d.s),i(2,M.XE),i(3,I.Ui),i(4,D.A),i(5,o.p)],n),(0,r._K)(n.ID,n,1)},40018:function(Pt,Ke,e){"use strict";e.d(Ke,{OG:function(){return T},ML:function(){return g},KO:function(){return L},Jc:function(){return a},Vl:function(){return n},Vj:function(){return f}});var b=e(71050),z=e(17301),r=e(70666),E=e(73733),c=e(94565),_=e(98401),I=e(53060),M=e(1432);function D(F){for(let B=0,$=F.length;B<$;B+=4){const Y=F[B+0],P=F[B+1],w=F[B+2],V=F[B+3];F[B+0]=V,F[B+1]=w,F[B+2]=P,F[B+3]=Y}}function p(F){const B=new Uint8Array(F.buffer,F.byteOffset,F.length*4);return M.r()||D(B),I.KN.wrap(B)}function o(F){const B=new Uint32Array(d(F));let $=0;if(B[$++]=F.id,F.type==="full")B[$++]=1,B[$++]=F.data.length,B.set(F.data,$),$+=F.data.length;else{B[$++]=2,B[$++]=F.deltas.length;for(const Y of F.deltas)B[$++]=Y.start,B[$++]=Y.deleteCount,Y.data?(B[$++]=Y.data.length,B.set(Y.data,$),$+=Y.data.length):B[$++]=0}return p(B)}function d(F){let B=0;if(B+=1+1,F.type==="full")B+=1+F.data.length;else{B+=1,B+=(1+1+1)*F.deltas.length;for(const $ of F.deltas)$.data&&(B+=$.data.length)}return B}var u=e(24314),i=e(71922);function n(F){return F&&!!F.data}function f(F){return F&&Array.isArray(F.edits)}class v{constructor(B,$,Y){this.provider=B,this.tokens=$,this.error=Y}}function a(F,B){return F.has(B)}function S(F,B){const $=F.orderedGroups(B);return $.length>0?$[0]:[]}function g(F,B,$,Y,P){return qt(this,null,function*(){const w=S(F,B),V=yield Promise.all(w.map(R=>qt(this,null,function*(){let A,H=null;try{A=yield R.provideDocumentSemanticTokens(B,R===$?Y:null,P)}catch(U){H=U,A=null}return(!A||!n(A)&&!f(A))&&(A=null),new v(R,A,H)})));for(const R of V){if(R.error)throw R.error;if(R.tokens)return R}return V.length>0?V[0]:null})}function y(F,B){const $=F.orderedGroups(B);return $.length>0?$[0]:null}class C{constructor(B,$){this.provider=B,this.tokens=$}}function L(F,B){return F.has(B)}function O(F,B){const $=F.orderedGroups(B);return $.length>0?$[0]:[]}function T(F,B,$,Y){return qt(this,null,function*(){const P=O(F,B),w=yield Promise.all(P.map(V=>qt(this,null,function*(){let R;try{R=yield V.provideDocumentRangeSemanticTokens(B,$,Y)}catch(A){(0,z.Cp)(A),R=null}return(!R||!n(R))&&(R=null),new C(V,R)})));for(const V of w)if(V.tokens)return V;return w.length>0?w[0]:null})}c.P.registerCommand("_provideDocumentSemanticTokensLegend",(F,...B)=>qt(this,null,function*(){const[$]=B;(0,_.p_)($ instanceof r.o);const Y=F.get(E.q).getModel($);if(!Y)return;const{documentSemanticTokensProvider:P}=F.get(i.p),w=y(P,Y);return w?w[0].getLegend():F.get(c.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",$)})),c.P.registerCommand("_provideDocumentSemanticTokens",(F,...B)=>qt(this,null,function*(){const[$]=B;(0,_.p_)($ instanceof r.o);const Y=F.get(E.q).getModel($);if(!Y)return;const{documentSemanticTokensProvider:P}=F.get(i.p);if(!a(P,Y))return F.get(c.H).executeCommand("_provideDocumentRangeSemanticTokens",$,Y.getFullModelRange());const w=yield g(P,Y,null,null,b.T.None);if(!w)return;const{provider:V,tokens:R}=w;if(!R||!n(R))return;const A=o({id:0,type:"full",data:R.data});return R.resultId&&V.releaseDocumentSemanticTokens(R.resultId),A})),c.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(F,...B)=>qt(this,null,function*(){const[$,Y]=B;(0,_.p_)($ instanceof r.o);const P=F.get(E.q).getModel($);if(!P)return;const{documentRangeSemanticTokensProvider:w}=F.get(i.p),V=O(w,P);if(V.length===0)return;if(V.length===1)return V[0].getLegend();if(!Y||!u.e.isIRange(Y))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),V[0].getLegend();const R=yield T(w,P,u.e.lift(Y),b.T.None);if(R)return R.provider.getLegend()})),c.P.registerCommand("_provideDocumentRangeSemanticTokens",(F,...B)=>qt(this,null,function*(){const[$,Y]=B;(0,_.p_)($ instanceof r.o),(0,_.p_)(u.e.isIRange(Y));const P=F.get(E.q).getModel($);if(!P)return;const{documentRangeSemanticTokensProvider:w}=F.get(i.p),V=yield T(w,P,u.e.lift(Y),b.T.None);if(!(!V||!V.tokens))return o({id:0,type:"full",data:V.tokens.data})}))},44408:function(Pt,Ke,e){"use strict";e.d(Ke,{e:function(){return b},t:function(){return z}});const b="editor.semanticHighlighting";function z(r,E,c){var _;const I=(_=c.getValue(b,{overrideIdentifier:r.getLanguageId(),resource:r.uri}))===null||_===void 0?void 0:_.enabled;return typeof I=="boolean"?I:E.getColorTheme().semanticHighlighting}},79694:function(Pt,Ke,e){"use strict";e.d(Ke,{x:function(){return E}});var b=e(91741),z=e(50187),r=e(24314);class E{provideSelectionRanges(_,I){return qt(this,null,function*(){const M=[];for(const D of I){const p=[];M.push(p);const o=new Map;yield new Promise(d=>E._bracketsRightYield(d,0,_,D,o)),yield new Promise(d=>E._bracketsLeftYield(d,0,_,D,o,p))}return M})}static _bracketsRightYield(_,I,M,D,p){const o=new Map,d=Date.now();for(;;){if(I>=E._maxRounds){_();break}if(!D){_();break}const u=M.bracketPairs.findNextBracket(D);if(!u){_();break}if(Date.now()-d>E._maxDuration){setTimeout(()=>E._bracketsRightYield(_,I+1,M,D,p));break}if(u.bracketInfo.isOpeningBracket){const n=u.bracketInfo.bracketText,f=o.has(n)?o.get(n):0;o.set(n,f+1)}else{const n=u.bracketInfo.getOpeningBrackets()[0].bracketText;let f=o.has(n)?o.get(n):0;if(f-=1,o.set(n,Math.max(0,f)),f<0){let v=p.get(n);v||(v=new b.S,p.set(n,v)),v.push(u.range)}}D=u.range.getEndPosition()}}static _bracketsLeftYield(_,I,M,D,p,o){const d=new Map,u=Date.now();for(;;){if(I>=E._maxRounds&&p.size===0){_();break}if(!D){_();break}const i=M.bracketPairs.findPrevBracket(D);if(!i){_();break}if(Date.now()-u>E._maxDuration){setTimeout(()=>E._bracketsLeftYield(_,I+1,M,D,p,o));break}if(i.bracketInfo.isOpeningBracket){const f=i.bracketInfo.bracketText;let v=d.has(f)?d.get(f):0;if(v-=1,d.set(f,Math.max(0,v)),v<0){const a=p.get(f);if(a){const S=a.shift();a.size===0&&p.delete(f);const g=r.e.fromPositions(i.range.getEndPosition(),S.getStartPosition()),y=r.e.fromPositions(i.range.getStartPosition(),S.getEndPosition());o.push({range:g}),o.push({range:y}),E._addBracketLeading(M,y,o)}}}else{const f=i.bracketInfo.getOpeningBrackets()[0].bracketText,v=d.has(f)?d.get(f):0;d.set(f,v+1)}D=i.range.getStartPosition()}}static _addBracketLeading(_,I,M){if(I.startLineNumber===I.endLineNumber)return;const D=I.startLineNumber,p=_.getLineFirstNonWhitespaceColumn(D);p!==0&&p!==I.startColumn&&(M.push({range:r.e.fromPositions(new z.L(D,p),I.getEndPosition())}),M.push({range:r.e.fromPositions(new z.L(D,1),I.getEndPosition())}));const o=D-1;if(o>0){const d=_.getLineFirstNonWhitespaceColumn(o);d===I.startColumn&&d!==_.getLineLastNonWhitespaceColumn(o)&&(M.push({range:r.e.fromPositions(new z.L(o,d),I.getEndPosition())}),M.push({range:r.e.fromPositions(new z.L(o,1),I.getEndPosition())}))}}}E._maxDuration=30,E._maxRounds=2},47721:function(Pt,Ke,e){"use strict";var b=e(9488),z=e(71050),r=e(17301),E=e(16830),c=e(50187),_=e(24314),I=e(3860),M=e(29102),D=e(79694),p=e(97295);class o{constructor(Y=!0){this.selectSubwords=Y}provideSelectionRanges(Y,P){const w=[];for(const V of P){const R=[];w.push(R),this.selectSubwords&&this._addInWordRanges(R,Y,V),this._addWordRanges(R,Y,V),this._addWhitespaceLine(R,Y,V),R.push({range:Y.getFullModelRange()})}return w}_addInWordRanges(Y,P,w){const V=P.getWordAtPosition(w);if(!V)return;const{word:R,startColumn:A}=V,H=w.column-A;let U=H,G=H,j=0;for(;U>=0;U--){const W=R.charCodeAt(U);if(U!==H&&(W===95||W===45))break;if((0,p.mK)(W)&&(0,p.df)(j))break;j=W}for(U+=1;G<R.length;G++){const W=R.charCodeAt(G);if((0,p.df)(W)&&(0,p.mK)(j))break;if(W===95||W===45)break;j=W}U<G&&Y.push({range:new _.e(w.lineNumber,A+U,w.lineNumber,A+G)})}_addWordRanges(Y,P,w){const V=P.getWordAtPosition(w);V&&Y.push({range:new _.e(w.lineNumber,V.startColumn,w.lineNumber,V.endColumn)})}_addWhitespaceLine(Y,P,w){P.getLineLength(w.lineNumber)>0&&P.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&P.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&Y.push({range:new _.e(w.lineNumber,1,w.lineNumber,P.getLineMaxColumn(w.lineNumber))})}}var d=e(63580),u=e(84144),i=e(94565),n=e(71922),f=e(88216),v=e(98401),a=e(70666),S=function($,Y,P,w){var V=arguments.length,R=V<3?Y:w===null?w=Object.getOwnPropertyDescriptor(Y,P):w,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate($,Y,P,w);else for(var H=$.length-1;H>=0;H--)(A=$[H])&&(R=(V<3?A(R):V>3?A(Y,P,R):A(Y,P))||R);return V>3&&R&&Object.defineProperty(Y,P,R),R},g=function($,Y){return function(P,w){Y(P,w,$)}},y;class C{constructor(Y,P){this.index=Y,this.ranges=P}mov(Y){const P=this.index+(Y?1:-1);if(P<0||P>=this.ranges.length)return this;const w=new C(P,this.ranges);return w.ranges[P].equalsRange(this.ranges[this.index])?w.mov(Y):w}}let L=y=class{static get(Y){return Y.getContribution(y.ID)}constructor(Y,P){this._editor=Y,this._languageFeaturesService=P,this._ignoreSelection=!1}dispose(){var Y;(Y=this._selectionListener)===null||Y===void 0||Y.dispose()}run(Y){return qt(this,null,function*(){if(!this._editor.hasModel())return;const P=this._editor.getSelections(),w=this._editor.getModel();if(this._state||(yield B(this._languageFeaturesService.selectionRangeProvider,w,P.map(R=>R.getPosition()),this._editor.getOption(112),z.T.None).then(R=>{var A;if(!(!b.Of(R)||R.length!==P.length)&&!(!this._editor.hasModel()||!b.fS(this._editor.getSelections(),P,(H,U)=>H.equalsSelection(U)))){for(let H=0;H<R.length;H++)R[H]=R[H].filter(U=>U.containsPosition(P[H].getStartPosition())&&U.containsPosition(P[H].getEndPosition())),R[H].unshift(P[H]);this._state=R.map(H=>new C(0,H)),(A=this._selectionListener)===null||A===void 0||A.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var H;this._ignoreSelection||((H=this._selectionListener)===null||H===void 0||H.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(R=>R.mov(Y));const V=this._state.map(R=>I.Y.fromPositions(R.ranges[R.index].getStartPosition(),R.ranges[R.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(V)}finally{this._ignoreSelection=!1}})}};L.ID="editor.contrib.smartSelectController",L=y=S([g(1,n.p)],L);class O extends E.R6{constructor(Y,P){super(P),this._forward=Y}run(Y,P){return qt(this,null,function*(){const w=L.get(P);w&&(yield w.run(this._forward))})}}class T extends O{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}i.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class F extends O{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,E._K)(L.ID,L,4),(0,E.Qr)(T),(0,E.Qr)(F);function B($,Y,P,w,V){return qt(this,null,function*(){const R=$.all(Y).concat(new o(w.selectSubwords));R.length===1&&R.unshift(new D.x);const A=[],H=[];for(const U of R)A.push(Promise.resolve(U.provideSelectionRanges(Y,P,V)).then(G=>{if(b.Of(G)&&G.length===P.length)for(let j=0;j<P.length;j++){H[j]||(H[j]=[]);for(const W of G[j])_.e.isIRange(W.range)&&_.e.containsPosition(W.range,P[j])&&H[j].push(_.e.lift(W.range))}},r.Cp));return yield Promise.all(A),H.map(U=>{if(U.length===0)return[];U.sort((K,m)=>c.L.isBefore(K.getStartPosition(),m.getStartPosition())?1:c.L.isBefore(m.getStartPosition(),K.getStartPosition())||c.L.isBefore(K.getEndPosition(),m.getEndPosition())?-1:c.L.isBefore(m.getEndPosition(),K.getEndPosition())?1:0);const G=[];let j;for(const K of U)(!j||_.e.containsRange(K,j)&&!_.e.equalsRange(K,j))&&(G.push(K),j=K);if(!w.selectLeadingAndTrailingWhitespace)return G;const W=[G[0]];for(let K=1;K<G.length;K++){const m=G[K-1],J=G[K];if(J.startLineNumber!==m.startLineNumber||J.endLineNumber!==m.endLineNumber){const X=new _.e(m.startLineNumber,Y.getLineFirstNonWhitespaceColumn(m.startLineNumber),m.endLineNumber,Y.getLineLastNonWhitespaceColumn(m.endLineNumber));X.containsRange(m)&&!X.equalsRange(m)&&J.containsRange(X)&&!J.equalsRange(X)&&W.push(X);const ie=new _.e(m.startLineNumber,1,m.endLineNumber,Y.getLineMaxColumn(m.endLineNumber));ie.containsRange(m)&&!ie.equalsRange(X)&&J.containsRange(ie)&&!J.equalsRange(ie)&&W.push(ie)}W.push(J)}return W})})}i.P.registerCommand("_executeSelectionRangeProvider",function($,...Y){return qt(this,null,function*(){const[P,w]=Y;(0,v.p_)(a.o.isUri(P));const V=$.get(n.p).selectionRangeProvider,R=yield $.get(f.S).createModelReference(P);try{return B(V,R.object.textEditorModel,w,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},z.T.None)}finally{R.dispose()}})})},98762:function(Pt,Ke,e){"use strict";e.d(Ke,{f:function(){return v}});var b=e(5976),z=e(98401),r=e(16830),E=e(50187),c=e(29102),_=e(4256),I=e(71922),M=e(55621),D=e(63580),p=e(32064),o=e(43557),d=e(3461),u=function(S,g,y,C){var L=arguments.length,O=L<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(S,g,y,C);else for(var F=S.length-1;F>=0;F--)(T=S[F])&&(O=(L<3?T(O):L>3?T(g,y,O):T(g,y))||O);return L>3&&O&&Object.defineProperty(g,y,O),O},i=function(S,g){return function(y,C){g(y,C,S)}},n;const f={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let v=n=class{static get(g){return g.getContribution(n.ID)}constructor(g,y,C,L,O){this._editor=g,this._logService=y,this._languageFeaturesService=C,this._languageConfigurationService=O,this._snippetListener=new b.SL,this._modelVersionId=-1,this._inSnippet=n.InSnippetMode.bindTo(L),this._hasNextTabstop=n.HasNextTabstop.bindTo(L),this._hasPrevTabstop=n.HasPrevTabstop.bindTo(L)}dispose(){var g;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(g=this._session)===null||g===void 0||g.dispose(),this._snippetListener.dispose()}insert(g,y){try{this._doInsert(g,typeof y=="undefined"?f:Xi(Xi({},f),y))}catch(C){this.cancel(),this._logService.error(C),this._logService.error("snippet_error"),this._logService.error("insert_template=",g),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(g,y){var C;if(this._editor.hasModel()){if(this._snippetListener.clear(),y.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof g!="string"&&this.cancel(),this._session?((0,z.p_)(typeof g=="string"),this._session.merge(g,y)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new d.l(this._editor,g,y,this._languageConfigurationService),this._session.insert()),y.undoStopAfter&&this._editor.getModel().pushStackElement(),!((C=this._session)===null||C===void 0)&&C.hasChoice){const L={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(Y,P)=>{if(!this._session||Y!==this._editor.getModel()||!E.L.equals(this._editor.getPosition(),P))return;const{activeChoice:w}=this._session;if(!w||w.choice.options.length===0)return;const V=Y.getValueInRange(w.range),R=!!w.choice.options.find(H=>H.value===V),A=[];for(let H=0;H<w.choice.options.length;H++){const U=w.choice.options[H];A.push({kind:13,label:U.value,insertText:U.value,sortText:"a".repeat(H+1),range:w.range,filterText:R?`${V}_${U.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,D.NC)("next","Go to next placeholder...")}})}return{suggestions:A}}},O=this._editor.getModel();let T,F=!1;const B=()=>{T==null||T.dispose(),F=!1},$=()=>{F||(T=this._languageFeaturesService.completionProvider.register({language:O.getLanguageId(),pattern:O.uri.fsPath,scheme:O.uri.scheme,exclusive:!0},L),this._snippetListener.add(T),F=!0)};this._choiceCompletions={provider:L,enable:$,disable:B}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(L=>L.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var g;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:y}=this._session;if(!y||!this._choiceCompletions){(g=this._choiceCompletions)===null||g===void 0||g.disable(),this._currentChoice=void 0;return}this._currentChoice!==y.choice&&(this._currentChoice=y.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,M.i5)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(g=!1){var y;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(y=this._session)===null||y===void 0||y.dispose(),this._session=void 0,this._modelVersionId=-1,g&&this._editor.setSelections([this._editor.getSelection()])}prev(){var g;(g=this._session)===null||g===void 0||g.prev(),this._updateState()}next(){var g;(g=this._session)===null||g===void 0||g.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};v.ID="snippetController2",v.InSnippetMode=new p.uy("inSnippetMode",!1,(0,D.NC)("inSnippetMode","Whether the editor in current in snippet mode")),v.HasNextTabstop=new p.uy("hasNextTabstop",!1,(0,D.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),v.HasPrevTabstop=new p.uy("hasPrevTabstop",!1,(0,D.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),v=n=u([i(1,o.VZ),i(2,I.p),i(3,p.i6),i(4,_.c_)],v),(0,r._K)(v.ID,v,4);const a=r._l.bindToContribution(v.get);(0,r.fK)(new a({id:"jumpToNextSnippetPlaceholder",precondition:p.Ao.and(v.InSnippetMode,v.HasNextTabstop),handler:S=>S.next(),kbOpts:{weight:100+30,kbExpr:c.u.editorTextFocus,primary:2}})),(0,r.fK)(new a({id:"jumpToPrevSnippetPlaceholder",precondition:p.Ao.and(v.InSnippetMode,v.HasPrevTabstop),handler:S=>S.prev(),kbOpts:{weight:100+30,kbExpr:c.u.editorTextFocus,primary:1026}})),(0,r.fK)(new a({id:"leaveSnippet",precondition:v.InSnippetMode,handler:S=>S.cancel(!0),kbOpts:{weight:100+30,kbExpr:c.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,r.fK)(new a({id:"acceptSnippet",precondition:v.InSnippetMode,handler:S=>S.finish()}))},35084:function(Pt,Ke,e){"use strict";e.d(Ke,{Lv:function(){return _},Vm:function(){return c},Yj:function(){return d},xv:function(){return r},y1:function(){return o}});class b{constructor(){this.value="",this.pos=0}static isDigitCharacter(i){return i>=48&&i<=57}static isVariableCharacter(i){return i===95||i>=97&&i<=122||i>=65&&i<=90}text(i){this.value=i,this.pos=0}tokenText(i){return this.value.substr(i.pos,i.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const i=this.pos;let n=0,f=this.value.charCodeAt(i),v;if(v=b._table[f],typeof v=="number")return this.pos+=1,{type:v,pos:i,len:1};if(b.isDigitCharacter(f)){v=8;do n+=1,f=this.value.charCodeAt(i+n);while(b.isDigitCharacter(f));return this.pos+=n,{type:v,pos:i,len:n}}if(b.isVariableCharacter(f)){v=9;do f=this.value.charCodeAt(i+ ++n);while(b.isVariableCharacter(f)||b.isDigitCharacter(f));return this.pos+=n,{type:v,pos:i,len:n}}v=10;do n+=1,f=this.value.charCodeAt(i+n);while(!isNaN(f)&&typeof b._table[f]=="undefined"&&!b.isDigitCharacter(f)&&!b.isVariableCharacter(f));return this.pos+=n,{type:v,pos:i,len:n}}}b._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class z{constructor(){this._children=[]}appendChild(i){return i instanceof r&&this._children[this._children.length-1]instanceof r?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,n){const{parent:f}=i,v=f.children.indexOf(i),a=f.children.slice(0);a.splice(v,1,...n),f._children=a,function S(g,y){for(const C of g)C.parent=y,S(C.children,C)}(n,f)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof o)return i;i=i.parent}}toString(){return this.children.reduce((i,n)=>i+n.toString(),"")}len(){return 0}}class r extends z{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new r(this.value)}}class E extends z{}class c extends E{static compareByIndex(i,n){return i.index===n.index?0:i.isFinalTabstop?1:n.isFinalTabstop||i.index<n.index?-1:i.index>n.index?1:0}constructor(i){super(),this.index=i}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof _?this._children[0]:void 0}clone(){const i=new c(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}}class _ extends z{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof r&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const i=new _;return this.options.forEach(i.appendChild,i),i}}class I extends z{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){const n=this;let f=!1,v=i.replace(this.regexp,function(){return f=!0,n._replace(Array.prototype.slice.call(arguments,0,-2))});return!f&&this._children.some(a=>a instanceof M&&!!a.elseValue)&&(v=this._replace([])),v}_replace(i){let n="";for(const f of this._children)if(f instanceof M){let v=i[f.index]||"";v=f.resolve(v),n+=v}else n+=f.toString();return n}toString(){return""}clone(){const i=new I;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(n=>n.clone()),i}}class M extends z{constructor(i,n,f,v){super(),this.index=i,this.shorthandName=n,this.ifValue=f,this.elseValue=v}resolve(i){return this.shorthandName==="upcase"?i?i.toLocaleUpperCase():"":this.shorthandName==="downcase"?i?i.toLocaleLowerCase():"":this.shorthandName==="capitalize"?i?i[0].toLocaleUpperCase()+i.substr(1):"":this.shorthandName==="pascalcase"?i?this._toPascalCase(i):"":this.shorthandName==="camelcase"?i?this._toCamelCase(i):"":i&&typeof this.ifValue=="string"?this.ifValue:!i&&typeof this.elseValue=="string"?this.elseValue:i||""}_toPascalCase(i){const n=i.match(/[a-z0-9]+/gi);return n?n.map(f=>f.charAt(0).toUpperCase()+f.substr(1)).join(""):i}_toCamelCase(i){const n=i.match(/[a-z0-9]+/gi);return n?n.map((f,v)=>v===0?f.charAt(0).toLowerCase()+f.substr(1):f.charAt(0).toUpperCase()+f.substr(1)).join(""):i}clone(){return new M(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class D extends E{constructor(i){super(),this.name=i}resolve(i){let n=i.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new r(n)],!0):!1}clone(){const i=new D(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}}function p(u,i){const n=[...u];for(;n.length>0;){const f=n.shift();if(!i(f))break;n.unshift(...f.children)}}class o extends z{get placeholderInfo(){if(!this._placeholders){const i=[];let n;this.walk(function(f){return f instanceof c&&(i.push(f),n=!n||n.index<f.index?f:n),!0}),this._placeholders={all:i,last:n}}return this._placeholders}get placeholders(){const{all:i}=this.placeholderInfo;return i}offset(i){let n=0,f=!1;return this.walk(v=>v===i?(f=!0,!1):(n+=v.len(),!0)),f?n:-1}fullLen(i){let n=0;return p([i],f=>(n+=f.len(),!0)),n}enclosingPlaceholders(i){const n=[];let{parent:f}=i;for(;f;)f instanceof c&&n.push(f),f=f.parent;return n}resolveVariables(i){return this.walk(n=>(n instanceof D&&n.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,n){return this._placeholders=void 0,super.replace(i,n)}clone(){const i=new o;return this._children=this.children.map(n=>n.clone()),i}walk(i){p(this.children,i)}}class d{constructor(){this._scanner=new b,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,n,f){const v=new o;return this.parseFragment(i,v),this.ensureFinalTabstop(v,f!=null?f:!1,n!=null?n:!1),v}parseFragment(i,n){const f=n.children.length;for(this._scanner.text(i),this._token=this._scanner.next();this._parse(n););const v=new Map,a=[];n.walk(y=>(y instanceof c&&(y.isFinalTabstop?v.set(0,void 0):!v.has(y.index)&&y.children.length>0?v.set(y.index,y.children):a.push(y)),!0));const S=(y,C)=>{const L=v.get(y.index);if(!L)return;const O=new c(y.index);O.transform=y.transform;for(const T of L){const F=T.clone();O.appendChild(F),F instanceof c&&v.has(F.index)&&!C.has(F.index)&&(C.add(F.index),S(F,C),C.delete(F.index))}n.replace(y,[O])},g=new Set;for(const y of a)S(y,g);return n.children.slice(f)}ensureFinalTabstop(i,n,f){(n||f&&i.placeholders.length>0)&&(i.placeholders.find(a=>a.index===0)||i.appendChild(new c(0)))}_accept(i,n){if(i===void 0||this._token.type===i){const f=n?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),f}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){const n=this._token;for(;this._token.type!==i;){if(this._token.type===14)return!1;if(this._token.type===5){const v=this._scanner.next();if(v.type!==0&&v.type!==4&&v.type!==5)return!1}this._token=this._scanner.next()}const f=this._scanner.value.substring(n.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),f}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let n;return(n=this._accept(5,!0))?(n=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||n,i.appendChild(new r(n)),!0):!1}_parseTabstopOrVariableName(i){let n;const f=this._token;return this._accept(0)&&(n=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(n)?new c(Number(n)):new D(n)),!0):this._backTo(f)}_parseComplexPlaceholder(i){let n;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(8,!0))))return this._backTo(f);const a=new c(Number(n));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(a),!0;if(!this._parse(a))return i.appendChild(new r("${"+n+":")),a.children.forEach(i.appendChild,i),!0}else if(a.index>0&&this._accept(7)){const S=new _;for(;;){if(this._parseChoiceElement(S)){if(this._accept(2))continue;if(this._accept(7)&&(a.appendChild(S),this._accept(4)))return i.appendChild(a),!0}return this._backTo(f),!1}}else return this._accept(6)?this._parseTransform(a)?(i.appendChild(a),!0):(this._backTo(f),!1):this._accept(4)?(i.appendChild(a),!0):this._backTo(f)}_parseChoiceElement(i){const n=this._token,f=[];for(;!(this._token.type===2||this._token.type===7);){let v;if((v=this._accept(5,!0))?v=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||v:v=this._accept(void 0,!0),!v)return this._backTo(n),!1;f.push(v)}return f.length===0?(this._backTo(n),!1):(i.appendChild(new r(f.join(""))),!0)}_parseComplexVariable(i){let n;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(9,!0))))return this._backTo(f);const a=new D(n);if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(a),!0;if(!this._parse(a))return i.appendChild(new r("${"+n+":")),a.children.forEach(i.appendChild,i),!0}else return this._accept(6)?this._parseTransform(a)?(i.appendChild(a),!0):(this._backTo(f),!1):this._accept(4)?(i.appendChild(a),!0):this._backTo(f)}_parseTransform(i){const n=new I;let f="",v="";for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(6,!0)||a,f+=a;continue}if(this._token.type!==14){f+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(5,!0)||this._accept(6,!0)||a,n.appendChild(new r(a));continue}if(!(this._parseFormatString(n)||this._parseAnything(n)))return!1}for(;!this._accept(4);){if(this._token.type!==14){v+=this._accept(void 0,!0);continue}return!1}try{n.regexp=new RegExp(f,v)}catch(a){return!1}return i.transform=n,!0}_parseFormatString(i){const n=this._token;if(!this._accept(0))return!1;let f=!1;this._accept(3)&&(f=!0);const v=this._accept(8,!0);if(v)if(f){if(this._accept(4))return i.appendChild(new M(Number(v))),!0;if(!this._accept(1))return this._backTo(n),!1}else return i.appendChild(new M(Number(v))),!0;else return this._backTo(n),!1;if(this._accept(6)){const a=this._accept(9,!0);return!a||!this._accept(4)?(this._backTo(n),!1):(i.appendChild(new M(Number(v),a)),!0)}else if(this._accept(11)){const a=this._until(4);if(a)return i.appendChild(new M(Number(v),void 0,a,void 0)),!0}else if(this._accept(12)){const a=this._until(4);if(a)return i.appendChild(new M(Number(v),void 0,void 0,a)),!0}else if(this._accept(13)){const a=this._until(1);if(a){const S=this._until(4);if(S)return i.appendChild(new M(Number(v),void 0,a,S)),!0}}else{const a=this._until(4);if(a)return i.appendChild(new M(Number(v),void 0,void 0,a)),!0}return this._backTo(n),!1}_parseAnything(i){return this._token.type!==14?(i.appendChild(new r(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},3461:function(Pt,Ke,e){"use strict";e.d(Ke,{l:function(){return U}});var b=e(9488),z=e(5976),r=e(97295),E=e(69386),c=e(24314),_=e(3860),I=e(4256),M=e(84901),D=e(44349),p=e(40382),o=e(35084),d=e(15527),u=e(1432);function i(G,j=u.ED){return(0,d.oP)(G,j)?G.charAt(0).toUpperCase()+G.slice(1):G}let n=Object.create(null);var f=e(82663),v=e(95935),a=e(98e3),S=e(63580),g=function(G,j,W,K){var m=arguments.length,J=m<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,W):K,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(G,j,W,K);else for(var ie=G.length-1;ie>=0;ie--)(X=G[ie])&&(J=(m<3?X(J):m>3?X(j,W,J):X(j,W))||J);return m>3&&J&&Object.defineProperty(j,W,J),J},y=function(G,j){return function(W,K){j(W,K,G)}};const C=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class L{constructor(j){this._delegates=j}resolve(j){for(const W of this._delegates){const K=W.resolve(j);if(K!==void 0)return K}}}class O{constructor(j,W,K,m){this._model=j,this._selection=W,this._selectionIdx=K,this._overtypingCapturer=m}resolve(j){const{name:W}=j;if(W==="SELECTION"||W==="TM_SELECTED_TEXT"){let K=this._model.getValueInRange(this._selection)||void 0,m=this._selection.startLineNumber!==this._selection.endLineNumber;if(!K&&this._overtypingCapturer){const J=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);J&&(K=J.value,m=J.multiline)}if(K&&m&&j.snippet){const J=this._model.getLineContent(this._selection.startLineNumber),X=(0,r.V8)(J,0,this._selection.startColumn-1);let ie=X;j.snippet.walk(fe=>fe===j?!1:(fe instanceof o.xv&&(ie=(0,r.V8)((0,r.uq)(fe.value).pop())),!0));const le=(0,r.Mh)(ie,X);K=K.replace(/(\r\n|\r|\n)(.*)/g,(fe,Le,pe)=>`${Le}${ie.substr(le)}${pe}`)}return K}else{if(W==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(W==="TM_CURRENT_WORD"){const K=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return K&&K.word||void 0}else{if(W==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(W==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(W==="CURSOR_INDEX")return String(this._selectionIdx);if(W==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class T{constructor(j,W){this._labelService=j,this._model=W}resolve(j){const{name:W}=j;if(W==="TM_FILENAME")return f.EZ(this._model.uri.fsPath);if(W==="TM_FILENAME_BASE"){const K=f.EZ(this._model.uri.fsPath),m=K.lastIndexOf(".");return m<=0?K:K.slice(0,m)}else{if(W==="TM_DIRECTORY")return f.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,v.XX)(this._model.uri));if(W==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(W==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class F{constructor(j,W,K,m){this._readClipboardText=j,this._selectionIdx=W,this._selectionCount=K,this._spread=m}resolve(j){if(j.name!=="CLIPBOARD")return;const W=this._readClipboardText();if(W){if(this._spread){const K=W.split(/\r\n|\n|\r/).filter(m=>!(0,r.m5)(m));if(K.length===this._selectionCount)return K[this._selectionIdx]}return W}}}let B=class{constructor(j,W,K){this._model=j,this._selection=W,this._languageConfigurationService=K}resolve(j){const{name:W}=j,K=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),m=this._languageConfigurationService.getLanguageConfiguration(K).comments;if(m){if(W==="LINE_COMMENT")return m.lineCommentToken||void 0;if(W==="BLOCK_COMMENT_START")return m.blockCommentStartToken||void 0;if(W==="BLOCK_COMMENT_END")return m.blockCommentEndToken||void 0}}};B=g([y(2,I.c_)],B);class ${constructor(){this._date=new Date}resolve(j){const{name:W}=j;if(W==="CURRENT_YEAR")return String(this._date.getFullYear());if(W==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(W==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(W==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(W==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(W==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(W==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(W==="CURRENT_DAY_NAME")return $.dayNames[this._date.getDay()];if(W==="CURRENT_DAY_NAME_SHORT")return $.dayNamesShort[this._date.getDay()];if(W==="CURRENT_MONTH_NAME")return $.monthNames[this._date.getMonth()];if(W==="CURRENT_MONTH_NAME_SHORT")return $.monthNamesShort[this._date.getMonth()];if(W==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(W==="CURRENT_TIMEZONE_OFFSET"){const K=this._date.getTimezoneOffset(),m=K>0?"-":"+",J=Math.trunc(Math.abs(K/60)),X=J<10?"0"+J:J,ie=Math.abs(K)-J*60,le=ie<10?"0"+ie:ie;return m+X+":"+le}}}$.dayNames=[S.NC("Sunday","Sunday"),S.NC("Monday","Monday"),S.NC("Tuesday","Tuesday"),S.NC("Wednesday","Wednesday"),S.NC("Thursday","Thursday"),S.NC("Friday","Friday"),S.NC("Saturday","Saturday")],$.dayNamesShort=[S.NC("SundayShort","Sun"),S.NC("MondayShort","Mon"),S.NC("TuesdayShort","Tue"),S.NC("WednesdayShort","Wed"),S.NC("ThursdayShort","Thu"),S.NC("FridayShort","Fri"),S.NC("SaturdayShort","Sat")],$.monthNames=[S.NC("January","January"),S.NC("February","February"),S.NC("March","March"),S.NC("April","April"),S.NC("May","May"),S.NC("June","June"),S.NC("July","July"),S.NC("August","August"),S.NC("September","September"),S.NC("October","October"),S.NC("November","November"),S.NC("December","December")],$.monthNamesShort=[S.NC("JanuaryShort","Jan"),S.NC("FebruaryShort","Feb"),S.NC("MarchShort","Mar"),S.NC("AprilShort","Apr"),S.NC("MayShort","May"),S.NC("JuneShort","Jun"),S.NC("JulyShort","Jul"),S.NC("AugustShort","Aug"),S.NC("SeptemberShort","Sep"),S.NC("OctoberShort","Oct"),S.NC("NovemberShort","Nov"),S.NC("DecemberShort","Dec")];class Y{constructor(j){this._workspaceService=j}resolve(j){if(!this._workspaceService)return;const W=(0,p.uT)(this._workspaceService.getWorkspace());if(!(0,p.c$)(W)){if(j.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(W);if(j.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(W)}}_resolveWorkspaceName(j){if((0,p.eb)(j))return f.EZ(j.uri.path);let W=f.EZ(j.configPath.path);return W.endsWith(p.A6)&&(W=W.substr(0,W.length-p.A6.length-1)),W}_resoveWorkspacePath(j){if((0,p.eb)(j))return i(j.uri.fsPath);const W=f.EZ(j.configPath.path);let K=j.configPath.fsPath;return K.endsWith(W)&&(K=K.substr(0,K.length-W.length-1)),K?i(K):"/"}}class P{resolve(j){const{name:W}=j;if(W==="RANDOM")return Math.random().toString().slice(-6);if(W==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(W==="UUID")return(0,a.R)()}}var w=function(G,j,W,K){var m=arguments.length,J=m<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,W):K,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(G,j,W,K);else for(var ie=G.length-1;ie>=0;ie--)(X=G[ie])&&(J=(m<3?X(J):m>3?X(j,W,J):X(j,W))||J);return m>3&&J&&Object.defineProperty(j,W,J),J},V=function(G,j){return function(W,K){j(W,K,G)}},R;class A{constructor(j,W,K){this._editor=j,this._snippet=W,this._snippetLineLeadingWhitespace=K,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,b.vM)(W.placeholders,o.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(j){this._offset=j.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const j=this._editor.getModel();this._editor.changeDecorations(W=>{for(const K of this._snippet.placeholders){const m=this._snippet.offset(K),J=this._snippet.fullLen(K),X=c.e.fromPositions(j.getPositionAt(this._offset+m),j.getPositionAt(this._offset+m+J)),ie=K.isFinalTabstop?A._decor.inactiveFinal:A._decor.inactive,le=W.addDecoration(X,ie);this._placeholderDecorations.set(K,le)}})}move(j){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const m=[];for(const J of this._placeholderGroups[this._placeholderGroupsIdx])if(J.transform){const X=this._placeholderDecorations.get(J),ie=this._editor.getModel().getDecorationRange(X),le=this._editor.getModel().getValueInRange(ie),fe=J.transform.resolve(le).split(/\r\n|\r|\n/);for(let Le=1;Le<fe.length;Le++)fe[Le]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+fe[Le]);m.push(E.h.replace(ie,fe.join(this._editor.getModel().getEOL())))}m.length>0&&this._editor.executeEdits("snippet.placeholderTransform",m)}let W=!1;j===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,W=!0):j===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,W=!0);const K=this._editor.getModel().changeDecorations(m=>{const J=new Set,X=[];for(const ie of this._placeholderGroups[this._placeholderGroupsIdx]){const le=this._placeholderDecorations.get(ie),fe=this._editor.getModel().getDecorationRange(le);X.push(new _.Y(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn)),W=W&&this._hasPlaceholderBeenCollapsed(ie),m.changeDecorationOptions(le,ie.isFinalTabstop?A._decor.activeFinal:A._decor.active),J.add(ie);for(const Le of this._snippet.enclosingPlaceholders(ie)){const pe=this._placeholderDecorations.get(Le);m.changeDecorationOptions(pe,Le.isFinalTabstop?A._decor.activeFinal:A._decor.active),J.add(Le)}}for(const[ie,le]of this._placeholderDecorations)J.has(ie)||m.changeDecorationOptions(le,ie.isFinalTabstop?A._decor.inactiveFinal:A._decor.inactive);return X});return W?this.move(j):K!=null?K:[]}_hasPlaceholderBeenCollapsed(j){let W=j;for(;W;){if(W instanceof o.Vm){const K=this._placeholderDecorations.get(W);if(this._editor.getModel().getDecorationRange(K).isEmpty()&&W.toString().length>0)return!0}W=W.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[j]=this._snippet.placeholders;if(j.isFinalTabstop&&this._snippet.rightMostDescendant===j)return!0}return!1}computePossibleSelections(){const j=new Map;for(const W of this._placeholderGroups){let K;for(const m of W){if(m.isFinalTabstop)break;K||(K=[],j.set(m.index,K));const J=this._placeholderDecorations.get(m),X=this._editor.getModel().getDecorationRange(J);if(!X){j.delete(m.index);break}K.push(X)}}return j}get activeChoice(){if(!this._placeholderDecorations)return;const j=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(j!=null&&j.choice))return;const W=this._placeholderDecorations.get(j);if(!W)return;const K=this._editor.getModel().getDecorationRange(W);if(K)return{range:K,choice:j.choice}}get hasChoice(){let j=!1;return this._snippet.walk(W=>(j=W instanceof o.Lv,!j)),j}merge(j){const W=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(K=>{for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const J=j.shift();console.assert(J._offset!==-1),console.assert(!J._placeholderDecorations);const X=J._snippet.placeholderInfo.last.index;for(const le of J._snippet.placeholderInfo.all)le.isFinalTabstop?le.index=m.index+(X+1)/this._nestingLevel:le.index=m.index+le.index/this._nestingLevel;this._snippet.replace(m,J._snippet.children);const ie=this._placeholderDecorations.get(m);K.removeDecoration(ie),this._placeholderDecorations.delete(m);for(const le of J._snippet.placeholders){const fe=J._snippet.offset(le),Le=J._snippet.fullLen(le),pe=c.e.fromPositions(W.getPositionAt(J._offset+fe),W.getPositionAt(J._offset+fe+Le)),Te=K.addDecoration(pe,A._decor.inactive);this._placeholderDecorations.set(le,Te)}}this._placeholderGroups=(0,b.vM)(this._snippet.placeholders,o.Vm.compareByIndex)})}}A._decor={active:M.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:M.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:M.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:M.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const H={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let U=R=class{static adjustWhitespace(j,W,K,m,J){const X=j.getLineContent(W.lineNumber),ie=(0,r.V8)(X,0,W.column-1);let le;return m.walk(fe=>{if(!(fe instanceof o.xv)||fe.parent instanceof o.Lv||J&&!J.has(fe))return!0;const Le=fe.value.split(/\r\n|\r|\n/);if(K){const Te=m.offset(fe);if(Te===0)Le[0]=j.normalizeIndentation(Le[0]);else{le=le!=null?le:m.toString();const De=le.charCodeAt(Te-1);(De===10||De===13)&&(Le[0]=j.normalizeIndentation(ie+Le[0]))}for(let De=1;De<Le.length;De++)Le[De]=j.normalizeIndentation(ie+Le[De])}const pe=Le.join(j.getEOL());return pe!==fe.value&&(fe.parent.replace(fe,[new o.xv(pe)]),le=void 0),!0}),ie}static adjustSelection(j,W,K,m){if(K!==0||m!==0){const{positionLineNumber:J,positionColumn:X}=W,ie=X-K,le=X+m,fe=j.validateRange({startLineNumber:J,startColumn:ie,endLineNumber:J,endColumn:le});W=_.Y.createWithDirection(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn,W.getDirection())}return W}static createEditsAndSnippetsFromSelections(j,W,K,m,J,X,ie,le,fe){const Le=[],pe=[];if(!j.hasModel())return{edits:Le,snippets:pe};const Te=j.getModel(),De=j.invokeWithinContext(ce=>ce.get(p.ec)),ae=j.invokeWithinContext(ce=>new T(ce.get(D.e),Te)),Ne=()=>ie,We=Te.getValueInRange(R.adjustSelection(Te,j.getSelection(),K,0)),ze=Te.getValueInRange(R.adjustSelection(Te,j.getSelection(),0,m)),Se=Te.getLineFirstNonWhitespaceColumn(j.getSelection().positionLineNumber),ne=j.getSelections().map((ce,Oe)=>({selection:ce,idx:Oe})).sort((ce,Oe)=>c.e.compareRangesUsingStarts(ce.selection,Oe.selection));for(const{selection:ce,idx:Oe}of ne){let Pe=R.adjustSelection(Te,ce,K,0),Me=R.adjustSelection(Te,ce,0,m);We!==Te.getValueInRange(Pe)&&(Pe=ce),ze!==Te.getValueInRange(Me)&&(Me=ce);const ye=ce.setStartPosition(Pe.startLineNumber,Pe.startColumn).setEndPosition(Me.endLineNumber,Me.endColumn),_e=new o.Yj().parse(W,!0,J),se=ye.getStartPosition(),ve=R.adjustWhitespace(Te,se,X||Oe>0&&Se!==Te.getLineFirstNonWhitespaceColumn(ce.positionLineNumber),_e);_e.resolveVariables(new L([ae,new F(Ne,Oe,ne.length,j.getOption(78)==="spread"),new O(Te,ce,Oe,le),new B(Te,ce,fe),new $,new Y(De),new P])),Le[Oe]=E.h.replace(ye,_e.toString()),Le[Oe].identifier={major:Oe,minor:0},Le[Oe]._isTracked=!0,pe[Oe]=new A(j,_e,ve)}return{edits:Le,snippets:pe}}static createEditsAndSnippetsFromEdits(j,W,K,m,J,X,ie){if(!j.hasModel()||W.length===0)return{edits:[],snippets:[]};const le=[],fe=j.getModel(),Le=new o.Yj,pe=new o.y1,Te=new L([j.invokeWithinContext(ae=>new T(ae.get(D.e),fe)),new F(()=>J,0,j.getSelections().length,j.getOption(78)==="spread"),new O(fe,j.getSelection(),0,X),new B(fe,j.getSelection(),ie),new $,new Y(j.invokeWithinContext(ae=>ae.get(p.ec))),new P]);W=W.sort((ae,Ne)=>c.e.compareRangesUsingStarts(ae.range,Ne.range));let De=0;for(let ae=0;ae<W.length;ae++){const{range:Ne,template:We}=W[ae];if(ae>0){const Oe=W[ae-1].range,Pe=c.e.fromPositions(Oe.getEndPosition(),Ne.getStartPosition()),Me=new o.xv(fe.getValueInRange(Pe));pe.appendChild(Me),De+=Me.value.length}const ze=Le.parseFragment(We,pe);R.adjustWhitespace(fe,Ne.getStartPosition(),!0,pe,new Set(ze)),pe.resolveVariables(Te);const Se=pe.toString(),ne=Se.slice(De);De=Se.length;const ce=E.h.replace(Ne,ne);ce.identifier={major:ae,minor:0},ce._isTracked=!0,le.push(ce)}return Le.ensureFinalTabstop(pe,K,!0),{edits:le,snippets:[new A(j,pe,"")]}}constructor(j,W,K=H,m){this._editor=j,this._template=W,this._options=K,this._languageConfigurationService=m,this._templateMerges=[],this._snippets=[]}dispose(){(0,z.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:j,snippets:W}=typeof this._template=="string"?R.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):R.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=W,this._editor.executeEdits("snippet",j,K=>{const m=K.filter(J=>!!J.identifier);for(let J=0;J<W.length;J++)W[J].initialize(m[J].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):m.map(J=>_.Y.fromPositions(J.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(j,W=H){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,j]);const{edits:K,snippets:m}=R.createEditsAndSnippetsFromSelections(this._editor,j,W.overwriteBefore,W.overwriteAfter,!0,W.adjustWhitespace,W.clipboardText,W.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",K,J=>{const X=J.filter(le=>!!le.identifier);for(let le=0;le<m.length;le++)m[le].initialize(X[le].textChange);const ie=m[0].isTrivialSnippet;if(!ie){for(const le of this._snippets)le.merge(m);console.assert(m.length===0)}return this._snippets[0].hasPlaceholder&&!ie?this._move(void 0):X.map(le=>_.Y.fromPositions(le.range.getEndPosition()))})}next(){const j=this._move(!0);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}prev(){const j=this._move(!1);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}_move(j){const W=[];for(const K of this._snippets){const m=K.move(j);W.push(...m)}return W}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const j=this._editor.getSelections();if(j.length<this._snippets.length)return!1;const W=new Map;for(const K of this._snippets){const m=K.computePossibleSelections();if(W.size===0)for(const[J,X]of m){X.sort(c.e.compareRangesUsingStarts);for(const ie of j)if(X[0].containsRange(ie)){W.set(J,[]);break}}if(W.size===0)return!1;W.forEach((J,X)=>{J.push(...m.get(X))})}j.sort(c.e.compareRangesUsingStarts);for(const[K,m]of W){if(m.length!==j.length){W.delete(K);continue}m.sort(c.e.compareRangesUsingStarts);for(let J=0;J<m.length;J++)if(!m[J].containsRange(j[J])){W.delete(K);continue}}return W.size>0}};U=R=w([V(3,I.c_)],U)},62329:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(63580);const r=Object.freeze({View:{value:(0,z.NC)("view","View"),original:"View"},Help:{value:(0,z.NC)("help","Help"),original:"Help"},Test:{value:(0,z.NC)("test","Test"),original:"Test"},File:{value:(0,z.NC)("file","File"),original:"File"},Preferences:{value:(0,z.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,z.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var E=e(84144),c=e(33108),_=e(32064),I=e(29102),M=e(5976),D=e(71922),p=e(65321),o=e(77514),d=e(9488),u=e(25670),i=e(95939),n=e(84527),f=e(50187),v=e(50072),a=e(92550),S=e(72202),g=e(83973);class y{constructor(Ct,ft,Bt,kt=null){this.startLineNumbers=Ct,this.endLineNumbers=ft,this.lastLineRelativePosition=Bt,this.showEndForLine=kt}equals(Ct){return!!Ct&&this.lastLineRelativePosition===Ct.lastLineRelativePosition&&this.showEndForLine===Ct.showEndForLine&&(0,d.fS)(this.startLineNumbers,Ct.startLineNumbers)&&(0,d.fS)(this.endLineNumbers,Ct.endLineNumbers)}}const C=(0,o.Z)("stickyScrollViewLayer",{createHTML:Xt=>Xt}),L="data-sticky-line-index",O="data-sticky-is-line",T="data-sticky-is-line-number",F="data-sticky-is-folding-icon";class B extends M.JT{constructor(Ct){super(),this._editor=Ct,this._foldingIconStore=new M.SL,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(66),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",Ct instanceof n.H),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const ft=()=>{this._linesDomNode.style.left=this._editor.getOption(114).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(Bt=>{Bt.hasChanged(114)&&ft(),Bt.hasChanged(66)&&(this._lineHeight=this._editor.getOption(66))})),this._register(this._editor.onDidScrollChange(Bt=>{Bt.scrollLeftChanged&&ft(),Bt.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{ft(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),ft(),this._register(this._editor.onDidLayoutChange(Bt=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getStickyLineForLine(Ct){return this._stickyLines.find(ft=>ft.lineNumber===Ct)}getCurrentLines(){return this._lineNumbers}setState(Ct,ft,Bt=1/0){if((!this._previousState&&!Ct||this._previousState&&this._previousState.equals(Ct))&&Bt===1/0)return;this._previousState=Ct;const kt=this._stickyLines;if(this._clearStickyWidget(),!Ct||!this._editor._getViewModel())return;if(Ct.startLineNumbers.length*this._lineHeight+Ct.lastLineRelativePosition>0){this._lastLineRelativePosition=Ct.lastLineRelativePosition;const St=[...Ct.startLineNumbers];Ct.showEndForLine!==null&&(St[Ct.showEndForLine]=Ct.endLineNumbers[Ct.showEndForLine]),this._lineNumbers=St}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode(kt,ft,Bt)}_updateWidgetWidth(){const Ct=this._editor.getLayoutInfo(),ft=Ct.contentLeft;this._lineNumbersDomNode.style.width=`${ft}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-Ct.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${Ct.width-Ct.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),p.PO(this._lineNumbersDomNode),p.PO(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(Ct){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${Ct?.5:0}s`)}_setFoldingIconsVisibility(Ct){for(const ft of this._stickyLines){const Bt=ft.foldingIcon;Bt&&Bt.setVisible(Ct?!0:Bt.isCollapsed)}}_renderRootNode(Ct,ft,Bt=1/0){return qt(this,null,function*(){const kt=this._editor.getLayoutInfo();for(const[St,Ci]of this._lineNumbers.entries()){const Oi=Ct[St],xi=Ci>=Bt||(Oi==null?void 0:Oi.lineNumber)!==Ci?this._renderChildNode(St,Ci,ft,kt):this._updateTopAndZIndexOfStickyLine(Oi);xi&&(this._linesDomNode.appendChild(xi.lineDomNode),this._lineNumbersDomNode.appendChild(xi.lineNumberDomNode),this._stickyLines.push(xi))}ft&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const Ge=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(Ge===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${Ge}px`,this._linesDomNodeScrollable.style.height=`${Ge}px`,this._rootDomNode.style.height=`${Ge}px`,this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(109)==="mouseover"&&(this._foldingIconStore.add(p.nm(this._lineNumbersDomNode,p.tw.MOUSE_ENTER,ft=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(p.nm(this._lineNumbersDomNode,p.tw.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(Ct,ft,Bt,kt){const Ge=this._editor._getViewModel();if(!Ge)return;const St=Ge.coordinatesConverter.convertModelPositionToViewPosition(new f.L(ft,1)).lineNumber,Ci=Ge.getViewLineRenderingData(St),Oi=this._editor.getOption(67);let xi;try{xi=a.Kp.filter(Ci.inlineDecorations,St,Ci.minColumn,Ci.maxColumn)}catch(fs){xi=[]}const Yi=new S.IJ(!0,!0,Ci.content,Ci.continuesWithWrappedLine,Ci.isBasicASCII,Ci.containsRTL,0,Ci.tokens,xi,Ci.tabSize,Ci.startVisibleColumn,1,1,1,500,"none",!0,!0,null),fn=new v.HT(2e3),un=(0,S.d1)(Yi,fn);let Pn;C?Pn=C.createHTML(fn.build()):Pn=fn.build();const Dn=document.createElement("span");Dn.setAttribute(L,String(Ct)),Dn.setAttribute(O,""),Dn.setAttribute("role","listitem"),Dn.tabIndex=0,Dn.className="sticky-line-content",Dn.classList.add(`stickyLine${ft}`),Dn.style.lineHeight=`${this._lineHeight}px`,Dn.innerHTML=Pn;const Gn=document.createElement("span");Gn.setAttribute(L,String(Ct)),Gn.setAttribute(T,""),Gn.className="sticky-line-number",Gn.style.lineHeight=`${this._lineHeight}px`;const Rn=kt.contentLeft;Gn.style.width=`${Rn}px`;const ns=document.createElement("span");Oi.renderType===1||Oi.renderType===3&&ft%10===0?ns.innerText=ft.toString():Oi.renderType===2&&(ns.innerText=Math.abs(ft-this._editor.getPosition().lineNumber).toString()),ns.className="sticky-line-number-inner",ns.style.lineHeight=`${this._lineHeight}px`,ns.style.width=`${kt.lineNumbersWidth}px`,ns.style.paddingLeft=`${kt.lineNumbersLeft}px`,Gn.appendChild(ns);const ts=this._renderFoldingIconForLine(Bt,ft);ts&&Gn.appendChild(ts.domNode),this._editor.applyFontInfo(Dn),this._editor.applyFontInfo(ns),Gn.style.lineHeight=`${this._lineHeight}px`,Dn.style.lineHeight=`${this._lineHeight}px`,Gn.style.height=`${this._lineHeight}px`,Dn.style.height=`${this._lineHeight}px`;const qn=new $(Ct,ft,Dn,Gn,ts,un.characterMapping);return this._updateTopAndZIndexOfStickyLine(qn)}_updateTopAndZIndexOfStickyLine(Ct){var ft;const Bt=Ct.index,kt=Ct.lineDomNode,Ge=Ct.lineNumberDomNode,St=Bt===this._lineNumbers.length-1,Ci="0",Oi="1";kt.style.zIndex=St?Ci:Oi,Ge.style.zIndex=St?Ci:Oi;const xi=`${Bt*this._lineHeight+this._lastLineRelativePosition+(!((ft=Ct.foldingIcon)===null||ft===void 0)&&ft.isCollapsed?1:0)}px`,Yi=`${Bt*this._lineHeight}px`;return kt.style.top=St?xi:Yi,Ge.style.top=St?xi:Yi,Ct}_renderFoldingIconForLine(Ct,ft){const Bt=this._editor.getOption(109);if(!Ct||Bt==="never")return;const kt=Ct.regions,Ge=kt.findRange(ft),St=kt.getStartLineNumber(Ge);if(!(ft===St))return;const Oi=kt.isCollapsed(Ge),xi=new Y(Oi,St,kt.getEndLineNumber(Ge),this._lineHeight);return xi.setVisible(this._isOnGlyphMargin?!0:Oi||Bt==="always"),xi.domNode.setAttribute(F,""),xi}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const Ct of this._stickyLines)Ct.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=Ct.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(Ct){0<=Ct&&Ct<this._stickyLines.length&&this._stickyLines[Ct].lineDomNode.focus()}getEditorPositionFromNode(Ct){if(!Ct||Ct.children.length>0)return null;const ft=this._getRenderedStickyLineFromChildDomNode(Ct);if(!ft)return null;const Bt=(0,i.dL)(ft.characterMapping,Ct,0);return new f.L(ft.lineNumber,Bt)}getLineNumberFromChildDomNode(Ct){var ft,Bt;return(Bt=(ft=this._getRenderedStickyLineFromChildDomNode(Ct))===null||ft===void 0?void 0:ft.lineNumber)!==null&&Bt!==void 0?Bt:null}_getRenderedStickyLineFromChildDomNode(Ct){const ft=this.getLineIndexFromChildDomNode(Ct);return ft===null||ft<0||ft>=this._stickyLines.length?null:this._stickyLines[ft]}getLineIndexFromChildDomNode(Ct){const ft=this._getAttributeValue(Ct,L);return ft?parseInt(ft,10):null}isInStickyLine(Ct){return this._getAttributeValue(Ct,O)!==void 0}isInFoldingIconDomNode(Ct){return this._getAttributeValue(Ct,F)!==void 0}_getAttributeValue(Ct,ft){for(;Ct&&Ct!==this._rootDomNode;){const Bt=Ct.getAttribute(ft);if(Bt!==null)return Bt;Ct=Ct.parentElement}}}class ${constructor(Ct,ft,Bt,kt,Ge,St){this.index=Ct,this.lineNumber=ft,this.lineDomNode=Bt,this.lineNumberDomNode=kt,this.foldingIcon=Ge,this.characterMapping=St}}class Y{constructor(Ct,ft,Bt,kt){this.isCollapsed=Ct,this.foldingStartLine=ft,this.foldingEndLine=Bt,this.dimension=kt,this.domNode=document.createElement("div"),this.domNode.style.width=`${kt}px`,this.domNode.style.height=`${kt}px`,this.domNode.className=u.k.asClassName(Ct?g.f5:g.Iy)}setVisible(Ct){this.domNode.style.cursor=Ct?"pointer":"default",this.domNode.style.opacity=Ct?"1":"0"}}var P=e(71050),w=e(15393),V=e(4669),R=e(4256),A=e(30335),H=e(23369),U=e(99155),G=e(84990),j=e(17301);class W{constructor(Ct,ft){this.startLineNumber=Ct,this.endLineNumber=ft}}class K{constructor(Ct,ft,Bt){this.range=Ct,this.children=ft,this.parent=Bt}}class m{constructor(Ct,ft,Bt,kt){this.uri=Ct,this.version=ft,this.element=Bt,this.outlineProviderId=kt}}var J=e(53725),X=function(Xt,Ct,ft,Bt){var kt=arguments.length,Ge=kt<3?Ct:Bt===null?Bt=Object.getOwnPropertyDescriptor(Ct,ft):Bt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(Xt,Ct,ft,Bt);else for(var Ci=Xt.length-1;Ci>=0;Ci--)(St=Xt[Ci])&&(Ge=(kt<3?St(Ge):kt>3?St(Ct,ft,Ge):St(Ct,ft))||Ge);return kt>3&&Ge&&Object.defineProperty(Ct,ft,Ge),Ge},ie=function(Xt,Ct){return function(ft,Bt){Ct(ft,Bt,Xt)}},le;(function(Xt){Xt.OUTLINE_MODEL="outlineModel",Xt.FOLDING_PROVIDER_MODEL="foldingProviderModel",Xt.INDENTATION_MODEL="indentationModel"})(le||(le={}));var fe;(function(Xt){Xt[Xt.VALID=0]="VALID",Xt[Xt.INVALID=1]="INVALID",Xt[Xt.CANCELED=2]="CANCELED"})(fe||(fe={}));let Le=class extends M.JT{constructor(Ct,ft,Bt,kt){super(),this._editor=Ct,this._languageConfigurationService=ft,this._languageFeaturesService=Bt,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new w.vp(300)),this._updateOperation=this._register(new M.SL);const Ge=new Te(Bt),St=new Ne(this._editor,Bt),Ci=new ae(this._editor,ft);switch(kt){case le.OUTLINE_MODEL:this._modelProviders.push(Ge),this._modelProviders.push(St),this._modelProviders.push(Ci);break;case le.FOLDING_PROVIDER_MODEL:this._modelProviders.push(St),this._modelProviders.push(Ci);break;case le.INDENTATION_MODEL:this._modelProviders.push(Ci);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(Ct,ft,Bt){return qt(this,null,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>qt(this,null,function*(){for(const kt of this._modelProviders){const{statusPromise:Ge,modelPromise:St}=kt.computeStickyModel(Ct,ft,Bt);this._modelPromise=St;const Ci=yield Ge;if(this._modelPromise!==St)return null;switch(Ci){case fe.CANCELED:return this._updateOperation.clear(),null;case fe.VALID:return kt.stickyModel}}return null})).catch(kt=>((0,j.dL)(kt),null))})}};Le=X([ie(1,R.c_),ie(2,D.p)],Le);class pe{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,fe.INVALID}computeStickyModel(Ct,ft,Bt){if(Bt.isCancellationRequested||!this.isProviderValid(Ct))return{statusPromise:this._invalid(),modelPromise:null};const kt=(0,w.PG)(Ge=>this.createModelFromProvider(Ct,ft,Ge));return{statusPromise:kt.then(Ge=>this.isModelValid(Ge)?Bt.isCancellationRequested?fe.CANCELED:(this._stickyModel=this.createStickyModel(Ct,ft,Bt,Ge),fe.VALID):this._invalid()).then(void 0,Ge=>((0,j.dL)(Ge),fe.CANCELED)),modelPromise:kt}}isModelValid(Ct){return!0}isProviderValid(Ct){return!0}}let Te=class extends pe{constructor(Ct){super(),this._languageFeaturesService=Ct}createModelFromProvider(Ct,ft,Bt){return A.C3.create(this._languageFeaturesService.documentSymbolProvider,Ct,Bt)}createStickyModel(Ct,ft,Bt,kt){var Ge;const{stickyOutlineElement:St,providerID:Ci}=this._stickyModelFromOutlineModel(kt,(Ge=this._stickyModel)===null||Ge===void 0?void 0:Ge.outlineProviderId);return new m(Ct.uri,ft,St,Ci)}isModelValid(Ct){return Ct&&Ct.children.size>0}_stickyModelFromOutlineModel(Ct,ft){let Bt;if(J.$.first(Ct.children.values())instanceof A.H3){const Ci=J.$.find(Ct.children.values(),Oi=>Oi.id===ft);if(Ci)Bt=Ci.children;else{let Oi="",xi=-1,Yi;for(const[fn,un]of Ct.children.entries()){const Pn=this._findSumOfRangesOfGroup(un);Pn>xi&&(Yi=un,xi=Pn,Oi=un.id)}ft=Oi,Bt=Yi.children}}else Bt=Ct.children;const kt=[],Ge=Array.from(Bt.values()).sort((Ci,Oi)=>{const xi=new W(Ci.symbol.range.startLineNumber,Ci.symbol.range.endLineNumber),Yi=new W(Oi.symbol.range.startLineNumber,Oi.symbol.range.endLineNumber);return this._comparator(xi,Yi)});for(const Ci of Ge)kt.push(this._stickyModelFromOutlineElement(Ci,Ci.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new K(void 0,kt,void 0),providerID:ft}}_stickyModelFromOutlineElement(Ct,ft){const Bt=[];for(const Ge of Ct.children.values())if(Ge.symbol.selectionRange.startLineNumber!==Ge.symbol.range.endLineNumber)if(Ge.symbol.selectionRange.startLineNumber!==ft)Bt.push(this._stickyModelFromOutlineElement(Ge,Ge.symbol.selectionRange.startLineNumber));else for(const St of Ge.children.values())Bt.push(this._stickyModelFromOutlineElement(St,Ge.symbol.selectionRange.startLineNumber));Bt.sort((Ge,St)=>this._comparator(Ge.range,St.range));const kt=new W(Ct.symbol.selectionRange.startLineNumber,Ct.symbol.range.endLineNumber);return new K(kt,Bt,void 0)}_comparator(Ct,ft){return Ct.startLineNumber!==ft.startLineNumber?Ct.startLineNumber-ft.startLineNumber:ft.endLineNumber-Ct.endLineNumber}_findSumOfRangesOfGroup(Ct){let ft=0;for(const Bt of Ct.children.values())ft+=this._findSumOfRangesOfGroup(Bt);return Ct instanceof A.sT?ft+Ct.symbol.range.endLineNumber-Ct.symbol.selectionRange.startLineNumber:ft}};Te=X([ie(0,D.p)],Te);class De extends pe{constructor(Ct){super(),this._foldingLimitReporter=new H.n(Ct)}createStickyModel(Ct,ft,Bt,kt){const Ge=this._fromFoldingRegions(kt);return new m(Ct.uri,ft,Ge,void 0)}isModelValid(Ct){return Ct!==null}_fromFoldingRegions(Ct){const ft=Ct.length,Bt=[],kt=new K(void 0,[],void 0);for(let Ge=0;Ge<ft;Ge++){const St=Ct.getParentIndex(Ge);let Ci;St!==-1?Ci=Bt[St]:Ci=kt;const Oi=new K(new W(Ct.getStartLineNumber(Ge),Ct.getEndLineNumber(Ge)+1),[],Ci);Ci.children.push(Oi),Bt.push(Oi)}return kt}}let ae=class extends De{constructor(Ct,ft){super(Ct),this._languageConfigurationService=ft}createModelFromProvider(Ct,ft,Bt){return new G.aI(Ct,this._languageConfigurationService,this._foldingLimitReporter).compute(Bt)}};ae=X([ie(1,R.c_)],ae);let Ne=class extends De{constructor(Ct,ft){super(Ct),this._languageFeaturesService=ft}isProviderValid(Ct){return H.f.getFoldingRangeProviders(this._languageFeaturesService,Ct).length>0}createModelFromProvider(Ct,ft,Bt){const kt=H.f.getFoldingRangeProviders(this._languageFeaturesService,Ct);return new U.e(Ct,kt,()=>this.createModelFromProvider(Ct,ft,Bt),this._foldingLimitReporter,void 0).compute(Bt)}};Ne=X([ie(1,D.p)],Ne);var We=function(Xt,Ct,ft,Bt){var kt=arguments.length,Ge=kt<3?Ct:Bt===null?Bt=Object.getOwnPropertyDescriptor(Ct,ft):Bt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(Xt,Ct,ft,Bt);else for(var Ci=Xt.length-1;Ci>=0;Ci--)(St=Xt[Ci])&&(Ge=(kt<3?St(Ge):kt>3?St(Ct,ft,Ge):St(Ct,ft))||Ge);return kt>3&&Ge&&Object.defineProperty(Ct,ft,Ge),Ge},ze=function(Xt,Ct){return function(ft,Bt){Ct(ft,Bt,Xt)}};class Se{constructor(Ct,ft,Bt){this.startLineNumber=Ct,this.endLineNumber=ft,this.nestingDepth=Bt}}let ne=class extends M.JT{constructor(Ct,ft,Bt){super(),this._languageFeaturesService=ft,this._languageConfigurationService=Bt,this._onDidChangeStickyScroll=this._register(new V.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=Ct,this._sessionStore=this._register(new M.SL),this._updateSoon=this._register(new w.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(kt=>{kt.hasChanged(114)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(114),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new Le(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var Ct;return(Ct=this._model)===null||Ct===void 0?void 0:Ct.version}update(){return qt(this,null,function*(){var Ct;(Ct=this._cts)===null||Ct===void 0||Ct.dispose(!0),this._cts=new P.A,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(Ct){return qt(this,null,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const ft=this._editor.getModel(),Bt=ft.getVersionId(),kt=yield this._stickyModelProvider.update(ft,Bt,Ct);Ct.isCancellationRequested||(this._model=kt)})}updateIndex(Ct){return Ct===-1?Ct=0:Ct<0&&(Ct=-Ct-2),Ct}getCandidateStickyLinesIntersectingFromStickyModel(Ct,ft,Bt,kt,Ge){if(ft.children.length===0)return;let St=Ge;const Ci=[];for(let Yi=0;Yi<ft.children.length;Yi++){const fn=ft.children[Yi];fn.range&&Ci.push(fn.range.startLineNumber)}const Oi=this.updateIndex((0,d.ry)(Ci,Ct.startLineNumber,(Yi,fn)=>Yi-fn)),xi=this.updateIndex((0,d.ry)(Ci,Ct.startLineNumber+kt,(Yi,fn)=>Yi-fn));for(let Yi=Oi;Yi<=xi;Yi++){const fn=ft.children[Yi];if(!fn)return;if(fn.range){const un=fn.range.startLineNumber,Pn=fn.range.endLineNumber;Ct.startLineNumber<=Pn+1&&un-1<=Ct.endLineNumber&&un!==St&&(St=un,Bt.push(new Se(un,Pn-1,kt+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(Ct,fn,Bt,kt+1,un))}else this.getCandidateStickyLinesIntersectingFromStickyModel(Ct,fn,Bt,kt,Ge)}}getCandidateStickyLinesIntersecting(Ct){var ft,Bt;if(!(!((ft=this._model)===null||ft===void 0)&&ft.element))return[];let kt=[];this.getCandidateStickyLinesIntersectingFromStickyModel(Ct,this._model.element,kt,0,-1);const Ge=(Bt=this._editor._getViewModel())===null||Bt===void 0?void 0:Bt.getHiddenAreas();if(Ge)for(const St of Ge)kt=kt.filter(Ci=>!(Ci.startLineNumber>=St.startLineNumber&&Ci.endLineNumber<=St.endLineNumber+1));return kt}};ne=We([ze(1,D.p),ze(2,R.c_)],ne);var ce=e(72065),Oe=e(5606),Pe=e(82005),Me=e(24314),ye=e(40184),_e=e(58722),se=e(88191),ve=e(7317),xe=e(71705),je=function(Xt,Ct,ft,Bt){var kt=arguments.length,Ge=kt<3?Ct:Bt===null?Bt=Object.getOwnPropertyDescriptor(Ct,ft):Bt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(Xt,Ct,ft,Bt);else for(var Ci=Xt.length-1;Ci>=0;Ci--)(St=Xt[Ci])&&(Ge=(kt<3?St(Ge):kt>3?St(Ct,ft,Ge):St(Ct,ft))||Ge);return kt>3&&Ge&&Object.defineProperty(Ct,ft,Ge),Ge},Ae=function(Xt,Ct){return function(ft,Bt){Ct(ft,Bt,Xt)}},Qe;let rt=Qe=class extends M.JT{constructor(Ct,ft,Bt,kt,Ge,St,Ci){super(),this._editor=Ct,this._contextMenuService=ft,this._languageFeaturesService=Bt,this._instaService=kt,this._contextKeyService=Ci,this._sessionStore=new M.SL,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new B(this._editor),this._stickyLineCandidateProvider=new ne(this._editor,Bt,Ge),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y([],[],0),this._readConfiguration();const Oi=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(Yi=>{(Yi.hasChanged(114)||Yi.hasChanged(72)||Yi.hasChanged(66)||Yi.hasChanged(109))&&this._readConfiguration()})),this._register(p.nm(Oi,p.tw.CONTEXT_MENU,Yi=>qt(this,null,function*(){this._onContextMenu(p.Jj(Oi),Yi)}))),this._stickyScrollFocusedContextKey=I.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=I.u.stickyScrollVisible.bindTo(this._contextKeyService);const xi=this._register(p.go(Oi));this._register(xi.onDidBlur(Yi=>{this._positionRevealed===!1&&Oi.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(xi.onDidFocus(Yi=>{this.focus()})),this._registerMouseListeners(),this._register(p.nm(Oi,p.tw.MOUSE_DOWN,Yi=>{this._onMouseDown=!0}))}static get(Ct){return Ct.getContribution(Qe.ID)}_disposeFocusStickyScrollStore(){var Ct;this._stickyScrollFocusedContextKey.set(!1),(Ct=this._focusDisposableStore)===null||Ct===void 0||Ct.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new M.SL,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(Ct){this._focusedStickyElementIndex=Ct?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const Ct=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:Ct[this._focusedStickyElementIndex],column:1})}_revealPosition(Ct){this._reveaInEditor(Ct,()=>this._editor.revealPosition(Ct))}_revealLineInCenterIfOutsideViewport(Ct){this._reveaInEditor(Ct,()=>this._editor.revealLineInCenterIfOutsideViewport(Ct.lineNumber,0))}_reveaInEditor(Ct,ft){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,ft(),this._editor.setSelection(Me.e.fromPositions(Ct)),this._editor.focus()}_registerMouseListeners(){const Ct=this._register(new M.SL),ft=this._register(new Pe.yN(this._editor,{extractLineNumberFromMouseEvent:Ge=>{const St=this._stickyScrollWidget.getEditorPositionFromNode(Ge.target.element);return St?St.lineNumber:0}})),Bt=Ge=>{if(!this._editor.hasModel()||Ge.target.type!==12||Ge.target.detail!==this._stickyScrollWidget.getId())return null;const St=Ge.target.element;if(!St||St.innerText!==St.innerHTML)return null;const Ci=this._stickyScrollWidget.getEditorPositionFromNode(St);return Ci?{range:new Me.e(Ci.lineNumber,Ci.column,Ci.lineNumber,Ci.column+St.innerText.length),textElement:St}:null},kt=this._stickyScrollWidget.getDomNode();this._register(p.mu(kt,p.tw.CLICK,Ge=>{if(Ge.ctrlKey||Ge.altKey||Ge.metaKey||!Ge.leftButton)return;if(Ge.shiftKey){const xi=this._stickyScrollWidget.getLineIndexFromChildDomNode(Ge.target);if(xi===null)return;const Yi=new f.L(this._endLineNumbers[xi],1);this._revealLineInCenterIfOutsideViewport(Yi);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(Ge.target)){const xi=this._stickyScrollWidget.getLineNumberFromChildDomNode(Ge.target);this._toggleFoldingRegionForLine(xi);return}if(!this._stickyScrollWidget.isInStickyLine(Ge.target))return;let Oi=this._stickyScrollWidget.getEditorPositionFromNode(Ge.target);if(!Oi){const xi=this._stickyScrollWidget.getLineNumberFromChildDomNode(Ge.target);if(xi===null)return;Oi=new f.L(xi,1)}this._revealPosition(Oi)})),this._register(p.mu(kt,p.tw.MOUSE_MOVE,Ge=>{if(Ge.shiftKey){const St=this._stickyScrollWidget.getLineIndexFromChildDomNode(Ge.target);if(St===null||this._showEndForLine!==null&&this._showEndForLine===St)return;this._showEndForLine=St,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(p.nm(kt,p.tw.MOUSE_LEAVE,Ge=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(ft.onMouseMoveOrRelevantKeyDown(([Ge,St])=>{const Ci=Bt(Ge);if(!Ci||!Ge.hasTriggerModifier||!this._editor.hasModel()){Ct.clear();return}const{range:Oi,textElement:xi}=Ci;if(!Oi.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=Oi,Ct.clear();else if(xi.style.textDecoration==="underline")return;const Yi=new P.A;Ct.add((0,M.OF)(()=>Yi.dispose(!0)));let fn;(0,ye.nD)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new f.L(Oi.startLineNumber,Oi.startColumn+1),Yi.token).then(un=>{if(!Yi.token.isCancellationRequested)if(un.length!==0){this._candidateDefinitionsLength=un.length;const Pn=xi;fn!==Pn?(Ct.clear(),fn=Pn,fn.style.textDecoration="underline",Ct.add((0,M.OF)(()=>{fn.style.textDecoration="none"}))):fn||(fn=Pn,fn.style.textDecoration="underline",Ct.add((0,M.OF)(()=>{fn.style.textDecoration="none"})))}else Ct.clear()})})),this._register(ft.onCancel(()=>{Ct.clear()})),this._register(ft.onExecute(Ge=>qt(this,null,function*(){if(Ge.target.type!==12||Ge.target.detail!==this._stickyScrollWidget.getId())return;const St=this._stickyScrollWidget.getEditorPositionFromNode(Ge.target.element);St&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:St.lineNumber,column:1})),this._instaService.invokeFunction(_e.K,Ge,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(Ct,ft){const Bt=new ve.n(Ct,ft);this._contextMenuService.showContextMenu({menuId:E.eH.StickyScrollContext,getAnchor:()=>Bt})}_toggleFoldingRegionForLine(Ct){if(!this._foldingModel||Ct===null)return;const ft=this._stickyScrollWidget.getStickyLineForLine(Ct),Bt=ft==null?void 0:ft.foldingIcon;if(!Bt)return;(0,xe.d8)(this._foldingModel,Number.MAX_VALUE,[Ct]),Bt.isCollapsed=!Bt.isCollapsed;const kt=(Bt.isCollapsed?this._editor.getTopForLineNumber(Bt.foldingEndLine):this._editor.getTopForLineNumber(Bt.foldingStartLine))-this._editor.getOption(66)*ft.index+1;this._editor.setScrollTop(kt),this._renderStickyScroll(Ct)}_readConfiguration(){const Ct=this._editor.getOption(114);if(Ct.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else Ct.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(Bt=>{Bt.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(Bt=>this._onTokensChange(Bt))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(67).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(-1)}))}_needsUpdate(Ct){const ft=this._stickyScrollWidget.getCurrentLines();for(const Bt of ft)for(const kt of Ct.ranges)if(Bt>=kt.fromLineNumber&&Bt<=kt.toLineNumber)return!0;return!1}_onTokensChange(Ct){this._needsUpdate(Ct)&&this._renderStickyScroll(-1)}_onDidResize(){const ft=this._editor.getLayoutInfo().height/this._editor.getOption(66);this._maxStickyLines=Math.round(ft*.25)}_renderStickyScroll(Ct=1/0){return qt(this,null,function*(){var ft,Bt;const kt=this._editor.getModel();if(!kt||kt.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null,Ct);return}const Ge=this._stickyLineCandidateProvider.getVersionId();if(Ge===void 0||Ge===kt.getVersionId())if(this._foldingModel=(Bt=yield(ft=H.f.get(this._editor))===null||ft===void 0?void 0:ft.getFoldingModel())!==null&&Bt!==void 0?Bt:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,Ct);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,Ct),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const St=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,Ct),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(St)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}findScrollWidgetState(){const Ct=this._editor.getOption(66),ft=Math.min(this._maxStickyLines,this._editor.getOption(114).maxLineCount),Bt=this._editor.getScrollTop();let kt=0;const Ge=[],St=[],Ci=this._editor.getVisibleRanges();if(Ci.length!==0){const Oi=new W(Ci[0].startLineNumber,Ci[Ci.length-1].endLineNumber),xi=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(Oi);for(const Yi of xi){const fn=Yi.startLineNumber,un=Yi.endLineNumber,Pn=Yi.nestingDepth;if(un-fn>0){const Dn=(Pn-1)*Ct,Gn=Pn*Ct,Rn=this._editor.getBottomForLineNumber(fn)-Bt,ns=this._editor.getTopForLineNumber(un)-Bt,ts=this._editor.getBottomForLineNumber(un)-Bt;if(Dn>ns&&Dn<=ts){Ge.push(fn),St.push(un+1),kt=ts-Gn;break}else Gn>Rn&&Gn<=ts&&(Ge.push(fn),St.push(un+1));if(Ge.length===ft)break}}}return this._endLineNumbers=St,new y(Ge,St,kt,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};rt.ID="store.contrib.stickyScrollController",rt=Qe=je([Ae(1,Oe.i),Ae(2,D.p),Ae(3,ce.TG),Ae(4,R.c_),Ae(5,se.A),Ae(6,_.i6)],rt);class Dt extends E.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,z.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,z.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:r.View,toggled:{condition:_.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,z.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,z.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:E.eH.CommandPalette},{id:E.eH.MenubarAppearanceMenu,group:"4_editor",order:3},{id:E.eH.StickyScrollContext}]})}run(Ct){return qt(this,null,function*(){const ft=Ct.get(c.Ui),Bt=!ft.getValue("editor.stickyScroll.enabled");return ft.updateValue("editor.stickyScroll.enabled",Bt)})}}const at=100;class vt extends b.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,z.NC)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:(0,z.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:_.Ao.and(_.Ao.has("config.editor.stickyScroll.enabled"),I.u.stickyScrollVisible),menu:[{id:E.eH.CommandPalette}]})}runEditorCommand(Ct,ft){var Bt;(Bt=rt.get(ft))===null||Bt===void 0||Bt.focus()}}class Mt extends b.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,z.NC)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:at,primary:18}})}runEditorCommand(Ct,ft){var Bt;(Bt=rt.get(ft))===null||Bt===void 0||Bt.focusNext()}}class ti extends b.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,z.NC)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:at,primary:16}})}runEditorCommand(Ct,ft){var Bt;(Bt=rt.get(ft))===null||Bt===void 0||Bt.focusPrevious()}}class Ft extends b.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,z.NC)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:at,primary:3}})}runEditorCommand(Ct,ft){var Bt;(Bt=rt.get(ft))===null||Bt===void 0||Bt.goToFocused()}}class ei extends b.x1{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,z.NC)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:at,primary:9}})}runEditorCommand(Ct,ft){var Bt;(Bt=rt.get(ft))===null||Bt===void 0||Bt.selectEditor()}}(0,b._K)(rt.ID,rt,1),(0,E.r1)(Dt),(0,E.r1)(vt),(0,E.r1)(ti),(0,E.r1)(Mt),(0,E.r1)(Ft),(0,E.r1)(ei)},74961:function(Pt,Ke,e){"use strict";e.d(Ke,{_:function(){return c},t:function(){return E}});var b=e(9488),z=e(60075),r=e(97295);class E{constructor(I,M){this.leadingLineContent=I,this.characterCountDelta=M}}class c{constructor(I,M,D,p,o,d,u=z.mX.default,i=void 0){this.clipboardText=i,this._snippetCompareFn=c._compareCompletionItems,this._items=I,this._column=M,this._wordDistance=p,this._options=o,this._refilterKind=1,this._lineContext=D,this._fuzzyScoreOptions=u,d==="top"?this._snippetCompareFn=c._compareCompletionItemsSnippetsUp:d==="bottom"&&(this._snippetCompareFn=c._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(I){(this._lineContext.leadingLineContent!==I.leadingLineContent||this._lineContext.characterCountDelta!==I.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<I.characterCountDelta&&this._filteredItems?2:1,this._lineContext=I)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const I=new Set;for(const[M,D]of this.getItemsByProvider())D.length>0&&D[0].container.incomplete&&I.add(M);return I}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const I=[],{leadingLineContent:M,characterCountDelta:D}=this._lineContext;let p="",o="";const d=this._refilterKind===1?this._items:this._filteredItems,u=[],i=!this._options.filterGraceful||d.length>2e3?z.EW:z.l7;for(let n=0;n<d.length;n++){const f=d[n];if(f.isInvalid)continue;const v=this._itemsByProvider.get(f.provider);v?v.push(f):this._itemsByProvider.set(f.provider,[f]);const a=f.position.column-f.editStart.column,S=a+D-(f.position.column-this._column);if(p.length!==S&&(p=S===0?"":M.slice(-S),o=p.toLowerCase()),f.word=p,S===0)f.score=z.CL.Default;else{let g=0;for(;g<a;){const y=p.charCodeAt(g);if(y===32||y===9)g+=1;else break}if(g>=S)f.score=z.CL.Default;else if(typeof f.completion.filterText=="string"){const y=i(p,o,g,f.completion.filterText,f.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;(0,r.zY)(f.completion.filterText,f.textLabel)===0?f.score=y:(f.score=(0,z.jB)(p,o,g,f.textLabel,f.labelLow,0),f.score[0]=y[0])}else{const y=i(p,o,g,f.textLabel,f.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;f.score=y}}f.idx=n,f.distance=this._wordDistance.distance(f.position,f.completion),u.push(f),I.push(f.textLabel.length)}this._filteredItems=u.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:I.length?(0,b.HW)(I.length-.85,I,(n,f)=>n-f):0}}static _compareCompletionItems(I,M){return I.score[0]>M.score[0]?-1:I.score[0]<M.score[0]?1:I.distance<M.distance?-1:I.distance>M.distance?1:I.idx<M.idx?-1:I.idx>M.idx?1:0}static _compareCompletionItemsSnippetsDown(I,M){if(I.completion.kind!==M.completion.kind){if(I.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return c._compareCompletionItems(I,M)}static _compareCompletionItemsSnippetsUp(I,M){if(I.completion.kind!==M.completion.kind){if(I.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return c._compareCompletionItems(I,M)}}},55621:function(Pt,Ke,e){"use strict";e.d(Ke,{A9:function(){return y},GI:function(){return S},ZJ:function(){return L},_y:function(){return a},i5:function(){return w},kL:function(){return T},tG:function(){return V}});var b=e(71050),z=e(17301),r=e(60075),E=e(5976),c=e(84013),_=e(98401),I=e(70666),M=e(50187),D=e(24314),p=e(88216),o=e(35084),d=e(63580),u=e(84144),i=e(94565),n=e(32064),f=e(71922),v=e(37726);const a={Visible:v.iX,HasFocusedSuggestion:new n.uy("suggestWidgetHasFocusedSuggestion",!1,(0,d.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new n.uy("suggestWidgetDetailsVisible",!1,(0,d.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new n.uy("suggestWidgetMultipleSuggestions",!1,(0,d.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new n.uy("suggestionMakesTextEdit",!0,(0,d.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new n.uy("acceptSuggestionOnEnter",!0,(0,d.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new n.uy("suggestionHasInsertAndReplaceRange",!1,(0,d.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new n.uy("suggestionInsertMode",void 0,{type:"string",description:(0,d.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new n.uy("suggestionCanResolve",!1,(0,d.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},S=new u.eH("suggestWidgetStatusBar");class g{constructor(A,H,U,G){var j;this.position=A,this.completion=H,this.container=U,this.provider=G,this.isInvalid=!1,this.score=r.CL.Default,this.distance=0,this.textLabel=typeof H.label=="string"?H.label:(j=H.label)===null||j===void 0?void 0:j.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=H.sortText&&H.sortText.toLowerCase(),this.filterTextLow=H.filterText&&H.filterText.toLowerCase(),this.extensionId=H.extensionId,D.e.isIRange(H.range)?(this.editStart=new M.L(H.range.startLineNumber,H.range.startColumn),this.editInsertEnd=new M.L(H.range.endLineNumber,H.range.endColumn),this.editReplaceEnd=new M.L(H.range.endLineNumber,H.range.endColumn),this.isInvalid=this.isInvalid||D.e.spansMultipleLines(H.range)||H.range.startLineNumber!==A.lineNumber):(this.editStart=new M.L(H.range.insert.startLineNumber,H.range.insert.startColumn),this.editInsertEnd=new M.L(H.range.insert.endLineNumber,H.range.insert.endColumn),this.editReplaceEnd=new M.L(H.range.replace.endLineNumber,H.range.replace.endColumn),this.isInvalid=this.isInvalid||D.e.spansMultipleLines(H.range.insert)||D.e.spansMultipleLines(H.range.replace)||H.range.insert.startLineNumber!==A.lineNumber||H.range.replace.startLineNumber!==A.lineNumber||H.range.insert.startColumn!==H.range.replace.startColumn),typeof G.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(A){return qt(this,null,function*(){if(!this._resolveCache){const H=A.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),U=new c.G(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,A)).then(G=>{Object.assign(this.completion,G),this._resolveDuration=U.elapsed()},G=>{(0,z.n2)(G)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{H.dispose()})}return this._resolveCache})}}class y{constructor(A=2,H=new Set,U=new Set,G=new Map,j=!0){this.snippetSortOrder=A,this.kindFilter=H,this.providerFilter=U,this.providerItemsToReuse=G,this.showDeprecated=j}}y.default=new y;let C;function L(){return C}class O{constructor(A,H,U,G){this.items=A,this.needsClipboard=H,this.durations=U,this.disposable=G}}function T(W,K,m){return qt(this,arguments,function*(R,A,H,U=y.default,G={triggerKind:0},j=b.T.None){const J=new c.G;H=H.clone();const X=A.getWordAtPosition(H),ie=X?new D.e(H.lineNumber,X.startColumn,H.lineNumber,X.endColumn):D.e.fromPositions(H),le={replace:ie,insert:ie.setEndPosition(H.lineNumber,H.column)},fe=[],Le=new E.SL,pe=[];let Te=!1;const De=(Ne,We,ze)=>{var Se,ne,ce;let Oe=!1;if(!We)return Oe;for(const Pe of We.suggestions)if(!U.kindFilter.has(Pe.kind)){if(!U.showDeprecated&&(!((Se=Pe==null?void 0:Pe.tags)===null||Se===void 0)&&Se.includes(1)))continue;Pe.range||(Pe.range=le),Pe.sortText||(Pe.sortText=typeof Pe.label=="string"?Pe.label:Pe.label.label),!Te&&Pe.insertTextRules&&Pe.insertTextRules&4&&(Te=o.Yj.guessNeedsClipboard(Pe.insertText)),fe.push(new g(H,Pe,We,Ne)),Oe=!0}return(0,E.Wf)(We)&&Le.add(We),pe.push({providerName:(ne=Ne._debugDisplayName)!==null&&ne!==void 0?ne:"unknown_provider",elapsedProvider:(ce=We.duration)!==null&&ce!==void 0?ce:-1,elapsedOverall:ze.elapsed()}),Oe},ae=(()=>qt(this,null,function*(){if(!C||U.kindFilter.has(27))return;const Ne=U.providerItemsToReuse.get(C);if(Ne){Ne.forEach(Se=>fe.push(Se));return}if(U.providerFilter.size>0&&!U.providerFilter.has(C))return;const We=new c.G,ze=yield C.provideCompletionItems(A,H,G,j);De(C,ze,We)}))();for(const Ne of R.orderedGroups(A)){let We=!1;if(yield Promise.all(Ne.map(ze=>qt(this,null,function*(){if(U.providerItemsToReuse.has(ze)){const Se=U.providerItemsToReuse.get(ze);Se.forEach(ne=>fe.push(ne)),We=We||Se.length>0;return}if(!(U.providerFilter.size>0&&!U.providerFilter.has(ze)))try{const Se=new c.G,ne=yield ze.provideCompletionItems(A,H,G,j);We=De(ze,ne,Se)||We}catch(Se){(0,z.Cp)(Se)}}))),We||j.isCancellationRequested)break}return yield ae,j.isCancellationRequested?(Le.dispose(),Promise.reject(new z.FU)):new O(fe.sort(P(U.snippetSortOrder)),Te,{entries:pe,elapsed:J.elapsed()},Le)})}function F(R,A){if(R.sortTextLow&&A.sortTextLow){if(R.sortTextLow<A.sortTextLow)return-1;if(R.sortTextLow>A.sortTextLow)return 1}return R.textLabel<A.textLabel?-1:R.textLabel>A.textLabel?1:R.completion.kind-A.completion.kind}function B(R,A){if(R.completion.kind!==A.completion.kind){if(R.completion.kind===27)return-1;if(A.completion.kind===27)return 1}return F(R,A)}function $(R,A){if(R.completion.kind!==A.completion.kind){if(R.completion.kind===27)return 1;if(A.completion.kind===27)return-1}return F(R,A)}const Y=new Map;Y.set(0,B),Y.set(2,$),Y.set(1,F);function P(R){return Y.get(R)}i.P.registerCommand("_executeCompletionItemProvider",(R,...A)=>qt(this,null,function*(){const[H,U,G,j]=A;(0,_.p_)(I.o.isUri(H)),(0,_.p_)(M.L.isIPosition(U)),(0,_.p_)(typeof G=="string"||!G),(0,_.p_)(typeof j=="number"||!j);const{completionProvider:W}=R.get(f.p),K=yield R.get(p.S).createModelReference(H);try{const m={incomplete:!1,suggestions:[]},J=[],X=K.object.textEditorModel.validatePosition(U),ie=yield T(W,K.object.textEditorModel,X,void 0,{triggerCharacter:G!=null?G:void 0,triggerKind:G?1:0});for(const le of ie.items)J.length<(j!=null?j:0)&&J.push(le.resolve(b.T.None)),m.incomplete=m.incomplete||le.container.incomplete,m.suggestions.push(le.completion);try{return yield Promise.all(J),m}finally{setTimeout(()=>ie.disposable.dispose(),100)}}finally{K.dispose()}}));function w(R,A){var H;(H=R.getContribution("editor.contrib.suggestController"))===null||H===void 0||H.triggerSuggest(new Set().add(A),void 0,!0)}class V{static isAllOff(A){return A.other==="off"&&A.comments==="off"&&A.strings==="off"}static isAllOn(A){return A.other==="on"&&A.comments==="on"&&A.strings==="on"}static valueFor(A,H){switch(H){case 1:return A.comments;case 2:return A.strings;default:return A.other}}}},22704:function(Pt,Ke,e){"use strict";e.d(Ke,{n:function(){return Zt}});var b=e(35996),z=e(9488),r=e(71050),E=e(17301),c=e(4669),_=e(8313),I=e(5976),M=e(1432),D=e(84013),p=e(98401),o=e(43407),d=e(16830),u=e(69386),i=e(50187),n=e(24314),f=e(29102),v=e(98762),a=e(35084),S=e(80378),g=e(32064),y=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},C=function(de,re){return function(Ce,we){re(Ce,we,de)}},L;let O=L=class{constructor(re,Ce){this._editor=re,this._enabled=!1,this._ckAtEnd=L.AtEnd.bindTo(Ce),this._configListener=this._editor.onDidChangeConfiguration(we=>we.hasChanged(122)&&this._update()),this._update()}dispose(){var re;this._configListener.dispose(),(re=this._selectionListener)===null||re===void 0||re.dispose(),this._ckAtEnd.reset()}_update(){const re=this._editor.getOption(122)==="on";if(this._enabled!==re)if(this._enabled=re,this._enabled){const Ce=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const we=this._editor.getModel(),be=this._editor.getSelection(),ke=we.getWordAtPosition(be.getStartPosition());if(!ke){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(ke.endColumn===be.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Ce),Ce()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};O.AtEnd=new g.uy("atEndOfWord",!1),O=L=y([C(1,g.i6)],O);var T=e(63580),F=e(94565),B=e(72065),$=e(43557),Y=e(55621),P=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},w=function(de,re){return function(Ce,we){re(Ce,we,de)}},V;let R=V=class{constructor(re,Ce){this._editor=re,this._index=0,this._ckOtherSuggestions=V.OtherSuggestions.bindTo(Ce)}dispose(){this.reset()}reset(){var re;this._ckOtherSuggestions.reset(),(re=this._listener)===null||re===void 0||re.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:re,index:Ce},we){if(re.items.length===0){this.reset();return}if(V._moveIndex(!0,re,Ce)===Ce){this.reset();return}this._acceptNext=we,this._model=re,this._index=Ce,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(re,Ce,we){let be=we;for(let ke=Ce.items.length;ke>0&&(be=(be+Ce.items.length+(re?1:-1))%Ce.items.length,!(be===we||!Ce.items[be].completion.additionalTextEdits));ke--);return be}next(){this._move(!0)}prev(){this._move(!1)}_move(re){if(this._model)try{this._ignore=!0,this._index=V._moveIndex(re,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};R.OtherSuggestions=new g.uy("hasOtherSuggestions",!1),R=V=P([w(1,g.i6)],R);var A=e(44906);class H{constructor(re,Ce,we,be){this._disposables=new I.SL,this._disposables.add(we.onDidSuggest(ke=>{ke.completionModel.items.length===0&&this.reset()})),this._disposables.add(we.onDidCancel(ke=>{this.reset()})),this._disposables.add(Ce.onDidShow(()=>this._onItem(Ce.getFocusedItem()))),this._disposables.add(Ce.onDidFocus(this._onItem,this)),this._disposables.add(Ce.onDidHide(this.reset,this)),this._disposables.add(re.onWillType(ke=>{if(this._active&&!Ce.isFrozen()&&we.state!==0){const He=ke.charCodeAt(ke.length-1);this._active.acceptCharacters.has(He)&&re.getOption(0)&&be(this._active.item)}}))}_onItem(re){if(!re||!(0,z.Of)(re.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===re.item)return;const Ce=new A.q;for(const we of re.item.completion.commitCharacters)we.length>0&&Ce.add(we.charCodeAt(0));this._active={acceptCharacters:Ce,item:re}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var U=e(15393),G=e(97295),j=e(3860),W=e(85215),K=e(24477),m=e(84972),J=e(33108),X=e(10829),ie=e(74961),le=e(71922),fe=e(60075),Le=e(78573),pe=e(48814),Te=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},De=function(de,re){return function(Ce,we){re(Ce,we,de)}},ae;class Ne{static shouldAutoTrigger(re){if(!re.hasModel())return!1;const Ce=re.getModel(),we=re.getPosition();Ce.tokenization.tokenizeIfCheap(we.lineNumber);const be=Ce.getWordAtPosition(we);return!(!be||be.endColumn!==we.column&&be.startColumn+1!==we.column||!isNaN(Number(be.word)))}constructor(re,Ce,we){this.leadingLineContent=re.getLineContent(Ce.lineNumber).substr(0,Ce.column-1),this.leadingWord=re.getWordUntilPosition(Ce),this.lineNumber=Ce.lineNumber,this.column=Ce.column,this.triggerOptions=we}}function We(de,re,Ce){if(!re.getContextKeyValue(Le.f.inlineSuggestionVisible.key))return!0;const we=re.getContextKeyValue(Le.f.suppressSuggestions.key);return we!==void 0?!we:!de.getOption(62).suppressSuggestions}function ze(de,re,Ce){if(!re.getContextKeyValue("inlineSuggestionVisible"))return!0;const we=re.getContextKeyValue(Le.f.suppressSuggestions.key);return we!==void 0?!we:!de.getOption(62).suppressSuggestions}let Se=ae=class{constructor(re,Ce,we,be,ke,He,Ye,ut,$t){this._editor=re,this._editorWorkerService=Ce,this._clipboardService=we,this._telemetryService=be,this._logService=ke,this._contextKeyService=He,this._configurationService=Ye,this._languageFeaturesService=ut,this._envService=$t,this._toDispose=new I.SL,this._triggerCharacterListener=new I.SL,this._triggerQuickSuggest=new U._F,this._triggerState=void 0,this._completionDisposables=new I.SL,this._onDidCancel=new c.Q5,this._onDidTrigger=new c.Q5,this._onDidSuggest=new c.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new j.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let gi=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{gi=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{gi=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(ci=>{gi||this._onCursorChange(ci)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!gi&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,I.B9)(this._triggerCharacterListener),(0,I.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const re=new Map;for(const we of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const be of we.triggerCharacters||[]){let ke=re.get(be);ke||(ke=new Set,ke.add((0,Y.ZJ)()),re.set(be,ke)),ke.add(we)}const Ce=we=>{var be;if(!ze(this._editor,this._contextKeyService,this._configurationService)||Ne.shouldAutoTrigger(this._editor))return;if(!we){const Ye=this._editor.getPosition();we=this._editor.getModel().getLineContent(Ye.lineNumber).substr(0,Ye.column-1)}let ke="";(0,G.YK)(we.charCodeAt(we.length-1))?(0,G.ZG)(we.charCodeAt(we.length-2))&&(ke=we.substr(we.length-2)):ke=we.charAt(we.length-1);const He=re.get(ke);if(He){const Ye=new Map;if(this._completionModel)for(const[ut,$t]of this._completionModel.getItemsByProvider())He.has(ut)||Ye.set(ut,$t);this.trigger({auto:!0,triggerKind:1,triggerCharacter:ke,retrigger:!!this._completionModel,clipboardText:(be=this._completionModel)===null||be===void 0?void 0:be.clipboardText,completionOptions:{providerFilter:He,providerItemsToReuse:Ye}})}};this._triggerCharacterListener.add(this._editor.onDidType(Ce)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Ce()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(re=!1){var Ce;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(Ce=this._requestToken)===null||Ce===void 0||Ce.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:re}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(re){if(!this._editor.hasModel())return;const Ce=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!re.selection.isEmpty()||re.reason!==0&&re.reason!==3||re.source!=="keyboard"&&re.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&re.reason===0?(Ce.containsRange(this._currentSelection)||Ce.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&re.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var re;Y.tG.isAllOff(this._editor.getOption(88))||this._editor.getOption(117).snippetsPreventQuickSuggestions&&(!((re=v.f.get(this._editor))===null||re===void 0)&&re.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Ne.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Ce=this._editor.getModel(),we=this._editor.getPosition(),be=this._editor.getOption(88);if(!Y.tG.isAllOff(be)){if(!Y.tG.isAllOn(be)){Ce.tokenization.tokenizeIfCheap(we.lineNumber);const ke=Ce.tokenization.getLineTokens(we.lineNumber),He=ke.getStandardTokenType(ke.findTokenIndexAtOffset(Math.max(we.column-1-1,0)));if(Y.tG.valueFor(be,He)!=="on")return}We(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(Ce)&&this.trigger({auto:!0})}},this._editor.getOption(89)))}_refilterCompletionItems(){(0,p.p_)(this._editor.hasModel()),(0,p.p_)(this._triggerState!==void 0);const re=this._editor.getModel(),Ce=this._editor.getPosition(),we=new Ne(re,Ce,Ln(Xi({},this._triggerState),{refilter:!0}));this._onNewContext(we)}trigger(re){var Ce,we,be,ke,He,Ye;if(!this._editor.hasModel())return;const ut=this._editor.getModel(),$t=new Ne(ut,this._editor.getPosition(),re);this.cancel(re.retrigger),this._triggerState=re,this._onDidTrigger.fire({auto:re.auto,shy:(Ce=re.shy)!==null&&Ce!==void 0?Ce:!1,position:this._editor.getPosition()}),this._context=$t;let gi={triggerKind:(we=re.triggerKind)!==null&&we!==void 0?we:0};re.triggerCharacter&&(gi={triggerKind:1,triggerCharacter:re.triggerCharacter}),this._requestToken=new r.A;const ci=this._editor.getOption(111);let ai=1;switch(ci){case"top":ai=0;break;case"bottom":ai=2;break}const{itemKind:ct,showDeprecated:Nt}=ae._createSuggestFilter(this._editor),Et=new Y.A9(ai,(ke=(be=re.completionOptions)===null||be===void 0?void 0:be.kindFilter)!==null&&ke!==void 0?ke:ct,(He=re.completionOptions)===null||He===void 0?void 0:He.providerFilter,(Ye=re.completionOptions)===null||Ye===void 0?void 0:Ye.providerItemsToReuse,Nt),It=K.K.create(this._editorWorkerService,this._editor),Gt=(0,Y.kL)(this._languageFeaturesService.completionProvider,ut,this._editor.getPosition(),Et,gi,this._requestToken.token);Promise.all([Gt,It]).then(ui=>qt(this,[ui],function*([zt,mi]){var Ti;if((Ti=this._requestToken)===null||Ti===void 0||Ti.dispose(),!this._editor.hasModel())return;let Ri=re==null?void 0:re.clipboardText;if(!Ri&&zt.needsClipboard&&(Ri=yield this._clipboardService.readText()),this._triggerState===void 0)return;const tn=this._editor.getModel(),gn=new Ne(tn,this._editor.getPosition(),re),wn=Ln(Xi({},fe.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly});if(this._completionModel=new ie._(zt.items,this._context.column,{leadingLineContent:gn.leadingLineContent,characterCountDelta:gn.column-this._context.column},mi,this._editor.getOption(117),this._editor.getOption(111),wn,Ri),this._completionDisposables.add(zt.disposable),this._onNewContext(gn),this._reportDurationsTelemetry(zt.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const An of zt.items)An.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${An.provider._debugDisplayName}`,An.completion)})).catch(E.dL)}_reportDurationsTelemetry(re){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(re)}),this._logService.debug("suggest.durations.json",re)})}static _createSuggestFilter(re){const Ce=new Set;re.getOption(111)==="none"&&Ce.add(27);const be=re.getOption(117);return be.showMethods||Ce.add(0),be.showFunctions||Ce.add(1),be.showConstructors||Ce.add(2),be.showFields||Ce.add(3),be.showVariables||Ce.add(4),be.showClasses||Ce.add(5),be.showStructs||Ce.add(6),be.showInterfaces||Ce.add(7),be.showModules||Ce.add(8),be.showProperties||Ce.add(9),be.showEvents||Ce.add(10),be.showOperators||Ce.add(11),be.showUnits||Ce.add(12),be.showValues||Ce.add(13),be.showConstants||Ce.add(14),be.showEnums||Ce.add(15),be.showEnumMembers||Ce.add(16),be.showKeywords||Ce.add(17),be.showWords||Ce.add(18),be.showColors||Ce.add(19),be.showFiles||Ce.add(20),be.showReferences||Ce.add(21),be.showColors||Ce.add(22),be.showFolders||Ce.add(23),be.showTypeParameters||Ce.add(24),be.showSnippets||Ce.add(27),be.showUsers||Ce.add(25),be.showIssues||Ce.add(26),{itemKind:Ce,showDeprecated:be.showDeprecated}}_onNewContext(re){if(this._context){if(re.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,G.V8)(re.leadingLineContent)!==(0,G.V8)(this._context.leadingLineContent)){this.cancel();return}if(re.column<this._context.column){re.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(re.leadingWord.word.length!==0&&re.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Ne.shouldAutoTrigger(this._editor)&&this._context){const we=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:we}})}return}if(re.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&re.leadingWord.word.length!==0){const Ce=new Map,we=new Set;for(const[be,ke]of this._completionModel.getItemsByProvider())ke.length>0&&ke[0].container.incomplete?we.add(be):Ce.set(be,ke);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:we,providerItemsToReuse:Ce}})}else{const Ce=this._completionModel.lineContext;let we=!1;if(this._completionModel.lineContext={leadingLineContent:re.leadingLineContent,characterCountDelta:re.column-this._context.column},this._completionModel.items.length===0){const be=Ne.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(be&&this._context.leadingWord.endColumn<re.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=Ce,we=this._completionModel.items.length>0,we&&re.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:re.triggerOptions,isFrozen:we})}}}}};Se=ae=Te([De(1,W.p),De(2,m.p),De(3,X.b),De(4,$.VZ),De(5,g.i6),De(6,J.Ui),De(7,le.p),De(8,pe.Y)],Se);class ne{constructor(re,Ce){this._disposables=new I.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(re.onWillType(()=>{if(this._locked||!re.hasModel())return;const we=re.getSelections(),be=we.length;let ke=!1;for(let Ye=0;Ye<be;Ye++)if(!we[Ye].isEmpty()){ke=!0;break}if(!ke){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const He=re.getModel();for(let Ye=0;Ye<be;Ye++){const ut=we[Ye];if(He.getValueLengthInRange(ut)>ne._maxSelectionLength)return;this._lastOvertyped[Ye]={value:He.getValueInRange(ut),multiline:ut.startLineNumber!==ut.endLineNumber}}})),this._disposables.add(Ce.onDidTrigger(we=>{this._locked=!0})),this._disposables.add(Ce.onDidCancel(we=>{this._locked=!1}))}getLastOvertypedInfo(re){if(re>=0&&re<this._lastOvertyped.length)return this._lastOvertyped[re]}dispose(){this._disposables.dispose()}}ne._maxSelectionLength=51200;var ce=e(65321),Oe=e(15375),Pe=e(69047),Me=e(59870),ye=e(84527),_e=e(90317),se=e(80677),ve=e(84144),xe=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},je=function(de,re){return function(Ce,we){re(Ce,we,de)}};class Ae extends se.Mm{updateLabel(){const re=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!re)return super.updateLabel();this.label&&(this.label.textContent=(0,T.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Ae.symbolPrintEnter(re)))}static symbolPrintEnter(re){var Ce;return(Ce=re.getLabel())===null||Ce===void 0?void 0:Ce.replace(/\benter\b/gi,"\u23CE")}}let Qe=class{constructor(re,Ce,we,be,ke){this._menuId=Ce,this._menuService=be,this._contextKeyService=ke,this._menuDisposables=new I.SL,this.element=ce.R3(re,ce.$(".suggest-status-bar"));const He=Ye=>Ye instanceof ve.U8?we.createInstance(Ae,Ye,void 0):void 0;this._leftActions=new _e.o(this.element,{actionViewItemProvider:He}),this._rightActions=new _e.o(this.element,{actionViewItemProvider:He}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const re=this._menuService.createMenu(this._menuId,this._contextKeyService),Ce=()=>{const we=[],be=[];for(const[ke,He]of re.getActions())ke==="left"?we.push(...He):be.push(...He);this._leftActions.clear(),this._leftActions.push(we),this._rightActions.clear(),this._rightActions.push(be)};this._menuDisposables.add(re.onDidChange(()=>Ce())),this._menuDisposables.add(re)}hide(){this._menuDisposables.clear()}};Qe=xe([je(2,B.TG),je(3,ve.co),je(4,g.i6)],Qe);var rt=e(34066),Dt=e(87060),at=e(73910),vt=e(92321),Mt=e(97781),ti=e(17735),Ft=e(59740),ei=e(73046),Xt=e(25670),Ct=e(59365),ft=e(33772),Bt=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},kt=function(de,re){return function(Ce,we){re(Ce,we,de)}};function Ge(de){return!!de&&!!(de.completion.documentation||de.completion.detail&&de.completion.detail!==de.completion.label)}let St=class{constructor(re,Ce){this._editor=re,this._onDidClose=new c.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new c.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new I.SL,this._renderDisposeable=new I.SL,this._borderWidth=1,this._size=new ce.Ro(330,0),this.domNode=ce.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Ce.createInstance(ft.$,{editor:re}),this._body=ce.$(".body"),this._scrollbar=new Ft.s$(this._body,{alwaysConsumeMouseWheel:!0}),ce.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ce.R3(this._body,ce.$(".header")),this._close=ce.R3(this._header,ce.$("span"+Xt.k.asCSSSelector(ei.l.close))),this._close.title=T.NC("details.close","Close"),this._type=ce.R3(this._header,ce.$("p.type")),this._docs=ce.R3(this._body,ce.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(we=>{we.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const re=this._editor.getOptions(),Ce=re.get(50),we=Ce.getMassagedFontFamily(),be=re.get(118)||Ce.fontSize,ke=re.get(119)||Ce.lineHeight,He=Ce.fontWeight,Ye=`${be}px`,ut=`${ke}px`;this.domNode.style.fontSize=Ye,this.domNode.style.lineHeight=`${ke/be}`,this.domNode.style.fontWeight=He,this.domNode.style.fontFeatureSettings=Ce.fontFeatureSettings,this._type.style.fontFamily=we,this._close.style.height=ut,this._close.style.width=ut}getLayoutInfo(){const re=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,Ce=this._borderWidth,we=Ce*2;return{lineHeight:re,borderWidth:Ce,borderHeight:we,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=T.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(re,Ce){var we,be;this._renderDisposeable.clear();let{detail:ke,documentation:He}=re.completion;if(Ce){let Ye="";Ye+=`score: ${re.score[0]}
`,Ye+=`prefix: ${(we=re.word)!==null&&we!==void 0?we:"(no prefix)"}
`,Ye+=`word: ${re.completion.filterText?re.completion.filterText+" (filterText)":re.textLabel}
`,Ye+=`distance: ${re.distance} (localityBonus-setting)
`,Ye+=`index: ${re.idx}, based on ${re.completion.sortText&&`sortText: "${re.completion.sortText}"`||"label"}
`,Ye+=`commit_chars: ${(be=re.completion.commitCharacters)===null||be===void 0?void 0:be.join("")}
`,He=new Ct.W5().appendCodeblock("empty",Ye),ke=`Provider: ${re.provider._debugDisplayName}`}if(!Ce&&!Ge(re)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),ke){const Ye=ke.length>1e5?`${ke.substr(0,1e5)}\u2026`:ke;this._type.textContent=Ye,this._type.title=Ye,ce.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(Ye))}else ce.PO(this._type),this._type.title="",ce.Cp(this._type),this.domNode.classList.add("no-type");if(ce.PO(this._docs),typeof He=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=He;else if(He){this._docs.classList.add("markdown-docs"),ce.PO(this._docs);const Ye=this._markdownRenderer.render(He);this._docs.appendChild(Ye.element),this._renderDisposeable.add(Ye),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Ye=>{Ye.preventDefault(),Ye.stopPropagation()},this._close.onclick=Ye=>{Ye.preventDefault(),Ye.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(re,Ce){const we=new ce.Ro(re,Ce);ce.Ro.equals(we,this._size)||(this._size=we,ce.dp(this.domNode,re,Ce)),this._scrollbar.scanDomNode()}scrollDown(re=8){this._body.scrollTop+=re}scrollUp(re=8){this._body.scrollTop-=re}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(re){this._borderWidth=re}get borderWidth(){return this._borderWidth}};St=Bt([kt(1,B.TG)],St);class Ci{constructor(re,Ce){this.widget=re,this._editor=Ce,this._disposables=new I.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new ti.f,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(re.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let we,be,ke=0,He=0;this._disposables.add(this._resizable.onDidWillResize(()=>{we=this._topLeft,be=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Ye=>{if(we&&be){this.widget.layout(Ye.dimension.width,Ye.dimension.height);let ut=!1;Ye.west&&(He=be.width-Ye.dimension.width,ut=!0),Ye.north&&(ke=be.height-Ye.dimension.height,ut=!0),ut&&this._applyTopLeft({top:we.top+ke,left:we.left+He})}Ye.done&&(we=void 0,be=void 0,ke=0,He=0,this._userSize=Ye.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Ye;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(Ye=this._userSize)!==null&&Ye!==void 0?Ye:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(re=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),re&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(re,Ce){var we;const be=re.getBoundingClientRect();this._anchorBox=be,this._preferAlignAtTop=Ce,this._placeAtAnchor(this._anchorBox,(we=this._userSize)!==null&&we!==void 0?we:this.widget.size,Ce)}_placeAtAnchor(re,Ce,we){var be;const ke=ce.D6(this.getDomNode().ownerDocument.body),He=this.widget.getLayoutInfo(),Ye=new ce.Ro(220,2*He.lineHeight),ut=re.top,$t=function(){const mi=ke.width-(re.left+re.width+He.borderWidth+He.horizontalPadding),ui=-He.borderWidth+re.left+re.width,Ti=new ce.Ro(mi,ke.height-re.top-He.borderHeight-He.verticalPadding),Ri=Ti.with(void 0,re.top+re.height-He.borderHeight-He.verticalPadding);return{top:ut,left:ui,fit:mi-Ce.width,maxSizeTop:Ti,maxSizeBottom:Ri,minSize:Ye.with(Math.min(mi,Ye.width))}}(),gi=function(){const mi=re.left-He.borderWidth-He.horizontalPadding,ui=Math.max(He.horizontalPadding,re.left-Ce.width-He.borderWidth),Ti=new ce.Ro(mi,ke.height-re.top-He.borderHeight-He.verticalPadding),Ri=Ti.with(void 0,re.top+re.height-He.borderHeight-He.verticalPadding);return{top:ut,left:ui,fit:mi-Ce.width,maxSizeTop:Ti,maxSizeBottom:Ri,minSize:Ye.with(Math.min(mi,Ye.width))}}(),ci=function(){const mi=re.left,ui=-He.borderWidth+re.top+re.height,Ti=new ce.Ro(re.width-He.borderHeight,ke.height-re.top-re.height-He.verticalPadding);return{top:ui,left:mi,fit:Ti.height-Ce.height,maxSizeBottom:Ti,maxSizeTop:Ti,minSize:Ye.with(Ti.width)}}(),ai=[$t,gi,ci],ct=(be=ai.find(mi=>mi.fit>=0))!==null&&be!==void 0?be:ai.sort((mi,ui)=>ui.fit-mi.fit)[0],Nt=re.top+re.height-He.borderHeight;let Et,It=Ce.height;const Gt=Math.max(ct.maxSizeTop.height,ct.maxSizeBottom.height);It>Gt&&(It=Gt);let zt;we?It<=ct.maxSizeTop.height?(Et=!0,zt=ct.maxSizeTop):(Et=!1,zt=ct.maxSizeBottom):It<=ct.maxSizeBottom.height?(Et=!1,zt=ct.maxSizeBottom):(Et=!0,zt=ct.maxSizeTop),this._applyTopLeft({left:ct.left,top:Et?ct.top:Nt-It}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Et,ct===$t,Et,ct!==$t),this._resizable.minSize=ct.minSize,this._resizable.maxSize=zt,this._resizable.layout(It,Math.min(zt.width,Ce.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(re){this._topLeft=re,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Oi=e(93923),xi=e(70666),Yi=e(43155),fn=e(66663),un=e(95935),Pn=e(68801),Dn;(function(de){de[de.FILE=0]="FILE",de[de.FOLDER=1]="FOLDER",de[de.ROOT_FOLDER=2]="ROOT_FOLDER"})(Dn||(Dn={}));const Gn=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Rn(de,re,Ce,we){const be=we===Dn.ROOT_FOLDER?["rootfolder-icon"]:we===Dn.FOLDER?["folder-icon"]:["file-icon"];if(Ce){let ke;if(Ce.scheme===fn.lg.data)ke=un.Vb.parseMetaData(Ce).get(un.Vb.META_DATA_LABEL);else{const He=Ce.path.match(Gn);He?(ke=ts(He[2].toLowerCase()),He[1]&&be.push(`${ts(He[1].toLowerCase())}-name-dir-icon`)):ke=ts(Ce.authority.toLowerCase())}if(we===Dn.ROOT_FOLDER)be.push(`${ke}-root-name-folder-icon`);else if(we===Dn.FOLDER)be.push(`${ke}-name-folder-icon`);else{if(ke){if(be.push(`${ke}-name-file-icon`),be.push("name-file-icon"),ke.length<=255){const Ye=ke.split(".");for(let ut=1;ut<Ye.length;ut++)be.push(`${Ye.slice(ut).join(".")}-ext-file-icon`)}be.push("ext-file-icon")}const He=ns(de,re,Ce);He&&be.push(`${ts(He)}-lang-file-icon`)}}return be}function ns(de,re,Ce){if(!Ce)return null;let we=null;if(Ce.scheme===fn.lg.data){const ke=un.Vb.parseMetaData(Ce).get(un.Vb.META_DATA_MIME);ke&&(we=re.getLanguageIdByMimeType(ke))}else{const be=de.getModel(Ce);be&&(we=be.getLanguageId())}return we&&we!==Pn.bd?we:re.guessLanguageIdByFilepathOrFirstLine(Ce)}function ts(de){return de.replace(/[\11\12\14\15\40]/g,"/")}var qn=e(73733),fs=e(72042),Nn=e(59554),cs=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},Ei=function(de,re){return function(Ce,we){re(Ce,we,de)}},et;function wt(de){return`suggest-aria-id:${de}`}const Yt=(0,Nn.q5)("suggest-more-info",ei.l.chevronRight,T.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),ri=new(et=class{extract(re,Ce){if(re.textLabel.match(et._regexStrict))return Ce[0]=re.textLabel,!0;if(re.completion.detail&&re.completion.detail.match(et._regexStrict))return Ce[0]=re.completion.detail,!0;if(typeof re.completion.documentation=="string"){const we=et._regexRelaxed.exec(re.completion.documentation);if(we&&(we.index===0||we.index+we[0].length===re.completion.documentation.length))return Ce[0]=we[0],!0}return!1}},et._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,et._regexStrict=new RegExp(`^${et._regexRelaxed.source}$`,"i"),et);let vi=class{constructor(re,Ce,we,be){this._editor=re,this._modelService=Ce,this._languageService=we,this._themeService=be,this._onDidToggleDetails=new c.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(re){const Ce=new I.SL,we=re;we.classList.add("show-file-icons");const be=(0,ce.R3)(re,(0,ce.$)(".icon")),ke=(0,ce.R3)(be,(0,ce.$)("span.colorspan")),He=(0,ce.R3)(re,(0,ce.$)(".contents")),Ye=(0,ce.R3)(He,(0,ce.$)(".main")),ut=(0,ce.R3)(Ye,(0,ce.$)(".icon-label.codicon")),$t=(0,ce.R3)(Ye,(0,ce.$)("span.left")),gi=(0,ce.R3)(Ye,(0,ce.$)("span.right")),ci=new Oi.g($t,{supportHighlights:!0,supportIcons:!0});Ce.add(ci);const ai=(0,ce.R3)($t,(0,ce.$)("span.signature-label")),ct=(0,ce.R3)($t,(0,ce.$)("span.qualifier-label")),Nt=(0,ce.R3)(gi,(0,ce.$)("span.details-label")),Et=(0,ce.R3)(gi,(0,ce.$)("span.readMore"+Xt.k.asCSSSelector(Yt)));Et.title=T.NC("readMore","Read More");const It=()=>{const Gt=this._editor.getOptions(),zt=Gt.get(50),mi=zt.getMassagedFontFamily(),ui=zt.fontFeatureSettings,Ti=Gt.get(118)||zt.fontSize,Ri=Gt.get(119)||zt.lineHeight,tn=zt.fontWeight,gn=zt.letterSpacing,wn=`${Ti}px`,An=`${Ri}px`,Bn=`${gn}px`;we.style.fontSize=wn,we.style.fontWeight=tn,we.style.letterSpacing=Bn,Ye.style.fontFamily=mi,Ye.style.fontFeatureSettings=ui,Ye.style.lineHeight=An,be.style.height=An,be.style.width=An,Et.style.height=An,Et.style.width=An};return It(),Ce.add(this._editor.onDidChangeConfiguration(Gt=>{(Gt.hasChanged(50)||Gt.hasChanged(118)||Gt.hasChanged(119))&&It()})),{root:we,left:$t,right:gi,icon:be,colorspan:ke,iconLabel:ci,iconContainer:ut,parametersLabel:ai,qualifierLabel:ct,detailsLabel:Nt,readMore:Et,disposables:Ce}}renderElement(re,Ce,we){const{completion:be}=re;we.root.id=wt(Ce),we.colorspan.style.backgroundColor="";const ke={labelEscapeNewLines:!0,matches:(0,fe.mB)(re.score)},He=[];if(be.kind===19&&ri.extract(re,He))we.icon.className="icon customcolor",we.iconContainer.className="icon hide",we.colorspan.style.backgroundColor=He[0];else if(be.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){we.icon.className="icon hide",we.iconContainer.className="icon hide";const Ye=Rn(this._modelService,this._languageService,xi.o.from({scheme:"fake",path:re.textLabel}),Dn.FILE),ut=Rn(this._modelService,this._languageService,xi.o.from({scheme:"fake",path:be.detail}),Dn.FILE);ke.extraClasses=Ye.length>ut.length?Ye:ut}else be.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(we.icon.className="icon hide",we.iconContainer.className="icon hide",ke.extraClasses=[Rn(this._modelService,this._languageService,xi.o.from({scheme:"fake",path:re.textLabel}),Dn.FOLDER),Rn(this._modelService,this._languageService,xi.o.from({scheme:"fake",path:be.detail}),Dn.FOLDER)].flat()):(we.icon.className="icon hide",we.iconContainer.className="",we.iconContainer.classList.add("suggest-icon",...Xt.k.asClassNameArray(Yi.gX.toIcon(be.kind))));be.tags&&be.tags.indexOf(1)>=0&&(ke.extraClasses=(ke.extraClasses||[]).concat(["deprecated"]),ke.matches=[]),we.iconLabel.setLabel(re.textLabel,void 0,ke),typeof be.label=="string"?(we.parametersLabel.textContent="",we.detailsLabel.textContent=Wi(be.detail||""),we.root.classList.add("string-label")):(we.parametersLabel.textContent=Wi(be.label.detail||""),we.detailsLabel.textContent=Wi(be.label.description||""),we.root.classList.remove("string-label")),this._editor.getOption(117).showInlineDetails?(0,ce.$Z)(we.detailsLabel):(0,ce.Cp)(we.detailsLabel),Ge(re)?(we.right.classList.add("can-expand-details"),(0,ce.$Z)(we.readMore),we.readMore.onmousedown=Ye=>{Ye.stopPropagation(),Ye.preventDefault()},we.readMore.onclick=Ye=>{Ye.stopPropagation(),Ye.preventDefault(),this._onDidToggleDetails.fire()}):(we.right.classList.remove("can-expand-details"),(0,ce.Cp)(we.readMore),we.readMore.onmousedown=null,we.readMore.onclick=null)}disposeTemplate(re){re.disposables.dispose()}};vi=cs([Ei(1,qn.q),Ei(2,fs.O),Ei(3,Mt.XE)],vi);function Wi(de){return de.replace(/\r\n|\r|\n/g,"")}var $i=e(86253),Ot=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},yt=function(de,re){return function(Ce,we){re(Ce,we,de)}},si;(0,at.P6G)("editorSuggestWidget.background",{dark:at.D0T,light:at.D0T,hcDark:at.D0T,hcLight:at.D0T},T.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,at.P6G)("editorSuggestWidget.border",{dark:at.D1_,light:at.D1_,hcDark:at.D1_,hcLight:at.D1_},T.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const ii=(0,at.P6G)("editorSuggestWidget.foreground",{dark:at.NOs,light:at.NOs,hcDark:at.NOs,hcLight:at.NOs},T.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,at.P6G)("editorSuggestWidget.selectedForeground",{dark:at.NPS,light:at.NPS,hcDark:at.NPS,hcLight:at.NPS},T.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,at.P6G)("editorSuggestWidget.selectedIconForeground",{dark:at.cbQ,light:at.cbQ,hcDark:at.cbQ,hcLight:at.cbQ},T.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Ui=(0,at.P6G)("editorSuggestWidget.selectedBackground",{dark:at.Vqd,light:at.Vqd,hcDark:at.Vqd,hcLight:at.Vqd},T.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,at.P6G)("editorSuggestWidget.highlightForeground",{dark:at.Gwp,light:at.Gwp,hcDark:at.Gwp,hcLight:at.Gwp},T.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,at.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:at.PX0,light:at.PX0,hcDark:at.PX0,hcLight:at.PX0},T.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,at.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,at.ZnX)(ii,.5),light:(0,at.ZnX)(ii,.5),hcDark:(0,at.ZnX)(ii,.5),hcLight:(0,at.ZnX)(ii,.5)},T.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class an{constructor(re,Ce){this._service=re,this._key=`suggestWidget.size/${Ce.getEditorType()}/${Ce instanceof ye.H}`}restore(){var re;const Ce=(re=this._service.get(this._key,0))!==null&&re!==void 0?re:"";try{const we=JSON.parse(Ce);if(ce.Ro.is(we))return ce.Ro.lift(we)}catch(we){}}store(re){this._service.store(this._key,JSON.stringify(re),0,1)}reset(){this._service.remove(this._key,0)}}let en=si=class{constructor(re,Ce,we,be,ke){this.editor=re,this._storageService=Ce,this._state=0,this._isAuto=!1,this._pendingLayout=new I.XK,this._pendingShowDetails=new I.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new U._F,this._disposables=new I.SL,this._onDidSelect=new c.K3,this._onDidFocus=new c.K3,this._onDidHide=new c.Q5,this._onDidShow=new c.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new c.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ti.f,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new In(this,re),this._persistedSize=new an(Ce,re);class He{constructor(ct,Nt,Et=!1,It=!1){this.persistedSize=ct,this.currentSize=Nt,this.persistHeight=Et,this.persistWidth=It}}let Ye;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Ye=new He(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ai=>{var ct,Nt,Et,It;if(this._resize(ai.dimension.width,ai.dimension.height),Ye&&(Ye.persistHeight=Ye.persistHeight||!!ai.north||!!ai.south,Ye.persistWidth=Ye.persistWidth||!!ai.east||!!ai.west),!!ai.done){if(Ye){const{itemHeight:Gt,defaultSize:zt}=this.getLayoutInfo(),mi=Math.round(Gt/2);let{width:ui,height:Ti}=this.element.size;(!Ye.persistHeight||Math.abs(Ye.currentSize.height-Ti)<=mi)&&(Ti=(Nt=(ct=Ye.persistedSize)===null||ct===void 0?void 0:ct.height)!==null&&Nt!==void 0?Nt:zt.height),(!Ye.persistWidth||Math.abs(Ye.currentSize.width-ui)<=mi)&&(ui=(It=(Et=Ye.persistedSize)===null||Et===void 0?void 0:Et.width)!==null&&It!==void 0?It:zt.width),this._persistedSize.store(new ce.Ro(ui,Ti))}this._contentWidget.unlockPreference(),Ye=void 0}})),this._messageElement=ce.R3(this.element.domNode,ce.$(".message")),this._listElement=ce.R3(this.element.domNode,ce.$(".tree"));const ut=this._disposables.add(ke.createInstance(St,this.editor));ut.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Ci(ut,this.editor);const $t=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);$t();const gi=ke.createInstance(vi,this.editor);this._disposables.add(gi),this._disposables.add(gi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Pe.aV("SuggestWidget",this._listElement,{getHeight:ai=>this.getLayoutInfo().itemHeight,getTemplateId:ai=>"suggestion"},[gi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>T.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ai=>{let ct=ai.textLabel;if(typeof ai.completion.label!="string"){const{detail:Gt,description:zt}=ai.completion.label;Gt&&zt?ct=T.NC("label.full","{0} {1}, {2}",ct,Gt,zt):Gt?ct=T.NC("label.detail","{0} {1}",ct,Gt):zt&&(ct=T.NC("label.desc","{0}, {1}",ct,zt))}if(!ai.isResolved||!this._isDetailsVisible())return ct;const{documentation:Nt,detail:Et}=ai.completion,It=G.WU("{0}{1}",Et||"",Nt?typeof Nt=="string"?Nt:Nt.value:"");return T.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",ct,It)}}}),this._list.style((0,$i.TU)({listInactiveFocusBackground:Ui,listInactiveFocusOutline:at.xL1})),this._status=ke.createInstance(Qe,this.element.domNode,Y.GI);const ci=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);ci(),this._disposables.add(be.onDidColorThemeChange(ai=>this._onThemeChange(ai))),this._onThemeChange(be.getColorTheme()),this._disposables.add(this._list.onMouseDown(ai=>this._onListMouseDownOrTap(ai))),this._disposables.add(this._list.onTap(ai=>this._onListMouseDownOrTap(ai))),this._disposables.add(this._list.onDidChangeSelection(ai=>this._onListSelection(ai))),this._disposables.add(this._list.onDidChangeFocus(ai=>this._onListFocus(ai))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ai=>{ai.hasChanged(117)&&(ci(),$t())})),this._ctxSuggestWidgetVisible=Y._y.Visible.bindTo(we),this._ctxSuggestWidgetDetailsVisible=Y._y.DetailsVisible.bindTo(we),this._ctxSuggestWidgetMultipleSuggestions=Y._y.MultipleSuggestions.bindTo(we),this._ctxSuggestWidgetHasFocusedSuggestion=Y._y.HasFocusedSuggestion.bindTo(we),this._disposables.add(ce.mu(this._details.widget.domNode,"keydown",ai=>{this._onDetailsKeydown.fire(ai)})),this._disposables.add(this.editor.onMouseDown(ai=>this._onEditorMouseDown(ai)))}dispose(){var re;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(re=this._loadingTimeout)===null||re===void 0||re.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(re){this._details.widget.domNode.contains(re.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(re.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(re){typeof re.element=="undefined"||typeof re.index=="undefined"||(re.browserEvent.preventDefault(),re.browserEvent.stopPropagation(),this._select(re.element,re.index))}_onListSelection(re){re.elements.length&&this._select(re.elements[0],re.indexes[0])}_select(re,Ce){const we=this._completionModel;we&&(this._onDidSelect.fire({item:re,index:Ce,model:we}),this.editor.focus())}_onThemeChange(re){this._details.widget.borderWidth=(0,vt.c3)(re.type)?2:1}_onListFocus(re){var Ce;if(this._ignoreFocusEvents)return;if(!re.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const we=re.elements[0],be=re.indexes[0];we!==this._focusedItem&&((Ce=this._currentSuggestionDetails)===null||Ce===void 0||Ce.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=we,this._list.reveal(be),this._currentSuggestionDetails=(0,U.PG)(ke=>qt(this,null,function*(){const He=(0,U.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),Ye=ke.onCancellationRequested(()=>He.dispose());try{return yield we.resolve(ke)}finally{He.dispose(),Ye.dispose()}})),this._currentSuggestionDetails.then(()=>{be>=this._list.length||we!==this._list.element(be)||(this._ignoreFocusEvents=!0,this._list.splice(be,1,[we]),this._list.setFocus([be]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:wt(be)}))}).catch(E.dL)),this._onDidFocus.fire({item:we,index:be,model:this._completionModel})}_setState(re){if(this._state!==re)switch(this._state=re,this.element.domNode.classList.toggle("frozen",re===4),this.element.domNode.classList.remove("message"),re){case 0:ce.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=si.LOADING_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,b.i7)(si.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=si.NO_SUGGESTIONS_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,b.i7)(si.NO_SUGGESTIONS_MESSAGE);break;case 3:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._show();break;case 4:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._show();break;case 5:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(re,Ce){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!re,this._isAuto||(this._loadingTimeout=(0,U.Vg)(()=>this._setState(1),Ce)))}showSuggestions(re,Ce,we,be,ke){var He,Ye;if(this._contentWidget.setPosition(this.editor.getPosition()),(He=this._loadingTimeout)===null||He===void 0||He.dispose(),(Ye=this._currentSuggestionDetails)===null||Ye===void 0||Ye.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==re&&(this._completionModel=re),we&&this._state!==2&&this._state!==0){this._setState(4);return}const ut=this._completionModel.items.length,$t=ut===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(ut>1),$t){this._setState(be?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(we?4:3),this._list.reveal(Ce,0),this._list.setFocus(ke?[]:[Ce])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=ce.lI(ce.Jj(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Ge(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(re){this._pendingShowDetails.value=ce.lI(ce.Jj(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),re?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var re;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(re=this._loadingTimeout)===null||re===void 0||re.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Ce=this._persistedSize.restore(),we=Math.ceil(this.getLayoutInfo().itemHeight*4.3);Ce&&Ce.height<we&&this._persistedSize.store(Ce.with(void 0,we))}isFrozen(){return this._state===4}_afterRender(re){if(re===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(re){var Ce,we,be;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const ke=ce.D6(this.element.domNode.ownerDocument.body),He=this.getLayoutInfo();re||(re=He.defaultSize);let Ye=re.height,ut=re.width;if(this._status.element.style.height=`${He.itemHeight}px`,this._state===2||this._state===1)Ye=He.itemHeight+He.borderHeight,ut=He.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ce.Ro(ut,Ye),this._contentWidget.setPreference(2);else{const $t=ke.width-He.borderHeight-2*He.horizontalPadding;ut>$t&&(ut=$t);const gi=this._completionModel?this._completionModel.stats.pLabelLen*He.typicalHalfwidthCharacterWidth:ut,ci=He.statusBarHeight+this._list.contentHeight+He.borderHeight,ai=He.itemHeight+He.statusBarHeight,ct=ce.i(this.editor.getDomNode()),Nt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Et=ct.top+Nt.top+Nt.height,It=Math.min(ke.height-Et-He.verticalPadding,ci),Gt=ct.top+Nt.top-He.verticalPadding,zt=Math.min(Gt,ci);let mi=Math.min(Math.max(zt,It)+He.borderHeight,ci);Ye===((Ce=this._cappedHeight)===null||Ce===void 0?void 0:Ce.capped)&&(Ye=this._cappedHeight.wanted),Ye<ai&&(Ye=ai),Ye>mi&&(Ye=mi);const ui=150;Ye>It||this._forceRenderingAbove&&Gt>ui?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),mi=zt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),mi=It),this.element.preferredSize=new ce.Ro(gi,He.defaultSize.height),this.element.maxSize=new ce.Ro($t,mi),this.element.minSize=new ce.Ro(220,ai),this._cappedHeight=Ye===ci?{wanted:(be=(we=this._cappedHeight)===null||we===void 0?void 0:we.wanted)!==null&&be!==void 0?be:re.height,capped:Ye}:void 0}this._resize(ut,Ye)}_resize(re,Ce){const{width:we,height:be}=this.element.maxSize;re=Math.min(we,re),Ce=Math.min(be,Ce);const{statusBarHeight:ke}=this.getLayoutInfo();this._list.layout(Ce-ke,re),this._listElement.style.height=`${Ce-ke}px`,this.element.layout(Ce,re),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var re;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((re=this._contentWidget.getPosition())===null||re===void 0?void 0:re.preference[0])===2)}getLayoutInfo(){const re=this.editor.getOption(50),Ce=(0,Me.uZ)(this.editor.getOption(119)||re.lineHeight,8,1e3),we=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:Ce,be=this._details.widget.borderWidth,ke=2*be;return{itemHeight:Ce,statusBarHeight:we,borderWidth:be,borderHeight:ke,typicalHalfwidthCharacterWidth:re.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ce.Ro(430,we+12*Ce+ke)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(re){this._storageService.store("expandSuggestionDocs",re,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};en.LOADING_MESSAGE=T.NC("suggestWidget.loading","Loading..."),en.NO_SUGGESTIONS_MESSAGE=T.NC("suggestWidget.noSuggestions","No suggestions."),en=si=Ot([yt(1,Dt.Uy),yt(2,g.i6),yt(3,Mt.XE),yt(4,B.TG)],en);class In{constructor(re,Ce){this._widget=re,this._editor=Ce,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:re,width:Ce}=this._widget.element.size,{borderWidth:we,horizontalPadding:be}=this._widget.getLayoutInfo();return new ce.Ro(Ce+2*we+be,re+2*we)}afterRender(re){this._widget._afterRender(re)}setPreference(re){this._preferenceLocked||(this._preference=re)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(re){this._position=re}}var Fn=e(89954),On=function(de,re,Ce,we){var be=arguments.length,ke=be<3?re:we===null?we=Object.getOwnPropertyDescriptor(re,Ce):we,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(de,re,Ce,we);else for(var Ye=de.length-1;Ye>=0;Ye--)(He=de[Ye])&&(ke=(be<3?He(ke):be>3?He(re,Ce,ke):He(re,Ce))||ke);return be>3&&ke&&Object.defineProperty(re,Ce,ke),ke},Mi=function(de,re){return function(Ce,we){re(Ce,we,de)}},_i;const Ii=!1;class Ht{constructor(re,Ce){if(this._model=re,this._position=Ce,re.getLineMaxColumn(Ce.lineNumber)!==Ce.column){const be=re.getOffsetAt(Ce),ke=re.getPositionAt(be+1);this._marker=re.deltaDecorations([],[{range:n.e.fromPositions(Ce,ke),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(re){if(this._model.isDisposed()||this._position.lineNumber!==re.lineNumber)return 0;if(this._marker){const Ce=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Ce.getStartPosition())-this._model.getOffsetAt(re)}else return this._model.getLineMaxColumn(re.lineNumber)-re.column}}let Zt=_i=class{static get(re){return re.getContribution(_i.ID)}constructor(re,Ce,we,be,ke,He,Ye){this._memoryService=Ce,this._commandService=we,this._contextKeyService=be,this._instantiationService=ke,this._logService=He,this._telemetryService=Ye,this._lineSuffix=new I.XK,this._toDispose=new I.SL,this._selectors=new hi(ci=>ci.priority),this._onWillInsertSuggestItem=new c.Q5,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=re,this.model=ke.createInstance(Se,this.editor),this._selectors.register({priority:0,select:(ci,ai,ct)=>this._memoryService.select(ci,ai,ct)});const ut=Y._y.InsertMode.bindTo(be);ut.set(re.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ut.set(re.getOption(117).insertMode))),this.widget=this._toDispose.add(new ce.vx((0,ce.Jj)(re.getDomNode()),()=>{const ci=this._instantiationService.createInstance(en,this.editor);this._toDispose.add(ci),this._toDispose.add(ci.onDidSelect(It=>this._insertSuggestion(It,0),this));const ai=new H(this.editor,ci,this.model,It=>this._insertSuggestion(It,2));this._toDispose.add(ai);const ct=Y._y.MakesTextEdit.bindTo(this._contextKeyService),Nt=Y._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Et=Y._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,I.OF)(()=>{ct.reset(),Nt.reset(),Et.reset()})),this._toDispose.add(ci.onDidFocus(({item:It})=>{const Gt=this.editor.getPosition(),zt=It.editStart.column,mi=Gt.column;let ui=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!It.completion.additionalTextEdits&&!(It.completion.insertTextRules&4)&&mi-zt===It.completion.insertText.length&&(ui=this.editor.getModel().getValueInRange({startLineNumber:Gt.lineNumber,startColumn:zt,endLineNumber:Gt.lineNumber,endColumn:mi})!==It.completion.insertText),ct.set(ui),Nt.set(!i.L.equals(It.editInsertEnd,It.editReplaceEnd)),Et.set(!!It.provider.resolveCompletionItem||!!It.completion.documentation||It.completion.detail!==It.completion.label)})),this._toDispose.add(ci.onDetailsKeyDown(It=>{if(It.toKeyCodeChord().equals(new _.$M(!0,!1,!1,!1,33))||M.dz&&It.toKeyCodeChord().equals(new _.$M(!1,!1,!1,!0,33))){It.stopPropagation();return}It.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ci})),this._overtypingCapturer=this._toDispose.add(new ce.vx((0,ce.Jj)(re.getDomNode()),()=>this._toDispose.add(new ne(this.editor,this.model)))),this._alternatives=this._toDispose.add(new ce.vx((0,ce.Jj)(re.getDomNode()),()=>this._toDispose.add(new R(this.editor,this._contextKeyService)))),this._toDispose.add(ke.createInstance(O,re)),this._toDispose.add(this.model.onDidTrigger(ci=>{this.widget.value.showTriggered(ci.auto,ci.shy?250:50),this._lineSuffix.value=new Ht(this.editor.getModel(),ci.position)})),this._toDispose.add(this.model.onDidSuggest(ci=>{if(ci.triggerOptions.shy)return;let ai=-1;for(const Nt of this._selectors.itemsOrderedByPriorityDesc)if(ai=Nt.select(this.editor.getModel(),this.editor.getPosition(),ci.completionModel.items),ai!==-1)break;ai===-1&&(ai=0);let ct=!1;if(ci.triggerOptions.auto){const Nt=this.editor.getOption(117);Nt.selectionMode==="never"||Nt.selectionMode==="always"?ct=Nt.selectionMode==="never":Nt.selectionMode==="whenTriggerCharacter"?ct=ci.triggerOptions.triggerKind!==1:Nt.selectionMode==="whenQuickSuggestion"&&(ct=ci.triggerOptions.triggerKind===1&&!ci.triggerOptions.refilter)}this.widget.value.showSuggestions(ci.completionModel,ai,ci.isFrozen,ci.triggerOptions.auto,ct)})),this._toDispose.add(this.model.onDidCancel(ci=>{ci.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Ii||(this.model.cancel(),this.model.clear())}));const $t=Y._y.AcceptSuggestionsOnEnter.bindTo(be),gi=()=>{const ci=this.editor.getOption(1);$t.set(ci==="on"||ci==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>gi())),gi()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(re,Ce){if(!re||!re.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const we=v.f.get(this.editor);if(!we)return;this._onWillInsertSuggestItem.fire({item:re.item});const be=this.editor.getModel(),ke=be.getAlternativeVersionId(),{item:He}=re,Ye=[],ut=new r.A;Ce&1||this.editor.pushUndoStop();const $t=this.getOverwriteInfo(He,!!(Ce&8));this._memoryService.memorize(be,this.editor.getPosition(),He);const gi=He.isResolved;let ci=-1,ai=-1;if(Array.isArray(He.completion.additionalTextEdits)){this.model.cancel();const Nt=o.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",He.completion.additionalTextEdits.map(Et=>u.h.replaceMove(n.e.lift(Et.range),Et.text))),Nt.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!gi){const Nt=new D.G;let Et;const It=be.onDidChangeContent(ui=>{if(ui.isFlush){ut.cancel(),It.dispose();return}for(const Ti of ui.changes){const Ri=n.e.getEndPosition(Ti.range);(!Et||i.L.isBefore(Ri,Et))&&(Et=Ri)}}),Gt=Ce;Ce|=2;let zt=!1;const mi=this.editor.onWillType(()=>{mi.dispose(),zt=!0,Gt&2||this.editor.pushUndoStop()});Ye.push(He.resolve(ut.token).then(()=>{if(!He.completion.additionalTextEdits||ut.token.isCancellationRequested)return;if(Et&&He.completion.additionalTextEdits.some(Ti=>i.L.isBefore(Et,n.e.getStartPosition(Ti.range))))return!1;zt&&this.editor.pushUndoStop();const ui=o.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",He.completion.additionalTextEdits.map(Ti=>u.h.replaceMove(n.e.lift(Ti.range),Ti.text))),ui.restoreRelativeVerticalPositionOfCursor(this.editor),(zt||!(Gt&2))&&this.editor.pushUndoStop(),!0}).then(ui=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Nt.elapsed(),ui),ai=ui===!0?1:ui===!1?0:-2}).finally(()=>{It.dispose(),mi.dispose()}))}let{insertText:ct}=He.completion;if(He.completion.insertTextRules&4||(ct=a.Yj.escape(ct)),this.model.cancel(),we.insert(ct,{overwriteBefore:$t.overwriteBefore,overwriteAfter:$t.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(He.completion.insertTextRules&1),clipboardText:re.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Ce&2||this.editor.pushUndoStop(),He.completion.command)if(He.completion.command.id===Wt.id)this.model.trigger({auto:!0,retrigger:!0});else{const Nt=new D.G;Ye.push(this._commandService.executeCommand(He.completion.command.id,...He.completion.command.arguments?[...He.completion.command.arguments]:[]).catch(Et=>{He.completion.extensionId?(0,E.Cp)(Et):(0,E.dL)(Et)}).finally(()=>{ci=Nt.elapsed()}))}Ce&4&&this._alternatives.value.set(re,Nt=>{for(ut.cancel();be.canUndo();){ke!==be.getAlternativeVersionId()&&be.undo(),this._insertSuggestion(Nt,3|(Ce&8?8:0));break}}),this._alertCompletionItem(He),Promise.all(Ye).finally(()=>{this._reportSuggestionAcceptedTelemetry(He,be,gi,ci,ai),this.model.clear(),ut.dispose()})}_reportSuggestionAcceptedTelemetry(re,Ce,we,be,ke){var He,Ye,ut;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(Ye=(He=re.extensionId)===null||He===void 0?void 0:He.value)!==null&&Ye!==void 0?Ye:"unknown",providerId:(ut=re.provider._debugDisplayName)!==null&&ut!==void 0?ut:"unknown",kind:re.completion.kind,basenameHash:(0,Fn.vp)((0,un.EZ)(Ce.uri)).toString(16),languageId:Ce.getLanguageId(),fileExtension:(0,un.DZ)(Ce.uri),resolveInfo:re.provider.resolveCompletionItem?we?1:0:-1,resolveDuration:re.resolveDuration,commandDuration:be,additionalEditsAsync:ke})}getOverwriteInfo(re,Ce){(0,p.p_)(this.editor.hasModel());let we=this.editor.getOption(117).insertMode==="replace";Ce&&(we=!we);const be=re.position.column-re.editStart.column,ke=(we?re.editReplaceEnd.column:re.editInsertEnd.column)-re.position.column,He=this.editor.getPosition().column-re.position.column,Ye=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:be+He,overwriteAfter:ke+Ye}}_alertCompletionItem(re){if((0,z.Of)(re.completion.additionalTextEdits)){const Ce=T.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",re.textLabel,re.completion.additionalTextEdits.length);(0,b.Z9)(Ce)}}triggerSuggest(re,Ce,we){this.editor.hasModel()&&(this.model.trigger({auto:Ce!=null?Ce:!1,completionOptions:{providerFilter:re,kindFilter:we?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(re){if(!this.editor.hasModel())return;const Ce=this.editor.getPosition(),we=()=>{Ce.equals(this.editor.getPosition())&&this._commandService.executeCommand(re.fallback)},be=ke=>{if(ke.completion.insertTextRules&4||ke.completion.additionalTextEdits)return!0;const He=this.editor.getPosition(),Ye=ke.editStart.column,ut=He.column;return ut-Ye!==ke.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:He.lineNumber,startColumn:Ye,endLineNumber:He.lineNumber,endColumn:ut})!==ke.completion.insertText};c.ju.once(this.model.onDidTrigger)(ke=>{const He=[];c.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,I.B9)(He),we()},void 0,He),this.model.onDidSuggest(({completionModel:Ye})=>{if((0,I.B9)(He),Ye.items.length===0){we();return}const ut=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Ye.items),$t=Ye.items[ut];if(!be($t)){we();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ut,item:$t,model:Ye},7)},void 0,He)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Ce,0),this.editor.focus()}acceptSelectedSuggestion(re,Ce){const we=this.widget.value.getFocusedItem();let be=0;re&&(be|=4),Ce&&(be|=8),this._insertSuggestion(we,be)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(re){return this._selectors.register(re)}};Zt.ID="editor.contrib.suggestController",Zt=_i=On([Mi(1,S.Fh),Mi(2,F.H),Mi(3,g.i6),Mi(4,B.TG),Mi(5,$.VZ),Mi(6,X.b)],Zt);class hi{constructor(re){this.prioritySelector=re,this._items=new Array}register(re){if(this._items.indexOf(re)!==-1)throw new Error("Value is already registered");return this._items.push(re),this._items.sort((Ce,we)=>this.prioritySelector(we)-this.prioritySelector(Ce)),{dispose:()=>{const Ce=this._items.indexOf(re);Ce>=0&&this._items.splice(Ce,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Wt extends d.R6{constructor(){super({id:Wt.id,label:T.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:g.Ao.and(f.u.writable,f.u.hasCompletionItemProvider,Y._y.Visible.toNegated()),kbOpts:{kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(re,Ce,we){const be=Zt.get(Ce);if(!be)return;let ke;we&&typeof we=="object"&&we.auto===!0&&(ke=!0),be.triggerSuggest(void 0,ke,void 0)}}Wt.id="editor.action.triggerSuggest",(0,d._K)(Zt.ID,Zt,2),(0,d.Qr)(Wt);const qe=100+90,ee=d._l.bindToContribution(Zt.get);(0,d.fK)(new ee({id:"acceptSelectedSuggestion",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion),handler(de){de.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:g.Ao.and(Y._y.Visible,f.u.textInputFocus),weight:qe},{primary:3,kbExpr:g.Ao.and(Y._y.Visible,f.u.textInputFocus,Y._y.AcceptSuggestionsOnEnter,Y._y.MakesTextEdit),weight:qe}],menuOpts:[{menuId:Y.GI,title:T.NC("accept.insert","Insert"),group:"left",order:1,when:Y._y.HasInsertAndReplaceRange.toNegated()},{menuId:Y.GI,title:T.NC("accept.insert","Insert"),group:"left",order:1,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("insert"))},{menuId:Y.GI,title:T.NC("accept.replace","Replace"),group:"left",order:1,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("replace"))}]})),(0,d.fK)(new ee({id:"acceptAlternativeSelectedSuggestion",precondition:g.Ao.and(Y._y.Visible,f.u.textInputFocus,Y._y.HasFocusedSuggestion),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:1027,secondary:[1026]},handler(de){de.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Y.GI,group:"left",order:2,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("insert")),title:T.NC("accept.replace","Replace")},{menuId:Y.GI,group:"left",order:2,when:g.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("replace")),title:T.NC("accept.insert","Insert")}]})),F.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,d.fK)(new ee({id:"hideSuggestWidget",precondition:Y._y.Visible,handler:de=>de.cancelSuggestWidget(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})),(0,d.fK)(new ee({id:"selectNextSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectNextSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,d.fK)(new ee({id:"selectNextPageSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectNextPageSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:12,secondary:[2060]}})),(0,d.fK)(new ee({id:"selectLastSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectLastSuggestion()})),(0,d.fK)(new ee({id:"selectPrevSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectPrevSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,d.fK)(new ee({id:"selectPrevPageSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectPrevPageSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:11,secondary:[2059]}})),(0,d.fK)(new ee({id:"selectFirstSuggestion",precondition:g.Ao.and(Y._y.Visible,g.Ao.or(Y._y.MultipleSuggestions,Y._y.HasFocusedSuggestion.negate())),handler:de=>de.selectFirstSuggestion()})),(0,d.fK)(new ee({id:"focusSuggestion",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion.negate()),handler:de=>de.focusSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,d.fK)(new ee({id:"focusAndAcceptSuggestion",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion.negate()),handler:de=>{de.focusSuggestion(),de.acceptSelectedSuggestion(!0,!1)}})),(0,d.fK)(new ee({id:"toggleSuggestionDetails",precondition:g.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion),handler:de=>de.toggleSuggestionDetails(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Y.GI,group:"right",order:1,when:g.Ao.and(Y._y.DetailsVisible,Y._y.CanResolve),title:T.NC("detail.more","show less")},{menuId:Y.GI,group:"right",order:1,when:g.Ao.and(Y._y.DetailsVisible.toNegated(),Y._y.CanResolve),title:T.NC("detail.less","show more")}]})),(0,d.fK)(new ee({id:"toggleExplainMode",precondition:Y._y.Visible,handler:de=>de.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,d.fK)(new ee({id:"toggleSuggestionFocus",precondition:Y._y.Visible,handler:de=>de.toggleSuggestionFocus(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,d.fK)(new ee({id:"insertBestCompletion",precondition:g.Ao.and(f.u.textInputFocus,g.Ao.equals("config.editor.tabCompletion","on"),O.AtEnd,Y._y.Visible.toNegated(),R.OtherSuggestions.toNegated(),v.f.InSnippetMode.toNegated()),handler:(de,re)=>{de.triggerSuggestAndAcceptBest((0,p.Kn)(re)?Xi({fallback:"tab"},re):{fallback:"tab"})},kbOpts:{weight:qe,primary:2}})),(0,d.fK)(new ee({id:"insertNextSuggestion",precondition:g.Ao.and(f.u.textInputFocus,g.Ao.equals("config.editor.tabCompletion","on"),R.OtherSuggestions,Y._y.Visible.toNegated(),v.f.InSnippetMode.toNegated()),handler:de=>de.acceptNextSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:2}})),(0,d.fK)(new ee({id:"insertPrevSuggestion",precondition:g.Ao.and(f.u.textInputFocus,g.Ao.equals("config.editor.tabCompletion","on"),R.OtherSuggestions,Y._y.Visible.toNegated(),v.f.InSnippetMode.toNegated()),handler:de=>de.acceptPrevSuggestion(),kbOpts:{weight:qe,kbExpr:f.u.textInputFocus,primary:1026}})),(0,d.Qr)(class extends d.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:T.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(de,re){var Ce;(Ce=Zt.get(re))===null||Ce===void 0||Ce.resetWidgetSize()}})},88088:function(Pt,Ke,e){"use strict";var b=e(71050),z=e(60075),r=e(53725),E=e(5976),c=e(16830),_=e(11640),I=e(24314),M=e(71922),D=e(74961),p=e(55621),o=e(80378),d=e(24477),u=e(84972),i=e(72065),n=function(C,L,O,T){var F=arguments.length,B=F<3?L:T===null?T=Object.getOwnPropertyDescriptor(L,O):T,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,L,O,T);else for(var Y=C.length-1;Y>=0;Y--)($=C[Y])&&(B=(F<3?$(B):F>3?$(L,O,B):$(L,O))||B);return F>3&&B&&Object.defineProperty(L,O,B),B},f=function(C,L){return function(O,T){L(O,T,C)}},v;class a{constructor(L,O,T,F,B,$){this.range=L,this.insertText=O,this.filterText=T,this.additionalTextEdits=F,this.command=B,this.completion=$}}let S=class extends E.L6{constructor(L,O,T,F,B,$){super(B.disposable),this.model=L,this.line=O,this.word=T,this.completionModel=F,this._suggestMemoryService=$}canBeReused(L,O,T){return this.model===L&&this.line===O&&this.word.word.length>0&&this.word.startColumn===T.startColumn&&this.word.endColumn<T.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var L;const O=[],{items:T}=this.completionModel,F=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},T),B=r.$.slice(T,F),$=r.$.slice(T,0,F);let Y=5;for(const P of r.$.concat(B,$)){if(P.score===z.CL.Default)continue;const w=new I.e(P.editStart.lineNumber,P.editStart.column,P.editInsertEnd.lineNumber,P.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),V=P.completion.insertTextRules&&P.completion.insertTextRules&4?{snippet:P.completion.insertText}:P.completion.insertText;O.push(new a(w,V,(L=P.filterTextLow)!==null&&L!==void 0?L:P.labelLow,P.completion.additionalTextEdits,P.completion.command,P)),Y-->=0&&P.resolve(b.T.None)}return O}};S=n([f(5,o.Fh)],S);let g=class{constructor(L,O,T,F){this._getEditorOption=L,this._languageFeatureService=O,this._clipboardService=T,this._suggestMemoryService=F}provideInlineCompletions(L,O,T,F){return qt(this,null,function*(){var B;if(T.selectedSuggestionInfo)return;const $=this._getEditorOption(88,L);if(p.tG.isAllOff($))return;L.tokenization.tokenizeIfCheap(O.lineNumber);const Y=L.tokenization.getLineTokens(O.lineNumber),P=Y.getStandardTokenType(Y.findTokenIndexAtOffset(Math.max(O.column-1-1,0)));if(p.tG.valueFor($,P)!=="inline")return;let w=L.getWordAtPosition(O),V;if(w!=null&&w.word||(V=this._getTriggerCharacterInfo(L,O)),!(w!=null&&w.word)&&!V||(w||(w=L.getWordUntilPosition(O)),w.endColumn!==O.column))return;let R;const A=L.getValueInRange(new I.e(O.lineNumber,1,O.lineNumber,O.column));if(!V&&(!((B=this._lastResult)===null||B===void 0)&&B.canBeReused(L,O.lineNumber,w))){const H=new D.t(A,O.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=H,this._lastResult.acquire(),R=this._lastResult}else{const H=yield(0,p.kL)(this._languageFeatureService.completionProvider,L,O,new p.A9(void 0,void 0,V==null?void 0:V.providers),V&&{triggerKind:1,triggerCharacter:V.ch},F);let U;H.needsClipboard&&(U=yield this._clipboardService.readText());const G=new D._(H.items,O.column,new D.t(A,0),d.K.None,this._getEditorOption(117,L),this._getEditorOption(111,L),{boostFullMatch:!1,firstMatchCanBeWeak:!1},U);R=new S(L,O.lineNumber,w,G,H,this._suggestMemoryService)}return this._lastResult=R,R})}handleItemDidShow(L,O){O.completion.resolve(b.T.None)}freeInlineCompletions(L){L.release()}_getTriggerCharacterInfo(L,O){var T;const F=L.getValueInRange(I.e.fromPositions({lineNumber:O.lineNumber,column:O.column-1},O)),B=new Set;for(const $ of this._languageFeatureService.completionProvider.all(L))!((T=$.triggerCharacters)===null||T===void 0)&&T.includes(F)&&B.add($);if(B.size!==0)return{providers:B,ch:F}}};g=n([f(1,M.p),f(2,u.p),f(3,o.Fh)],g);let y=v=class{constructor(L,O,T,F){if(++v._counter===1){const B=F.createInstance(g,($,Y)=>{var P;return((P=T.listCodeEditors().find(V=>V.getModel()===Y))!==null&&P!==void 0?P:L).getOption($)});v._disposable=O.inlineCompletionsProvider.register("*",B)}}dispose(){var L;--v._counter===0&&((L=v._disposable)===null||L===void 0||L.dispose(),v._disposable=void 0)}};y._counter=0,y=v=n([f(1,M.p),f(2,_.$),f(3,i.TG)],y),(0,c._K)("suggest.inlineCompletionsProvider",y,0)},80378:function(Pt,Ke,e){"use strict";e.d(Ke,{Fh:function(){return a}});var b=e(15393),z=e(5976),r=e(43702),E=e(4767),c=e(43155),_=e(33108),I=e(65026),M=e(72065),D=e(87060),p=function(S,g,y,C){var L=arguments.length,O=L<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(S,g,y,C);else for(var F=S.length-1;F>=0;F--)(T=S[F])&&(O=(L<3?T(O):L>3?T(g,y,O):T(g,y))||O);return L>3&&O&&Object.defineProperty(g,y,O),O},o=function(S,g){return function(y,C){g(y,C,S)}},d;class u{constructor(g){this.name=g}select(g,y,C){if(C.length===0)return 0;const L=C[0].score[0];for(let O=0;O<C.length;O++){const{score:T,completion:F}=C[O];if(T[0]!==L)break;if(F.preselect)return O}return 0}}class i extends u{constructor(){super("first")}memorize(g,y,C){}toJSON(){}fromJSON(){}}class n extends u{constructor(){super("recentlyUsed"),this._cache=new r.z6(300,.66),this._seq=0}memorize(g,y,C){const L=`${g.getLanguageId()}/${C.textLabel}`;this._cache.set(L,{touch:this._seq++,type:C.completion.kind,insertText:C.completion.insertText})}select(g,y,C){if(C.length===0)return 0;const L=g.getLineContent(y.lineNumber).substr(y.column-10,y.column-1);if(/\s$/.test(L))return super.select(g,y,C);const O=C[0].score[0];let T=-1,F=-1,B=-1;for(let $=0;$<C.length&&C[$].score[0]===O;$++){const Y=`${g.getLanguageId()}/${C[$].textLabel}`,P=this._cache.peek(Y);if(P&&P.touch>B&&P.type===C[$].completion.kind&&P.insertText===C[$].completion.insertText&&(B=P.touch,F=$),C[$].completion.preselect&&T===-1)return T=$}return F!==-1?F:T!==-1?T:0}toJSON(){return this._cache.toJSON()}fromJSON(g){this._cache.clear();const y=0;for(const[C,L]of g)L.touch=y,L.type=typeof L.type=="number"?L.type:c.gX.fromString(L.type),this._cache.set(C,L);this._seq=this._cache.size}}class f extends u{constructor(){super("recentlyUsedByPrefix"),this._trie=E.Id.forStrings(),this._seq=0}memorize(g,y,C){const{word:L}=g.getWordUntilPosition(y),O=`${g.getLanguageId()}/${L}`;this._trie.set(O,{type:C.completion.kind,insertText:C.completion.insertText,touch:this._seq++})}select(g,y,C){const{word:L}=g.getWordUntilPosition(y);if(!L)return super.select(g,y,C);const O=`${g.getLanguageId()}/${L}`;let T=this._trie.get(O);if(T||(T=this._trie.findSubstr(O)),T)for(let F=0;F<C.length;F++){const{kind:B,insertText:$}=C[F].completion;if(B===T.type&&$===T.insertText)return F}return super.select(g,y,C)}toJSON(){const g=[];return this._trie.forEach((y,C)=>g.push([C,y])),g.sort((y,C)=>-(y[1].touch-C[1].touch)).forEach((y,C)=>y[1].touch=C),g.slice(0,200)}fromJSON(g){if(this._trie.clear(),g.length>0){this._seq=g[0][1].touch+1;for(const[y,C]of g)C.type=typeof C.type=="number"?C.type:c.gX.fromString(C.type),this._trie.set(y,C)}}}let v=d=class{constructor(g,y){this._storageService=g,this._configService=y,this._disposables=new z.SL,this._persistSoon=new b.pY(()=>this._saveState(),500),this._disposables.add(g.onWillSaveState(C=>{C.reason===D.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(g,y,C){this._withStrategy(g,y).memorize(g,y,C),this._persistSoon.schedule()}select(g,y,C){return this._withStrategy(g,y).select(g,y,C)}_withStrategy(g,y){var C;const L=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:g.getLanguageIdAtPosition(y.lineNumber,y.column),resource:g.uri});if(((C=this._strategy)===null||C===void 0?void 0:C.name)!==L){this._saveState();const O=d._strategyCtors.get(L)||i;this._strategy=new O;try{const F=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,B=this._storageService.get(`${d._storagePrefix}/${L}`,F);B&&this._strategy.fromJSON(JSON.parse(B))}catch(T){}}return this._strategy}_saveState(){if(this._strategy){const y=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,C=JSON.stringify(this._strategy);this._storageService.store(`${d._storagePrefix}/${this._strategy.name}`,C,y,1)}}};v._strategyCtors=new Map([["recentlyUsedByPrefix",f],["recentlyUsed",n],["first",i]]),v._storagePrefix="suggest/memories",v=d=p([o(0,D.Uy),o(1,_.Ui)],v);const a=(0,M.yh)("ISuggestMemories");(0,I.z)(a,v,1)},24477:function(Pt,Ke,e){"use strict";e.d(Ke,{K:function(){return E}});var b=e(9488),z=e(24314),r=e(79694);class E{static create(_,I){return qt(this,null,function*(){if(!I.getOption(117).localityBonus||!I.hasModel())return E.None;const M=I.getModel(),D=I.getPosition();if(!_.canComputeWordRanges(M.uri))return E.None;const[p]=yield new r.x().provideSelectionRanges(M,[D]);if(p.length===0)return E.None;const o=yield _.computeWordRanges(M.uri,p[0].range);if(!o)return E.None;const d=M.getWordUntilPosition(D);return delete o[d.word],new class extends E{distance(u,i){if(!D.equals(I.getPosition()))return 0;if(i.kind===17)return 2<<20;const n=typeof i.label=="string"?i.label:i.label.label,f=o[n];if((0,b.XY)(f))return 2<<20;const v=(0,b.ry)(f,z.e.fromPositions(u),z.e.compareRangesUsingStarts),a=v>=0?f[v]:f[Math.max(0,~v-1)];let S=p.length;for(const g of p){if(!z.e.containsRange(g.range,a))break;S-=1}return S}}})}}E.None=new class extends E{distance(){return 0}}},34066:function(Pt,Ke,e){"use strict";var b=e(63580),z=e(73910);const r=(0,z.P6G)("symbolIcon.arrayForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,z.P6G)("symbolIcon.booleanForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,z.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,b.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,z.P6G)("symbolIcon.colorForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,z.P6G)("symbolIcon.constantForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,z.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,b.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,z.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,b.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,z.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o=(0,z.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,b.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,z.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,z.P6G)("symbolIcon.fileForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i=(0,z.P6G)("symbolIcon.folderForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,z.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,b.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,z.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,z.P6G)("symbolIcon.keyForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,z.P6G)("symbolIcon.keywordForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,z.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,b.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,z.P6G)("symbolIcon.moduleForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,z.P6G)("symbolIcon.namespaceForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,z.P6G)("symbolIcon.nullForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,z.P6G)("symbolIcon.numberForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,z.P6G)("symbolIcon.objectForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,z.P6G)("symbolIcon.operatorForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,z.P6G)("symbolIcon.packageForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,z.P6G)("symbolIcon.propertyForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,z.P6G)("symbolIcon.referenceForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y=(0,z.P6G)("symbolIcon.snippetForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,z.P6G)("symbolIcon.stringForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,z.P6G)("symbolIcon.structForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,z.P6G)("symbolIcon.textForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,z.P6G)("symbolIcon.typeParameterForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,z.P6G)("symbolIcon.unitForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,b.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,z.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,b.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},64662:function(Pt,Ke,e){"use strict";var b=e(35996),z=e(37940),r=e(63580),E=e(84144);class c extends E.Ke{constructor(){super({id:c.ID,title:{value:r.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const M=!z.n.getTabFocusMode();z.n.setTabFocusMode(M),M?(0,b.Z9)(r.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,b.Z9)(r.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}c.ID="editor.action.toggleTabFocusMode",(0,E.r1)(c)},52614:function(Pt,Ke,e){"use strict";var b=e(84013),z=e(16830),r=e(63580);class E extends z.R6{constructor(){super({id:"editor.action.forceRetokenize",label:r.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(_,I){if(!I.hasModel())return;const M=I.getModel();M.tokenization.resetTokenization();const D=new b.G;M.tokenization.forceTokenization(M.getLineCount()),D.stop(),console.log(`tokenization took ${D.elapsed()}`)}}(0,z.Qr)(E)},97066:function(Pt,Ke,e){"use strict";var b=e(15393),z=e(73046),r=e(59365),E=e(5976),c=e(1432),_=e(97295),I=e(16830),M=e(64141),D=e(84901),p=e(31446),o=e(85215),d=e(72042),u=e(30168),i=e(66520),n=e(22374),f=e(65321),v=e(90317),a=e(74741),S=e(33772),g=e(72065),y=e(4850),C=e(59069),L=e(10553),O=e(4669),T=e(50988),F=function(_e,se,ve,xe){var je=arguments.length,Ae=je<3?se:xe===null?xe=Object.getOwnPropertyDescriptor(se,ve):xe,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(_e,se,ve,xe);else for(var rt=_e.length-1;rt>=0;rt--)(Qe=_e[rt])&&(Ae=(je<3?Qe(Ae):je>3?Qe(se,ve,Ae):Qe(se,ve))||Ae);return je>3&&Ae&&Object.defineProperty(se,ve,Ae),Ae},B=function(_e,se){return function(ve,xe){se(ve,xe,_e)}};let $=class extends E.JT{get enabled(){return this._enabled}set enabled(se){se?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=se}constructor(se,ve,xe={},je){var Ae;super(),this._link=ve,this._enabled=!0,this.el=(0,f.R3)(se,(0,f.$)("a.monaco-link",{tabIndex:(Ae=ve.tabIndex)!==null&&Ae!==void 0?Ae:0,href:ve.href,title:ve.title},ve.label)),this.el.setAttribute("role","button");const Qe=this._register(new y.Y(this.el,"click")),rt=this._register(new y.Y(this.el,"keypress")),Dt=O.ju.chain(rt.event,Mt=>Mt.map(ti=>new C.y(ti)).filter(ti=>ti.keyCode===3)),at=this._register(new y.Y(this.el,L.t.Tap)).event;this._register(L.o.addTarget(this.el));const vt=O.ju.any(Qe.event,Dt,at);this._register(vt(Mt=>{this.enabled&&(f.zB.stop(Mt,!0),xe!=null&&xe.opener?xe.opener(this._link.href):je.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};$=F([B(3,T.v)],$);var Y=e(59554),P=e(25670),w=function(_e,se,ve,xe){var je=arguments.length,Ae=je<3?se:xe===null?xe=Object.getOwnPropertyDescriptor(se,ve):xe,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(_e,se,ve,xe);else for(var rt=_e.length-1;rt>=0;rt--)(Qe=_e[rt])&&(Ae=(je<3?Qe(Ae):je>3?Qe(se,ve,Ae):Qe(se,ve))||Ae);return je>3&&Ae&&Object.defineProperty(se,ve,Ae),Ae},V=function(_e,se){return function(ve,xe){se(ve,xe,_e)}};const R=26;let A=class extends E.JT{constructor(se,ve){super(),this._editor=se,this.instantiationService=ve,this.banner=this._register(this.instantiationService.createInstance(H))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(se){this.banner.show(Ln(Xi({},se),{onClose:()=>{var ve;this.hide(),(ve=se.onClose)===null||ve===void 0||ve.call(se)}})),this._editor.setBanner(this.banner.element,R)}};A=w([V(1,g.TG)],A);let H=class extends E.JT{constructor(se){super(),this.instantiationService=se,this.markdownRenderer=this.instantiationService.createInstance(S.$,{}),this.element=(0,f.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(se){if(se.ariaLabel)return se.ariaLabel;if(typeof se.message=="string")return se.message}getBannerMessage(se){if(typeof se=="string"){const ve=(0,f.$)("span");return ve.innerText=se,ve}return this.markdownRenderer.render(se).element}clear(){(0,f.PO)(this.element)}show(se){(0,f.PO)(this.element);const ve=this.getAriaLabel(se);ve&&this.element.setAttribute("aria-label",ve);const xe=(0,f.R3)(this.element,(0,f.$)("div.icon-container"));xe.setAttribute("aria-hidden","true"),se.icon&&xe.appendChild((0,f.$)(`div${P.k.asCSSSelector(se.icon)}`));const je=(0,f.R3)(this.element,(0,f.$)("div.message-container"));if(je.setAttribute("aria-hidden","true"),je.appendChild(this.getBannerMessage(se.message)),this.messageActionsContainer=(0,f.R3)(this.element,(0,f.$)("div.message-actions-container")),se.actions)for(const Qe of se.actions)this._register(this.instantiationService.createInstance($,this.messageActionsContainer,Ln(Xi({},Qe),{tabIndex:-1}),{}));const Ae=(0,f.R3)(this.element,(0,f.$)("div.action-container"));this.actionBar=this._register(new v.o(Ae)),this.actionBar.push(this._register(new a.aU("banner.close","Close Banner",P.k.asClassName(Y.s_),!0,()=>{typeof se.onClose=="function"&&se.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};H=w([V(0,g.TG)],H);var U=e(63580),G=e(33108),j=e(41157),W=e(33425),K=function(_e,se,ve,xe){var je=arguments.length,Ae=je<3?se:xe===null?xe=Object.getOwnPropertyDescriptor(se,ve):xe,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(_e,se,ve,xe);else for(var rt=_e.length-1;rt>=0;rt--)(Qe=_e[rt])&&(Ae=(je<3?Qe(Ae):je>3?Qe(se,ve,Ae):Qe(se,ve))||Ae);return je>3&&Ae&&Object.defineProperty(se,ve,Ae),Ae},m=function(_e,se){return function(ve,xe){se(ve,xe,_e)}};const J=(0,Y.q5)("extensions-warning-message",z.l.warning,U.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let X=class extends E.JT{constructor(se,ve,xe,je){super(),this._editor=se,this._editorWorkerService=ve,this._workspaceTrustService=xe,this._highlighter=null,this._bannerClosed=!1,this._updateState=Ae=>{if(Ae&&Ae.hasMore){if(this._bannerClosed)return;const Qe=Math.max(Ae.ambiguousCharacterCount,Ae.nonBasicAsciiCharacterCount,Ae.invisibleCharacterCount);let rt;if(Ae.nonBasicAsciiCharacterCount>=Qe)rt={message:U.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new ce};else if(Ae.ambiguousCharacterCount>=Qe)rt={message:U.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Se};else if(Ae.invisibleCharacterCount>=Qe)rt={message:U.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new ne};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:rt.message,icon:J,actions:[{label:rt.command.shortLabel,href:`command:${rt.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(je.createInstance(A,se)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=se.getOption(124),this._register(xe.onDidChangeTrust(Ae=>{this._updateHighlighter()})),this._register(se.onDidChangeConfiguration(Ae=>{Ae.hasChanged(124)&&(this._options=se.getOption(124),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const se=ie(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([se.nonBasicASCII,se.ambiguousCharacters,se.invisibleCharacters].every(xe=>xe===!1))return;const ve={nonBasicASCII:se.nonBasicASCII,ambiguousCharacters:se.ambiguousCharacters,invisibleCharacters:se.invisibleCharacters,includeComments:se.includeComments,includeStrings:se.includeStrings,allowedCodePoints:Object.keys(se.allowedCharacters).map(xe=>xe.codePointAt(0)),allowedLocales:Object.keys(se.allowedLocales).map(xe=>xe==="_os"?new Intl.NumberFormat().resolvedOptions().locale:xe==="_vscode"?c.dK:xe)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new le(this._editor,ve,this._updateState,this._editorWorkerService):this._highlighter=new fe(this._editor,ve,this._updateState)}getDecorationInfo(se){return this._highlighter?this._highlighter.getDecorationInfo(se):null}};X.ID="editor.contrib.unicodeHighlighter",X=K([m(1,o.p),m(2,W.Y),m(3,g.TG)],X);function ie(_e,se){return{nonBasicASCII:se.nonBasicASCII===M.Av?!_e:se.nonBasicASCII,ambiguousCharacters:se.ambiguousCharacters,invisibleCharacters:se.invisibleCharacters,includeComments:se.includeComments===M.Av?!_e:se.includeComments,includeStrings:se.includeStrings===M.Av?!_e:se.includeStrings,allowedCharacters:se.allowedCharacters,allowedLocales:se.allowedLocales}}let le=class extends E.JT{constructor(se,ve,xe,je){super(),this._editor=se,this._options=ve,this._updateState=xe,this._editorWorkerService=je,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new b.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const se=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ve=>{if(this._model.isDisposed()||this._model.getVersionId()!==se)return;this._updateState(ve);const xe=[];if(!ve.hasMore)for(const je of ve.ranges)xe.push({range:je,options:Ne.instance.getDecorationFromOptions(this._options)});this._decorations.set(xe)})}getDecorationInfo(se){if(!this._decorations.has(se))return null;const ve=this._editor.getModel();if(!(0,u.Fd)(ve,se))return null;const xe=ve.getValueInRange(se.range);return{reason:ae(xe,this._options),inComment:(0,u.$t)(ve,se),inString:(0,u.zg)(ve,se)}}};le=K([m(3,o.p)],le);class fe extends E.JT{constructor(se,ve,xe){super(),this._editor=se,this._options=ve,this._updateState=xe,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new b.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const se=this._editor.getVisibleRanges(),ve=[],xe={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const je of se){const Ae=p.a.computeUnicodeHighlights(this._model,this._options,je);for(const Qe of Ae.ranges)xe.ranges.push(Qe);xe.ambiguousCharacterCount+=xe.ambiguousCharacterCount,xe.invisibleCharacterCount+=xe.invisibleCharacterCount,xe.nonBasicAsciiCharacterCount+=xe.nonBasicAsciiCharacterCount,xe.hasMore=xe.hasMore||Ae.hasMore}if(!xe.hasMore)for(const je of xe.ranges)ve.push({range:je,options:Ne.instance.getDecorationFromOptions(this._options)});this._updateState(xe),this._decorations.set(ve)}getDecorationInfo(se){if(!this._decorations.has(se))return null;const ve=this._editor.getModel(),xe=ve.getValueInRange(se.range);return(0,u.Fd)(ve,se)?{reason:ae(xe,this._options),inComment:(0,u.$t)(ve,se),inString:(0,u.zg)(ve,se)}:null}}let Le=class{constructor(se,ve,xe){this._editor=se,this._languageService=ve,this._openerService=xe,this.hoverOrdinal=5}computeSync(se,ve){if(!this._editor.hasModel()||se.type!==1)return[];const xe=this._editor.getModel(),je=this._editor.getContribution(X.ID);if(!je)return[];const Ae=[],Qe=new Set;let rt=300;for(const Dt of ve){const at=je.getDecorationInfo(Dt);if(!at)continue;const Mt=xe.getValueInRange(Dt.range).codePointAt(0),ti=Te(Mt);let Ft;switch(at.reason.kind){case 0:{(0,_.$i)(at.reason.confusableWith)?Ft=U.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",ti,Te(at.reason.confusableWith.codePointAt(0))):Ft=U.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ti,Te(at.reason.confusableWith.codePointAt(0)));break}case 1:Ft=U.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ti);break;case 2:Ft=U.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ti);break}if(Qe.has(Ft))continue;Qe.add(Ft);const ei={codePoint:Mt,reason:at.reason,inComment:at.inComment,inString:at.inString},Xt=U.NC("unicodeHighlight.adjustSettings","Adjust settings"),Ct=`command:${Oe.ID}?${encodeURIComponent(JSON.stringify(ei))}`,ft=new r.W5("",!0).appendMarkdown(Ft).appendText(" ").appendLink(Ct,Xt);Ae.push(new n.hU(this,Dt.range,[ft],!1,rt++))}return Ae}renderHoverParts(se,ve){return(0,n.c)(se,ve,this._editor,this._languageService,this._openerService)}};Le=K([m(1,d.O),m(2,T.v)],Le);function pe(_e){return`U+${_e.toString(16).padStart(4,"0")}`}function Te(_e){let se=`\`${pe(_e)}\``;return _.vU.isInvisibleCharacter(_e)||(se+=` "${`${De(_e)}`}"`),se}function De(_e){return _e===96?"`` ` ``":"`"+String.fromCodePoint(_e)+"`"}function ae(_e,se){return p.a.computeUnicodeHighlightReason(_e,se)}class Ne{constructor(){this.map=new Map}getDecorationFromOptions(se){return this.getDecoration(!se.includeComments,!se.includeStrings)}getDecoration(se,ve){const xe=`${se}${ve}`;let je=this.map.get(xe);return je||(je=D.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:se,hideInStringTokens:ve}),this.map.set(xe,je)),je}}Ne.instance=new Ne;class We extends I.R6{constructor(){super({id:Se.ID,label:U.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=U.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(se,ve,xe){return qt(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return qt(this,null,function*(){yield se.updateValue(M.qt.includeComments,!1,2)})}}class ze extends I.R6{constructor(){super({id:Se.ID,label:U.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=U.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(se,ve,xe){return qt(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return qt(this,null,function*(){yield se.updateValue(M.qt.includeStrings,!1,2)})}}class Se extends I.R6{constructor(){super({id:Se.ID,label:U.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=U.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(se,ve,xe){return qt(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return qt(this,null,function*(){yield se.updateValue(M.qt.ambiguousCharacters,!1,2)})}}Se.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class ne extends I.R6{constructor(){super({id:ne.ID,label:U.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=U.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(se,ve,xe){return qt(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return qt(this,null,function*(){yield se.updateValue(M.qt.invisibleCharacters,!1,2)})}}ne.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class ce extends I.R6{constructor(){super({id:ce.ID,label:U.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=U.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(se,ve,xe){return qt(this,null,function*(){const je=se==null?void 0:se.get(G.Ui);je&&this.runAction(je)})}runAction(se){return qt(this,null,function*(){yield se.updateValue(M.qt.nonBasicASCII,!1,2)})}}ce.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class Oe extends I.R6{constructor(){super({id:Oe.ID,label:U.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(se,ve,xe){return qt(this,null,function*(){const{codePoint:je,reason:Ae,inString:Qe,inComment:rt}=xe,Dt=String.fromCodePoint(je),at=se.get(j.eJ),vt=se.get(G.Ui);function Mt(ei){return _.vU.isInvisibleCharacter(ei)?U.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",pe(ei)):U.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${pe(ei)} "${Dt}"`)}const ti=[];if(Ae.kind===0)for(const ei of Ae.notAmbiguousInLocales)ti.push({label:U.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',ei),run:()=>qt(this,null,function*(){Me(vt,[ei])})});if(ti.push({label:Mt(je),run:()=>Pe(vt,[je])}),rt){const ei=new We;ti.push({label:ei.label,run:()=>qt(this,null,function*(){return ei.runAction(vt)})})}else if(Qe){const ei=new ze;ti.push({label:ei.label,run:()=>qt(this,null,function*(){return ei.runAction(vt)})})}if(Ae.kind===0){const ei=new Se;ti.push({label:ei.label,run:()=>qt(this,null,function*(){return ei.runAction(vt)})})}else if(Ae.kind===1){const ei=new ne;ti.push({label:ei.label,run:()=>qt(this,null,function*(){return ei.runAction(vt)})})}else if(Ae.kind===2){const ei=new ce;ti.push({label:ei.label,run:()=>qt(this,null,function*(){return ei.runAction(vt)})})}else ye(Ae);const Ft=yield at.pick(ti,{title:U.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Ft&&(yield Ft.run())})}}Oe.ID="editor.action.unicodeHighlight.showExcludeOptions";function Pe(_e,se){return qt(this,null,function*(){const ve=_e.getValue(M.qt.allowedCharacters);let xe;typeof ve=="object"&&ve?xe=ve:xe={};for(const je of se)xe[String.fromCodePoint(je)]=!0;yield _e.updateValue(M.qt.allowedCharacters,xe,2)})}function Me(_e,se){return qt(this,null,function*(){var ve;const xe=(ve=_e.inspect(M.qt.allowedLocales).user)===null||ve===void 0?void 0:ve.value;let je;typeof xe=="object"&&xe?je=Object.assign({},xe):je={};for(const Ae of se)je[Ae]=!0;yield _e.updateValue(M.qt.allowedLocales,je,2)})}function ye(_e){throw new Error(`Unexpected value: ${_e}`)}(0,I.Qr)(Se),(0,I.Qr)(ne),(0,I.Qr)(ce),(0,I.Qr)(Oe),(0,I._K)(X.ID,X,1),i.Ae.register(Le)},79607:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(95935),r=e(16830),E=e(11640),c=e(63580),_=e(28820),I=function(u,i,n,f){var v=arguments.length,a=v<3?i:f===null?f=Object.getOwnPropertyDescriptor(i,n):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(u,i,n,f);else for(var g=u.length-1;g>=0;g--)(S=u[g])&&(a=(v<3?S(a):v>3?S(i,n,a):S(i,n))||a);return v>3&&a&&Object.defineProperty(i,n,a),a},M=function(u,i){return function(n,f){i(n,f,u)}};const D="ignoreUnusualLineTerminators";function p(u,i,n){u.setModelProperty(i.uri,D,n)}function o(u,i){return u.getModelProperty(i.uri,D)}let d=class extends b.JT{constructor(i,n,f){super(),this._editor=i,this._dialogService=n,this._codeEditorService=f,this._isPresentingDialog=!1,this._config=this._editor.getOption(125),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(125)&&(this._config=this._editor.getOption(125),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(v=>{v.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return qt(this,null,function*(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||o(this._codeEditorService,i)===!0||this._editor.getOption(90))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let f;try{this._isPresentingDialog=!0,f=yield this._dialogService.confirm({title:c.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:c.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:c.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,z.EZ)(i.uri)),primaryButton:c.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:c.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!f.confirmed){p(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())})}};d.ID="editor.contrib.unusualLineTerminatorsDetector",d=I([M(1,_.S),M(2,E.$)],d),(0,r._K)(d.ID,d,1)},71828:function(Pt,Ke,e){"use strict";e.d(Ke,{G:function(){return v},w:function(){return a}});var b=e(84973),z=e(84901),r=e(43155),E=e(63580),c=e(73910),_=e(97781);const I=(0,c.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},E.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,c.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},E.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,c.P6G)("editor.wordHighlightTextBackground",{light:I,dark:I,hcDark:I,hcLight:I},E.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const M=(0,c.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:c.xL1,hcLight:c.xL1},E.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,c.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:c.xL1,hcLight:c.xL1},E.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,c.P6G)("editor.wordHighlightTextBorder",{light:M,dark:M,hcDark:M,hcLight:M},E.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const D=(0,c.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},E.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,c.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},E.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),o=(0,c.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:c.SPM,light:c.SPM,hcDark:c.SPM,hcLight:c.SPM},E.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),d=z.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,_.EN)(p),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}}),u=z.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,_.EN)(o),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}}),i=z.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,_.EN)(c.SPM),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}}),n=z.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),f=z.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,_.EN)(D),position:b.sh.Center},minimap:{color:(0,_.EN)(c.IYc),position:b.F5.Inline}});function v(S){return S===r.MY.Write?d:S===r.MY.Text?u:f}function a(S){return S?n:i}(0,_.Ic)((S,g)=>{const y=S.getColor(c.Rzx);y&&g.addRule(`.monaco-editor .selectionHighlight { background-color: ${y.transparent(.5)}; }`)})},70943:function(Pt,Ke,e){"use strict";var b=e(63580),z=e(9488),r=e(35996),E=e(15393),c=e(71050),_=e(17301),I=e(5976),M=e(65520),D=e(16830),p=e(11640),o=e(24314),d=e(29102),u=e(43155),i=e(71922),n=e(71828),f=e(32064),v=e(66663),a=e(43702),S=e(22970),g=function(W,K,m,J){var X=arguments.length,ie=X<3?K:J===null?J=Object.getOwnPropertyDescriptor(K,m):J,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(W,K,m,J);else for(var fe=W.length-1;fe>=0;fe--)(le=W[fe])&&(ie=(X<3?le(ie):X>3?le(K,m,ie):le(K,m))||ie);return X>3&&ie&&Object.defineProperty(K,m,ie),ie},y=function(W,K){return function(m,J){K(m,J,W)}},C,L;const O=new f.uy("hasWordHighlights",!1);function T(W,K,m,J){const X=W.ordered(K);return(0,E.Ps)(X.map(ie=>()=>Promise.resolve(ie.provideDocumentHighlights(K,m,J)).then(void 0,_.Cp)),z.Of).then(ie=>{if(ie){const le=new a.Y9;return le.set(K.uri,ie),le}return new a.Y9})}function F(W,K,m,J,X,ie){const le=W.ordered(K);return(0,E.Ps)(le.map(fe=>()=>{const Le=ie.filter(pe=>(0,S.G)(fe.selector,pe.uri,pe.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(fe.provideMultiDocumentHighlights(K,m,Le,X)).then(void 0,_.Cp)}),fe=>fe instanceof a.Y9&&fe.size>0)}class B{constructor(K,m,J){this._model=K,this._selection=m,this._wordSeparators=J,this._wordRange=this._getCurrentWordRange(K,m),this._result=null}get result(){return this._result||(this._result=(0,E.PG)(K=>this._compute(this._model,this._selection,this._wordSeparators,K))),this._result}_getCurrentWordRange(K,m){const J=K.getWordAtPosition(m.getPosition());return J?new o.e(m.startLineNumber,J.startColumn,m.startLineNumber,J.endColumn):null}isValid(K,m,J){const X=m.startLineNumber,ie=m.startColumn,le=m.endColumn,fe=this._getCurrentWordRange(K,m);let Le=!!(this._wordRange&&this._wordRange.equalsRange(fe));for(let pe=0,Te=J.length;!Le&&pe<Te;pe++){const De=J.getRange(pe);De&&De.startLineNumber===X&&De.startColumn<=ie&&De.endColumn>=le&&(Le=!0)}return Le}cancel(){this.result.cancel()}}class $ extends B{constructor(K,m,J,X){super(K,m,J),this._providers=X}_compute(K,m,J,X){return T(this._providers,K,m.getPosition(),X).then(ie=>ie||new a.Y9)}}class Y extends B{constructor(K,m,J,X,ie){super(K,m,J),this._providers=X,this._otherModels=ie}_compute(K,m,J,X){return F(this._providers,K,m.getPosition(),J,X,this._otherModels).then(ie=>ie||new a.Y9)}}class P extends B{constructor(K,m,J,X,ie){super(K,m,X),this._otherModels=ie,this._selectionIsEmpty=m.isEmpty(),this._word=J}_compute(K,m,J,X){return(0,E.Vs)(250,X).then(()=>{const ie=new a.Y9;let le;if(this._word?le=this._word:le=K.getWordAtPosition(m.getPosition()),!le)return new a.Y9;const fe=[K,...this._otherModels];for(const Le of fe){if(Le.isDisposed())continue;const Te=Le.findMatches(le.word,!0,!1,!0,J,!1).map(De=>({range:De.range,kind:u.MY.Text}));Te&&ie.set(Le.uri,Te)}return ie})}isValid(K,m,J){const X=m.isEmpty();return this._selectionIsEmpty!==X?!1:super.isValid(K,m,J)}}function w(W,K,m,J,X){return W.has(K)?new $(K,m,X,W):new P(K,m,J,X,[])}function V(W,K,m,J,X,ie){return W.has(K)?new Y(K,m,X,W,ie):new P(K,m,J,X,ie)}(0,D.sb)("_executeDocumentHighlights",(W,K,m)=>qt(this,null,function*(){const J=W.get(i.p),X=yield T(J.documentHighlightProvider,K,m,c.T.None);return X==null?void 0:X.get(K.uri)}));let R=C=class{constructor(K,m,J,X,ie){this.toUnhook=new I.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new a.Y9,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=K,this.providers=m,this.multiDocumentProviders=J,this.codeEditorService=ie,this._hasWordHighlights=O.bindTo(X),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(80),this.model=this.editor.getModel(),this.toUnhook.add(K.onDidChangeCursorPosition(le=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(le)})),this.toUnhook.add(K.onDidChangeModelContent(le=>{this._stopAll()})),this.toUnhook.add(K.onDidChangeModel(le=>{!le.newModelUrl&&le.oldModelUrl?this._stopSingular():C.query&&this._run()})),this.toUnhook.add(K.onDidChangeConfiguration(le=>{const fe=this.editor.getOption(80);this.occurrencesHighlight!==fe&&(this.occurrencesHighlight=fe,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,C.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(o.e.compareRangesUsingStarts)}moveNext(){const K=this._getSortedHighlights(),J=(K.findIndex(ie=>ie.containsPosition(this.editor.getPosition()))+1)%K.length,X=K[J];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(X.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(X);const ie=this._getWord();if(ie){const le=this.editor.getModel().getLineContent(X.startLineNumber);(0,r.Z9)(`${le}, ${J+1} of ${K.length} for '${ie.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const K=this._getSortedHighlights(),J=(K.findIndex(ie=>ie.containsPosition(this.editor.getPosition()))-1+K.length)%K.length,X=K[J];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(X.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(X);const ie=this._getWord();if(ie){const le=this.editor.getModel().getLineContent(X.startLineNumber);(0,r.Z9)(`${le}, ${J+1} of ${K.length} for '${ie.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const K=C.storedDecorations.get(this.editor.getModel().uri);K&&(this.editor.removeDecorations(K),C.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const K=this.codeEditorService.listCodeEditors();for(const m of K){if(!m.hasModel())continue;const J=C.storedDecorations.get(m.getModel().uri);if(!J)continue;m.removeDecorations(J),C.storedDecorations.delete(m.getModel().uri);const X=A.get(m);X!=null&&X.wordHighlighter&&X.wordHighlighter.decorations.length>0&&(X.wordHighlighter.decorations.clear(),X.wordHighlighter._hasWordHighlights.set(!1))}}_stopSingular(){var K,m,J,X;this._removeSingleDecorations(),this.editor.hasWidgetFocus()&&(((K=this.editor.getModel())===null||K===void 0?void 0:K.uri.scheme)!==v.lg.vscodeNotebookCell&&((J=(m=C.query)===null||m===void 0?void 0:m.modelInfo)===null||J===void 0?void 0:J.model.uri.scheme)!==v.lg.vscodeNotebookCell?(C.query=null,this._run()):!((X=C.query)===null||X===void 0)&&X.modelInfo&&(C.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(K){var m;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(K.reason!==3&&((m=this.editor.getModel())===null||m===void 0?void 0:m.uri.scheme)!==v.lg.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const K=this.editor.getSelection(),m=K.startLineNumber,J=K.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:m,column:J})}getOtherModelsToHighlight(K){if(!K)return[];if(K.uri.scheme===v.lg.vscodeNotebookCell){const ie=[],le=this.codeEditorService.listCodeEditors();for(const fe of le){const Le=fe.getModel();Le&&Le!==K&&Le.uri.scheme===v.lg.vscodeNotebookCell&&ie.push(Le)}return ie}const J=[],X=this.codeEditorService.listCodeEditors();for(const ie of X){if(!(0,M.QI)(ie))continue;const le=ie.getModel();le&&K===le.modified&&J.push(le.modified)}if(J.length)return J;if(this.occurrencesHighlight==="singleFile")return[];for(const ie of X){const le=ie.getModel();le&&le!==K&&J.push(le)}return J}_run(){var K,m;let J;if(this.editor.hasWidgetFocus()){const X=this.editor.getSelection();if(!X||X.startLineNumber!==X.endLineNumber){this._stopAll();return}const ie=X.startColumn,le=X.endColumn,fe=this._getWord();if(!fe||fe.startColumn>ie||fe.endColumn<le){C.query=null,this._stopAll();return}J=this.workerRequest&&this.workerRequest.isValid(this.model,X,this.decorations),C.query={modelInfo:{model:this.model,selection:X},word:fe}}else if(C.query===null)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),J)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const X=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const ie=this.getOtherModelsToHighlight(this.editor.getModel()),le=!!(!C.query.modelInfo&&C.query.word||((K=C.query.modelInfo)===null||K===void 0?void 0:K.model.uri)!==this.model.uri);!C.query.modelInfo||C.query.modelInfo.model.uri!==this.model.uri?this.workerRequest=this.computeWithModel(this.model,this.editor.getSelection(),le?C.query.word:null,ie):this.workerRequest=this.computeWithModel(C.query.modelInfo.model,C.query.modelInfo.selection,C.query.word,ie),(m=this.workerRequest)===null||m===void 0||m.result.then(fe=>{X===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=fe||[],this._beginRenderDecorations())},_.dL)}}computeWithModel(K,m,J,X){return X.length?V(this.multiDocumentProviders,K,m,J,this.editor.getOption(129),X):w(this.providers,K,m,J,this.editor.getOption(129))}_beginRenderDecorations(){const K=new Date().getTime(),m=this.lastCursorPositionChangeTime+250;K>=m?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},m-K)}renderDecorations(){var K,m,J;this.renderDecorationsTimer=-1;const X=this.codeEditorService.listCodeEditors();for(const ie of X){const le=A.get(ie);if(!le)continue;const fe=[],Le=(K=ie.getModel())===null||K===void 0?void 0:K.uri;if(Le&&this.workerRequestValue.has(Le)){const pe=C.storedDecorations.get(Le),Te=this.workerRequestValue.get(Le);if(Te)for(const ae of Te)fe.push({range:ae.range,options:(0,n.G)(ae.kind)});let De=[];ie.changeDecorations(ae=>{De=ae.deltaDecorations(pe!=null?pe:[],fe)}),C.storedDecorations=C.storedDecorations.set(Le,De),fe.length>0&&((m=le.wordHighlighter)===null||m===void 0||m.decorations.set(fe),(J=le.wordHighlighter)===null||J===void 0||J._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};R.storedDecorations=new a.Y9,R.query=null,R=C=g([y(4,p.$)],R);let A=L=class extends I.JT{static get(K){return K.getContribution(L.ID)}constructor(K,m,J,X){super(),this._wordHighlighter=null;const ie=()=>{K.hasModel()&&!K.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new R(K,J.documentHighlightProvider,J.multiDocumentHighlightProvider,m,X))};this._register(K.onDidChangeModel(le=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),ie()})),ie()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveNext()}moveBack(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveBack()}restoreViewState(K){this._wordHighlighter&&K&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};A.ID="editor.contrib.wordHighlighter",A=L=g([y(1,f.i6),y(2,i.p),y(3,p.$)],A);class H extends D.R6{constructor(K,m){super(m),this._isNext=K}run(K,m){const J=A.get(m);J&&(this._isNext?J.moveNext():J.moveBack())}}class U extends H{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:b.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:O,kbOpts:{kbExpr:d.u.editorTextFocus,primary:65,weight:100}})}}class G extends H{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:b.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:O,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1089,weight:100}})}}class j extends D.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:b.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:O.toNegated(),kbOpts:{kbExpr:d.u.editorTextFocus,primary:0,weight:100}})}run(K,m,J){const X=A.get(m);X&&X.restoreViewState(!0)}}(0,D._K)(A.ID,A,0),(0,D.Qr)(U),(0,D.Qr)(G),(0,D.Qr)(j)},37181:function(Pt,Ke,e){"use strict";e.d(Ke,{IA:function(){return f},t8:function(){return H}});var b=e(16830),z=e(61329),r=e(64141),E=e(55343),c=e(92896),_=e(24929),I=e(50187),M=e(24314),D=e(3860),p=e(29102),o=e(4256),d=e(63580),u=e(31106),i=e(32064),n=e(39282);class f extends b._l{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode,this._wordNavigationType=fe.wordNavigationType}runEditorCommand(fe,Le,pe){if(!Le.hasModel())return;const Te=(0,_.u)(Le.getOption(129)),De=Le.getModel(),Ne=Le.getSelections().map(We=>{const ze=new I.L(We.positionLineNumber,We.positionColumn),Se=this._move(Te,De,ze,this._wordNavigationType);return this._moveTo(We,Se,this._inSelectionMode)});if(De.pushStackElement(),Le._getViewModel().setCursorStates("moveWordCommand",3,Ne.map(We=>E.Vi.fromModelSelection(We))),Ne.length===1){const We=new I.L(Ne[0].positionLineNumber,Ne[0].positionColumn);Le.revealPosition(We,0)}}_moveTo(fe,Le,pe){return pe?new D.Y(fe.selectionStartLineNumber,fe.selectionStartColumn,Le.lineNumber,Le.column):new D.Y(Le.lineNumber,Le.column,Le.lineNumber,Le.column)}}class v extends f{_move(fe,Le,pe,Te){return c.w.moveWordLeft(fe,Le,pe,Te)}}class a extends f{_move(fe,Le,pe,Te){return c.w.moveWordRight(fe,Le,pe,Te)}}class S extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class g extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class y extends v{constructor(){var fe;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,(fe=i.Ao.and(u.UA,n.cv))===null||fe===void 0?void 0:fe.negate()),primary:2063,mac:{primary:527},weight:100}})}}class C extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class L extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class O extends v{constructor(){var fe;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,(fe=i.Ao.and(u.UA,n.cv))===null||fe===void 0?void 0:fe.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class T extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(fe,Le,pe,Te){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),Le,pe,Te)}}class F extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(fe,Le,pe,Te){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),Le,pe,Te)}}class B extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class $ extends a{constructor(){var fe;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,(fe=i.Ao.and(u.UA,n.cv))===null||fe===void 0?void 0:fe.negate()),primary:2065,mac:{primary:529},weight:100}})}}class Y extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class P extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class w extends a{constructor(){var fe;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,(fe=i.Ao.and(u.UA,n.cv))===null||fe===void 0?void 0:fe.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class V extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class R extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(fe,Le,pe,Te){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),Le,pe,Te)}}class A extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(fe,Le,pe,Te){return super._move((0,_.u)(r.BH.wordSeparators.defaultValue),Le,pe,Te)}}class H extends b._l{constructor(fe){super(fe),this._whitespaceHeuristics=fe.whitespaceHeuristics,this._wordNavigationType=fe.wordNavigationType}runEditorCommand(fe,Le,pe){const Te=fe.get(o.c_);if(!Le.hasModel())return;const De=(0,_.u)(Le.getOption(129)),ae=Le.getModel(),Ne=Le.getSelections(),We=Le.getOption(6),ze=Le.getOption(11),Se=Te.getLanguageConfiguration(ae.getLanguageId()).getAutoClosingPairs(),ne=Le._getViewModel(),ce=Ne.map(Oe=>{const Pe=this._delete({wordSeparators:De,model:ae,selection:Oe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:Le.getOption(9),autoClosingBrackets:We,autoClosingQuotes:ze,autoClosingPairs:Se,autoClosedCharacters:ne.getCursorAutoClosedCharacters()},this._wordNavigationType);return new z.T4(Pe,"")});Le.pushUndoStop(),Le.executeCommands(this.id,ce),Le.pushUndoStop()}}class U extends H{_delete(fe,Le){const pe=c.w.deleteWordLeft(fe,Le);return pe||new M.e(1,1,1,1)}}class G extends H{_delete(fe,Le){const pe=c.w.deleteWordRight(fe,Le);if(pe)return pe;const Te=fe.model.getLineCount(),De=fe.model.getLineMaxColumn(Te);return new M.e(Te,De,Te,De)}}class j extends U{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:p.u.writable})}}class W extends U{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:p.u.writable})}}class K extends U{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class m extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:p.u.writable})}}class J extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:p.u.writable})}}class X extends G{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ie extends b.R6{constructor(){super({id:"deleteInsideWord",precondition:p.u.writable,label:d.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(fe,Le,pe){if(!Le.hasModel())return;const Te=(0,_.u)(Le.getOption(129)),De=Le.getModel(),Ne=Le.getSelections().map(We=>{const ze=c.w.deleteInsideWord(Te,De,We);return new z.T4(ze,"")});Le.pushUndoStop(),Le.executeCommands(this.id,Ne),Le.pushUndoStop()}}(0,b.fK)(new S),(0,b.fK)(new g),(0,b.fK)(new y),(0,b.fK)(new C),(0,b.fK)(new L),(0,b.fK)(new O),(0,b.fK)(new B),(0,b.fK)(new $),(0,b.fK)(new Y),(0,b.fK)(new P),(0,b.fK)(new w),(0,b.fK)(new V),(0,b.fK)(new T),(0,b.fK)(new F),(0,b.fK)(new R),(0,b.fK)(new A),(0,b.fK)(new j),(0,b.fK)(new W),(0,b.fK)(new K),(0,b.fK)(new m),(0,b.fK)(new J),(0,b.fK)(new X),(0,b.Qr)(ie)},86709:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(92896),r=e(24314),E=e(29102),c=e(37181),_=e(94565);class I extends c.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:E.u.writable,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(f,v){const a=z.L.deleteWordPartLeft(f);return a||new r.e(1,1,1,1)}}class M extends c.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:E.u.writable,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(f,v){const a=z.L.deleteWordPartRight(f);if(a)return a;const S=f.model.getLineCount(),g=f.model.getLineMaxColumn(S);return new r.e(S,g,S,g)}}class D extends c.IA{_move(f,v,a,S){return z.L.moveWordPartLeft(f,v,a)}}class p extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}_.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class o extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}_.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class d extends c.IA{_move(f,v,a,S){return z.L.moveWordPartRight(f,v,a)}}class u extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class i extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,b.fK)(new I),(0,b.fK)(new M),(0,b.fK)(new p),(0,b.fK)(new o),(0,b.fK)(new u),(0,b.fK)(new i)},24719:function(Pt,Ke,e){"use strict";var b=e(65321),z=e(5976),r=e(16830),E=e(1432);class c extends z.JT{constructor(M){super(),this.editor=M,this.widget=null,E.gn&&(this._register(M.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const M=!this.editor.getOption(90);!this.widget&&M?this.widget=new _(this.editor):this.widget&&!M&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}c.ID="editor.contrib.iPadShowKeyboard";class _ extends z.JT{constructor(M){super(),this.editor=M,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(b.nm(this._domNode,"touchstart",D=>{this.editor.focus()})),this._register(b.nm(this._domNode,"focus",D=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}_.ID="editor.contrib.ShowKeyboardWidget",(0,r._K)(c.ID,c,3)},59089:function(Pt,Ke,e){"use strict";var b=e(65321),z=e(41264),r=e(5976),E=e(16830),c=e(43155),_=e(45797),I=e(276),M=e(72042),D=e(44156),p=e(20913),o=function(S,g,y,C){var L=arguments.length,O=L<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,y):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(S,g,y,C);else for(var F=S.length-1;F>=0;F--)(T=S[F])&&(O=(L<3?T(O):L>3?T(g,y,O):T(g,y))||O);return L>3&&O&&Object.defineProperty(g,y,O),O},d=function(S,g){return function(y,C){g(y,C,S)}},u;let i=u=class extends r.JT{static get(g){return g.getContribution(u.ID)}constructor(g,y,C){super(),this._editor=g,this._languageService=C,this._widget=null,this._register(this._editor.onDidChangeModel(L=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(L=>this.stop())),this._register(c.RW.onDidChange(L=>this.stop())),this._register(this._editor.onKeyUp(L=>L.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new a(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=u=o([d(1,D.Z),d(2,M.O)],i);class n extends E.R6{constructor(){super({id:"editor.action.inspectTokens",label:p.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(g,y){const C=i.get(y);C==null||C.launch()}}function f(S){let g="";for(let y=0,C=S.length;y<C;y++){const L=S.charCodeAt(y);switch(L){case 9:g+="\u2192";break;case 32:g+="\xB7";break;default:g+=String.fromCharCode(L)}}return g}function v(S,g){const y=c.RW.get(g);if(y)return y;const C=S.encodeLanguageId(g);return{getInitialState:()=>I.TJ,tokenize:(L,O,T)=>(0,I.Ri)(g,T),tokenizeEncoded:(L,O,T)=>(0,I.Dy)(C,T)}}class a extends r.JT{constructor(g,y){super(),this.allowEditorOverflow=!0,this._editor=g,this._languageService=y,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=v(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(C=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(g){const y=this._getTokensAtLine(g.lineNumber);let C=0;for(let B=y.tokens1.length-1;B>=0;B--){const $=y.tokens1[B];if(g.column-1>=$.offset){C=B;break}}let L=0;for(let B=y.tokens2.length>>>1;B>=0;B--)if(g.column-1>=y.tokens2[B<<1]){L=B;break}const O=this._model.getLineContent(g.lineNumber);let T="";if(C<y.tokens1.length){const B=y.tokens1[C].offset,$=C+1<y.tokens1.length?y.tokens1[C+1].offset:O.length;T=O.substring(B,$)}(0,b.mc)(this._domNode,(0,b.$)("h2.tm-token",void 0,f(T),(0,b.$)("span.tm-token-length",void 0,`${T.length} ${T.length===1?"char":"chars"}`))),(0,b.R3)(this._domNode,(0,b.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const F=(L<<1)+1<y.tokens2.length?this._decodeMetadata(y.tokens2[(L<<1)+1]):null;(0,b.R3)(this._domNode,(0,b.$)("table.tm-metadata-table",void 0,(0,b.$)("tbody",void 0,(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"language"),(0,b.$)("td.tm-metadata-value",void 0,`${F?F.languageId:"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"token type"),(0,b.$)("td.tm-metadata-value",void 0,`${F?this._tokenTypeToString(F.tokenType):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"font style"),(0,b.$)("td.tm-metadata-value",void 0,`${F?this._fontStyleToString(F.fontStyle):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"foreground"),(0,b.$)("td.tm-metadata-value",void 0,`${F?z.Il.Format.CSS.formatHex(F.foreground):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"background"),(0,b.$)("td.tm-metadata-value",void 0,`${F?z.Il.Format.CSS.formatHex(F.background):"-?-"}`))))),(0,b.R3)(this._domNode,(0,b.$)("hr.tokens-inspect-separator")),C<y.tokens1.length&&(0,b.R3)(this._domNode,(0,b.$)("span.tm-token-type",void 0,y.tokens1[C].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(g){const y=c.RW.getColorMap(),C=_.N.getLanguageId(g),L=_.N.getTokenType(g),O=_.N.getFontStyle(g),T=_.N.getForeground(g),F=_.N.getBackground(g);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(C),tokenType:L,fontStyle:O,foreground:y[T],background:y[F]}}_tokenTypeToString(g){switch(g){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(g){let y="";return g&1&&(y+="italic "),g&2&&(y+="bold "),g&4&&(y+="underline "),g&8&&(y+="strikethrough "),y.length===0&&(y="---"),y}_getTokensAtLine(g){const y=this._getStateBeforeLine(g),C=this._tokenizationSupport.tokenize(this._model.getLineContent(g),!0,y),L=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(g),!0,y);return{startState:y,tokens1:C.tokens,tokens2:L.tokens,endState:C.endState}}_getStateBeforeLine(g){let y=this._tokenizationSupport.getInitialState();for(let C=1;C<g;C++)y=this._tokenizationSupport.tokenize(this._model.getLineContent(C),!0,y).endState;return y}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}a._ID="editor.contrib.inspectTokensWidget",(0,E._K)(i.ID,i,4),(0,E.Qr)(n)},94347:function(Pt,Ke,e){"use strict";var b=e(89872),z=e(90725),r=e(20913),E=e(11640),c=e(21212),_=e(9488),I=e(98401),M=e(63580);function D(pe,Te){return Te&&(pe.stack||pe.stacktrace)?M.NC("stackTrace.format","{0}: {1}",o(pe),p(pe.stack)||p(pe.stacktrace)):o(pe)}function p(pe){return Array.isArray(pe)?pe.join(`
`):pe}function o(pe){return pe.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${pe.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof pe.code=="string"&&typeof pe.errno=="number"&&typeof pe.syscall=="string"?M.NC("nodeExceptionMessage","A system error occurred ({0})",pe.message):pe.message||M.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function d(pe=null,Te=!1){if(!pe)return M.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(pe)){const De=_.kX(pe),ae=d(De[0],Te);return De.length>1?M.NC("error.moreErrors","{0} ({1} errors in total)",ae,De.length):ae}if(I.HD(pe))return pe;if(pe.detail){const De=pe.detail;if(De.error)return D(De.error,Te);if(De.exception)return D(De.exception,Te)}return pe.stack?D(pe,Te):pe.message?pe.message:M.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var u=e(17301),i=e(60075),n=e(88289),f=e(5976),v=e(43702);function a(pe){var Te;const De=new Map;for(const ae of pe)De.set(ae,((Te=De.get(ae))!==null&&Te!==void 0?Te:0)+1);return De}class S{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(Te,De){const ae=this.computeEmbedding(Te),Ne=new Map,We=[];for(const[ze,Se]of this.documents){if(De.isCancellationRequested)return[];for(const ne of Se.chunks){const ce=this.computeSimilarityScore(ne,ae,Ne);ce>0&&We.push({key:ze,score:ce})}}return We}static termFrequencies(Te){return a(S.splitTerms(Te))}static*splitTerms(Te){const De=ae=>ae.toLowerCase();for(const[ae]of Te.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield De(ae);const Ne=ae.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(Ne.length>1)for(const We of Ne)We.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(We)&&(yield De(We))}}updateDocuments(Te){var De;for(const{key:ae}of Te)this.deleteDocument(ae);for(const ae of Te){const Ne=[];for(const We of ae.textChunks){const ze=S.termFrequencies(We);for(const Se of ze.keys())this.chunkOccurrences.set(Se,((De=this.chunkOccurrences.get(Se))!==null&&De!==void 0?De:0)+1);Ne.push({text:We,tf:ze})}this.chunkCount+=Ne.length,this.documents.set(ae.key,{chunks:Ne})}return this}deleteDocument(Te){const De=this.documents.get(Te);if(De){this.documents.delete(Te),this.chunkCount-=De.chunks.length;for(const ae of De.chunks)for(const Ne of ae.tf.keys()){const We=this.chunkOccurrences.get(Ne);if(typeof We=="number"){const ze=We-1;ze<=0?this.chunkOccurrences.delete(Ne):this.chunkOccurrences.set(Ne,ze)}}}}computeSimilarityScore(Te,De,ae){let Ne=0;for(const[We,ze]of Object.entries(De)){const Se=Te.tf.get(We);if(!Se)continue;let ne=ae.get(We);typeof ne!="number"&&(ne=this.computeIdf(We),ae.set(We,ne));const ce=Se*ne;Ne+=ce*ze}return Ne}computeEmbedding(Te){const De=S.termFrequencies(Te);return this.computeTfidf(De)}computeIdf(Te){var De;const ae=(De=this.chunkOccurrences.get(Te))!==null&&De!==void 0?De:0;return ae>0?Math.log((this.chunkCount+1)/ae):0}computeTfidf(Te){const De=Object.create(null);for(const[ae,Ne]of Te){const We=this.computeIdf(ae);We>0&&(De[ae]=Ne*We)}return De}}function g(pe){var Te,De;const ae=pe.slice(0);ae.sort((We,ze)=>ze.score-We.score);const Ne=(De=(Te=ae[0])===null||Te===void 0?void 0:Te.score)!==null&&De!==void 0?De:0;if(Ne>0)for(const We of ae)We.score/=Ne;return ae}var y=e(94565),C=e(33108),L=e(28820),O=e(72065),T=e(91847),F=e(15393),B=e(71050),$;(function(pe){pe[pe.NO_ACTION=0]="NO_ACTION",pe[pe.CLOSE_PICKER=1]="CLOSE_PICKER",pe[pe.REFRESH_PICKER=2]="REFRESH_PICKER",pe[pe.REMOVE_ITEM=3]="REMOVE_ITEM"})($||($={}));function Y(pe){const Te=pe;return Array.isArray(Te.items)}function P(pe){const Te=pe;return!!Te.picks&&Te.additionalPicks instanceof Promise}class w extends f.JT{constructor(Te,De){super(),this.prefix=Te,this.options=De}provide(Te,De,ae){var Ne;const We=new f.SL;Te.canAcceptInBackground=!!(!((Ne=this.options)===null||Ne===void 0)&&Ne.canAcceptInBackground),Te.matchOnLabel=Te.matchOnDescription=Te.matchOnDetail=Te.sortByLabel=!1;let ze;const Se=We.add(new f.XK),ne=()=>qt(this,null,function*(){const ce=Se.value=new f.SL;ze==null||ze.dispose(!0),Te.busy=!1,ze=new B.A(De);const Oe=ze.token,Pe=Te.value.substr(this.prefix.length).trim(),Me=this._getPicks(Pe,ce,Oe,ae),ye=(se,ve)=>{var xe;let je,Ae;if(Y(se)?(je=se.items,Ae=se.active):je=se,je.length===0){if(ve)return!1;(Pe.length>0||Te.hideInput)&&(!((xe=this.options)===null||xe===void 0)&&xe.noResultsPick)&&((0,I.mf)(this.options.noResultsPick)?je=[this.options.noResultsPick(Pe)]:je=[this.options.noResultsPick])}return Te.items=je,Ae&&(Te.activeItems=[Ae]),!0},_e=se=>qt(this,null,function*(){let ve=!1,xe=!1;yield Promise.all([(()=>qt(this,null,function*(){typeof se.mergeDelay=="number"&&(yield(0,F.Vs)(se.mergeDelay),Oe.isCancellationRequested)||xe||(ve=ye(se.picks,!0))}))(),(()=>qt(this,null,function*(){Te.busy=!0;try{const je=yield se.additionalPicks;if(Oe.isCancellationRequested)return;let Ae,Qe;Y(se.picks)?(Ae=se.picks.items,Qe=se.picks.active):Ae=se.picks;let rt,Dt;if(Y(je)?(rt=je.items,Dt=je.active):rt=je,rt.length>0||!ve){let at;if(!Qe&&!Dt){const vt=Te.activeItems[0];vt&&Ae.indexOf(vt)!==-1&&(at=vt)}ye({items:[...Ae,...rt],active:Qe||Dt||at})}}finally{Oe.isCancellationRequested||(Te.busy=!1),xe=!0}}))()])});if(Me!==null)if(P(Me))yield _e(Me);else if(!(Me instanceof Promise))ye(Me);else{Te.busy=!0;try{const se=yield Me;if(Oe.isCancellationRequested)return;P(se)?yield _e(se):ye(se)}finally{Oe.isCancellationRequested||(Te.busy=!1)}}});return We.add(Te.onDidChangeValue(()=>ne())),ne(),We.add(Te.onDidAccept(ce=>{const[Oe]=Te.selectedItems;typeof(Oe==null?void 0:Oe.accept)=="function"&&(ce.inBackground||Te.hide(),Oe.accept(Te.keyMods,ce))})),We.add(Te.onDidTriggerItemButton(Pe=>qt(this,[Pe],function*({button:ce,item:Oe}){var Me,ye;if(typeof Oe.trigger=="function"){const _e=(ye=(Me=Oe.buttons)===null||Me===void 0?void 0:Me.indexOf(ce))!==null&&ye!==void 0?ye:-1;if(_e>=0){const se=Oe.trigger(_e,Te.keyMods),ve=typeof se=="number"?se:yield se;if(De.isCancellationRequested)return;switch(ve){case $.NO_ACTION:break;case $.CLOSE_PICKER:Te.hide();break;case $.REFRESH_PICKER:ne();break;case $.REMOVE_ITEM:{const xe=Te.items.indexOf(Oe);if(xe!==-1){const je=Te.items.slice(),Ae=je.splice(xe,1),Qe=Te.activeItems.filter(Dt=>Dt!==Ae[0]),rt=Te.keepScrollPosition;Te.keepScrollPosition=!0,Te.items=je,Qe&&(Te.activeItems=Qe),Te.keepScrollPosition=rt}break}}}}}))),We}}var V=e(87060),R=e(10829),A=function(pe,Te,De,ae){var Ne=arguments.length,We=Ne<3?Te:ae===null?ae=Object.getOwnPropertyDescriptor(Te,De):ae,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(pe,Te,De,ae);else for(var Se=pe.length-1;Se>=0;Se--)(ze=pe[Se])&&(We=(Ne<3?ze(We):Ne>3?ze(Te,De,We):ze(Te,De))||We);return Ne>3&&We&&Object.defineProperty(Te,De,We),We},H=function(pe,Te){return function(De,ae){Te(De,ae,pe)}},U,G;let j=U=class extends w{constructor(Te,De,ae,Ne,We,ze){super(U.PREFIX,Te),this.instantiationService=De,this.keybindingService=ae,this.commandService=Ne,this.telemetryService=We,this.dialogService=ze,this.commandsHistory=this._register(this.instantiationService.createInstance(W)),this.options=Te}_getPicks(Te,De,ae,Ne){return qt(this,null,function*(){var We,ze,Se,ne;const ce=yield this.getCommandPicks(ae);if(ae.isCancellationRequested)return[];const Oe=(0,n.M)(()=>{const xe=new S;xe.updateDocuments(ce.map(Ae=>({key:Ae.commandId,textChunks:[this.getTfIdfChunk(Ae)]})));const je=xe.calculateScores(Te,ae);return g(je).filter(Ae=>Ae.score>U.TFIDF_THRESHOLD).slice(0,U.TFIDF_MAX_RESULTS)}),Pe=[];for(const xe of ce){const je=(We=U.WORD_FILTER(Te,xe.label))!==null&&We!==void 0?We:void 0,Ae=xe.commandAlias&&(ze=U.WORD_FILTER(Te,xe.commandAlias))!==null&&ze!==void 0?ze:void 0;if(je||Ae)xe.highlights={label:je,detail:this.options.showAlias?Ae:void 0},Pe.push(xe);else if(Te===xe.commandId)Pe.push(xe);else if(Te.length>=3){const Qe=Oe();if(ae.isCancellationRequested)return[];const rt=Qe.find(Dt=>Dt.key===xe.commandId);rt&&(xe.tfIdfScore=rt.score,Pe.push(xe))}}const Me=new Map;for(const xe of Pe){const je=Me.get(xe.label);je?(xe.description=xe.commandId,je.description=je.commandId):Me.set(xe.label,xe)}Pe.sort((xe,je)=>{if(xe.tfIdfScore&&je.tfIdfScore)return xe.tfIdfScore===je.tfIdfScore?xe.label.localeCompare(je.label):je.tfIdfScore-xe.tfIdfScore;if(xe.tfIdfScore)return 1;if(je.tfIdfScore)return-1;const Ae=this.commandsHistory.peek(xe.commandId),Qe=this.commandsHistory.peek(je.commandId);if(Ae&&Qe)return Ae>Qe?-1:1;if(Ae)return-1;if(Qe)return 1;if(this.options.suggestedCommandIds){const rt=this.options.suggestedCommandIds.has(xe.commandId),Dt=this.options.suggestedCommandIds.has(je.commandId);if(rt&&Dt)return 0;if(rt)return-1;if(Dt)return 1}return xe.label.localeCompare(je.label)});const ye=[];let _e=!1,se=!0,ve=!!this.options.suggestedCommandIds;for(let xe=0;xe<Pe.length;xe++){const je=Pe[xe];xe===0&&this.commandsHistory.peek(je.commandId)&&(ye.push({type:"separator",label:(0,M.NC)("recentlyUsed","recently used")}),_e=!0),se&&je.tfIdfScore!==void 0&&(ye.push({type:"separator",label:(0,M.NC)("suggested","similar commands")}),se=!1),ve&&je.tfIdfScore===void 0&&!this.commandsHistory.peek(je.commandId)&&(!((Se=this.options.suggestedCommandIds)===null||Se===void 0)&&Se.has(je.commandId))&&(ye.push({type:"separator",label:(0,M.NC)("commonlyUsed","commonly used")}),_e=!0,ve=!1),_e&&je.tfIdfScore===void 0&&!this.commandsHistory.peek(je.commandId)&&!(!((ne=this.options.suggestedCommandIds)===null||ne===void 0)&&ne.has(je.commandId))&&(ye.push({type:"separator",label:(0,M.NC)("morecCommands","other commands")}),_e=!1),ye.push(this.toCommandPick(je,Ne))}return this.hasAdditionalCommandPicks(Te,ae)?{picks:ye,additionalPicks:(()=>qt(this,null,function*(){var xe;const je=yield this.getAdditionalCommandPicks(ce,Pe,Te,ae);if(ae.isCancellationRequested)return[];const Ae=je.map(Qe=>this.toCommandPick(Qe,Ne));return se&&((xe=Ae[0])===null||xe===void 0?void 0:xe.type)!=="separator"&&Ae.unshift({type:"separator",label:(0,M.NC)("suggested","similar commands")}),Ae}))()}:ye})}toCommandPick(Te,De){if(Te.type==="separator")return Te;const ae=this.keybindingService.lookupKeybinding(Te.commandId),Ne=ae?(0,M.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",Te.label,ae.getAriaLabel()):Te.label;return Ln(Xi({},Te),{ariaLabel:Ne,detail:this.options.showAlias&&Te.commandAlias!==Te.label?Te.commandAlias:void 0,keybinding:ae,accept:()=>qt(this,null,function*(){var We,ze;this.commandsHistory.push(Te.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Te.commandId,from:(We=De==null?void 0:De.from)!==null&&We!==void 0?We:"quick open"});try{!((ze=Te.args)===null||ze===void 0)&&ze.length?yield this.commandService.executeCommand(Te.commandId,...Te.args):yield this.commandService.executeCommand(Te.commandId)}catch(Se){(0,u.n2)(Se)||this.dialogService.error((0,M.NC)("canNotRun","Command '{0}' resulted in an error",Te.label),d(Se))}})})}getTfIdfChunk({label:Te,commandAlias:De,commandDescription:ae}){let Ne=Te;return De&&De!==Te&&(Ne+=` - ${De}`),ae&&ae.value!==Te&&(Ne+=` - ${ae.value===ae.original?ae.value:`${ae.value} (${ae.original})`}`),Ne}};j.PREFIX=">",j.TFIDF_THRESHOLD=.5,j.TFIDF_MAX_RESULTS=5,j.WORD_FILTER=(0,i.or)(i.Ji,i.KZ,i.ir),j=U=A([H(1,O.TG),H(2,T.d),H(3,y.H),H(4,R.b),H(5,L.S)],j);let W=G=class extends f.JT{constructor(Te,De){super(),this.storageService=Te,this.configurationService=De,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Te=>this.updateConfiguration(Te))),this._register(this.storageService.onWillSaveState(Te=>{Te.reason===V.fk.SHUTDOWN&&this.saveState()}))}updateConfiguration(Te){Te&&!Te.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=G.getConfiguredCommandHistoryLength(this.configurationService),G.cache&&G.cache.limit!==this.configuredCommandsHistoryLength&&(G.cache.limit=this.configuredCommandsHistoryLength,G.hasChanges=!0))}load(){const Te=this.storageService.get(G.PREF_KEY_CACHE,0);let De;if(Te)try{De=JSON.parse(Te)}catch(Ne){}const ae=G.cache=new v.z6(this.configuredCommandsHistoryLength,1);if(De){let Ne;De.usesLRU?Ne=De.entries:Ne=De.entries.sort((We,ze)=>We.value-ze.value),Ne.forEach(We=>ae.set(We.key,We.value))}G.counter=this.storageService.getNumber(G.PREF_KEY_COUNTER,0,G.counter)}push(Te){G.cache&&(G.cache.set(Te,G.counter++),G.hasChanges=!0)}peek(Te){var De;return(De=G.cache)===null||De===void 0?void 0:De.peek(Te)}saveState(){if(!G.cache||!G.hasChanges)return;const Te={usesLRU:!0,entries:[]};G.cache.forEach((De,ae)=>Te.entries.push({key:ae,value:De})),this.storageService.store(G.PREF_KEY_CACHE,JSON.stringify(Te),0,0),this.storageService.store(G.PREF_KEY_COUNTER,G.counter,0,0),G.hasChanges=!1}static getConfiguredCommandHistoryLength(Te){var De,ae;const We=(ae=(De=Te.getValue().workbench)===null||De===void 0?void 0:De.commandPalette)===null||ae===void 0?void 0:ae.history;return typeof We=="number"?We:G.DEFAULT_COMMANDS_HISTORY_LENGTH}};W.DEFAULT_COMMANDS_HISTORY_LENGTH=50,W.PREF_KEY_CACHE="commandPalette.mru.cache",W.PREF_KEY_COUNTER="commandPalette.mru.counter",W.counter=1,W.hasChanges=!1,W=G=A([H(0,V.Uy),H(1,C.Ui)],W);class K extends j{constructor(Te,De,ae,Ne,We,ze){super(Te,De,ae,Ne,We,ze)}getCodeEditorCommandPicks(){const Te=this.activeTextEditorControl;if(!Te)return[];const De=[];for(const ae of Te.getSupportedActions())De.push({commandId:ae.id,commandAlias:ae.alias,label:(0,c.x$)(ae.label)||ae.id});return De}}var m=e(16830),J=e(29102),X=e(41157),ie=function(pe,Te,De,ae){var Ne=arguments.length,We=Ne<3?Te:ae===null?ae=Object.getOwnPropertyDescriptor(Te,De):ae,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(pe,Te,De,ae);else for(var Se=pe.length-1;Se>=0;Se--)(ze=pe[Se])&&(We=(Ne<3?ze(We):Ne>3?ze(Te,De,We):ze(Te,De))||We);return Ne>3&&We&&Object.defineProperty(Te,De,We),We},le=function(pe,Te){return function(De,ae){Te(De,ae,pe)}};let fe=class extends K{get activeTextEditorControl(){var Te;return(Te=this.codeEditorService.getFocusedCodeEditor())!==null&&Te!==void 0?Te:void 0}constructor(Te,De,ae,Ne,We,ze){super({showAlias:!1},Te,ae,Ne,We,ze),this.codeEditorService=De}getCommandPicks(){return qt(this,null,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return qt(this,null,function*(){return[]})}};fe=ie([le(0,O.TG),le(1,E.$),le(2,T.d),le(3,y.H),le(4,R.b),le(5,L.S)],fe);class Le extends m.R6{constructor(){super({id:Le.ID,label:r.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:J.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(Te){Te.get(X.eJ).quickAccess.show(fe.PREFIX)}}Le.ID="editor.action.quickCommand",(0,m.Qr)(Le),b.B.as(z.IP.Quickaccess).registerQuickAccessProvider({ctor:fe,prefix:fe.PREFIX,helpEntries:[{description:r.UX.quickCommandHelp,commandId:Le.ID}]})},62078:function(Pt,Ke,e){"use strict";var b=e(5976),z=e(65520),r=e(83943),E=e(63580);class c extends r.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(S){const g=(0,E.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return S.items=[{label:g}],S.ariaLabel=g,b.JT.None}provideWithTextEditor(S,g,y){const C=S.editor,L=new b.SL;L.add(g.onDidAccept(F=>{const[B]=g.selectedItems;if(B){if(!this.isValidLineNumber(C,B.lineNumber))return;this.gotoLocation(S,{range:this.toRange(B.lineNumber,B.column),keyMods:g.keyMods,preserveFocus:F.inBackground}),F.inBackground||g.hide()}}));const O=()=>{const F=this.parsePosition(C,g.value.trim().substr(c.PREFIX.length)),B=this.getPickLabel(C,F.lineNumber,F.column);if(g.items=[{lineNumber:F.lineNumber,column:F.column,label:B}],g.ariaLabel=B,!this.isValidLineNumber(C,F.lineNumber)){this.clearDecorations(C);return}const $=this.toRange(F.lineNumber,F.column);C.revealRangeInCenter($,0),this.addDecorations(C,$)};O(),L.add(g.onDidChangeValue(()=>O()));const T=(0,z.Pi)(C);return T&&T.getOptions().get(67).renderType===2&&(T.updateOptions({lineNumbers:"on"}),L.add((0,b.OF)(()=>T.updateOptions({lineNumbers:"relative"})))),L}toRange(S=1,g=1){return{startLineNumber:S,startColumn:g,endLineNumber:S,endColumn:g}}parsePosition(S,g){const y=g.split(/,|:|#/).map(L=>parseInt(L,10)).filter(L=>!isNaN(L)),C=this.lineCount(S)+1;return{lineNumber:y[0]>0?y[0]:C+y[0],column:y[1]}}getPickLabel(S,g,y){if(this.isValidLineNumber(S,g))return this.isValidColumn(S,g,y)?(0,E.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",g,y):(0,E.NC)("gotoLineLabel","Go to line {0}.",g);const C=S.getPosition()||{lineNumber:1,column:1},L=this.lineCount(S);return L>1?(0,E.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",C.lineNumber,C.column,L):(0,E.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",C.lineNumber,C.column)}isValidLineNumber(S,g){return!g||typeof g!="number"?!1:g>0&&g<=this.lineCount(S)}isValidColumn(S,g,y){if(!y||typeof y!="number")return!1;const C=this.getModel(S);if(!C)return!1;const L={lineNumber:g,column:y};return C.validatePosition(L).equals(L)}lineCount(S){var g,y;return(y=(g=this.getModel(S))===null||g===void 0?void 0:g.getLineCount())!==null&&y!==void 0?y:0}}c.PREFIX=":";var _=e(89872),I=e(90725),M=e(11640),D=e(20913),p=e(4669),o=e(16830),d=e(29102),u=e(41157),i=function(a,S,g,y){var C=arguments.length,L=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,g):y,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(a,S,g,y);else for(var T=a.length-1;T>=0;T--)(O=a[T])&&(L=(C<3?O(L):C>3?O(S,g,L):O(S,g))||L);return C>3&&L&&Object.defineProperty(S,g,L),L},n=function(a,S){return function(g,y){S(g,y,a)}};let f=class extends c{constructor(S){super(),this.editorService=S,this.onDidActiveTextEditorControlChange=p.ju.None}get activeTextEditorControl(){var S;return(S=this.editorService.getFocusedCodeEditor())!==null&&S!==void 0?S:void 0}};f=i([n(0,M.$)],f);class v extends o.R6{constructor(){super({id:v.ID,label:D.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:d.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(S){S.get(u.eJ).quickAccess.show(f.PREFIX)}}v.ID="editor.action.gotoLine",(0,o.Qr)(v),_.B.as(I.IP.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:f.PREFIX,helpEntries:[{description:D.qq.gotoLineActionLabel,commandId:v.ID}]})},96816:function(Pt,Ke,e){"use strict";var b=e(15375),z=e(34066),r=e(15393),E=e(71050),c=e(73046),_=e(25670),I=e(60075),M=e(82663),D=e(1432),p=e(97295);const o=[void 0,[]];function d(Te,De,ae=0,Ne=0){const We=De;return We.values&&We.values.length>1?u(Te,We.values,ae,Ne):i(Te,De,ae,Ne)}function u(Te,De,ae,Ne){let We=0;const ze=[];for(const Se of De){const[ne,ce]=i(Te,Se,ae,Ne);if(typeof ne!="number")return o;We+=ne,ze.push(...ce)}return[We,f(ze)]}function i(Te,De,ae,Ne){const We=(0,I.EW)(De.original,De.originalLowercase,ae,Te,Te.toLowerCase(),Ne,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return We?[We[0],(0,I.mB)(We)]:o}const n=Object.freeze({score:0});function f(Te){const De=Te.sort((We,ze)=>We.start-ze.start),ae=[];let Ne;for(const We of De)!Ne||!v(Ne,We)?(Ne=We,ae.push(We)):(Ne.start=Math.min(Ne.start,We.start),Ne.end=Math.max(Ne.end,We.end));return ae}function v(Te,De){return!(Te.end<De.start||De.end<Te.start)}function a(Te){return Te.startsWith('"')&&Te.endsWith('"')}const S=" ";function g(Te){typeof Te!="string"&&(Te="");const De=Te.toLowerCase(),{pathNormalized:ae,normalized:Ne,normalizedLowercase:We}=y(Te),ze=ae.indexOf(M.ir)>=0,Se=a(Te);let ne;const ce=Te.split(S);if(ce.length>1)for(const Oe of ce){const Pe=a(Oe),{pathNormalized:Me,normalized:ye,normalizedLowercase:_e}=y(Oe);ye&&(ne||(ne=[]),ne.push({original:Oe,originalLowercase:Oe.toLowerCase(),pathNormalized:Me,normalized:ye,normalizedLowercase:_e,expectContiguousMatch:Pe}))}return{original:Te,originalLowercase:De,pathNormalized:ae,normalized:Ne,normalizedLowercase:We,values:ne,containsPathSeparator:ze,expectContiguousMatch:Se}}function y(Te){let De;D.ED?De=Te.replace(/\//g,M.ir):De=Te.replace(/\\/g,M.ir);const ae=(0,p.R1)(De).replace(/\s|"/g,"");return{pathNormalized:De,normalized:ae,normalizedLowercase:ae.toLowerCase()}}function C(Te){return Array.isArray(Te)?g(Te.map(De=>De.original).join(S)):g(Te.original)}var L=e(5976),O=e(24314),T=e(43155),F=e(30335),B=e(83943),$=e(63580),Y=e(71922),P=e(35534),w=function(Te,De,ae,Ne){var We=arguments.length,ze=We<3?De:Ne===null?Ne=Object.getOwnPropertyDescriptor(De,ae):Ne,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate(Te,De,ae,Ne);else for(var ne=Te.length-1;ne>=0;ne--)(Se=Te[ne])&&(ze=(We<3?Se(ze):We>3?Se(De,ae,ze):Se(De,ae))||ze);return We>3&&ze&&Object.defineProperty(De,ae,ze),ze},V=function(Te,De){return function(ae,Ne){De(ae,Ne,Te)}},R;let A=R=class extends B.X{constructor(De,ae,Ne=Object.create(null)){super(Ne),this._languageFeaturesService=De,this._outlineModelService=ae,this.options=Ne,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(De){return this.provideLabelPick(De,(0,$.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),L.JT.None}provideWithTextEditor(De,ae,Ne){const We=De.editor,ze=this.getModel(We);return ze?this._languageFeaturesService.documentSymbolProvider.has(ze)?this.doProvideWithEditorSymbols(De,ze,ae,Ne):this.doProvideWithoutEditorSymbols(De,ze,ae,Ne):L.JT.None}doProvideWithoutEditorSymbols(De,ae,Ne,We){const ze=new L.SL;return this.provideLabelPick(Ne,(0,$.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),qt(this,null,function*(){!(yield this.waitForLanguageSymbolRegistry(ae,ze))||We.isCancellationRequested||ze.add(this.doProvideWithEditorSymbols(De,ae,Ne,We))}),ze}provideLabelPick(De,ae){De.items=[{label:ae,index:0,kind:14}],De.ariaLabel=ae}waitForLanguageSymbolRegistry(De,ae){return qt(this,null,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(De))return!0;const Ne=new r.CR,We=ae.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(De)&&(We.dispose(),Ne.complete(!0))}));return ae.add((0,L.OF)(()=>Ne.complete(!1))),Ne.p})}doProvideWithEditorSymbols(De,ae,Ne,We){var ze;const Se=De.editor,ne=new L.SL;ne.add(Ne.onDidAccept(Me=>{const[ye]=Ne.selectedItems;ye&&ye.range&&(this.gotoLocation(De,{range:ye.range.selection,keyMods:Ne.keyMods,preserveFocus:Me.inBackground}),Me.inBackground||Ne.hide())})),ne.add(Ne.onDidTriggerItemButton(({item:Me})=>{Me&&Me.range&&(this.gotoLocation(De,{range:Me.range.selection,keyMods:Ne.keyMods,forceSideBySide:!0}),Ne.hide())}));const ce=this.getDocumentSymbols(ae,We);let Oe;const Pe=Me=>qt(this,null,function*(){Oe==null||Oe.dispose(!0),Ne.busy=!1,Oe=new E.A(We),Ne.busy=!0;try{const ye=g(Ne.value.substr(R.PREFIX.length).trim()),_e=yield this.doGetSymbolPicks(ce,ye,void 0,Oe.token);if(We.isCancellationRequested)return;if(_e.length>0){if(Ne.items=_e,Me&&ye.original.length===0){const se=(0,P.dF)(_e,ve=>!!(ve.type!=="separator"&&ve.range&&O.e.containsPosition(ve.range.decoration,Me)));se&&(Ne.activeItems=[se])}}else ye.original.length>0?this.provideLabelPick(Ne,(0,$.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(Ne,(0,$.NC)("noSymbolResults","No editor symbols"))}finally{We.isCancellationRequested||(Ne.busy=!1)}});return ne.add(Ne.onDidChangeValue(()=>Pe(void 0))),Pe((ze=Se.getSelection())===null||ze===void 0?void 0:ze.getPosition()),ne.add(Ne.onDidChangeActive(()=>{const[Me]=Ne.activeItems;Me&&Me.range&&(Se.revealRangeInCenter(Me.range.selection,0),this.addDecorations(Se,Me.range.decoration))})),ne}doGetSymbolPicks(De,ae,Ne,We){return qt(this,null,function*(){var ze,Se;const ne=yield De;if(We.isCancellationRequested)return[];const ce=ae.original.indexOf(R.SCOPE_PREFIX)===0,Oe=ce?1:0;let Pe,Me;ae.values&&ae.values.length>1?(Pe=C(ae.values[0]),Me=C(ae.values.slice(1))):Pe=ae;let ye;const _e=(Se=(ze=this.options)===null||ze===void 0?void 0:ze.openSideBySideDirection)===null||Se===void 0?void 0:Se.call(ze);_e&&(ye=[{iconClass:_e==="right"?_.k.asClassName(c.l.splitHorizontal):_.k.asClassName(c.l.splitVertical),tooltip:_e==="right"?(0,$.NC)("openToSide","Open to the Side"):(0,$.NC)("openToBottom","Open to the Bottom")}]);const se=[];for(let je=0;je<ne.length;je++){const Ae=ne[je],Qe=(0,p.fy)(Ae.name),rt=`$(${T.uZ.toIcon(Ae.kind).id}) ${Qe}`,Dt=rt.length-Qe.length;let at=Ae.containerName;Ne!=null&&Ne.extraContainerLabel&&(at?at=`${Ne.extraContainerLabel} \u2022 ${at}`:at=Ne.extraContainerLabel);let vt,Mt,ti,Ft;if(ae.original.length>Oe){let Xt=!1;if(Pe!==ae&&([vt,Mt]=d(rt,Ln(Xi({},ae),{values:void 0}),Oe,Dt),typeof vt=="number"&&(Xt=!0)),typeof vt!="number"&&([vt,Mt]=d(rt,Pe,Oe,Dt),typeof vt!="number"))continue;if(!Xt&&Me){if(at&&Me.original.length>0&&([ti,Ft]=d(at,Me)),typeof ti!="number")continue;typeof vt=="number"&&(vt+=ti)}}const ei=Ae.tags&&Ae.tags.indexOf(1)>=0;se.push({index:je,kind:Ae.kind,score:vt,label:rt,ariaLabel:(0,T.R4)(Ae.name,Ae.kind),description:at,highlights:ei?void 0:{label:Mt,description:Ft},range:{selection:O.e.collapseToStart(Ae.selectionRange),decoration:Ae.range},strikethrough:ei,buttons:ye})}const ve=se.sort((je,Ae)=>ce?this.compareByKindAndScore(je,Ae):this.compareByScore(je,Ae));let xe=[];if(ce){let rt=function(){Ae&&typeof je=="number"&&Qe>0&&(Ae.label=(0,p.WU)(U[je]||H,Qe))},je,Ae,Qe=0;for(const Dt of ve)je!==Dt.kind?(rt(),je=Dt.kind,Qe=1,Ae={type:"separator"},xe.push(Ae)):Qe++,xe.push(Dt);rt()}else ve.length>0&&(xe=[{label:(0,$.NC)("symbols","symbols ({0})",se.length),type:"separator"},...ve]);return xe})}compareByScore(De,ae){if(typeof De.score!="number"&&typeof ae.score=="number")return 1;if(typeof De.score=="number"&&typeof ae.score!="number")return-1;if(typeof De.score=="number"&&typeof ae.score=="number"){if(De.score>ae.score)return-1;if(De.score<ae.score)return 1}return De.index<ae.index?-1:De.index>ae.index?1:0}compareByKindAndScore(De,ae){const Ne=U[De.kind]||H,We=U[ae.kind]||H,ze=Ne.localeCompare(We);return ze===0?this.compareByScore(De,ae):ze}getDocumentSymbols(De,ae){return qt(this,null,function*(){const Ne=yield this._outlineModelService.getOrCreate(De,ae);return ae.isCancellationRequested?[]:Ne.asListOfDocumentSymbols()})}};A.PREFIX="@",A.SCOPE_PREFIX=":",A.PREFIX_BY_CATEGORY=`${R.PREFIX}${R.SCOPE_PREFIX}`,A=R=w([V(0,Y.p),V(1,F.Je)],A);const H=(0,$.NC)("property","properties ({0})"),U={[5]:(0,$.NC)("method","methods ({0})"),[11]:(0,$.NC)("function","functions ({0})"),[8]:(0,$.NC)("_constructor","constructors ({0})"),[12]:(0,$.NC)("variable","variables ({0})"),[4]:(0,$.NC)("class","classes ({0})"),[22]:(0,$.NC)("struct","structs ({0})"),[23]:(0,$.NC)("event","events ({0})"),[24]:(0,$.NC)("operator","operators ({0})"),[10]:(0,$.NC)("interface","interfaces ({0})"),[2]:(0,$.NC)("namespace","namespaces ({0})"),[3]:(0,$.NC)("package","packages ({0})"),[25]:(0,$.NC)("typeParameter","type parameters ({0})"),[1]:(0,$.NC)("modules","modules ({0})"),[6]:(0,$.NC)("property","properties ({0})"),[9]:(0,$.NC)("enum","enumerations ({0})"),[21]:(0,$.NC)("enumMember","enumeration members ({0})"),[14]:(0,$.NC)("string","strings ({0})"),[0]:(0,$.NC)("file","files ({0})"),[17]:(0,$.NC)("array","arrays ({0})"),[15]:(0,$.NC)("number","numbers ({0})"),[16]:(0,$.NC)("boolean","booleans ({0})"),[18]:(0,$.NC)("object","objects ({0})"),[19]:(0,$.NC)("key","keys ({0})"),[7]:(0,$.NC)("field","fields ({0})"),[13]:(0,$.NC)("constant","constants ({0})")};var G=e(89872),j=e(90725),W=e(11640),K=e(20913),m=e(4669),J=e(16830),X=e(29102),ie=e(41157),le=function(Te,De,ae,Ne){var We=arguments.length,ze=We<3?De:Ne===null?Ne=Object.getOwnPropertyDescriptor(De,ae):Ne,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate(Te,De,ae,Ne);else for(var ne=Te.length-1;ne>=0;ne--)(Se=Te[ne])&&(ze=(We<3?Se(ze):We>3?Se(De,ae,ze):Se(De,ae))||ze);return We>3&&ze&&Object.defineProperty(De,ae,ze),ze},fe=function(Te,De){return function(ae,Ne){De(ae,Ne,Te)}};let Le=class extends A{constructor(De,ae,Ne){super(ae,Ne),this.editorService=De,this.onDidActiveTextEditorControlChange=m.ju.None}get activeTextEditorControl(){var De;return(De=this.editorService.getFocusedCodeEditor())!==null&&De!==void 0?De:void 0}};Le=le([fe(0,W.$),fe(1,Y.p),fe(2,F.Je)],Le);class pe extends J.R6{constructor(){super({id:pe.ID,label:K.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:X.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:X.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(De){De.get(ie.eJ).quickAccess.show(A.PREFIX,{itemActivation:ie.jG.NONE})}}pe.ID="editor.action.quickOutline",(0,J.Qr)(pe),G.B.as(j.IP.Quickaccess).registerQuickAccessProvider({ctor:Le,prefix:A.PREFIX,helpEntries:[{description:K.aq.quickOutlineActionLabel,prefix:A.PREFIX,commandId:pe.ID},{description:K.aq.quickOutlineByCategoryActionLabel,prefix:A.PREFIX_BY_CATEGORY}]})},60669:function(Pt,Ke,e){"use strict";var b=e(89872),z=e(90725),r=e(20913),E=e(63580),c=e(5976),_=e(91847),I=e(41157),M=function(d,u,i,n){var f=arguments.length,v=f<3?u:n===null?n=Object.getOwnPropertyDescriptor(u,i):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,u,i,n);else for(var S=d.length-1;S>=0;S--)(a=d[S])&&(v=(f<3?a(v):f>3?a(u,i,v):a(u,i))||v);return f>3&&v&&Object.defineProperty(u,i,v),v},D=function(d,u){return function(i,n){u(i,n,d)}},p;let o=p=class{constructor(u,i){this.quickInputService=u,this.keybindingService=i,this.registry=b.B.as(z.IP.Quickaccess)}provide(u){const i=new c.SL;return i.add(u.onDidAccept(()=>{const[n]=u.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),i.add(u.onDidChangeValue(n=>{const f=this.registry.getQuickAccessProvider(n.substr(p.PREFIX.length));f&&f.prefix&&f.prefix!==p.PREFIX&&this.quickInputService.quickAccess.show(f.prefix,{preserveValue:!0})})),u.items=this.getQuickAccessProviders().filter(n=>n.prefix!==p.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,n)=>i.prefix.localeCompare(n.prefix)).flatMap(i=>this.createPicks(i))}createPicks(u){return u.helpEntries.map(i=>{const n=i.prefix||u.prefix,f=n||"\u2026";return{prefix:n,label:f,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,E.NC)("helpPickAriaLabel","{0}, {1}",f,i.description),description:i.description}})}};o.PREFIX="?",o=p=M([D(0,I.eJ),D(1,_.d)],o),b.B.as(z.IP.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:"",helpEntries:[{description:r.ld.helpQuickAccessActionLabel}]})},45048:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(11640),r=e(2444),E=e(33108),c=e(32064),_=e(72065),I=e(48894),M=e(87060),D=function(d,u,i,n){var f=arguments.length,v=f<3?u:n===null?n=Object.getOwnPropertyDescriptor(u,i):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,u,i,n);else for(var S=d.length-1;S>=0;S--)(a=d[S])&&(v=(f<3?a(v):f>3?a(u,i,v):a(u,i))||v);return f>3&&v&&Object.defineProperty(u,i,v),v},p=function(d,u){return function(i,n){u(i,n,d)}};let o=class extends r.J{constructor(u,i,n,f,v,a,S){super(!0,u,i,n,f,v,a,S)}};o=D([p(1,c.i6),p(2,z.$),p(3,I.lT),p(4,_.TG),p(5,M.Uy),p(6,E.Ui)],o),(0,b._K)(r.J.ID,o,4)},88542:function(Pt,Ke,e){"use strict";e.d(Ke,{kR:function(){return U},MU:function(){return G},nI:function(){return ie},rW:function(){return H},TG:function(){return A}});var b=e(65321),z=e(16268),r=e(41264),E=e(4669),c=e(43155),_=e(45797);class I{constructor(fe,Le,pe,Te,De){this._parsedThemeRuleBrand=void 0,this.token=fe,this.index=Le,this.fontStyle=pe,this.foreground=Te,this.background=De}}function M(le){if(!le||!Array.isArray(le))return[];const fe=[];let Le=0;for(let pe=0,Te=le.length;pe<Te;pe++){const De=le[pe];let ae=-1;if(typeof De.fontStyle=="string"){ae=0;const ze=De.fontStyle.split(" ");for(let Se=0,ne=ze.length;Se<ne;Se++)switch(ze[Se]){case"italic":ae=ae|1;break;case"bold":ae=ae|2;break;case"underline":ae=ae|4;break;case"strikethrough":ae=ae|8;break}}let Ne=null;typeof De.foreground=="string"&&(Ne=De.foreground);let We=null;typeof De.background=="string"&&(We=De.background),fe[Le++]=new I(De.token||"",pe,ae,Ne,We)}return fe}function D(le,fe){le.sort((Se,ne)=>{const ce=n(Se.token,ne.token);return ce!==0?ce:Se.index-ne.index});let Le=0,pe="000000",Te="ffffff";for(;le.length>=1&&le[0].token==="";){const Se=le.shift();Se.fontStyle!==-1&&(Le=Se.fontStyle),Se.foreground!==null&&(pe=Se.foreground),Se.background!==null&&(Te=Se.background)}const De=new o;for(const Se of fe)De.getId(Se);const ae=De.getId(pe),Ne=De.getId(Te),We=new f(Le,ae,Ne),ze=new v(We);for(let Se=0,ne=le.length;Se<ne;Se++){const ce=le[Se];ze.insert(ce.token,ce.fontStyle,De.getId(ce.foreground),De.getId(ce.background))}return new d(De,ze)}const p=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class o{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(fe){if(fe===null)return 0;const Le=fe.match(p);if(!Le)throw new Error("Illegal value for token color: "+fe);fe=Le[1].toUpperCase();let pe=this._color2id.get(fe);return pe||(pe=++this._lastColorId,this._color2id.set(fe,pe),this._id2color[pe]=r.Il.fromHex("#"+fe),pe)}getColorMap(){return this._id2color.slice(0)}}class d{static createFromRawTokenTheme(fe,Le){return this.createFromParsedTokenTheme(M(fe),Le)}static createFromParsedTokenTheme(fe,Le){return D(fe,Le)}constructor(fe,Le){this._colorMap=fe,this._root=Le,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(fe){return this._root.match(fe)}match(fe,Le){let pe=this._cache.get(Le);if(typeof pe=="undefined"){const Te=this._match(Le),De=i(Le);pe=(Te.metadata|De<<8)>>>0,this._cache.set(Le,pe)}return(pe|fe<<0)>>>0}}const u=/\b(comment|string|regex|regexp)\b/;function i(le){const fe=le.match(u);if(!fe)return 0;switch(fe[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function n(le,fe){return le<fe?-1:le>fe?1:0}class f{constructor(fe,Le,pe){this._themeTrieElementRuleBrand=void 0,this._fontStyle=fe,this._foreground=Le,this._background=pe,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new f(this._fontStyle,this._foreground,this._background)}acceptOverwrite(fe,Le,pe){fe!==-1&&(this._fontStyle=fe),Le!==0&&(this._foreground=Le),pe!==0&&(this._background=pe),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class v{constructor(fe){this._themeTrieElementBrand=void 0,this._mainRule=fe,this._children=new Map}match(fe){if(fe==="")return this._mainRule;const Le=fe.indexOf(".");let pe,Te;Le===-1?(pe=fe,Te=""):(pe=fe.substring(0,Le),Te=fe.substring(Le+1));const De=this._children.get(pe);return typeof De!="undefined"?De.match(Te):this._mainRule}insert(fe,Le,pe,Te){if(fe===""){this._mainRule.acceptOverwrite(Le,pe,Te);return}const De=fe.indexOf(".");let ae,Ne;De===-1?(ae=fe,Ne=""):(ae=fe.substring(0,De),Ne=fe.substring(De+1));let We=this._children.get(ae);typeof We=="undefined"&&(We=new v(this._mainRule.clone()),this._children.set(ae,We)),We.insert(Ne,Le,pe,Te)}}function a(le){const fe=[];for(let Le=1,pe=le.length;Le<pe;Le++){const Te=le[Le];fe[Le]=`.mtk${Le} { color: ${Te}; }`}return fe.push(".mtki { font-style: italic; }"),fe.push(".mtkb { font-weight: bold; }"),fe.push(".mtku { text-decoration: underline; text-underline-position: under; }"),fe.push(".mtks { text-decoration: line-through; }"),fe.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),fe.join(`
`)}var S=e(8625),g=e(73910);const y={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[g.cvW]:"#FFFFFE",[g.NOs]:"#000000",[g.ES4]:"#E5EBF1",[S.gS]:"#D3D3D3",[S.qe]:"#939393",[g.Rzx]:"#ADD6FF4D"}},C={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[g.cvW]:"#1E1E1E",[g.NOs]:"#D4D4D4",[g.ES4]:"#3A3D41",[S.gS]:"#404040",[S.qe]:"#707070",[g.Rzx]:"#ADD6FF26"}},L={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[g.cvW]:"#000000",[g.NOs]:"#FFFFFF",[S.gS]:"#FFFFFF",[S.qe]:"#FFFFFF"}},O={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[g.cvW]:"#FFFFFF",[g.NOs]:"#292929",[S.gS]:"#292929",[S.qe]:"#292929"}};var T=e(89872),F=e(97781),B=e(5976),$=e(92321),Y=e(25670),P=e(59554);function w(le){const fe=new B.SL,Le=fe.add(new E.Q5),pe=(0,P.Ks)();return fe.add(pe.onDidChange(()=>Le.fire())),le&&fe.add(le.onDidProductIconThemeChange(()=>Le.fire())),{dispose:()=>fe.dispose(),onDidChange:Le.event,getCSS(){const Te=le?le.getProductIconTheme():new V,De={},ae=We=>{const ze=Te.getIcon(We);if(!ze)return;const Se=ze.font;return Se?(De[Se.id]=Se.definition,`.codicon-${We.id}:before { content: '${ze.fontCharacter}'; font-family: ${(0,b._h)(Se.id)}; }`):`.codicon-${We.id}:before { content: '${ze.fontCharacter}'; }`},Ne=[];for(const We of pe.getIcons()){const ze=ae(We);ze&&Ne.push(ze)}for(const We in De){const ze=De[We],Se=ze.weight?`font-weight: ${ze.weight};`:"",ne=ze.style?`font-style: ${ze.style};`:"",ce=ze.src.map(Oe=>`${(0,b.wY)(Oe.location)} format('${Oe.format}')`).join(", ");Ne.push(`@font-face { src: ${ce}; font-family: ${(0,b._h)(We)};${Se}${ne} font-display: block; }`)}return Ne.join(`
`)}}}class V{getIcon(fe){const Le=(0,P.Ks)();let pe=fe.defaults;for(;Y.k.isThemeIcon(pe);){const Te=Le.getIcon(pe.id);if(!Te)return;pe=Te.defaults}return pe}}var R=e(48906);const A="vs",H="vs-dark",U="hc-black",G="hc-light",j=T.B.as(g.IPX.ColorContribution),W=T.B.as(F.IP.ThemingContribution);class K{constructor(fe,Le){this.semanticHighlighting=!1,this.themeData=Le;const pe=Le.base;fe.length>0?(m(fe)?this.id=fe:this.id=pe+" "+fe,this.themeName=fe):(this.id=pe,this.themeName=pe),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const fe=new Map;for(const Le in this.themeData.colors)fe.set(Le,r.Il.fromHex(this.themeData.colors[Le]));if(this.themeData.inherit){const Le=J(this.themeData.base);for(const pe in Le.colors)fe.has(pe)||fe.set(pe,r.Il.fromHex(Le.colors[pe]))}this.colors=fe}return this.colors}getColor(fe,Le){const pe=this.getColors().get(fe);if(pe)return pe;if(Le!==!1)return this.getDefault(fe)}getDefault(fe){let Le=this.defaultColors[fe];return Le||(Le=j.resolveDefaultColor(fe,this),this.defaultColors[fe]=Le,Le)}defines(fe){return this.getColors().has(fe)}get type(){switch(this.base){case A:return $.eL.LIGHT;case U:return $.eL.HIGH_CONTRAST_DARK;case G:return $.eL.HIGH_CONTRAST_LIGHT;default:return $.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let fe=[],Le=[];if(this.themeData.inherit){const De=J(this.themeData.base);fe=De.rules,De.encodedTokensColors&&(Le=De.encodedTokensColors)}const pe=this.themeData.colors["editor.foreground"],Te=this.themeData.colors["editor.background"];if(pe||Te){const De={token:""};pe&&(De.foreground=pe),Te&&(De.background=Te),fe.push(De)}fe=fe.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Le=this.themeData.encodedTokensColors),this._tokenTheme=d.createFromRawTokenTheme(fe,Le)}return this._tokenTheme}getTokenStyleMetadata(fe,Le,pe){const De=this.tokenTheme._match([fe].concat(Le).join(".")).metadata,ae=_.N.getForeground(De),Ne=_.N.getFontStyle(De);return{foreground:ae,italic:!!(Ne&1),bold:!!(Ne&2),underline:!!(Ne&4),strikethrough:!!(Ne&8)}}}function m(le){return le===A||le===H||le===U||le===G}function J(le){switch(le){case A:return y;case H:return C;case U:return L;case G:return O}}function X(le){const fe=J(le);return new K(le,fe)}class ie extends B.JT{constructor(){super(),this._onColorThemeChange=this._register(new E.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new E.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new V,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(A,X(A)),this._knownThemes.set(H,X(H)),this._knownThemes.set(U,X(U)),this._knownThemes.set(G,X(G));const fe=this._register(w(this));this._codiconCSS=fe.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(A),this._onOSSchemeChanged(),this._register(fe.onDidChange(()=>{this._codiconCSS=fe.getCSS(),this._updateCSS()})),(0,z.uB)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(fe){return b.OO(fe)?this._registerShadowDomContainer(fe):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=b.dS(void 0,fe=>{fe.className="monaco-colors",fe.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),B.JT.None}_registerShadowDomContainer(fe){const Le=b.dS(fe,pe=>{pe.className="monaco-colors",pe.textContent=this._allCSS});return this._styleElements.push(Le),{dispose:()=>{for(let pe=0;pe<this._styleElements.length;pe++)if(this._styleElements[pe]===Le){this._styleElements.splice(pe,1);return}}}}defineTheme(fe,Le){if(!/^[a-z0-9\-]+$/i.test(fe))throw new Error("Illegal theme name!");if(!m(Le.base)&&!m(fe))throw new Error("Illegal theme base!");this._knownThemes.set(fe,new K(fe,Le)),m(fe)&&this._knownThemes.forEach(pe=>{pe.base===fe&&pe.notifyBaseUpdated()}),this._theme.themeName===fe&&this.setTheme(fe)}getColorTheme(){return this._theme}setColorMapOverride(fe){this._colorMapOverride=fe,this._updateThemeOrColorMap()}setTheme(fe){let Le;this._knownThemes.has(fe)?Le=this._knownThemes.get(fe):Le=this._knownThemes.get(A),this._updateActualTheme(Le)}_updateActualTheme(fe){!fe||this._theme===fe||(this._theme=fe,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const fe=R.Ex.matchMedia("(forced-colors: active)").matches;if(fe!==(0,$.c3)(this._theme.type)){let Le;(0,$._T)(this._theme.type)?Le=fe?U:H:Le=fe?G:A,this._updateActualTheme(this._knownThemes.get(Le))}}}setAutoDetectHighContrast(fe){this._autoDetectHighContrast=fe,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const fe=[],Le={},pe={addRule:ae=>{Le[ae]||(fe.push(ae),Le[ae]=!0)}};W.getThemingParticipants().forEach(ae=>ae(this._theme,pe,this._environment));const Te=[];for(const ae of j.getColors()){const Ne=this._theme.getColor(ae.id,!0);Ne&&Te.push(`${(0,g.QO2)(ae.id)}: ${Ne.toString()};`)}pe.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${Te.join(`
`)} }`);const De=this._colorMapOverride||this._theme.tokenTheme.getColorMap();pe.addRule(a(De)),this._themeCSS=fe.join(`
`),this._updateCSS(),c.RW.setColorMap(De),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(fe=>fe.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},15662:function(Pt,Ke,e){"use strict";var b=e(16830),z=e(44156),r=e(20913),E=e(92321),c=e(88542);class _ extends b.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:r.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(M,D){const p=M.get(z.Z),o=p.getColorTheme();(0,E.c3)(o.type)?(p.setTheme(this._originalThemeName||((0,E._T)(o.type)?c.rW:c.TG)),this._originalThemeName=null):(p.setTheme((0,E._T)(o.type)?c.kR:c.MU),this._originalThemeName=o.themeName)}}(0,b.Qr)(_)},44156:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return z}});var b=e(72065);const z=(0,b.yh)("themeService")},40605:function(Pt,Ke,e){"use strict";var b=e(366);var z=Object.defineProperty,r=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(f,v,a,S)=>{if(v&&typeof v=="object"||typeof v=="function")for(let g of E(v))!c.call(f,g)&&g!==a&&z(f,g,{get:()=>v[g],enumerable:!(S=r(v,g))||S.enumerable});return f},I=(f,v,a)=>(_(f,v,"default"),a&&_(a,v,"default")),M={};I(M,b);var D=class{constructor(f,v,a){Ks(this,"_onDidChange",new M.Emitter);Ks(this,"_options");Ks(this,"_modeConfiguration");Ks(this,"_languageId");this._languageId=f,this.setOptions(v),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(f){this._options=f||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(f){this.setOptions(f)}setModeConfiguration(f){this._modeConfiguration=f||Object.create(null),this._onDidChange.fire(this)}},p={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},o={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},d=new D("css",p,o),u=new D("scss",p,o),i=new D("less",p,o);M.languages.css={cssDefaults:d,lessDefaults:i,scssDefaults:u};function n(){return e.e(5288).then(e.bind(e,45288))}M.languages.onLanguage("less",()=>{n().then(f=>f.setupMode(i))}),M.languages.onLanguage("scss",()=>{n().then(f=>f.setupMode(u))}),M.languages.onLanguage("css",()=>{n().then(f=>f.setupMode(d))})},68423:function(Pt,Ke,e){"use strict";var b=e(366);var z=Object.defineProperty,r=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(O,T,F,B)=>{if(T&&typeof T=="object"||typeof T=="function")for(let $ of E(T))!c.call(O,$)&&$!==F&&z(O,$,{get:()=>T[$],enumerable:!(B=r(T,$))||B.enumerable});return O},I=(O,T,F)=>(_(O,T,"default"),F&&_(F,T,"default")),M={};I(M,b);var D=class{constructor(O,T,F){Ks(this,"_onDidChange",new M.Emitter);Ks(this,"_options");Ks(this,"_modeConfiguration");Ks(this,"_languageId");this._languageId=O,this.setOptions(T),this.setModeConfiguration(F)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(O){this._options=O||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(O){this._modeConfiguration=O||Object.create(null),this._onDidChange.fire(this)}},p={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},o={format:p,suggest:{},data:{useDefaultDataProvider:!0}};function d(O){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:O===u,documentFormattingEdits:O===u,documentRangeFormattingEdits:O===u}}var u="html",i="handlebars",n="razor",f=L(u,o,d(u)),v=f.defaults,a=L(i,o,d(i)),S=a.defaults,g=L(n,o,d(n)),y=g.defaults;M.languages.html={htmlDefaults:v,razorDefaults:y,handlebarDefaults:S,htmlLanguageService:f,handlebarLanguageService:a,razorLanguageService:g,registerHTMLLanguageService:L};function C(){return e.e(5377).then(e.bind(e,15377))}function L(O,T=o,F=d(O)){const B=new D(O,T,F);let $;const Y=M.languages.onLanguage(O,()=>qt(this,null,function*(){$=(yield C()).setupMode(B)}));return{defaults:B,dispose(){Y.dispose(),$==null||$.dispose(),$=void 0}}}},39585:function(Pt,Ke,e){"use strict";e.d(Ke,{TG:function(){return a}});var b=e(366);var z=Object.defineProperty,r=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,_=(L,O,T,F)=>{if(O&&typeof O=="object"||typeof O=="function")for(let B of E(O))!c.call(L,B)&&B!==T&&z(L,B,{get:()=>O[B],enumerable:!(F=r(O,B))||F.enumerable});return L},I=(L,O,T)=>(_(L,O,"default"),T&&_(T,O,"default")),M="5.0.2",D={};I(D,b);var p=(L=>(L[L.None=0]="None",L[L.CommonJS=1]="CommonJS",L[L.AMD=2]="AMD",L[L.UMD=3]="UMD",L[L.System=4]="System",L[L.ES2015=5]="ES2015",L[L.ESNext=99]="ESNext",L))(p||{}),o=(L=>(L[L.None=0]="None",L[L.Preserve=1]="Preserve",L[L.React=2]="React",L[L.ReactNative=3]="ReactNative",L[L.ReactJSX=4]="ReactJSX",L[L.ReactJSXDev=5]="ReactJSXDev",L))(o||{}),d=(L=>(L[L.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",L[L.LineFeed=1]="LineFeed",L))(d||{}),u=(L=>(L[L.ES3=0]="ES3",L[L.ES5=1]="ES5",L[L.ES2015=2]="ES2015",L[L.ES2016=3]="ES2016",L[L.ES2017=4]="ES2017",L[L.ES2018=5]="ES2018",L[L.ES2019=6]="ES2019",L[L.ES2020=7]="ES2020",L[L.ESNext=99]="ESNext",L[L.JSON=100]="JSON",L[L.Latest=99]="Latest",L))(u||{}),i=(L=>(L[L.Classic=1]="Classic",L[L.NodeJs=2]="NodeJs",L))(i||{}),n=class{constructor(L,O,T,F,B){Ks(this,"_onDidChange",new D.Emitter);Ks(this,"_onDidExtraLibsChange",new D.Emitter);Ks(this,"_extraLibs");Ks(this,"_removedExtraLibs");Ks(this,"_eagerModelSync");Ks(this,"_compilerOptions");Ks(this,"_diagnosticsOptions");Ks(this,"_workerOptions");Ks(this,"_onDidExtraLibsChangeTimeout");Ks(this,"_inlayHintsOptions");Ks(this,"_modeConfiguration");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(L),this.setDiagnosticsOptions(O),this.setWorkerOptions(T),this.setInlayHintsOptions(F),this.setModeConfiguration(B),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(L,O){let T;if(typeof O=="undefined"?T=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:T=O,this._extraLibs[T]&&this._extraLibs[T].content===L)return{dispose:()=>{}};let F=1;return this._removedExtraLibs[T]&&(F=this._removedExtraLibs[T]+1),this._extraLibs[T]&&(F=this._extraLibs[T].version+1),this._extraLibs[T]={content:L,version:F},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let B=this._extraLibs[T];B&&B.version===F&&(delete this._extraLibs[T],this._removedExtraLibs[T]=F,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(L){for(const O in this._extraLibs)this._removedExtraLibs[O]=this._extraLibs[O].version;if(this._extraLibs=Object.create(null),L&&L.length>0)for(const O of L){const T=O.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,F=O.content;let B=1;this._removedExtraLibs[T]&&(B=this._removedExtraLibs[T]+1),this._extraLibs[T]={content:F,version:B}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(L){this._compilerOptions=L||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(L){this._diagnosticsOptions=L||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(L){this._workerOptions=L||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(L){this._inlayHintsOptions=L||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(L){}setEagerModelSync(L){this._eagerModelSync=L}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(L){this._modeConfiguration=L||Object.create(null),this._onDidChange.fire(void 0)}},f=M,v={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},a=new n({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},v),S=new n({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},v),g=()=>C().then(L=>L.getTypeScriptWorker()),y=()=>C().then(L=>L.getJavaScriptWorker());D.languages.typescript={ModuleKind:p,JsxEmit:o,NewLineKind:d,ScriptTarget:u,ModuleResolutionKind:i,typescriptVersion:f,typescriptDefaults:a,javascriptDefaults:S,getTypeScriptWorker:g,getJavaScriptWorker:y};function C(){return e.e(1653).then(e.bind(e,78401))}D.languages.onLanguage("typescript",()=>C().then(L=>L.setupTypeScript(a))),D.languages.onLanguage("javascript",()=>C().then(L=>L.setupJavaScript(S)))},63580:function(Pt,Ke,e){"use strict";e.d(Ke,{NC:function(){return D},aj:function(){return o},vv:function(){return p}});let b=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const z="i-default";function r(n,f){let v;return f.length===0?v=n:v=n.replace(/\{(\d+)\}/g,(a,S)=>{const g=S[0],y=f[g];let C=a;return typeof y=="string"?C=y:(typeof y=="number"||typeof y=="boolean"||y===void 0||y===null)&&(C=String(y)),C}),b&&(v="\uFF3B"+v.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v}function E(n,f){let v=n[f];return v||(v=n["*"],v)?v:null}function c(n){return n.charAt(n.length-1)==="/"?n:n+"/"}function _(n,f,v){return qt(this,null,function*(){const a=c(n)+c(f)+"vscode/"+c(v),S=yield fetch(a);if(S.ok)return yield S.json();throw new Error(`${S.status} - ${S.statusText}`)})}function I(n){return function(f,v){const a=Array.prototype.slice.call(arguments,2);return r(n[f],a)}}function M(n){return(f,v,...a)=>({value:r(n[f],a),original:r(v,a)})}function D(n,f,...v){return r(f,v)}function p(n,f,...v){const a=r(f,v);return{value:a,original:a}}function o(n){}function d(n){b=n}function u(n,f){var v;return{localize:I(f[n]),localize2:M(f[n]),getConfiguredDefaultLocale:(v=f.getConfiguredDefaultLocale)!==null&&v!==void 0?v:a=>{}}}function i(n,f,v,a){var S;const g=(S=a["vs/nls"])!==null&&S!==void 0?S:{};if(!n||n.length===0)return v({localize:D,localize2:p,getConfiguredDefaultLocale:()=>{var T;return(T=g.availableLanguages)===null||T===void 0?void 0:T["*"]}});const y=g.availableLanguages?E(g.availableLanguages,n):null,C=y===null||y===z;let L=".nls";C||(L=L+"."+y);const O=T=>{Array.isArray(T)?(T.localize=I(T),T.localize2=M(T)):(T.localize=I(T[n]),T.localize2=M(T[n])),T.getConfiguredDefaultLocale=()=>{var F;return(F=g.availableLanguages)===null||F===void 0?void 0:F["*"]},v(T)};typeof g.loadBundle=="function"?g.loadBundle(n,y,(T,F)=>{T?f([n+".nls"],O):O(F)}):g.translationServiceUrl&&!C?qt(this,null,function*(){var T;try{const F=yield _(g.translationServiceUrl,y,n);return O(F)}catch(F){if(!y.includes("-"))return console.error(F),f([n+".nls"],O);try{const B=y.split("-")[0],$=yield _(g.translationServiceUrl,B,n);return(T=g.availableLanguages)!==null&&T!==void 0||(g.availableLanguages={}),g.availableLanguages["*"]=B,O($)}catch(B){return console.error(B),f([n+".nls"],O)}}}):f([n+L],O,T=>{if(L===".nls"){console.error("Failed trying to load default language strings",T);return}console.error(`Failed to load message bundle for language ${y}. Falling back to the default language:`,T),f([n+".nls"],O)})}},31106:function(Pt,Ke,e){"use strict";e.d(Ke,{F7:function(){return r},UA:function(){return E},VX:function(){return c}});var b=e(32064),z=e(72065);const r=(0,z.yh)("accessibilityService"),E=new b.uy("accessibilityModeEnabled",!1),c=(0,z.yh)("accessibleNotificationService")},80677:function(Pt,Ke,e){"use strict";e.d(Ke,{Mm:function(){return P},Id:function(){return A},vr:function(){return $},LJ:function(){return B}});var b=e(65321),z=e(59069),r=e(41923),E=e(81094),c=e(74741),_=e(8030),I=e(5976),M=e(1432),D=e(63580),p=e(84144);function o(H){return H?H.condition!==void 0:!1}var d=e(32064),u=e(5606),i=e(72065),n=e(91847),f=e(48894),v=e(87060),a=e(97781),S=e(25670),g=e(92321),y=e(98401),C=e(73910),L=e(86253),O=e(31106),T=function(H,U,G,j){var W=arguments.length,K=W<3?U:j===null?j=Object.getOwnPropertyDescriptor(U,G):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,U,G,j);else for(var J=H.length-1;J>=0;J--)(m=H[J])&&(K=(W<3?m(K):W>3?m(U,G,K):m(U,G))||K);return W>3&&K&&Object.defineProperty(U,G,K),K},F=function(H,U){return function(G,j){U(G,j,H)}};function B(H,U,G,j){const W=H.getActions(U),K=b._q.getInstance(),m=K.keyStatus.altKey||(M.ED||M.IJ)&&K.keyStatus.shiftKey;Y(W,G,m,j?J=>J===j:J=>J==="navigation")}function $(H,U,G,j,W,K){const m=H.getActions(U);Y(m,G,!1,typeof j=="string"?X=>X===j:j,W,K)}function Y(H,U,G,j=m=>m==="navigation",W=()=>!1,K=!1){let m,J;Array.isArray(U)?(m=U,J=U):(m=U.primary,J=U.secondary);const X=new Set;for(const[ie,le]of H){let fe;j(ie)?(fe=m,fe.length>0&&K&&fe.push(new c.Z0)):(fe=J,fe.length>0&&fe.push(new c.Z0));for(let Le of le){G&&(Le=Le instanceof p.U8&&Le.alt?Le.alt:Le);const pe=fe.push(Le);Le instanceof c.wY&&X.add({group:ie,action:Le,index:pe-1})}}for(const{group:ie,action:le,index:fe}of X){const Le=j(ie)?m:J,pe=le.actions;W(le,ie,Le.length)&&Le.splice(fe,1,...pe)}}let P=class extends r.gU{constructor(U,G,j,W,K,m,J,X){super(void 0,U,{icon:!!(U.class||U.item.icon),label:!U.class&&!U.item.icon,draggable:G==null?void 0:G.draggable,keybinding:G==null?void 0:G.keybinding,hoverDelegate:G==null?void 0:G.hoverDelegate}),this._keybindingService=j,this._notificationService=W,this._contextKeyService=K,this._themeService=m,this._contextMenuService=J,this._accessibilityService=X,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new I.XK),this._altKey=b._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(U){return qt(this,null,function*(){U.preventDefault(),U.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(G){this._notificationService.error(G)}})}render(U){if(super.render(U),U.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let G=!1;const j=()=>{var W;const K=!!(!((W=this._menuItemAction.alt)===null||W===void 0)&&W.enabled)&&(!this._accessibilityService.isMotionReduced()||G)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&G);K!==this._wantsAltCommand&&(this._wantsAltCommand=K,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(j)),this._register((0,b.nm)(U,"mouseleave",W=>{G=!1,j()})),this._register((0,b.nm)(U,"mouseenter",W=>{G=!0,j()})),j()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var U;const G=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),j=G&&G.getLabel(),W=this._commandAction.tooltip||this._commandAction.label;let K=j?(0,D.NC)("titleAndKb","{0} ({1})",W,j):W;if(!this._wantsAltCommand&&(!((U=this._menuItemAction.alt)===null||U===void 0)&&U.enabled)){const m=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,J=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),X=J&&J.getLabel(),ie=X?(0,D.NC)("titleAndKb","{0} ({1})",m,X):m;K=(0,D.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,K,_.xo.modifierLabels[M.OS].altKey,ie)}return K}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(U){this._itemClassDispose.value=void 0;const{element:G,label:j}=this;if(!G||!j)return;const W=this._commandAction.checked&&o(U.toggled)&&U.toggled.icon?U.toggled.icon:U.icon;if(W)if(S.k.isThemeIcon(W)){const K=S.k.asClassNameArray(W);j.classList.add(...K),this._itemClassDispose.value=(0,I.OF)(()=>{j.classList.remove(...K)})}else j.style.backgroundImage=(0,g._T)(this._themeService.getColorTheme().type)?(0,b.wY)(W.dark):(0,b.wY)(W.light),j.classList.add("icon"),this._itemClassDispose.value=(0,I.F8)((0,I.OF)(()=>{j.style.backgroundImage="",j.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};P=T([F(2,n.d),F(3,f.lT),F(4,d.i6),F(5,a.XE),F(6,u.i),F(7,O.F7)],P);let w=class extends E.C{constructor(U,G,j,W,K){var m,J,X;const ie=Ln(Xi({},G),{menuAsChild:(m=G==null?void 0:G.menuAsChild)!==null&&m!==void 0?m:!1,classNames:(J=G==null?void 0:G.classNames)!==null&&J!==void 0?J:S.k.isThemeIcon(U.item.icon)?S.k.asClassName(U.item.icon):void 0,keybindingProvider:(X=G==null?void 0:G.keybindingProvider)!==null&&X!==void 0?X:le=>j.lookupKeybinding(le.id)});super(U,{getActions:()=>U.actions},W,ie),this._keybindingService=j,this._contextMenuService=W,this._themeService=K}render(U){super.render(U),(0,y.p_)(this.element),U.classList.add("menu-entry");const G=this._action,{icon:j}=G.item;if(j&&!S.k.isThemeIcon(j)){this.element.classList.add("icon");const W=()=>{this.element&&(this.element.style.backgroundImage=(0,g._T)(this._themeService.getColorTheme().type)?(0,b.wY)(j.dark):(0,b.wY)(j.light))};W(),this._register(this._themeService.onDidColorThemeChange(()=>{W()}))}}};w=T([F(2,n.d),F(3,u.i),F(4,a.XE)],w);let V=class extends r.YH{constructor(U,G,j,W,K,m,J,X){var ie,le,fe;super(null,U),this._keybindingService=j,this._notificationService=W,this._contextMenuService=K,this._menuService=m,this._instaService=J,this._storageService=X,this._container=null,this._options=G,this._storageKey=`${U.item.submenu.id}_lastActionId`;let Le;const pe=G!=null&&G.persistLastActionId?X.get(this._storageKey,1):void 0;pe&&(Le=U.actions.find(De=>pe===De.id)),Le||(Le=U.actions[0]),this._defaultAction=this._instaService.createInstance(P,Le,{keybinding:this._getDefaultActionKeybindingLabel(Le)});const Te=Ln(Xi({keybindingProvider:De=>this._keybindingService.lookupKeybinding(De.id)},G),{menuAsChild:(ie=G==null?void 0:G.menuAsChild)!==null&&ie!==void 0?ie:!0,classNames:(le=G==null?void 0:G.classNames)!==null&&le!==void 0?le:["codicon","codicon-chevron-down"],actionRunner:(fe=G==null?void 0:G.actionRunner)!==null&&fe!==void 0?fe:new c.Wi});this._dropdown=new E.C(U,U.actions,this._contextMenuService,Te),this._dropdown.actionRunner.onDidRun(De=>{De.action instanceof p.U8&&this.update(De.action)})}update(U){var G;!((G=this._options)===null||G===void 0)&&G.persistLastActionId&&this._storageService.store(this._storageKey,U.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(P,U,{keybinding:this._getDefaultActionKeybindingLabel(U)}),this._defaultAction.actionRunner=new class extends c.Wi{runAction(j,W){return qt(this,null,function*(){yield j.run(void 0)})}},this._container&&this._defaultAction.render((0,b.Ce)(this._container,(0,b.$)(".action-container")))}_getDefaultActionKeybindingLabel(U){var G;let j;if(!((G=this._options)===null||G===void 0)&&G.renderKeybindingWithDefaultActionLabel){const W=this._keybindingService.lookupKeybinding(U.id);W&&(j=`(${W.getLabel()})`)}return j}setActionContext(U){super.setActionContext(U),this._defaultAction.setActionContext(U),this._dropdown.setActionContext(U)}render(U){this._container=U,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const G=(0,b.$)(".action-container");this._defaultAction.render((0,b.R3)(this._container,G)),this._register((0,b.nm)(G,b.tw.KEY_DOWN,W=>{const K=new z.y(W);K.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),K.stopPropagation())}));const j=(0,b.$)(".dropdown-action-container");this._dropdown.render((0,b.R3)(this._container,j)),this._register((0,b.nm)(j,b.tw.KEY_DOWN,W=>{var K;const m=new z.y(W);m.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(K=this._defaultAction.element)===null||K===void 0||K.focus(),m.stopPropagation())}))}focus(U){U?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(U){U?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};V=T([F(2,n.d),F(3,f.lT),F(4,u.i),F(5,p.co),F(6,i.TG),F(7,v.Uy)],V);let R=class extends r.Lc{constructor(U,G){super(null,U,U.actions.map(j=>({text:j.id===c.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":j.label,isDisabled:!j.enabled})),0,G,L.BM,{ariaLabel:U.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,U.actions.findIndex(j=>j.checked)))}render(U){super.render(U),U.style.borderColor=(0,C.n_1)(C.a9O)}runAction(U,G){const j=this.action.actions[G];j&&this.actionRunner.run(j)}};R=T([F(1,u.u)],R);function A(H,U,G){return U instanceof p.U8?H.createInstance(P,U,G):U instanceof p.NZ?U.item.isSelection?H.createInstance(R,U):U.item.rememberDefaultAction?H.createInstance(V,U,Ln(Xi({},G),{persistLastActionId:!0})):H.createInstance(w,U,G):void 0}},98190:function(Pt,Ke,e){"use strict";e.d(Ke,{r:function(){return F},T:function(){return T}});var b=e(65321),z=e(7317),r=e(90317),E=e(81094),c=e(74741),_=e(73046),I=e(25670),M=e(4669),D=e(5976),p=e(63580);class o extends D.JT{constructor($,Y,P={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new M.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new D.SL),this.options=P,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new d(()=>{var w;return(w=this.toggleMenuActionViewItem)===null||w===void 0?void 0:w.show()},P.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",$.appendChild(this.element),this.actionBar=this._register(new r.o(this.element,{orientation:P.orientation,ariaLabel:P.ariaLabel,actionRunner:P.actionRunner,allowContextMenu:P.allowContextMenu,highlightToggledItems:P.highlightToggledItems,actionViewItemProvider:(w,V)=>{var R;if(w.id===d.ID)return this.toggleMenuActionViewItem=new E.C(w,w.menuActions,Y,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:I.k.asClassNameArray((R=P.moreIcon)!==null&&R!==void 0?R:_.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(P.actionViewItemProvider){const A=P.actionViewItemProvider(w,V);if(A)return A}if(w instanceof c.wY){const A=new E.C(w,w.actions,Y,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:w.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return A.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(A),this.disposables.add(this._onDidChangeDropdownVisibility.add(A.onDidChangeVisibility)),A}}}))}set actionRunner($){this.actionBar.actionRunner=$}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction($){return this.actionBar.getAction($)}setActions($,Y){this.clear();const P=$?$.slice(0):[];this.hasSecondaryActions=!!(Y&&Y.length>0),this.hasSecondaryActions&&Y&&(this.toggleMenuAction.menuActions=Y.slice(0),P.push(this.toggleMenuAction)),P.forEach(w=>{this.actionBar.push(w,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(w)})})}getKeybindingLabel($){var Y,P,w;const V=this.lookupKeybindings?(P=(Y=this.options).getKeyBinding)===null||P===void 0?void 0:P.call(Y,$):void 0;return(w=V==null?void 0:V.getLabel())!==null&&w!==void 0?w:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class d extends c.aU{constructor($,Y){Y=Y||p.NC("moreActions","More Actions..."),super(d.ID,Y,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=$}run(){return qt(this,null,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions($){this._menuActions=$}}d.ID="toolbar.toggle.more";var u=e(9488),i=e(6626),n=e(17301),f=e(53725),v=e(80677),a=e(84144),S=e(32064),g=e(5606),y=e(91847),C=e(10829),L=function(B,$,Y,P){var w=arguments.length,V=w<3?$:P===null?P=Object.getOwnPropertyDescriptor($,Y):P,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(B,$,Y,P);else for(var A=B.length-1;A>=0;A--)(R=B[A])&&(V=(w<3?R(V):w>3?R($,Y,V):R($,Y))||V);return w>3&&V&&Object.defineProperty($,Y,V),V},O=function(B,$){return function(Y,P){$(Y,P,B)}};let T=class extends o{constructor($,Y,P,w,V,R,A){super($,V,Ln(Xi({getKeyBinding:U=>{var G;return(G=R.lookupKeybinding(U.id))!==null&&G!==void 0?G:void 0}},Y),{allowContextMenu:!0,skipTelemetry:typeof(Y==null?void 0:Y.telemetrySource)=="string"})),this._options=Y,this._menuService=P,this._contextKeyService=w,this._contextMenuService=V,this._sessionDisposables=this._store.add(new D.SL);const H=Y==null?void 0:Y.telemetrySource;H&&this._store.add(this.actionBar.onDidRun(U=>A.publicLog2("workbenchActionExecuted",{id:U.action.id,from:H})))}setActions($,Y=[],P){var w,V,R;this._sessionDisposables.clear();const A=$.slice(),H=Y.slice(),U=[];let G=0;const j=[];let W=!1;if(((w=this._options)===null||w===void 0?void 0:w.hiddenItemStrategy)!==-1)for(let K=0;K<A.length;K++){const m=A[K];!(m instanceof a.U8)&&!(m instanceof a.NZ)||m.hideActions&&(U.push(m.hideActions.toggle),m.hideActions.toggle.checked&&G++,m.hideActions.isHidden&&(W=!0,A[K]=void 0,((V=this._options)===null||V===void 0?void 0:V.hiddenItemStrategy)!==0&&(j[K]=m)))}if(((R=this._options)===null||R===void 0?void 0:R.overflowBehavior)!==void 0){const K=(0,i.j)(new Set(this._options.overflowBehavior.exempted),f.$.map(A,X=>X==null?void 0:X.id)),m=this._options.overflowBehavior.maxItems-K.size;let J=0;for(let X=0;X<A.length;X++){const ie=A[X];ie&&(J++,!K.has(ie.id)&&J>=m&&(A[X]=void 0,j[X]=ie))}}(0,u.Rs)(A),(0,u.Rs)(j),super.setActions(A,c.Z0.join(j,H)),U.length>0&&this._sessionDisposables.add((0,b.nm)(this.getElement(),"contextmenu",K=>{var m,J,X,ie,le;const fe=new z.n((0,b.Jj)(this.getElement()),K),Le=this.getItemAction(fe.target);if(!Le)return;fe.preventDefault(),fe.stopPropagation();let pe=!1;if(G===1&&((m=this._options)===null||m===void 0?void 0:m.hiddenItemStrategy)===0){pe=!0;for(let ae=0;ae<U.length;ae++)if(U[ae].checked){U[ae]=(0,c.xw)({id:Le.id,label:Le.label,checked:!0,enabled:!1,run(){}});break}}let Te;if(!pe&&(Le instanceof a.U8||Le instanceof a.NZ)){if(!Le.hideActions)return;Te=Le.hideActions.hide}else Te=(0,c.xw)({id:"label",label:(0,p.NC)("hide","Hide"),enabled:!1,run(){}});const De=c.Z0.join([Te],U);!((J=this._options)===null||J===void 0)&&J.resetMenu&&!P&&(P=[this._options.resetMenu]),W&&P&&(De.push(new c.Z0),De.push((0,c.xw)({id:"resetThisMenu",label:(0,p.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(P)}))),this._contextMenuService.showContextMenu({getAnchor:()=>fe,getActions:()=>De,menuId:(X=this._options)===null||X===void 0?void 0:X.contextMenu,menuActionOptions:Xi({renderShortTitle:!0},(ie=this._options)===null||ie===void 0?void 0:ie.menuOptions),skipTelemetry:typeof((le=this._options)===null||le===void 0?void 0:le.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};T=L([O(2,a.co),O(3,S.i6),O(4,g.i),O(5,y.d),O(6,C.b)],T);let F=class extends T{constructor($,Y,P,w,V,R,A,H){super($,Xi({resetMenu:Y},P),w,V,R,A,H),this._onDidChangeMenuItems=this._store.add(new M.Q5);const U=this._store.add(w.createMenu(Y,V,{emitEventsForSubmenuChanges:!0})),G=()=>{var j,W,K;const m=[],J=[];(0,v.vr)(U,P==null?void 0:P.menuOptions,{primary:m,secondary:J},(j=P==null?void 0:P.toolbarOptions)===null||j===void 0?void 0:j.primaryGroup,(W=P==null?void 0:P.toolbarOptions)===null||W===void 0?void 0:W.shouldInlineSubmenu,(K=P==null?void 0:P.toolbarOptions)===null||K===void 0?void 0:K.useSeparatorsInPrimaryActions),$.classList.toggle("has-no-actions",m.length===0&&J.length===0),super.setActions(m,J)};this._store.add(U.onDidChange(()=>{G(),this._onDidChangeMenuItems.fire(this)})),G()}setActions(){throw new n.he("This toolbar is populated from a menu.")}};F=L([O(3,a.co),O(4,S.i6),O(5,g.i),O(6,y.d),O(7,C.b)],F)},84144:function(Pt,Ke,e){"use strict";e.d(Ke,{BH:function(){return a},Ke:function(){return y},NZ:function(){return S},U8:function(){return g},co:function(){return f},eH:function(){return n},f6:function(){return i},r1:function(){return C},vr:function(){return u}});var b=e(74741),z=e(25670),r=e(4669),E=e(5976),c=e(91741),_=e(94565),I=e(32064),M=e(72065),D=e(49989),p=function(L,O,T,F){var B=arguments.length,$=B<3?O:F===null?F=Object.getOwnPropertyDescriptor(O,T):F,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(L,O,T,F);else for(var P=L.length-1;P>=0;P--)(Y=L[P])&&($=(B<3?Y($):B>3?Y(O,T,$):Y(O,T))||$);return B>3&&$&&Object.defineProperty(O,T,$),$},o=function(L,O){return function(T,F){O(T,F,L)}},d;function u(L){return L.command!==void 0}function i(L){return L.submenu!==void 0}class n{constructor(O){if(n._instances.has(O))throw new TypeError(`MenuId with identifier '${O}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(O,this),this.id=O}}n._instances=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContent=new n("EditorContent"),n.EditorLineNumberContext=new n("EditorLineNumberContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EditorTitleContextShare=new n("EditorTitleContextShare"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.EditorTabsBarContext=new n("EditorTabsBarContext"),n.EditorTabsBarShowTabsSubmenu=new n("EditorTabsBarShowTabsSubmenu"),n.EditorActionsPositionSubmenu=new n("EditorActionsPositionSubmenu"),n.ExplorerContext=new n("ExplorerContext"),n.ExplorerContextShare=new n("ExplorerContextShare"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.CommandCenterCenter=new n("CommandCenterCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.PanelAlignmentMenu=new n("PanelAlignmentMenu"),n.PanelPositionMenu=new n("PanelPositionMenu"),n.ActivityBarPositionMenu=new n("ActivityBarPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.OpenEditorsContextShare=new n("OpenEditorsContextShare"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMInputBox=new n("SCMInputBox"),n.SCMHistoryItem=new n("SCMHistoryItem"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceContextShare=new n("SCMResourceContextShare"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.SearchActionMenu=new n("SearchActionContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.StickyScrollContext=new n("StickyScrollContext"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestMessageContext=new n("TestMessageContext"),n.TestMessageContent=new n("TestMessageContent"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentEditorActions=new n("CommentEditorActions"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentThreadAdditionalActions=new n("CommentThreadAdditionalActions"),n.CommentThreadTitleContext=new n("CommentThreadTitleContext"),n.CommentThreadCommentContext=new n("CommentThreadCommentContext"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookStickyScrollContext=new n("NotebookStickyScrollContext"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.SidebarTitle=new n("SidebarTitle"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalStickyScrollContext=new n("TerminalStickyScrollContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar"),n.MergeBaseToolbar=new n("MergeBaseToolbar"),n.MergeInputResultToolbar=new n("MergeToolbarResultToolbar"),n.InlineSuggestionToolbar=new n("InlineSuggestionToolbar"),n.ChatContext=new n("ChatContext"),n.ChatCodeBlock=new n("ChatCodeblock"),n.ChatMessageTitle=new n("ChatMessageTitle"),n.ChatExecute=new n("ChatExecute"),n.ChatInputSide=new n("ChatInputSide"),n.AccessibleView=new n("AccessibleView"),n.MultiDiffEditorFileToolbar=new n("MultiDiffEditorFileToolbar");const f=(0,M.yh)("menuService");class v{static for(O){let T=this._all.get(O);return T||(T=new v(O),this._all.set(O,T)),T}static merge(O){const T=new Set;for(const F of O)F instanceof v&&T.add(F.id);return T}constructor(O){this.id=O,this.has=T=>T===O}}v._all=new Map;const a=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new r.SZ({merge:v.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(L){return this._commands.set(L.id,L),this._onDidChangeMenu.fire(v.for(n.CommandPalette)),(0,E.OF)(()=>{this._commands.delete(L.id)&&this._onDidChangeMenu.fire(v.for(n.CommandPalette))})}getCommand(L){return this._commands.get(L)}getCommands(){const L=new Map;return this._commands.forEach((O,T)=>L.set(T,O)),L}appendMenuItem(L,O){let T=this._menuItems.get(L);T||(T=new c.S,this._menuItems.set(L,T));const F=T.push(O);return this._onDidChangeMenu.fire(v.for(L)),(0,E.OF)(()=>{F(),this._onDidChangeMenu.fire(v.for(L))})}appendMenuItems(L){const O=new E.SL;for(const{id:T,item:F}of L)O.add(this.appendMenuItem(T,F));return O}getMenuItems(L){let O;return this._menuItems.has(L)?O=[...this._menuItems.get(L)]:O=[],L===n.CommandPalette&&this._appendImplicitItems(O),O}_appendImplicitItems(L){const O=new Set;for(const T of L)u(T)&&(O.add(T.command.id),T.alt&&O.add(T.alt.id));this._commands.forEach((T,F)=>{O.has(F)||L.push({command:T})})}};class S extends b.wY{constructor(O,T,F){super(`submenuitem.${O.submenu.id}`,typeof O.title=="string"?O.title:O.title.value,F,"submenu"),this.item=O,this.hideActions=T}}let g=d=class{static label(O,T){return T!=null&&T.renderShortTitle&&O.shortTitle?typeof O.shortTitle=="string"?O.shortTitle:O.shortTitle.value:typeof O.title=="string"?O.title:O.title.value}constructor(O,T,F,B,$,Y){var P,w;this.hideActions=B,this._commandService=Y,this.id=O.id,this.label=d.label(O,F),this.tooltip=(w=typeof O.tooltip=="string"?O.tooltip:(P=O.tooltip)===null||P===void 0?void 0:P.value)!==null&&w!==void 0?w:"",this.enabled=!O.precondition||$.contextMatchesRules(O.precondition),this.checked=void 0;let V;if(O.toggled){const R=O.toggled.condition?O.toggled:{condition:O.toggled};this.checked=$.contextMatchesRules(R.condition),this.checked&&R.tooltip&&(this.tooltip=typeof R.tooltip=="string"?R.tooltip:R.tooltip.value),this.checked&&z.k.isThemeIcon(R.icon)&&(V=R.icon),this.checked&&R.title&&(this.label=typeof R.title=="string"?R.title:R.title.value)}V||(V=z.k.isThemeIcon(O.icon)?O.icon:void 0),this.item=O,this.alt=T?new d(T,void 0,F,B,$,Y):void 0,this._options=F,this.class=V&&z.k.asClassName(V)}run(...O){var T,F;let B=[];return!((T=this._options)===null||T===void 0)&&T.arg&&(B=[...B,this._options.arg]),!((F=this._options)===null||F===void 0)&&F.shouldForwardArgs&&(B=[...B,...O]),this._commandService.executeCommand(this.id,...B)}};g=d=p([o(4,I.i6),o(5,_.H)],g);class y{constructor(O){this.desc=O}}function C(L){const O=new E.SL,T=new L,P=T.desc,{f1:F,menu:B,keybinding:$}=P,Y=jd(P,["f1","menu","keybinding"]);if(O.add(_.P.registerCommand({id:Y.id,handler:(w,...V)=>T.run(w,...V),metadata:Y.metadata})),Array.isArray(B))for(const w of B)O.add(a.appendMenuItem(w.id,Xi({command:Ln(Xi({},Y),{precondition:w.precondition===null?void 0:Y.precondition})},w)));else B&&O.add(a.appendMenuItem(B.id,Xi({command:Ln(Xi({},Y),{precondition:B.precondition===null?void 0:Y.precondition})},B)));if(F&&(O.add(a.appendMenuItem(n.CommandPalette,{command:Y,when:Y.precondition})),O.add(a.addCommand(Y))),Array.isArray($))for(const w of $)O.add(D.W.registerKeybindingRule(Ln(Xi({},w),{id:Y.id,when:Y.precondition?I.Ao.and(Y.precondition,w.when):w.when})));else $&&O.add(D.W.registerKeybindingRule(Ln(Xi({},$),{id:Y.id,when:Y.precondition?I.Ao.and(Y.precondition,$.when):$.when})));return O}},69149:function(Pt,Ke,e){"use strict";e.d(Ke,{e7:function(){return r},y$:function(){return _}});var b=e(72065),z=e(63580);const r=(0,b.yh)("audioCue");class E{static register(M){return new E(M.fileName)}constructor(M){this.fileName=M}}E.error=E.register({fileName:"error.mp3"}),E.warning=E.register({fileName:"warning.mp3"}),E.foldedArea=E.register({fileName:"foldedAreas.mp3"}),E.break=E.register({fileName:"break.mp3"}),E.quickFixes=E.register({fileName:"quickFixes.mp3"}),E.taskCompleted=E.register({fileName:"taskCompleted.mp3"}),E.taskFailed=E.register({fileName:"taskFailed.mp3"}),E.terminalBell=E.register({fileName:"terminalBell.mp3"}),E.diffLineInserted=E.register({fileName:"diffLineInserted.mp3"}),E.diffLineDeleted=E.register({fileName:"diffLineDeleted.mp3"}),E.diffLineModified=E.register({fileName:"diffLineModified.mp3"}),E.chatRequestSent=E.register({fileName:"chatRequestSent.mp3"}),E.chatResponsePending=E.register({fileName:"chatResponsePending.mp3"}),E.chatResponseReceived1=E.register({fileName:"chatResponseReceived1.mp3"}),E.chatResponseReceived2=E.register({fileName:"chatResponseReceived2.mp3"}),E.chatResponseReceived3=E.register({fileName:"chatResponseReceived3.mp3"}),E.chatResponseReceived4=E.register({fileName:"chatResponseReceived4.mp3"}),E.clear=E.register({fileName:"clear.mp3"}),E.save=E.register({fileName:"save.mp3"}),E.format=E.register({fileName:"format.mp3"});class c{constructor(M){this.randomOneOf=M}}class _{static register(M){const D=new c("randomOneOf"in M.sound?M.sound.randomOneOf:[M.sound]),p=new _(D,M.name,M.settingsKey);return _._audioCues.add(p),p}constructor(M,D,p){this.sound=M,this.name=D,this.settingsKey=p}}_._audioCues=new Set,_.error=_.register({name:(0,z.NC)("audioCues.lineHasError.name","Error on Line"),sound:E.error,settingsKey:"audioCues.lineHasError"}),_.warning=_.register({name:(0,z.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:E.warning,settingsKey:"audioCues.lineHasWarning"}),_.foldedArea=_.register({name:(0,z.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:E.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),_.break=_.register({name:(0,z.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:E.break,settingsKey:"audioCues.lineHasBreakpoint"}),_.inlineSuggestion=_.register({name:(0,z.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:E.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),_.terminalQuickFix=_.register({name:(0,z.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:E.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),_.onDebugBreak=_.register({name:(0,z.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:E.break,settingsKey:"audioCues.onDebugBreak"}),_.noInlayHints=_.register({name:(0,z.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:E.error,settingsKey:"audioCues.noInlayHints"}),_.taskCompleted=_.register({name:(0,z.NC)("audioCues.taskCompleted","Task Completed"),sound:E.taskCompleted,settingsKey:"audioCues.taskCompleted"}),_.taskFailed=_.register({name:(0,z.NC)("audioCues.taskFailed","Task Failed"),sound:E.taskFailed,settingsKey:"audioCues.taskFailed"}),_.terminalCommandFailed=_.register({name:(0,z.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:E.error,settingsKey:"audioCues.terminalCommandFailed"}),_.terminalBell=_.register({name:(0,z.NC)("audioCues.terminalBell","Terminal Bell"),sound:E.terminalBell,settingsKey:"audioCues.terminalBell"}),_.notebookCellCompleted=_.register({name:(0,z.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:E.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),_.notebookCellFailed=_.register({name:(0,z.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:E.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),_.diffLineInserted=_.register({name:(0,z.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:E.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),_.diffLineDeleted=_.register({name:(0,z.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:E.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),_.diffLineModified=_.register({name:(0,z.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:E.diffLineModified,settingsKey:"audioCues.diffLineModified"}),_.chatRequestSent=_.register({name:(0,z.NC)("audioCues.chatRequestSent","Chat Request Sent"),sound:E.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),_.chatResponseReceived=_.register({name:(0,z.NC)("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[E.chatResponseReceived1,E.chatResponseReceived2,E.chatResponseReceived3,E.chatResponseReceived4]}}),_.chatResponsePending=_.register({name:(0,z.NC)("audioCues.chatResponsePending","Chat Response Pending"),sound:E.chatResponsePending,settingsKey:"audioCues.chatResponsePending"}),_.clear=_.register({name:(0,z.NC)("audioCues.clear","Clear"),sound:E.clear,settingsKey:"audioCues.clear"}),_.save=_.register({name:(0,z.NC)("audioCues.save","Save"),sound:E.save,settingsKey:"audioCues.save"}),_.format=_.register({name:(0,z.NC)("audioCues.format","Format"),sound:E.format,settingsKey:"audioCues.format"})},84972:function(Pt,Ke,e){"use strict";e.d(Ke,{p:function(){return z}});var b=e(72065);const z=(0,b.yh)("clipboardService")},94565:function(Pt,Ke,e){"use strict";e.d(Ke,{H:function(){return I},P:function(){return M}});var b=e(4669),z=e(53725),r=e(5976),E=e(91741),c=e(98401),_=e(72065);const I=(0,_.yh)("commandService"),M=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new b.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(D,p){if(!D)throw new Error("invalid command");if(typeof D=="string"){if(!p)throw new Error("invalid command");return this.registerCommand({id:D,handler:p})}if(D.metadata&&Array.isArray(D.metadata.args)){const n=[];for(const v of D.metadata.args)n.push(v.constraint);const f=D.handler;D.handler=function(v,...a){return(0,c.D8)(a,n),f(v,...a)}}const{id:o}=D;let d=this._commands.get(o);d||(d=new E.S,this._commands.set(o,d));const u=d.unshift(D),i=(0,r.OF)(()=>{u();const n=this._commands.get(o);n!=null&&n.isEmpty()&&this._commands.delete(o)});return this._onDidRegisterCommand.fire(o),i}registerCommandAlias(D,p){return M.registerCommand(D,(o,...d)=>o.get(I).executeCommand(p,...d))}getCommand(D){const p=this._commands.get(D);if(!(!p||p.isEmpty()))return z.$.first(p)}getCommands(){const D=new Map;for(const p of this._commands.keys()){const o=this.getCommand(p);o&&D.set(p,o)}return D}};M.registerCommand("noop",()=>{})},33108:function(Pt,Ke,e){"use strict";e.d(Ke,{KV:function(){return E},Mt:function(){return I},Od:function(){return r},UI:function(){return M},Ui:function(){return z},xL:function(){return c}});var b=e(72065);const z=(0,b.yh)("configurationService");function r(D,p){const o=Object.create(null);for(const d in D)E(o,d,D[d],p);return o}function E(D,p,o,d){const u=p.split("."),i=u.pop();let n=D;for(let f=0;f<u.length;f++){const v=u[f];let a=n[v];switch(typeof a){case"undefined":a=n[v]=Object.create(null);break;case"object":break;default:d(`Ignoring ${p} as ${u.slice(0,f+1).join(".")} is ${JSON.stringify(a)}`);return}n=a}if(typeof n=="object"&&n!==null)try{n[i]=o}catch(f){d(`Ignoring ${p} as ${u.join(".")} is ${JSON.stringify(n)}`)}else d(`Ignoring ${p} as ${u.join(".")} is ${JSON.stringify(n)}`)}function c(D,p){const o=p.split(".");_(D,o)}function _(D,p){const o=p.shift();if(p.length===0){delete D[o];return}if(Object.keys(D).indexOf(o)!==-1){const d=D[o];typeof d=="object"&&!Array.isArray(d)&&(_(d,p),Object.keys(d).length===0&&delete D[o])}}function I(D,p,o){function d(n,f){let v=n;for(const a of f){if(typeof v!="object"||v===null)return;v=v[a]}return v}const u=p.split("."),i=d(D,u);return typeof i=="undefined"?o:i}function M(D){return D.replace(/[\[\]]/g,"")}},23193:function(Pt,Ke,e){"use strict";e.d(Ke,{IP:function(){return M},eU:function(){return y},ny:function(){return C}});var b=e(9488),z=e(4669),r=e(98401),E=e(63580),c=e(33108),_=e(81294),I=e(89872);const M={Configuration:"base.contributions.configuration"},D={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},o={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},i={properties:{},patternProperties:{}},n="vscode://schemas/settings/resourceLanguage",f=I.B.as(_.I.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new z.Q5,this._onDidUpdateConfiguration=new z.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:E.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},f.registerSchema(n,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(B,$=!0){this.registerConfigurations([B],$)}registerConfigurations(B,$=!0){const Y=new Set;this.doRegisterConfigurations(B,$,Y),f.registerSchema(n,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Y})}registerDefaultConfigurations(B){const $=new Set;this.doRegisterDefaultConfigurations(B,$),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$,defaultsOverrides:!0})}doRegisterDefaultConfigurations(B,$){var Y;const P=[];for(const{overrides:w,source:V}of B)for(const R in w)if($.add(R),y.test(R)){const A=this.configurationDefaultsOverrides.get(R),H=(Y=A==null?void 0:A.valuesSources)!==null&&Y!==void 0?Y:new Map;if(V)for(const W of Object.keys(w[R]))H.set(W,V);const U=Xi(Xi({},(A==null?void 0:A.value)||{}),w[R]);this.configurationDefaultsOverrides.set(R,{source:V,value:U,valuesSources:H});const G=(0,c.UI)(R),j={type:"object",default:U,description:E.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",G),$ref:n,defaultDefaultValue:U,source:r.HD(V)?void 0:V,defaultValueSource:V};P.push(...C(R)),this.configurationProperties[R]=j,this.defaultLanguageConfigurationOverridesNode.properties[R]=j}else{this.configurationDefaultsOverrides.set(R,{value:w[R],source:V});const A=this.configurationProperties[R];A&&(this.updatePropertyDefaultValue(R,A),this.updateSchema(R,A))}this.doRegisterOverrideIdentifiers(P)}registerOverrideIdentifiers(B){this.doRegisterOverrideIdentifiers(B),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(B){for(const $ of B)this.overrideIdentifiers.add($);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(B,$,Y){B.forEach(P=>{this.validateAndRegisterProperties(P,$,P.extensionInfo,P.restrictedProperties,void 0,Y),this.configurationContributors.push(P),this.registerJSONConfiguration(P)})}validateAndRegisterProperties(B,$=!0,Y,P,w=3,V){var R;w=r.Jp(B.scope)?w:B.scope;const A=B.properties;if(A)for(const U in A){const G=A[U];if($&&T(U,G)){delete A[U];continue}if(G.source=Y,G.defaultDefaultValue=A[U].default,this.updatePropertyDefaultValue(U,G),y.test(U)?G.scope=void 0:(G.scope=r.Jp(G.scope)?w:G.scope,G.restricted=r.Jp(G.restricted)?!!(P!=null&&P.includes(U)):G.restricted),A[U].hasOwnProperty("included")&&!A[U].included){this.excludedConfigurationProperties[U]=A[U],delete A[U];continue}else this.configurationProperties[U]=A[U],!((R=A[U].policy)===null||R===void 0)&&R.name&&this.policyConfigurations.set(A[U].policy.name,U);!A[U].deprecationMessage&&A[U].markdownDeprecationMessage&&(A[U].deprecationMessage=A[U].markdownDeprecationMessage),V.add(U)}const H=B.allOf;if(H)for(const U of H)this.validateAndRegisterProperties(U,$,Y,P,w,V)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(B){const $=Y=>{const P=Y.properties;if(P)for(const V in P)this.updateSchema(V,P[V]);const w=Y.allOf;w==null||w.forEach($)};$(B)}updateSchema(B,$){switch(D.properties[B]=$,$.scope){case 1:p.properties[B]=$;break;case 2:o.properties[B]=$;break;case 6:d.properties[B]=$;break;case 3:u.properties[B]=$;break;case 4:i.properties[B]=$;break;case 5:i.properties[B]=$,this.resourceLanguageSettingsSchema.properties[B]=$;break}}updateOverridePropertyPatternKey(){for(const B of this.overrideIdentifiers.values()){const $=`[${B}]`,Y={type:"object",description:E.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:E.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:n};this.updatePropertyDefaultValue($,Y),D.properties[$]=Y,p.properties[$]=Y,o.properties[$]=Y,d.properties[$]=Y,u.properties[$]=Y,i.properties[$]=Y}}registerOverridePropertyPatternKey(){const B={type:"object",description:E.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:E.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:n};D.patternProperties[g]=B,p.patternProperties[g]=B,o.patternProperties[g]=B,d.patternProperties[g]=B,u.patternProperties[g]=B,i.patternProperties[g]=B,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(B,$){const Y=this.configurationDefaultsOverrides.get(B);let P=Y==null?void 0:Y.value,w=Y==null?void 0:Y.source;r.o8(P)&&(P=$.defaultDefaultValue,w=void 0),r.o8(P)&&(P=L($.type)),$.default=P,$.defaultValueSource=w}}const a="\\[([^\\]]+)\\]",S=new RegExp(a,"g"),g=`^(${a})+$`,y=new RegExp(g);function C(F){const B=[];if(y.test(F)){let $=S.exec(F);for(;$!=null&&$.length;){const Y=$[1].trim();Y&&B.push(Y),$=S.exec(F)}}return(0,b.EB)(B)}function L(F){switch(Array.isArray(F)?F[0]:F){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const O=new v;I.B.add(M.Configuration,O);function T(F,B){var $,Y,P,w;return F.trim()?y.test(F)?E.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",F):O.getConfigurationProperties()[F]!==void 0?E.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",F):!(($=B.policy)===null||$===void 0)&&$.name&&O.getPolicyConfigurations().get((Y=B.policy)===null||Y===void 0?void 0:Y.name)!==void 0?E.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",F,(P=B.policy)===null||P===void 0?void 0:P.name,O.getPolicyConfigurations().get((w=B.policy)===null||w===void 0?void 0:w.name)):null:E.NC("config.property.empty","Cannot register an empty property")}},32064:function(Pt,Ke,e){"use strict";e.d(Ke,{cP:function(){return $},Ao:function(){return C},i6:function(){return ie},uy:function(){return X},Fb:function(){return L},K8:function(){return Le}});var b=e(1432),z=e(97295),r=e(17301),E=e(63580);function c(...De){switch(De.length){case 1:return(0,E.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",De[0]);case 2:return(0,E.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",De[0],De[1]);case 3:return(0,E.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",De[0],De[1],De[2]);default:return}}const _=(0,E.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),I=(0,E.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class M{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(ae){switch(ae.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return ae.isTripleEq?"===":"==";case 4:return ae.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return ae.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return ae.lexeme;case 18:return ae.lexeme;case 19:return ae.lexeme;case 20:return"EOF";default:throw(0,r.L6)(`unhandled token type: ${JSON.stringify(ae)}; have you forgotten to add a case?`)}}reset(ae){return this._input=ae,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const Ne=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Ne})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const Ne=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:Ne})}else this._match(126)?this._addToken(9):this._error(c("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(c("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(c("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(ae){return this._isAtEnd()||this._input.charCodeAt(this._current)!==ae?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(ae){this._tokens.push({type:ae,offset:this._start})}_error(ae){const Ne=this._start,We=this._input.substring(this._start,this._current),ze={type:19,offset:this._start,lexeme:We};this._errors.push({offset:Ne,lexeme:We,additionalInfo:ae}),this._tokens.push(ze)}_string(){this.stringRe.lastIndex=this._start;const ae=this.stringRe.exec(this._input);if(ae){this._current=this._start+ae[0].length;const Ne=this._input.substring(this._start,this._current),We=M._keywords.get(Ne);We?this._addToken(We):this._tokens.push({type:17,lexeme:Ne,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(_);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let ae=this._current,Ne=!1,We=!1;for(;;){if(ae>=this._input.length){this._current=ae,this._error(I);return}const Se=this._input.charCodeAt(ae);if(Ne)Ne=!1;else if(Se===47&&!We){ae++;break}else Se===91?We=!0:Se===92?Ne=!0:Se===93&&(We=!1);ae++}for(;ae<this._input.length&&M._regexFlags.has(this._input.charCodeAt(ae));)ae++;this._current=ae;const ze=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:ze,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}M._regexFlags=new Set(["i","g","s","m","y","u"].map(De=>De.charCodeAt(0))),M._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var D=e(72065);const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",b.dz),p.set("isLinux",b.IJ),p.set("isWindows",b.ED),p.set("isWeb",b.$L),p.set("isMacNative",b.dz&&!b.$L),p.set("isEdge",b.un),p.set("isFirefox",b.vU),p.set("isChrome",b.i7),p.set("isSafari",b.G6);const o=Object.prototype.hasOwnProperty,d={regexParsingWithErrorRecovery:!0},u=(0,E.NC)("contextkey.parser.error.emptyString","Empty context key expression"),i=(0,E.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),n=(0,E.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),f=(0,E.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),v=(0,E.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),a=(0,E.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),S=(0,E.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),g=(0,E.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class y{constructor(ae=d){this._config=ae,this._scanner=new M,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(ae){if(ae===""){this._parsingErrors.push({message:u,offset:0,lexeme:"",additionalInfo:i});return}this._tokens=this._scanner.reset(ae).scan(),this._current=0,this._parsingErrors=[];try{const Ne=this._expr();if(!this._isAtEnd()){const We=this._peek(),ze=We.type===17?a:void 0;throw this._parsingErrors.push({message:v,offset:We.offset,lexeme:M.getLexeme(We),additionalInfo:ze}),y._parseError}return Ne}catch(Ne){if(Ne!==y._parseError)throw Ne;return}}_expr(){return this._or()}_or(){const ae=[this._and()];for(;this._matchOne(16);){const Ne=this._and();ae.push(Ne)}return ae.length===1?ae[0]:C.or(...ae)}_and(){const ae=[this._term()];for(;this._matchOne(15);){const Ne=this._term();ae.push(Ne)}return ae.length===1?ae[0]:C.and(...ae)}_term(){if(this._matchOne(2)){const ae=this._peek();switch(ae.type){case 11:return this._advance(),T.INSTANCE;case 12:return this._advance(),F.INSTANCE;case 0:{this._advance();const Ne=this._expr();return this._consume(1,f),Ne==null?void 0:Ne.negate()}case 17:return this._advance(),V.create(ae.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",ae)}}return this._primary()}_primary(){const ae=this._peek();switch(ae.type){case 11:return this._advance(),C.true();case 12:return this._advance(),C.false();case 0:{this._advance();const Ne=this._expr();return this._consume(1,f),Ne}case 17:{const Ne=ae.lexeme;if(this._advance(),this._matchOne(9)){const ze=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ze.type!==10)throw this._errExpectedButGot("REGEX",ze);const Se=ze.lexeme,ne=Se.lastIndexOf("/"),ce=ne===Se.length-1?void 0:this._removeFlagsGY(Se.substring(ne+1));let Oe;try{Oe=new RegExp(Se.substring(1,ne),ce)}catch(Pe){throw this._errExpectedButGot("REGEX",ze)}return j.create(Ne,Oe)}switch(ze.type){case 10:case 19:{const Se=[ze.lexeme];this._advance();let ne=this._peek(),ce=0;for(let _e=0;_e<ze.lexeme.length;_e++)ze.lexeme.charCodeAt(_e)===40?ce++:ze.lexeme.charCodeAt(_e)===41&&ce--;for(;!this._isAtEnd()&&ne.type!==15&&ne.type!==16;){switch(ne.type){case 0:ce++;break;case 1:ce--;break;case 10:case 18:for(let _e=0;_e<ne.lexeme.length;_e++)ne.lexeme.charCodeAt(_e)===40?ce++:ze.lexeme.charCodeAt(_e)===41&&ce--}if(ce<0)break;Se.push(M.getLexeme(ne)),this._advance(),ne=this._peek()}const Oe=Se.join(""),Pe=Oe.lastIndexOf("/"),Me=Pe===Oe.length-1?void 0:this._removeFlagsGY(Oe.substring(Pe+1));let ye;try{ye=new RegExp(Oe.substring(1,Pe),Me)}catch(_e){throw this._errExpectedButGot("REGEX",ze)}return C.regex(Ne,ye)}case 18:{const Se=ze.lexeme;this._advance();let ne=null;if(!(0,z.m5)(Se)){const ce=Se.indexOf("/"),Oe=Se.lastIndexOf("/");if(ce!==Oe&&ce>=0){const Pe=Se.slice(ce+1,Oe),Me=Se[Oe+1]==="i"?"i":"";try{ne=new RegExp(Pe,Me)}catch(ye){throw this._errExpectedButGot("REGEX",ze)}}}if(ne===null)throw this._errExpectedButGot("REGEX",ze);return j.create(Ne,ne)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,n);const ze=this._value();return C.notIn(Ne,ze)}switch(this._peek().type){case 3:{this._advance();const ze=this._value();if(this._previous().type===18)return C.equals(Ne,ze);switch(ze){case"true":return C.has(Ne);case"false":return C.not(Ne);default:return C.equals(Ne,ze)}}case 4:{this._advance();const ze=this._value();if(this._previous().type===18)return C.notEquals(Ne,ze);switch(ze){case"true":return C.not(Ne);case"false":return C.has(Ne);default:return C.notEquals(Ne,ze)}}case 5:return this._advance(),U.create(Ne,this._value());case 6:return this._advance(),G.create(Ne,this._value());case 7:return this._advance(),A.create(Ne,this._value());case 8:return this._advance(),H.create(Ne,this._value());case 13:return this._advance(),C.in(Ne,this._value());default:return C.has(Ne)}}case 20:throw this._parsingErrors.push({message:S,offset:ae.offset,lexeme:"",additionalInfo:g}),y._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const ae=this._peek();switch(ae.type){case 17:case 18:return this._advance(),ae.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(ae){return ae.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(ae){return this._check(ae)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(ae,Ne){if(this._check(ae))return this._advance();throw this._errExpectedButGot(Ne,this._peek())}_errExpectedButGot(ae,Ne,We){const ze=(0,E.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,ae,M.getLexeme(Ne)),Se=Ne.offset,ne=M.getLexeme(Ne);return this._parsingErrors.push({message:ze,offset:Se,lexeme:ne,additionalInfo:We}),y._parseError}_check(ae){return this._peek().type===ae}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}y._parseError=new Error;class C{static false(){return T.INSTANCE}static true(){return F.INSTANCE}static has(ae){return B.create(ae)}static equals(ae,Ne){return $.create(ae,Ne)}static notEquals(ae,Ne){return w.create(ae,Ne)}static regex(ae,Ne){return j.create(ae,Ne)}static in(ae,Ne){return Y.create(ae,Ne)}static notIn(ae,Ne){return P.create(ae,Ne)}static not(ae){return V.create(ae)}static and(...ae){return m.create(ae,null,!0)}static or(...ae){return J.create(ae,null,!0)}static deserialize(ae){return ae==null?void 0:this._parser.parse(ae)}}C._parser=new y({regexParsingWithErrorRecovery:!1});function L(De,ae){const Ne=De?De.substituteConstants():void 0,We=ae?ae.substituteConstants():void 0;return!Ne&&!We?!0:!Ne||!We?!1:Ne.equals(We)}function O(De,ae){return De.cmp(ae)}class T{constructor(){this.type=0}cmp(ae){return this.type-ae.type}equals(ae){return ae.type===this.type}substituteConstants(){return this}evaluate(ae){return!1}serialize(){return"false"}keys(){return[]}negate(){return F.INSTANCE}}T.INSTANCE=new T;class F{constructor(){this.type=1}cmp(ae){return this.type-ae.type}equals(ae){return ae.type===this.type}substituteConstants(){return this}evaluate(ae){return!0}serialize(){return"true"}keys(){return[]}negate(){return T.INSTANCE}}F.INSTANCE=new F;class B{static create(ae,Ne=null){const We=p.get(ae);return typeof We=="boolean"?We?F.INSTANCE:T.INSTANCE:new B(ae,Ne)}constructor(ae,Ne){this.key=ae,this.negated=Ne,this.type=2}cmp(ae){return ae.type!==this.type?this.type-ae.type:le(this.key,ae.key)}equals(ae){return ae.type===this.type?this.key===ae.key:!1}substituteConstants(){const ae=p.get(this.key);return typeof ae=="boolean"?ae?F.INSTANCE:T.INSTANCE:this}evaluate(ae){return!!ae.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this)),this.negated}}class ${static create(ae,Ne,We=null){if(typeof Ne=="boolean")return Ne?B.create(ae,We):V.create(ae,We);const ze=p.get(ae);return typeof ze=="boolean"?Ne===(ze?"true":"false")?F.INSTANCE:T.INSTANCE:new $(ae,Ne,We)}constructor(ae,Ne,We){this.key=ae,this.value=Ne,this.negated=We,this.type=4}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){const ae=p.get(this.key);if(typeof ae=="boolean"){const Ne=ae?"true":"false";return this.value===Ne?F.INSTANCE:T.INSTANCE}return this}evaluate(ae){return ae.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class Y{static create(ae,Ne){return new Y(ae,Ne)}constructor(ae,Ne){this.key=ae,this.valueKey=Ne,this.type=10,this.negated=null}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.valueKey,ae.key,ae.valueKey)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.valueKey===ae.valueKey:!1}substituteConstants(){return this}evaluate(ae){const Ne=ae.getValue(this.valueKey),We=ae.getValue(this.key);return Array.isArray(Ne)?Ne.includes(We):typeof We=="string"&&typeof Ne=="object"&&Ne!==null?o.call(Ne,We):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=P.create(this.key,this.valueKey)),this.negated}}class P{static create(ae,Ne){return new P(ae,Ne)}constructor(ae,Ne){this.key=ae,this.valueKey=Ne,this.type=11,this._negated=Y.create(ae,Ne)}cmp(ae){return ae.type!==this.type?this.type-ae.type:this._negated.cmp(ae._negated)}equals(ae){return ae.type===this.type?this._negated.equals(ae._negated):!1}substituteConstants(){return this}evaluate(ae){return!this._negated.evaluate(ae)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class w{static create(ae,Ne,We=null){if(typeof Ne=="boolean")return Ne?V.create(ae,We):B.create(ae,We);const ze=p.get(ae);return typeof ze=="boolean"?Ne===(ze?"true":"false")?T.INSTANCE:F.INSTANCE:new w(ae,Ne,We)}constructor(ae,Ne,We){this.key=ae,this.value=Ne,this.negated=We,this.type=5}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){const ae=p.get(this.key);if(typeof ae=="boolean"){const Ne=ae?"true":"false";return this.value===Ne?T.INSTANCE:F.INSTANCE}return this}evaluate(ae){return ae.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=$.create(this.key,this.value,this)),this.negated}}class V{static create(ae,Ne=null){const We=p.get(ae);return typeof We=="boolean"?We?T.INSTANCE:F.INSTANCE:new V(ae,Ne)}constructor(ae,Ne){this.key=ae,this.negated=Ne,this.type=3}cmp(ae){return ae.type!==this.type?this.type-ae.type:le(this.key,ae.key)}equals(ae){return ae.type===this.type?this.key===ae.key:!1}substituteConstants(){const ae=p.get(this.key);return typeof ae=="boolean"?ae?T.INSTANCE:F.INSTANCE:this}evaluate(ae){return!ae.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=B.create(this.key,this)),this.negated}}function R(De,ae){if(typeof De=="string"){const Ne=parseFloat(De);isNaN(Ne)||(De=Ne)}return typeof De=="string"||typeof De=="number"?ae(De):T.INSTANCE}class A{static create(ae,Ne,We=null){return R(Ne,ze=>new A(ae,ze,We))}constructor(ae,Ne,We){this.key=ae,this.value=Ne,this.negated=We,this.type=12}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this.value,this)),this.negated}}class H{static create(ae,Ne,We=null){return R(Ne,ze=>new H(ae,ze,We))}constructor(ae,Ne,We){this.key=ae,this.value=Ne,this.negated=We,this.type=13}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=U.create(this.key,this.value,this)),this.negated}}class U{static create(ae,Ne,We=null){return R(Ne,ze=>new U(ae,ze,We))}constructor(ae,Ne,We){this.key=ae,this.value=Ne,this.negated=We,this.type=14}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class G{static create(ae,Ne,We=null){return R(Ne,ze=>new G(ae,ze,We))}constructor(ae,Ne,We){this.key=ae,this.value=Ne,this.negated=We,this.type=15}cmp(ae){return ae.type!==this.type?this.type-ae.type:fe(this.key,this.value,ae.key,ae.value)}equals(ae){return ae.type===this.type?this.key===ae.key&&this.value===ae.value:!1}substituteConstants(){return this}evaluate(ae){return typeof this.value=="string"?!1:parseFloat(ae.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}class j{static create(ae,Ne){return new j(ae,Ne)}constructor(ae,Ne){this.key=ae,this.regexp=Ne,this.type=7,this.negated=null}cmp(ae){if(ae.type!==this.type)return this.type-ae.type;if(this.key<ae.key)return-1;if(this.key>ae.key)return 1;const Ne=this.regexp?this.regexp.source:"",We=ae.regexp?ae.regexp.source:"";return Ne<We?-1:Ne>We?1:0}equals(ae){if(ae.type===this.type){const Ne=this.regexp?this.regexp.source:"",We=ae.regexp?ae.regexp.source:"";return this.key===ae.key&&Ne===We}return!1}substituteConstants(){return this}evaluate(ae){const Ne=ae.getValue(this.key);return this.regexp?this.regexp.test(Ne):!1}serialize(){const ae=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${ae}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=W.create(this)),this.negated}}class W{static create(ae){return new W(ae)}constructor(ae){this._actual=ae,this.type=8}cmp(ae){return ae.type!==this.type?this.type-ae.type:this._actual.cmp(ae._actual)}equals(ae){return ae.type===this.type?this._actual.equals(ae._actual):!1}substituteConstants(){return this}evaluate(ae){return!this._actual.evaluate(ae)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function K(De){let ae=null;for(let Ne=0,We=De.length;Ne<We;Ne++){const ze=De[Ne].substituteConstants();if(De[Ne]!==ze&&ae===null){ae=[];for(let Se=0;Se<Ne;Se++)ae[Se]=De[Se]}ae!==null&&(ae[Ne]=ze)}return ae===null?De:ae}class m{static create(ae,Ne,We){return m._normalizeArr(ae,Ne,We)}constructor(ae,Ne){this.expr=ae,this.negated=Ne,this.type=6}cmp(ae){if(ae.type!==this.type)return this.type-ae.type;if(this.expr.length<ae.expr.length)return-1;if(this.expr.length>ae.expr.length)return 1;for(let Ne=0,We=this.expr.length;Ne<We;Ne++){const ze=O(this.expr[Ne],ae.expr[Ne]);if(ze!==0)return ze}return 0}equals(ae){if(ae.type===this.type){if(this.expr.length!==ae.expr.length)return!1;for(let Ne=0,We=this.expr.length;Ne<We;Ne++)if(!this.expr[Ne].equals(ae.expr[Ne]))return!1;return!0}return!1}substituteConstants(){const ae=K(this.expr);return ae===this.expr?this:m.create(ae,this.negated,!1)}evaluate(ae){for(let Ne=0,We=this.expr.length;Ne<We;Ne++)if(!this.expr[Ne].evaluate(ae))return!1;return!0}static _normalizeArr(ae,Ne,We){const ze=[];let Se=!1;for(const ne of ae)if(ne){if(ne.type===1){Se=!0;continue}if(ne.type===0)return T.INSTANCE;if(ne.type===6){ze.push(...ne.expr);continue}ze.push(ne)}if(ze.length===0&&Se)return F.INSTANCE;if(ze.length!==0){if(ze.length===1)return ze[0];ze.sort(O);for(let ne=1;ne<ze.length;ne++)ze[ne-1].equals(ze[ne])&&(ze.splice(ne,1),ne--);if(ze.length===1)return ze[0];for(;ze.length>1;){const ne=ze[ze.length-1];if(ne.type!==9)break;ze.pop();const ce=ze.pop(),Oe=ze.length===0,Pe=J.create(ne.expr.map(Me=>m.create([Me,ce],null,We)),null,Oe);Pe&&(ze.push(Pe),ze.sort(O))}if(ze.length===1)return ze[0];if(We){for(let ne=0;ne<ze.length;ne++)for(let ce=ne+1;ce<ze.length;ce++)if(ze[ne].negate().equals(ze[ce]))return T.INSTANCE;if(ze.length===1)return ze[0]}return new m(ze,Ne)}}serialize(){return this.expr.map(ae=>ae.serialize()).join(" && ")}keys(){const ae=[];for(const Ne of this.expr)ae.push(...Ne.keys());return ae}negate(){if(!this.negated){const ae=[];for(const Ne of this.expr)ae.push(Ne.negate());this.negated=J.create(ae,this,!0)}return this.negated}}class J{static create(ae,Ne,We){return J._normalizeArr(ae,Ne,We)}constructor(ae,Ne){this.expr=ae,this.negated=Ne,this.type=9}cmp(ae){if(ae.type!==this.type)return this.type-ae.type;if(this.expr.length<ae.expr.length)return-1;if(this.expr.length>ae.expr.length)return 1;for(let Ne=0,We=this.expr.length;Ne<We;Ne++){const ze=O(this.expr[Ne],ae.expr[Ne]);if(ze!==0)return ze}return 0}equals(ae){if(ae.type===this.type){if(this.expr.length!==ae.expr.length)return!1;for(let Ne=0,We=this.expr.length;Ne<We;Ne++)if(!this.expr[Ne].equals(ae.expr[Ne]))return!1;return!0}return!1}substituteConstants(){const ae=K(this.expr);return ae===this.expr?this:J.create(ae,this.negated,!1)}evaluate(ae){for(let Ne=0,We=this.expr.length;Ne<We;Ne++)if(this.expr[Ne].evaluate(ae))return!0;return!1}static _normalizeArr(ae,Ne,We){let ze=[],Se=!1;if(ae){for(let ne=0,ce=ae.length;ne<ce;ne++){const Oe=ae[ne];if(Oe){if(Oe.type===0){Se=!0;continue}if(Oe.type===1)return F.INSTANCE;if(Oe.type===9){ze=ze.concat(Oe.expr);continue}ze.push(Oe)}}if(ze.length===0&&Se)return T.INSTANCE;ze.sort(O)}if(ze.length!==0){if(ze.length===1)return ze[0];for(let ne=1;ne<ze.length;ne++)ze[ne-1].equals(ze[ne])&&(ze.splice(ne,1),ne--);if(ze.length===1)return ze[0];if(We){for(let ne=0;ne<ze.length;ne++)for(let ce=ne+1;ce<ze.length;ce++)if(ze[ne].negate().equals(ze[ce]))return F.INSTANCE;if(ze.length===1)return ze[0]}return new J(ze,Ne)}}serialize(){return this.expr.map(ae=>ae.serialize()).join(" || ")}keys(){const ae=[];for(const Ne of this.expr)ae.push(...Ne.keys());return ae}negate(){if(!this.negated){const ae=[];for(const Ne of this.expr)ae.push(Ne.negate());for(;ae.length>1;){const Ne=ae.shift(),We=ae.shift(),ze=[];for(const Se of Te(Ne))for(const ne of Te(We))ze.push(m.create([Se,ne],null,!1));ae.unshift(J.create(ze,null,!1))}this.negated=J.create(ae,this,!0)}return this.negated}}class X extends B{static all(){return X._info.values()}constructor(ae,Ne,We){super(ae,null),this._defaultValue=Ne,typeof We=="object"?X._info.push(Ln(Xi({},We),{key:ae})):We!==!0&&X._info.push({key:ae,description:We,type:Ne!=null?typeof Ne:void 0})}bindTo(ae){return ae.createKey(this.key,this._defaultValue)}getValue(ae){return ae.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(ae){return $.create(this.key,ae)}}X._info=[];const ie=(0,D.yh)("contextKeyService");function le(De,ae){return De<ae?-1:De>ae?1:0}function fe(De,ae,Ne,We){return De<Ne?-1:De>Ne?1:ae<We?-1:ae>We?1:0}function Le(De,ae){if(De.type===0||ae.type===1)return!0;if(De.type===9)return ae.type===9?pe(De.expr,ae.expr):!1;if(ae.type===9){for(const Ne of ae.expr)if(Le(De,Ne))return!0;return!1}if(De.type===6){if(ae.type===6)return pe(ae.expr,De.expr);for(const Ne of De.expr)if(Le(Ne,ae))return!0;return!1}return De.equals(ae)}function pe(De,ae){let Ne=0,We=0;for(;Ne<De.length&&We<ae.length;){const ze=De[Ne].cmp(ae[We]);if(ze<0)return!1;ze===0&&Ne++,We++}return Ne===De.length}function Te(De){return De.type===9?De.expr:[De]}},39282:function(Pt,Ke,e){"use strict";e.d(Ke,{Pf:function(){return I},cv:function(){return _},d0:function(){return u}});var b=e(1432),z=e(63580),r=e(32064);const E=new r.uy("isMac",b.dz,(0,z.NC)("isMac","Whether the operating system is macOS")),c=new r.uy("isLinux",b.IJ,(0,z.NC)("isLinux","Whether the operating system is Linux")),_=new r.uy("isWindows",b.ED,(0,z.NC)("isWindows","Whether the operating system is Windows")),I=new r.uy("isWeb",b.$L,(0,z.NC)("isWeb","Whether the platform is a web browser")),M=new r.uy("isMacNative",b.dz&&!b.$L,(0,z.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),D=new r.uy("isIOS",b.gn,(0,z.NC)("isIOS","Whether the operating system is iOS")),p=new r.uy("isMobile",b.tq,(0,z.NC)("isMobile","Whether the platform is a mobile web browser")),o=new r.uy("isDevelopment",!1,!0),d=new r.uy("productQualityType","",(0,z.NC)("productQualityType","Quality type of VS Code")),u="inputFocus",i=new r.uy(u,!1,(0,z.NC)("inputFocus","Whether keyboard focus is inside an input box"))},5606:function(Pt,Ke,e){"use strict";e.d(Ke,{i:function(){return r},u:function(){return z}});var b=e(72065);const z=(0,b.yh)("contextViewService"),r=(0,b.yh)("contextMenuService")},28820:function(Pt,Ke,e){"use strict";e.d(Ke,{S:function(){return z}});var b=e(72065);const z=(0,b.yh)("dialogService")},16021:function(Pt,Ke,e){"use strict";e.d(Ke,{Ej:function(){return c},Km:function(){return z}});var b=e(89872);const z={EDITORS:"CodeEditors",FILES:"CodeFiles"};class r{}const E={DragAndDropContribution:"workbench.contributions.dragAndDrop"};b.B.add(E.DragAndDropContribution,new r);class c{constructor(){}static getInstance(){return c.INSTANCE}hasData(I){return I&&I===this.proto}getData(I){if(this.hasData(I))return this.data}}c.INSTANCE=new c},48814:function(Pt,Ke,e){"use strict";e.d(Ke,{Y:function(){return z}});var b=e(72065);const z=(0,b.yh)("environmentService")},37726:function(Pt,Ke,e){"use strict";e.d(Ke,{Yb:function(){return F},Nq:function(){return B},iX:function(){return S}});var b=e(50153),z=e(65321),r=e(40032),E=e(97862),c=e(93794),_=e(73046),I=e(4669),M=e(60812),D=e(63580);const p=D.NC("defaultLabel","input"),o=D.NC("label.preserveCaseToggle","Preserve Case");class d extends r.Z{constructor(Y){super({icon:_.l.preserveCase,title:o+Y.appendTitle,isChecked:Y.isChecked,inputActiveOptionBorder:Y.inputActiveOptionBorder,inputActiveOptionForeground:Y.inputActiveOptionForeground,inputActiveOptionBackground:Y.inputActiveOptionBackground})}}class u extends c.${constructor(Y,P,w,V){super(),this._showOptionButtons=w,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new I.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new I.Q5),this._onInput=this._register(new I.Q5),this._onKeyUp=this._register(new I.Q5),this._onPreserveCaseKeyDown=this._register(new I.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=P,this.placeholder=V.placeholder||"",this.validation=V.validation,this.label=V.label||p;const R=V.appendPreserveCaseLabel||"",A=V.history||[],H=!!V.flexibleHeight,U=!!V.flexibleWidth,G=V.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:A,showHistoryHint:V.showHistoryHint,flexibleHeight:H,flexibleWidth:U,flexibleMaxHeight:G,inputBoxStyles:V.inputBoxStyles})),this.preserveCase=this._register(new d(Xi({appendTitle:R,isChecked:!1},V.toggleStyles))),this._register(this.preserveCase.onChange(K=>{this._onDidOptionChange.fire(K),!K&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(K=>{this._onPreserveCaseKeyDown.fire(K)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const j=[this.preserveCase.domNode];this.onkeydown(this.domNode,K=>{if(K.equals(15)||K.equals(17)||K.equals(9)){const m=j.indexOf(this.domNode.ownerDocument.activeElement);if(m>=0){let J=-1;K.equals(17)?J=(m+1)%j.length:K.equals(15)&&(m===0?J=j.length-1:J=m-1),K.equals(9)?(j[m].blur(),this.inputBox.focus()):J>=0&&j[J].focus(),z.zB.stop(K,!0)}}});const W=document.createElement("div");W.className="controls",W.style.display=this._showOptionButtons?"block":"none",W.appendChild(this.preserveCase.domNode),this.domNode.appendChild(W),Y==null||Y.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,K=>this._onKeyDown.fire(K)),this.onkeyup(this.inputBox.inputElement,K=>this._onKeyUp.fire(K)),this.oninput(this.inputBox.inputElement,K=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,K=>this._onMouseDown.fire(K))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(Y){Y?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(Y){this.preserveCase.checked=Y}focusOnPreserve(){this.preserveCase.focus()}validate(){var Y;(Y=this.inputBox)===null||Y===void 0||Y.validate()}set width(Y){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=Y+"px"}dispose(){super.dispose()}}var i=e(32064),n=e(49989),f=e(5976),v=function($,Y,P,w){var V=arguments.length,R=V<3?Y:w===null?w=Object.getOwnPropertyDescriptor(Y,P):w,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate($,Y,P,w);else for(var H=$.length-1;H>=0;H--)(A=$[H])&&(R=(V<3?A(R):V>3?A(Y,P,R):A(Y,P))||R);return V>3&&R&&Object.defineProperty(Y,P,R),R},a=function($,Y){return function(P,w){Y(P,w,$)}};const S=new i.uy("suggestWidgetVisible",!1,(0,D.NC)("suggestWidgetVisible","Whether suggestion are visible")),g="historyNavigationWidgetFocus",y="historyNavigationForwardsEnabled",C="historyNavigationBackwardsEnabled";let L;const O=[];function T($,Y){if(O.includes(Y))throw new Error("Cannot register the same widget multiple times");O.push(Y);const P=new f.SL,w=new i.uy(g,!1).bindTo($),V=new i.uy(y,!0).bindTo($),R=new i.uy(C,!0).bindTo($),A=()=>{w.set(!0),L=Y},H=()=>{w.set(!1),L===Y&&(L=void 0)};return(0,z.H9)(Y.element)&&A(),P.add(Y.onDidFocus(()=>A())),P.add(Y.onDidBlur(()=>H())),P.add((0,f.OF)(()=>{O.splice(O.indexOf(Y),1),H()})),{historyNavigationForwardsEnablement:V,historyNavigationBackwardsEnablement:R,dispose(){P.dispose()}}}let F=class extends b.V{constructor(Y,P,w,V){super(Y,P,w);const R=this._register(V.createScoped(this.inputBox.element));this._register(T(R,this.inputBox))}};F=v([a(3,i.i6)],F);let B=class extends u{constructor(Y,P,w,V,R=!1){super(Y,P,R,w);const A=this._register(V.createScoped(this.inputBox.element));this._register(T(A,this.inputBox))}};B=v([a(3,i.i6)],B),n.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:i.Ao.and(i.Ao.has(g),i.Ao.equals(C,!0),i.Ao.not("isComposing"),S.isEqualTo(!1)),primary:16,secondary:[528],handler:$=>{L==null||L.showPreviousValue()}}),n.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:i.Ao.and(i.Ao.has(g),i.Ao.equals(y,!0),i.Ao.not("isComposing"),S.isEqualTo(!1)),primary:18,secondary:[530],handler:$=>{L==null||L.showNextValue()}})},97108:function(Pt,Ke,e){"use strict";e.d(Ke,{M:function(){return b}});class b{constructor(r,E=[],c=!1){this.ctor=r,this.staticArguments=E,this.supportsDelayedInstantiation=c}}},65026:function(Pt,Ke,e){"use strict";e.d(Ke,{d:function(){return E},z:function(){return r}});var b=e(97108);const z=[];function r(c,_,I){_ instanceof b.M||(_=new b.M(_,[],!!I)),z.push([c,_])}function E(){return z}},72065:function(Pt,Ke,e){"use strict";e.d(Ke,{I8:function(){return b},TG:function(){return z},yh:function(){return E}});var b;(function(c){c.serviceIds=new Map,c.DI_TARGET="$di$target",c.DI_DEPENDENCIES="$di$dependencies";function _(I){return I[c.DI_DEPENDENCIES]||[]}c.getServiceDependencies=_})(b||(b={}));const z=E("instantiationService");function r(c,_,I){_[b.DI_TARGET]===_?_[b.DI_DEPENDENCIES].push({id:c,index:I}):(_[b.DI_DEPENDENCIES]=[{id:c,index:I}],_[b.DI_TARGET]=_)}function E(c){if(b.serviceIds.has(c))return b.serviceIds.get(c);const _=function(I,M,D){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(_,I,D)};return _.toString=()=>c,b.serviceIds.set(c,_),_}},60972:function(Pt,Ke,e){"use strict";e.d(Ke,{y:function(){return b}});class b{constructor(...r){this._entries=new Map;for(const[E,c]of r)this.set(E,c)}set(r,E){const c=this._entries.get(r);return this._entries.set(r,E),c}get(r){return this._entries.get(r)}}},81294:function(Pt,Ke,e){"use strict";e.d(Ke,{I:function(){return r}});var b=e(4669),z=e(89872);const r={JSONContribution:"base.contributions.json"};function E(I){return I.length>0&&I.charAt(I.length-1)==="#"?I.substring(0,I.length-1):I}class c{constructor(){this._onDidChangeSchema=new b.Q5,this.schemasById={}}registerSchema(M,D){this.schemasById[E(M)]=D,this._onDidChangeSchema.fire(M)}notifySchemaChanged(M){this._onDidChangeSchema.fire(M)}}const _=new c;z.B.add(r.JSONContribution,_)},91847:function(Pt,Ke,e){"use strict";e.d(Ke,{d:function(){return z}});var b=e(72065);const z=(0,b.yh)("keybindingService")},49989:function(Pt,Ke,e){"use strict";e.d(Ke,{W:function(){return M}});var b=e(8313),z=e(1432),r=e(94565),E=e(89872),c=e(5976),_=e(91741);class I{constructor(){this._coreKeybindings=new _.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(d){if(z.OS===1){if(d&&d.win)return d.win}else if(z.OS===2){if(d&&d.mac)return d.mac}else if(d&&d.linux)return d.linux;return d}registerKeybindingRule(d){const u=I.bindToCurrentPlatform(d),i=new c.SL;if(u&&u.primary){const n=(0,b.Z9)(u.primary,z.OS);n&&i.add(this._registerDefaultKeybinding(n,d.id,d.args,d.weight,0,d.when))}if(u&&Array.isArray(u.secondary))for(let n=0,f=u.secondary.length;n<f;n++){const v=u.secondary[n],a=(0,b.Z9)(v,z.OS);a&&i.add(this._registerDefaultKeybinding(a,d.id,d.args,d.weight,-n-1,d.when))}return i}registerCommandAndKeybindingRule(d){return(0,c.F8)(this.registerKeybindingRule(d),r.P.registerCommand(d))}_registerDefaultKeybinding(d,u,i,n,f,v){const a=this._coreKeybindings.push({keybinding:d,command:u,commandArgs:i,when:v,weight1:n,weight2:f,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,c.OF)(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}const M=new I,D={EditorModes:"platform.keybindingsRegistry"};E.B.add(D.EditorModes,M);function p(o,d){if(o.weight1!==d.weight1)return o.weight1-d.weight1;if(o.command&&d.command){if(o.command<d.command)return-1;if(o.command>d.command)return 1}return o.weight2-d.weight2}},44349:function(Pt,Ke,e){"use strict";e.d(Ke,{e:function(){return z}});var b=e(72065);const z=(0,b.yh)("labelService")},14107:function(Pt,Ke,e){"use strict";e.d(Ke,{Lw:function(){return Wt},XN:function(){return qe},ls:function(){return te},ev:function(){return li},CQ:function(){return be},PS:function(){return gi},uJ:function(){return ai}});var b=e(65321),z=e(9488),r=e(71050),E=e(4669),c=e(5976),_=e(5520),I=e(69047);class M{get templateId(){return this.renderer.templateId}constructor(Q,he){this.renderer=Q,this.modelProvider=he}renderTemplate(Q){return{data:this.renderer.renderTemplate(Q),disposable:c.JT.None}}renderElement(Q,he,Be,nt){var pt;if((pt=Be.disposable)===null||pt===void 0||pt.dispose(),!Be.data)return;const Tt=this.modelProvider();if(Tt.isResolved(Q))return this.renderer.renderElement(Tt.get(Q),Q,Be.data,nt);const Vt=new r.A,oi=Tt.resolve(Q,Vt.token);Be.disposable={dispose:()=>Vt.cancel()},this.renderer.renderPlaceholder(Q,Be.data),oi.then(Ai=>this.renderer.renderElement(Ai,Q,Be.data,nt))}disposeTemplate(Q){Q.disposable&&(Q.disposable.dispose(),Q.disposable=void 0),Q.data&&(this.renderer.disposeTemplate(Q.data),Q.data=void 0)}}class D{constructor(Q,he){this.modelProvider=Q,this.accessibilityProvider=he}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(Q){const he=this.modelProvider();return he.isResolved(Q)?this.accessibilityProvider.getAriaLabel(he.get(Q)):null}}function p(st,Q){return Ln(Xi({},Q),{accessibilityProvider:Q.accessibilityProvider&&new D(st,Q.accessibilityProvider)})}class o{constructor(Q,he,Be,nt,pt={}){const Tt=()=>this.model,Vt=nt.map(oi=>new M(oi,Tt));this.list=new I.aV(Q,he,Be,Vt,p(Tt,pt))}updateOptions(Q){this.list.updateOptions(Q)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return E.ju.map(this.list.onMouseDblClick,({element:Q,index:he,browserEvent:Be})=>({element:Q===void 0?void 0:this._model.get(Q),index:he,browserEvent:Be}))}get onPointer(){return E.ju.map(this.list.onPointer,({element:Q,index:he,browserEvent:Be})=>({element:Q===void 0?void 0:this._model.get(Q),index:he,browserEvent:Be}))}get onDidChangeSelection(){return E.ju.map(this.list.onDidChangeSelection,({elements:Q,indexes:he,browserEvent:Be})=>({elements:Q.map(nt=>this._model.get(nt)),indexes:he,browserEvent:Be}))}get model(){return this._model}set model(Q){this._model=Q,this.list.splice(0,this.list.length,(0,z.w6)(Q.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(Q=>this.model.get(Q))}style(Q){this.list.style(Q)}dispose(){this.list.dispose()}}var d=e(33225);class u{constructor(Q,he,Be){this.columns=Q,this.getColumnSize=Be,this.templateId=u.TemplateId,this.renderedTemplates=new Set;const nt=new Map(he.map(pt=>[pt.templateId,pt]));this.renderers=[];for(const pt of Q){const Tt=nt.get(pt.templateId);if(!Tt)throw new Error(`Table cell renderer for template id ${pt.templateId} not found.`);this.renderers.push(Tt)}}renderTemplate(Q){const he=(0,b.R3)(Q,(0,b.$)(".monaco-table-tr")),Be=[],nt=[];for(let Tt=0;Tt<this.columns.length;Tt++){const Vt=this.renderers[Tt],oi=(0,b.R3)(he,(0,b.$)(".monaco-table-td",{"data-col-index":Tt}));oi.style.width=`${this.getColumnSize(Tt)}px`,Be.push(oi),nt.push(Vt.renderTemplate(oi))}const pt={container:Q,cellContainers:Be,cellTemplateData:nt};return this.renderedTemplates.add(pt),pt}renderElement(Q,he,Be,nt){for(let pt=0;pt<this.columns.length;pt++){const Vt=this.columns[pt].project(Q);this.renderers[pt].renderElement(Vt,he,Be.cellTemplateData[pt],nt)}}disposeElement(Q,he,Be,nt){for(let pt=0;pt<this.columns.length;pt++){const Tt=this.renderers[pt];if(Tt.disposeElement){const oi=this.columns[pt].project(Q);Tt.disposeElement(oi,he,Be.cellTemplateData[pt],nt)}}}disposeTemplate(Q){for(let he=0;he<this.columns.length;he++)this.renderers[he].disposeTemplate(Q.cellTemplateData[he]);(0,b.PO)(Q.container),this.renderedTemplates.delete(Q)}layoutColumn(Q,he){for(const{cellContainers:Be}of this.renderedTemplates)Be[Q].style.width=`${he}px`}}u.TemplateId="row";function i(st){return{getHeight(Q){return st.getHeight(Q)},getTemplateId(){return u.TemplateId}}}class n{get minimumSize(){var Q;return(Q=this.column.minimumWidth)!==null&&Q!==void 0?Q:120}get maximumSize(){var Q;return(Q=this.column.maximumWidth)!==null&&Q!==void 0?Q:Number.POSITIVE_INFINITY}get onDidChange(){var Q;return(Q=this.column.onDidChangeWidthConstraints)!==null&&Q!==void 0?Q:E.ju.None}constructor(Q,he){this.column=Q,this.index=he,this._onDidLayout=new E.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,b.$)(".monaco-table-th",{"data-col-index":he,title:Q.tooltip},Q.label)}layout(Q){this._onDidLayout.fire([this.index,Q])}}class f{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(Q){this.list.scrollTop=Q}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(Q,he,Be,nt,pt,Tt){this.virtualDelegate=Be,this.domId=`table_id_${++f.InstanceCount}`,this.disposables=new c.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,b.R3)(he,(0,b.$)(`.monaco-table.${this.domId}`));const Vt=nt.map((zi,cn)=>new n(zi,cn)),oi={size:Vt.reduce((zi,cn)=>zi+cn.column.weight,0),views:Vt.map(zi=>({size:zi.column.weight,view:zi}))};this.splitview=this.disposables.add(new d.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:oi})),this.splitview.el.style.height=`${Be.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Be.headerRowHeight}px`;const Ai=new u(nt,pt,zi=>this.splitview.getViewSize(zi));this.list=this.disposables.add(new I.aV(Q,this.domNode,i(Be),[Ai],Tt)),E.ju.any(...Vt.map(zi=>zi.onDidLayout))(([zi,cn])=>Ai.layoutColumn(zi,cn),null,this.disposables),this.splitview.onDidSashReset(zi=>{const cn=nt.reduce((on,Ki)=>on+Ki.weight,0),dn=nt[zi].weight/cn*this.cachedWidth;this.splitview.resizeView(zi,dn)},null,this.disposables),this.styleElement=(0,b.dS)(this.domNode),this.style(I.uZ)}updateOptions(Q){this.list.updateOptions(Q)}splice(Q,he,Be=[]){this.list.splice(Q,he,Be)}getHTMLElement(){return this.domNode}style(Q){const he=[];he.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=he.join(`
`),this.list.style(Q)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}f.InstanceCount=0;var v=e(4850),a=e(59069),S=e(90317),g=e(50153),y=e(97862),C=e(72010),L=e(40032),O;(function(st){st[st.Expanded=0]="Expanded",st[st.Collapsed=1]="Collapsed",st[st.PreserveOrExpanded=2]="PreserveOrExpanded",st[st.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(O||(O={}));var T;(function(st){st[st.Unknown=0]="Unknown",st[st.Twistie=1]="Twistie",st[st.Element=2]="Element",st[st.Filter=3]="Filter"})(T||(T={}));class F extends Error{constructor(Q,he){super(`TreeError [${Q}] ${he}`)}}class B{constructor(Q){this.fn=Q,this._map=new WeakMap}map(Q){let he=this._map.get(Q);return he||(he=this.fn(Q),this._map.set(Q,he)),he}}var $=e(15393),Y=e(5635),P=e(22571),w=e(53725);function V(st){return typeof st=="object"&&"visibility"in st&&"data"in st}function R(st){switch(st){case!0:return 1;case!1:return 0;default:return st}}function A(st){return typeof st.collapsible=="boolean"}class H{constructor(Q,he,Be,nt={}){this.user=Q,this.list=he,this.rootRef=[],this.eventBufferer=new E.E7,this._onDidChangeCollapseState=new E.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new E.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new E.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new $.vp(Y.n),this.collapseByDefault=typeof nt.collapseByDefault=="undefined"?!1:nt.collapseByDefault,this.filter=nt.filter,this.autoExpandSingleChildren=typeof nt.autoExpandSingleChildren=="undefined"?!1:nt.autoExpandSingleChildren,this.root={parent:void 0,element:Be,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(Q,he,Be=w.$.empty(),nt={}){if(Q.length===0)throw new F(this.user,"Invalid tree location");nt.diffIdentityProvider?this.spliceSmart(nt.diffIdentityProvider,Q,he,Be,nt):this.spliceSimple(Q,he,Be,nt)}spliceSmart(Q,he,Be,nt,pt,Tt){var Vt;nt===void 0&&(nt=w.$.empty()),Tt===void 0&&(Tt=(Vt=pt.diffDepth)!==null&&Vt!==void 0?Vt:0);const{parentNode:oi}=this.getParentNodeWithListIndex(he);if(!oi.lastDiffIds)return this.spliceSimple(he,Be,nt,pt);const Ai=[...nt],zi=he[he.length-1],cn=new P.Hs({getElements:()=>oi.lastDiffIds},{getElements:()=>[...oi.children.slice(0,zi),...Ai,...oi.children.slice(zi+Be)].map(pn=>Q.getId(pn.element).toString())}).ComputeDiff(!1);if(cn.quitEarly)return oi.lastDiffIds=void 0,this.spliceSimple(he,Be,Ai,pt);const dn=he.slice(0,-1),on=(pn,Jn,xs)=>{if(Tt>0)for(let rs=0;rs<xs;rs++)pn--,Jn--,this.spliceSmart(Q,[...dn,pn,0],Number.MAX_SAFE_INTEGER,Ai[Jn].children,pt,Tt-1)};let Ki=Math.min(oi.children.length,zi+Be),ln=Ai.length;for(const pn of cn.changes.sort((Jn,xs)=>xs.originalStart-Jn.originalStart))on(Ki,ln,Ki-(pn.originalStart+pn.originalLength)),Ki=pn.originalStart,ln=pn.modifiedStart-zi,this.spliceSimple([...dn,Ki],pn.originalLength,w.$.slice(Ai,ln,ln+pn.modifiedLength),pt);on(Ki,ln,Ki)}spliceSimple(Q,he,Be=w.$.empty(),{onDidCreateNode:nt,onDidDeleteNode:pt,diffIdentityProvider:Tt}){const{parentNode:Vt,listIndex:oi,revealed:Ai,visible:zi}=this.getParentNodeWithListIndex(Q),cn=[],dn=w.$.map(Be,_s=>this.createTreeNode(_s,Vt,Vt.visible?1:0,Ai,cn,nt)),on=Q[Q.length-1],Ki=Vt.children.length>0;let ln=0;for(let _s=on;_s>=0&&_s<Vt.children.length;_s--){const Qn=Vt.children[_s];if(Qn.visible){ln=Qn.visibleChildIndex;break}}const pn=[];let Jn=0,xs=0;for(const _s of dn)pn.push(_s),xs+=_s.renderNodeCount,_s.visible&&(_s.visibleChildIndex=ln+Jn++);const rs=(0,z.db)(Vt.children,on,he,pn);Tt?Vt.lastDiffIds?(0,z.db)(Vt.lastDiffIds,on,he,pn.map(_s=>Tt.getId(_s.element).toString())):Vt.lastDiffIds=Vt.children.map(_s=>Tt.getId(_s.element).toString()):Vt.lastDiffIds=void 0;let Ys=0;for(const _s of rs)_s.visible&&Ys++;if(Ys!==0)for(let _s=on+pn.length;_s<Vt.children.length;_s++){const Qn=Vt.children[_s];Qn.visible&&(Qn.visibleChildIndex-=Ys)}if(Vt.visibleChildrenCount+=Jn-Ys,Ai&&zi){const _s=rs.reduce((Qn,Ds)=>Qn+(Ds.visible?Ds.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Vt,xs-_s),this.list.splice(oi,_s,cn)}if(rs.length>0&&pt){const _s=Qn=>{pt(Qn),Qn.children.forEach(_s)};rs.forEach(_s)}this._onDidSplice.fire({insertedNodes:pn,deletedNodes:rs});const jn=Vt.children.length>0;Ki!==jn&&this.setCollapsible(Q.slice(0,-1),jn);let Es=Vt;for(;Es;){if(Es.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}Es=Es.parent}}rerender(Q){if(Q.length===0)throw new F(this.user,"Invalid tree location");const{node:he,listIndex:Be,revealed:nt}=this.getTreeNodeWithListIndex(Q);he.visible&&nt&&this.list.splice(Be,1,[he])}has(Q){return this.hasTreeNode(Q)}getListIndex(Q){const{listIndex:he,visible:Be,revealed:nt}=this.getTreeNodeWithListIndex(Q);return Be&&nt?he:-1}getListRenderCount(Q){return this.getTreeNode(Q).renderNodeCount}isCollapsible(Q){return this.getTreeNode(Q).collapsible}setCollapsible(Q,he){const Be=this.getTreeNode(Q);typeof he=="undefined"&&(he=!Be.collapsible);const nt={collapsible:he};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(Q,nt))}isCollapsed(Q){return this.getTreeNode(Q).collapsed}setCollapsed(Q,he,Be){const nt=this.getTreeNode(Q);typeof he=="undefined"&&(he=!nt.collapsed);const pt={collapsed:he,recursive:Be||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(Q,pt))}_setCollapseState(Q,he){const{node:Be,listIndex:nt,revealed:pt}=this.getTreeNodeWithListIndex(Q),Tt=this._setListNodeCollapseState(Be,nt,pt,he);if(Be!==this.root&&this.autoExpandSingleChildren&&Tt&&!A(he)&&Be.collapsible&&!Be.collapsed&&!he.recursive){let Vt=-1;for(let oi=0;oi<Be.children.length;oi++)if(Be.children[oi].visible)if(Vt>-1){Vt=-1;break}else Vt=oi;Vt>-1&&this._setCollapseState([...Q,Vt],he)}return Tt}_setListNodeCollapseState(Q,he,Be,nt){const pt=this._setNodeCollapseState(Q,nt,!1);if(!Be||!Q.visible||!pt)return pt;const Tt=Q.renderNodeCount,Vt=this.updateNodeAfterCollapseChange(Q),oi=Tt-(he===-1?0:1);return this.list.splice(he+1,oi,Vt.slice(1)),pt}_setNodeCollapseState(Q,he,Be){let nt;if(Q===this.root?nt=!1:(A(he)?(nt=Q.collapsible!==he.collapsible,Q.collapsible=he.collapsible):Q.collapsible?(nt=Q.collapsed!==he.collapsed,Q.collapsed=he.collapsed):nt=!1,nt&&this._onDidChangeCollapseState.fire({node:Q,deep:Be})),!A(he)&&he.recursive)for(const pt of Q.children)nt=this._setNodeCollapseState(pt,he,!0)||nt;return nt}expandTo(Q){this.eventBufferer.bufferEvents(()=>{let he=this.getTreeNode(Q);for(;he.parent;)he=he.parent,Q=Q.slice(0,Q.length-1),he.collapsed&&this._setCollapseState(Q,{collapsed:!1,recursive:!1})})}refilter(){const Q=this.root.renderNodeCount,he=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,Q,he),this.refilterDelayer.cancel()}createTreeNode(Q,he,Be,nt,pt,Tt){const Vt={parent:he,element:Q.element,children:[],depth:he.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof Q.collapsible=="boolean"?Q.collapsible:typeof Q.collapsed!="undefined",collapsed:typeof Q.collapsed=="undefined"?this.collapseByDefault:Q.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},oi=this._filterNode(Vt,Be);Vt.visibility=oi,nt&&pt.push(Vt);const Ai=Q.children||w.$.empty(),zi=nt&&oi!==0&&!Vt.collapsed;let cn=0,dn=1;for(const on of Ai){const Ki=this.createTreeNode(on,Vt,oi,zi,pt,Tt);Vt.children.push(Ki),dn+=Ki.renderNodeCount,Ki.visible&&(Ki.visibleChildIndex=cn++)}return Vt.collapsible=Vt.collapsible||Vt.children.length>0,Vt.visibleChildrenCount=cn,Vt.visible=oi===2?cn>0:oi===1,Vt.visible?Vt.collapsed||(Vt.renderNodeCount=dn):(Vt.renderNodeCount=0,nt&&pt.pop()),Tt==null||Tt(Vt),Vt}updateNodeAfterCollapseChange(Q){const he=Q.renderNodeCount,Be=[];return this._updateNodeAfterCollapseChange(Q,Be),this._updateAncestorsRenderNodeCount(Q.parent,Be.length-he),Be}_updateNodeAfterCollapseChange(Q,he){if(Q.visible===!1)return 0;if(he.push(Q),Q.renderNodeCount=1,!Q.collapsed)for(const Be of Q.children)Q.renderNodeCount+=this._updateNodeAfterCollapseChange(Be,he);return this._onDidChangeRenderNodeCount.fire(Q),Q.renderNodeCount}updateNodeAfterFilterChange(Q){const he=Q.renderNodeCount,Be=[];return this._updateNodeAfterFilterChange(Q,Q.visible?1:0,Be),this._updateAncestorsRenderNodeCount(Q.parent,Be.length-he),Be}_updateNodeAfterFilterChange(Q,he,Be,nt=!0){let pt;if(Q!==this.root){if(pt=this._filterNode(Q,he),pt===0)return Q.visible=!1,Q.renderNodeCount=0,!1;nt&&Be.push(Q)}const Tt=Be.length;Q.renderNodeCount=Q===this.root?0:1;let Vt=!1;if(!Q.collapsed||pt!==0){let oi=0;for(const Ai of Q.children)Vt=this._updateNodeAfterFilterChange(Ai,pt,Be,nt&&!Q.collapsed)||Vt,Ai.visible&&(Ai.visibleChildIndex=oi++);Q.visibleChildrenCount=oi}else Q.visibleChildrenCount=0;return Q!==this.root&&(Q.visible=pt===2?Vt:pt===1,Q.visibility=pt),Q.visible?Q.collapsed||(Q.renderNodeCount+=Be.length-Tt):(Q.renderNodeCount=0,nt&&Be.pop()),this._onDidChangeRenderNodeCount.fire(Q),Q.visible}_updateAncestorsRenderNodeCount(Q,he){if(he!==0)for(;Q;)Q.renderNodeCount+=he,this._onDidChangeRenderNodeCount.fire(Q),Q=Q.parent}_filterNode(Q,he){const Be=this.filter?this.filter.filter(Q.element,he):1;return typeof Be=="boolean"?(Q.filterData=void 0,Be?1:0):V(Be)?(Q.filterData=Be.data,R(Be.visibility)):(Q.filterData=void 0,R(Be))}hasTreeNode(Q,he=this.root){if(!Q||Q.length===0)return!0;const[Be,...nt]=Q;return Be<0||Be>he.children.length?!1:this.hasTreeNode(nt,he.children[Be])}getTreeNode(Q,he=this.root){if(!Q||Q.length===0)return he;const[Be,...nt]=Q;if(Be<0||Be>he.children.length)throw new F(this.user,"Invalid tree location");return this.getTreeNode(nt,he.children[Be])}getTreeNodeWithListIndex(Q){if(Q.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:he,listIndex:Be,revealed:nt,visible:pt}=this.getParentNodeWithListIndex(Q),Tt=Q[Q.length-1];if(Tt<0||Tt>he.children.length)throw new F(this.user,"Invalid tree location");const Vt=he.children[Tt];return{node:Vt,listIndex:Be,revealed:nt,visible:pt&&Vt.visible}}getParentNodeWithListIndex(Q,he=this.root,Be=0,nt=!0,pt=!0){const[Tt,...Vt]=Q;if(Tt<0||Tt>he.children.length)throw new F(this.user,"Invalid tree location");for(let oi=0;oi<Tt;oi++)Be+=he.children[oi].renderNodeCount;return nt=nt&&!he.collapsed,pt=pt&&he.visible,Vt.length===0?{parentNode:he,listIndex:Be,revealed:nt,visible:pt}:this.getParentNodeWithListIndex(Vt,he.children[Tt],Be+1,nt,pt)}getNode(Q=[]){return this.getTreeNode(Q)}getNodeLocation(Q){const he=[];let Be=Q;for(;Be.parent;)he.push(Be.parent.children.indexOf(Be)),Be=Be.parent;return he.reverse()}getParentNodeLocation(Q){if(Q.length!==0)return Q.length===1?[]:(0,z.JH)(Q)[0]}getFirstElementChild(Q){const he=this.getTreeNode(Q);if(he.children.length!==0)return he.children[0].element}}var U=e(74741),G=e(73046),j=e(25670),W=e(43702),K=e(60075),m=e(59870),J=e(98401),X=e(63580);class ie extends C.kX{constructor(Q){super(Q.elements.map(he=>he.element)),this.data=Q}}function le(st){return st instanceof C.kX?new ie(st):st}class fe{constructor(Q,he){this.modelProvider=Q,this.dnd=he,this.autoExpandDisposable=c.JT.None,this.disposables=new c.SL}getDragURI(Q){return this.dnd.getDragURI(Q.element)}getDragLabel(Q,he){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Q.map(Be=>Be.element),he)}onDragStart(Q,he){var Be,nt;(nt=(Be=this.dnd).onDragStart)===null||nt===void 0||nt.call(Be,le(Q),he)}onDragOver(Q,he,Be,nt,pt=!0){const Tt=this.dnd.onDragOver(le(Q),he&&he.element,Be,nt),Vt=this.autoExpandNode!==he;if(Vt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=he),typeof he=="undefined")return Tt;if(Vt&&typeof Tt!="boolean"&&Tt.autoExpand&&(this.autoExpandDisposable=(0,$.Vg)(()=>{const dn=this.modelProvider(),on=dn.getNodeLocation(he);dn.isCollapsed(on)&&dn.setCollapsed(on,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof Tt=="boolean"||!Tt.accept||typeof Tt.bubble=="undefined"||Tt.feedback){if(!pt){const dn=typeof Tt=="boolean"?Tt:Tt.accept,on=typeof Tt=="boolean"?void 0:Tt.effect;return{accept:dn,effect:on,feedback:[Be]}}return Tt}if(Tt.bubble===1){const dn=this.modelProvider(),on=dn.getNodeLocation(he),Ki=dn.getParentNodeLocation(on),ln=dn.getNode(Ki),pn=Ki&&dn.getListIndex(Ki);return this.onDragOver(Q,ln,pn,nt,!1)}const oi=this.modelProvider(),Ai=oi.getNodeLocation(he),zi=oi.getListIndex(Ai),cn=oi.getListRenderCount(Ai);return Ln(Xi({},Tt),{feedback:(0,z.w6)(zi,zi+cn)})}drop(Q,he,Be,nt){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(le(Q),he&&he.element,Be,nt)}onDragEnd(Q){var he,Be;(Be=(he=this.dnd).onDragEnd)===null||Be===void 0||Be.call(he,Q)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function Le(st,Q){return Q&&Ln(Xi({},Q),{identityProvider:Q.identityProvider&&{getId(he){return Q.identityProvider.getId(he.element)}},dnd:Q.dnd&&new fe(st,Q.dnd),multipleSelectionController:Q.multipleSelectionController&&{isSelectionSingleChangeEvent(he){return Q.multipleSelectionController.isSelectionSingleChangeEvent(Ln(Xi({},he),{element:he.element}))},isSelectionRangeChangeEvent(he){return Q.multipleSelectionController.isSelectionRangeChangeEvent(Ln(Xi({},he),{element:he.element}))}},accessibilityProvider:Q.accessibilityProvider&&Ln(Xi({},Q.accessibilityProvider),{getSetSize(he){const Be=st(),nt=Be.getNodeLocation(he),pt=Be.getParentNodeLocation(nt);return Be.getNode(pt).visibleChildrenCount},getPosInSet(he){return he.visibleChildIndex+1},isChecked:Q.accessibilityProvider&&Q.accessibilityProvider.isChecked?he=>Q.accessibilityProvider.isChecked(he.element):void 0,getRole:Q.accessibilityProvider&&Q.accessibilityProvider.getRole?he=>Q.accessibilityProvider.getRole(he.element):()=>"treeitem",getAriaLabel(he){return Q.accessibilityProvider.getAriaLabel(he.element)},getWidgetAriaLabel(){return Q.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Q.accessibilityProvider&&Q.accessibilityProvider.getWidgetRole?()=>Q.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Q.accessibilityProvider&&Q.accessibilityProvider.getAriaLevel?he=>Q.accessibilityProvider.getAriaLevel(he.element):he=>he.depth,getActiveDescendantId:Q.accessibilityProvider.getActiveDescendantId&&(he=>Q.accessibilityProvider.getActiveDescendantId(he.element))}),keyboardNavigationLabelProvider:Q.keyboardNavigationLabelProvider&&Ln(Xi({},Q.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(he){return Q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(he.element)}})})}class pe{constructor(Q){this.delegate=Q}getHeight(Q){return this.delegate.getHeight(Q.element)}getTemplateId(Q){return this.delegate.getTemplateId(Q.element)}hasDynamicHeight(Q){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(Q.element)}setDynamicHeight(Q,he){var Be,nt;(nt=(Be=this.delegate).setDynamicHeight)===null||nt===void 0||nt.call(Be,Q.element,he)}}var Te;(function(st){st.None="none",st.OnHover="onHover",st.Always="always"})(Te||(Te={}));class De{get elements(){return this._elements}constructor(Q,he=[]){this._elements=he,this.disposables=new c.SL,this.onDidChange=E.ju.forEach(Q,Be=>this._elements=Be,this.disposables)}dispose(){this.disposables.dispose()}}class ae{constructor(Q,he,Be,nt,pt,Tt={}){var Vt;this.renderer=Q,this.modelProvider=he,this.activeNodes=nt,this.renderedIndentGuides=pt,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ae.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=c.JT.None,this.disposables=new c.SL,this.templateId=Q.templateId,this.updateOptions(Tt),E.ju.map(Be,oi=>oi.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(Vt=Q.onDidChangeTwistieState)===null||Vt===void 0||Vt.call(Q,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Q={}){if(typeof Q.indent!="undefined"){const he=(0,m.uZ)(Q.indent,0,40);if(he!==this.indent){this.indent=he;for(const[Be,nt]of this.renderedNodes)this.renderTreeElement(Be,nt)}}if(typeof Q.renderIndentGuides!="undefined"){const he=Q.renderIndentGuides!==Te.None;if(he!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=he;for(const[Be,nt]of this.renderedNodes)this._renderIndentGuides(Be,nt);if(this.indentGuidesDisposable.dispose(),he){const Be=new c.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Be),this.indentGuidesDisposable=Be,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof Q.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=Q.hideTwistiesOfChildlessElements)}renderTemplate(Q){const he=(0,b.R3)(Q,(0,b.$)(".monaco-tl-row")),Be=(0,b.R3)(he,(0,b.$)(".monaco-tl-indent")),nt=(0,b.R3)(he,(0,b.$)(".monaco-tl-twistie")),pt=(0,b.R3)(he,(0,b.$)(".monaco-tl-contents")),Tt=this.renderer.renderTemplate(pt);return{container:Q,indent:Be,twistie:nt,indentGuidesDisposable:c.JT.None,templateData:Tt}}renderElement(Q,he,Be,nt){this.renderedNodes.set(Q,Be),this.renderedElements.set(Q.element,Q),this.renderTreeElement(Q,Be),this.renderer.renderElement(Q,he,Be.templateData,nt)}disposeElement(Q,he,Be,nt){var pt,Tt;Be.indentGuidesDisposable.dispose(),(Tt=(pt=this.renderer).disposeElement)===null||Tt===void 0||Tt.call(pt,Q,he,Be.templateData,nt),typeof nt=="number"&&(this.renderedNodes.delete(Q),this.renderedElements.delete(Q.element))}disposeTemplate(Q){this.renderer.disposeTemplate(Q.templateData)}onDidChangeTwistieState(Q){const he=this.renderedElements.get(Q);he&&this.onDidChangeNodeTwistieState(he)}onDidChangeNodeTwistieState(Q){const he=this.renderedNodes.get(Q);he&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(Q,he))}renderTreeElement(Q,he){const Be=ae.DefaultIndent+(Q.depth-1)*this.indent;he.twistie.style.paddingLeft=`${Be}px`,he.indent.style.width=`${Be+this.indent-16}px`,Q.collapsible?he.container.setAttribute("aria-expanded",String(!Q.collapsed)):he.container.removeAttribute("aria-expanded"),he.twistie.classList.remove(...j.k.asClassNameArray(G.l.treeItemExpanded));let nt=!1;this.renderer.renderTwistie&&(nt=this.renderer.renderTwistie(Q.element,he.twistie)),Q.collapsible&&(!this.hideTwistiesOfChildlessElements||Q.visibleChildrenCount>0)?(nt||he.twistie.classList.add(...j.k.asClassNameArray(G.l.treeItemExpanded)),he.twistie.classList.add("collapsible"),he.twistie.classList.toggle("collapsed",Q.collapsed)):he.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(Q,he)}_renderIndentGuides(Q,he){if((0,b.PO)(he.indent),he.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Be=new c.SL,nt=this.modelProvider();for(;;){const pt=nt.getNodeLocation(Q),Tt=nt.getParentNodeLocation(pt);if(!Tt)break;const Vt=nt.getNode(Tt),oi=(0,b.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Vt)&&oi.classList.add("active"),he.indent.childElementCount===0?he.indent.appendChild(oi):he.indent.insertBefore(oi,he.indent.firstElementChild),this.renderedIndentGuides.add(Vt,oi),Be.add((0,c.OF)(()=>this.renderedIndentGuides.delete(Vt,oi))),Q=Vt}he.indentGuidesDisposable=Be}_onDidChangeActiveNodes(Q){if(!this.shouldRenderIndentGuides)return;const he=new Set,Be=this.modelProvider();Q.forEach(nt=>{const pt=Be.getNodeLocation(nt);try{const Tt=Be.getParentNodeLocation(pt);nt.collapsible&&nt.children.length>0&&!nt.collapsed?he.add(nt):Tt&&he.add(Be.getNode(Tt))}catch(Tt){}}),this.activeIndentNodes.forEach(nt=>{he.has(nt)||this.renderedIndentGuides.forEach(nt,pt=>pt.classList.remove("active"))}),he.forEach(nt=>{this.activeIndentNodes.has(nt)||this.renderedIndentGuides.forEach(nt,pt=>pt.classList.add("active"))}),this.activeIndentNodes=he}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,c.B9)(this.disposables)}}ae.DefaultIndent=8;class Ne{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(Q,he,Be){this.tree=Q,this.keyboardNavigationLabelProvider=he,this._filter=Be,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new c.SL,Q.onWillRefilter(this.reset,this,this.disposables)}filter(Q,he){let Be=1;if(this._filter){const Tt=this._filter.filter(Q,he);if(typeof Tt=="boolean"?Be=Tt?1:0:V(Tt)?Be=R(Tt.visibility):Be=Tt,Be===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:K.CL.Default,visibility:Be};const nt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q),pt=Array.isArray(nt)?nt:[nt];for(const Tt of pt){const Vt=Tt&&Tt.toString();if(typeof Vt=="undefined")return{data:K.CL.Default,visibility:Be};let oi;if(this.tree.findMatchType===ce.Contiguous){const Ai=Vt.toLowerCase().indexOf(this._lowercasePattern);if(Ai>-1){oi=[Number.MAX_SAFE_INTEGER,0];for(let zi=this._lowercasePattern.length;zi>0;zi--)oi.push(Ai+zi-1)}}else oi=(0,K.EW)(this._pattern,this._lowercasePattern,0,Vt,Vt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(oi)return this._matchCount++,pt.length===1?{data:oi,visibility:Be}:{data:{label:Vt,score:oi},visibility:Be}}return this.tree.findMode===ne.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(Q):2:{data:K.CL.Default,visibility:Be}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,c.B9)(this.disposables)}}class We extends null{constructor(Q){var he;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:(he=Q.isChecked)!==null&&he!==void 0?he:!1,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}class ze extends null{constructor(Q){var he;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:(he=Q.isChecked)!==null&&he!==void 0?he:!1,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}const Se={inputBoxStyles:y.g4,toggleStyles:L.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var ne;(function(st){st[st.Highlight=0]="Highlight",st[st.Filter=1]="Filter"})(ne||(ne={}));var ce;(function(st){st[st.Fuzzy=0]="Fuzzy",st[st.Contiguous=1]="Contiguous"})(ce||(ce={}));class Oe extends null{set mode(Q){this.modeToggle.checked=Q===ne.Filter,this.findInput.inputBox.setPlaceHolder(Q===ne.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(Q){this.matchTypeToggle.checked=Q===ce.Fuzzy}constructor(Q,he,Be,nt,pt,Tt){var Vt;super(),this.tree=he,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,Q.appendChild(this.elements.root),this._register(toDisposable(()=>Q.removeChild(this.elements.root)));const oi=(Vt=Tt==null?void 0:Tt.styles)!==null&&Vt!==void 0?Vt:Se;oi.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=oi.listFilterWidgetBackground),oi.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${oi.listFilterWidgetShadow}`),this.modeToggle=this._register(new We(Ln(Xi({},oi.toggleStyles),{isChecked:nt===ne.Filter}))),this.matchTypeToggle=this._register(new ze(Ln(Xi({},oi.toggleStyles),{isChecked:pt===ce.Fuzzy}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?ne.Filter:ne.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?ce.Fuzzy:ce.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,Be,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:oi.inputBoxStyles,toggleStyles:oi.toggleStyles,history:Tt==null?void 0:Tt.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=nt;const Ai=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),zi=Event.chain(Ai.event,Ki=>Ki.map(ln=>new StandardKeyboardEvent(ln)));this._register(zi(Ki=>{if(Ki.equals(3)){Ki.preventDefault(),Ki.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Ki.equals(18)){Ki.preventDefault(),Ki.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Ki.equals(16)){Ki.preventDefault(),Ki.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const cn=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(cn,{icon:!0,label:!1});const dn=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(dn.event(Ki=>{const ln=new DisposableStore,pn=ln.add(new DomEmitter(getWindow(Ki),"mousemove")),Jn=ln.add(new DomEmitter(getWindow(Ki),"mouseup")),xs=this.right,rs=Ki.pageX,Ys=this.top,jn=Ki.pageY;this.elements.grab.classList.add("grabbing");const Es=this.elements.root.style.transition;this.elements.root.style.transition="unset";const _s=Qn=>{const Ds=Qn.pageX-rs;this.right=xs-Ds;const zs=Qn.pageY-jn;this.top=Ys+zs,this.layout()};ln.add(pn.event(_s)),ln.add(Jn.event(Qn=>{_s(Qn),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=Es,ln.dispose()}))}));const on=Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event,Ki=>Ki.map(ln=>new StandardKeyboardEvent(ln)));this._register(on(Ki=>{let ln,pn;if(Ki.keyCode===15?ln=Number.POSITIVE_INFINITY:Ki.keyCode===17?ln=0:Ki.keyCode===10&&(ln=this.right===0?Number.POSITIVE_INFINITY:0),Ki.keyCode===16?pn=0:Ki.keyCode===18&&(pn=Number.POSITIVE_INFINITY),ln!==void 0&&(Ki.preventDefault(),Ki.stopPropagation(),this.right=ln,this.layout()),pn!==void 0){Ki.preventDefault(),Ki.stopPropagation(),this.top=pn;const Jn=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=Jn},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(Q=this.width){this.width=Q,this.right=clamp(this.right,0,Math.max(0,Q-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(Q){this.findInput.showMessage(Q)}clearMessage(){this.findInput.clearMessage()}dispose(){return qt(this,null,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),pd(Oe.prototype,this,"dispose").call(this)})}}class Pe{get pattern(){return this._pattern}get mode(){return this._mode}set mode(Q){Q!==this._mode&&(this._mode=Q,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(Q))}get matchType(){return this._matchType}set matchType(Q){Q!==this._matchType&&(this._matchType=Q,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(Q))}constructor(Q,he,Be,nt,pt,Tt={}){var Vt,oi;this.tree=Q,this.view=Be,this.filter=nt,this.contextViewProvider=pt,this.options=Tt,this._pattern="",this.width=0,this._onDidChangeMode=new E.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new E.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new E.Q5,this._onDidChangeOpenState=new E.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new c.SL,this.disposables=new c.SL,this._mode=(Vt=Q.options.defaultFindMode)!==null&&Vt!==void 0?Vt:ne.Highlight,this._matchType=(oi=Q.options.defaultFindMatchType)!==null&&oi!==void 0?oi:ce.Fuzzy,he.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(Q={}){Q.defaultFindMode!==void 0&&(this.mode=Q.defaultFindMode),Q.defaultFindMatchType!==void 0&&(this.matchType=Q.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var Q,he,Be,nt;const pt=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&pt?!((Q=this.tree.options.showNotFoundMessage)!==null&&Q!==void 0)||Q?(he=this.widget)===null||he===void 0||he.showMessage({type:2,content:(0,X.NC)("not found","No elements found.")}):(Be=this.widget)===null||Be===void 0||Be.showMessage({type:2}):(nt=this.widget)===null||nt===void 0||nt.clearMessage()}shouldAllowFocus(Q){return!this.widget||!this.pattern||this._mode===ne.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!K.CL.isDefault(Q.filterData)}layout(Q){var he;this.width=Q,(he=this.widget)===null||he===void 0||he.layout(Q)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Me(st,Q){return st.position===Q.position&&st.node.element===Q.node.element&&st.startIndex===Q.startIndex&&st.height===Q.height&&st.endIndex===Q.endIndex}class ye extends c.JT{constructor(Q=[]){super(),this.stickyNodes=Q}get count(){return this.stickyNodes.length}equal(Q){return(0,z.fS)(this.stickyNodes,Q.stickyNodes,Me)}addDisposable(Q){this._register(Q)}}class _e extends c.JT{get firstVisibleNode(){const Q=this.view.firstVisibleIndex;if(!(Q<0||Q>=this.view.length))return this.view.element(Q)}constructor(Q,he,Be,nt,pt,Tt={}){super(),this.tree=Q,this.model=he,this.view=Be,this.treeDelegate=pt,this.maxWidgetViewRatio=.4;const Vt=this.validateStickySettings(Tt);this.stickyScrollMaxItemCount=Vt.stickyScrollMaxItemCount,this._widget=this._register(new se(Be.getScrollableElement(),Be,he,nt,pt)),this._register(Be.onDidScroll(()=>this.update())),this._register(Be.onDidChangeContentHeight(()=>this.update())),this._register(Q.onDidChangeCollapseState(()=>this.update())),this.update()}update(){const Q=this.firstVisibleNode;if(!Q||this.tree.scrollTop===0){this._widget.setState(void 0);return}const he=this.findStickyState(Q);this._widget.setState(he)}findStickyState(Q){const he=[],Be=this.view.renderHeight*this.maxWidgetViewRatio;let nt=Q,pt=0,Tt=this.getNextStickyNode(nt,void 0,pt);for(;Tt&&pt+Tt.height<Be&&(he.push(Tt),pt+=Tt.height,!(he.length>=this.stickyScrollMaxItemCount||(nt=this.getNextVisibleNode(nt),!nt)));)Tt=this.getNextStickyNode(nt,Tt.node,pt);return he.length?new ye(he):void 0}getNextVisibleNode(Q){const he=this.getNodeIndex(Q);return he===-1||he===this.view.length-1?void 0:this.view.element(he+1)}getNextStickyNode(Q,he,Be){const nt=this.getAncestorUnderPrevious(Q,he);if(nt&&!(nt===Q&&(!this.nodeIsUncollapsedParent(Q)||this.nodeTopAlignsWithStickyNodesBottom(Q,Be))))return this.createStickyScrollNode(nt,Be)}nodeTopAlignsWithStickyNodesBottom(Q,he){const Be=this.getNodeIndex(Q),nt=this.view.getElementTop(Be),pt=he;return this.view.scrollTop===nt-pt}createStickyScrollNode(Q,he){const Be=this.treeDelegate.getHeight(Q),{startIndex:nt,endIndex:pt}=this.getNodeRange(Q),Tt=this.calculateStickyNodePosition(pt,he);return{node:Q,position:Tt,height:Be,startIndex:nt,endIndex:pt}}getAncestorUnderPrevious(Q,he=void 0){let Be=Q,nt=this.getParentNode(Be);for(;nt;){if(nt===he)return Be;Be=nt,nt=this.getParentNode(Be)}if(he===void 0)return Be}calculateStickyNodePosition(Q,he){let Be=this.view.getRelativeTop(Q);if(Be===null&&this.view.firstVisibleIndex===Q&&Q+1<this.view.length){const oi=this.treeDelegate.getHeight(this.view.element(Q)),Ai=this.view.getRelativeTop(Q+1);Be=Ai?Ai-oi/this.view.renderHeight:null}if(Be===null)return he;const nt=this.view.element(Q),pt=this.treeDelegate.getHeight(nt),Tt=Be*this.view.renderHeight,Vt=Tt+pt;return he>Tt&&he<=Vt?Tt:he}getParentNode(Q){const he=this.model.getNodeLocation(Q),Be=this.model.getParentNodeLocation(he);return Be?this.model.getNode(Be):void 0}nodeIsUncollapsedParent(Q){const he=this.model.getNodeLocation(Q);return this.model.getListRenderCount(he)>1}getNodeIndex(Q,he){return he===void 0&&(he=this.model.getNodeLocation(Q)),this.model.getListIndex(he)}getNodeRange(Q){const he=this.model.getNodeLocation(Q),Be=this.model.getListIndex(he);if(Be<0)throw new Error("Node not found in tree");const nt=this.model.getListRenderCount(he),pt=Be+nt-1;return{startIndex:Be,endIndex:pt}}nodePositionTopBelowWidget(Q){const he=[];let Be=this.getParentNode(Q);for(;Be;)he.push(Be),Be=this.getParentNode(Be);let nt=0;for(let pt=0;pt<he.length&&pt<this.stickyScrollMaxItemCount;pt++)nt+=this.treeDelegate.getHeight(he[pt]);return nt}updateOptions(Q={}){const he=this.validateStickySettings(Q);this.stickyScrollMaxItemCount!==he.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=he.stickyScrollMaxItemCount,this.update())}validateStickySettings(Q){let he=5;return typeof Q.stickyScrollMaxItemCount=="number"&&(he=Math.max(Q.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:he}}}class se{constructor(Q,he,Be,nt,pt){this.view=he,this.model=Be,this.treeRenderers=nt,this.treeDelegate=pt,this._rootDomNode=document.createElement("div"),this._rootDomNode.classList.add("monaco-tree-sticky-container"),Q.appendChild(this._rootDomNode)}setState(Q){var he;const Be=!!this._previousState&&this._previousState.count>0,nt=!!Q&&Q.count>0;if(!Be&&!nt||Be&&nt&&this._previousState.equal(Q)||(Be!==nt&&this.setVisible(nt),(he=this._previousState)===null||he===void 0||he.dispose(),this._previousState=Q,!nt))return;for(let Vt=Q.count-1;Vt>=0;Vt--){const oi=Q.stickyNodes[Vt],Ai=Vt?Q.stickyNodes[Vt-1]:void 0,zi=Ai?Ai.position+Ai.height:0,{element:cn,disposable:dn}=this.createElement(oi,zi);this._rootDomNode.appendChild(cn),Q.addDisposable(dn)}const pt=(0,b.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(pt),Q.addDisposable((0,c.OF)(()=>pt.remove()));const Tt=Q.stickyNodes[Q.count-1];this._rootDomNode.style.height=`${Tt.position+Tt.height}px`}createElement(Q,he){const Be=this.model.getNodeLocation(Q.node),nt=this.model.getListIndex(Be),pt=document.createElement("div");pt.style.top=`${Q.position}px`,pt.style.height=`${Q.height}px`,pt.style.lineHeight=`${Q.height}px`,pt.classList.add("monaco-tree-sticky-row"),pt.classList.add("monaco-list-row"),pt.setAttribute("data-index",`${nt}`),pt.setAttribute("data-parity",nt%2===0?"even":"odd"),pt.setAttribute("id",this.view.getElementID(nt));const Tt=this.treeDelegate.getTemplateId(Q.node),Vt=this.treeRenderers.find(cn=>cn.templateId===Tt);if(!Vt)throw new Error(`No renderer found for template id ${Tt}`);const oi=new Proxy(Q.node,{}),Ai=Vt.renderTemplate(pt);Vt.renderElement(oi,Q.startIndex,Ai,Q.height);const zi=(0,c.OF)(()=>{Vt.disposeElement(oi,Q.startIndex,Ai,Q.height),Vt.disposeTemplate(Ai),pt.remove()});return{element:pt,disposable:zi}}setVisible(Q){this._rootDomNode.style.display=Q?"block":"none"}dispose(){var Q;(Q=this._previousState)===null||Q===void 0||Q.dispose(),this._rootDomNode.remove()}}function ve(st){let Q=T.Unknown;return(0,b.uU)(st.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?Q=T.Twistie:(0,b.uU)(st.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?Q=T.Element:(0,b.uU)(st.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(Q=T.Filter),{browserEvent:st.browserEvent,element:st.element?st.element.element:null,target:Q}}function xe(st,Q){Q(st),st.children.forEach(he=>xe(he,Q))}class je{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(Q,he){this.getFirstViewElementWithTrait=Q,this.identityProvider=he,this.nodes=[],this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event}set(Q,he){!(he!=null&&he.__forceEvent)&&(0,z.fS)(this.nodes,Q)||this._set(Q,!1,he)}_set(Q,he,Be){if(this.nodes=[...Q],this.elements=void 0,this._nodeSet=void 0,!he){const nt=this;this._onDidChange.fire({get elements(){return nt.get()},browserEvent:Be})}}get(){return this.elements||(this.elements=this.nodes.map(Q=>Q.element)),[...this.elements]}getNodes(){return this.nodes}has(Q){return this.nodeSet.has(Q)}onDidModelSplice({insertedNodes:Q,deletedNodes:he}){if(!this.identityProvider){const oi=this.createNodeSet(),Ai=zi=>oi.delete(zi);he.forEach(zi=>xe(zi,Ai)),this.set([...oi.values()]);return}const Be=new Set,nt=oi=>Be.add(this.identityProvider.getId(oi.element).toString());he.forEach(oi=>xe(oi,nt));const pt=new Map,Tt=oi=>pt.set(this.identityProvider.getId(oi.element).toString(),oi);Q.forEach(oi=>xe(oi,Tt));const Vt=[];for(const oi of this.nodes){const Ai=this.identityProvider.getId(oi.element).toString();if(!Be.has(Ai))Vt.push(oi);else{const cn=pt.get(Ai);cn&&cn.visible&&Vt.push(cn)}}if(this.nodes.length>0&&Vt.length===0){const oi=this.getFirstViewElementWithTrait();oi&&Vt.push(oi)}this._set(Vt,!0)}createNodeSet(){const Q=new Set;for(const he of this.nodes)Q.add(he);return Q}}class Ae extends I.sx{constructor(Q,he,Be){super(Q),this.tree=he,this.stickyScrollProvider=Be}onViewPointer(Q){if((0,I.iK)(Q.browserEvent.target)||(0,I.cK)(Q.browserEvent.target)||(0,I.hD)(Q.browserEvent.target)||Q.browserEvent.isHandledByList)return;const he=Q.element;if(!he)return super.onViewPointer(Q);if(this.isSelectionRangeChangeEvent(Q)||this.isSelectionSingleChangeEvent(Q))return super.onViewPointer(Q);const Be=Q.browserEvent.target,nt=Be.classList.contains("monaco-tl-twistie")||Be.classList.contains("monaco-icon-label")&&Be.classList.contains("folder-icon")&&Q.browserEvent.offsetX<16,pt=(0,I.Et)(Q.browserEvent.target);let Tt=!1;if(pt?Tt=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?Tt=this.tree.expandOnlyOnTwistieClick(he.element):Tt=!!this.tree.expandOnlyOnTwistieClick,pt)this.handleStickyScrollMouseEvent(Q,he);else{if(Tt&&!nt&&Q.browserEvent.detail!==2)return super.onViewPointer(Q);if(!this.tree.expandOnDoubleClick&&Q.browserEvent.detail===2)return super.onViewPointer(Q)}if(he.collapsible&&(!pt||nt)){const Vt=this.tree.getNodeLocation(he),oi=Q.browserEvent.altKey;if(this.tree.setFocus([Vt]),this.tree.toggleCollapsed(Vt,oi),Tt&&nt){Q.browserEvent.isHandledByList=!0;return}}pt||super.onViewPointer(Q)}handleStickyScrollMouseEvent(Q,he){if((0,I.$B)(Q.browserEvent.target)||(0,I.dk)(Q.browserEvent.target))return;const Be=this.stickyScrollProvider();if(!Be)throw new Error("Sticky scroll controller not found");const nt=this.list.indexOf(he),pt=this.list.getElementTop(nt),Tt=Be.nodePositionTopBelowWidget(he);this.tree.scrollTop=pt-Tt,this.list.setFocus([nt]),this.list.setSelection([nt])}onDoubleClick(Q){Q.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||Q.browserEvent.isHandledByList||super.onDoubleClick(Q)}}class Qe extends I.aV{constructor(Q,he,Be,nt,pt,Tt,Vt,oi){super(Q,he,Be,nt,oi),this.focusTrait=pt,this.selectionTrait=Tt,this.anchorTrait=Vt}createMouseController(Q){return new Ae(this,Q.tree,Q.stickyScrollProvider)}splice(Q,he,Be=[]){if(super.splice(Q,he,Be),Be.length===0)return;const nt=[],pt=[];let Tt;Be.forEach((Vt,oi)=>{this.focusTrait.has(Vt)&&nt.push(Q+oi),this.selectionTrait.has(Vt)&&pt.push(Q+oi),this.anchorTrait.has(Vt)&&(Tt=Q+oi)}),nt.length>0&&super.setFocus((0,z.EB)([...super.getFocus(),...nt])),pt.length>0&&super.setSelection((0,z.EB)([...super.getSelection(),...pt])),typeof Tt=="number"&&super.setAnchor(Tt)}setFocus(Q,he,Be=!1){super.setFocus(Q,he),Be||this.focusTrait.set(Q.map(nt=>this.element(nt)),he)}setSelection(Q,he,Be=!1){super.setSelection(Q,he),Be||this.selectionTrait.set(Q.map(nt=>this.element(nt)),he)}setAnchor(Q,he=!1){super.setAnchor(Q),he||(typeof Q=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(Q)]))}}class rt{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return E.ju.filter(E.ju.map(this.view.onMouseDblClick,ve),Q=>Q.target!==T.Filter)}get onPointer(){return E.ju.map(this.view.onPointer,ve)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return E.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var Q,he;return(he=(Q=this.findController)===null||Q===void 0?void 0:Q.mode)!==null&&he!==void 0?he:ne.Highlight}set findMode(Q){this.findController&&(this.findController.mode=Q)}get findMatchType(){var Q,he;return(he=(Q=this.findController)===null||Q===void 0?void 0:Q.matchType)!==null&&he!==void 0?he:ce.Fuzzy}set findMatchType(Q){this.findController&&(this.findController.matchType=Q)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(Q,he,Be,nt,pt={}){var Tt;this._user=Q,this._options=pt,this.eventBufferer=new E.E7,this.onDidChangeFindOpenState=E.ju.None,this.disposables=new c.SL,this._onWillRefilter=new E.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new E.Q5,this.treeDelegate=new pe(Be);const Vt=new E.ZD,oi=new E.ZD,Ai=this.disposables.add(new De(oi.event)),zi=new W.ri;this.renderers=nt.map(ln=>new ae(ln,()=>this.model,Vt.event,Ai,zi,pt));for(const ln of this.renderers)this.disposables.add(ln);let cn;pt.keyboardNavigationLabelProvider&&(cn=new Ne(this,pt.keyboardNavigationLabelProvider,pt.filter),pt=Ln(Xi({},pt),{filter:cn}),this.disposables.add(cn)),this.focus=new je(()=>this.view.getFocusedElements()[0],pt.identityProvider),this.selection=new je(()=>this.view.getSelectedElements()[0],pt.identityProvider),this.anchor=new je(()=>this.view.getAnchorElement(),pt.identityProvider),this.view=new Qe(Q,he,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,Ln(Xi({},Le(()=>this.model,pt)),{tree:this,stickyScrollProvider:()=>this.stickyScrollController})),this.model=this.createModel(Q,this.view,pt),Vt.input=this.model.onDidChangeCollapseState;const dn=E.ju.forEach(this.model.onDidSplice,ln=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ln),this.selection.onDidModelSplice(ln)})},this.disposables);dn(()=>null,null,this.disposables);const on=this.disposables.add(new E.Q5),Ki=this.disposables.add(new $.vp(0));if(this.disposables.add(E.ju.any(dn,this.focus.onDidChange,this.selection.onDidChange)(()=>{Ki.trigger(()=>{const ln=new Set;for(const pn of this.focus.getNodes())ln.add(pn);for(const pn of this.selection.getNodes())ln.add(pn);on.fire([...ln.values()])})})),oi.input=on.event,pt.keyboardSupport!==!1){const ln=E.ju.chain(this.view.onKeyDown,pn=>pn.filter(Jn=>!(0,I.cK)(Jn.target)).map(Jn=>new a.y(Jn)));E.ju.chain(ln,pn=>pn.filter(Jn=>Jn.keyCode===15))(this.onLeftArrow,this,this.disposables),E.ju.chain(ln,pn=>pn.filter(Jn=>Jn.keyCode===17))(this.onRightArrow,this,this.disposables),E.ju.chain(ln,pn=>pn.filter(Jn=>Jn.keyCode===10))(this.onSpace,this,this.disposables)}if((!((Tt=pt.findWidgetEnabled)!==null&&Tt!==void 0)||Tt)&&pt.keyboardNavigationLabelProvider&&pt.contextViewProvider){const ln=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Pe(this,this.model,this.view,cn,pt.contextViewProvider,ln),this.focusNavigationFilter=pn=>this.findController.shouldAllowFocus(pn),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=E.ju.None,this.onDidChangeFindMatchType=E.ju.None;pt.enableStickyScroll&&(this.stickyScrollController=new _e(this,this.model,this.view,this.renderers,this.treeDelegate,pt)),this.styleElement=(0,b.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Te.Always)}updateOptions(Q={}){var he;this._options=Xi(Xi({},this._options),Q);for(const Be of this.renderers)Be.updateOptions(Q);this.view.updateOptions(this._options),(he=this.findController)===null||he===void 0||he.updateOptions(Q),this.updateStickyScroll(Q),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Te.Always)}get options(){return this._options}updateStickyScroll(Q){var he;!this.stickyScrollController&&this._options.enableStickyScroll?this.stickyScrollController=new _e(this,this.model,this.view,this.renderers,this.treeDelegate,this._options):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(he=this.stickyScrollController)===null||he===void 0||he.updateOptions(Q)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(Q){this.view.scrollTop=Q}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(Q,he){var Be;this.view.layout(Q,he),(0,J.hj)(he)&&((Be=this.findController)===null||Be===void 0||Be.layout(he))}style(Q){const he=`.${this.view.domId}`,Be=[];Q.treeIndentGuidesStroke&&(Be.push(`.monaco-list${he}:hover .monaco-tl-indent > .indent-guide, .monaco-list${he}.always .monaco-tl-indent > .indent-guide  { border-color: ${Q.treeInactiveIndentGuidesStroke}; }`),Be.push(`.monaco-list${he} .monaco-tl-indent > .indent-guide.active { border-color: ${Q.treeIndentGuidesStroke}; }`)),Q.listBackground&&(Be.push(`.monaco-list${he} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${Q.listBackground}; }`),Be.push(`.monaco-list${he} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${Q.listBackground}; }`)),this.styleElement.textContent=Be.join(`
`),this.view.style(Q)}getParentElement(Q){const he=this.model.getParentNodeLocation(Q);return this.model.getNode(he).element}getFirstElementChild(Q){return this.model.getFirstElementChild(Q)}getNode(Q){return this.model.getNode(Q)}getNodeLocation(Q){return this.model.getNodeLocation(Q)}collapse(Q,he=!1){return this.model.setCollapsed(Q,!0,he)}expand(Q,he=!1){return this.model.setCollapsed(Q,!1,he)}toggleCollapsed(Q,he=!1){return this.model.setCollapsed(Q,void 0,he)}isCollapsible(Q){return this.model.isCollapsible(Q)}setCollapsible(Q,he){return this.model.setCollapsible(Q,he)}isCollapsed(Q){return this.model.isCollapsed(Q)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(Q,he){const Be=Q.map(pt=>this.model.getNode(pt));this.selection.set(Be,he);const nt=Q.map(pt=>this.model.getListIndex(pt)).filter(pt=>pt>-1);this.view.setSelection(nt,he,!0)}getSelection(){return this.selection.get()}setFocus(Q,he){const Be=Q.map(pt=>this.model.getNode(pt));this.focus.set(Be,he);const nt=Q.map(pt=>this.model.getListIndex(pt)).filter(pt=>pt>-1);this.view.setFocus(nt,he,!0)}getFocus(){return this.focus.get()}reveal(Q,he){this.model.expandTo(Q);const Be=this.model.getListIndex(Q);if(Be!==-1)if(!this.stickyScrollController)this.view.reveal(Be,he);else{const nt=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(Q));this.view.reveal(Be,he,nt)}}onLeftArrow(Q){Q.preventDefault(),Q.stopPropagation();const he=this.view.getFocusedElements();if(he.length===0)return;const Be=he[0],nt=this.model.getNodeLocation(Be);if(!this.model.setCollapsed(nt,!0)){const Tt=this.model.getParentNodeLocation(nt);if(!Tt)return;const Vt=this.model.getListIndex(Tt);this.view.reveal(Vt),this.view.setFocus([Vt])}}onRightArrow(Q){Q.preventDefault(),Q.stopPropagation();const he=this.view.getFocusedElements();if(he.length===0)return;const Be=he[0],nt=this.model.getNodeLocation(Be);if(!this.model.setCollapsed(nt,!1)){if(!Be.children.some(oi=>oi.visible))return;const[Tt]=this.view.getFocus(),Vt=Tt+1;this.view.reveal(Vt),this.view.setFocus([Vt])}}onSpace(Q){Q.preventDefault(),Q.stopPropagation();const he=this.view.getFocusedElements();if(he.length===0)return;const Be=he[0],nt=this.model.getNodeLocation(Be),pt=Q.browserEvent.altKey;this.model.setCollapsed(nt,void 0,pt)}dispose(){var Q;(0,c.B9)(this.disposables),(Q=this.stickyScrollController)===null||Q===void 0||Q.dispose(),this.view.dispose()}}class Dt{constructor(Q,he,Be={}){this.user=Q,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new H(Q,he,null,Be),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Be.sorter&&(this.sorter={compare(nt,pt){return Be.sorter.compare(nt.element,pt.element)}}),this.identityProvider=Be.identityProvider}setChildren(Q,he=w.$.empty(),Be={}){const nt=this.getElementLocation(Q);this._setChildren(nt,this.preserveCollapseState(he),Be)}_setChildren(Q,he=w.$.empty(),Be){const nt=new Set,pt=new Set,Tt=oi=>{var Ai;if(oi.element===null)return;const zi=oi;if(nt.add(zi.element),this.nodes.set(zi.element,zi),this.identityProvider){const cn=this.identityProvider.getId(zi.element).toString();pt.add(cn),this.nodesByIdentity.set(cn,zi)}(Ai=Be.onDidCreateNode)===null||Ai===void 0||Ai.call(Be,zi)},Vt=oi=>{var Ai;if(oi.element===null)return;const zi=oi;if(nt.has(zi.element)||this.nodes.delete(zi.element),this.identityProvider){const cn=this.identityProvider.getId(zi.element).toString();pt.has(cn)||this.nodesByIdentity.delete(cn)}(Ai=Be.onDidDeleteNode)===null||Ai===void 0||Ai.call(Be,zi)};this.model.splice([...Q,0],Number.MAX_VALUE,he,Ln(Xi({},Be),{onDidCreateNode:Tt,onDidDeleteNode:Vt}))}preserveCollapseState(Q=w.$.empty()){return this.sorter&&(Q=[...Q].sort(this.sorter.compare.bind(this.sorter))),w.$.map(Q,he=>{let Be=this.nodes.get(he.element);if(!Be&&this.identityProvider){const Tt=this.identityProvider.getId(he.element).toString();Be=this.nodesByIdentity.get(Tt)}if(!Be){let Tt;return typeof he.collapsed=="undefined"?Tt=void 0:he.collapsed===O.Collapsed||he.collapsed===O.PreserveOrCollapsed?Tt=!0:he.collapsed===O.Expanded||he.collapsed===O.PreserveOrExpanded?Tt=!1:Tt=!!he.collapsed,Ln(Xi({},he),{children:this.preserveCollapseState(he.children),collapsed:Tt})}const nt=typeof he.collapsible=="boolean"?he.collapsible:Be.collapsible;let pt;return typeof he.collapsed=="undefined"||he.collapsed===O.PreserveOrCollapsed||he.collapsed===O.PreserveOrExpanded?pt=Be.collapsed:he.collapsed===O.Collapsed?pt=!0:he.collapsed===O.Expanded?pt=!1:pt=!!he.collapsed,Ln(Xi({},he),{collapsible:nt,collapsed:pt,children:this.preserveCollapseState(he.children)})})}rerender(Q){const he=this.getElementLocation(Q);this.model.rerender(he)}getFirstElementChild(Q=null){const he=this.getElementLocation(Q);return this.model.getFirstElementChild(he)}has(Q){return this.nodes.has(Q)}getListIndex(Q){const he=this.getElementLocation(Q);return this.model.getListIndex(he)}getListRenderCount(Q){const he=this.getElementLocation(Q);return this.model.getListRenderCount(he)}isCollapsible(Q){const he=this.getElementLocation(Q);return this.model.isCollapsible(he)}setCollapsible(Q,he){const Be=this.getElementLocation(Q);return this.model.setCollapsible(Be,he)}isCollapsed(Q){const he=this.getElementLocation(Q);return this.model.isCollapsed(he)}setCollapsed(Q,he,Be){const nt=this.getElementLocation(Q);return this.model.setCollapsed(nt,he,Be)}expandTo(Q){const he=this.getElementLocation(Q);this.model.expandTo(he)}refilter(){this.model.refilter()}getNode(Q=null){if(Q===null)return this.model.getNode(this.model.rootRef);const he=this.nodes.get(Q);if(!he)throw new F(this.user,`Tree element not found: ${Q}`);return he}getNodeLocation(Q){return Q.element}getParentNodeLocation(Q){if(Q===null)throw new F(this.user,"Invalid getParentNodeLocation call");const he=this.nodes.get(Q);if(!he)throw new F(this.user,`Tree element not found: ${Q}`);const Be=this.model.getNodeLocation(he),nt=this.model.getParentNodeLocation(Be);return this.model.getNode(nt).element}getElementLocation(Q){if(Q===null)return[];const he=this.nodes.get(Q);if(!he)throw new F(this.user,`Tree element not found: ${Q}`);return this.model.getNodeLocation(he)}}function at(st){const Q=[st.element],he=st.incompressible||!1;return{element:{elements:Q,incompressible:he},children:w.$.map(w.$.from(st.children),at),collapsible:st.collapsible,collapsed:st.collapsed}}function vt(st){const Q=[st.element],he=st.incompressible||!1;let Be,nt;for(;[nt,Be]=w.$.consume(w.$.from(st.children),2),!(nt.length!==1||nt[0].incompressible);)st=nt[0],Q.push(st.element);return{element:{elements:Q,incompressible:he},children:w.$.map(w.$.concat(nt,Be),vt),collapsible:st.collapsible,collapsed:st.collapsed}}function Mt(st,Q=0){let he;return Q<st.element.elements.length-1?he=[Mt(st,Q+1)]:he=w.$.map(w.$.from(st.children),Be=>Mt(Be,0)),Q===0&&st.element.incompressible?{element:st.element.elements[Q],children:he,incompressible:!0,collapsible:st.collapsible,collapsed:st.collapsed}:{element:st.element.elements[Q],children:he,collapsible:st.collapsible,collapsed:st.collapsed}}function ti(st){return Mt(st,0)}function Ft(st,Q,he){return st.element===Q?Ln(Xi({},st),{children:he}):Ln(Xi({},st),{children:w.$.map(w.$.from(st.children),Be=>Ft(Be,Q,he))})}const ei=st=>({getId(Q){return Q.elements.map(he=>st.getId(he).toString()).join("\0")}});class Xt{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(Q,he,Be={}){this.user=Q,this.rootRef=null,this.nodes=new Map,this.model=new Dt(Q,he,Be),this.enabled=typeof Be.compressionEnabled=="undefined"?!0:Be.compressionEnabled,this.identityProvider=Be.identityProvider}setChildren(Q,he=w.$.empty(),Be){const nt=Be.diffIdentityProvider&&ei(Be.diffIdentityProvider);if(Q===null){const Ki=w.$.map(he,this.enabled?vt:at);this._setChildren(null,Ki,{diffIdentityProvider:nt,diffDepth:1/0});return}const pt=this.nodes.get(Q);if(!pt)throw new F(this.user,"Unknown compressed tree node");const Tt=this.model.getNode(pt),Vt=this.model.getParentNodeLocation(pt),oi=this.model.getNode(Vt),Ai=ti(Tt),zi=Ft(Ai,Q,he),cn=(this.enabled?vt:at)(zi),dn=Be.diffIdentityProvider?(Ki,ln)=>Be.diffIdentityProvider.getId(Ki)===Be.diffIdentityProvider.getId(ln):void 0;if((0,z.fS)(cn.element.elements,Tt.element.elements,dn)){this._setChildren(pt,cn.children||w.$.empty(),{diffIdentityProvider:nt,diffDepth:1});return}const on=oi.children.map(Ki=>Ki===Tt?cn:Ki);this._setChildren(oi.element,on,{diffIdentityProvider:nt,diffDepth:Tt.depth-oi.depth})}setCompressionEnabled(Q){if(Q===this.enabled)return;this.enabled=Q;const Be=this.model.getNode().children,nt=w.$.map(Be,ti),pt=w.$.map(nt,Q?vt:at);this._setChildren(null,pt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(Q,he,Be){const nt=new Set,pt=Vt=>{for(const oi of Vt.element.elements)nt.add(oi),this.nodes.set(oi,Vt.element)},Tt=Vt=>{for(const oi of Vt.element.elements)nt.has(oi)||this.nodes.delete(oi)};this.model.setChildren(Q,he,Ln(Xi({},Be),{onDidCreateNode:pt,onDidDeleteNode:Tt}))}has(Q){return this.nodes.has(Q)}getListIndex(Q){const he=this.getCompressedNode(Q);return this.model.getListIndex(he)}getListRenderCount(Q){const he=this.getCompressedNode(Q);return this.model.getListRenderCount(he)}getNode(Q){if(typeof Q=="undefined")return this.model.getNode();const he=this.getCompressedNode(Q);return this.model.getNode(he)}getNodeLocation(Q){const he=this.model.getNodeLocation(Q);return he===null?null:he.elements[he.elements.length-1]}getParentNodeLocation(Q){const he=this.getCompressedNode(Q),Be=this.model.getParentNodeLocation(he);return Be===null?null:Be.elements[Be.elements.length-1]}getFirstElementChild(Q){const he=this.getCompressedNode(Q);return this.model.getFirstElementChild(he)}isCollapsible(Q){const he=this.getCompressedNode(Q);return this.model.isCollapsible(he)}setCollapsible(Q,he){const Be=this.getCompressedNode(Q);return this.model.setCollapsible(Be,he)}isCollapsed(Q){const he=this.getCompressedNode(Q);return this.model.isCollapsed(he)}setCollapsed(Q,he,Be){const nt=this.getCompressedNode(Q);return this.model.setCollapsed(nt,he,Be)}expandTo(Q){const he=this.getCompressedNode(Q);this.model.expandTo(he)}rerender(Q){const he=this.getCompressedNode(Q);this.model.rerender(he)}refilter(){this.model.refilter()}getCompressedNode(Q){if(Q===null)return null;const he=this.nodes.get(Q);if(!he)throw new F(this.user,`Tree element not found: ${Q}`);return he}}const Ct=st=>st[st.length-1];class ft{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(Q=>new ft(this.unwrapper,Q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Q,he){this.unwrapper=Q,this.node=he}}function Bt(st,Q){return{splice(he,Be,nt){Q.splice(he,Be,nt.map(pt=>st.map(pt)))},updateElementHeight(he,Be){Q.updateElementHeight(he,Be)}}}function kt(st,Q){return Ln(Xi({},Q),{identityProvider:Q.identityProvider&&{getId(he){return Q.identityProvider.getId(st(he))}},sorter:Q.sorter&&{compare(he,Be){return Q.sorter.compare(he.elements[0],Be.elements[0])}},filter:Q.filter&&{filter(he,Be){return Q.filter.filter(st(he),Be)}}})}class Ge{get onDidSplice(){return E.ju.map(this.model.onDidSplice,({insertedNodes:Q,deletedNodes:he})=>({insertedNodes:Q.map(Be=>this.nodeMapper.map(Be)),deletedNodes:he.map(Be=>this.nodeMapper.map(Be))}))}get onDidChangeCollapseState(){return E.ju.map(this.model.onDidChangeCollapseState,({node:Q,deep:he})=>({node:this.nodeMapper.map(Q),deep:he}))}get onDidChangeRenderNodeCount(){return E.ju.map(this.model.onDidChangeRenderNodeCount,Q=>this.nodeMapper.map(Q))}constructor(Q,he,Be={}){this.rootRef=null,this.elementMapper=Be.elementMapper||Ct;const nt=pt=>this.elementMapper(pt.elements);this.nodeMapper=new B(pt=>new ft(nt,pt)),this.model=new Xt(Q,Bt(this.nodeMapper,he),kt(nt,Be))}setChildren(Q,he=w.$.empty(),Be={}){this.model.setChildren(Q,he,Be)}setCompressionEnabled(Q){this.model.setCompressionEnabled(Q)}has(Q){return this.model.has(Q)}getListIndex(Q){return this.model.getListIndex(Q)}getListRenderCount(Q){return this.model.getListRenderCount(Q)}getNode(Q){return this.nodeMapper.map(this.model.getNode(Q))}getNodeLocation(Q){return Q.element}getParentNodeLocation(Q){return this.model.getParentNodeLocation(Q)}getFirstElementChild(Q){const he=this.model.getFirstElementChild(Q);return he===null||typeof he=="undefined"?he:this.elementMapper(he.elements)}isCollapsible(Q){return this.model.isCollapsible(Q)}setCollapsible(Q,he){return this.model.setCollapsible(Q,he)}isCollapsed(Q){return this.model.isCollapsed(Q)}setCollapsed(Q,he,Be){return this.model.setCollapsed(Q,he,Be)}expandTo(Q){return this.model.expandTo(Q)}rerender(Q){return this.model.rerender(Q)}refilter(){return this.model.refilter()}getCompressedTreeNode(Q=null){return this.model.getNode(Q)}}var St=e(49898),Ci=function(st,Q,he,Be){var nt=arguments.length,pt=nt<3?Q:Be===null?Be=Object.getOwnPropertyDescriptor(Q,he):Be,Tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(st,Q,he,Be);else for(var Vt=st.length-1;Vt>=0;Vt--)(Tt=st[Vt])&&(pt=(nt<3?Tt(pt):nt>3?Tt(Q,he,pt):Tt(Q,he))||pt);return nt>3&&pt&&Object.defineProperty(Q,he,pt),pt};class Oi extends rt{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(Q,he,Be,nt,pt={}){super(Q,he,Be,nt,pt),this.user=Q}setChildren(Q,he=w.$.empty(),Be){this.model.setChildren(Q,he,Be)}rerender(Q){if(Q===void 0){this.view.rerender();return}this.model.rerender(Q)}hasElement(Q){return this.model.has(Q)}createModel(Q,he,Be){return new Dt(Q,he,Be)}}class xi{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(Q,he){this._compressedTreeNodeProvider=Q,this.renderer=he,this.templateId=he.templateId,he.onDidChangeTwistieState&&(this.onDidChangeTwistieState=he.onDidChangeTwistieState)}renderTemplate(Q){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(Q)}}renderElement(Q,he,Be,nt){const pt=this.compressedTreeNodeProvider.getCompressedTreeNode(Q.element);pt.element.elements.length===1?(Be.compressedTreeNode=void 0,this.renderer.renderElement(Q,he,Be.data,nt)):(Be.compressedTreeNode=pt,this.renderer.renderCompressedElements(pt,he,Be.data,nt))}disposeElement(Q,he,Be,nt){var pt,Tt,Vt,oi;Be.compressedTreeNode?(Tt=(pt=this.renderer).disposeCompressedElements)===null||Tt===void 0||Tt.call(pt,Be.compressedTreeNode,he,Be.data,nt):(oi=(Vt=this.renderer).disposeElement)===null||oi===void 0||oi.call(Vt,Q,he,Be.data,nt)}disposeTemplate(Q){this.renderer.disposeTemplate(Q.data)}renderTwistie(Q,he){return this.renderer.renderTwistie?this.renderer.renderTwistie(Q,he):!1}}Ci([St.H],xi.prototype,"compressedTreeNodeProvider",null);function Yi(st,Q){return Q&&Ln(Xi({},Q),{keyboardNavigationLabelProvider:Q.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(he){let Be;try{Be=st().getCompressedTreeNode(he)}catch(nt){return Q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(he)}return Be.element.elements.length===1?Q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(he):Q.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Be.element.elements)}}})}class fn extends Oi{constructor(Q,he,Be,nt,pt={}){const Tt=()=>this,Vt=nt.map(oi=>new xi(Tt,oi));super(Q,he,Be,Vt,Yi(Tt,pt))}setChildren(Q,he=w.$.empty(),Be){this.model.setChildren(Q,he,Be)}createModel(Q,he,Be){return new Ge(Q,he,Be)}updateOptions(Q={}){super.updateOptions(Q),typeof Q.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(Q.compressionEnabled)}getCompressedTreeNode(Q=null){return this.model.getCompressedTreeNode(Q)}}var un=e(17301);function Pn(st){return Ln(Xi({},st),{children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1})}function Dn(st,Q){return Q.parent?Q.parent===st?!0:Dn(st,Q.parent):!1}function Gn(st,Q){return st===Q||Dn(st,Q)||Dn(Q,st)}class Rn{get element(){return this.node.element.element}get children(){return this.node.children.map(Q=>new Rn(Q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Q){this.node=Q}}class ns{constructor(Q,he,Be){this.renderer=Q,this.nodeMapper=he,this.onDidChangeTwistieState=Be,this.renderedNodes=new Map,this.templateId=Q.templateId}renderTemplate(Q){return{templateData:this.renderer.renderTemplate(Q)}}renderElement(Q,he,Be,nt){this.renderer.renderElement(this.nodeMapper.map(Q),he,Be.templateData,nt)}renderTwistie(Q,he){return Q.slow?(he.classList.add(...j.k.asClassNameArray(G.l.treeItemLoading)),!0):(he.classList.remove(...j.k.asClassNameArray(G.l.treeItemLoading)),!1)}disposeElement(Q,he,Be,nt){var pt,Tt;(Tt=(pt=this.renderer).disposeElement)===null||Tt===void 0||Tt.call(pt,this.nodeMapper.map(Q),he,Be.templateData,nt)}disposeTemplate(Q){this.renderer.disposeTemplate(Q.templateData)}dispose(){this.renderedNodes.clear()}}function ts(st){return{browserEvent:st.browserEvent,elements:st.elements.map(Q=>Q.element)}}function qn(st){return{browserEvent:st.browserEvent,element:st.element&&st.element.element,target:st.target}}class fs extends C.kX{constructor(Q){super(Q.elements.map(he=>he.element)),this.data=Q}}function Nn(st){return st instanceof C.kX?new fs(st):st}class cs{constructor(Q){this.dnd=Q}getDragURI(Q){return this.dnd.getDragURI(Q.element)}getDragLabel(Q,he){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Q.map(Be=>Be.element),he)}onDragStart(Q,he){var Be,nt;(nt=(Be=this.dnd).onDragStart)===null||nt===void 0||nt.call(Be,Nn(Q),he)}onDragOver(Q,he,Be,nt,pt=!0){return this.dnd.onDragOver(Nn(Q),he&&he.element,Be,nt)}drop(Q,he,Be,nt){this.dnd.drop(Nn(Q),he&&he.element,Be,nt)}onDragEnd(Q){var he,Be;(Be=(he=this.dnd).onDragEnd)===null||Be===void 0||Be.call(he,Q)}dispose(){this.dnd.dispose()}}function Ei(st){return st&&Ln(Xi({},st),{collapseByDefault:!0,identityProvider:st.identityProvider&&{getId(Q){return st.identityProvider.getId(Q.element)}},dnd:st.dnd&&new cs(st.dnd),multipleSelectionController:st.multipleSelectionController&&{isSelectionSingleChangeEvent(Q){return st.multipleSelectionController.isSelectionSingleChangeEvent(Ln(Xi({},Q),{element:Q.element}))},isSelectionRangeChangeEvent(Q){return st.multipleSelectionController.isSelectionRangeChangeEvent(Ln(Xi({},Q),{element:Q.element}))}},accessibilityProvider:st.accessibilityProvider&&Ln(Xi({},st.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:st.accessibilityProvider.getRole?Q=>st.accessibilityProvider.getRole(Q.element):()=>"treeitem",isChecked:st.accessibilityProvider.isChecked?Q=>{var he;return!!(!((he=st.accessibilityProvider)===null||he===void 0)&&he.isChecked(Q.element))}:void 0,getAriaLabel(Q){return st.accessibilityProvider.getAriaLabel(Q.element)},getWidgetAriaLabel(){return st.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:st.accessibilityProvider.getWidgetRole?()=>st.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:st.accessibilityProvider.getAriaLevel&&(Q=>st.accessibilityProvider.getAriaLevel(Q.element)),getActiveDescendantId:st.accessibilityProvider.getActiveDescendantId&&(Q=>st.accessibilityProvider.getActiveDescendantId(Q.element))}),filter:st.filter&&{filter(Q,he){return st.filter.filter(Q.element,he)}},keyboardNavigationLabelProvider:st.keyboardNavigationLabelProvider&&Ln(Xi({},st.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(Q){return st.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof st.expandOnlyOnTwistieClick=="undefined"?void 0:typeof st.expandOnlyOnTwistieClick!="function"?st.expandOnlyOnTwistieClick:Q=>st.expandOnlyOnTwistieClick(Q.element),defaultFindVisibility:Q=>Q.hasChildren&&Q.stale?1:typeof st.defaultFindVisibility=="number"?st.defaultFindVisibility:typeof st.defaultFindVisibility=="undefined"?2:st.defaultFindVisibility(Q.element)})}function et(st,Q){Q(st),st.children.forEach(he=>et(he,Q))}class wt{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return E.ju.map(this.tree.onDidChangeFocus,ts)}get onDidChangeSelection(){return E.ju.map(this.tree.onDidChangeSelection,ts)}get onMouseDblClick(){return E.ju.map(this.tree.onMouseDblClick,qn)}get onPointer(){return E.ju.map(this.tree.onPointer,qn)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(Q,he,Be,nt,pt,Tt={}){this.user=Q,this.dataSource=pt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new E.Q5,this._onDidChangeNodeSlowState=new E.Q5,this.nodeMapper=new B(Vt=>new Rn(Vt)),this.disposables=new c.SL,this.identityProvider=Tt.identityProvider,this.autoExpandSingleChildren=typeof Tt.autoExpandSingleChildren=="undefined"?!1:Tt.autoExpandSingleChildren,this.sorter=Tt.sorter,this.getDefaultCollapseState=Vt=>Tt.collapseByDefault?Tt.collapseByDefault(Vt)?O.PreserveOrCollapsed:O.PreserveOrExpanded:void 0,this.tree=this.createTree(Q,he,Be,nt,Tt),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Pn({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root=Ln(Xi({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(Q,he,Be,nt,pt){const Tt=new pe(Be),Vt=nt.map(Ai=>new ns(Ai,this.nodeMapper,this._onDidChangeNodeSlowState.event)),oi=Ei(pt)||{};return new Oi(Q,he,Tt,Vt,oi)}updateOptions(Q={}){this.tree.updateOptions(Q)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(Q){this.tree.scrollTop=Q}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(Q,he){this.tree.layout(Q,he)}style(Q){this.tree.style(Q)}getInput(){return this.root.element}setInput(Q,he){return qt(this,null,function*(){this.refreshPromises.forEach(nt=>nt.cancel()),this.refreshPromises.clear(),this.root.element=Q;const Be=he&&{viewState:he,focus:[],selection:[]};yield this._updateChildren(Q,!0,!1,Be),Be&&(this.tree.setFocus(Be.focus),this.tree.setSelection(Be.selection)),he&&typeof he.scrollTop=="number"&&(this.scrollTop=he.scrollTop)})}_updateChildren(){return qt(this,arguments,function*(Q=this.root.element,he=!0,Be=!1,nt,pt){if(typeof this.root.element=="undefined")throw new F(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield E.ju.toPromise(this._onDidRender.event));const Tt=this.getDataNode(Q);if(yield this.refreshAndRenderNode(Tt,he,nt,pt),Be)try{this.tree.rerender(Tt)}catch(Vt){}})}rerender(Q){if(Q===void 0||Q===this.root.element){this.tree.rerender();return}const he=this.getDataNode(Q);this.tree.rerender(he)}getNode(Q=this.root.element){const he=this.getDataNode(Q),Be=this.tree.getNode(he===this.root?null:he);return this.nodeMapper.map(Be)}collapse(Q,he=!1){const Be=this.getDataNode(Q);return this.tree.collapse(Be===this.root?null:Be,he)}expand(Q,he=!1){return qt(this,null,function*(){if(typeof this.root.element=="undefined")throw new F(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield E.ju.toPromise(this._onDidRender.event));const Be=this.getDataNode(Q);if(this.tree.hasElement(Be)&&!this.tree.isCollapsible(Be)||(Be.refreshPromise&&(yield this.root.refreshPromise,yield E.ju.toPromise(this._onDidRender.event)),Be!==this.root&&!Be.refreshPromise&&!this.tree.isCollapsed(Be)))return!1;const nt=this.tree.expand(Be===this.root?null:Be,he);return Be.refreshPromise&&(yield this.root.refreshPromise,yield E.ju.toPromise(this._onDidRender.event)),nt})}setSelection(Q,he){const Be=Q.map(nt=>this.getDataNode(nt));this.tree.setSelection(Be,he)}getSelection(){return this.tree.getSelection().map(he=>he.element)}setFocus(Q,he){const Be=Q.map(nt=>this.getDataNode(nt));this.tree.setFocus(Be,he)}getFocus(){return this.tree.getFocus().map(he=>he.element)}reveal(Q,he){this.tree.reveal(this.getDataNode(Q),he)}getParentElement(Q){const he=this.tree.getParentElement(this.getDataNode(Q));return he&&he.element}getFirstElementChild(Q=this.root.element){const he=this.getDataNode(Q),Be=this.tree.getFirstElementChild(he===this.root?null:he);return Be&&Be.element}getDataNode(Q){const he=this.nodes.get(Q===this.root.element?null:Q);if(!he)throw new F(this.user,`Data tree node not found: ${Q}`);return he}refreshAndRenderNode(Q,he,Be,nt){return qt(this,null,function*(){yield this.refreshNode(Q,he,Be),this.render(Q,Be,nt)})}refreshNode(Q,he,Be){return qt(this,null,function*(){let nt;if(this.subTreeRefreshPromises.forEach((pt,Tt)=>{!nt&&Gn(Tt,Q)&&(nt=pt.then(()=>this.refreshNode(Q,he,Be)))}),nt)return nt;if(Q!==this.root&&this.tree.getNode(Q).collapsed){Q.hasChildren=!!this.dataSource.hasChildren(Q.element),Q.stale=!0;return}return this.doRefreshSubTree(Q,he,Be)})}doRefreshSubTree(Q,he,Be){return qt(this,null,function*(){let nt;Q.refreshPromise=new Promise(pt=>nt=pt),this.subTreeRefreshPromises.set(Q,Q.refreshPromise),Q.refreshPromise.finally(()=>{Q.refreshPromise=void 0,this.subTreeRefreshPromises.delete(Q)});try{const pt=yield this.doRefreshNode(Q,he,Be);Q.stale=!1,yield $.jT.settled(pt.map(Tt=>this.doRefreshSubTree(Tt,he,Be)))}finally{nt()}})}doRefreshNode(Q,he,Be){return qt(this,null,function*(){Q.hasChildren=!!this.dataSource.hasChildren(Q.element);let nt;if(!Q.hasChildren)nt=Promise.resolve(w.$.empty());else{const pt=this.doGetChildren(Q);if((0,J.TW)(pt))nt=Promise.resolve(pt);else{const Tt=(0,$.Vs)(800);Tt.then(()=>{Q.slow=!0,this._onDidChangeNodeSlowState.fire(Q)},Vt=>null),nt=pt.finally(()=>Tt.cancel())}}try{const pt=yield nt;return this.setChildren(Q,pt,he,Be)}catch(pt){if(Q!==this.root&&this.tree.hasElement(Q)&&this.tree.collapse(Q),(0,un.n2)(pt))return[];throw pt}finally{Q.slow&&(Q.slow=!1,this._onDidChangeNodeSlowState.fire(Q))}})}doGetChildren(Q){let he=this.refreshPromises.get(Q);if(he)return he;const Be=this.dataSource.getChildren(Q.element);return(0,J.TW)(Be)?this.processChildren(Be):(he=(0,$.PG)(()=>qt(this,null,function*(){return this.processChildren(yield Be)})),this.refreshPromises.set(Q,he),he.finally(()=>{this.refreshPromises.delete(Q)}))}_onDidChangeCollapseState({node:Q,deep:he}){Q.element!==null&&!Q.collapsed&&Q.element.stale&&(he?this.collapse(Q.element.element):this.refreshAndRenderNode(Q.element,!1).catch(un.dL))}setChildren(Q,he,Be,nt){const pt=[...he];if(Q.children.length===0&&pt.length===0)return[];const Tt=new Map,Vt=new Map;for(const zi of Q.children)Tt.set(zi.element,zi),this.identityProvider&&Vt.set(zi.id,{node:zi,collapsed:this.tree.hasElement(zi)&&this.tree.isCollapsed(zi)});const oi=[],Ai=pt.map(zi=>{const cn=!!this.dataSource.hasChildren(zi);if(!this.identityProvider){const ln=Pn({element:zi,parent:Q,hasChildren:cn,defaultCollapseState:this.getDefaultCollapseState(zi)});return cn&&ln.defaultCollapseState===O.PreserveOrExpanded&&oi.push(ln),ln}const dn=this.identityProvider.getId(zi).toString(),on=Vt.get(dn);if(on){const ln=on.node;return Tt.delete(ln.element),this.nodes.delete(ln.element),this.nodes.set(zi,ln),ln.element=zi,ln.hasChildren=cn,Be?on.collapsed?(ln.children.forEach(pn=>et(pn,Jn=>this.nodes.delete(Jn.element))),ln.children.splice(0,ln.children.length),ln.stale=!0):oi.push(ln):cn&&!on.collapsed&&oi.push(ln),ln}const Ki=Pn({element:zi,parent:Q,id:dn,hasChildren:cn,defaultCollapseState:this.getDefaultCollapseState(zi)});return nt&&nt.viewState.focus&&nt.viewState.focus.indexOf(dn)>-1&&nt.focus.push(Ki),nt&&nt.viewState.selection&&nt.viewState.selection.indexOf(dn)>-1&&nt.selection.push(Ki),(nt&&nt.viewState.expanded&&nt.viewState.expanded.indexOf(dn)>-1||cn&&Ki.defaultCollapseState===O.PreserveOrExpanded)&&oi.push(Ki),Ki});for(const zi of Tt.values())et(zi,cn=>this.nodes.delete(cn.element));for(const zi of Ai)this.nodes.set(zi.element,zi);return Q.children.splice(0,Q.children.length,...Ai),Q!==this.root&&this.autoExpandSingleChildren&&Ai.length===1&&oi.length===0&&(Ai[0].forceExpanded=!0,oi.push(Ai[0])),oi}render(Q,he,Be){const nt=Q.children.map(Tt=>this.asTreeElement(Tt,he)),pt=Be&&Ln(Xi({},Be),{diffIdentityProvider:Be.diffIdentityProvider&&{getId(Tt){return Be.diffIdentityProvider.getId(Tt.element)}}});this.tree.setChildren(Q===this.root?null:Q,nt,pt),Q!==this.root&&this.tree.setCollapsible(Q,Q.hasChildren),this._onDidRender.fire()}asTreeElement(Q,he){if(Q.stale)return{element:Q,collapsible:Q.hasChildren,collapsed:!0};let Be;return he&&he.viewState.expanded&&Q.id&&he.viewState.expanded.indexOf(Q.id)>-1?Be=!1:Q.forceExpanded?(Be=!1,Q.forceExpanded=!1):Be=Q.defaultCollapseState,{element:Q,children:Q.hasChildren?w.$.map(Q.children,nt=>this.asTreeElement(nt,he)):[],collapsible:Q.hasChildren,collapsed:Be}}processChildren(Q){return this.sorter&&(Q=[...Q].sort(this.sorter.compare.bind(this.sorter))),Q}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Yt{get element(){return{elements:this.node.element.elements.map(Q=>Q.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(Q=>new Yt(Q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Q){this.node=Q}}class ri{constructor(Q,he,Be,nt){this.renderer=Q,this.nodeMapper=he,this.compressibleNodeMapperProvider=Be,this.onDidChangeTwistieState=nt,this.renderedNodes=new Map,this.disposables=[],this.templateId=Q.templateId}renderTemplate(Q){return{templateData:this.renderer.renderTemplate(Q)}}renderElement(Q,he,Be,nt){this.renderer.renderElement(this.nodeMapper.map(Q),he,Be.templateData,nt)}renderCompressedElements(Q,he,Be,nt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(Q),he,Be.templateData,nt)}renderTwistie(Q,he){return Q.slow?(he.classList.add(...j.k.asClassNameArray(G.l.treeItemLoading)),!0):(he.classList.remove(...j.k.asClassNameArray(G.l.treeItemLoading)),!1)}disposeElement(Q,he,Be,nt){var pt,Tt;(Tt=(pt=this.renderer).disposeElement)===null||Tt===void 0||Tt.call(pt,this.nodeMapper.map(Q),he,Be.templateData,nt)}disposeCompressedElements(Q,he,Be,nt){var pt,Tt;(Tt=(pt=this.renderer).disposeCompressedElements)===null||Tt===void 0||Tt.call(pt,this.compressibleNodeMapperProvider().map(Q),he,Be.templateData,nt)}disposeTemplate(Q){this.renderer.disposeTemplate(Q.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,c.B9)(this.disposables)}}function vi(st){const Q=st&&Ei(st);return Q&&Ln(Xi({},Q),{keyboardNavigationLabelProvider:Q.keyboardNavigationLabelProvider&&Ln(Xi({},Q.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(he){return st.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(he.map(Be=>Be.element))}})})}class Wi extends wt{constructor(Q,he,Be,nt,pt,Tt,Vt={}){super(Q,he,Be,pt,Tt,Vt),this.compressionDelegate=nt,this.compressibleNodeMapper=new B(oi=>new Yt(oi)),this.filter=Vt.filter}createTree(Q,he,Be,nt,pt){const Tt=new pe(Be),Vt=nt.map(Ai=>new ri(Ai,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),oi=vi(pt)||{};return new fn(Q,he,Tt,Vt,oi)}asTreeElement(Q,he){return Xi({incompressible:this.compressionDelegate.isIncompressible(Q.element)},super.asTreeElement(Q,he))}updateOptions(Q={}){this.tree.updateOptions(Q)}render(Q,he){if(!this.identityProvider)return super.render(Q,he);const Be=dn=>this.identityProvider.getId(dn).toString(),nt=dn=>{const on=new Set;for(const Ki of dn){const ln=this.tree.getCompressedTreeNode(Ki===this.root?null:Ki);if(ln.element)for(const pn of ln.element.elements)on.add(Be(pn.element))}return on},pt=nt(this.tree.getSelection()),Tt=nt(this.tree.getFocus());super.render(Q,he);const Vt=this.getSelection();let oi=!1;const Ai=this.getFocus();let zi=!1;const cn=dn=>{const on=dn.element;if(on)for(let Ki=0;Ki<on.elements.length;Ki++){const ln=Be(on.elements[Ki].element),pn=on.elements[on.elements.length-1].element;pt.has(ln)&&Vt.indexOf(pn)===-1&&(Vt.push(pn),oi=!0),Tt.has(ln)&&Ai.indexOf(pn)===-1&&(Ai.push(pn),zi=!0)}dn.children.forEach(cn)};cn(this.tree.getCompressedTreeNode(Q===this.root?null:Q)),oi&&this.setSelection(Vt),zi&&this.setFocus(Ai)}processChildren(Q){return this.filter&&(Q=w.$.filter(Q,he=>{const Be=this.filter.filter(he,1),nt=$i(Be);if(nt===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return nt===1})),super.processChildren(Q)}}function $i(st){return typeof st=="boolean"?st?1:0:V(st)?R(st.visibility):R(st)}class Ot extends rt{constructor(Q,he,Be,nt,pt,Tt={}){super(Q,he,Be,nt,Tt),this.user=Q,this.dataSource=pt,this.identityProvider=Tt.identityProvider}createModel(Q,he,Be){return new Dt(Q,he,Be)}}var yt=e(33108),si=e(23193),ii=e(32064),Ui=e(39282),an=e(5606),en=e(72065),In=e(91847),Fn=e(76648);let On;const Mi=globalThis.vscode;if(typeof Mi!="undefined"&&typeof Mi.context!="undefined"){const st=Mi.context.configuration();if(st)On=st.product;else throw new Error("Sandbox: unable to resolve product configuration from preload script.")}else if(globalThis._VSCODE_PRODUCT_JSON&&globalThis._VSCODE_PACKAGE_JSON){if(On=globalThis._VSCODE_PRODUCT_JSON,Fn.OB.VSCODE_DEV&&Object.assign(On,{nameShort:`${On.nameShort} Dev`,nameLong:`${On.nameLong} Dev`,dataFolderName:`${On.dataFolderName}-dev`,serverDataFolderName:On.serverDataFolderName?`${On.serverDataFolderName}-dev`:void 0}),!On.version){const st=globalThis._VSCODE_PACKAGE_JSON;Object.assign(On,{version:st.version})}}else On={},Object.keys(On).length===0&&Object.assign(On,{version:"1.82.0-dev",nameShort:"Code - OSS Dev",nameLong:"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",serverLicenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt"});var _i=On,Ii=e(89872),Ht=e(86253),Zt=function(st,Q,he,Be){var nt=arguments.length,pt=nt<3?Q:Be===null?Be=Object.getOwnPropertyDescriptor(Q,he):Be,Tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(st,Q,he,Be);else for(var Vt=st.length-1;Vt>=0;Vt--)(Tt=st[Vt])&&(pt=(nt<3?Tt(pt):nt>3?Tt(Q,he,pt):Tt(Q,he))||pt);return nt>3&&pt&&Object.defineProperty(Q,he,pt),pt},hi=function(st,Q){return function(he,Be){Q(he,Be,st)}};const Wt=(0,en.yh)("listService");class qe{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new c.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(Q){var he,Be;Q!==this._lastFocusedWidget&&((he=this._lastFocusedWidget)===null||he===void 0||he.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=Q,(Be=this._lastFocusedWidget)===null||Be===void 0||Be.getHTMLElement().classList.add("last-focused"))}register(Q,he){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new I.wD((0,b.dS)(),"").style(Ht.O2)),this.lists.some(nt=>nt.widget===Q))throw new Error("Cannot register the same widget multiple times");const Be={widget:Q,extraContextKeys:he};return this.lists.push(Be),(0,b.H9)(Q.getHTMLElement())&&this.setLastFocusedList(Q),(0,c.F8)(Q.onDidFocus(()=>this.setLastFocusedList(Q)),(0,c.OF)(()=>this.lists.splice(this.lists.indexOf(Be),1)),Q.onDidDispose(()=>{this.lists=this.lists.filter(nt=>nt!==Be),this._lastFocusedWidget===Q&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const ee=new ii.uy("listScrollAtBoundary","none"),de=ii.Ao.or(ee.isEqualTo("top"),ee.isEqualTo("both")),re=ii.Ao.or(ee.isEqualTo("bottom"),ee.isEqualTo("both")),Ce=new ii.uy("listFocus",!0),we=new ii.uy("listSupportsMultiselect",!0),be=ii.Ao.and(Ce,ii.Ao.not(Ui.d0)),ke=new ii.uy("listHasSelectionOrFocus",!1),He=new ii.uy("listDoubleSelection",!1),Ye=new ii.uy("listMultiSelection",!1),ut=new ii.uy("listSelectionNavigation",!1),$t=new ii.uy("listSupportsFind",!0),gi=new ii.uy("treeElementCanCollapse",!1),ci=new ii.uy("treeElementHasParent",!1),ai=new ii.uy("treeElementCanExpand",!1),ct=new ii.uy("treeElementHasChild",!1),Nt=new ii.uy("treeFindOpen",!1),Et="listTypeNavigationMode",It="listAutomaticKeyboardNavigation";function Gt(st,Q){const he=st.createScoped(Q.getHTMLElement());return Ce.bindTo(he),he}function zt(st,Q){const he=ee.bindTo(st),Be=()=>{const nt=Q.scrollTop===0,pt=Q.scrollHeight-Q.renderHeight-Q.scrollTop<1;nt&&pt?he.set("both"):nt?he.set("top"):pt?he.set("bottom"):he.set("none")};return Be(),Q.onDidScroll(Be)}const mi="workbench.list.multiSelectModifier",ui="workbench.list.openMode",Ti="workbench.list.horizontalScrolling",Ri="workbench.list.defaultFindMode",tn="workbench.list.typeNavigationMode",gn="workbench.list.keyboardNavigation",wn="workbench.list.scrollByPage",An="workbench.list.defaultFindMatchType",Bn="workbench.tree.indent",Tn="workbench.tree.renderIndentGuides",es="workbench.list.smoothScrolling",Un="workbench.list.mouseWheelScrollSensitivity",yn="workbench.list.fastScrollSensitivity",ss="workbench.tree.expandMode",os="workbench.tree.enableStickyScroll",pi="workbench.tree.stickyScrollMaxItemCount";function $e(st){return st.getValue(mi)==="alt"}class ht extends c.JT{constructor(Q){super(),this.configurationService=Q,this.useAltAsMultipleSelectionModifier=$e(Q),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Q=>{Q.affectsConfiguration(mi)&&(this.useAltAsMultipleSelectionModifier=$e(this.configurationService))}))}isSelectionSingleChangeEvent(Q){return this.useAltAsMultipleSelectionModifier?Q.browserEvent.altKey:(0,I.Zo)(Q)}isSelectionRangeChangeEvent(Q){return(0,I.wn)(Q)}}function gt(st,Q){var he;const Be=st.get(yt.Ui),nt=st.get(In.d),pt=new c.SL;return[Ln(Xi({},Q),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Vt){return nt.mightProducePrintableCharacter(Vt)}},smoothScrolling:!!Be.getValue(es),mouseWheelScrollSensitivity:Be.getValue(Un),fastScrollSensitivity:Be.getValue(yn),multipleSelectionController:(he=Q.multipleSelectionController)!==null&&he!==void 0?he:pt.add(new ht(Be)),keyboardNavigationEventFilter:Hi(nt),scrollByPage:!!Be.getValue(wn)}),pt]}let li=class extends I.aV{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai){const zi=typeof pt.horizontalScrolling!="undefined"?pt.horizontalScrolling:!!oi.getValue(Ti),[cn,dn]=Ai.invokeFunction(gt,pt);super(Q,he,Be,nt,Ln(Xi({keyboardSupport:!1},cn),{horizontalScrolling:zi})),this.disposables.add(dn),this.contextKeyService=Gt(Tt,this),this.disposables.add(zt(this.contextKeyService,this)),this.listSupportsMultiSelect=we.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(pt.multipleSelectionSupport!==!1),ut.bindTo(this.contextKeyService).set(!!pt.selectionNavigation),this.listHasSelectionOrFocus=ke.bindTo(this.contextKeyService),this.listDoubleSelection=He.bindTo(this.contextKeyService),this.listMultiSelection=Ye.bindTo(this.contextKeyService),this.horizontalScrolling=pt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=$e(oi),this.disposables.add(this.contextKeyService),this.disposables.add(Vt.register(this)),this.updateStyles(pt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ki=this.getSelection(),ln=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ki.length>0||ln.length>0),this.listMultiSelection.set(Ki.length>1),this.listDoubleSelection.set(Ki.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ki=this.getSelection(),ln=this.getFocus();this.listHasSelectionOrFocus.set(Ki.length>0||ln.length>0)})),this.disposables.add(oi.onDidChangeConfiguration(Ki=>{Ki.affectsConfiguration(mi)&&(this._useAltAsMultipleSelectionModifier=$e(oi));let ln={};if(Ki.affectsConfiguration(Ti)&&this.horizontalScrolling===void 0){const pn=!!oi.getValue(Ti);ln=Ln(Xi({},ln),{horizontalScrolling:pn})}if(Ki.affectsConfiguration(wn)){const pn=!!oi.getValue(wn);ln=Ln(Xi({},ln),{scrollByPage:pn})}if(Ki.affectsConfiguration(es)){const pn=!!oi.getValue(es);ln=Ln(Xi({},ln),{smoothScrolling:pn})}if(Ki.affectsConfiguration(Un)){const pn=oi.getValue(Un);ln=Ln(Xi({},ln),{mouseWheelScrollSensitivity:pn})}if(Ki.affectsConfiguration(yn)){const pn=oi.getValue(yn);ln=Ln(Xi({},ln),{fastScrollSensitivity:pn})}Object.keys(ln).length>0&&this.updateOptions(ln)})),this.navigator=new yi(this,Xi({configurationService:oi},pt)),this.disposables.add(this.navigator)}updateOptions(Q){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.updateStyles(Q.overrideStyles),Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyles(Q){this.style(Q?(0,Ht.TU)(Q):Ht.O2)}};li=Zt([hi(5,ii.i6),hi(6,Wt),hi(7,yt.Ui),hi(8,en.TG)],li);let ni=class extends o{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai){const zi=typeof pt.horizontalScrolling!="undefined"?pt.horizontalScrolling:!!oi.getValue(Ti),[cn,dn]=Ai.invokeFunction(gt,pt);super(Q,he,Be,nt,Ln(Xi({keyboardSupport:!1},cn),{horizontalScrolling:zi})),this.disposables=new c.SL,this.disposables.add(dn),this.contextKeyService=Gt(Tt,this),this.disposables.add(zt(this.contextKeyService,this.widget)),this.horizontalScrolling=pt.horizontalScrolling,this.listSupportsMultiSelect=we.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(pt.multipleSelectionSupport!==!1),ut.bindTo(this.contextKeyService).set(!!pt.selectionNavigation),this._useAltAsMultipleSelectionModifier=$e(oi),this.disposables.add(this.contextKeyService),this.disposables.add(Vt.register(this)),this.updateStyles(pt.overrideStyles),this.disposables.add(oi.onDidChangeConfiguration(Ki=>{Ki.affectsConfiguration(mi)&&(this._useAltAsMultipleSelectionModifier=$e(oi));let ln={};if(Ki.affectsConfiguration(Ti)&&this.horizontalScrolling===void 0){const pn=!!oi.getValue(Ti);ln=Ln(Xi({},ln),{horizontalScrolling:pn})}if(Ki.affectsConfiguration(wn)){const pn=!!oi.getValue(wn);ln=Ln(Xi({},ln),{scrollByPage:pn})}if(Ki.affectsConfiguration(es)){const pn=!!oi.getValue(es);ln=Ln(Xi({},ln),{smoothScrolling:pn})}if(Ki.affectsConfiguration(Un)){const pn=oi.getValue(Un);ln=Ln(Xi({},ln),{mouseWheelScrollSensitivity:pn})}if(Ki.affectsConfiguration(yn)){const pn=oi.getValue(yn);ln=Ln(Xi({},ln),{fastScrollSensitivity:pn})}Object.keys(ln).length>0&&this.updateOptions(ln)})),this.navigator=new yi(this,Xi({configurationService:oi},pt)),this.disposables.add(this.navigator)}updateOptions(Q){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.updateStyles(Q.overrideStyles),Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyles(Q){this.style(Q?(0,Ht.TU)(Q):Ht.O2)}dispose(){this.disposables.dispose(),super.dispose()}};ni=Zt([hi(5,ii.i6),hi(6,Wt),hi(7,yt.Ui),hi(8,en.TG)],ni);let bi=class extends f{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai,zi){const cn=typeof Tt.horizontalScrolling!="undefined"?Tt.horizontalScrolling:!!Ai.getValue(Ti),[dn,on]=zi.invokeFunction(gt,Tt);super(Q,he,Be,nt,pt,Ln(Xi({keyboardSupport:!1},dn),{horizontalScrolling:cn})),this.disposables.add(on),this.contextKeyService=Gt(Vt,this),this.disposables.add(zt(this.contextKeyService,this)),this.listSupportsMultiSelect=we.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Tt.multipleSelectionSupport!==!1),ut.bindTo(this.contextKeyService).set(!!Tt.selectionNavigation),this.listHasSelectionOrFocus=ke.bindTo(this.contextKeyService),this.listDoubleSelection=He.bindTo(this.contextKeyService),this.listMultiSelection=Ye.bindTo(this.contextKeyService),this.horizontalScrolling=Tt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=$e(Ai),this.disposables.add(this.contextKeyService),this.disposables.add(oi.register(this)),this.updateStyles(Tt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ln=this.getSelection(),pn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ln.length>0||pn.length>0),this.listMultiSelection.set(ln.length>1),this.listDoubleSelection.set(ln.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ln=this.getSelection(),pn=this.getFocus();this.listHasSelectionOrFocus.set(ln.length>0||pn.length>0)})),this.disposables.add(Ai.onDidChangeConfiguration(ln=>{ln.affectsConfiguration(mi)&&(this._useAltAsMultipleSelectionModifier=$e(Ai));let pn={};if(ln.affectsConfiguration(Ti)&&this.horizontalScrolling===void 0){const Jn=!!Ai.getValue(Ti);pn=Ln(Xi({},pn),{horizontalScrolling:Jn})}if(ln.affectsConfiguration(wn)){const Jn=!!Ai.getValue(wn);pn=Ln(Xi({},pn),{scrollByPage:Jn})}if(ln.affectsConfiguration(es)){const Jn=!!Ai.getValue(es);pn=Ln(Xi({},pn),{smoothScrolling:Jn})}if(ln.affectsConfiguration(Un)){const Jn=Ai.getValue(Un);pn=Ln(Xi({},pn),{mouseWheelScrollSensitivity:Jn})}if(ln.affectsConfiguration(yn)){const Jn=Ai.getValue(yn);pn=Ln(Xi({},pn),{fastScrollSensitivity:Jn})}Object.keys(pn).length>0&&this.updateOptions(pn)})),this.navigator=new Pi(this,Xi({configurationService:Ai},Tt)),this.disposables.add(this.navigator)}updateOptions(Q){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.updateStyles(Q.overrideStyles),Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyles(Q){this.style(Q?(0,Ht.TU)(Q):Ht.O2)}dispose(){this.disposables.dispose(),super.dispose()}};bi=Zt([hi(6,ii.i6),hi(7,Wt),hi(8,yt.Ui),hi(9,en.TG)],bi);class Si extends c.JT{constructor(Q,he){var Be;super(),this.widget=Q,this._onDidOpen=this._register(new E.Q5),this.onDidOpen=this._onDidOpen.event,this._register(E.ju.filter(this.widget.onDidChangeSelection,nt=>(0,b.vd)(nt.browserEvent))(nt=>this.onSelectionFromKeyboard(nt))),this._register(this.widget.onPointer(nt=>this.onPointer(nt.element,nt.browserEvent))),this._register(this.widget.onMouseDblClick(nt=>this.onMouseDblClick(nt.element,nt.browserEvent))),typeof(he==null?void 0:he.openOnSingleClick)!="boolean"&&(he!=null&&he.configurationService)?(this.openOnSingleClick=(he==null?void 0:he.configurationService.getValue(ui))!=="doubleClick",this._register(he==null?void 0:he.configurationService.onDidChangeConfiguration(nt=>{nt.affectsConfiguration(ui)&&(this.openOnSingleClick=(he==null?void 0:he.configurationService.getValue(ui))!=="doubleClick")}))):this.openOnSingleClick=(Be=he==null?void 0:he.openOnSingleClick)!==null&&Be!==void 0?Be:!0}onSelectionFromKeyboard(Q){if(Q.elements.length!==1)return;const he=Q.browserEvent,Be=typeof he.preserveFocus=="boolean"?he.preserveFocus:!0,nt=typeof he.pinned=="boolean"?he.pinned:!Be,pt=!1;this._open(this.getSelectedElement(),Be,nt,pt,Q.browserEvent)}onPointer(Q,he){if(!this.openOnSingleClick||he.detail===2)return;const nt=he.button===1,pt=!0,Tt=nt,Vt=he.ctrlKey||he.metaKey||he.altKey;this._open(Q,pt,Tt,Vt,he)}onMouseDblClick(Q,he){if(!he)return;const Be=he.target;if(Be.classList.contains("monaco-tl-twistie")||Be.classList.contains("monaco-icon-label")&&Be.classList.contains("folder-icon")&&he.offsetX<16)return;const pt=!1,Tt=!0,Vt=he.ctrlKey||he.metaKey||he.altKey;this._open(Q,pt,Tt,Vt,he)}_open(Q,he,Be,nt,pt){Q&&this._onDidOpen.fire({editorOptions:{preserveFocus:he,pinned:Be,revealIfVisible:!0},sideBySide:nt,element:Q,browserEvent:pt})}}class yi extends Si{constructor(Q,he){super(Q,he),this.widget=Q}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Pi extends Si{constructor(Q,he){super(Q,he)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Qi extends Si{constructor(Q,he){super(Q,he)}getSelectedElement(){var Q;return(Q=this.widget.getSelection()[0])!==null&&Q!==void 0?Q:void 0}}function Hi(st){let Q=!1;return he=>{if(he.toKeyCodeChord().isModifierKey())return!1;if(Q)return Q=!1,!1;const Be=st.softDispatch(he,he.target);return Be.kind===1?(Q=!0,!1):(Q=!1,Be.kind===0)}}let Fi=class extends Oi{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai){const{options:zi,getTypeNavigationMode:cn,disposable:dn}=Tt.invokeFunction(it,pt);super(Q,he,Be,nt,zi),this.disposables.add(dn),this.internals=new dt(this,pt,cn,pt.overrideStyles,Vt,oi,Ai),this.disposables.add(this.internals)}updateOptions(Q){super.updateOptions(Q),this.internals.updateOptions(Q)}};Fi=Zt([hi(5,en.TG),hi(6,ii.i6),hi(7,Wt),hi(8,yt.Ui)],Fi);let bt=class extends fn{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai){const{options:zi,getTypeNavigationMode:cn,disposable:dn}=Tt.invokeFunction(it,pt);super(Q,he,Be,nt,zi),this.disposables.add(dn),this.internals=new dt(this,pt,cn,pt.overrideStyles,Vt,oi,Ai),this.disposables.add(this.internals)}updateOptions(Q={}){super.updateOptions(Q),Q.overrideStyles&&this.internals.updateStyleOverrides(Q.overrideStyles),this.internals.updateOptions(Q)}};bt=Zt([hi(5,en.TG),hi(6,ii.i6),hi(7,Wt),hi(8,yt.Ui)],bt);let k=class extends Ot{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai,zi){const{options:cn,getTypeNavigationMode:dn,disposable:on}=Vt.invokeFunction(it,Tt);super(Q,he,Be,nt,pt,cn),this.disposables.add(on),this.internals=new dt(this,Tt,dn,Tt.overrideStyles,oi,Ai,zi),this.disposables.add(this.internals)}updateOptions(Q={}){super.updateOptions(Q),Q.overrideStyles!==void 0&&this.internals.updateStyleOverrides(Q.overrideStyles),this.internals.updateOptions(Q)}};k=Zt([hi(6,en.TG),hi(7,ii.i6),hi(8,Wt),hi(9,yt.Ui)],k);let te=class extends wt{get onDidOpen(){return this.internals.onDidOpen}constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai,zi){const{options:cn,getTypeNavigationMode:dn,disposable:on}=Vt.invokeFunction(it,Tt);super(Q,he,Be,nt,pt,cn),this.disposables.add(on),this.internals=new dt(this,Tt,dn,Tt.overrideStyles,oi,Ai,zi),this.disposables.add(this.internals)}updateOptions(Q={}){super.updateOptions(Q),Q.overrideStyles&&this.internals.updateStyleOverrides(Q.overrideStyles),this.internals.updateOptions(Q)}};te=Zt([hi(6,en.TG),hi(7,ii.i6),hi(8,Wt),hi(9,yt.Ui)],te);let ue=class extends Wi{constructor(Q,he,Be,nt,pt,Tt,Vt,oi,Ai,zi,cn){const{options:dn,getTypeNavigationMode:on,disposable:Ki}=oi.invokeFunction(it,Vt);super(Q,he,Be,nt,pt,Tt,dn),this.disposables.add(Ki),this.internals=new dt(this,Vt,on,Vt.overrideStyles,Ai,zi,cn),this.disposables.add(this.internals)}updateOptions(Q){super.updateOptions(Q),this.internals.updateOptions(Q)}};ue=Zt([hi(7,en.TG),hi(8,ii.i6),hi(9,Wt),hi(10,yt.Ui)],ue);function Fe(st){const Q=st.getValue(Ri);if(Q==="highlight")return ne.Highlight;if(Q==="filter")return ne.Filter;const he=st.getValue(gn);if(he==="simple"||he==="highlight")return ne.Highlight;if(he==="filter")return ne.Filter}function Ze(st){const Q=st.getValue(An);if(Q==="fuzzy")return ce.Fuzzy;if(Q==="contiguous")return ce.Contiguous}function it(st,Q){var he;const Be=st.get(yt.Ui),nt=st.get(an.u),pt=st.get(ii.i6),Tt=st.get(en.TG),Vt=()=>{const on=pt.getContextKeyValue(Et);if(on==="automatic")return I.AA.Automatic;if(on==="trigger"||pt.getContextKeyValue(It)===!1)return I.AA.Trigger;const ln=Be.getValue(tn);if(ln==="automatic")return I.AA.Automatic;if(ln==="trigger")return I.AA.Trigger},oi=Q.horizontalScrolling!==void 0?Q.horizontalScrolling:!!Be.getValue(Ti),[Ai,zi]=Tt.invokeFunction(gt,Q),cn=Q.paddingBottom,dn=Q.renderIndentGuides!==void 0?Q.renderIndentGuides:Be.getValue(Tn);return{getTypeNavigationMode:Vt,disposable:zi,options:Ln(Xi({keyboardSupport:!1},Ai),{indent:typeof Be.getValue(Bn)=="number"?Be.getValue(Bn):void 0,renderIndentGuides:dn,smoothScrolling:!!Be.getValue(es),defaultFindMode:Fe(Be),defaultFindMatchType:Ze(Be),horizontalScrolling:oi,scrollByPage:!!Be.getValue(wn),paddingBottom:cn,hideTwistiesOfChildlessElements:Q.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(he=Q.expandOnlyOnTwistieClick)!==null&&he!==void 0?he:Be.getValue(ss)==="doubleClick",contextViewProvider:nt,findWidgetStyles:Ht.uX,enableStickyScroll:!!Be.getValue(os),stickyScrollMaxItemCount:Number(Be.getValue(pi))})}}let dt=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(Q,he,Be,nt,pt,Tt,Vt){var oi;this.tree=Q,this.disposables=[],this.contextKeyService=Gt(pt,Q),this.disposables.push(zt(this.contextKeyService,Q)),this.listSupportsMultiSelect=we.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(he.multipleSelectionSupport!==!1),ut.bindTo(this.contextKeyService).set(!!he.selectionNavigation),this.listSupportFindWidget=$t.bindTo(this.contextKeyService),this.listSupportFindWidget.set((oi=he.findWidgetEnabled)!==null&&oi!==void 0?oi:!0),this.hasSelectionOrFocus=ke.bindTo(this.contextKeyService),this.hasDoubleSelection=He.bindTo(this.contextKeyService),this.hasMultiSelection=Ye.bindTo(this.contextKeyService),this.treeElementCanCollapse=gi.bindTo(this.contextKeyService),this.treeElementHasParent=ci.bindTo(this.contextKeyService),this.treeElementCanExpand=ai.bindTo(this.contextKeyService),this.treeElementHasChild=ct.bindTo(this.contextKeyService),this.treeFindOpen=Nt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=$e(Vt),this.updateStyleOverrides(nt);const zi=()=>{const dn=Q.getFocus()[0];if(!dn)return;const on=Q.getNode(dn);this.treeElementCanCollapse.set(on.collapsible&&!on.collapsed),this.treeElementHasParent.set(!!Q.getParentElement(dn)),this.treeElementCanExpand.set(on.collapsible&&on.collapsed),this.treeElementHasChild.set(!!Q.getFirstElementChild(dn))},cn=new Set;cn.add(Et),cn.add(It),this.disposables.push(this.contextKeyService,Tt.register(Q),Q.onDidChangeSelection(()=>{const dn=Q.getSelection(),on=Q.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(dn.length>0||on.length>0),this.hasMultiSelection.set(dn.length>1),this.hasDoubleSelection.set(dn.length===2)})}),Q.onDidChangeFocus(()=>{const dn=Q.getSelection(),on=Q.getFocus();this.hasSelectionOrFocus.set(dn.length>0||on.length>0),zi()}),Q.onDidChangeCollapseState(zi),Q.onDidChangeModel(zi),Q.onDidChangeFindOpenState(dn=>this.treeFindOpen.set(dn)),Vt.onDidChangeConfiguration(dn=>{let on={};if(dn.affectsConfiguration(mi)&&(this._useAltAsMultipleSelectionModifier=$e(Vt)),dn.affectsConfiguration(Bn)){const Ki=Vt.getValue(Bn);on=Ln(Xi({},on),{indent:Ki})}if(dn.affectsConfiguration(Tn)&&he.renderIndentGuides===void 0){const Ki=Vt.getValue(Tn);on=Ln(Xi({},on),{renderIndentGuides:Ki})}if(dn.affectsConfiguration(es)){const Ki=!!Vt.getValue(es);on=Ln(Xi({},on),{smoothScrolling:Ki})}if(dn.affectsConfiguration(Ri)||dn.affectsConfiguration(gn)){const Ki=Fe(Vt);on=Ln(Xi({},on),{defaultFindMode:Ki})}if(dn.affectsConfiguration(tn)||dn.affectsConfiguration(gn)){const Ki=Be();on=Ln(Xi({},on),{typeNavigationMode:Ki})}if(dn.affectsConfiguration(An)){const Ki=Ze(Vt);on=Ln(Xi({},on),{defaultFindMatchType:Ki})}if(dn.affectsConfiguration(Ti)&&he.horizontalScrolling===void 0){const Ki=!!Vt.getValue(Ti);on=Ln(Xi({},on),{horizontalScrolling:Ki})}if(dn.affectsConfiguration(wn)){const Ki=!!Vt.getValue(wn);on=Ln(Xi({},on),{scrollByPage:Ki})}if(dn.affectsConfiguration(ss)&&he.expandOnlyOnTwistieClick===void 0&&(on=Ln(Xi({},on),{expandOnlyOnTwistieClick:Vt.getValue(ss)==="doubleClick"})),dn.affectsConfiguration(os)){const Ki=Vt.getValue(os);on=Ln(Xi({},on),{enableStickyScroll:Ki})}if(dn.affectsConfiguration(pi)){const Ki=Math.max(1,Vt.getValue(pi));on=Ln(Xi({},on),{stickyScrollMaxItemCount:Ki})}if(dn.affectsConfiguration(Un)){const Ki=Vt.getValue(Un);on=Ln(Xi({},on),{mouseWheelScrollSensitivity:Ki})}if(dn.affectsConfiguration(yn)){const Ki=Vt.getValue(yn);on=Ln(Xi({},on),{fastScrollSensitivity:Ki})}Object.keys(on).length>0&&Q.updateOptions(on)}),this.contextKeyService.onDidChangeContext(dn=>{dn.affectsSome(cn)&&Q.updateOptions({typeNavigationMode:Be()})})),this.navigator=new Qi(Q,Xi({configurationService:Vt},he)),this.disposables.push(this.navigator)}updateOptions(Q){Q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport)}updateStyleOverrides(Q){this.tree.style(Q?(0,Ht.TU)(Q):Ht.O2)}dispose(){this.disposables=(0,c.B9)(this.disposables)}};dt=Zt([hi(4,ii.i6),hi(5,Wt),hi(6,yt.Ui)],dt),Ii.B.as(si.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,X.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[mi]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,X.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,X.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,X.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[ui]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,X.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ti]:{type:"boolean",default:!1,description:(0,X.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[wn]:{type:"boolean",default:!1,description:(0,X.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Bn]:{type:"number",default:8,minimum:4,maximum:40,description:(0,X.NC)("tree indent setting","Controls tree indentation in pixels.")},[Tn]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,X.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[es]:{type:"boolean",default:!1,description:(0,X.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Un]:{type:"number",default:1,markdownDescription:(0,X.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[yn]:{type:"number",default:5,markdownDescription:(0,X.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Ri]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,X.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,X.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,X.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[gn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,X.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,X.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,X.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,X.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,X.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[An]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,X.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,X.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,X.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[ss]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,X.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[os]:{type:"boolean",default:typeof _i.quality=="string"&&_i.quality!=="stable",description:(0,X.NC)("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[pi]:{type:"number",minimum:1,default:7,markdownDescription:(0,X.NC)("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[tn]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,X.NC)("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})},43557:function(Pt,Ke,e){"use strict";e.d(Ke,{VZ:function(){return c},in:function(){return _},kw:function(){return D},qA:function(){return p}});var b=e(4669),z=e(5976),r=e(32064),E=e(72065);const c=(0,E.yh)("logService");var _;(function(u){u[u.Off=0]="Off",u[u.Trace=1]="Trace",u[u.Debug=2]="Debug",u[u.Info=3]="Info",u[u.Warning=4]="Warning",u[u.Error=5]="Error"})(_||(_={}));const I=_.Info;class M extends z.JT{constructor(){super(...arguments),this.level=I,this._onDidChangeLogLevel=this._register(new b.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==_.Off&&this.level<=i}}class D extends M{constructor(i=I,n=!0){super(),this.useColors=n,this.setLevel(i)}trace(i,...n){this.checkLogLevel(_.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...n):console.log(i,...n))}debug(i,...n){this.checkLogLevel(_.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...n):console.log(i,...n))}info(i,...n){this.checkLogLevel(_.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...n):console.log(i,...n))}warn(i,...n){this.checkLogLevel(_.Warning)&&(this.useColors?console.log("%c WARN","color: #993",i,...n):console.log(i,...n))}error(i,...n){this.checkLogLevel(_.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...n):console.error(i,...n))}dispose(){}}class p extends M{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const n of this.loggers)n.setLevel(i);super.setLevel(i)}trace(i,...n){for(const f of this.loggers)f.trace(i,...n)}debug(i,...n){for(const f of this.loggers)f.debug(i,...n)}info(i,...n){for(const f of this.loggers)f.info(i,...n)}warn(i,...n){for(const f of this.loggers)f.warn(i,...n)}error(i,...n){for(const f of this.loggers)f.error(i,...n)}dispose(){for(const i of this.loggers)i.dispose()}}function o(u){switch(u){case _.Trace:return"trace";case _.Debug:return"debug";case _.Info:return"info";case _.Warning:return"warn";case _.Error:return"error";case _.Off:return"off"}}const d=new r.uy("logLevel",o(_.Info))},98674:function(Pt,Ke,e){"use strict";e.d(Ke,{H0:function(){return c},ZL:function(){return E},lT:function(){return _}});var b=e(14603),z=e(63580),r=e(72065),E;(function(I){I[I.Hint=1]="Hint",I[I.Info=2]="Info",I[I.Warning=4]="Warning",I[I.Error=8]="Error"})(E||(E={})),function(I){function M(u,i){return i-u}I.compare=M;const D=Object.create(null);D[I.Error]=(0,z.NC)("sev.error","Error"),D[I.Warning]=(0,z.NC)("sev.warning","Warning"),D[I.Info]=(0,z.NC)("sev.info","Info");function p(u){return D[u]||""}I.toString=p;function o(u){switch(u){case b.Z.Error:return I.Error;case b.Z.Warning:return I.Warning;case b.Z.Info:return I.Info;case b.Z.Ignore:return I.Hint}}I.fromSeverity=o;function d(u){switch(u){case I.Error:return b.Z.Error;case I.Warning:return b.Z.Warning;case I.Info:return b.Z.Info;case I.Hint:return b.Z.Ignore}}I.toSeverity=d}(E||(E={}));var c;(function(I){const M="";function D(o){return p(o,!0)}I.makeKey=D;function p(o,d){const u=[M];return o.source?u.push(o.source.replace("\xA6","\\\xA6")):u.push(M),o.code?typeof o.code=="string"?u.push(o.code.replace("\xA6","\\\xA6")):u.push(o.code.value.replace("\xA6","\\\xA6")):u.push(M),o.severity!==void 0&&o.severity!==null?u.push(E.toString(o.severity)):u.push(M),o.message&&d?u.push(o.message.replace("\xA6","\\\xA6")):u.push(M),o.startLineNumber!==void 0&&o.startLineNumber!==null?u.push(o.startLineNumber.toString()):u.push(M),o.startColumn!==void 0&&o.startColumn!==null?u.push(o.startColumn.toString()):u.push(M),o.endLineNumber!==void 0&&o.endLineNumber!==null?u.push(o.endLineNumber.toString()):u.push(M),o.endColumn!==void 0&&o.endColumn!==null?u.push(o.endColumn.toString()):u.push(M),u.push(M),u.join("\xA6")}I.makeKeyOptionalMessage=p})(c||(c={}));const _=(0,r.yh)("markerService")},48894:function(Pt,Ke,e){"use strict";e.d(Ke,{EO:function(){return c},lT:function(){return E},zb:function(){return r}});var b=e(14603),z=e(72065),r=b.Z;const E=(0,z.yh)("notificationService");class c{}},50988:function(Pt,Ke,e){"use strict";e.d(Ke,{v:function(){return z},x:function(){return r}});var b=e(72065);const z=(0,b.yh)("openerService");function r(E){let c;const _=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(E.fragment);return _&&(c={startLineNumber:parseInt(_[1]),startColumn:_[2]?parseInt(_[2]):1,endLineNumber:_[4]?parseInt(_[4]):void 0,endColumn:_[4]?_[5]?parseInt(_[5]):1:void 0},E=E.with({fragment:""})),{selection:c,uri:E}}},90535:function(Pt,Ke,e){"use strict";e.d(Ke,{Ex:function(){return E},R9:function(){return z},ek:function(){return c}});var b=e(72065);const z=(0,b.yh)("progressService"),r=Object.freeze({total(){},worked(){},done(){}});class E{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}E.None=Object.freeze({report(){}});const c=(0,b.yh)("editorProgressService")},90725:function(Pt,Ke,e){"use strict";e.d(Ke,{IP:function(){return c},Ry:function(){return E}});var b=e(9488),z=e(5976),r=e(89872),E;(function(I){I[I.PRESERVE=0]="PRESERVE",I[I.LAST=1]="LAST"})(E||(E={}));const c={Quickaccess:"workbench.contributions.quickaccess"};class _{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(M){return M.prefix.length===0?this.defaultProvider=M:this.providers.push(M),this.providers.sort((D,p)=>p.prefix.length-D.prefix.length),(0,z.OF)(()=>{this.providers.splice(this.providers.indexOf(M),1),this.defaultProvider===M&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,b.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(M){return M&&this.providers.find(p=>M.startsWith(p.prefix))||void 0||this.defaultProvider}}r.B.add(c.Quickaccess,new _)},41157:function(Pt,Ke,e){"use strict";e.d(Ke,{Jq:function(){return r},X5:function(){return z},eJ:function(){return I},jG:function(){return E}});var b=e(72065);const z={ctrlCmd:!1,alt:!1};var r;(function(M){M[M.Blur=1]="Blur",M[M.Gesture=2]="Gesture",M[M.Other=3]="Other"})(r||(r={}));var E;(function(M){M[M.NONE=0]="NONE",M[M.FIRST=1]="FIRST",M[M.SECOND=2]="SECOND",M[M.LAST=3]="LAST"})(E||(E={}));class c{constructor(D){this.options=D}}const _=new c,I=(0,b.yh)("quickInputService")},89872:function(Pt,Ke,e){"use strict";e.d(Ke,{B:function(){return E}});var b=e(35146),z=e(98401);class r{constructor(){this.data=new Map}add(_,I){b.ok(z.HD(_)),b.ok(z.Kn(I)),b.ok(!this.data.has(_),"There is already an extension with this id"),this.data.set(_,I)}as(_){return this.data.get(_)||null}}const E=new r},87060:function(Pt,Ke,e){"use strict";e.d(Ke,{Uy:function(){return d},vm:function(){return f},fk:function(){return u}});var b=e(4669),z=e(5976),r=e(98401),E=e(15393),c=e(23897),_;(function(v){v[v.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",v[v.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(_||(_={}));var I;(function(v){v[v.None=0]="None",v[v.Initialized=1]="Initialized",v[v.Closed=2]="Closed"})(I||(I={}));class M extends z.JT{constructor(a,S=Object.create(null)){super(),this.database=a,this.options=S,this._onDidChangeStorage=this._register(new b.K3),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=I.None,this.cache=new Map,this.flushDelayer=this._register(new E.rH(M.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(a=>this.onDidChangeItemsExternal(a)))}onDidChangeItemsExternal(a){var S,g;this._onDidChangeStorage.pause();try{(S=a.changed)===null||S===void 0||S.forEach((y,C)=>this.acceptExternal(C,y)),(g=a.deleted)===null||g===void 0||g.forEach(y=>this.acceptExternal(y,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(a,S){if(this.state===I.Closed)return;let g=!1;(0,r.Jp)(S)?g=this.cache.delete(a):this.cache.get(a)!==S&&(this.cache.set(a,S),g=!0),g&&this._onDidChangeStorage.fire({key:a,external:!0})}get(a,S){const g=this.cache.get(a);return(0,r.Jp)(g)?S:g}getBoolean(a,S){const g=this.get(a);return(0,r.Jp)(g)?S:g==="true"}getNumber(a,S){const g=this.get(a);return(0,r.Jp)(g)?S:parseInt(g,10)}set(a,S,g=!1){return qt(this,null,function*(){if(this.state===I.Closed)return;if((0,r.Jp)(S))return this.delete(a,g);const y=(0,r.Kn)(S)||Array.isArray(S)?(0,c.Pz)(S):String(S);if(this.cache.get(a)!==y)return this.cache.set(a,y),this.pendingInserts.set(a,y),this.pendingDeletes.delete(a),this._onDidChangeStorage.fire({key:a,external:g}),this.doFlush()})}delete(a,S=!1){return qt(this,null,function*(){if(!(this.state===I.Closed||!this.cache.delete(a)))return this.pendingDeletes.has(a)||this.pendingDeletes.add(a),this.pendingInserts.delete(a),this._onDidChangeStorage.fire({key:a,external:S}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return qt(this,null,function*(){if(!this.hasPending)return;const a={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(a).finally(()=>{var S;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(S=this.whenFlushedCallbacks.pop())===null||S===void 0||S()})})}doFlush(a){return qt(this,null,function*(){return this.options.hint===_.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),a)})}}M.DEFAULT_FLUSH_DELAY=100;class D{constructor(){this.onDidChangeItemsExternal=b.ju.None,this.items=new Map}updateItems(a){return qt(this,null,function*(){var S,g;(S=a.insert)===null||S===void 0||S.forEach((y,C)=>this.items.set(C,y)),(g=a.delete)===null||g===void 0||g.forEach(y=>this.items.delete(y))})}}var p=e(72065);const o="__$__targetStorageMarker",d=(0,p.yh)("storageService");var u;(function(v){v[v.NONE=0]="NONE",v[v.SHUTDOWN=1]="SHUTDOWN"})(u||(u={}));function i(v){const a=v.get(o);if(a)try{return JSON.parse(a)}catch(S){}return Object.create(null)}class n extends z.JT{constructor(a={flushInterval:n.DEFAULT_FLUSH_INTERVAL}){super(),this.options=a,this._onDidChangeValue=this._register(new b.K3),this._onDidChangeTarget=this._register(new b.K3),this._onWillSaveState=this._register(new b.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(a,S,g){return b.ju.filter(this._onDidChangeValue.event,y=>y.scope===a&&(S===void 0||y.key===S),g)}emitDidChangeValue(a,S){const{key:g,external:y}=S;if(g===o){switch(a){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:a})}else this._onDidChangeValue.fire({scope:a,key:g,target:this.getKeyTargets(a)[g],external:y})}get(a,S,g){var y;return(y=this.getStorage(S))===null||y===void 0?void 0:y.get(a,g)}getBoolean(a,S,g){var y;return(y=this.getStorage(S))===null||y===void 0?void 0:y.getBoolean(a,g)}getNumber(a,S,g){var y;return(y=this.getStorage(S))===null||y===void 0?void 0:y.getNumber(a,g)}store(a,S,g,y,C=!1){if((0,r.Jp)(S)){this.remove(a,g,C);return}this.withPausedEmitters(()=>{var L;this.updateKeyTarget(a,g,y),(L=this.getStorage(g))===null||L===void 0||L.set(a,S,C)})}remove(a,S,g=!1){this.withPausedEmitters(()=>{var y;this.updateKeyTarget(a,S,void 0),(y=this.getStorage(S))===null||y===void 0||y.delete(a,g)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,S,g,y=!1){var C,L;const O=this.getKeyTargets(S);typeof g=="number"?O[a]!==g&&(O[a]=g,(C=this.getStorage(S))===null||C===void 0||C.set(o,JSON.stringify(O),y)):typeof O[a]=="number"&&(delete O[a],(L=this.getStorage(S))===null||L===void 0||L.set(o,JSON.stringify(O),y))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(a){switch(a){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(a){const S=this.getStorage(a);return S?i(S):Object.create(null)}}n.DEFAULT_FLUSH_INTERVAL=60*1e3;class f extends n{constructor(){super(),this.applicationStorage=this._register(new M(new D,{hint:_.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new M(new D,{hint:_.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new M(new D,{hint:_.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.profileStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a))),this._register(this.applicationStorage.onDidChangeStorage(a=>this.emitDidChangeValue(-1,a)))}getStorage(a){switch(a){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},10829:function(Pt,Ke,e){"use strict";e.d(Ke,{b:function(){return z}});var b=e(72065);const z=(0,b.yh)("telemetryService")},86253:function(Pt,Ke,e){"use strict";e.d(Ke,{BM:function(){return f},Hc:function(){return p},O2:function(){return i},TU:function(){return n},ZR:function(){return v},b5:function(){return _},eO:function(){return E},ku:function(){return d},pl:function(){return I},uX:function(){return o},wG:function(){return c}});var b=e(73910),z=e(41264);function r(a,S){const g=Xi({},S);for(const y in a){const C=a[y];g[y]=C!==void 0?(0,b.n_1)(C):void 0}return g}const E={keybindingLabelBackground:(0,b.n_1)(b.oQ$),keybindingLabelForeground:(0,b.n_1)(b.lWp),keybindingLabelBorder:(0,b.n_1)(b.AWI),keybindingLabelBottomBorder:(0,b.n_1)(b.K19),keybindingLabelShadow:(0,b.n_1)(b.rh)},c={buttonForeground:(0,b.n_1)(b.j5u),buttonSeparator:(0,b.n_1)(b.iFQ),buttonBackground:(0,b.n_1)(b.b7$),buttonHoverBackground:(0,b.n_1)(b.GO4),buttonSecondaryForeground:(0,b.n_1)(b.qBU),buttonSecondaryBackground:(0,b.n_1)(b.ESD),buttonSecondaryHoverBackground:(0,b.n_1)(b.xEn),buttonBorder:(0,b.n_1)(b.GYc)},_={progressBarBackground:(0,b.n_1)(b.zRJ)},I={inputActiveOptionBorder:(0,b.n_1)(b.PRb),inputActiveOptionForeground:(0,b.n_1)(b.Pvw),inputActiveOptionBackground:(0,b.n_1)(b.XEs)},M={checkboxBackground:(0,b.n_1)(b.SUp),checkboxBorder:(0,b.n_1)(b.nd),checkboxForeground:(0,b.n_1)(b.BQ0)},D={dialogBackground:(0,b.n_1)(b.D0T),dialogForeground:(0,b.n_1)(b.Hfx),dialogShadow:(0,b.n_1)(b.rh),dialogBorder:(0,b.n_1)(b.lRK),errorIconForeground:(0,b.n_1)(b.JpG),warningIconForeground:(0,b.n_1)(b.BOY),infoIconForeground:(0,b.n_1)(b.OLZ),textLinkForeground:(0,b.n_1)(b.url)},p={inputBackground:(0,b.n_1)(b.sEe),inputForeground:(0,b.n_1)(b.zJb),inputBorder:(0,b.n_1)(b.dt_),inputValidationInfoBorder:(0,b.n_1)(b.EPQ),inputValidationInfoBackground:(0,b.n_1)(b._lC),inputValidationInfoForeground:(0,b.n_1)(b.YI3),inputValidationWarningBorder:(0,b.n_1)(b.C3g),inputValidationWarningBackground:(0,b.n_1)(b.RV_),inputValidationWarningForeground:(0,b.n_1)(b.SUG),inputValidationErrorBorder:(0,b.n_1)(b.OZR),inputValidationErrorBackground:(0,b.n_1)(b.paE),inputValidationErrorForeground:(0,b.n_1)(b._t9)},o={listFilterWidgetBackground:(0,b.n_1)(b.vGG),listFilterWidgetOutline:(0,b.n_1)(b.oSI),listFilterWidgetNoMatchesOutline:(0,b.n_1)(b.Saq),listFilterWidgetShadow:(0,b.n_1)(b.y65),inputBoxStyles:p,toggleStyles:I},d={badgeBackground:(0,b.n_1)(b.g8u),badgeForeground:(0,b.n_1)(b.qeD),badgeBorder:(0,b.n_1)(b.lRK)},u={breadcrumbsBackground:(0,b.n_1)(b.ixd),breadcrumbsForeground:(0,b.n_1)(b.l80),breadcrumbsHoverForeground:(0,b.n_1)(b.H6q),breadcrumbsFocusForeground:(0,b.n_1)(b.H6q),breadcrumbsFocusAndSelectionForeground:(0,b.n_1)(b.fSI)},i={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,b.n_1)(b._bK),listFocusForeground:(0,b.n_1)(b._2n),listFocusOutline:(0,b.n_1)(b.Oop),listActiveSelectionBackground:(0,b.n_1)(b.dCr),listActiveSelectionForeground:(0,b.n_1)(b.M6C),listActiveSelectionIconForeground:(0,b.n_1)(b.Tnx),listFocusAndSelectionOutline:(0,b.n_1)(b.Bqu),listFocusAndSelectionBackground:(0,b.n_1)(b.dCr),listFocusAndSelectionForeground:(0,b.n_1)(b.M6C),listInactiveSelectionBackground:(0,b.n_1)(b.rg2),listInactiveSelectionIconForeground:(0,b.n_1)(b.kvU),listInactiveSelectionForeground:(0,b.n_1)(b.ytC),listInactiveFocusBackground:(0,b.n_1)(b.s$),listInactiveFocusOutline:(0,b.n_1)(b.F3d),listHoverBackground:(0,b.n_1)(b.mV1),listHoverForeground:(0,b.n_1)(b.$d5),listDropBackground:(0,b.n_1)(b.AS1),listSelectionOutline:(0,b.n_1)(b.xL1),listHoverOutline:(0,b.n_1)(b.xL1),treeIndentGuidesStroke:(0,b.n_1)(b.UnT),treeInactiveIndentGuidesStroke:(0,b.n_1)(b.KjV),tableColumnsBorder:(0,b.n_1)(b.uxu),tableOddRowsBackgroundColor:(0,b.n_1)(b.EQn)};function n(a){return r(a,i)}const f={selectBackground:(0,b.n_1)(b.XV0),selectListBackground:(0,b.n_1)(b.Fgs),selectForeground:(0,b.n_1)(b._g0),decoratorRightForeground:(0,b.n_1)(b.kJk),selectBorder:(0,b.n_1)(b.a9O),focusBorder:(0,b.n_1)(b.R80),listFocusBackground:(0,b.n_1)(b.Vqd),listInactiveSelectionIconForeground:(0,b.n_1)(b.cbQ),listFocusForeground:(0,b.n_1)(b.NPS),listFocusOutline:(0,b.BtC)(b.xL1,z.Il.transparent.toString()),listHoverBackground:(0,b.n_1)(b.mV1),listHoverForeground:(0,b.n_1)(b.$d5),listHoverOutline:(0,b.n_1)(b.xL1),selectListBorder:(0,b.n_1)(b.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},v={shadowColor:(0,b.n_1)(b.rh),borderColor:(0,b.n_1)(b.Cdg),foregroundColor:(0,b.n_1)(b.DEr),backgroundColor:(0,b.n_1)(b.Hz8),selectionForegroundColor:(0,b.n_1)(b.jbW),selectionBackgroundColor:(0,b.n_1)(b.$DX),selectionBorderColor:(0,b.n_1)(b.E3h),separatorColor:(0,b.n_1)(b.ZGJ),scrollbarShadow:(0,b.n_1)(b._wn),scrollbarSliderBackground:(0,b.n_1)(b.etL),scrollbarSliderHoverBackground:(0,b.n_1)(b.ABB),scrollbarSliderActiveBackground:(0,b.n_1)(b.ynu)}},73910:function(Pt,Ke,e){"use strict";e.d(Ke,{$DX:function(){return Tt},$d5:function(){return yn},A42:function(){return R},ABB:function(){return Ae},AS1:function(){return ss},AWI:function(){return fs},BOY:function(){return xo},BQ0:function(){return Fe},Bqu:function(){return Ti},BtC:function(){return p},C3g:function(){return Le},CNo:function(){return Fn},Cdg:function(){return he},CzK:function(){return re},D0T:function(){return xi},D1_:function(){return fn},DEr:function(){return Be},Dut:function(){return ft},E3h:function(){return Vt},EPQ:function(){return ie},EQn:function(){return bt},ES4:function(){return et},ESD:function(){return ye},EiJ:function(){return Ot},F3d:function(){return es},F9q:function(){return gi},Fgs:function(){return Ne},Fm_:function(){return Sr},GO4:function(){return Oe},GYc:function(){return Pe},Gj_:function(){return wr},Gvr:function(){return Wo},Gwp:function(){return os},H6q:function(){return xs},HCL:function(){return hi},Hfx:function(){return Yi},Hz8:function(){return nt},IPX:function(){return o},IYc:function(){return Bo},Ido:function(){return v},Itd:function(){return Zr},Ivo:function(){return Eo},JpG:function(){return Yo},K19:function(){return Nn},KjV:function(){return Hi},M6C:function(){return tn},MUv:function(){return vi},NOs:function(){return St},NPS:function(){return _t},Ng6:function(){return un},OLZ:function(){return ur},OZR:function(){return De},Oop:function(){return ui},P4M:function(){return be},P6G:function(){return i},P6Y:function(){return $t},PRb:function(){return G},PX0:function(){return pi},PpC:function(){return Ii},Pvw:function(){return K},QO2:function(){return M},R80:function(){return g},RV_:function(){return le},Rzx:function(){return wt},SPM:function(){return Gr},SUG:function(){return fe},SUY:function(){return Us},SUp:function(){return te},Saq:function(){return bi},T83:function(){return Ct},Tnx:function(){return gn},UnT:function(){return Qi},VVv:function(){return _i},Vqd:function(){return Q},XEs:function(){return W},XV0:function(){return ae},XZx:function(){return S},YI3:function(){return X},ZGJ:function(){return oi},ZnX:function(){return Vn},_2n:function(){return mi},_Yy:function(){return Mi},_bK:function(){return zt},_g0:function(){return We},_lC:function(){return J},_t9:function(){return Te},_wn:function(){return xe},a9O:function(){return ze},b6y:function(){return vt},b7$:function(){return ce},bKB:function(){return Zt},c63:function(){return Xt},cbQ:function(){return st},cvW:function(){return Ge},dCr:function(){return Ri},dRz:function(){return n},dt_:function(){return U},etL:function(){return je},fSI:function(){return rs},g8u:function(){return se},gkn:function(){return yt},hEj:function(){return cs},hX8:function(){return Ht},iFQ:function(){return ne},ixd:function(){return Jn},j5u:function(){return Se},jUe:function(){return Wi},jbW:function(){return pt},kJk:function(){return Rn},kVY:function(){return Ho},keg:function(){return Ce},kvU:function(){return Bn},kwl:function(){return jo},l80:function(){return pn},lRK:function(){return y},lUq:function(){return Ai},lWp:function(){return qn},lXJ:function(){return at},loF:function(){return Gn},mV1:function(){return Un},n_1:function(){return D},nd:function(){return Ze},nyM:function(){return ri},oQ$:function(){return ts},oSI:function(){return ni},opG:function(){return ns},ov3:function(){return lo},pW3:function(){return Ft},paE:function(){return pe},phM:function(){return Wt},pnM:function(){return $i},qBU:function(){return Me},qeD:function(){return ve},rg2:function(){return wn},rh:function(){return V},s$:function(){return Tn},sEe:function(){return A},tZ6:function(){return Dn},uoC:function(){return ti},url:function(){return T},uxu:function(){return Fi},vGG:function(){return li},xEn:function(){return _e},xL1:function(){return C},y65:function(){return Si},yJx:function(){return en},yb5:function(){return Ei},ynu:function(){return Qe},ypS:function(){return we},ytC:function(){return An},zJb:function(){return H},zKr:function(){return Pn},zRJ:function(){return rt}});var b=e(15393),z=e(41264),r=e(4669),E=e(35146),c=e(63580),_=e(81294),I=e(89872);function M(ds){return`--vscode-${ds.replace(/\./g,"-")}`}function D(ds){return`var(${M(ds)})`}function p(ds,ms){return`var(${M(ds)}, ${ms})`}const o={ColorContribution:"base.contributions.colors"};class d{constructor(){this._onDidChangeSchema=new r.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(ms,As,ks,Fs=!1,oo){const Ns={id:ms,description:ks,defaults:As,needsTransparency:Fs,deprecationMessage:oo};this.colorsById[ms]=Ns;const bo={type:"string",description:ks,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return oo&&(bo.deprecationMessage=oo),this.colorSchema.properties[ms]=bo,this.colorReferenceSchema.enum.push(ms),this.colorReferenceSchema.enumDescriptions.push(ks),this._onDidChangeSchema.fire(),ms}getColors(){return Object.keys(this.colorsById).map(ms=>this.colorsById[ms])}resolveDefaultColor(ms,As){const ks=this.colorsById[ms];if(ks&&ks.defaults){const Fs=ks.defaults[As.type];return mo(Fs,As)}}getColorSchema(){return this.colorSchema}toString(){const ms=(As,ks)=>{const Fs=As.indexOf(".")===-1?0:1,oo=ks.indexOf(".")===-1?0:1;return Fs!==oo?Fs-oo:As.localeCompare(ks)};return Object.keys(this.colorsById).sort(ms).map(As=>`- \`${As}\`: ${this.colorsById[As].description}`).join(`
`)}}const u=new d;I.B.add(o.ColorContribution,u);function i(ds,ms,As,ks,Fs){return u.registerColor(ds,ms,As,ks,Fs)}const n=i("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},c.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=i("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},c.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),v=i("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},c.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),a=i("descriptionForeground",{light:"#717171",dark:Vn(n,.7),hcDark:Vn(n,.7),hcLight:Vn(n,.7)},c.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),S=i("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},c.NC("iconForeground","The default color for icons in the workbench.")),g=i("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},c.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y=i("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},c.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),C=i("contrastActiveBorder",{light:null,dark:null,hcDark:g,hcLight:g},c.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),L=i("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},c.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),O=i("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:z.Il.black,hcLight:"#292929"},c.NC("textSeparatorForeground","Color for text separators.")),T=i("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},c.NC("textLinkForeground","Foreground color for links in text.")),F=i("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},c.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),B=i("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},c.NC("textPreformatForeground","Foreground color for preformatted text segments.")),$=i("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},c.NC("textPreformatBackground","Background color for preformatted text segments.")),Y=i("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},c.NC("textBlockQuoteBackground","Background color for block quotes in text.")),P=i("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:z.Il.white,hcLight:"#292929"},c.NC("textBlockQuoteBorder","Border color for block quotes in text.")),w=i("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:z.Il.black,hcLight:"#F2F2F2"},c.NC("textCodeBlockBackground","Background color for code blocks in text.")),V=i("widget.shadow",{dark:Vn(z.Il.black,.36),light:Vn(z.Il.black,.16),hcDark:null,hcLight:null},c.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),R=i("widget.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),A=i("input.background",{dark:"#3C3C3C",light:z.Il.white,hcDark:z.Il.black,hcLight:z.Il.white},c.NC("inputBoxBackground","Input box background.")),H=i("input.foreground",{dark:n,light:n,hcDark:n,hcLight:n},c.NC("inputBoxForeground","Input box foreground.")),U=i("input.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("inputBoxBorder","Input box border.")),G=i("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:y,hcLight:y},c.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),j=i("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},c.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),W=i("inputOption.activeBackground",{dark:Vn(g,.4),light:Vn(g,.2),hcDark:z.Il.transparent,hcLight:z.Il.transparent},c.NC("inputOption.activeBackground","Background hover color of options in input fields.")),K=i("inputOption.activeForeground",{dark:z.Il.white,light:z.Il.black,hcDark:n,hcLight:n},c.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),m=i("input.placeholderForeground",{light:Vn(n,.5),dark:Vn(n,.5),hcDark:Vn(n,.7),hcLight:Vn(n,.7)},c.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),J=i("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:z.Il.black,hcLight:z.Il.white},c.NC("inputValidationInfoBackground","Input validation background color for information severity.")),X=i("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:n},c.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),ie=i("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y,hcLight:y},c.NC("inputValidationInfoBorder","Input validation border color for information severity.")),le=i("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:z.Il.black,hcLight:z.Il.white},c.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),fe=i("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:n},c.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Le=i("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y,hcLight:y},c.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),pe=i("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:z.Il.black,hcLight:z.Il.white},c.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Te=i("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:n},c.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),De=i("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},c.NC("inputValidationErrorBorder","Input validation border color for error severity.")),ae=i("dropdown.background",{dark:"#3C3C3C",light:z.Il.white,hcDark:z.Il.black,hcLight:z.Il.white},c.NC("dropdownBackground","Dropdown background.")),Ne=i("dropdown.listBackground",{dark:null,light:null,hcDark:z.Il.black,hcLight:z.Il.white},c.NC("dropdownListBackground","Dropdown list background.")),We=i("dropdown.foreground",{dark:"#F0F0F0",light:n,hcDark:z.Il.white,hcLight:n},c.NC("dropdownForeground","Dropdown foreground.")),ze=i("dropdown.border",{dark:ae,light:"#CECECE",hcDark:y,hcLight:y},c.NC("dropdownBorder","Dropdown border.")),Se=i("button.foreground",{dark:z.Il.white,light:z.Il.white,hcDark:z.Il.white,hcLight:z.Il.white},c.NC("buttonForeground","Button foreground color.")),ne=i("button.separator",{dark:Vn(Se,.4),light:Vn(Se,.4),hcDark:Vn(Se,.4),hcLight:Vn(Se,.4)},c.NC("buttonSeparator","Button separator color.")),ce=i("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},c.NC("buttonBackground","Button background color.")),Oe=i("button.hoverBackground",{dark:go(ce,.2),light:Co(ce,.2),hcDark:ce,hcLight:ce},c.NC("buttonHoverBackground","Button background color when hovering.")),Pe=i("button.border",{dark:y,light:y,hcDark:y,hcLight:y},c.NC("buttonBorder","Button border color.")),Me=i("button.secondaryForeground",{dark:z.Il.white,light:z.Il.white,hcDark:z.Il.white,hcLight:n},c.NC("buttonSecondaryForeground","Secondary button foreground color.")),ye=i("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:z.Il.white},c.NC("buttonSecondaryBackground","Secondary button background color.")),_e=i("button.secondaryHoverBackground",{dark:go(ye,.2),light:Co(ye,.2),hcDark:null,hcLight:null},c.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),se=i("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:z.Il.black,hcLight:"#0F4A85"},c.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ve=i("badge.foreground",{dark:z.Il.white,light:"#333",hcDark:z.Il.white,hcLight:z.Il.white},c.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),xe=i("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},c.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),je=i("scrollbarSlider.background",{dark:z.Il.fromHex("#797979").transparent(.4),light:z.Il.fromHex("#646464").transparent(.4),hcDark:Vn(y,.6),hcLight:Vn(y,.4)},c.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Ae=i("scrollbarSlider.hoverBackground",{dark:z.Il.fromHex("#646464").transparent(.7),light:z.Il.fromHex("#646464").transparent(.7),hcDark:Vn(y,.8),hcLight:Vn(y,.8)},c.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Qe=i("scrollbarSlider.activeBackground",{dark:z.Il.fromHex("#BFBFBF").transparent(.4),light:z.Il.fromHex("#000000").transparent(.6),hcDark:y,hcLight:y},c.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),rt=i("progressBar.background",{dark:z.Il.fromHex("#0E70C0"),light:z.Il.fromHex("#0E70C0"),hcDark:y,hcLight:y},c.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Dt=i("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),at=i("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},c.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),vt=i("editorError.border",{dark:null,light:null,hcDark:z.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},c.NC("errorBorder","If set, color of double underlines for errors in the editor.")),Mt=i("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ti=i("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},c.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Ft=i("editorWarning.border",{dark:null,light:null,hcDark:z.Il.fromHex("#FFCC00").transparent(.8),hcLight:z.Il.fromHex("#FFCC00").transparent(.8)},c.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),ei=i("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Xt=i("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},c.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ct=i("editorInfo.border",{dark:null,light:null,hcDark:z.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},c.NC("infoBorder","If set, color of double underlines for infos in the editor.")),ft=i("editorHint.foreground",{dark:z.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},c.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Bt=i("editorHint.border",{dark:null,light:null,hcDark:z.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},c.NC("hintBorder","If set, color of double underlines for hints in the editor.")),kt=i("sash.hoverBorder",{dark:g,light:g,hcDark:g,hcLight:g},c.NC("sashActiveBorder","Border color of active sashes.")),Ge=i("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:z.Il.black,hcLight:z.Il.white},c.NC("editorBackground","Editor background color.")),St=i("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:z.Il.white,hcLight:n},c.NC("editorForeground","Editor default foreground color.")),Ci=i("editorStickyScroll.background",{light:Ge,dark:Ge,hcDark:Ge,hcLight:Ge},c.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),Oi=i("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:z.Il.fromHex("#0F4A85").transparent(.1)},c.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),xi=i("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:z.Il.white},c.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Yi=i("editorWidget.foreground",{dark:n,light:n,hcDark:n,hcLight:n},c.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),fn=i("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y,hcLight:y},c.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),un=i("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},c.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Pn=i("quickInput.background",{dark:xi,light:xi,hcDark:xi,hcLight:xi},c.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Dn=i("quickInput.foreground",{dark:Yi,light:Yi,hcDark:Yi,hcLight:Yi},c.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Gn=i("quickInputTitle.background",{dark:new z.Il(new z.VS(255,255,255,.105)),light:new z.Il(new z.VS(0,0,0,.06)),hcDark:"#000000",hcLight:z.Il.white},c.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Rn=i("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:z.Il.white,hcLight:"#0F4A85"},c.NC("pickerGroupForeground","Quick picker color for grouping labels.")),ns=i("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:z.Il.white,hcLight:"#0F4A85"},c.NC("pickerGroupBorder","Quick picker color for grouping borders.")),ts=i("keybindingLabel.background",{dark:new z.Il(new z.VS(128,128,128,.17)),light:new z.Il(new z.VS(221,221,221,.4)),hcDark:z.Il.transparent,hcLight:z.Il.transparent},c.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),qn=i("keybindingLabel.foreground",{dark:z.Il.fromHex("#CCCCCC"),light:z.Il.fromHex("#555555"),hcDark:z.Il.white,hcLight:n},c.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),fs=i("keybindingLabel.border",{dark:new z.Il(new z.VS(51,51,51,.6)),light:new z.Il(new z.VS(204,204,204,.4)),hcDark:new z.Il(new z.VS(111,195,223)),hcLight:y},c.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Nn=i("keybindingLabel.bottomBorder",{dark:new z.Il(new z.VS(68,68,68,.6)),light:new z.Il(new z.VS(187,187,187,.4)),hcDark:new z.Il(new z.VS(111,195,223)),hcLight:n},c.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),cs=i("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},c.NC("editorSelectionBackground","Color of the editor selection.")),Ei=i("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:z.Il.white},c.NC("editorSelectionForeground","Color of the selected text for high contrast.")),et=i("editor.inactiveSelectionBackground",{light:Vn(cs,.5),dark:Vn(cs,.5),hcDark:Vn(cs,.7),hcLight:Vn(cs,.5)},c.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),wt=i("editor.selectionHighlightBackground",{light:ea(cs,Ge,.3,.6),dark:ea(cs,Ge,.3,.6),hcDark:null,hcLight:null},c.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Yt=i("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:C,hcLight:C},c.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),ri=i("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},c.NC("editorFindMatch","Color of the current search match.")),vi=i("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},c.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Wi=i("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},c.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),$i=i("editor.findMatchBorder",{light:null,dark:null,hcDark:C,hcLight:C},c.NC("editorFindMatchBorder","Border color of the current search match.")),Ot=i("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:C,hcLight:C},c.NC("findMatchHighlightBorder","Border color of the other search matches.")),yt=i("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Vn(C,.4),hcLight:Vn(C,.4)},c.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),si=i("searchEditor.findMatchBackground",{light:Vn(vi,.66),dark:Vn(vi,.66),hcDark:vi,hcLight:vi},c.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),ii=i("searchEditor.findMatchBorder",{light:Vn(Ot,.66),dark:Vn(Ot,.66),hcDark:Ot,hcLight:Ot},c.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Ui=i("search.resultsInfoForeground",{light:n,dark:Vn(n,.65),hcDark:n,hcLight:n},c.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),an=i("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},c.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),en=i("editorHoverWidget.background",{light:xi,dark:xi,hcDark:xi,hcLight:xi},c.NC("hoverBackground","Background color of the editor hover.")),In=i("editorHoverWidget.foreground",{light:Yi,dark:Yi,hcDark:Yi,hcLight:Yi},c.NC("hoverForeground","Foreground color of the editor hover.")),Fn=i("editorHoverWidget.border",{light:fn,dark:fn,hcDark:fn,hcLight:fn},c.NC("hoverBorder","Border color of the editor hover.")),On=i("editorHoverWidget.statusBarBackground",{dark:go(en,.2),light:Co(en,.05),hcDark:xi,hcLight:xi},c.NC("statusBarBackground","Background color of the editor hover status bar.")),Mi=i("editorLink.activeForeground",{dark:"#4E94CE",light:z.Il.blue,hcDark:z.Il.cyan,hcLight:"#292929"},c.NC("activeLinkForeground","Color of active links.")),_i=i("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:z.Il.white,hcLight:z.Il.black},c.NC("editorInlayHintForeground","Foreground color of inline hints")),Ii=i("editorInlayHint.background",{dark:Vn(se,.1),light:Vn(se,.1),hcDark:Vn(z.Il.white,.1),hcLight:Vn(se,.1)},c.NC("editorInlayHintBackground","Background color of inline hints")),Ht=i("editorInlayHint.typeForeground",{dark:_i,light:_i,hcDark:_i,hcLight:_i},c.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Zt=i("editorInlayHint.typeBackground",{dark:Ii,light:Ii,hcDark:Ii,hcLight:Ii},c.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),hi=i("editorInlayHint.parameterForeground",{dark:_i,light:_i,hcDark:_i,hcLight:_i},c.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Wt=i("editorInlayHint.parameterBackground",{dark:Ii,light:Ii,hcDark:Ii,hcLight:Ii},c.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),qe=i("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},c.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),ee=i("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},c.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),de=i("editorLightBulbAi.foreground",{dark:Co(S,.4),light:go(S,1.7),hcDark:S,hcLight:S},c.NC("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),re=new z.Il(new z.VS(155,185,85,.2)),Ce=new z.Il(new z.VS(255,0,0,.2)),we=i("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},c.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),be=i("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},c.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ke=i("diffEditor.insertedLineBackground",{dark:re,light:re,hcDark:null,hcLight:null},c.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),He=i("diffEditor.removedLineBackground",{dark:Ce,light:Ce,hcDark:null,hcLight:null},c.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ye=i("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),ut=i("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),$t=i("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),gi=i("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),ci=i("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},c.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ai=i("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},c.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),ct=i("diffEditor.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("diffEditorBorder","Border color between the two text editors.")),Nt=i("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},c.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Et=i("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},c.NC("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),It=i("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},c.NC("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),Gt=i("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},c.NC("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),zt=i("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),mi=i("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ui=i("list.focusOutline",{dark:g,light:g,hcDark:C,hcLight:C},c.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ti=i("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Ri=i("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:z.Il.fromHex("#0F4A85").transparent(.1)},c.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tn=i("list.activeSelectionForeground",{dark:z.Il.white,light:z.Il.white,hcDark:null,hcLight:null},c.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gn=i("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),wn=i("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:z.Il.fromHex("#0F4A85").transparent(.1)},c.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),An=i("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Bn=i("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Tn=i("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),es=i("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Un=i("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:z.Il.white.transparent(.1),hcLight:z.Il.fromHex("#0F4A85").transparent(.1)},c.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),yn=i("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ss=i("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},c.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),os=i("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:g,hcLight:g},c.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),pi=i("list.focusHighlightForeground",{dark:os,light:qr(Ri,os,"#BBE7FF"),hcDark:os,hcLight:os},c.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),$e=i("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},c.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),ht=i("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},c.NC("listErrorForeground","Foreground color of list items containing errors.")),gt=i("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},c.NC("listWarningForeground","Foreground color of list items containing warnings.")),li=i("listFilterWidget.background",{light:Co(xi,0),dark:go(xi,0),hcDark:xi,hcLight:xi},c.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),ni=i("listFilterWidget.outline",{dark:z.Il.transparent,light:z.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},c.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),bi=i("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},c.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Si=i("listFilterWidget.shadow",{dark:V,light:V,hcDark:V,hcLight:V},c.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),yi=i("list.filterMatchBackground",{dark:vi,light:vi,hcDark:null,hcLight:null},c.NC("listFilterMatchHighlight","Background color of the filtered match.")),Pi=i("list.filterMatchBorder",{dark:Ot,light:Ot,hcDark:y,hcLight:C},c.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Qi=i("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},c.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Hi=i("tree.inactiveIndentGuidesStroke",{dark:Vn(Qi,.4),light:Vn(Qi,.4),hcDark:Vn(Qi,.4),hcLight:Vn(Qi,.4)},c.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Fi=i("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},c.NC("tableColumnsBorder","Table border color between columns.")),bt=i("tree.tableOddRowsBackground",{dark:Vn(n,.04),light:Vn(n,.04),hcDark:null,hcLight:null},c.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),k=i("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},c.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),te=i("checkbox.background",{dark:ae,light:ae,hcDark:ae,hcLight:ae},c.NC("checkbox.background","Background color of checkbox widget.")),ue=i("checkbox.selectBackground",{dark:xi,light:xi,hcDark:xi,hcLight:xi},c.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Fe=i("checkbox.foreground",{dark:We,light:We,hcDark:We,hcLight:We},c.NC("checkbox.foreground","Foreground color of checkbox widget.")),Ze=i("checkbox.border",{dark:ze,light:ze,hcDark:ze,hcLight:ze},c.NC("checkbox.border","Border color of checkbox widget.")),it=i("checkbox.selectBorder",{dark:S,light:S,hcDark:S,hcLight:S},c.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),dt=i("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,c.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),_t=i("quickInputList.focusForeground",{dark:tn,light:tn,hcDark:tn,hcLight:tn},c.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),st=i("quickInputList.focusIconForeground",{dark:gn,light:gn,hcDark:gn,hcLight:gn},c.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Q=i("quickInputList.focusBackground",{dark:jo(dt,Ri),light:jo(dt,Ri),hcDark:null,hcLight:null},c.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),he=i("menu.border",{dark:null,light:null,hcDark:y,hcLight:y},c.NC("menuBorder","Border color of menus.")),Be=i("menu.foreground",{dark:We,light:We,hcDark:We,hcLight:We},c.NC("menuForeground","Foreground color of menu items.")),nt=i("menu.background",{dark:ae,light:ae,hcDark:ae,hcLight:ae},c.NC("menuBackground","Background color of menu items.")),pt=i("menu.selectionForeground",{dark:tn,light:tn,hcDark:tn,hcLight:tn},c.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Tt=i("menu.selectionBackground",{dark:Ri,light:Ri,hcDark:Ri,hcLight:Ri},c.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Vt=i("menu.selectionBorder",{dark:null,light:null,hcDark:C,hcLight:C},c.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),oi=i("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y,hcLight:y},c.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Ai=i("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},c.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),zi=i("toolbar.hoverOutline",{dark:null,light:null,hcDark:C,hcLight:C},c.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),cn=i("toolbar.activeBackground",{dark:go(Ai,.1),light:Co(Ai,.1),hcDark:null,hcLight:null},c.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),dn=i("editor.snippetTabstopHighlightBackground",{dark:new z.Il(new z.VS(124,124,124,.3)),light:new z.Il(new z.VS(10,50,100,.2)),hcDark:new z.Il(new z.VS(124,124,124,.3)),hcLight:new z.Il(new z.VS(10,50,100,.2))},c.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),on=i("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Ki=i("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),ln=i("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new z.Il(new z.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},c.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),pn=i("breadcrumb.foreground",{light:Vn(n,.8),dark:Vn(n,.8),hcDark:Vn(n,.8),hcLight:Vn(n,.8)},c.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Jn=i("breadcrumb.background",{light:Ge,dark:Ge,hcDark:Ge,hcLight:Ge},c.NC("breadcrumbsBackground","Background color of breadcrumb items.")),xs=i("breadcrumb.focusForeground",{light:Co(n,.2),dark:go(n,.1),hcDark:go(n,.1),hcLight:go(n,.1)},c.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),rs=i("breadcrumb.activeSelectionForeground",{light:Co(n,.2),dark:go(n,.1),hcDark:go(n,.1),hcLight:go(n,.1)},c.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Ys=i("breadcrumbPicker.background",{light:xi,dark:xi,hcDark:xi,hcLight:xi},c.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),jn=.5,Es=z.Il.fromHex("#40C8AE").transparent(jn),_s=z.Il.fromHex("#40A6FF").transparent(jn),Qn=z.Il.fromHex("#606060").transparent(.4),Ds=.4,zs=1,ao=i("merge.currentHeaderBackground",{dark:Es,light:Es,hcDark:null,hcLight:null},c.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),yr=i("merge.currentContentBackground",{dark:Vn(ao,Ds),light:Vn(ao,Ds),hcDark:Vn(ao,Ds),hcLight:Vn(ao,Ds)},c.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ws=i("merge.incomingHeaderBackground",{dark:_s,light:_s,hcDark:null,hcLight:null},c.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),$s=i("merge.incomingContentBackground",{dark:Vn(ws,Ds),light:Vn(ws,Ds),hcDark:Vn(ws,Ds),hcLight:Vn(ws,Ds)},c.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Qo=i("merge.commonHeaderBackground",{dark:Qn,light:Qn,hcDark:null,hcLight:null},c.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),La=i("merge.commonContentBackground",{dark:Vn(Qo,Ds),light:Vn(Qo,Ds),hcDark:Vn(Qo,Ds),hcLight:Vn(Qo,Ds)},c.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Fo=i("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},c.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),cr=i("editorOverviewRuler.currentContentForeground",{dark:Vn(ao,zs),light:Vn(ao,zs),hcDark:Fo,hcLight:Fo},c.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Lo=i("editorOverviewRuler.incomingContentForeground",{dark:Vn(ws,zs),light:Vn(ws,zs),hcDark:Fo,hcLight:Fo},c.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),dr=i("editorOverviewRuler.commonContentForeground",{dark:Vn(Qo,zs),light:Vn(Qo,zs),hcDark:Fo,hcLight:Fo},c.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Sr=i("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},c.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Gr=i("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},c.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Us=i("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},c.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Bo=i("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},c.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),lo=i("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},c.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Wo=i("minimap.infoHighlight",{dark:Xt,light:Xt,hcDark:Ct,hcLight:Ct},c.NC("minimapInfo","Minimap marker color for infos.")),Eo=i("minimap.warningHighlight",{dark:ti,light:ti,hcDark:Ft,hcLight:Ft},c.NC("overviewRuleWarning","Minimap marker color for warnings.")),wr=i("minimap.errorHighlight",{dark:new z.Il(new z.VS(255,18,18,.7)),light:new z.Il(new z.VS(255,18,18,.7)),hcDark:new z.Il(new z.VS(255,50,50,1)),hcLight:"#B5200D"},c.NC("minimapError","Minimap marker color for errors.")),Ho=i("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("minimapBackground","Minimap background color.")),Zr=i("minimap.foregroundOpacity",{dark:z.Il.fromHex("#000f"),light:z.Il.fromHex("#000f"),hcDark:z.Il.fromHex("#000f"),hcLight:z.Il.fromHex("#000f")},c.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Ea=i("minimapSlider.background",{light:Vn(je,.5),dark:Vn(je,.5),hcDark:Vn(je,.5),hcLight:Vn(je,.5)},c.NC("minimapSliderBackground","Minimap slider background color.")),Ps=i("minimapSlider.hoverBackground",{light:Vn(Ae,.5),dark:Vn(Ae,.5),hcDark:Vn(Ae,.5),hcLight:Vn(Ae,.5)},c.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Os=i("minimapSlider.activeBackground",{light:Vn(Qe,.5),dark:Vn(Qe,.5),hcDark:Vn(Qe,.5),hcLight:Vn(Qe,.5)},c.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Yo=i("problemsErrorIcon.foreground",{dark:at,light:at,hcDark:at,hcLight:at},c.NC("problemsErrorIconForeground","The color used for the problems error icon.")),xo=i("problemsWarningIcon.foreground",{dark:ti,light:ti,hcDark:ti,hcLight:ti},c.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),ur=i("problemsInfoIcon.foreground",{dark:Xt,light:Xt,hcDark:Xt,hcLight:Xt},c.NC("problemsInfoIconForeground","The color used for the problems info icon.")),Qr=i("charts.foreground",{dark:n,light:n,hcDark:n,hcLight:n},c.NC("chartsForeground","The foreground color used in charts.")),Yr=i("charts.lines",{dark:Vn(n,.5),light:Vn(n,.5),hcDark:Vn(n,.5),hcLight:Vn(n,.5)},c.NC("chartsLines","The color used for horizontal lines in charts.")),Or=i("charts.red",{dark:at,light:at,hcDark:at,hcLight:at},c.NC("chartsRed","The red color used in chart visualizations.")),Ar=i("charts.blue",{dark:Xt,light:Xt,hcDark:Xt,hcLight:Xt},c.NC("chartsBlue","The blue color used in chart visualizations.")),hr=i("charts.yellow",{dark:ti,light:ti,hcDark:ti,hcLight:ti},c.NC("chartsYellow","The yellow color used in chart visualizations.")),Xr=i("charts.orange",{dark:Us,light:Us,hcDark:Us,hcLight:Us},c.NC("chartsOrange","The orange color used in chart visualizations.")),Xo=i("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},c.NC("chartsGreen","The green color used in chart visualizations.")),kr=i("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},c.NC("chartsPurple","The purple color used in chart visualizations."));function Jr(ds,ms){var As,ks,Fs,oo;switch(ds.op){case 0:return(As=mo(ds.value,ms))===null||As===void 0?void 0:As.darken(ds.factor);case 1:return(ks=mo(ds.value,ms))===null||ks===void 0?void 0:ks.lighten(ds.factor);case 2:return(Fs=mo(ds.value,ms))===null||Fs===void 0?void 0:Fs.transparent(ds.factor);case 3:{const Ns=mo(ds.background,ms);return Ns?(oo=mo(ds.value,ms))===null||oo===void 0?void 0:oo.makeOpaque(Ns):mo(ds.value,ms)}case 4:for(const Ns of ds.values){const bo=mo(Ns,ms);if(bo)return bo}return;case 6:return mo(ms.defines(ds.if)?ds.then:ds.else,ms);case 5:{const Ns=mo(ds.value,ms);if(!Ns)return;const bo=mo(ds.background,ms);return bo?Ns.isDarkerThan(bo)?z.Il.getLighterColor(Ns,bo,ds.factor).transparent(ds.transparency):z.Il.getDarkerColor(Ns,bo,ds.factor).transparent(ds.transparency):Ns.transparent(ds.factor*ds.transparency)}default:throw(0,E.vE)(ds)}}function Co(ds,ms){return{op:0,value:ds,factor:ms}}function go(ds,ms){return{op:1,value:ds,factor:ms}}function Vn(ds,ms){return{op:2,value:ds,factor:ms}}function jo(...ds){return{op:4,values:ds}}function qr(ds,ms,As){return{op:6,if:ds,then:ms,else:As}}function ea(ds,ms,As,ks){return{op:5,value:ds,background:ms,factor:As,transparency:ks}}function mo(ds,ms){if(ds!==null){if(typeof ds=="string")return ds[0]==="#"?z.Il.fromHex(ds):ms.getColor(ds);if(ds instanceof z.Il)return ds;if(typeof ds=="object")return Jr(ds,ms)}}const Jo="vscode://schemas/workbench-colors",qo=I.B.as(_.I.JSONContribution);qo.registerSchema(Jo,u.getColorSchema());const Fr=new b.pY(()=>qo.notifySchemaChanged(Jo),200);u.onDidChangeSchema(()=>{Fr.isScheduled()||Fr.schedule()})},59554:function(Pt,Ke,e){"use strict";e.d(Ke,{Ks:function(){return f},q5:function(){return n},s_:function(){return y}});var b=e(15393),z=e(73046),r=e(25670),E=e(4669),c=e(98401),_=e(70666),I=e(63580),M=e(81294),D=e(89872);const p={IconContribution:"base.contributions.icons"};var o;(function(F){function B($,Y){let P=$.defaults;for(;r.k.isThemeIcon(P);){const w=i.getIcon(P.id);if(!w)return;P=w.defaults}return P}F.getDefinition=B})(o||(o={}));var d;(function(F){function B(Y){return{weight:Y.weight,style:Y.style,src:Y.src.map(P=>({format:P.format,location:P.location.toString()}))}}F.toJSONObject=B;function $(Y){const P=w=>(0,c.HD)(w)?w:void 0;if(Y&&Array.isArray(Y.src)&&Y.src.every(w=>(0,c.HD)(w.format)&&(0,c.HD)(w.location)))return{weight:P(Y.weight),style:P(Y.style),src:Y.src.map(w=>({format:w.format,location:_.o.parse(w.location)}))}}F.fromJSONObject=$})(d||(d={}));class u{constructor(){this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,I.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${r.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(B,$,Y,P){const w=this.iconsById[B];if(w){if(Y&&!w.description){w.description=Y,this.iconSchema.properties[B].markdownDescription=`${Y} $(${B})`;const A=this.iconReferenceSchema.enum.indexOf(B);A!==-1&&(this.iconReferenceSchema.enumDescriptions[A]=Y),this._onDidChange.fire()}return w}const V={id:B,description:Y,defaults:$,deprecationMessage:P};this.iconsById[B]=V;const R={$ref:"#/definitions/icons"};return P&&(R.deprecationMessage=P),Y&&(R.markdownDescription=`${Y}: $(${B})`),this.iconSchema.properties[B]=R,this.iconReferenceSchema.enum.push(B),this.iconReferenceSchema.enumDescriptions.push(Y||""),this._onDidChange.fire(),{id:B}}getIcons(){return Object.keys(this.iconsById).map(B=>this.iconsById[B])}getIcon(B){return this.iconsById[B]}getIconSchema(){return this.iconSchema}toString(){const B=(w,V)=>w.id.localeCompare(V.id),$=w=>{for(;r.k.isThemeIcon(w.defaults);)w=this.iconsById[w.defaults.id];return`codicon codicon-${w?w.id:""}`},Y=[];Y.push("| preview     | identifier                        | default codicon ID                | description"),Y.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const P=Object.keys(this.iconsById).map(w=>this.iconsById[w]);for(const w of P.filter(V=>!!V.description).sort(B))Y.push(`|<i class="${$(w)}"></i>|${w.id}|${r.k.isThemeIcon(w.defaults)?w.defaults.id:w.id}|${w.description||""}|`);Y.push("| preview     | identifier                        "),Y.push("| ----------- | --------------------------------- |");for(const w of P.filter(V=>!r.k.isThemeIcon(V.defaults)).sort(B))Y.push(`|<i class="${$(w)}"></i>|${w.id}|`);return Y.join(`
`)}}const i=new u;D.B.add(p.IconContribution,i);function n(F,B,$,Y){return i.registerIcon(F,B,$,Y)}function f(){return i}function v(){const F=(0,z.u)();for(const B in F){const $="\\"+F[B].toString(16);i.registerIcon(B,{fontCharacter:$})}}v();const a="vscode://schemas/icons",S=D.B.as(M.I.JSONContribution);S.registerSchema(a,i.getIconSchema());const g=new b.pY(()=>S.notifySchemaChanged(a),200);i.onDidChange(()=>{g.isScheduled()||g.schedule()});const y=n("widget-close",z.l.close,(0,I.NC)("widgetClose","Icon for the close action in widgets.")),C=n("goto-previous-location",z.l.arrowUp,(0,I.NC)("previousChangeIcon","Icon for goto previous editor location.")),L=n("goto-next-location",z.l.arrowDown,(0,I.NC)("nextChangeIcon","Icon for goto next editor location.")),O=r.k.modify(z.l.sync,"spin"),T=r.k.modify(z.l.loading,"spin")},92321:function(Pt,Ke,e){"use strict";e.d(Ke,{_T:function(){return r},c3:function(){return z},eL:function(){return b}});var b;(function(E){E.DARK="dark",E.LIGHT="light",E.HIGH_CONTRAST_DARK="hcDark",E.HIGH_CONTRAST_LIGHT="hcLight"})(b||(b={}));function z(E){return E===b.HIGH_CONTRAST_DARK||E===b.HIGH_CONTRAST_LIGHT}function r(E){return E===b.DARK||E===b.HIGH_CONTRAST_DARK}},97781:function(Pt,Ke,e){"use strict";e.d(Ke,{EN:function(){return I},IP:function(){return D},Ic:function(){return d},XE:function(){return _},bB:function(){return u},m6:function(){return M}});var b=e(4669),z=e(5976),r=e(72065),E=e(89872),c=e(92321);const _=(0,r.yh)("themeService");function I(i){return{id:i}}function M(i){switch(i){case c.eL.DARK:return"vs-dark";case c.eL.HIGH_CONTRAST_DARK:return"hc-black";case c.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const D={ThemingContribution:"base.contributions.theming"};class p{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new b.Q5}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,z.OF)(()=>{const f=this.themingParticipants.indexOf(n);this.themingParticipants.splice(f,1)})}getThemingParticipants(){return this.themingParticipants}}const o=new p;E.B.add(D.ThemingContribution,o);function d(i){return o.onColorThemeChange(i)}class u extends z.JT{constructor(n){super(),this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(f=>this.onThemeChange(f)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}},64862:function(Pt,Ke,e){"use strict";e.d(Ke,{Xt:function(){return E},YO:function(){return r},gJ:function(){return c},tJ:function(){return z}});var b=e(72065);const z=(0,b.yh)("undoRedoService");class r{constructor(I,M){this.resource=I,this.elements=M}}class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}E._ID=0,E.None=new E;class c{constructor(){this.id=c._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}c._ID=0,c.None=new c},40382:function(Pt,Ke,e){"use strict";e.d(Ke,{A6:function(){return n},c$:function(){return M},eb:function(){return I},ec:function(){return _},md:function(){return i},p$:function(){return v},uT:function(){return o},x:function(){return a}});var b=e(63580),z=e(82663),r=e(4767),E=e(70666),c=e(72065);const _=(0,c.yh)("contextService");function I(S){const g=S;return typeof(g==null?void 0:g.id)=="string"&&E.o.isUri(g.uri)}function M(S){const g=S;return typeof(g==null?void 0:g.id)=="string"&&!I(S)&&!d(S)}const D={id:"ext-dev"},p={id:"empty-window"};function o(S,g){if(typeof S=="string"||typeof S=="undefined")return typeof S=="string"?{id:(0,z.EZ)(S)}:g?D:p;const y=S;return y.configuration?{id:y.id,configPath:y.configuration}:y.folders.length===1?{id:y.id,uri:y.folders[0].uri}:{id:y.id}}function d(S){const g=S;return typeof(g==null?void 0:g.id)=="string"&&E.o.isUri(g.configPath)}class u{constructor(g,y,C,L,O){this._id=g,this._transient=C,this._configuration=L,this._ignorePathCasing=O,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=y}get folders(){return this._folders}set folders(g){this._folders=g,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(g){this._configuration=g}getFolder(g){return g&&this._foldersMap.findSubstr(g)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const g of this.folders)this._foldersMap.set(g.uri,g)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class i{constructor(g,y){this.raw=y,this.uri=g.uri,this.index=g.index,this.name=g.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const n="code-workspace",f=[{name:(0,b.NC)("codeWorkspace","Code Workspace"),extensions:[n]}],v="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function a(S){return S.id===v}},33425:function(Pt,Ke,e){"use strict";e.d(Ke,{Y:function(){return z}});var b=e(72065);const z=(0,b.yh)("workspaceTrustManagementService")},56790:function(Pt,Ke,e){"use strict";e.d(Ke,{zX:function(){return b.Z}});var b=e(66680),z=e(21770),r=e(42550),E=e(8880),c=e(80334)},64217:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return M}});var b=e(1413),z=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,r=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,E="".concat(z," ").concat(r).split(/[\s\n]+/),c="aria-",_="data-";function I(D,p){return D.indexOf(p)===0}function M(D){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o;p===!1?o={aria:!0,data:!0,attr:!0}:p===!0?o={aria:!0}:o=(0,b.Z)({},p);var d={};return Object.keys(D).forEach(function(u){(o.aria&&(u==="role"||I(u,c))||o.data&&I(u,_)||o.attr&&E.includes(u))&&(d[u]=D[u])}),d}},88306:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return b}});function b(z,r){for(var E=z,c=0;c<r.length;c+=1){if(E==null)return;E=E[r[c]]}return E}},8880:function(Pt,Ke,e){"use strict";e.d(Ke,{T:function(){return o},Z:function(){return I}});var b=e(71002),z=e(1413),r=e(74902),E=e(84506),c=e(88306);function _(d,u,i,n){if(!u.length)return i;var f=(0,E.Z)(u),v=f[0],a=f.slice(1),S;return!d&&typeof v=="number"?S=[]:Array.isArray(d)?S=(0,r.Z)(d):S=(0,z.Z)({},d),n&&i===void 0&&a.length===1?delete S[v][a[0]]:S[v]=_(S[v],a,i,n),S}function I(d,u,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return u.length&&n&&i===void 0&&!(0,c.Z)(d,u.slice(0,-1))?d:_(d,u,i,n)}function M(d){return(0,b.Z)(d)==="object"&&d!==null&&Object.getPrototypeOf(d)===Object.prototype}function D(d){return Array.isArray(d)?[]:{}}var p=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function o(){for(var d=arguments.length,u=new Array(d),i=0;i<d;i++)u[i]=arguments[i];var n=D(u[0]);return u.forEach(function(f){function v(a,S){var g=new Set(S),y=(0,c.Z)(f,a),C=Array.isArray(y);if(C||M(y)){if(!g.has(y)){g.add(y);var L=(0,c.Z)(n,a);C?n=I(n,a,[]):(!L||(0,b.Z)(L)!=="object")&&(n=I(n,a,D(y))),p(y).forEach(function(O){v([].concat((0,r.Z)(a),[O]),g)})}}else n=I(n,a,y)}v([])}),n}},61562:function(Pt,Ke,e){const b=e(2041),z=e(56061),r=e(49487),E=e(83714),c=e(90101),_=e(75179);Pt.exports={Kit:b,NFA:z,RegExp:r,parse:E,visualize:c,Raphael:_}},2041:function(Pt){var Ke=Array.prototype,e=Ke.slice,b=this||window,z=b.toString()==="[object Window]";function r(B,$){return B._Set||($||(B=D(B)),B.contains=function(Y,P){return!!~M(B,Y,P)},B.indexOf=function(Y,P){return M(B,Y,P)},B.toArray=function(){return p(B)},B.union=function(Y){Y=r(Y);for(var P=B.length+Y.length,w=new B.constructor(P),V=0,R=0,A=0;A<P;A++)B[V]===Y[R]?(w[A]=B[V++],R++,P--):B[V]<Y[R]?w[A]=B[V++]:w[A]=Y[R++];return w.length=P,r(w.length===P?w:p(w,P),!0)},B.inspect=B.toArray,B._Set=!0),B}var E=-1,c=0,_=1;function I(B,$){return B<$?E:B===$?c:_}function M(B,$,Y){var P=0,w=B.length,V=w-1,R,A;if(w<1)return-1;if(Y=Y||I,w===1)return Y($,B[P])===c?P:-1;if(Y($,B[P])===E||Y($,B[V])===_)return-1;do{if(R=P+(V-P+1>>1),A=Y($,B[R]),A===c)return R;A===E?V=R-1:P=R+1}while(P<=V);return-1}function D(B){var $=B.length;if($<=1)return B;for(var Y=1,P=$/3|0,w,V,R;Y<P;)Y=Y*3+1;for(;Y>0;){for(w=Y;w<$;w++)for(V=w;V>=Y&&B[V]<B[V-Y];V-=Y)R=B[V],B[V]=B[V-Y],B[V-Y]=R;Y=Y/3|0}var A=B[0],H;for(w=1,V=1;w<$;w++)H=B[w],H!==A&&(A=B[V++]=B[w]);return B.length=V,B.length===V?B:p(B,V)}function p(B,$){$=typeof $=="undefined"?B.length:$;for(var Y=new B.constructor($),P=$;P--;)Y[P]=B[P];return Y}function o(B){for(var $={},Y=0,P=0,w=B.length,V;Y<w;Y++)V=B[Y],!$.hasOwnProperty(V)&&($[V]=1,B[P++]=V);return B.length=P,B}function d(B){var $,Y,P=B.length,w,V=(Math.random()*1e10).toString(32)+(+new Date).toString(32);for($=Y=0;$<P;$++)w=B[$],w!=null&&(w.hasOwnProperty(V)||(Object.defineProperty(w,V,{value:1,enumerable:!1}),B[Y++]=w));for($=Y;$--;)B[$][V]=void 0;return B.length=Y,B}function u(B){B=B.map(function(ie){return ie[1]?ie:ie+ie});var $,Y,P,w,V,R;B=D(B),R=B.length;var A=Object.create(null),H=Object.create(null),U=Object.create(null),G,j;for($=0;$<R;$++)for(V=B[$],j=V[1],H[V[0]]=!0,U[j]=!0,Y=$;Y<R;Y++)if(G=B[Y][0],G>=j){G===j&&(A[j]=!0);break}var W=D(B.join("").split("")),K=Object.keys(A),m=W[0],J=Object.create(null),X=Object.create(null);for($=0;$<R;$++)J[B[$]]=[];if(A[m]){for($=0;$<R;$++)if(V=B[$],V[0]===m)J[V].push(m);else if(V[0]>m)break}for($=0,w=W.length-1;$<w;$++){if(G=W[$],j=W[$+1],U[G]&&(G=g(G)),H[j]&&(j=S(j)),G<=j)for(m=G===j?G:G+j,Y=0;Y<R&&(V=B[Y],!(V[0]>j));Y++)V[0]<=G&&j<=V[1]&&(J[V].push(m),K.push(m));if(G=W[$],j=W[$+1],A[j])for(Y=0;Y<R&&(V=B[Y],!(V[0]>j));Y++)V[0]<=j&&j<=V[1]&&J[V].push(j)}K=D(K);for(P in J)X[P[0]===P[1]?P[0]:P]=J[P];return{ranges:K,map:X}}function i(B){var $="\0",Y=String.fromCharCode(65535);B=u(B).ranges;var P=[];if(!B.length)return P;B[0][0]!==$&&B.unshift(Y);var w=B.length-1;return(B[w][1]||B[w][0])!==Y&&B.push($),B.reduce(function(V,R){var A=g(V[1]||V[0]),H=S(R[0]);return A<H&&P.push(A+H),A===H&&P.push(A),R}),P}function n(B){B=B.split("");var $=[],Y=[],P=B[0]==="^"&&B.length>1&&B.shift();return B.forEach(function(w){if($[0]=="-"&&$.length>1){if($[1]>w)throw new Error("Charset range out of order:"+$[1]+"-"+w+"!");Y.push($[1]+w),$.splice(0,2)}else $.unshift(w)}),Y=Y.concat($),P?i(Y):u(Y).ranges}function f(B){if(!B.length)return[];var $=[B[0]];return B.reduce(function(Y,P){var w=$.length-1;return Y[Y.length-1]===S(P[0])?$[w]=$[w][0]+P[P.length-1]:($.push(P),P)}),$.reduce(function(Y,P){return P.length===2&&P[0]===S(P[1])?(Y.push(P[0]),Y.push(P[1])):Y.push(P),Y},[])}function v(B){return String.fromCharCode(B)}function a(B){return B.charCodeAt(0)}function S(B){return String.fromCharCode(B.charCodeAt(0)-1)}function g(B){return String.fromCharCode(B.charCodeAt(0)+1)}var y={"\n":"\\n","	":"\\t","\f":"\\f","\r":"\\r"," ":" ","\\":"\\\\","\0":"\\0"};function C(B,$){var Y=/[\x00-\x1F\x7F-\x9F]/,P=/[\u009F-\uFFFF]/;return B=B.split("").map(function(w){return!$&&y.hasOwnProperty(w)?y[w]:P.test(w)?"\\u"+("00"+a(w).toString(16).toUpperCase()).slice(-4):Y.test(w)?"\\x"+("0"+a(w).toString(16).toUpperCase()).slice(-2):w}).join(""),B}function L(B){return[].concat.apply([],B)}function O(B,$){return new Array($+1).join(B)}function T(){var B=e.call(arguments);z?Function.prototype.apply.apply(console.log,[console,B]):B.forEach($=>console.log($))}function F(R){for(var $=R.toString(),Y=/^\s+function\s+([a-zA-Z]\w+)\s*\(/mg,P=[],w;w=Y.exec($);)P.push(w[1]);for(var V=[],R;R=P.pop();)V.push(R+":"+R);return`{
`+V.join(`,
`)+`
}`}Pt.exports={sortUnique:D,idUnique:d,hashUnique:o,Set:r,repeats:O,negate:i,coalesce:f,classify:u,parseCharset:n,chr:v,ord:a,pred:S,succ:g,toPrint:C,flatten2:L,log:T,isBrowser:z,locals:F}},56061:function(Pt,Ke,e){const b=e(2041);function z(p){p=p.compact?D(p):p;var o={},d,u,i=p.trans,n={};for(d=0,u=p.accepts.length;d<u;d++)o[p.accepts[d]]=!0;var f;for(d=0,u=i.length;d<u;d++)f=i[d],f.charset?f.ranges=typeof f.charset=="string"?b.parseCharset(f.charset):f.charset:f.eMove=!0,f.from.forEach(function(a){var S=n[a]=n[a]||{eMoveStates:[],eMove:[],charMove:{},trans:[],ranges:[]};f.eMove?S.eMoveStates=S.eMoveStates.concat(f.to):S.ranges=S.ranges.concat(f.ranges),S.trans.push(f)});var v=Object.keys(n);return v.forEach(function(a){var S=n[a],g=S.trans,y=S.charMove,C=S.eMove,L=S.ranges,O=b.classify(L),T=O.map;g.forEach(function(F){F.eMove?F.to.forEach(function(B){C.push({to:B,action:F.action,assert:F.assert,eMove:!0})}):b.flatten2(F.ranges.map(function(B){return T[B]})).forEach(function(B){(y[B]=y[B]||[]).push(F)})}),L=b.Set(O.ranges.filter(function(F){return!!F[1]})),S.ranges=L,Object.keys(y).forEach(function(F){var B=y[F],$=[];g.forEach(function(Y){Y.to.forEach(function(P){(Y.eMove||~B.indexOf(Y))&&$.push({to:P,action:Y.action,assert:Y.assert,eMove:Y.eMove})})}),y[F]=$}),delete S.trans,delete S.eMoveStates}),{accepts:o,router:n,input:c,assertDFA:E,accept:r}}function r(p){return this.accepts.hasOwnProperty(p)}function E(){for(var p=this.router,o=Object.keys(p),d,u=0,i=o.length;u<i;u++){if(d=p[o[u]],d.eMove.length>1)throw new Error("DFA Assertion Fail!\nFrom state `"+o[u]+"` can goto to multi \u03B5-move states!");for(var n=d.charMove,f=Object.keys(n),v=0,a=f.length;v<a;v++){var S=n[f[v]];if(S.length!==1)throw b.log(n),new Error("DFA Assertion Fail!\nFrom state `"+o[u]+"` via charset `"+f[v]+"` can goto to multi states!")}if(f.length&&d.eMove.length)throw new Error("DFA Assertion Fail!\nFrom state `"+o[u]+"` can goto extra \u03B5-move state!")}return!0}function c(p,o,d){o=o||0;var u=this;return i(p,o,"start",[],o-1);function i(n,f,v,a,S){e:do{var g,y,C,L,O=u.router[v];if(!O)break;var T=O.eMove,F=O.charMove,B;f<n.length?(g=n[f],F.hasOwnProperty(g)?B=F[g]:(y=I(O.ranges,g))?B=F[y]:B=T):B=T;for(var $=a.length,Y,P,w,V=S,R=0,A=B.length;R<A;R++){if(Y=B[R],C=Y.eMove?0:1,S=V,a.splice(0,a.length-$),$=a.length,Y.assert){if((P=Y.assert(a,g,f,v,n))===!1)continue;typeof P=="number"&&(f+=P,S+=P)}if(Y.action&&(a=Y.action(a,g,f,v,n)||a),S=Y.eMove?S:f,d&&b.log(g+":"+v+">"+Y.to),R===A-1){f+=C,v=Y.to;continue e}else w=i(n,f+C,Y.to,a,S);if(w.acceptable)return w;L=w}if(L)return L;break}while(!0);return{stack:a,lastIndex:S,lastState:v,acceptable:u.accept(v)}}}function _(p,o){var d={};return p.forEach(function(i){u(i)}),d;function u(i,n){if(d.hasOwnProperty(i))return d[i];if(!o.hasOwnProperty(i))return!1;n=n||[i];for(var f=o[i],v=f.to.slice(),a=[i],S,g;v.length;){if(S=v.shift(),~n.indexOf(S))throw new Error("Recursive \u03B5-move:"+n.join(">")+">"+S+"!");g=u(S,n),g&&(v=g.slice(1).concat(v)),a.push(S)}return d[i]=a}}function I(p,o){var d=p.indexOf(o,M);return~d?p[d]:!1}function M(p,o){var d=o[0],u=o[1];return p>u?1:p<d?-1:0}function D(p){p.accepts=p.accepts.split(",");for(var o=p.trans,d=o.length,u,i,n,f;d--;)u=o[d],i=u[0].split(">"),n=i[0].split(","),f=i[1].split(","),o[d]={from:n,to:f,charset:u[1],action:u[2],assert:u[3]};return p.compact=!1,p}Pt.exports=z},49487:function(Pt,Ke,e){const b=e(83714),z=e(2041),r=e(56061);b.exportConstants(),E.DEBUG=E.D=1,E.MULTILINE=E.M=2,E.GLOBAL=E.G=4,E.IGNORECASE=E.I=8;function E(y,C){if(!(this instanceof E))return new E(y,C);y=y+"";var L={};typeof C=="string"?(C=C.toLowerCase(),~C.indexOf("i")&&(L.ignoreCase=!0),~C.indexOf("m")&&(L.multiline=!0),~C.indexOf("g")&&(L.global=!0),~C.indexOf("d")&&(L.debug=!0)):L=C;var O=this.ast=b(y);this.source=y,this.multiline=!!L.multiline,this.global=!!L.global,this.ignoreCase=!!L.ignoreCase,this.debug=!!L.debug,this.flags="",this.multiline&&(this.flags+="m"),this.ignoreCase&&(this.flags+="i"),this.global&&(this.flags+="g"),g(this,["source","options","multiline","global","ignoreCase","flags","debug"]);var T=this.ignoreCase;O.traverse(function(F){D(F,T)},CHARSET_NODE),O.traverse(function(F){c(F,T)},EXACT_NODE),this.multiline&&O.traverse(_,ASSERT_NODE)}E.prototype={toString:function(){return"/"+this.source+"/"+this.flags},test:function(y){return this.exec(y)!==null},exec:function(y){for(var C=this.getNFA(),L,O=this.global&&this.lastIndex||0,T=y.length;O<T&&(L=C.input(y,O),!L.acceptable);O++);if(!L||!L.acceptable)return this.lastIndex=0,null;var F=new Array(this.ast.groupCount+1);F[0]=y.slice(O,L.lastIndex+1);for(var B=L.stack,$=1,Y=F.length;$<Y;$++)F[$]=u(B,$,y);return this.lastIndex=L.lastIndex+1,F.index=O,F.input=y,F},getNFA:function(){if(this._nfa)return this._nfa;var y,C=this.ast;return i=1,y=o(C.tree),y=r(y,this.debug),this._nfa=y,y}};function c(y,C){var L;L=y.chars.split(""),C?L=L.map(function(O){return/[a-z]/.test(O)?[O,O.toUpperCase()]:/[A-Z]/.test(O)?[O,O.toLowerCase()]:[O]}):L=L.map(function(O){return[O]}),y.explained=L}function _(y){var C=y.assertionType;(C===AssertBegin||C===AssertEnd)&&(y.multiline=!0)}var I=z.parseCharset(`^
\r\u2028\u2029`),M={d:["09"],w:["AZ","az","09","_"],s:` \f
\r	\v\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000`.split("")};["d","w","s"].forEach(function(y){M[y.toUpperCase()]=z.negate(M[y])});function D(y,C){var L=y.chars.split("");L=L.concat(z.flatten2(y.classes.map(function(O){return M[O]}))),L=L.concat(y.ranges),C&&(L=p(L)),L=z.classify(L).ranges,y.exclude&&(L=z.negate(L)),L=z.coalesce(L),y.explained=L}function p(y){return z.flatten2(y.map(function(C){var L=z.classify([C,"az","AZ"]).map[C];return z.flatten2(L.map(function(O){return/[a-z]/.test(O)?[O,O.toUpperCase()]:/[A-Z]/.test(O)?[O,O.toLowerCase()]:[O]}))}))}function o(y,C){var L=[],O;return C=C||["start"],O=y.reduce(function(T,F){var B=d(F,T);return L=L.concat(B.trans),B.accepts},C),{accepts:O,trans:L}}function d(y,C){return y.repeat?S(y,C):a[y.type](y,C)}function u(y,C,L){for(var O,T,F,B=0,$=y.length,Y;B<$;B++)if(Y=y[B],Y.num===C){if(Y.type===v)T=Y.index;else if(Y.type===f){O=Y.index;break}}if(!(O===void 0||T===void 0))return L.slice(O,T)}var i=0;function n(){return"q"+i++}var f="GroupCaptureStart",v="GroupCaptureEnd",a=function(){function C(P,w){var V=[],R,A=P.explained;return A.forEach(function(H){V.push({from:w,to:R=[n()],charset:H}),w=R}),{accepts:R,trans:V}}function L(P,w){var V=[n()];return{accepts:V,trans:[{from:w,to:V,charset:P.explained}]}}function O(P,w){var V=[n()];return{accepts:V,trans:[{from:w,to:V,charset:I}]}}function T(P,w){var V=[n()];return{accepts:V,trans:[{from:w,to:V,charset:!1}]}}function F(P,w){var V=[n()],R=[{from:w,to:V,charset:!1,action:!P.nonCapture&&function(G,j,W){G.unshift({type:f,num:P.num,index:W})}}];w=V;var A=o(P.sub,w);R=R.concat(A.trans);var H=[n()];return R.push({from:A.accepts,to:H,charset:!1,action:!P.nonCapture&&function(G,j,W){G.unshift({type:v,num:P.num,index:W})}}),{accepts:H,trans:R}}function B(P,w){var V=[n()],R=P.num;return{accepts:V,trans:[{from:w,to:V,charset:!1,assert:function(H,U,G,j,W){var K=u(H,R,W);return K===void 0&&(K=""),W.slice(G,G+K.length)===K?K.length:!1}}]}}function $(P,w){var V=[],R=[];return P.branches.forEach(function(A){var H=o(A,w);V=V.concat(H.trans),R=R.concat(H.accepts)}),{trans:V,accepts:R}}function Y(P,w){var V;switch(P.assertionType){case AssertBegin:V=P.multiline?j:W;break;case AssertEnd:V=P.multiline?K:m;break;case AssertWordBoundary:V=function(X,ie,le,fe,Le){return U(le,Le)};break;case AssertNonWordBoundary:V=function(X,ie,le,fe,Le){return!U(le,Le)};break;case AssertLookahead:V=A(P);break;case AssertNegativeLookahead:V=H(P);break}return R(P,w,V);function R(J,X,ie){var le=[n()];return{accepts:le,trans:[{from:X,to:le,charset:!1,assert:ie}]}}function A(J){var X=r(o(J.sub,["start"]));return function(le,fe,Le,pe,Te){var De=X.input(Te,Le,null,le);return De.acceptable}}function H(J){var X=A(J);return function(){return!X.apply(this,arguments)}}function U(J,X){return!!(G(J-1,X)^G(J,X))}function G(J,X){return J!==-1&&J!==X.length&&/\w/.test(X[J])}function j(J,X,ie,le,fe){return ie===0||fe[ie-1]===`
`}function W(J,X,ie,le,fe){return ie===0}function K(J,X,ie,le,fe){return ie===fe.length||X===`
`}function m(J,X,ie,le,fe){return ie===fe.length}}return{assert:Y,choice:$,backref:B,group:F,empty:T,charset:L,dot:O,exact:C}}();function S(y,C){var L=a[y.type],O,T,F=[],B=y.repeat,$=B.min,Y=B.max;for(T=$;T--;)O=L(y,C),F=F.concat(O.trans),C=O.accepts;var P=[],w=[].concat(C);if(isFinite(Y))for(;Y>$;Y--)O=L(y,C),P=P.concat(O.trans),C=O.accepts,w=w.concat(O.accepts);else{var V=C.slice();O=L(y,C),P=P.concat(O.trans),w=w.concat(O.accepts),P.push({from:O.accepts,to:V,charset:!1})}var R=[n()];return B.nonGreedy?(F.push({from:w,to:R,charset:!1}),F=F.concat(P)):(F=F.concat(P),F.push({from:w,to:R,charset:!1})),{accepts:R,trans:F}}function g(y,C){C.forEach(function(L){Object.defineProperty(y,L,{writable:!1,enumerable:!0})})}Pt.exports=E},75179:function(Pt){(function(Ke,e){Pt.exports=e()})(window,function(){return function(Ke){var e={};function b(z){if(e[z])return e[z].exports;var r=e[z]={i:z,l:!1,exports:{}};return Ke[z].call(r.exports,r,r.exports,b),r.l=!0,r.exports}return b.m=Ke,b.c=e,b.d=function(z,r,E){b.o(z,r)||Object.defineProperty(z,r,{enumerable:!0,get:E})},b.r=function(z){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},b.t=function(z,r){if(1&r&&(z=b(z)),8&r||4&r&&typeof z=="object"&&z&&z.__esModule)return z;var E=Object.create(null);if(b.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:z}),2&r&&typeof z!="string")for(var c in z)b.d(E,c,function(_){return z[_]}.bind(null,c));return E},b.n=function(z){var r=z&&z.__esModule?function(){return z.default}:function(){return z};return b.d(r,"a",r),r},b.o=function(z,r){return Object.prototype.hasOwnProperty.call(z,r)},b.p="",b(b.s=1)}([function(Ke,e,b){var z,r;z=[b(2)],(r=function(E){function c(ee){if(c.is(ee,"function"))return _?ee():E.on("raphael.DOMload",ee);if(c.is(ee,V))return c._engine.create[n](c,ee.splice(0,3+c.is(ee[0],w))).add(ee);var de=Array.prototype.slice.call(arguments,0);if(c.is(de[de.length-1],"function")){var re=de.pop();return _?re.call(c._engine.create[n](c,de)):E.on("raphael.DOMload",function(){re.call(c._engine.create[n](c,de))})}return c._engine.create[n](c,arguments)}c.version="2.3.0",c.eve=E;var _,I,M=/[, ]+/,D={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},p=/\{(\d+)\}/g,o="hasOwnProperty",d={doc:document,win:window},u={was:Object.prototype[o].call(d.win,"Raphael"),is:d.win.Raphael},i=function(){this.ca=this.customAttributes={}},n="apply",f="concat",v="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,a="",S=" ",g=String,y="split",C="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[y](S),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=g.prototype.toLowerCase,T=Math,F=T.max,B=T.min,$=T.abs,Y=T.pow,P=T.PI,w="number",V="array",R=Object.prototype.toString,A=(c._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),H={NaN:1,Infinity:1,"-Infinity":1},U=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,G=T.round,j=parseFloat,W=parseInt,K=g.prototype.toUpperCase,m=c._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},J=c._availableAnimAttrs={blur:w,"clip-rect":"csv",cx:w,cy:w,fill:"colour","fill-opacity":w,"font-size":w,height:w,opacity:w,path:"path",r:w,rx:w,ry:w,stroke:"colour","stroke-opacity":w,"stroke-width":w,transform:"transform",width:w,x:w,y:w},X=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ie={hs:1,rg:1},le=/,?([achlmqrstvxz]),?/gi,fe=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Le=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pe=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Te=(c._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),De=function(ee,de){return j(ee)-j(de)},ae=function(ee){return ee},Ne=c._rectPath=function(ee,de,re,Ce,we){return we?[["M",ee+we,de],["l",re-2*we,0],["a",we,we,0,0,1,we,we],["l",0,Ce-2*we],["a",we,we,0,0,1,-we,we],["l",2*we-re,0],["a",we,we,0,0,1,-we,-we],["l",0,2*we-Ce],["a",we,we,0,0,1,we,-we],["z"]]:[["M",ee,de],["l",re,0],["l",0,Ce],["l",-re,0],["z"]]},We=function(ee,de,re,Ce){return Ce==null&&(Ce=re),[["M",ee,de],["m",0,-Ce],["a",re,Ce,0,1,1,0,2*Ce],["a",re,Ce,0,1,1,0,-2*Ce],["z"]]},ze=c._getPath={path:function(ee){return ee.attr("path")},circle:function(ee){var de=ee.attrs;return We(de.cx,de.cy,de.r)},ellipse:function(ee){var de=ee.attrs;return We(de.cx,de.cy,de.rx,de.ry)},rect:function(ee){var de=ee.attrs;return Ne(de.x,de.y,de.width,de.height,de.r)},image:function(ee){var de=ee.attrs;return Ne(de.x,de.y,de.width,de.height)},text:function(ee){var de=ee._getBBox();return Ne(de.x,de.y,de.width,de.height)},set:function(ee){var de=ee._getBBox();return Ne(de.x,de.y,de.width,de.height)}},Se=c.mapPath=function(ee,de){if(!de)return ee;var re,Ce,we,be,ke,He,Ye;for(we=0,ke=(ee=Oi(ee)).length;we<ke;we++)for(be=1,He=(Ye=ee[we]).length;be<He;be+=2)re=de.x(Ye[be],Ye[be+1]),Ce=de.y(Ye[be],Ye[be+1]),Ye[be]=re,Ye[be+1]=Ce;return ee};if(c._g=d,c.type=d.win.SVGAngle||d.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",c.type=="VML"){var ne,ce=d.doc.createElement("div");if(ce.innerHTML='<v:shape adj="1"/>',(ne=ce.firstChild).style.behavior="url(#default#VML)",!ne||typeof ne.adj!="object")return c.type=a;ce=null}function Oe(ee){if(typeof ee=="function"||Object(ee)!==ee)return ee;var de=new ee.constructor;for(var re in ee)ee[o](re)&&(de[re]=Oe(ee[re]));return de}c.svg=!(c.vml=c.type=="VML"),c._Paper=i,c.fn=I=i.prototype=c.prototype,c._id=0,c.is=function(ee,de){return(de=O.call(de))=="finite"?!H[o](+ee):de=="array"?ee instanceof Array:de=="null"&&ee===null||de==typeof ee&&ee!==null||de=="object"&&ee===Object(ee)||de=="array"&&Array.isArray&&Array.isArray(ee)||R.call(ee).slice(8,-1).toLowerCase()==de},c.angle=function(ee,de,re,Ce,we,be){if(we==null){var ke=ee-re,He=de-Ce;return ke||He?(180+180*T.atan2(-He,-ke)/P+360)%360:0}return c.angle(ee,de,we,be)-c.angle(re,Ce,we,be)},c.rad=function(ee){return ee%360*P/180},c.deg=function(ee){return Math.round(180*ee/P%360*1e3)/1e3},c.snapTo=function(ee,de,re){if(re=c.is(re,"finite")?re:10,c.is(ee,V)){for(var Ce=ee.length;Ce--;)if($(ee[Ce]-de)<=re)return ee[Ce]}else{var we=de%(ee=+ee);if(we<re)return de-we;if(we>ee-re)return de-we+ee}return de};var Pe,Me;c.createUUID=(Pe=/[xy]/g,Me=function(ee){var de=16*T.random()|0;return(ee=="x"?de:3&de|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Pe,Me).toUpperCase()}),c.setWindow=function(ee){E("raphael.setWindow",c,d.win,ee),d.win=ee,d.doc=d.win.document,c._engine.initWin&&c._engine.initWin(d.win)};var ye=function(ee){if(c.vml){var de,re=/^\s+|\s+$/g;try{var Ce=new ActiveXObject("htmlfile");Ce.write("<body>"),Ce.close(),de=Ce.body}catch(ke){de=createPopup().document.body}var we=de.createTextRange();ye=Ae(function(ke){try{de.style.color=g(ke).replace(re,a);var He=we.queryCommandValue("ForeColor");return"#"+("000000"+(He=(255&He)<<16|65280&He|(16711680&He)>>>16).toString(16)).slice(-6)}catch(Ye){return"none"}})}else{var be=d.doc.createElement("i");be.title="Rapha\xEBl Colour Picker",be.style.display="none",d.doc.body.appendChild(be),ye=Ae(function(ke){return be.style.color=ke,d.doc.defaultView.getComputedStyle(be,a).getPropertyValue("color")})}return ye(ee)},_e=function(){return"hsb("+[this.h,this.s,this.b]+")"},se=function(){return"hsl("+[this.h,this.s,this.l]+")"},ve=function(){return this.hex},xe=function(ee,de,re){if(de==null&&c.is(ee,"object")&&"r"in ee&&"g"in ee&&"b"in ee&&(re=ee.b,de=ee.g,ee=ee.r),de==null&&c.is(ee,"string")){var Ce=c.getRGB(ee);ee=Ce.r,de=Ce.g,re=Ce.b}return(ee>1||de>1||re>1)&&(ee/=255,de/=255,re/=255),[ee,de,re]},je=function(ee,de,re,Ce){var we={r:ee*=255,g:de*=255,b:re*=255,hex:c.rgb(ee,de,re),toString:ve};return c.is(Ce,"finite")&&(we.opacity=Ce),we};function Ae(ee,de,re){return function Ce(){var we=Array.prototype.slice.call(arguments,0),be=we.join("\u2400"),ke=Ce.cache=Ce.cache||{},He=Ce.count=Ce.count||[];return ke[o](be)?(function(Ye,ut){for(var $t=0,gi=Ye.length;$t<gi;$t++)if(Ye[$t]===ut)return Ye.push(Ye.splice($t,1)[0])}(He,be),re?re(ke[be]):ke[be]):(He.length>=1e3&&delete ke[He.shift()],He.push(be),ke[be]=ee[n](de,we),re?re(ke[be]):ke[be])}}c.color=function(ee){var de;return c.is(ee,"object")&&"h"in ee&&"s"in ee&&"b"in ee?(de=c.hsb2rgb(ee),ee.r=de.r,ee.g=de.g,ee.b=de.b,ee.hex=de.hex):c.is(ee,"object")&&"h"in ee&&"s"in ee&&"l"in ee?(de=c.hsl2rgb(ee),ee.r=de.r,ee.g=de.g,ee.b=de.b,ee.hex=de.hex):(c.is(ee,"string")&&(ee=c.getRGB(ee)),c.is(ee,"object")&&"r"in ee&&"g"in ee&&"b"in ee?(de=c.rgb2hsl(ee),ee.h=de.h,ee.s=de.s,ee.l=de.l,de=c.rgb2hsb(ee),ee.v=de.b):(ee={hex:"none"}).r=ee.g=ee.b=ee.h=ee.s=ee.v=ee.l=-1),ee.toString=ve,ee},c.hsb2rgb=function(ee,de,re,Ce){var we,be,ke,He,Ye;return this.is(ee,"object")&&"h"in ee&&"s"in ee&&"b"in ee&&(re=ee.b,de=ee.s,Ce=ee.o,ee=ee.h),He=(Ye=re*de)*(1-$((ee=(ee*=360)%360/60)%2-1)),we=be=ke=re-Ye,je(we+=[Ye,He,0,0,He,Ye][ee=~~ee],be+=[He,Ye,Ye,He,0,0][ee],ke+=[0,0,He,Ye,Ye,He][ee],Ce)},c.hsl2rgb=function(ee,de,re,Ce){var we,be,ke,He,Ye;return this.is(ee,"object")&&"h"in ee&&"s"in ee&&"l"in ee&&(re=ee.l,de=ee.s,ee=ee.h),(ee>1||de>1||re>1)&&(ee/=360,de/=100,re/=100),He=(Ye=2*de*(re<.5?re:1-re))*(1-$((ee=(ee*=360)%360/60)%2-1)),we=be=ke=re-Ye/2,je(we+=[Ye,He,0,0,He,Ye][ee=~~ee],be+=[He,Ye,Ye,He,0,0][ee],ke+=[0,0,He,Ye,Ye,He][ee],Ce)},c.rgb2hsb=function(ee,de,re){var Ce,we;return ee=(re=xe(ee,de,re))[0],de=re[1],re=re[2],{h:(((we=(Ce=F(ee,de,re))-B(ee,de,re))==0?null:Ce==ee?(de-re)/we:Ce==de?(re-ee)/we+2:(ee-de)/we+4)+360)%6*60/360,s:we==0?0:we/Ce,b:Ce,toString:_e}},c.rgb2hsl=function(ee,de,re){var Ce,we,be,ke;return ee=(re=xe(ee,de,re))[0],de=re[1],re=re[2],Ce=((we=F(ee,de,re))+(be=B(ee,de,re)))/2,{h:(((ke=we-be)==0?null:we==ee?(de-re)/ke:we==de?(re-ee)/ke+2:(ee-de)/ke+4)+360)%6*60/360,s:ke==0?0:Ce<.5?ke/(2*Ce):ke/(2-2*Ce),l:Ce,toString:se}},c._path2string=function(){return this.join(",").replace(le,"$1")},c._preload=function(ee,de){var re=d.doc.createElement("img");re.style.cssText="position:absolute;left:-9999em;top:-9999em",re.onload=function(){de.call(this),this.onload=null,d.doc.body.removeChild(this)},re.onerror=function(){d.doc.body.removeChild(this)},d.doc.body.appendChild(re),re.src=ee};function Qe(){return this.hex}function rt(ee,de){for(var re=[],Ce=0,we=ee.length;we-2*!de>Ce;Ce+=2){var be=[{x:+ee[Ce-2],y:+ee[Ce-1]},{x:+ee[Ce],y:+ee[Ce+1]},{x:+ee[Ce+2],y:+ee[Ce+3]},{x:+ee[Ce+4],y:+ee[Ce+5]}];de?Ce?we-4==Ce?be[3]={x:+ee[0],y:+ee[1]}:we-2==Ce&&(be[2]={x:+ee[0],y:+ee[1]},be[3]={x:+ee[2],y:+ee[3]}):be[0]={x:+ee[we-2],y:+ee[we-1]}:we-4==Ce?be[3]=be[2]:Ce||(be[0]={x:+ee[Ce],y:+ee[Ce+1]}),re.push(["C",(-be[0].x+6*be[1].x+be[2].x)/6,(-be[0].y+6*be[1].y+be[2].y)/6,(be[1].x+6*be[2].x-be[3].x)/6,(be[1].y+6*be[2].y-be[3].y)/6,be[2].x,be[2].y])}return re}c.getRGB=Ae(function(ee){if(!ee||(ee=g(ee)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Qe};if(ee=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:Qe};!ie[o](ee.toLowerCase().substring(0,2))&&ee.charAt()!="#"&&(ee=ye(ee));var de,re,Ce,we,be,ke,He=ee.match(A);return He?(He[2]&&(Ce=W(He[2].substring(5),16),re=W(He[2].substring(3,5),16),de=W(He[2].substring(1,3),16)),He[3]&&(Ce=W((be=He[3].charAt(3))+be,16),re=W((be=He[3].charAt(2))+be,16),de=W((be=He[3].charAt(1))+be,16)),He[4]&&(ke=He[4][y](X),de=j(ke[0]),ke[0].slice(-1)=="%"&&(de*=2.55),re=j(ke[1]),ke[1].slice(-1)=="%"&&(re*=2.55),Ce=j(ke[2]),ke[2].slice(-1)=="%"&&(Ce*=2.55),He[1].toLowerCase().slice(0,4)=="rgba"&&(we=j(ke[3])),ke[3]&&ke[3].slice(-1)=="%"&&(we/=100)),He[5]?(ke=He[5][y](X),de=j(ke[0]),ke[0].slice(-1)=="%"&&(de*=2.55),re=j(ke[1]),ke[1].slice(-1)=="%"&&(re*=2.55),Ce=j(ke[2]),ke[2].slice(-1)=="%"&&(Ce*=2.55),(ke[0].slice(-3)=="deg"||ke[0].slice(-1)=="\xB0")&&(de/=360),He[1].toLowerCase().slice(0,4)=="hsba"&&(we=j(ke[3])),ke[3]&&ke[3].slice(-1)=="%"&&(we/=100),c.hsb2rgb(de,re,Ce,we)):He[6]?(ke=He[6][y](X),de=j(ke[0]),ke[0].slice(-1)=="%"&&(de*=2.55),re=j(ke[1]),ke[1].slice(-1)=="%"&&(re*=2.55),Ce=j(ke[2]),ke[2].slice(-1)=="%"&&(Ce*=2.55),(ke[0].slice(-3)=="deg"||ke[0].slice(-1)=="\xB0")&&(de/=360),He[1].toLowerCase().slice(0,4)=="hsla"&&(we=j(ke[3])),ke[3]&&ke[3].slice(-1)=="%"&&(we/=100),c.hsl2rgb(de,re,Ce,we)):((He={r:de,g:re,b:Ce,toString:Qe}).hex="#"+(16777216|Ce|re<<8|de<<16).toString(16).slice(1),c.is(we,"finite")&&(He.opacity=we),He)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Qe}},c),c.hsb=Ae(function(ee,de,re){return c.hsb2rgb(ee,de,re).hex}),c.hsl=Ae(function(ee,de,re){return c.hsl2rgb(ee,de,re).hex}),c.rgb=Ae(function(ee,de,re){function Ce(we){return we+.5|0}return"#"+(16777216|Ce(re)|Ce(de)<<8|Ce(ee)<<16).toString(16).slice(1)}),c.getColor=function(ee){var de=this.getColor.start=this.getColor.start||{h:0,s:1,b:ee||.75},re=this.hsb2rgb(de.h,de.s,de.b);return de.h+=.075,de.h>1&&(de.h=0,de.s-=.2,de.s<=0&&(this.getColor.start={h:0,s:1,b:de.b})),re.hex},c.getColor.reset=function(){delete this.start},c.parsePathString=function(ee){if(!ee)return null;var de=Dt(ee);if(de.arr)return Xt(de.arr);var re={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Ce=[];return c.is(ee,V)&&c.is(ee[0],V)&&(Ce=Xt(ee)),Ce.length||g(ee).replace(fe,function(we,be,ke){var He=[],Ye=be.toLowerCase();if(ke.replace(pe,function(ut,$t){$t&&He.push(+$t)}),Ye=="m"&&He.length>2&&(Ce.push([be][f](He.splice(0,2))),Ye="l",be=be=="m"?"l":"L"),Ye=="r")Ce.push([be][f](He));else for(;He.length>=re[Ye]&&(Ce.push([be][f](He.splice(0,re[Ye]))),re[Ye]););}),Ce.toString=c._path2string,de.arr=Xt(Ce),Ce},c.parseTransformString=Ae(function(ee){if(!ee)return null;var de=[];return c.is(ee,V)&&c.is(ee[0],V)&&(de=Xt(ee)),de.length||g(ee).replace(Le,function(re,Ce,we){var be=[];O.call(Ce),we.replace(pe,function(ke,He){He&&be.push(+He)}),de.push([Ce][f](be))}),de.toString=c._path2string,de},this,function(ee){if(!ee)return ee;for(var de=[],re=0;re<ee.length;re++){for(var Ce=[],we=0;we<ee[re].length;we++)Ce.push(ee[re][we]);de.push(Ce)}return de});var Dt=function(ee){var de=Dt.ps=Dt.ps||{};return de[ee]?de[ee].sleep=100:de[ee]={sleep:100},setTimeout(function(){for(var re in de)de[o](re)&&re!=ee&&(de[re].sleep--,!de[re].sleep&&delete de[re])}),de[ee]};function at(ee,de,re,Ce,we){return ee*(ee*(-3*de+9*re-9*Ce+3*we)+6*de-12*re+6*Ce)-3*de+3*re}function vt(ee,de,re,Ce,we,be,ke,He,Ye){Ye==null&&(Ye=1);for(var ut=(Ye=Ye>1?1:Ye<0?0:Ye)/2,$t=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],gi=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ci=0,ai=0;ai<12;ai++){var ct=ut*$t[ai]+ut,Nt=at(ct,ee,re,we,ke),Et=at(ct,de,Ce,be,He),It=Nt*Nt+Et*Et;ci+=gi[ai]*T.sqrt(It)}return ut*ci}function Mt(ee,de,re,Ce,we,be,ke,He){if(!(F(ee,re)<B(we,ke)||B(ee,re)>F(we,ke)||F(de,Ce)<B(be,He)||B(de,Ce)>F(be,He))){var Ye=(ee-re)*(be-He)-(de-Ce)*(we-ke);if(Ye){var ut=((ee*Ce-de*re)*(we-ke)-(ee-re)*(we*He-be*ke))/Ye,$t=((ee*Ce-de*re)*(be-He)-(de-Ce)*(we*He-be*ke))/Ye,gi=+ut.toFixed(2),ci=+$t.toFixed(2);if(!(gi<+B(ee,re).toFixed(2)||gi>+F(ee,re).toFixed(2)||gi<+B(we,ke).toFixed(2)||gi>+F(we,ke).toFixed(2)||ci<+B(de,Ce).toFixed(2)||ci>+F(de,Ce).toFixed(2)||ci<+B(be,He).toFixed(2)||ci>+F(be,He).toFixed(2)))return{x:ut,y:$t}}}}function ti(ee,de,re){var Ce=c.bezierBBox(ee),we=c.bezierBBox(de);if(!c.isBBoxIntersect(Ce,we))return re?0:[];for(var be=vt.apply(0,ee),ke=vt.apply(0,de),He=F(~~(be/5),1),Ye=F(~~(ke/5),1),ut=[],$t=[],gi={},ci=re?0:[],ai=0;ai<He+1;ai++){var ct=c.findDotsAtSegment.apply(c,ee.concat(ai/He));ut.push({x:ct.x,y:ct.y,t:ai/He})}for(ai=0;ai<Ye+1;ai++)ct=c.findDotsAtSegment.apply(c,de.concat(ai/Ye)),$t.push({x:ct.x,y:ct.y,t:ai/Ye});for(ai=0;ai<He;ai++)for(var Nt=0;Nt<Ye;Nt++){var Et=ut[ai],It=ut[ai+1],Gt=$t[Nt],zt=$t[Nt+1],mi=$(It.x-Et.x)<.001?"y":"x",ui=$(zt.x-Gt.x)<.001?"y":"x",Ti=Mt(Et.x,Et.y,It.x,It.y,Gt.x,Gt.y,zt.x,zt.y);if(Ti){if(gi[Ti.x.toFixed(4)]==Ti.y.toFixed(4))continue;gi[Ti.x.toFixed(4)]=Ti.y.toFixed(4);var Ri=Et.t+$((Ti[mi]-Et[mi])/(It[mi]-Et[mi]))*(It.t-Et.t),tn=Gt.t+$((Ti[ui]-Gt[ui])/(zt[ui]-Gt[ui]))*(zt.t-Gt.t);Ri>=0&&Ri<=1.001&&tn>=0&&tn<=1.001&&(re?ci++:ci.push({x:Ti.x,y:Ti.y,t1:B(Ri,1),t2:B(tn,1)}))}}return ci}function Ft(ee,de,re){ee=c._path2curve(ee),de=c._path2curve(de);for(var Ce,we,be,ke,He,Ye,ut,$t,gi,ci,ai=re?0:[],ct=0,Nt=ee.length;ct<Nt;ct++){var Et=ee[ct];if(Et[0]=="M")Ce=He=Et[1],we=Ye=Et[2];else{Et[0]=="C"?(gi=[Ce,we].concat(Et.slice(1)),Ce=gi[6],we=gi[7]):(gi=[Ce,we,Ce,we,He,Ye,He,Ye],Ce=He,we=Ye);for(var It=0,Gt=de.length;It<Gt;It++){var zt=de[It];if(zt[0]=="M")be=ut=zt[1],ke=$t=zt[2];else{zt[0]=="C"?(ci=[be,ke].concat(zt.slice(1)),be=ci[6],ke=ci[7]):(ci=[be,ke,be,ke,ut,$t,ut,$t],be=ut,ke=$t);var mi=ti(gi,ci,re);if(re)ai+=mi;else{for(var ui=0,Ti=mi.length;ui<Ti;ui++)mi[ui].segment1=ct,mi[ui].segment2=It,mi[ui].bez1=gi,mi[ui].bez2=ci;ai=ai.concat(mi)}}}}}return ai}c.findDotsAtSegment=function(ee,de,re,Ce,we,be,ke,He,Ye){var ut=1-Ye,$t=Y(ut,3),gi=Y(ut,2),ci=Ye*Ye,ai=ci*Ye,ct=$t*ee+3*gi*Ye*re+3*ut*Ye*Ye*we+ai*ke,Nt=$t*de+3*gi*Ye*Ce+3*ut*Ye*Ye*be+ai*He,Et=ee+2*Ye*(re-ee)+ci*(we-2*re+ee),It=de+2*Ye*(Ce-de)+ci*(be-2*Ce+de),Gt=re+2*Ye*(we-re)+ci*(ke-2*we+re),zt=Ce+2*Ye*(be-Ce)+ci*(He-2*be+Ce),mi=ut*ee+Ye*re,ui=ut*de+Ye*Ce,Ti=ut*we+Ye*ke,Ri=ut*be+Ye*He,tn=90-180*T.atan2(Et-Gt,It-zt)/P;return(Et>Gt||It<zt)&&(tn+=180),{x:ct,y:Nt,m:{x:Et,y:It},n:{x:Gt,y:zt},start:{x:mi,y:ui},end:{x:Ti,y:Ri},alpha:tn}},c.bezierBBox=function(ee,de,re,Ce,we,be,ke,He){c.is(ee,"array")||(ee=[ee,de,re,Ce,we,be,ke,He]);var Ye=Ci.apply(null,ee);return{x:Ye.min.x,y:Ye.min.y,x2:Ye.max.x,y2:Ye.max.y,width:Ye.max.x-Ye.min.x,height:Ye.max.y-Ye.min.y}},c.isPointInsideBBox=function(ee,de,re){return de>=ee.x&&de<=ee.x2&&re>=ee.y&&re<=ee.y2},c.isBBoxIntersect=function(ee,de){var re=c.isPointInsideBBox;return re(de,ee.x,ee.y)||re(de,ee.x2,ee.y)||re(de,ee.x,ee.y2)||re(de,ee.x2,ee.y2)||re(ee,de.x,de.y)||re(ee,de.x2,de.y)||re(ee,de.x,de.y2)||re(ee,de.x2,de.y2)||(ee.x<de.x2&&ee.x>de.x||de.x<ee.x2&&de.x>ee.x)&&(ee.y<de.y2&&ee.y>de.y||de.y<ee.y2&&de.y>ee.y)},c.pathIntersection=function(ee,de){return Ft(ee,de)},c.pathIntersectionNumber=function(ee,de){return Ft(ee,de,1)},c.isPointInsidePath=function(ee,de,re){var Ce=c.pathBBox(ee);return c.isPointInsideBBox(Ce,de,re)&&Ft(ee,[["M",de,re],["H",Ce.x2+10]],1)%2==1},c._removedFactory=function(ee){return function(){E("raphael.log",null,"Rapha\xEBl: you are calling to method \u201C"+ee+"\u201D of removed object",ee)}};var ei=c.pathBBox=function(ee){var de=Dt(ee);if(de.bbox)return Oe(de.bbox);if(!ee)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var re,Ce=0,we=0,be=[],ke=[],He=0,Ye=(ee=Oi(ee)).length;He<Ye;He++)if((re=ee[He])[0]=="M")Ce=re[1],we=re[2],be.push(Ce),ke.push(we);else{var ut=Ci(Ce,we,re[1],re[2],re[3],re[4],re[5],re[6]);be=be[f](ut.min.x,ut.max.x),ke=ke[f](ut.min.y,ut.max.y),Ce=re[5],we=re[6]}var $t=B[n](0,be),gi=B[n](0,ke),ci=F[n](0,be),ai=F[n](0,ke),ct=ci-$t,Nt=ai-gi,Et={x:$t,y:gi,x2:ci,y2:ai,width:ct,height:Nt,cx:$t+ct/2,cy:gi+Nt/2};return de.bbox=Oe(Et),Et},Xt=function(ee){var de=Oe(ee);return de.toString=c._path2string,de},Ct=c._pathToRelative=function(ee){var de=Dt(ee);if(de.rel)return Xt(de.rel);c.is(ee,V)&&c.is(ee&&ee[0],V)||(ee=c.parsePathString(ee));var re=[],Ce=0,we=0,be=0,ke=0,He=0;ee[0][0]=="M"&&(be=Ce=ee[0][1],ke=we=ee[0][2],He++,re.push(["M",Ce,we]));for(var Ye=He,ut=ee.length;Ye<ut;Ye++){var $t=re[Ye]=[],gi=ee[Ye];if(gi[0]!=O.call(gi[0]))switch($t[0]=O.call(gi[0]),$t[0]){case"a":$t[1]=gi[1],$t[2]=gi[2],$t[3]=gi[3],$t[4]=gi[4],$t[5]=gi[5],$t[6]=+(gi[6]-Ce).toFixed(3),$t[7]=+(gi[7]-we).toFixed(3);break;case"v":$t[1]=+(gi[1]-we).toFixed(3);break;case"m":be=gi[1],ke=gi[2];default:for(var ci=1,ai=gi.length;ci<ai;ci++)$t[ci]=+(gi[ci]-(ci%2?Ce:we)).toFixed(3)}else{$t=re[Ye]=[],gi[0]=="m"&&(be=gi[1]+Ce,ke=gi[2]+we);for(var ct=0,Nt=gi.length;ct<Nt;ct++)re[Ye][ct]=gi[ct]}var Et=re[Ye].length;switch(re[Ye][0]){case"z":Ce=be,we=ke;break;case"h":Ce+=+re[Ye][Et-1];break;case"v":we+=+re[Ye][Et-1];break;default:Ce+=+re[Ye][Et-2],we+=+re[Ye][Et-1]}}return re.toString=c._path2string,de.rel=Xt(re),re},ft=c._pathToAbsolute=function(ee){var de=Dt(ee);if(de.abs)return Xt(de.abs);if(c.is(ee,V)&&c.is(ee&&ee[0],V)||(ee=c.parsePathString(ee)),!ee||!ee.length)return[["M",0,0]];var re=[],Ce=0,we=0,be=0,ke=0,He=0;ee[0][0]=="M"&&(be=Ce=+ee[0][1],ke=we=+ee[0][2],He++,re[0]=["M",Ce,we]);for(var Ye,ut,$t=ee.length==3&&ee[0][0]=="M"&&ee[1][0].toUpperCase()=="R"&&ee[2][0].toUpperCase()=="Z",gi=He,ci=ee.length;gi<ci;gi++){if(re.push(Ye=[]),(ut=ee[gi])[0]!=K.call(ut[0]))switch(Ye[0]=K.call(ut[0]),Ye[0]){case"A":Ye[1]=ut[1],Ye[2]=ut[2],Ye[3]=ut[3],Ye[4]=ut[4],Ye[5]=ut[5],Ye[6]=+(ut[6]+Ce),Ye[7]=+(ut[7]+we);break;case"V":Ye[1]=+ut[1]+we;break;case"H":Ye[1]=+ut[1]+Ce;break;case"R":for(var ai=[Ce,we][f](ut.slice(1)),ct=2,Nt=ai.length;ct<Nt;ct++)ai[ct]=+ai[ct]+Ce,ai[++ct]=+ai[ct]+we;re.pop(),re=re[f](rt(ai,$t));break;case"M":be=+ut[1]+Ce,ke=+ut[2]+we;default:for(ct=1,Nt=ut.length;ct<Nt;ct++)Ye[ct]=+ut[ct]+(ct%2?Ce:we)}else if(ut[0]=="R")ai=[Ce,we][f](ut.slice(1)),re.pop(),re=re[f](rt(ai,$t)),Ye=["R"][f](ut.slice(-2));else for(var Et=0,It=ut.length;Et<It;Et++)Ye[Et]=ut[Et];switch(Ye[0]){case"Z":Ce=be,we=ke;break;case"H":Ce=Ye[1];break;case"V":we=Ye[1];break;case"M":be=Ye[Ye.length-2],ke=Ye[Ye.length-1];default:Ce=Ye[Ye.length-2],we=Ye[Ye.length-1]}}return re.toString=c._path2string,de.abs=Xt(re),re},Bt=function(ee,de,re,Ce){return[ee,de,re,Ce,re,Ce]},kt=function(ee,de,re,Ce,we,be){return[1/3*ee+2/3*re,1/3*de+2/3*Ce,1/3*we+2/3*re,1/3*be+2/3*Ce,we,be]},Ge=function(ee,de,re,Ce,we,be,ke,He,Ye,ut){var $t,gi=120*P/180,ci=P/180*(+we||0),ai=[],ct=Ae(function(yi,Pi,Qi){return{x:yi*T.cos(Qi)-Pi*T.sin(Qi),y:yi*T.sin(Qi)+Pi*T.cos(Qi)}});if(ut)Ri=ut[0],tn=ut[1],ui=ut[2],Ti=ut[3];else{ee=($t=ct(ee,de,-ci)).x,de=$t.y,He=($t=ct(He,Ye,-ci)).x,Ye=$t.y,T.cos(P/180*we),T.sin(P/180*we);var Nt=(ee-He)/2,Et=(de-Ye)/2,It=Nt*Nt/(re*re)+Et*Et/(Ce*Ce);It>1&&(re*=It=T.sqrt(It),Ce*=It);var Gt=re*re,zt=Ce*Ce,mi=(be==ke?-1:1)*T.sqrt($((Gt*zt-Gt*Et*Et-zt*Nt*Nt)/(Gt*Et*Et+zt*Nt*Nt))),ui=mi*re*Et/Ce+(ee+He)/2,Ti=mi*-Ce*Nt/re+(de+Ye)/2,Ri=T.asin(((de-Ti)/Ce).toFixed(9)),tn=T.asin(((Ye-Ti)/Ce).toFixed(9));(Ri=ee<ui?P-Ri:Ri)<0&&(Ri=2*P+Ri),(tn=He<ui?P-tn:tn)<0&&(tn=2*P+tn),ke&&Ri>tn&&(Ri-=2*P),!ke&&tn>Ri&&(tn-=2*P)}var gn=tn-Ri;if($(gn)>gi){var wn=tn,An=He,Bn=Ye;tn=Ri+gi*(ke&&tn>Ri?1:-1),He=ui+re*T.cos(tn),Ye=Ti+Ce*T.sin(tn),ai=Ge(He,Ye,re,Ce,we,0,ke,An,Bn,[tn,wn,ui,Ti])}gn=tn-Ri;var Tn=T.cos(Ri),es=T.sin(Ri),Un=T.cos(tn),yn=T.sin(tn),ss=T.tan(gn/4),os=4/3*re*ss,pi=4/3*Ce*ss,$e=[ee,de],ht=[ee+os*es,de-pi*Tn],gt=[He+os*yn,Ye-pi*Un],li=[He,Ye];if(ht[0]=2*$e[0]-ht[0],ht[1]=2*$e[1]-ht[1],ut)return[ht,gt,li][f](ai);for(var ni=[],bi=0,Si=(ai=[ht,gt,li][f](ai).join()[y](",")).length;bi<Si;bi++)ni[bi]=bi%2?ct(ai[bi-1],ai[bi],ci).y:ct(ai[bi],ai[bi+1],ci).x;return ni},St=function(ee,de,re,Ce,we,be,ke,He,Ye){var ut=1-Ye;return{x:Y(ut,3)*ee+3*Y(ut,2)*Ye*re+3*ut*Ye*Ye*we+Y(Ye,3)*ke,y:Y(ut,3)*de+3*Y(ut,2)*Ye*Ce+3*ut*Ye*Ye*be+Y(Ye,3)*He}},Ci=Ae(function(ee,de,re,Ce,we,be,ke,He){var Ye,ut=we-2*re+ee-(ke-2*we+re),$t=2*(re-ee)-2*(we-re),gi=ee-re,ci=(-$t+T.sqrt($t*$t-4*ut*gi))/2/ut,ai=(-$t-T.sqrt($t*$t-4*ut*gi))/2/ut,ct=[de,He],Nt=[ee,ke];return $(ci)>"1e12"&&(ci=.5),$(ai)>"1e12"&&(ai=.5),ci>0&&ci<1&&(Ye=St(ee,de,re,Ce,we,be,ke,He,ci),Nt.push(Ye.x),ct.push(Ye.y)),ai>0&&ai<1&&(Ye=St(ee,de,re,Ce,we,be,ke,He,ai),Nt.push(Ye.x),ct.push(Ye.y)),ut=be-2*Ce+de-(He-2*be+Ce),gi=de-Ce,ci=(-($t=2*(Ce-de)-2*(be-Ce))+T.sqrt($t*$t-4*ut*gi))/2/ut,ai=(-$t-T.sqrt($t*$t-4*ut*gi))/2/ut,$(ci)>"1e12"&&(ci=.5),$(ai)>"1e12"&&(ai=.5),ci>0&&ci<1&&(Ye=St(ee,de,re,Ce,we,be,ke,He,ci),Nt.push(Ye.x),ct.push(Ye.y)),ai>0&&ai<1&&(Ye=St(ee,de,re,Ce,we,be,ke,He,ai),Nt.push(Ye.x),ct.push(Ye.y)),{min:{x:B[n](0,Nt),y:B[n](0,ct)},max:{x:F[n](0,Nt),y:F[n](0,ct)}}}),Oi=c._path2curve=Ae(function(ee,de){var re=!de&&Dt(ee);if(!de&&re.curve)return Xt(re.curve);for(var Ce=ft(ee),we=de&&ft(de),be={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ke={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},He=function(mi,ui,Ti){var Ri,tn;if(!mi)return["C",ui.x,ui.y,ui.x,ui.y,ui.x,ui.y];switch(!(mi[0]in{T:1,Q:1})&&(ui.qx=ui.qy=null),mi[0]){case"M":ui.X=mi[1],ui.Y=mi[2];break;case"A":mi=["C"][f](Ge[n](0,[ui.x,ui.y][f](mi.slice(1))));break;case"S":Ti=="C"||Ti=="S"?(Ri=2*ui.x-ui.bx,tn=2*ui.y-ui.by):(Ri=ui.x,tn=ui.y),mi=["C",Ri,tn][f](mi.slice(1));break;case"T":Ti=="Q"||Ti=="T"?(ui.qx=2*ui.x-ui.qx,ui.qy=2*ui.y-ui.qy):(ui.qx=ui.x,ui.qy=ui.y),mi=["C"][f](kt(ui.x,ui.y,ui.qx,ui.qy,mi[1],mi[2]));break;case"Q":ui.qx=mi[1],ui.qy=mi[2],mi=["C"][f](kt(ui.x,ui.y,mi[1],mi[2],mi[3],mi[4]));break;case"L":mi=["C"][f](Bt(ui.x,ui.y,mi[1],mi[2]));break;case"H":mi=["C"][f](Bt(ui.x,ui.y,mi[1],ui.y));break;case"V":mi=["C"][f](Bt(ui.x,ui.y,ui.x,mi[1]));break;case"Z":mi=["C"][f](Bt(ui.x,ui.y,ui.X,ui.Y))}return mi},Ye=function(mi,ui){if(mi[ui].length>7){mi[ui].shift();for(var Ti=mi[ui];Ti.length;)$t[ui]="A",we&&(gi[ui]="A"),mi.splice(ui++,0,["C"][f](Ti.splice(0,6)));mi.splice(ui,1),Nt=F(Ce.length,we&&we.length||0)}},ut=function(mi,ui,Ti,Ri,tn){mi&&ui&&mi[tn][0]=="M"&&ui[tn][0]!="M"&&(ui.splice(tn,0,["M",Ri.x,Ri.y]),Ti.bx=0,Ti.by=0,Ti.x=mi[tn][1],Ti.y=mi[tn][2],Nt=F(Ce.length,we&&we.length||0))},$t=[],gi=[],ci="",ai="",ct=0,Nt=F(Ce.length,we&&we.length||0);ct<Nt;ct++){Ce[ct]&&(ci=Ce[ct][0]),ci!="C"&&($t[ct]=ci,ct&&(ai=$t[ct-1])),Ce[ct]=He(Ce[ct],be,ai),$t[ct]!="A"&&ci=="C"&&($t[ct]="C"),Ye(Ce,ct),we&&(we[ct]&&(ci=we[ct][0]),ci!="C"&&(gi[ct]=ci,ct&&(ai=gi[ct-1])),we[ct]=He(we[ct],ke,ai),gi[ct]!="A"&&ci=="C"&&(gi[ct]="C"),Ye(we,ct)),ut(Ce,we,be,ke,ct),ut(we,Ce,ke,be,ct);var Et=Ce[ct],It=we&&we[ct],Gt=Et.length,zt=we&&It.length;be.x=Et[Gt-2],be.y=Et[Gt-1],be.bx=j(Et[Gt-4])||be.x,be.by=j(Et[Gt-3])||be.y,ke.bx=we&&(j(It[zt-4])||ke.x),ke.by=we&&(j(It[zt-3])||ke.y),ke.x=we&&It[zt-2],ke.y=we&&It[zt-1]}return we||(re.curve=Xt(Ce)),we?[Ce,we]:Ce},null,Xt),xi=(c._parseDots=Ae(function(ee){for(var de=[],re=0,Ce=ee.length;re<Ce;re++){var we={},be=ee[re].match(/^([^:]*):?([\d\.]*)/);if(we.color=c.getRGB(be[1]),we.color.error)return null;we.opacity=we.color.opacity,we.color=we.color.hex,be[2]&&(we.offset=be[2]+"%"),de.push(we)}for(re=1,Ce=de.length-1;re<Ce;re++)if(!de[re].offset){for(var ke=j(de[re-1].offset||0),He=0,Ye=re+1;Ye<Ce;Ye++)if(de[Ye].offset){He=de[Ye].offset;break}He||(He=100,Ye=Ce);for(var ut=((He=j(He))-ke)/(Ye-re+1);re<Ye;re++)ke+=ut,de[re].offset=ke+"%"}return de}),c._tear=function(ee,de){ee==de.top&&(de.top=ee.prev),ee==de.bottom&&(de.bottom=ee.next),ee.next&&(ee.next.prev=ee.prev),ee.prev&&(ee.prev.next=ee.next)}),Yi=(c._tofront=function(ee,de){de.top!==ee&&(xi(ee,de),ee.next=null,ee.prev=de.top,de.top.next=ee,de.top=ee)},c._toback=function(ee,de){de.bottom!==ee&&(xi(ee,de),ee.next=de.bottom,ee.prev=null,de.bottom.prev=ee,de.bottom=ee)},c._insertafter=function(ee,de,re){xi(ee,re),de==re.top&&(re.top=ee),de.next&&(de.next.prev=ee),ee.next=de.next,ee.prev=de,de.next=ee},c._insertbefore=function(ee,de,re){xi(ee,re),de==re.bottom&&(re.bottom=ee),de.prev&&(de.prev.next=ee),ee.prev=de.prev,de.prev=ee,ee.next=de},c.toMatrix=function(ee,de){var re=ei(ee),Ce={_:{transform:a},getBBox:function(){return re}};return fn(Ce,de),Ce.matrix}),fn=(c.transformPath=function(ee,de){return Se(ee,Yi(ee,de))},c._extractTransform=function(ee,de){if(de==null)return ee._.transform;de=g(de).replace(/\.{3}|\u2026/g,ee._.transform||a);var re,Ce,we=c.parseTransformString(de),be=0,ke=1,He=1,Ye=ee._,ut=new Dn;if(Ye.transform=we||[],we)for(var $t=0,gi=we.length;$t<gi;$t++){var ci,ai,ct,Nt,Et,It=we[$t],Gt=It.length,zt=g(It[0]).toLowerCase(),mi=It[0]!=zt,ui=mi?ut.invert():0;zt=="t"&&Gt==3?mi?(ci=ui.x(0,0),ai=ui.y(0,0),ct=ui.x(It[1],It[2]),Nt=ui.y(It[1],It[2]),ut.translate(ct-ci,Nt-ai)):ut.translate(It[1],It[2]):zt=="r"?Gt==2?(Et=Et||ee.getBBox(1),ut.rotate(It[1],Et.x+Et.width/2,Et.y+Et.height/2),be+=It[1]):Gt==4&&(mi?(ct=ui.x(It[2],It[3]),Nt=ui.y(It[2],It[3]),ut.rotate(It[1],ct,Nt)):ut.rotate(It[1],It[2],It[3]),be+=It[1]):zt=="s"?Gt==2||Gt==3?(Et=Et||ee.getBBox(1),ut.scale(It[1],It[Gt-1],Et.x+Et.width/2,Et.y+Et.height/2),ke*=It[1],He*=It[Gt-1]):Gt==5&&(mi?(ct=ui.x(It[3],It[4]),Nt=ui.y(It[3],It[4]),ut.scale(It[1],It[2],ct,Nt)):ut.scale(It[1],It[2],It[3],It[4]),ke*=It[1],He*=It[2]):zt=="m"&&Gt==7&&ut.add(It[1],It[2],It[3],It[4],It[5],It[6]),Ye.dirtyT=1,ee.matrix=ut}ee.matrix=ut,Ye.sx=ke,Ye.sy=He,Ye.deg=be,Ye.dx=re=ut.e,Ye.dy=Ce=ut.f,ke==1&&He==1&&!be&&Ye.bbox?(Ye.bbox.x+=+re,Ye.bbox.y+=+Ce):Ye.dirtyT=1}),un=function(ee){var de=ee[0];switch(de.toLowerCase()){case"t":return[de,0,0];case"m":return[de,1,0,0,1,0,0];case"r":return ee.length==4?[de,0,ee[2],ee[3]]:[de,0];case"s":return ee.length==5?[de,1,1,ee[3],ee[4]]:ee.length==3?[de,1,1]:[de,1]}},Pn=c._equaliseTransform=function(ee,de){de=g(de).replace(/\.{3}|\u2026/g,ee),ee=c.parseTransformString(ee)||[],de=c.parseTransformString(de)||[];for(var re,Ce,we,be,ke=F(ee.length,de.length),He=[],Ye=[],ut=0;ut<ke;ut++){if(we=ee[ut]||un(de[ut]),be=de[ut]||un(we),we[0]!=be[0]||we[0].toLowerCase()=="r"&&(we[2]!=be[2]||we[3]!=be[3])||we[0].toLowerCase()=="s"&&(we[3]!=be[3]||we[4]!=be[4]))return;for(He[ut]=[],Ye[ut]=[],re=0,Ce=F(we.length,be.length);re<Ce;re++)re in we&&(He[ut][re]=we[re]),re in be&&(Ye[ut][re]=be[re])}return{from:He,to:Ye}};function Dn(ee,de,re,Ce,we,be){ee!=null?(this.a=+ee,this.b=+de,this.c=+re,this.d=+Ce,this.e=+we,this.f=+be):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}c._getContainer=function(ee,de,re,Ce){var we;if((we=Ce!=null||c.is(ee,"object")?ee:d.doc.getElementById(ee))!=null)return we.tagName?de==null?{container:we,width:we.style.pixelWidth||we.offsetWidth,height:we.style.pixelHeight||we.offsetHeight}:{container:we,width:de,height:re}:{container:1,x:ee,y:de,width:re,height:Ce}},c.pathToRelative=Ct,c._engine={},c.path2curve=Oi,c.matrix=function(ee,de,re,Ce,we,be){return new Dn(ee,de,re,Ce,we,be)},function(ee){function de(Ce){return Ce[0]*Ce[0]+Ce[1]*Ce[1]}function re(Ce){var we=T.sqrt(de(Ce));Ce[0]&&(Ce[0]/=we),Ce[1]&&(Ce[1]/=we)}ee.add=function(Ce,we,be,ke,He,Ye){var ut,$t,gi,ci,ai=[[],[],[]],ct=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],Nt=[[Ce,be,He],[we,ke,Ye],[0,0,1]];for(Ce&&Ce instanceof Dn&&(Nt=[[Ce.a,Ce.c,Ce.e],[Ce.b,Ce.d,Ce.f],[0,0,1]]),ut=0;ut<3;ut++)for($t=0;$t<3;$t++){for(ci=0,gi=0;gi<3;gi++)ci+=ct[ut][gi]*Nt[gi][$t];ai[ut][$t]=ci}this.a=ai[0][0],this.b=ai[1][0],this.c=ai[0][1],this.d=ai[1][1],this.e=ai[0][2],this.f=ai[1][2]},ee.invert=function(){var Ce=this,we=Ce.a*Ce.d-Ce.b*Ce.c;return new Dn(Ce.d/we,-Ce.b/we,-Ce.c/we,Ce.a/we,(Ce.c*Ce.f-Ce.d*Ce.e)/we,(Ce.b*Ce.e-Ce.a*Ce.f)/we)},ee.clone=function(){return new Dn(this.a,this.b,this.c,this.d,this.e,this.f)},ee.translate=function(Ce,we){this.add(1,0,0,1,Ce,we)},ee.scale=function(Ce,we,be,ke){we==null&&(we=Ce),(be||ke)&&this.add(1,0,0,1,be,ke),this.add(Ce,0,0,we,0,0),(be||ke)&&this.add(1,0,0,1,-be,-ke)},ee.rotate=function(Ce,we,be){Ce=c.rad(Ce),we=we||0,be=be||0;var ke=+T.cos(Ce).toFixed(9),He=+T.sin(Ce).toFixed(9);this.add(ke,He,-He,ke,we,be),this.add(1,0,0,1,-we,-be)},ee.x=function(Ce,we){return Ce*this.a+we*this.c+this.e},ee.y=function(Ce,we){return Ce*this.b+we*this.d+this.f},ee.get=function(Ce){return+this[g.fromCharCode(97+Ce)].toFixed(4)},ee.toString=function(){return c.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},ee.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},ee.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},ee.split=function(){var Ce={};Ce.dx=this.e,Ce.dy=this.f;var we=[[this.a,this.c],[this.b,this.d]];Ce.scalex=T.sqrt(de(we[0])),re(we[0]),Ce.shear=we[0][0]*we[1][0]+we[0][1]*we[1][1],we[1]=[we[1][0]-we[0][0]*Ce.shear,we[1][1]-we[0][1]*Ce.shear],Ce.scaley=T.sqrt(de(we[1])),re(we[1]),Ce.shear/=Ce.scaley;var be=-we[0][1],ke=we[1][1];return ke<0?(Ce.rotate=c.deg(T.acos(ke)),be<0&&(Ce.rotate=360-Ce.rotate)):Ce.rotate=c.deg(T.asin(be)),Ce.isSimple=!(+Ce.shear.toFixed(9)||Ce.scalex.toFixed(9)!=Ce.scaley.toFixed(9)&&Ce.rotate),Ce.isSuperSimple=!+Ce.shear.toFixed(9)&&Ce.scalex.toFixed(9)==Ce.scaley.toFixed(9)&&!Ce.rotate,Ce.noRotation=!+Ce.shear.toFixed(9)&&!Ce.rotate,Ce},ee.toTransformString=function(Ce){var we=Ce||this[y]();return we.isSimple?(we.scalex=+we.scalex.toFixed(4),we.scaley=+we.scaley.toFixed(4),we.rotate=+we.rotate.toFixed(4),(we.dx||we.dy?"t"+[we.dx,we.dy]:a)+(we.scalex!=1||we.scaley!=1?"s"+[we.scalex,we.scaley,0,0]:a)+(we.rotate?"r"+[we.rotate,0,0]:a)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Dn.prototype);for(var Gn=function(){this.returnValue=!1},Rn=function(){return this.originalEvent.preventDefault()},ns=function(){this.cancelBubble=!0},ts=function(){return this.originalEvent.stopPropagation()},qn=function(ee){var de=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,re=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft;return{x:ee.clientX+re,y:ee.clientY+de}},fs=d.doc.addEventListener?function(ee,de,re,Ce){var we=function(ke){var He=qn(ke);return re.call(Ce,ke,He.x,He.y)};if(ee.addEventListener(de,we,!1),v&&L[de]){var be=function(ke){for(var He=qn(ke),Ye=ke,ut=0,$t=ke.targetTouches&&ke.targetTouches.length;ut<$t;ut++)if(ke.targetTouches[ut].target==ee){(ke=ke.targetTouches[ut]).originalEvent=Ye,ke.preventDefault=Rn,ke.stopPropagation=ts;break}return re.call(Ce,ke,He.x,He.y)};ee.addEventListener(L[de],be,!1)}return function(){return ee.removeEventListener(de,we,!1),v&&L[de]&&ee.removeEventListener(L[de],be,!1),!0}}:d.doc.attachEvent?function(ee,de,re,Ce){var we=function(be){be=be||d.win.event;var ke=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,He=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft,Ye=be.clientX+He,ut=be.clientY+ke;return be.preventDefault=be.preventDefault||Gn,be.stopPropagation=be.stopPropagation||ns,re.call(Ce,be,Ye,ut)};return ee.attachEvent("on"+de,we),function(){return ee.detachEvent("on"+de,we),!0}}:void 0,Nn=[],cs=function(ee){for(var de,re=ee.clientX,Ce=ee.clientY,we=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,be=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft,ke=Nn.length;ke--;){if(de=Nn[ke],v&&ee.touches){for(var He,Ye=ee.touches.length;Ye--;)if((He=ee.touches[Ye]).identifier==de.el._drag.id){re=He.clientX,Ce=He.clientY,(ee.originalEvent?ee.originalEvent:ee).preventDefault();break}}else ee.preventDefault();var ut,$t=de.el.node,gi=$t.nextSibling,ci=$t.parentNode,ai=$t.style.display;d.win.opera&&ci.removeChild($t),$t.style.display="none",ut=de.el.paper.getElementByPoint(re,Ce),$t.style.display=ai,d.win.opera&&(gi?ci.insertBefore($t,gi):ci.appendChild($t)),ut&&E("raphael.drag.over."+de.el.id,de.el,ut),re+=be,Ce+=we,E("raphael.drag.move."+de.el.id,de.move_scope||de.el,re-de.el._drag.x,Ce-de.el._drag.y,re,Ce,ee)}},Ei=function(ee){c.unmousemove(cs).unmouseup(Ei);for(var de,re=Nn.length;re--;)(de=Nn[re]).el._drag={},E("raphael.drag.end."+de.el.id,de.end_scope||de.start_scope||de.move_scope||de.el,ee);Nn=[]},et=c.el={},wt=C.length;wt--;)(function(ee){c[ee]=et[ee]=function(de,re){return c.is(de,"function")&&(this.events=this.events||[],this.events.push({name:ee,f:de,unbind:fs(this.shape||this.node||d.doc,ee,de,re||this)})),this},c["un"+ee]=et["un"+ee]=function(de){for(var re=this.events||[],Ce=re.length;Ce--;)re[Ce].name!=ee||!c.is(de,"undefined")&&re[Ce].f!=de||(re[Ce].unbind(),re.splice(Ce,1),!re.length&&delete this.events);return this}})(C[wt]);et.data=function(ee,de){var re=Te[this.id]=Te[this.id]||{};if(arguments.length==0)return re;if(arguments.length==1){if(c.is(ee,"object")){for(var Ce in ee)ee[o](Ce)&&this.data(Ce,ee[Ce]);return this}return E("raphael.data.get."+this.id,this,re[ee],ee),re[ee]}return re[ee]=de,E("raphael.data.set."+this.id,this,de,ee),this},et.removeData=function(ee){return ee==null?delete Te[this.id]:Te[this.id]&&delete Te[this.id][ee],this},et.getData=function(){return Oe(Te[this.id]||{})},et.hover=function(ee,de,re,Ce){return this.mouseover(ee,re).mouseout(de,Ce||re)},et.unhover=function(ee,de){return this.unmouseover(ee).unmouseout(de)};var Yt=[];et.drag=function(ee,de,re,Ce,we,be){function ke(He){(He.originalEvent||He).preventDefault();var Ye=He.clientX,ut=He.clientY,$t=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,gi=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft;if(this._drag.id=He.identifier,v&&He.touches){for(var ci,ai=He.touches.length;ai--;)if(ci=He.touches[ai],this._drag.id=ci.identifier,ci.identifier==this._drag.id){Ye=ci.clientX,ut=ci.clientY;break}}this._drag.x=Ye+gi,this._drag.y=ut+$t,!Nn.length&&c.mousemove(cs).mouseup(Ei),Nn.push({el:this,move_scope:Ce,start_scope:we,end_scope:be}),de&&E.on("raphael.drag.start."+this.id,de),ee&&E.on("raphael.drag.move."+this.id,ee),re&&E.on("raphael.drag.end."+this.id,re),E("raphael.drag.start."+this.id,we||Ce||this,this._drag.x,this._drag.y,He)}return this._drag={},Yt.push({el:this,start:ke}),this.mousedown(ke),this},et.onDragOver=function(ee){ee?E.on("raphael.drag.over."+this.id,ee):E.unbind("raphael.drag.over."+this.id)},et.undrag=function(){for(var ee=Yt.length;ee--;)Yt[ee].el==this&&(this.unmousedown(Yt[ee].start),Yt.splice(ee,1),E.unbind("raphael.drag.*."+this.id));!Yt.length&&c.unmousemove(cs).unmouseup(Ei),Nn=[]},I.circle=function(ee,de,re){var Ce=c._engine.circle(this,ee||0,de||0,re||0);return this.__set__&&this.__set__.push(Ce),Ce},I.rect=function(ee,de,re,Ce,we){var be=c._engine.rect(this,ee||0,de||0,re||0,Ce||0,we||0);return this.__set__&&this.__set__.push(be),be},I.ellipse=function(ee,de,re,Ce){var we=c._engine.ellipse(this,ee||0,de||0,re||0,Ce||0);return this.__set__&&this.__set__.push(we),we},I.path=function(ee){ee&&!c.is(ee,"string")&&!c.is(ee[0],V)&&(ee+=a);var de=c._engine.path(c.format[n](c,arguments),this);return this.__set__&&this.__set__.push(de),de},I.image=function(ee,de,re,Ce,we){var be=c._engine.image(this,ee||"about:blank",de||0,re||0,Ce||0,we||0);return this.__set__&&this.__set__.push(be),be},I.text=function(ee,de,re){var Ce=c._engine.text(this,ee||0,de||0,g(re));return this.__set__&&this.__set__.push(Ce),Ce},I.set=function(ee){!c.is(ee,"array")&&(ee=Array.prototype.splice.call(arguments,0,arguments.length));var de=new hi(ee);return this.__set__&&this.__set__.push(de),de.paper=this,de.type="set",de},I.setStart=function(ee){this.__set__=ee||this.set()},I.setFinish=function(ee){var de=this.__set__;return delete this.__set__,de},I.getSize=function(){var ee=this.canvas.parentNode;return{width:ee.offsetWidth,height:ee.offsetHeight}},I.setSize=function(ee,de){return c._engine.setSize.call(this,ee,de)},I.setViewBox=function(ee,de,re,Ce,we){return c._engine.setViewBox.call(this,ee,de,re,Ce,we)},I.top=I.bottom=null,I.raphael=c;function ri(){return this.x+S+this.y+S+this.width+" \xD7 "+this.height}I.getElementByPoint=function(ee,de){var re,Ce,we,be,ke,He,Ye,ut=this.canvas,$t=d.doc.elementFromPoint(ee,de);if(d.win.opera&&$t.tagName=="svg"){var gi=(Ce=(re=ut).getBoundingClientRect(),we=re.ownerDocument,be=we.body,ke=we.documentElement,He=ke.clientTop||be.clientTop||0,Ye=ke.clientLeft||be.clientLeft||0,{y:Ce.top+(d.win.pageYOffset||ke.scrollTop||be.scrollTop)-He,x:Ce.left+(d.win.pageXOffset||ke.scrollLeft||be.scrollLeft)-Ye}),ci=ut.createSVGRect();ci.x=ee-gi.x,ci.y=de-gi.y,ci.width=ci.height=1;var ai=ut.getIntersectionList(ci,null);ai.length&&($t=ai[ai.length-1])}if(!$t)return null;for(;$t.parentNode&&$t!=ut.parentNode&&!$t.raphael;)$t=$t.parentNode;return $t==this.canvas.parentNode&&($t=ut),$t=$t&&$t.raphael?this.getById($t.raphaelid):null},I.getElementsByBBox=function(ee){var de=this.set();return this.forEach(function(re){c.isBBoxIntersect(re.getBBox(),ee)&&de.push(re)}),de},I.getById=function(ee){for(var de=this.bottom;de;){if(de.id==ee)return de;de=de.next}return null},I.forEach=function(ee,de){for(var re=this.bottom;re;){if(ee.call(de,re)===!1)return this;re=re.next}return this},I.getElementsByPoint=function(ee,de){var re=this.set();return this.forEach(function(Ce){Ce.isPointInside(ee,de)&&re.push(Ce)}),re},et.isPointInside=function(ee,de){var re=this.realPath=ze[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(re=c.transformPath(re,this.attr("transform"))),c.isPointInsidePath(re,ee,de)},et.getBBox=function(ee){if(this.removed)return{};var de=this._;return ee?(!de.dirty&&de.bboxwt||(this.realPath=ze[this.type](this),de.bboxwt=ei(this.realPath),de.bboxwt.toString=ri,de.dirty=0),de.bboxwt):((de.dirty||de.dirtyT||!de.bbox)&&(!de.dirty&&this.realPath||(de.bboxwt=0,this.realPath=ze[this.type](this)),de.bbox=ei(Se(this.realPath,this.matrix)),de.bbox.toString=ri,de.dirty=de.dirtyT=0),de.bbox)},et.clone=function(){if(this.removed)return null;var ee=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(ee),ee},et.glow=function(ee){if(this.type=="text")return null;var de={width:((ee=ee||{}).width||10)+(+this.attr("stroke-width")||1),fill:ee.fill||!1,opacity:ee.opacity==null?.5:ee.opacity,offsetx:ee.offsetx||0,offsety:ee.offsety||0,color:ee.color||"#000"},re=de.width/2,Ce=this.paper,we=Ce.set(),be=this.realPath||ze[this.type](this);be=this.matrix?Se(be,this.matrix):be;for(var ke=1;ke<re+1;ke++)we.push(Ce.path(be).attr({stroke:de.color,fill:de.fill?de.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(de.width/re*ke).toFixed(3),opacity:+(de.opacity/re).toFixed(3)}));return we.insertBefore(this).translate(de.offsetx,de.offsety)};var vi=function(ee,de,re,Ce,we,be,ke,He,Ye){return Ye==null?vt(ee,de,re,Ce,we,be,ke,He):c.findDotsAtSegment(ee,de,re,Ce,we,be,ke,He,function(ut,$t,gi,ci,ai,ct,Nt,Et,It){if(!(It<0||vt(ut,$t,gi,ci,ai,ct,Nt,Et)<It)){var Gt,zt=.5,mi=1-zt;for(Gt=vt(ut,$t,gi,ci,ai,ct,Nt,Et,mi);$(Gt-It)>.01;)Gt=vt(ut,$t,gi,ci,ai,ct,Nt,Et,mi+=(Gt<It?1:-1)*(zt/=2));return mi}}(ee,de,re,Ce,we,be,ke,He,Ye))},Wi=function(ee,de){return function(re,Ce,we){for(var be,ke,He,Ye,ut,$t="",gi={},ci=0,ai=0,ct=(re=Oi(re)).length;ai<ct;ai++){if((He=re[ai])[0]=="M")be=+He[1],ke=+He[2];else{if(ci+(Ye=vi(be,ke,He[1],He[2],He[3],He[4],He[5],He[6]))>Ce){if(de&&!gi.start){if($t+=["C"+(ut=vi(be,ke,He[1],He[2],He[3],He[4],He[5],He[6],Ce-ci)).start.x,ut.start.y,ut.m.x,ut.m.y,ut.x,ut.y],we)return $t;gi.start=$t,$t=["M"+ut.x,ut.y+"C"+ut.n.x,ut.n.y,ut.end.x,ut.end.y,He[5],He[6]].join(),ci+=Ye,be=+He[5],ke=+He[6];continue}if(!ee&&!de)return{x:(ut=vi(be,ke,He[1],He[2],He[3],He[4],He[5],He[6],Ce-ci)).x,y:ut.y,alpha:ut.alpha}}ci+=Ye,be=+He[5],ke=+He[6]}$t+=He.shift()+He}return gi.end=$t,(ut=ee?ci:de?gi:c.findDotsAtSegment(be,ke,He[0],He[1],He[2],He[3],He[4],He[5],1)).alpha&&(ut={x:ut.x,y:ut.y,alpha:ut.alpha}),ut}},$i=Wi(1),Ot=Wi(),yt=Wi(0,1);c.getTotalLength=$i,c.getPointAtLength=Ot,c.getSubpath=function(ee,de,re){if(this.getTotalLength(ee)-re<1e-6)return yt(ee,de).end;var Ce=yt(ee,re,1);return de?yt(Ce,de).end:Ce},et.getTotalLength=function(){var ee=this.getPath();if(ee)return this.node.getTotalLength?this.node.getTotalLength():$i(ee)},et.getPointAtLength=function(ee){var de=this.getPath();if(de)return Ot(de,ee)},et.getPath=function(){var ee,de=c._getPath[this.type];if(this.type!="text"&&this.type!="set")return de&&(ee=de(this)),ee},et.getSubpath=function(ee,de){var re=this.getPath();if(re)return c.getSubpath(re,ee,de)};var si=c.easing_formulas={linear:function(ee){return ee},"<":function(ee){return Y(ee,1.7)},">":function(ee){return Y(ee,.48)},"<>":function(ee){var de=.48-ee/1.04,re=T.sqrt(.1734+de*de),Ce=re-de,we=-re-de,be=Y($(Ce),1/3)*(Ce<0?-1:1)+Y($(we),1/3)*(we<0?-1:1)+.5;return 3*(1-be)*be*be+be*be*be},backIn:function(ee){var de=1.70158;return ee*ee*((de+1)*ee-de)},backOut:function(ee){var de=1.70158;return(ee-=1)*ee*((de+1)*ee+de)+1},elastic:function(ee){return ee==!!ee?ee:Y(2,-10*ee)*T.sin(2*P*(ee-.075)/.3)+1},bounce:function(ee){var de=7.5625,re=2.75;return ee<1/re?de*ee*ee:ee<2/re?de*(ee-=1.5/re)*ee+.75:ee<2.5/re?de*(ee-=2.25/re)*ee+.9375:de*(ee-=2.625/re)*ee+.984375}};si.easeIn=si["ease-in"]=si["<"],si.easeOut=si["ease-out"]=si[">"],si.easeInOut=si["ease-in-out"]=si["<>"],si["back-in"]=si.backIn,si["back-out"]=si.backOut;var ii=[],Ui=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(ee){setTimeout(ee,16)},an=function(){for(var ee=+new Date,de=0;de<ii.length;de++){var re=ii[de];if(!re.el.removed&&!re.paused){var Ce,we,be=ee-re.start,ke=re.ms,He=re.easing,Ye=re.from,ut=re.diff,$t=re.to,gi=(re.t,re.el),ci={},ai={};if(re.initstatus?(be=(re.initstatus*re.anim.top-re.prev)/(re.percent-re.prev)*ke,re.status=re.initstatus,delete re.initstatus,re.stop&&ii.splice(de--,1)):re.status=(re.prev+(re.percent-re.prev)*(be/ke))/re.anim.top,!(be<0))if(be<ke){var ct=He(be/ke);for(var Nt in Ye)if(Ye[o](Nt)){switch(J[Nt]){case w:Ce=+Ye[Nt]+ct*ke*ut[Nt];break;case"colour":Ce="rgb("+[en(G(Ye[Nt].r+ct*ke*ut[Nt].r)),en(G(Ye[Nt].g+ct*ke*ut[Nt].g)),en(G(Ye[Nt].b+ct*ke*ut[Nt].b))].join(",")+")";break;case"path":Ce=[];for(var Et=0,It=Ye[Nt].length;Et<It;Et++){Ce[Et]=[Ye[Nt][Et][0]];for(var Gt=1,zt=Ye[Nt][Et].length;Gt<zt;Gt++)Ce[Et][Gt]=+Ye[Nt][Et][Gt]+ct*ke*ut[Nt][Et][Gt];Ce[Et]=Ce[Et].join(S)}Ce=Ce.join(S);break;case"transform":if(ut[Nt].real)for(Ce=[],Et=0,It=Ye[Nt].length;Et<It;Et++)for(Ce[Et]=[Ye[Nt][Et][0]],Gt=1,zt=Ye[Nt][Et].length;Gt<zt;Gt++)Ce[Et][Gt]=Ye[Nt][Et][Gt]+ct*ke*ut[Nt][Et][Gt];else{var mi=function(Ti){return+Ye[Nt][Ti]+ct*ke*ut[Nt][Ti]};Ce=[["m",mi(0),mi(1),mi(2),mi(3),mi(4),mi(5)]]}break;case"csv":if(Nt=="clip-rect")for(Ce=[],Et=4;Et--;)Ce[Et]=+Ye[Nt][Et]+ct*ke*ut[Nt][Et];break;default:var ui=[][f](Ye[Nt]);for(Ce=[],Et=gi.paper.customAttributes[Nt].length;Et--;)Ce[Et]=+ui[Et]+ct*ke*ut[Nt][Et]}ci[Nt]=Ce}gi.attr(ci),function(Ti,Ri,tn){setTimeout(function(){E("raphael.anim.frame."+Ti,Ri,tn)})}(gi.id,gi,re.anim)}else{if(function(Ti,Ri,tn){setTimeout(function(){E("raphael.anim.frame."+Ri.id,Ri,tn),E("raphael.anim.finish."+Ri.id,Ri,tn),c.is(Ti,"function")&&Ti.call(Ri)})}(re.callback,gi,re.anim),gi.attr($t),ii.splice(de--,1),re.repeat>1&&!re.next){for(we in $t)$t[o](we)&&(ai[we]=re.totalOrigin[we]);re.el.attr(ai),On(re.anim,re.el,re.anim.percents[0],null,re.totalOrigin,re.repeat-1)}re.next&&!re.stop&&On(re.anim,re.el,re.next,null,re.totalOrigin,re.repeat)}}}ii.length&&Ui(an)},en=function(ee){return ee>255?255:ee<0?0:ee};function In(ee,de,re,Ce,we,be){var ke=3*de,He=3*(Ce-de)-ke,Ye=1-ke-He,ut=3*re,$t=3*(we-re)-ut,gi=1-ut-$t;function ci(ai){return((Ye*ai+He)*ai+ke)*ai}return function(ai,ct){var Nt=function(Et,It){var Gt,zt,mi,ui,Ti,Ri;for(mi=Et,Ri=0;Ri<8;Ri++){if(ui=ci(mi)-Et,$(ui)<It)return mi;if($(Ti=(3*Ye*mi+2*He)*mi+ke)<1e-6)break;mi-=ui/Ti}if(zt=1,(mi=Et)<(Gt=0))return Gt;if(mi>zt)return zt;for(;Gt<zt;){if(ui=ci(mi),$(ui-Et)<It)return mi;Et>ui?Gt=mi:zt=mi,mi=(zt-Gt)/2+Gt}return mi}(ai,ct);return((gi*Nt+$t)*Nt+ut)*Nt}(ee,1/(200*be))}function Fn(ee,de){var re=[],Ce={};if(this.ms=de,this.times=1,ee){for(var we in ee)ee[o](we)&&(Ce[j(we)]=ee[we],re.push(j(we)));re.sort(De)}this.anim=Ce,this.top=re[re.length-1],this.percents=re}function On(ee,de,re,Ce,we,be){re=j(re);var ke,He,Ye,ut,$t,gi,ci=ee.ms,ai={},ct={},Nt={};if(Ce)for(It=0,Gt=ii.length;It<Gt;It++){var Et=ii[It];if(Et.el.id==de.id&&Et.anim==ee){Et.percent!=re?(ii.splice(It,1),Ye=1):He=Et,de.attr(Et.totalOrigin);break}}else Ce=+ct;for(var It=0,Gt=ee.percents.length;It<Gt;It++){if(ee.percents[It]==re||ee.percents[It]>Ce*ee.top){re=ee.percents[It],$t=ee.percents[It-1]||0,ci=ci/ee.top*(re-$t),ut=ee.percents[It+1],ke=ee.anim[re];break}Ce&&de.attr(ee.anim[ee.percents[It]])}if(ke){if(He)He.initstatus=Ce,He.start=new Date-He.ms*Ce;else{for(var zt in ke)if(ke[o](zt)&&(J[o](zt)||de.paper.customAttributes[o](zt)))switch(ai[zt]=de.attr(zt),ai[zt]==null&&(ai[zt]=m[zt]),ct[zt]=ke[zt],J[zt]){case w:Nt[zt]=(ct[zt]-ai[zt])/ci;break;case"colour":ai[zt]=c.getRGB(ai[zt]);var mi=c.getRGB(ct[zt]);Nt[zt]={r:(mi.r-ai[zt].r)/ci,g:(mi.g-ai[zt].g)/ci,b:(mi.b-ai[zt].b)/ci};break;case"path":var ui=Oi(ai[zt],ct[zt]),Ti=ui[1];for(ai[zt]=ui[0],Nt[zt]=[],It=0,Gt=ai[zt].length;It<Gt;It++){Nt[zt][It]=[0];for(var Ri=1,tn=ai[zt][It].length;Ri<tn;Ri++)Nt[zt][It][Ri]=(Ti[It][Ri]-ai[zt][It][Ri])/ci}break;case"transform":var gn=de._,wn=Pn(gn[zt],ct[zt]);if(wn)for(ai[zt]=wn.from,ct[zt]=wn.to,Nt[zt]=[],Nt[zt].real=!0,It=0,Gt=ai[zt].length;It<Gt;It++)for(Nt[zt][It]=[ai[zt][It][0]],Ri=1,tn=ai[zt][It].length;Ri<tn;Ri++)Nt[zt][It][Ri]=(ct[zt][It][Ri]-ai[zt][It][Ri])/ci;else{var An=de.matrix||new Dn,Bn={_:{transform:gn.transform},getBBox:function(){return de.getBBox(1)}};ai[zt]=[An.a,An.b,An.c,An.d,An.e,An.f],fn(Bn,ct[zt]),ct[zt]=Bn._.transform,Nt[zt]=[(Bn.matrix.a-An.a)/ci,(Bn.matrix.b-An.b)/ci,(Bn.matrix.c-An.c)/ci,(Bn.matrix.d-An.d)/ci,(Bn.matrix.e-An.e)/ci,(Bn.matrix.f-An.f)/ci]}break;case"csv":var Tn=g(ke[zt])[y](M),es=g(ai[zt])[y](M);if(zt=="clip-rect")for(ai[zt]=es,Nt[zt]=[],It=es.length;It--;)Nt[zt][It]=(Tn[It]-ai[zt][It])/ci;ct[zt]=Tn;break;default:for(Tn=[][f](ke[zt]),es=[][f](ai[zt]),Nt[zt]=[],It=de.paper.customAttributes[zt].length;It--;)Nt[zt][It]=((Tn[It]||0)-(es[It]||0))/ci}var Un=ke.easing,yn=c.easing_formulas[Un];if(!yn)if((yn=g(Un).match(U))&&yn.length==5){var ss=yn;yn=function(os){return In(os,+ss[1],+ss[2],+ss[3],+ss[4],ci)}}else yn=ae;if(Et={anim:ee,percent:re,timestamp:gi=ke.start||ee.start||+new Date,start:gi+(ee.del||0),status:0,initstatus:Ce||0,stop:!1,ms:ci,easing:yn,from:ai,diff:Nt,to:ct,el:de,callback:ke.callback,prev:$t,next:ut,repeat:be||ee.times,origin:de.attr(),totalOrigin:we},ii.push(Et),Ce&&!He&&!Ye&&(Et.stop=!0,Et.start=new Date-ci*Ce,ii.length==1))return an();Ye&&(Et.start=new Date-Et.ms*Ce),ii.length==1&&Ui(an)}E("raphael.anim.start."+de.id,de,ee)}}function Mi(ee){for(var de=0;de<ii.length;de++)ii[de].el.paper==ee&&ii.splice(de--,1)}et.animateWith=function(ee,de,re,Ce,we,be){if(this.removed)return be&&be.call(this),this;var ke=re instanceof Fn?re:c.animation(re,Ce,we,be);On(ke,this,ke.percents[0],null,this.attr());for(var He=0,Ye=ii.length;He<Ye;He++)if(ii[He].anim==de&&ii[He].el==ee){ii[Ye-1].start=ii[He].start;break}return this},et.onAnimation=function(ee){return ee?E.on("raphael.anim.frame."+this.id,ee):E.unbind("raphael.anim.frame."+this.id),this},Fn.prototype.delay=function(ee){var de=new Fn(this.anim,this.ms);return de.times=this.times,de.del=+ee||0,de},Fn.prototype.repeat=function(ee){var de=new Fn(this.anim,this.ms);return de.del=this.del,de.times=T.floor(F(ee,0))||1,de},c.animation=function(ee,de,re,Ce){if(ee instanceof Fn)return ee;!c.is(re,"function")&&re||(Ce=Ce||re||null,re=null),ee=Object(ee),de=+de||0;var we,be,ke={};for(be in ee)ee[o](be)&&j(be)!=be&&j(be)+"%"!=be&&(we=!0,ke[be]=ee[be]);if(we)return re&&(ke.easing=re),Ce&&(ke.callback=Ce),new Fn({100:ke},de);if(Ce){var He=0;for(var Ye in ee){var ut=W(Ye);ee[o](Ye)&&ut>He&&(He=ut)}!ee[He+="%"].callback&&(ee[He].callback=Ce)}return new Fn(ee,de)},et.animate=function(ee,de,re,Ce){if(this.removed)return Ce&&Ce.call(this),this;var we=ee instanceof Fn?ee:c.animation(ee,de,re,Ce);return On(we,this,we.percents[0],null,this.attr()),this},et.setTime=function(ee,de){return ee&&de!=null&&this.status(ee,B(de,ee.ms)/ee.ms),this},et.status=function(ee,de){var re,Ce,we=[],be=0;if(de!=null)return On(ee,this,-1,B(de,1)),this;for(re=ii.length;be<re;be++)if((Ce=ii[be]).el.id==this.id&&(!ee||Ce.anim==ee)){if(ee)return Ce.status;we.push({anim:Ce.anim,status:Ce.status})}return ee?0:we},et.pause=function(ee){for(var de=0;de<ii.length;de++)ii[de].el.id!=this.id||ee&&ii[de].anim!=ee||E("raphael.anim.pause."+this.id,this,ii[de].anim)!==!1&&(ii[de].paused=!0);return this},et.resume=function(ee){for(var de=0;de<ii.length;de++)if(ii[de].el.id==this.id&&(!ee||ii[de].anim==ee)){var re=ii[de];E("raphael.anim.resume."+this.id,this,re.anim)!==!1&&(delete re.paused,this.status(re.anim,re.status))}return this},et.stop=function(ee){for(var de=0;de<ii.length;de++)ii[de].el.id!=this.id||ee&&ii[de].anim!=ee||E("raphael.anim.stop."+this.id,this,ii[de].anim)!==!1&&ii.splice(de--,1);return this},E.on("raphael.remove",Mi),E.on("raphael.clear",Mi),et.toString=function(){return"Rapha\xEBl\u2019s object"};var _i,Ii,Ht,Zt,hi=function(ee){if(this.items=[],this.length=0,this.type="set",ee)for(var de=0,re=ee.length;de<re;de++)!ee[de]||ee[de].constructor!=et.constructor&&ee[de].constructor!=hi||(this[this.items.length]=this.items[this.items.length]=ee[de],this.length++)},Wt=hi.prototype;for(var qe in Wt.push=function(){for(var ee,de,re=0,Ce=arguments.length;re<Ce;re++)!(ee=arguments[re])||ee.constructor!=et.constructor&&ee.constructor!=hi||(this[de=this.items.length]=this.items[de]=ee,this.length++);return this},Wt.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Wt.forEach=function(ee,de){for(var re=0,Ce=this.items.length;re<Ce;re++)if(ee.call(de,this.items[re],re)===!1)return this;return this},et)et[o](qe)&&(Wt[qe]=function(ee){return function(){var de=arguments;return this.forEach(function(re){re[ee][n](re,de)})}}(qe));return Wt.attr=function(ee,de){if(ee&&c.is(ee,V)&&c.is(ee[0],"object"))for(var re=0,Ce=ee.length;re<Ce;re++)this.items[re].attr(ee[re]);else for(var we=0,be=this.items.length;we<be;we++)this.items[we].attr(ee,de);return this},Wt.clear=function(){for(;this.length;)this.pop()},Wt.splice=function(ee,de,re){ee=ee<0?F(this.length+ee,0):ee,de=F(0,B(this.length-ee,de));var Ce,we=[],be=[],ke=[];for(Ce=2;Ce<arguments.length;Ce++)ke.push(arguments[Ce]);for(Ce=0;Ce<de;Ce++)be.push(this[ee+Ce]);for(;Ce<this.length-ee;Ce++)we.push(this[ee+Ce]);var He=ke.length;for(Ce=0;Ce<He+we.length;Ce++)this.items[ee+Ce]=this[ee+Ce]=Ce<He?ke[Ce]:we[Ce-He];for(Ce=this.items.length=this.length-=de-He;this[Ce];)delete this[Ce++];return new hi(be)},Wt.exclude=function(ee){for(var de=0,re=this.length;de<re;de++)if(this[de]==ee)return this.splice(de,1),!0},Wt.animate=function(ee,de,re,Ce){(c.is(re,"function")||!re)&&(Ce=re||null);var we,be,ke=this.items.length,He=ke,Ye=this;if(!ke)return this;Ce&&(be=function(){!--ke&&Ce.call(Ye)}),re=c.is(re,"string")?re:be;var ut=c.animation(ee,de,re,be);for(we=this.items[--He].animate(ut);He--;)this.items[He]&&!this.items[He].removed&&this.items[He].animateWith(we,ut,ut),this.items[He]&&!this.items[He].removed||ke--;return this},Wt.insertAfter=function(ee){for(var de=this.items.length;de--;)this.items[de].insertAfter(ee);return this},Wt.getBBox=function(){for(var ee=[],de=[],re=[],Ce=[],we=this.items.length;we--;)if(!this.items[we].removed){var be=this.items[we].getBBox();ee.push(be.x),de.push(be.y),re.push(be.x+be.width),Ce.push(be.y+be.height)}return{x:ee=B[n](0,ee),y:de=B[n](0,de),x2:re=F[n](0,re),y2:Ce=F[n](0,Ce),width:re-ee,height:Ce-de}},Wt.clone=function(ee){ee=this.paper.set();for(var de=0,re=this.items.length;de<re;de++)ee.push(this.items[de].clone());return ee},Wt.toString=function(){return"Rapha\xEBl\u2018s set"},Wt.glow=function(ee){var de=this.paper.set();return this.forEach(function(re,Ce){var we=re.glow(ee);we!=null&&we.forEach(function(be,ke){de.push(be)})}),de},Wt.isPointInside=function(ee,de){var re=!1;return this.forEach(function(Ce){if(Ce.isPointInside(ee,de))return re=!0,!1}),re},c.registerFont=function(ee){if(!ee.face)return ee;this.fonts=this.fonts||{};var de={w:ee.w,face:{},glyphs:{}},re=ee.face["font-family"];for(var Ce in ee.face)ee.face[o](Ce)&&(de.face[Ce]=ee.face[Ce]);if(this.fonts[re]?this.fonts[re].push(de):this.fonts[re]=[de],!ee.svg){for(var we in de.face["units-per-em"]=W(ee.face["units-per-em"],10),ee.glyphs)if(ee.glyphs[o](we)){var be=ee.glyphs[we];if(de.glyphs[we]={w:be.w,k:{},d:be.d&&"M"+be.d.replace(/[mlcxtrv]/g,function(He){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[He]||"M"})+"z"},be.k)for(var ke in be.k)be[o](ke)&&(de.glyphs[we].k[ke]=be.k[ke])}}return ee},I.getFont=function(ee,de,re,Ce){if(Ce=Ce||"normal",re=re||"normal",de=+de||{normal:400,bold:700,lighter:300,bolder:800}[de]||400,c.fonts){var we,be=c.fonts[ee];if(!be){var ke=new RegExp("(^|\\s)"+ee.replace(/[^\w\d\s+!~.:_-]/g,a)+"(\\s|$)","i");for(var He in c.fonts)if(c.fonts[o](He)&&ke.test(He)){be=c.fonts[He];break}}if(be)for(var Ye=0,ut=be.length;Ye<ut&&((we=be[Ye]).face["font-weight"]!=de||we.face["font-style"]!=re&&we.face["font-style"]||we.face["font-stretch"]!=Ce);Ye++);return we}},I.print=function(ee,de,re,Ce,we,be,ke,He){be=be||"middle",ke=F(B(ke||0,1),-1),He=F(B(He||1,3),1);var Ye,ut=g(re)[y](a),$t=0,gi=0,ci=a;if(c.is(Ce,"string")&&(Ce=this.getFont(Ce)),Ce){Ye=(we||16)/Ce.face["units-per-em"];for(var ai=Ce.face.bbox[y](M),ct=+ai[0],Nt=ai[3]-ai[1],Et=0,It=+ai[1]+(be=="baseline"?Nt+ +Ce.face.descent:Nt/2),Gt=0,zt=ut.length;Gt<zt;Gt++){if(ut[Gt]==`
`)$t=0,ui=0,gi=0,Et+=Nt*He;else{var mi=gi&&Ce.glyphs[ut[Gt-1]]||{},ui=Ce.glyphs[ut[Gt]];$t+=gi?(mi.w||Ce.w)+(mi.k&&mi.k[ut[Gt]]||0)+Ce.w*ke:0,gi=1}ui&&ui.d&&(ci+=c.transformPath(ui.d,["t",$t*Ye,Et*Ye,"s",Ye,Ye,ct,It,"t",(ee-ct)/Ye,(de-It)/Ye]))}}return this.path(ci).attr({fill:"#000",stroke:"none"})},I.add=function(ee){if(c.is(ee,"array"))for(var de,re=this.set(),Ce=0,we=ee.length;Ce<we;Ce++)de=ee[Ce]||{},D[o](de.type)&&re.push(this[de.type]().attr(de));return re},c.format=function(ee,de){var re=c.is(de,V)?[0][f](de):arguments;return ee&&c.is(ee,"string")&&re.length-1&&(ee=ee.replace(p,function(Ce,we){return re[++we]==null?a:re[we]})),ee||a},c.fullfill=(_i=/\{([^\}]+)\}/g,Ii=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(ee,de){return String(ee).replace(_i,function(re,Ce){return function(we,be,ke){var He=ke;return be.replace(Ii,function(Ye,ut,$t,gi,ci){ut=ut||gi,He&&(ut in He&&(He=He[ut]),typeof He=="function"&&ci&&(He=He()))}),He=(He==null||He==ke?we:He)+""}(re,Ce,de)})}),c.ninja=function(){if(u.was)d.win.Raphael=u.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(ee){}}return c},c.st=Wt,E.on("raphael.DOMload",function(){_=!0}),(Ht=document).readyState==null&&Ht.addEventListener&&(Ht.addEventListener("DOMContentLoaded",Zt=function(){Ht.removeEventListener("DOMContentLoaded",Zt,!1),Ht.readyState="complete"},!1),Ht.readyState="loading"),function ee(){/in/.test(Ht.readyState)?setTimeout(ee,9):c.eve("raphael.DOMload")}(),c}.apply(e,z))===void 0||(Ke.exports=r)},function(Ke,e,b){var z,r;z=[b(0),b(3),b(4)],(r=function(E){return E}.apply(e,z))===void 0||(Ke.exports=r)},function(Ke,e,b){var z,r,E,c,_,I,M,D,p,o,d,u,i,n;c="hasOwnProperty",_=/[\.\/]/,I=/\s*,\s*/,M=function(f,v){return f-v},D={n:{}},p=function(){for(var f=0,v=this.length;f<v;f++)if(this[f]!==void 0)return this[f]},o=function(){for(var f=this.length;--f;)if(this[f]!==void 0)return this[f]},d=Object.prototype.toString,u=String,i=Array.isArray||function(f){return f instanceof Array||d.call(f)=="[object Array]"},(n=function(f,v){var a,S=E,g=Array.prototype.slice.call(arguments,2),y=n.listeners(f),C=0,L=[],O={},T=[],F=r;T.firstDefined=p,T.lastDefined=o,r=f,E=0;for(var B=0,$=y.length;B<$;B++)"zIndex"in y[B]&&(L.push(y[B].zIndex),y[B].zIndex<0&&(O[y[B].zIndex]=y[B]));for(L.sort(M);L[C]<0;)if(a=O[L[C++]],T.push(a.apply(v,g)),E)return E=S,T;for(B=0;B<$;B++)if("zIndex"in(a=y[B]))if(a.zIndex==L[C]){if(T.push(a.apply(v,g)),E)break;do if((a=O[L[++C]])&&T.push(a.apply(v,g)),E)break;while(a)}else O[a.zIndex]=a;else if(T.push(a.apply(v,g)),E)break;return E=S,r=F,T})._events=D,n.listeners=function(f){var v,a,S,g,y,C,L,O,T=i(f)?f:f.split(_),F=D,B=[F],$=[];for(g=0,y=T.length;g<y;g++){for(O=[],C=0,L=B.length;C<L;C++)for(a=[(F=B[C].n)[T[g]],F["*"]],S=2;S--;)(v=a[S])&&(O.push(v),$=$.concat(v.f||[]));B=O}return $},n.separator=function(f){f?(f="["+(f=u(f).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",_=new RegExp(f)):_=/[\.\/]/},n.on=function(f,v){if(typeof v!="function")return function(){};for(var a=i(f)?i(f[0])?f:[f]:u(f).split(I),S=0,g=a.length;S<g;S++)(function(y){for(var C,L=i(y)?y:u(y).split(_),O=D,T=0,F=L.length;T<F;T++)O=(O=O.n).hasOwnProperty(L[T])&&O[L[T]]||(O[L[T]]={n:{}});for(O.f=O.f||[],T=0,F=O.f.length;T<F;T++)if(O.f[T]==v){C=!0;break}!C&&O.f.push(v)})(a[S]);return function(y){+y==+y&&(v.zIndex=+y)}},n.f=function(f){var v=[].slice.call(arguments,1);return function(){n.apply(null,[f,null].concat(v).concat([].slice.call(arguments,0)))}},n.stop=function(){E=1},n.nt=function(f){var v=i(r)?r.join("."):r;return f?new RegExp("(?:\\.|\\/|^)"+f+"(?:\\.|\\/|$)").test(v):v},n.nts=function(){return i(r)?r:r.split(_)},n.off=n.unbind=function(f,v){if(f){var a=i(f)?i(f[0])?f:[f]:u(f).split(I);if(a.length>1)for(var S=0,g=a.length;S<g;S++)n.off(a[S],v);else{a=i(f)?f:u(f).split(_);var y,C,L,O,T,F=[D];for(S=0,g=a.length;S<g;S++)for(O=0;O<F.length;O+=L.length-2){if(L=[O,1],y=F[O].n,a[S]!="*")y[a[S]]&&L.push(y[a[S]]);else for(C in y)y[c](C)&&L.push(y[C]);F.splice.apply(F,L)}for(S=0,g=F.length;S<g;S++)for(y=F[S];y.n;){if(v){if(y.f){for(O=0,T=y.f.length;O<T;O++)if(y.f[O]==v){y.f.splice(O,1);break}!y.f.length&&delete y.f}for(C in y.n)if(y.n[c](C)&&y.n[C].f){var B=y.n[C].f;for(O=0,T=B.length;O<T;O++)if(B[O]==v){B.splice(O,1);break}!B.length&&delete y.n[C].f}}else for(C in delete y.f,y.n)y.n[c](C)&&y.n[C].f&&delete y.n[C].f;y=y.n}}}else n._events=D={n:{}}},n.once=function(f,v){var a=function(){return n.off(f,a),v.apply(this,arguments)};return n.on(f,a)},n.version="0.5.0",n.toString=function(){return"You are running Eve 0.5.0"},Ke.exports?Ke.exports=n:(z=function(){return n}.apply(e,[]))===void 0||(Ke.exports=z)},function(Ke,e,b){var z,r;z=[b(0)],(r=function(E){if(!E||E.svg){var c="hasOwnProperty",_=String,I=parseFloat,M=parseInt,D=Math,p=D.max,o=D.abs,d=D.pow,u=/[, ]+/,i=E.eve,n="",f=" ",v="http://www.w3.org/1999/xlink",a={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},S={};E.toString=function(){return`Your browser supports SVG.
You are running Rapha\xEBl `+this.version};var g=function(A,H){if(H)for(var U in typeof A=="string"&&(A=g(A)),H)H[c](U)&&(U.substring(0,6)=="xlink:"?A.setAttributeNS(v,U.substring(6),_(H[U])):A.setAttribute(U,_(H[U])));else(A=E._g.doc.createElementNS("http://www.w3.org/2000/svg",A)).style&&(A.style.webkitTapHighlightColor="rgba(0,0,0,0)");return A},y=function(A,H){var U="linear",G=A.id+H,j=.5,W=.5,K=A.node,m=A.paper,J=K.style,X=E._g.doc.getElementById(G);if(!X){if(H=(H=_(H).replace(E._radial_gradient,function(De,ae,Ne){if(U="radial",ae&&Ne){j=I(ae);var We=2*((W=I(Ne))>.5)-1;d(j-.5,2)+d(W-.5,2)>.25&&(W=D.sqrt(.25-d(j-.5,2))*We+.5)&&W!=.5&&(W=W.toFixed(5)-1e-5*We)}return n})).split(/\s*\-\s*/),U=="linear"){var ie=H.shift();if(ie=-I(ie),isNaN(ie))return null;var le=[0,0,D.cos(E.rad(ie)),D.sin(E.rad(ie))],fe=1/(p(o(le[2]),o(le[3]))||1);le[2]*=fe,le[3]*=fe,le[2]<0&&(le[0]=-le[2],le[2]=0),le[3]<0&&(le[1]=-le[3],le[3]=0)}var Le=E._parseDots(H);if(!Le)return null;if(G=G.replace(/[\(\)\s,\xb0#]/g,"_"),A.gradient&&G!=A.gradient.id&&(m.defs.removeChild(A.gradient),delete A.gradient),!A.gradient){X=g(U+"Gradient",{id:G}),A.gradient=X,g(X,U=="radial"?{fx:j,fy:W}:{x1:le[0],y1:le[1],x2:le[2],y2:le[3],gradientTransform:A.matrix.invert()}),m.defs.appendChild(X);for(var pe=0,Te=Le.length;pe<Te;pe++)X.appendChild(g("stop",{offset:Le[pe].offset?Le[pe].offset:pe?"100%":"0%","stop-color":Le[pe].color||"#fff","stop-opacity":isFinite(Le[pe].opacity)?Le[pe].opacity:1}))}}return g(K,{fill:C(G),opacity:1,"fill-opacity":1}),J.fill=n,J.opacity=1,J.fillOpacity=1,1},C=function(A){if((H=document.documentMode)&&(H===9||H===10))return"url('#"+A+"')";var H,U=document.location;return"url('"+(U.protocol+"//"+U.host+U.pathname+U.search)+"#"+A+"')"},L=function(A){var H=A.getBBox(1);g(A.pattern,{patternTransform:A.matrix.invert()+" translate("+H.x+","+H.y+")"})},O=function(A,H,U){if(A.type=="path"){for(var G,j,W,K,m,J=_(H).toLowerCase().split("-"),X=A.paper,ie=U?"end":"start",le=A.node,fe=A.attrs,Le=fe["stroke-width"],pe=J.length,Te="classic",De=3,ae=3,Ne=5;pe--;)switch(J[pe]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":Te=J[pe];break;case"wide":ae=5;break;case"narrow":ae=2;break;case"long":De=5;break;case"short":De=2}if(Te=="open"?(De+=2,ae+=2,Ne+=2,W=1,K=U?4:1,m={fill:"none",stroke:fe.stroke}):(K=W=De/2,m={fill:fe.stroke,stroke:"none"}),A._.arrows?U?(A._.arrows.endPath&&S[A._.arrows.endPath]--,A._.arrows.endMarker&&S[A._.arrows.endMarker]--):(A._.arrows.startPath&&S[A._.arrows.startPath]--,A._.arrows.startMarker&&S[A._.arrows.startMarker]--):A._.arrows={},Te!="none"){var We="raphael-marker-"+Te,ze="raphael-marker-"+ie+Te+De+ae+"-obj"+A.id;E._g.doc.getElementById(We)?S[We]++:(X.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:a[Te],id:We})),S[We]=1);var Se,ne=E._g.doc.getElementById(ze);ne?(S[ze]++,Se=ne.getElementsByTagName("use")[0]):(ne=g(g("marker"),{id:ze,markerHeight:ae,markerWidth:De,orient:"auto",refX:K,refY:ae/2}),Se=g(g("use"),{"xlink:href":"#"+We,transform:(U?"rotate(180 "+De/2+" "+ae/2+") ":n)+"scale("+De/Ne+","+ae/Ne+")","stroke-width":(1/((De/Ne+ae/Ne)/2)).toFixed(4)}),ne.appendChild(Se),X.defs.appendChild(ne),S[ze]=1),g(Se,m);var ce=W*(Te!="diamond"&&Te!="oval");U?(G=A._.arrows.startdx*Le||0,j=E.getTotalLength(fe.path)-ce*Le):(G=ce*Le,j=E.getTotalLength(fe.path)-(A._.arrows.enddx*Le||0)),(m={})["marker-"+ie]="url(#"+ze+")",(j||G)&&(m.d=E.getSubpath(fe.path,G,j)),g(le,m),A._.arrows[ie+"Path"]=We,A._.arrows[ie+"Marker"]=ze,A._.arrows[ie+"dx"]=ce,A._.arrows[ie+"Type"]=Te,A._.arrows[ie+"String"]=H}else U?(G=A._.arrows.startdx*Le||0,j=E.getTotalLength(fe.path)-G):(G=0,j=E.getTotalLength(fe.path)-(A._.arrows.enddx*Le||0)),A._.arrows[ie+"Path"]&&g(le,{d:E.getSubpath(fe.path,G,j)}),delete A._.arrows[ie+"Path"],delete A._.arrows[ie+"Marker"],delete A._.arrows[ie+"dx"],delete A._.arrows[ie+"Type"],delete A._.arrows[ie+"String"];for(m in S)if(S[c](m)&&!S[m]){var Oe=E._g.doc.getElementById(m);Oe&&Oe.parentNode.removeChild(Oe)}}},T={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},F=function(A,H,U){if(H=T[_(H).toLowerCase()]){for(var G=A.attrs["stroke-width"]||"1",j={round:G,square:G,butt:0}[A.attrs["stroke-linecap"]||U["stroke-linecap"]]||0,W=[],K=H.length;K--;)W[K]=H[K]*G+(K%2?1:-1)*j;g(A.node,{"stroke-dasharray":W.join(",")})}else g(A.node,{"stroke-dasharray":"none"})},B=function(A,H){var U=A.node,G=A.attrs,j=U.style.visibility;for(var W in U.style.visibility="hidden",H)if(H[c](W)){if(!E._availableAttrs[c](W))continue;var K=H[W];switch(G[W]=K,W){case"blur":A.blur(K);break;case"title":var m=U.getElementsByTagName("title");if(m.length&&(m=m[0]))m.firstChild.nodeValue=K;else{m=g("title");var J=E._g.doc.createTextNode(K);m.appendChild(J),U.appendChild(m)}break;case"href":case"target":var X=U.parentNode;if(X.tagName.toLowerCase()!="a"){var ie=g("a");X.insertBefore(ie,U),ie.appendChild(U),X=ie}W=="target"?X.setAttributeNS(v,"show",K=="blank"?"new":K):X.setAttributeNS(v,W,K);break;case"cursor":U.style.cursor=K;break;case"transform":A.transform(K);break;case"arrow-start":O(A,K);break;case"arrow-end":O(A,K,1);break;case"clip-rect":var le=_(K).split(u);if(le.length==4){A.clip&&A.clip.parentNode.parentNode.removeChild(A.clip.parentNode);var fe=g("clipPath"),Le=g("rect");fe.id=E.createUUID(),g(Le,{x:le[0],y:le[1],width:le[2],height:le[3]}),fe.appendChild(Le),A.paper.defs.appendChild(fe),g(U,{"clip-path":"url(#"+fe.id+")"}),A.clip=Le}if(!K){var pe=U.getAttribute("clip-path");if(pe){var Te=E._g.doc.getElementById(pe.replace(/(^url\(#|\)$)/g,n));Te&&Te.parentNode.removeChild(Te),g(U,{"clip-path":n}),delete A.clip}}break;case"path":A.type=="path"&&(g(U,{d:K?G.path=E._pathToAbsolute(K):"M0,0"}),A._.dirty=1,A._.arrows&&("startString"in A._.arrows&&O(A,A._.arrows.startString),"endString"in A._.arrows&&O(A,A._.arrows.endString,1)));break;case"width":if(U.setAttribute(W,K),A._.dirty=1,!G.fx)break;W="x",K=G.x;case"x":G.fx&&(K=-G.x-(G.width||0));case"rx":if(W=="rx"&&A.type=="rect")break;case"cx":U.setAttribute(W,K),A.pattern&&L(A),A._.dirty=1;break;case"height":if(U.setAttribute(W,K),A._.dirty=1,!G.fy)break;W="y",K=G.y;case"y":G.fy&&(K=-G.y-(G.height||0));case"ry":if(W=="ry"&&A.type=="rect")break;case"cy":U.setAttribute(W,K),A.pattern&&L(A),A._.dirty=1;break;case"r":A.type=="rect"?g(U,{rx:K,ry:K}):U.setAttribute(W,K),A._.dirty=1;break;case"src":A.type=="image"&&U.setAttributeNS(v,"href",K);break;case"stroke-width":A._.sx==1&&A._.sy==1||(K/=p(o(A._.sx),o(A._.sy))||1),U.setAttribute(W,K),G["stroke-dasharray"]&&F(A,G["stroke-dasharray"],H),A._.arrows&&("startString"in A._.arrows&&O(A,A._.arrows.startString),"endString"in A._.arrows&&O(A,A._.arrows.endString,1));break;case"stroke-dasharray":F(A,K,H);break;case"fill":var De=_(K).match(E._ISURL);if(De){fe=g("pattern");var ae=g("image");fe.id=E.createUUID(),g(fe,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(ae,{x:0,y:0,"xlink:href":De[1]}),fe.appendChild(ae),function(ne){E._preload(De[1],function(){var ce=this.offsetWidth,Oe=this.offsetHeight;g(ne,{width:ce,height:Oe}),g(ae,{width:ce,height:Oe})})}(fe),A.paper.defs.appendChild(fe),g(U,{fill:"url(#"+fe.id+")"}),A.pattern=fe,A.pattern&&L(A);break}var Ne=E.getRGB(K);if(Ne.error){if((A.type=="circle"||A.type=="ellipse"||_(K).charAt()!="r")&&y(A,K)){if("opacity"in G||"fill-opacity"in G){var We=E._g.doc.getElementById(U.getAttribute("fill").replace(/^url\(#|\)$/g,n));if(We){var ze=We.getElementsByTagName("stop");g(ze[ze.length-1],{"stop-opacity":("opacity"in G?G.opacity:1)*("fill-opacity"in G?G["fill-opacity"]:1)})}}G.gradient=K,G.fill="none";break}}else delete H.gradient,delete G.gradient,!E.is(G.opacity,"undefined")&&E.is(H.opacity,"undefined")&&g(U,{opacity:G.opacity}),!E.is(G["fill-opacity"],"undefined")&&E.is(H["fill-opacity"],"undefined")&&g(U,{"fill-opacity":G["fill-opacity"]});Ne[c]("opacity")&&g(U,{"fill-opacity":Ne.opacity>1?Ne.opacity/100:Ne.opacity});case"stroke":Ne=E.getRGB(K),U.setAttribute(W,Ne.hex),W=="stroke"&&Ne[c]("opacity")&&g(U,{"stroke-opacity":Ne.opacity>1?Ne.opacity/100:Ne.opacity}),W=="stroke"&&A._.arrows&&("startString"in A._.arrows&&O(A,A._.arrows.startString),"endString"in A._.arrows&&O(A,A._.arrows.endString,1));break;case"gradient":(A.type=="circle"||A.type=="ellipse"||_(K).charAt()!="r")&&y(A,K);break;case"opacity":G.gradient&&!G[c]("stroke-opacity")&&g(U,{"stroke-opacity":K>1?K/100:K});case"fill-opacity":if(G.gradient){(We=E._g.doc.getElementById(U.getAttribute("fill").replace(/^url\(#|\)$/g,n)))&&(ze=We.getElementsByTagName("stop"),g(ze[ze.length-1],{"stop-opacity":K}));break}default:W=="font-size"&&(K=M(K,10)+"px");var Se=W.replace(/(\-.)/g,function(ne){return ne.substring(1).toUpperCase()});U.style[Se]=K,A._.dirty=1,U.setAttribute(W,K)}}$(A,H),U.style.visibility=j},$=function(A,H){if(A.type=="text"&&(H[c]("text")||H[c]("font")||H[c]("font-size")||H[c]("x")||H[c]("y"))){var U=A.attrs,G=A.node,j=G.firstChild?M(E._g.doc.defaultView.getComputedStyle(G.firstChild,n).getPropertyValue("font-size"),10):10;if(H[c]("text")){for(U.text=H.text;G.firstChild;)G.removeChild(G.firstChild);for(var W,K=_(H.text).split(`
`),m=[],J=0,X=K.length;J<X;J++)W=g("tspan"),J&&g(W,{dy:1.2*j,x:U.x}),W.appendChild(E._g.doc.createTextNode(K[J])),G.appendChild(W),m[J]=W}else for(J=0,X=(m=G.getElementsByTagName("tspan")).length;J<X;J++)J?g(m[J],{dy:1.2*j,x:U.x}):g(m[0],{dy:0});g(G,{x:U.x,y:U.y}),A._.dirty=1;var ie=A._getBBox(),le=U.y-(ie.y+ie.height/2);le&&E.is(le,"finite")&&g(m[0],{dy:le})}},Y=function(A){return A.parentNode&&A.parentNode.tagName.toLowerCase()==="a"?A.parentNode:A},P=function(A,H){this[0]=this.node=A,A.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),A.raphaelid=this.id,this.matrix=E.matrix(),this.realPath=null,this.paper=H,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!H.bottom&&(H.bottom=this),this.prev=H.top,H.top&&(H.top.next=this),H.top=this,this.next=null},w=E.el;P.prototype=w,w.constructor=P,E._engine.path=function(A,H){var U=g("path");H.canvas&&H.canvas.appendChild(U);var G=new P(U,H);return G.type="path",B(G,{fill:"none",stroke:"#000",path:A}),G},w.rotate=function(A,H,U){if(this.removed)return this;if((A=_(A).split(u)).length-1&&(H=I(A[1]),U=I(A[2])),A=I(A[0]),U==null&&(H=U),H==null||U==null){var G=this.getBBox(1);H=G.x+G.width/2,U=G.y+G.height/2}return this.transform(this._.transform.concat([["r",A,H,U]])),this},w.scale=function(A,H,U,G){if(this.removed)return this;if((A=_(A).split(u)).length-1&&(H=I(A[1]),U=I(A[2]),G=I(A[3])),A=I(A[0]),H==null&&(H=A),G==null&&(U=G),U==null||G==null)var j=this.getBBox(1);return U=U==null?j.x+j.width/2:U,G=G==null?j.y+j.height/2:G,this.transform(this._.transform.concat([["s",A,H,U,G]])),this},w.translate=function(A,H){return this.removed?this:((A=_(A).split(u)).length-1&&(H=I(A[1])),A=I(A[0])||0,H=+H||0,this.transform(this._.transform.concat([["t",A,H]])),this)},w.transform=function(A){var H=this._;if(A==null)return H.transform;if(E._extractTransform(this,A),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&L(this),this.node&&g(this.node,{transform:this.matrix}),H.sx!=1||H.sy!=1){var U=this.attrs[c]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":U})}return this},w.hide=function(){return this.removed||(this.node.style.display="none"),this},w.show=function(){return this.removed||(this.node.style.display=""),this},w.remove=function(){var A=Y(this.node);if(!this.removed&&A.parentNode){var H=this.paper;for(var U in H.__set__&&H.__set__.exclude(this),i.unbind("raphael.*.*."+this.id),this.gradient&&H.defs.removeChild(this.gradient),E._tear(this,H),A.parentNode.removeChild(A),this.removeData(),this)this[U]=typeof this[U]=="function"?E._removedFactory(U):null;this.removed=!0}},w._getBBox=function(){if(this.node.style.display=="none"){this.show();var A=!0}var H,U=!1;this.paper.canvas.parentElement?H=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(H=this.paper.canvas.parentNode.style),H&&H.display=="none"&&(U=!0,H.display="");var G={};try{G=this.node.getBBox()}catch(j){G={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{G=G||{},U&&(H.display="none")}return A&&this.hide(),G},w.attr=function(A,H){if(this.removed)return this;if(A==null){var U={};for(var G in this.attrs)this.attrs[c](G)&&(U[G]=this.attrs[G]);return U.gradient&&U.fill=="none"&&(U.fill=U.gradient)&&delete U.gradient,U.transform=this._.transform,U}if(H==null&&E.is(A,"string")){if(A=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(A=="transform")return this._.transform;for(var j=A.split(u),W={},K=0,m=j.length;K<m;K++)(A=j[K])in this.attrs?W[A]=this.attrs[A]:E.is(this.paper.customAttributes[A],"function")?W[A]=this.paper.customAttributes[A].def:W[A]=E._availableAttrs[A];return m-1?W:W[j[0]]}if(H==null&&E.is(A,"array")){for(W={},K=0,m=A.length;K<m;K++)W[A[K]]=this.attr(A[K]);return W}if(H!=null){var J={};J[A]=H}else A!=null&&E.is(A,"object")&&(J=A);for(var X in J)i("raphael.attr."+X+"."+this.id,this,J[X]);for(X in this.paper.customAttributes)if(this.paper.customAttributes[c](X)&&J[c](X)&&E.is(this.paper.customAttributes[X],"function")){var ie=this.paper.customAttributes[X].apply(this,[].concat(J[X]));for(var le in this.attrs[X]=J[X],ie)ie[c](le)&&(J[le]=ie[le])}return B(this,J),this},w.toFront=function(){if(this.removed)return this;var A=Y(this.node);A.parentNode.appendChild(A);var H=this.paper;return H.top!=this&&E._tofront(this,H),this},w.toBack=function(){if(this.removed)return this;var A=Y(this.node),H=A.parentNode;return H.insertBefore(A,H.firstChild),E._toback(this,this.paper),this.paper,this},w.insertAfter=function(A){if(this.removed||!A)return this;var H=Y(this.node),U=Y(A.node||A[A.length-1].node);return U.nextSibling?U.parentNode.insertBefore(H,U.nextSibling):U.parentNode.appendChild(H),E._insertafter(this,A,this.paper),this},w.insertBefore=function(A){if(this.removed||!A)return this;var H=Y(this.node),U=Y(A.node||A[0].node);return U.parentNode.insertBefore(H,U),E._insertbefore(this,A,this.paper),this},w.blur=function(A){var H=this;if(+A!=0){var U=g("filter"),G=g("feGaussianBlur");H.attrs.blur=A,U.id=E.createUUID(),g(G,{stdDeviation:+A||1.5}),U.appendChild(G),H.paper.defs.appendChild(U),H._blur=U,g(H.node,{filter:"url(#"+U.id+")"})}else H._blur&&(H._blur.parentNode.removeChild(H._blur),delete H._blur,delete H.attrs.blur),H.node.removeAttribute("filter");return H},E._engine.circle=function(A,H,U,G){var j=g("circle");A.canvas&&A.canvas.appendChild(j);var W=new P(j,A);return W.attrs={cx:H,cy:U,r:G,fill:"none",stroke:"#000"},W.type="circle",g(j,W.attrs),W},E._engine.rect=function(A,H,U,G,j,W){var K=g("rect");A.canvas&&A.canvas.appendChild(K);var m=new P(K,A);return m.attrs={x:H,y:U,width:G,height:j,rx:W||0,ry:W||0,fill:"none",stroke:"#000"},m.type="rect",g(K,m.attrs),m},E._engine.ellipse=function(A,H,U,G,j){var W=g("ellipse");A.canvas&&A.canvas.appendChild(W);var K=new P(W,A);return K.attrs={cx:H,cy:U,rx:G,ry:j,fill:"none",stroke:"#000"},K.type="ellipse",g(W,K.attrs),K},E._engine.image=function(A,H,U,G,j,W){var K=g("image");g(K,{x:U,y:G,width:j,height:W,preserveAspectRatio:"none"}),K.setAttributeNS(v,"href",H),A.canvas&&A.canvas.appendChild(K);var m=new P(K,A);return m.attrs={x:U,y:G,width:j,height:W,src:H},m.type="image",m},E._engine.text=function(A,H,U,G){var j=g("text");A.canvas&&A.canvas.appendChild(j);var W=new P(j,A);return W.attrs={x:H,y:U,"text-anchor":"middle",text:G,"font-family":E._availableAttrs["font-family"],"font-size":E._availableAttrs["font-size"],stroke:"none",fill:"#000"},W.type="text",B(W,W.attrs),W},E._engine.setSize=function(A,H){return this.width=A||this.width,this.height=H||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},E._engine.create=function(){var A=E._getContainer.apply(0,arguments),H=A&&A.container;if(!H)throw new Error("SVG container not found.");var U,G=A.x,j=A.y,W=A.width,K=A.height,m=g("svg"),J="overflow:hidden;";return G=G||0,j=j||0,g(m,{height:K=K||342,version:1.1,width:W=W||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),H==1?(m.style.cssText=J+"position:absolute;left:"+G+"px;top:"+j+"px",E._g.doc.body.appendChild(m),U=1):(m.style.cssText=J+"position:relative",H.firstChild?H.insertBefore(m,H.firstChild):H.appendChild(m)),(H=new E._Paper).width=W,H.height=K,H.canvas=m,H.clear(),H._left=H._top=0,U&&(H.renderfix=function(){}),H.renderfix(),H},E._engine.setViewBox=function(A,H,U,G,j){i("raphael.setViewBox",this,this._viewBox,[A,H,U,G,j]);var W,K,m=this.getSize(),J=p(U/m.width,G/m.height),X=this.top,ie=j?"xMidYMid meet":"xMinYMin";for(A==null?(this._vbSize&&(J=1),delete this._vbSize,W="0 0 "+this.width+f+this.height):(this._vbSize=J,W=A+f+H+f+U+f+G),g(this.canvas,{viewBox:W,preserveAspectRatio:ie});J&&X;)K="stroke-width"in X.attrs?X.attrs["stroke-width"]:1,X.attr({"stroke-width":K}),X._.dirty=1,X._.dirtyT=1,X=X.prev;return this._viewBox=[A,H,U,G,!!j],this},E.prototype.renderfix=function(){var A,H=this.canvas,U=H.style;try{A=H.getScreenCTM()||H.createSVGMatrix()}catch(W){A=H.createSVGMatrix()}var G=-A.e%1,j=-A.f%1;(G||j)&&(G&&(this._left=(this._left+G)%1,U.left=this._left+"px"),j&&(this._top=(this._top+j)%1,U.top=this._top+"px"))},E.prototype.clear=function(){E.eve("raphael.clear",this);for(var A=this.canvas;A.firstChild;)A.removeChild(A.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(E._g.doc.createTextNode("Created with Rapha\xEBl "+E.version)),A.appendChild(this.desc),A.appendChild(this.defs=g("defs"))},E.prototype.remove=function(){for(var A in i("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[A]=typeof this[A]=="function"?E._removedFactory(A):null};var V=E.st;for(var R in w)w[c](R)&&!V[c](R)&&(V[R]=function(A){return function(){var H=arguments;return this.forEach(function(U){U[A].apply(U,H)})}}(R))}}.apply(e,z))===void 0||(Ke.exports=r)},function(Ke,e,b){var z,r;z=[b(0)],(r=function(E){if(!E||E.vml){var c="hasOwnProperty",_=String,I=parseFloat,M=Math,D=M.round,p=M.max,o=M.min,d=M.abs,u=/[, ]+/,i=E.eve,n=" ",f="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},a=/([clmz]),?([^clmz]*)/gi,S=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",C=21600,L={path:1,rect:1,image:1},O={circle:1,ellipse:1},T=function(H,U,G){var j=E.matrix();return j.rotate(-H,.5,.5),{dx:j.x(U,G),dy:j.y(U,G)}},F=function(H,U,G,j,W,K){var m=H._,J=H.matrix,X=m.fillpos,ie=H.node,le=ie.style,fe=1,Le="",pe=C/U,Te=C/G;if(le.visibility="hidden",U&&G){if(ie.coordsize=d(pe)+n+d(Te),le.rotation=K*(U*G<0?-1:1),K){var De=T(K,j,W);j=De.dx,W=De.dy}if(U<0&&(Le+="x"),G<0&&(Le+=" y")&&(fe=-1),le.flip=Le,ie.coordorigin=j*-pe+n+W*-Te,X||m.fillsize){var ae=ie.getElementsByTagName("fill");ae=ae&&ae[0],ie.removeChild(ae),X&&(De=T(K,J.x(X[0],X[1]),J.y(X[0],X[1])),ae.position=De.dx*fe+n+De.dy*fe),m.fillsize&&(ae.size=m.fillsize[0]*d(U)+n+m.fillsize[1]*d(G)),ie.appendChild(ae)}le.visibility="visible"}};E.toString=function(){return`Your browser doesn\u2019t support SVG. Falling down to VML.
You are running Rapha\xEBl `+this.version};var B,$=function(H,U,G){for(var j=_(U).toLowerCase().split("-"),W=G?"end":"start",K=j.length,m="classic",J="medium",X="medium";K--;)switch(j[K]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":m=j[K];break;case"wide":case"narrow":X=j[K];break;case"long":case"short":J=j[K]}var ie=H.node.getElementsByTagName("stroke")[0];ie[W+"arrow"]=m,ie[W+"arrowlength"]=J,ie[W+"arrowwidth"]=X},Y=function(H,U){H.attrs=H.attrs||{};var G=H.node,j=H.attrs,W=G.style,K=L[H.type]&&(U.x!=j.x||U.y!=j.y||U.width!=j.width||U.height!=j.height||U.cx!=j.cx||U.cy!=j.cy||U.rx!=j.rx||U.ry!=j.ry||U.r!=j.r),m=O[H.type]&&(j.cx!=U.cx||j.cy!=U.cy||j.r!=U.r||j.rx!=U.rx||j.ry!=U.ry),J=H;for(var X in U)U[c](X)&&(j[X]=U[X]);if(K&&(j.path=E._getPath[H.type](H),H._.dirty=1),U.href&&(G.href=U.href),U.title&&(G.title=U.title),U.target&&(G.target=U.target),U.cursor&&(W.cursor=U.cursor),"blur"in U&&H.blur(U.blur),(U.path&&H.type=="path"||K)&&(G.path=function(Ae){var Qe=/[ahqstv]/gi,rt=E._pathToAbsolute;if(_(Ae).match(Qe)&&(rt=E._path2curve),Qe=/[clmz]/g,rt==E._pathToAbsolute&&!_(Ae).match(Qe)){var Dt=_(Ae).replace(a,function(Ct,ft,Bt){var kt=[],Ge=ft.toLowerCase()=="m",St=v[ft];return Bt.replace(g,function(Ci){Ge&&kt.length==2&&(St+=kt+v[ft=="m"?"l":"L"],kt=[]),kt.push(D(Ci*C))}),St+kt});return Dt}var at,vt,Mt=rt(Ae);Dt=[];for(var ti=0,Ft=Mt.length;ti<Ft;ti++){at=Mt[ti],(vt=Mt[ti][0].toLowerCase())=="z"&&(vt="x");for(var ei=1,Xt=at.length;ei<Xt;ei++)vt+=D(at[ei]*C)+(ei!=Xt-1?",":f);Dt.push(vt)}return Dt.join(n)}(~_(j.path).toLowerCase().indexOf("r")?E._pathToAbsolute(j.path):j.path),H._.dirty=1,H.type=="image"&&(H._.fillpos=[j.x,j.y],H._.fillsize=[j.width,j.height],F(H,1,1,0,0,0))),"transform"in U&&H.transform(U.transform),m){var ie=+j.cx,le=+j.cy,fe=+j.rx||+j.r||0,Le=+j.ry||+j.r||0;G.path=E.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",D((ie-fe)*C),D((le-Le)*C),D((ie+fe)*C),D((le+Le)*C),D(ie*C)),H._.dirty=1}if("clip-rect"in U){var pe=_(U["clip-rect"]).split(u);if(pe.length==4){pe[2]=+pe[2]+ +pe[0],pe[3]=+pe[3]+ +pe[1];var Te=G.clipRect||E._g.doc.createElement("div"),De=Te.style;De.clip=E.format("rect({1}px {2}px {3}px {0}px)",pe),G.clipRect||(De.position="absolute",De.top=0,De.left=0,De.width=H.paper.width+"px",De.height=H.paper.height+"px",G.parentNode.insertBefore(Te,G),Te.appendChild(G),G.clipRect=Te)}U["clip-rect"]||G.clipRect&&(G.clipRect.style.clip="auto")}if(H.textpath){var ae=H.textpath.style;U.font&&(ae.font=U.font),U["font-family"]&&(ae.fontFamily='"'+U["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),U["font-size"]&&(ae.fontSize=U["font-size"]),U["font-weight"]&&(ae.fontWeight=U["font-weight"]),U["font-style"]&&(ae.fontStyle=U["font-style"])}if("arrow-start"in U&&$(J,U["arrow-start"]),"arrow-end"in U&&$(J,U["arrow-end"],1),U.opacity!=null||U.fill!=null||U.src!=null||U.stroke!=null||U["stroke-width"]!=null||U["stroke-opacity"]!=null||U["fill-opacity"]!=null||U["stroke-dasharray"]!=null||U["stroke-miterlimit"]!=null||U["stroke-linejoin"]!=null||U["stroke-linecap"]!=null){var Ne=G.getElementsByTagName("fill");if(!(Ne=Ne&&Ne[0])&&(Ne=B("fill")),H.type=="image"&&U.src&&(Ne.src=U.src),U.fill&&(Ne.on=!0),Ne.on!=null&&U.fill!="none"&&U.fill!==null||(Ne.on=!1),Ne.on&&U.fill){var We=_(U.fill).match(E._ISURL);if(We){Ne.parentNode==G&&G.removeChild(Ne),Ne.rotate=!0,Ne.src=We[1],Ne.type="tile";var ze=H.getBBox(1);Ne.position=ze.x+n+ze.y,H._.fillpos=[ze.x,ze.y],E._preload(We[1],function(){H._.fillsize=[this.offsetWidth,this.offsetHeight]})}else Ne.color=E.getRGB(U.fill).hex,Ne.src=f,Ne.type="solid",E.getRGB(U.fill).error&&(J.type in{circle:1,ellipse:1}||_(U.fill).charAt()!="r")&&P(J,U.fill,Ne)&&(j.fill="none",j.gradient=U.fill,Ne.rotate=!1)}if("fill-opacity"in U||"opacity"in U){var Se=((+j["fill-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+E.getRGB(U.fill).o+1||2)-1);Se=o(p(Se,0),1),Ne.opacity=Se,Ne.src&&(Ne.color="none")}G.appendChild(Ne);var ne=G.getElementsByTagName("stroke")&&G.getElementsByTagName("stroke")[0],ce=!1;!ne&&(ce=ne=B("stroke")),(U.stroke&&U.stroke!="none"||U["stroke-width"]||U["stroke-opacity"]!=null||U["stroke-dasharray"]||U["stroke-miterlimit"]||U["stroke-linejoin"]||U["stroke-linecap"])&&(ne.on=!0),(U.stroke=="none"||U.stroke===null||ne.on==null||U.stroke==0||U["stroke-width"]==0)&&(ne.on=!1);var Oe=E.getRGB(U.stroke);ne.on&&U.stroke&&(ne.color=Oe.hex),Se=((+j["stroke-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+Oe.o+1||2)-1);var Pe=.75*(I(U["stroke-width"])||1);if(Se=o(p(Se,0),1),U["stroke-width"]==null&&(Pe=j["stroke-width"]),U["stroke-width"]&&(ne.weight=Pe),Pe&&Pe<1&&(Se*=Pe)&&(ne.weight=1),ne.opacity=Se,U["stroke-linejoin"]&&(ne.joinstyle=U["stroke-linejoin"]||"miter"),ne.miterlimit=U["stroke-miterlimit"]||8,U["stroke-linecap"]&&(ne.endcap=U["stroke-linecap"]=="butt"?"flat":U["stroke-linecap"]=="square"?"square":"round"),"stroke-dasharray"in U){var Me={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};ne.dashstyle=Me[c](U["stroke-dasharray"])?Me[U["stroke-dasharray"]]:f}ce&&G.appendChild(ne)}if(J.type=="text"){J.paper.canvas.style.display=f;var ye=J.paper.span,_e=j.font&&j.font.match(/\d+(?:\.\d*)?(?=px)/);W=ye.style,j.font&&(W.font=j.font),j["font-family"]&&(W.fontFamily=j["font-family"]),j["font-weight"]&&(W.fontWeight=j["font-weight"]),j["font-style"]&&(W.fontStyle=j["font-style"]),_e=I(j["font-size"]||_e&&_e[0])||10,W.fontSize=100*_e+"px",J.textpath.string&&(ye.innerHTML=_(J.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var se=ye.getBoundingClientRect();J.W=j.w=(se.right-se.left)/100,J.H=j.h=(se.bottom-se.top)/100,J.X=j.x,J.Y=j.y+J.H/2,("x"in U||"y"in U)&&(J.path.v=E.format("m{0},{1}l{2},{1}",D(j.x*C),D(j.y*C),D(j.x*C)+1));for(var ve=["x","y","text","font","font-family","font-weight","font-style","font-size"],xe=0,je=ve.length;xe<je;xe++)if(ve[xe]in U){J._.dirty=1;break}switch(j["text-anchor"]){case"start":J.textpath.style["v-text-align"]="left",J.bbx=J.W/2;break;case"end":J.textpath.style["v-text-align"]="right",J.bbx=-J.W/2;break;default:J.textpath.style["v-text-align"]="center",J.bbx=0}J.textpath.style["v-text-kern"]=!0}},P=function(H,U,G){H.attrs=H.attrs||{},H.attrs;var j=Math.pow,W="linear",K=".5 .5";if(H.attrs.gradient=U,U=(U=_(U).replace(E._radial_gradient,function(fe,Le,pe){return W="radial",Le&&pe&&(Le=I(Le),pe=I(pe),j(Le-.5,2)+j(pe-.5,2)>.25&&(pe=M.sqrt(.25-j(Le-.5,2))*(2*(pe>.5)-1)+.5),K=Le+n+pe),f})).split(/\s*\-\s*/),W=="linear"){var m=U.shift();if(m=-I(m),isNaN(m))return null}var J=E._parseDots(U);if(!J)return null;if(H=H.shape||H.node,J.length){H.removeChild(G),G.on=!0,G.method="none",G.color=J[0].color,G.color2=J[J.length-1].color;for(var X=[],ie=0,le=J.length;ie<le;ie++)J[ie].offset&&X.push(J[ie].offset+n+J[ie].color);G.colors=X.length?X.join():"0% "+G.color,W=="radial"?(G.type="gradientTitle",G.focus="100%",G.focussize="0 0",G.focusposition=K,G.angle=0):(G.type="gradient",G.angle=(270-m)%360),H.appendChild(G)}return 1},w=function(H,U){this[0]=this.node=H,H.raphael=!0,this.id=E._oid++,H.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=U,this.matrix=E.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!U.bottom&&(U.bottom=this),this.prev=U.top,U.top&&(U.top.next=this),U.top=this,this.next=null},V=E.el;w.prototype=V,V.constructor=w,V.transform=function(H){if(H==null)return this._.transform;var U,G=this.paper._viewBoxShift,j=G?"s"+[G.scale,G.scale]+"-1-1t"+[G.dx,G.dy]:f;G&&(U=H=_(H).replace(/\.{3}|\u2026/g,this._.transform||f)),E._extractTransform(this,j+H);var W,K=this.matrix.clone(),m=this.skew,J=this.node,X=~_(this.attrs.fill).indexOf("-"),ie=!_(this.attrs.fill).indexOf("url(");if(K.translate(1,1),ie||X||this.type=="image")if(m.matrix="1 0 0 1",m.offset="0 0",W=K.split(),X&&W.noRotation||!W.isSimple){J.style.filter=K.toFilter();var le=this.getBBox(),fe=this.getBBox(1),Le=le.x-fe.x,pe=le.y-fe.y;J.coordorigin=Le*-C+n+pe*-C,F(this,1,1,Le,pe,0)}else J.style.filter=f,F(this,W.scalex,W.scaley,W.dx,W.dy,W.rotate);else J.style.filter=f,m.matrix=_(K),m.offset=K.offset();return U!==null&&(this._.transform=U,E._extractTransform(this,U)),this},V.rotate=function(H,U,G){if(this.removed)return this;if(H!=null){if((H=_(H).split(u)).length-1&&(U=I(H[1]),G=I(H[2])),H=I(H[0]),G==null&&(U=G),U==null||G==null){var j=this.getBBox(1);U=j.x+j.width/2,G=j.y+j.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",H,U,G]])),this}},V.translate=function(H,U){return this.removed?this:((H=_(H).split(u)).length-1&&(U=I(H[1])),H=I(H[0])||0,U=+U||0,this._.bbox&&(this._.bbox.x+=H,this._.bbox.y+=U),this.transform(this._.transform.concat([["t",H,U]])),this)},V.scale=function(H,U,G,j){if(this.removed)return this;if((H=_(H).split(u)).length-1&&(U=I(H[1]),G=I(H[2]),j=I(H[3]),isNaN(G)&&(G=null),isNaN(j)&&(j=null)),H=I(H[0]),U==null&&(U=H),j==null&&(G=j),G==null||j==null)var W=this.getBBox(1);return G=G==null?W.x+W.width/2:G,j=j==null?W.y+W.height/2:j,this.transform(this._.transform.concat([["s",H,U,G,j]])),this._.dirtyT=1,this},V.hide=function(){return!this.removed&&(this.node.style.display="none"),this},V.show=function(){return!this.removed&&(this.node.style.display=f),this},V.auxGetBBox=E.el.getBBox,V.getBBox=function(){var H=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var U={},G=1/this.paper._viewBoxShift.scale;return U.x=H.x-this.paper._viewBoxShift.dx,U.x*=G,U.y=H.y-this.paper._viewBoxShift.dy,U.y*=G,U.width=H.width*G,U.height=H.height*G,U.x2=U.x+U.width,U.y2=U.y+U.height,U}return H},V._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},V.remove=function(){if(!this.removed&&this.node.parentNode){for(var H in this.paper.__set__&&this.paper.__set__.exclude(this),E.eve.unbind("raphael.*.*."+this.id),E._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[H]=typeof this[H]=="function"?E._removedFactory(H):null;this.removed=!0}},V.attr=function(H,U){if(this.removed)return this;if(H==null){var G={};for(var j in this.attrs)this.attrs[c](j)&&(G[j]=this.attrs[j]);return G.gradient&&G.fill=="none"&&(G.fill=G.gradient)&&delete G.gradient,G.transform=this._.transform,G}if(U==null&&E.is(H,"string")){if(H=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var W=H.split(u),K={},m=0,J=W.length;m<J;m++)(H=W[m])in this.attrs?K[H]=this.attrs[H]:E.is(this.paper.customAttributes[H],"function")?K[H]=this.paper.customAttributes[H].def:K[H]=E._availableAttrs[H];return J-1?K:K[W[0]]}if(this.attrs&&U==null&&E.is(H,"array")){for(K={},m=0,J=H.length;m<J;m++)K[H[m]]=this.attr(H[m]);return K}var X;for(var ie in U!=null&&((X={})[H]=U),U==null&&E.is(H,"object")&&(X=H),X)i("raphael.attr."+ie+"."+this.id,this,X[ie]);if(X){for(ie in this.paper.customAttributes)if(this.paper.customAttributes[c](ie)&&X[c](ie)&&E.is(this.paper.customAttributes[ie],"function")){var le=this.paper.customAttributes[ie].apply(this,[].concat(X[ie]));for(var fe in this.attrs[ie]=X[ie],le)le[c](fe)&&(X[fe]=le[fe])}X.text&&this.type=="text"&&(this.textpath.string=X.text),Y(this,X)}return this},V.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&E._tofront(this,this.paper),this},V.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),E._toback(this,this.paper)),this)},V.insertAfter=function(H){return this.removed?this:(H.constructor==E.st.constructor&&(H=H[H.length-1]),H.node.nextSibling?H.node.parentNode.insertBefore(this.node,H.node.nextSibling):H.node.parentNode.appendChild(this.node),E._insertafter(this,H,this.paper),this)},V.insertBefore=function(H){return this.removed?this:(H.constructor==E.st.constructor&&(H=H[0]),H.node.parentNode.insertBefore(this.node,H.node),E._insertbefore(this,H,this.paper),this)},V.blur=function(H){var U=this.node.runtimeStyle,G=U.filter;return G=G.replace(S,f),+H!=0?(this.attrs.blur=H,U.filter=G+n+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+H||1.5)+")",U.margin=E.format("-{0}px 0 0 -{0}px",D(+H||1.5))):(U.filter=G,U.margin=0,delete this.attrs.blur),this},E._engine.path=function(H,U){var G=B("shape");G.style.cssText=y,G.coordsize=C+n+C,G.coordorigin=U.coordorigin;var j=new w(G,U),W={fill:"none",stroke:"#000"};H&&(W.path=H),j.type="path",j.path=[],j.Path=f,Y(j,W),U.canvas&&U.canvas.appendChild(G);var K=B("skew");return K.on=!0,G.appendChild(K),j.skew=K,j.transform(f),j},E._engine.rect=function(H,U,G,j,W,K){var m=E._rectPath(U,G,j,W,K),J=H.path(m),X=J.attrs;return J.X=X.x=U,J.Y=X.y=G,J.W=X.width=j,J.H=X.height=W,X.r=K,X.path=m,J.type="rect",J},E._engine.ellipse=function(H,U,G,j,W){var K=H.path();return K.attrs,K.X=U-j,K.Y=G-W,K.W=2*j,K.H=2*W,K.type="ellipse",Y(K,{cx:U,cy:G,rx:j,ry:W}),K},E._engine.circle=function(H,U,G,j){var W=H.path();return W.attrs,W.X=U-j,W.Y=G-j,W.W=W.H=2*j,W.type="circle",Y(W,{cx:U,cy:G,r:j}),W},E._engine.image=function(H,U,G,j,W,K){var m=E._rectPath(G,j,W,K),J=H.path(m).attr({stroke:"none"}),X=J.attrs,ie=J.node,le=ie.getElementsByTagName("fill")[0];return X.src=U,J.X=X.x=G,J.Y=X.y=j,J.W=X.width=W,J.H=X.height=K,X.path=m,J.type="image",le.parentNode==ie&&ie.removeChild(le),le.rotate=!0,le.src=U,le.type="tile",J._.fillpos=[G,j],J._.fillsize=[W,K],ie.appendChild(le),F(J,1,1,0,0,0),J},E._engine.text=function(H,U,G,j){var W=B("shape"),K=B("path"),m=B("textpath");U=U||0,G=G||0,j=j||"",K.v=E.format("m{0},{1}l{2},{1}",D(U*C),D(G*C),D(U*C)+1),K.textpathok=!0,m.string=_(j),m.on=!0,W.style.cssText=y,W.coordsize=C+n+C,W.coordorigin="0 0";var J=new w(W,H),X={fill:"#000",stroke:"none",font:E._availableAttrs.font,text:j};J.shape=W,J.path=K,J.textpath=m,J.type="text",J.attrs.text=_(j),J.attrs.x=U,J.attrs.y=G,J.attrs.w=1,J.attrs.h=1,Y(J,X),W.appendChild(m),W.appendChild(K),H.canvas.appendChild(W);var ie=B("skew");return ie.on=!0,W.appendChild(ie),J.skew=ie,J.transform(f),J},E._engine.setSize=function(H,U){var G=this.canvas.style;return this.width=H,this.height=U,H==+H&&(H+="px"),U==+U&&(U+="px"),G.width=H,G.height=U,G.clip="rect(0 "+H+" "+U+" 0)",this._viewBox&&E._engine.setViewBox.apply(this,this._viewBox),this},E._engine.setViewBox=function(H,U,G,j,W){E.eve("raphael.setViewBox",this,this._viewBox,[H,U,G,j,W]);var K,m,J=this.getSize(),X=J.width,ie=J.height;return W&&(G*(K=ie/j)<X&&(H-=(X-G*K)/2/K),j*(m=X/G)<ie&&(U-=(ie-j*m)/2/m)),this._viewBox=[H,U,G,j,!!W],this._viewBoxShift={dx:-H,dy:-U,scale:J},this.forEach(function(le){le.transform("...")}),this},E._engine.initWin=function(H){var U=H.document;U.styleSheets.length<31?U.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):U.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!U.namespaces.rvml&&U.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),B=function(G){return U.createElement("<rvml:"+G+' class="rvml">')}}catch(G){B=function(j){return U.createElement("<"+j+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},E._engine.initWin(E._g.win),E._engine.create=function(){var H=E._getContainer.apply(0,arguments),U=H.container,G=H.height,j=H.width,W=H.x,K=H.y;if(!U)throw new Error("VML container not found.");var m=new E._Paper,J=m.canvas=E._g.doc.createElement("div"),X=J.style;return W=W||0,K=K||0,j=j||512,G=G||342,m.width=j,m.height=G,j==+j&&(j+="px"),G==+G&&(G+="px"),m.coordsize=216e5+n+216e5,m.coordorigin="0 0",m.span=E._g.doc.createElement("span"),m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",J.appendChild(m.span),X.cssText=E.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",j,G),U==1?(E._g.doc.body.appendChild(J),X.left=W+"px",X.top=K+"px",X.position="absolute"):U.firstChild?U.insertBefore(J,U.firstChild):U.appendChild(J),m.renderfix=function(){},m},E.prototype.clear=function(){E.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=E._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},E.prototype.remove=function(){for(var H in E.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[H]=typeof this[H]=="function"?E._removedFactory(H):null;return!0};var R=E.st;for(var A in V)V[c](A)&&!R[c](A)&&(R[A]=function(H){return function(){var U=arguments;return this.forEach(function(G){G[H].apply(G,U)})}}(A))}}.apply(e,z))===void 0||(Ke.exports=r)}])})},83714:function(Pt,Ke,e){const b=e(56061),z=e(2041);var r={EXACT_NODE:"exact",CHARSET_NODE:"charset",CHOICE_NODE:"choice",GROUP_NODE:"group",ASSERT_NODE:"assert",DOT_NODE:"dot",BACKREF_NODE:"backref",EMPTY_NODE:"empty",AssertLookahead:"AssertLookahead",AssertNegativeLookahead:"AssertNegativeLookahead",AssertNonWordBoundary:"AssertNonWordBoundary",AssertWordBoundary:"AssertWordBoundary",AssertEnd:"AssertEnd",AssertBegin:"AssertBegin"};function E(){var U=Object.keys(r).map(function(j){return j+"="+JSON.stringify(r[j])}).join(";"),G=function(){return this||window}();G.eval(U)}E();function c(U){this.raw=U.raw,this.tree=U.tree,this.groupCount=U.groupCount}c.prototype.traverse=function(U,G){j(this.tree,U);function j(W,K){W.forEach(function(m){(!G||m.type===G)&&K(m),m.sub?j(m.sub,K):m.branches&&m.branches.forEach(function(J){j(J,K)})})}};var _;function I(U,G){_=G;var j=D(),W,K,m;W=j.input(U,0,G),K=W.stack,K=a.endChoice(K),m=W.lastState;var J=W.acceptable&&W.lastIndex===U.length-1;if(!J){var X;switch(m){case"charsetRangeEndWithNullChar":X={type:"CharsetRangeEndWithNullChar",message:`Charset range end with NUL char does not make sense!
Because [a-\\0] is not a valid range.
And [\\0-\\0] should be rewritten into [\\0].`};break;case"repeatErrorFinal":X={type:"NothingRepeat",message:"Nothing to repeat!"};break;case"digitFollowNullError":X={type:"DigitFollowNullError",message:"The '\\0' represents the <NUL> char and cannot be followed by a decimal digit!"};break;case"charsetRangeEndClass":X={type:"CharsetRangeEndClass",message:'Charset range ends with class such as "\\w\\W\\d\\D\\s\\S" is invalid!'};break;case"charsetOctEscape":X={type:"DecimalEscape",message:"Decimal escape appears in charset is invalid.Because it can't be explained as  backreference.And octal escape is deprecated!"};break;default:m.indexOf("charset")===0?X={type:"UnclosedCharset",message:"Unterminated character class!"}:U[W.lastIndex]===")"?X={type:"UnmatchedParen",message:"Unmatched end parenthesis!"}:(X={type:"UnexpectedChar",message:"Unexpected char!"},W.lastIndex++)}if(X)throw X.lastIndex=W.lastIndex,X.astStack=W.stack,X.lastState=m,new f(X)}if(K._parentGroup)throw new f({type:"UnterminatedGroup",message:"Unterminated group!",lastIndex:K._parentGroup.indices[0],lastState:m,astStack:K});if(J){var ie=K.groupCounter?K.groupCounter.i:0;delete K.groupCounter,u(K,U,U.length),K=o(K);var le=new c({raw:U,groupCount:ie,tree:K});return le.traverse(n,CHARSET_NODE),le.traverse(i,ASSERT_NODE),d(K),_=!1,le}}I.Constants=r,I.exportConstants=E,I.RegexSyntaxError=f,I.getNFAParser=D;var M;function D(){return M||(M=b(H,_)),M}function p(U,G,j){Object.defineProperty(U,G,{value:j,enumerable:_,writable:!0,configurable:!0})}function o(U){return U.filter(function(G){return G.type==EXACT_NODE&&G.concatTemp?(delete G.concatTemp,!!G.chars):(G.sub?G.sub=o(G.sub):G.branches&&(G.branches=G.branches.map(o)),!0)})}function d(U){var G=U[0];J(G);for(var j=1,W=1,K=U.length,m;j<K;j++){if(m=U[j],m.type===EXACT_NODE){if(G.type===EXACT_NODE&&!G.repeat&&!m.repeat){G.indices[1]=m.indices[1],G.raw+=m.raw,G.chars+=m.chars;continue}}else J(m);U[W++]=m,G=m}G&&(U.length=W);function J(X){X.sub?d(X.sub):X.branches&&X.branches.map(d)}}function u(U,G,j){if(!U.length){U.push({type:EMPTY_NODE,indices:[j,j]});return}U.reduce(function(W,K){return K.indices.push(W),K.raw=G.slice(K.indices[0],W),K.type===GROUP_NODE||K.type===ASSERT_NODE&&K.sub?u(K.sub,G,K.endParenIndex):K.type===CHOICE_NODE?(K.branches.reduce(function(m,J){u(J,G,m);var X=J[0];return(X?X.indices[0]:m)-1},W),K.branches.reverse()):K.type===EXACT_NODE&&(K.concatTemp||(K.chars=K.chars||K.raw)),K.indices[0]},j),U.reverse()}function i(U){if(U.repeat){var G=U.assertionType,j="Nothing to repeat! Repeat after assertion doesn't make sense!";if(G==="AssertLookahead"||G==="AssertNegativeLookahead"){var W=G==="AssertLookahead"?"?=":"?!",K="("+W+"b)";j+=`
/a`+K+"+/\u3001/a"+K+"{1,n}/ are the same as /a"+K+`/\u3002
/a`+K+"*/\u3001/a"+K+"{0,n}/\u3001/a"+K+"?/ are the same as /a/\u3002"}throw new f({type:"NothingRepeat",lastIndex:U.indices[1]-1,message:j})}}function n(U){U.ranges=z.sortUnique(U.ranges.map(function(G){if(G[0]>G[1])throw new f({type:"OutOfOrder",lastIndex:G.lastIndex,message:"Range ["+G.join("-")+"] out of order in character class!"});return G.join("")}))}function f(U){this.name="RegexSyntaxError",this.type=U.type,this.lastIndex=U.lastIndex,this.lastState=U.lastState,this.astStack=U.astStack,this.message=U.message,Object.defineProperty(this,"stack",{value:new Error(U.message).stack,enumerable:!1})}f.prototype.toString=function(){return this.name+" "+this.type+":"+this.message};var v={n:`
`,r:"\r",t:"	",v:"\v",f:"\f"},a=function(){function G(Ft,ei,Xt){var Ct=Ft[0];(!Ct||Ct.type!=EXACT_NODE||Ct.repeat||Ct.chars&&!Ct.concatTemp)&&Ft.unshift({type:EXACT_NODE,indices:[Xt]}),Ct&&Ct.concatTemp&&(Ct.chars+=ei)}function j(Ft,ei,Xt){Ft.unshift({type:DOT_NODE,indices:[Xt]})}function W(Ft,ei,Xt){Ft.unshift({type:EXACT_NODE,chars:"\0",indices:[Xt-1]})}function K(Ft,ei,Xt){Ft.unshift({type:ASSERT_NODE,indices:[Xt],assertionType:AssertBegin})}function m(Ft,ei,Xt,Ct,ft){Ft.unshift({type:ASSERT_NODE,indices:[Xt],assertionType:AssertEnd})}function J(Ft,ei,Xt){Ft.unshift({type:ASSERT_NODE,indices:[Xt-1],assertionType:ei=="b"?AssertWordBoundary:AssertNonWordBoundary})}function X(Ft,ei,Xt){var Ct=Ft[0];Ct.type!==EXACT_NODE&&Ft.unshift({type:EXACT_NODE,indices:[Xt]})}function ie(Ft,ei,Xt){var Ct=Ft[0];p(Ct,"_commaIndex",Xt)}function le(Ft,ei,Xt,Ct,ft){var Bt=Ft[0],kt=ft.lastIndexOf("{",Xt),Ge=parseInt(ft.slice(kt+1,Bt._commaIndex||Xt),10),St;if(!Bt._commaIndex)St=Ge;else{if(Bt._commaIndex+1==Xt?St=1/0:St=parseInt(ft.slice(Bt._commaIndex+1,Xt),10),St<Ge)throw new f({type:"OutOfOrder",lastState:Ct,lastIndex:Xt,astStack:Ft,message:"Numbers out of order in {} quantifier!"});delete Bt._commaIndex}Bt.indices[0]>=kt&&Ft.shift(),Te(Ft,Ge,St,kt,ft)}function fe(Ft,ei,Xt,Ct,ft){Te(Ft,0,1/0,Xt,ft)}function Le(Ft,ei,Xt,Ct,ft){Te(Ft,0,1,Xt,ft)}function pe(Ft,ei,Xt,Ct,ft){Te(Ft,1,1/0,Xt,ft)}function Te(Ft,ei,Xt,Ct,ft){var Bt=Ft[0],kt={min:ei,max:Xt,nonGreedy:!1},Ge=Ct-1;if(Bt.chars&&Bt.chars.length===1&&(Ge=Bt.indices[0]),Bt.type===EXACT_NODE){var St={type:EXACT_NODE,repeat:kt,chars:Bt.chars?Bt.chars:ft[Ge],indices:[Ge]};Bt.indices[0]===Ge&&Ft.shift(),Ft.unshift(St)}else Bt.repeat=kt;p(kt,"beginIndex",Ct-Ft[0].indices[0])}function De(Ft){Ft[0].repeat.nonGreedy=!0}function ae(Ft,ei,Xt){Ft.unshift({concatTemp:!0,type:EXACT_NODE,chars:"",indices:[Xt]})}function Ne(Ft,ei,Xt){v.hasOwnProperty(ei)&&(ei=v[ei]),Ft.unshift({type:EXACT_NODE,chars:ei,indices:[Xt-1]})}function We(Ft,ei,Xt){Ft.unshift({type:CHARSET_NODE,indices:[Xt-1],chars:"",ranges:[],classes:[ei],exclude:!1})}function ze(Ft,ei,Xt,Ct,ft){ei=String.fromCharCode(parseInt(ft[Xt-1]+ei,16)),Ft.shift(),Ft.unshift({type:EXACT_NODE,chars:ei,indices:[Xt-3]})}function Se(Ft,ei,Xt,Ct,ft){ei=String.fromCharCode(parseInt(ft.slice(Xt-3,Xt+1),16)),Ft.shift(),Ft.unshift({type:EXACT_NODE,chars:ei,indices:[Xt-5]})}function ne(Ft,ei,Xt){var Ct=Ft.groupCounter=Ft.groupCounter||{i:0};Ct.i++;var ft={type:GROUP_NODE,num:Ct.i,sub:[],indices:[Xt],_parentStack:Ft};return Ft=ft.sub,p(Ft,"_parentGroup",ft),Ft.groupCounter=Ct,Ft}function ce(Ft){var ei=Ft._parentGroup;ei.nonCapture=!0,ei.num=void 0,Ft.groupCounter.i--}function Oe(Ft,ei,Xt){var Ct=Ft._parentGroup;Ct.type=ASSERT_NODE,Ct.assertionType=ei=="="?AssertLookahead:AssertNegativeLookahead,Ct.num=void 0,Ft.groupCounter.i--}function Pe(Ft,ei,Xt,Ct,ft){Ft=ye(Ft);var Bt=Ft._parentGroup;if(!Bt)throw new f({type:"UnexpectedChar",lastIndex:Xt,lastState:Ct,astStack:Ft,message:"Unexpected end parenthesis!"});return delete Ft._parentGroup,delete Ft.groupCounter,Ft=Bt._parentStack,delete Bt._parentStack,Ft.unshift(Bt),Bt.endParenIndex=Xt,Ft}function Me(Ft,ei,Xt){var Ct=[],ft;if(Ft._parentChoice)ft=Ft._parentChoice,ft.branches.unshift(Ct),p(Ct,"_parentChoice",ft),p(Ct,"_parentGroup",ft),Ct.groupCounter=Ft.groupCounter,delete Ft._parentChoice,delete Ft.groupCounter;else{var Bt=Ft[Ft.length-1];ft={type:CHOICE_NODE,indices:[Bt?Bt.indices[0]:Xt-1],branches:[]},p(ft,"_parentStack",Ft),ft.branches.unshift(Ft.slice()),Ft.length=0,Ft.unshift(ft),Ct.groupCounter=Ft.groupCounter,p(Ct,"_parentChoice",ft),p(Ct,"_parentGroup",ft),ft.branches.unshift(Ct)}return Ct}function ye(Ft){if(Ft._parentChoice){var ei=Ft._parentChoice;delete Ft._parentChoice,delete Ft._parentGroup,delete Ft.groupCounter;var Xt=ei._parentStack;return delete ei._parentStack,Xt}return Ft}function _e(Ft,ei,Xt){Ft.unshift({type:CHARSET_NODE,indices:[Xt],classes:[],ranges:[],chars:""})}function se(Ft){Ft[0].exclude=!0}function ve(Ft,ei,Xt){Ft[0].chars+=ei}function xe(Ft,ei,Xt){v.hasOwnProperty(ei)&&(ei=v[ei]),Ft[0].chars+=ei}function je(Ft,ei,Xt){Ft[0].chars+="\0"}function Ae(Ft,ei){Ft[0].classes.push(ei)}function Qe(Ft,ei,Xt,Ct,ft){var Bt=Ft[0];ei=String.fromCharCode(parseInt(Bt.chars.slice(-1)+ei,16)),Bt.chars=Bt.chars.slice(0,-2),Bt.chars+=ei}function rt(Ft,ei,Xt,Ct,ft){var Bt=Ft[0];ei=String.fromCharCode(parseInt(Bt.chars.slice(-3)+ei,16)),Bt.chars=Bt.chars.slice(0,-4),Bt.chars+=ei}function Dt(Ft,ei,Xt,Ct,ft){var Bt=Ft[0],kt=Bt.chars.slice(-2);kt=[kt[0],ei],kt.lastIndex=Xt,Bt.ranges.push(kt),Bt.chars=Bt.chars.slice(0,-2)}function at(Ft,ei){v.hasOwnProperty(ei)&&(ei=v[ei]),Dt.apply(this,arguments)}function vt(Ft,ei,Xt){var Ct=Ft[0],ft=Ct.chars.slice(-3)+ei;Ct.chars=Ct.chars.slice(0,-3);var Bt=Ct.ranges.pop();ei=String.fromCharCode(parseInt(ft,16)),Bt=[Bt[0],ei],Bt.lastIndex=Xt,Ct.ranges.push(Bt)}function Mt(Ft,ei,Xt){var Ct=Ft[0],ft=Ct.chars.slice(-1)+ei;Ct.chars=Ct.chars.slice(0,-1);var Bt=Ct.ranges.pop();ei=String.fromCharCode(parseInt(ft,16)),Bt=[Bt[0],ei],Bt.lastIndex=Xt,Ct.ranges.push(Bt)}function ti(Ft,ei,Xt,Ct){var ft=Ft[0],Bt=parseInt(ei,10),kt=Ct==="escape",Ge=Ft.groupCounter,St=Ge&&Ge.i||0;if(kt?(ft={type:BACKREF_NODE,indices:[Xt-1]},Ft.unshift(ft)):Bt=parseInt(ft.num+""+Bt,10),Bt>St)throw new f({type:"InvalidBackReference",lastIndex:Xt,astStack:Ft,lastState:Ct,message:"Back reference number("+Bt+") greater than current groups count("+St+")."});if(Ci(Bt,Ft))throw new f({type:"InvalidBackReference",lastIndex:Xt,astStack:Ft,lastState:Ct,message:"Recursive back reference in group ("+Bt+") itself."});ft.num=Bt;function Ci(Oi,xi){return xi._parentGroup?xi._parentGroup.num==Oi?Oi:Ci(Oi,xi._parentGroup._parentStack):!1}}return{escapeStart:ae,exact:G,dot:j,nullChar:W,assertBegin:K,assertEnd:m,assertWordBoundary:J,repeatnStart:X,repeatnComma:ie,repeatNonGreedy:De,repeatnEnd:le,repeat1:pe,repeat01:Le,repeat0:fe,normalEscape:Ne,unicodeEscape:Se,hexEscape:ze,charClassEscape:We,groupStart:ne,groupNonCapture:ce,backref:ti,groupToAssertion:Oe,groupEnd:Pe,choice:Me,endChoice:ye,charsetStart:_e,charsetExclude:se,charsetContent:ve,charsetNullChar:je,charsetClassEscape:Ae,charsetHexEscape:Qe,charsetUnicodeEscape:rt,charsetRangeEnd:Dt,charsetNormalEscape:xe,charsetRangeEndNormalEscape:at,charsetRangeEndUnicodeEscape:vt,charsetRangeEndHexEscape:Mt}}(),S="0-9",g="0-9a-fA-F",y="^+*?^$.|(){[\\",C="dDwWsS",L="u",O="x",T="^"+C+L+O+"0-9",F=T+"bB1-9",B="repeatnStart,repeatn_1,repeatn_2,repeatnErrorStart,repeatnError_1,repeatnError_2",$="hexEscape1,hexEscape2",Y="unicodeEscape1,unicodeEscape2,unicodeEscape3,unicodeEscape4",P=$+","+Y,w="charsetUnicodeEscape1,charsetUnicodeEscape2,charsetUnicodeEscape3,charsetUnicodeEscape4,charsetHexEscape1,charsetHexEscape2",V="charsetRangeEndUnicodeEscape1,charsetRangeEndHexEscape1",R="charsetRangeEndUnicodeEscape2,charsetRangeEndUnicodeEscape3,charsetRangeEndUnicodeEscape4,charsetRangeEndHexEscape2",A=V+","+R,H={compact:!0,accepts:"start,begin,end,repeat0,repeat1,exact,repeatn,repeat01,repeatNonGreedy,choice,"+(B+",nullChar,digitBackref,"+Y+","+$),trans:[["start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact",y,a.exact],[P+">exact",y+g,a.exact],["nullChar>exact",y+S,a.exact],[B+",nullChar,digitBackref,"+Y+","+$+",start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact",".",a.dot],["start,groupStart,groupQualifiedStart,end,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+B+",nullChar,digitBackref,"+Y+","+$+">begin","^",a.assertBegin],[B+",nullChar,digitBackref,"+Y+","+$+",exact>repeatnStart","{",a.repeatnStart],["start,begin,end,groupQualifiedStart,groupStart,repeat0,repeat1,repeatn,repeat01,repeatNonGreedy,choice>repeatnErrorStart","{",a.exact],["repeatnStart>repeatn_1",S,a.exact],["repeatn_1>repeatn_1",S,a.exact],["repeatn_1>repeatn_2",",",a.repeatnComma],["repeatn_2>repeatn_2",S,a.exact],["repeatn_1,repeatn_2>repeatn","}",a.repeatnEnd],["repeatnStart,repeatnErrorStart>exact","}",a.exact],["repeatnStart,repeatnErrorStart>exact",y+"0-9}",a.exact],["repeatnErrorStart>repeatnError_1",S,a.exact],["repeatnError_1>repeatnError_1",S,a.exact],["repeatnError_1>repeatnError_2",",",a.exact],["repeatnError_2>repeatnError_2",S,a.exact],["repeatnError_2,repeatnError_1>repeatErrorFinal","}"],["repeatn_1,repeatnError_1>exact",y+S+",}",a.exact],["repeatn_2,repeatnError_2>exact",y+S+"}",a.exact],["exact,"+(B+",nullChar,digitBackref,"+Y+","+$)+">repeat0","*",a.repeat0],["exact,"+(B+",nullChar,digitBackref,"+Y+","+$)+">repeat1","+",a.repeat1],["exact,"+(B+",nullChar,digitBackref,"+Y+","+$)+">repeat01","?",a.repeat01],["choice>repeatErrorFinal","*+?"],["repeat0,repeat1,repeat01,repeatn>repeatNonGreedy","?",a.repeatNonGreedy],["repeat0,repeat1,repeat01,repeatn>repeatErrorFinal","+*"],["start,begin,end,groupStart,groupQualifiedStart,exact,repeatNonGreedy,repeat0,repeat1,repeat01,repeatn,choice,"+(B+",nullChar,digitBackref,"+Y+","+$)+">escape","\\",a.escapeStart],["escape>nullChar","0",a.nullChar],["nullChar>digitFollowNullError","0-9"],["escape>exact",F,a.normalEscape],["escape>exact","bB",a.assertWordBoundary],["escape>exact",C,a.charClassEscape],["escape>unicodeEscape1",L,a.exact],["unicodeEscape1>unicodeEscape2",g,a.exact],["unicodeEscape2>unicodeEscape3",g,a.exact],["unicodeEscape3>unicodeEscape4",g,a.exact],["unicodeEscape4>exact",g,a.unicodeEscape],["escape>hexEscape1",O,a.exact],["hexEscape1>hexEscape2",g,a.exact],["hexEscape2>exact",g,a.hexEscape],["escape>digitBackref","1-9",a.backref],["digitBackref>digitBackref",S,a.backref],["digitBackref>exact",y+S,a.exact],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,start,groupStart,groupQualifiedStart,choice,"+(B+",nullChar,digitBackref,"+Y+","+$)+">groupStart","(",a.groupStart],["groupStart>groupQualify","?"],["groupQualify>groupQualifiedStart",":",a.groupNonCapture],["groupQualify>groupQualifiedStart","=",a.groupToAssertion],["groupQualify>groupQualifiedStart","!",a.groupToAssertion],[B+",nullChar,digitBackref,"+Y+","+$+",groupStart,groupQualifiedStart,begin,end,exact,repeat1,repeat0,repeat01,repeatn,repeatNonGreedy,choice>exact",")",a.groupEnd],["start,begin,end,groupStart,groupQualifiedStart,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+(B+",nullChar,digitBackref,"+Y+","+$)+">choice","|",a.choice],["start,groupStart,groupQualifiedStart,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+(B+",nullChar,digitBackref,"+Y+","+$)+">end","$",a.assertEnd],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,groupQualifiedStart,groupStart,start,choice,"+(B+",nullChar,digitBackref,"+Y+","+$)+">charsetStart","[",a.charsetStart],["charsetStart>charsetExclude","^",a.charsetExclude],["charsetStart>charsetContent","^\\]^",a.charsetContent],["charsetExclude>charsetContent","^\\]",a.charsetContent],["charsetContent,charsetClass>charsetContent","^\\]-",a.charsetContent],["charsetClass>charsetContent","-",a.charsetContent],[w+",charsetStart,charsetContent,charsetNullChar,charsetClass,charsetExclude,charsetRangeEnd>charsetEscape","\\"],["charsetEscape>charsetContent",T,a.charsetNormalEscape],["charsetEscape>charsetNullChar","0",a.charsetNullChar],["charsetEscape>charsetOctEscape","1-9"],["charsetRangeEndEscape>charsetOctEscape","1-9"],["charsetNullChar>digitFollowNullError",S],["charsetNullChar>charsetContent","^0-9\\]-",a.charsetContent],["charsetEscape>charsetClass",C,a.charsetClassEscape],["charsetEscape>charsetUnicodeEscape1",L,a.charsetContent],["charsetUnicodeEscape1>charsetUnicodeEscape2",g,a.charsetContent],["charsetUnicodeEscape2>charsetUnicodeEscape3",g,a.charsetContent],["charsetUnicodeEscape3>charsetUnicodeEscape4",g,a.charsetContent],["charsetUnicodeEscape4>charsetContent",g,a.charsetUnicodeEscape],["charsetEscape>charsetHexEscape1",O,a.charsetContent],["charsetHexEscape1>charsetHexEscape2",g,a.charsetContent],["charsetHexEscape2>charsetContent",g,a.charsetHexEscape],[w+">charsetContent","^\\]"+g+"-",a.charsetContent],[w+",charsetNullChar,charsetContent>charsetRangeStart","-",a.charsetContent],["charsetRangeStart>charsetRangeEnd","^\\]",a.charsetRangeEnd],["charsetRangeEnd>charsetContent","^\\]",a.charsetContent],["charsetRangeStart>charsetRangeEndEscape","\\"],["charsetRangeEndEscape>charsetRangeEnd",F,a.charsetRangeEndNormalEscape],["charsetRangeEndEscape>charsetRangeEndWithNullChar","0"],["charsetRangeEndEscape>charsetRangeEndUnicodeEscape1",L,a.charsetRangeEnd],["charsetRangeEndUnicodeEscape1>charsetRangeEndUnicodeEscape2",g,a.charsetContent],["charsetRangeEndUnicodeEscape2>charsetRangeEndUnicodeEscape3",g,a.charsetContent],["charsetRangeEndUnicodeEscape3>charsetRangeEndUnicodeEscape4",g,a.charsetContent],["charsetRangeEndUnicodeEscape4>charsetRangeEnd",g,a.charsetRangeEndUnicodeEscape],["charsetRangeEndEscape>charsetRangeEndHexEscape1",O,a.charsetRangeEnd],["charsetRangeEndHexEscape1>charsetRangeEndHexEscape2",g,a.charsetContent],["charsetRangeEndHexEscape2>charsetRangeEnd",g,a.charsetRangeEndHexEscape],["charsetRangeEndEscape>charsetRangeEndClass",C],[V+">charsetContent","^\\]"+g,a.charsetContent],[R+">charsetRangeStart","-",a.charsetContent],[w+","+A+",charsetNullChar,charsetRangeStart,charsetContent,charsetClass,charsetExclude,charsetRangeEnd>exact","]"]]};Pt.exports=I},90101:function(Pt,Ke,e){const b=e(2041);e(83714).exportConstants();var r=16,E=14,c=16,_="#EEE",I="DejaVu Sans Mono,monospace",M=!1,D=10,p={},o;function d(P,w){if(w=w||"normal",p[P]&&p[P][w])return p[P][w];o.attr({"font-size":P,"font-weight":w});var V=o.getBBox();return p[P]=p[P]||{},p[P][w]={width:V.width/((o.attr("text").length-1)/2),height:V.height/2}}function u(P){o=P.text(-1e3,-1e3,`XgfTlM|.q
XgfTlM|.q`).attr({"font-family":I,"font-size":r})}function i(P,w,V){V.clear(),V.setSize(0,0);var R=V.rect(0,0,0,0);R.attr("fill",_),R.attr("stroke",_),u(V),M=!!~w.indexOf("m");var A=F(P.tree);A.unshift($("/",T.delimiter)),A.unshift($("RegExp: ")),A.push($("/",T.delimiter)),w&&A.push($(w,T.flags));var H=d(r,"bold"),U=D,G=H.height/2+D,j=0,W=0;j=A.reduce(function(m,J){J.x=m,J.y=G;var X=J.text.length*H.width;return m+X},U),j+=D,W=H.height+D*2,A=V.add(A),V.setSize(j,H.height+D*2);var K=n(P.tree,0,0);W=Math.max(K.height+3*D+H.height,W),j=Math.max(K.width+2*D,j),V.setSize(j,W),R.attr("width",j),R.attr("height",W),f(K.items,D,D*2+H.height-K.y),V.add(K.items)}function n(P,w,V){return P.unshift({type:"startPoint"}),P.push({type:"endPoint"}),v(P,w,V)}function f(P,w,V){P.forEach(function(R){R._translate?R._translate(w,V):(R.x+=w,R.y+=V)})}function v(P,w,V){var R=[],A=[],H=0,U=0,G=w,j=V,W=V;if(!P.length)return L.empty(null,w,V);P.forEach(function(J){var X;J.repeat?X=L.repeat(J,G,V):X=L[J.type](J,G,V),R.push(X),G+=X.width+c,H+=X.width,j=Math.min(j,X.y),W=Math.max(W,X.y+X.height),A=A.concat(X.items)}),U=W-j,R.reduce(function(J,X){H+=c;var ie=g(J.lineOutX,V,X.lineInX);return A.push(ie),X});var K=R[0].lineInX,m=R[R.length-1].lineOutX;return{items:A,width:H,height:U,x:w,y:j,lineInX:K,lineOutX:m}}function a(P,w,V,R,A){P=b.toPrint(P);var H=6,U=d(r),G=P.length*U.width,j=U.height+H*2,W=G+H*2,K={type:"rect",x:w,y:V-j/2,width:W,height:j,stroke:"none",fill:R||"transparent"},m={type:"text",x:w+W/2,y:V,text:P,"font-size":r,"font-family":I,fill:A||"black"};return{text:m,rect:K,items:[K,m],width:W,height:j,x:w,y:K.y,lineInX:w,lineOutX:w+W}}function S(P,w,V,R){var A=d(E),H=V.split(`
`),U=H.length*A.height,G;H.length>1?G=Math.max.apply(Math,H.map(function(K){return K.length})):G=V.length,G=G*A.width;var j=4,W={type:"text",x:P,y:w-U/2-j,text:V,"font-size":E,"font-family":I,fill:R||"#444"};return{label:W,x:P-G/2,y:w-U-j,width:G,height:U+j}}function g(P,w,V){return{type:"path",x:P,y:w,path:["M",P,w,"H",V],"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:function(R,A){var H=this.path;H[1]+=R,H[2]+=A,H[4]+=R}}}function y(P,w,V,R){var A=10,H,U,G=P>V?-1:1,j=w>R?-1:1;return Math.abs(w-R)<A*1.5?(H=["M",P,w,"C",P+Math.min(Math.abs(V-P)/2,A)*G,w,V-(V-P)/2,R,V,R],U=function(W,K){var m=this.path;m[1]+=W,m[2]+=K,m[4]+=W,m[5]+=K,m[6]+=W,m[7]+=K,m[8]+=W,m[9]+=K}):(H=["M",P,w,"Q",P+A*G,w,P+A*G,w+A*j,"V",Math.abs(w-R)<A*2?w+A*j:R-A*j,"Q",P+A*G,R,P+A*G*2,R,"H",V],U=function(W,K){var m=this.path;m[1]+=W,m[2]+=K,m[4]+=W,m[5]+=K,m[6]+=W,m[7]+=K,m[9]+=K,m[11]+=W,m[12]+=K,m[13]+=W,m[14]+=K,m[16]+=W}),{type:"path",path:H,"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:U}}function C(P,w,V){var R=10;return{items:[{type:"circle",fill:V,cx:P+R,cy:w,r:R,stroke:"none",_translate:function(A,H){this.cx+=A,this.cy+=H}}],width:R*2,height:R*2,x:P,y:w,lineInX:P,lineOutX:P+R*2}}var L={startPoint:function(P,w,V){return C(w,V,"r(0.5,0.5)#EFE-green")},endPoint:function(P,w,V){return C(w,V,"r(0.5,0.5)#FFF-#000")},empty:function(P,w,V){var R=10,A=g(w,V,w+R);return{items:[A],width:R,height:2,x:w,y:V,lineInX:w,lineOutX:w+R}},exact:function(P,w,V){var R="skyblue";return a(P.chars,w,V,R)},dot:function(P,w,V){var R="DarkGreen",A="white",H=a("AnyCharExceptNewLine",w,V,R,A);return H.rect.r=10,H.rect.tip="AnyChar except CR LF",H},backref:function(P,w,V){var R="navy",A="white",H=a("Backref #"+P.num,w,V,R,A);return H.rect.r=8,H},repeat:function(P,w,V){if(O(P))return L.empty(null,w,V);var R=10,A=4,H=P.repeat,U="",G=[],j="darkgreen";if(H.min===H.max&&H.min===0)return L.empty(null,w,V);var W=L[P.type](P,w,V),K=W.width,m=W.height;if(H.min===H.max&&H.min===1)return W;H.min===H.max?U+=We(H.min):(U+=H.min,isFinite(H.max)?U+=(H.max-H.min>1?" to ":" or ")+We(H.max):U+=" or more times");var J=R,X=0,ie=R,le=W.y+W.height-V,fe=R*2+W.width;K=fe;var Le;H.max!==1?(le+=R,m+=R,Le={type:"path",path:["M",W.x+R,V,"Q",w,V,w,V+ie,"V",V+le-ie,"Q",w,V+le,w+ie,V+le,"H",w+fe-ie,"Q",w+fe,V+le,w+fe,V+le-ie,"V",V+ie,"Q",w+fe,V,W.x+W.width+R,V],_translate:ze,stroke:"maroon","stroke-width":2},H.nonGreedy&&(Le.stroke="Brown",Le["stroke-dasharray"]="-"),G.push(Le)):U=!1;var pe;if(H.min===0){var Te=V-W.y+R,De=fe+R*2;J+=R,X=-R-2,K=De,m+=R,pe={type:"path",path:["M",w,V,"Q",w+ie,V,w+ie,V-ie,"V",V-Te+ie,"Q",w+ie,V-Te,w+ie*2,V-Te,"H",w+De-ie*2,"Q",w+De-ie,V-Te,w+De-ie,V-Te+ie,"V",V-ie,"Q",w+De-ie,V,w+De,V],_translate:ze,stroke:H.nonGreedy?j:"#333","stroke-width":2},Le&&f([Le],R,0),G.push(pe)}if(U){var ae=S(w+K/2,V,U);f([ae.label],0,le+ae.height+A),G.push(ae.label),m+=A+ae.height;var Ne=(Math.max(ae.width,K)-K)/2;Ne&&f(G,Ne,0),K=Math.max(ae.width,K),J+=Ne}return f(W.items,J,0),G=G.concat(W.items),{items:G,width:K,height:m,x:w,y:W.y+X,lineInX:W.lineInX+J,lineOutX:W.lineOutX+J};function We(Se){return Se+(Se<2?" time":" times")}function ze(Se,ne){var ce=this.path;ce[1]+=Se,ce[2]+=ne,ce[4]+=Se,ce[5]+=ne,ce[6]+=Se,ce[7]+=ne,ce[9]+=ne,ce[11]+=Se,ce[12]+=ne,ce[13]+=Se,ce[14]+=ne,ce[16]+=Se,ce[18]+=Se,ce[19]+=ne,ce[20]+=Se,ce[21]+=ne,ce[23]+=ne,ce[25]+=Se,ce[26]+=ne,ce[27]+=Se,ce[28]+=ne}},choice:function(P,w,V){if(O(P))return L.empty(null,w,V);var R=20,A=6,H=4,U=0,G=0,j=P.branches.map(function(X){var ie=v(X,w,V);return U+=ie.height,G=Math.max(G,ie.width),ie});U+=(j.length-1)*A+H*2,G+=R*2;var W=w+G/2,K=V-U/2+H,m=w+G,J=[];return j.forEach(function(X){var ie=W-X.width/2;f(X.items,ie-X.x,K-X.y),J=J.concat(X.items);var le=V+K-X.y,fe=y(w,V,w+R,le),Le=y(m,V,w+G-R,le);J.push(fe,Le),w+R!==ie-X.x+X.lineInX&&J.push(g(w+R,le,ie-X.x+X.lineInX)),X.lineOutX+ie-X.x!==w+G-R&&J.push(g(X.lineOutX+ie-X.x,le,w+G-R)),X.x=ie,X.y=K,K+=X.height+A}),{items:J,width:G,height:U,x:w,y:V-U/2,lineInX:w,lineOutX:m}},charset:function(P,w,V){var R=6,A=4,H={d:"Digit",D:"NonDigit",w:"Word",W:"NonWord",s:"WhiteSpace",S:"NonWhiteSpace"},U="LightSkyBlue",G="black",j="Green",W="white",K="teal",m="white",J=P.exclude?"Pink":"Khaki",X=P.exclude?"#C00":"",ie=Y(P);if(ie){var le=a(H[P.classes[0]],w,V,j,W);if(le.rect.r=5,P.exclude){var Oe=S(le.x+le.width/2,le.y,"None of:",X),ce=le.items;ce.push(Oe.label);var Pe=le.width,pe=Math.max(Oe.width,le.width),Me=(pe-Pe)/2;return f(ce,Me,0),{items:ce,width:pe,height:le.height+Oe.height,x:Math.min(Oe.x,le.x),y:Oe.y,lineInX:Me+le.x,lineOutX:Me+le.x+le.width}}else return le}if(!P.chars&&!P.ranges.length&&!P.classes.length){var le=a("AnyChar",w,V,"green","white");return le.rect.r=5,le}var fe=[],Le,pe=0,Te=0,De;P.chars&&(Le=a(P.chars,w,V,U,G),Le.rect.r=5,fe.push(Le),pe=Le.width),P.ranges.forEach(function(ye){ye=ye.split("").join("-");var _e=a(ye,w,V,K,m);_e.rect.r=5,fe.push(_e),pe=Math.max(_e.width,pe)}),P.classes.forEach(function(ye){var _e=a(H[ye],w,V,j,W);_e.rect.r=5,fe.push(_e),pe=Math.max(_e.width,pe)}),De=fe[0].height;var ae=[],Ne=[];fe.sort(function(ye,_e){return _e.width-ye.width}),fe.forEach(function(ye){ye.width*2+A>pe?ae.push(ye):Ne.push(ye)}),fe=ae;for(var We,ze;Ne.length;){if(We=Ne.pop(),ze=Ne.pop(),!ze){fe.push(We);break}if(We.width-ze.width>2){fe.push(We),Ne.push(ze);continue}f(ze.items,We.width+A,0),fe.push({items:We.items.concat(ze.items),width:We.width+ze.width+A,height:We.height,x:We.x,y:We.y}),Te-=We.height}pe+=R*2,Te=(fe.length-1)*A+fe.length*De+R*2;var Se={type:"rect",x:w,y:V-Te/2,r:4,width:pe,height:Te,stroke:"none",fill:J},ne=Se.y+R,ce=[Se];fe.forEach(function(ye){f(ye.items,w-ye.x+(pe-ye.width)/2,ne-ye.y),ce=ce.concat(ye.items),ne+=ye.height+A});var Oe=S(Se.x+Se.width/2,Se.y,(P.exclude?"None":"One")+" of:",X);ce.push(Oe.label);var Pe=pe;pe=Math.max(Oe.width,pe);var Me=(pe-Pe)/2;return f(ce,Me,0),{items:ce,width:pe,height:Te+Oe.height,x:Math.min(Oe.x,w),y:Oe.y,lineInX:Me+w,lineOutX:Me+w+Se.width}},group:function(P,w,V){if(O(P))return L.empty(null,w,V);var R=10,A="silver",H=2,U=v(P.sub,w,V);if(P.num){f(U.items,R,0);var G=U.width+R*2,j=U.height+R*2,W={type:"rect",x:w,y:U.y-R,r:6,width:G,height:j,"stroke-dasharray":".",stroke:A,"stroke-width":H},K=S(W.x+W.width/2,W.y-H,"Group #"+P.num),m=U.items.concat([W,K.label]),J=Math.max(K.width,G),X=(J-G)/2;return X&&f(m,X,0),{items:m,width:J,height:j+K.height+4,x:w,y:K.y,lineInX:X+U.lineInX+R,lineOutX:X+U.lineOutX+R}}return U},assert:function(P,w,V){var R={AssertNonWordBoundary:{bg:"maroon",fg:"white"},AssertWordBoundary:{bg:"purple",fg:"white"},AssertEnd:{bg:"Indigo",fg:"white"},AssertBegin:{bg:"Indigo",fg:"white"}},A,H=P.assertionType,U=H.replace("Assert","")+"!";if(A=R[H])return M&&(H==="AssertBegin"||H==="AssertEnd")&&(U="Line"+U),a(U,w,V,A.bg,A.fg);var G,j,W=8;H===AssertLookahead?(G="CornflowerBlue",j="darkgreen",U="Followed by:"):H===AssertNegativeLookahead&&(G="#F63",j="Purple",U="Not followed by:");var K=L.group(P,w,V),m=K.height+W*2,J=K.width+W*2,X={type:"rect",x:w,y:K.y-W,r:6,width:J,height:m,"stroke-dasharray":"-",stroke:G,"stroke-width":2},ie=S(X.x+J/2,X.y,U,j),le=Math.max(J,ie.width),fe=(le-J)/2;f(K.items,fe+W,0),fe&&f([X,ie.label],fe,0);var Le=K.items.concat([X,ie.label]);return{items:Le,width:le,height:X.height+ie.height,x:w,y:ie.y,lineInX:fe+K.lineInX+W,lineOutX:fe+K.lineOutX+W}}};function O(P){if(Array.isArray(P)){for(var w=P,V=0;V<w.length;V++)if(!O(w[V]))return!1;return!0}var R=P;if(R.type===EMPTY_NODE)return!0;if(R.type===GROUP_NODE&&R.num===void 0)return O(R.sub);if(R.type===CHOICE_NODE)return O(R.branches)}var T={delimiter:"Indigo",flags:"darkgreen",exact:"#334",dot:"darkblue",backref:"teal",$:"purple","^":"purple","\\b":"#F30","\\B":"#F30","(":"blue",")":"blue","?=":"darkgreen","?!":"red","?:":"grey","[":"navy","]":"navy","|":"blue","{":"maroon",",":"maroon","}":"maroon","*":"maroon","+":"maroon","?":"maroon",repeatNonGreedy:"#F61",defaults:"black",charsetRange:"olive",charsetClass:"navy",charsetExclude:"red",charsetChars:"#534"};function F(P){var w=[];return P.forEach(function(V){if(V.sub)w.push($("(")),V.type===ASSERT_NODE?V.assertionType===AssertLookahead?w.push($("?=")):w.push($("?!")):V.nonCapture&&w.push($("?:")),w=w.concat(F(V.sub)),w.push($(")"));else if(V.branches)V.branches.map(F).forEach(function(j){w=w.concat(j),w.push($("|"))}),w.pop();else{var R=T[V.type]||T.defaults;switch(V.type){case CHARSET_NODE:var A=Y(V);(!A||V.exclude)&&w.push($("[")),V.exclude&&w.push($("^",T.charsetExclude)),V.ranges.forEach(function(j){w.push($(B(j[0]+"-"+j[1]),T.charsetRange))}),V.classes.forEach(function(j){w.push($("\\"+j,T.charsetClass))}),w.push($(B(V.chars),T.charsetChars)),(!A||V.exclude)&&w.push($("]"));break;default:var H=V.raw||"";V.repeat&&(H=H.slice(0,V.repeat.beginIndex)),H=b.toPrint(H,!0),w.push($(H,R))}}if(V.repeat){var U=V.repeat.min,G=V.repeat.max;U===0&&G===1/0?w.push($("*")):U===1&&G===1/0?w.push($("+")):U===0&&G===1?w.push($("?")):(w.push($("{")),w.push($(U)),U===G||(w.push($(",")),isFinite(G)&&w.push($(G))),w.push($("}"))),V.repeat.nonGreedy&&w.push($("?",T.repeatNonGreedy))}}),w}function B(P){return P=b.toPrint(P),P.replace(/\[/g,"\\[").replace(/\]/g,"\\]")}function $(P,w){return w=w||T[P]||T.defaults,{type:"text","font-size":r,"font-family":I,text:P+"",fill:w,"text-anchor":"start","font-weight":"bold"}}function Y(P){return!P.chars&&!P.ranges.length&&P.classes.length===1}Pt.exports=i},84506:function(Pt,Ke,e){"use strict";e.d(Ke,{Z:function(){return c}});var b=e(83878),z=e(59199),r=e(40181),E=e(25267);function c(_){return(0,b.Z)(_)||(0,z.Z)(_)||(0,r.Z)(_)||(0,E.Z)()}}}]);
}());